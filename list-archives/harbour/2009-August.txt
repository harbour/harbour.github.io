From harbour.01 at syenar.hu  Sat Aug  1 06:37:55 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug  1 06:38:05 2009
Subject: [Harbour] Error con PellesC
In-Reply-To: <4A7382F6.7030404@gmail.com>
References: <E1MWqB4-0005tn-1S@dn4whf1.ch3.sourceforge.com>
	<4A7382F6.7030404@gmail.com>
Message-ID: <444F439A-2FD6-4DA9-86CA-EC9603F172CC@syenar.hu>

Pelles C 6 final is not yet released and has bugs, use 5, which
is the latest stable release.

It's also useful to report this bug on Pelles C forums to help
the author fixing it.

Brgds,
Viktor

On 2009.08.01., at 1:49, Manu wrote:

> pocc.exe -I. -Ze -Go -MT -W1 -Ot -I../../../../../include    - 
> DHB_DYNLIB -c ../../../sha2.c -Fosha2.obj
> ../../../sha2.c(444): fatal error: Internal error:  
> find_cheapest_spill_range().
> mingw32-make[3]: Leaving directory `c:/HBR/source/rtl/obj/win/pocc'
> mingw32-make[2]: Leaving directory `c:/HBR/source/rtl'
> mingw32-make[1]: Leaving directory `c:/HBR/source'
> Harbour GNU Make returned: 2
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sat Aug  1 06:41:05 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug  1 06:41:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11950] trunk/harbour
Message-ID: <E1MXC1R-0004C4-7H@bj8yhf1.ch3.sourceforge.com>

Revision: 11950
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11950&view=rev
Author:   vszakats
Date:     2009-08-01 10:41:04 +0000 (Sat, 01 Aug 2009)

Log Message:
-----------
2009-08-01 12:40 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/header.cf
  * config/rules.cf
  * config/none.cf
  * config/global.cf
  * config/doc.cf
  * config/lib.cf
  * config/bin.cf
  * config/dir.cf
  * config/test.cf
    + Added HB_COMPILER and HB_ARCHITECTURE autodetection.
      It's experimental yet.
    + Added support for HB_BUILD_SUBDIR envvar which can
      extend the <arch>/<comp> path by arbitrary subdir(s).
      Useful to keep custom binary builds in parallel, f.e.
      release/debug, cpp/c, cpu targets. Notice that hbmk2
      will not be able to use such customized directory
      structure yet, but there'll probably be a cmdline option
      for that in the future (it won't/can't be automatic).
      Notice, this feature doesn't work yet on OS/2 because
      the shell doesn't support 'mkdir -p' equivalent.
    * Cleaned internal ARCH_COMP var usage.
    % Deleted SOURCE_DIR usage, it was a no-op.

  * make_gnu.bat
    ! Fixed autodetection of mingwarm.
    ; Autodetection code will have to be deleted from here anyway.

  + config/os2-mkdir.exe
    + Added OS/2 GNU mkdir executable. (not yet used)

  * examples/superlib/superlib.dif
    + Added 'const'.

  * source/rtl/hbinet.c
    ! Fixed to use hb_retc() to return hb_socketErrorStr() value.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bin.cf
    trunk/harbour/config/dir.cf
    trunk/harbour/config/doc.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/header.cf
    trunk/harbour/config/lib.cf
    trunk/harbour/config/none.cf
    trunk/harbour/config/rules.cf
    trunk/harbour/config/test.cf
    trunk/harbour/examples/superlib/superlib.dif
    trunk/harbour/make_gnu.bat
    trunk/harbour/source/rtl/hbinet.c

Added Paths:
-----------
    trunk/harbour/config/os2-mkdir.exe


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From xmessoft at gmail.com  Sat Aug  1 07:10:52 2009
From: xmessoft at gmail.com (Manu)
Date: Sat Aug  1 07:10:48 2009
Subject: [Harbour] Error con PellesC
In-Reply-To: <444F439A-2FD6-4DA9-86CA-EC9603F172CC@syenar.hu>
References: <E1MWqB4-0005tn-1S@dn4whf1.ch3.sourceforge.com>	<4A7382F6.7030404@gmail.com>
	<444F439A-2FD6-4DA9-86CA-EC9603F172CC@syenar.hu>
Message-ID: <4A7422BC.3070401@gmail.com>

Gracias por tu respuesta.

Probar? lo antes posible.

Viktor Szak?ts escribi?:
> Pelles C 6 final is not yet released and has bugs, use 5, which
> is the latest stable release.
>
> It's also useful to report this bug on Pelles C forums to help
> the author fixing it.
>
> Brgds,
> Viktor
>
> On 2009.08.01., at 1:49, Manu wrote:
>
>> pocc.exe -I. -Ze -Go -MT -W1 -Ot -I../../../../../include    
>> -DHB_DYNLIB -c ../../../sha2.c -Fosha2.obj
>> ../../../sha2.c(444): fatal error: Internal error: 
>> find_cheapest_spill_range().
>> mingw32-make[3]: Leaving directory `c:/HBR/source/rtl/obj/win/pocc'
>> mingw32-make[2]: Leaving directory `c:/HBR/source/rtl'
>> mingw32-make[1]: Leaving directory `c:/HBR/source'
>> Harbour GNU Make returned: 2
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>

From vszakats at users.sourceforge.net  Sat Aug  1 08:47:56 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug  1 08:48:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11951] trunk/harbour
Message-ID: <E1MXE0C-0004wj-LW@74yxhf1.ch3.sourceforge.com>

Revision: 11951
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11951&view=rev
Author:   vszakats
Date:     2009-08-01 12:47:55 +0000 (Sat, 01 Aug 2009)

Log Message:
-----------
2009-08-01 14:43 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
    + Minor improvements.
    ; NOTE:
      I was experimenting how to return HB_COMPILER
      and HB_ARCHITECTURE values from GNU Make to caller batch/script.
      So far no success.
      Help/ideas would be much appreciated. This would be needed
      to fully switch to GNU Make level arch/comp detection, since
      these values are also needed by make_gnu*.*, mpkg_gnu.* scripts.

  * source/rtl/hbinet.c
    * Renamed iErrorCode to iError.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf
    trunk/harbour/source/rtl/hbinet.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From kadziola at tlen.pl  Sat Aug  1 09:03:22 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Sat Aug  1 09:03:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11892] trunk/harbour
In-Reply-To: <20090731112244.GA12010@uran.home.aster.pl>
References: <9257026e0907281037x3a11b137p7da2e38a526f45b1@mail.gmail.com>
	<20090728175112.GA1137@uran.home.aster.pl>
	<9257026e0907281057n4837d63ap572a25c1a10cf844@mail.gmail.com>
	<20090728200931.GA32511@uran.home.aster.pl>
	<4A700F48.6010308@fsgiudice.com>
	<20090729152138.GA7902@uran.home.aster.pl>
	<20090729153913.GA6908@uran.home.aster.pl>
	<402231064.20090731122052@tlen.pl>
	<20090731103529.GA27859@uran.home.aster.pl>
	<1453057570.20090731125000@tlen.pl>
	<20090731112244.GA12010@uran.home.aster.pl>
Message-ID: <1851416286.20090801150322@tlen.pl>

Witam!

W li?cie datowanym 31 lipca 2009 (13:22:44) napisano:

> [pi?tek, 31 lipiec 2009], Jaroslaw Kadziola napisa?(a):

> Witam,

>> >> > BTW I'm interesting in Windows results for above code so if possible
>> >> > please I would like to ask desktop windows and WinCE/WinMobile users
>> >> > to send here "total client time" for above test code executed in both
>> >> > modes.
>> >> After compiling with Msys+mingw and running on Mio P550 with WinMobile
>> >> 5.0 i get :
>> >> Error Base/3012 Argument error : HB_THREADJOIN
>> >> line 17: hb_threadJoin( hb_threadStart( @cli(), !empty( xPar ) ) )
>> > You have to link this code with hbvmmt library instead of hbvm.
>> > If you are using hbmk or hbmk2 please use -mt switch to force
>> > MT mode.
>> It was with -mt switch.
>> $ hbmk2 tstrcv -mt -b
>> hbmk: Processing configuration: G:\msys\1.0\hb-mingw\bin\hbmk.cfg                
>> Harbour 2.0.0beta2 (Rev. 11919)
>> Copyright (c) 1999-2009, http://www.harbour-project.org/
>> Compiling 'tstrcv.prg'...
>> Lines 109, Functions/Procedures 4
>> Generating C source output to 'tstrcv.c'... Done.

> Ups. MT support is still disabled for WinCE. Sorry.
> Please rebuild Harbour after:
>    2009-07-31 13:21 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>      * harbour/include/hbthread.h
>        ! unblocked MT compilation for WinCE

> and then compiler tstrcv again.

> best regards,
> Przemek


Unfortunately  after  [Harbour]  SF.net  SVN:  harbour-project:[11949]
the same error :

$ hbmk2 tstrcv -mt -b
hbmk: Processing configuration: G:\msys\1.0\hb-mingw\bin\hbmk.cfg                
Harbour 2.0.0beta2 (Rev. 11949)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'tstrcv.prg'...
Lines 108, Functions/Procedures 4
Generating C source output to 'tstrcv.c'... Done.

Error Base/3012 Argument error : HB_THREADJOIN

-- 
Pozdrowienia,
Jaros?aw K?dzio?a


From vszakats at users.sourceforge.net  Sat Aug  1 09:49:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug  1 09:49:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11952] trunk/harbour
Message-ID: <E1MXExd-0005dY-U7@d5vjzd1.ch3.sourceforge.com>

Revision: 11952
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11952&view=rev
Author:   vszakats
Date:     2009-08-01 13:49:20 +0000 (Sat, 01 Aug 2009)

Log Message:
-----------
2009-08-01 15:35 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
  * config/lib.cf
  * config/bin.cf
  * config/globsh.cf
  * config/instsh.cf
  * config/none.cf
  * config/dirsh.cf
    ! Using embedded GNU Tools on OS/2. This fixes the install dir
      creation problems (at least makes it work like on other platforms).
      Fixes HB_BUILD_SUBDIR support. It also allowed to remove all
      remaining hacks to try to create dirs for platforms where 'mkdir -p'
      equivalent isn't available.
      Probably it would be better to solve this using some GNU Make
      tricks, but couldn't find one yet.
    % Using native DOS commands for RM and MD. (MD is not used currently)
    * EXE_DIR, LIB_DIR moved to global.cf
    % Deleted (I hope) unnecessary $(CMDPREF) variables.
      If someone knows what was the purpose of them, we can readd them, but 
      we should then readd them to all shell types and all commands consistently.
    ! Fixed nt dir walking rule for old GNU Make versions.

  + config/os2-rm.exe
    + Added OS/2 GNU rm binary.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bin.cf
    trunk/harbour/config/dirsh.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/globsh.cf
    trunk/harbour/config/instsh.cf
    trunk/harbour/config/lib.cf
    trunk/harbour/config/none.cf

Added Paths:
-----------
    trunk/harbour/config/os2-rm.exe


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug  1 10:58:22 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug  1 10:58:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11953] trunk/harbour
Message-ID: <E1MXG2Q-0007OT-3z@3kljzd1.ch3.sourceforge.com>

Revision: 11953
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11953&view=rev
Author:   vszakats
Date:     2009-08-01 14:58:20 +0000 (Sat, 01 Aug 2009)

Log Message:
-----------
2009-08-01 16:56 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
  * bin/postinst.sh
  * source/vm/fm.c
  * source/common/hbver.c
  + config/sunos/sunpro64.cf
  * config/sunos/sunpro.cf
  * ChangeLog
    + Applied second SunPro patch sent by Tamas Tevesz.
      Addressed these former TODOs:
      + Added sunpro64 target.
      + Finalized C compiler options (including warning level settings).
      + Added compiler identification code to hbver.c.
      + dynamic lib creation.

  * utils/hbmk2/hbmk2.prg
    ! Fixed RTE when run on sunos. Needs further work to discover how
      it could run onto that codepath, normally it shouldn't.

  * bin/postinst.sh
    % Cleaned a few remaining 'gpp' HB_COMPILER value checks.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/postinst.sh
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/source/common/hbver.c
    trunk/harbour/source/vm/fm.c
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/config/sunos/sunpro64.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug  1 12:07:03 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug  1 12:07:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11954] trunk/harbour
Message-ID: <E1MXH6t-0001K3-2h@bj8yhf1.ch3.sourceforge.com>

Revision: 11954
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11954&view=rev
Author:   vszakats
Date:     2009-08-01 16:07:01 +0000 (Sat, 01 Aug 2009)

Log Message:
-----------
2009-08-01 17:48 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/xhb/hblog.prg
    + Added HB_LogConsole:Out() method from xhb.
    + Added HB_LogDbf() class from xhb.
    ! Applied fix recently committed to xhb.
      Harbour version uses different (clean) method.

  * contrib/xhb/hblog.prg
  * contrib/xhb/hblognet.prg
  * contrib/xhb/stream.prg
    % Updated code to not require hbcompat.ch.
      Please test.

  * contrib/xhb/trpccli.prg
  * contrib/xhb/hblognet.prg
  * contrib/xhb/hblog.prg
  * contrib/xhb/trpc.prg
  * contrib/xhb/cstruct.prg
    % Updated code to not require xhb.ch.
      Please test.
    ; No more xhb lib code requires these compatibility headers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/cstruct.prg
    trunk/harbour/contrib/xhb/hblog.prg
    trunk/harbour/contrib/xhb/hblognet.prg
    trunk/harbour/contrib/xhb/stream.prg
    trunk/harbour/contrib/xhb/trpc.prg
    trunk/harbour/contrib/xhb/trpccli.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sat Aug  1 12:16:53 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Aug  1 12:17:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11892] trunk/harbour
In-Reply-To: <1851416286.20090801150322@tlen.pl>
References: <9257026e0907281057n4837d63ap572a25c1a10cf844@mail.gmail.com>
	<20090728200931.GA32511@uran.home.aster.pl>
	<4A700F48.6010308@fsgiudice.com>
	<20090729152138.GA7902@uran.home.aster.pl>
	<20090729153913.GA6908@uran.home.aster.pl>
	<402231064.20090731122052@tlen.pl>
	<20090731103529.GA27859@uran.home.aster.pl>
	<1453057570.20090731125000@tlen.pl>
	<20090731112244.GA12010@uran.home.aster.pl>
	<1851416286.20090801150322@tlen.pl>
Message-ID: <20090801161653.GA26807@uran.home.aster.pl>

[sobota, 01 sierpieï¿½ 2009], Jaroslaw Kadziola napisa³(a):

Hi,

> > Please rebuild Harbour after:
> >    2009-07-31 13:21 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> >      * harbour/include/hbthread.h
> >        ! unblocked MT compilation for WinCE
> > and then compiler tstrcv again.
> Unfortunately  after  [Harbour]  SF.net  SVN:  harbour-project:[11949]
> the same error :
> $ hbmk2 tstrcv -mt -b
> hbmk: Processing configuration: G:\msys\1.0\hb-mingw\bin\hbmk.cfg                
> Harbour 2.0.0beta2 (Rev. 11949)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'tstrcv.prg'...
> Lines 108, Functions/Procedures 4
> Generating C source output to 'tstrcv.c'... Done.
> Error Base/3012 Argument error : HB_THREADJOIN

Have you rebuild libraries for WinCE too?

best regards,
Przemek
From vszakats at users.sourceforge.net  Sat Aug  1 14:00:18 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug  1 14:00:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11955] trunk/harbour
Message-ID: <E1MXIsU-0002GT-Gj@3kljzd1.ch3.sourceforge.com>

Revision: 11955
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11955&view=rev
Author:   vszakats
Date:     2009-08-01 18:00:17 +0000 (Sat, 01 Aug 2009)

Log Message:
-----------
2009-08-01 19:49 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
    * Changed HB_BUILD_SUBDIR to HB_BUILD_NAME.
    ! HB_BUILD_NAME fixes after initial testing. Should be okay now.

  * INSTALL
    + Documented new HB_BUILD_NAME setting.

  * utils/hbmk2/hbmk2.prg
  * utils/hbmk2/hbmk2.pt_BR.po
  * utils/hbmk2/hbmk2.hu_HU.po
    + Added support for -build= option. This is similar to HB_BUILD_NAME
      when building Harbour. Also added ${hb_build} macro.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.cf
    trunk/harbour/utils/hbmk2/hbmk2.hu_HU.po
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From kadziola at tlen.pl  Sat Aug  1 14:06:27 2009
From: kadziola at tlen.pl (=?utf-8?B?SmFyb3PFgmF3IEvEhWR6aW/FgmE=?=)
Date: Sat Aug  1 14:02:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11892] trunk/harbour
In-Reply-To: <20090801161653.GA26807@uran.home.aster.pl>
References: <9257026e0907281057n4837d63ap572a25c1a10cf844@mail.gmail.com>
	<20090728200931.GA32511@uran.home.aster.pl>
	<4A700F48.6010308@fsgiudice.com>
	<20090729152138.GA7902@uran.home.aster.pl>
	<20090729153913.GA6908@uran.home.aster.pl>
	<402231064.20090731122052@tlen.pl>
	<20090731103529.GA27859@uran.home.aster.pl>
	<1453057570.20090731125000@tlen.pl>
	<20090731112244.GA12010@uran.home.aster.pl>
	<1851416286.20090801150322@tlen.pl>
	<20090801161653.GA26807@uran.home.aster.pl>
Message-ID: <34589387.20090801200627@tlen.pl>

Hi

W li?cie datowanym 1 sierpnia 2009 (18:16:53) mo?na przeczyta?:


>> Unfortunately  after  [Harbour]  SF.net  SVN:  harbour-project:[11949]
>> the same error :
>> $ hbmk2 tstrcv -mt -b
>> hbmk: Processing configuration: G:\msys\1.0\hb-mingw\bin\hbmk.cfg                
>> Harbour 2.0.0beta2 (Rev. 11949)
>> Copyright (c) 1999-2009, http://www.harbour-project.org/
>> Compiling 'tstrcv.prg'...
>> Lines 108, Functions/Procedures 4
>> Generating C source output to 'tstrcv.c'... Done.
>> Error Base/3012 Argument error : HB_THREADJOIN

> Have you rebuild libraries for WinCE too?

> best regards,
> Przemek

Yes, all libraries from zero.

-- 
regards
Jaroslaw Kadziola
kom. +48 504 575 451

From druzus at users.sourceforge.net  Sat Aug  1 14:24:41 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Aug  1 14:24:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11956] trunk/harbour
Message-ID: <E1MXJG4-0003sj-WA@bj8yhf1.ch3.sourceforge.com>

Revision: 11956
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11956&view=rev
Author:   druzus
Date:     2009-08-01 18:24:40 +0000 (Sat, 01 Aug 2009)

Log Message:
-----------
2009-08-01 20:24 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbsetup.h
  * harbour/include/hbthread.h
  * harbour/include/hbatomic.h
  * harbour/source/vm/thread.c
    * added support for MT mode in WinCE builds using raw MS-Windows API
      instead of CRTL wrappers. It's possible that it may badly interact
      with some CRTLs functions we are using in our code so I do not know
      it will work. Please test.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbatomic.h
    trunk/harbour/include/hbsetup.h
    trunk/harbour/include/hbthread.h
    trunk/harbour/source/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sat Aug  1 14:26:46 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Aug  1 14:26:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11892] trunk/harbour
In-Reply-To: <34589387.20090801200627@tlen.pl>
References: <4A700F48.6010308@fsgiudice.com>
	<20090729152138.GA7902@uran.home.aster.pl>
	<20090729153913.GA6908@uran.home.aster.pl>
	<402231064.20090731122052@tlen.pl>
	<20090731103529.GA27859@uran.home.aster.pl>
	<1453057570.20090731125000@tlen.pl>
	<20090731112244.GA12010@uran.home.aster.pl>
	<1851416286.20090801150322@tlen.pl>
	<20090801161653.GA26807@uran.home.aster.pl>
	<34589387.20090801200627@tlen.pl>
Message-ID: <20090801182646.GA21038@uran.home.aster.pl>

[sobota, 01 sierpieï¿½ 2009], JarosÅ‚aw KÄ…dzioÅ‚a napisa³(a):

Hi

> > Have you rebuild libraries for WinCE too?
> Yes, all libraries from zero.

Thank for the info.
I've just check the whole code and it was disabled also in hbsetup.h.
MT support in WinCE needed some additional modifications.
Please try after:
   2009-08-01 20:24 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

best regards,
Przemek
From vszakats at users.sourceforge.net  Sat Aug  1 14:50:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug  1 14:50:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11957] trunk/harbour
Message-ID: <E1MXJfJ-0004MR-Su@bj8yhf1.ch3.sourceforge.com>

Revision: 11957
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11957&view=rev
Author:   vszakats
Date:     2009-08-01 18:50:44 +0000 (Sat, 01 Aug 2009)

Log Message:
-----------
2009-08-01 20:49 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
  * utils/hbmk2/hbmk2.prg
  * config/global.cf
    + Little bit changed the meaning of HB_BUILD_NAME. It's now
      simply appended to <arch>/<comp> value. So, to create
      '<arch>/<comp>.<bld>' style names HB_BUILD_NAME=.dbg can be
      used. This will result in the flattest dir structure.
      To create a subdir, this can be used:
      HB_BUILD_NAME=/dbg. To create a dir structure:
      HB_BUILD_NAME=/dbg/cpp
    + GRANDP variable is now automatically calculated.

  * config/sunos/sunpro.cf
    ! Minor typo.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.cf
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug  1 14:53:03 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug  1 14:53:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11958] trunk/harbour
Message-ID: <E1MXJhX-0004PY-1a@bj8yhf1.ch3.sourceforge.com>

Revision: 11958
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11958&view=rev
Author:   vszakats
Date:     2009-08-01 18:53:02 +0000 (Sat, 01 Aug 2009)

Log Message:
-----------
2009-08-01 20:52 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
    - Cleaned 3 lines left there by mistake.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug  1 14:57:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug  1 14:57:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11959] trunk/harbour
Message-ID: <E1MXJlN-0004Ty-C1@bj8yhf1.ch3.sourceforge.com>

Revision: 11959
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11959&view=rev
Author:   vszakats
Date:     2009-08-01 18:57:00 +0000 (Sat, 01 Aug 2009)

Log Message:
-----------
2009-08-01 20:56 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
    % Minor opt/cleanup.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug  1 15:01:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug  1 15:01:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11960] trunk/harbour
Message-ID: <E1MXJpq-0004Yc-2Q@bj8yhf1.ch3.sourceforge.com>

Revision: 11960
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11960&view=rev
Author:   vszakats
Date:     2009-08-01 19:01:37 +0000 (Sat, 01 Aug 2009)

Log Message:
-----------
2009-08-01 21:00 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
    % Some more opt. Rules are very clean and simple now without 
      redundancy. In fact only one line has be changed to move 
      away bin/lib/obj workdirs. There are no more hidden 
      dependencies on the dir names or layout.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug  1 15:08:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug  1 15:08:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11961] trunk/harbour
Message-ID: <E1MXJwS-0004fs-B4@bj8yhf1.ch3.sourceforge.com>

Revision: 11961
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11961&view=rev
Author:   vszakats
Date:     2009-08-01 19:08:27 +0000 (Sat, 01 Aug 2009)

Log Message:
-----------
2009-08-01 21:07 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/globsh.cf
    ! Minor fix to OS/2 shells. Bug introed today.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From kadziola at tlen.pl  Sat Aug  1 15:14:01 2009
From: kadziola at tlen.pl (=?utf-8?B?SmFyb3PFgmF3IEvEhWR6aW/FgmE=?=)
Date: Sat Aug  1 15:10:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11892] trunk/harbour
In-Reply-To: <20090801182646.GA21038@uran.home.aster.pl>
References: <4A700F48.6010308@fsgiudice.com>
	<20090729152138.GA7902@uran.home.aster.pl>
	<20090729153913.GA6908@uran.home.aster.pl>
	<402231064.20090731122052@tlen.pl>
	<20090731103529.GA27859@uran.home.aster.pl>
	<1453057570.20090731125000@tlen.pl>
	<20090731112244.GA12010@uran.home.aster.pl>
	<1851416286.20090801150322@tlen.pl>
	<20090801161653.GA26807@uran.home.aster.pl>
	<34589387.20090801200627@tlen.pl>
	<20090801182646.GA21038@uran.home.aster.pl>
Message-ID: <1803760049.20090801211401@tlen.pl>

Witam,

W li?cie datowanym 1 sierpnia 2009 (20:26:46) mo?na przeczyta?:

> [sobota, 01 sierpie? 2009], Jaros?aw K?dzio?a napisa?(a):

> Hi

>> > Have you rebuild libraries for WinCE too?
>> Yes, all libraries from zero.

> Thank for the info.
> I've just check the whole code and it was disabled also in hbsetup.h.
> MT support in WinCE needed some additional modifications.
> Please try after:
>    2009-08-01 20:24 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

Ok, i'll try at monday. Thanks for Your time.



--
Regards,
Jaroslaw Kadziola


From druzus at acn.waw.pl  Sat Aug  1 18:34:57 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Aug  1 18:35:05 2009
Subject: [Harbour] offline note
Message-ID: <20090801223457.GA18465@uran.home.aster.pl>

Hi All,

I'll be offline for a week.

best regards,
Przemek
From bedipritpal at hotmail.com  Sat Aug  1 19:17:55 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Aug  1 19:18:00 2009
Subject: [Harbour] offline note
In-Reply-To: <20090801223457.GA18465@uran.home.aster.pl>
References: <20090801223457.GA18465@uran.home.aster.pl>
Message-ID: <24773539.post@talk.nabble.com>


Hello


Przemyslaw Czerpak-2 wrote:
> 
> I'll be offline for a week.
> 

Take care and spend the vacations leisurely.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/offline-note-tp24773284p24773539.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From e.m.giordano at emagsoftware.it  Sun Aug  2 09:34:39 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Aug  2 09:34:46 2009
Subject: [Harbour] Array access at C level
Message-ID: <B26FF181E5D4413384F72EA91801BA66@emag>

What is the correct way to implement the following sample in Harbour (it 
works fine in Clipper and xHarbour):

FUNCTION MAIN()

    LOCAL aArray := { "Test 1" }

    ? TEST( aArray )

    RETURN NIL


#pragma BEGINDUMP

#include "hbapi.h"


HB_FUNC( TEST )
{
    hb_retc( hb_parc( 1, 1 ) );
}

#pragma ENDDUMP


Extra parameter in call to hb_parc in function HB_FUN_TEST

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From myorg63 at mail.ru  Sun Aug  2 11:14:23 2009
From: myorg63 at mail.ru (Petr Chornyj)
Date: Sun Aug  2 11:14:27 2009
Subject: [Harbour] Array access at C level
In-Reply-To: <B26FF181E5D4413384F72EA91801BA66@emag>
References: <B26FF181E5D4413384F72EA91801BA66@emag>
Message-ID: <24778819.post@talk.nabble.com>




Enrico Maria Giordano wrote:
> 
> What is the correct way to implement the following sample in Harbour (it 
> works fine in Clipper and xHarbour):
> 
> FUNCTION MAIN()
> 
>     LOCAL aArray := { "Test 1" }
> 
>     ? TEST( aArray )
> 
>     RETURN NIL
> 
> 
> #pragma BEGINDUMP
> 
> #include "hbapi.h"
> 
> 
> HB_FUNC( TEST )
> {
>     hb_retc( hb_parc( 1, 1 ) );
> }
> 
> #pragma ENDDUMP
> 
> 
> EMG
> 
> 

HB_FUNC( TEST )
{
    hb_retc( hb_parvc( 1, 1 ) );
}

Regards,
Petr
-- 
View this message in context: http://www.nabble.com/Array-access-at-C-level-tp24777980p24778819.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From abe.buch at att.net  Sun Aug  2 13:40:02 2009
From: abe.buch at att.net (AbeB)
Date: Sun Aug  2 13:40:08 2009
Subject: [Harbour] problame with subindex & ads remote
In-Reply-To: <20090717205418.GB29426@uran.home.aster.pl>
References: <1247693270261-3265915.post@n2.nabble.com>
	<20090717205418.GB29426@uran.home.aster.pl>
Message-ID: <1249234802272-3373356.post@n2.nabble.com>


tested against a ADS Server 9.10.0.9

changed 
SET SERVER LOCAL
to
SET SERVER REMOTE

and this is the result.

rdd: ADSCDX
TEMP
TEMP2
====
TEMP
         1
       100
TEMP2
         1
        98




Przemyslaw Czerpak wrote:
> 
> On Wed, 15 Jul 2009, AbeB wrote:
>> problem with subindex & ads remote(only)
>> #INCLUDE "ADS.CH"
>> PROC MAIN()
>> REQUEST ADS
>> SET SERVER REMOTE  // <<-will include the entire file in the 2nd index.
> 
> You are setting remote server.
> 
>> //SET SERVER LOCAL  // <<-will include the entire file in the 2nd index.
>> 
>> ERASE("TEST.CDX")
> 
> Now you are deleting local file.
> 
>> DBCREATE("TEST.DBF" ,{ {"FLD1", "N", 10 , 0 }} )
> 
> Now you are creatind TEST.DBF using DBFNTX.
> 
>> USE TEST VIA "ADS" EXCLU
> 
> Now you are reopening DBF using ADS RDD which is set to remote server.
> Which file do you open?
> 
>> INDEX ON FLD1  TAG TEMP
> 
> You are creating index on remote server.
> 
>> ORDSETFOCUS("TEMP")
>> FOR I  := 1 TO 100
>> 	APPEND BLANK
>> 	FIELD->FLD1 := I
>> NEXT
>> 
>> ERASE("TEMP2.IDX")
> 
> Again you are deleting local file
> 
>> GO TOP
>> SKIP 50
>> 
>> BROWSE()
> 
> Interaction. Bad idea because we do not know what you want to present
> and what is wrong.
> Results may depend on user keystrokes.
> 
>> INDEX ON FLD1 TAG TEMP2 WHILE FLD1 < 9999   TO TEMP2.IDX  
> 
> Yet another remote index with quite big range over last record value.
> 
>> ORDSETFOCUS( "TEMP2")
>> BROWSE()
> 
> Yet another interaction without information what is wrong.
> 
>> USE
>> QUIT
> 
> 
> I do not know what is wrong and what you want to show us.
> I modified your code to eliminate mixed native and ADS RDDs,
> switched to local server so FERASE() works on the same files,
> changed the range to test WHILE condition and eliminated
> user interactions so results can be easy compared.
> 
>    #INCLUDE "ads.ch"
>    PROC MAIN()
>    FIELD FLD1
>    LOCAL I
>    REQUEST ADS
>    SET SERVER LOCAL
>    rddSetDefault( "ADSCDX" )
>    ? "rdd:", rddSetDefault()
>    ERASE( "test.cdx" )
>    DBCREATE( "test.dbf", {{"FLD1", "N", 10 , 0}} )
>    USE test
>    INDEX ON FLD1 TAG TEMP
>    ORDSETFOCUS( "TEMP" )
>    ? ORDSETFOCUS()
>    FOR I  := 1 TO 100
>       APPEND BLANK
>       FLD1 := I
>    NEXT
>    ERASE("temp2.idx")
>    GO TOP
>    SKIP 50
>    INDEX ON FLD1 TAG TEMP2 WHILE FLD1 < 99 TO temp2.idx
>    ? ORDSETFOCUS()
>    ? "===="
>    ORDSETFOCUS( "TEMP" )
>    ? ORDSETFOCUS()
>    GO TOP
>    ? FLD1
>    GO BOTTOM
>    ? FLD1
>    ORDSETFOCUS( "TEMP2" )
>    ? ORDSETFOCUS()
>    GO TOP
>    ? FLD1
>    GO BOTTOM
>    ? FLD1
>    USE
>    RETURN
> 
> 
> 
> And it shows:
> rdd: ADSCDX
> TEMP
> TEMP2
> ====
> TEMP
>          1
>        100
> TEMP2
>         51
>         98
> 
> What is expected and the same as for native DBFCDX also in Clipper.
> I do not know what is wrong for you and what results you expected.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/problame-with-subindex---ads-remote-tp3265915p3373356.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From e.m.giordano at emagsoftware.it  Sun Aug  2 16:33:34 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Aug  2 16:33:42 2009
Subject: [Harbour] Array access at C level
References: <B26FF181E5D4413384F72EA91801BA66@emag>
	<24778819.post@talk.nabble.com>
Message-ID: <1A1DEAB4D6C54B36BA377165A5670DB6@emag>


-----Messaggio Originale----- 
Da: "Petr Chornyj" <myorg63@mail.ru>
A: <harbour@harbour-project.org>
Data invio: domenica 2 agosto 2009 17.14
Oggetto: Re: [Harbour] Array access at C level


> > HB_FUNC( TEST )
> > {
> >     hb_retc( hb_parc( 1, 1 ) );
> > }
> 
> HB_FUNC( TEST )
> {
>    hb_retc( hb_parvc( 1, 1 ) );
> }

Can I ask the reason for this Clipper compatibility break?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic
From harbour.01 at syenar.hu  Sun Aug  2 19:49:27 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug  2 19:49:39 2009
Subject: [Harbour] Array access at C level
In-Reply-To: <1A1DEAB4D6C54B36BA377165A5670DB6@emag>
References: <B26FF181E5D4413384F72EA91801BA66@emag>
	<24778819.post@talk.nabble.com>
	<1A1DEAB4D6C54B36BA377165A5670DB6@emag>
Message-ID: <9C561969-8E4D-44E7-B432-CD95B1177010@syenar.hu>

> -----Messaggio Originale----- Da: "Petr Chornyj" <myorg63@mail.ru>
> A: <harbour@harbour-project.org>
> Data invio: domenica 2 agosto 2009 17.14
> Oggetto: Re: [Harbour] Array access at C level
>
>
>> > HB_FUNC( TEST )
>> > {
>> >     hb_retc( hb_parc( 1, 1 ) );
>> > }
>> HB_FUNC( TEST )
>> {
>>   hb_retc( hb_parvc( 1, 1 ) );
>> }
>
> Can I ask the reason for this Clipper compatibility break?

It's not a Clipper compatibility break, as Clipper
uses _par*() function names. Harbour is still
compatible with these.

Pls find more details in ChangeLog and the list.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug  3 02:02:18 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug  3 02:02:32 2009
Subject: [Harbour] offline note
In-Reply-To: <20090801223457.GA18465@uran.home.aster.pl>
References: <20090801223457.GA18465@uran.home.aster.pl>
Message-ID: <8E124F67-EBD8-41AB-96F4-16B61EE1A9A9@syenar.hu>

Hi Przemek,

Wishing you a very nice holiday.

Brgds,
Viktor

On 2009.08.02., at 0:34, Przemyslaw Czerpak wrote:

> Hi All,
>
> I'll be offline for a week.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Mon Aug  3 03:06:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug  3 03:07:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11962] trunk/harbour
Message-ID: <E1MXrdD-0001P3-DX@dn4whf1.ch3.sourceforge.com>

Revision: 11962
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11962&view=rev
Author:   vszakats
Date:     2009-08-03 07:06:47 +0000 (Mon, 03 Aug 2009)

Log Message:
-----------
2009-08-02 09:05 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * bin/postinst.sh
  * source/common/hbver.c
    ! Minor fixes to SunPro compiler support by Tamas Tevesz.

  * contrib/xhb/Makefile
  + contrib/xhb/htmlform.ch
  + contrib/xhb/tfile.prg
  + contrib/xhb/html.ch
  + contrib/xhb/tedit.prg
  + contrib/xhb/tframe.prg
  + contrib/xhb/htjlist.prg
  + contrib/xhb/htmlclrs.ch
  + contrib/xhb/thtm.prg
  + contrib/xhb/hterrsys.prg
  + contrib/xhb/tcgi.prg
  + contrib/xhb/cgi.ch
  + contrib/xhb/hjwindow.prg
  + contrib/xhb/htmutil.prg
    + Added cgi library borrowed from xhb.
    ! Warning fixes.
    * Cleanups applied here and there.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.sh
    trunk/harbour/contrib/xhb/Makefile
    trunk/harbour/source/common/hbver.c

Added Paths:
-----------
    trunk/harbour/contrib/xhb/cgi.ch
    trunk/harbour/contrib/xhb/hjwindow.prg
    trunk/harbour/contrib/xhb/hterrsys.prg
    trunk/harbour/contrib/xhb/htjlist.prg
    trunk/harbour/contrib/xhb/html.ch
    trunk/harbour/contrib/xhb/htmlclrs.ch
    trunk/harbour/contrib/xhb/htmlform.ch
    trunk/harbour/contrib/xhb/htmutil.prg
    trunk/harbour/contrib/xhb/tcgi.prg
    trunk/harbour/contrib/xhb/tedit.prg
    trunk/harbour/contrib/xhb/tfile.prg
    trunk/harbour/contrib/xhb/tframe.prg
    trunk/harbour/contrib/xhb/thtm.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Mon Aug  3 08:52:08 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Aug  3 08:52:17 2009
Subject: [Harbour] Array access at C level
References: <B26FF181E5D4413384F72EA91801BA66@emag><24778819.post@talk.nabble.com><1A1DEAB4D6C54B36BA377165A5670DB6@emag>
	<9C561969-8E4D-44E7-B432-CD95B1177010@syenar.hu>
Message-ID: <FDFB9671715345AD992711D6BB2396C9@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 3 agosto 2009 1.49
Oggetto: Re: [Harbour] Array access at C level


> > Can I ask the reason for this Clipper compatibility break?
>
> It's not a Clipper compatibility break, as Clipper
> uses _par*() function names. Harbour is still
> compatible with these.

Maybe I'm missing something but the following sample doesn't work as well:

FUNCTION MAIN()

    LOCAL aArray := { "Test 1" }

    ? TEST( aArray )

    INKEY( 0 )

    RETURN NIL


#pragma BEGINDUMP

#include "hbapi.h"


HB_FUNC( TEST )
{
    hb_retc( _parc( 1, 1 ) );
}

#pragma ENDDUMP

Call to function '_parc' with no prototype in function HB_FUN_TEST

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Mon Aug  3 08:56:43 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug  3 08:56:51 2009
Subject: [Harbour] Array access at C level
In-Reply-To: <FDFB9671715345AD992711D6BB2396C9@emag>
References: <B26FF181E5D4413384F72EA91801BA66@emag><24778819.post@talk.nabble.com><1A1DEAB4D6C54B36BA377165A5670DB6@emag>
	<9C561969-8E4D-44E7-B432-CD95B1177010@syenar.hu>
	<FDFB9671715345AD992711D6BB2396C9@emag>
Message-ID: <F03CB797-CE10-42D1-8C62-F5F4904FC6B7@syenar.hu>

You have to #include the Clipper compatible headers.

Brgds,
Viktor

On 2009.08.03., at 2:52, Enrico Maria Giordano wrote:

>
> -----Messaggio Originale----- Da: "Viktor Szak?ts" <harbour.01@syenar.hu 
> >
> A: "Harbour Project Main Developer List." <harbour@harbour- 
> project.org>
> Data invio: luned? 3 agosto 2009 1.49
> Oggetto: Re: [Harbour] Array access at C level
>
>
>> > Can I ask the reason for this Clipper compatibility break?
>>
>> It's not a Clipper compatibility break, as Clipper
>> uses _par*() function names. Harbour is still
>> compatible with these.
>
> Maybe I'm missing something but the following sample doesn't work as  
> well:
>
> FUNCTION MAIN()
>
>   LOCAL aArray := { "Test 1" }
>
>   ? TEST( aArray )
>
>   INKEY( 0 )
>
>   RETURN NIL
>
>
> #pragma BEGINDUMP
>
> #include "hbapi.h"
>
>
> HB_FUNC( TEST )
> {
>   hb_retc( _parc( 1, 1 ) );
> }
>
> #pragma ENDDUMP
>
> Call to function '_parc' with no prototype in function HB_FUN_TEST
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From e.m.giordano at emagsoftware.it  Mon Aug  3 09:13:40 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Aug  3 09:13:47 2009
Subject: [Harbour] Array access at C level
References: <B26FF181E5D4413384F72EA91801BA66@emag><24778819.post@talk.nabble.com><1A1DEAB4D6C54B36BA377165A5670DB6@emag><9C561969-8E4D-44E7-B432-CD95B1177010@syenar.hu><FDFB9671715345AD992711D6BB2396C9@emag>
	<F03CB797-CE10-42D1-8C62-F5F4904FC6B7@syenar.hu>
Message-ID: <ABCE5AEB2DCF443F96776FB1294A0F7A@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 3 agosto 2009 14.56
Oggetto: Re: [Harbour] Array access at C level


> You have to #include the Clipper compatible headers.

Thank you, it works.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From kadziola at tlen.pl  Mon Aug  3 12:02:51 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Mon Aug  3 12:02:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11892] trunk/harbour
In-Reply-To: <20090801182646.GA21038@uran.home.aster.pl>
References: <4A700F48.6010308@fsgiudice.com>
	<20090729152138.GA7902@uran.home.aster.pl>
	<20090729153913.GA6908@uran.home.aster.pl>
	<402231064.20090731122052@tlen.pl>
	<20090731103529.GA27859@uran.home.aster.pl>
	<1453057570.20090731125000@tlen.pl>
	<20090731112244.GA12010@uran.home.aster.pl>
	<1851416286.20090801150322@tlen.pl>
	<20090801161653.GA26807@uran.home.aster.pl>
	<34589387.20090801200627@tlen.pl>
	<20090801182646.GA21038@uran.home.aster.pl>
Message-ID: <1508543359.20090803180251@tlen.pl>

Witam!

W li?cie datowanym 1 sierpnia 2009 (20:26:46) napisano:

> [sobota, 01 sierpie? 2009], Jaros?aw K?dzio?a napisa?(a):

> Hi

>> > Have you rebuild libraries for WinCE too?
>> Yes, all libraries from zero.

> Thank for the info.
> I've just check the whole code and it was disabled also in hbsetup.h.
> MT support in WinCE needed some additional modifications.
> Please try after:
>    2009-08-01 20:24 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

WinMobile 5.0 on Mio P550:

First line: This is connection: 1
connection closed, lines: 1002
time: 1.00 sec.
First line: This is connection: 2
connection closed, lines: 1002
time: 1.00 sec.
First line: This is connection: 3
connection closed, lines: 1002
time: 0.00 sec.
First line: This is connection: 4
connection closed, lines: 1002
time: 1.00 sec.
First line: This is connection: 5
connection closed, lines: 1002
time: 1.00 sec.
First line: This is connection: 6
connection closed, lines: 1002
time: 1.00 sec.
First line: This is connection: 7
connection closed, lines: 1002
time: 0.00 sec.
First line: This is connection: 8
connection closed, lines: 1002
time: 1.00 sec.
First line: This is connection: 9
connection closed, lines: 1002
time: 1.00 sec.
First line: This is connection: 10
connection closed, lines: 1002
time: 1.00 sec.
==============================
total client time: 11.00 sec.^
==============================
client stopped
server socked closed:          0





-

Regards,
Jaroslaw Kadziola


From bruno.luciani at gmail.com  Mon Aug  3 12:29:39 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Aug  3 12:29:45 2009
Subject: [Harbour] SMS
Message-ID: <133778360908030929w498fabd2g60e11952ceb02e7d@mail.gmail.com>

People.

The SMS function from Jose Luis Capel is only for Wince

or is usefull for use in PC too

Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090803/fa1e1d12/attachment.html
From calimero22 at freemail.it  Mon Aug  3 12:40:28 2009
From: calimero22 at freemail.it (calimero22@freemail.it)
Date: Mon Aug  3 12:40:34 2009
Subject: [Harbour] Graphic with Harbour
Message-ID: <20090803164028.6CCB368045DA@eva104.dadanet.it>

An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090803/c742a130/attachment.html
From mbelgrano at deltain.it  Mon Aug  3 13:34:39 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Aug  3 13:35:06 2009
Subject: [Harbour] Graphic with Harbour
In-Reply-To: <20090803164028.6CCB368045DA@eva104.dadanet.it>
References: <20090803164028.6CCB368045DA@eva104.dadanet.it>
Message-ID: <609353e70908031034m1fb54c2al1ef8872f59d31450@mail.gmail.com>

We have many GTs:
1- console I/O like GTNUL, GTGUI, GTCGI, GTSTD
2 - full screen like GTWVT, GTWIN, GTXWC, GTTRM, GTSLN, GTCRS
3 - graphical like GTWVT and GTXWC

AFAIK Only with 3 ?graphical GT you can
Either will use wvt_ command ?like:
?Wvt_DrawLine
Wvt_SetBrush
Wvt_DrawEllipse
Wvt_SetBrush
Wvt_DrawRectangle
Wvt_DrawBoxGroupRaised

I hope tha This  resolve your problem
I invite every body use gtwvt/gtwvg Post a sample using this command

2009/8/3 <calimero22@freemail.it>
>
> Hello
>
> Is it possible to DRAW pixel in "console mode" with harbour?
>
> Thank
>
> Giovanni Di Maria
>
>
>
>
> --- Dada Music Movement, tutta la musica che vuoi! ---
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



--
Massimo Belgrano
From bedipritpal at hotmail.com  Mon Aug  3 13:51:50 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Aug  3 13:51:55 2009
Subject: [Harbour] Graphic with Harbour
In-Reply-To: <609353e70908031034m1fb54c2al1ef8872f59d31450@mail.gmail.com>
References: <20090803164028.6CCB368045DA@eva104.dadanet.it>
	<609353e70908031034m1fb54c2al1ef8872f59d31450@mail.gmail.com>
Message-ID: <24795203.post@talk.nabble.com>




Massimo Belgrano-3 wrote:
> 
> I invite every body use gtwvt/gtwvg Post a sample using this command
> 

Why do you need anybody's code when everything is
demonstrated in harbour/contrib/gtwvg/tests/demowvg.prg ?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Graphic-with-Harbour-tp24794036p24795203.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Aug  3 14:06:00 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Aug  3 14:06:05 2009
Subject: [Harbour] QT - HBXBP - XbpBrowse() vs TBrowse()
Message-ID: <24795410.post@talk.nabble.com>


Hello Everybody

First - a good news - I am been able to simulate 
TBrowse() behavior as far as vertical navigation is concerned. 
Horizontal navigation - freeze - is practically non-existent in Qt's
model/view architect and hence so far I have no clues how 
to simulate this. Barring "FREEZE" and "FOOTER" everything is working 
properly. Important to note is that there is no absolutely no 
memory overhead as is associated with Qt's model/view architect
and so is extremely fast rendering has been achieved.

TBrowse.prg has provided me the architect. It could been 
possible with <::aCellValues> which Przemek thought of and 
I could exploit it to the maximum. Without <::aCellValues> construct
this would have been impossible to achieve this milestone.

TBrowse() code is then been modified to XbpBrowse() behavior.
So far so good. 

Second - as I am in a position to provide both TBrowse() and XbpBrowse() 
approaches, what do you think if I retain both or only XbpBrowse().
Internally, TBrowse() will map itself to XbpBrowse(). 

Opinions are welcome.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/QT---HBXBP---XbpBrowse%28%29-vs-TBrowse%28%29-tp24795410p24795410.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Mon Aug  3 14:10:45 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Aug  3 14:11:11 2009
Subject: [Harbour] Graphic with Harbour
In-Reply-To: <24795203.post@talk.nabble.com>
References: <20090803164028.6CCB368045DA@eva104.dadanet.it> 
	<609353e70908031034m1fb54c2al1ef8872f59d31450@mail.gmail.com> 
	<24795203.post@talk.nabble.com>
Message-ID: <609353e70908031110y1c0c3e91jdc449f229175f6e0@mail.gmail.com>

Hi Pritpal
Because demowvg.prg is large to be a sample (
i prefer reduced code to better understand
Harbour community still haven't a collect of sample of  all that is
different from clipper code
we can start from here to collect
tomorrow this sample will be included in your doc project
http://www.harbour.vouch.info/index.html?h_files.htm


I want post same a question
What xbase++ function is still incomplete in xbp?
are you still interested to gtwvw compatibility?

Two big community (xbase++,gtwvg) will enter in harbour with your project

Regards

2009/8/3 Pritpal Bedi <bedipritpal@hotmail.com>:
>
>
>
> Massimo Belgrano-3 wrote:
>>
>> I invite every body use gtwvt/gtwvg Post a sample using this command
>>
>
> Why do you need anybody's code when everything is
> demonstrated in harbour/contrib/gtwvg/tests/demowvg.prg ?
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context: http://www.nabble.com/Graphic-with-Harbour-tp24794036p24795203.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Aug  3 14:20:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug  3 14:20:28 2009
Subject: [Harbour] QT - HBXBP - XbpBrowse() vs TBrowse()
In-Reply-To: <24795410.post@talk.nabble.com>
References: <24795410.post@talk.nabble.com>
Message-ID: <B925097A-D569-4272-9504-85F2C309A35D@syenar.hu>

Hi Pritpal,

> First - a good news - I am been able to simulate
> TBrowse() behavior as far as vertical navigation is concerned.
> Horizontal navigation - freeze - is practically non-existent in Qt's
> model/view architect and hence so far I have no clues how
> to simulate this. Barring "FREEZE" and "FOOTER" everything is working
> properly. Important to note is that there is no absolutely no
> memory overhead as is associated with Qt's model/view architect
> and so is extremely fast rendering has been achieved.
>
> TBrowse.prg has provided me the architect. It could been
> possible with <::aCellValues> which Przemek thought of and
> I could exploit it to the maximum. Without <::aCellValues> construct
> this would have been impossible to achieve this milestone.

Sound very good.

> TBrowse() code is then been modified to XbpBrowse() behavior.
> So far so good.
>
> Second - as I am in a position to provide both TBrowse() and  
> XbpBrowse()
> approaches, what do you think if I retain both or only XbpBrowse().
> Internally, TBrowse() will map itself to XbpBrowse().

A QT-based TBrowse() is very nice, but doesn't have much to do
with XBP lib functionality per se, unless Xbase++ has similar
GUI version of TBrowse() (I don't think so). Since you say this
QT based TBrowse() is built on top of XBP stuff, it's certainly
not very practical to move it to a separate lib.

All this considered I'd put it to hbxbp lib, as a simple Harbour
extension, and with a different class name, f.e.: xbp_TBrowse().

Brgds,
Viktor

From bedipritpal at hotmail.com  Mon Aug  3 14:25:49 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Aug  3 14:25:56 2009
Subject: [Harbour] Graphic with Harbour
In-Reply-To: <609353e70908031110y1c0c3e91jdc449f229175f6e0@mail.gmail.com>
References: <20090803164028.6CCB368045DA@eva104.dadanet.it>
	<609353e70908031034m1fb54c2al1ef8872f59d31450@mail.gmail.com>
	<24795203.post@talk.nabble.com>
	<609353e70908031110y1c0c3e91jdc449f229175f6e0@mail.gmail.com>
Message-ID: <24795733.post@talk.nabble.com>


Hello Massimo


Massimo Belgrano-3 wrote:
> 
> Because demowvg.prg is large to be a sample (
> i prefer reduced code to better understand
> Harbour community still haven't a collect of sample of  all that is
> different from clipper code
> we can start from here to collect
> tomorrow this sample will be included in your doc project
> http://www.harbour.vouch.info/index.html?h_files.htm
> 

Then perhaps one cannot gain from a small sample if he/she 
cannot makeout from a composite application. 

So for your "short" feature - code below could be the perfect 
answer:

//-----------------------------------------------------------//

PROCEDURE GCUIConsole( oCrt )
   LOCAL dDate      := date()
   LOCAL cName      := pad( 'Some Usefule Name'   , 35 )
   LOCAL cAdd1      := pad( 'Linda Goldman Avenue', 35 )
   LOCAL cAdd2      := pad( 'Excellent Street'    , 35 )
   LOCAL cAdd3      := pad( 'Suit #415'           , 35 )
   LOCAL nSlry      := 9000
   LOCAL nColGet    := 8
   LOCAL GetList    := {}
   LOCAL cLabel     := "VOUCH, that GROWS with you"
   LOCAL oTab, oStat, hBoxR, hTxt

   SET SCOREBOARD OFF

   SetColor( "N/W,N/GR*,,,N/W*" )
   CLS
   hb_gtInfo( HB_GTI_WINTITLE, "WVG Simplified yet Powerful CUI-GUI
Console!" )

   @ MaxRow(), 0 SAY PadC( "Navigate the Gets", maxcol()+1 ) COLOR "W+/B"

   @  2, nColGet SAY "< Date >"
   @  5, nColGet SAY "<" + PadC( "Name"   , 33 ) + ">"
   @  8, nColGet SAY "<" + PadC( "Address", 33 ) + ">"
   @ 15, nColGet SAY "< Salary >"

   @  3, nColGet GET dDate  ;
                            WHEN  {|| Wvg_SetGObjData( hTxt, 1, FetchText( 1
) ) } ;
                            Valid {|| Wvg_SetGObjData( hTxt, 6, RGB( 255,0,0
) ), .t. }
   @  6, nColGet GET cName  ;
                            WHEN  {|| Wvg_SetGObjData( hTxt, 1, FetchText( 2
) ) } ;
                            Valid {|| Wvg_SetGObjData( hTxt, 6, RGB(
255,255,0 ) ), ;
                                                  Wvg_SetGObjState( hBoxR, 3
), .t. }
   @  9, nColGet GET cAdd1  ;
                            WHEN  {|| Wvg_SetGObjData( hTxt, 1, FetchText( 3
) ) } ;
                            Valid {|| Wvg_SetGObjData( hTxt, 6, RGB(
255,0,255 ) ), .t. }
   @ 11, nColGet GET cAdd2  ;
                            WHEN  {|| Wvg_SetGObjData( hTxt, 1, FetchText( 4
) ) } ;
                            Valid {|| Wvg_SetGObjData( hTxt, 6, RGB(
255,255,255 ) ), ;
                                                  Wvg_SetGObjState( hBoxR, 1
), .t. }
   @ 13, nColGet GET cAdd3  ;
                            WHEN  {|| Wvg_SetGObjData( hTxt, 6, RGB(
198,21,140 ) ), .t. }
   @ 16, nColGet GET nSlry PICTURE "@Z 9999999.99" ;
                            WHEN  {|| Wvg_SetGObjData( hTxt, 6, RGB( 0,0,0 )
), .t. }

   // The only additional calls to render your console GUI
   //
   // The GETLIST  : This can be embedded via  @ GET preprocessor command
   aEval( GetList, {|oGet| Wvg_BoxGet( oGet:Row, oGet:Col, Len( Transform(
oGet:VarGet(), oGet:Picture ) ) ) } )
   //
   hBoxR := Wvg_BoxRaised( 1,2,18,49, {-5,-5,5,5} )
   //
   Wvg_BoxRecessed( 1,2,18,49 )
   //
   // Wvg_BoxGroup( 2,4,17,47 )
   //
   Wvg_BoxGroupRaised( 2,4,17,47, {-7,-7,7,7} )
   //
   hTxt := Wvg_TextBox( 3,57,16,75, {10,10,-10,-10}, 'This is first TextBox
Line!', 2, 2 )
   //
   Wvg_Image( 15,36,16,42, {-3,-3,3,3}, GOBJ_IMAGESOURCE_FILE, 'Vouch1.bmp'
)
   Wvg_BoxRaised( 15,36,16,42,{-2,-2,2,2} )
   //
   Wvg_ShadedRect( 1,54,18,79, { -5,-5,5,5 }, 0, {65000,21000,7000,56000},
{255,32255,16000,32500} )
   //
   Wvg_BoxRaised( 1,54,18,79, {-5,-5,5,5} )

   // Instruct GT to Repaint the Screen with GUI elements.
   oCrt:refresh()

   // Issue the read
   READ

   RETURN
/*----------------------------------------------------------------------*/



> I want post same a question
> What xbase++ function is still incomplete in xbp?
> 
> Two big community (xbase++,gtwvg) will enter in harbour with your project
> 

Did you look into the demoxbp.prg and took the time to 
provide any assisstance in locating what is missing ? Or you are here 
just to raise only questions which you neither verified nor tested ?

> are you still interested to gtwvw compatibility?

No, I am NOT interested in gtwvw. All my energies are concentrated
on Xbase++ as this is much better solution than any other GUI.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Graphic-with-Harbour-tp24794036p24795733.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Mon Aug  3 14:30:06 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Aug  3 14:30:34 2009
Subject: [Harbour] QT - HBXBP - XbpBrowse() vs TBrowse()
In-Reply-To: <B925097A-D569-4272-9504-85F2C309A35D@syenar.hu>
References: <24795410.post@talk.nabble.com>
	<B925097A-D569-4272-9504-85F2C309A35D@syenar.hu>
Message-ID: <609353e70908031130t10bf0843wed5e5d7de528c531@mail.gmail.com>

afaik with xbase++ 1.9 sl1 you can still mix traditional SAY/GET or TBrowse()
with Graphical User Interface elements

Page six at ftp://ftp.alaska-software.com/documents/feature-overview-v19sl1-en.pdf

2009/8/3 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Pritpal,
>
>> First - a good news - I am been able to simulate
>> TBrowse() behavior as far as vertical navigation is concerned.
>> Horizontal navigation - freeze - is practically non-existent in Qt's
>> model/view architect and hence so far I have no clues how
>> to simulate this. Barring "FREEZE" and "FOOTER" everything is working
>> properly. Important to note is that there is no absolutely no
>> memory overhead as is associated with Qt's model/view architect
>> and so is extremely fast rendering has been achieved.
>>
>> TBrowse.prg has provided me the architect. It could been
>> possible with <::aCellValues> which Przemek thought of and
>> I could exploit it to the maximum. Without <::aCellValues> construct
>> this would have been impossible to achieve this milestone.
>
> Sound very good.
>
>> TBrowse() code is then been modified to XbpBrowse() behavior.
>> So far so good.
>>
>> Second - as I am in a position to provide both TBrowse() and XbpBrowse()
>> approaches, what do you think if I retain both or only XbpBrowse().
>> Internally, TBrowse() will map itself to XbpBrowse().
>
> A QT-based TBrowse() is very nice, but doesn't have much to do
> with XBP lib functionality per se, unless Xbase++ has similar
> GUI version of TBrowse() (I don't think so). Since you say this
> QT based TBrowse() is built on top of XBP stuff, it's certainly
> not very practical to move it to a separate lib.
>
> All this considered I'd put it to hbxbp lib, as a simple Harbour
> extension, and with a different class name, f.e.: xbp_TBrowse().
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Mon Aug  3 14:31:33 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Aug  3 14:31:38 2009
Subject: [Harbour] QT - HBXBP - XbpBrowse() vs TBrowse()
In-Reply-To: <B925097A-D569-4272-9504-85F2C309A35D@syenar.hu>
References: <24795410.post@talk.nabble.com>
	<B925097A-D569-4272-9504-85F2C309A35D@syenar.hu>
Message-ID: <24795819.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> A QT-based TBrowse() is very nice, but doesn't have much to do
> with XBP lib functionality per se, unless Xbase++ has similar
> GUI version of TBrowse() (I don't think so). Since you say this
> QT based TBrowse() is built on top of XBP stuff, it's certainly
> not very practical to move it to a separate lib.
> 
> All this considered I'd put it to hbxbp lib, as a simple Harbour
> extension, and with a different class name, f.e.: xbp_TBrowse().
> 

Yes, off course it will be like xbp_Tbrowse() and will reside in
the same xbpbrowse.prg. No external lib or file.
My idea was to reuse any TBrowse code just like XbpBrowse().
Only the constructor functions will change.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/QT---HBXBP---XbpBrowse%28%29-vs-TBrowse%28%29-tp24795410p24795819.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Aug  3 15:24:47 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Aug  3 15:24:53 2009
Subject: [Harbour] QT - HBXBP - XbpBrowse() vs TBrowse()
In-Reply-To: <24795410.post@talk.nabble.com>
References: <24795410.post@talk.nabble.com>
Message-ID: <24796618.post@talk.nabble.com>


Hi


Pritpal Bedi wrote:
> 
> Second - as I am in a position to provide both TBrowse() and XbpBrowse() 
> approaches, what do you think if I retain both or only XbpBrowse().
> Internally, TBrowse() will map itself to XbpBrowse(). 
> 

The deep thinking suggests that there must be 100% compatibility 
with Xbase++ so I have decided againt xbp_Tbrowse() idea. 
It will only confuse users.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/QT---HBXBP---XbpBrowse%28%29-vs-TBrowse%28%29-tp24795410p24796618.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Aug  3 15:29:20 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Aug  3 15:29:25 2009
Subject: [Harbour] QT - HBXBP - XbpBrowse() - Some realtime code
Message-ID: <24796725.post@talk.nabble.com>


Hello Everybody

I am looking for some real-life XbpBrowse() code example
to compare and check my results. Please forward it on the list 
if you have one. Please make it as isolated as possible.

I am intesrested in how AppEvent() loop interacts with XbpBrowse().
Please forward code which you think is the most complex part 
of your XbpBrowse() implementation.

Alaska's example code is very basic and that is working OK.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/QT---HBXBP---XbpBrowse%28%29---Some-realtime-code-tp24796725p24796725.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From calimero22 at freemail.it  Mon Aug  3 15:51:24 2009
From: calimero22 at freemail.it (calimero22@freemail.it)
Date: Mon Aug  3 15:51:29 2009
Subject: [Harbour] Graphic with Harbour
Message-ID: <20090803195124.CC371680455E@eva104.dadanet.it>

An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090803/c5f947e1/attachment.html
From amigosam at adinet.com.uy  Mon Aug  3 16:06:47 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Aug  3 16:06:24 2009
Subject: [Harbour] Re: QT - HBXBP - XbpBrowse() vs TBrowse()
In-Reply-To: <24795410.post@talk.nabble.com>
References: <24795410.post@talk.nabble.com>
Message-ID: <h57fvb$1ao$1@ger.gmane.org>

I'd really like to have both.
100% compatibility doesn't mean you can't improve xbpparts or add 
inexistent ones like the richtext editor or a spreadsheet.

JMHO
Angel

PD: Congrats for your great job.
     The only feature I find missing is masked imput (xbpget) to start 
         developing real apps.


Pritpal Bedi escribi?:
> Hello Everybody
> 
> 
> Second - as I am in a position to provide both TBrowse() and XbpBrowse() 
> approaches, what do you think if I retain both or only XbpBrowse().
> Internally, TBrowse() will map itself to XbpBrowse(). 
> 
> Opinions are welcome.
> 
> Regards
> Pritpal Bedi

From jlcapel2 at gmail.com  Mon Aug  3 16:06:59 2009
From: jlcapel2 at gmail.com (=?ISO-8859-1?Q?Jos=E9_Luis_Capel?=)
Date: Mon Aug  3 16:07:06 2009
Subject: [Harbour] SMS
In-Reply-To: <133778360908030929w498fabd2g60e11952ceb02e7d@mail.gmail.com>
References: <133778360908030929w498fabd2g60e11952ceb02e7d@mail.gmail.com>
Message-ID: <ab2a7b4c0908031306i64e929c3rcc3620fdbf5b701@mail.gmail.com>

Hi Bruno,

As far I know this only works on smartphone devices.  I'll investigate if it
is possible to use this api from a desktock computer with a smartphone
conneted to.

Maybe you are looking for a sms service?? I think there are serveral web
sites that can offer you this service (send sms from a desktop computer
througth a web service).

Regards,
Jos? Luis Capel



2009/8/3 Bruno Luciani <bruno.luciani@gmail.com>

> People.
>
> The SMS function from Jose Luis Capel is only for Wince
>
> or is usefull for use in PC too
>
> Bruno
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090803/5bab284d/attachment.html
From mbelgrano at deltain.it  Mon Aug  3 17:33:10 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Aug  3 17:33:38 2009
Subject: [Harbour] QT - HBXBP - XbpBrowse() - Some realtime code
In-Reply-To: <24796725.post@talk.nabble.com>
References: <24796725.post@talk.nabble.com>
Message-ID: <609353e70908031433v2007e52djaa9df58005b625e9@mail.gmail.com>

http://www.xbaseforum.de/viewforum.php?f=23
ftp://ftp.alaska-software.com/documents/MTTUTOR2.PDF
http://www.combifinanz.de/tools/sbrowse.htm
http://www.xbaseprogrammer.com/Content.cgi?Menu=Source%20Code
http://www.xbwin.com/
http://www.idep.nl/

2009/8/3 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hello Everybody
>
> I am looking for some real-life XbpBrowse() code example
> to compare and check my results. Please forward it on the list
> if you have one. Please make it as isolated as possible.
>
> I am intesrested in how AppEvent() loop interacts with XbpBrowse().
> Please forward code which you think is the most complex part
> of your XbpBrowse() implementation.
>
> Alaska's example code is very basic and that is working OK.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context: http://www.nabble.com/QT---HBXBP---XbpBrowse%28%29---Some-realtime-code-tp24796725p24796725.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From alxokhotnikov at gmail.com  Mon Aug  3 17:48:37 2009
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Mon Aug  3 17:48:42 2009
Subject: [Harbour] Kubuntu 9.10 and HBQT
Message-ID: <d6fa31440908031448x725f6256l265314625298eeca@mail.gmail.com>

Hi

After upgrade my Kubuntu (up to Kubuntu karmic 9.10, GCC 4.4,?KDE 4.3 RC3):
attempt to start (demo in "contrib/hbqt/tests/demoqt") leads to error
"Segmentation fault (core dumped)"
From vszakats at users.sourceforge.net  Mon Aug  3 18:52:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug  3 18:52:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11963] trunk/harbour
Message-ID: <E1MY6OU-0004km-72@dn4whf1.ch3.sourceforge.com>

Revision: 11963
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11963&view=rev
Author:   vszakats
Date:     2009-08-03 22:52:28 +0000 (Mon, 03 Aug 2009)

Log Message:
-----------
2009-08-04 00:33 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    * Minor.

  * config/global.cf
    + Added screen dump of build settings. Initial version,
      only settings having standard names are being shown.
    + Added some new links to comment.
    ! Fixed $(info ...) usage protection.

  * Makefile
    % Using ':=' assignments where possible.
    ! Fixed to choose OS/2 postinst script based on shell, not
      HB_ARCHITECTURE.
    * Indentation.

  * make_gnu.bat
    + Added alternative GNU Make executable names in comment.

  * source/compiler/cmdcheck.c
    + Added support for --help cmdline option.

  * config/dir.cf
    * Indentation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/Makefile
    trunk/harbour/config/dir.cf
    trunk/harbour/config/global.cf
    trunk/harbour/contrib/xhb/hterrsys.prg
    trunk/harbour/contrib/xhb/tfile.prg
    trunk/harbour/contrib/xhb/thtm.prg
    trunk/harbour/make_gnu.bat
    trunk/harbour/source/compiler/cmdcheck.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Mon Aug  3 19:00:41 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Aug  3 19:00:48 2009
Subject: [Harbour] SMS
In-Reply-To: <ab2a7b4c0908031306i64e929c3rcc3620fdbf5b701@mail.gmail.com>
References: <133778360908030929w498fabd2g60e11952ceb02e7d@mail.gmail.com>
	<ab2a7b4c0908031306i64e929c3rcc3620fdbf5b701@mail.gmail.com>
Message-ID: <133778360908031600s370693eeh2693a1238fd2da4c@mail.gmail.com>

HI Jose Luis

Is not for me , but for a Minigui programmer

She need to send SMS from harbour code

thanks anyway

Bruno

El 3 de agosto de 2009 17:06, Jos? Luis Capel <jlcapel2@gmail.com> escribi?:

> Hi Bruno,
>
> As far I know this only works on smartphone devices.  I'll investigate if
> it is possible to use this api from a desktock computer with a smartphone
> conneted to.
>
> Maybe you are looking for a sms service?? I think there are serveral web
> sites that can offer you this service (send sms from a desktop computer
> througth a web service).
>
> Regards,
> Jos? Luis Capel
>
>
>
> 2009/8/3 Bruno Luciani <bruno.luciani@gmail.com>
>
>> People.
>>
>> The SMS function from Jose Luis Capel is only for Wince
>>
>> or is usefull for use in PC too
>>
>> Bruno
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090803/a346cbf5/attachment.html
From siki at msoft.cz  Mon Aug  3 19:22:29 2009
From: siki at msoft.cz (Davor Siklic)
Date: Mon Aug  3 19:22:37 2009
Subject: [Harbour] Kubuntu 9.10 and HBQT
In-Reply-To: <d6fa31440908031448x725f6256l265314625298eeca@mail.gmail.com>
References: <d6fa31440908031448x725f6256l265314625298eeca@mail.gmail.com>
Message-ID: <4A777135.3040608@msoft.cz>

Alexandr Okhotnikov napsal(a):
> Hi
>
> After upgrade my Kubuntu (up to Kubuntu karmic 9.10, GCC 4.4, KDE 4.3 RC3):
> attempt to start (demo in "contrib/hbqt/tests/demoqt") leads to error
> "Segmentation fault (core dumped)"
>   
First come in mind that you need to recompile harbour
best regards
Davor


> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>   

From vszakats at users.sourceforge.net  Mon Aug  3 19:27:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug  3 19:27:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11964] trunk/harbour
Message-ID: <E1MY6vl-0005rW-Vc@d5vjzd1.ch3.sourceforge.com>

Revision: 11964
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11964&view=rev
Author:   vszakats
Date:     2009-08-03 23:27:00 +0000 (Mon, 03 Aug 2009)

Log Message:
-----------
2009-08-04 01:25 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    ! Further tweaked HB_STRICT_ALIGNMENT detection by using
      HB_CPU_* macros.
      Please review and extend/tweak if needed.

  * include/hbdefs.h
  * include/hbsetup.h
  * include/hbinit.h
  * source/vm/fm.c
  * source/common/hbver.c
  * config/sunos/sunpro.cf
    + Patch for Sun support by Tamas Tevesz.
      - SunPro compiler C++ mode support.
      - HB_STRICT_ALIGNMENT config refinement for Sun platform.
      - SunPro compiler version detection will detect raw version
        number for newer releases.
      - SunPro optimization flag tweaks for C/C++ mode.
        Trying to be Blastwave.org compatible as much as possible.
      - LD_OUT -o option tweak for SunPro.
      ; NOTE: -o option should better be revised for all supported
              [gcc] compilers to have space between it and the
              filename.

  * source/vm/extrap.c
    + Changed to use HB_CPU_* macros instead of using compiler
      specific ones.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbinit.h
    trunk/harbour/include/hbsetup.h
    trunk/harbour/source/common/hbver.c
    trunk/harbour/source/vm/extrap.c
    trunk/harbour/source/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Mon Aug  3 21:06:10 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Aug  3 21:06:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11965] trunk/harbour
Message-ID: <E1MY8Ti-0005fr-7Z@74yxhf1.ch3.sourceforge.com>

Revision: 11965
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11965&view=rev
Author:   vouchcac
Date:     2009-08-04 01:06:08 +0000 (Tue, 04 Aug 2009)

Log Message:
-----------
2009-08-03 18:00 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/qt45.qtp

  * contrib/hbqt/qth/QAbstractItemModel.qth
  + contrib/hbqt/qth/QFontMetrics.qth
  * contrib/hbqt/qth/QSize.qth

  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/Makefile_gen
  * contrib/hbqt/QAbstractItemModel.cpp
  + contrib/hbqt/QFontMetrics.cpp
  * contrib/hbqt/QSize.cpp
  * contrib/hbqt/TQAbstractItemModel.prg
  * contrib/hbqt/TQFontMetrics.prg
    + Added one more class and updated others.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile_gen
    trunk/harbour/contrib/hbqt/QAbstractItemModel.cpp
    trunk/harbour/contrib/hbqt/QSize.cpp
    trunk/harbour/contrib/hbqt/TQAbstractItemModel.prg
    trunk/harbour/contrib/hbqt/generator/qt45.qtp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/qth/QAbstractItemModel.qth
    trunk/harbour/contrib/hbqt/qth/QSize.qth

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/QFontMetrics.cpp
    trunk/harbour/contrib/hbqt/TQFontMetrics.prg
    trunk/harbour/contrib/hbqt/qth/QFontMetrics.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug  3 21:26:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug  3 21:26:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11966] trunk/harbour
Message-ID: <E1MY8n9-0000ga-5L@dn4whf1.ch3.sourceforge.com>

Revision: 11966
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11966&view=rev
Author:   vszakats
Date:     2009-08-04 01:26:12 +0000 (Tue, 04 Aug 2009)

Log Message:
-----------
2009-08-04 03:18 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_slots.cpp
    ! Deleted windows.h.

  * include/hbsetup.h
    + PPC CPU detection made better.

  * include/hbatomic.h
  * source/vm/maindllp.c
  * source/rtl/gttone.c
    + Using HB_CPU_* macros to detect CPU instead of compiler
      specific solutions.
      Przemek, please review me.

  * source/vm/maindllp.c
    % Using hbver.h constants to form the version number
      included in the .dll name. So it's now maintainence
      free.
    % Reduced redundancy when forming .dll names.

  * source/vm/maindllp.c
  * utils/hbmk2/hbmk2.prg
    * Renamed wce .dll to harbour[mt]-20-wce-arm.dll
    * Renamed non-ARM wce .dlls to harbour[mt]-20-wce.dll

  * INSTALL
  + config/linux/sunpro.cf
    + Added Sun Studio compiler support for Linux platforms.
      Thanks Tamas Tevesz for the tip that this port exists.
      It has various problems to fix, but it's a start.

  * config/sunos/sunpro.cf
    ! Typo in prev commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/include/hbatomic.h
    trunk/harbour/include/hbsetup.h
    trunk/harbour/source/rtl/gttone.c
    trunk/harbour/source/vm/maindllp.c
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/config/linux/sunpro.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug  3 21:34:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug  3 21:34:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11967] trunk/harbour
Message-ID: <E1MY8uq-0000tt-Lm@dn4whf1.ch3.sourceforge.com>

Revision: 11967
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11967&view=rev
Author:   vszakats
Date:     2009-08-04 01:34:11 +0000 (Tue, 04 Aug 2009)

Log Message:
-----------
2009-08-04 03:32 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/vm/dynlibhb.c
    ! Fixed to not use dl*() functions on linux/sunpro.

  * config/linux/sunpro.cf
    ! Fixed to include gpm lib.

  ; TOFIX: linux/sunpro linking dies on:
           ../../../../../lib/linux/sunpro/libhbpcre.a(pcrecomp.o): In function `check_auto_possessive':
           pcrecomp.c:(.text+0x2952): undefined reference to `.CG4A.3263'
           pcrecomp.c:(.text+0x2959): undefined reference to `.CG4A.3263'
           pcrecomp.c:(.text+0x2b29): undefined reference to `.CG40.3253'
           pcrecomp.c:(.text+0x2b30): undefined reference to `.CG40.3253'

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/source/vm/dynlibhb.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug  3 21:39:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug  3 21:39:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11968] trunk/harbour
Message-ID: <E1MY8zl-00014l-20@dn4whf1.ch3.sourceforge.com>

Revision: 11968
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11968&view=rev
Author:   vszakats
Date:     2009-08-04 01:39:15 +0000 (Tue, 04 Aug 2009)

Log Message:
-----------
2009-08-04 03:38 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/linux/sunpro.cf
  * config/sunos/sunpro.cf
    ! Fixed bug I've mistakenly added when applying the patch.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/sunos/sunpro.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug  3 21:44:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug  3 21:44:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11969] trunk/harbour
Message-ID: <E1MY94r-0001DB-4M@dn4whf1.ch3.sourceforge.com>

Revision: 11969
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11969&view=rev
Author:   vszakats
Date:     2009-08-04 01:44:32 +0000 (Tue, 04 Aug 2009)

Log Message:
-----------
2009-08-04 03:44 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/vm/fm.c
    ! Fixed linux/sunpro warning.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From alxokhotnikov at gmail.com  Tue Aug  4 00:02:32 2009
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Tue Aug  4 00:02:38 2009
Subject: [Harbour] Kubuntu 9.10 and HBQT
In-Reply-To: <4A777135.3040608@msoft.cz>
References: <d6fa31440908031448x725f6256l265314625298eeca@mail.gmail.com>
	<4A777135.3040608@msoft.cz>
Message-ID: <d6fa31440908032102o5c9c7256m3e21ba256aafda5b@mail.gmail.com>

Well, of course, this is the first that has been done!

More suggestions?


>> After upgrade my Kubuntu (up to Kubuntu karmic 9.10, GCC 4.4, KDE 4.3
>> RC3):
>> attempt to start (demo in "contrib/hbqt/tests/demoqt") leads to error
>> "Segmentation fault (core dumped)"
>>
>
> First come in mind that you need to recompile harbour
> best regards
> Davor
From kadziola at tlen.pl  Tue Aug  4 01:23:11 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Tue Aug  4 01:23:21 2009
Subject: [Harbour] SMS
In-Reply-To: <133778360908031600s370693eeh2693a1238fd2da4c@mail.gmail.com>
References: <133778360908030929w498fabd2g60e11952ceb02e7d@mail.gmail.com>
	<ab2a7b4c0908031306i64e929c3rcc3620fdbf5b701@mail.gmail.com>
	<133778360908031600s370693eeh2693a1238fd2da4c@mail.gmail.com>
Message-ID: <1084823106.20090804072311@tlen.pl>

Hi Bruno,


BL> Is not for me , but for a Minigui programmer

BL> She need to send SMS from harbour code

I use this small but very good app : http://www.xharbour.com/xhc/index.asp?page=xhc_download_detail.asp&type=dl&id=108
This is not source code but maybe author Fred Chan can make accessible
it?

-- 
Regards
 Jaroslaw Kadziola

From vszakats at users.sourceforge.net  Tue Aug  4 06:42:41 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug  4 06:42:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11970] trunk/harbour
Message-ID: <E1MYHTd-00027M-7M@74yxhf1.ch3.sourceforge.com>

Revision: 11970
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11970&view=rev
Author:   vszakats
Date:     2009-08-04 10:42:40 +0000 (Tue, 04 Aug 2009)

Log Message:
-----------
2009-08-04 12:41 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtpathy/tpwin.c
  * contrib/hbtpathy/ChangeLog
  * contrib/hbtpathy/telepath.prg
    * Formatting.
    + Added some dummy functions to at least make the win version link
      properly. It didn't work for me though.

  * contrib/hbwin/win_tprt.prg
  * contrib/hbwin/win_prt.c
    * Formatting.
    * Added Hungarian notation to variables.
    ! Tweaked a few types.
    + Extended number of ports to 32 (from 16). F.e. on my system
      the Nokia phone gets installed on COM22.
    ; TODO: Rename functions/class to comply with rest of lib.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/ChangeLog
    trunk/harbour/contrib/hbtpathy/telepath.prg
    trunk/harbour/contrib/hbtpathy/tpwin.c
    trunk/harbour/contrib/hbwin/win_prt.c
    trunk/harbour/contrib/hbwin/win_tprt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Aug  4 06:46:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug  4 06:46:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11971]
	trunk/harbour/ChangeLog
Message-ID: <E1MYHXQ-0002Dm-O8@74yxhf1.ch3.sourceforge.com>

Revision: 11971
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11971&view=rev
Author:   vszakats
Date:     2009-08-04 10:46:35 +0000 (Tue, 04 Aug 2009)

Log Message:
-----------
missed from prev ChangeLog entry, hbwin part:

    ! Fixed to not GPF when wrong port number is passed. Instead RTE 
      is generated now.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Tue Aug  4 07:46:48 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Aug  4 07:46:55 2009
Subject: [Harbour] SMS
In-Reply-To: <1084823106.20090804072311@tlen.pl>
References: <133778360908030929w498fabd2g60e11952ceb02e7d@mail.gmail.com>
	<ab2a7b4c0908031306i64e929c3rcc3620fdbf5b701@mail.gmail.com>
	<133778360908031600s370693eeh2693a1238fd2da4c@mail.gmail.com>
	<1084823106.20090804072311@tlen.pl>
Message-ID: <133778360908040446s6a563e11o1454558fa9420364@mail.gmail.com>

OK I tell to Paola to try it

thanks Jaroslaw

Bruno

2009/8/4 Jaroslaw Kadziola <kadziola@tlen.pl>

> Hi Bruno,
>
>
> BL> Is not for me , but for a Minigui programmer
>
> BL> She need to send SMS from harbour code
>
> I use this small but very good app :
> http://www.xharbour.com/xhc/index.asp?page=xhc_download_detail.asp&type=dl&id=108
> This is not source code but maybe author Fred Chan can make accessible
> it?
>
> --
> Regards
>  Jaroslaw Kadziola
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090804/9c64db4c/attachment.html
From vszakats at users.sourceforge.net  Tue Aug  4 08:59:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug  4 08:59:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11972] trunk/harbour
Message-ID: <E1MYJcM-0003s8-3J@c3vjzd1.ch3.sourceforge.com>

Revision: 11972
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11972&view=rev
Author:   vszakats
Date:     2009-08-04 12:59:48 +0000 (Tue, 04 Aug 2009)

Log Message:
-----------
2009-08-04 14:59 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/rtl/gtsln/kbsln.c
    ! Silenced linux/sunpro warning.

  * config/linux/sunpro.cf
    ! Minor fix.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/source/rtl/gtsln/kbsln.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From carozodequilmes at gmail.com  Tue Aug  4 11:18:01 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Tue Aug  4 11:18:07 2009
Subject: [Harbour] New HBQT class
Message-ID: <578c73340908040818h66b114a2icea0a430f53a33d1@mail.gmail.com>

Hi Pritpal, can you add the QStyleFactory class to HbQt library ?

Thanks in advance
CdQ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090804/afcec538/attachment.html
From vszakats at users.sourceforge.net  Tue Aug  4 13:45:49 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug  4 13:45:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11973] trunk/harbour
Message-ID: <E1MYO57-0001XV-NQ@c3vjzd1.ch3.sourceforge.com>

Revision: 11973
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11973&view=rev
Author:   vszakats
Date:     2009-08-04 17:45:48 +0000 (Tue, 04 Aug 2009)

Log Message:
-----------
2009-08-04 19:43 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/pp/pplib.c
  * source/compiler/hbstripl.c
    + Added HB_EXTERN_BEGIN/END plus explicit declaration of
      some static functions to make SunPro C++ mode happy.
      There are still *tons* of warnings messages, most of them
      complaining about function declaration 'extern "C"' and
      const differences, even in Harbour generated C code.
      These fixes are experimental and address just the tip
      of the iceberg.
      Please review me.

  * contrib/hbwin/wapi_winbase.c
    + Added WAPI_FORMATMESSAGE(). Unicode support implemented, but
      not tested, last parameter not implemented. This should replace
      limited FORMATMESSAGE() implementation found in win_prt.c.

  * contrib/hbwin/hbwin.ch
  * contrib/hbwin/win_tprt.prg
  * contrib/hbwin/tests/testprt1.prg
  * contrib/hbwin/tests/testprt2.prg
  * contrib/hbwin/win_prt.c
    * Functions and class renamed to have "win_" prefix.
    % Other minor cleanups.
    + win_portopen() returns -1 if the port number was out of
      range, so MAXSERIAL constant could be elminiated.
    % INVALID_HANDLE_VALUE constant is in reality an explicit
      -1 used by low-level lib layer, so I've elminiated it,
      and high-level lib layer also uses plain -1 now.
      Could be replaces by some macros, but it shouldn't
      use a Windows specific name.
    - Deleted FORMATMESSAGE().
    * Using WAPI_FORMATMESSAGE() instead of local FORMATMESSAGE().
      (they are not compatible)

  * contrib/hbwin/wce_smsc.c
    ! Added TOFIX for an lstrcpy() function. This is unsafe
      and can easily cause buffer overrun. Until someone
      fixes this properly, I've added a workaround where input
      string lenght is checked to be smaller than approriate
      buffer size. Only compilation was tested using poccarm,
      I have no WinCE decide.
      Jose, please have a look at it.

  * contrib/hbwin/olecore.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/contrib/hbwin/tests/testprt1.prg
    trunk/harbour/contrib/hbwin/tests/testprt2.prg
    trunk/harbour/contrib/hbwin/wapi_winbase.c
    trunk/harbour/contrib/hbwin/wce_smsc.c
    trunk/harbour/contrib/hbwin/win_prt.c
    trunk/harbour/contrib/hbwin/win_tprt.prg
    trunk/harbour/source/compiler/hbstripl.c
    trunk/harbour/source/pp/pplib.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Tue Aug  4 13:59:38 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Tue Aug  4 13:59:19 2009
Subject: [Harbour] Help for win/bcc
Message-ID: <vctg75lpfgib7h9hp91q7sfdcvl05qb02t@4ax.com>

Hi,

Now that fwh is ready for svn I?m trying to compile harbour, but I see
that some libs like hbwin is not here.  What I?m missing ?

this is my .BAT file, I use it in e:\ and hharbour is the harbour from
SVN, clean

--cut---
cd\hharbour

set HB_BIN_INSTALL=c:\harbour\bin
set HB_LIB_INSTALL=c:\harbour\lib
set HB_INC_INSTALL=c:\harbour\include
set HB_DOC_INSTALL=c:\harbour\doc

set PATH=e:\bcc55\bin;%PATH%

set HB_USER_CFLAGS=-DHB_GUI -DHB_FM_STATISTICS_OFF -DHB_NO_PROFILER
-DADS_LIB_VERSION=700 -DHB_HASH_MSG_ITEMS -DHB_NO_DEBUG
-DHB_LEGACY_OFF -DHB_FM_STD_ALLOC

set HB_COMPILER=bcc
set HB_ARCHITECTURE=win

set HB_CONTRIBLIBS=no
set HB_EXTERNALLIBS=no

set HB_CONTRIB_ADDONS=rddads hbct hbmzip hbwin hbtip

set HB_INC_ADS=e:\ads\acesdk

set ADS_VER=7

copy e:\make\bin

del log-%HB_COMPILER%.txt

call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
---cut---


Thanks and best regards,

Toninho.

__________________________________________________
Fa?a liga??es para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From toninhofwi at yahoo.com.br  Tue Aug  4 14:15:59 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Tue Aug  4 14:15:39 2009
Subject: [Harbour] Help for win/bcc
In-Reply-To: <vctg75lpfgib7h9hp91q7sfdcvl05qb02t@4ax.com>
References: <vctg75lpfgib7h9hp91q7sfdcvl05qb02t@4ax.com>
Message-ID: <9kug759o18n16880gvmhdevksurbjeigb5@4ax.com>

Hi,

Maybe this is the source of the problem:

---cut---
Error: Unresolved external 'WSAIoctl' referenced from
E:\HHARBOUR\LIB\WIN\BCC\HBRTL.LIB|hbsocket
mingw32-make[3]: *** [hbrun.exe] Error 1
mingw32-make[3]: Leaving directory
`E:/hharbour/utils/hbrun/obj/win/bcc'
mingw32-make[2]: *** [descend] Error 2
mingw32-make[2]: Leaving directory `E:/hharbour/utils/hbrun'
mingw32-make[1]: *** [hbrun] Error 2
mingw32-make[1]: Leaving directory `E:/hharbour/utils'
mingw32-make: *** [utils] Error 2
Harbour GNU Make returned: 2
---cut---


Why Error: Unresolved external 'WSAIoctl' referenced from
E:\HHARBOUR\LIB\WIN\BCC\HBRTL.LIB|hbsocket ?

Regards,

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From carozodequilmes at gmail.com  Tue Aug  4 17:16:03 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Tue Aug  4 17:16:09 2009
Subject: [Harbour] New HBQT class (Part 2)
Message-ID: <578c73340908041416w14bca385p2d8caf532c7296d7@mail.gmail.com>

Hi Pritpal, can you add the QLibraryInfo class to HbQt library ???

Thanks in advance
CdQ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090804/762cf276/attachment.html
From mbelgrano at deltain.it  Tue Aug  4 17:16:05 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Aug  4 17:16:31 2009
Subject: [Harbour] Help for win/bcc
In-Reply-To: <vctg75lpfgib7h9hp91q7sfdcvl05qb02t@4ax.com>
References: <vctg75lpfgib7h9hp91q7sfdcvl05qb02t@4ax.com>
Message-ID: <609353e70908041416u5a7dfcf6obfc62bd40ec2569a@mail.gmail.com>

afaik you can remove
set ADS_VER=7
it detect version in e:\ads\acesdk

2009/8/4 Toninho@fwi <toninhofwi@yahoo.com.br>:
> Hi,
>
> Now that fwh is ready for svn I?m trying to compile harbour, but I see
> that some libs like hbwin is not here. ?What I?m missing ?
>
> this is my .BAT file, I use it in e:\ and hharbour is the harbour from
> SVN, clean
>
> --cut---
> cd\hharbour
>
> set HB_BIN_INSTALL=c:\harbour\bin
> set HB_LIB_INSTALL=c:\harbour\lib
> set HB_INC_INSTALL=c:\harbour\include
> set HB_DOC_INSTALL=c:\harbour\doc
>
> set PATH=e:\bcc55\bin;%PATH%
>
> set HB_USER_CFLAGS=-DHB_GUI -DHB_FM_STATISTICS_OFF -DHB_NO_PROFILER
> -DADS_LIB_VERSION=700 -DHB_HASH_MSG_ITEMS -DHB_NO_DEBUG
> -DHB_LEGACY_OFF -DHB_FM_STD_ALLOC
>
> set HB_COMPILER=bcc
> set HB_ARCHITECTURE=win
>
> set HB_CONTRIBLIBS=no
> set HB_EXTERNALLIBS=no
>
> set HB_CONTRIB_ADDONS=rddads hbct hbmzip hbwin hbtip
>
> set HB_INC_ADS=e:\ads\acesdk
>
> set ADS_VER=7
>
> copy e:\make\bin
>
> del log-%HB_COMPILER%.txt
>
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
> ---cut---
>
>
> Thanks and best regards,
>
> Toninho.
>
> __________________________________________________
> Fa?a liga??es para outros computadores com o novo Yahoo! Messenger
> http://br.beta.messenger.yahoo.com/
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From carozodequilmes at gmail.com  Tue Aug  4 17:36:45 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Tue Aug  4 17:36:53 2009
Subject: [Harbour] New HBQT class (Part 3) Last for today !!!!!!!
Message-ID: <578c73340908041436w2cac4501hca749918209fa9b0@mail.gmail.com>

Hi Pritpal, can you add the QFontMetrics and QFontMetricsF classes to HbQt
Library ????

Thanks in advance
CdQ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090804/595558c4/attachment.html
From bedipritpal at hotmail.com  Tue Aug  4 19:58:17 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Aug  4 19:58:23 2009
Subject: [Harbour] New HBQT class (Part 3) Last for today !!!!!!!
In-Reply-To: <578c73340908041436w2cac4501hca749918209fa9b0@mail.gmail.com>
References: <578c73340908041436w2cac4501hca749918209fa9b0@mail.gmail.com>
Message-ID: <24818339.post@talk.nabble.com>


Hi


CarozoDeQuilmes wrote:
> 
> Hi Pritpal, can you add the QFontMetrics and QFontMetricsF classes to HbQt
> Library ????
> 

Yesterday I added QFontMetrics().

Rest of your requested classes I will add within a day.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/New-HBQT-class-%28Part-3%29-Last-for-today-%21%21%21%21%21%21%21-tp24816765p24818339.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From carozodequilmes at gmail.com  Tue Aug  4 20:22:17 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Tue Aug  4 20:22:23 2009
Subject: [Harbour] New HBQT class (Part 3) Last for today !!!!!!!
In-Reply-To: <24818339.post@talk.nabble.com>
References: <578c73340908041436w2cac4501hca749918209fa9b0@mail.gmail.com>
	<24818339.post@talk.nabble.com>
Message-ID: <578c73340908041722x1e501d7i11066bd6fe43b3a6@mail.gmail.com>

Many thanks !!!
CdQ

On Tue, Aug 4, 2009 at 8:58 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi
>
>
> CarozoDeQuilmes wrote:
> >
> > Hi Pritpal, can you add the QFontMetrics and QFontMetricsF classes to
> HbQt
> > Library ????
> >
>
> Yesterday I added QFontMetrics().
>
> Rest of your requested classes I will add within a day.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/New-HBQT-class-%28Part-3%29-Last-for-today-%21%21%21%21%21%21%21-tp24816765p24818339.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
QAC (I want something comfortable !!!) - Incremental Compilation with all
MiniGUIs versions
QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
versiones de MiniGUI

Download: www.CarozoDeQuilmes.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090804/1b1f7059/attachment.html
From vouchcac at users.sourceforge.net  Wed Aug  5 02:38:07 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Aug  5 02:38:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11974] trunk/harbour
Message-ID: <E1MYa8V-0007Rs-2L@d5vjzd1.ch3.sourceforge.com>

Revision: 11974
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11974&view=rev
Author:   vouchcac
Date:     2009-08-05 06:38:05 +0000 (Wed, 05 Aug 2009)

Log Message:
-----------
2009-08-04 23:34 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/qt45.qtp

  + contrib/hbqt/qth/QFontMetricsF.qth
  + contrib/hbqt/qth/QStyleFactory.qth

  * contrib/hbqt/hbqt.h
  * contrib/hbqt/Makefile_gen
  + contrib/hbqt/QFontMetricsF.cpp
  + contrib/hbqt/QStyleFactory.cpp
  + contrib/hbqt/TQFontMetricsF.prg
  + contrib/hbqt/TQStyleFactory.prg
    + Added two more classes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile_gen
    trunk/harbour/contrib/hbqt/generator/qt45.qtp
    trunk/harbour/contrib/hbqt/hbqt.h

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/QFontMetricsF.cpp
    trunk/harbour/contrib/hbqt/QStyleFactory.cpp
    trunk/harbour/contrib/hbqt/TQFontMetricsF.prg
    trunk/harbour/contrib/hbqt/TQStyleFactory.prg
    trunk/harbour/contrib/hbqt/qth/QFontMetricsF.qth
    trunk/harbour/contrib/hbqt/qth/QStyleFactory.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Wed Aug  5 02:41:01 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Aug  5 02:41:06 2009
Subject: [Harbour] New HBQT class (Part 2)
In-Reply-To: <578c73340908041416w14bca385p2d8caf532c7296d7@mail.gmail.com>
References: <578c73340908041416w14bca385p2d8caf532c7296d7@mail.gmail.com>
Message-ID: <24821524.post@talk.nabble.com>


Hello


CarozoDeQuilmes wrote:
> 
> Hi Pritpal, can you add the QLibraryInfo class to HbQt library ???
> 

This cannot be compiled with current source generation.
I have to change some parts of source generation and only then
it will be possible. It may take few days.

Regards
Pritpal Bedi

PS : BTW for what purpose you need QLibraryInfo() class ?

-- 
View this message in context: http://www.nabble.com/New-HBQT-class-%28Part-2%29-tp24816469p24821524.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Wed Aug  5 03:39:30 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug  5 03:39:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11975] trunk/harbour
Message-ID: <E1MYb5u-0001Sj-Kw@c3vjzd1.ch3.sourceforge.com>

Revision: 11975
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11975&view=rev
Author:   vszakats
Date:     2009-08-05 07:39:27 +0000 (Wed, 05 Aug 2009)

Log Message:
-----------
2009-08-05 09:38 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * ChangeLog
    ! Typos in recent entries.

  * source/common/hbver.c
    * Cosmetic patch by Tamas Tevesz.

  + config/readme.txt
    + Added readme.txt to include license and links to included
      binaries and sources.
    ; It'd be probably better to delete all these binaries
      (GNU Makes are only there for convenience), but then
      'mkdir -p' and 'rm -f -r' commands need to be hacked somehow
      for DOS and OS/2 shells. Also a proper copy cmd is needed
      for DOS. Maybe we should simple write these simple utilities
      using a public domain license and include the binaries of these.
      Couldn't find the source of the OS/2 tools' binary releases.

  * config/mingw32-make.exe
  * config/dj-rm.exe
  * config/dj-cp.exe
  * config/dj-mkdir.exe
    * Updated to match the exact binaries referred to in readme.txt.
      (no change in functionality or version numbers)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dj-cp.exe
    trunk/harbour/config/dj-mkdir.exe
    trunk/harbour/config/dj-rm.exe
    trunk/harbour/config/mingw32-make.exe
    trunk/harbour/source/common/hbver.c

Added Paths:
-----------
    trunk/harbour/config/readme.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Aug  5 04:07:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug  5 04:07:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11976] trunk/harbour
Message-ID: <E1MYbWa-0001zQ-VP@c3vjzd1.ch3.sourceforge.com>

Revision: 11976
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11976&view=rev
Author:   vszakats
Date:     2009-08-05 08:07:03 +0000 (Wed, 05 Aug 2009)

Log Message:
-----------
2009-08-05 10:05 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * bin/postinst.sh
  * make_gnu.sh
  + config/linux/sunpro64.cf
  * config/linux/sunpro.cf
  * config/sunos/sunpro64.cf
  * config/sunos/sunpro.cf
    ; Applyied patch by Tamas Tevesz.
    ! Fixes for Sun Pro so generation.
    + Added sunpro64.cf for linux.
    + Added HB_ISAOPT variable to hold ISA selection switches.
    + Added $(HB_CCPATH)$(HB_CCPREFIX) to sunos/sunpro.cf to CC/LD.
    ! Typo in make_gcc.sh (== -> =)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.sh
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/config/sunos/sunpro64.cf
    trunk/harbour/make_gnu.sh

Added Paths:
-----------
    trunk/harbour/config/linux/sunpro64.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Aug  5 05:30:43 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Aug  5 05:31:09 2009
Subject: [Harbour] Declare structures in Xbase++ & C syntax
Message-ID: <609353e70908050230v64b5de32m89cb2883c9e41705@mail.gmail.com>

Can harbourDeclare structures in Xbase++ & C  syntax?


// Xbase++ style structure declaration
STRUCTURE SystemTime
   MEMBER Year         AS WORD
   MEMBER Month        AS WORD
   MEMBER DayOfWeek    AS WORD
   MEMBER Day          AS WORD
   MEMBER Hour         AS WORD
   MEMBER Minute       AS WORD
   MEMBER Second       AS WORD
   MEMBER Milliseconds AS WORD
ENDSTRUCT


// C/C++ style structure declaration
// - taken from WINBASE.H via cut & paste
// - line continuation character ";" added where needed
typedef struct _TIME_ZONE_INFORMATION { ;
    LONG Bias;                     //   ^ this ";" is added for Xbase++
    WCHAR StandardName[ 32 ];      //
    SYSTEMTIME StandardDate;       //   embedded STRUCTURE
    LONG StandardBias;             //   ******************
    WCHAR DaylightName[ 32 ];      //
    SYSTEMTIME DaylightDate;       //   embedded STRUCTURE
    LONG DaylightBias;             //   ******************
} TIME_ZONE_INFORMATION, *PTIME_ZONE_INFORMATION, *LPTIME_ZONE_INFORMATION;



The XbStruct library is a complete extension to the Xbase++
programming language. It gives an Xbase++ programmer the ability to
use structures and pointers on the Xbase++ language level.

http://www.knowlexbase.com/en/software/products/xbstruct/index.html



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
From toninhofwi at yahoo.com.br  Wed Aug  5 06:18:03 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Wed Aug  5 06:17:40 2009
Subject: [Harbour] Help for win/bcc
In-Reply-To: <609353e70908041416u5a7dfcf6obfc62bd40ec2569a@mail.gmail.com>
References: <vctg75lpfgib7h9hp91q7sfdcvl05qb02t@4ax.com>
	<609353e70908041416u5a7dfcf6obfc62bd40ec2569a@mail.gmail.com>
Message-ID: <61ni759vhkvto0c6t911m254qfl7ujp8g0@4ax.com>

Hi Massimo.

>afaik you can remove
>set ADS_VER=7
>it detect version in e:\ads\acesdk

I know and it is intentional.

My question is:

Why Error: Unresolved external 'WSAIoctl' referenced from
E:\HHARBOUR\LIB\WIN\BCC\HBRTL.LIB|hbsocket ?



Regards,

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From sscc at mweb.co.za  Wed Aug  5 07:38:19 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Aug  5 07:38:23 2009
Subject: [Harbour] Install of harbour.ico
Message-ID: <4A796F2B.60503@mweb.co.za>

Hi Viktor

1. With ChangeLog 11972 running:

	make_gnu.bat install

I got in log-msvc.bat:

C:\Users\Alex\AppData\Local\Temp\hbmk_sj1o73.rc(4) : error RC2135 : file not 
found: C:\Userslex\SourceForge\harbour-2.0.0dev\package\harbour.ico

hbmk: Error: Running resource compiler. 1
rc.exe -I"C:\users\alex\harbour-2.0.0dev\include" /fo hbmk_sj1o73.res 
C:\Users\Alex\AppData\Local\Temp\hbmk_sj1o73.rc

The character is a 0x8, if it does not come out in the mail.

2. I am converting my project to use .hbp files and as some stage a lot of .c 
files were created in my project dir, not the .hbmk dir. I can't be more 
specific but if it happens again with someone else - it will be a confirmation. 
Fortunately your automatic header allowed me to easily separate them from the .c 
files I need.

Regards
Alex
From toninhofwi at yahoo.com.br  Wed Aug  5 07:49:26 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Wed Aug  5 07:49:03 2009
Subject: [Harbour] Help for win/bcc
In-Reply-To: <vctg75lpfgib7h9hp91q7sfdcvl05qb02t@4ax.com>
References: <vctg75lpfgib7h9hp91q7sfdcvl05qb02t@4ax.com>
Message-ID: <n7si759fkt7tkegmv0budkg353egi2hq4v@4ax.com>

Hi Viktor,

The problem is solved by adding ws2_32.lib in
\harbour\utils\hbrun\makefile

What can be the problem? My environment?

TIA and best regards,

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From harbour.01 at syenar.hu  Wed Aug  5 07:50:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug  5 07:50:57 2009
Subject: [Harbour] Help for win/bcc
In-Reply-To: <61ni759vhkvto0c6t911m254qfl7ujp8g0@4ax.com>
References: <vctg75lpfgib7h9hp91q7sfdcvl05qb02t@4ax.com>
	<609353e70908041416u5a7dfcf6obfc62bd40ec2569a@mail.gmail.com>
	<61ni759vhkvto0c6t911m254qfl7ujp8g0@4ax.com>
Message-ID: <CC8B4DCC-2A3E-4E75-84A1-E6501CD2EBAA@syenar.hu>

Hi Toninho,

I'd guess it's some sort of local corruption of your original bcc libs.
(or local corruption of Harbour sources).

For sure it works on my system both with default, and your settings.

Brgds,
Viktor

On 2009.08.05., at 0:18, Toninho@fwi wrote:

> Hi Massimo.
>
>> afaik you can remove
>> set ADS_VER=7
>> it detect version in e:\ads\acesdk
>
> I know and it is intentional.
>
> My question is:
>
> Why Error: Unresolved external 'WSAIoctl' referenced from
> E:\HHARBOUR\LIB\WIN\BCC\HBRTL.LIB|hbsocket ?
>
>
>
> Regards,
>
> Toninho.
>
> __________________________________________________
> Fa?a liga??es para outros computadores com o novo Yahoo! Messenger
> http://br.beta.messenger.yahoo.com/
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug  5 07:57:37 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug  5 07:57:45 2009
Subject: [Harbour] Help for win/bcc
In-Reply-To: <n7si759fkt7tkegmv0budkg353egi2hq4v@4ax.com>
References: <vctg75lpfgib7h9hp91q7sfdcvl05qb02t@4ax.com>
	<n7si759fkt7tkegmv0budkg353egi2hq4v@4ax.com>
Message-ID: <0BA8EF17-0937-422F-80F2-0DF8BCEFCACF@syenar.hu>

> Hi Viktor,
>
> The problem is solved by adding ws2_32.lib in

Yes, this symbol is defined in this lib. But it should
be linked automatically. At least on my system it does
without any special tricks.

> \harbour\utils\hbrun\makefile
>
> What can be the problem? My environment?

That would be my guess, yes.

Try adding PSDK dir to your liblist. Maybe that.

[ Maybe because ws2_32.lib is present in both lib and
lib/PSDK dir with different versions although both has
this symbol. ]

Brgds,
Viktor

From sscc at mweb.co.za  Wed Aug  5 08:23:52 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Aug  5 08:24:22 2009
Subject: [Harbour] hbactivex.lib
Message-ID: <4A7979D8.4000504@mweb.co.za>

Hi

I got this error when trying to link:

hbactivex.lib(c_activex.obj) : error LNK2019: unresolved external symbol 
_hb_stack referenced in function _HB_FUN_CREATEACTIVEX
easipos.exe : fatal error LNK1120: 1 unresolved externals
hbmk: Error: Running linker. 1120

Can anyone help?

Regards
Alex

Cross posted to Harbour and HWGUI.

From abe.buch at att.net  Wed Aug  5 08:45:09 2009
From: abe.buch at att.net (AbeB)
Date: Wed Aug  5 08:45:14 2009
Subject: [Harbour] debuger annoyance
Message-ID: <1249476309124-3391320.post@n2.nabble.com>


when selecting to show variables (like private or local) so that the
variables window gets enlarged & the source file window get smaller, then
the current source line get out of sight. (scrolled of the source window).
looks like it needs to be recalculated.

hope i'm clear enough.
thanks
abe
-- 
View this message in context: http://n2.nabble.com/debuger-annoyance-tp3391320p3391320.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From sscc at mweb.co.za  Wed Aug  5 08:58:28 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Aug  5 08:58:32 2009
Subject: [Harbour] -debug and -ldflag with .hbp 
Message-ID: <4A7981F4.5090101@mweb.co.za>

Hi Viktor

1. If I add

-debug

to my .hbp file I get:

LINK : warning LNK4098: defaultlib 'LIBCMTD' conflicts with use of other libs; 
use /NODEFAULTLIB:library

with MSVC. I don't see any other difference in the output, maybe I don't 
understand it.

2. I am trying:

-ldflag=LINKFORCE=/force:unresolved

to force a link, but it appears to be ignored?

Regards
Alex
From harbour.01 at syenar.hu  Wed Aug  5 09:11:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug  5 09:11:40 2009
Subject: [Harbour] -debug and -ldflag with .hbp 
In-Reply-To: <4A7981F4.5090101@mweb.co.za>
References: <4A7981F4.5090101@mweb.co.za>
Message-ID: <928DDE07-AE62-45BF-B07A-59CC9B0E4501@syenar.hu>

> Hi Viktor
>
> 1. If I add
>
> -debug
>
> to my .hbp file I get:
>
> LINK : warning LNK4098: defaultlib 'LIBCMTD' conflicts with use of  
> other libs; use /NODEFAULTLIB:library
>
> with MSVC. I don't see any other difference in the output, maybe I  
> don't understand it.

You're trying to mix msvc libs with different build settings, maybe even
built with different msvc versions. Try rebuilding every libs with the  
same
settings. Look at /MT /MD switches.

> 2. I am trying:
>
> -ldflag=LINKFORCE=/force:unresolved
>
> to force a link, but it appears to be ignored?

It's not a solution for the problem. But this switch
should be passed like this: -ldflag=/force:unresolved

I'll delete -MTd option from hbmk2, as it just confuses
the matter. (see line #2765 in hbmk2.prg)

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Aug  5 09:13:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug  5 09:13:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11977] trunk/harbour
Message-ID: <E1MYgIv-0006xu-8X@dn4whf1.ch3.sourceforge.com>

Revision: 11977
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11977&view=rev
Author:   vszakats
Date:     2009-08-05 13:13:16 +0000 (Wed, 05 Aug 2009)

Log Message:
-----------
2009-08-05 15:12 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Deleted -MTd win/msvc compiler switch in -debug mode to not
      leave it to the default settings and give users full control
      of this.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Aug  5 10:34:53 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug  5 10:35:02 2009
Subject: [Harbour] Install of harbour.ico
In-Reply-To: <4A796F2B.60503@mweb.co.za>
References: <4A796F2B.60503@mweb.co.za>
Message-ID: <9D4219CA-7413-4F85-AB8C-25902737B743@syenar.hu>

> I got in log-msvc.bat:
>
> C:\Users\Alex\AppData\Local\Temp\hbmk_sj1o73.rc(4) : error RC2135 :  
> file not found: C:\Userslex\SourceForge\harbour-2.0.0dev\package 
> \harbour.ico
>
> hbmk: Error: Running resource compiler. 1
> rc.exe -I"C:\users\alex\harbour-2.0.0dev\include" /fo  
> hbmk_sj1o73.res C:\Users\Alex\AppData\Local\Temp\hbmk_sj1o73.rc
>
> The character is a 0x8, if it does not come out in the mail.

Sorry it's not clear where 0x8 char was. I cannot replicate it either.
Could you post full log + cmdline + MSVC version no. ?
What is the base path you running the build process?

> 2. I am converting my project to use .hbp files and as some stage a  
> lot of .c files were created in my project dir, not the .hbmk dir. I  
> can't be more specific but if it happens again with someone else -  
> it will be a confirmation. Fortunately your automatic header allowed  
> me to easily separate them from the .c files I need.

I need more info on those .c files, were they named hbmk_*.c?
What is the cmdline, hbmk output?

Brgds,
Viktor

From carozodequilmes at gmail.com  Wed Aug  5 10:50:08 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Wed Aug  5 10:50:13 2009
Subject: [Harbour] New HBQT class (Part 2)
In-Reply-To: <24821524.post@talk.nabble.com>
References: <578c73340908041416w14bca385p2d8caf532c7296d7@mail.gmail.com>
	<24821524.post@talk.nabble.com>
Message-ID: <578c73340908050750o4ff3d92ak6e64f87318215acd@mail.gmail.com>

Ok

I need this Class because I want to use the BuildKey and Location methods
for obtain info about the Qt Version

Regards.
CdQ

On Wed, Aug 5, 2009 at 3:41 AM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hello
>
>
> CarozoDeQuilmes wrote:
> >
> > Hi Pritpal, can you add the QLibraryInfo class to HbQt library ???
> >
>
> This cannot be compiled with current source generation.
> I have to change some parts of source generation and only then
> it will be possible. It may take few days.
>
> Regards
> Pritpal Bedi
>
> PS : BTW for what purpose you need QLibraryInfo() class ?
>
> --
> View this message in context:
> http://www.nabble.com/New-HBQT-class-%28Part-2%29-tp24816469p24821524.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
QAC (I want something comfortable !!!) - Incremental Compilation with all
MiniGUIs versions
QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
versiones de MiniGUI

Download: www.CarozoDeQuilmes.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090805/fb39d4ec/attachment.html
From sscc at mweb.co.za  Wed Aug  5 16:44:07 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Aug  5 16:44:10 2009
Subject: [Harbour] -debug and -ldflag with .hbp
In-Reply-To: <928DDE07-AE62-45BF-B07A-59CC9B0E4501@syenar.hu>
References: <4A7981F4.5090101@mweb.co.za>
	<928DDE07-AE62-45BF-B07A-59CC9B0E4501@syenar.hu>
Message-ID: <4A79EF17.1020900@mweb.co.za>

Viktor Szak?ts wrote:

> You're trying to mix msvc libs with different build settings, maybe even
> built with different msvc versions. Try rebuilding every libs with the same
> settings. Look at /MT /MD switches.

I don't think so, if -debug is used I get the message, if it is not I do not get 
the message. However, I looked at line #2765 as you suggested and probably that 
will fix it - I do not understand the original intent however.

>> 2. I am trying:
>>
>> -ldflag=LINKFORCE=/force:unresolved
>>
>> to force a link, but it appears to be ignored?

> It's not a solution for the problem.

You are right, but I did not want to edit hwgui.hbc, until I resolve the issue.

> But this switch
> should be passed like this: -ldflag=/force:unresolved

Yes, you are right again, I looked it up in MSDN library, I was using it as a 
macro in my .mak files and LINKFORCE was my own name! Sorry.

> I'll delete -MTd option from hbmk2, as it just confuses
> the matter. (see line #2765 in hbmk2.prg)

I'll check it out tomorrow.

Thanks and regards
Alex
From sscc at mweb.co.za  Wed Aug  5 17:19:27 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Aug  5 17:19:29 2009
Subject: [Harbour] Further hbmk2 queries
Message-ID: <4A79F75F.70702@mweb.co.za>

To Viktor

1. Whenever I compile, it will call the compiler for a temporary .c file as below.

Setting environment for using Microsoft Visual Studio 2008 x86 tools.
hbmk: Processing configuration: C:\users\alex\harbour-2.0.0dev\bin\hbmk.cfg

hbmk: Compiling...

hbmk: C compiler command:

cl.exe -nologo -c -Gs -Ot2b1  -Fo.hbmk\win\msvc\ -I"C:\users\alex\harbour-2.0.0d
ev\include" -I"C:\users\alex\hwgui-2.0.0dev\include" C:\Users\Alex\AppData\Local
\Temp\hbmk_oprewl.c
hbmk_oprewl.c
hbmk: Linking... easipos.exe

What is hbmk_oprewl.c?

2. When using -inc and no changes are made, then no .prg or .c files are 
compiled (well, except the phantom one above), but it does link again. Is this 
expected? I know it is not supposed to be a make replacement - and yet the -inc 
mode works so well,

I have disabled my use of ActiveX temporarily and my app starts up beautifully. 
Thank you again for all the hard work. The .hbp file is so much simpler than all 
of my old .mak and .cf files.

Regards
Alex

From harbour.01 at syenar.hu  Wed Aug  5 21:01:06 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug  5 21:01:17 2009
Subject: [Harbour] -debug and -ldflag with .hbp
In-Reply-To: <4A79EF17.1020900@mweb.co.za>
References: <4A7981F4.5090101@mweb.co.za>
	<928DDE07-AE62-45BF-B07A-59CC9B0E4501@syenar.hu>
	<4A79EF17.1020900@mweb.co.za>
Message-ID: <52D189B3-29A6-46BC-916E-2E2EE1AC5529@syenar.hu>

> Viktor Szak?ts wrote:
>
>> You're trying to mix msvc libs with different build settings, maybe  
>> even
>> built with different msvc versions. Try rebuilding every libs with  
>> the same
>> settings. Look at /MT /MD switches.
>
> I don't think so, if -debug is used I get the message, if it is not  
> I do not get the message. However, I looked at line #2765 as you  
> suggested and probably that will fix it - I do not understand the  
> original intent however.

Well I don't know all the guts of MSVC debug mode / CRT selection
logic, but for sure this message means there are conflicting
CRT selection settings amongst the libs to be linked.

I hope users with deep MSVC knowledge will give a good advice
on how to setup default switches in hbmk2 the best way, but
I don't use MSVC in debug mode.

Right now I'm not sure what did we lose by dropping /MTd
switch and not using debug CRT in debug mode.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug  5 21:14:18 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug  5 21:14:39 2009
Subject: [Harbour] Further hbmk2 queries
In-Reply-To: <4A79F75F.70702@mweb.co.za>
References: <4A79F75F.70702@mweb.co.za>
Message-ID: <8E0E0AF3-E2E5-4994-88E6-2CC65F5E89A0@syenar.hu>

> 1. Whenever I compile, it will call the compiler for a temporary .c  
> file as below.
>
> Setting environment for using Microsoft Visual Studio 2008 x86 tools.
> hbmk: Processing configuration: C:\users\alex\harbour-2.0.0dev\bin 
> \hbmk.cfg
>
> hbmk: Compiling...
>
> hbmk: C compiler command:
>
> cl.exe -nologo -c -Gs -Ot2b1  -Fo.hbmk\win\msvc\ -I"C:\users\alex 
> \harbour-2.0.0d
> ev\include" -I"C:\users\alex\hwgui-2.0.0dev\include" C:\Users\Alex 
> \AppData\Local
> \Temp\hbmk_oprewl.c
> hbmk_oprewl.c
> hbmk: Linking... easipos.exe
>
> What is hbmk_oprewl.c?

It's a .c stub created under a few circumstances, typically when
you override default GT using -gt option.

It's normal, and the generated .c file should be automatically
deleted on hbmk2 exit.

> 2. When using -inc and no changes are made, then no .prg or .c files  
> are compiled (well, except the phantom one above), but it does link  
> again. Is this expected? I know it is not supposed to be a make  
> replacement - and yet the -inc mode works so well,

-gt ignites creation of temp .c stub, which is always newer than
target, so the target will be rebuilt on every run.

For larger apps (where -inc also makes sense) I suggest to use some
better method to override GT. The regular ANNOUNCE/REQUEST method
will do it perfectly.

[ maybe I'll address this once in the future, but I believe the
-gt option is really meant for small apps. ]

BTW current hbmk2 version got so many features compared to the
initial plans that it *is* now a proper make replacement.

> I have disabled my use of ActiveX temporarily and my app starts up  
> beautifully. Thank you again for all the hard work. The .hbp file is  
> so much simpler than all of my old .mak and .cf files.

Nice to hear that :)

I'd be interested in the followup of the first problems you've
reported in your first mail. Maybe it's something that could be
fixed in hbmk2.

Brgds,
Viktor

From sscc at mweb.co.za  Thu Aug  6 04:47:46 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug  6 04:47:56 2009
Subject: [Harbour] Further hbmk2 queries
In-Reply-To: <8E0E0AF3-E2E5-4994-88E6-2CC65F5E89A0@syenar.hu>
References: <4A79F75F.70702@mweb.co.za>
	<8E0E0AF3-E2E5-4994-88E6-2CC65F5E89A0@syenar.hu>
Message-ID: <4A7A98B2.1020709@mweb.co.za>

Viktor Szak?ts wrote:

>> What is hbmk_oprewl.c?
> 
> It's a .c stub created under a few circumstances, typically when
> you override default GT using -gt option.
> 
> It's normal, and the generated .c file should be automatically
> deleted on hbmk2 exit.

OK, I understand and, yes, it is deleted.

> For larger apps (where -inc also makes sense) I suggest to use some
> better method to override GT. The regular ANNOUNCE/REQUEST method
> will do it perfectly.
> 
> [ maybe I'll address this once in the future, but I believe the
> -gt option is really meant for small apps. ]

The -gt option was in hwgui.hbc, and now I have removed it, it behaves as I 
would like.

> BTW current hbmk2 version got so many features compared to the
> initial plans that it *is* now a proper make replacement.

So I see.

> I'd be interested in the followup of the first problems you've
> reported in your first mail. Maybe it's something that could be
> fixed in hbmk2.

Sorry, I did send one but I think it was stopped by mailman, may I send it to 
you direct (it is ~116k)? The text of the e-mail is attached below.

Thanks
Alex

Blocked e-mail:

Viktor Szak?ts wrote:

 > Sorry it's not clear where 0x8 char was. I cannot replicate it either.
 > Could you post full log + cmdline + MSVC version no. ?
 > What is the base path you running the build process?

 >> C:\Users\Alex\AppData\Local\Temp\hbmk_sj1o73.rc(4) : error RC2135 :
 >> file not found:
 >> C:\Users hex8 lex\SourceForge\harbour-2.0.0dev\package\harbour.ico

" hex8 " should be replaced by 0x8 (you should be able to see it better in the 
attached log.

My script is :


setlocal

set HB_VER=2.0.0dev
set HB_COMPILER=msvc
set SVNPATH=C:\users\alex\sourceforge
set INSTALLPATH=C:\users\alex

set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
call "%VS90COMNTOOLS%vsvars32.bat"
set PATH=%INSTALLPATH%\bin;%PATH%

set HB_SVNPATH=%SVNPATH%\harbour-%HB_VER%
set HB_INSTALL_PREFIX=%INSTALLPATH%\harbour-%HB_VER%

cd %HB_SVNPATH%

call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1

if "%1" == "install" goto INSTALL
goto END

:INSTALL
rem copy %HB_SVNPATH%\contrib\xhb\cstruct.ch %HB_INSTALL_PREFIX%\include
rem copy %HB_SVNPATH%\contrib\xhb\hbctypes.ch %HB_INSTALL_PREFIX%\include
rem copy %HB_SVNPATH%\contrib\xhb\hbxml.ch %HB_INSTALL_PREFIX%\include

:END

endlocal


which I run:

C:\Users\Alex\SourceForge>mkharbour install


I have attached log-msvc.txt. Note that the only problem is with the harbour.ico 
file, no showstopper.

MSVC is VS2005.

 > I need more info on those .c files, were they named hbmk_*.c?
 > What is the cmdline, hbmk output?

I cannot duplicate this, so please put it out of your mind, and only bring it 
back if someone has a similar issue.


From harbour.01 at syenar.hu  Thu Aug  6 04:59:13 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug  6 04:59:23 2009
Subject: [Harbour] Further hbmk2 queries
In-Reply-To: <4A7A98B2.1020709@mweb.co.za>
References: <4A79F75F.70702@mweb.co.za>
	<8E0E0AF3-E2E5-4994-88E6-2CC65F5E89A0@syenar.hu>
	<4A7A98B2.1020709@mweb.co.za>
Message-ID: <134EAB83-CB45-4D16-9D0A-84364C53E0A0@syenar.hu>

>> I'd be interested in the followup of the first problems you've
>> reported in your first mail. Maybe it's something that could be
>> fixed in hbmk2.
>
> Sorry, I did send one but I think it was stopped by mailman, may I  
> send it to you direct (it is ~116k)? The text of the e-mail is  
> attached below.

I can see the problem now, and it was what I'd guessed.
"\a" in the path is interpreted as escape char. I'll fix this ASAP.

Thanks for the report.

Brgds,
Viktor

>
> Thanks
> Alex
>
> Blocked e-mail:
>
> Viktor Szak?ts wrote:
>
> > Sorry it's not clear where 0x8 char was. I cannot replicate it  
> either.
> > Could you post full log + cmdline + MSVC version no. ?
> > What is the base path you running the build process?
>
> >> C:\Users\Alex\AppData\Local\Temp\hbmk_sj1o73.rc(4) : error RC2135 :
> >> file not found:
> >> C:\Users hex8 lex\SourceForge\harbour-2.0.0dev\package\harbour.ico
>
> " hex8 " should be replaced by 0x8 (you should be able to see it  
> better in the attached log.
>
> My script is :
>
>
> setlocal
>
> set HB_VER=2.0.0dev
> set HB_COMPILER=msvc
> set SVNPATH=C:\users\alex\sourceforge
> set INSTALLPATH=C:\users\alex
>
> set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
> call "%VS90COMNTOOLS%vsvars32.bat"
> set PATH=%INSTALLPATH%\bin;%PATH%
>
> set HB_SVNPATH=%SVNPATH%\harbour-%HB_VER%
> set HB_INSTALL_PREFIX=%INSTALLPATH%\harbour-%HB_VER%
>
> cd %HB_SVNPATH%
>
> call make_gnu.bat %1 %2 > log-%HB_COMPILER%.txt 2>&1
>
> if "%1" == "install" goto INSTALL
> goto END
>
> :INSTALL
> rem copy %HB_SVNPATH%\contrib\xhb\cstruct.ch %HB_INSTALL_PREFIX% 
> \include
> rem copy %HB_SVNPATH%\contrib\xhb\hbctypes.ch %HB_INSTALL_PREFIX% 
> \include
> rem copy %HB_SVNPATH%\contrib\xhb\hbxml.ch %HB_INSTALL_PREFIX%\include
>
> :END
>
> endlocal
>
>
> which I run:
>
> C:\Users\Alex\SourceForge>mkharbour install
>
>
> I have attached log-msvc.txt. Note that the only problem is with the  
> harbour.ico file, no showstopper.
>
> MSVC is VS2005.
>
> > I need more info on those .c files, were they named hbmk_*.c?
> > What is the cmdline, hbmk output?
>
> I cannot duplicate this, so please put it out of your mind, and only  
> bring it back if someone has a similar issue.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Thu Aug  6 05:18:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug  6 05:18:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11978] trunk/harbour
Message-ID: <E1MYz71-0006Da-FR@d5vjzd1.ch3.sourceforge.com>

Revision: 11978
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11978&view=rev
Author:   vszakats
Date:     2009-08-06 09:18:14 +0000 (Thu, 06 Aug 2009)

Log Message:
-----------
2009-08-06 11:17 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed escaping icon filenames in automatically generated .rc files 
      when using -icon option.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Thu Aug  6 06:56:27 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Aug  6 06:56:52 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS
Message-ID: <4A7AB6DB.7000009@mail.udg.mx>

Przemek:

 >Thank you very much. So the last version work.
 >What will happen if we add more lines, i.e.:

 >define create_library
 >echo $(LIB_DIR)/$@ > __lib__.tmp
 >$(if $(wordlist   1, 10,$(^F)), echo $(wordlist   1, 10,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist  11, 20,$(^F)), echo $(wordlist  11, 20,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist  21, 30,$(^F)), echo $(wordlist  21, 30,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist  31, 40,$(^F)), echo $(wordlist  31, 40,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist  41, 50,$(^F)), echo $(wordlist  41, 50,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist  51, 60,$(^F)), echo $(wordlist  51, 60,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist  61, 70,$(^F)), echo $(wordlist  61, 70,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist  71, 80,$(^F)), echo $(wordlist  71, 80,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist  81, 90,$(^F)), echo $(wordlist  81, 90,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist  91,100,$(^F)), echo $(wordlist  91,100,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 101,110,$(^F)), echo $(wordlist 101,110,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 111,120,$(^F)), echo $(wordlist 111,120,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 121,130,$(^F)), echo $(wordlist 121,130,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 131,140,$(^F)), echo $(wordlist 131,140,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 141,150,$(^F)), echo $(wordlist 141,150,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 151,160,$(^F)), echo $(wordlist 151,160,$(addprefix 
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 161,170,$(^F)), echo $(wordlist 161,170,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 171,180,$(^F)), echo $(wordlist 171,180,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 181,190,$(^F)), echo $(wordlist 181,190,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 191,200,$(^F)), echo $(wordlist 191,200,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 201,210,$(^F)), echo $(wordlist 201,210,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 211,220,$(^F)), echo $(wordlist 211,220,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 221,230,$(^F)), echo $(wordlist 221,230,$(addprefix 
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 231,240,$(^F)), echo $(wordlist 231,240,$(addprefix
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 241,250,$(^F)), echo $(wordlist 241,250,$(addprefix 
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 251,260,$(^F)), echo $(wordlist 251,260,$(addprefix 
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 261,270,$(^F)), echo $(wordlist 261,270,$(addprefix 
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 271,280,$(^F)), echo $(wordlist 271,280,$(addprefix 
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 281,290,$(^F)), echo $(wordlist 281,290,$(addprefix 
 >-+,$(^F))) >> __lib__.tmp,)
 >$(if $(wordlist 291,300,$(^F)), echo $(wordlist 291,300,$(addprefix 
 >-+,$(^F))) >> __lib__.tmp,)
 >$(AR) $(ARFLAGS) @__lib__.tmp
 >endef

 >???

It fail:
----------------------------
[E:\harbour907e\harbour]make -r            1>make_ow.log
make[3]: *** [hbrtl.lib] Segmentation fault
make[2]: *** [descend] Error 2
make[1]: *** [rtl] Error 2
make: *** [source] Error 2
----------------------------

Start to fail with 7 lines, after

$(if $(wordlist  51, 60,$(^F)), echo $(wordlist  51, 60,$(addprefix 
-+,$(^F))) >> __lib__.tmp,)


 >Yes and it's a bug in OS2 GNU make port we are exploiting from time to
 >time.
 >If we find some acceptable solution the we will use it. If not we will
 >have to return to the:
 >   for %i in ( *$(OBJ_EXT) ) do @echo ... >> __lib__.tmp
 >trick and add some hack to protect against adding hbpp.obj to library.

 >Though we can also try to disable rules for parallel processing.
 >They will reduce total number of used rules so maybe it's good
 >workaround for the memory overflow.
 >If you add at config/dir.cf[19]:

 >   JOB_SRV := NO

 >just before:

 >   ifeq ($(JOB_SRV),NO)

 >then you disable parallel processing rules.

Setting JOB_SRV := NO in config\dir.cf lead to message on screen for 
expected failure (same number of lines as before)

-----------------------------------------
[E:\harbour907e\harbour]make -r            1>make_ow.log
make[3]: *** [hbrtl.lib] Segmentation fault
make[2]: *** [descend] Error 2
-----------------------------------------

and CPU goes to 99.9, session hangs and can not be killed in any way, 
except reboot
Tested three times

 >BTW what happens when you tries to use older make (3.7x) with current 
 >SVN code?

Does not support inner dir separators in some cases

I posted this info some days ago:
-----------------------------------------
The two main differences observed between both make.exe are:
- make381 stop at first error, make376 continue building
- make376 have problems with dir separator at some points
   Along years this has been a problem with Harbour build and fixed
setting \\ in place of \ in some parts using "test and error"
   It does work using command line, but fail using make
   As now we can see, is a problem of make376 and not of OS/2
-----------------------------------------

I am trying to forget make376 and use only make381

David Macias


From info at fsgiudice.com  Thu Aug  6 07:05:43 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Aug  6 07:06:01 2009
Subject: [Harbour] offline notice
Message-ID: <4A7AB907.9060807@fsgiudice.com>

I will be offline (reading list when possible) until 25th of August.

Best Regards,
Francesco
From toninhofwi at yahoo.com.br  Thu Aug  6 07:41:54 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Thu Aug  6 07:41:24 2009
Subject: [Harbour] Suspicious pointer conversion in function
Message-ID: <i3gl7553vl23ljpg6rb5kfj2iu0p0l08mk@4ax.com>

Hi,

I?m trying to compile my app with latest SVN and I have a lot of
Suspicious pointer conversion in function like this:

---cut---
HB_FUNC( XTL_DISPLAY )
{
   PHB_ITEM pText = hb_param( 2, HB_IT_STRING );

   if( pText )
   {
      char * pszBuffer = hb_itemGetCPtr( pText );

      int iLen = hb_itemGetCLen( pText );

      int i;

      for( i = 0; i < iLen; i++ )
      {
         XTL_Echo( ( BYTE ) hb_parni( 1 ), pszBuffer[ i ] );
      }
   }
}
---cut---


and here too:
---cut---
   LPSTR    cText     = hb_parcx( 3 );
---cut---


What is the best way to convert it please ?

Regards,

Toninho.

__________________________________________________
Fa?a liga??es para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From guy.roussin at teledetection.fr  Thu Aug  6 08:13:14 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Thu Aug  6 08:13:22 2009
Subject: [Harbour] Little trick for linux harbour users
Message-ID: <4A7AC8DA.1070806@teledetection.fr>

Hi,

$ cat t.prg
#!/usr/bin/hbrun

proc main()
? isbit(5,1)
return


I get an error with :
./t.prg
because hbct (isbit()) is not linked with hbrun ...

So as a workaround i replace the first line of the
harbour script like this :

$ cat t.prg
#ifdef SH_COMPILATION /* sh compilation :
hbmk2 -notrace -quiet -run -q0 -n -p -gtcgi -lhbct $0
exit
*/
#endif

proc main()
? isbit(5,1)
return

now my harbour script run fine :
./t.prg
.T.

Note that you can always compile the code with hbmk2 :
hbmk2 -notrace -quiet -run -q0 -n -p -gtcgi -lhbct t

Cool ... no ?

Perhaps it is possible to replace
#!/usr/bin/hbrun

with something like this :

#!/usr/bin/hbmk2 ...

?

-- 
Guy

From vszakats at users.sourceforge.net  Thu Aug  6 09:44:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug  6 09:44:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11979] trunk/harbour
Message-ID: <E1MZ3GK-0000zq-Ep@c3vjzd1.ch3.sourceforge.com>

Revision: 11979
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11979&view=rev
Author:   vszakats
Date:     2009-08-06 13:43:53 +0000 (Thu, 06 Aug 2009)

Log Message:
-----------
2009-08-06 15:39 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + In incremental (-inc) mode .c and .rc stubs are now created
      inside workdir and kept there for consecutive build runs.
      They are only recreated if necessary. This means that
      -gt, -main= and -icon options work well with -inc mode, and
      won't anymore force linking on each run.
    * All stubs will be recreated in -rebuild mode.
    * Above stubs will be deleted in -clean mode. (except vcshead and tshead)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Thu Aug  6 12:05:54 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug  6 12:06:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11979] trunk/harbour
In-Reply-To: <E1MZ3GK-0000zq-Ep@c3vjzd1.ch3.sourceforge.com>
References: <E1MZ3GK-0000zq-Ep@c3vjzd1.ch3.sourceforge.com>
Message-ID: <4A7AFF62.6050903@mweb.co.za>

vszakats@users.sourceforge.net wrote:

> 2009-08-06 15:39 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * utils/hbmk2/hbmk2.prg
>     + In incremental (-inc) mode .c and .rc stubs are now created
>       inside workdir and kept there for consecutive build runs.
>       They are only recreated if necessary. This means that
>       -gt, -main= and -icon options work well with -inc mode, and
>       won't anymore force linking on each run.
>     * All stubs will be recreated in -rebuild mode.
>     * Above stubs will be deleted in -clean mode. (except vcshead and tshead)

I confirm that this line in hwgui.hbc

{win}gt=gtgui

no longer causes a recompile in -inc mode. Thank you.

Regards
Alex



From gvarona at ec-red.com  Thu Aug  6 12:37:42 2009
From: gvarona at ec-red.com (=?UTF-8?B?R3VpbGxlcm1vIFZhcm9uYSBTaWx1cMO6?=)
Date: Thu Aug  6 12:35:17 2009
Subject: [Harbour] Value of fields in the DBF file,
	appears: FIELDGET: Function 
Message-ID: <4A7B06D6.7030004@ec-red.com>

Hi :
In debug mode, why not show the value of fields in the DBF file?.
In its place appears: FIELDGET: Function
?[?]? Area ????????????????? Status ???????????????????? Structure ?????
?INDICES ?Alias: MOVR Record:1653/1653?NUM_TRAN N 5 0?
?DISP ? BOF: No Deleted: No ?TIP_DOCU C 2 0?
?GRUP ? EOF: No Found: Yes ?FEC_DOCR D 8 0?
?DOLAR ?Filter: ?DOC_RSER C 4 0?
?MAST ? Key: Num_Tran ?DOC_RCOR C 10 0?
?CLPR ????????????????????????????????????????DES_DOCR C 60 0?
?CUEN ? Last Update: 06/08/09 ?STATUS_R C 1 0?
?NUME ? Index order: 1 ?USUARIO C 5 0?
?MOVC ? Current Record ?ULT_MODI D 8 0?
?MOVR ? NUM_TRAN = FIELDGET: Funci?n?PUN_PART C 60 0?
?MOVD ? TIP_DOCU = FIELDGET: Funci?n?PUN_LLEG C 60 0?
?OPST ? FEC_DOCR = FIELDGET: Funci?n?FEC_INTR D 8 0?
?CENC ? DOC_RSER = FIELDGET: Funci?n?RUC_DEST C 11 0?
?TIDO ? DOC_RCOR = FIELDGET: Funci?n?RUC_TRAN C 11 0?
? ? DES_DOCR = FIELDGET: Funci?n?MAR_UNTR C 20 0?
? ? STATUS_R = FIELDGET: Funci?n?NUM_PLAC C 10 0?
? ? USUARIO = FIELDGET: Funci?n?NUM_CONS C 15 0?
? ? ULT_MODI = FIELDGET: Funci?n?NUM_LICE C 15 0?
????????????????????????????????????????????????????????????????????????


TIA

Best Regards
GVS
From vszakats at users.sourceforge.net  Thu Aug  6 20:55:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug  6 20:55:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11980] trunk/harbour
Message-ID: <E1MZDjY-0000Vv-Hf@bj8yhf1.ch3.sourceforge.com>

Revision: 11980
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11980&view=rev
Author:   vszakats
Date:     2009-08-07 00:54:59 +0000 (Fri, 07 Aug 2009)

Log Message:
-----------
2009-08-07 02:48 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed to ignore filtered -gt switches (like -gtxwc{unix})
      without warning message.
    + Some small steps towards adding sunpro[64] support to hbmk2.
    % Merged watcom compiler support code for different platforms.
      (option casing also synced)
    ! Added "{LS}" (resources) to os2/watcom compiler cmdline.
    ! Added -bt=os2/nt to resource compiler cmdline for watcom.
    + Added '-p=64' option to win|os2|dos/watcom lib cmdline.
    + Added '-q' option to watcom wlib/wrc cmdlines.
    ! Fixed debug linker option for watcom.

  * config/dos/watcom.cf
  * config/win/watcom.cf
  * config/linux/watcom.cf
  * config/os2/watcom.cf
    + Added doc link to wlib tool.
    * Synced link option casing with each other and hbmk2.
    % Deleted 'export DOS4G=quiet' for win and os2.

  * config/global.cf
    + Minor cosmetic.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/linux/watcom.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug  6 21:10:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug  6 21:10:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11981] trunk/harbour
Message-ID: <E1MZDyG-0000kw-Gj@bj8yhf1.ch3.sourceforge.com>

Revision: 11981
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11981&view=rev
Author:   vszakats
Date:     2009-08-07 01:10:11 +0000 (Fri, 07 Aug 2009)

Log Message:
-----------
2009-08-07 03:08 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added support for windres resource compiler for os2/gcc.
      (untested)
    + Minor step to support os2/gcc cross-compilation on Linux.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug  6 22:41:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug  6 22:41:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11982] trunk/harbour
Message-ID: <E1MZFOR-0005Ri-Uw@74yxhf1.ch3.sourceforge.com>

Revision: 11982
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11982&view=rev
Author:   vszakats
Date:     2009-08-07 02:41:18 +0000 (Fri, 07 Aug 2009)

Log Message:
-----------
2009-08-07 04:11 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/sendmail.prg
    ! Raised timeout to 1000 from 100.
      This was the remaining error, now it should be okay.
    ; This means Harbour now support SMTP through SSL, which
      practically means "gmail support", Google Apps for
      Domain mailboxes also work.
      Remember to build hbtip with HAVE_OPENSSL option and
      link with hbssl lib + openssl libs. On *nixes this is
      a no-brainer. On Windows, OpenSSL either needs to be
      built from source, or pre-built binaries downloaded
      (from this file: http://www.slproweb.com/download/Win32OpenSSL-0_9_8k.exe
      from this link: http://www.slproweb.com/products/Win32OpenSSL.html)
      and linked. Due to usual chaos regarding lib names
      on Windows, default names in contrib\hbssl\hbssl.hbc may
      need to be adjusted to local environment.
      MinGW and MSVC are supported by OpenSSL on Windows for
      static linking, the .dll version should work for all
      compilers, I've only tested MinGW and MSVC though.

  + contrib/hbtip/tests/gmail.prg
    + Added simple test program to send mails through gmail.

  * bin/hb-mkimp.bat
    + Added some more location to look for OpenSSL .dlls.

  * contrib/hbssl/hbssl.hbc
    + Added support for rest of Windows compilers.

  * contrib/hbtip/smtpcln.prg
    ! Fix to Auth() to not eat extra input in case of an error.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkimp.bat
    trunk/harbour/contrib/hbssl/hbssl.hbc
    trunk/harbour/contrib/hbtip/sendmail.prg
    trunk/harbour/contrib/hbtip/smtpcln.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbtip/tests/gmail.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug  7 05:12:30 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug  7 05:12:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11983] trunk/harbour
Message-ID: <E1MZLV0-0003mq-OI@74yxhf1.ch3.sourceforge.com>

Revision: 11983
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11983&view=rev
Author:   vszakats
Date:     2009-08-07 09:12:29 +0000 (Fri, 07 Aug 2009)

Log Message:
-----------
2009-08-07 11:11 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/Makefile
  + contrib/hbtip/log.prg
  * contrib/hbtip/popcln.prg
  * contrib/hbtip/sendmail.prg
  * contrib/hbtip/httpcln.prg
  * contrib/hbtip/client.prg
  * contrib/hbtip/smtpcln.prg
  * contrib/hbtip/ftpcln.prg
    + Reworked the way logging is done. Default case works similarly
      to the old one, but now logging can be overridden by passing
      a user defined codeblock. In fact that's what also happens in
      default case with codeblock using a simple new logging class
      included in hbtip which emulates old behaviour.
    ! Fixed race condition in log filename creation compared to
      old method.
    * sendmail*.log -> smtp*.log
    * <name>.log without counter in filename won't be created anymore.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/Makefile
    trunk/harbour/contrib/hbtip/client.prg
    trunk/harbour/contrib/hbtip/ftpcln.prg
    trunk/harbour/contrib/hbtip/httpcln.prg
    trunk/harbour/contrib/hbtip/popcln.prg
    trunk/harbour/contrib/hbtip/sendmail.prg
    trunk/harbour/contrib/hbtip/smtpcln.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbtip/log.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Aug  7 05:23:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug  7 05:23:59 2009
Subject: [Harbour] offline notice
In-Reply-To: <4A7AB907.9060807@fsgiudice.com>
References: <4A7AB907.9060807@fsgiudice.com>
Message-ID: <63999A53-D828-4176-874F-D1C85104E31A@syenar.hu>

Hi Francesco,

Have a nice time off!

Brgds,
Viktor

On 2009.08.06., at 1:05, Francesco Saverio Giudice wrote:

> I will be offline (reading list when possible) until 25th of August.
>
> Best Regards,
> Francesco
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Fri Aug  7 05:56:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug  7 05:57:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11984] trunk/harbour
Message-ID: <E1MZMBz-0001d1-HH@d5vjzd1.ch3.sourceforge.com>

Revision: 11984
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11984&view=rev
Author:   vszakats
Date:     2009-08-07 09:56:48 +0000 (Fri, 07 Aug 2009)

Log Message:
-----------
2009-08-07 11:55 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/rtl/filesys.c
    ! Fixed FO_EXCL flag on win/wce platforms. It was ignored before.
    % Deleted some unnecessary casts.

  * contrib/hbtip/log.prg
    ! Fixed to avoid infinite loops when trying to create log files
      on a non-existing path.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/log.prg
    trunk/harbour/source/rtl/filesys.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug  7 06:00:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug  7 06:00:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11985] trunk/harbour
Message-ID: <E1MZMFa-0001is-AL@d5vjzd1.ch3.sourceforge.com>

Revision: 11985
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11985&view=rev
Author:   vszakats
Date:     2009-08-07 10:00:37 +0000 (Fri, 07 Aug 2009)

Log Message:
-----------
2009-08-07 11:59 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/Makefile
  - contrib/hbtip/popcln.prg
  + contrib/hbtip/popcli.prg
  - contrib/hbtip/httpcln.prg
  + contrib/hbtip/httpcli.prg
  - contrib/hbtip/smtpcln.prg
  + contrib/hbtip/smtpcli.prg
  - contrib/hbtip/ftpcln.prg
  + contrib/hbtip/ftpcli.prg
    * Rename 'cln' postfix to 'cli' which much better resembles 
      to 'client' than old one which rather means 'clean'.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/Makefile

Added Paths:
-----------
    trunk/harbour/contrib/hbtip/ftpcli.prg
    trunk/harbour/contrib/hbtip/httpcli.prg
    trunk/harbour/contrib/hbtip/popcli.prg
    trunk/harbour/contrib/hbtip/smtpcli.prg

Removed Paths:
-------------
    trunk/harbour/contrib/hbtip/ftpcln.prg
    trunk/harbour/contrib/hbtip/httpcln.prg
    trunk/harbour/contrib/hbtip/popcln.prg
    trunk/harbour/contrib/hbtip/smtpcln.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Fri Aug  7 09:16:41 2009
From: maurilio.longo at libero.it (maurilio longo)
Date: Fri Aug  7 09:16:46 2009
Subject: [Harbour] os2-rm
Message-ID: <KO0CVT$F9EC8FC28A86DFD1F4453023F875CF04@libero.it>

Hi,

since I have  a few more days of vacations I'm trying to rebuild current harbour cvs code on OS/2

I had to make a couple of changes to .cf files, but now I still have a problem I'd like to discuss with you.

The problem is that config/os2-rm is called like this

os2-rm -r -f obj/os2/gcc

this removes the gcc directory but not the obj/os2 parent ones.

The problem is that SmartSVN (the svn client I'm using) thinks that those empty dirs need to be added to the svn repository and makes committing difficult since I end up with hundreds of dirs to remove from its interface before being able to commit a single file.

Now, on a Mac OS X system, rm -rf a/b/c behaves as on OS/2, that is, only the leaf dir is removed.

Is this by design? Should'nt it be better to remove the whole obj/system/compiler tree when cleaning?

It seems to me that the previous .cf system had not this problem when cleaning and I'd like to know if this issue can be changed and/or if it is present on other platforms too.

Best regards.

Maurilio.


From dmacias at mail.udg.mx  Fri Aug  7 09:39:03 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Aug  7 09:39:22 2009
Subject: [Harbour] Harbour under OS/2 - eCS, cross build 
Message-ID: <4A7C2E77.5090605@mail.udg.mx>

First try of cross build using OpenWatcom 1.8

Host: OS/2 - eCS
Target: Windows 32

Harbour source code
  * $Id: ChangeLog 11949 2009-07-31 11:21:30Z druzus $
  2009-07-31 13:21 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

config\win\watcom.cf
  Added two changes of Przemek to manage problems with make381

environment
----------------------
@ECHO OFF
SET WATCOM=E:\WATCOM

SET PATH=%WATCOM%\BINP;%WATCOM%\BINW;%PATH%
SET BEGINLIBPATH=%WATCOM%\BINP\DLL

Rem SET INCLUDE=%WATCOM%\H\OS2;%WATCOM%\H
SET INCLUDE=%WATCOM%\H\NT;%WATCOM%\H

DAVID: as in OS/2, H\NT before than \H

SET EDPATH=%WATCOM%\EDDAT

REM SET LIB=
SET HELP=%WATCOM%\BINP\HELP;%HELP%
SET BOOKSHELF=%WATCOM%\BINP\HELP;%BOOKSHELF%


set HB_ARCHITECTURE=win
set HB_COMPILER=watcom

Rem eliminate libraries which scans for local host header files
set HB_XBUILD=yes

----------------------

bin\win\watcom\harbour.exe and hbpp.exe are created

Both harbour.exe and hbpp.exe run fine under Windows XPPro SP2

bin\win\watcom\ contain 34 libraries created

Fail to create hbrun.exe due hbsocket.c
-----------------------------------------------
[E:\harbour907e\harbour]make -r            1>make_owos22win.log
make[3]: *** [hbrun.exe] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [hbrun] Error 2
make: *** [utils] Error 2
-----------------------------------------------

Same error with
SET INCLUDE=%WATCOM%\H\NT;%WATCOM%\H
or
SET INCLUDE=%WATCOM%\H;%WATCOM%\H\NT

Below are content of make_owos22win.log for hbrun

Question: why show "//" in line ?

../../../../../bin/os2/watcom//harbour.exe ../../../hbrun.prg -n1

David Macias



make -C hbrun
make[2]: Entering directory `E:/harbour907e/harbour/utils/hbrun'

[E:\harbour907e\harbour\utils\hbrun]if not exist obj mkdir obj

[E:\harbour907e\harbour\utils\hbrun]if not exist obj\win mkdir obj\win

[E:\harbour907e\harbour\utils\hbrun]if not exist obj\win\watcom mkdir 
obj\win\watcom

[E:\harbour907e\harbour\utils\hbrun]if not exist ..\..\bin\win mkdir 
..\..\bin\win

[E:\harbour907e\harbour\utils\hbrun]if not exist ..\..\bin\win\watcom 
mkdir ..\..\bin\win\watcom
make[3]: Entering directory 
`E:/harbour907e/harbour/utils/hbrun/obj/win/watcom'
../../../../../bin/os2/watcom//harbour.exe ../../../hbrun.prg -n1 
-i../../../../../include -q0 -w3 -es2 -kmo -l -gc0 
-undef:__PLATFORM__OS2 -D__PLATFORM__WINDOWS
wpp386 -zq -bt=NT -bm -w3 -6s -fp6 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DHB_FM_STATISTICS_OFF   hbrun.c -fo=hbrun.obj
wlink SYS NT  NAME ../../../../../bin/win/watcom/hbrun.exe FILE 
hbrun.obj LIB ../../../../../lib/win/watcom/hbextern, 
../../../../../lib/win/watcom/hbdebug, 
../../../../../lib/win/watcom/hbvm, ../../../../../lib/win/watcom/hbrtl, 
../../../../../lib/win/watcom/hblang, 
../../../../../lib/win/watcom/hbcpage, 
../../../../../lib/win/watcom/hbrdd, 
../../../../../lib/win/watcom/hbrtl, ../../../../../lib/win/watcom/hbvm, 
../../../../../lib/win/watcom/hbmacro, 
../../../../../lib/win/watcom/hbcplr, 
../../../../../lib/win/watcom/hbpp, 
../../../../../lib/win/watcom/hbcommon, 
../../../../../lib/win/watcom/hbpcre, 
../../../../../lib/win/watcom/hbzlib, 
../../../../../lib/win/watcom/rddntx, 
../../../../../lib/win/watcom/rddnsx, 
../../../../../lib/win/watcom/rddcdx, 
../../../../../lib/win/watcom/rddfpt, 
../../../../../lib/win/watcom/hbsix, 
../../../../../lib/win/watcom/hbhsx, 
../../../../../lib/win/watcom/hbusrrdd, 
../../../../../lib/win/watcom/hbuddall, 
../../../../../lib/win/watcom/gtcgi, 
../../../../../lib/win/watcom/gtpca, 
../../../../../lib/win/watcom/gtstd, 
../../../../../lib/win/watcom/gtwvt, 
../../../../../lib/win/watcom/gtgui, ../../../../../lib/win/watcom/gtwin
Open Watcom Linker Version 1.8
Portions Copyright (c) 1985-2002 Sybase, Inc. All Rights Reserved.
Source code is available under the Sybase Open Watcom Public License.
See http://www.openwatcom.org/ for details.
loading object files
searching libraries
Error! E2028: __imp__WSAStartup@8 is an undefined reference
Error! E2028: __imp__WSACleanup@0 is an undefined reference
Error! E2028: __imp__select@20 is an undefined reference
Error! E2028: __imp__WSAGetLastError@0 is an undefined reference
Error! E2028: __imp____WSAFDIsSet@8 is an undefined reference
Error! E2028: __imp__htons@4 is an undefined reference
Error! E2028: __imp__htonl@4 is an undefined reference
Error! E2028: __imp__inet_addr@4 is an undefined reference
Error! E2028: __imp__inet_ntoa@4 is an undefined reference
Error! E2028: __imp__ntohs@4 is an undefined reference
Error! E2028: __imp__getsockname@12 is an undefined reference
Error! E2028: __imp__getpeername@12 is an undefined reference
Error! E2028: __imp__socket@12 is an undefined reference
Error! E2028: __imp__closesocket@4 is an undefined reference
Error! E2028: __imp__shutdown@8 is an undefined reference
Error! E2028: __imp__setsockopt@20 is an undefined reference
Error! E2028: __imp__bind@12 is an undefined reference
Error! E2028: __imp__listen@8 is an undefined reference
Error! E2028: __imp__ioctlsocket@12 is an undefined reference
Error! E2028: __imp__accept@12 is an undefined reference
Error! E2028: __imp__connect@12 is an undefined reference
Error! E2028: __imp__send@16 is an undefined reference
Error! E2028: __imp__sendto@24 is an undefined reference
Error! E2028: __imp__recv@16 is an undefined reference
Error! E2028: __imp__recvfrom@24 is an undefined reference
Error! E2028: __imp__getsockopt@20 is an undefined reference
Error! E2028: __imp__gethostbyaddr@12 is an undefined reference
Error! E2028: __imp__gethostbyname@4 is an undefined reference
creating a Windows NT character-mode executable
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__WSAStartup@8
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__WSACleanup@0
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__select@20
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__WSAGetLastError@0
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp____WSAFDIsSet@8
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__htons@4
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__htonl@4
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__inet_addr@4
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__inet_ntoa@4
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__ntohs@4
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__getsockname@12
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__getpeername@12
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__socket@12
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__closesocket@4
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__shutdown@8
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__setsockopt@20
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__bind@12
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__listen@8
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__ioctlsocket@12
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__accept@12
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__connect@12
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__send@16
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__sendto@24
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__recv@16
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__recvfrom@24
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__getsockopt@20
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__gethostbyaddr@12
file 
../../../../../lib/win/watcom/hbrtl.lib(E:\harbour907e\harbour\source\rtl\hbsocket.c): 
undefined symbol __imp__gethostbyname@4
make[3]: Leaving directory 
`E:/harbour907e/harbour/utils/hbrun/obj/win/watcom'
make[2]: Leaving directory `E:/harbour907e/harbour/utils/hbrun'
make[1]: Leaving directory `E:/harbour907e/harbour/utils'


From harbour.01 at syenar.hu  Fri Aug  7 09:39:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug  7 09:40:02 2009
Subject: [Harbour] os2-rm
In-Reply-To: <KO0CVT$F9EC8FC28A86DFD1F4453023F875CF04@libero.it>
References: <KO0CVT$F9EC8FC28A86DFD1F4453023F875CF04@libero.it>
Message-ID: <5F9B4367-4664-4F1D-B979-AAD8403E32C4@syenar.hu>

Hi Maurilio,

> since I have  a few more days of vacations I'm trying to rebuild  
> current harbour cvs code on OS/2
>
> I had to make a couple of changes to .cf files, but now I still have  
> a problem I'd like to discuss with you.
>
> The problem is that config/os2-rm is called like this
>
> os2-rm -r -f obj/os2/gcc
>
> this removes the gcc directory but not the obj/os2 parent ones.
>
> The problem is that SmartSVN (the svn client I'm using) thinks that  
> those empty dirs need to be added to the svn repository and makes  
> committing difficult since I end up with hundreds of dirs to remove  
> from its interface before being able to commit a single file.
>
> Now, on a Mac OS X system, rm -rf a/b/c behaves as on OS/2, that is,  
> only the leaf dir is removed.
>
> Is this by design? Should'nt it be better to remove the whole obj/ 
> system/compiler tree when cleaning?

It cannot be removed as is, as it may hold files for other compilers,
and cleaning one target should touch the others.

If there is a command to remove parent dirs *if empty*, in a clean
way, we may add it to the clean rules. For NT shells I couldn't find
such command.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Fri Aug  7 09:49:10 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug  7 09:49:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11986] trunk/harbour
Message-ID: <E1MZPok-0000pd-Tx@74yxhf1.ch3.sourceforge.com>

Revision: 11986
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11986&view=rev
Author:   vszakats
Date:     2009-08-07 13:49:10 +0000 (Fri, 07 Aug 2009)

Log Message:
-----------
2009-08-07 15:47 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
    + Added HB_COMPILER autodetection for darwin/hpux/bsd.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug  7 09:54:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug  7 09:54:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11987] trunk/harbour
Message-ID: <E1MZPtX-0000w9-OX@74yxhf1.ch3.sourceforge.com>

Revision: 11987
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11987&view=rev
Author:   vszakats
Date:     2009-08-07 13:54:06 +0000 (Fri, 07 Aug 2009)

Log Message:
-----------
2009-08-07 15:53 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
    ! Minor fix to prev.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Fri Aug  7 10:08:12 2009
From: maurilio.longo at libero.it (maurilio longo)
Date: Fri Aug  7 10:08:18 2009
Subject: [Harbour] os2-rm
Message-ID: <KO0F9O$32593C76A575111352DA9D571744F35B@libero.it>

Hi Viktor,

> Hi Maurilio,
> 
> It cannot be removed as is, as it may hold files for other compilers,
> and cleaning one target should touch the others.
>

Ok, I do understand.
 
> If there is a command to remove parent dirs *if empty*, in a clean
> way, we may add it to the clean rules. For NT shells I couldn't find
> such command.
> 

I'm not aware of such a command on OS/2 either, but a rd some_dir succeeds only if some_dir is empty; so it is not 'clean' but we could issue a rd obj/platform and then rd obj and if they're empty they will be removed.

What do you think of such a hack?

Best regards.

Maurilio.

> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From harbour.01 at syenar.hu  Fri Aug  7 10:27:54 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug  7 10:28:04 2009
Subject: [Harbour] os2-rm
In-Reply-To: <KO0F9O$32593C76A575111352DA9D571744F35B@libero.it>
References: <KO0F9O$32593C76A575111352DA9D571744F35B@libero.it>
Message-ID: <86ECBF44-2DA3-491C-A1BE-F89080B05D1A@syenar.hu>


On 2009.08.07., at 4:08, maurilio longo wrote:

> Hi Viktor,
>
>> Hi Maurilio,
>>
>> It cannot be removed as is, as it may hold files for other compilers,
>> and cleaning one target should touch the others.
>>
>
> Ok, I do understand.
>
>> If there is a command to remove parent dirs *if empty*, in a clean
>> way, we may add it to the clean rules. For NT shells I couldn't find
>> such command.
>>
>
> I'm not aware of such a command on OS/2 either, but a rd some_dir  
> succeeds only if some_dir is empty; so it is not 'clean' but we  
> could issue a rd obj/platform and then rd obj and if they're empty  
> they will be removed.
>
> What do you think of such a hack?

The problem with this manual parent-by-parent approach is that it
may break when using new HB_BUILD_NAME feature (and it needs to be
manually tackled each time we happen to change the structure of
the obj subdir). IOW, it's not generic and needs inside knowledge
of the obj path and repeat the delete step manually for all dir
levels.

In fact, I'd be very happy if this could be done in such generic way
since this way we wouldn't even need 'os2-rm'. But, I couldn't yet
find a way to implement it using GNU Make syntax, maybe it's possible
though.

Or, ideally or given there is a 'delete if empty' command, we
could just issue '<delete> obj' and it would clean everything which
is empty inside.

To approach from a different angle, isn't there a way to tell
your SVN software to not automatically want add new files to SVN?
Such feature looks rather strange, after all the sandbox may
contain lots of files we wouldn't want to add to SVN.

Brgds,
Viktor

From maurilio.longo at libero.it  Fri Aug  7 11:18:26 2009
From: maurilio.longo at libero.it (maurilio longo)
Date: Fri Aug  7 11:18:33 2009
Subject: [Harbour] os2-rm
Message-ID: <KO0IIQ$7CE811ADAF4A7E617F88FDB71D335B64@libero.it>

Viktor,

silly me! Yes, there is an option in SmartSVN which stops it from considering unversioned files and/or directories :)

Thanks.

Maurilio.

PS. What about writing such a delete if empty in .prg code and execute it with hbrun? We only need to make hbrun the latest deleted file and then remove the tree that contains it in the old way (knowing its name and depth, I mean).


> 
> On 2009.08.07., at 4:08, maurilio longo wrote:
> 
> > Hi Viktor,
> >
> >> Hi Maurilio,
> >>
> >> It cannot be removed as is, as it may hold files for other compilers,
> >> and cleaning one target should touch the others.
> >>
> >
> > Ok, I do understand.
> >
> >> If there is a command to remove parent dirs *if empty*, in a clean
> >> way, we may add it to the clean rules. For NT shells I couldn't find
> >> such command.
> >>
> >
> > I'm not aware of such a command on OS/2 either, but a rd some_dir  
> > succeeds only if some_dir is empty; so it is not 'clean' but we  
> > could issue a rd obj/platform and then rd obj and if they're empty  
> > they will be removed.
> >
> > What do you think of such a hack?
> 
> The problem with this manual parent-by-parent approach is that it
> may break when using new HB_BUILD_NAME feature (and it needs to be
> manually tackled each time we happen to change the structure of
> the obj subdir). IOW, it's not generic and needs inside knowledge
> of the obj path and repeat the delete step manually for all dir
> levels.
> 
> In fact, I'd be very happy if this could be done in such generic way
> since this way we wouldn't even need 'os2-rm'. But, I couldn't yet
> find a way to implement it using GNU Make syntax, maybe it's possible
> though.
> 
> Or, ideally or given there is a 'delete if empty' command, we
> could just issue '<delete> obj' and it would clean everything which
> is empty inside.
> 
> To approach from a different angle, isn't there a way to tell
> your SVN software to not automatically want add new files to SVN?
> Such feature looks rather strange, after all the sandbox may
> contain lots of files we wouldn't want to add to SVN.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From harbour.01 at syenar.hu  Fri Aug  7 11:40:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug  7 11:40:32 2009
Subject: [Harbour] os2-rm
In-Reply-To: <KO0IIQ$7CE811ADAF4A7E617F88FDB71D335B64@libero.it>
References: <KO0IIQ$7CE811ADAF4A7E617F88FDB71D335B64@libero.it>
Message-ID: <3880543D-F9FB-475D-8F17-807CC5C366AC@syenar.hu>

> Viktor,
>
> silly me! Yes, there is an option in SmartSVN which stops it from  
> considering unversioned files and/or directories :)

Great :)

> Thanks.
>
> Maurilio.
>
> PS. What about writing such a delete if empty in .prg code and  
> execute it with hbrun? We only need to make hbrun the latest deleted  
> file and then remove the tree that contains it in the old way  
> (knowing its name and depth, I mean).

Here the problem is if someone is trying to make a 'clean' on an
incomplete tree (not having hbrun). In such case clean would not
succeed. Here the option is to build these tools (also mkdir
replacement would be nice) in advance and place them inside
config/<compiler>/ dirs as pre-built (static) executables. This
have to be done once, as these simple tools wouldn't require too
many updates along their lifetime. This would also sort out any
possible licensing issues with GNU binaries in our SVN tree.
(GNU Make can be dropped easily, it's just there for convenience)

One such helper tool would be enough to cover our current and
potential file handling needs. 'hbsh [mkdir|rm|...] [<options>]
[<arg[s]>] (something like a minimal and portable busybox
implementation)

It would be best to write such tool in plain C to keep the binary
size and dependencies minimal.

I'd like to hear more opinion on this before going into that
direction. Also, we will need contributor to create this tool.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Fri Aug  7 12:21:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug  7 12:21:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11988] trunk/harbour
Message-ID: <E1MZSBu-0000ic-Cw@d5vjzd1.ch3.sourceforge.com>

Revision: 11988
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11988&view=rev
Author:   vszakats
Date:     2009-08-07 16:21:09 +0000 (Fri, 07 Aug 2009)

Log Message:
-----------
2009-08-07 18:18 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    * Minor formatting.

  * source/pp/Makefile
  * config/prg.cf
  * config/global.cf
  * config/bin.cf
  * config/globsh.cf
  * config/bsd/gcc.cf
  * config/bsd/global.cf
  * config/wce/msvcarm.cf
  * config/wce/global.cf
  * config/wce/mingwarm.cf
  * config/wce/poccarm.cf
  * config/rules.cf
  * config/darwin/gcc.cf
  * config/darwin/global.cf
  * config/hpux/gcc.cf
  * config/hpux/global.cf
  * config/dos/watcom.cf
  * config/dos/global.cf
  * config/dos/djgpp.cf
  * config/win/watcom.cf
  * config/win/icc.cf
  * config/win/cygwin.cf
  * config/win/global.cf
  * config/win/msvc.cf
  * config/win/xcc.cf
  * config/win/mingw.cf
  * config/win/pocc.cf
  * config/win/bcc.cf
  * config/linux/watcom.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/linux/global.cf
  * config/linux/sunpro.cf
  * config/os2/watcom.cf
  * config/os2/gcc.cf
  * config/os2/global.cf
  * config/sunos/gcc.cf
  * config/sunos/global.cf
  * config/sunos/sunpro.cf
    * EXE_* variables renamed to BIN_*.
    % BIN_EXT initialization moved to <arch>/global.cf.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bin.cf
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/bsd/global.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/darwin/global.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/dos/global.cf
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/globsh.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/hpux/global.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/global.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/linux/watcom.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/os2/global.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/prg.cf
    trunk/harbour/config/rules.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/sunos/global.cf
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/config/wce/global.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/wce/msvcarm.cf
    trunk/harbour/config/wce/poccarm.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/global.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/config/win/xcc.cf
    trunk/harbour/source/pp/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug  7 13:06:46 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug  7 13:06:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11989] trunk/harbour
Message-ID: <E1MZSty-0005BZ-Ei@74yxhf1.ch3.sourceforge.com>

Revision: 11989
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11989&view=rev
Author:   vszakats
Date:     2009-08-07 17:06:45 +0000 (Fri, 07 Aug 2009)

Log Message:
-----------
2009-08-07 19:05 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * bin/postinst.cmd
  * bin/postinst.bat
  * bin/hb-mkdyn.bat
    ! Fixed to handle case when HB_*_INSTALL var is empty.
      Related features will be skipped in this case.

  * config/global.cf
    ! Don't try to set HB_*_INSTALL vars if HB_INSTALL_PREFIX is empty.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/bin/postinst.bat
    trunk/harbour/bin/postinst.cmd
    trunk/harbour/config/global.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Fri Aug  7 15:33:45 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Aug  7 15:33:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11990] trunk/harbour
Message-ID: <E1MZVCD-0000fR-1z@c3vjzd1.ch3.sourceforge.com>

Revision: 11990
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11990&view=rev
Author:   vouchcac
Date:     2009-08-07 19:33:41 +0000 (Fri, 07 Aug 2009)

Log Message:
-----------
2009-08-07 12:30 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/qth/QAbstractItemView.qth
    ! Fixed one artifact causing limited sources.

  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_slots.h
  * contrib/hbqt/moc_slots.cpp
  * contrib/hbqt/QAbstractItemView.cpp
  * contrib/hbqt/TQAbstractItemView.prg
    + Added more event handlers.
    ! Fine tuned sub-classes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/QAbstractItemView.cpp
    trunk/harbour/contrib/hbqt/TQAbstractItemView.prg
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h
    trunk/harbour/contrib/hbqt/moc_slots.cpp
    trunk/harbour/contrib/hbqt/qth/QAbstractItemView.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Fri Aug  7 16:52:47 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Aug  7 16:52:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11991] trunk/harbour
Message-ID: <E1MZWQh-0006qv-1X@d5vjzd1.ch3.sourceforge.com>

Revision: 11991
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11991&view=rev
Author:   vouchcac
Date:     2009-08-07 20:52:46 +0000 (Fri, 07 Aug 2009)

Log Message:
-----------
2009-08-07 12:35 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/appevent.ch
  * contrib/hbxbp/xbpbrowse.prg
    ! A thorough rewrite of XbpBrowse() class. The vertical navigation is 
      based on TBrowse() class and hence XbpBrowse() via Qt will probably be the 
      fastest GUI browser in the market in the sense that it has almost negligible
      memory overhead.

  * contrib/hbxbp/tests/demoxbp.prg
    ! Fine-tuned XbpBrowse() code confirming to latest changes.

    /*
       Finally I could achieve vertical navigation as per TBrowse without any 
       memory overhead. Horizontal navigation stll needs a lot of work but in its 
       simplest form it is working. Please play with vertical navigation and report 
       on this list any differences you might found.

       XbpBrowse() truely follows Xbase++ event loop protocol. So it is possible 
       that you can try real-life XbpBrowse code with Harbour-Qt. I am looking forward
       your support in this direction. Because it is taking my lot of time to 
       understand the Qt's internal behavior of model/view programming, I am 
       finding it hard to test all possible scenarios.

       Please make experiments with array bowsers, indexed browsers, etc. and provide 
       feedback as much as possible.

       Enjoy
    */

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/appevent.ch
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mauriliolongo at users.sourceforge.net  Fri Aug  7 17:50:28 2009
From: mauriliolongo at users.sourceforge.net (mauriliolongo@users.sourceforge.net)
Date: Fri Aug  7 17:50:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11992] trunk/harbour
Message-ID: <E1MZXKW-0003x0-Pp@c3vjzd1.ch3.sourceforge.com>

Revision: 11992
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11992&view=rev
Author:   mauriliolongo
Date:     2009-08-07 21:50:27 +0000 (Fri, 07 Aug 2009)

Log Message:
-----------
2009-08-07 23:43 UTC+0200 Maurilio Longo (maurilio.longo@libero.it)
   * config/globsh.cf
     ! fixed OS/2 section, os2-mkdir needs forward slashes as directory
       separators, not backslashes.
   * config/instsh.cf
     ! fixed OS/2 section, work around for OS/2 shell max line lenght.
   * config/os2/global.cf
     * EXE_EXT set to .exe

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.cf
    trunk/harbour/config/instsh.cf
    trunk/harbour/config/os2/global.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug  8 07:21:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug  8 07:21:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11993] trunk/harbour
Message-ID: <E1MZjzg-0000Lr-E8@c3vjzd1.ch3.sourceforge.com>

Revision: 11993
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11993&view=rev
Author:   vszakats
Date:     2009-08-08 11:21:43 +0000 (Sat, 08 Aug 2009)

Log Message:
-----------
2009-08-08 13:19 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * bin/postinst.bat
    + Showing error message if HB_BIN_INSTALL is not set.

  * config/instsh.cf
    * "$(COMSPEC) /C" -> "$(CMDPREF)"

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/config/instsh.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Sat Aug  8 09:05:40 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sat Aug  8 09:05:56 2009
Subject: [Harbour] Harbour under OS/2 - eCS, cross build II
Message-ID: <4A7D7824.9030609@mail.udg.mx>

Second try of cross build using OpenWatcom 1.8

Host: Windows 32
Target: OS/2 - eCS


Harbour source code
  * $Id: ChangeLog 11949 2009-07-31 11:21:30Z druzus $
  2009-07-31 13:21 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

config\win\watcom.cf
config\os2\watcom.cf
  Originals

environment
----------------------
@ECHO OFF
SET WATCOM=D:\WATCOM

Rem: Host
SET PATH=%WATCOM%\BINNT;%WATCOM%\BINW;%PATH%

Rem: Target
SET INCLUDE=%WATCOM%\H\OS2;%WATCOM%\H

SET EDPATH=%WATCOM%\EDDAT

Rem: Target
set HB_ARCHITECTURE=os2
set HB_COMPILER=watcom

Rem eliminate libraries which scans for local host header files
set HB_XBUILD=yes

----------------------

bin\os2\watcom
   All executable files are created

Executing bin\os2\watcom\harbour.exe on Windows XPPro SP2 it show:
   "This is an OS/2 32-bit executable"

bin\os2\watcom
   All executable files run fine under eCS, except hbrun.exe

Example:
[D:\harbour907e\harbour\bin\os2\watcom]harbour /build
Harbour 2.0.0beta2 (Rev. 11949)
Copyright (c) 1999-2009, http://www.harbour-project.org/

Harbour Build Info
---------------------------
Version: Harbour 2.0.0beta2 (Rev. 11949)
Compiler: Open Watcom C++ 12.80.8 (32-bit)
Platform: OS/2 4.50
PCode version: 0.2
ChangeLog last entry: 2009-07-31 13:21 UTC+0200 Przemyslaw Czerpak 
(druzus/at/pr
iv.onet.pl)
ChangeLog ID: ChangeLog 11949 2009-07-31 11:21:30Z druzus

Built on: Aug  8 2009 07:01:07
Build options: (C++ mode)
Language options: (Clipper 5.3) (Clipper 5.x undoc) (Xbase++) (Flagship)
---------------------------


BUT hbrun.exe fail in cross-build AND native OS/2 with message:
--------------------------------
  SYS1811: The process has stopped.  The software diagnostic code
  (trap number) is  FFFF.
--------------------------------
so is not problem of cross build

hbrun.exe build with gcc335 run fine


lib\os2\watcom\ contain 45 libraries created



So cross build  Windows -->  OS/2 are sucessful


David Macias


Notes:
Cross build tests
  OS/2  -->  Windows
  Windows  --> OS/2
revealed a great problem: incompatibility between make381 of Windows and 
  OS/2

Testing OS/2-->Windows
  forced to use Przemek changes for make381-os2 in config\win\watcom.cf 
and config\os2\watcom.cf

Testing Windows-->OS/2
  forced to use exclude Przemek changes for make381-os2 and use 
originals  config\win\watcom.cf and config\os2\watcom.cf

  Using Prezemk changes in config\os2\watcom.cf show incompatibility:
( translated message: unexpected i in this moment )

--------------------------------
wpp386 -zq -bt=OS2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../..
/../include      ../../../strwild.c -fo=strwild.obj
for %i in ( *.obj ) do @echo -+%i >> __lib__.tmp
No se esperaba i en este momento.
mingw32-make[3]: *** [hbcommon.lib] Error 255
mingw32-make[3]: Leaving directory 
`D:/harbour907e/harbour/source/common/obj/os2
/watcom'
mingw32-make[2]: *** [descend] Error 2
mingw32-make[2]: Leaving directory `D:/harbour907e/harbour/source/common'
mingw32-make[1]: *** [common] Error 2
mingw32-make[1]: Leaving directory `D:/harbour907e/harbour/source'
mingw32-make: *** [source] Error 2
Harbour GNU Make returned: 2
--------------------------------

and we can not have one group of watcom.cf files for native builds and 
other for cross build

Przemek, Viktor, Maurilio:

As make381-os2 show problems (limits) and incompatibility with 
make381-windows (and perhaps Linux), there are some way to use ANOTHER 
make system in OS/2 ?
Reading docs of Watcom I found wmake.exe, based in GNU make but with 
some differences specified in docs
I tried to use it to build Harbour and raised errors not described in 
differences

As I remember, it fail in first Makefile because does not support 
expressions like this due comma:
   ifeq ($(HB_HOST_BUILD),yes)
   ifeq ($(HB_HOST_BUILD),lib)
   ifeq ($(HB_POSTINST),)
   ifneq ($(HB_ROOTPOSTINST),)


From harbour.01 at syenar.hu  Sat Aug  8 09:37:53 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug  8 09:38:01 2009
Subject: [Harbour] Harbour under OS/2 - eCS, cross build II
In-Reply-To: <4A7D7824.9030609@mail.udg.mx>
References: <4A7D7824.9030609@mail.udg.mx>
Message-ID: <AC9E2232-EA87-4542-808C-33370FFE2A3A@syenar.hu>

> Przemek, Viktor, Maurilio:
>
> As make381-os2 show problems (limits) and incompatibility with  
> make381-windows (and perhaps Linux), there are some way to use  
> ANOTHER make system in OS/2 ?
> Reading docs of Watcom I found wmake.exe, based in GNU make but with  
> some differences specified in docs
> I tried to use it to build Harbour and raised errors not described  
> in differences

No, sorry. I'd certainly not want to reintroduce a parallel (non-GNU)
make system for OS/2 after having spent a year getting rid of them
for Windows (and all the permanent double work with them).

Probably it would be better to find a GNU Make build for OS/2 which
works well, or trying to work around the bugs which it has under
OS/2. I don't exactly see what are these though, can't find any lines
like "for %i in ( *.obj ) do @echo -+%i >> __lib__.tmp" in current SVN.

[ It'd recommend to make tests using latest SVN, as changes are made
regularly in the GNU Make process. Also, confirmed pending patches
should better be uploaded to SVN, as currently it's very difficult to
track what is the tested codebase. The only slight problem I see with
these watcom patches, is that it's not too clean and for cross- 
compilation
it would have to be added to all watcom.cf files, just to make OS/2  
happy. ]

It should also be noted that our GNU Make process uses shell specific
rules and parts, and some other OS specific tricks so maybe not GNU
Make itself should be blamed for some problems you're seeing.

It may also be an option to use the DOS build of GNU Make under OS/2.
I don't know to what extent OS/2 is compatible with DOS exes, but it's
worth a check.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Aug  8 10:31:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug  8 10:31:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11994] trunk/harbour
Message-ID: <E1MZmxE-0007dx-7u@bj8yhf1.ch3.sourceforge.com>

Revision: 11994
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11994&view=rev
Author:   vszakats
Date:     2009-08-08 14:31:27 +0000 (Sat, 08 Aug 2009)

Log Message:
-----------
2009-08-08 16:31 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_tprt.prg
    % Simplified ::read() and ::recv().

  * contrib/hbwin/win_prt.c
    ! Fixed functions returning values by reference to set the
      values also in error cases.
    ! Fixed memory leak in WIN_PORTREAD() in error case.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prt.c
    trunk/harbour/contrib/hbwin/win_tprt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Sat Aug  8 15:30:14 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Sat Aug  8 15:30:17 2009
Subject: [Harbour] OLE and reference variables
Message-ID: <n8kr75pghji4q7sgammhkoqt2m3hhaks5l@4ax.com>

Hi,

I have problems with OLE and variables by reference, exemple:

---cut---
oOle = Win_OleCreateObject( "NFe_Util_PL005a.Util" )
cName = ""
cMess = ""
oOle:PegaNomeCertificado( @cName, @cMess )
? cName,cMess
---cut---

cName and cMess is always empty.

Any hint please ?

Thanks abd best regards,

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From harbour.01 at syenar.hu  Sat Aug  8 15:55:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug  8 15:55:58 2009
Subject: [Harbour] OLE and reference variables
In-Reply-To: <n8kr75pghji4q7sgammhkoqt2m3hhaks5l@4ax.com>
References: <n8kr75pghji4q7sgammhkoqt2m3hhaks5l@4ax.com>
Message-ID: <21316864-3DB6-4EEA-A880-08F466421C4A@syenar.hu>

Hi,

I've made an attempt to implement this, but can't test it.

Could you send a code example with some default XP OLE component
which with I can test it?

Brgds,
Viktor

On 2009.08.08., at 9:30, Toninho@fwi wrote:

> Hi,
>
> I have problems with OLE and variables by reference, exemple:
>
> ---cut---
> oOle = Win_OleCreateObject( "NFe_Util_PL005a.Util" )
> cName = ""
> cMess = ""
> oOle:PegaNomeCertificado( @cName, @cMess )
> ? cName,cMess
> ---cut---
>
> cName and cMess is always empty.
>
> Any hint please ?
>
> Thanks abd best regards,
>
> Toninho.
>
> __________________________________________________
> Fa?a liga??es para outros computadores com o novo Yahoo! Messenger
> http://br.beta.messenger.yahoo.com/
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From toninhofwi at yahoo.com.br  Sat Aug  8 15:56:00 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Sat Aug  8 15:56:04 2009
Subject: [Harbour] OLE and reference variables
In-Reply-To: <n8kr75pghji4q7sgammhkoqt2m3hhaks5l@4ax.com>
References: <n8kr75pghji4q7sgammhkoqt2m3hhaks5l@4ax.com>
Message-ID: <41mr75dc4sfgqcca2n5o7j0u9nfm3lj97d@4ax.com>

Hi friends,

Only to know: tested with XHarbour and works perfectly.

Regards,

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From toninhofwi at yahoo.com.br  Sat Aug  8 17:55:27 2009
From: toninhofwi at yahoo.com.br (Antonio Carlos)
Date: Sat Aug  8 17:55:37 2009
Subject: [Harbour] OLE and reference variables
In-Reply-To: <21316864-3DB6-4EEA-A880-08F466421C4A@syenar.hu>
Message-ID: <99828.42748.qm@web33701.mail.mud.yahoo.com>

> I've made an attempt to implement this, but can't test it.
> 
> Could you send a code example with some default XP OLE
> component which with I can test it?

Hi Viktor.

you need download this package: http://www.fwi.com.br/nfe.zip

after download, please run registraDLL.bat, and install .\certificados\associacao.pfx. Password is associacao

now, try this test:

---cut---
oOle = Win_OleCreateObject( "NFe_Util_PL005a.Util" )
cName = ""
cMess = ""
oOle:PegaNomeCertificado( @cName, @cMess )
? cName,cMess
---cut---

Thank you and best regards,

Toninho.

PS: you need dotnetfx.exe 2.0 or above to test.



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
From harbour.01 at syenar.hu  Sat Aug  8 18:07:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug  8 18:07:33 2009
Subject: [Harbour] OLE and reference variables
In-Reply-To: <99828.42748.qm@web33701.mail.mud.yahoo.com>
References: <99828.42748.qm@web33701.mail.mud.yahoo.com>
Message-ID: <96B62502-6FB4-479C-A833-72F976A8096E@syenar.hu>

On 2009.08.08., at 11:55, Antonio Carlos wrote:

>> I've made an attempt to implement this, but can't test it.
>>
>> Could you send a code example with some default XP OLE
>> component which with I can test it?
>
> Hi Viktor.
>
> you need download this package: http://www.fwi.com.br/nfe.zip
>
> after download, please run registraDLL.bat, and install . 
> \certificados\associacao.pfx. Password is associacao
>
> now, try this test:
>
> ---cut---
> oOle = Win_OleCreateObject( "NFe_Util_PL005a.Util" )
> cName = ""
> cMess = ""
> oOle:PegaNomeCertificado( @cName, @cMess )
> ? cName,cMess
> ---cut---
>
> Thank you and best regards,
>
> Toninho.
>
> PS: you need dotnetfx.exe 2.0 or above to test.

I'm rather sending you the patched source for you to do the testing,
as I don't want to install any new components into my system as admin,
also such test can't be uploaded to SVN.

Brgds,
Viktor
-------------- next part --------------
A non-text attachment was scrubbed...
Name: olecore.zip
Type: application/zip
Size: 6402 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090809/bf037961/olecore.zip
-------------- next part --------------



From vszakats at users.sourceforge.net  Sat Aug  8 18:30:52 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug  8 18:31:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11995] trunk/harbour
Message-ID: <E1MZuRA-0003P5-PH@c3vjzd1.ch3.sourceforge.com>

Revision: 11995
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11995&view=rev
Author:   vszakats
Date:     2009-08-08 22:30:49 +0000 (Sat, 08 Aug 2009)

Log Message:
-----------
2009-08-09 00:14 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_tprt.prg
  * contrib/hbwin/win_prt.c
    + ::Recv() got a new second parameter to return result code.
    + WIN_PORTFCN() now requires port number to be passed as 1st param.
    + WIN_PORTERROR() now requires port number to be passed as 1st param.
    * Renamed function WIN_PORTFCN() to WIN_PORTFUNCLAST()
    + Fixed last port operation and last error to be stored per port
      rather than in global vars. This makes it possible to use multiple
      ports in parallel.
    - Deleted WIN_PORTBUFFERS() which wasn't MT friendly.
    + WIN_PORTOPEN() function got enabled 6th and 7th inbuffer/outbuffer
      parameters. This replaces WIN_PORTBUFFERS() function.
    + Added WIN_PORTRECV() function which is similar to WIN_PORTREAD()
      but returns the result directly rather than putting it in a var
      passed by reference. It accepts lenght parameter and return result
      code by reference. It's a little bit more effient than WIN_PORTREAD().
    % Some if/else branches swapped to make code a little smoother.

  * contrib/hbwin/olecore.c
    + Attempt to add vars by reference support. Commented until
      there is no test code to try it.
    * Minor formatting.

  * contrib/xhb/hbserv.h
  * contrib/xhb/htmlform.ch
  * contrib/xhb/inet.h
  * contrib/xhb/hblognet.prg
  * contrib/xhb/tfile.prg
  * contrib/xhb/html.ch
  * contrib/xhb/tedit.prg
  * contrib/xhb/tframe.prg
  * contrib/xhb/htjlist.prg
  * contrib/xhb/xdbmodst.prg
  * contrib/xhb/htmlclrs.ch
  * contrib/xhb/thtm.prg
  * contrib/xhb/hterrsys.prg
  * contrib/xhb/tcgi.prg
  * contrib/xhb/regexrpl.prg
  * contrib/xhb/hbserv.ch
  * contrib/xhb/ttable.prg
  * contrib/xhb/hjwindow.prg
  * contrib/xhb/hbserv.c
  * contrib/xhb/htmutil.prg
    * Header formatting.
    ; NOTE: I noticed some xhb components have pure GPL license (recently
            added CGI parts), plus some other use some sort of xhb specific
            modification of original Harbour + exception license. This
            contains some sentence which doesn't seem to make much sense:
            "This exception applies only to the code released with this xHarbour explicit exception."
            FYI.

  * contrib/hbtpathy/telepath.prg
  * utils/hbmk2/hbmk2.prg
    * Minor formatting, comments.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/telepath.prg
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/contrib/hbwin/win_prt.c
    trunk/harbour/contrib/hbwin/win_tprt.prg
    trunk/harbour/contrib/xhb/hblognet.prg
    trunk/harbour/contrib/xhb/hbserv.c
    trunk/harbour/contrib/xhb/hbserv.ch
    trunk/harbour/contrib/xhb/hbserv.h
    trunk/harbour/contrib/xhb/hjwindow.prg
    trunk/harbour/contrib/xhb/hterrsys.prg
    trunk/harbour/contrib/xhb/htjlist.prg
    trunk/harbour/contrib/xhb/html.ch
    trunk/harbour/contrib/xhb/htmlclrs.ch
    trunk/harbour/contrib/xhb/htmlform.ch
    trunk/harbour/contrib/xhb/htmutil.prg
    trunk/harbour/contrib/xhb/inet.h
    trunk/harbour/contrib/xhb/regexrpl.prg
    trunk/harbour/contrib/xhb/tcgi.prg
    trunk/harbour/contrib/xhb/tedit.prg
    trunk/harbour/contrib/xhb/tfile.prg
    trunk/harbour/contrib/xhb/tframe.prg
    trunk/harbour/contrib/xhb/thtm.prg
    trunk/harbour/contrib/xhb/ttable.prg
    trunk/harbour/contrib/xhb/xdbmodst.prg
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug  8 19:02:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug  8 19:02:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11996] trunk/harbour
Message-ID: <E1MZuw6-0004Gr-AO@74yxhf1.ch3.sourceforge.com>

Revision: 11996
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11996&view=rev
Author:   vszakats
Date:     2009-08-08 23:02:49 +0000 (Sat, 08 Aug 2009)

Log Message:
-----------
2009-08-09 01:01 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_tprt.prg
  * contrib/hbwin/win_prt.c
    + Extended max number of ports to Windows platform limit: 256 (from 32).
    % Changed the way port structure is handled. Now the port name is
      initalized on port opening, so the redundant static port table
      initialization could be dropped. This reduces lib footprint in
      executables. (could still be optimized to also address runtime
      footprint)
    % Merged s_PortData and s_PortData2 structures.
    % Type cleanup. static vars converted to long (from int), DWORD casts
      added, hb_par/hb_stor functions modified.
    + ::Init() method extended to handle 6th and 7th params.
    - Deleted ::Buffer() method which was a wrapper to WIN_PORTBUFFERS().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prt.c
    trunk/harbour/contrib/hbwin/win_tprt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug  8 19:09:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug  8 19:09:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11997] trunk/harbour
Message-ID: <E1MZv2Z-0004Ot-Af@74yxhf1.ch3.sourceforge.com>

Revision: 11997
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11997&view=rev
Author:   vszakats
Date:     2009-08-08 23:09:30 +0000 (Sat, 08 Aug 2009)

Log Message:
-----------
2009-08-09 01:09 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prt.c
    % Optimized out port name from port structure. 3KB runtime
      space saving.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug  8 19:36:25 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug  8 19:36:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11998] trunk/harbour
Message-ID: <E1MZvSb-0002NS-Ol@3kljzd1.ch3.sourceforge.com>

Revision: 11998
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11998&view=rev
Author:   vszakats
Date:     2009-08-08 23:36:24 +0000 (Sat, 08 Aug 2009)

Log Message:
-----------
2009-08-09 01:35 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
    + Added build presets based on some predefined HB_BUILD_NAME values:
      HB_BUILD_NAME=.r     RELEASE
      HB_BUILD_NAME=.rx    RELEASE C++
      HB_BUILD_NAME=.ru    RELEASE UNICODE
      HB_BUILD_NAME=.rux   RELEASE UNICODE C++
      HB_BUILD_NAME=.d     DEBUG
      HB_BUILD_NAME=.dx    DEBUG C++
      HB_BUILD_NAME=.du    DEBUG UNICODE
      HB_BUILD_NAME=.dux   DEBUG UNICODE C++
    ; Initial/experimental commit, names may change yet.

  * external/sqlite3/Makefile
  * external/libhpdf/Makefile
  * external/libpng/Makefile
    % Minor opt.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf
    trunk/harbour/external/libhpdf/Makefile
    trunk/harbour/external/libpng/Makefile
    trunk/harbour/external/sqlite3/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug  8 19:46:20 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug  8 19:46:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11999] trunk/harbour
Message-ID: <E1MZvcC-0002Xx-14@3kljzd1.ch3.sourceforge.com>

Revision: 11999
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=11999&view=rev
Author:   vszakats
Date:     2009-08-08 23:46:18 +0000 (Sat, 08 Aug 2009)

Log Message:
-----------
2009-08-09 01:44 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
  * config/global.cf
  * config/rules.cf
  * config/dos/watcom.cf
  * config/win/watcom.cf
  * config/os2/watcom.cf
    + Added HB_BUILD_UNICODE=yes[|no] option to control UNICODE builds
      on win/wce platforms.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/rules.cf
    trunk/harbour/config/win/watcom.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Sat Aug  8 19:49:33 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Sat Aug  8 19:49:36 2009
Subject: [Harbour] OLE and reference variables
In-Reply-To: <96B62502-6FB4-479C-A833-72F976A8096E@syenar.hu>
References: <99828.42748.qm@web33701.mail.mud.yahoo.com>
	<96B62502-6FB4-479C-A833-72F976A8096E@syenar.hu>
Message-ID: <tk3s7554bdb9ihbpve894ksp2a046ajlm9@4ax.com>

>I'm rather sending you the patched source for you to do the testing,
>as I don't want to install any new components into my system as admin,
>also such test can't be uploaded to SVN.

Hi Viktor,

I tested olecore.c that you send me and I have the same result.
Reference variables are empty.

Thank you and best regards,

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From harbour.01 at syenar.hu  Sat Aug  8 20:04:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug  8 20:04:26 2009
Subject: [Harbour] OLE and reference variables
In-Reply-To: <tk3s7554bdb9ihbpve894ksp2a046ajlm9@4ax.com>
References: <99828.42748.qm@web33701.mail.mud.yahoo.com>
	<96B62502-6FB4-479C-A833-72F976A8096E@syenar.hu>
	<tk3s7554bdb9ihbpve894ksp2a046ajlm9@4ax.com>
Message-ID: <760E49DD-F519-421E-9435-7A49E495675B@syenar.hu>

Okay. I hope someone will post portable test code for this
feature and I can look at it further, this way it's only
shot in the dark.

Brgds,
Viktor

On 2009.08.09., at 1:49, Toninho@fwi wrote:

>> I'm rather sending you the patched source for you to do the testing,
>> as I don't want to install any new components into my system as  
>> admin,
>> also such test can't be uploaded to SVN.
>
> Hi Viktor,
>
> I tested olecore.c that you send me and I have the same result.
> Reference variables are empty.
>
> Thank you and best regards,
>
> Toninho.
>
> __________________________________________________
> Fa?a liga??es para outros computadores com o novo Yahoo! Messenger
> http://br.beta.messenger.yahoo.com/
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vouchcac at users.sourceforge.net  Sat Aug  8 20:09:07 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Aug  8 20:09:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12000] trunk/harbour
Message-ID: <E1MZvyF-0000vl-Tq@bj8yhf1.ch3.sourceforge.com>

Revision: 12000
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12000&view=rev
Author:   vouchcac
Date:     2009-08-09 00:09:07 +0000 (Sun, 09 Aug 2009)

Log Message:
-----------
2009-08-08 17:01 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpbrowse.prg
    + Implemented ::vScroll | ::hScroll | ::cursorMode 
      Xbase++ documentation suggests that changing these instance variables 
      required ::configure() be called explictly, but I have implemented that 
      the next stablization loop automatically take care of it. 
      Suggestions ?

  * contrib/hbxbp/xbpstatic.prg
    ! Changed the way XBPSTATIC_TYPE_LINE* orientation is established.
      Note that Xbase++ draws diagonal lines as well but in Qt it cannot be attained.

  * contrib/hbxbp/tests/demoxbp.prg
    + Rearrangeements of objects in tab pages. As the need for more space was growing
      tab-pages now occupy the whole ::drawingarea and rest of the controls are 
      now children of them.
    ! Demonstrated new instance variables implementation of XbpBrowse().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbpstatic.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Sat Aug  8 20:57:38 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Sat Aug  8 20:57:45 2009
Subject: [Harbour] OLE and reference variables
In-Reply-To: <760E49DD-F519-421E-9435-7A49E495675B@syenar.hu>
References: <99828.42748.qm@web33701.mail.mud.yahoo.com>
	<96B62502-6FB4-479C-A833-72F976A8096E@syenar.hu>
	<tk3s7554bdb9ihbpve894ksp2a046ajlm9@4ax.com>
	<760E49DD-F519-421E-9435-7A49E495675B@syenar.hu>
Message-ID: <q67s75plmu4f1a789576qm6edsvrrg1293@4ax.com>

>Okay. I hope someone will post portable test code for this
>feature and I can look at it further, this way it's only
>shot in the dark.

Hi Viktor,

if you want to test, please download this package
(http://www.fwi.com.br/nfe.zip) and don't install anything, only you
need is dotnetfx.exe and you need register dll, because is OLE. There
are a registraDLL.bat file in package.

to test:

--cut---
local oOle, nRet := 0, QtdErros := 0, Mensagem := ""
oOle = Win_OleCreateObject( "NFe_Util_PL005a.Util" )
oOle:ValidaXMLXHarbour( "", 1, @Mensagem, @QtdErros, @nRet )
? Mensagem, QtdErros, nRet
---cut---

The result is:

---cut---
Erro: Arquivo de Schema Inexistente
0
3
---cut---


Thanks again,

Best regards,

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From lorenzo.fiorini at gmail.com  Sun Aug  9 03:26:43 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Aug  9 03:26:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12000] trunk/harbour
In-Reply-To: <E1MZvyF-0000vl-Tq@bj8yhf1.ch3.sourceforge.com>
References: <E1MZvyF-0000vl-Tq@bj8yhf1.ch3.sourceforge.com>
Message-ID: <9257026e0908090026r71e3315bm7f10b96a1764f50f@mail.gmail.com>

On Sun, Aug 9, 2009 at 2:09 AM, <vouchcac@users.sourceforge.net> wrote:

> ?* contrib/hbxbp/xbpbrowse.prg
> ...
> ? ?! Demonstrated new instance variables implementation of XbpBrowse().

Very good job Pritpal.

I've never used XBase so I can't say much about code and
compatibility, but demoxbp is really nice.

The only "strange" thing I can report is in tree: instead of copy.png
image I see colored squares that change color with the state change so
it seems an image rendering problem.
copy.png file seems valid and all the other images are rendered correctly.

I can see this under Fedora 11 using QT 4.5.2 sdk from qtsoftware or
under Ubuntu 9.04 using system's qt 4.5.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sun Aug  9 04:06:07 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug  9 04:06:24 2009
Subject: [Harbour] OLE and reference variables
In-Reply-To: <q67s75plmu4f1a789576qm6edsvrrg1293@4ax.com>
References: <99828.42748.qm@web33701.mail.mud.yahoo.com>
	<96B62502-6FB4-479C-A833-72F976A8096E@syenar.hu>
	<tk3s7554bdb9ihbpve894ksp2a046ajlm9@4ax.com>
	<760E49DD-F519-421E-9435-7A49E495675B@syenar.hu>
	<q67s75plmu4f1a789576qm6edsvrrg1293@4ax.com>
Message-ID: <51A34331-AAC0-4304-8B19-390773A081CA@syenar.hu>

Hi Toninho,

>> Okay. I hope someone will post portable test code for this
>> feature and I can look at it further, this way it's only
>> shot in the dark.
>
> Hi Viktor,
>
> if you want to test, please download this package
> (http://www.fwi.com.br/nfe.zip) and don't install anything, only you
> need is dotnetfx.exe and you need register dll, because is OLE. There
> are a registraDLL.bat file in package.

Sorry, I don't want to register any components as admin
to test Harbour parts. I also cannot upload such test, because
I can't expect other Harbour users/developers to do the same.

I need an example which works on default XP OLE components.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Aug  9 04:16:10 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 04:16:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12001] trunk/harbour
Message-ID: <E1Ma3Za-0000Us-Vq@c3vjzd1.ch3.sourceforge.com>

Revision: 12001
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12001&view=rev
Author:   vszakats
Date:     2009-08-09 08:16:09 +0000 (Sun, 09 Aug 2009)

Log Message:
-----------
2009-08-09 10:14 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbxbp/tests/demoxbp.prg
    * Added hb_DirBase() to local file references, to make these 
      work when no run from its own directory.
    ! Using test.dbf in tests.

  - contrib/hbxbp/tests/test.dbf
    - Deleted duplicated test.dbf.

  * contrib/hbtip/client.prg
    * HAVE_OPENSSL -> HAS_OPENSSL

  * contrib/hbwin/olecore.c
  * source/rtl/cdpapi.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/client.prg
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/source/rtl/cdpapi.c

Removed Paths:
-------------
    trunk/harbour/contrib/hbxbp/tests/test.dbf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug  9 04:27:03 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 04:27:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12002] trunk/harbour
Message-ID: <E1Ma3k7-0000g8-DA@c3vjzd1.ch3.sourceforge.com>

Revision: 12002
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12002&view=rev
Author:   vszakats
Date:     2009-08-09 08:27:02 +0000 (Sun, 09 Aug 2009)

Log Message:
-----------
2009-08-09 10:26 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/gtwvg/gtwvg.hbc
    ! Fixed missing incpaths= line.

  * contrib/gtwvg/tests/demowvg.prg
  - contrib/gtwvg/tests/test.dbf
  * contrib/hbtip/tests/dbtohtml.prg
  - contrib/hbtip/tests/test.dbf
    ! Fixed to use central test.dbf instead of duplicating it.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.hbc
    trunk/harbour/contrib/gtwvg/tests/demowvg.prg
    trunk/harbour/contrib/hbtip/tests/dbtohtml.prg

Removed Paths:
-------------
    trunk/harbour/contrib/gtwvg/tests/test.dbf
    trunk/harbour/contrib/hbtip/tests/test.dbf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug  9 05:07:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 05:07:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12003] trunk/harbour
Message-ID: <E1Ma4Na-0007rA-1C@3kljzd1.ch3.sourceforge.com>

Revision: 12003
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12003&view=rev
Author:   vszakats
Date:     2009-08-09 09:07:48 +0000 (Sun, 09 Aug 2009)

Log Message:
-----------
2009-08-09 11:07 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/rtl/rat.c
    ! HB_RAT() fixed to not ignore nEnd parameter if it's out of bound.
      In such case it will now return zero ("not found").
      Mindaugas, please verify if this is what you proposed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/rat.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Sun Aug  9 05:38:55 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Aug  9 05:39:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12000] trunk/harbour
In-Reply-To: <9257026e0908090026r71e3315bm7f10b96a1764f50f@mail.gmail.com>
References: <E1MZvyF-0000vl-Tq@bj8yhf1.ch3.sourceforge.com>
	<9257026e0908090026r71e3315bm7f10b96a1764f50f@mail.gmail.com>
Message-ID: <9257026e0908090238l4c6b89ebn17f58757b6332777@mail.gmail.com>

On Sun, Aug 9, 2009 at 9:26 AM, Lorenzo
Fiorini<lorenzo.fiorini@gmail.com> wrote:

> I can see this under Fedora 11 using QT 4.5.2 sdk from qtsoftware or
> under Ubuntu 9.04 using system's qt 4.5.

Justo to report that I'm getting the same under Win XP and msys/mingw.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sun Aug  9 05:48:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug  9 05:48:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12000] trunk/harbour
In-Reply-To: <9257026e0908090238l4c6b89ebn17f58757b6332777@mail.gmail.com>
References: <E1MZvyF-0000vl-Tq@bj8yhf1.ch3.sourceforge.com>
	<9257026e0908090026r71e3315bm7f10b96a1764f50f@mail.gmail.com>
	<9257026e0908090238l4c6b89ebn17f58757b6332777@mail.gmail.com>
Message-ID: <A8D0657B-3F4D-4464-889E-2FD75BCFD0C5@syenar.hu>

I was thinking that's intentional, in the early days  it displayed
proper tree lines, and after an update it has changed to the current
colored style. Looks indeed a bit strange though.

And hereby congrats to Pritpal for the new browse functionality.
It's really nice job.

Brgds,
Viktor

On 2009.08.09., at 11:38, Lorenzo Fiorini wrote:

> On Sun, Aug 9, 2009 at 9:26 AM, Lorenzo
> Fiorini<lorenzo.fiorini@gmail.com> wrote:
>
>> I can see this under Fedora 11 using QT 4.5.2 sdk from qtsoftware or
>> under Ubuntu 9.04 using system's qt 4.5.
>
> Justo to report that I'm getting the same under Win XP and msys/mingw.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sun Aug  9 06:54:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 06:54:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12004] trunk/harbour
Message-ID: <E1Ma62R-0005l7-9w@d5vjzd1.ch3.sourceforge.com>

Revision: 12004
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12004&view=rev
Author:   vszakats
Date:     2009-08-09 10:54:06 +0000 (Sun, 09 Aug 2009)

Log Message:
-----------
2009-08-09 12:53 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtpathy/hbtpathy.hbc
    ! Added darwin to supported platforms.

  * contrib/hbwin/win_tprt.prg
  * contrib/hbwin/oleauto.prg
  * contrib/hbwin/axfunc.prg
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/hbtpathy.hbc
    trunk/harbour/contrib/hbwin/axfunc.prg
    trunk/harbour/contrib/hbwin/oleauto.prg
    trunk/harbour/contrib/hbwin/win_tprt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug  9 07:38:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 07:38:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12005] trunk/harbour
Message-ID: <E1Ma6ji-0004kG-C7@74yxhf1.ch3.sourceforge.com>

Revision: 12005
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12005&view=rev
Author:   vszakats
Date:     2009-08-09 11:38:49 +0000 (Sun, 09 Aug 2009)

Log Message:
-----------
2009-08-09 13:38 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtpathy/telepath.prg
    ! Fixed tp_open() to not add numeric port to passed portname.
      It's now only added to portname if it's not passed and default
      is used. On darwin, the portname isn't necessarily ending with
      a number.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/telepath.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug  9 10:37:16 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 10:37:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12006] trunk/harbour
Message-ID: <E1Ma9WO-00084p-9w@74yxhf1.ch3.sourceforge.com>

Revision: 12006
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12006&view=rev
Author:   vszakats
Date:     2009-08-09 14:37:15 +0000 (Sun, 09 Aug 2009)

Log Message:
-----------
2009-08-09 16:35 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtpathy/Makefile
  - contrib/hbtpathy/tplinux.c
  + contrib/hbtpathy/tpunix.c
  * contrib/hbtpathy/tpcommon.c
  * contrib/hbtpathy/tpwin.c
  * contrib/hbtpathy/tpos2.c
  * contrib/hbtpathy/telepath.prg
  * contrib/hbtpathy/hbtpathy.hbc
    + Enabled for all *nix systems (was only linux and darwin).
      I don't know if it works on all *nix systems, but it should
      be our goal. We will see. Please test.
    % Using HB_CRC32() in core instead of reimplementing it locally.
    ! P_CTRLCTS() dummy now returns proper type.
    + P_OUTFREE() implemented for Windows platforms.
    + P_ISDCD(), P_ISRI(), P_ISDSR(), P_ISCTS()
      implemented for Windows platforms. (ideas taken from hbwin)
      Neither of these were tested, but it's a start.
    + P_INFREE() added for Windows and OS/2.
      Only clean compilation was tested.
    + TP_INFREE() added.
    * Some formatting.

  * contrib/hbwin/win_prt.c
    + Some extra safety.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/Makefile
    trunk/harbour/contrib/hbtpathy/hbtpathy.hbc
    trunk/harbour/contrib/hbtpathy/telepath.prg
    trunk/harbour/contrib/hbtpathy/tpcommon.c
    trunk/harbour/contrib/hbtpathy/tpos2.c
    trunk/harbour/contrib/hbtpathy/tpwin.c
    trunk/harbour/contrib/hbwin/win_prt.c

Added Paths:
-----------
    trunk/harbour/contrib/hbtpathy/tpunix.c

Removed Paths:
-------------
    trunk/harbour/contrib/hbtpathy/tplinux.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug  9 10:51:20 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 10:51:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12007] trunk/harbour
Message-ID: <E1Ma9k0-0008KB-Gg@74yxhf1.ch3.sourceforge.com>

Revision: 12007
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12007&view=rev
Author:   vszakats
Date:     2009-08-09 14:51:19 +0000 (Sun, 09 Aug 2009)

Log Message:
-----------
2009-08-09 16:50 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtpathy/tpwin.c
  * contrib/hbtpathy/tpos2.c
  * contrib/hbtpathy/tpunix.c
  * contrib/hbtpathy/telepath.prg
  * contrib/hbtpathy/tpcommon.c
    + Renamed all internal functions from P_*() to __TP_*() to
      comply with rest of Harbour and lessen chance of colliding
      with other code. It also makes it easier to identify them
      in code. I won't list this as an incompatibility as we're
      talking about internal functions, so no user code is supposed 
      to use these.
    + Added compatibility wrappers for Telepath(y) functions:
      BIN_AND(), BIN_OR(), BIN_XOR(), BIN_NOT().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/telepath.prg
    trunk/harbour/contrib/hbtpathy/tpcommon.c
    trunk/harbour/contrib/hbtpathy/tpos2.c
    trunk/harbour/contrib/hbtpathy/tpunix.c
    trunk/harbour/contrib/hbtpathy/tpwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug  9 11:02:40 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 11:02:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12008] trunk/harbour
Message-ID: <E1Ma9uy-0008VV-Gu@74yxhf1.ch3.sourceforge.com>

Revision: 12008
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12008&view=rev
Author:   vszakats
Date:     2009-08-09 15:02:39 +0000 (Sun, 09 Aug 2009)

Log Message:
-----------
2009-08-09 17:00 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/examples/contribf.hbc
  * contrib/hbtpathy/Makefile
  + contrib/hbtpathy/tpdos.c
  * contrib/hbtpathy/hbtpathy.hbc
    + Added DOS stubs. This makes it possible to enable this contrib
      for all existing platforms. Serial support is possible to
      implement in DOS.
    % Now all source files are compiled for each platform, platform
      specific parts are guarded internally, no need to duplicate the
      logic on the make level.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/Makefile
    trunk/harbour/contrib/hbtpathy/hbtpathy.hbc
    trunk/harbour/utils/hbmk2/examples/contribf.hbc

Added Paths:
-----------
    trunk/harbour/contrib/hbtpathy/tpdos.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug  9 11:50:57 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 11:51:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12009] trunk/harbour
Message-ID: <E1MaAfh-0000H3-Ls@c3vjzd1.ch3.sourceforge.com>

Revision: 12009
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12009&view=rev
Author:   vszakats
Date:     2009-08-09 15:50:56 +0000 (Sun, 09 Aug 2009)

Log Message:
-----------
2009-08-09 17:49 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtpathy/telepath.ch
  * contrib/hbtpathy/tests/testtp.prg
  * contrib/hbtpathy/tpwin.c
  * contrib/hbtpathy/tpos2.c
  * contrib/hbtpathy/tpunix.c
  * contrib/hbtpathy/tpdos.c
  * contrib/hbtpathy/telepath.prg
    + Added self-guards to header.
    ! Converted all comments to ANSI C.
    + Added note to header that it's used from C code.
    ! Put negative macro values into parantheses.
    ! Fixed bad typo in test program which broke it for all platforms.
    % Minor optimization to TP_REOPEN().
    ! Moved internal structure macros from header to .prg.
    + Added comment for FILE() usage in TP_OPEN().
    ! Fixed to not use FILE() to check for port existance on non-*nix
      platforms. (maybe this works on OS/2 and it can be readded there,
      I don't know).
    ! Using manifest constants instead of literals in few places.
    ; After these changes, hbtpathy works on Windows platform.
      (made basic test only)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/telepath.ch
    trunk/harbour/contrib/hbtpathy/telepath.prg
    trunk/harbour/contrib/hbtpathy/tests/testtp.prg
    trunk/harbour/contrib/hbtpathy/tpdos.c
    trunk/harbour/contrib/hbtpathy/tpos2.c
    trunk/harbour/contrib/hbtpathy/tpunix.c
    trunk/harbour/contrib/hbtpathy/tpwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Aug  9 12:06:36 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Aug  9 12:06:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12000] trunk/harbour
In-Reply-To: <9257026e0908090026r71e3315bm7f10b96a1764f50f@mail.gmail.com>
References: <E1MZvyF-0000vl-Tq@bj8yhf1.ch3.sourceforge.com>
	<9257026e0908090026r71e3315bm7f10b96a1764f50f@mail.gmail.com>
Message-ID: <24888527.post@talk.nabble.com>


Hi


Lorenzo Fiorini-2 wrote:
> 
> Very good job Pritpal.
> 

Thanks.



> I've never used XBase so I can't say much about code and
> compatibility, but demoxbp is really nice.
> 

Any issues you see is good to report, no matter one uses
Xbase++ or not. Basic class framework is intended to be based 
on Xbase++ but final result must be better than that.

Thanks for your sparing time to evaluate it.



> The only "strange" thing I can report is in tree: instead of copy.png
> image I see colored squares that change color with the state change so
> it seems an image rendering problem.
> copy.png file seems valid and all the other images are rendered correctly.
> 

On my XP Professional, I can see copy.png rendered properly.
In the past I could see such problem with some other PNG also, I do not 
remember which. So it seems Qt's image rendering sub-system has some 
bug.



> I can see this under Fedora 11 using QT 4.5.2 sdk from qtsoftware or
> under Ubuntu 9.04 using system's qt 4.5.
> 

You also reported that it is the same with XP and mingw.
Can you show me the screen-shot?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12000--trunk-harbour-tp24883257p24888527.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sun Aug  9 12:11:40 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Aug  9 12:11:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12000] trunk/harbour
In-Reply-To: <A8D0657B-3F4D-4464-889E-2FD75BCFD0C5@syenar.hu>
References: <E1MZvyF-0000vl-Tq@bj8yhf1.ch3.sourceforge.com>
	<9257026e0908090026r71e3315bm7f10b96a1764f50f@mail.gmail.com>
	<9257026e0908090238l4c6b89ebn17f58757b6332777@mail.gmail.com>
	<A8D0657B-3F4D-4464-889E-2FD75BCFD0C5@syenar.hu>
Message-ID: <24888571.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> I was thinking that's intentional, in the early days  it displayed
> proper tree lines, and after an update it has changed to the current
> colored style. Looks indeed a bit strange though.
> 

Yes, this behavior is intentional. I am expermenting with 
CSS compatible style sheets. If you comment out 
line #187 ( ::setStyle ) of XbpTreeView.prg, you will receive
old behavior.

Note that copy.png is rendered perfect in both cases.



> And hereby congrats to Pritpal for the new browse functionality.
> It's really nice job.
> 

Thanks.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12000--trunk-harbour-tp24883257p24888571.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sun Aug  9 12:22:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug  9 12:22:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12000] trunk/harbour
In-Reply-To: <24888571.post@talk.nabble.com>
References: <E1MZvyF-0000vl-Tq@bj8yhf1.ch3.sourceforge.com>
	<9257026e0908090026r71e3315bm7f10b96a1764f50f@mail.gmail.com>
	<9257026e0908090238l4c6b89ebn17f58757b6332777@mail.gmail.com>
	<A8D0657B-3F4D-4464-889E-2FD75BCFD0C5@syenar.hu>
	<24888571.post@talk.nabble.com>
Message-ID: <5C5C20C7-30A8-4B0B-B6BE-891A4D519316@syenar.hu>

> Viktor Szak?ts wrote:
>>
>> I was thinking that's intentional, in the early days  it displayed
>> proper tree lines, and after an update it has changed to the current
>> colored style. Looks indeed a bit strange though.
>>
>
> Yes, this behavior is intentional. I am expermenting with
> CSS compatible style sheets. If you comment out
> line #187 ( ::setStyle ) of XbpTreeView.prg, you will receive
> old behavior.
>
> Note that copy.png is rendered perfect in both cases.

Thanks for confirming. I had no .png display problems on
my systems. Anyhow I modified code to use dynamically formed
absolute paths to access external files. The path is formed
using hb_DirBase(). I'd recommend sticking to this method
in the future as this is the only sure way to ensure these
file will be properly picked in case f.e. the demo app is
run from a different dir than the executable and its file
are residing (and at the same time not using any hardcoded
paths.).

(f.e.: > contrib/hbxbp/tests/demoxbp.exe)

[ In case of demoxbp, it crashed in above case. ]

Using files from current dir (IOW with relative or no path)
may cause lots of kinds of bad side effects. Hardcoded
absolute path will make the app dependent on its location,
so it's also no good.

I'll commit some fix to prev modif regarding test.dbf access,
I've left out hb_dirbase().

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Aug  9 12:26:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 12:26:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12010] trunk/harbour
Message-ID: <E1MaBEE-0007dv-Ne@3kljzd1.ch3.sourceforge.com>

Revision: 12010
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12010&view=rev
Author:   vszakats
Date:     2009-08-09 16:26:37 +0000 (Sun, 09 Aug 2009)

Log Message:
-----------
2009-08-09 18:26 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbxbp/tests/demoxbp.prg
  * contrib/gtwvg/tests/demowvg.prg
  * contrib/hbtip/tests/dbtohtml.prg
    ! Fix to test.dbf path. hb_DirBase() was missing.
    * Changed date format to ANSI.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/tests/demowvg.prg
    trunk/harbour/contrib/hbtip/tests/dbtohtml.prg
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug  9 12:33:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 12:33:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12011] trunk/harbour
Message-ID: <E1MaBKa-0007kw-I5@3kljzd1.ch3.sourceforge.com>

Revision: 12011
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12011&view=rev
Author:   vszakats
Date:     2009-08-09 16:33:11 +0000 (Sun, 09 Aug 2009)

Log Message:
-----------
2009-08-09 18:32 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbxbp/tests/demoxbp.prg
    ! Fixed test.ico reference to avoid QT runtime error message
      when run from a different dir.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Aug  9 12:35:53 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug  9 12:36:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12000] trunk/harbour
In-Reply-To: <24888571.post@talk.nabble.com>
References: <E1MZvyF-0000vl-Tq@bj8yhf1.ch3.sourceforge.com>
	<9257026e0908090026r71e3315bm7f10b96a1764f50f@mail.gmail.com>
	<9257026e0908090238l4c6b89ebn17f58757b6332777@mail.gmail.com>
	<A8D0657B-3F4D-4464-889E-2FD75BCFD0C5@syenar.hu>
	<24888571.post@talk.nabble.com>
Message-ID: <7E09BE8D-436D-4C74-AE13-B88BA36BDB6B@syenar.hu>

Hi Pritpal,

After recent commits, the external files issues should be ok.

On Darwin I've noticed that right after startup the cursor
shapes are redefined on the browse tab. If you click to the
static tab, shapes are still a bit confused, clicking back to
browse tab fixes the shapes and clicking again to static
fully fixes the shapes there too.

Brgds,
Viktor

On 2009.08.09., at 6:11, Pritpal Bedi wrote:

>
> Hello Viktor
>
>
> Viktor Szak?ts wrote:
>>
>> I was thinking that's intentional, in the early days  it displayed
>> proper tree lines, and after an update it has changed to the current
>> colored style. Looks indeed a bit strange though.
>>
>
> Yes, this behavior is intentional. I am expermenting with
> CSS compatible style sheets. If you comment out
> line #187 ( ::setStyle ) of XbpTreeView.prg, you will receive
> old behavior.
>
> Note that copy.png is rendered perfect in both cases.
>
>
>
>> And hereby congrats to Pritpal for the new browse functionality.
>> It's really nice job.
>>
>
> Thanks.
>
> Regards
> Pritpal Bedi
>
>
> -- 
> View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12000--trunk-harbour-tp24883257p24888571.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vouchcac at users.sourceforge.net  Sun Aug  9 12:43:49 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Aug  9 12:43:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12012] trunk/harbour
Message-ID: <E1MaBUr-0003oh-Us@d5vjzd1.ch3.sourceforge.com>

Revision: 12012
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12012&view=rev
Author:   vouchcac
Date:     2009-08-09 16:43:49 +0000 (Sun, 09 Aug 2009)

Log Message:
-----------
2009-08-09 09:32 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpbrowse.prg
    ! Few more tweaks.
  * contrib/hbxbp/xbptreeview.prg
    - Commented out experimental CSS implementation.
    + Made public Harbour extention ::setStyleSheet( cStyleSheet ) method.
      Now it is possible to fine tune widget's appearnce the way user 
      can imagine. The supplied style sheet will be applied on top of 
      existing one.
    % TODO: extend ::setStyleSheet() functionality the easiest way.

  * contrib/hbxbp/tests/demoxbp.prg
    ! Demonstrated the use of ::setStyleSheet() with XbpTreeView() class.
      Play with the <Tree> tab.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbptreeview.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Aug  9 12:53:50 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Aug  9 12:53:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12010] trunk/harbour
In-Reply-To: <E1MaBEE-0007dv-Ne@3kljzd1.ch3.sourceforge.com>
References: <E1MaBEE-0007dv-Ne@3kljzd1.ch3.sourceforge.com>
Message-ID: <24888964.post@talk.nabble.com>


Hi


vszakats wrote:
> 
> 2009-08-09 18:26 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbxbp/tests/demoxbp.prg
>   * contrib/gtwvg/tests/demowvg.prg
>   * contrib/hbtip/tests/dbtohtml.prg
>     ! Fix to test.dbf path. hb_DirBase() was missing.
>     * Changed date format to ANSI.
> 

I confirm that demoxbp.exe is executing from anywhere properly.
Nice tweak.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12010--trunk-harbour-tp24888725p24888964.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From abe.buch at att.net  Sun Aug  9 13:18:52 2009
From: abe.buch at att.net (AbeB)
Date: Sun Aug  9 13:18:56 2009
Subject: [Harbour] problame with subindex & ads remote
In-Reply-To: <20090717222524.GA4202@uran.home.aster.pl>
References: <1247693270261-3265915.post@n2.nabble.com>
	<20090717205418.GB29426@uran.home.aster.pl>
	<1247864752613-3277805.post@n2.nabble.com>
	<20090717222524.GA4202@uran.home.aster.pl>
Message-ID: <1249838332286-3413332.post@n2.nabble.com>


Hi Przemyslaw,

I can confirm this is a bug

this is what i get

rdd: ADSCDX
connetion type:          2
TEMP
TEMP2
====
TEMP
         1
       100
TEMP2
         1
        98

//just changed set server from LOCAL to REMOTE
SET SERVER REMOTE

//and added this line
? "connetion type:" ,ADSGETTABLECONTYPE()

tested against ADS Server 9.10.09

please give a look at this.

Thanks in advance.
Abe




Przemyslaw Czerpak wrote:
> 
> On Fri, 17 Jul 2009, AbeB wrote:
>> Thanks Przemyslaw for looking into this with such detail.
>> Did you try it against a remote server?
> 
> I'm sorry but I do not have any so I cannot test it.
> 
>> What version of ads remote?
>> When I run it against ADS Version 7.1 the test result will be:
>> TEMP2
>>          1
>>         98
>>  ( I did not try your actual test, because I don't have a server avail
>> now)
>> it's very possible that it's a bug in ace32/ads and it's fixed it a later
>> version of ADS.
> 
> If you want to find the reason of problem it's important to make tests
> with exactly the same code and compare the whole output. I hope real
> ADS users can help you in such tests.
> If you made some tests before then I also suggests to change file names
> to eliminate all possible interactions with files on ADS server left
> by previous tests and which are reused accidentally.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/problame-with-subindex---ads-remote-tp3265915p3413332.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Sun Aug  9 13:56:47 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 13:56:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12013] trunk/harbour
Message-ID: <E1MaCdT-0000lU-9S@3kljzd1.ch3.sourceforge.com>

Revision: 12013
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12013&view=rev
Author:   vszakats
Date:     2009-08-09 17:56:46 +0000 (Sun, 09 Aug 2009)

Log Message:
-----------
2009-08-09 19:55 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * Makefile
  * tests/Makefile
  * contrib/hbmisc/Makefile
  * contrib/hbwin/Makefile
  * utils/Makefile
    % Started converting '=' operators to ':=' where applicable.
    ; TODO: Rest of Makefiles.

  * contrib/hbwin/Makefile
    ! Including 'global.cf' directly to make HB_ARCHITECTURE/HB_COMPILER
      variables work in case we're relying on autodetection.
    ; TOFIX: Rest of Makefiles.

  * config/global.cf
    + Added self-inclusion check to allow adding this .cf file
      directly to Makefiles in order to force platform detection
      for cases where this information is needed for local decisions.

  * config/dos/global.cf
    - Deleted 'ifndef MK' construct. Purpose unknown, and not
      found similar for other platforms.

  * config/global.cf
  * config/globsh.cf
    + Added my copyright.

  * contrib/hbtpathy/tpwin.c
  * contrib/hbtpathy/tpos2.c
    % Deleted unnecessary headers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/Makefile
    trunk/harbour/config/dos/global.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/globsh.cf
    trunk/harbour/contrib/hbmisc/Makefile
    trunk/harbour/contrib/hbtpathy/tpos2.c
    trunk/harbour/contrib/hbtpathy/tpwin.c
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/tests/Makefile
    trunk/harbour/utils/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug  9 15:23:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 15:23:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12014] trunk/harbour
Message-ID: <E1MaDzg-0001Iw-Ud@dn4whf1.ch3.sourceforge.com>

Revision: 12014
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12014&view=rev
Author:   vszakats
Date:     2009-08-09 19:23:43 +0000 (Sun, 09 Aug 2009)

Log Message:
-----------
2009-08-09 21:18 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * tests/hbpptest/Makefile
  * tests/bldtest/Makefile
  * tests/Makefile
  * tests/multifnc/Makefile
  * doc/en-EN/Makefile
  * doc/Makefile
  * external/sqlite3/Makefile
  * external/libhpdf/Makefile
  * external/libpng/Makefile
  * external/Makefile
  * include/Makefile
  * source/hbextern/Makefile
  * source/pp/Makefile
  * source/lang/Makefile
  * source/vm/maindllh/Makefile
  * source/vm/mainstd/Makefile
  * source/vm/maindllp/Makefile
  * source/vm/Makefile
  * source/vm/vmmt/Makefile
  * source/vm/mainwin/Makefile
  * source/main/Makefile
  * source/debug/Makefile
  * source/common/Makefile
  * source/nortl/Makefile
  * source/macro/Makefile
  * source/rtl/gtdos/Makefile
  * source/rtl/gtwin/Makefile
  * source/rtl/gtxwc/Makefile
  * source/rtl/gtcrs/Makefile
  * source/rtl/gtstd/Makefile
  * source/rtl/gttrm/Makefile
  * source/rtl/Makefile
  * source/rtl/gtcgi/Makefile
  * source/rtl/gtos2/Makefile
  * source/rtl/gtsln/Makefile
  * source/rtl/gtpca/Makefile
  * source/rtl/gtgui/Makefile
  * source/rtl/gt_tpl/Makefile
  * source/rtl/gtwvt/Makefile
  * source/hbpcre/Makefile
  * source/codepage/Makefile
  * source/rdd/dbfntx/Makefile
  * source/rdd/nulsys/Makefile
  * source/rdd/Makefile
  * source/rdd/dbfnsx/Makefile
  * source/rdd/dbfcdx/Makefile
  * source/rdd/hsx/Makefile
  * source/rdd/usrrdd/rdds/Makefile
  * source/rdd/usrrdd/Makefile
  * source/rdd/dbffpt/Makefile
  * source/rdd/hbsix/Makefile
  * source/compiler/Makefile
  * source/hbzlib/Makefile
  * source/Makefile
  * utils/hbformat/Makefile
  * utils/hbmk2/Makefile
  * utils/hbtest/Makefile
  * utils/hbi18n/Makefile
  * utils/hbrun/Makefile
  * contrib/gtalleg/Makefile
  * contrib/hbmysql/Makefile
  * contrib/hbct/Makefile
  * contrib/xhb/Makefile
  * contrib/hbodbc/Makefile
  * contrib/hbtpathy/Makefile
  * contrib/hbgt/Makefile
  * contrib/hbmzip/Makefile
  * contrib/hbsqlit3/Makefile
  * contrib/hbblat/Makefile
  * contrib/hbqt/Makefile
  * contrib/hbqt/generator/hbqtgen.prg
  * contrib/hbqt/Makefile_gen
  * contrib/hbfbird/Makefile
  * contrib/hbziparc/Makefile
  * contrib/hbxbp/Makefile
  * contrib/xpp/Makefile
  * contrib/hbnf/Makefile
  * contrib/Makefile
  * contrib/hbcurl/hbcurls/Makefile
  * contrib/hbcurl/Makefile
  * contrib/gtqtc/Makefile
  * contrib/rddsql/sddmy/Makefile
  * contrib/rddsql/sddpg/Makefile
  * contrib/rddsql/sddfb/Makefile
  * contrib/rddsql/sddodbc/Makefile
  * contrib/rddsql/Makefile
  * contrib/hbhpdf/Makefile
  * contrib/rddado/Makefile
  * contrib/gtwvg/Makefile
  * contrib/hbpgsql/Makefile
  * contrib/hbclipsm/Makefile
  * contrib/rddads/Makefile
  * contrib/hbfimage/Makefile
  * contrib/hbgd/Makefile
  * contrib/hbtip/Makefile
  * contrib/hbbmcdx/Makefile
  * contrib/hbvpdf/Makefile
  * contrib/hbssl/Makefile
  * contrib/hbbtree/Makefile
    % Using ':=' instead of '=' where possible.
    ; TODO: Central make files (.cf).

  * config/global.cf
  * config/bin.cf
  * config/globsh.cf
  * config/dir.cf
  * config/bsd/gcc.cf
  * config/bsd/global.cf
  * config/c.cf
  * config/wce/msvcarm.cf
  * config/wce/global.cf
  * config/wce/mingwarm.cf
  * config/wce/poccarm.cf
  * config/rules.cf
  * config/hpux/gcc.cf
  * config/darwin/gcc.cf
  * config/darwin/global.cf
  * config/dos/watcom.cf
  * config/dos/djgpp.cf
  * config/win/watcom.cf
  * config/win/icc.cf
  * config/win/global.cf
  * config/win/cygwin.cf
  * config/win/msvc.cf
  * config/win/xcc.cf
  * config/win/mingw.cf
  * config/win/pocc.cf
  * config/win/bcc.cf
  * config/linux/watcom.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/linux/sunpro64.cf
  * config/linux/sunpro.cf
  * config/os2/watcom.cf
  * config/os2/gcc.cf
  * config/sunos/gcc.cf
  * config/sunos/sunpro64.cf
  * config/sunos/sunpro.cf
    % Using ':=' instead of '=' where possible.
      (incomplete. pass one)

  * config/none.cf
    * Little change in text.

  * config/global.cf
    ! Fixed HB_ARCHITECTURE mis-detection as wce for a few win compilers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bin.cf
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/bsd/global.cf
    trunk/harbour/config/c.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/darwin/global.cf
    trunk/harbour/config/dir.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/globsh.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/linux/sunpro64.cf
    trunk/harbour/config/linux/watcom.cf
    trunk/harbour/config/none.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/rules.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/config/sunos/sunpro64.cf
    trunk/harbour/config/wce/global.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/wce/msvcarm.cf
    trunk/harbour/config/wce/poccarm.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/global.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/config/win/xcc.cf
    trunk/harbour/contrib/Makefile
    trunk/harbour/contrib/gtalleg/Makefile
    trunk/harbour/contrib/gtqtc/Makefile
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/hbblat/Makefile
    trunk/harbour/contrib/hbbmcdx/Makefile
    trunk/harbour/contrib/hbbtree/Makefile
    trunk/harbour/contrib/hbclipsm/Makefile
    trunk/harbour/contrib/hbct/Makefile
    trunk/harbour/contrib/hbcurl/Makefile
    trunk/harbour/contrib/hbcurl/hbcurls/Makefile
    trunk/harbour/contrib/hbfbird/Makefile
    trunk/harbour/contrib/hbfimage/Makefile
    trunk/harbour/contrib/hbgd/Makefile
    trunk/harbour/contrib/hbgt/Makefile
    trunk/harbour/contrib/hbhpdf/Makefile
    trunk/harbour/contrib/hbmysql/Makefile
    trunk/harbour/contrib/hbmzip/Makefile
    trunk/harbour/contrib/hbnf/Makefile
    trunk/harbour/contrib/hbodbc/Makefile
    trunk/harbour/contrib/hbpgsql/Makefile
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/Makefile_gen
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbsqlit3/Makefile
    trunk/harbour/contrib/hbssl/Makefile
    trunk/harbour/contrib/hbtip/Makefile
    trunk/harbour/contrib/hbtpathy/Makefile
    trunk/harbour/contrib/hbvpdf/Makefile
    trunk/harbour/contrib/hbxbp/Makefile
    trunk/harbour/contrib/hbziparc/Makefile
    trunk/harbour/contrib/rddado/Makefile
    trunk/harbour/contrib/rddads/Makefile
    trunk/harbour/contrib/rddsql/Makefile
    trunk/harbour/contrib/rddsql/sddfb/Makefile
    trunk/harbour/contrib/rddsql/sddmy/Makefile
    trunk/harbour/contrib/rddsql/sddodbc/Makefile
    trunk/harbour/contrib/rddsql/sddpg/Makefile
    trunk/harbour/contrib/xhb/Makefile
    trunk/harbour/contrib/xpp/Makefile
    trunk/harbour/doc/Makefile
    trunk/harbour/doc/en-EN/Makefile
    trunk/harbour/external/Makefile
    trunk/harbour/external/libhpdf/Makefile
    trunk/harbour/external/libpng/Makefile
    trunk/harbour/external/sqlite3/Makefile
    trunk/harbour/include/Makefile
    trunk/harbour/source/Makefile
    trunk/harbour/source/codepage/Makefile
    trunk/harbour/source/common/Makefile
    trunk/harbour/source/compiler/Makefile
    trunk/harbour/source/debug/Makefile
    trunk/harbour/source/hbextern/Makefile
    trunk/harbour/source/hbpcre/Makefile
    trunk/harbour/source/hbzlib/Makefile
    trunk/harbour/source/lang/Makefile
    trunk/harbour/source/macro/Makefile
    trunk/harbour/source/main/Makefile
    trunk/harbour/source/nortl/Makefile
    trunk/harbour/source/pp/Makefile
    trunk/harbour/source/rdd/Makefile
    trunk/harbour/source/rdd/dbfcdx/Makefile
    trunk/harbour/source/rdd/dbffpt/Makefile
    trunk/harbour/source/rdd/dbfnsx/Makefile
    trunk/harbour/source/rdd/dbfntx/Makefile
    trunk/harbour/source/rdd/hbsix/Makefile
    trunk/harbour/source/rdd/hsx/Makefile
    trunk/harbour/source/rdd/nulsys/Makefile
    trunk/harbour/source/rdd/usrrdd/Makefile
    trunk/harbour/source/rdd/usrrdd/rdds/Makefile
    trunk/harbour/source/rtl/Makefile
    trunk/harbour/source/rtl/gt_tpl/Makefile
    trunk/harbour/source/rtl/gtcgi/Makefile
    trunk/harbour/source/rtl/gtcrs/Makefile
    trunk/harbour/source/rtl/gtdos/Makefile
    trunk/harbour/source/rtl/gtgui/Makefile
    trunk/harbour/source/rtl/gtos2/Makefile
    trunk/harbour/source/rtl/gtpca/Makefile
    trunk/harbour/source/rtl/gtsln/Makefile
    trunk/harbour/source/rtl/gtstd/Makefile
    trunk/harbour/source/rtl/gttrm/Makefile
    trunk/harbour/source/rtl/gtwin/Makefile
    trunk/harbour/source/rtl/gtwvt/Makefile
    trunk/harbour/source/rtl/gtxwc/Makefile
    trunk/harbour/source/vm/Makefile
    trunk/harbour/source/vm/maindllh/Makefile
    trunk/harbour/source/vm/maindllp/Makefile
    trunk/harbour/source/vm/mainstd/Makefile
    trunk/harbour/source/vm/mainwin/Makefile
    trunk/harbour/source/vm/vmmt/Makefile
    trunk/harbour/tests/Makefile
    trunk/harbour/tests/bldtest/Makefile
    trunk/harbour/tests/hbpptest/Makefile
    trunk/harbour/tests/multifnc/Makefile
    trunk/harbour/utils/hbformat/Makefile
    trunk/harbour/utils/hbi18n/Makefile
    trunk/harbour/utils/hbmk2/Makefile
    trunk/harbour/utils/hbrun/Makefile
    trunk/harbour/utils/hbtest/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug  9 15:52:18 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 15:52:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12015] trunk/harbour
Message-ID: <E1MaERG-0004QU-N3@c3vjzd1.ch3.sourceforge.com>

Revision: 12015
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12015&view=rev
Author:   vszakats
Date:     2009-08-09 19:52:17 +0000 (Sun, 09 Aug 2009)

Log Message:
-----------
2009-08-09 21:42 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
    ! Fixed 'sh' HB_SHELL detection. Problem experienced with
       Cygwin GNU Make, where SHLVL isn't defined on the first
       level. Now also checking for SHELL=/bin/sh to detect sh
       shell.

  * tests/multifnc/Makefile
  * external/sqlite3/Makefile
  * external/libhpdf/Makefile
  * external/libpng/Makefile
  * contrib/gtalleg/Makefile
  * contrib/hbodbc/Makefile
  * contrib/hbtpathy/Makefile
  * contrib/hbsqlit3/Makefile
  * contrib/hbblat/Makefile
  * contrib/hbqt/Makefile
  * contrib/hbfbird/Makefile
  * contrib/hbxbp/Makefile
  * contrib/hbcurl/Makefile
  * contrib/gtqtc/Makefile
  * contrib/rddsql/sddfb/Makefile
  * contrib/rddsql/sddodbc/Makefile
  * contrib/rddado/Makefile
  * contrib/gtwvg/Makefile
  * contrib/rddads/Makefile
  * contrib/hbfimage/Makefile
  * contrib/hbtip/Makefile
  * contrib/hbwin/Makefile
  * contrib/hbssl/Makefile
  * source/vm/Makefile
  * source/vm/vmmt/Makefile
  * source/rtl/gtdos/Makefile
  * source/rtl/gtwin/Makefile
  * source/rtl/gtxwc/Makefile
  * source/rtl/gtcrs/Makefile
  * source/rtl/gttrm/Makefile
  * source/rtl/Makefile
  * source/rtl/gtos2/Makefile
  * source/rtl/gtsln/Makefile
  * source/rtl/gtgui/Makefile
  * source/rtl/gtwvt/Makefile
  * source/rdd/Makefile
  * source/rdd/dbffpt/Makefile
    ! Including 'global.cf' directly to make HB_ARCHITECTURE/HB_COMPILER/HB_COMMERCE
      variables work in case we're relying on autodetection.
    ; TODO: May need to do this for a few other cases where detection is relying
            on some additional variables. Like HB_XBUILD, which needs to be
            cleaned further, maybe autodetection added.
    ; NOTE: Above changes mean that from now on for basic build usage it's
            enough to have the compiler in PATH and to issue a simple 'make'
            or 'mingw32-make' (or whatever GNU Make is called in that environment),
            and make process should just work. IOW, no need to go through 
            "starter" scripts in root (make_gnu.*). 

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf
    trunk/harbour/contrib/gtalleg/Makefile
    trunk/harbour/contrib/gtqtc/Makefile
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/hbblat/Makefile
    trunk/harbour/contrib/hbcurl/Makefile
    trunk/harbour/contrib/hbfbird/Makefile
    trunk/harbour/contrib/hbfimage/Makefile
    trunk/harbour/contrib/hbodbc/Makefile
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbsqlit3/Makefile
    trunk/harbour/contrib/hbssl/Makefile
    trunk/harbour/contrib/hbtip/Makefile
    trunk/harbour/contrib/hbtpathy/Makefile
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbxbp/Makefile
    trunk/harbour/contrib/rddado/Makefile
    trunk/harbour/contrib/rddads/Makefile
    trunk/harbour/contrib/rddsql/sddfb/Makefile
    trunk/harbour/contrib/rddsql/sddodbc/Makefile
    trunk/harbour/external/libhpdf/Makefile
    trunk/harbour/external/libpng/Makefile
    trunk/harbour/external/sqlite3/Makefile
    trunk/harbour/source/rdd/Makefile
    trunk/harbour/source/rdd/dbffpt/Makefile
    trunk/harbour/source/rtl/Makefile
    trunk/harbour/source/rtl/gtcrs/Makefile
    trunk/harbour/source/rtl/gtdos/Makefile
    trunk/harbour/source/rtl/gtgui/Makefile
    trunk/harbour/source/rtl/gtos2/Makefile
    trunk/harbour/source/rtl/gtsln/Makefile
    trunk/harbour/source/rtl/gttrm/Makefile
    trunk/harbour/source/rtl/gtwin/Makefile
    trunk/harbour/source/rtl/gtwvt/Makefile
    trunk/harbour/source/rtl/gtxwc/Makefile
    trunk/harbour/source/vm/Makefile
    trunk/harbour/source/vm/vmmt/Makefile
    trunk/harbour/tests/multifnc/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Sun Aug  9 19:18:49 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Aug  9 19:19:11 2009
Subject: [Harbour] Harbour under OS/2 - eCS, cross build II
Message-ID: <4A7F5959.9090400@mail.udg.mx>

 >> Przemek, Viktor, Maurilio:
 >>
 >> As make381-os2 show problems (limits) and incompatibility with
 >> make381-windows (and perhaps Linux), there are some way to use
 >> ANOTHER make system in OS/2 ?
 >> Reading docs of Watcom I found wmake.exe, based in GNU make but with
 >> some differences specified in docs
 >> I tried to use it to build Harbour and raised errors not described
 >> in differences

 >No, sorry. I'd certainly not want to reintroduce a parallel (non-GNU)
 >make system for OS/2 after having spent a year getting rid of them
 >for Windows (and all the permanent double work with them).

 >Probably it would be better to find a GNU Make build for OS/2 which
 >works well, or trying to work around the bugs which it has under
 >OS/2. I don't exactly see what are these though, can't find any lines
 >like "for %i in ( *.obj ) do @echo -+%i >> __lib__.tmp" in current SVN.

 >[ It'd recommend to make tests using latest SVN, as changes are made
 >regularly in the GNU Make process. Also, confirmed pending patches
 >should better be uploaded to SVN, as currently it's very difficult to
 >track what is the tested codebase. The only slight problem I see with
 >these watcom patches, is that it's not too clean and for cross-
 >compilation
 >it would have to be added to all watcom.cf files, just to make OS/2
 >happy. ]

 >It should also be noted that our GNU Make process uses shell specific
 >rules and parts, and some other OS specific tricks so maybe not GNU
 >Make itself should be blamed for some problems you're seeing.

 >It may also be an option to use the DOS build of GNU Make under OS/2.
 >I don't know to what extent OS/2 is compatible with DOS exes, but it's
 >worth a check.

Viktor:

The short history is:
I have years building Harbour under OS/2 using os2make376. In February 
2008 Przemek added changes to "make process" not supported by 
os2make376. I checked some versions of os2make381 and all of them show 
problems. Przemek reversed his changes.
Until December 2008 os2make376 was able to build Harbour using gcc335 
and Watcom 1.7a
This year you changed make process and in meantime some workarounds for 
OS/2-os2make376 were left off. Now Harbour under OS/2 does not build 
with os2make376 and partially build with os2make381
We are currently discarding os2make376 and forcing to use os2make381, 
and trying to find why and how to apply workarounds

Line "for %i in ( *.obj ) do @echo -+%i >> __lib__.tmp" are not in SVN 
because is part of "local tests" to find solutions
I have reported many of these issues in my previous messages and Przemek 
has explained many of the reasons also.
"install" and "clean" stages show a lot of errors. At this moment we are 
trying to get a complete build of Harbour with workarounds and without 
problems. Then we can concentrate in "install" and "clean"

Przemek has been working deeply to find right workarounds. He knows much 
better than me what are the problems and how to clean them
My tests in real OS/2 environment show the results and I contribute to 
clarify problems and propose alternatives
There were the cases with gcc335 build, OpenWatcom 1.8 build, os2->win 
cross build and win->os2 cross build. Each of them show different 
problems with os2make381
And additionally, differences between os2make381 and winmake381

Przemek explained some days ago:

  >Yes and it's a bug in OS2 GNU make port we are exploiting from time to
  >time.
  >If we find some acceptable solution the we will use it. If not we will
  >have to return to the:
  >   for %i in ( *$(OBJ_EXT) ) do @echo ... >> __lib__.tmp
  >trick and add some hack to protect against adding hbpp.obj to library.

I do not know if Maurilio has done test with OpenWatcom 1.8, native and 
cross build. If so then he can see problems, some of them faced with gcc 
version

My proposal was simple:

If os2make381 have problems, and wmake.exe (OpenWatcom) with some 
adjustments can do same process as os2make381, then we can discard 
os2make381 and to use wmake.exe
As you can see is not to introduce a parallel make process. Is to use 
same structure of current GNUmake with proper adjustments

Below are some parts of Watcom Tools Guide related to wmake


David Macias



---------------
Some readers will be quite familiar with the concepts of the Make file 
maintenance tool. Open Watcom Make is patterned after the Make utility 
found on UNIX systems. The next major section is simply intended to 
summarize, for reference purposes only, the syntax and options of Make's 
command line and special macros. Subsequent sections go into the 
philosophy and capabilities of Open Watcom Make. If you are not familiar 
with the capabilities of the Make utility, we recommend that you skip to 
the next major section entitled "Dependency Declarations" and read on.
---------------

Open Watcom Make was originally based on the UNIX Make utility. The PC's 
operating environment presents a base of users which may or may not be 
familiar with the UNIX operating system. Make is designed to be a PC 
product with some UNIX compatibility. The line continuation in UNIX Make 
is a backslash ("\") at the end of the line. The backslash ("\") is used 
by the operating system for directory specifications and as such will be 
confused with line continuation. For example, you could type:


     cd \

along with other commands ... and get unexpected results. However, if 
your makefile does not contain path separator characters ("\") and you 
wish to use "\" as a line continuation indicator then you can use the 
Make "u" (UNIX compatibility mode) option.

Also, in the UNIX operating system there is no concept of file 
extensions, only the concept of a file suffix. Make will accept the UNIX 
Make directive .SUFFIXES for compatibility with UNIX makefiles. The UNIX 
compatible special macros supported are:

Macro
Expansion

$@
full name of the target

$*
target with the extension removed

$<
list of all dependents

$?
list of dependents that are younger than the target

The extra checking of makefiles done by Make will require modifications 
to UNIX makefiles. The UNIX Make utility does not check for the 
existence of targets after the associated command list is executed so 
the "c" or the .NOCHECK directive should be used to disable this 
checking. The lack of a command list to update a target is ignored by 
the UNIX Make utility but Open Watcom Make requires the special internal 
command %null to specify a null command list. In summary, Make supports 
many of the features of the UNIX Make utility but is not 100% compatible.
---------------

From vouchcac at users.sourceforge.net  Sun Aug  9 19:19:56 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Aug  9 19:20:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12016] trunk/harbour
Message-ID: <E1MaHgC-00078c-0y@bj8yhf1.ch3.sourceforge.com>

Revision: 12016
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12016&view=rev
Author:   vouchcac
Date:     2009-08-09 23:19:55 +0000 (Sun, 09 Aug 2009)

Log Message:
-----------
2009-08-09 26:15 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbxbp/xbpbrowse.prg
    + Implemented XbpColumn():type == XBPCOL_TYPE_ICONFILE.
      Now any image can be viewed as an icon in a column object of XbpBrowse()
   
  * contrib/hbxbp/tests/demoxbp.prg
    ! Updated to demonstrate XbpColumn():type == XBPCOL_TYPE_ICONFILE functionality.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Aug  9 19:38:10 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug  9 19:38:19 2009
Subject: [Harbour] Harbour under OS/2 - eCS, cross build II
In-Reply-To: <4A7F5959.9090400@mail.udg.mx>
References: <4A7F5959.9090400@mail.udg.mx>
Message-ID: <C2FB4262-0E51-4B86-A3CB-8492A5E36ADA@syenar.hu>

> This year you changed make process and in meantime some workarounds  
> for OS/2-os2make376 were left off. Now Harbour under OS/2 does not  
> build with os2make376 and partially build with os2make381
> We are currently discarding os2make376 and forcing to use  
> os2make381, and trying to find why and how to apply workarounds

Please be specific: What did I remove which broke 3.76?

Your choice of words if highly disappointing, after having
spent lots of time in OS/2 which I'm neither using, nor
overly interested in, nevertheless it's the most exotic and
difficult to work with platform of all. So I'm stopping to
deal with any sort of OS/2 issues from now on.

I've told this a few times, and we have in total two OS/2
users, so every minute invested in OS/2 looks like a dead
investment in a dead platform.

Sorry to be harsh, but if this is the reward to get to
support OS/2 users, I don't have better option than telling
such raw opinion.

> Line "for %i in ( *.obj ) do @echo -+%i >> __lib__.tmp" are not in  
> SVN because is part of "local tests" to find solutions
> I have reported many of these issues in my previous messages and  
> Przemek has explained many of the reasons also.
> "install" and "clean" stages show a lot of errors. At this moment we  
> are trying to get a complete build of Harbour with workarounds and  
> without problems. Then we can concentrate in "install" and "clean"

Please be specific. What errors?

All I'm seeing is very difficult to track reports and claims.
For me it's extremely difficult to reassemble such puzzle from
these bits. Maybe a complete log with a known (intact) revision
would tell much more.

> My proposal was simple:
>
> If os2make381 have problems, and wmake.exe (OpenWatcom) with some  
> adjustments can do same process as os2make381, then we can discard  
> os2make381 and to use wmake.exe

I very strongly disagree with such move. We've chosen GNU
Make to be the only one make system to build Harbour and we
must stick to this goal.

You also seem to have ignored my other suggestions,
anyhow I'd still recommend to fix "what I broke" (possibly
intentionally!) regarding OS/2 GNU Make 3.76.

> As you can see is not to introduce a parallel make process. Is to  
> use same structure of current GNUmake with proper adjustments
>
> Below are some parts of Watcom Tools Guide related to wmake

Sorry, it's far enough to keep in mind ONE make syntax, it would
be a huge hit on development and efforts to keep track of TWO
syntaxes from now on. This is the thing I've been working against
since a lot of time, so I don't want to go reverse. I'd expect
such double compatibility wouldn't survive for too long unless
wmake is put into the test mix. For me the test mix is already
quite huge, and for me it's not an option to extend it with such
an exotic addition, since I find it a huge waste of time on the
wrong solution.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Aug  9 20:10:47 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 20:10:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12017] trunk/harbour
Message-ID: <E1MaITP-0003jv-5a@d5vjzd1.ch3.sourceforge.com>

Revision: 12017
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12017&view=rev
Author:   vszakats
Date:     2009-08-10 00:10:46 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 02:07 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/sessid.prg
  * contrib/hbtip/cgi.prg
  * contrib/hbtip/encoder.prg
  * contrib/hbtip/mail.prg
  * contrib/hbtip/sendmail.prg
  * contrib/hbtip/httpcli.prg
  * contrib/hbtip/smtpcli.prg
  * contrib/hbtip/client.prg
  * contrib/hbtip/ftpcli.prg
  * contrib/hbtip/popcli.prg
    + Added TIP_SSL() function to return whether SSL functionality is available
      or not.
    % Deleted unnecessary tip.ch header inclusions.
    + Added TIPCLIENT():INETTIMEOUT() method to set / refresh timeout.
    % Direct hb_inetTimeout() calls either optimized out (after ::super:open()),
      or replaced by ::hb_inetTimeout() calls.
    ! Fixed to also accept pop3s where pops is accepted.
    + TIPCLIENTPOP() will set default port to 995 in pop3s mode.
    + TIPCLIENTSMTP() will set default port to 465 in smtps mode.
    + TIPCLIENTHTTP() will set default port to 443 in https mode.
    + Some steps towards SMTP STARTTLS authentication.
    ! Uncommented setting "Content-Length" in TIPMAIL:SETBODY().
      gmail rejects attachment without it. It's also needed for internal
      consistency as TIPMAIL:NEW() sets this data.
    ! HB_SENDMAIL() fixed to use HB_MEMOREAD() to read attachment.
    ! HB_SENDMAIL() fixed to load the attachment if it was passed
      as a content/name pair array. Handling all combinations now.
    * HB_SENDMAIL() changed to not exit on the first invalid attachment
      specification, but simply ignore these. Feels more natural that way,
      but the old behaviour can be restored if there was a reason for it
      which overlooked.
    * Formatting.
    ; TOFIX: hbtip currently has two different facilities to find out the
             MIME type of a given extension: TIP_FILEMIMETYPE() and
             HB_SETMIMETYPE(). First one also looks into the content while
             the second one has a much more extensive extension based
             detection. There is also a 3rd and separate function which
             aims to detect whether a type is binary or text. This isn't
             very efficient this way, unless there is some reasoning
             behing current logic.

  * contrib/hbtip/log.prg
    ! Fixed to reset internal file handle to empty value on close.

  * contrib/hbssl/sslctx.c
    ! Added !OPENSSL_NO_STDIO guard for functions where it applies().
    + Added SSL_CTX_LOAD_VERIFY_LOCATIONS().

  * config/global.cf
    ! Deleted two debug lines from prev commit.

Modified Paths:
--------------
    trunk/harbour/config/global.cf
    trunk/harbour/contrib/hbssl/sslctx.c
    trunk/harbour/contrib/hbtip/cgi.prg
    trunk/harbour/contrib/hbtip/client.prg
    trunk/harbour/contrib/hbtip/encoder.prg
    trunk/harbour/contrib/hbtip/ftpcli.prg
    trunk/harbour/contrib/hbtip/httpcli.prg
    trunk/harbour/contrib/hbtip/log.prg
    trunk/harbour/contrib/hbtip/mail.prg
    trunk/harbour/contrib/hbtip/popcli.prg
    trunk/harbour/contrib/hbtip/sendmail.prg
    trunk/harbour/contrib/hbtip/sessid.prg
    trunk/harbour/contrib/hbtip/smtpcli.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug  9 20:11:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 20:12:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12018]
	trunk/harbour/ChangeLog
Message-ID: <E1MaIUV-0003lS-2J@d5vjzd1.ch3.sourceforge.com>

Revision: 12018
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12018&view=rev
Author:   vszakats
Date:     2009-08-10 00:11:54 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
missed to paste back ChangeLog entry

2009-08-10 02:07 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/sessid.prg
  * contrib/hbtip/cgi.prg
  * contrib/hbtip/encoder.prg
  * contrib/hbtip/mail.prg
  * contrib/hbtip/sendmail.prg
  * contrib/hbtip/httpcli.prg
  * contrib/hbtip/smtpcli.prg
  * contrib/hbtip/client.prg
  * contrib/hbtip/ftpcli.prg
  * contrib/hbtip/popcli.prg
    + Added TIP_SSL() function to return whether SSL functionality is available
      or not.
    % Deleted unnecessary tip.ch header inclusions.
    + Added TIPCLIENT():INETTIMEOUT() method to set / refresh timeout.
    % Direct hb_inetTimeout() calls either optimized out (after ::super:open()),
      or replaced by ::hb_inetTimeout() calls.
    ! Fixed to also accept pop3s where pops is accepted.
    + TIPCLIENTPOP() will set default port to 995 in pop3s mode.
    + TIPCLIENTSMTP() will set default port to 465 in smtps mode.
    + TIPCLIENTHTTP() will set default port to 443 in https mode.
    + Some steps towards SMTP STARTTLS authentication.
    ! Uncommented setting "Content-Length" in TIPMAIL:SETBODY().
      gmail rejects attachment without it. It's also needed for internal
      consistency as TIPMAIL:NEW() sets this data.
    ! HB_SENDMAIL() fixed to use HB_MEMOREAD() to read attachment.
    ! HB_SENDMAIL() fixed to load the attachment if it was passed
      as a content/name pair array. Handling all combinations now.
    * HB_SENDMAIL() changed to not exit on the first invalid attachment
      specification, but simply ignore these. Feels more natural that way,
      but the old behaviour can be restored if there was a reason for it
      which overlooked.
    * Formatting.
    ; TOFIX: hbtip currently has two different facilities to find out the
             MIME type of a given extension: TIP_FILEMIMETYPE() and
             HB_SETMIMETYPE(). First one also looks into the content while
             the second one has a much more extensive extension based
             detection. There is also a 3rd and separate function which
             aims to detect whether a type is binary or text. This isn't
             very efficient this way, unless there is some reasoning
             behing current logic.

  * contrib/hbtip/log.prg
    ! Fixed to reset internal file handle to empty value on close.

  * contrib/hbssl/sslctx.c
    ! Added !OPENSSL_NO_STDIO guard for functions where it applies().
    + Added SSL_CTX_LOAD_VERIFY_LOCATIONS().

  * config/global.cf
    ! Deleted two debug lines from prev commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug  9 20:13:56 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 20:14:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12019]
	trunk/harbour/ChangeLog
Message-ID: <E1MaIWS-0003nP-MN@d5vjzd1.ch3.sourceforge.com>

Revision: 12019
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12019&view=rev
Author:   vszakats
Date:     2009-08-10 00:13:55 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 02:07 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * ChangeLog
    ! Typos in prev entry.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sun Aug  9 20:17:08 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Aug  9 20:17:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12020] trunk/harbour
Message-ID: <E1MaIZY-0007Ok-7v@3kljzd1.ch3.sourceforge.com>

Revision: 12020
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12020&view=rev
Author:   vouchcac
Date:     2009-08-10 00:17:07 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-09 17:10 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt.ch
    + Added more constants.
  * contrib/hbxbp/xbpbrowse.prg
    ! Column display protocol tweaked to provide a descent view.
    + Implemented ::sizeCols() instance variable of XbpBrowse() object.
      This provides for switching off the resizing behavior of the columns.      

  * contrib/hbxbp/tests/demoxbp.prg
    ! Demonstrated the above facts.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt.ch
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Aug  9 20:22:06 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug  9 20:22:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12016] trunk/harbour
In-Reply-To: <E1MaHgC-00078c-0y@bj8yhf1.ch3.sourceforge.com>
References: <E1MaHgC-00078c-0y@bj8yhf1.ch3.sourceforge.com>
Message-ID: <6606DC59-E7C1-4F77-A26F-C4971DD4A897@syenar.hu>

After this change the browse became extremely slow.

It comes down to the change in HBQT_BRW_CELLVALUE case.
If I restore this section, it's fast again.

Brgds,
Viktor

On 2009.08.10., at 1:19, vouchcac@users.sourceforge.net wrote:

> Revision: 12016
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12016&view=rev
> Author:   vouchcac
> Date:     2009-08-09 23:19:55 +0000 (Sun, 09 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-09 26:15 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbqt/hbqt_slots.cpp
>  * contrib/hbxbp/xbpbrowse.prg
>    + Implemented XbpColumn():type == XBPCOL_TYPE_ICONFILE.
>      Now any image can be viewed as an icon in a column object of  
> XbpBrowse()
>
>  * contrib/hbxbp/tests/demoxbp.prg
>    ! Updated to demonstrate XbpColumn():type == XBPCOL_TYPE_ICONFILE  
> functionality.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
>    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
>    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vouchcac at users.sourceforge.net  Sun Aug  9 20:35:56 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Aug  9 20:36:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12021] trunk/harbour
Message-ID: <E1MaIrk-0007iI-Dy@3kljzd1.ch3.sourceforge.com>

Revision: 12021
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12021&view=rev
Author:   vouchcac
Date:     2009-08-10 00:35:55 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-09 17:35 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbxbp/xbpbrowse.prg
    ! Improved speed. Reported by Viktor.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Aug  9 20:36:46 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Aug  9 20:36:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12016] trunk/harbour
In-Reply-To: <6606DC59-E7C1-4F77-A26F-C4971DD4A897@syenar.hu>
References: <E1MaHgC-00078c-0y@bj8yhf1.ch3.sourceforge.com>
	<6606DC59-E7C1-4F77-A26F-C4971DD4A897@syenar.hu>
Message-ID: <24892858.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> After this change the browse became extremely slow.
> 
> It comes down to the change in HBQT_BRW_CELLVALUE case.
> If I restore this section, it's fast again.
> 

Please test again after:

2009-08-09 17:35 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbxbp/xbpbrowse.prg
    ! Improved speed. Reported by Viktor.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12016--trunk-harbour-tp24892352p24892858.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sun Aug  9 20:45:33 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug  9 20:45:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12016] trunk/harbour
In-Reply-To: <24892858.post@talk.nabble.com>
References: <E1MaHgC-00078c-0y@bj8yhf1.ch3.sourceforge.com>
	<6606DC59-E7C1-4F77-A26F-C4971DD4A897@syenar.hu>
	<24892858.post@talk.nabble.com>
Message-ID: <78618DF1-B768-42A6-A166-82AD8D6B9D26@syenar.hu>

> Viktor Szak?ts wrote:
>>
>> After this change the browse became extremely slow.
>>
>> It comes down to the change in HBQT_BRW_CELLVALUE case.
>> If I restore this section, it's fast again.
>>
>
> Please test again after:
>
> 2009-08-09 17:35 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbqt/hbqt_slots.cpp
>  * contrib/hbxbp/xbpbrowse.prg
>    ! Improved speed. Reported by Viktor.

Thanks, did it now. It's at least that slow or even more so.
It's as if the keyboard speed would be throttled to the slowest
position (but it's not), while before it was just very fast.

Also, when demoxbp starts up, the keyboard focus isn't anymore
on the browse, but on the tabs. So you need to click into the
browse area first to be able to navigate.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Aug  9 20:47:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 20:47:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12022] trunk/harbour
Message-ID: <E1MaJ2x-0004Om-AT@d5vjzd1.ch3.sourceforge.com>

Revision: 12022
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12022&view=rev
Author:   vszakats
Date:     2009-08-10 00:47:30 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 02:39 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/globsh.cf
  * config/bsd/gcc.cf
  * config/wce/msvcarm.cf
  * config/wce/mingwarm.cf
  * config/wce/poccarm.cf
  * config/darwin/gcc.cf
  * config/hpux/gcc.cf
  * config/dos/djgpp.cf
  * config/win/cygwin.cf
  * config/win/mingw.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/linux/sunpro.cf
  * config/os2/gcc.cf
  * config/sunos/gcc.cf
  * config/sunos/sunpro.cf
    % Using ':=' instead of '=' where possible.
      (incomplete. pass two)
      The rest is really the core and need deeper examination
      of ordering and variable dependency. There is probably more
      room for improvement.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/globsh.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/wce/msvcarm.cf
    trunk/harbour/config/wce/poccarm.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/mingw.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Aug  9 21:00:50 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Aug  9 21:00:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12016] trunk/harbour
In-Reply-To: <78618DF1-B768-42A6-A166-82AD8D6B9D26@syenar.hu>
References: <E1MaHgC-00078c-0y@bj8yhf1.ch3.sourceforge.com>
	<6606DC59-E7C1-4F77-A26F-C4971DD4A897@syenar.hu>
	<24892858.post@talk.nabble.com>
	<78618DF1-B768-42A6-A166-82AD8D6B9D26@syenar.hu>
Message-ID: <24892992.post@talk.nabble.com>




Viktor Szak?ts wrote:
> 
> Thanks, did it now. It's at least that slow or even more so.
> It's as if the keyboard speed would be throttled to the slowest
> position (but it's not), while before it was just very fast.
> 

What did you restore previously to speedup?



> Also, when demoxbp starts up, the keyboard focus isn't anymore
> on the browse, but on the tabs. So you need to click into the
> browse area first to be able to navigate.
> 

No, it was not before even. I did not change anything in the focus protocol.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12016--trunk-harbour-tp24892352p24892992.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Sun Aug  9 21:10:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 21:11:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12023] trunk/harbour
Message-ID: <E1MaJPb-0002u1-UV@74yxhf1.ch3.sourceforge.com>

Revision: 12023
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12023&view=rev
Author:   vszakats
Date:     2009-08-10 01:10:55 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 03:09 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
  * config/lib.cf
  * config/bin.cf
  * config/test.cf
    ! Inclusion of compiler specific rules now happens from [lib|bin|test].cf.
      This way it plays well with scenarios where global.cf is directly
      included in Makefiles. It should also be slightly more efficient.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bin.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/lib.cf
    trunk/harbour/config/test.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Aug  9 21:33:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug  9 21:33:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12016] trunk/harbour
In-Reply-To: <24892992.post@talk.nabble.com>
References: <E1MaHgC-00078c-0y@bj8yhf1.ch3.sourceforge.com>
	<6606DC59-E7C1-4F77-A26F-C4971DD4A897@syenar.hu>
	<24892858.post@talk.nabble.com>
	<78618DF1-B768-42A6-A166-82AD8D6B9D26@syenar.hu>
	<24892992.post@talk.nabble.com>
Message-ID: <3885F0CC-BD7E-41D1-903B-31E64397DBAE@syenar.hu>

Hi Pritpal,

On 2009.08.10., at 3:00, Pritpal Bedi wrote:

> Viktor Szak?ts wrote:
>>
>> Thanks, did it now. It's at least that slow or even more so.
>> It's as if the keyboard speed would be throttled to the slowest
>> position (but it's not), while before it was just very fast.
>>
>
> What did you restore previously to speedup?

Now I've retested a few different revs and combinations,
and it seems that the bitmap in column feature is the culprit.
The difference is not so huge I thought the first time,
but apparent. With the icon column displayed, besides being
slower, the navigation (both horizontal and vertical) regularly
stops for small moments (this effect goes away after navigating
some.) so it gives it a slightly non-smooth feel. Navigation
speed also seems to fluctuate when keeping cursor button pressed.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Aug  9 22:03:23 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug  9 22:03:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12024] trunk/harbour
Message-ID: <E1MaKEN-0000sZ-NB@3kljzd1.ch3.sourceforge.com>

Revision: 12024
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12024&view=rev
Author:   vszakats
Date:     2009-08-10 02:03:22 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 03:58 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * make_gnu_os2.cmd
  * make_gnu.bat
  * make_gnu.sh
  * config/global.cf
    + Moved emptying of CLIPPER/HARBOUR envvars to GNU Make level.
    + Emptying CLIPPERCMD/HARBOURCMD envvars before calling Harbour compiler.

  * make_gnu_os2.cmd
    % Deleted defaulting of HB_ARCHITECTURE and HB_COMPILER. Now 
      done on GNU Make level. Untested.

  * config/readme.txt
    - Deleted info on OS/2 make.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf
    trunk/harbour/config/readme.txt
    trunk/harbour/make_gnu.bat
    trunk/harbour/make_gnu.sh
    trunk/harbour/make_gnu_os2.cmd


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From abe.buch at att.net  Mon Aug 10 00:39:30 2009
From: abe.buch at att.net (AbeB)
Date: Mon Aug 10 00:39:35 2009
Subject: [Harbour] problame with subindex & ads remote
In-Reply-To: <20090717222524.GA4202@uran.home.aster.pl>
References: <1247693270261-3265915.post@n2.nabble.com>
	<20090717205418.GB29426@uran.home.aster.pl>
	<1247864752613-3277805.post@n2.nabble.com>
	<20090717222524.GA4202@uran.home.aster.pl>
Message-ID: <1249879170572-3415369.post@n2.nabble.com>


i'm getting closer to the source of this bug.
the index will start from the current record if the last movement in the
Area was a Seek.
it will start from the beginning of the file if the last movement was a
Skip.
Remember this only happens on a remote connection.
  
-----------
#INCLUDE "ads.ch"
PROC MAIN()
FIELD FLD1
LOCAL I
REQUEST ADS

//SET SERVER LOCAL
SET SERVER REMOTE
rddSetDefault( "ADSCDX" )
? "rdd:", rddSetDefault()
ERASE( "test.cdx" )

DBCREATE( "test.dbf", {{"FLD1", "N", 10 , 0}} )
USE test

? "connetion type:" ,ADSGETTABLECONTYPE()
INDEX ON FLD1 TAG TEMP
ORDSETFOCUS( "TEMP" )
? ORDSETFOCUS()
FOR I  := 1 TO 100
	APPEND BLANK
	FLD1 := I
NEXT

SEEK 50
SKIP 1 // <----- this line will cause the next index command to include
records 1-98 (should include only 51-98), comment it out and it will include
records 50-98 only.

ERASE("temp.cdx")
INDEX ON FLD1 TAG TEMP2 to temp.cdx WHILE FLD1 < 99 usecurrent

? ORDSETFOCUS()
? "===="
ORDSETFOCUS( "TEMP" )
? ORDSETFOCUS()
GO TOP
? FLD1
GO BOTTOM
? FLD1
ORDSETFOCUS( "TEMP2" )
? ORDSETFOCUS()
GO TOP
? FLD1
GO BOTTOM
? FLD1
USE
RETURN
-------------------



Przemyslaw Czerpak wrote:
> 
> On Fri, 17 Jul 2009, AbeB wrote:
>> Thanks Przemyslaw for looking into this with such detail.
>> Did you try it against a remote server?
> 
> I'm sorry but I do not have any so I cannot test it.
> 
>> What version of ads remote?
>> When I run it against ADS Version 7.1 the test result will be:
>> TEMP2
>>          1
>>         98
>>  ( I did not try your actual test, because I don't have a server avail
>> now)
>> it's very possible that it's a bug in ace32/ads and it's fixed it a later
>> version of ADS.
> 
> If you want to find the reason of problem it's important to make tests
> with exactly the same code and compare the whole output. I hope real
> ADS users can help you in such tests.
> If you made some tests before then I also suggests to change file names
> to eliminate all possible interactions with files on ADS server left
> by previous tests and which are reused accidentally.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/problame-with-subindex---ads-remote-tp3265915p3415369.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at acn.waw.pl  Mon Aug 10 05:05:57 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 10 05:06:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11967] trunk/harbour
In-Reply-To: <E1MY8uq-0000tt-Lm@dn4whf1.ch3.sourceforge.com>
References: <E1MY8uq-0000tt-Lm@dn4whf1.ch3.sourceforge.com>
Message-ID: <20090810090557.GA6715@uran.home.aster.pl>

On Tue, 04 Aug 2009, vszakats@users.sourceforge.net wrote:

Hi Viktor,

> 2009-08-04 03:32 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * source/vm/dynlibhb.c
>     ! Fixed to not use dl*() functions on linux/sunpro.

Above modification simply broke working code by disabling all calls to
dl*() functions instead of adding -ldl to linked library list.
List of linked system libraries in linux/sunpro.cf should be taken from
linux/gcc.cf not from sunos/sunpro.cf
dlopen interface comes from SunOS so this code can be enabled for
native SunOS builds too not only for Linux.
Please check if it's also supported by MacOSX. If it's not supported then
we MacOSX developers should add support to native MacOSX interface to
manage dynamic libraries.

BTW Has anyone here access to HP-UX hosts?
    I do not have access to such machines for nearly a year and I haven't
    made any HP-UX build tests for quite long time with this OS. I would
    like to ask Harbour developers/users to make such tests with current
    SVN code and report any problems here.

>   * config/linux/sunpro.cf
>     ! Fixed to include gpm lib.
>   ; TOFIX: linux/sunpro linking dies on:
>            ../../../../../lib/linux/sunpro/libhbpcre.a(pcrecomp.o): In function `check_auto_possessive':
>            pcrecomp.c:(.text+0x2952): undefined reference to `.CG4A.3263'
>            pcrecomp.c:(.text+0x2959): undefined reference to `.CG4A.3263'
>            pcrecomp.c:(.text+0x2b29): undefined reference to `.CG40.3253'
>            pcrecomp.c:(.text+0x2b30): undefined reference to `.CG40.3253'

It's the results of mixed -xbuiltin=%all (implied by -fast) used with -KPIC
flag. It's probably bug in Linux port of Sun C compiler which is exploited
by code in source/hbpcre/pcrecomp.c.
Using -fast introduces problems to math operations due to not IEEE safe
FL arithmetic optimizations (it can be seen in hbtest results). It also
strongly reduces portability of created binaries. Code compiled with
-fast uses all local CPU features so cannot be executed by other processors
from the same family (x86 or SPARC). Please also note that -fast is on
the flags which have to be used for compiling and linking: both linker
and compiler have to know about some switches enabled by it.
I also do not understand why we have this setting in linux/sunpro.cf:
   HB_ISAOPT ?= -xarch=386
Linux perfectly well works on different 32 and 64 bit SPARC CPUs.
This part for sure have to be removed.
The second thing I do not understand is why we have linux/sunpro64.cf
with:
   HB_ISAOPT = -m64
   include $(TOP)$(ROOT)config/linux/sunpro.cf
-m32 and -m64 are compile and link time switches to force 32 or 64 bit
model. The default model depends on host CPU and default compiler/OS
settings. In general on 64 bit platforms -m32 can be used to force
32bit memory model and on 32 bit platforms -m64 can be used to force
64bit memory model. In most of cases it means cross compilation though
many of 64bit platforms can execute 32bit binaries so programs compiled
with -m32 can be executed as native binaries. Some of such 64bit platforms
can even use -m32 mode as default. GCC also have above such switches on
most of platforms which supports 32 and 64 bit modes but I do not know
if it works in MS-Windows and MinGW now - 64bit support is quite new
in MinGW so it may not be ready yet.
Can you explain me what is your goal in adding separate linux/sunpro64.cf?

I also suggest to use:

   ifeq ($(HB_BUILD_MODE),cpp)
      HB_CMP = sunCC
   else
      HB_CMP = suncc
   endif

instead of CC and cc. With above version you do not have keep path to
Sun C compiler at the beginning of PATH envvar so both GCC and Sun C
builds can be easy used. It should work also in SunOS. I hope Tomas
can confirm it.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Aug 10 05:07:49 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 10 05:07:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12025] trunk/harbour
Message-ID: <E1MaQr7-0002ea-8B@74yxhf1.ch3.sourceforge.com>

Revision: 12025
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12025&view=rev
Author:   druzus
Date:     2009-08-10 09:07:48 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 11:07 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbatomic.h
    % added architecture independent support for atomic operations and
      spinlocks in all SunOS builds

  * harbour/source/vm/dynlibhb.c
    ! reenabled dlopen interface for Sun C compilers
    * enabled dlopen interface for SunOS builds

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbatomic.h
    trunk/harbour/source/vm/dynlibhb.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 10 05:25:23 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 05:25:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12026] trunk/harbour
Message-ID: <E1MaR87-0000qU-Al@3kljzd1.ch3.sourceforge.com>

Revision: 12026
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12026&view=rev
Author:   vszakats
Date:     2009-08-10 09:25:22 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 11:21 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  - bin/hbmk.bat
    - Deleted. Probably no one uses it.

  * contrib/hbtip/sendmail.prg
    + Added pop3s support for lPopAuth option.

  * contrib/hbtip/client.prg
    % TIPCLIENT() now uses INIT instead of manual initialization of
      class vars.
    * TIPCLIENT():NEW(): Protocol check made more robust.

  * source/vm/dynlibhb.c
    + Enabled HB_HAS_DLFCN on darwin. Support is there, tested on
      latest 10.5 Leopard.

  * config/global.cf
    * Minor.

  * config/linux/sunpro.cf
  * config/sunos/sunpro.cf
    + Using 'suncc|sunCC' compiler executables. This makes HB_CCPATH
      unnecessary. Thanks Przemek.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/contrib/hbtip/client.prg
    trunk/harbour/contrib/hbtip/sendmail.prg
    trunk/harbour/source/vm/dynlibhb.c

Removed Paths:
-------------
    trunk/harbour/bin/hbmk.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Aug 10 05:25:57 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 10 05:26:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11967] trunk/harbour
In-Reply-To: <20090810090557.GA6715@uran.home.aster.pl>
References: <E1MY8uq-0000tt-Lm@dn4whf1.ch3.sourceforge.com>
	<20090810090557.GA6715@uran.home.aster.pl>
Message-ID: <4E73F1F0-2152-4806-B81E-DA8029601971@syenar.hu>

Hi Przemek,

I hope vacation was good. Good to see you back.

>> 2009-08-04 03:32 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>  * source/vm/dynlibhb.c
>>    ! Fixed to not use dl*() functions on linux/sunpro.
>
> Above modification simply broke working code by disabling all calls to
> dl*() functions instead of adding -ldl to linked library list.
> List of linked system libraries in linux/sunpro.cf should be taken  
> from
> linux/gcc.cf not from sunos/sunpro.cf
> dlopen interface comes from SunOS so this code can be enabled for
> native SunOS builds too not only for Linux.
> Please check if it's also supported by MacOSX. If it's not supported  
> then
> we MacOSX developers should add support to native MacOSX interface to
> manage dynamic libraries.

Could possibly be, my only quick goal was to allow it to go through
this point, hoping for a better fix. Thanks for doing it.

It's supported on Darwin, I'll enable it in next commit.

> BTW Has anyone here access to HP-UX hosts?
>    I do not have access to such machines for nearly a year and I  
> haven't
>    made any HP-UX build tests for quite long time with this OS. I  
> would
>    like to ask Harbour developers/users to make such tests with  
> current
>    SVN code and report any problems here.

Maybe sf.net has such machine in their farm? I haven't checked since a  
while.

>>  * config/linux/sunpro.cf
>>    ! Fixed to include gpm lib.
>>  ; TOFIX: linux/sunpro linking dies on:
>>           ../../../../../lib/linux/sunpro/libhbpcre.a(pcrecomp.o):  
>> In function `check_auto_possessive':
>>           pcrecomp.c:(.text+0x2952): undefined reference to `.CG4A. 
>> 3263'
>>           pcrecomp.c:(.text+0x2959): undefined reference to `.CG4A. 
>> 3263'
>>           pcrecomp.c:(.text+0x2b29): undefined reference to  
>> `.CG40.3253'
>>           pcrecomp.c:(.text+0x2b30): undefined reference to  
>> `.CG40.3253'
>
> It's the results of mixed -xbuiltin=%all (implied by -fast) used  
> with -KPIC
> flag. It's probably bug in Linux port of Sun C compiler which is  
> exploited
> by code in source/hbpcre/pcrecomp.c.
> Using -fast introduces problems to math operations due to not IEEE  
> safe
> FL arithmetic optimizations (it can be seen in hbtest results). It  
> also
> strongly reduces portability of created binaries. Code compiled with
> -fast uses all local CPU features so cannot be executed by other  
> processors
> from the same family (x86 or SPARC). Please also note that -fast is on
> the flags which have to be used for compiling and linking: both linker
> and compiler have to know about some switches enabled by it.
> I also do not understand why we have this setting in linux/sunpro.cf:
>   HB_ISAOPT ?= -xarch=386
> Linux perfectly well works on different 32 and 64 bit SPARC CPUs.
> This part for sure have to be removed.
> The second thing I do not understand is why we have linux/sunpro64.cf
> with:
>   HB_ISAOPT = -m64
>   include $(TOP)$(ROOT)config/linux/sunpro.cf
> -m32 and -m64 are compile and link time switches to force 32 or 64 bit
> model. The default model depends on host CPU and default compiler/OS
> settings. In general on 64 bit platforms -m32 can be used to force
> 32bit memory model and on 32 bit platforms -m64 can be used to force
> 64bit memory model. In most of cases it means cross compilation though
> many of 64bit platforms can execute 32bit binaries so programs  
> compiled
> with -m32 can be executed as native binaries. Some of such 64bit  
> platforms
> can even use -m32 mode as default. GCC also have above such switches  
> on
> most of platforms which supports 32 and 64 bit modes but I do not know
> if it works in MS-Windows and MinGW now - 64bit support is quite new
> in MinGW so it may not be ready yet.
> Can you explain me what is your goal in adding separate linux/ 
> sunpro64.cf?

Being only the messenger here regarding this new tool, I can't.
I hope Tamas will come to address your questions and we can make all
necessary modifications.

> I also suggest to use:
>
>   ifeq ($(HB_BUILD_MODE),cpp)
>      HB_CMP = sunCC
>   else
>      HB_CMP = suncc
>   endif
>
> instead of CC and cc. With above version you do not have keep path to
> Sun C compiler at the beginning of PATH envvar so both GCC and Sun C
> builds can be easy used. It should work also in SunOS. I hope Tomas
> can confirm it.

Thanks, I'll do this in next commit.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Aug 10 05:31:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 05:31:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12027] trunk/harbour
Message-ID: <E1MaRDr-0000yC-OQ@3kljzd1.ch3.sourceforge.com>

Revision: 12027
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12027&view=rev
Author:   vszakats
Date:     2009-08-10 09:31:18 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 11:30 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/sendmail.prg
  * contrib/hbtip/client.prg
    ! HAS_OPENSSL -> HB_HAS_OPENSSL.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/client.prg
    trunk/harbour/contrib/hbtip/sendmail.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Mon Aug 10 05:48:17 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 10 05:48:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12028] trunk/harbour
Message-ID: <E1MaRUH-0003MW-0V@74yxhf1.ch3.sourceforge.com>

Revision: 12028
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12028&view=rev
Author:   druzus
Date:     2009-08-10 09:48:16 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 11:48 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/linux/sunpro.cf
    ! fixed list of linked system libraries to be Linux compatible

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/linux/sunpro.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 10 05:54:30 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 05:54:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12029] trunk/harbour
Message-ID: <E1MaRaI-00023O-Oy@c3vjzd1.ch3.sourceforge.com>

Revision: 12029
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12029&view=rev
Author:   vszakats
Date:     2009-08-10 09:54:29 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------

2009-08-10 11:51 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/globsh.cf
    % Deleted hack with unknown purpose when forming $(MK) variable:
         '$(subst \~,~,$(MAKE))' -> $(MAKE)
      Please shout if you know the purpose, all I could find out
      is that it was added in this change:
         Fri Jun 11 17:11:09 1999  Gonzalo A. Diethelm
      but there is no specific description of this change, besides
      making MAKE work on non-bash systems.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 10 06:05:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 06:05:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12030] trunk/harbour
Message-ID: <E1MaRkt-0002GS-Br@c3vjzd1.ch3.sourceforge.com>

Revision: 12030
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12030&view=rev
Author:   vszakats
Date:     2009-08-10 10:05:26 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 12:04 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Added missing core gt names from GUI/non-GUI detection code.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Aug 10 06:24:48 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 10 06:24:54 2009
Subject: [Harbour] problame with subindex & ads remote
In-Reply-To: <1249879170572-3415369.post@n2.nabble.com>
References: <1247693270261-3265915.post@n2.nabble.com>
	<20090717205418.GB29426@uran.home.aster.pl>
	<1247864752613-3277805.post@n2.nabble.com>
	<20090717222524.GA4202@uran.home.aster.pl>
	<1249879170572-3415369.post@n2.nabble.com>
Message-ID: <20090810102448.GA13534@uran.home.aster.pl>

On Sun, 09 Aug 2009, AbeB wrote:

Hi,

> i'm getting closer to the source of this bug.
> the index will start from the current record if the last movement in the
> Area was a Seek.
> it will start from the beginning of the file if the last movement was a
> Skip.
> Remember this only happens on a remote connection.

I'm afraid I cannot help you. I'm not ADS user and I do not have
ADS remote server so I cannot replicate the problem and look for
workaround. For me it looks like a problem with ADS/ACE not in
Harbour. Probably the positioning is done locally by client only
using some read ahead record buffer transferred to the client and
server knows nothing about it. In such case the only one thing we
can make is finding workaround to inform server about current record
on client side (ACE library) to force processing from this record
when subindex is created.
You can ask about it on ADS list. ADS/ACE authors should give precise
answer about the source of problem and possible workarounds.
Or some users/developers with access to ADS server can try to
find workaround themselves and add it to adsOrderCreate() in ads1.h.
Maybe simple:
   {
      ULONG ulCurRec;
      SELF_RECNO( ( AREAP ) pArea, &ulCurRec );
      SELF_GOTO( ( AREAP ) pArea, ulCurRec );
   }
at line 3806 just before AdsCreateIndex*() will be enough.
You can check.
Anyhow it will be good to hear ADS/ACE authors opinion.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Aug 10 06:41:44 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 10 06:41:49 2009
Subject: [Harbour] hbmk2 and linking with GCC without
	-Wl,--start-group/-Wl,--end-group
Message-ID: <20090810104143.GA10997@uran.home.aster.pl>

Hi Viktor,

when hbmk2 is used with GCC without support for
-Wl,--start-group/-Wl,--end-group then the order
of linked libraries is not sufficient to resolve
cross references.
Just try to compile this code (for test you can
disable -Wl,--start-group in mingw builds):

   proc main()
      browse()
   return

In this code functions indirectly used inside HBRTL
refer to HBRDD functions so 1-st -lhbrtl has to be
located before -lhbrdd.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Aug 10 07:16:02 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 10 07:16:10 2009
Subject: [Harbour] hbmk2 and linking with GCC without -Wl,
	--start-group/-Wl, --end-group
In-Reply-To: <20090810104143.GA10997@uran.home.aster.pl>
References: <20090810104143.GA10997@uran.home.aster.pl>
Message-ID: <0D845E25-57CA-4ABE-AF44-A4048A831E26@syenar.hu>

> Hi Viktor,
>
> when hbmk2 is used with GCC without support for
> -Wl,--start-group/-Wl,--end-group then the order
> of linked libraries is not sufficient to resolve
> cross references.
> Just try to compile this code (for test you can
> disable -Wl,--start-group in mingw builds):
>
>   proc main()
>      browse()
>   return
>
> In this code functions indirectly used inside HBRTL
> refer to HBRDD functions so 1-st -lhbrtl has to be
> located before -lhbrdd.

Can you try moving line 3332 one line below, after
line 3333?

It's a quite wild guess, and for me the correct lib
order is still a very shady area. Haven't seen a
universally working one since the start of the project.
(Nor do I understand the logic behind errors seen.)

It also depends how did you disable grouping, as
there is some hack code which adds some double libs
for non-grouped scenarios (line 2294). Maybe it also
helps.

[ I've tried both ways after moving this line, but
it didn't help, just changed the missing symbols,
though hbrtl rightly comes before hbrdd. ]

Anyhow, it would be nice to solve it and drop forced
grouping. If you have some advices I'm ready to implement
them.

Brgds,
Viktor

From ice at wormhole.hu  Mon Aug 10 07:11:06 2009
From: ice at wormhole.hu (Tamas TEVESZ)
Date: Mon Aug 10 07:20:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11967] trunk/harbour
In-Reply-To: <4E73F1F0-2152-4806-B81E-DA8029601971@syenar.hu>
References: <E1MY8uq-0000tt-Lm@dn4whf1.ch3.sourceforge.com>
	<20090810090557.GA6715@uran.home.aster.pl>
	<4E73F1F0-2152-4806-B81E-DA8029601971@syenar.hu>
Message-ID: <alpine.GSO.2.00.0908101237540.4352@dawn.royalcomp.hu>

On Mon, 10 Aug 2009, Viktor Szak?ts wrote:

hi,

 > > > * config/linux/sunpro.cf
 > > >   ! Fixed to include gpm lib.
 > > > ; TOFIX: linux/sunpro linking dies on:
 > > >          ../../../../../lib/linux/sunpro/libhbpcre.a(pcrecomp.o): In
 > > > function `check_auto_possessive':
 > > >          pcrecomp.c:(.text+0x2952): undefined reference to `.CG4A.3263'
 > > >          pcrecomp.c:(.text+0x2959): undefined reference to `.CG4A.3263'
 > > >          pcrecomp.c:(.text+0x2b29): undefined reference to `.CG40.3253'
 > > >          pcrecomp.c:(.text+0x2b30): undefined reference to `.CG40.3253'
 > > 
 > > It's the results of mixed -xbuiltin=%all (implied by -fast) used with -KPIC
 > > flag. It's probably bug in Linux port of Sun C compiler which is exploited
 > > by code in source/hbpcre/pcrecomp.c.
 > > Using -fast introduces problems to math operations due to not IEEE safe
 > > FL arithmetic optimizations (it can be seen in hbtest results). It also
 > > strongly reduces portability of created binaries. Code compiled with
 > > -fast uses all local CPU features so cannot be executed by other processors
 > > from the same family (x86 or SPARC). Please also note that -fast is on
 > > the flags which have to be used for compiling and linking: both linker
 > > and compiler have to know about some switches enabled by it.

i'll revisit the use of -fast then. the current flags were taken 
verbatim from the blastwave docs as a starting point, though it is 
true that they are using a quite different build environment than i do 
(i'm still in the process of coughing up something that resembles 
theirs).

it is also true that they only do solaris, and frankly, linux/sunpro 
was a complete accident ;), but it can't be worse by more people 
keeping an eye on it.

 > > I also do not understand why we have this setting in linux/sunpro.cf:
 > >  HB_ISAOPT ?= -xarch=386
 > > Linux perfectly well works on different 32 and 64 bit SPARC CPUs.

this has nothing to do with sparclinux. there is no sunpro for 
sparclinux, so that combination wouldn't fly at all. linux/sunpro* is 
only for ia32 and x86_64 targets.

 > > This part for sure have to be removed.
 > > The second thing I do not understand is why we have linux/sunpro64.cf
 > > with:
 > >  HB_ISAOPT = -m64
 > >  include $(TOP)$(ROOT)config/linux/sunpro.cf
 > > -m32 and -m64 are compile and link time switches to force 32 or 64 bit
 > > model. The default model depends on host CPU and default compiler/OS
 > > settings. In general on 64 bit platforms -m32 can be used to force
 > > 32bit memory model and on 32 bit platforms -m64 can be used to force
 > > 64bit memory model. In most of cases it means cross compilation though
 > > many of 64bit platforms can execute 32bit binaries so programs compiled
 > > with -m32 can be executed as native binaries. Some of such 64bit platforms
 > > can even use -m32 mode as default. GCC also have above such switches on
 > > most of platforms which supports 32 and 64 bit modes but I do not know

i've played with this stuff quite extensively (on linux), and while 
basically true, practically it's a can of worms. the thing is, unless 
you pick a platform that is well supplied with both 32- and 64-bit 
binaries (libs, mostly, of course), you can hardly build even core hb 
- i had absolutely no luck with ubuntu (simply too much ia32-* stuff 
are missing for a hb build to be even remotely useful), whereas 
centos5 (rhel5) is much more friendly in this regard (i wouldn't mind 
someone with some suse-experience chiming in).

i had INSTALL diffs somewhere explaining this, but they seemingly got 
lost; will redo them in due course.

 > > if it works in MS-Windows and MinGW now - 64bit support is quite new
 > > in MinGW so it may not be ready yet.
 > > Can you explain me what is your goal in adding separate linux/sunpro64.cf?

that you can (given you have the necessary libs n stuff) compile 
32-bit target on a 64-bit system. this is what the variants without 
*64 do, on both linux and solaris. 

i wouldn't think this to be bad, though i am completely open to do it 
by other means. just kick me in the direction that fits your idea.

 > > I also suggest to use:
 > > 
 > >  ifeq ($(HB_BUILD_MODE),cpp)
 > >     HB_CMP = sunCC
 > >  else
 > >     HB_CMP = suncc
 > >  endif
 > > 
 > > instead of CC and cc. With above version you do not have keep path to
 > > Sun C compiler at the beginning of PATH envvar so both GCC and Sun C
 > > builds can be easy used. It should work also in SunOS. I hope Tomas
 > > can confirm it.
 > 
 > Thanks, I'll do this in next commit.

and now you broke it ;)

the thing is, there are binaries named "cc" and "CC". there are no 
stuff named "suncc" and "sunCC".

this is a tough one to crack so that noone gets hurt, but since i was 
the last one to arrive, i'm ready to take the pain.

(on (at least some) linuxes alternatives could solve this cleanly, but 
as far as i can tell there is no such thing on redhat-like stuff, and 
certainly not on the bsds, for example, so it's ruled out...)

still, the above logic is somewhat skewed on opensolaris, where you'll 
have "gcc" for gcc, and plain old "cc" for sunc, if the 
sunstudioexpress package is installed (only talkin 2008.11 as that's 
what i have atm), so if you happen to try there, beware that you may 
not get what you think you asked for ;)

do we want to include these wrappers (as far as i can tell, not much 
heuristics would be needed to find them, at least if only "places 
people install sunc by convention" are taken into account), or 
document the need for such wrappers?

-- 
[-]

mkdir /nonexistent
From maurilio.longo at libero.it  Mon Aug 10 07:20:44 2009
From: maurilio.longo at libero.it (maurilio longo)
Date: Mon Aug 10 07:20:51 2009
Subject: [Harbour] Harbour under OS/2 - eCS, cross build II
Message-ID: <KO5RIK$E31D59CFFDE1B7DC16CC4C936CFAE2FF@libero.it>

David,

with my latest changes I can build harbour on OS/2 using GCC and make (even make -j n works).

Maurilio.


>  >> Przemek, Viktor, Maurilio:
>  >>
>  >> As make381-os2 show problems (limits) and incompatibility with
>  >> make381-windows (and perhaps Linux), there are some way to use
>  >> ANOTHER make system in OS/2 ?
>  >> Reading docs of Watcom I found wmake.exe, based in GNU make but with
>  >> some differences specified in docs
>  >> I tried to use it to build Harbour and raised errors not described
>  >> in differences
> 
>  >No, sorry. I'd certainly not want to reintroduce a parallel (non-GNU)
>  >make system for OS/2 after having spent a year getting rid of them
>  >for Windows (and all the permanent double work with them).
> 
>  >Probably it would be better to find a GNU Make build for OS/2 which
>  >works well, or trying to work around the bugs which it has under
>  >OS/2. I don't exactly see what are these though, can't find any lines
>  >like "for %i in ( *.obj ) do @echo -+%i >> __lib__.tmp" in current SVN.
> 
>  >[ It'd recommend to make tests using latest SVN, as changes are made
>  >regularly in the GNU Make process. Also, confirmed pending patches
>  >should better be uploaded to SVN, as currently it's very difficult to
>  >track what is the tested codebase. The only slight problem I see with
>  >these watcom patches, is that it's not too clean and for cross-
>  >compilation
>  >it would have to be added to all watcom.cf files, just to make OS/2
>  >happy. ]
> 
>  >It should also be noted that our GNU Make process uses shell specific
>  >rules and parts, and some other OS specific tricks so maybe not GNU
>  >Make itself should be blamed for some problems you're seeing.
> 
>  >It may also be an option to use the DOS build of GNU Make under OS/2.
>  >I don't know to what extent OS/2 is compatible with DOS exes, but it's
>  >worth a check.
> 
> Viktor:
> 
> The short history is:
> I have years building Harbour under OS/2 using os2make376. In February 
> 2008 Przemek added changes to "make process" not supported by 
> os2make376. I checked some versions of os2make381 and all of them show 
> problems. Przemek reversed his changes.
> Until December 2008 os2make376 was able to build Harbour using gcc335 
> and Watcom 1.7a
> This year you changed make process and in meantime some workarounds for 
> OS/2-os2make376 were left off. Now Harbour under OS/2 does not build 
> with os2make376 and partially build with os2make381
> We are currently discarding os2make376 and forcing to use os2make381, 
> and trying to find why and how to apply workarounds
> 
> Line "for %i in ( *.obj ) do @echo -+%i >> __lib__.tmp" are not in SVN 
> because is part of "local tests" to find solutions
> I have reported many of these issues in my previous messages and Przemek 
> has explained many of the reasons also.
> "install" and "clean" stages show a lot of errors. At this moment we are 
> trying to get a complete build of Harbour with workarounds and without 
> problems. Then we can concentrate in "install" and "clean"
> 
> Przemek has been working deeply to find right workarounds. He knows much 
> better than me what are the problems and how to clean them
> My tests in real OS/2 environment show the results and I contribute to 
> clarify problems and propose alternatives
> There were the cases with gcc335 build, OpenWatcom 1.8 build, os2->win 
> cross build and win->os2 cross build. Each of them show different 
> problems with os2make381
> And additionally, differences between os2make381 and winmake381
> 
> Przemek explained some days ago:
> 
>   >Yes and it's a bug in OS2 GNU make port we are exploiting from time to
>   >time.
>   >If we find some acceptable solution the we will use it. If not we will
>   >have to return to the:
>   >   for %i in ( *$(OBJ_EXT) ) do @echo ... >> __lib__.tmp
>   >trick and add some hack to protect against adding hbpp.obj to library.
> 
> I do not know if Maurilio has done test with OpenWatcom 1.8, native and 
> cross build. If so then he can see problems, some of them faced with gcc 
> version
> 
> My proposal was simple:
> 
> If os2make381 have problems, and wmake.exe (OpenWatcom) with some 
> adjustments can do same process as os2make381, then we can discard 
> os2make381 and to use wmake.exe
> As you can see is not to introduce a parallel make process. Is to use 
> same structure of current GNUmake with proper adjustments
> 
> Below are some parts of Watcom Tools Guide related to wmake
> 
> 
> David Macias
> 
> 
> 
> ---------------
> Some readers will be quite familiar with the concepts of the Make file 
> maintenance tool. Open Watcom Make is patterned after the Make utility 
> found on UNIX systems. The next major section is simply intended to 
> summarize, for reference purposes only, the syntax and options of Make's 
> command line and special macros. Subsequent sections go into the 
> philosophy and capabilities of Open Watcom Make. If you are not familiar 
> with the capabilities of the Make utility, we recommend that you skip to 
> the next major section entitled "Dependency Declarations" and read on.
> ---------------
> 
> Open Watcom Make was originally based on the UNIX Make utility. The PC's 
> operating environment presents a base of users which may or may not be 
> familiar with the UNIX operating system. Make is designed to be a PC 
> product with some UNIX compatibility. The line continuation in UNIX Make 
> is a backslash ("\") at the end of the line. The backslash ("\") is used 
> by the operating system for directory specifications and as such will be 
> confused with line continuation. For example, you could type:
> 
> 
>      cd \
> 
> along with other commands ... and get unexpected results. However, if 
> your makefile does not contain path separator characters ("\") and you 
> wish to use "\" as a line continuation indicator then you can use the 
> Make "u" (UNIX compatibility mode) option.
> 
> Also, in the UNIX operating system there is no concept of file 
> extensions, only the concept of a file suffix. Make will accept the UNIX 
> Make directive .SUFFIXES for compatibility with UNIX makefiles. The UNIX 
> compatible special macros supported are:
> 
> Macro
> Expansion
> 
> $@
> full name of the target
> 
> $*
> target with the extension removed
> 
> $<
> list of all dependents
> 
> $?
> list of dependents that are younger than the target
> 
> The extra checking of makefiles done by Make will require modifications 
> to UNIX makefiles. The UNIX Make utility does not check for the 
> existence of targets after the associated command list is executed so 
> the "c" or the .NOCHECK directive should be used to disable this 
> checking. The lack of a command list to update a target is ignored by 
> the UNIX Make utility but Open Watcom Make requires the special internal 
> command %null to specify a null command list. In summary, Make supports 
> many of the features of the UNIX Make utility but is not 100% compatible.
> ---------------
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From maurilio.longo at libero.it  Mon Aug 10 07:28:00 2009
From: maurilio.longo at libero.it (maurilio longo)
Date: Mon Aug 10 07:28:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12006] trunk/harbour
Message-ID: <KO5RUO$170CDC7C5C0DEF70699F4D899A048FA5@libero.it>

Viktor,

I think that either tp_crc16() or tp_crc32() had to be reimplemented because the available RTL functions were not compatible with the original (DOS) telepathy ones; CRCs had not the same value.

Do you have the original library and can you test whether CRCs for the same string do match?

Best regards.

Maurilio.
 


> Revision: 12006
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12006&view=rev
> Author:   vszakats
> Date:     2009-08-09 14:37:15 +0000 (Sun, 09 Aug 2009)
> 
> Log Message:
> -----------
> 2009-08-09 16:35 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbtpathy/Makefile
>   - contrib/hbtpathy/tplinux.c
>   + contrib/hbtpathy/tpunix.c
>   * contrib/hbtpathy/tpcommon.c
>   * contrib/hbtpathy/tpwin.c
>   * contrib/hbtpathy/tpos2.c
>   * contrib/hbtpathy/telepath.prg
>   * contrib/hbtpathy/hbtpathy.hbc
>     + Enabled for all *nix systems (was only linux and darwin).
>       I don't know if it works on all *nix systems, but it should
>       be our goal. We will see. Please test.
>     % Using HB_CRC32() in core instead of reimplementing it locally.
>     ! P_CTRLCTS() dummy now returns proper type.
>     + P_OUTFREE() implemented for Windows platforms.
>     + P_ISDCD(), P_ISRI(), P_ISDSR(), P_ISCTS()
>       implemented for Windows platforms. (ideas taken from hbwin)
>       Neither of these were tested, but it's a start.
>     + P_INFREE() added for Windows and OS/2.
>       Only clean compilation was tested.
>     + TP_INFREE() added.
>     * Some formatting.
> 
>   * contrib/hbwin/win_prt.c
>     + Some extra safety.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/contrib/hbtpathy/Makefile
>     trunk/harbour/contrib/hbtpathy/hbtpathy.hbc
>     trunk/harbour/contrib/hbtpathy/telepath.prg
>     trunk/harbour/contrib/hbtpathy/tpcommon.c
>     trunk/harbour/contrib/hbtpathy/tpos2.c
>     trunk/harbour/contrib/hbtpathy/tpwin.c
>     trunk/harbour/contrib/hbwin/win_prt.c
> 
> Added Paths:
> -----------
>     trunk/harbour/contrib/hbtpathy/tpunix.c
> 
> Removed Paths:
> -------------
>     trunk/harbour/contrib/hbtpathy/tplinux.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From harbour.01 at syenar.hu  Mon Aug 10 08:01:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 10 08:01:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12006] trunk/harbour
In-Reply-To: <KO5RUO$170CDC7C5C0DEF70699F4D899A048FA5@libero.it>
References: <KO5RUO$170CDC7C5C0DEF70699F4D899A048FA5@libero.it>
Message-ID: <9C17BFAA-75A4-48C3-BAED-80A89511D886@syenar.hu>

Hi Maurilio,

Yes, the CRC16 is different indeed, but the CRC32 was the same, in
fact (reading the old comments) the CRC32 code was taken from a generic
unicode library, so it's nothing tpathy specific, before deletion
I've verified the code table and formula to be the same as in core.

I've now checked original Telepath(y) libs and it uses "std" CRC32
code with the same precalculated table. It's uses it for ZMODEM which
needs std CRC32.

Actually the correct name for CRC16 included in Telepath(y) lib should
be CRC16-CCITT (or CRC-CCITT, or CRC16 X.25), which is a variation of
CRC16 using different polynomial. It's used in XMODEM protocol.

There is an HB_CRC() function in core which is supposed to be
compatible with it, but I cannot get the same result.

---
? HB_CRC(   "hello world" ) // ->     44550
? HB_CRCCT( "hello world" ) // ->     15332
? HB_CRC16( "hello world" ) // ->      8760
? TP_CRC16( "hello world" ) // ->     58427
? "Clipper original", 58427
---

Brgds,
Viktor

On 2009.08.10., at 1:28, maurilio longo wrote:

> Viktor,
>
> I think that either tp_crc16() or tp_crc32() had to be reimplemented  
> because the available RTL functions were not compatible with the  
> original (DOS) telepathy ones; CRCs had not the same value.
>
> Do you have the original library and can you test whether CRCs for  
> the same string do match?
>
> Best regards.
>
> Maurilio.
>
>
>
>> Revision: 12006
>>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12006&view=rev
>> Author:   vszakats
>> Date:     2009-08-09 14:37:15 +0000 (Sun, 09 Aug 2009)
>>
>> Log Message:
>> -----------
>> 2009-08-09 16:35 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>  * contrib/hbtpathy/Makefile
>>  - contrib/hbtpathy/tplinux.c
>>  + contrib/hbtpathy/tpunix.c
>>  * contrib/hbtpathy/tpcommon.c
>>  * contrib/hbtpathy/tpwin.c
>>  * contrib/hbtpathy/tpos2.c
>>  * contrib/hbtpathy/telepath.prg
>>  * contrib/hbtpathy/hbtpathy.hbc
>>    + Enabled for all *nix systems (was only linux and darwin).
>>      I don't know if it works on all *nix systems, but it should
>>      be our goal. We will see. Please test.
>>    % Using HB_CRC32() in core instead of reimplementing it locally.
>>    ! P_CTRLCTS() dummy now returns proper type.
>>    + P_OUTFREE() implemented for Windows platforms.
>>    + P_ISDCD(), P_ISRI(), P_ISDSR(), P_ISCTS()
>>      implemented for Windows platforms. (ideas taken from hbwin)
>>      Neither of these were tested, but it's a start.
>>    + P_INFREE() added for Windows and OS/2.
>>      Only clean compilation was tested.
>>    + TP_INFREE() added.
>>    * Some formatting.
>>
>>  * contrib/hbwin/win_prt.c
>>    + Some extra safety.
>>
>> Modified Paths:
>> --------------
>>    trunk/harbour/ChangeLog
>>    trunk/harbour/contrib/hbtpathy/Makefile
>>    trunk/harbour/contrib/hbtpathy/hbtpathy.hbc
>>    trunk/harbour/contrib/hbtpathy/telepath.prg
>>    trunk/harbour/contrib/hbtpathy/tpcommon.c
>>    trunk/harbour/contrib/hbtpathy/tpos2.c
>>    trunk/harbour/contrib/hbtpathy/tpwin.c
>>    trunk/harbour/contrib/hbwin/win_prt.c
>>
>> Added Paths:
>> -----------
>>    trunk/harbour/contrib/hbtpathy/tpunix.c
>>
>> Removed Paths:
>> -------------
>>    trunk/harbour/contrib/hbtpathy/tplinux.c
>>
>>
>> This was sent by the SourceForge.net collaborative development  
>> platform, the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From dmacias at mail.udg.mx  Mon Aug 10 08:01:26 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Aug 10 08:01:43 2009
Subject: [Harbour] Harbour under OS/2 - eCS, cross build II
Message-ID: <4A800C16.8040504@mail.udg.mx>

Maurilio:

 >David,

 >with my latest changes I can build harbour on OS/2 using GCC and make
 >(even make -j n works).

You skipped many messages  :-)
I started my tests on July 27 and posted a lot of info about behaviour 
of make and build processes, including comparative historical info

You can review messages with subject:
   "Harbour under OS/2 - eCS"

After some fixes, as summary we have:

- Harbour does not build with make376
- Harbour build with make381 - gcc335 (as in your case)
- Harbour does not build with make381 - watcom 1.8 - original watcom.cf
- Harbour build with make381 - watcom 1.8 - two changes of Przemek in 
watcom.cf, without them it fail
- Harbour cross build os2->win work with make381 and adding workarounds 
in config\ win \watcom.cf for make381 problems
- Harbour cross build win->os2 work with mingw32-make and deleting 
workarounds in conf\ os2 \watcom.cf for make381 problems

mingw32-make does not support some instructions existing in workarounds 
for os2-make381

In case of "Harbour build with make381 - watcom 1.8 - two changes of 
Przemek in watcom.cf" it show many warnings. Przemek explained it happen 
in gcc too but are ignored
To clean these warnings we added other workarounds which are not working 
as expected. We are in this point of tests

As explained in previous message, if you try OpenWatcom 1.8 in OS/2 and 
Windows you certainly will find same problems

The center of problem is behaviour of os2-make381 in different scenarios 
and we are trying to solve all of them

We should not discard OS/2 platform and/or cross build

I have checked many versions of os2-make381
Today I found another one and problems are the same

Can you send me your make.exe/files to check with them ?

I am stopped to test Harbour with gcc346, gcc404, gcc432, gcc433, gcc44 
due we rely on current make.exe(381) versions which are doing an 
uncertain work

David Macias


From gfilatov at front.ru  Mon Aug 10 08:14:31 2009
From: gfilatov at front.ru (Grigory Filatov)
Date: Mon Aug 10 08:14:37 2009
Subject: [Harbour] Warnings at Harbour BCC creating
Message-ID: <24898655.post@talk.nabble.com>


Hello All,

There are warnings at BCC Harbour build after change below:

2009-08-10 11:07 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbatomic.h
    % added architecture independent support for atomic operations and
      spinlocks in all SunOS builds

It seems that missing casting in the include\hbatomic.h at the following
lines:

   /* Spin locks */
#  if !defined( HB_SPINLOCK_T )
#     define HB_SPINLOCK_T          volatile LONG
#     define HB_SPINLOCK_INIT       0
#     define HB_SPINLOCK_ACQUIRE(l) do { \
                                       for( ;; ) \
                                       { \
                                          if( !InterlockedExchange( (LONG
*)(l), 1 ) ) \
                                             break; \
                                          if( !InterlockedExchange( (LONG
*)(l), 1 ) ) \
                                             break; \
                                          Sleep( 0 ); \
                                       } \
                                    } while(0)
#     define HB_SPINLOCK_RELEASE(l) do { *(l) = 0; } while(0)
#  endif

Please be so kind to confirm and fix this issue.

Thanks in advance!

--
Kind Regards,
Grigory Filatov
-- 
View this message in context: http://www.nabble.com/Warnings-at-Harbour-BCC-creating-tp24898655p24898655.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Mon Aug 10 08:27:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 08:27:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12031] trunk/harbour
Message-ID: <E1MaTyB-0004ti-U4@3kljzd1.ch3.sourceforge.com>

Revision: 12031
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12031&view=rev
Author:   vszakats
Date:     2009-08-10 12:27:18 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 14:22 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * tests/hbpptest/Makefile
  * tests/Makefile
  * tests/multifnc/Makefile
  * Makefile
  * external/Makefile
  * source/Makefile
  * utils/hbformat/Makefile
  * utils/hbmk2/Makefile
  * utils/hbtest/Makefile
  * utils/hbi18n/Makefile
  * utils/Makefile
  * utils/hbrun/Makefile
    % Started replacing TABs with spaces in simple variable assigments.
      TABs are only required when specifiying a rule command.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/Makefile
    trunk/harbour/external/Makefile
    trunk/harbour/source/Makefile
    trunk/harbour/tests/Makefile
    trunk/harbour/tests/hbpptest/Makefile
    trunk/harbour/tests/multifnc/Makefile
    trunk/harbour/utils/Makefile
    trunk/harbour/utils/hbformat/Makefile
    trunk/harbour/utils/hbi18n/Makefile
    trunk/harbour/utils/hbmk2/Makefile
    trunk/harbour/utils/hbrun/Makefile
    trunk/harbour/utils/hbtest/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Mon Aug 10 08:44:36 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Aug 10 08:44:49 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS, cross build II
Message-ID: <4A801634.1090006@mail.udg.mx>

Viktor:

 >Please be specific: What did I remove which broke 3.76?

I explained since first message and perhaps is necessary to add info
First problem with make376 is with "inner dir separators"

Before we fixed it with expressions like:
  OS2_LIB_ARCH = $(subst /,\\,$(LIB_ARCH))
  -CMD.EXE /C IF EXIST $(OS2_ARCH_DIR)\*.* $(RM) $(OS2_ARCH_DIR)\\*.*
which no longer exist ( note \\ )

But even if we fix "inner dir separators" problem we will be stopped by 
expressions not supported by os2make376 and applied for make381
Przemek warned you months ago

For that reasons in some of my messages I stated my posture: I am trying 
to discard os2make376 and to use only os2make381, to follow general path 
of Harbour make process
We faced many situations which we are testing

 >> "install" and "clean" stages show a lot of errors. At this moment we
 >> are trying to get a complete build of Harbour with workarounds and
 >> without problems. Then we can concentrate in "install" and "clean"

 >Please be specific. What errors?

 >All I'm seeing is very difficult to track reports and claims.
 >For me it's extremely difficult to reassemble such puzzle from
 >these bits. Maybe a complete log with a known (intact) revision
 >would tell much more.

As I said, I am dealing the basic problems to build now. Later we can 
review "install" and "clean" and for that reasons I do not posted that 
errors and logs
Maurilio has been reviewing some of them, but as I can see, he do not 
checked other cases of basic build

 >I very strongly disagree with such move. We've chosen GNU
 >Make to be the only one make system to build Harbour and we
 >must stick to this goal.

I am following it testing with os2make381 in real OS/2 system

 >You also seem to have ignored my other suggestions,
 >anyhow I'd still recommend to fix "what I broke" (possibly
 >intentionally!) regarding OS/2 GNU Make 3.76.

You and I know you did not intentionally   :-)
Just was a consequence of a lot of changes and, as you said, "blind
changes" due unavailability of platform
This explanation is a waste of time

 >  * config/readme.txt
 >    - Deleted info on OS/2 make.

I checked what you deleted and found some interesting info
- I got my os2make381 from hobbes.nmsu.edu
- You got it from os2site
- In first deleted link are a lot of info and files of os2make
- An there are files:
   MAKE-3_81-R2_LIBC063
   MAKE-3_81-R2_PMW

Reviewing info we see:
- Our current os2make381 was build with gcc 2.95.3, a very old gg in OS/2
- maintainer is Andreas Buening ( andreas.buening at nexgo.de )
- Source file are in hobbes.nmsu.edu/h-search.php?key=make-3.81-r2.zip
- In February 2009 (recently) Peter Weilbacher ( mozilla at 
weilbacher.org ) rebuilt the executable with GCC 4.3.3 and explained:
-------------------------
Because this now uses (and requires!) the newer C-Runtime library kLibc 
0.6.3 it seems to be more stable when used in a parallel setup (e.g. -j4 
as in my current Mozilla setup).

Warning: this is only a quick recompile, I did not do any serious testing!
-------------------------

Obviously I checked Harbour-Watcom without two changes of Przemek with 
this new os2make381

Error was the same, at least in this case:
------------------------------------
[E:\harbour907e\harbour]make -r            1>make_ow.log
make[3]: *** [hbrtl.lib] Segmentation fault (core dumped)
make[2]: *** [descend] Error 2
make[1]: *** [rtl] Error 2
make: *** [source] Error 2
------------------------------------

Przemek:
- having the sources and possibility to rebuild os2make381, have some 
benefit ?
- The problem is with os2make381, and/or OS/2 command shell (CMD.exe) ? 
If later, can we use other ?
- Is any other kind of environment limit (command line size, 
environment, ... ) ?
- I think if you get contact with Andreas Buening to exchange info about 
these problems can help us to understand/solve them


David Macias


From vszakats at users.sourceforge.net  Mon Aug 10 08:48:49 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 08:48:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12032] trunk/harbour
Message-ID: <E1MaUIz-0005Lq-S8@3kljzd1.ch3.sourceforge.com>

Revision: 12032
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12032&view=rev
Author:   vszakats
Date:     2009-08-10 12:48:47 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 14:47 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * doc/en-EN/Makefile
  * doc/Makefile
  * include/Makefile
  * contrib/gtalleg/Makefile
  * contrib/hbmysql/Makefile
  * contrib/hbct/Makefile
  * contrib/xhb/Makefile
  * contrib/hbodbc/Makefile
  * contrib/hbtpathy/Makefile
  * contrib/hbgt/Makefile
  * contrib/hbmzip/Makefile
  * contrib/hbsqlit3/Makefile
  * contrib/hbblat/Makefile
  * contrib/hbqt/generator/hbqtgen.prg
  * contrib/hbqt/Makefile_gen
  * contrib/hbfbird/Makefile
  * contrib/hbziparc/Makefile
  * contrib/hbxbp/Makefile
  * contrib/xpp/Makefile
  * contrib/hbnf/Makefile
  * contrib/Makefile
  * contrib/hbcurl/hbcurls/Makefile
  * contrib/hbcurl/Makefile
  * contrib/gtqtc/Makefile
  * contrib/rddsql/sddmy/Makefile
  * contrib/rddsql/sddpg/Makefile
  * contrib/rddsql/sddfb/Makefile
  * contrib/rddsql/sddodbc/Makefile
  * contrib/rddsql/Makefile
  * contrib/hbhpdf/Makefile
  * contrib/rddado/Makefile
  * contrib/gtwvg/Makefile
  * contrib/hbpgsql/Makefile
  * contrib/hbclipsm/Makefile
  * contrib/rddads/Makefile
  * contrib/hbfimage/Makefile
  * contrib/hbgd/Makefile
  * contrib/hbmisc/Makefile
  * contrib/hbtip/Makefile
  * contrib/hbwin/Makefile
  * contrib/hbbmcdx/Makefile
  * contrib/hbvpdf/Makefile
  * contrib/hbssl/Makefile
  * contrib/hbbtree/Makefile
  * source/pp/Makefile
  * source/hbextern/Makefile
  * source/lang/Makefile
  * source/vm/maindllh/Makefile
  * source/vm/mainstd/Makefile
  * source/vm/maindllp/Makefile
  * source/vm/Makefile
  * source/vm/vmmt/Makefile
  * source/vm/mainwin/Makefile
  * source/main/Makefile
  * source/debug/Makefile
  * source/common/Makefile
  * source/nortl/Makefile
  * source/rtl/gtdos/Makefile
  * source/rtl/gtwin/Makefile
  * source/rtl/gtxwc/Makefile
  * source/rtl/gtcrs/Makefile
  * source/rtl/gtstd/Makefile
  * source/rtl/gttrm/Makefile
  * source/rtl/Makefile
  * source/rtl/gtcgi/Makefile
  * source/rtl/gtos2/Makefile
  * source/rtl/gtsln/Makefile
  * source/rtl/gtpca/Makefile
  * source/rtl/gtgui/Makefile
  * source/rtl/gt_tpl/Makefile
  * source/rtl/gtwvt/Makefile
  * source/macro/Makefile
  * source/hbpcre/Makefile
  * source/codepage/Makefile
  * source/rdd/dbfntx/Makefile
  * source/rdd/nulsys/Makefile
  * source/rdd/Makefile
  * source/rdd/dbfnsx/Makefile
  * source/rdd/dbfcdx/Makefile
  * source/rdd/hsx/Makefile
  * source/rdd/usrrdd/rdds/Makefile
  * source/rdd/usrrdd/Makefile
  * source/rdd/dbffpt/Makefile
  * source/rdd/hbsix/Makefile
  * source/hbzlib/Makefile
  * source/compiler/Makefile
    * Finished replacing TABs with spaces in simple variable assigments.
      TABs are only required when specifiying a rule command.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/Makefile
    trunk/harbour/contrib/gtalleg/Makefile
    trunk/harbour/contrib/gtqtc/Makefile
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/hbblat/Makefile
    trunk/harbour/contrib/hbbmcdx/Makefile
    trunk/harbour/contrib/hbbtree/Makefile
    trunk/harbour/contrib/hbclipsm/Makefile
    trunk/harbour/contrib/hbct/Makefile
    trunk/harbour/contrib/hbcurl/Makefile
    trunk/harbour/contrib/hbcurl/hbcurls/Makefile
    trunk/harbour/contrib/hbfbird/Makefile
    trunk/harbour/contrib/hbfimage/Makefile
    trunk/harbour/contrib/hbgd/Makefile
    trunk/harbour/contrib/hbgt/Makefile
    trunk/harbour/contrib/hbhpdf/Makefile
    trunk/harbour/contrib/hbmisc/Makefile
    trunk/harbour/contrib/hbmysql/Makefile
    trunk/harbour/contrib/hbmzip/Makefile
    trunk/harbour/contrib/hbnf/Makefile
    trunk/harbour/contrib/hbodbc/Makefile
    trunk/harbour/contrib/hbpgsql/Makefile
    trunk/harbour/contrib/hbqt/Makefile_gen
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbsqlit3/Makefile
    trunk/harbour/contrib/hbssl/Makefile
    trunk/harbour/contrib/hbtip/Makefile
    trunk/harbour/contrib/hbtpathy/Makefile
    trunk/harbour/contrib/hbvpdf/Makefile
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbxbp/Makefile
    trunk/harbour/contrib/hbziparc/Makefile
    trunk/harbour/contrib/rddado/Makefile
    trunk/harbour/contrib/rddads/Makefile
    trunk/harbour/contrib/rddsql/Makefile
    trunk/harbour/contrib/rddsql/sddfb/Makefile
    trunk/harbour/contrib/rddsql/sddmy/Makefile
    trunk/harbour/contrib/rddsql/sddodbc/Makefile
    trunk/harbour/contrib/rddsql/sddpg/Makefile
    trunk/harbour/contrib/xhb/Makefile
    trunk/harbour/contrib/xpp/Makefile
    trunk/harbour/doc/Makefile
    trunk/harbour/doc/en-EN/Makefile
    trunk/harbour/include/Makefile
    trunk/harbour/source/codepage/Makefile
    trunk/harbour/source/common/Makefile
    trunk/harbour/source/compiler/Makefile
    trunk/harbour/source/debug/Makefile
    trunk/harbour/source/hbextern/Makefile
    trunk/harbour/source/hbpcre/Makefile
    trunk/harbour/source/hbzlib/Makefile
    trunk/harbour/source/lang/Makefile
    trunk/harbour/source/macro/Makefile
    trunk/harbour/source/main/Makefile
    trunk/harbour/source/nortl/Makefile
    trunk/harbour/source/pp/Makefile
    trunk/harbour/source/rdd/Makefile
    trunk/harbour/source/rdd/dbfcdx/Makefile
    trunk/harbour/source/rdd/dbffpt/Makefile
    trunk/harbour/source/rdd/dbfnsx/Makefile
    trunk/harbour/source/rdd/dbfntx/Makefile
    trunk/harbour/source/rdd/hbsix/Makefile
    trunk/harbour/source/rdd/hsx/Makefile
    trunk/harbour/source/rdd/nulsys/Makefile
    trunk/harbour/source/rdd/usrrdd/Makefile
    trunk/harbour/source/rdd/usrrdd/rdds/Makefile
    trunk/harbour/source/rtl/Makefile
    trunk/harbour/source/rtl/gt_tpl/Makefile
    trunk/harbour/source/rtl/gtcgi/Makefile
    trunk/harbour/source/rtl/gtcrs/Makefile
    trunk/harbour/source/rtl/gtdos/Makefile
    trunk/harbour/source/rtl/gtgui/Makefile
    trunk/harbour/source/rtl/gtos2/Makefile
    trunk/harbour/source/rtl/gtpca/Makefile
    trunk/harbour/source/rtl/gtsln/Makefile
    trunk/harbour/source/rtl/gtstd/Makefile
    trunk/harbour/source/rtl/gttrm/Makefile
    trunk/harbour/source/rtl/gtwin/Makefile
    trunk/harbour/source/rtl/gtwvt/Makefile
    trunk/harbour/source/rtl/gtxwc/Makefile
    trunk/harbour/source/vm/Makefile
    trunk/harbour/source/vm/maindllh/Makefile
    trunk/harbour/source/vm/maindllp/Makefile
    trunk/harbour/source/vm/mainstd/Makefile
    trunk/harbour/source/vm/mainwin/Makefile
    trunk/harbour/source/vm/vmmt/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Mon Aug 10 08:51:27 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Aug 10 08:51:32 2009
Subject: [Harbour] About hbextern...
In-Reply-To: <609353e70907281417u29e9f2a4ta61cacc4247895e@mail.gmail.com>
References: <531d7a750907080646j113a88b1qa80b3ba56a9200d6@mail.gmail.com>
	<B27BFFE0-E975-409C-8993-C742EF3AC213@syenar.hu>
	<531d7a750907080737i7fda6914x1d216b3f4362ca6e@mail.gmail.com>
	<F2D088F9-C75A-448C-8813-DE12691F0BEB@syenar.hu>
	<609353e70907281417u29e9f2a4ta61cacc4247895e@mail.gmail.com>
Message-ID: <531d7a750908100551j50c2bda4kdab12ace54b0ee5c@mail.gmail.com>

Hi!

I would tell the group that after intense work, we are almost
finalizing the structure for documentation of the functions of the
project. Starting from the idea of using text files, I build a tool
to help me document the functions, commands, monitor files and
routines receiving updates directly from SVN.

I'm working over the format of hbdoc. I no more talking with April
White about her improved version of hbdoc2, but I believe we can adapt
the result to a better format if appropriate.

Comming soon I show more results.

Best Regards,
Vailton Renato
From mbelgrano at deltain.it  Mon Aug 10 09:05:31 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Aug 10 09:05:58 2009
Subject: [Harbour] About hbextern...
In-Reply-To: <531d7a750908100551j50c2bda4kdab12ace54b0ee5c@mail.gmail.com>
References: <531d7a750907080646j113a88b1qa80b3ba56a9200d6@mail.gmail.com> 
	<B27BFFE0-E975-409C-8993-C742EF3AC213@syenar.hu>
	<531d7a750907080737i7fda6914x1d216b3f4362ca6e@mail.gmail.com> 
	<F2D088F9-C75A-448C-8813-DE12691F0BEB@syenar.hu>
	<609353e70907281417u29e9f2a4ta61cacc4247895e@mail.gmail.com> 
	<531d7a750908100551j50c2bda4kdab12ace54b0ee5c@mail.gmail.com>
Message-ID: <609353e70908100605m681f8717uda6239fb3540b4c8@mail.gmail.com>

Very good news

2009/8/10 Vailton Renato <vailtom@gmail.com>:
> Hi!
>
> I would tell the group that after intense work, we are almost
> finalizing the structure for documentation of the functions of the
> project. Starting from the idea of using text files, I build a tool
> to help me document the functions, commands, monitor files and
> routines receiving updates directly from SVN.
>
> I'm working over the format of hbdoc. I no more talking with April
> White about her improved version of hbdoc2, but I believe we can adapt
> the result to a better format if appropriate.
>
> Comming soon I show more results.
>
> Best Regards,
> Vailton Renato
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Mon Aug 10 09:11:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 09:11:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12033] trunk/harbour
Message-ID: <E1MaUey-0005rx-8i@3kljzd1.ch3.sourceforge.com>

Revision: 12033
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12033&view=rev
Author:   vszakats
Date:     2009-08-10 13:11:31 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 15:09 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * external/sqlite3/Makefile
  * external/libhpdf/Makefile
  * external/libpng/Makefile
  * config/global.cf
    * Remaining TABs deleted.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf
    trunk/harbour/external/libhpdf/Makefile
    trunk/harbour/external/libpng/Makefile
    trunk/harbour/external/sqlite3/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 10 09:29:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 09:29:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12034] trunk/harbour
Message-ID: <E1MaUwP-0006Nx-8K@3kljzd1.ch3.sourceforge.com>

Revision: 12034
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12034&view=rev
Author:   vszakats
Date:     2009-08-10 13:29:32 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 15:28 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * tests/hbpptest/Makefile
  * tests/Makefile
  * utils/hbformat/Makefile
  * utils/hbtest/Makefile
    * Trying to lessen the number of combinations + sync core lib
      lists in Makefiles.
      These are currently used combinations in Harbour:
      ---
                                             hbextern
      hbdebug      hbdebug      hbdebug      hbdebug      hbdebug
      hbvm         hbvm         hbvm         hbvm         hbvmmt
      hbrtl        hbrtl        hbrtl        hbrtl        hbrtl
      hblang       hblang       hblang       hblang       hblang
      hbcpage      hbcpage      hbcpage      hbcpage      hbcpage
      hbrdd        hbrdd        hbnulrdd     hbrdd        hbnulrdd
      hbrtl        hbrtl        hbrtl        hbrtl        hbrtl
      hbvm         hbvm         hbvm         hbvm         hbvmmt
      hbmacro      hbmacro      hbmacro      hbmacro      hbmacro
                                             hbcplr       hbcplr
      hbpp         hbpp                      hbpp         hbpp
      hbcommon     hbcommon     hbcommon     hbcommon     hbcommon
                   hbpcre
      ---

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/tests/Makefile
    trunk/harbour/tests/hbpptest/Makefile
    trunk/harbour/utils/hbformat/Makefile
    trunk/harbour/utils/hbtest/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 10 09:59:30 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 09:59:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12035] trunk/harbour
Message-ID: <E1MaVPO-0008MF-Ve@74yxhf1.ch3.sourceforge.com>

Revision: 12035
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12035&view=rev
Author:   vszakats
Date:     2009-08-10 13:59:29 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 15:28 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dirsh.cf
    trunk/harbour/config/instsh.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Mon Aug 10 10:06:14 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Aug 10 10:06:21 2009
Subject: [Harbour] Warnings
Message-ID: <D7B505C868F4486B821B87E3221C29D0@emag>

Warning W8075 ../../../../garbage.c 220: Suspicious pointer conversion in 
function hb_gcAlloc
Warning W8075 ../../../../garbage.c 220: Suspicious pointer conversion in 
function hb_gcAlloc
Warning W8075 ../../../../garbage.c 249: Suspicious pointer conversion in 
function hb_gcFree
Warning W8075 ../../../../garbage.c 249: Suspicious pointer conversion in 
function hb_gcFree
Warning W8075 ../../../../garbage.c 307: Suspicious pointer conversion in 
function hb_gcRefFree
Warning W8075 ../../../../garbage.c 307: Suspicious pointer conversion in 
function hb_gcRefFree
Warning W8075 ../../../../garbage.c 357: Suspicious pointer conversion in 
function hb_gcRefCheck
Warning W8075 ../../../../garbage.c 357: Suspicious pointer conversion in 
function hb_gcRefCheck
Warning W8075 ../../../../garbage.c 393: Suspicious pointer conversion in 
function hb_gcGripGet
Warning W8075 ../../../../garbage.c 393: Suspicious pointer conversion in 
function hb_gcGripGet
Warning W8075 ../../../../garbage.c 415: Suspicious pointer conversion in 
function hb_gcGripDrop
Warning W8075 ../../../../garbage.c 415: Suspicious pointer conversion in 
function hb_gcGripDrop
Warning W8075 ../../../../garbage.c 432: Suspicious pointer conversion in 
function hb_gcLock
Warning W8075 ../../../../garbage.c 432: Suspicious pointer conversion in 
function hb_gcLock
Warning W8075 ../../../../garbage.c 455: Suspicious pointer conversion in 
function hb_gcUnlock
Warning W8075 ../../../../garbage.c 455: Suspicious pointer conversion in 
function hb_gcUnlock
Warning W8075 ../../../../garbage.c 600: Suspicious pointer conversion in 
function hb_gcRegisterSweep
Warning W8075 ../../../../garbage.c 600: Suspicious pointer conversion in 
function hb_gcRegisterSweep
Warning W8075 ../../../../garbage.c 614: Suspicious pointer conversion in 
function hb_gcUnregisterSweep
Warning W8075 ../../../../garbage.c 614: Suspicious pointer conversion in 
function hb_gcUnregisterSweep
Warning W8075 ../../../../garbage.c 800: Suspicious pointer conversion in 
function hb_gcCollectAll
Warning W8075 ../../../../garbage.c 800: Suspicious pointer conversion in 
function hb_gcCollectAll

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From antonioc_silva at msn.com  Mon Aug 10 10:37:03 2009
From: antonioc_silva at msn.com (Antonio Carlos)
Date: Mon Aug 10 10:37:46 2009
Subject: [Harbour] About hbextern...
In-Reply-To: <531d7a750908100551j50c2bda4kdab12ace54b0ee5c@mail.gmail.com>
References: <531d7a750907080646j113a88b1qa80b3ba56a9200d6@mail.gmail.com>
	<B27BFFE0-E975-409C-8993-C742EF3AC213@syenar.hu>
	<531d7a750907080737i7fda6914x1d216b3f4362ca6e@mail.gmail.com>
	<F2D088F9-C75A-448C-8813-DE12691F0BEB@syenar.hu>
	<609353e70907281417u29e9f2a4ta61cacc4247895e@mail.gmail.com> 
	<531d7a750908100551j50c2bda4kdab12ace54b0ee5c@mail.gmail.com>
Message-ID: <COL122-W19275FA7473F4175C7DC89E4060@phx.gbl>


Hello, 

If somehow I can help on something, I would do it. 

Regards 
Antonio Carlos 


 
> Date: Mon, 10 Aug 2009 09:51:27 -0300
> Subject: Re: [Harbour] About hbextern...
> From: vailtom@gmail.com
> To: harbour@harbour-project.org
> 
> Hi!
> 
> I would tell the group that after intense work, we are almost
> finalizing the structure for documentation of the functions of the
> project. Starting from the idea of using text files, I build a tool
> to help me document the functions, commands, monitor files and
> routines receiving updates directly from SVN.
> 
> I'm working over the format of hbdoc. I no more talking with April
> White about her improved version of hbdoc2, but I believe we can adapt
> the result to a better format if appropriate.
> 
> Comming soon I show more results.
> 
> Best Regards,
> Vailton Renato
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_________________________________________________________________
Conhe?a os novos produtos Windows Live! Clique aqui.
http://www.windowslive.com.br
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090810/ff635ef5/attachment.html
From harbour.01 at syenar.hu  Mon Aug 10 10:48:50 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 10 10:48:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12021] trunk/harbour
In-Reply-To: <E1MaIrk-0007iI-Dy@3kljzd1.ch3.sourceforge.com>
References: <E1MaIrk-0007iI-Dy@3kljzd1.ch3.sourceforge.com>
Message-ID: <59FDE07A-EAA1-494A-B0F8-0EA84C8C375A@syenar.hu>

../../../../../bin/darwin/gcc/harbour ../../../xbpbrowse.prg -n1 - 
i../../../../../include -q0 -w3 -es2 -kmo -l -gc0  -I../../../../../ 
contrib/hbqt
../../../xbpbrowse.prg(1205) Warning W0001  Ambiguous reference  
'QHEADERVIEW_INTERACTIVE'
../../../xbpbrowse.prg(1205) Warning W0001  Ambiguous reference  
'QHEADERVIEW_FIXED'
../../../xbpbrowse.prg(1220) Warning W0001  Ambiguous reference  
'QHEADERVIEW_STRETCH'
../../../xbpbrowse.prg(1222) Warning W0001  Ambiguous reference  
'QHEADERVIEW_INTERACTIVE'
../../../xbpbrowse.prg(1222) Warning W0001  Ambiguous reference  
'QHEADERVIEW_FIXED'

Looks like a casing problem.

Brgds,
Viktor

On 2009.08.10., at 2:35, vouchcac@users.sourceforge.net wrote:

> Revision: 12021
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12021&view=rev
> Author:   vouchcac
> Date:     2009-08-10 00:35:55 +0000 (Mon, 10 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-09 17:35 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbqt/hbqt_slots.cpp
>  * contrib/hbxbp/xbpbrowse.prg
>    ! Improved speed. Reported by Viktor.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
>    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Mon Aug 10 10:53:54 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Aug 10 10:54:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12021] trunk/harbour
In-Reply-To: <59FDE07A-EAA1-494A-B0F8-0EA84C8C375A@syenar.hu>
References: <E1MaIrk-0007iI-Dy@3kljzd1.ch3.sourceforge.com>
	<59FDE07A-EAA1-494A-B0F8-0EA84C8C375A@syenar.hu>
Message-ID: <24901201.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> ../../../../../bin/darwin/gcc/harbour ../../../xbpbrowse.prg -n1 - 
> i../../../../../include -q0 -w3 -es2 -kmo -l -gc0  -I../../../../../ 
> contrib/hbqt
> ../../../xbpbrowse.prg(1205) Warning W0001  Ambiguous reference  
> 'QHEADERVIEW_INTERACTIVE'
> ../../../xbpbrowse.prg(1205) Warning W0001  Ambiguous reference  
> 'QHEADERVIEW_FIXED'
> ../../../xbpbrowse.prg(1220) Warning W0001  Ambiguous reference  
> 'QHEADERVIEW_STRETCH'
> ../../../xbpbrowse.prg(1222) Warning W0001  Ambiguous reference  
> 'QHEADERVIEW_INTERACTIVE'
> ../../../xbpbrowse.prg(1222) Warning W0001  Ambiguous reference  
> 'QHEADERVIEW_FIXED'
> 
> Looks like a casing problem.
> 

No, these are constants only from hbqt.ch.
Are you compiling with updated hbqt.ch ?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12021--trunk-harbour-tp24892857p24901201.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Aug 10 11:11:33 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 10 11:11:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12021] trunk/harbour
In-Reply-To: <24901201.post@talk.nabble.com>
References: <E1MaIrk-0007iI-Dy@3kljzd1.ch3.sourceforge.com>
	<59FDE07A-EAA1-494A-B0F8-0EA84C8C375A@syenar.hu>
	<24901201.post@talk.nabble.com>
Message-ID: <0ABB6E26-7B75-4FB3-B2CE-439A2784B618@syenar.hu>

True. hbqt.ch wasn't refreshed in central include file,
despite install runs and all that.

I'll try to find some solution in the make system for
this problem. It's not healthy that 'install' is required
to create successful builds hbxbp (or any other inter-dependent
contribs).

Brgds,
Viktor

On 2009.08.10., at 4:53, Pritpal Bedi wrote:

>
> Hi
>
>
> Viktor Szak?ts wrote:
>>
>> ../../../../../bin/darwin/gcc/harbour ../../../xbpbrowse.prg -n1 -
>> i../../../../../include -q0 -w3 -es2 -kmo -l -gc0  -I../../../../../
>> contrib/hbqt
>> ../../../xbpbrowse.prg(1205) Warning W0001  Ambiguous reference
>> 'QHEADERVIEW_INTERACTIVE'
>> ../../../xbpbrowse.prg(1205) Warning W0001  Ambiguous reference
>> 'QHEADERVIEW_FIXED'
>> ../../../xbpbrowse.prg(1220) Warning W0001  Ambiguous reference
>> 'QHEADERVIEW_STRETCH'
>> ../../../xbpbrowse.prg(1222) Warning W0001  Ambiguous reference
>> 'QHEADERVIEW_INTERACTIVE'
>> ../../../xbpbrowse.prg(1222) Warning W0001  Ambiguous reference
>> 'QHEADERVIEW_FIXED'
>>
>> Looks like a casing problem.
>>
>
> No, these are constants only from hbqt.ch.
> Are you compiling with updated hbqt.ch ?
>
> Regards
> Pritpal Bedi
>
> -- 
> View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12021--trunk-harbour-tp24892857p24901201.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From cvc at oohg.org  Mon Aug 10 11:14:03 2009
From: cvc at oohg.org (Ciro Vargas C)
Date: Mon Aug 10 11:14:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12021] trunk/harbour
In-Reply-To: <0ABB6E26-7B75-4FB3-B2CE-439A2784B618@syenar.hu>
References: <E1MaIrk-0007iI-Dy@3kljzd1.ch3.sourceforge.com>
	<59FDE07A-EAA1-494A-B0F8-0EA84C8C375A@syenar.hu>
	<24901201.post@talk.nabble.com>
	<0ABB6E26-7B75-4FB3-B2CE-439A2784B618@syenar.hu>
Message-ID: <d6500b450908100814l7d785bafo2b56f0db8e89272d@mail.gmail.com>

I have the same problem with include files FMG in oohg.

best regards
Ciro

2009/8/10 Viktor Szak?ts <harbour.01@syenar.hu>:
> True. hbqt.ch wasn't refreshed in central include file,
> despite install runs and all that.
>
> I'll try to find some solution in the make system for
> this problem. It's not healthy that 'install' is required
> to create successful builds hbxbp (or any other inter-dependent
> contribs).
>
> Brgds,
> Viktor
>
> On 2009.08.10., at 4:53, Pritpal Bedi wrote:
>
>>
>> Hi
>>
>>
>> Viktor Szak?ts wrote:
>>>
>>> ../../../../../bin/darwin/gcc/harbour ../../../xbpbrowse.prg -n1 -
>>> i../../../../../include -q0 -w3 -es2 -kmo -l -gc0 ?-I../../../../../
>>> contrib/hbqt
>>> ../../../xbpbrowse.prg(1205) Warning W0001 ?Ambiguous reference
>>> 'QHEADERVIEW_INTERACTIVE'
>>> ../../../xbpbrowse.prg(1205) Warning W0001 ?Ambiguous reference
>>> 'QHEADERVIEW_FIXED'
>>> ../../../xbpbrowse.prg(1220) Warning W0001 ?Ambiguous reference
>>> 'QHEADERVIEW_STRETCH'
>>> ../../../xbpbrowse.prg(1222) Warning W0001 ?Ambiguous reference
>>> 'QHEADERVIEW_INTERACTIVE'
>>> ../../../xbpbrowse.prg(1222) Warning W0001 ?Ambiguous reference
>>> 'QHEADERVIEW_FIXED'
>>>
>>> Looks like a casing problem.
>>>
>>
>> No, these are constants only from hbqt.ch.
>> Are you compiling with updated hbqt.ch ?
>>
>> Regards
>> Pritpal Bedi
>>
>> --
>> View this message in context:
>> http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12021--trunk-harbour-tp24892857p24901201.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
http://www.oohg.prg
http://sistemascvc.tripod.com

donaciones para CVC de ooHG

https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
From vszakats at users.sourceforge.net  Mon Aug 10 11:27:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 11:27:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12036] trunk/harbour
Message-ID: <E1MaWmA-00048b-5s@d5vjzd1.ch3.sourceforge.com>

Revision: 12036
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12036&view=rev
Author:   vszakats
Date:     2009-08-10 15:27:05 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 17:23 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtpathy/telepath.prg
    ! Fixed forming default COM port names on Windows NT
      systems. (I didn't test Win9x, but I assume they work
      like DOS regarding this aspect).

  * contrib/hbxbp/Makefile
  * contrib/gtwvg/Makefile
    ! Using HB_INC_DEPEND instead of modifying HB_USER_PRGFLAGS
      and HB_USER_CFLAGS. Old solution wasn't good because the
      new include dirs were added after central ones, so central
      ones effectively masked them and wrong headers could be
      picked through the build.

  * config/rules.cf
    + Added HB_INC_DEPEND variable to store dirs which should
      be included before central include dir.

  * config/global.cf
    * Small change in predefined HB_BUILD_NAMEs. Unicode 'u'
      marker moved to end, C++ marked changed to 'p' (from 'x').

  * contrib/rddado/rddado.hbc
  * contrib/gtwvg/gtwvg.hbc
    * Slash sync with other .hbc files. (forward slash is used)

  * config/dos/watcom.cf
    % Minor opt in operator.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/rules.cf
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/gtwvg/gtwvg.hbc
    trunk/harbour/contrib/hbtpathy/telepath.prg
    trunk/harbour/contrib/hbxbp/Makefile
    trunk/harbour/contrib/rddado/rddado.hbc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From xmessoft at gmail.com  Mon Aug 10 11:38:14 2009
From: xmessoft at gmail.com (Manu)
Date: Mon Aug 10 11:38:20 2009
Subject: [Harbour] Error last version harbour
Message-ID: <4A803EE6.6000606@gmail.com>

Este es el error:

mingw32-make[3]: Leaving directory `c:/HBR/source/pp/obj/win/bcc'
C:\WINDOWS\system32\cmd.exe /Cif not exist "c:\harbour\SVN\bcc\bin" 
mkdir "c:\harbour\SVN\bcc\bin" & for %%f in (..\..\bin\win\bcc\hbpp.exe) 
do copy "%%f" "c:\harbour\SVN\bcc\bin"
        1 archivos copiados.
C:\WINDOWS\system32\cmd.exe /Cif not exist 
"c:\harbour\SVN\bcc\lib\win\bcc" mkdir "c:\harbour\SVN\bcc\lib\win\bcc" 
& for %%f in (..\..\lib\win\bcc\hbpp.lib) do copy "%%f" 
"c:\harbour\SVN\bcc\lib\win\bcc"
        1 archivos copiados.
mingw32-make[2]: Leaving directory `c:/HBR/source/pp'
"c:/HBR/config/mingw32-make" -C compiler install _HB_BLD=yes
mingw32-make[2]: Entering directory `c:/HBR/source/compiler'
mingw32-make[3]: Entering directory `c:/HBR/source/compiler/obj/win/bcc'
bison -d  -oharboury.c ../../../harbour.y
mingw32-make[3]: Leaving directory `c:/HBR/source/compiler/obj/win/bcc'
mingw32-make[2]: Leaving directory `c:/HBR/source/compiler'
mingw32-make[1]: Leaving directory `c:/HBR/source'
Harbour GNU Make returned: 2

From vszakats at users.sourceforge.net  Mon Aug 10 11:44:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 11:44:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12037] trunk/harbour
Message-ID: <E1MaX32-0004m7-D4@d5vjzd1.ch3.sourceforge.com>

Revision: 12037
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12037&view=rev
Author:   vszakats
Date:     2009-08-10 15:44:31 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 17:44 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/none.cf
  * config/global.cf
  * config/instsh.cf
  * config/dirsh.cf
    * Prefixed all Harbour initiated screen messages with '! '.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dirsh.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/instsh.cf
    trunk/harbour/config/none.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Mon Aug 10 11:57:59 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Aug 10 11:58:06 2009
Subject: [Harbour] ORDWILDSEEK() exist in harbour ?
Message-ID: <133778360908100857o2c201c9eua0f4e4c48b983c34@mail.gmail.com>

This function exist in harbour  ?

ORDWILDSEEK()

Thanks in advance

Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090810/dc6dcb0e/attachment.html
From harbour.01 at syenar.hu  Mon Aug 10 12:17:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 10 12:17:19 2009
Subject: [Harbour] Error last version harbour
In-Reply-To: <4A803EE6.6000606@gmail.com>
References: <4A803EE6.6000606@gmail.com>
Message-ID: <827D7722-AFDA-4B6E-B4E6-92D2CD710BDC@syenar.hu>

The error message is missing from your post.

You try to build with HB_REBUILD_PARSER=yes, and in this
case bison needs to be properly configured, which can
be tricky on Windows. I can't help you further as it's
been years I've tried this scenario.

Brgds,
Viktor

On 2009.08.10., at 5:38, Manu wrote:

> Este es el error:
>
> mingw32-make[3]: Leaving directory `c:/HBR/source/pp/obj/win/bcc'
> C:\WINDOWS\system32\cmd.exe /Cif not exist "c:\harbour\SVN\bcc\bin"  
> mkdir "c:\harbour\SVN\bcc\bin" & for %%f in (..\..\bin\win\bcc 
> \hbpp.exe) do copy "%%f" "c:\harbour\SVN\bcc\bin"
>       1 archivos copiados.
> C:\WINDOWS\system32\cmd.exe /Cif not exist "c:\harbour\SVN\bcc\lib 
> \win\bcc" mkdir "c:\harbour\SVN\bcc\lib\win\bcc" & for %%f in (..\.. 
> \lib\win\bcc\hbpp.lib) do copy "%%f" "c:\harbour\SVN\bcc\lib\win\bcc"
>       1 archivos copiados.
> mingw32-make[2]: Leaving directory `c:/HBR/source/pp'
> "c:/HBR/config/mingw32-make" -C compiler install _HB_BLD=yes
> mingw32-make[2]: Entering directory `c:/HBR/source/compiler'
> mingw32-make[3]: Entering directory `c:/HBR/source/compiler/obj/win/ 
> bcc'
> bison -d  -oharboury.c ../../../harbour.y
> mingw32-make[3]: Leaving directory `c:/HBR/source/compiler/obj/win/ 
> bcc'
> mingw32-make[2]: Leaving directory `c:/HBR/source/compiler'
> mingw32-make[1]: Leaving directory `c:/HBR/source'
> Harbour GNU Make returned: 2
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From gfilatov at front.ru  Mon Aug 10 13:46:14 2009
From: gfilatov at front.ru (Grigory Filatov)
Date: Mon Aug 10 13:46:19 2009
Subject: [Harbour] Warnings
In-Reply-To: <D7B505C868F4486B821B87E3221C29D0@emag>
References: <D7B505C868F4486B821B87E3221C29D0@emag>
Message-ID: <24904213.post@talk.nabble.com>


Hi Enrico Maria,

I confirm these warnings too. :-(

It seems that missing casting in the include\hbatomic.h.

Try to change the following lines:

/* Spin locks */ 
#  if !defined( HB_SPINLOCK_T ) 
#     define HB_SPINLOCK_T          volatile LONG 
#     define HB_SPINLOCK_INIT       0 
#     define HB_SPINLOCK_ACQUIRE(l) do { \ 
                                       for( ;; ) \ 
                                       { \ 
                                          if( !InterlockedExchange( (LONG
*)(l), 1 ) ) \ 
                                             break; \ 
                                          if( !InterlockedExchange( (LONG
*)(l), 1 ) ) \ 
                                             break; \ 
                                          Sleep( 0 ); \ 
                                       } \ 
                                    } while(0) 
#     define HB_SPINLOCK_RELEASE(l) do { *(l) = 0; } while(0) 
#  endif 

I hope that helps.

--
Regards,
Grigory Filatov


Enrico Maria Giordano wrote:
> 
> Warning W8075 ../../../../garbage.c 220: Suspicious pointer conversion in 
> function hb_gcAlloc
> Warning W8075 ../../../../garbage.c 220: Suspicious pointer conversion in 
> function hb_gcAlloc
> Warning W8075 ../../../../garbage.c 249: Suspicious pointer conversion in 
> function hb_gcFree
> Warning W8075 ../../../../garbage.c 249: Suspicious pointer conversion in 
> function hb_gcFree
> Warning W8075 ../../../../garbage.c 307: Suspicious pointer conversion in 
> function hb_gcRefFree
> Warning W8075 ../../../../garbage.c 307: Suspicious pointer conversion in 
> function hb_gcRefFree
> Warning W8075 ../../../../garbage.c 357: Suspicious pointer conversion in 
> function hb_gcRefCheck
> Warning W8075 ../../../../garbage.c 357: Suspicious pointer conversion in 
> function hb_gcRefCheck
> Warning W8075 ../../../../garbage.c 393: Suspicious pointer conversion in 
> function hb_gcGripGet
> Warning W8075 ../../../../garbage.c 393: Suspicious pointer conversion in 
> function hb_gcGripGet
> Warning W8075 ../../../../garbage.c 415: Suspicious pointer conversion in 
> function hb_gcGripDrop
> Warning W8075 ../../../../garbage.c 415: Suspicious pointer conversion in 
> function hb_gcGripDrop
> Warning W8075 ../../../../garbage.c 432: Suspicious pointer conversion in 
> function hb_gcLock
> Warning W8075 ../../../../garbage.c 432: Suspicious pointer conversion in 
> function hb_gcLock
> Warning W8075 ../../../../garbage.c 455: Suspicious pointer conversion in 
> function hb_gcUnlock
> Warning W8075 ../../../../garbage.c 455: Suspicious pointer conversion in 
> function hb_gcUnlock
> Warning W8075 ../../../../garbage.c 600: Suspicious pointer conversion in 
> function hb_gcRegisterSweep
> Warning W8075 ../../../../garbage.c 600: Suspicious pointer conversion in 
> function hb_gcRegisterSweep
> Warning W8075 ../../../../garbage.c 614: Suspicious pointer conversion in 
> function hb_gcUnregisterSweep
> Warning W8075 ../../../../garbage.c 614: Suspicious pointer conversion in 
> function hb_gcUnregisterSweep
> Warning W8075 ../../../../garbage.c 800: Suspicious pointer conversion in 
> function hb_gcCollectAll
> Warning W8075 ../../../../garbage.c 800: Suspicious pointer conversion in 
> function hb_gcCollectAll
> 
> EMG
> 
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic 
> 
> 

-- 
View this message in context: http://www.nabble.com/Warnings-tp24900439p24904213.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From xmessoft at gmail.com  Mon Aug 10 14:50:54 2009
From: xmessoft at gmail.com (Manu)
Date: Mon Aug 10 14:51:02 2009
Subject: [Harbour] Error last version harbour
In-Reply-To: <827D7722-AFDA-4B6E-B4E6-92D2CD710BDC@syenar.hu>
References: <4A803EE6.6000606@gmail.com>
	<827D7722-AFDA-4B6E-B4E6-92D2CD710BDC@syenar.hu>
Message-ID: <4A806C0E.1090403@gmail.com>

Gacias Viktor.
La versi?n de bison que uso es bison 2.4.1, puede que ese sea el problema.
Se van a hacer los cambios para que funcione?

Viktor Szak?ts escribi?:
> The error message is missing from your post.
>
> You try to build with HB_REBUILD_PARSER=yes, and in this
> case bison needs to be properly configured, which can
> be tricky on Windows. I can't help you further as it's
> been years I've tried this scenario.
>
> Brgds,
> Viktor
>
> On 2009.08.10., at 5:38, Manu wrote:
>
>> Este es el error:
>>
>> mingw32-make[3]: Leaving directory `c:/HBR/source/pp/obj/win/bcc'
>> C:\WINDOWS\system32\cmd.exe /Cif not exist "c:\harbour\SVN\bcc\bin" 
>> mkdir "c:\harbour\SVN\bcc\bin" & for %%f in 
>> (..\..\bin\win\bcc\hbpp.exe) do copy "%%f" "c:\harbour\SVN\bcc\bin"
>>       1 archivos copiados.
>> C:\WINDOWS\system32\cmd.exe /Cif not exist 
>> "c:\harbour\SVN\bcc\lib\win\bcc" mkdir 
>> "c:\harbour\SVN\bcc\lib\win\bcc" & for %%f in 
>> (..\..\lib\win\bcc\hbpp.lib) do copy "%%f" 
>> "c:\harbour\SVN\bcc\lib\win\bcc"
>>       1 archivos copiados.
>> mingw32-make[2]: Leaving directory `c:/HBR/source/pp'
>> "c:/HBR/config/mingw32-make" -C compiler install _HB_BLD=yes
>> mingw32-make[2]: Entering directory `c:/HBR/source/compiler'
>> mingw32-make[3]: Entering directory `c:/HBR/source/compiler/obj/win/bcc'
>> bison -d  -oharboury.c ../../../harbour.y
>> mingw32-make[3]: Leaving directory `c:/HBR/source/compiler/obj/win/bcc'
>> mingw32-make[2]: Leaving directory `c:/HBR/source/compiler'
>> mingw32-make[1]: Leaving directory `c:/HBR/source'
>> Harbour GNU Make returned: 2
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>

From ice at wormhole.hu  Mon Aug 10 15:58:34 2009
From: ice at wormhole.hu (Tamas TEVESZ)
Date: Mon Aug 10 15:58:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11967] trunk/harbour
In-Reply-To: <alpine.GSO.2.00.0908101237540.4352@dawn.royalcomp.hu>
References: <E1MY8uq-0000tt-Lm@dn4whf1.ch3.sourceforge.com>
	<20090810090557.GA6715@uran.home.aster.pl>
	<4E73F1F0-2152-4806-B81E-DA8029601971@syenar.hu>
	<alpine.GSO.2.00.0908101237540.4352@dawn.royalcomp.hu>
Message-ID: <alpine.GSO.2.00.0908102157190.4352@dawn.royalcomp.hu>

On Mon, 10 Aug 2009, Tamas TEVESZ wrote:

 >  > >     HB_CMP = suncc
 >  > >  endif
 >  > > 
 >  > > instead of CC and cc. With above version you do not have keep path to
 >  > > Sun C compiler at the beginning of PATH envvar so both GCC and Sun C
 >  > > builds can be easy used. It should work also in SunOS. I hope Tomas
 >  > > can confirm it.
 >  > 
 >  > Thanks, I'll do this in next commit.
 > 
 > and now you broke it ;)

forget it. of course you didn't.

-- 
[-]

mkdir /nonexistent
From vszakats at users.sourceforge.net  Mon Aug 10 16:12:46 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 16:12:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12038] trunk/harbour
Message-ID: <E1MabEc-0006fP-93@c3vjzd1.ch3.sourceforge.com>

Revision: 12038
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12038&view=rev
Author:   vszakats
Date:     2009-08-10 20:12:08 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 21:56 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Reorganized core Harbour lib handling. The goal is to
      allow linkers to resolve references by themselves, either
      by clever ordering and adding libs multiple times if needed.
      I took the methods used in Makefiles as guiding line.
    % Removed -Wl,--start-group / -Wl,--end-group lib grouping.
      It doesn't seem to be necessary anymore.
    ! Fixed "hbrtl" lib reference with some targets in -xhb mode.
    ; NOTE: Please test, I didn't test all possible combinations
            only mingw and recent Harbour. (no xhb, no hb10x)
    ; NOTE: Regressions are possible regarding lib selection or
            ordering and also GT selection.
    ; TODO: If this works out okay, we can delete similar grouping
            options from .cf files. At the same time, core liblists
            could be moved to central place to ease maintenance
            and guarantee correctness.

  * utils/hbmk2/hbmk2.hbp
  * utils/hbrun/hbrun.hbp
    - Deleted extra core lib specifications to make it link
      in shared mode. Doesn't seem to be necessary anymore
      after above hbmk2 change.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.hbp
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbrun/hbrun.hbp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Aug 10 16:24:50 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 10 16:24:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12006] trunk/harbour
In-Reply-To: <9C17BFAA-75A4-48C3-BAED-80A89511D886@syenar.hu>
References: <KO5RUO$170CDC7C5C0DEF70699F4D899A048FA5@libero.it>
	<9C17BFAA-75A4-48C3-BAED-80A89511D886@syenar.hu>
Message-ID: <20090810202450.GA26399@uran.home.aster.pl>

On Mon, 10 Aug 2009, Szak?ts Viktor wrote:

Hi,

> Yes, the CRC16 is different indeed, but the CRC32 was the same, in
> fact (reading the old comments) the CRC32 code was taken from a generic
> unicode library, so it's nothing tpathy specific, before deletion
> I've verified the code table and formula to be the same as in core.

Any CRC tables can be easy generated using generic hb_crc() and hb_crcct()
functions I added to hbrtl, i.e. this code generates CRC tables for
HB_CRC32(), HB_CRC16() and TP_CRC16():

   proc main()
      local i, n
      set alternate to crctabs.c
      set alternate on
      ? "static const ULONG crc32_tab[ 256 ] = {"
      for i := 0 to 255
         if i % 5 == 0
            ? "  "
         endif
         n := hb_bitxor( hb_crc( chr( i ), 0xFFFFFFFF, 0x104C11DB7 ), ;
                                           0xFFFFFFFF )
         ?? " 0x" + hb_numtohex( n, 8 ) + "L" + iif( i < 255, ",", "" )
      next
      ? "};"
      ?
      ? "static const ULONG crc16_tab[] ="
      for i := 0 to 255
         if i % 8 == 0
            ? "  "
         endif
         n := hb_bitxor( hb_crc( chr( i ), 0xFFFF, 0x18005 ), 0xFFFF )
         ?? " 0x" + hb_numtohex( n, 4 ) + iif( i < 255, ",", "" )
      next
      ? "};"
      ?
      ? "static const ULONG crctp16_tab[] ="
      for i := 0 to 255
         if i % 8 == 0
            ? " "
         endif
         n := hb_crcct( chr( i ),, 0x11021 )
         ?? "  0x" + hb_numtohex( n, 4 ) + iif( i < 255, ",", "" )
      next
      ? "};"
   return

> I've now checked original Telepath(y) libs and it uses "std" CRC32
> code with the same precalculated table. It's uses it for ZMODEM which
> needs std CRC32.
> Actually the correct name for CRC16 included in Telepath(y) lib should
> be CRC16-CCITT (or CRC-CCITT, or CRC16 X.25), which is a variation of
> CRC16 using different polynomial. It's used in XMODEM protocol.

It's not only different polynomial but also a little bit modified
algorithm used to calculate CRC so the results of HB_CRC() and HB_CRCCT()
are not equal even for the same polynomial.

> There is an HB_CRC() function in core which is supposed to be
> compatible with it, but I cannot get the same result.
> ---
> ? HB_CRC(   "hello world" ) // ->     44550
> ? HB_CRCCT( "hello world" ) // ->     15332
> ? HB_CRC16( "hello world" ) // ->      8760
> ? TP_CRC16( "hello world" ) // ->     58427
> ? "Clipper original", 58427
> ---

You should use hb_crcct() with default 0x11021 polynomial
( 0x11021 => P(X) = X^16 + X^15 + X^5 + X^0 ) and you should
swap bytes in calculated result, i.e.:

   func tp_crc16( s )
      local n := hb_crcct( s )
   return int( n / 256 ) + int( n % 256 * 256 )

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Aug 10 16:32:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 16:32:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12039] trunk/harbour
Message-ID: <E1MabXR-00072v-Dd@c3vjzd1.ch3.sourceforge.com>

Revision: 12039
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12039&view=rev
Author:   vszakats
Date:     2009-08-10 20:32:12 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 22:31 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtpathy/tpcommon.c
    + __TP_CRC16() rewritten using core checksum function.
      The trick was to swap bytes of the hb_crcct() result.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/tpcommon.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 10 16:35:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 16:35:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12040] trunk/harbour
Message-ID: <E1MabaC-00075o-2k@c3vjzd1.ch3.sourceforge.com>

Revision: 12040
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12040&view=rev
Author:   vszakats
Date:     2009-08-10 20:35:03 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 22:34 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtpathy/telepath.prg
  * contrib/hbtpathy/tpcommon.c
    + TP_CRC16() reimplemented in .prg after reading Przemek's e-mail.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/telepath.prg
    trunk/harbour/contrib/hbtpathy/tpcommon.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 10 16:44:02 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 16:44:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12041] trunk/harbour
Message-ID: <E1Mabis-0007Hf-0n@c3vjzd1.ch3.sourceforge.com>

Revision: 12041
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12041&view=rev
Author:   vszakats
Date:     2009-08-10 20:43:58 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 22:43 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/wce/mingwarm.cf
  * config/win/xcc.cf
  * config/win/mingw.cf
  * config/win/pocc.cf
    % Deleted system libs not needed for core Harbour.

  * config/wce/mingwarm.cf
  * config/win/mingw.cf
    % Using := instead of = in one place.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/xcc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 10 16:48:18 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 16:48:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12042] trunk/harbour
Message-ID: <E1Mabn0-0007MZ-2s@c3vjzd1.ch3.sourceforge.com>

Revision: 12042
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12042&view=rev
Author:   vszakats
Date:     2009-08-10 20:48:17 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 22:47 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/wce/mingwarm.cf
  * config/win/mingw.cf
  * config/linux/global.cf
    % Using := instead of = in few more places.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/linux/global.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/win/mingw.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Aug 10 17:15:50 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 10 17:15:56 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS, cross build II
In-Reply-To: <4A801634.1090006@mail.udg.mx>
References: <4A801634.1090006@mail.udg.mx>
Message-ID: <20090810211550.GA31081@uran.home.aster.pl>

On Mon, 10 Aug 2009, David Arturo Macias Corona wrote:

Hi David,

> Przemek:
> - having the sources and possibility to rebuild os2make381, have some 
> benefit ?
> - The problem is with os2make381, and/or OS/2 command shell (CMD.exe) ? If 
> later, can we use other ?
> - Is any other kind of environment limit (command line size, environment, 
> ... ) ?
> - I think if you get contact with Andreas Buening to exchange info about 
> these problems can help us to understand/solve them

Thank you for all your test.
The problem looks like some buffer overflow inside os2make381 when
the total length of all actions for given rulle is very long.
We tried to replace:
   for %i in ( *$(OBJ_EXT) ) do @echo ADDMOD %i >> __lib__.tmp
with explicit list of commands like:
   @echo ADDMOD mod1$(OBJ_EXT) >> __lib__.tmp
   @echo ADDMOD mod2$(OBJ_EXT) >> __lib__.tmp
   @echo ADDMOD mod3$(OBJ_EXT) >> __lib__.tmp
   ...
and when this list is to long some internal os2make381 memory corruption
happens with different side effect depending on total length of all
commands (usually GPF).

It's not very safe to use rules like:
   for %i in ( *$(OBJ_EXT) ) do @echo ADDMOD %i >> __lib__.tmp
and some times it can cause wrong results anyhow in our current
SVN code it creates problems only for hbpp library which have
temporary file hbpp.obj added unintentionally to this library.

I'll commit workaround which explicitly removes hbpp$(OBJ_EXT) to
source/pp/Makefile and this problem will be resolved. Anyhow if
in the future we will find GNU make for OS2 without above problem
then we should replace
   for %i in ( *$(OBJ_EXT) ) do @echo ADDMOD %i >> __lib__.tmp
with native make list of commands.
Please test it.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Aug 10 17:16:32 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 10 17:16:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12043] trunk/harbour
Message-ID: <E1MacEK-00037R-69@d5vjzd1.ch3.sourceforge.com>

Revision: 12043
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12043&view=rev
Author:   druzus
Date:     2009-08-10 21:16:27 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-10 23:16 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/pp/Makefile
  * harbour/config/os2/watcom.cf
    * added workarounds for problems with OS2 builds - please test

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/source/pp/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 10 18:37:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 18:37:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12044] trunk/harbour
Message-ID: <E1MadUj-0002nf-Ei@3kljzd1.ch3.sourceforge.com>

Revision: 12044
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12044&view=rev
Author:   vszakats
Date:     2009-08-10 22:37:31 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-11 00:31 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/bin.cf
    + Harbour binary core liblists are now formed centrally.
      Four variations are generated:
         HB_LIBS_ST_RDD
         HB_LIBS_MT_RDD
         HB_LIBS_ST_NORDD
         HB_LIBS_MT_NORDD
      Binaries can choose by using: 'LIBS = $(HB_LIBS_*)'.
      Important to use '='.
      This step also fixes potential problems with former liblists,
      where it was easy to make a local mistakes and some libs which
      needed more complicated logic, or which were just rarely used
      simply weren't added. Now all liblists are guaranteed to have
      proper order and content.
      HB_GT_LIBS and HB_DB_DRIVERS are automatically added centrally,
      so no need to add them manually in each compiler specific .cf.

  * tests/Makefile
  * tests/hbpptest/Makefile
  * tests/multifnc/Makefile
  * utils/hbformat/Makefile
  * utils/hbmk2/Makefile
  * utils/hbtest/Makefile
  * utils/hbi18n/Makefile
  * utils/hbrun/Makefile
    % Using above HB_LIBS_* macros.
    ; The only few places which I didn't thouch is non-Harbour
      executables (harbour exe and hbpp exe).

  * config/bsd/gcc.cf
  * config/wce/msvcarm.cf
  * config/wce/mingwarm.cf
  * config/wce/poccarm.cf
  * config/hpux/gcc.cf
  * config/darwin/gcc.cf
  * config/dos/watcom.cf
  * config/dos/djgpp.cf
  * config/win/watcom.cf
  * config/win/icc.cf
  * config/win/cygwin.cf
  * config/win/msvc.cf
  * config/win/xcc.cf
  * config/win/mingw.cf
  * config/win/pocc.cf
  * config/win/bcc.cf
  * config/linux/watcom.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/linux/sunpro.cf
  * config/os2/watcom.cf
  * config/os2/gcc.cf
  * config/sunos/gcc.cf
  * config/sunos/sunpro.cf
    % Deleted local logic to merge HB_GT_LIBS and HB_DB_DRIVERS
      into LIBS.

  * utils/hbmk2/hbmk2.hbp
  * utils/hbrun/hbrun.hbp
    ! Extra libspecs are still needed for some compilers.
      I've readded them until better solution is found.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bin.cf
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/linux/watcom.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/wce/msvcarm.cf
    trunk/harbour/config/wce/poccarm.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/config/win/xcc.cf
    trunk/harbour/tests/Makefile
    trunk/harbour/tests/hbpptest/Makefile
    trunk/harbour/tests/multifnc/Makefile
    trunk/harbour/utils/hbformat/Makefile
    trunk/harbour/utils/hbi18n/Makefile
    trunk/harbour/utils/hbmk2/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.hbp
    trunk/harbour/utils/hbrun/Makefile
    trunk/harbour/utils/hbrun/hbrun.hbp
    trunk/harbour/utils/hbtest/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 10 18:41:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 18:41:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12045] trunk/harbour
Message-ID: <E1MadYk-0002te-BZ@3kljzd1.ch3.sourceforge.com>

Revision: 12045
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12045&view=rev
Author:   vszakats
Date:     2009-08-10 22:41:41 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-11 00:41 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/bin.cf
    * Minor formatting to liblist template.

  * config/bsd/gcc.cf
  * config/darwin/gcc.cf
  * config/hpux/gcc.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/linux/sunpro.cf
  * config/sunos/gcc.cf
  * config/sunos/sunpro.cf
    % Using LIBS var to check for libs rather than HB_GT_LIBS.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bin.cf
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/sunos/sunpro.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 10 18:45:35 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 18:45:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12046] trunk/harbour
Message-ID: <E1MadcV-0002zL-SE@3kljzd1.ch3.sourceforge.com>

Revision: 12046
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12046&view=rev
Author:   vszakats
Date:     2009-08-10 22:45:34 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-11 00:45 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/rdd/Makefile
  * config/global.cf
  * config/bin.cf
    * Simple rename of two internal vars:
        HB_DB_DRIVERS -> HB_RDD_LIBS
        HB_DB_DIRS    -> HB_RDD_DIRS
    + Added some names to non-standard build configuration setting
      collection.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bin.cf
    trunk/harbour/config/global.cf
    trunk/harbour/source/rdd/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 10 18:56:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 18:56:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12047] trunk/harbour
Message-ID: <E1MadnC-0003FE-KW@3kljzd1.ch3.sourceforge.com>

Revision: 12047
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12047&view=rev
Author:   vszakats
Date:     2009-08-10 22:56:37 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-11 00:54 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/bsd/gcc.cf
  * config/wce/msvcarm.cf
  * config/wce/mingwarm.cf
  * config/wce/poccarm.cf
  * config/darwin/gcc.cf
  * config/hpux/gcc.cf
  * config/dos/watcom.cf
  * config/dos/djgpp.cf
  * config/win/watcom.cf
  * config/win/icc.cf
  * config/win/cygwin.cf
  * config/win/msvc.cf
  * config/win/xcc.cf
  * config/win/mingw.cf
  * config/win/pocc.cf
  * config/win/bcc.cf
  * config/linux/watcom.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/linux/sunpro.cf
  * config/instsh.cf
  * config/dirsh.cf
  * config/os2/watcom.cf
  * config/os2/gcc.cf
  * config/sunos/gcc.cf
  * config/sunos/sunpro.cf
    % Removed spaces before $(foreach) parameters. A space is
      automatically added by GNU Make, so it's not needed. May
      save a little bytes here and there and command look more
      tidy (source looks a little bit clumsier though).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/dirsh.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/instsh.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/linux/watcom.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/wce/msvcarm.cf
    trunk/harbour/config/wce/poccarm.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/config/win/xcc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 10 19:09:25 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 19:09:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12048] trunk/harbour
Message-ID: <E1MadzZ-0003X7-It@3kljzd1.ch3.sourceforge.com>

Revision: 12048
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12048&view=rev
Author:   vszakats
Date:     2009-08-10 23:09:24 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-11 01:03 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/bsd/gcc.cf
  * config/wce/mingwarm.cf
  * config/dos/djgpp.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
    % Deleted core lib grouping.

  * config/win/cygwin.cf
  * config/os2/gcc.cf
    % Deleted (commented) core lib grouping.

  * ChangeLog
    ! Missed entry from a few commits ago:
      * config/win/mingw.cf
        % Deleted core lib grouping.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/win/cygwin.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 10 19:31:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 19:31:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12049] trunk/harbour
Message-ID: <E1MaeKj-00046t-Qt@bj8yhf1.ch3.sourceforge.com>

Revision: 12049
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12049&view=rev
Author:   vszakats
Date:     2009-08-10 23:31:16 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-11 01:32 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/wce/mingwarm.cf
  * config/win/msvc.cf
  * config/win/mingw.cf
    * Minor cleanups.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/msvc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 10 19:53:57 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 19:54:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12050] trunk/harbour
Message-ID: <E1Maegf-0002R4-PL@c3vjzd1.ch3.sourceforge.com>

Revision: 12050
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12050&view=rev
Author:   vszakats
Date:     2009-08-10 23:53:56 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-11 01:52 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/bsd/gcc.cf
  * config/wce/msvcarm.cf
  * config/wce/mingwarm.cf
  * config/wce/poccarm.cf
  * config/hpux/gcc.cf
  * config/darwin/gcc.cf
  * config/dos/watcom.cf
  * config/dos/djgpp.cf
  * config/win/watcom.cf
  * config/win/icc.cf
  * config/win/cygwin.cf
  * config/win/msvc.cf
  * config/win/xcc.cf
  * config/win/mingw.cf
  * config/win/pocc.cf
  * config/win/bcc.cf
  * config/linux/watcom.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/linux/sunpro.cf
  * config/os2/watcom.cf
  * config/os2/gcc.cf
  * config/sunos/gcc.cf
  * config/sunos/sunpro.cf
    + Indentation.
    * Minor cleanups (to GT dependency lib sections, deleted 
      check for hbrtl, it's enough to check for the gt name)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/linux/watcom.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/wce/msvcarm.cf
    trunk/harbour/config/wce/poccarm.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/config/win/xcc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 10 19:58:20 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 10 19:58:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12051] trunk/harbour
Message-ID: <E1Maeku-0002WC-Iu@c3vjzd1.ch3.sourceforge.com>

Revision: 12051
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12051&view=rev
Author:   vszakats
Date:     2009-08-10 23:58:19 +0000 (Mon, 10 Aug 2009)

Log Message:
-----------
2009-08-11 01:57 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbatomic.h
    ! Suppressed recent bcc warnings.
      Thanks to Grigory Filatov for the fix.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbatomic.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Sun Aug  9 15:22:59 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Aug 10 20:10:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12000] trunk/harbour
In-Reply-To: <24888527.post@talk.nabble.com>
References: <E1MZvyF-0000vl-Tq@bj8yhf1.ch3.sourceforge.com>
	<9257026e0908090026r71e3315bm7f10b96a1764f50f@mail.gmail.com>
	<24888527.post@talk.nabble.com>
Message-ID: <9257026e0908091222v5f6e263ai2638b4155a6cfbdc@mail.gmail.com>

On Sun, Aug 9, 2009 at 6:06 PM, Pritpal Bedi<bedipritpal@hotmail.com> wrote:

> You also reported that it is the same with XP and mingw.
> Can you show me the screen-shot?

Here is what I get after you change under Fedora 11.

Note the pink and gray rectangles on the left..

best regards,
Lorenzo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot-xbp.png
Type: image/png
Size: 35237 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090809/cc4bd7d4/Screenshot-xbp-0001.png
From itamarlins at bol.com.br  Mon Aug 10 22:36:42 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Mon Aug 10 22:38:12 2009
Subject: [Harbour] Change BCC to MSVC
Message-ID: <h5qlht$49f$1@ger.gmane.org>

Hi!
I need examples, now I am using hbmk2.
How to link rmchart.lib in my project ?
My file sciwin.hbm is:
------------8<-------
-lrmchart.lib
-inc
sciwin.prg
apuracao.prg
bancos.prg
...
----------->8---------
I using implib for make rmchar.lib.
Get this; D:\DEV\HARBOUR\lib\rmchart.lib : fatal error LNK1136: invalid or 
corrupt file
With BCC32 works fine.

Best Regards,
Itamar M. Lins Jr.



From francek.prijatelj at siol.net  Tue Aug 11 01:51:25 2009
From: francek.prijatelj at siol.net (=?windows-1250?Q?FRAN=C8EK_PRIJATELJ?=)
Date: Tue Aug 11 01:51:35 2009
Subject: [Harbour] Error in global.cf
Message-ID: <4A8106DD.5000207@siol.net>

Hi

In global.cf, line 210 is error (HB_LIB_INSTAL: ...   , instead off 
HB_INC_INSTALL

        ifneq ($(HB_INC_INSTALL),)
          $(info ! HB_LIB_INSTALL: $(HB_INC_INSTALL))
       endif


BRGS

Fran?ek
-------------- next part --------------
A non-text attachment was scrubbed...
Name: francek_prijatelj.vcf
Type: text/x-vcard
Size: 182 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090811/4d3b036e/francek_prijatelj.vcf
From harbour.01 at syenar.hu  Tue Aug 11 02:53:25 2009
From: harbour.01 at syenar.hu (=?WINDOWS-1250?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 11 02:53:39 2009
Subject: [Harbour] Error in global.cf
In-Reply-To: <4A8106DD.5000207@siol.net>
References: <4A8106DD.5000207@siol.net>
Message-ID: <A3A51577-DFB5-4F0C-B7BD-9551356F2565@syenar.hu>

Thank you Francek.

Brgds,
Viktor

On 2009.08.11., at 7:51, FRAN?EK PRIJATELJ wrote:

> Hi
>
> In global.cf, line 210 is error (HB_LIB_INSTAL: ...   , instead off  
> HB_INC_INSTALL
>
>       ifneq ($(HB_INC_INSTALL),)
>         $(info ! HB_LIB_INSTALL: $(HB_INC_INSTALL))
>      endif
>
>
> BRGS
>
> Fran?ek
> <francek_prijatelj.vcf>_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Tue Aug 11 03:16:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 03:16:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12052] trunk/harbour
Message-ID: <E1Malaz-00043C-Ed@74yxhf1.ch3.sourceforge.com>

Revision: 12052
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12052&view=rev
Author:   vszakats
Date:     2009-08-11 07:16:32 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 09:16 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
    ! Fixed little typo in config display section.

  * config/bsd/gcc.cf
  * config/wce/mingwarm.cf
  * config/win/cygwin.cf
  * config/win/mingw.cf
  * config/win/bcc.cf
    % Cleanups, syncing between each other, eliminating unique
      variables.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/mingw.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Aug 11 03:28:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 03:28:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12053] trunk/harbour
Message-ID: <E1MalmB-0004Gr-Cu@74yxhf1.ch3.sourceforge.com>

Revision: 12053
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12053&view=rev
Author:   vszakats
Date:     2009-08-11 07:28:06 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 09:27 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/bsd/gcc.cf
    % Started using := for CFLAGS/CPPFLAGS.

  * config/darwin/gcc.cf
    * Minor cleanups. Sync with bsd/gcc.cf, using vars with std names,
      deleted unused lines.

  * config/dos/watcom.cf
  * config/win/watcom.cf
  * config/linux/watcom.cf
  * config/os2/watcom.cf
    ! Using $(HB_INC_COMPILE) instead of $(TOP)$(ROOT)include
      like every other compilers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/linux/watcom.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/win/watcom.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Aug 11 03:42:54 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 03:42:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12054] trunk/harbour
Message-ID: <E1Mam0U-0004YK-S7@74yxhf1.ch3.sourceforge.com>

Revision: 12054
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12054&view=rev
Author:   vszakats
Date:     2009-08-11 07:42:53 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 09:41 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/bsd/gcc.cf
  * config/wce/msvcarm.cf
  * config/wce/mingwarm.cf
  * config/wce/poccarm.cf
  * config/darwin/gcc.cf
  * config/hpux/gcc.cf
  * config/dos/watcom.cf
  * config/dos/djgpp.cf
  * config/win/watcom.cf
  * config/win/icc.cf
  * config/win/cygwin.cf
  * config/win/msvc.cf
  * config/win/xcc.cf
  * config/win/mingw.cf
  * config/win/pocc.cf
  * config/win/bcc.cf
  * config/linux/watcom.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/linux/sunpro.cf
  * config/os2/watcom.cf
  * config/os2/gcc.cf
  * config/sunos/gcc.cf
  * config/sunos/sunpro.cf
    % Mofified so that HB_USER_AFLAGS is passed directly to AR_RULE,
      rather than being passed through ARFLAGS. It's also done this way
      for other HB_USER_* flags.
    ! Fixed os2/gcc ignoring HB_USER_AFLAGS. Please test.
    % ARFLAGS assignments now use := operator.

  * config/global.cf
    + Added few more config vars.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/linux/watcom.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/wce/msvcarm.cf
    trunk/harbour/config/wce/poccarm.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/config/win/xcc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Aug 11 03:57:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 03:57:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12055] trunk/harbour
Message-ID: <E1MamEN-0004nU-5Q@74yxhf1.ch3.sourceforge.com>

Revision: 12055
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12055&view=rev
Author:   vszakats
Date:     2009-08-11 07:57:13 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 09:55 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/bsd/gcc.cf
  * config/wce/msvcarm.cf
  * config/wce/mingwarm.cf
  * config/wce/poccarm.cf
  * config/hpux/gcc.cf
  * config/darwin/gcc.cf
  * config/dos/watcom.cf
  * config/dos/djgpp.cf
  * config/win/watcom.cf
  * config/win/icc.cf
  * config/win/cygwin.cf
  * config/win/msvc.cf
  * config/win/xcc.cf
  * config/win/mingw.cf
  * config/win/pocc.cf
  * config/win/bcc.cf
  * config/linux/watcom.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/linux/sunpro.cf
  * config/os2/watcom.cf
  * config/os2/gcc.cf
  * config/sunos/gcc.cf
  * config/sunos/sunpro.cf
    % CFLAGS and CPPFLAGS initialized using := operator.
    ! Fixed not initializing CFLAGS/CPPFLAGS at all for some compilers.
      This may cause spilling of unwanted switches into our make system.
      (watcom.cf)
    * Few remaining indentations left from previous round (sunpro.cf).
    * Some other minor cleanups along the way (xcc.cf).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/linux/watcom.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/wce/msvcarm.cf
    trunk/harbour/config/wce/poccarm.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/config/win/xcc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From francek.prijatelj at siol.net  Tue Aug 11 04:35:30 2009
From: francek.prijatelj at siol.net (=?windows-1250?Q?FRAN=C8EK_PRIJATELJ?=)
Date: Tue Aug 11 04:35:39 2009
Subject: [Harbour] Strange index error
Message-ID: <4A812D52.70702@siol.net>


This code (simplified version) worked few days ago, with rddntx or rddcdx).
Today it crashes

function main()
    use knjizbe new
    index on posel+dtos(dat_va)  tag posel_datv   to knjizbe
    wait
return

Today it crashes with error

          1
Error DBFNTX/1060  Create error: C:\DOCUME~1\FP\LOCALS~1\Temp\hbF98.tmp
Called from ORDCREATE(0)         1

At the same time it creates houndreds of hbxxxx.tmp files in temp dir. 
(x are hex digits)

This is a structure of dbf file:

{  ;
    {  "POSEL"           , "C"         ,  7,  0 }, ;
    {  "S_PARTNER" , "C"         ,  6,  0 }, ;
    {  "RACUN"         , "C"         ,  7,  0 }, ;
    {  "KO"                , "C"         ,  1,  0 }, ;
    {  "DAT_KNJ"     , "D"         ,  8,  0 }, ;
    {  "DAT_VA"       , "D"         ,  8,  0 }, ;
    {  "VP"                 , "C"         ,  1,  0 }, ;
    {  "ZNESEK"       , "N"         , 13,  2 } }


Dbf file has 85000 records and I tested so I think that it's not corrupted.

BRGS

Fran?ek




-------------- next part --------------
A non-text attachment was scrubbed...
Name: francek_prijatelj.vcf
Type: text/x-vcard
Size: 182 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090811/cde70ce8/francek_prijatelj.vcf
From druzus at acn.waw.pl  Tue Aug 11 04:56:06 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 11 04:56:14 2009
Subject: [Harbour] Strange index error
In-Reply-To: <4A812D52.70702@siol.net>
References: <4A812D52.70702@siol.net>
Message-ID: <20090811085606.GA29291@uran.home.aster.pl>

On Tue, 11 Aug 2009, FRAN?EK PRIJATELJ wrote:

Hi Fran?ek,

> This code (simplified version) worked few days ago, with rddntx or rddcdx).
> Today it crashes
> function main()
>    use knjizbe new
>    index on posel+dtos(dat_va)  tag posel_datv   to knjizbe
>    wait
> return
> Today it crashes with error
>          1
> Error DBFNTX/1060  Create error: C:\DOCUME~1\FP\LOCALS~1\Temp\hbF98.tmp
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Do you need more information?
Please check why temporary file cannot be created (write permission,
too much files in directory, directory does not exist, no disk space, ...)
It's not Harbour problem though I'll add FS error code to generated RTE
so users can easier find the reason in such case.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Aug 11 05:05:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 11 05:05:56 2009
Subject: [Harbour] Strange index error
In-Reply-To: <20090811085606.GA29291@uran.home.aster.pl>
References: <4A812D52.70702@siol.net>
	<20090811085606.GA29291@uran.home.aster.pl>
Message-ID: <7DCF7F9B-F540-43BA-9406-9E09160C70FE@syenar.hu>

Hi Przemek,

I've recently fixed hb_fsCreate*() to honor FO_EXCL flag
on win platforms (it was ignored before). AFAICS this error
could be caused by interaction of temp file creation routines
in fstemp.c and above change.

I'm investigating, but I'd appreciate your help. For me its
end endless struggle to create proper temp files on Windows,
and been there already (a few times) where we're now.

Brgds,
Viktor

On 2009.08.11., at 10:56, Przemyslaw Czerpak wrote:

> On Tue, 11 Aug 2009, FRAN?EK PRIJATELJ wrote:
>
> Hi Fran?ek,
>
>> This code (simplified version) worked few days ago, with rddntx or  
>> rddcdx).
>> Today it crashes
>> function main()
>>   use knjizbe new
>>   index on posel+dtos(dat_va)  tag posel_datv   to knjizbe
>>   wait
>> return
>> Today it crashes with error
>>         1
>> Error DBFNTX/1060  Create error: C:\DOCUME~1\FP\LOCALS~1\Temp 
>> \hbF98.tmp
>                      
> ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>
> Do you need more information?
> Please check why temporary file cannot be created (write permission,
> too much files in directory, directory does not exist, no disk  
> space, ...)
> It's not Harbour problem though I'll add FS error code to generated  
> RTE
> so users can easier find the reason in such case.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at users.sourceforge.net  Tue Aug 11 05:14:54 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 11 05:14:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12056] trunk/harbour
Message-ID: <E1ManRW-0006ZR-PW@bj8yhf1.ch3.sourceforge.com>

Revision: 12056
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12056&view=rev
Author:   druzus
Date:     2009-08-11 09:14:53 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 11:14 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbtpathy/telepath.prg
    ! fixed tp_inkey() to not freeze when called without parameter

  * harbour/source/rdd/dbfntx/dbfntx1.c
  * harbour/source/rdd/dbfnsx/dbfnsx1.c
    * added OS/FS error codes to RTEs generated during indexing
    * replaced few numeric error codes with EDBF_* macros

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/telepath.prg
    trunk/harbour/source/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/source/rdd/dbfntx/dbfntx1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Aug 11 05:19:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 11 05:19:56 2009
Subject: [Harbour] Strange index error
In-Reply-To: <7DCF7F9B-F540-43BA-9406-9E09160C70FE@syenar.hu>
References: <4A812D52.70702@siol.net>
	<20090811085606.GA29291@uran.home.aster.pl>
	<7DCF7F9B-F540-43BA-9406-9E09160C70FE@syenar.hu>
Message-ID: <F68B5E8B-CAF8-4074-9B42-61A482AB03F8@syenar.hu>

Okay, what happens now is that on win platform GetTempFileName()
will create the file (and release the handle... bloody MS),
and this causes hb_fsCreate() with FO_EXCL to fail permanently.

There are a few options, but I'm unsure which is the better:
- Omit FO_EXCL for win platforms.
- Use FO_TRUNC on win platforms.

Maybe the second, but both needs win-only tweak, so maybe there is
a more elegant method.

Brgds,
Viktor

On 2009.08.11., at 11:05, Viktor Szak?ts wrote:

> Hi Przemek,
>
> I've recently fixed hb_fsCreate*() to honor FO_EXCL flag
> on win platforms (it was ignored before). AFAICS this error
> could be caused by interaction of temp file creation routines
> in fstemp.c and above change.
>
> I'm investigating, but I'd appreciate your help. For me its
> end endless struggle to create proper temp files on Windows,
> and been there already (a few times) where we're now.
>
> Brgds,
> Viktor
>
> On 2009.08.11., at 10:56, Przemyslaw Czerpak wrote:
>
>> On Tue, 11 Aug 2009, FRAN?EK PRIJATELJ wrote:
>>
>> Hi Fran?ek,
>>
>>> This code (simplified version) worked few days ago, with rddntx or  
>>> rddcdx).
>>> Today it crashes
>>> function main()
>>>  use knjizbe new
>>>  index on posel+dtos(dat_va)  tag posel_datv   to knjizbe
>>>  wait
>>> return
>>> Today it crashes with error
>>>        1
>>> Error DBFNTX/1060  Create error: C:\DOCUME~1\FP\LOCALS~1\Temp 
>>> \hbF98.tmp
>>                     
>> ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>>
>> Do you need more information?
>> Please check why temporary file cannot be created (write permission,
>> too much files in directory, directory does not exist, no disk  
>> space, ...)
>> It's not Harbour problem though I'll add FS error code to generated  
>> RTE
>> so users can easier find the reason in such case.
>>
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>

From francek.prijatelj at siol.net  Tue Aug 11 05:21:24 2009
From: francek.prijatelj at siol.net (=?UTF-8?B?RlJBTsSMRUsgUFJJSkFURUxK?=)
Date: Tue Aug 11 05:21:32 2009
Subject: [Harbour] Strange index error
In-Reply-To: <20090811085606.GA29291@uran.home.aster.pl>
References: <4A812D52.70702@siol.net>
	<20090811085606.GA29291@uran.home.aster.pl>
Message-ID: <4A813814.1060409@siol.net>

On 11.8.2009 10:56, Przemyslaw Czerpak wrote:
> On Tue, 11 Aug 2009, FRAN?EK PRIJATELJ wrote:
>
> Hi Fran?ek,
>
>    
>> This code (simplified version) worked few days ago, with rddntx or rddcdx).
>> Today it crashes
>> function main()
>>     use knjizbe new
>>     index on posel+dtos(dat_va)  tag posel_datv   to knjizbe
>>     wait
>> return
>> Today it crashes with error
>>           1
>> Error DBFNTX/1060  Create error: C:\DOCUME~1\FP\LOCALS~1\Temp\hbF98.tmp
>>      
>                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>
> Do you need more information?
> Please check why temporary file cannot be created (write permission,
> too much files in directory, directory does not exist, no disk space, ...)
>    
     No, before I ran program , I emptied tmp dir.
     In real application I index 10 dbf files before this one.
     I also tried  (very simple)  short version and real application
    with backup dbf that worked few days ago.

    Only difference is the last SVN and  different CFLAGS.
    I use msvc8, and  before I used SET HB_BUILD_MODE=c.
   Today I changed to SET HB_BUILD_MODE=cpp  (for hbQt)
   My application and other libraries are comipiled in c mode (/Tc).
   I tried with /TP but minigui library has to many errors (with /Tc 
just warnings)
   I also indexed dbf file with DBU , and everything is OK.
> It's not Harbour problem though I'll add FS error code to generated RTE
> so users can easier find the reason in such case.
>
> best regards,
> Przemek
> _______________________________________________
>    

-------------- next part --------------
A non-text attachment was scrubbed...
Name: francek_prijatelj.vcf
Type: text/x-vcard
Size: 189 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090811/c7dd6f12/francek_prijatelj.vcf
From druzus at acn.waw.pl  Tue Aug 11 05:37:44 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 11 05:37:49 2009
Subject: [Harbour] Strange index error
In-Reply-To: <7DCF7F9B-F540-43BA-9406-9E09160C70FE@syenar.hu>
References: <4A812D52.70702@siol.net>
	<20090811085606.GA29291@uran.home.aster.pl>
	<7DCF7F9B-F540-43BA-9406-9E09160C70FE@syenar.hu>
Message-ID: <20090811093743.GA28491@uran.home.aster.pl>

On Tue, 11 Aug 2009, Szak?ts Viktor wrote:

Hi,

> I've recently fixed hb_fsCreate*() to honor FO_EXCL flag
> on win platforms (it was ignored before). AFAICS this error
> could be caused by interaction of temp file creation routines
> in fstemp.c and above change.
> I'm investigating, but I'd appreciate your help. For me its
> end endless struggle to create proper temp files on Windows,
> and been there already (a few times) where we're now.

In such case you have to update the code use to crate temporary files
in MS-Windows because GetTempFileNameA() creates new file.
You have to change:

      if( hb_fsTempName( pszName, pszDir, pszPrefix ) )
      {
          HB_FHANDLE fhnd = hb_fsCreateEx( pszName, ulAttr, FO_EXCLUSIVE | FO_EXCL );

to:

      if( hb_fsTempName( pszName, pszDir, pszPrefix ) )
      {
#if defined( HB_IO_WIN )
          HB_FHANDLE fhnd = hb_fsCreateEx( pszName, ulAttr, FO_EXCLUSIVE );
#else
          HB_FHANDLE fhnd = hb_fsCreateEx( pszName, ulAttr, FO_EXCLUSIVE | FO_EXCL );
#endif

best regards,
Przemek
From druzus at acn.waw.pl  Tue Aug 11 05:39:27 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 11 05:39:34 2009
Subject: [Harbour] Strange index error
In-Reply-To: <F68B5E8B-CAF8-4074-9B42-61A482AB03F8@syenar.hu>
References: <4A812D52.70702@siol.net>
	<20090811085606.GA29291@uran.home.aster.pl>
	<7DCF7F9B-F540-43BA-9406-9E09160C70FE@syenar.hu>
	<F68B5E8B-CAF8-4074-9B42-61A482AB03F8@syenar.hu>
Message-ID: <20090811093927.GA14368@uran.home.aster.pl>

On Tue, 11 Aug 2009, Szak?ts Viktor wrote:
> Okay, what happens now is that on win platform GetTempFileName()
> will create the file (and release the handle... bloody MS),
> and this causes hb_fsCreate() with FO_EXCL to fail permanently.
> There are a few options, but I'm unsure which is the better:
> - Omit FO_EXCL for win platforms.
> - Use FO_TRUNC on win platforms.
> Maybe the second, but both needs win-only tweak, so maybe there is
> a more elegant method.

See my previous message. Use FO_TRUNC instead of FO_EXCL in MS-Windows
branch.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Aug 11 05:41:49 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 11 05:41:55 2009
Subject: [Harbour] Strange index error
In-Reply-To: <4A813814.1060409@siol.net>
References: <4A812D52.70702@siol.net>
	<20090811085606.GA29291@uran.home.aster.pl>
	<4A813814.1060409@siol.net>
Message-ID: <20090811094149.GA16927@uran.home.aster.pl>

On Tue, 11 Aug 2009, FRAN?EK PRIJATELJ wrote:

Hi,

>     No, before I ran program , I emptied tmp dir.
>     In real application I index 10 dbf files before this one.
>     I also tried  (very simple)  short version and real application
>    with backup dbf that worked few days ago.
>    Only difference is the last SVN and  different CFLAGS.
>    I use msvc8, and  before I used SET HB_BUILD_MODE=c.
>   Today I changed to SET HB_BUILD_MODE=cpp  (for hbQt)
>   My application and other libraries are comipiled in c mode (/Tc).
>   I tried with /TP but minigui library has to many errors (with /Tc just 
> warnings)
>   I also indexed dbf file with DBU , and everything is OK.

OK, we already know what's the reason of problem. It's local to Windows
and Viktor should fix it in a while.

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Aug 11 06:02:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 06:02:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12057] trunk/harbour
Message-ID: <E1MaoB7-00079h-8f@74yxhf1.ch3.sourceforge.com>

Revision: 12057
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12057&view=rev
Author:   vszakats
Date:     2009-08-11 10:02:00 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 12:01 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/rtl/fstemp.c
    ! Fixed regression in hb_fsCreateTemp() after 2009-08-07 11:55 UTC+0200
      where temp files couldn't be opened, instead a lot of temp filenames
      were created.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/fstemp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Aug 11 06:02:17 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 11 06:02:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12040] trunk/harbour
In-Reply-To: <E1MabaC-00075o-2k@c3vjzd1.ch3.sourceforge.com>
References: <E1MabaC-00075o-2k@c3vjzd1.ch3.sourceforge.com>
Message-ID: <20090811100217.GA25901@uran.home.aster.pl>

On Mon, 10 Aug 2009, vszakats@users.sourceforge.net wrote:

Hi Viktor,

> 2009-08-10 22:34 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbtpathy/telepath.prg
>   * contrib/hbtpathy/tpcommon.c
>     + TP_CRC16() reimplemented in .prg after reading Przemek's e-mail.

Maybe we should add to RTL set of functions to swap bytes in numbers?
I.e. hb_swapI(), hb_swapW(), hb_swapL(), hb_swapU(), hb_swapLL()
The suffixes should correspond to BIN2?() functions but maybe you have
better proposition for names.
With such function tp_crc16() can be implemented as:

FUNCTION tp_crc16( cString )
   RETURN hb_swapW( hb_crcct( cString ) )

What do you think?

best regards,
Przemek
From dmacias at mail.udg.mx  Tue Aug 11 06:08:45 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Tue Aug 11 06:09:13 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS II
Message-ID: <4A81432D.6000201@mail.udg.mx>

Thanks, Przemek:

>The problem looks like some buffer overflow inside os2make381 when
>the total length of all actions for given rulle is very long.
>We tried to replace:
>   for %i in ( *$(OBJ_EXT) ) do @echo ADDMOD %i >> __lib__.tmp
>with explicit list of commands like:
>   @echo ADDMOD mod1$(OBJ_EXT) >> __lib__.tmp
>   @echo ADDMOD mod2$(OBJ_EXT) >> __lib__.tmp
>   @echo ADDMOD mod3$(OBJ_EXT) >> __lib__.tmp
>   ...
>and when this list is to long some internal os2make381 memory
>corruption happens with different side effect depending on total length
> of all commands (usually GPF).

>It's not very safe to use rules like:
>   for %i in ( *$(OBJ_EXT) ) do @echo ADDMOD %i >> __lib__.tmp
>and some times it can cause wrong results anyhow in our current
>SVN code it creates problems only for hbpp library which have
>temporary file hbpp.obj added unintentionally to this library.

>I'll commit workaround which explicitly removes hbpp$(OBJ_EXT) to
>source/pp/Makefile and this problem will be resolved. Anyhow if
>in the future we will find GNU make for OS2 without above problem
>then we should replace
>   for %i in ( *$(OBJ_EXT) ) do @echo ADDMOD %i >> __lib__.tmp
>with native make list of commands.

This is an updated report:

Current Harbour under OS/2
  * $Id: ChangeLog 12055 2009-08-11 07:57:13Z vszakats $
  2009-08-11 09:55 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)


a) gcc (GCC) 3.3.5 (Bird Build 2006-03-18 05:37)
  make381 ( new version libc063 )
  Without changes
  Build / run fine.
  Building time: 21 min

Only known warnings:
--------------------
../../../gtstd.c: In function `hb_gt_std_ReadKey':
../../../gtstd.c:412: warning: unused variable `TODO'
../../../sqlite3.c: In function `sqlite3_os_init':
../../../sqlite3.c:20798: warning: initialization from incompatible
pointer type
--------------------

  make_gnu.log:
   0 errors
   0 warnings

b) OpenWatcom 1.8
  make381 ( new version libc063 )
  Without changes
  Build / run fine
   except hbrun.exe (failed before too):
---------------------
SYS1811: The process has stopped.  The software diagnostic code
(trap number) is  FFFF.
---------------------
  Building time: 6 min

  make_ow.log:
   0 errors
   many warnings
   warnings for hbpp.lib (Duplicate symbol) has gone with your recent fix

Below are all warnings raised with OpenWatcom, selected from 2343 lines
of make_ow.log

As we can see, recent tests show that except for watcom/hbrun.exe, rest
work fine, so native builds with gcc335 and watcom 1.8 are near complete


Now we go to Watcom cross build:

Current state are:

OS/2 -> Win
   Work partially
   Binaries build in OS/2 run in Windows
   Fail to create hbrun.exe due hbsocket.c
   make_owos22win.zip with log info are in your mailbox since some days ago

   Main problem: config\win\watcom.cf must be changed to ADD workarounds
for os2make381

Win -> OS/2
   Work
   Binaries build in Windows run in OS/2, except hbrun.exe
   Main problem: config\os2\watcom.cf must be changed to DELETE
workarounds for os2make381
   If we left workarounds show incompatibility:
( translated message: unexpected i in this moment )

--------------------------------------
echo ../../../../../lib/os2/watcom/hbcommon.lib > __lib__.tmp
for %i in ( *.obj ) do @echo -+%i >> __lib__.tmp
No se esperaba i en este momento.
mingw32-make[3]: *** [hbcommon.lib] Error 255
mingw32-make[3]: Leaving directory 
`D:/harbour907f/harbour/source/common/obj/os2/watcom'
mingw32-make[2]: *** [descend] Error 2
--------------------------------------

It is incompatibility between winmake381 and os2make381

and we can not have one group of watcom.cf files for native builds and 
other for cross build

Question: in your cross builds win->os2, linux->os2 have you seen this 
error in expression ?
   for %i in ( *.obj ) do @echo -+%i >> __lib__.tmp


David Macias


../../../hbproces.c(902): Warning! W014: col(1) no reference to symbol
'TODO'
../../../hbproces.c(897): Note! N392: col(8) definition: 'int TODO' in
'unsigned long hb_fsProcessClose( int, unsigned long )'

../../../hbsocket.c(2272): Warning! W014: col(1) no reference to symbol
'TODO'
../../../hbsocket.c(2265): Note! N392: col(8) definition: 'int TODO' in
'int hb_socketSetBlockingIO( int, unsigned long )'

tlabel.c(548): Warning! W013: col(18) unreachable code

treport.c(1153): Warning! W013: col(18) unreachable code

../../../../thread.c(785): Warning! W869: col(25) use of '_beginthread'
requires build target to be multi-threaded

DAVID: OpenWatcom switch -bm not used yet
As you remember it make execution slow

dbjoin.c(188): Warning! W013: col(18) unreachable code

dblist.c(198): Warning! W013: col(18) unreachable code

dbsort.c(101): Warning! W013: col(18) unreachable code

dbstrux.c(147): Warning! W013: col(18) unreachable code
dbstrux.c(311): Warning! W013: col(18) unreachable code

dbtotal.c(420): Warning! W013: col(18) unreachable code

dbupdat.c(147): Warning! W013: col(18) unreachable code

../../../zutil.c(37): Warning! W369: col(13) selection expression in
switch statement is a constant value
../../../zutil.c(43): Warning! W369: col(13) selection expression in
switch statement is a constant value
../../../zutil.c(49): Warning! W369: col(13) selection expression in
switch statement is a constant value
../../../zutil.c(55): Warning! W369: col(13) selection expression in
switch statement is a constant value

..\..\..\hpdf_fontdef_tt.c(2109): Warning! W136: Comparison equivalent
to 'unsigned == 0'

..\..\..\hpdf_image_png.c(195): Warning! W124: Comparison result always 1
..\..\..\hpdf_image_png.c(257): Warning! W124: Comparison result always 1
..\..\..\hpdf_list.c(56): Warning! W136: Comparison equivalent to
'unsigned == 0'

..\..\..\hpdf_page_operator.c(2563): Warning! W136: Comparison
equivalent to 'unsigned == 0'
..\..\..\hpdf_pages.c(1509): Warning! W136: Comparison equivalent to
'unsigned == 0'
..\..\..\hpdf_streams.c(984): Warning! W136: Comparison equivalent to
'unsigned == 0'
..\..\..\hpdf_u3d.c(589): Warning! W131: No prototype found for function
'sqrtf'
..\..\..\hpdf_utils.c(125): Warning! W124: Comparison result always 0

..\..\..\sqlite3.c(19220): Warning! W136: Comparison equivalent to
'unsigned == 0'
..\..\..\sqlite3.c(20798): Warning! W102: Type mismatch (warning)
..\..\..\sqlite3.c(20798): Note! N2003: source conversion type is 'void
*(*)(struct sqlite3_vfs *__p1,void *__p2,char const *__p3)'
..\..\..\sqlite3.c(20798): Note! N2004: target conversion type is 'void
(*(*)(struct sqlite3_vfs *__p1,void *__p2,char const *__p3))(void )'
..\..\..\sqlite3.c(42084): Warning! W136: Comparison equivalent to
'unsigned == 0'


From harbour.01 at syenar.hu  Tue Aug 11 06:21:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 11 06:21:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12040] trunk/harbour
In-Reply-To: <20090811100217.GA25901@uran.home.aster.pl>
References: <E1MabaC-00075o-2k@c3vjzd1.ch3.sourceforge.com>
	<20090811100217.GA25901@uran.home.aster.pl>
Message-ID: <FDEBFC1C-69F2-4657-B7CC-2217EFDA63C5@syenar.hu>

Hi Przemek,

On 2009.08.11., at 0:02, Przemyslaw Czerpak wrote:

> On Mon, 10 Aug 2009, vszakats@users.sourceforge.net wrote:
>
> Hi Viktor,
>
>> 2009-08-10 22:34 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>  * contrib/hbtpathy/telepath.prg
>>  * contrib/hbtpathy/tpcommon.c
>>    + TP_CRC16() reimplemented in .prg after reading Przemek's e-mail.
>
> Maybe we should add to RTL set of functions to swap bytes in numbers?
> I.e. hb_swapI(), hb_swapW(), hb_swapL(), hb_swapU(), hb_swapLL()
> The suffixes should correspond to BIN2?() functions but maybe you have
> better proposition for names.
> With such function tp_crc16() can be implemented as:
>
> FUNCTION tp_crc16( cString )
>   RETURN hb_swapW( hb_crcct( cString ) )
>
> What do you think?

I agree, can be useful. Maybe HB_BINSWAP*() would be a less
generic name. It would also align with BIN2*() naming.

The other question is what to expect from HB_BINSWAPL[L]()? Would it
swap the two halves or would it reverse the bytes?

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Aug 11 06:24:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 06:24:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12058] trunk/harbour
Message-ID: <E1MaoWW-0007YN-3l@74yxhf1.ch3.sourceforge.com>

Revision: 12058
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12058&view=rev
Author:   vszakats
Date:     2009-08-11 10:24:06 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 12:14 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/bsd/gcc.cf
  * config/wce/msvcarm.cf
  * config/wce/mingwarm.cf
  * config/wce/poccarm.cf
  * config/darwin/gcc.cf
  * config/hpux/gcc.cf
  * config/dos/djgpp.cf
  * config/win/icc.cf
  * config/win/cygwin.cf
  * config/win/msvc.cf
  * config/win/xcc.cf
  * config/win/mingw.cf
  * config/win/pocc.cf
  * config/win/bcc.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/linux/sunpro.cf
  * config/os2/gcc.cf
  * config/sunos/gcc.cf
  * config/sunos/sunpro.cf
    ; Cleaned LINKPATHS usage.
    % Using := instead of = assignment operator.
    ! Fixed spillage of external LINKPATHS content with some compilers.
    * Non-libpath related variable content moved to LDFLAGS.
    ; TODO: Rename 'LINKPATHS' to 'LIBPATHS'.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/wce/msvcarm.cf
    trunk/harbour/config/wce/poccarm.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/xcc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Aug 11 06:28:35 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 06:28:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12059] trunk/harbour
Message-ID: <E1Maoap-0007ek-N7@74yxhf1.ch3.sourceforge.com>

Revision: 12059
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12059&view=rev
Author:   vszakats
Date:     2009-08-11 10:28:34 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 12:28 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/darwin/gcc.cf
    ! Fixed double $(LINKLIBS) spec in LD_RULE.
      May have been intentional so after commit I'll test it on darwin.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/darwin/gcc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Aug 11 06:51:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 06:51:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12060] trunk/harbour
Message-ID: <E1Maowl-00005X-F2@bj8yhf1.ch3.sourceforge.com>

Revision: 12060
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12060&view=rev
Author:   vszakats
Date:     2009-08-11 10:51:14 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 12:50 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbcurl/hbcurl.c
    ! Silenced recently reintrod warning.

  * source/pp/Makefile
    + Indentation.

  * config/dos/djgpp.cf
  * config/linux/watcom.cf
  * config/os2/watcom.cf
    * Few hacks simplified.
    + Made available LDLIBS variable. (Optimized out or renamed)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/linux/watcom.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/contrib/hbcurl/hbcurl.c
    trunk/harbour/source/pp/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Aug 11 06:58:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 06:58:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12061] trunk/harbour
Message-ID: <E1Map3d-0000DN-7O@bj8yhf1.ch3.sourceforge.com>

Revision: 12061
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12061&view=rev
Author:   vszakats
Date:     2009-08-11 10:58:19 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 12:57 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/rules.cf
  * config/bsd/gcc.cf
  * config/wce/msvcarm.cf
  * config/wce/mingwarm.cf
  * config/wce/poccarm.cf
  * config/darwin/gcc.cf
  * config/hpux/gcc.cf
  * config/dos/watcom.cf
  * config/dos/djgpp.cf
  * config/win/watcom.cf
  * config/win/icc.cf
  * config/win/cygwin.cf
  * config/win/msvc.cf
  * config/win/xcc.cf
  * config/win/mingw.cf
  * config/win/pocc.cf
  * config/win/bcc.cf
  * config/linux/watcom.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/linux/sunpro.cf
  * config/os2/watcom.cf
  * config/os2/gcc.cf
  * config/sunos/gcc.cf
  * config/sunos/sunpro.cf
    * Renamed internal variable:
      LINKLIBS  -> LDLIBS

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/linux/watcom.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/rules.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/wce/msvcarm.cf
    trunk/harbour/config/wce/poccarm.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/config/win/xcc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Aug 11 07:01:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 07:01:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12062] trunk/harbour
Message-ID: <E1Map6L-0000Jb-Ud@bj8yhf1.ch3.sourceforge.com>

Revision: 12062
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12062&view=rev
Author:   vszakats
Date:     2009-08-11 11:01:08 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 13:00 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/bsd/gcc.cf
  * config/wce/msvcarm.cf
  * config/wce/mingwarm.cf
  * config/wce/poccarm.cf
  * config/hpux/gcc.cf
  * config/darwin/gcc.cf
  * config/dos/djgpp.cf
  * config/win/icc.cf
  * config/win/cygwin.cf
  * config/win/msvc.cf
  * config/win/xcc.cf
  * config/win/mingw.cf
  * config/win/pocc.cf
  * config/win/bcc.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/linux/sunpro.cf
  * config/os2/gcc.cf
  * config/sunos/gcc.cf
  * config/sunos/sunpro.cf
    * Renamed compiler local internal variable:
      LINKPATHS -> LIBPATHS

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/wce/msvcarm.cf
    trunk/harbour/config/wce/poccarm.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/xcc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Aug 11 07:15:55 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 11 07:16:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12063] trunk/harbour
Message-ID: <E1MapKd-0001Mp-It@d5vjzd1.ch3.sourceforge.com>

Revision: 12063
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12063&view=rev
Author:   druzus
Date:     2009-08-11 11:15:54 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 13:15 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/fstemp.c
    * enabled mkstmp() in SunOS builds (is it supported by MacOSX?)
    + added optional support for mkstemps() - it's disabled by default

  * harbour/contrib/xhb/hbcompat.ch
    ! removed some old not longer valid translations
      xHarbour developers should copy current hbcompat.ch from
      Harbour SVN to xHarbour CVS

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/hbcompat.ch
    trunk/harbour/source/rtl/fstemp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Aug 11 07:23:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 11 07:23:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12063] trunk/harbour
In-Reply-To: <E1MapKd-0001Mp-It@d5vjzd1.ch3.sourceforge.com>
References: <E1MapKd-0001Mp-It@d5vjzd1.ch3.sourceforge.com>
Message-ID: <3D519D29-EE8D-4D5A-912B-4C8545CE41F3@syenar.hu>

Here is darwin 'man mkstemp':
---
MKTEMP(3)                BSD Library Functions Manual                 
MKTEMP(3)

NAME
      mkdtemp, mkstemp, mktemp, mktemps -- make temporary file name  
(unique)

LIBRARY
      Standard C Library (libc, -lc)

SYNOPSIS
      #include <unistd.h>

      char *
      mkdtemp(char *template);

      int
      mkstemps(char *template, int suffixlen);

      #include <stdlib.h>

      int
      mkstemp(char *template);

      char *
      mktemp(char *template);

DESCRIPTION
      The mktemp() function takes the given file name template and  
overwrites a portion of it to create a file name.  This file name is  
guaranteed not to exist at the time of func-
      tion invocation and is suitable for use by the application.  The  
template may be any file name with some number of `Xs' appended to it,  
for example /tmp/temp.XXXXXX.  The
      trailing `Xs' are replaced with a unique alphanumeric  
combination.  The number of unique file names mktemp() can return  
depends on the number of `Xs' provided; six `Xs' will
      result in mktemp() selecting one of 56800235584 (62 ** 6)  
possible temporary file names.

      The mkstemp() function makes the same replacement to the  
template and creates the template file, mode 0600, returning a file  
descriptor opened for reading and writing.  This
      avoids the race between testing for a file's existence and  
opening it for use.

      The mkstemps() function acts the same as mkstemp(), except it  
permits a suffix to exist in the template.  The template should be of  
the form /tmp/tmpXXXXXXsuffix.  The
      mkstemps() function is told the length of the suffix string.

      The mkdtemp() function makes the same replacement to the  
template as in mktemp() and creates the template directory, mode 0700.

RETURN VALUES
      The mktemp() and mkdtemp() functions return a pointer to the  
template on success and NULL on failure.  The mkstemp() and mkstemps()  
functions return -1 if no suitable file
      could be created.  If either call fails an error code is placed  
in the global variable errno.

ERRORS
      The mkstemp(), mkstemps() and mkdtemp() functions may set errno  
to one of the following values:

      [ENOTDIR]          The pathname portion of the template is not  
an existing directory.

      The mkstemp(), mkstemps(), and mkdtemp() functions may also set  
errno to any value specified by the stat(2) function.

      The mkstemp() and mkstemps() functions may also set errno to any  
value specified by the open(2) function.

      The mkdtemp() function may also set errno to any value specified  
by the mkdir(2) function.

NOTES
      A common problem that results in a core dump is that the  
programmer passes in a read-only string to mktemp(), mkstemp(),  
mkstemps(), or mkdtemp().  This is common with pro-
      grams that were developed before ISO/IEC 9899:1990 (``ISO C90'')  
compilers were common.  For example, calling mkstemp() with an  
argument of "/tmp/tempfile.XXXXXX" will result
      in a core dump due to mkstemp() attempting to modify the string  
constant that was given.  If the program in question makes heavy use  
of that type of function call, you do have
      the option of compiling the program so that it will store string  
constants in a writable segment of memory.  See gcc(1) for more  
information.

BUGS
      This family of functions produces filenames which can be  
guessed, though the risk is minimized when large numbers of `Xs' are  
used to increase the number of possible temporary
      filenames.  This makes the race in mktemp(), between testing for  
a file's existence (in the mktemp() function call) and opening it for  
use (later in the user application) par-
      ticularly dangerous from a security perspective.  Whenever it is  
possible, mkstemp() should be used instead, since it does not have the  
race condition.  If mkstemp() cannot be
      used, the filename created by mktemp() should be created using  
the O_EXCL flag to open(2) and the return status of the call should be  
tested for failure.  This will ensure
      that the program does not continue blindly in the event that an  
attacker has already created the file with the intention of  
manipulating or reading its contents.

      The implementation of these functions calls arc4random(3), which  
is not reentrant.  You must provide your own locking around this and  
other consumers of the arc4random(3) API.

LEGACY SYNOPSIS
      #include <unistd.h>

      The include file <unistd.h> is necessary and sufficient for all  
functions.

SEE ALSO
      chmod(2), getpid(2), mkdir(2), open(2), stat(2), compat(5)

HISTORY
      A mktemp() function appeared in Version 7 AT&T UNIX.  The  
mkstemp() function appeared in 4.4BSD.  The mkdtemp() function first  
appeared in OpenBSD 2.2, and later in
      FreeBSD 3.2.  The mkstemps() function first appeared in OpenBSD  
2.4, and later in FreeBSD 3.4.
---

Brgds,
Viktor

On 2009.08.11., at 1:15, druzus@users.sourceforge.net wrote:

> Revision: 12063
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12063&view=rev
> Author:   druzus
> Date:     2009-08-11 11:15:54 +0000 (Tue, 11 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-11 13:15 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/source/rtl/fstemp.c
>    * enabled mkstmp() in SunOS builds (is it supported by MacOSX?)
>    + added optional support for mkstemps() - it's disabled by default
>
>  * harbour/contrib/xhb/hbcompat.ch
>    ! removed some old not longer valid translations
>      xHarbour developers should copy current hbcompat.ch from
>      Harbour SVN to xHarbour CVS
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/xhb/hbcompat.ch
>    trunk/harbour/source/rtl/fstemp.c
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Tue Aug 11 07:25:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 07:25:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12064] trunk/harbour
Message-ID: <E1MapTx-0007YZ-N6@c3vjzd1.ch3.sourceforge.com>

Revision: 12064
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12064&view=rev
Author:   vszakats
Date:     2009-08-11 11:25:32 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 13:24 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/pp/Makefile
    % := -> =

  * config/sunos/sunpro.cf
  * config/bsd/gcc.cf
  * config/wce/msvcarm.cf
  * config/wce/mingwarm.cf
  * config/wce/poccarm.cf
  * config/hpux/gcc.cf
  * config/darwin/gcc.cf
  * config/dos/watcom.cf
  * config/dos/djgpp.cf
  * config/win/watcom.cf
  * config/win/icc.cf
  * config/win/cygwin.cf
  * config/win/msvc.cf
  * config/win/xcc.cf
  * config/win/mingw.cf
  * config/win/pocc.cf
  * config/win/bcc.cf
  * config/linux/watcom.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/linux/sunpro.cf
  * config/os2/watcom.cf
  * config/os2/gcc.cf
  * config/sunos/gcc.cf
  * config/sunos/sunpro.cf
    * Cleaned LDLIBS usage:
    % Using := insteaf of =
    ! Fixed spillage of system defined LDLIBS var content.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/linux/watcom.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/wce/msvcarm.cf
    trunk/harbour/config/wce/poccarm.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/config/win/xcc.cf
    trunk/harbour/source/pp/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Tue Aug 11 07:30:23 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Aug 11 07:30:32 2009
Subject: [Harbour] Change BCC to MSVC
In-Reply-To: <h5qlht$49f$1@ger.gmane.org>
References: <h5qlht$49f$1@ger.gmane.org>
Message-ID: <531d7a750908110430g25e83af6ibbaebc30bb6e66d0@mail.gmail.com>

Your problem is exactly what this libraries are Borland -compatible.
They are in OMF format. Microsoft Visual C++ libraries are in COFF
format. You need to generate your own MSVC - compatible library.

Try:
http://www.pctoledo.com.br/forum/viewtopic.php?f=2&t=7463
http://www.fivewin.com.br/exibedicas.asp?id=751

[]'s
Vailton

2009/8/10 Itamar Lins <itamarlins@bol.com.br>:
> Hi!
> I need examples, now I am using hbmk2.
> How to link rmchart.lib in my project ?
> My file sciwin.hbm is:
> ------------8<-------
> -lrmchart.lib
> -inc
> sciwin.prg
> apuracao.prg
> bancos.prg
> ...
> ----------->8---------
> I using implib for make rmchar.lib.
> Get this; D:\DEV\HARBOUR\lib\rmchart.lib : fatal error LNK1136: invalid or
> corrupt file
> With BCC32 works fine.
>
> Best Regards,
> Itamar M. Lins Jr.
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From druzus at acn.waw.pl  Tue Aug 11 07:34:02 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 11 07:34:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12063] trunk/harbour
In-Reply-To: <3D519D29-EE8D-4D5A-912B-4C8545CE41F3@syenar.hu>
References: <E1MapKd-0001Mp-It@d5vjzd1.ch3.sourceforge.com>
	<3D519D29-EE8D-4D5A-912B-4C8545CE41F3@syenar.hu>
Message-ID: <20090811113402.GA8230@uran.home.aster.pl>

On Tue, 11 Aug 2009, Szak?ts Viktor wrote:

Hi,

> Here is darwin 'man mkstemp':
[...]

Thank you,

>| The implementation of these functions calls arc4random(3), which is 
>| not reentrant.  You must provide your own locking around this and other 
>| consumers of the arc4random(3) API.

I do not like it. It means that in MacOSX and probably in BSD builds
we will have to add mutex protection for MT mode. It's interesting
if also other functions we are using can use arc4random(), i.e.
random(). Can you check?

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Aug 11 07:47:19 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 11 07:47:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12063] trunk/harbour
In-Reply-To: <20090811113402.GA8230@uran.home.aster.pl>
References: <E1MapKd-0001Mp-It@d5vjzd1.ch3.sourceforge.com>
	<3D519D29-EE8D-4D5A-912B-4C8545CE41F3@syenar.hu>
	<20090811113402.GA8230@uran.home.aster.pl>
Message-ID: <A42E581D-BD03-4203-B77C-EED8679FC4E8@syenar.hu>

>> | The implementation of these functions calls arc4random(3), which is
>> | not reentrant.  You must provide your own locking around this and  
>> other
>> | consumers of the arc4random(3) API.
>
> I do not like it. It means that in MacOSX and probably in BSD builds
> we will have to add mutex protection for MT mode. It's interesting
> if also other functions we are using can use arc4random(), i.e.
> random(). Can you check?

man page says it doesn't, but they are recommending arc4random as a
crypto quality generator. I've also pasted arc4random manpage, which
says nothing explicitly about being non-reentrant, it reads from /dev/ 
urandom.

---
RANDOM(3)                BSD Library Functions Manual                 
RANDOM(3)

NAME
      initstate, random, setstate, srandom, srandomdev -- better  
random number generator; routines for changing generators

LIBRARY
      Standard C Library (libc, -lc)

SYNOPSIS
      #include <stdlib.h>

      char *
      initstate(unsigned seed, char *state, size_t size);

      long
      random(void);

      char *
      setstate(const char *state);

      void
      srandom(unsigned seed);

      void
      srandomdev(void);

DESCRIPTION
      The random() function uses a non-linear, additive feedback,  
random number generator, employing a default table of size 31 long  
integers.  It returns successive pseudo-random
      numbers in the range from 0 to (2**31)-1.  The period of this  
random number generator is very large, approximately 16*((2**31)-1).

      The random() and srandom() functions have (almost) the same  
calling sequence and initialization properties as the rand(3) and  
srand(3) functions.  The difference is that
      rand(3) produces a much less random sequence -- in fact, the low  
dozen bits generated by rand go through a cyclic pattern.  All of the  
bits generated by random() are usable.
      For example, `random()&01' will produce a random binary value.

      Like rand(3), random() will by default produce a sequence of  
numbers that can be duplicated by calling srandom() with `1' as the  
seed.

      The srandomdev() routine initializes a state array, using the  
random(4) random number device which returns good random numbers,  
suitable for cryptographic use.  Note that this
      particular seeding procedure can generate states which are  
impossible to reproduce by calling srandom() with any value, since the  
succeeding terms in the state buffer are no
      longer derived from the LC algorithm applied to a fixed seed.

      The initstate() routine allows a state array, passed in as an  
argument, to be initialized for future use.  The size of the state  
array (in bytes) is used by initstate() to
      decide how sophisticated a random number generator it should use  
-- the more state, the better the random numbers will be.  (Current  
"optimal" values for the amount of state
      information are 8, 32, 64, 128, and 256 bytes; other amounts  
will be rounded down to the nearest known amount.  Using less than 8  
bytes will cause an error.)  The seed for the
      initialization (which specifies a starting point for the random  
number sequence and provides for restarting at the same point) is also  
an argument.  The initstate() function
      returns a pointer to the previous state information array.

      Once a state has been initialized, the setstate() routine  
provides for rapid switching between states.  The setstate() function  
returns a pointer to the previous state array;
      its argument state array is used for further random number  
generation until the next call to initstate() or setstate().

      Once a state array has been initialized, it may be restarted at  
a different point either by calling initstate() (with the desired  
seed, the state array, and its size) or by
      calling both setstate() (with the state array) and srandom()  
(with the desired seed).  The advantage of calling both setstate() and  
srandom() is that the size of the state
      array does not have to be remembered after it is initialized.

      With 256 bytes of state information, the period of the random  
number generator is greater than 2**69 , which should be sufficient  
for most purposes.

AUTHORS
      Earl T. Cohen

DIAGNOSTICS
      If initstate() is called with less than 8 bytes of state  
information, or if setstate() detects that the state information has  
been garbled, error messages are printed on the
      standard error output.

LEGACY SYNOPSIS
      #include <stdlib.h>

      char *
      initstate(unsigned long seed, char *state, long size);

      char *
      setstate(char *state);

      void
      srandom(unsigned long seed);

      The type of each parameter is different in the legacy version.

SEE ALSO
      arc4random(3), rand(3), srand(3), random(4), compat(5)

HISTORY
      These functions appeared in 4.2BSD.

BUGS
      About 2/3 the speed of rand(3).

      The historical implementation used to have a very weak seeding;  
the random sequence did not vary much with the seed.  The current  
implementation employs a better pseudo-random
      number generator for the initial state calculation.

      Applications requiring cryptographic quality randomness should  
use arc4random(3).
---

And 'man arc4random':
---
ARC4RANDOM(3)            BSD Library Functions Manual             
ARC4RANDOM(3)

NAME
      arc4random, arc4random_stir, arc4random_addrandom -- arc4 random  
number generator

LIBRARY
      Standard C Library (libc, -lc)

SYNOPSIS
      #include <stdlib.h>

      u_int32_t
      arc4random(void);

      void
      arc4random_stir(void);

      void
      arc4random_addrandom(unsigned char *dat, int datlen);

DESCRIPTION
      The arc4random() function uses the key stream generator employed  
by the arc4 cipher, which uses 8*8 8 bit S-Boxes.  The S-Boxes can be  
in about (2**1700) states.  The
      arc4random() function returns pseudo-random numbers in the range  
of 0 to (2**32)-1, and therefore has twice the range of rand(3) and  
random(3).

      The arc4random_stir() function reads data from /dev/urandom and  
uses it to permute the S-Boxes via arc4random_addrandom().

      There is no need to call arc4random_stir() before using  
arc4random(), since arc4random() automatically initializes itself.

EXAMPLES
      The following produces a drop-in replacement for the traditional  
rand() and random() functions using arc4random():

            #define foo4random() (arc4random() % ((unsigned)RAND_MAX +  
1))

SEE ALSO
      rand(3), random(3), srandomdev(3)

HISTORY
      RC4 has been designed by RSA Data Security, Inc.  It was posted  
anonymously to the USENET and was confirmed to be equivalent by  
several sources who had access to the original
      cipher.  Since RC4 used to be a trade secret, the cipher is now  
referred to as ARC4.

BSD                             April 15,  
1997                             BSD
---

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Aug 11 08:00:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 08:00:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12065] trunk/harbour
Message-ID: <E1Maq1Q-0001Rl-F8@bj8yhf1.ch3.sourceforge.com>

Revision: 12065
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12065&view=rev
Author:   vszakats
Date:     2009-08-11 12:00:07 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 13:50 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/darwin/gcc.cf
    % Using custom LD_OUT instead of overriding while LD_RULE.

  * config/bsd/gcc.cf
  * config/wce/msvcarm.cf
  * config/wce/mingwarm.cf
  * config/wce/poccarm.cf
  * config/darwin/gcc.cf
  * config/hpux/gcc.cf
  * config/dos/watcom.cf
  * config/dos/djgpp.cf
  * config/win/watcom.cf
  * config/win/icc.cf
  * config/win/cygwin.cf
  * config/win/msvc.cf
  * config/win/xcc.cf
  * config/win/mingw.cf
  * config/win/pocc.cf
  * config/win/bcc.cf
  * config/linux/watcom.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/linux/sunpro.cf
  * config/os2/watcom.cf
  * config/os2/gcc.cf
  * config/sunos/gcc.cf
  * config/sunos/sunpro.cf
    * Cleaned LDFLAGS usage:
    % Using := instead of =
    ! Always initialize LDFLAGS to empty to prevent spillage of random values.
    * Moved lib specs included in LDFLAGS to LDLIBS.
    * Cleaned "DEBUG ALL" addition in watcom compilers.

  ; GNU Make .cf cleanup is about over. There could probably be done
    some additional optimizations, but it's already much cleaner, simpler
    and more efficient than it was until a few weeks ago.
    Still could be done: CFLAGS vs. CPPFLAGS usage accross compilers.
    *_RULE variables, revise redefinition needs, maybe change the central
    default, etc.

  * ChangeLog
    ! Typos in prev entry.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/linux/watcom.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/wce/msvcarm.cf
    trunk/harbour/config/wce/poccarm.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/config/win/xcc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Aug 11 08:06:02 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 08:06:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12066] trunk/harbour
Message-ID: <E1Maq78-0001bc-02@bj8yhf1.ch3.sourceforge.com>

Revision: 12066
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12066&view=rev
Author:   vszakats
Date:     2009-08-11 12:06:00 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 14:04 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/wce/poccarm.cf
  * config/win/xcc.cf
  * config/win/pocc.cf
    * Minor cosmeric change in some LDFLAGS/LD_OUT flags.

  * config/win/msvc.cf
    * Moved system libs to LDLIBS. (missed in prev round)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/poccarm.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/xcc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Aug 11 08:17:02 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 11 08:17:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12067] trunk/harbour
Message-ID: <E1MaqHm-0001wT-6i@bj8yhf1.ch3.sourceforge.com>

Revision: 12067
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12067&view=rev
Author:   druzus
Date:     2009-08-11 12:17:01 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 14:16 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/fstemp.c
    * enabled mkstemps() in *BSD and Darwin builds
    * enabled large file support and use mkstemp64() and mkstemps64()
      when available - please test with different *nixes

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/fstemp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Aug 11 08:35:55 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 11 08:36:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12063] trunk/harbour
In-Reply-To: <A42E581D-BD03-4203-B77C-EED8679FC4E8@syenar.hu>
References: <E1MapKd-0001Mp-It@d5vjzd1.ch3.sourceforge.com>
	<3D519D29-EE8D-4D5A-912B-4C8545CE41F3@syenar.hu>
	<20090811113402.GA8230@uran.home.aster.pl>
	<A42E581D-BD03-4203-B77C-EED8679FC4E8@syenar.hu>
Message-ID: <20090811123555.GA28701@uran.home.aster.pl>

On Tue, 11 Aug 2009, Szak?ts Viktor wrote:
>>> | The implementation of these functions calls arc4random(3), which is
>>> | not reentrant.  You must provide your own locking around this and other
>>> | consumers of the arc4random(3) API.
>> I do not like it. It means that in MacOSX and probably in BSD builds
>> we will have to add mutex protection for MT mode. It's interesting
>> if also other functions we are using can use arc4random(), i.e.
>> random(). Can you check?
> man page says it doesn't, but they are recommending arc4random as a
> crypto quality generator. I've also pasted arc4random manpage, which
> says nothing explicitly about being non-reentrant, it reads from 
> /dev/urandom.

Let's leave it as is. I hope that the info comes from some old
BSD implementation and know it's reentrant safe.
I've just enabled mkstemp[s][64]() for *BSD and Darwin builds.
Please report any posible problems.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Aug 11 08:40:35 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 11 08:40:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12040] trunk/harbour
In-Reply-To: <FDEBFC1C-69F2-4657-B7CC-2217EFDA63C5@syenar.hu>
References: <E1MabaC-00075o-2k@c3vjzd1.ch3.sourceforge.com>
	<20090811100217.GA25901@uran.home.aster.pl>
	<FDEBFC1C-69F2-4657-B7CC-2217EFDA63C5@syenar.hu>
Message-ID: <20090811124035.GB28701@uran.home.aster.pl>

On Tue, 11 Aug 2009, Szak?ts Viktor wrote:
>> Maybe we should add to RTL set of functions to swap bytes in numbers?
>> I.e. hb_swapI(), hb_swapW(), hb_swapL(), hb_swapU(), hb_swapLL()
>> The suffixes should correspond to BIN2?() functions but maybe you have
>> better proposition for names.
>> With such function tp_crc16() can be implemented as:
>> FUNCTION tp_crc16( cString )
>>   RETURN hb_swapW( hb_crcct( cString ) )
>> What do you think?
> I agree, can be useful. Maybe HB_BINSWAP*() would be a less
> generic name. It would also align with BIN2*() naming.

BIN in Clipper means binary representation so such name suggests
that argument is character string with result of *2BIN() function.
IMHO it should be rather NUM, i.e. HB_NUMSWAP*().

> The other question is what to expect from HB_BINSWAPL[L]()? Would it
> swap the two halves or would it reverse the bytes?

I thought about bytes swaping just like in __builtin_bswap*() GCC
functions. So maybe we should call it HB_BYTESWAP*()?

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Aug 11 08:43:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 11 08:43:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12040] trunk/harbour
In-Reply-To: <20090811124035.GB28701@uran.home.aster.pl>
References: <E1MabaC-00075o-2k@c3vjzd1.ch3.sourceforge.com>
	<20090811100217.GA25901@uran.home.aster.pl>
	<FDEBFC1C-69F2-4657-B7CC-2217EFDA63C5@syenar.hu>
	<20090811124035.GB28701@uran.home.aster.pl>
Message-ID: <6F430294-1102-43FF-90DE-BBB22EA2A528@syenar.hu>

> On Tue, 11 Aug 2009, Szak?ts Viktor wrote:
>>> Maybe we should add to RTL set of functions to swap bytes in  
>>> numbers?
>>> I.e. hb_swapI(), hb_swapW(), hb_swapL(), hb_swapU(), hb_swapLL()
>>> The suffixes should correspond to BIN2?() functions but maybe you  
>>> have
>>> better proposition for names.
>>> With such function tp_crc16() can be implemented as:
>>> FUNCTION tp_crc16( cString )
>>>  RETURN hb_swapW( hb_crcct( cString ) )
>>> What do you think?
>> I agree, can be useful. Maybe HB_BINSWAP*() would be a less
>> generic name. It would also align with BIN2*() naming.
>
> BIN in Clipper means binary representation so such name suggests
> that argument is character string with result of *2BIN() function.
> IMHO it should be rather NUM, i.e. HB_NUMSWAP*().

I agree.

>> The other question is what to expect from HB_BINSWAPL[L]()? Would it
>> swap the two halves or would it reverse the bytes?
>
> I thought about bytes swaping just like in __builtin_bswap*() GCC
> functions. So maybe we should call it HB_BYTESWAP*()?

Sounds good to me!

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Aug 11 09:06:02 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 09:06:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12068] trunk/harbour
Message-ID: <E1Mar3C-0003pt-KX@d5vjzd1.ch3.sourceforge.com>

Revision: 12068
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12068&view=rev
Author:   vszakats
Date:     2009-08-11 13:05:39 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 15:04 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/none.cf
  * config/lib.cf
  * config/bin.cf
  * config/dir.cf
  * config/dirsh.cf
    + Added $(MKFLAGS) to all internal $(MK) calls.
    + Initializing $(MKFLAGS) to --no-print-directory, which
      suppresses "Entering directory"/"Leaving directory" GNU
      Make messages. They can be useful for debugging, but for
      normal operation IMO they just add up to unnecessary
      clutter. Please tell if you think otherwise.
      Despite docs say it's enabled when using -C (change dir)
      option, I've only seen it enabled on win/dos platforms,
      so for other platforms (at least *nixes) this won't change
      behavior.
    + Added '@' prefix for $(MK) calls, so recursive GNU Make
      invocations won't be shown anymore on screen.
      Again, please tell if this isn't good, I'll also evaluate
      things this way and see whether to keep it. For sure on
      *nixes the GNU Make output is extremely short and clean
      now for a simple incremental make session. Sometimes though
      it's useful information when someone posts a log snippet.
    * Indentation.

  * config/dirsh.cf
    * Little consistency fix: Using $(MK) instead of $(MAKE).
      They are the same at this point.

  * config/global.cf
    + Shows $(MAKE) value as part of the configuration.

  * config/test.cf
    * Small change in wording: 'ignored' -> 'skipped'

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bin.cf
    trunk/harbour/config/dir.cf
    trunk/harbour/config/dirsh.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/lib.cf
    trunk/harbour/config/none.cf
    trunk/harbour/config/test.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Aug 11 09:20:46 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 11 09:20:53 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS II
In-Reply-To: <4A81432D.6000201@mail.udg.mx>
References: <4A81432D.6000201@mail.udg.mx>
Message-ID: <20090811132046.GC28701@uran.home.aster.pl>

On Tue, 11 Aug 2009, David Arturo Macias Corona wrote:

Hi David,

> This is an updated report:
> Current Harbour under OS/2
>  * $Id: ChangeLog 12055 2009-08-11 07:57:13Z vszakats $
>  2009-08-11 09:55 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
> a) gcc (GCC) 3.3.5 (Bird Build 2006-03-18 05:37)
>  make381 ( new version libc063 )
>  Without changes
>  Build / run fine.
>  Building time: 21 min
> Only known warnings:
> --------------------
> ../../../gtstd.c: In function `hb_gt_std_ReadKey':
> ../../../gtstd.c:412: warning: unused variable `TODO'
> ../../../sqlite3.c: In function `sqlite3_os_init':
> ../../../sqlite3.c:20798: warning: initialization from incompatible
> pointer type
> --------------------
>  make_gnu.log:
>   0 errors
>   0 warnings

Fine.

> b) OpenWatcom 1.8
>  make381 ( new version libc063 )
>  Without changes
>  Build / run fine
>   except hbrun.exe (failed before too):
> ---------------------
> SYS1811: The process has stopped.  The software diagnostic code
> (trap number) is  FFFF.
> ---------------------
>  Building time: 6 min

This seems to be problem we had in the past. HBRUN used some code which
causes such effect but I do not remember what it was. It's also possible
that I'm wrong and it's new problem.
Anyhow we will have to locate it.
Do other tools like hbtest, hb18n, hbformat, hbmk2 work for you?
What are hbtest results?
Can you use hbmk2 to create OpenWatcom OS2 binaries?

>  make_ow.log:
>   0 errors
>   many warnings
>   warnings for hbpp.lib (Duplicate symbol) has gone with your recent fix

Thanks for confirmation.

> Now we go to Watcom cross build:
> Current state are:
> OS/2 -> Win
>   Work partially
>   Binaries build in OS/2 run in Windows
>   Fail to create hbrun.exe due hbsocket.c
>   make_owos22win.zip with log info are in your mailbox since some days ago

Looks that winsock library should be explicitly set for OS2->WIN cross
build but we alread have in win/watcom.cf:
   @echo LIB ws2_32.lib >> __link__.tmp
which should resolve the problem.
I do not know why it was not working for you.

>   Main problem: config\win\watcom.cf must be changed to ADD workarounds
> for os2make381

Yes though I do not think we should add workround for os2make381
to other platforms. I hope that in the future it will be fixed and
I do not think that now many people will want to build Windows, DOS or
Linux binaries using OS2. If I'm wrong then please inform us and we
can add it.

> Win -> OS/2
>   Work
>   Binaries build in Windows run in OS/2, except hbrun.exe
>   Main problem: config\os2\watcom.cf must be changed to DELETE
> workarounds for os2make381
>   If we left workarounds show incompatibility:
> ( translated message: unexpected i in this moment )
> --------------------------------------
> echo ../../../../../lib/os2/watcom/hbcommon.lib > __lib__.tmp
> for %i in ( *.obj ) do @echo -+%i >> __lib__.tmp
> No se esperaba i en este momento.
> mingw32-make[3]: *** [hbcommon.lib] Error 255
> mingw32-make[3]: Leaving directory 
> `D:/harbour907f/harbour/source/common/obj/os2/watcom'
> mingw32-make[2]: *** [descend] Error 2
> --------------------------------------
> It is incompatibility between winmake381 and os2make381

Here the problem is OS shell not GNU make. WinNT CMD.EXE needs
%%i instead of %i. I'll commit fix in a while.

> and we can not have one group of watcom.cf files for native builds and 
> other for cross build
> Question: in your cross builds win->os2, linux->os2 have you seen this 
> error in expression ?
>   for %i in ( *.obj ) do @echo -+%i >> __lib__.tmp

I'm working with *nix like shell which used separate rule without above
FOR command.

> ../../../hbsocket.c(2265): Note! N392: col(8) definition: 'int TODO' in
> 'int hb_socketSetBlockingIO( int, unsigned long )'

Here maybe OS2 users can help. I do not know how to make it using
OpenWatcom OS2 API.

> tlabel.c(548): Warning! W013: col(18) unreachable code
> treport.c(1153): Warning! W013: col(18) unreachable code
[...]

This we probably have to pacify using #pragma warning directive.
Just ignore it.

> ../../../../thread.c(785): Warning! W869: col(25) use of '_beginthread'
> requires build target to be multi-threaded
> DAVID: OpenWatcom switch -bm not used yet
> As you remember it make execution slow

Yes and the slowness was caused only by very memory manager.
dlmalloc does not support OS2 but I modified it so it can be
compiled using OW1.8 for OS2 but I do not know if it works.
Can you check it? Just recompile Harbour with:
   set HB_USER_CFLAGS=-DHB_FM_DL_ALLOC
You will see a set of warnings from dlmalloc.c but just simply ignore
them. I'm interesting if final binaries like hbtest can be executed
later. If yes and the performance is acceptable then we can enabled
-bm with DLMALLOC.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Aug 11 09:25:33 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 11 09:25:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12069] trunk/harbour
Message-ID: <E1MarM5-0005qy-9X@3kljzd1.ch3.sourceforge.com>

Revision: 12069
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12069&view=rev
Author:   druzus
Date:     2009-08-11 13:25:32 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 15:25 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/os2/watcom.cf
    ! fixed FOR command in WINNT->OS2 cross builds. Please test if
      it works - I cannot without real Windows cmd.exe

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/os2/watcom.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Aug 11 09:47:24 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 09:47:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12070] trunk/harbour
Message-ID: <E1MarhE-0004ia-49@d5vjzd1.ch3.sourceforge.com>

Revision: 12070
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12070&view=rev
Author:   vszakats
Date:     2009-08-11 13:47:20 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 15:45 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * ChangeLog
    + Added [WORKS] to prev entry.

  * config/global.cf
    - Deleted '! Configuration' line.

  * config/instsh.cf
    + nt install rules moved to a subroutine, so the multicommand
      hack could be deleted.
    + os2 install rules modified to use the same line length limit
      avoiding technique as dos. Please test.
    ; QUESTION: Could an OS/2 user tell me whether $(CMDPREF) is
                *really* needed? This is the only place it's used,
                so I wonder. If not, we should delete it.
    * dos/os2 install command results are now ignored ('-' prefix)
      just like for other shells.
    + dos install rule now contains check for existing dir.
      Not currently required, I've added it for cleanness and to
      be in sync with other shell rules where such check is std.
    % define/endef extra empty lines deleted from where they weren't
      necessary.
    * Indentation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf
    trunk/harbour/config/instsh.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Aug 11 10:13:35 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 10:13:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12071] trunk/harbour
Message-ID: <E1Mas6Z-00077Z-3n@3kljzd1.ch3.sourceforge.com>

Revision: 12071
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12071&view=rev
Author:   vszakats
Date:     2009-08-11 14:13:33 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 16:12 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/bin.cf
    % Using := instead of = for 'BIN_NAME'.

  * config/dir.cf
    % Using := instead of = for 'comma'.

  * config/dos/watcom.cf
    % Using := instead of = for 'DOS4G'.

  * config/instsh.cf
    + Showing useful information instead of "! Done" in case
      of error situations.

  * config/dir.cf
  * config/global.cf
  * config/dos/watcom.cf
  * config/dos/djgpp.cf
  * config/win/watcom.cf
  * config/win/bcc.cf
  * config/instsh.cf
  * config/dirsh.cf
  * config/os2/watcom.cf
  * config/os2/gcc.cf
    + Indentation.
    * Syncing some common comments across files.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bin.cf
    trunk/harbour/config/dir.cf
    trunk/harbour/config/dirsh.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/instsh.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/watcom.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Tue Aug 11 10:14:54 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Tue Aug 11 10:14:04 2009
Subject: [Harbour] Unresolved external '_HB_FUN___OBJGETVALUEDIFF
Message-ID: <l2v285tqgrq86u0lt25ddef36mt4nc6c2g@4ax.com>

Hi friends,

I?m trying to use xhb.lib and this sample:

---cut---
function main()
   ? valtoprg( 1 )
return
---cut---

but I receive errors:

Error: Unresolved external '_HB_FUN_VALTOPRGEXP' referenced from
E:\HARBOUR\HARBOUR\LIB\XHB.LIB|xcstr
Error: Unresolved external '_HB_FUN___OBJGETVALUEDIFF' referenced from
E:\HARBOUR\HARBOUR\LIB\XHB.LIB|xcstr


What I?m doing wrong please ?


TIA.

Best regards,

Toninho.

__________________________________________________
Fa?a liga??es para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From harbour.01 at syenar.hu  Tue Aug 11 10:28:12 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 11 10:28:22 2009
Subject: [Harbour] Unresolved external '_HB_FUN___OBJGETVALUEDIFF
In-Reply-To: <l2v285tqgrq86u0lt25ddef36mt4nc6c2g@4ax.com>
References: <l2v285tqgrq86u0lt25ddef36mt4nc6c2g@4ax.com>
Message-ID: <F790DBB7-824B-4961-B788-54030BBDF7DD@syenar.hu>

Hi Toninho,

You're doing nothing wrong, just discovered some non-ported
dependencies of these xhb functions.

I've checked and these are for me too problematic functions
with several deeper dependencies so I wouldn't dare trying
to port them to Harbour.

I'd suggest to look around to use some alternative less-heavy
function, maybe they are also enough for your purpose.

Maybe someone will be able to port missing bits to Harbour,
which will be the best, if it's possible to do.

Brgds,
Viktor

On 2009.08.11., at 4:14, Toninho@fwi wrote:

> Hi friends,
>
> I?m trying to use xhb.lib and this sample:
>
> ---cut---
> function main()
>   ? valtoprg( 1 )
> return
> ---cut---
>
> but I receive errors:
>
> Error: Unresolved external '_HB_FUN_VALTOPRGEXP' referenced from
> E:\HARBOUR\HARBOUR\LIB\XHB.LIB|xcstr
> Error: Unresolved external '_HB_FUN___OBJGETVALUEDIFF' referenced from
> E:\HARBOUR\HARBOUR\LIB\XHB.LIB|xcstr
>
>
> What I?m doing wrong please ?
>
>
> TIA.
>
> Best regards,
>
> Toninho.
>
> __________________________________________________
> Fa?a liga??es para outros computadores com o novo Yahoo! Messenger
> http://br.beta.messenger.yahoo.com/
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Tue Aug 11 10:48:05 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 10:48:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12072] trunk/harbour
Message-ID: <E1Masdx-00058c-BN@74yxhf1.ch3.sourceforge.com>

Revision: 12072
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12072&view=rev
Author:   vszakats
Date:     2009-08-11 14:48:04 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 16:36 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/globsh.cf
  * config/win/bcc.cf
    + Added NOTEs about Windows NT family command-line length limits.
      It's 2047 for NT/2000 and 8191 for XP and upper.
      Seemingly also on Vista or Windows 7. Probably memory is still
      too expensive at MS ;) or, they want us to switch to PowerShell?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.cf
    trunk/harbour/config/win/bcc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Aug 11 11:14:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 11:14:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12073] trunk/harbour
Message-ID: <E1Mat3e-0005fq-9Q@74yxhf1.ch3.sourceforge.com>

Revision: 12073
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12073&view=rev
Author:   vszakats
Date:     2009-08-11 15:14:37 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 17:14 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * Makefile
    % Using := instead of =

  * tests/Makefile
    - Deleted support for 'pm' envvar.

  * config/global.cf
    + Added PM envvar to list of misc config vars.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/Makefile
    trunk/harbour/config/global.cf
    trunk/harbour/tests/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Aug 11 11:20:10 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 11 11:20:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12074] trunk/harbour
Message-ID: <E1Mat90-0004So-Rz@c3vjzd1.ch3.sourceforge.com>

Revision: 12074
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12074&view=rev
Author:   druzus
Date:     2009-08-11 15:20:09 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 17:19 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/xhb/trpccli.prg
    ! fixed typo in function name.
      Harbour has hb_inetPeriodCallback() not hb_inetSetPeriodCallback()

  * harbour/contrib/xhb/xcstr.prg
    ! disabled calling ValToPrgExp() used to serialize codeblocks
    ! use __objGetValueList() instead of __objGetValueDiff() which does
      not exist in Harbour

  * harbour/contrib/xhb/trpc.prg
    ! fixed xHarbour only function names: JoinThread() -> hb_threadJoin()
      and StopThread() -> hb_threadQuitRequest()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/trpc.prg
    trunk/harbour/contrib/xhb/trpccli.prg
    trunk/harbour/contrib/xhb/xcstr.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Aug 11 11:42:57 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 11:43:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12075] trunk/harbour
Message-ID: <E1MatV3-0006FL-AJ@74yxhf1.ch3.sourceforge.com>

Revision: 12075
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12075&view=rev
Author:   vszakats
Date:     2009-08-11 15:42:56 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 17:40 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  + tests/hbpptest/hbpptest.hbp
  + tests/bldtest/bldtest.hbp
  + tests/multifnc/multifnc.hbp
    + Added hbmk2 make files (quite simple ones) for these tests.
      Better make them independent of the core make system.
      This way they also work outside the source distribution, 
      f.e. when shipped inside a binary distro.

  - tests/hbpptest/Makefile
  - tests/bldtest/Makefile
  - tests/multifnc/Makefile
    - Deleted GNU Make files.

  - tests/Makefile
    - Deleted GNU Make file. hbmk2 is recommended to build these tests.
      The only missing feature compared to Makefile is auto-exclusion
      of "NOTEST" sources, anyway it's pretty apparent from first line
      of each source file, so it shouldn't be a problem.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/tests/bldtest/bldtest.hbp
    trunk/harbour/tests/hbpptest/hbpptest.hbp
    trunk/harbour/tests/multifnc/multifnc.hbp

Removed Paths:
-------------
    trunk/harbour/tests/Makefile
    trunk/harbour/tests/bldtest/Makefile
    trunk/harbour/tests/hbpptest/Makefile
    trunk/harbour/tests/multifnc/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From abe.buch at att.net  Tue Aug 11 11:44:27 2009
From: abe.buch at att.net (AbeB)
Date: Tue Aug 11 11:44:32 2009
Subject: [Harbour] error makeing Harbour for Wince with Pellec 6.0
Message-ID: <1250005467054-3424694.post@n2.nabble.com>


../../../filebuf.c(97): error #2139: Too many initializers.
../../../filebuf.c(97): error #2139: Too many initializers.
-- 
View this message in context: http://n2.nabble.com/error-makeing-Harbour-for-Wince-with-Pellec-6.0-tp3424694p3424694.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Tue Aug 11 11:47:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 11:47:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12076] trunk/harbour
Message-ID: <E1MatZ6-0006Kz-B3@74yxhf1.ch3.sourceforge.com>

Revision: 12076
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12076&view=rev
Author:   vszakats
Date:     2009-08-11 15:47:07 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 17:46 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
  * config/dir.cf
    - Deleted PM option. No longer needed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dir.cf
    trunk/harbour/config/global.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Tue Aug 11 12:23:32 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Tue Aug 11 12:22:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12074] trunk/harbour
In-Reply-To: <E1Mat90-0004So-Rz@c3vjzd1.ch3.sourceforge.com>
References: <E1Mat90-0004So-Rz@c3vjzd1.ch3.sourceforge.com>
Message-ID: <en6385psgqon14f1gdblcb07cq6c7v2c1v@4ax.com>

>  * harbour/contrib/xhb/xcstr.prg
>    ! disabled calling ValToPrgExp() used to serialize codeblocks
>    ! use __objGetValueList() instead of __objGetValueDiff() which does
>      not exist in Harbour

Thank you.

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From toninhofwi at yahoo.com.br  Tue Aug 11 12:24:15 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Tue Aug 11 12:23:23 2009
Subject: [Harbour] Unresolved external '_HB_FUN___OBJGETVALUEDIFF
In-Reply-To: <F790DBB7-824B-4961-B788-54030BBDF7DD@syenar.hu>
References: <l2v285tqgrq86u0lt25ddef36mt4nc6c2g@4ax.com>
	<F790DBB7-824B-4961-B788-54030BBDF7DD@syenar.hu>
Message-ID: <7o6385dfv3g4n9vi1bh9sifek085urd5rs@4ax.com>

>Maybe someone will be able to port missing bits to Harbour,
>which will be the best, if it's possible to do.

Hi Viktor, is fixed after:

2009-08-11 17:19 UTC+0200 Przemyslaw Czerpak


Regards,

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From druzus at acn.waw.pl  Tue Aug 11 13:52:29 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 11 13:52:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12075] trunk/harbour
In-Reply-To: <E1MatV3-0006FL-AJ@74yxhf1.ch3.sourceforge.com>
References: <E1MatV3-0006FL-AJ@74yxhf1.ch3.sourceforge.com>
Message-ID: <20090811175228.GA20525@uran.home.aster.pl>

On Tue, 11 Aug 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-08-11 17:40 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   - tests/hbpptest/Makefile
>   + tests/bldtest/bldtest.hbp
>     + Added hbmk2 make files (quite simple ones) for these tests.

This have to be reverted. bldtest.c is use to check if Harbour can
be compiled for given platform (OS/hardware) so it used to be compiled
before Harbour core code when hbmk2 does not exists.

best regards,
Przemek
From toninhofwi at users.sourceforge.net  Tue Aug 11 14:29:59 2009
From: toninhofwi at users.sourceforge.net (toninhofwi@users.sourceforge.net)
Date: Tue Aug 11 14:30:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12077] trunk/harbour
Message-ID: <E1Maw6h-0001A3-Kt@74yxhf1.ch3.sourceforge.com>

Revision: 12077
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12077&view=rev
Author:   toninhofwi
Date:     2009-08-11 18:29:58 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-11 15:35 UTC-0300 Antonio Carlos Pantaglione <toninho@fwi.com.br>
  * harbour/contrib/xhb/xcstr.prg
    ! fixed ValToPrgExp() to not use indexed strings

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/xcstr.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From itamarlins at bol.com.br  Tue Aug 11 15:31:11 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Tue Aug 11 15:32:44 2009
Subject: [Harbour] Re: Change BCC to MSVC
References: <h5qlht$49f$1@ger.gmane.org>
	<531d7a750908110430g25e83af6ibbaebc30bb6e66d0@mail.gmail.com>
Message-ID: <h5sh04$lvo$1@ger.gmane.org>

No correct, because I need example and this is link is other example for bcc 
not for msvc.
for bcc I use: implib rmchart.lib rmchart.dll. And for msvc ?

TIA,
Itamar M. Lins Jr. 



From itamarlins at bol.com.br  Tue Aug 11 16:25:38 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Tue Aug 11 16:27:11 2009
Subject: [Harbour] Re: Change BCC to MSVC
References: <h5qlht$49f$1@ger.gmane.org>
	<531d7a750908110430g25e83af6ibbaebc30bb6e66d0@mail.gmail.com>
Message-ID: <h5sk67$lga$1@ger.gmane.org>

Resolved
bcc55\bin\impdef.exe rmchart.def rmchart.dll
lib /def:rmchart.def

Regards,
Itamar M. Lins Jr. 



From vszakats at users.sourceforge.net  Tue Aug 11 18:08:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 11 18:08:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12078] trunk/harbour
Message-ID: <E1MazWM-0004RH-1H@c3vjzd1.ch3.sourceforge.com>

Revision: 12078
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12078&view=rev
Author:   vszakats
Date:     2009-08-11 22:08:41 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-12 00:07 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  - tests/bldtest/bldtest.hbp
  + tests/bldtest/Makefile
    ! Restored GNU Make file.
      Maybe we should move this file to somewhere else, perhaps
      inside /config to better serve its purpose.

  * config/global.cf
    + Added another setting to raw setting list.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf

Added Paths:
-----------
    trunk/harbour/tests/bldtest/Makefile

Removed Paths:
-------------
    trunk/harbour/tests/bldtest/bldtest.hbp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Aug 11 18:16:04 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 11 18:16:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12079] trunk/harbour
Message-ID: <E1MazdU-0004bR-LP@c3vjzd1.ch3.sourceforge.com>

Revision: 12079
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12079&view=rev
Author:   druzus
Date:     2009-08-11 22:16:01 +0000 (Tue, 11 Aug 2009)

Log Message:
-----------
2009-08-12 00:15 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/xhb/xcstr.prg
    % fixed fatal for performance code used to serialize hash arrays
      in ValToPrg() functions. I know that xHarbour does not have native
      support for hash array iteration in FOR EACH statements so it's
      necessary to make some hacks but even there serialization can be
      quite easy done by simple FOR/NEXT loop and function calls to
      access given keys and values.
      Please remember that sending :keys or :values messages to hash
      arrays is very expensive in both languages because each time
      new array is created with copy of all key or values items.
      In the old code :values message was send inside a loop so to serialize
      hash array with 1000 items it was created 1000 arrays with 1000
      items inside each of them. It means 1000000 unnecessary item copy
      calls. Modern computers are very fast but such code can kill the
      performance on any hardware. It's also classic example when forcing
      FOR EACH usage in all places can give code thousands times slower
      then code using simple FOR/NEXT.
    % few minor optimizations

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/xcstr.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Aug 11 18:18:25 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 11 18:18:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12078] trunk/harbour
In-Reply-To: <E1MazWM-0004RH-1H@c3vjzd1.ch3.sourceforge.com>
References: <E1MazWM-0004RH-1H@c3vjzd1.ch3.sourceforge.com>
Message-ID: <20090811221825.GA2419@uran.home.aster.pl>

On Tue, 11 Aug 2009, vszakats@users.sourceforge.net wrote:
> 2009-08-12 00:07 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   - tests/bldtest/bldtest.hbp
>   + tests/bldtest/Makefile
>     ! Restored GNU Make file.
>       Maybe we should move this file to somewhere else, perhaps
>       inside /config to better serve its purpose.

Thank you,

best regards,
Przemek
From itamarlins at bol.com.br  Tue Aug 11 19:46:07 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Tue Aug 11 19:47:36 2009
Subject: [Harbour] Off Topic - LetoDb hmk2
Message-ID: <h5svu4$5s1$1@ger.gmane.org>

Hi!
To Guru Mr. Viktor Szakats!
file letodb.hbp not make rddleto.lib first with MSVC.
hbmk: Processando arquivo de configura?Æo: D:\DEV\HARBOUR\BIN\hbmk.cfg
hbmk: Processando: rddleto.hbc
hbmk: Linkando... bin\letodb.exe
LINK : fatal error LNK1181: cannot open input file 'rddleto.lib'
But is wrong, first is necessary make rddleto.lib.

#
# $Id: letodb.hbp,v 1.5 2009/07/29 11:24:58 alkresin Exp $
#

-inc
-obin/letodb
-iinclude
-n -w -q0 -es2
-prgflag={unix}-D__LINUX_DAEMON__
-prgflag={unix}-D__LINUX__
-prgflag={win}-D__WIN_DAEMON__
-cflag={allmsvc}-D_CRT_SECURE_NO_DEPRECATE
-gui
-mt

source/server/server.prg
source/server/errorsys.prg
source/server/errint.c
{unix}source/server/leto_lnx.c
{win}source/server/leto_win.c
source/server/letoacc.c
source/server/letofunc.c

source/common/blowfish.c
source/common/common_c.c
source/common/hbip.c
source/common/net.c
source/common/common.prg



From druzus at acn.waw.pl  Tue Aug 11 20:00:53 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 11 20:00:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11967] trunk/harbour
In-Reply-To: <alpine.GSO.2.00.0908101237540.4352@dawn.royalcomp.hu>
References: <E1MY8uq-0000tt-Lm@dn4whf1.ch3.sourceforge.com>
	<20090810090557.GA6715@uran.home.aster.pl>
	<4E73F1F0-2152-4806-B81E-DA8029601971@syenar.hu>
	<alpine.GSO.2.00.0908101237540.4352@dawn.royalcomp.hu>
Message-ID: <20090812000053.GA24653@uran.home.aster.pl>

On Mon, 10 Aug 2009, Tamas TEVESZ wrote:

Hi,

>  > > > * config/linux/sunpro.cf
>  > > >   ! Fixed to include gpm lib.
>  > > > ; TOFIX: linux/sunpro linking dies on:
>  > > >          ../../../../../lib/linux/sunpro/libhbpcre.a(pcrecomp.o): In
>  > > > function `check_auto_possessive':
>  > > >          pcrecomp.c:(.text+0x2952): undefined reference to `.CG4A.3263'
>  > > >          pcrecomp.c:(.text+0x2959): undefined reference to `.CG4A.3263'
>  > > >          pcrecomp.c:(.text+0x2b29): undefined reference to `.CG40.3253'
>  > > >          pcrecomp.c:(.text+0x2b30): undefined reference to `.CG40.3253'
>  > > It's the results of mixed -xbuiltin=%all (implied by -fast) used with -KPIC
>  > > flag. It's probably bug in Linux port of Sun C compiler which is exploited
>  > > by code in source/hbpcre/pcrecomp.c.
>  > > Using -fast introduces problems to math operations due to not IEEE safe
>  > > FL arithmetic optimizations (it can be seen in hbtest results). It also
>  > > strongly reduces portability of created binaries. Code compiled with
>  > > -fast uses all local CPU features so cannot be executed by other processors
>  > > from the same family (x86 or SPARC). Please also note that -fast is on
>  > > the flags which have to be used for compiling and linking: both linker
>  > > and compiler have to know about some switches enabled by it.
> i'll revisit the use of -fast then. the current flags were taken 
> verbatim from the blastwave docs as a starting point, though it is 
> true that they are using a quite different build environment than i do 
> (i'm still in the process of coughing up something that resembles 
> theirs).
> it is also true that they only do solaris, and frankly, linux/sunpro 
> was a complete accident ;), but it can't be worse by more people 
> keeping an eye on it.

I've just check that exactly the same link time problem exist in
SunOS@x86:

ld: fatal: relocation error: R_386_GOTOFF: file ../../../../../lib/sunos/sunpro/libhbpcre.a(pcrecomp.o): symbol .CG44.3465: a GOT relative relocation must reference a local symbol
ld: fatal: relocation error: R_386_GOTOFF: file ../../../../../lib/sunos/sunpro/libhbpcre.a(pcrecomp.o): symbol .CG44.3465: a GOT relative relocation must reference a local symbol
ld: fatal: relocation error: R_386_GOTOFF: file ../../../../../lib/sunos/sunpro/libhbpcre.a(pcrecomp.o): symbol .CG3A.3455: a GOT relative relocation must reference a local symbol
ld: fatal: relocation error: R_386_GOTOFF: file ../../../../../lib/sunos/sunpro/libhbpcre.a(pcrecomp.o): symbol .CG3A.3455: a GOT relative relocation must reference a local symbol

so it seems to be bug in x86 port of Sun C compiler.
I had to add -xbuiltin=%none to HB_USER_CFLAGS as workaround.

>  > > I also do not understand why we have this setting in linux/sunpro.cf:
>  > >  HB_ISAOPT ?= -xarch=386
>  > > Linux perfectly well works on different 32 and 64 bit SPARC CPUs.
> this has nothing to do with sparclinux. there is no sunpro for 
> sparclinux, so that combination wouldn't fly at all. linux/sunpro* is 
> only for ia32 and x86_64 targets.

so it does not make anything and it may only create problems if sunpro C
is released for Linux@SPARC.
In such case it should be removed. Now real problem is created by
   HB_ISAOPT ?= -xarch=v8
in sunos/sunpro.cf when you try to use sunpro with SunOS@x86.
I also see that -xstrconst and sunpro manual says that it's depreciated
and read only strings are default now so probably this also can be removed.

>  > > This part for sure have to be removed.
>  > > The second thing I do not understand is why we have linux/sunpro64.cf
>  > > with:
>  > >  HB_ISAOPT = -m64
>  > >  include $(TOP)$(ROOT)config/linux/sunpro.cf
>  > > -m32 and -m64 are compile and link time switches to force 32 or 64 bit
>  > > model. The default model depends on host CPU and default compiler/OS
>  > > settings. In general on 64 bit platforms -m32 can be used to force
>  > > 32bit memory model and on 32 bit platforms -m64 can be used to force
>  > > 64bit memory model. In most of cases it means cross compilation though
>  > > many of 64bit platforms can execute 32bit binaries so programs compiled
>  > > with -m32 can be executed as native binaries. Some of such 64bit platforms
>  > > can even use -m32 mode as default. GCC also have above such switches on
>  > > most of platforms which supports 32 and 64 bit modes but I do not know
> i've played with this stuff quite extensively (on linux), and while 
> basically true, practically it's a can of worms. the thing is, unless 
> you pick a platform that is well supplied with both 32- and 64-bit 
> binaries (libs, mostly, of course), you can hardly build even core hb 
> - i had absolutely no luck with ubuntu (simply too much ia32-* stuff 
> are missing for a hb build to be even remotely useful), whereas 
> centos5 (rhel5) is much more friendly in this regard (i wouldn't mind 
> someone with some suse-experience chiming in).
> i had INSTALL diffs somewhere explaining this, but they seemingly got 
> lost; will redo them in due course.

Yes not all distributions gives full support for both modes.
Anyhow from sunpro manual:

     Note that in previous compiler releases, the memory model, ILP32
     or LP64, was implied by the choice of the instruction set with
     -xarch. Starting with the Sun Studio 12 compilers, this is no
     longer the case. On most platforms, just adding -m64 to the com-
     mand line is sufficient to create 64-bit objects.

     On Solaris, -m32 is the default. On Linux systems supporting
     64-bit programs, -m64 -xarch=sse2 is the default.

so for SunOS@x86 sunpro64.cf is usable only if you wany to force compilation
of 64bit binaries using 32bit computer. It's a cross compilation which cannot
work because 32 bit computers cannot execute 64bit harbour compiler binaries.
It also have to be fixed.
IMHO pure sunpro.cf for Linux and SunOS should not have any switches which
will force given CPU type for cross compilation or memory model. Instead
it should always produce native binaries so anyone can simply use it on
any computer. Then if you want you can add many different sunpro*.cf files
with customized for CPU or cross compilation settings though it will make
compiler autodetection harder. I hope that we agreed it two weeks ago.

>  > > if it works in MS-Windows and MinGW now - 64bit support is quite new
>  > > in MinGW so it may not be ready yet.
>  > > Can you explain me what is your goal in adding separate linux/sunpro64.cf?
> that you can (given you have the necessary libs n stuff) compile 
> 32-bit target on a 64-bit system. this is what the variants without 
> *64 do, on both linux and solaris. 

no it doesn't. Documentation says that using sunpro for x86 (both linux
and sunos) it's necessary to explicitly set -m32 to force 32 bit mode.
It has to be redesigned.

> i wouldn't think this to be bad, though i am completely open to do it 
> by other means. just kick me in the direction that fits your idea.

1-st of all sunpro.cf have to be usable for any hardware and OS
combination supported by sunpro C compiler and produce default
native binaries.
Then for users who do not like to use HB_USER_CFLAGS/HB_USER_LDFLAGS
to customise binaries you can add sunpro32.cf/sunpro64.cf/sunpro*.cf
with -m32/-m64 or any other hardware dependent settings to force some
memory model or cross compilation.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Aug 11 20:05:27 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 11 20:05:35 2009
Subject: [Harbour] Off Topic - LetoDb hmk2
In-Reply-To: <h5svu4$5s1$1@ger.gmane.org>
References: <h5svu4$5s1$1@ger.gmane.org>
Message-ID: <EA973474-CF19-44EC-A6B1-3BD9562C63B8@syenar.hu>

Hi Itamar,

Yes, that's right, you need to take care of building
components in correct order:

hbmk2 rddleto.hbp letodb.hbp

(see readme.txt with these instructions)

Brgds,
Viktor

On 2009.08.12., at 1:46, Itamar Lins wrote:

> Hi!
> To Guru Mr. Viktor Szakats!
> file letodb.hbp not make rddleto.lib first with MSVC.
> hbmk: Processando arquivo de configura??o: D:\DEV\HARBOUR\BIN\hbmk.cfg
> hbmk: Processando: rddleto.hbc
> hbmk: Linkando... bin\letodb.exe
> LINK : fatal error LNK1181: cannot open input file 'rddleto.lib'
> But is wrong, first is necessary make rddleto.lib.
>
> #
> # $Id: letodb.hbp,v 1.5 2009/07/29 11:24:58 alkresin Exp $
> #
>
> -inc
> -obin/letodb
> -iinclude
> -n -w -q0 -es2
> -prgflag={unix}-D__LINUX_DAEMON__
> -prgflag={unix}-D__LINUX__
> -prgflag={win}-D__WIN_DAEMON__
> -cflag={allmsvc}-D_CRT_SECURE_NO_DEPRECATE
> -gui
> -mt
>
> source/server/server.prg
> source/server/errorsys.prg
> source/server/errint.c
> {unix}source/server/leto_lnx.c
> {win}source/server/leto_win.c
> source/server/letoacc.c
> source/server/letofunc.c
>
> source/common/blowfish.c
> source/common/common_c.c
> source/common/hbip.c
> source/common/net.c
> source/common/common.prg
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From itamarlins at bol.com.br  Tue Aug 11 20:13:26 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Tue Aug 11 20:14:56 2009
Subject: [Harbour] Re: Off Topic - LetoDb hmk2
References: <h5svu4$5s1$1@ger.gmane.org>
	<EA973474-CF19-44EC-A6B1-3BD9562C63B8@syenar.hu>
Message-ID: <h5t1hb$kcu$1@ger.gmane.org>

Hi!
Thank you very much.

Best Regards,
Itamar M. Lins Jr.

"Viktor Szakáts" <harbour.01@syenar.hu> 
escreveu na mensagem news:EA973474-CF19-44EC-A6B1-3BD9562C63B8@syenar.hu...
Hi Itamar,

Yes, that's right, you need to take care of building
components in correct order:

hbmk2 rddleto.hbp letodb.hbp

(see readme.txt with these instructions)

Brgds,
Viktor

On 2009.08.12., at 1:46, Itamar Lins wrote:

> Hi!
> To Guru Mr. Viktor Szakats!
> file letodb.hbp not make rddleto.lib first with MSVC.
> hbmk: Processando arquivo de configura?Æo: D:\DEV\HARBOUR\BIN\hbmk.cfg
> hbmk: Processando: rddleto.hbc
> hbmk: Linkando... bin\letodb.exe
> LINK : fatal error LNK1181: cannot open input file 'rddleto.lib'
> But is wrong, first is necessary make rddleto.lib.
>
> #
> # $Id: letodb.hbp,v 1.5 2009/07/29 11:24:58 alkresin Exp $
> #
>
> -inc
> -obin/letodb
> -iinclude
> -n -w -q0 -es2
> -prgflag={unix}-D__LINUX_DAEMON__
> -prgflag={unix}-D__LINUX__
> -prgflag={win}-D__WIN_DAEMON__
> -cflag={allmsvc}-D_CRT_SECURE_NO_DEPRECATE
> -gui
> -mt
>
> source/server/server.prg
> source/server/errorsys.prg
> source/server/errint.c
> {unix}source/server/leto_lnx.c
> {win}source/server/leto_win.c
> source/server/letoacc.c
> source/server/letofunc.c
>
> source/common/blowfish.c
> source/common/common_c.c
> source/common/hbip.c
> source/common/net.c
> source/common/common.prg
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour



From qiinfo at ig.com.br  Tue Aug 11 20:33:54 2009
From: qiinfo at ig.com.br (Rossine)
Date: Tue Aug 11 20:34:00 2009
Subject: [Harbour] Change BCC to MSVC
In-Reply-To: <h5sh04$lvo$1@ger.gmane.org>
References: <h5qlht$49f$1@ger.gmane.org>
	<531d7a750908110430g25e83af6ibbaebc30bb6e66d0@mail.gmail.com>
	<h5sh04$lvo$1@ger.gmane.org>
Message-ID: <24928139.post@talk.nabble.com>


Hello Itamar, 

This is my batch to convert DLL to Lib using MSVC. Try this:

[BATCH]

@if exist %1.lib del %1.lib > nul
@if exist *.exp  del *.exp > nul
@if exist *.def  del *.def > nul

if "%1" == "" goto help

if not exist %1.dll goto notfound

rem pexports.exe %1 > _temp_.def 
impdef.exe %2 %1.def %1.dll

if errorlevel 1 goto errodef

lib /def:%1.def

if errorlevel 1 echo Error creating .LIB...

goto fim

:help
echo Usage: dll2lib input.dll [output.lib]
goto fim

:notfound
echo ERROR: File not found "%1"
goto fim

:errodef
echo Error extracting .DEF...
goto fim

:fim

rem @if exist *.exp del *.exp > nul
rem @if exist *.def del *.def > nul
[ENDBATCH]

Regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/Change-BCC-to-MSVC-tp24910812p24928139.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From itamarlins at bol.com.br  Tue Aug 11 20:35:23 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Tue Aug 11 20:36:52 2009
Subject: [Harbour] Re: Off Topic - Letodb multiply defined symbols found
References: <h5svu4$5s1$1@ger.gmane.org>
	<EA973474-CF19-44EC-A6B1-3BD9562C63B8@syenar.hu>
Message-ID: <h5t2qg$vrf$1@ger.gmane.org>

Hi again,
I get this error.
hbrtl.lib(hbsocket.obj) : error LNK2005: _hb_socketConnect already defined 
in rddleto.lib(hbip.obj)

How to resolve?

Thanks,
Itamar M. Lins Jr. 



From harbour.01 at syenar.hu  Tue Aug 11 20:44:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 11 20:44:28 2009
Subject: [Harbour] Change BCC to MSVC
In-Reply-To: <24928139.post@talk.nabble.com>
References: <h5qlht$49f$1@ger.gmane.org>
	<531d7a750908110430g25e83af6ibbaebc30bb6e66d0@mail.gmail.com>
	<h5sh04$lvo$1@ger.gmane.org> <24928139.post@talk.nabble.com>
Message-ID: <CE0E73A4-831A-4BC0-B093-A9B6AC93A7A7@syenar.hu>

There is also bin/hb-mkimp.bat inside the Harbour source
tree which solves the problem for most C compilers supported
by Harbour. Should be quite easy to adapt the logic for any
.dll file.

Maybe in the future this process will be built inside hbmk2,
I'll have to think about it. For sure on some compilers
it's opening a can of worms (= f.e. bcc's implib seems to be
buggy).

Brgds,
Viktor

On 2009.08.12., at 2:33, Rossine wrote:

>
> Hello Itamar,
>
> This is my batch to convert DLL to Lib using MSVC. Try this:
>
> [BATCH]
>
> @if exist %1.lib del %1.lib > nul
> @if exist *.exp  del *.exp > nul
> @if exist *.def  del *.def > nul
>
> if "%1" == "" goto help
>
> if not exist %1.dll goto notfound
>
> rem pexports.exe %1 > _temp_.def
> impdef.exe %2 %1.def %1.dll
>
> if errorlevel 1 goto errodef
>
> lib /def:%1.def
>
> if errorlevel 1 echo Error creating .LIB...
>
> goto fim
>
> :help
> echo Usage: dll2lib input.dll [output.lib]
> goto fim
>
> :notfound
> echo ERROR: File not found "%1"
> goto fim
>
> :errodef
> echo Error extracting .DEF...
> goto fim
>
> :fim
>
> rem @if exist *.exp del *.exp > nul
> rem @if exist *.def del *.def > nul
> [ENDBATCH]
>
> Regards,
>
> Rossine.
>
> -- 
> View this message in context: http://www.nabble.com/Change-BCC-to-MSVC-tp24910812p24928139.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Wed Aug 12 01:26:19 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Aug 12 01:26:26 2009
Subject: [Harbour] Wrong C compiler autodetection
Message-ID: <9257026e0908112226h4aaf4683r28d8f00037f7d382@mail.gmail.com>

Today under Fedora 11 I get:

make all
! MAKE: make
! MAKE: make
! HB_INSTALL_PREFIX: /opt/harbour
! Autodetected C compiler: watcom
...

and after:
...
wpp386  -zq -bt=linux -w3 -6r -fp6 -onaehtr -s -ei -zp4 -zt0 -oi+ -i.
-i../../../../../include       ../../../expropt1.c -fo=expropt1.o
make[3]: wpp386: Command not found
...

The only C compiler I've installed is the gcc that comes from the distro.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Wed Aug 12 03:33:11 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Aug 12 03:33:18 2009
Subject: [Harbour] Wrong C compiler autodetection and prg.cf errors under
	msys
Message-ID: <9257026e0908120033y3057a6a2p5b0c7001f0cbb712@mail.gmail.com>

After svn update 12079, under Windows XP msys I get:

$ make clean
! MAKE: make
! MAKE: make
! HB_INSTALL_PREFIX: /opt/harbour
! Autodetected C compiler: mingwarm
! HB_BIN_COMPILE not specified. Automatically set to: ./bin/win/mingw/
! HB_BIN_COMPILE not specified. Automatically set to: ../bin/win/mingw/
...

The C compiler is mingw TDM 4.4.0

while using make_gnu.sh seems to work but I I get errors in prg.cf:

$ ./make_gnu.sh clean
! MAKE: make
! MAKE: make
! HB_INSTALL_PREFIX: /opt/harbour
! HB_BIN_INSTALL: /opt/harbour/bin
! HB_LIB_INSTALL: /opt/harbour/lib
! HB_INC_INSTALL: /opt/harbour/include
! HB_DOC_INSTALL: /opt/harbour/doc
! 'gtcrs' library skipped
...
../../config/prg.cf:13: target `
' doesn't match the target pattern
../../config/prg.cf:15: target `
' doesn't match the target pattern
! 'hbssl' library skipped

best regards,
Lorenzo
From harbour.01 at syenar.hu  Wed Aug 12 03:36:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 12 03:36:24 2009
Subject: [Harbour] Wrong C compiler autodetection
In-Reply-To: <9257026e0908112226h4aaf4683r28d8f00037f7d382@mail.gmail.com>
References: <9257026e0908112226h4aaf4683r28d8f00037f7d382@mail.gmail.com>
Message-ID: <BA191931-7282-44B8-B5F6-CC535F5F4C2D@syenar.hu>

Hi Lorenzo,

Thanks, it's caused by some formatting yesterday.
Seems like blocks inside define/endef cannot be
indented without side effect, I'll revise them.

Brgds,
Viktor

On 2009.08.12., at 7:26, Lorenzo Fiorini wrote:

> Today under Fedora 11 I get:
>
> make all
> ! MAKE: make
> ! MAKE: make
> ! HB_INSTALL_PREFIX: /opt/harbour
> ! Autodetected C compiler: watcom
> ...
>
> and after:
> ...
> wpp386  -zq -bt=linux -w3 -6r -fp6 -onaehtr -s -ei -zp4 -zt0 -oi+ -i.
> -i../../../../../include       ../../../expropt1.c -fo=expropt1.o
> make[3]: wpp386: Command not found
> ...
>
> The only C compiler I've installed is the gcc that comes from the  
> distro.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Wed Aug 12 03:45:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 12 03:45:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12080] trunk/harbour
Message-ID: <E1Mb8Wn-0008Th-Jv@d5vjzd1.ch3.sourceforge.com>

Revision: 12080
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12080&view=rev
Author:   vszakats
Date:     2009-08-12 07:45:44 +0000 (Wed, 12 Aug 2009)

Log Message:
-----------

2009-08-12 09:43 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
    ! Fixed to not indent one define/endef block.
      I've actually even warned for this in comment, but ignored
      it by mistake yesterday, and broke compiler autodetection.

  * config/instsh.cf
    % Deleted $(CMDPREF) from OS/2 rules. Please test it and report
      if it broke.

  * config/os2/watcom.cf
  * config/os2/gcc.cf
    + Added '@' prefix for echo cmds.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf
    trunk/harbour/config/instsh.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/os2/watcom.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Aug 12 03:47:13 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 12 03:47:22 2009
Subject: [Harbour] Wrong C compiler autodetection and prg.cf errors under
	msys
In-Reply-To: <9257026e0908120033y3057a6a2p5b0c7001f0cbb712@mail.gmail.com>
References: <9257026e0908120033y3057a6a2p5b0c7001f0cbb712@mail.gmail.com>
Message-ID: <5D501610-0648-44AC-A8AA-D5DEFBB481CB@syenar.hu>

> After svn update 12079, under Windows XP msys I get:
>
> $ make clean
> ! MAKE: make
> ! MAKE: make
> ! HB_INSTALL_PREFIX: /opt/harbour
> ! Autodetected C compiler: mingwarm
> ! HB_BIN_COMPILE not specified. Automatically set to: ./bin/win/mingw/
> ! HB_BIN_COMPILE not specified. Automatically set to: ../bin/win/ 
> mingw/

Wrong autodetection for all platforms/compilers due to stupid mistake
yesterday. Pls recheck after 12080.

> ...
>
> The C compiler is mingw TDM 4.4.0
>
> while using make_gnu.sh seems to work but I I get errors in prg.cf:
>
> $ ./make_gnu.sh clean
> ! MAKE: make
> ! MAKE: make
> ! HB_INSTALL_PREFIX: /opt/harbour
> ! HB_BIN_INSTALL: /opt/harbour/bin
> ! HB_LIB_INSTALL: /opt/harbour/lib
> ! HB_INC_INSTALL: /opt/harbour/include
> ! HB_DOC_INSTALL: /opt/harbour/doc
> ! 'gtcrs' library skipped
> ...
> ../../config/prg.cf:13: target `
> ' doesn't match the target pattern
> ../../config/prg.cf:15: target `
> ' doesn't match the target pattern
> ! 'hbssl' library skipped

Not much ideas here :(

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Wed Aug 12 04:02:26 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Aug 12 04:02:32 2009
Subject: [Harbour] Wrong C compiler autodetection and prg.cf errors under 
	msys
In-Reply-To: <5D501610-0648-44AC-A8AA-D5DEFBB481CB@syenar.hu>
References: <9257026e0908120033y3057a6a2p5b0c7001f0cbb712@mail.gmail.com>
	<5D501610-0648-44AC-A8AA-D5DEFBB481CB@syenar.hu>
Message-ID: <9257026e0908120102h14d79760j5a4dddd0d54c6795@mail.gmail.com>

On Wed, Aug 12, 2009 at 9:47 AM, Viktor Szak?ts<harbour.01@syenar.hu> wrote:

> Wrong autodetection for all platforms/compilers due to stupid mistake
> yesterday. Pls recheck after 12080.

Many thanks, it's ok now.

> Not much ideas here :(

I'll do some tests.

best regards,
Lorenzo
From druzus at acn.waw.pl  Wed Aug 12 04:11:58 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug 12 04:12:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11967] trunk/harbour
In-Reply-To: <alpine.GSO.2.00.0908102157190.4352@dawn.royalcomp.hu>
References: <E1MY8uq-0000tt-Lm@dn4whf1.ch3.sourceforge.com>
	<20090810090557.GA6715@uran.home.aster.pl>
	<4E73F1F0-2152-4806-B81E-DA8029601971@syenar.hu>
	<alpine.GSO.2.00.0908101237540.4352@dawn.royalcomp.hu>
	<alpine.GSO.2.00.0908102157190.4352@dawn.royalcomp.hu>
Message-ID: <20090812081158.GA21960@uran.home.aster.pl>

On Mon, 10 Aug 2009, Tamas TEVESZ wrote:

Hi,

>  >  > >     HB_CMP = suncc
>  >  > > instead of CC and cc. With above version you do not have keep path to
>  >  > > Sun C compiler at the beginning of PATH envvar so both GCC and Sun C
>  >  > > builds can be easy used. It should work also in SunOS. I hope Tomas
>  >  > > can confirm it.
>  >  > Thanks, I'll do this in next commit.
>  > and now you broke it ;)
> forget it. of course you didn't.

In such case we should also update compiler name used in postinst.sh.
Now we have:

   if [ "$HB_ARCHITECTURE" = "sunos" ]; then
       sed -e "s/gcc -shared -fPIC/cc -G -xcode=pic32 ${HB_ISAOPT}/g" "${hb_root}/bin/hb-mkdyn.sh" > "${hb_mkdyn}" && \
       chmod 755 "${hb_mkdyn}"
   else
       sed -e "s/gcc -shared -fPIC/cc -G -KPIC ${HB_ISAOPT}/g" "${hb_root}/bin/hb-mkdyn.sh" > "${hb_mkdyn}" && \
       chmod 755 "${hb_mkdyn}"
   fi

so we can also remove platform switches and replace above statements by
simple:

   sed -e "s/gcc -shared -fPIC/suncc -G -KPIC ${HB_ISAOPT}/g" "${hb_root}/bin/hb-mkdyn.sh" > "${hb_mkdyn}" && \
   chmod 755 "${hb_mkdyn}"

It should work if platform dependent parameters from different sunpro*.cf
files are set using HB_ISAOPT var or by HB_USER_LDFLAGS envvar.
Of course we have to remove any link time options which force
platform from pure sunpro.cf

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Aug 12 04:54:55 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 12 04:55:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11967] trunk/harbour
In-Reply-To: <20090812081158.GA21960@uran.home.aster.pl>
References: <E1MY8uq-0000tt-Lm@dn4whf1.ch3.sourceforge.com>
	<20090810090557.GA6715@uran.home.aster.pl>
	<4E73F1F0-2152-4806-B81E-DA8029601971@syenar.hu>
	<alpine.GSO.2.00.0908101237540.4352@dawn.royalcomp.hu>
	<alpine.GSO.2.00.0908102157190.4352@dawn.royalcomp.hu>
	<20090812081158.GA21960@uran.home.aster.pl>
Message-ID: <2E57FEFA-59F2-4A65-9918-F65EF90749BE@syenar.hu>

Hi Przemek,

Please do these modification.

Brgds,
Viktor

On 2009.08.12., at 10:11, Przemyslaw Czerpak wrote:

> On Mon, 10 Aug 2009, Tamas TEVESZ wrote:
>
> Hi,
>
>>>>>    HB_CMP = suncc
>>>>> instead of CC and cc. With above version you do not have keep  
>>>>> path to
>>>>> Sun C compiler at the beginning of PATH envvar so both GCC and  
>>>>> Sun C
>>>>> builds can be easy used. It should work also in SunOS. I hope  
>>>>> Tomas
>>>>> can confirm it.
>>>> Thanks, I'll do this in next commit.
>>> and now you broke it ;)
>> forget it. of course you didn't.
>
> In such case we should also update compiler name used in postinst.sh.
> Now we have:
>
>   if [ "$HB_ARCHITECTURE" = "sunos" ]; then
>       sed -e "s/gcc -shared -fPIC/cc -G -xcode=pic32 ${HB_ISAOPT}/g"  
> "${hb_root}/bin/hb-mkdyn.sh" > "${hb_mkdyn}" && \
>       chmod 755 "${hb_mkdyn}"
>   else
>       sed -e "s/gcc -shared -fPIC/cc -G -KPIC ${HB_ISAOPT}/g" "$ 
> {hb_root}/bin/hb-mkdyn.sh" > "${hb_mkdyn}" && \
>       chmod 755 "${hb_mkdyn}"
>   fi
>
> so we can also remove platform switches and replace above statements  
> by
> simple:
>
>   sed -e "s/gcc -shared -fPIC/suncc -G -KPIC ${HB_ISAOPT}/g" "$ 
> {hb_root}/bin/hb-mkdyn.sh" > "${hb_mkdyn}" && \
>   chmod 755 "${hb_mkdyn}"
>
> It should work if platform dependent parameters from different  
> sunpro*.cf
> files are set using HB_ISAOPT var or by HB_USER_LDFLAGS envvar.
> Of course we have to remove any link time options which force
> platform from pure sunpro.cf
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug 12 05:01:41 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 12 05:01:51 2009
Subject: [Harbour] Re: Off Topic - Letodb multiply defined symbols found
In-Reply-To: <h5t2qg$vrf$1@ger.gmane.org>
References: <h5svu4$5s1$1@ger.gmane.org>
	<EA973474-CF19-44EC-A6B1-3BD9562C63B8@syenar.hu>
	<h5t2qg$vrf$1@ger.gmane.org>
Message-ID: <BC6819AD-2B52-4C35-9A6C-535845572C08@syenar.hu>

It may be better to address letodb issues directly to the
letodb mailing list. This problem isn't a Harbour one.

This error shows the problem where 3rd party code uses
Harbour namespace (hb_*) for it's own public symbols. There
is no guarantee that Harbour won't eventually use any of
those. In this case that's what just happened.

Best way to fix this is to rename hb_ functions to hbleto_
or leto_ in letodb. Now Harbour also has C level socket API
in core, so letodb could make use of these (this would be
quite cool). (although it may also want to keep its own socket
routines in order to stay compatible with xhb and old Harbours)

Brgds,
Viktor

On 2009.08.12., at 2:35, Itamar Lins wrote:

> Hi again,
> I get this error.
> hbrtl.lib(hbsocket.obj) : error LNK2005: _hb_socketConnect already  
> defined
> in rddleto.lib(hbip.obj)
>
> How to resolve?
>
> Thanks,
> Itamar M. Lins Jr.
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Wed Aug 12 05:10:36 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Aug 12 05:10:43 2009
Subject: [Harbour] Wrong C compiler autodetection and prg.cf errors under 
	msys
In-Reply-To: <9257026e0908120102h14d79760j5a4dddd0d54c6795@mail.gmail.com>
References: <9257026e0908120033y3057a6a2p5b0c7001f0cbb712@mail.gmail.com>
	<5D501610-0648-44AC-A8AA-D5DEFBB481CB@syenar.hu>
	<9257026e0908120102h14d79760j5a4dddd0d54c6795@mail.gmail.com>
Message-ID: <9257026e0908120210qa652eb1p6318d28c61a99086@mail.gmail.com>

On Wed, Aug 12, 2009 at 10:02 AM, Lorenzo
Fiorini<lorenzo.fiorini@gmail.com> wrote:

> I'll do some tests.

It's about contrib/hbqt/Makefile, it doesn't have any PRG_SOURCES defined.

If I add an empty PRG_SOURCES := \ it doesn't show the messages.

best regards,
Lorenzo
From e.m.giordano at emagsoftware.it  Wed Aug 12 05:14:36 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Aug 12 05:14:43 2009
Subject: [Harbour] Error in latest SVN
Message-ID: <A6EF7E003B4A4F16849173A8F67F11BD@emag>

! MAKE: E:/HARBOUR_CVS/harbour/config/mingw32-make
! MAKE: E:/HARBOUR_CVS/harbour/config/mingw32-make
! HB_USER_CFLAGS: -DHB_FM_STATISTICS_OFF
! HB_INSTALL_PREFIX: E:\HARBOUR_CVS\harbour\
Impossibile trovare E:\HARBOUR_CVS\harbour\bin\win\bcc\hbpp.exe
Impossibile trovare E:\HARBOUR_CVS\harbour\bin\win\bcc\hbpp.tds
"! 'gtcrs' library skipped"
"! 'gtdos' library skipped"
"! 'gtos2' library skipped"
"! 'gtsln' library skipped"
"! 'gttrm' library skipped"
"! 'gtxwc' library skipped"
"! 'gtalleg' library skipped"
"! 'hbcurl' library skipped"
"! 'hbfbird' library skipped"
"! 'hbfimage' library skipped"
"! 'hbgd' library skipped"
"! 'hbmysql' library skipped"
"! 'hbpgsql' library skipped"
"! 'hbqt' library skipped"
"! 'hbssl' library skipped"
"! 'rddads' library skipped"
"! 'sddmy' library skipped"
"! 'sddpg' library skipped"
"! 'sddfb' library skipped"
"! 'hbxbp' library skipped"
for %%f in (c_std.txt class_tp.txt cmdline.txt cmpopt.txt codebloc.txt 
codestyl.txt destruct.txt dirstruc.txt gmake.txt gtapi.txt hdr_tpl.txt 
howtobld.txt howtobsd.txt howtorel.txt howtosvn.txt inet.txt linux1st.txt 
pcode.txt pp.txt pragma.txt readme.txt statics.txt tracing.txt transfrm.txt 
vm.txt whatsnew.txt windll.txt ) do copy "%%f" "E:\HARBOUR_CVS\harbour\\doc"
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
Impossibile copiare un file su se stesso.
        0 file copiati.
mingw32-make[1]: *** [install] Error 1
mingw32-make: *** [doc.inst] Error 2
Harbour GNU Make returned: 2

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Wed Aug 12 05:38:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 12 05:38:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12081] trunk/harbour
Message-ID: <E1MbAHd-00007V-MR@dn4whf1.ch3.sourceforge.com>

Revision: 12081
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12081&view=rev
Author:   vszakats
Date:     2009-08-12 09:38:12 +0000 (Wed, 12 Aug 2009)

Log Message:
-----------
2009-08-12 11:34 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/instsh.cf
    ! Fixed '-' prefix usage in non-*nix shells, so now make
      process won't fail because of install rule error.
      (this was a problem introduced in recent days)
      Maybe it will be needed to tweak that because an install
      failure might signal a real problem as soon as package
      creation gets implemented inside/under GNU Make.

  * config/global.cf
    + Added autofill of HB_INSTALL_PREFIX if not specified.
      (work in progress, might change in the future)
    + Added support for "macro" values in HB_INSTALL_PREFIX:
      {HB_ARCH}, {HB_COMP}, {HB_CPU}. They will be replaced 
      by corresponding value. This is a small steps towards 
      moving to GNU Make bases autodetection an moving away 
      from starter script (make_gnu.*) usage.

  * config/bsd/global.cf
  * config/wce/global.cf
  * config/darwin/global.cf
  * config/hpux/global.cf
  * config/dos/global.cf
  * config/win/global.cf
  * config/linux/global.cf
  * config/os2/global.cf
  * config/sunos/global.cf
    + Added DYN_EXT and DYN_PRE variables as a small step
      towards integrating dynlib creation in the GNU Make
      process.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/global.cf
    trunk/harbour/config/darwin/global.cf
    trunk/harbour/config/dos/global.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/hpux/global.cf
    trunk/harbour/config/instsh.cf
    trunk/harbour/config/linux/global.cf
    trunk/harbour/config/os2/global.cf
    trunk/harbour/config/sunos/global.cf
    trunk/harbour/config/wce/global.cf
    trunk/harbour/config/win/global.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Aug 12 05:41:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 12 05:42:02 2009
Subject: [Harbour] Wrong C compiler autodetection and prg.cf errors under
	msys
In-Reply-To: <9257026e0908120210qa652eb1p6318d28c61a99086@mail.gmail.com>
References: <9257026e0908120033y3057a6a2p5b0c7001f0cbb712@mail.gmail.com>
	<5D501610-0648-44AC-A8AA-D5DEFBB481CB@syenar.hu>
	<9257026e0908120102h14d79760j5a4dddd0d54c6795@mail.gmail.com>
	<9257026e0908120210qa652eb1p6318d28c61a99086@mail.gmail.com>
Message-ID: <62FF32C6-72D7-4B3A-9E8B-36969A2789A9@syenar.hu>

Ops, thank you. I've removed a few of those.

I'll recheck, but I wonder how it didn't come
up when doing lots of local tests. I also
couldn't find the guiding logic regarding this
matter before removing. In some places it
was used, in some other it wasn't. Also same
trick isn't needed for C_SOURCEs.

Input would be welcome here.

Brgds,
Viktor

On 2009.08.12., at 11:10, Lorenzo Fiorini wrote:

> On Wed, Aug 12, 2009 at 10:02 AM, Lorenzo
> Fiorini<lorenzo.fiorini@gmail.com> wrote:
>
>> I'll do some tests.
>
> It's about contrib/hbqt/Makefile, it doesn't have any PRG_SOURCES  
> defined.
>
> If I add an empty PRG_SOURCES := \ it doesn't show the messages.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug 12 05:54:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 12 05:55:00 2009
Subject: [Harbour] Wrong C compiler autodetection and prg.cf errors under
	msys
In-Reply-To: <62FF32C6-72D7-4B3A-9E8B-36969A2789A9@syenar.hu>
References: <9257026e0908120033y3057a6a2p5b0c7001f0cbb712@mail.gmail.com>
	<5D501610-0648-44AC-A8AA-D5DEFBB481CB@syenar.hu>
	<9257026e0908120102h14d79760j5a4dddd0d54c6795@mail.gmail.com>
	<9257026e0908120210qa652eb1p6318d28c61a99086@mail.gmail.com>
	<62FF32C6-72D7-4B3A-9E8B-36969A2789A9@syenar.hu>
Message-ID: <1E7F4B9C-083B-4C57-98FB-5813D1A79965@syenar.hu>

After checking an older revision with empty PRG_SOURCE=\
lines intact, I still couldn't find any rule as to
when it should be used (it's only used in hbclipsm, hbfimage,
hbgt, hbhpdf, hbcommon and hbnulsys, but NOT in hbqt f.e.)
There are a lot of Makefiles with no PRG_SOURCE, some
of them for libs, some for bins, some having PRG_HEADERS,
some not. [ Granted, it may be better to init these to
not let accidental content kick in, but that's a whole
different issue, if we want to fix it it needs to be done
for a lot of other vars, too, plus some rearrangement
of .cf file inclusion rules. ]

I'd guess the issue is somewhere else, maybe side effect
of other changes. But what?

Brgds,
Viktor

On 2009.08.12., at 11:41, Viktor Szak?ts wrote:

> Ops, thank you. I've removed a few of those.
>
> I'll recheck, but I wonder how it didn't come
> up when doing lots of local tests. I also
> couldn't find the guiding logic regarding this
> matter before removing. In some places it
> was used, in some other it wasn't. Also same
> trick isn't needed for C_SOURCEs.
>
> Input would be welcome here.
>
> Brgds,
> Viktor
>
> On 2009.08.12., at 11:10, Lorenzo Fiorini wrote:
>
>> On Wed, Aug 12, 2009 at 10:02 AM, Lorenzo
>> Fiorini<lorenzo.fiorini@gmail.com> wrote:
>>
>>> I'll do some tests.
>>
>> It's about contrib/hbqt/Makefile, it doesn't have any PRG_SOURCES  
>> defined.
>>
>> If I add an empty PRG_SOURCES := \ it doesn't show the messages.
>>
>> best regards,
>> Lorenzo
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>

From vszakats at users.sourceforge.net  Wed Aug 12 06:15:40 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 12 06:15:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12082] trunk/harbour
Message-ID: <E1MbArs-0008T9-Ud@3kljzd1.ch3.sourceforge.com>

Revision: 12082
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12082&view=rev
Author:   vszakats
Date:     2009-08-12 10:15:39 +0000 (Wed, 12 Aug 2009)

Log Message:
-----------
2009-08-12 12:15 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/rtl/gtxwc/Makefile
  * source/rtl/gtcrs/Makefile
  * source/rtl/gttrm/Makefile
  * source/rtl/gtsln/Makefile
  * source/rtl/gtwvt/Makefile
    + Indentation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/gtcrs/Makefile
    trunk/harbour/source/rtl/gtsln/Makefile
    trunk/harbour/source/rtl/gttrm/Makefile
    trunk/harbour/source/rtl/gtwvt/Makefile
    trunk/harbour/source/rtl/gtxwc/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Wed Aug 12 06:19:02 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Aug 12 06:19:09 2009
Subject: [Harbour] Wrong C compiler autodetection and prg.cf errors under 
	msys
In-Reply-To: <1E7F4B9C-083B-4C57-98FB-5813D1A79965@syenar.hu>
References: <9257026e0908120033y3057a6a2p5b0c7001f0cbb712@mail.gmail.com>
	<5D501610-0648-44AC-A8AA-D5DEFBB481CB@syenar.hu>
	<9257026e0908120102h14d79760j5a4dddd0d54c6795@mail.gmail.com>
	<9257026e0908120210qa652eb1p6318d28c61a99086@mail.gmail.com>
	<62FF32C6-72D7-4B3A-9E8B-36969A2789A9@syenar.hu>
	<1E7F4B9C-083B-4C57-98FB-5813D1A79965@syenar.hu>
Message-ID: <9257026e0908120319x49577ffape6961d91c2308e44@mail.gmail.com>

On Wed, Aug 12, 2009 at 11:54 AM, Viktor Szak?ts<harbour.01@syenar.hu> wrote:

> I'd guess the issue is somewhere else, maybe side effect
> of other changes. But what?

I'm also trying to understand what could be.

Unfortunately I don't build frequently under Windows and there are
tons of diffs between actual and latest "working" tree.

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Wed Aug 12 06:38:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 12 06:38:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12083] trunk/harbour
Message-ID: <E1MbBDi-00038c-Lt@d5vjzd1.ch3.sourceforge.com>

Revision: 12083
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12083&view=rev
Author:   vszakats
Date:     2009-08-12 10:38:12 +0000 (Wed, 12 Aug 2009)

Log Message:
-----------
2009-08-12 12:37 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/rtl/gtcrs/Makefile
  * source/rtl/gttrm/Makefile
  * source/rtl/gtsln/Makefile
  * config/global.cf
    ! Hopefully fixed GPM detection with pure (no starter script) 
      GNU Make invocations. It needs to be done centrally, 
      as it's used in multiple modules, plus it has external lib 
      dependency.
    ; TODO: Streamline macro usage regarding external dependencies.
            There is currently HAS*, HAVE*, HB_HAVE*, HB_WITHOUT* 
            plus some other variations.
            We should probably stick to HB_BUILD_WITH_* for user 
            level control, and HB_HAS_* for internal detection logic.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf
    trunk/harbour/source/rtl/gtcrs/Makefile
    trunk/harbour/source/rtl/gtsln/Makefile
    trunk/harbour/source/rtl/gttrm/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Aug 12 06:40:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 12 06:40:28 2009
Subject: [Harbour] Wrong C compiler autodetection and prg.cf errors under
	msys
In-Reply-To: <9257026e0908120319x49577ffape6961d91c2308e44@mail.gmail.com>
References: <9257026e0908120033y3057a6a2p5b0c7001f0cbb712@mail.gmail.com>
	<5D501610-0648-44AC-A8AA-D5DEFBB481CB@syenar.hu>
	<9257026e0908120102h14d79760j5a4dddd0d54c6795@mail.gmail.com>
	<9257026e0908120210qa652eb1p6318d28c61a99086@mail.gmail.com>
	<62FF32C6-72D7-4B3A-9E8B-36969A2789A9@syenar.hu>
	<1E7F4B9C-083B-4C57-98FB-5813D1A79965@syenar.hu>
	<9257026e0908120319x49577ffape6961d91c2308e44@mail.gmail.com>
Message-ID: <F266D2A3-C85C-4552-98C1-1DC1807AE6A4@syenar.hu>

> On Wed, Aug 12, 2009 at 11:54 AM, Viktor Szak?ts<harbour. 
> 01@syenar.hu> wrote:
>
>> I'd guess the issue is somewhere else, maybe side effect
>> of other changes. But what?
>
> I'm also trying to understand what could be.
>
> Unfortunately I don't build frequently under Windows and there are
> tons of diffs between actual and latest "working" tree.

I used to test Windows with several compilers (without
this error), the only exception is msys based invocations,
so maybe it's causing it in some (mysterious) ways.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Wed Aug 12 06:53:05 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Aug 12 06:53:12 2009
Subject: [Harbour] Wrong C compiler autodetection and prg.cf errors under 
	msys
In-Reply-To: <F266D2A3-C85C-4552-98C1-1DC1807AE6A4@syenar.hu>
References: <9257026e0908120033y3057a6a2p5b0c7001f0cbb712@mail.gmail.com>
	<5D501610-0648-44AC-A8AA-D5DEFBB481CB@syenar.hu>
	<9257026e0908120102h14d79760j5a4dddd0d54c6795@mail.gmail.com>
	<9257026e0908120210qa652eb1p6318d28c61a99086@mail.gmail.com>
	<62FF32C6-72D7-4B3A-9E8B-36969A2789A9@syenar.hu>
	<1E7F4B9C-083B-4C57-98FB-5813D1A79965@syenar.hu>
	<9257026e0908120319x49577ffape6961d91c2308e44@mail.gmail.com>
	<F266D2A3-C85C-4552-98C1-1DC1807AE6A4@syenar.hu>
Message-ID: <9257026e0908120353w5864040axf51a4ac9c09a6e53@mail.gmail.com>

On Wed, Aug 12, 2009 at 12:40 PM, Viktor Szak?ts<harbour.01@syenar.hu> wrote:

> I used to test Windows with several compilers (without
> this error), the only exception is msys based invocations,
> so maybe it's causing it in some (mysterious) ways.

The problem seems to be in Makefile_gen:
it has the continuation char \ but it doesn't have an empty line below.

best regards,
Lorenzo
From dmacias at mail.udg.mx  Wed Aug 12 06:55:18 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Aug 12 06:55:41 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS II
Message-ID: <4A829F96.5060602@mail.udg.mx>

Viktor, Przemek:

This is an updated report:

Current Harbour under OS/2
  * $Id: ChangeLog 12080 2009-08-12 07:45:44Z vszakats $
  2009-08-12 09:43 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)


a) gcc (GCC) 3.3.5 (Bird Build 2006-03-18 05:37)
  Build / run fine.

b) OpenWatcom 1.8
  Build / run fine
   except hbrun.exe (failed before too):

c) OpenWatcom 1.8, cross build OS/2 -> Win
   Work partially
   Known problem: config\win\watcom.cf must be changed to ADD workarounds
for os2make381

d) OpenWatcom 1.8, cross build Win -> OS/2
  Build / run fine

Notes:

 >  * config/instsh.cf
 >    % Deleted $(CMDPREF) from OS/2 rules. Please test it and report
 >      if it broke.

 >    ; QUESTION: Could an OS/2 user tell me whether $(CMDPREF) is
 >                *really* needed? This is the only place it's used,
 >                so I wonder. If not, we should delete it.

I do not know what $(CMDPREF) mean or what it does
In current builds I do not see any difference

 >2009-08-11 15:25 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
 >  * harbour/config/os2/watcom.cf
 >    ! fixed FOR command in WINNT->OS2 cross builds. Please test if
 >      it works - I cannot without real Windows cmd.exe
 >      [TESTED - WORKS [vszakats]]

It work fine
   OpenWatcom 1.8, cross build Win -> OS/2
build entirely in Windows and run in OS/2, except known problem with 
hbrun.exe

 >2009-08-11 15:04 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
 >  * config/dirsh.cf
 >    + Initializing $(MKFLAGS) to --no-print-directory, which
 >      suppresses "Entering directory"/"Leaving directory" GNU
 >      Make messages. They can be useful for debugging, but for
 >      normal operation IMO they just add up to unnecessary
 >      clutter. Please tell if you think otherwise.
 >      Despite docs say it's enabled when using -C (change dir)
 >      option, I've only seen it enabled on win/dos platforms,
 >      so for other platforms (at least *nixes) this won't change
 >      behavior.

In my case this change does not help and should be reverted
Now we have a long list and is not easy to find to which source block 
belong each line
Messages "Entering directory"/"Leaving directory" help to locate them 
quickly while browsing long log file

David Macias


From harbour.01 at syenar.hu  Wed Aug 12 07:00:09 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 12 07:00:17 2009
Subject: [Harbour] Wrong C compiler autodetection and prg.cf errors under
	msys
In-Reply-To: <9257026e0908120353w5864040axf51a4ac9c09a6e53@mail.gmail.com>
References: <9257026e0908120033y3057a6a2p5b0c7001f0cbb712@mail.gmail.com>
	<5D501610-0648-44AC-A8AA-D5DEFBB481CB@syenar.hu>
	<9257026e0908120102h14d79760j5a4dddd0d54c6795@mail.gmail.com>
	<9257026e0908120210qa652eb1p6318d28c61a99086@mail.gmail.com>
	<62FF32C6-72D7-4B3A-9E8B-36969A2789A9@syenar.hu>
	<1E7F4B9C-083B-4C57-98FB-5813D1A79965@syenar.hu>
	<9257026e0908120319x49577ffape6961d91c2308e44@mail.gmail.com>
	<F266D2A3-C85C-4552-98C1-1DC1807AE6A4@syenar.hu>
	<9257026e0908120353w5864040axf51a4ac9c09a6e53@mail.gmail.com>
Message-ID: <1C0B54C8-BDB2-4916-99F8-62309BAFDF30@syenar.hu>

Good finding. And it's even the fault of the generator,
the last empty lines were removed by my editor.
Anyhow I'll add a trick to not let this happen again.

Brgds,
Viktor

On 2009.08.12., at 0:53, Lorenzo Fiorini wrote:

> On Wed, Aug 12, 2009 at 12:40 PM, Viktor Szak?ts<harbour. 
> 01@syenar.hu> wrote:
>
>> I used to test Windows with several compilers (without
>> this error), the only exception is msys based invocations,
>> so maybe it's causing it in some (mysterious) ways.
>
> The problem seems to be in Makefile_gen:
> it has the continuation char \ but it doesn't have an empty line  
> below.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Wed Aug 12 07:27:16 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 12 07:27:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12084] trunk/harbour
Message-ID: <E1MbBzA-0001Zy-V2@3kljzd1.ch3.sourceforge.com>

Revision: 12084
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12084&view=rev
Author:   vszakats
Date:     2009-08-12 11:27:11 +0000 (Wed, 12 Aug 2009)

Log Message:
-----------
2009-08-12 13:11 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
    * Changed so that HB_INSTALL_PREFIX gets set to the
      source tree instead of a foreign location. This is
      what our make_gnu.bat did so far.
      The $(realpath) trick might be helpful to speedup some 
      self-detection code, f.e. HB_BIN_COMPILE.

  * mpkg_gnu.bat
    % Minor change to make .zip creation cmd more self-containable.

  * contrib/hbqt/generator/hbqtgen.prg
    % Minor opt in FWRITE() call.
    + Changed to not generate extra empty lines at EOL.
    + Added placeholder comment at the end of Makefile_gen
      to ensure an empty lines always kept after last '\' char
      even if the file is edited with an editor stripping
      excessive EOLs.
      Lorenzo, pls test with the config this caused problem.

  * contrib/hbqt/QWebSecurityOrigin.cpp
  * contrib/hbqt/QDragEnterEvent.cpp
  * contrib/hbqt/QPageSetupDialog.cpp
  * contrib/hbqt/TQToolBox.prg
  * contrib/hbqt/QTextBoundaryFinder.cpp
  * contrib/hbqt/QTextCodec.cpp
  * contrib/hbqt/QWindowsXPStyle.cpp
  * contrib/hbqt/QGridLayout.cpp
  * contrib/hbqt/TQTreeView.prg
  * contrib/hbqt/TQTextCharFormat.prg
  * contrib/hbqt/TQTextLine.prg
  * contrib/hbqt/QConicalGradient.cpp
  * contrib/hbqt/QTextLength.cpp
  * contrib/hbqt/TQRect.prg
  * contrib/hbqt/TQInputEvent.prg
  * contrib/hbqt/TQWidgetItem.prg
  * contrib/hbqt/QGradient.cpp
  * contrib/hbqt/TQTextItem.prg
  * contrib/hbqt/TQTimeEdit.prg
  * contrib/hbqt/TQDropEvent.prg
  * contrib/hbqt/QStandardItemModel.cpp
  * contrib/hbqt/TQTextObject.prg
  * contrib/hbqt/TQSizeF.prg
  * contrib/hbqt/QPicture.cpp
  * contrib/hbqt/QAction.cpp
  * contrib/hbqt/QPaintEvent.cpp
  * contrib/hbqt/TQStyleHintReturn.prg
  * contrib/hbqt/QStyledItemDelegate.cpp
  * contrib/hbqt/QAbstractListModel.cpp
  * contrib/hbqt/QWidget.cpp
  * contrib/hbqt/TQProgressBar.prg
  * contrib/hbqt/TQFontDatabase.prg
  * contrib/hbqt/QFontDialog.cpp
  * contrib/hbqt/QToolBox.cpp
  * contrib/hbqt/QResource.cpp
  * contrib/hbqt/TQLineEdit.prg
  * contrib/hbqt/TQHBoxLayout.prg
  * contrib/hbqt/TQWebHistory.prg
  * contrib/hbqt/QMouseEvent.cpp
  * contrib/hbqt/QTextEdit.cpp
  * contrib/hbqt/TQToolBar.prg
  * contrib/hbqt/TQAbstractItemModel.prg
  * contrib/hbqt/TQTreeWidget.prg
  * contrib/hbqt/QPointF.cpp
  * contrib/hbqt/QFontComboBox.cpp
  * contrib/hbqt/QStyle.cpp
  * contrib/hbqt/TQSplitter.prg
  * contrib/hbqt/TQComboBox.prg
  * contrib/hbqt/QStyleOptionHeader.cpp
  * contrib/hbqt/QListView.cpp
  * contrib/hbqt/QWheelEvent.cpp
  * contrib/hbqt/QRadialGradient.cpp
  * contrib/hbqt/QLayout.cpp
  * contrib/hbqt/QCursor.cpp
  * contrib/hbqt/TQProgressDialog.prg
  * contrib/hbqt/QLabel.cpp
  * contrib/hbqt/TQBoxLayout.prg
  * contrib/hbqt/QFocusEvent.cpp
  * contrib/hbqt/QStyleHintReturn.cpp
  * contrib/hbqt/QStyleOptionToolButton.cpp
  * contrib/hbqt/QStylePainter.cpp
  * contrib/hbqt/QBrush.cpp
  * contrib/hbqt/QWebPluginFactory.cpp
  * contrib/hbqt/TQRadioButton.prg
  * contrib/hbqt/TQSystemTrayIcon.prg
  * contrib/hbqt/TQListWidgetItem.prg
  * contrib/hbqt/QLinearGradient.cpp
  * contrib/hbqt/QProgressBar.cpp
  * contrib/hbqt/TQTextFrame.prg
  * contrib/hbqt/TQTextBlock.prg
  * contrib/hbqt/QDragLeaveEvent.cpp
  * contrib/hbqt/TQStyleOptionViewItem.prg
  * contrib/hbqt/QClipboard.cpp
  * contrib/hbqt/QStyleOptionTabBarBase.cpp
  * contrib/hbqt/QStyleOptionToolBox.cpp
  * contrib/hbqt/QStringList.cpp
  * contrib/hbqt/QToolBar.cpp
  * contrib/hbqt/TQTextBlockFormat.prg
  * contrib/hbqt/TQStatusBar.prg
  * contrib/hbqt/TQTextFrameFormat.prg
  * contrib/hbqt/QFontMetricsF.cpp
  * contrib/hbqt/TQTextDecoder.prg
  * contrib/hbqt/TQTabWidget.prg
  * contrib/hbqt/TQLCDNumber.prg
  * contrib/hbqt/TQMainWindow.prg
  * contrib/hbqt/QToolButton.cpp
  * contrib/hbqt/TQStyleOptionTitleBar.prg
  * contrib/hbqt/QWindowsStyle.cpp
  * contrib/hbqt/TQDockWidget.prg
  * contrib/hbqt/QColor.cpp
  * contrib/hbqt/QListWidget.cpp
  * contrib/hbqt/QTextLayout.cpp
  * contrib/hbqt/TQSound.prg
  * contrib/hbqt/QSignalMapper.cpp
  * contrib/hbqt/QTextCursor.cpp
  * contrib/hbqt/TQPoint.prg
  * contrib/hbqt/QTextDocument.cpp
  * contrib/hbqt/TQGradient.prg
  * contrib/hbqt/TQWebSettings.prg
  * contrib/hbqt/QRadioButton.cpp
  * contrib/hbqt/TQWizard.prg
  * contrib/hbqt/TQAbstractPrintDialog.prg
  * contrib/hbqt/TQApplication.prg
  * contrib/hbqt/QAbstractButton.cpp
  * contrib/hbqt/QStyleOptionViewItem.cpp
  * contrib/hbqt/TQCoreApplication.prg
  * contrib/hbqt/QTextFrameFormat.cpp
  * contrib/hbqt/QTextBlockFormat.cpp
  * contrib/hbqt/TQInputDialog.prg
  * contrib/hbqt/QTextDecoder.cpp
  * contrib/hbqt/QSize.cpp
  * contrib/hbqt/TQEvent.prg
  * contrib/hbqt/TQKeySequence.prg
  * contrib/hbqt/QBitmap.cpp
  * contrib/hbqt/QStyleOptionToolBar.cpp
  * contrib/hbqt/QCalendarWidget.cpp
  * contrib/hbqt/TQPrinter.prg
  * contrib/hbqt/QStyleOptionTitleBar.cpp
  * contrib/hbqt/TQResource.prg
  * contrib/hbqt/QScrollBar.cpp
  * contrib/hbqt/QHeaderView.cpp
  * contrib/hbqt/TQTextEdit.prg
  * contrib/hbqt/QStyleOptionButton.cpp
  * contrib/hbqt/QCommandLinkButton.cpp
  * contrib/hbqt/TQFontComboBox.prg
  * contrib/hbqt/QFocusFrame.cpp
  * contrib/hbqt/QSizePolicy.cpp
  * contrib/hbqt/QWebSettings.cpp
  * contrib/hbqt/QAbstractPrintDialog.cpp
  * contrib/hbqt/TQStyleOptionSizeGrip.prg
  * contrib/hbqt/TQListView.prg
  * contrib/hbqt/QApplication.cpp
  * contrib/hbqt/QAbstractSlider.cpp
  * contrib/hbqt/TQTextBlockGroup.prg
  * contrib/hbqt/QObject.cpp
  * contrib/hbqt/QTextFragment.cpp
  * contrib/hbqt/TQStyleOptionGroupBox.prg
  * contrib/hbqt/QAbstractScrollArea.cpp
  * contrib/hbqt/QCoreApplication.cpp
  * contrib/hbqt/TQPrintEngine.prg
  * contrib/hbqt/TQStylePainter.prg
  * contrib/hbqt/TQWebPluginFactory.prg
  * contrib/hbqt/QInputDialog.cpp
  * contrib/hbqt/QTimer.cpp
  * contrib/hbqt/QKeySequence.cpp
  * contrib/hbqt/TQFtp.prg
  * contrib/hbqt/QPrinter.cpp
  * contrib/hbqt/TQMessageBox.prg
  * contrib/hbqt/QKeyEvent.cpp
  * contrib/hbqt/QTextCharFormat.cpp
  * contrib/hbqt/TQUrl.prg
  * contrib/hbqt/QStyleOptionSlider.cpp
  * contrib/hbqt/TQFontMetricsF.prg
  * contrib/hbqt/TQDragMoveEvent.prg
  * contrib/hbqt/QInputEvent.cpp
  * contrib/hbqt/TQWebView.prg
  * contrib/hbqt/QWidgetItem.cpp
  * contrib/hbqt/TQCommonStyle.prg
  * contrib/hbqt/QMenu.cpp
  * contrib/hbqt/TQPushButton.prg
  * contrib/hbqt/TQWindowsStyle.prg
  * contrib/hbqt/TQEventLoop.prg
  * contrib/hbqt/QStyleOptionSizeGrip.cpp
  * contrib/hbqt/TQDoubleSpinBox.prg
  * contrib/hbqt/TQWebHistoryItem.prg
  * contrib/hbqt/QTextObject.cpp
  * contrib/hbqt/TQSignalMapper.prg
  * contrib/hbqt/TQTableView.prg
  * contrib/hbqt/TQTreeWidgetItem.prg
  * contrib/hbqt/TQTextDocument.prg
  * contrib/hbqt/QStyleOptionGroupBox.cpp
  * contrib/hbqt/TQButtonGroup.prg
  * contrib/hbqt/QFontInfo.cpp
  * contrib/hbqt/QImage.cpp
  * contrib/hbqt/QPrintEngine.cpp
  * contrib/hbqt/TQFrame.prg
  * contrib/hbqt/QLine.cpp
  * contrib/hbqt/TQTextFormat.prg
  * contrib/hbqt/QIcon.cpp
  * contrib/hbqt/TQColorDialog.prg
  * contrib/hbqt/TQStyleOptionProgressBar.prg
  * contrib/hbqt/QHBoxLayout.cpp
  * contrib/hbqt/QWebHistory.cpp
  * contrib/hbqt/QUrl.cpp
  * contrib/hbqt/TQStyleHintReturnVariant.prg
  * contrib/hbqt/QRectF.cpp
  * contrib/hbqt/QTreeWidget.cpp
  * contrib/hbqt/TQSize.prg
  * contrib/hbqt/TQWebSecurityOrigin.prg
  * contrib/hbqt/TQProcess.prg
  * contrib/hbqt/QWebView.cpp
  * contrib/hbqt/QCommonStyle.cpp
  * contrib/hbqt/TQStyleOptionTab.prg
  * contrib/hbqt/TQTextDocumentWriter.prg
  * contrib/hbqt/TQTextCodec.prg
  * contrib/hbqt/TQStringListModel.prg
  * contrib/hbqt/QAbstractItemView.cpp
  * contrib/hbqt/QWebHitTestResult.cpp
  * contrib/hbqt/TQTextBrowser.prg
  * contrib/hbqt/QProgressDialog.cpp
  * contrib/hbqt/TQTableWidget.prg
  * contrib/hbqt/TQTabBar.prg
  * contrib/hbqt/QStyleFactory.cpp
  * contrib/hbqt/QButtonGroup.cpp
  * contrib/hbqt/TQFileDialog.prg
  * contrib/hbqt/TQDialog.prg
  * contrib/hbqt/TQTextStream.prg
  * contrib/hbqt/TQStandardItemModel.prg
  * contrib/hbqt/TQFormLayout.prg
  * contrib/hbqt/QSystemTrayIcon.cpp
  * contrib/hbqt/QStyleOptionDockWidget.cpp
  * contrib/hbqt/QListWidgetItem.cpp
  * contrib/hbqt/QColorDialog.cpp
  * contrib/hbqt/QStyleOptionTabWidgetFrame.cpp
  * contrib/hbqt/TQFileSystemModel.prg
  * contrib/hbqt/TQAbstractSpinBox.prg
  * contrib/hbqt/TQTextFragment.prg
  * contrib/hbqt/QDateTimeEdit.cpp
  * contrib/hbqt/TQVBoxLayout.prg
  * contrib/hbqt/QStyleOptionFocusRect.cpp
  * contrib/hbqt/QMoveEvent.cpp
  * contrib/hbqt/TQImageWriter.prg
  * contrib/hbqt/TQAbstractListModel.prg
  * contrib/hbqt/QMainWindow.cpp
  * contrib/hbqt/QDesktopWidget.cpp
  * contrib/hbqt/QProcess.cpp
  * contrib/hbqt/QWidgetAction.cpp
  * contrib/hbqt/TQModelIndex.prg
  * contrib/hbqt/TQMenuBar.prg
  * contrib/hbqt/QStringListModel.cpp
  * contrib/hbqt/TQKeyEvent.prg
  * contrib/hbqt/QDockWidget.cpp
  * contrib/hbqt/TQPaintDevice.prg
  * contrib/hbqt/TQStyleOptionMenuItem.prg
  * contrib/hbqt/TQFontMetrics.prg
  * contrib/hbqt/QTextBrowser.cpp
  * contrib/hbqt/TQStyle.prg
  * contrib/hbqt/QTableWidget.cpp
  * contrib/hbqt/TQStyleOptionHeader.prg
  * contrib/hbqt/QErrorMessage.cpp
  * contrib/hbqt/TQMenu.prg
  * contrib/hbqt/QWizard.cpp
  * contrib/hbqt/QFileSystemModel.cpp
  * contrib/hbqt/TQPrintDialog.prg
  * contrib/hbqt/QAbstractSpinBox.cpp
  * contrib/hbqt/TQPrintPreviewDialog.prg
  * contrib/hbqt/TQLabel.prg
  * contrib/hbqt/QDial.cpp
  * contrib/hbqt/TQWebHistoryInterface.prg
  * contrib/hbqt/TQStyleOptionComboBox.prg
  * contrib/hbqt/TQFontInfo.prg
  * contrib/hbqt/TQSlider.prg
  * contrib/hbqt/TQBrush.prg
  * contrib/hbqt/TQStyleOptionToolButton.prg
  * contrib/hbqt/QImageWriter.cpp
  * contrib/hbqt/TQScrollArea.prg
  * contrib/hbqt/TQLine.prg
  * contrib/hbqt/TQIcon.prg
  * contrib/hbqt/TQLayoutItem.prg
  * contrib/hbqt/TQAbstractTableModel.prg
  * contrib/hbqt/QIODevice.cpp
  * contrib/hbqt/TQPixmap.prg
  * contrib/hbqt/QMenuBar.cpp
  * contrib/hbqt/TQClipboard.prg
  * contrib/hbqt/TQTextImageFormat.prg
  * contrib/hbqt/TQStyleOptionTabBarBase.prg
  * contrib/hbqt/QPaintDevice.cpp
  * contrib/hbqt/QStyleOptionMenuItem.cpp
  * contrib/hbqt/QFontMetrics.cpp
  * contrib/hbqt/TQImageReader.prg
  * contrib/hbqt/Makefile_gen
  * contrib/hbqt/QDropEvent.cpp
  * contrib/hbqt/TQAbstractItemView.prg
  * contrib/hbqt/TQColor.prg
  * contrib/hbqt/TQDir.prg
  * contrib/hbqt/TQHttp.prg
  * contrib/hbqt/TQStyleOptionComplex.prg
  * contrib/hbqt/TQWebHitTestResult.prg
  * contrib/hbqt/QPrintDialog.cpp
  * contrib/hbqt/QTextBlockGroup.cpp
  * contrib/hbqt/TQRegion.prg
  * contrib/hbqt/QStandardItem.cpp
  * contrib/hbqt/QLatin1String.cpp
  * contrib/hbqt/QSizeF.cpp
  * contrib/hbqt/TQLatin1Char.prg
  * contrib/hbqt/QWebHistoryInterface.cpp
  * contrib/hbqt/QStyleOptionComboBox.cpp
  * contrib/hbqt/TQStyleFactory.prg
  * contrib/hbqt/TQStyleOptionSpinBox.prg
  * contrib/hbqt/TQPalette.prg
  * contrib/hbqt/QSplashScreen.cpp
  * contrib/hbqt/TQDateTimeEdit.prg
  * contrib/hbqt/TQPainter.prg
  * contrib/hbqt/QSizeGrip.cpp
  * contrib/hbqt/QMessageBox.cpp
  * contrib/hbqt/TQResizeEvent.prg
  * contrib/hbqt/QTextImageFormat.cpp
  * contrib/hbqt/TQStyleOptionFocusRect.prg
  * contrib/hbqt/QAbstractItemModel.cpp
  * contrib/hbqt/QGroupBox.cpp
  * contrib/hbqt/QImageReader.cpp
  * contrib/hbqt/TQDragEnterEvent.prg
  * contrib/hbqt/QTextDocumentFragment.cpp
  * contrib/hbqt/TQTextBoundaryFinder.prg
  * contrib/hbqt/QPushButton.cpp
  * contrib/hbqt/TQWidgetAction.prg
  * contrib/hbqt/TQScrollBar.prg
  * contrib/hbqt/TQGridLayout.prg
  * contrib/hbqt/TQWindowsXPStyle.prg
  * contrib/hbqt/QWebHistoryItem.cpp
  * contrib/hbqt/QDir.cpp
  * contrib/hbqt/TQStyleOptionButton.prg
  * contrib/hbqt/TQTextLength.prg
  * contrib/hbqt/QTreeWidgetItem.cpp
  * contrib/hbqt/TQCommandLinkButton.prg
  * contrib/hbqt/QBoxLayout.cpp
  * contrib/hbqt/TQErrorMessage.prg
  * contrib/hbqt/QDateTime.cpp
  * contrib/hbqt/QTextFormat.cpp
  * contrib/hbqt/QPalette.cpp
  * contrib/hbqt/QTextBlock.cpp
  * contrib/hbqt/QTextFrame.cpp
  * contrib/hbqt/QPainter.cpp
  * contrib/hbqt/QResizeEvent.cpp
  * contrib/hbqt/TQDial.prg
  * contrib/hbqt/QStyleOptionProgressBar.cpp
  * contrib/hbqt/TQTableWidgetItem.prg
  * contrib/hbqt/TQAction.prg
  * contrib/hbqt/TQPaintEvent.prg
  * contrib/hbqt/QStyleHintReturnVariant.cpp
  * contrib/hbqt/QStatusBar.cpp
  * contrib/hbqt/TQStyledItemDelegate.prg
  * contrib/hbqt/TQTimer.prg
  * contrib/hbqt/QTabWidget.cpp
  * contrib/hbqt/QTextInlineObject.cpp
  * contrib/hbqt/QLCDNumber.cpp
  * contrib/hbqt/QList.cpp
  * contrib/hbqt/TQWidget.prg
  * contrib/hbqt/QStyleOptionTab.cpp
  * contrib/hbqt/TQFontDialog.prg
  * contrib/hbqt/QTextDocumentWriter.cpp
  * contrib/hbqt/TQIODevice.prg
  * contrib/hbqt/TQStyleOption.prg
  * contrib/hbqt/QDateEdit.cpp
  * contrib/hbqt/TQMouseEvent.prg
  * contrib/hbqt/QCheckBox.cpp
  * contrib/hbqt/TQStyleOptionSlider.prg
  * contrib/hbqt/QSound.cpp
  * contrib/hbqt/QWebFrame.cpp
  * contrib/hbqt/QPoint.cpp
  * contrib/hbqt/TQPointF.prg
  * contrib/hbqt/QTabBar.cpp
  * contrib/hbqt/QDirModel.cpp
  * contrib/hbqt/QFileDialog.cpp
  * contrib/hbqt/QDialog.cpp
  * contrib/hbqt/QTextStream.cpp
  * contrib/hbqt/TQWheelEvent.prg
  * contrib/hbqt/QFormLayout.cpp
  * contrib/hbqt/QStyleOptionFrame.cpp
  * contrib/hbqt/TQWebPage.prg
  * contrib/hbqt/TQRadialGradient.prg
  * contrib/hbqt/QFont.cpp
  * contrib/hbqt/TQCursor.prg
  * contrib/hbqt/TQLayout.prg
  * contrib/hbqt/TQLatin1String.prg
  * contrib/hbqt/TQStandardItem.prg
  * contrib/hbqt/QTableWidgetItem.cpp
  * contrib/hbqt/TQFocusEvent.prg
  * contrib/hbqt/TQImage.prg
  * contrib/hbqt/TQSpinBox.prg
  * contrib/hbqt/QVBoxLayout.cpp
  * contrib/hbqt/QEvent.cpp
  * contrib/hbqt/TQLinearGradient.prg
  * contrib/hbqt/TQSplashScreen.prg
  * contrib/hbqt/TQDragLeaveEvent.prg
  * contrib/hbqt/TQSizeGrip.prg
  * contrib/hbqt/QModelIndex.cpp
  * contrib/hbqt/QStyleOption.cpp
  * contrib/hbqt/TQStyleHintReturnMask.prg
  * contrib/hbqt/TQStyleOptionToolBox.prg
  * contrib/hbqt/QTreeView.cpp
  * contrib/hbqt/TQStringList.prg
  * contrib/hbqt/QTextLine.cpp
  * contrib/hbqt/TQRectF.prg
  * contrib/hbqt/QRect.cpp
  * contrib/hbqt/TQGroupBox.prg
  * contrib/hbqt/TQTextDocumentFragment.prg
  * contrib/hbqt/TQToolButton.prg
  * contrib/hbqt/QTextItem.cpp
  * contrib/hbqt/QTimeEdit.cpp
  * contrib/hbqt/TQListWidget.prg
  * contrib/hbqt/QWebPage.cpp
  * contrib/hbqt/TQTextLayout.prg
  * contrib/hbqt/TQTextCursor.prg
  * contrib/hbqt/TQPen.prg
  * contrib/hbqt/QPrintPreviewDialog.cpp
  * contrib/hbqt/TQTextEncoder.prg
  * contrib/hbqt/QSlider.cpp
  * contrib/hbqt/QSpinBox.cpp
  * contrib/hbqt/TQDateTime.prg
  * contrib/hbqt/QScrollArea.cpp
  * contrib/hbqt/TQStyleOptionDockWidget.prg
  * contrib/hbqt/TQAbstractButton.prg
  * contrib/hbqt/TQStyleOptionTabWidgetFrame.prg
  * contrib/hbqt/QFontDatabase.cpp
  * contrib/hbqt/QAbstractTableModel.cpp
  * contrib/hbqt/QLayoutItem.cpp
  * contrib/hbqt/QLineEdit.cpp
  * contrib/hbqt/TQVariant.prg
  * contrib/hbqt/QPixmap.cpp
  * contrib/hbqt/QStyleHintReturnMask.cpp
  * contrib/hbqt/TQMoveEvent.prg
  * contrib/hbqt/TQTextInlineObject.prg
  * contrib/hbqt/TQList.prg
  * contrib/hbqt/QDragMoveEvent.cpp
  * contrib/hbqt/TQStyleOptionToolBar.prg
  * contrib/hbqt/TQBitmap.prg
  * contrib/hbqt/QSplitter.cpp
  * contrib/hbqt/TQCalendarWidget.prg
  * contrib/hbqt/TQDesktopWidget.prg
  * contrib/hbqt/TQPageSetupDialog.prg
  * contrib/hbqt/QComboBox.cpp
  * contrib/hbqt/QEventLoop.cpp
  * contrib/hbqt/QDoubleSpinBox.cpp
  * contrib/hbqt/TQDateEdit.prg
  * contrib/hbqt/TQHeaderView.prg
  * contrib/hbqt/TQCheckBox.prg
  * contrib/hbqt/TQConicalGradient.prg
  * contrib/hbqt/QStyleOptionComplex.cpp
  * contrib/hbqt/QTableView.cpp
  * contrib/hbqt/TQWebFrame.prg
  * contrib/hbqt/QPen.cpp
  * contrib/hbqt/QRegion.cpp
  * contrib/hbqt/QTextEncoder.cpp
  * contrib/hbqt/TQFocusFrame.prg
  * contrib/hbqt/TQSizePolicy.prg
  * contrib/hbqt/QLatin1Char.cpp
  * contrib/hbqt/TQDirModel.prg
  * contrib/hbqt/QFrame.cpp
  * contrib/hbqt/QStyleOptionSpinBox.cpp
  * contrib/hbqt/TQStyleOptionFrame.prg
  * contrib/hbqt/TQFont.prg
  * contrib/hbqt/TQAbstractSlider.prg
  * contrib/hbqt/TQObject.prg
  * contrib/hbqt/QVariant.cpp
  * contrib/hbqt/TQAbstractScrollArea.prg
  * contrib/hbqt/TQPicture.prg
    * Regenerated sources after generator change.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf
    trunk/harbour/contrib/hbqt/Makefile_gen
    trunk/harbour/contrib/hbqt/QAbstractButton.cpp
    trunk/harbour/contrib/hbqt/QAbstractItemModel.cpp
    trunk/harbour/contrib/hbqt/QAbstractItemView.cpp
    trunk/harbour/contrib/hbqt/QAbstractListModel.cpp
    trunk/harbour/contrib/hbqt/QAbstractPrintDialog.cpp
    trunk/harbour/contrib/hbqt/QAbstractScrollArea.cpp
    trunk/harbour/contrib/hbqt/QAbstractSlider.cpp
    trunk/harbour/contrib/hbqt/QAbstractSpinBox.cpp
    trunk/harbour/contrib/hbqt/QAbstractTableModel.cpp
    trunk/harbour/contrib/hbqt/QAction.cpp
    trunk/harbour/contrib/hbqt/QApplication.cpp
    trunk/harbour/contrib/hbqt/QBitmap.cpp
    trunk/harbour/contrib/hbqt/QBoxLayout.cpp
    trunk/harbour/contrib/hbqt/QBrush.cpp
    trunk/harbour/contrib/hbqt/QButtonGroup.cpp
    trunk/harbour/contrib/hbqt/QCalendarWidget.cpp
    trunk/harbour/contrib/hbqt/QCheckBox.cpp
    trunk/harbour/contrib/hbqt/QClipboard.cpp
    trunk/harbour/contrib/hbqt/QColor.cpp
    trunk/harbour/contrib/hbqt/QColorDialog.cpp
    trunk/harbour/contrib/hbqt/QComboBox.cpp
    trunk/harbour/contrib/hbqt/QCommandLinkButton.cpp
    trunk/harbour/contrib/hbqt/QCommonStyle.cpp
    trunk/harbour/contrib/hbqt/QConicalGradient.cpp
    trunk/harbour/contrib/hbqt/QCoreApplication.cpp
    trunk/harbour/contrib/hbqt/QCursor.cpp
    trunk/harbour/contrib/hbqt/QDateEdit.cpp
    trunk/harbour/contrib/hbqt/QDateTime.cpp
    trunk/harbour/contrib/hbqt/QDateTimeEdit.cpp
    trunk/harbour/contrib/hbqt/QDesktopWidget.cpp
    trunk/harbour/contrib/hbqt/QDial.cpp
    trunk/harbour/contrib/hbqt/QDialog.cpp
    trunk/harbour/contrib/hbqt/QDir.cpp
    trunk/harbour/contrib/hbqt/QDirModel.cpp
    trunk/harbour/contrib/hbqt/QDockWidget.cpp
    trunk/harbour/contrib/hbqt/QDoubleSpinBox.cpp
    trunk/harbour/contrib/hbqt/QDragEnterEvent.cpp
    trunk/harbour/contrib/hbqt/QDragLeaveEvent.cpp
    trunk/harbour/contrib/hbqt/QDragMoveEvent.cpp
    trunk/harbour/contrib/hbqt/QDropEvent.cpp
    trunk/harbour/contrib/hbqt/QErrorMessage.cpp
    trunk/harbour/contrib/hbqt/QEvent.cpp
    trunk/harbour/contrib/hbqt/QEventLoop.cpp
    trunk/harbour/contrib/hbqt/QFileDialog.cpp
    trunk/harbour/contrib/hbqt/QFileSystemModel.cpp
    trunk/harbour/contrib/hbqt/QFocusEvent.cpp
    trunk/harbour/contrib/hbqt/QFocusFrame.cpp
    trunk/harbour/contrib/hbqt/QFont.cpp
    trunk/harbour/contrib/hbqt/QFontComboBox.cpp
    trunk/harbour/contrib/hbqt/QFontDatabase.cpp
    trunk/harbour/contrib/hbqt/QFontDialog.cpp
    trunk/harbour/contrib/hbqt/QFontInfo.cpp
    trunk/harbour/contrib/hbqt/QFontMetrics.cpp
    trunk/harbour/contrib/hbqt/QFontMetricsF.cpp
    trunk/harbour/contrib/hbqt/QFormLayout.cpp
    trunk/harbour/contrib/hbqt/QFrame.cpp
    trunk/harbour/contrib/hbqt/QGradient.cpp
    trunk/harbour/contrib/hbqt/QGridLayout.cpp
    trunk/harbour/contrib/hbqt/QGroupBox.cpp
    trunk/harbour/contrib/hbqt/QHBoxLayout.cpp
    trunk/harbour/contrib/hbqt/QHeaderView.cpp
    trunk/harbour/contrib/hbqt/QIODevice.cpp
    trunk/harbour/contrib/hbqt/QIcon.cpp
    trunk/harbour/contrib/hbqt/QImage.cpp
    trunk/harbour/contrib/hbqt/QImageReader.cpp
    trunk/harbour/contrib/hbqt/QImageWriter.cpp
    trunk/harbour/contrib/hbqt/QInputDialog.cpp
    trunk/harbour/contrib/hbqt/QInputEvent.cpp
    trunk/harbour/contrib/hbqt/QKeyEvent.cpp
    trunk/harbour/contrib/hbqt/QKeySequence.cpp
    trunk/harbour/contrib/hbqt/QLCDNumber.cpp
    trunk/harbour/contrib/hbqt/QLabel.cpp
    trunk/harbour/contrib/hbqt/QLatin1Char.cpp
    trunk/harbour/contrib/hbqt/QLatin1String.cpp
    trunk/harbour/contrib/hbqt/QLayout.cpp
    trunk/harbour/contrib/hbqt/QLayoutItem.cpp
    trunk/harbour/contrib/hbqt/QLine.cpp
    trunk/harbour/contrib/hbqt/QLineEdit.cpp
    trunk/harbour/contrib/hbqt/QLinearGradient.cpp
    trunk/harbour/contrib/hbqt/QList.cpp
    trunk/harbour/contrib/hbqt/QListView.cpp
    trunk/harbour/contrib/hbqt/QListWidget.cpp
    trunk/harbour/contrib/hbqt/QListWidgetItem.cpp
    trunk/harbour/contrib/hbqt/QMainWindow.cpp
    trunk/harbour/contrib/hbqt/QMenu.cpp
    trunk/harbour/contrib/hbqt/QMenuBar.cpp
    trunk/harbour/contrib/hbqt/QMessageBox.cpp
    trunk/harbour/contrib/hbqt/QModelIndex.cpp
    trunk/harbour/contrib/hbqt/QMouseEvent.cpp
    trunk/harbour/contrib/hbqt/QMoveEvent.cpp
    trunk/harbour/contrib/hbqt/QObject.cpp
    trunk/harbour/contrib/hbqt/QPageSetupDialog.cpp
    trunk/harbour/contrib/hbqt/QPaintDevice.cpp
    trunk/harbour/contrib/hbqt/QPaintEvent.cpp
    trunk/harbour/contrib/hbqt/QPainter.cpp
    trunk/harbour/contrib/hbqt/QPalette.cpp
    trunk/harbour/contrib/hbqt/QPen.cpp
    trunk/harbour/contrib/hbqt/QPicture.cpp
    trunk/harbour/contrib/hbqt/QPixmap.cpp
    trunk/harbour/contrib/hbqt/QPoint.cpp
    trunk/harbour/contrib/hbqt/QPointF.cpp
    trunk/harbour/contrib/hbqt/QPrintDialog.cpp
    trunk/harbour/contrib/hbqt/QPrintEngine.cpp
    trunk/harbour/contrib/hbqt/QPrintPreviewDialog.cpp
    trunk/harbour/contrib/hbqt/QPrinter.cpp
    trunk/harbour/contrib/hbqt/QProcess.cpp
    trunk/harbour/contrib/hbqt/QProgressBar.cpp
    trunk/harbour/contrib/hbqt/QProgressDialog.cpp
    trunk/harbour/contrib/hbqt/QPushButton.cpp
    trunk/harbour/contrib/hbqt/QRadialGradient.cpp
    trunk/harbour/contrib/hbqt/QRadioButton.cpp
    trunk/harbour/contrib/hbqt/QRect.cpp
    trunk/harbour/contrib/hbqt/QRectF.cpp
    trunk/harbour/contrib/hbqt/QRegion.cpp
    trunk/harbour/contrib/hbqt/QResizeEvent.cpp
    trunk/harbour/contrib/hbqt/QResource.cpp
    trunk/harbour/contrib/hbqt/QScrollArea.cpp
    trunk/harbour/contrib/hbqt/QScrollBar.cpp
    trunk/harbour/contrib/hbqt/QSignalMapper.cpp
    trunk/harbour/contrib/hbqt/QSize.cpp
    trunk/harbour/contrib/hbqt/QSizeF.cpp
    trunk/harbour/contrib/hbqt/QSizeGrip.cpp
    trunk/harbour/contrib/hbqt/QSizePolicy.cpp
    trunk/harbour/contrib/hbqt/QSlider.cpp
    trunk/harbour/contrib/hbqt/QSound.cpp
    trunk/harbour/contrib/hbqt/QSpinBox.cpp
    trunk/harbour/contrib/hbqt/QSplashScreen.cpp
    trunk/harbour/contrib/hbqt/QSplitter.cpp
    trunk/harbour/contrib/hbqt/QStandardItem.cpp
    trunk/harbour/contrib/hbqt/QStandardItemModel.cpp
    trunk/harbour/contrib/hbqt/QStatusBar.cpp
    trunk/harbour/contrib/hbqt/QStringList.cpp
    trunk/harbour/contrib/hbqt/QStringListModel.cpp
    trunk/harbour/contrib/hbqt/QStyle.cpp
    trunk/harbour/contrib/hbqt/QStyleFactory.cpp
    trunk/harbour/contrib/hbqt/QStyleHintReturn.cpp
    trunk/harbour/contrib/hbqt/QStyleHintReturnMask.cpp
    trunk/harbour/contrib/hbqt/QStyleHintReturnVariant.cpp
    trunk/harbour/contrib/hbqt/QStyleOption.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionButton.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionComboBox.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionComplex.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionDockWidget.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionFocusRect.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionFrame.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionGroupBox.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionHeader.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionMenuItem.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionProgressBar.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionSizeGrip.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionSlider.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionSpinBox.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionTab.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionTabBarBase.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionTabWidgetFrame.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionTitleBar.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionToolBar.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionToolBox.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionToolButton.cpp
    trunk/harbour/contrib/hbqt/QStyleOptionViewItem.cpp
    trunk/harbour/contrib/hbqt/QStylePainter.cpp
    trunk/harbour/contrib/hbqt/QStyledItemDelegate.cpp
    trunk/harbour/contrib/hbqt/QSystemTrayIcon.cpp
    trunk/harbour/contrib/hbqt/QTabBar.cpp
    trunk/harbour/contrib/hbqt/QTabWidget.cpp
    trunk/harbour/contrib/hbqt/QTableView.cpp
    trunk/harbour/contrib/hbqt/QTableWidget.cpp
    trunk/harbour/contrib/hbqt/QTableWidgetItem.cpp
    trunk/harbour/contrib/hbqt/QTextBlock.cpp
    trunk/harbour/contrib/hbqt/QTextBlockFormat.cpp
    trunk/harbour/contrib/hbqt/QTextBlockGroup.cpp
    trunk/harbour/contrib/hbqt/QTextBoundaryFinder.cpp
    trunk/harbour/contrib/hbqt/QTextBrowser.cpp
    trunk/harbour/contrib/hbqt/QTextCharFormat.cpp
    trunk/harbour/contrib/hbqt/QTextCodec.cpp
    trunk/harbour/contrib/hbqt/QTextCursor.cpp
    trunk/harbour/contrib/hbqt/QTextDecoder.cpp
    trunk/harbour/contrib/hbqt/QTextDocument.cpp
    trunk/harbour/contrib/hbqt/QTextDocumentFragment.cpp
    trunk/harbour/contrib/hbqt/QTextDocumentWriter.cpp
    trunk/harbour/contrib/hbqt/QTextEdit.cpp
    trunk/harbour/contrib/hbqt/QTextEncoder.cpp
    trunk/harbour/contrib/hbqt/QTextFormat.cpp
    trunk/harbour/contrib/hbqt/QTextFragment.cpp
    trunk/harbour/contrib/hbqt/QTextFrame.cpp
    trunk/harbour/contrib/hbqt/QTextFrameFormat.cpp
    trunk/harbour/contrib/hbqt/QTextImageFormat.cpp
    trunk/harbour/contrib/hbqt/QTextInlineObject.cpp
    trunk/harbour/contrib/hbqt/QTextItem.cpp
    trunk/harbour/contrib/hbqt/QTextLayout.cpp
    trunk/harbour/contrib/hbqt/QTextLength.cpp
    trunk/harbour/contrib/hbqt/QTextLine.cpp
    trunk/harbour/contrib/hbqt/QTextObject.cpp
    trunk/harbour/contrib/hbqt/QTextStream.cpp
    trunk/harbour/contrib/hbqt/QTimeEdit.cpp
    trunk/harbour/contrib/hbqt/QTimer.cpp
    trunk/harbour/contrib/hbqt/QToolBar.cpp
    trunk/harbour/contrib/hbqt/QToolBox.cpp
    trunk/harbour/contrib/hbqt/QToolButton.cpp
    trunk/harbour/contrib/hbqt/QTreeView.cpp
    trunk/harbour/contrib/hbqt/QTreeWidget.cpp
    trunk/harbour/contrib/hbqt/QTreeWidgetItem.cpp
    trunk/harbour/contrib/hbqt/QUrl.cpp
    trunk/harbour/contrib/hbqt/QVBoxLayout.cpp
    trunk/harbour/contrib/hbqt/QVariant.cpp
    trunk/harbour/contrib/hbqt/QWebFrame.cpp
    trunk/harbour/contrib/hbqt/QWebHistory.cpp
    trunk/harbour/contrib/hbqt/QWebHistoryInterface.cpp
    trunk/harbour/contrib/hbqt/QWebHistoryItem.cpp
    trunk/harbour/contrib/hbqt/QWebHitTestResult.cpp
    trunk/harbour/contrib/hbqt/QWebPage.cpp
    trunk/harbour/contrib/hbqt/QWebPluginFactory.cpp
    trunk/harbour/contrib/hbqt/QWebSecurityOrigin.cpp
    trunk/harbour/contrib/hbqt/QWebSettings.cpp
    trunk/harbour/contrib/hbqt/QWebView.cpp
    trunk/harbour/contrib/hbqt/QWheelEvent.cpp
    trunk/harbour/contrib/hbqt/QWidget.cpp
    trunk/harbour/contrib/hbqt/QWidgetAction.cpp
    trunk/harbour/contrib/hbqt/QWidgetItem.cpp
    trunk/harbour/contrib/hbqt/QWindowsStyle.cpp
    trunk/harbour/contrib/hbqt/QWindowsXPStyle.cpp
    trunk/harbour/contrib/hbqt/QWizard.cpp
    trunk/harbour/contrib/hbqt/TQAbstractButton.prg
    trunk/harbour/contrib/hbqt/TQAbstractItemModel.prg
    trunk/harbour/contrib/hbqt/TQAbstractItemView.prg
    trunk/harbour/contrib/hbqt/TQAbstractListModel.prg
    trunk/harbour/contrib/hbqt/TQAbstractPrintDialog.prg
    trunk/harbour/contrib/hbqt/TQAbstractScrollArea.prg
    trunk/harbour/contrib/hbqt/TQAbstractSlider.prg
    trunk/harbour/contrib/hbqt/TQAbstractSpinBox.prg
    trunk/harbour/contrib/hbqt/TQAbstractTableModel.prg
    trunk/harbour/contrib/hbqt/TQAction.prg
    trunk/harbour/contrib/hbqt/TQApplication.prg
    trunk/harbour/contrib/hbqt/TQBitmap.prg
    trunk/harbour/contrib/hbqt/TQBoxLayout.prg
    trunk/harbour/contrib/hbqt/TQBrush.prg
    trunk/harbour/contrib/hbqt/TQButtonGroup.prg
    trunk/harbour/contrib/hbqt/TQCalendarWidget.prg
    trunk/harbour/contrib/hbqt/TQCheckBox.prg
    trunk/harbour/contrib/hbqt/TQClipboard.prg
    trunk/harbour/contrib/hbqt/TQColor.prg
    trunk/harbour/contrib/hbqt/TQColorDialog.prg
    trunk/harbour/contrib/hbqt/TQComboBox.prg
    trunk/harbour/contrib/hbqt/TQCommandLinkButton.prg
    trunk/harbour/contrib/hbqt/TQCommonStyle.prg
    trunk/harbour/contrib/hbqt/TQConicalGradient.prg
    trunk/harbour/contrib/hbqt/TQCoreApplication.prg
    trunk/harbour/contrib/hbqt/TQCursor.prg
    trunk/harbour/contrib/hbqt/TQDateEdit.prg
    trunk/harbour/contrib/hbqt/TQDateTime.prg
    trunk/harbour/contrib/hbqt/TQDateTimeEdit.prg
    trunk/harbour/contrib/hbqt/TQDesktopWidget.prg
    trunk/harbour/contrib/hbqt/TQDial.prg
    trunk/harbour/contrib/hbqt/TQDialog.prg
    trunk/harbour/contrib/hbqt/TQDir.prg
    trunk/harbour/contrib/hbqt/TQDirModel.prg
    trunk/harbour/contrib/hbqt/TQDockWidget.prg
    trunk/harbour/contrib/hbqt/TQDoubleSpinBox.prg
    trunk/harbour/contrib/hbqt/TQDragEnterEvent.prg
    trunk/harbour/contrib/hbqt/TQDragLeaveEvent.prg
    trunk/harbour/contrib/hbqt/TQDragMoveEvent.prg
    trunk/harbour/contrib/hbqt/TQDropEvent.prg
    trunk/harbour/contrib/hbqt/TQErrorMessage.prg
    trunk/harbour/contrib/hbqt/TQEvent.prg
    trunk/harbour/contrib/hbqt/TQEventLoop.prg
    trunk/harbour/contrib/hbqt/TQFileDialog.prg
    trunk/harbour/contrib/hbqt/TQFileSystemModel.prg
    trunk/harbour/contrib/hbqt/TQFocusEvent.prg
    trunk/harbour/contrib/hbqt/TQFocusFrame.prg
    trunk/harbour/contrib/hbqt/TQFont.prg
    trunk/harbour/contrib/hbqt/TQFontComboBox.prg
    trunk/harbour/contrib/hbqt/TQFontDatabase.prg
    trunk/harbour/contrib/hbqt/TQFontDialog.prg
    trunk/harbour/contrib/hbqt/TQFontInfo.prg
    trunk/harbour/contrib/hbqt/TQFontMetrics.prg
    trunk/harbour/contrib/hbqt/TQFontMetricsF.prg
    trunk/harbour/contrib/hbqt/TQFormLayout.prg
    trunk/harbour/contrib/hbqt/TQFrame.prg
    trunk/harbour/contrib/hbqt/TQFtp.prg
    trunk/harbour/contrib/hbqt/TQGradient.prg
    trunk/harbour/contrib/hbqt/TQGridLayout.prg
    trunk/harbour/contrib/hbqt/TQGroupBox.prg
    trunk/harbour/contrib/hbqt/TQHBoxLayout.prg
    trunk/harbour/contrib/hbqt/TQHeaderView.prg
    trunk/harbour/contrib/hbqt/TQHttp.prg
    trunk/harbour/contrib/hbqt/TQIODevice.prg
    trunk/harbour/contrib/hbqt/TQIcon.prg
    trunk/harbour/contrib/hbqt/TQImage.prg
    trunk/harbour/contrib/hbqt/TQImageReader.prg
    trunk/harbour/contrib/hbqt/TQImageWriter.prg
    trunk/harbour/contrib/hbqt/TQInputDialog.prg
    trunk/harbour/contrib/hbqt/TQInputEvent.prg
    trunk/harbour/contrib/hbqt/TQKeyEvent.prg
    trunk/harbour/contrib/hbqt/TQKeySequence.prg
    trunk/harbour/contrib/hbqt/TQLCDNumber.prg
    trunk/harbour/contrib/hbqt/TQLabel.prg
    trunk/harbour/contrib/hbqt/TQLatin1Char.prg
    trunk/harbour/contrib/hbqt/TQLatin1String.prg
    trunk/harbour/contrib/hbqt/TQLayout.prg
    trunk/harbour/contrib/hbqt/TQLayoutItem.prg
    trunk/harbour/contrib/hbqt/TQLine.prg
    trunk/harbour/contrib/hbqt/TQLineEdit.prg
    trunk/harbour/contrib/hbqt/TQLinearGradient.prg
    trunk/harbour/contrib/hbqt/TQList.prg
    trunk/harbour/contrib/hbqt/TQListView.prg
    trunk/harbour/contrib/hbqt/TQListWidget.prg
    trunk/harbour/contrib/hbqt/TQListWidgetItem.prg
    trunk/harbour/contrib/hbqt/TQMainWindow.prg
    trunk/harbour/contrib/hbqt/TQMenu.prg
    trunk/harbour/contrib/hbqt/TQMenuBar.prg
    trunk/harbour/contrib/hbqt/TQMessageBox.prg
    trunk/harbour/contrib/hbqt/TQModelIndex.prg
    trunk/harbour/contrib/hbqt/TQMouseEvent.prg
    trunk/harbour/contrib/hbqt/TQMoveEvent.prg
    trunk/harbour/contrib/hbqt/TQObject.prg
    trunk/harbour/contrib/hbqt/TQPageSetupDialog.prg
    trunk/harbour/contrib/hbqt/TQPaintDevice.prg
    trunk/harbour/contrib/hbqt/TQPaintEvent.prg
    trunk/harbour/contrib/hbqt/TQPainter.prg
    trunk/harbour/contrib/hbqt/TQPalette.prg
    trunk/harbour/contrib/hbqt/TQPen.prg
    trunk/harbour/contrib/hbqt/TQPicture.prg
    trunk/harbour/contrib/hbqt/TQPixmap.prg
    trunk/harbour/contrib/hbqt/TQPoint.prg
    trunk/harbour/contrib/hbqt/TQPointF.prg
    trunk/harbour/contrib/hbqt/TQPrintDialog.prg
    trunk/harbour/contrib/hbqt/TQPrintEngine.prg
    trunk/harbour/contrib/hbqt/TQPrintPreviewDialog.prg
    trunk/harbour/contrib/hbqt/TQPrinter.prg
    trunk/harbour/contrib/hbqt/TQProcess.prg
    trunk/harbour/contrib/hbqt/TQProgressBar.prg
    trunk/harbour/contrib/hbqt/TQProgressDialog.prg
    trunk/harbour/contrib/hbqt/TQPushButton.prg
    trunk/harbour/contrib/hbqt/TQRadialGradient.prg
    trunk/harbour/contrib/hbqt/TQRadioButton.prg
    trunk/harbour/contrib/hbqt/TQRect.prg
    trunk/harbour/contrib/hbqt/TQRectF.prg
    trunk/harbour/contrib/hbqt/TQRegion.prg
    trunk/harbour/contrib/hbqt/TQResizeEvent.prg
    trunk/harbour/contrib/hbqt/TQResource.prg
    trunk/harbour/contrib/hbqt/TQScrollArea.prg
    trunk/harbour/contrib/hbqt/TQScrollBar.prg
    trunk/harbour/contrib/hbqt/TQSignalMapper.prg
    trunk/harbour/contrib/hbqt/TQSize.prg
    trunk/harbour/contrib/hbqt/TQSizeF.prg
    trunk/harbour/contrib/hbqt/TQSizeGrip.prg
    trunk/harbour/contrib/hbqt/TQSizePolicy.prg
    trunk/harbour/contrib/hbqt/TQSlider.prg
    trunk/harbour/contrib/hbqt/TQSound.prg
    trunk/harbour/contrib/hbqt/TQSpinBox.prg
    trunk/harbour/contrib/hbqt/TQSplashScreen.prg
    trunk/harbour/contrib/hbqt/TQSplitter.prg
    trunk/harbour/contrib/hbqt/TQStandardItem.prg
    trunk/harbour/contrib/hbqt/TQStandardItemModel.prg
    trunk/harbour/contrib/hbqt/TQStatusBar.prg
    trunk/harbour/contrib/hbqt/TQStringList.prg
    trunk/harbour/contrib/hbqt/TQStringListModel.prg
    trunk/harbour/contrib/hbqt/TQStyle.prg
    trunk/harbour/contrib/hbqt/TQStyleFactory.prg
    trunk/harbour/contrib/hbqt/TQStyleHintReturn.prg
    trunk/harbour/contrib/hbqt/TQStyleHintReturnMask.prg
    trunk/harbour/contrib/hbqt/TQStyleHintReturnVariant.prg
    trunk/harbour/contrib/hbqt/TQStyleOption.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionButton.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionComboBox.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionComplex.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionDockWidget.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionFocusRect.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionFrame.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionGroupBox.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionHeader.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionMenuItem.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionProgressBar.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionSizeGrip.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionSlider.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionSpinBox.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionTab.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionTabBarBase.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionTabWidgetFrame.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionTitleBar.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionToolBar.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionToolBox.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionToolButton.prg
    trunk/harbour/contrib/hbqt/TQStyleOptionViewItem.prg
    trunk/harbour/contrib/hbqt/TQStylePainter.prg
    trunk/harbour/contrib/hbqt/TQStyledItemDelegate.prg
    trunk/harbour/contrib/hbqt/TQSystemTrayIcon.prg
    trunk/harbour/contrib/hbqt/TQTabBar.prg
    trunk/harbour/contrib/hbqt/TQTabWidget.prg
    trunk/harbour/contrib/hbqt/TQTableView.prg
    trunk/harbour/contrib/hbqt/TQTableWidget.prg
    trunk/harbour/contrib/hbqt/TQTableWidgetItem.prg
    trunk/harbour/contrib/hbqt/TQTextBlock.prg
    trunk/harbour/contrib/hbqt/TQTextBlockFormat.prg
    trunk/harbour/contrib/hbqt/TQTextBlockGroup.prg
    trunk/harbour/contrib/hbqt/TQTextBoundaryFinder.prg
    trunk/harbour/contrib/hbqt/TQTextBrowser.prg
    trunk/harbour/contrib/hbqt/TQTextCharFormat.prg
    trunk/harbour/contrib/hbqt/TQTextCodec.prg
    trunk/harbour/contrib/hbqt/TQTextCursor.prg
    trunk/harbour/contrib/hbqt/TQTextDecoder.prg
    trunk/harbour/contrib/hbqt/TQTextDocument.prg
    trunk/harbour/contrib/hbqt/TQTextDocumentFragment.prg
    trunk/harbour/contrib/hbqt/TQTextDocumentWriter.prg
    trunk/harbour/contrib/hbqt/TQTextEdit.prg
    trunk/harbour/contrib/hbqt/TQTextEncoder.prg
    trunk/harbour/contrib/hbqt/TQTextFormat.prg
    trunk/harbour/contrib/hbqt/TQTextFragment.prg
    trunk/harbour/contrib/hbqt/TQTextFrame.prg
    trunk/harbour/contrib/hbqt/TQTextFrameFormat.prg
    trunk/harbour/contrib/hbqt/TQTextImageFormat.prg
    trunk/harbour/contrib/hbqt/TQTextInlineObject.prg
    trunk/harbour/contrib/hbqt/TQTextItem.prg
    trunk/harbour/contrib/hbqt/TQTextLayout.prg
    trunk/harbour/contrib/hbqt/TQTextLength.prg
    trunk/harbour/contrib/hbqt/TQTextLine.prg
    trunk/harbour/contrib/hbqt/TQTextObject.prg
    trunk/harbour/contrib/hbqt/TQTextStream.prg
    trunk/harbour/contrib/hbqt/TQTimeEdit.prg
    trunk/harbour/contrib/hbqt/TQTimer.prg
    trunk/harbour/contrib/hbqt/TQToolBar.prg
    trunk/harbour/contrib/hbqt/TQToolBox.prg
    trunk/harbour/contrib/hbqt/TQToolButton.prg
    trunk/harbour/contrib/hbqt/TQTreeView.prg
    trunk/harbour/contrib/hbqt/TQTreeWidget.prg
    trunk/harbour/contrib/hbqt/TQTreeWidgetItem.prg
    trunk/harbour/contrib/hbqt/TQUrl.prg
    trunk/harbour/contrib/hbqt/TQVBoxLayout.prg
    trunk/harbour/contrib/hbqt/TQVariant.prg
    trunk/harbour/contrib/hbqt/TQWebFrame.prg
    trunk/harbour/contrib/hbqt/TQWebHistory.prg
    trunk/harbour/contrib/hbqt/TQWebHistoryInterface.prg
    trunk/harbour/contrib/hbqt/TQWebHistoryItem.prg
    trunk/harbour/contrib/hbqt/TQWebHitTestResult.prg
    trunk/harbour/contrib/hbqt/TQWebPage.prg
    trunk/harbour/contrib/hbqt/TQWebPluginFactory.prg
    trunk/harbour/contrib/hbqt/TQWebSecurityOrigin.prg
    trunk/harbour/contrib/hbqt/TQWebSettings.prg
    trunk/harbour/contrib/hbqt/TQWebView.prg
    trunk/harbour/contrib/hbqt/TQWheelEvent.prg
    trunk/harbour/contrib/hbqt/TQWidget.prg
    trunk/harbour/contrib/hbqt/TQWidgetAction.prg
    trunk/harbour/contrib/hbqt/TQWidgetItem.prg
    trunk/harbour/contrib/hbqt/TQWindowsStyle.prg
    trunk/harbour/contrib/hbqt/TQWindowsXPStyle.prg
    trunk/harbour/contrib/hbqt/TQWizard.prg
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/mpkg_gnu.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Aug 12 07:30:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 12 07:30:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12085] trunk/harbour
Message-ID: <E1MbC25-0001eB-3s@3kljzd1.ch3.sourceforge.com>

Revision: 12085
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12085&view=rev
Author:   vszakats
Date:     2009-08-12 11:30:15 +0000 (Wed, 12 Aug 2009)

Log Message:
-----------
2009-08-12 13:29 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
  * config/instsh.cf
    % Deleted last CMDPREF from nt install rule.
    % Commented CMDPREF assigment. No longer needed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf
    trunk/harbour/config/instsh.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Aug 12 07:56:04 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug 12 07:56:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12083] trunk/harbour
In-Reply-To: <E1MbBDi-00038c-Lt@d5vjzd1.ch3.sourceforge.com>
References: <E1MbBDi-00038c-Lt@d5vjzd1.ch3.sourceforge.com>
Message-ID: <20090812115603.GA30204@uran.home.aster.pl>

On Wed, 12 Aug 2009, vszakats@users.sourceforge.net wrote:

Hi,

>     ; TODO: Streamline macro usage regarding external dependencies.
>             There is currently HAS*, HAVE*, HB_HAVE*, HB_WITHOUT* 
>             plus some other variations.
>             We should probably stick to HB_BUILD_WITH_* for user 
>             level control, and HB_HAS_* for internal detection logic.

We need two vars.
One to include non default parts and second to exclude default parts.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Aug 12 07:57:50 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug 12 07:57:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12064] trunk/harbour
In-Reply-To: <E1MapTx-0007YZ-N6@c3vjzd1.ch3.sourceforge.com>
References: <E1MapTx-0007YZ-N6@c3vjzd1.ch3.sourceforge.com>
Message-ID: <20090812115750.GB30204@uran.home.aster.pl>

On Tue, 11 Aug 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-08-11 13:24 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>     * Cleaned LDLIBS usage:

One of recent modifications enabled some unnecessary libraries
in linking phase, i.e. now harbour compiler in Linux builds is linked
with -lgpm, i.e.:
ldd harbour
        linux-gate.so.1 =>  (0xffffe000)
        libgpm.so.1 => /usr/lib/libgpm.so.1 (0xb7f28000)
        libm.so.6 => /lib/libm.so.6 (0xb7f02000)
        librt.so.1 => /lib/librt.so.1 (0xb7ef9000)
        libdl.so.2 => /lib/libdl.so.2 (0xb7ef5000)
        libc.so.6 => /lib/libc.so.6 (0xb7db2000)
        libncurses.so.5 => /lib/libncurses.so.5 (0xb7d7a000)
        /lib/ld-linux.so.2 (0xb7f58000)
        libpthread.so.0 => /lib/libpthread.so.0 (0xb7d62000)

gpm library should be only added to binaries linked with
gtcrs, gtsln or gttrm.
If we are cleaning the usage of libraries then in *nix builds
only -lm should be enabled by default and other system libraries
like -lpcre, -lz, -lrt, -ldl -lsocket -lnsl -lresolv should be
enabled only if hbrtl is also linked. They are not necessary for
harbour and hbpp binaries.
It means that they should be covered by:
   ifneq ($(findstring hbrtl, $(LIBS)),)
      ...
   endif
   LDLIBS += -lm

It's still not perfect because we do not know if the code uses parts
of RTL which needs additional libraries anyhow it's better then
nothing.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Aug 12 08:05:35 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 12 08:05:44 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS II
In-Reply-To: <4A829F96.5060602@mail.udg.mx>
References: <4A829F96.5060602@mail.udg.mx>
Message-ID: <5FDFA5D3-210E-4ACB-A01B-025C6FCD368B@syenar.hu>

> >    ; QUESTION: Could an OS/2 user tell me whether $(CMDPREF) is
> >                *really* needed? This is the only place it's used,
> >                so I wonder. If not, we should delete it.
>
> I do not know what $(CMDPREF) mean or what it does
> In current builds I do not see any difference

Thank you. It was explicitly invoking the shell command processor
to launch the shell commands. Probably much better to use $(shell)
command in case such forced shell invocation is to be used, but
these weren't such cases.

> >2009-08-11 15:04 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
> >  * config/dirsh.cf
> >    + Initializing $(MKFLAGS) to --no-print-directory, which
> >      suppresses "Entering directory"/"Leaving directory" GNU
> >      Make messages. They can be useful for debugging, but for
> >      normal operation IMO they just add up to unnecessary
> >      clutter. Please tell if you think otherwise.
> >      Despite docs say it's enabled when using -C (change dir)
> >      option, I've only seen it enabled on win/dos platforms,
> >      so for other platforms (at least *nixes) this won't change
> >      behavior.
>
> In my case this change does not help and should be reverted
> Now we have a long list and is not easy to find to which source  
> block belong each line
> Messages "Entering directory"/"Leaving directory" help to locate  
> them quickly while browsing long log file

I don't understand how can there be a longer output on OS/2
after this change, maybe I'm misunderstanding something.
Please provide example output after/before.

In case of an error the offending module is always shown in
GNU Make error message anyway, so for this purpose it's not
needed. In case of warnings, the name of the source file is
always shown, which is enough to locate it in practically all
cases.

If you need these extra lines, try to use HB_USER_MKFLAGS=-w

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug 12 08:10:48 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 12 08:10:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12083] trunk/harbour
In-Reply-To: <20090812115603.GA30204@uran.home.aster.pl>
References: <E1MbBDi-00038c-Lt@d5vjzd1.ch3.sourceforge.com>
	<20090812115603.GA30204@uran.home.aster.pl>
Message-ID: <868A8B87-0E10-4616-8476-086EFE1D4CB1@syenar.hu>

>>    ; TODO: Streamline macro usage regarding external dependencies.
>>            There is currently HAS*, HAVE*, HB_HAVE*, HB_WITHOUT*
>>            plus some other variations.
>>            We should probably stick to HB_BUILD_WITH_* for user
>>            level control, and HB_HAS_* for internal detection logic.
>
> We need two vars.
> One to include non default parts and second to exclude default parts.

This could still mean one setting which can be set to yes/no
with proper yes/no systems defaults.

This has the advantage that if the default changes, we don't
need to change all user level settings and rename the controlling
variables.

I'll explore current needs / status when doing this actual TODO,
maybe I can form a better opinion after seeing all the details.

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Aug 12 08:13:19 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug 12 08:14:00 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS II
In-Reply-To: <5FDFA5D3-210E-4ACB-A01B-025C6FCD368B@syenar.hu>
References: <4A829F96.5060602@mail.udg.mx>
	<5FDFA5D3-210E-4ACB-A01B-025C6FCD368B@syenar.hu>
Message-ID: <20090812121319.GA18923@uran.home.aster.pl>

On Wed, 12 Aug 2009, Szak?ts Viktor wrote:

Hi,

> Thank you. It was explicitly invoking the shell command processor
> to launch the shell commands. Probably much better to use $(shell)
> command in case such forced shell invocation is to be used, but
> these weren't such cases.

I only guess but IMO it was workaround for older GNU make versions
which in DOS/Win/OS2 ports were looking for any *sh.exe in a PATH
envvar and used it as preferred SHELL when SHELL var was not set
and above hacks was a trick to force COMMAND.COM/CMD.EXE.
But in such case "\" in arguments have to be doubled because
1-st shell used them as quotation marks so simply strip single "\".

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Aug 12 08:23:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 12 08:23:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12064] trunk/harbour
In-Reply-To: <20090812115750.GB30204@uran.home.aster.pl>
References: <E1MapTx-0007YZ-N6@c3vjzd1.ch3.sourceforge.com>
	<20090812115750.GB30204@uran.home.aster.pl>
Message-ID: <A9E288C0-A04C-4348-BA98-D42C60EAB127@syenar.hu>

>> 2009-08-11 13:24 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>    * Cleaned LDLIBS usage:
>
> One of recent modifications enabled some unnecessary libraries
> in linking phase, i.e. now harbour compiler in Linux builds is linked
> with -lgpm, i.e.:
> ldd harbour
>        linux-gate.so.1 =>  (0xffffe000)
>        libgpm.so.1 => /usr/lib/libgpm.so.1 (0xb7f28000)
>        libm.so.6 => /lib/libm.so.6 (0xb7f02000)
>        librt.so.1 => /lib/librt.so.1 (0xb7ef9000)
>        libdl.so.2 => /lib/libdl.so.2 (0xb7ef5000)
>        libc.so.6 => /lib/libc.so.6 (0xb7db2000)
>        libncurses.so.5 => /lib/libncurses.so.5 (0xb7d7a000)
>        /lib/ld-linux.so.2 (0xb7f58000)
>        libpthread.so.0 => /lib/libpthread.so.0 (0xb7d62000)
>
> gpm library should be only added to binaries linked with
> gtcrs, gtsln or gttrm.
> If we are cleaning the usage of libraries then in *nix builds
> only -lm should be enabled by default and other system libraries
> like -lpcre, -lz, -lrt, -ldl -lsocket -lnsl -lresolv should be
> enabled only if hbrtl is also linked. They are not necessary for
> harbour and hbpp binaries.
> It means that they should be covered by:
>   ifneq ($(findstring hbrtl, $(LIBS)),)
>      ...
>   endif
>   LDLIBS += -lm
>
> It's still not perfect because we do not know if the code uses parts
> of RTL which needs additional libraries anyhow it's better then
> nothing.

True, I missed that point, I'll readd the check. Please check me
after it's done, maybe it'll need some tweaks.

Maybe these system libs could be moved to compiler global.cf files.

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Aug 12 08:25:52 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug 12 08:25:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12083] trunk/harbour
In-Reply-To: <868A8B87-0E10-4616-8476-086EFE1D4CB1@syenar.hu>
References: <E1MbBDi-00038c-Lt@d5vjzd1.ch3.sourceforge.com>
	<20090812115603.GA30204@uran.home.aster.pl>
	<868A8B87-0E10-4616-8476-086EFE1D4CB1@syenar.hu>
Message-ID: <20090812122551.GA25977@uran.home.aster.pl>

On Wed, 12 Aug 2009, Szak?ts Viktor wrote:
>>>    ; TODO: Streamline macro usage regarding external dependencies.
>>>            There is currently HAS*, HAVE*, HB_HAVE*, HB_WITHOUT*
>>>            plus some other variations.
>>>            We should probably stick to HB_BUILD_WITH_* for user
>>>            level control, and HB_HAS_* for internal detection logic.
>> We need two vars.
>> One to include non default parts and second to exclude default parts.
> This could still mean one setting which can be set to yes/no
> with proper yes/no systems defaults.

OK, I haven't understood what you are asking for.
Now it's clear for me.

Please also change compile time macro HAVE_GPM_H to HB_HAS_GPM
I would like to use HB_HAS_ prefix for all such macros.
It will help to locate them if we add support for autoconf.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Aug 12 08:27:53 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 12 08:28:02 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS II
In-Reply-To: <20090812121319.GA18923@uran.home.aster.pl>
References: <4A829F96.5060602@mail.udg.mx>
	<5FDFA5D3-210E-4ACB-A01B-025C6FCD368B@syenar.hu>
	<20090812121319.GA18923@uran.home.aster.pl>
Message-ID: <59D97718-6D2D-4005-A006-D65623625376@syenar.hu>

>> Thank you. It was explicitly invoking the shell command processor
>> to launch the shell commands. Probably much better to use $(shell)
>> command in case such forced shell invocation is to be used, but
>> these weren't such cases.
>
> I only guess but IMO it was workaround for older GNU make versions
> which in DOS/Win/OS2 ports were looking for any *sh.exe in a PATH
> envvar and used it as preferred SHELL when SHELL var was not set
> and above hacks was a trick to force COMMAND.COM/CMD.EXE.
> But in such case "\" in arguments have to be doubled because
> 1-st shell used them as quotation marks so simply strip single "\".

Hm, yes, this seem to wake up some memories. Dunno which old versions
(or old builds) were these, anyhow it would be quite a big work
to implement this in a consistent way with not much gain, so for now
I just noted this information. It would be useful to add it as comment
before CMDPREF assignment code, pls do it if you agree.

Brgds,
Viktor

From druzus at users.sourceforge.net  Wed Aug 12 08:36:45 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Aug 12 08:36:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12086] trunk/harbour
Message-ID: <E1MbD4P-00037j-ST@3kljzd1.ch3.sourceforge.com>

Revision: 12086
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12086&view=rev
Author:   druzus
Date:     2009-08-12 12:36:44 +0000 (Wed, 12 Aug 2009)

Log Message:
-----------
2009-08-12 14:36 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    * updated list of system libraries used in to create harbour*.dll
      in MinGW builds

  * harbour/bin/postinst.sh
    - removed not longer used code for build library in postinst phase
    * use 'suncc' instead of 'cc' to create harbour shared library without
      any platform dependent non default settings
    * synced flags used in build process with flags used to create
      harbour shared library in sunpro builds

  * harbour/config/linux/sunpro.cf
  * harbour/config/sunos/sunpro.cf
    * removed options which explicitly force platform
    * added -xbuiltin=%none as workaround for problems in x86 PIC builds
      exploited by hbpcre library code
    * changed the order of C/LD flags settings so they can be easy
      overwritten by HB_ISAOPT

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/postinst.sh
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/sunos/sunpro.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Wed Aug 12 08:36:42 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Aug 12 08:37:00 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS II
Message-ID: <4A82B75A.7040001@mail.udg.mx>

Thanks, Przemek:

>This seems to be problem we had in the past. HBRUN used some code which
>causes such effect but I do not remember what it was. It's also
>possible that I'm wrong and it's new problem.
>Anyhow we will have to locate it.
>Do other tools like hbtest, hb18n, hbformat, hbmk2 work for you?
>What are hbtest results?
>Can you use hbmk2 to create OpenWatcom OS2 binaries?

Tests in Oct, Nov, Dec 2008 show that OpenWatcom17a/hbrun.exe run fine,
so this is a new problem. Later I will to trace it
hbtest.exe results are "normal" and rest of binaries run fine


>Looks that winsock library should be explicitly set for OS2->WIN cross
>build but we alread have in win/watcom.cf:
>   @echo LIB ws2_32.lib >> __link__.tmp
>which should resolve the problem.
>I do not know why it was not working for you.

Is not a problem of some kind of "case for each os" in
source\rtl\hbsocket.c ?

#if defined( HB_OS_OS2 ) || defined( HB_OS_WIN )

>Yes though I do not think we should add workround for os2make381
>to other platforms. I hope that in the future it will be fixed and
>I do not think that now many people will want to build Windows, DOS or
>Linux binaries using OS2. If I'm wrong then please inform us and we
>can add it.

I am agree
Not anyone try to use OS/2  :-)

>Here the problem is OS shell not GNU make. WinNT CMD.EXE needs
>%%i instead of %i. I'll commit fix in a while.

It is fixed with your recent change

>Yes and the slowness was caused only by very memory manager.
>dlmalloc does not support OS2 but I modified it so it can be
>compiled using OW1.8 for OS2 but I do not know if it works.
>Can you check it? Just recompile Harbour with:
>   set HB_USER_CFLAGS=-DHB_FM_DL_ALLOC
>You will see a set of warnings from dlmalloc.c but just simply ignore
>them. I'm interesting if final binaries like hbtest can be executed
>later. If yes and the performance is acceptable then we can enabled
>-bm with DLMALLOC.

In Oct-Dec 2008 we did tests with/without -bm, HB_FM_DL_ALLOC
I was waiting to get an Harbour/OW stable build and then to start with
changes

Note:
Harbour/Windows/Watcom build show a lot of warnings for dlmalloc.c
Perhaps you are aware of them


Building Harbour with -bm
  Warning for -bm has gone, as expected
  Everything run except hbrun.exe
  Performance comparative tests are pending

Building Harbour with -bm, -DHB_FM_DL_ALLOC
  A lot of warnings (included below) for dlmalloc.c, as in Windows
  Only run harbour.exe, hbpp.exe, rest of binaries fail with message:
-----------------------
[E:\harbour907g\harbour\bin\os2\watcom]hbtest
SYS1808:
The process has stopped.  The software diagnostic
code (exception code) is  0005.
-----------------------

Building Harbour with -bm, -DHB_FM_DL_ALLOC -DUSE_DL_PREFIX
  A lot of warnings for dlmalloc.c, as in Windows
  Same as previous:
  Only run harbour.exe, hbpp.exe, rest of binaries fail


Additionally I suggest to change in config\os2\watcom.cf
  -5r -fp5 to -6r -fp6


David Macias


../../../dlmalloc.c(2820): Warning! W367: col(7) conditional expression 
in if statement is always true
../../../dlmalloc.c(2820): Note! N393: col(7) included from 
../../../fm.c(169)
../../../dlmalloc.c(2858): Warning! W367: col(7) conditional expression 
in if statement is always true
../../../dlmalloc.c(3446): Warning! W368: col(17) conditional expression 
in if statement is always false
../../../dlmalloc.c(3449): Warning! W013: col(5) unreachable code
../../../dlmalloc.c(3570): Warning! W368: col(37) conditional expression 
in if statement is always false
../../../dlmalloc.c(3571): Warning! W013: col(20) unreachable code
../../../dlmalloc.c(3590): Warning! W887: col(13) unary '-' of unsigned 
operand produces unsigned result
../../../dlmalloc.c(3603): Warning! W368: col(33) conditional expression 
in if statement is always false
../../../dlmalloc.c(3607): Warning! W013: col(13) unreachable code
../../../dlmalloc.c(3607): Warning! W368: col(72) conditional expression 
in if statement is always false
../../../dlmalloc.c(3613): Warning! W367: col(18) conditional expression 
in if statement is always true
../../../dlmalloc.c(3640): Warning! W368: col(9) conditional expression 
in if statement is always false
../../../dlmalloc.c(3641): Warning! W013: col(16) unreachable code
../../../dlmalloc.c(3768): Warning! W887: col(16) unary '-' of unsigned 
operand produces unsigned result
../../../dlmalloc.c(3772): Warning! W367: col(7) conditional expression 
in if statement is always true
../../../dlmalloc.c(3833): Warning! W013: col(3) unreachable code
../../../dlmalloc.c(3849): Warning! W887: col(16) unary '-' of unsigned 
operand produces unsigned result
../../../dlmalloc.c(3863): Warning! W368: col(22) conditional expression 
in if statement is always false
../../../dlmalloc.c(3863): Warning! W013: col(25) unreachable code
../../../dlmalloc.c(3993): Warning! W368: col(18) conditional expression 
in if statement is always false
../../../dlmalloc.c(3993): Warning! W013: col(21) unreachable code
../../../dlmalloc.c(4080): Warning! W367: col(7) conditional expression 
in if statement is always true
../../../dlmalloc.c(4117): Warning! W368: col(32) conditional expression 
in if statement is always false
../../../dlmalloc.c(4118): Warning! W013: col(60) unreachable code
../../../dlmalloc.c(4136): Warning! W887: col(23) unary '-' of unsigned 
operand produces unsigned result
../../../dlmalloc.c(4185): Warning! W013: col(3) unreachable code
../../../dlmalloc.c(4206): Warning! W367: col(9) conditional expression 
in if statement is always true
../../../dlmalloc.c(4216): Warning! W368: col(57) conditional expression 
in if statement is always false
../../../dlmalloc.c(4217): Warning! W013: col(29) unreachable code
../../../dlmalloc.c(4357): Warning! W367: col(7) conditional expression 
in if statement is always true
../../../fm.c(393): Warning! W367: col(19) conditional expression in if 
statement is always true
../../../fm.c(403): Warning! W628: col(35) expression is not meaningful


From vszakats at users.sourceforge.net  Wed Aug 12 08:49:11 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 12 08:49:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12087] trunk/harbour
Message-ID: <E1MbDGR-0005cQ-7T@bj8yhf1.ch3.sourceforge.com>

Revision: 12087
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12087&view=rev
Author:   vszakats
Date:     2009-08-12 12:49:09 +0000 (Wed, 12 Aug 2009)

Log Message:
-----------
2009-08-12 14:47 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/rules.cf
    ! Changed CC_RULE and CPP_RULE to have CC_OUT option _before_ CC_IN.
      Quick check didn't reveal any problems with this accross our supported
      compiler, but I may be wrong, so pls check me, I didn't test this 
      change thoroughly.
      This change fixes CC_OUT for bcc, where it was ignored before.
      If this is breaks other compilers, bcc specific CC_RULE should be
      added to win/bcc.cf.

  * utils/hbmk2/hbmk2.prg
  * source/rtl/gtcrs/gtcrs.c
  * source/rtl/gtcrs/gtcrs.h
  * source/rtl/gtcrs/Makefile
  * source/rtl/gttrm/Makefile
  * source/rtl/gttrm/gttrm.c
  * source/rtl/gtsln/mousesln.c
  * source/rtl/gtsln/gtsln.c
  * source/rtl/gtsln/Makefile
    * HAVE_GPM_H -> HB_HAS_GPM

  * config/global.cf
    + Added some compile-time macros in comment.
    * Minor correction to MKFLAGS comment.

  * source/rtl/console.c
  * source/rtl/hbgtcore.c
    * Changed wording 'screen driver' to 'Harbour terminal (GT)'.
      Former term isn't used by us.

  * config/bsd/gcc.cf
  * config/darwin/gcc.cf
  * config/hpux/gcc.cf
  * config/dos/djgpp.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/linux/sunpro.cf
  * config/os2/gcc.cf
  * config/sunos/gcc.cf
  * config/sunos/sunpro.cf
    + Readded accidentally deleted feature to include *nix system
      libs needed for rtl, only if rtl is actually linked.
      (IOW in practice don't link them for harbour/hbpp executables)
    ! Fixed a few old problems where some extra libs were always
      linked. Now m is the only one linked in all scenarios.
    + Added linking pdcurses along with gtcrs for djgpp.
    * Standardized LDFLAGS in linux/icc (left from previous modification).
    ! Indentations corrected.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/rules.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/source/rtl/console.c
    trunk/harbour/source/rtl/gtcrs/Makefile
    trunk/harbour/source/rtl/gtcrs/gtcrs.c
    trunk/harbour/source/rtl/gtcrs/gtcrs.h
    trunk/harbour/source/rtl/gtsln/Makefile
    trunk/harbour/source/rtl/gtsln/gtsln.c
    trunk/harbour/source/rtl/gtsln/mousesln.c
    trunk/harbour/source/rtl/gttrm/Makefile
    trunk/harbour/source/rtl/gttrm/gttrm.c
    trunk/harbour/source/rtl/hbgtcore.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Aug 12 09:01:24 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 12 09:01:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12088] trunk/harbour
Message-ID: <E1MbDSG-0005rM-Gr@bj8yhf1.ch3.sourceforge.com>

Revision: 12088
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12088&view=rev
Author:   vszakats
Date:     2009-08-12 13:01:23 +0000 (Wed, 12 Aug 2009)

Log Message:
-----------
2009-08-12 14:59 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/wce/mingwarm.cf
  * config/win/mingw.cf
    - Deleted ranlib usage. I've tested with mingw 3.4.2, 4.4.0
      and mingwarm 4.4.1, and the runlib command made no difference.
      If someone knows the reason why was it there, pls shout.

  * config/bsd/global.cf
  * config/darwin/global.cf
  * config/linux/global.cf
    - Deleted RANLIB variables. They are not used anywere through the
      make process.
      (only mingw/mingwarm uses it)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/global.cf
    trunk/harbour/config/darwin/global.cf
    trunk/harbour/config/linux/global.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/win/mingw.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Aug 12 09:36:20 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug 12 09:36:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12088] trunk/harbour
In-Reply-To: <E1MbDSG-0005rM-Gr@bj8yhf1.ch3.sourceforge.com>
References: <E1MbDSG-0005rM-Gr@bj8yhf1.ch3.sourceforge.com>
Message-ID: <20090812133620.GA16535@uran.home.aster.pl>

On Wed, 12 Aug 2009, vszakats@users.sourceforge.net wrote:
> 2009-08-12 14:59 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * config/wce/mingwarm.cf
>   * config/win/mingw.cf
>     - Deleted ranlib usage. I've tested with mingw 3.4.2, 4.4.0
>       and mingwarm 4.4.1, and the runlib command made no difference.
>       If someone knows the reason why was it there, pls shout.

Some tools which cannot crate dynamic index may not work with
ar archives without static one so I suggest to simply add 's' to ar flags
instead of calling ranlib explicitly, i.e.:
   $(AR) $(ARFLAGS) $(HB_USER_AFLAGS) crs $(LIB_DIR)/$@ $(^F)
Windows AR ports supports 's' flag.

best regards,
Przeemk
From druzus at acn.waw.pl  Wed Aug 12 09:57:24 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug 12 09:57:30 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS II
In-Reply-To: <4A82B75A.7040001@mail.udg.mx>
References: <4A82B75A.7040001@mail.udg.mx>
Message-ID: <20090812135724.GB16535@uran.home.aster.pl>

On Wed, 12 Aug 2009, David Arturo Macias Corona wrote:

Hi,

>> This seems to be problem we had in the past. HBRUN used some code which
>> causes such effect but I do not remember what it was. It's also
>> possible that I'm wrong and it's new problem.
>> Anyhow we will have to locate it.
>> Do other tools like hbtest, hb18n, hbformat, hbmk2 work for you?
>> What are hbtest results?
>> Can you use hbmk2 to create OpenWatcom OS2 binaries?
> Tests in Oct, Nov, Dec 2008 show that OpenWatcom17a/hbrun.exe run fine,
> so this is a new problem. Later I will to trace it
> hbtest.exe results are "normal" and rest of binaries run fine

I know that final version was working but I do not remember how
we fixed the problems we had.

hbrun includes all core code so it's possible that it exploits some
problems with external libraries.
Probably you can quite locate the problem by excluding some parts of
hbextern.ch directives. If hbmk2 works for you then you can simply copy
hbrun.prg and hbextern.ch into separate directory and make some tests.
comment
   REQUEST __HB_EXTERN__
in hbrun.prg and rebuild it using
   hbmk2 hbrun.prg
and try to execute.
If it works then replace
   REQUEST __HB_EXTERN__
with
   #include "hbextern.ch"
rebuild hbrun and try.
If it works then it means that there is sth wrong with huge static
structures and we should look for valid compiler/linker/lib options
(hbextern library has such huge structure).
If it doesn't work then you can try to remove some parts of hbextern.ch
rebuilding hbrun untill you will find when it begins to work.

>> Looks that winsock library should be explicitly set for OS2->WIN cross
>> build but we alread have in win/watcom.cf:
>>   @echo LIB ws2_32.lib >> __link__.tmp
>> which should resolve the problem.
>> I do not know why it was not working for you.
> Is not a problem of some kind of "case for each os" in
> source\rtl\hbsocket.c ?
> #if defined( HB_OS_OS2 ) || defined( HB_OS_WIN )

No it's not. Above is used at compile time and here all is OK.
The problem is that during linking it does not see necessary
import libraries.

> Building Harbour with -bm
>  Warning for -bm has gone, as expected
>  Everything run except hbrun.exe
>  Performance comparative tests are pending

Probably it will be fatal. In Windows builds we are using DLMALLOC
as workaround but your tests shows that it does not work in OS2.

> Building Harbour with -bm, -DHB_FM_DL_ALLOC
>  A lot of warnings (included below) for dlmalloc.c, as in Windows
>  Only run harbour.exe, hbpp.exe, rest of binaries fail with message:
> -----------------------
> [E:\harbour907g\harbour\bin\os2\watcom]hbtest
> SYS1808:
> The process has stopped.  The software diagnostic
> code (exception code) is  0005.

So the modifications in dlmalloc were not enough to make it working
in OS2 :-(
Probably it will have to wait for someone who loot at it deeply.

> Additionally I suggest to change in config\os2\watcom.cf
>  -5r -fp5 to -6r -fp6

I'm not sure it's good idea. The speed difference is rather small
and I guess that OS2 can be used in current days quite often with
older hardware when it was installed as based system but I may be
wrong. I'm not OS2 user.

Thank you very much for your tests.

best regards,
Przemek

ps. the dlmalloc warnings comes from foreign code which we intentionally
    do not changed. You can ignore them.
From e.m.giordano at emagsoftware.it  Wed Aug 12 10:11:46 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Aug 12 10:11:53 2009
Subject: [Harbour] Error in latest SVN
References: <A6EF7E003B4A4F16849173A8F67F11BD@emag>
Message-ID: <3F944904738244D894FA3D6D67957BB6@emag>


-----Messaggio Originale----- 
Da: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
A: "Harbour Project Developers Mailing List" <harbour@harbour-project.org>
Data invio: mercoled? 12 agosto 2009 11.14
Oggetto: [Harbour] Error in latest SVN

It's ok now. Thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at users.sourceforge.net  Wed Aug 12 12:26:38 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Aug 12 12:26:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12089] trunk/harbour
Message-ID: <E1MbGes-0008FZ-6s@3kljzd1.ch3.sourceforge.com>

Revision: 12089
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12089&view=rev
Author:   druzus
Date:     2009-08-12 16:26:37 +0000 (Wed, 12 Aug 2009)

Log Message:
-----------
2009-08-12 18:26 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/olecore.c
    ! fixed memory leak in PutParams()
    ! fixed parameters order in PutParams()
    ! fixed possible GPF due calling VariantClear() without VariantInit()
      for C stack VARIANT item.
    ! fixed reverted #if condition - VT_[U]I8 was not supported
    + implemented passing parameters by reference
      Not tested at all - I do not have Windows and I'm not familiar
      with OLE code/servers. I hope that Windows users can test it
      and it Windows developers can update this code if necessary.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/olecore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Wed Aug 12 12:46:08 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Aug 12 12:46:13 2009
Subject: [Harbour] Error Building demoqt.prg and demoxbp.prg
Message-ID: <24940498.post@talk.nabble.com>


Hello Viktor

Today I updated from SVN and made a clean build.
Libs are reported built properly but I am unable to 
build .exe's, demoqt and demoxbp.
Here is the last console visible output:

C:/harbour_dev/harbour/mingw/lib/libhbqt.a(QAbstractListModel.o):QAbstractListMo
del.cpp:(.text+0x3d): undefined reference to `__gxx_personality_sj0'
C:/harbour_dev/harbour/mingw/lib/libhbqt.a(QAbstractListModel.o):QAbstractListMo
del.cpp:(.text+0xfb): undefined reference to `operator new(unsigned int)'
C:/harbour_dev/harbour/mingw/lib/libhbqt.a(QAbstractListModel.o):QAbstractListMo
del.cpp:(.text+0x1aa): undefined reference to `operator delete(void*)'
collect2: ld returned 1 exit status
hbmk: Error: Running linker. 1

gcc.exe demoqt.o hbmk_kszuse.o    -mwindows -lsupc++ -lhbqt -lversion
-lshlwapi
-lQtCore4 -lQtGui4 -lQtNetwork4 -lQtWebKit4 -lhbwin -lhbextern -lhbdebug
-lhbvm
-lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui
-lhbr
dd -lhbusrrdd -lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt -lhbuddall -lrddnsx
-lh
brtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib
-lkernel32 -l
user32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32
-lshell32 -l
ole32 -loleaut32 -luuid -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32 
-odemoqt.exe -
LC:/harbour_dev/harbour/mingw/lib -LC:/Qt/2009.01/qt/lib

C:\harbour\contrib\hbqt\tests>

I think Qt libs are not being linked. What I have to do extra?

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Error-Building-demoqt.prg-and-demoxbp.prg-tp24940498p24940498.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From ice at extreme.hu  Wed Aug 12 13:20:46 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Aug 12 13:20:54 2009
Subject: [Harbour] explicitly specifying a std inc dir
Message-ID: <alpine.GSO.2.00.0908121906130.3629@dawn.royalcomp.hu>


hi,

external/libhpdf/Makefile

 39 ifeq ($(HB_XBUILD),)
 40 HB_INC_LIBPNG = /usr/include

is there any reason for explicitly specifying /usr/include here? it'll 
be picked up by the compiler anyway, but now i've found a case where 
it _might_ cause some level of harm - probably not in hpdf, though, 
anyway.

i see it's to check for the presence of png.h, and such techniques are 
used elsewhere too. would filtering /usr/include out of the include 
list be too cumbersome?

-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Wed Aug 12 13:25:13 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 12 13:25:23 2009
Subject: [Harbour] Error Building demoqt.prg and demoxbp.prg
In-Reply-To: <24940498.post@talk.nabble.com>
References: <24940498.post@talk.nabble.com>
Message-ID: <6FBFDECD-ED9B-43B4-8CD4-BAA902F4553B@syenar.hu>

Hi Pritpal.

Okay, so the regression I've signaled just kicked in.

I'd appreciate if someone could tell some good advice
how to order libs to make it work without lib grouping
in this case.

Brgds,
Viktor

On 2009.08.12., at 6:46, Pritpal Bedi wrote:

>
> Hello Viktor
>
> Today I updated from SVN and made a clean build.
> Libs are reported built properly but I am unable to
> build .exe's, demoqt and demoxbp.
> Here is the last console visible output:
>
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbqt.a(QAbstractListModel.o):QAbstractListMo
> del.cpp:(.text+0x3d): undefined reference to `__gxx_personality_sj0'
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbqt.a(QAbstractListModel.o):QAbstractListMo
> del.cpp:(.text+0xfb): undefined reference to `operator new(unsigned  
> int)'
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbqt.a(QAbstractListModel.o):QAbstractListMo
> del.cpp:(.text+0x1aa): undefined reference to `operator delete(void*)'
> collect2: ld returned 1 exit status
> hbmk: Error: Running linker. 1
>
> gcc.exe demoqt.o hbmk_kszuse.o    -mwindows -lsupc++ -lhbqt -lversion
> -lshlwapi
> -lQtCore4 -lQtGui4 -lQtNetwork4 -lQtWebKit4 -lhbwin -lhbextern - 
> lhbdebug
> -lhbvm
> -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt - 
> lgtgui
> -lhbr
> dd -lhbusrrdd -lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt -lhbuddall - 
> lrddnsx
> -lh
> brtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib
> -lkernel32 -l
> user32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32
> -lshell32 -l
> ole32 -loleaut32 -luuid -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32
> -odemoqt.exe -
> LC:/harbour_dev/harbour/mingw/lib -LC:/Qt/2009.01/qt/lib
>
> C:\harbour\contrib\hbqt\tests>
>
> I think Qt libs are not being linked. What I have to do extra?
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/Error-Building-demoqt.prg-and-demoxbp.prg-tp24940498p24940498.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug 12 13:29:50 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 12 13:29:57 2009
Subject: [Harbour] explicitly specifying a std inc dir
In-Reply-To: <alpine.GSO.2.00.0908121906130.3629@dawn.royalcomp.hu>
References: <alpine.GSO.2.00.0908121906130.3629@dawn.royalcomp.hu>
Message-ID: <2BD297EE-6827-4571-ACD9-4B4DBAD3F989@syenar.hu>

Hi,

> external/libhpdf/Makefile
>
> 39 ifeq ($(HB_XBUILD),)
> 40 HB_INC_LIBPNG = /usr/include
>
> is there any reason for explicitly specifying /usr/include here? it'll
> be picked up by the compiler anyway, but now i've found a case where
> it _might_ cause some level of harm - probably not in hpdf, though,
> anyway.

It's current technique which we use to find out whether a given
external component is available. Such lines as line 40 here used
to contain a list of possible system locations (on *nix systems)
for a header name we'd like to #include in source. It's not perfect,
but it used to work well for our purpose.

> i see it's to check for the presence of png.h, and such techniques are
> used elsewhere too. would filtering /usr/include out of the include
> list be too cumbersome?

I'm not sure I understand. Could you tell some more about this?

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug 12 13:37:56 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 12 13:38:05 2009
Subject: [Harbour] Error Building demoqt.prg and demoxbp.prg
In-Reply-To: <24940498.post@talk.nabble.com>
References: <24940498.post@talk.nabble.com>
Message-ID: <20065801-A9E3-400A-AD84-107617AE08E6@syenar.hu>

Hi Pritpal,

Trouble isn't that big fortunately.

Please modify contrib/hbqt/hbqt.hbc so that the
line ending with supc++ gets moved after the
last libs= line. This should solve the problem.

I'll commit it in a while, currently I'm in the middle
of other changes.

Brgds,
Viktor

On 2009.08.12., at 6:46, Pritpal Bedi wrote:

>
> Hello Viktor
>
> Today I updated from SVN and made a clean build.
> Libs are reported built properly but I am unable to
> build .exe's, demoqt and demoxbp.
> Here is the last console visible output:
>
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbqt.a(QAbstractListModel.o):QAbstractListMo
> del.cpp:(.text+0x3d): undefined reference to `__gxx_personality_sj0'
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbqt.a(QAbstractListModel.o):QAbstractListMo
> del.cpp:(.text+0xfb): undefined reference to `operator new(unsigned  
> int)'
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbqt.a(QAbstractListModel.o):QAbstractListMo
> del.cpp:(.text+0x1aa): undefined reference to `operator delete(void*)'
> collect2: ld returned 1 exit status
> hbmk: Error: Running linker. 1
>
> gcc.exe demoqt.o hbmk_kszuse.o    -mwindows -lsupc++ -lhbqt -lversion
> -lshlwapi
> -lQtCore4 -lQtGui4 -lQtNetwork4 -lQtWebKit4 -lhbwin -lhbextern - 
> lhbdebug
> -lhbvm
> -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt - 
> lgtgui
> -lhbr
> dd -lhbusrrdd -lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt -lhbuddall - 
> lrddnsx
> -lh
> brtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib
> -lkernel32 -l
> user32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32
> -lshell32 -l
> ole32 -loleaut32 -luuid -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32
> -odemoqt.exe -
> LC:/harbour_dev/harbour/mingw/lib -LC:/Qt/2009.01/qt/lib
>
> C:\harbour\contrib\hbqt\tests>
>
> I think Qt libs are not being linked. What I have to do extra?
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/Error-Building-demoqt.prg-and-demoxbp.prg-tp24940498p24940498.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From ice at extreme.hu  Wed Aug 12 13:47:36 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Aug 12 13:47:43 2009
Subject: [Harbour] explicitly specifying a std inc dir
In-Reply-To: <2BD297EE-6827-4571-ACD9-4B4DBAD3F989@syenar.hu>
References: <alpine.GSO.2.00.0908121906130.3629@dawn.royalcomp.hu>
	<2BD297EE-6827-4571-ACD9-4B4DBAD3F989@syenar.hu>
Message-ID: <alpine.GSO.2.00.0908121935020.3629@dawn.royalcomp.hu>

On Wed, 12 Aug 2009, Viktor Szak?ts wrote:

hi,

 > > 39 ifeq ($(HB_XBUILD),)
 > > 40 HB_INC_LIBPNG = /usr/include
 > > 
 > > is there any reason for explicitly specifying /usr/include here? it'll
 > > be picked up by the compiler anyway, but now i've found a case where
 > > it _might_ cause some level of harm - probably not in hpdf, though,
 > > anyway.
 > 
 > It's current technique which we use to find out whether a given
 > external component is available. Such lines as line 40 here used
 > to contain a list of possible system locations (on *nix systems)
 > for a header name we'd like to #include in source. It's not perfect,
 > but it used to work well for our purpose.
 > 
 > > i see it's to check for the presence of png.h, and such techniques are
 > > used elsewhere too. would filtering /usr/include out of the include
 > > list be too cumbersome?
 > 
 > I'm not sure I understand. Could you tell some more about this?

what i mean that after all the magic is done, it ends up with a 
command line like that:

cc  -I. -I../../../../../include -K udk  -KPIC  \
  -I../../../../../source/hbzlib  -I/usr/include   -c \
  ../../../_hbhbpdf.c -o_hbhbpdf.o

(wrapped for clarity). would it be too cumbersome to by some means 
filter out the '-I/usr/include' part, so that it in the end it will 
not be part of the actual command line?


-- 
[-]

mkdir /nonexistent
From lorenzo.fiorini at gmail.com  Wed Aug 12 13:49:16 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Aug 12 13:49:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12084] trunk/harbour
In-Reply-To: <E1MbBzA-0001Zy-V2@3kljzd1.ch3.sourceforge.com>
References: <E1MbBzA-0001Zy-V2@3kljzd1.ch3.sourceforge.com>
Message-ID: <9257026e0908121049n29422afcg36cfdc7a6df1d789@mail.gmail.com>

On Wed, Aug 12, 2009 at 1:27 PM, <vszakats@users.sourceforge.net> wrote:

> ?* contrib/hbqt/generator/hbqtgen.prg
> ? ?% Minor opt in FWRITE() call.
> ? ?+ Changed to not generate extra empty lines at EOL.
> ? ?+ Added placeholder comment at the end of Makefile_gen
> ? ? ?to ensure an empty lines always kept after last '\' char
> ? ? ?even if the file is edited with an editor stripping
> ? ? ?excessive EOLs.
> ? ? ?Lorenzo, pls test with the config this caused problem.

It seems ok now.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Wed Aug 12 14:07:57 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 12 14:08:04 2009
Subject: [Harbour] explicitly specifying a std inc dir
In-Reply-To: <alpine.GSO.2.00.0908121935020.3629@dawn.royalcomp.hu>
References: <alpine.GSO.2.00.0908121906130.3629@dawn.royalcomp.hu>
	<2BD297EE-6827-4571-ACD9-4B4DBAD3F989@syenar.hu>
	<alpine.GSO.2.00.0908121935020.3629@dawn.royalcomp.hu>
Message-ID: <C8400F46-89D5-4588-9A1D-FCD9FD0C6DCE@syenar.hu>

>>> i see it's to check for the presence of png.h, and such techniques  
>>> are
>>> used elsewhere too. would filtering /usr/include out of the include
>>> list be too cumbersome?
>>
>> I'm not sure I understand. Could you tell some more about this?
>
> what i mean that after all the magic is done, it ends up with a
> command line like that:
>
> cc  -I. -I../../../../../include -K udk  -KPIC  \
>  -I../../../../../source/hbzlib  -I/usr/include   -c \
>  ../../../_hbhbpdf.c -o_hbhbpdf.o
>
> (wrapped for clarity). would it be too cumbersome to by some means
> filter out the '-I/usr/include' part, so that it in the end it will
> not be part of the actual command line?

Okay I think I see, though such filtering is already implemented.
In the final cmdline HB_INC_LIBPNG_OK is included which contains
only those dirs where png.h could be found. If it shows up in
your cmdline, chances are high there is /usr/include/png.h present.
If not, we should check how that can happen.

See line HB_INC_LIBPNG_OK += $(foreach ...

[ OFF: Actually '+=' should better be ':='. I'll fix these later. ]

Brgds,
Viktor

From ice at extreme.hu  Wed Aug 12 14:29:38 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Aug 12 14:29:45 2009
Subject: [Harbour] explicitly specifying a std inc dir
In-Reply-To: <C8400F46-89D5-4588-9A1D-FCD9FD0C6DCE@syenar.hu>
References: <alpine.GSO.2.00.0908121906130.3629@dawn.royalcomp.hu>
	<2BD297EE-6827-4571-ACD9-4B4DBAD3F989@syenar.hu>
	<alpine.GSO.2.00.0908121935020.3629@dawn.royalcomp.hu>
	<C8400F46-89D5-4588-9A1D-FCD9FD0C6DCE@syenar.hu>
Message-ID: <alpine.GSO.2.00.0908122015090.3629@dawn.royalcomp.hu>

On Wed, 12 Aug 2009, Viktor Szak?ts wrote:

 > > what i mean that after all the magic is done, it ends up with a
 > > command line like that:
 > > 
 > > cc  -I. -I../../../../../include -K udk  -KPIC  \
 > > -I../../../../../source/hbzlib  -I/usr/include   -c \
 > > ../../../_hbhbpdf.c -o_hbhbpdf.o
 > > 
 > > (wrapped for clarity). would it be too cumbersome to by some means
 > > filter out the '-I/usr/include' part, so that it in the end it will
 > > not be part of the actual command line?
 > 
 > Okay I think I see, though such filtering is already implemented.
 > In the final cmdline HB_INC_LIBPNG_OK is included which contains
 > only those dirs where png.h could be found. If it shows up in
 > your cmdline, chances are high there is /usr/include/png.h present.

yes, it is in there, thus explicitly specifying it's location is 
redundant, as it is already covered by the stdinc paths.

the complete picture is this: (as you already know) i'm screwing 
around with hb on openserver (instead of doing my day job :). there, 
the compiler is schizophrenic, and has two personalities (on osr6, 
that is) -- one is the "old" osr5 personality, the other is the "new" 
svr5 personality. they are switched between by giving a switch to cc 
(or by rearranging your path, but that doesn't matter in this case).

if compiling for the osr5 personality, stdinc changes to point to 
the osr5 includes (instead of being /usr/include, for the svr5 
personality). if /usr/include is explicitly added to that, there's a 
chance the compiler picks up a header that is not a representation of 
the lib it will link against later. if /usr/include is not specified, 
it will of course just Do The Right Thing.

now, as said, in case of hpdf, it probably won't be a problem, as it 
is unlikely to use anything that is different in osr and svr, but 
other things that use lower-level stuff (sockets, threads (which 
actually are non-existent in osr5), stuff like that) might get in 
trouble.

not that this would be of extreme priority, as said, i'm just playing.

-- 
[-]

mkdir /nonexistent
From ice at extreme.hu  Wed Aug 12 15:39:46 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Aug 12 15:39:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[11967] trunk/harbour
In-Reply-To: <20090812000053.GA24653@uran.home.aster.pl>
References: <E1MY8uq-0000tt-Lm@dn4whf1.ch3.sourceforge.com>
	<20090810090557.GA6715@uran.home.aster.pl>
	<4E73F1F0-2152-4806-B81E-DA8029601971@syenar.hu>
	<alpine.GSO.2.00.0908101237540.4352@dawn.royalcomp.hu>
	<20090812000053.GA24653@uran.home.aster.pl>
Message-ID: <alpine.GSO.2.00.0908122132350.3629@dawn.royalcomp.hu>

On Wed, 12 Aug 2009, Przemyslaw Czerpak wrote:

 > >  > > I also do not understand why we have this setting in linux/sunpro.cf:
 > >  > >  HB_ISAOPT ?= -xarch=386
 > >  > > Linux perfectly well works on different 32 and 64 bit SPARC CPUs.
 > > this has nothing to do with sparclinux. there is no sunpro for 
 > > sparclinux, so that combination wouldn't fly at all. linux/sunpro* is 
 > > only for ia32 and x86_64 targets.
 > 
 > so it does not make anything and it may only create problems if sunpro C
 > is released for Linux@SPARC.

like that ever happens ;))

 > In such case it should be removed. Now real problem is created by
 >    HB_ISAOPT ?= -xarch=v8
 > in sunos/sunpro.cf when you try to use sunpro with SunOS@x86.
 > I also see that -xstrconst and sunpro manual says that it's depreciated
 > and read only strings are default now so probably this also can be removed.

so, here's what i'm thinking. let's remove sunpro64.cf altogether, and 
also remove the arch-forcing switches from everywhere. and use that as 
a starting point. maybe it really was a bad idea to try forcing the 
compiler idiom for architecture selection :)


-- 
[-]

mkdir /nonexistent
From toninhofwi at yahoo.com.br  Wed Aug 12 15:58:52 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Wed Aug 12 15:57:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12089] trunk/harbour
In-Reply-To: <E1MbGes-0008FZ-6s@3kljzd1.ch3.sourceforge.com>
References: <E1MbGes-0008FZ-6s@3kljzd1.ch3.sourceforge.com>
Message-ID: <sf7685dpllvtrd57d3f8etic23g74stoqq@4ax.com>

>    + implemented passing parameters by reference
>      Not tested at all - I do not have Windows and I'm not familiar
>      with OLE code/servers. I hope that Windows users can test it
>      and it Windows developers can update this code if necessary.

Hi Przemek.

I don?t have words to say thank you. I have a only a few days to keep
it workin due to legal lawa of Brazil and... YOU DO IT.  You don?t
imagine my happiness.

In initial tests here works perfect.

Thanks a lot.

Best regards,

Toninho.

__________________________________________________
Fa?a liga??es para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From harbour.01 at syenar.hu  Wed Aug 12 16:15:54 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 12 16:16:02 2009
Subject: [Harbour] explicitly specifying a std inc dir
In-Reply-To: <alpine.GSO.2.00.0908122015090.3629@dawn.royalcomp.hu>
References: <alpine.GSO.2.00.0908121906130.3629@dawn.royalcomp.hu>
	<2BD297EE-6827-4571-ACD9-4B4DBAD3F989@syenar.hu>
	<alpine.GSO.2.00.0908121935020.3629@dawn.royalcomp.hu>
	<C8400F46-89D5-4588-9A1D-FCD9FD0C6DCE@syenar.hu>
	<alpine.GSO.2.00.0908122015090.3629@dawn.royalcomp.hu>
Message-ID: <03BE5EF8-EEF6-43BF-A85D-2E64F01A97C3@syenar.hu>

>>> what i mean that after all the magic is done, it ends up with a
>>> command line like that:
>>>
>>> cc  -I. -I../../../../../include -K udk  -KPIC  \
>>> -I../../../../../source/hbzlib  -I/usr/include   -c \
>>> ../../../_hbhbpdf.c -o_hbhbpdf.o
>>>
>>> (wrapped for clarity). would it be too cumbersome to by some means
>>> filter out the '-I/usr/include' part, so that it in the end it will
>>> not be part of the actual command line?
>>
>> Okay I think I see, though such filtering is already implemented.
>> In the final cmdline HB_INC_LIBPNG_OK is included which contains
>> only those dirs where png.h could be found. If it shows up in
>> your cmdline, chances are high there is /usr/include/png.h present.
>
> yes, it is in there, thus explicitly specifying it's location is
> redundant, as it is already covered by the stdinc paths.
>
> the complete picture is this: (as you already know) i'm screwing
> around with hb on openserver (instead of doing my day job :). there,
> the compiler is schizophrenic, and has two personalities (on osr6,
> that is) -- one is the "old" osr5 personality, the other is the "new"
> svr5 personality. they are switched between by giving a switch to cc
> (or by rearranging your path, but that doesn't matter in this case).
>
> if compiling for the osr5 personality, stdinc changes to point to
> the osr5 includes (instead of being /usr/include, for the svr5
> personality). if /usr/include is explicitly added to that, there's a
> chance the compiler picks up a header that is not a representation of
> the lib it will link against later. if /usr/include is not specified,
> it will of course just Do The Right Thing.

If you mean the wrong path may possibly be picked, you're right,
in this case the current way of solving it is to add the other
path before the std one, so that it gets picked if there. So, generally
speaking /usr/include should be the last one to be checked.
Or, you can also use HB_XBUILD macro (name subject to change) to
suppress looking into these location at all (usually used in cross-build
situations, but this one may also count as such).

Brgds,
Viktor

From carozodequilmes at gmail.com  Wed Aug 12 17:33:43 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Wed Aug 12 17:33:52 2009
Subject: [Harbour] Little question about Harbour sintax
Message-ID: <578c73340908121433h5ae2a81ckc7941a7ccea90fa6@mail.gmail.com>

Hi guys,

I have a Pointer to Object

Question: How can I invoke a method from the Object ???

If I have an Object, I put
oObject:method()

but I have a pointer !!!!!
???pObject???:method()

Can anybody help me ?

Thanks in advance
CdQ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090812/e376ea6d/attachment.html
From druzus at users.sourceforge.net  Wed Aug 12 17:47:20 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Aug 12 17:47:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12090] trunk/harbour
Message-ID: <E1MbLfE-000812-80@bj8yhf1.ch3.sourceforge.com>

Revision: 12090
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12090&view=rev
Author:   druzus
Date:     2009-08-12 21:47:19 +0000 (Wed, 12 Aug 2009)

Log Message:
-----------
2009-08-12 23:47 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbthread.h
    * added workaround for different CRITICAL_SECTION definitions in
      some compiler header files

  * harbour/source/vm/fm.c
  * harbour/source/hbzlib/ChangeLog
  * harbour/source/hbzlib/zutil.c
    * use #pragma warning to pacify OpenWatcom warnings

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbthread.h
    trunk/harbour/source/hbzlib/ChangeLog
    trunk/harbour/source/hbzlib/zutil.c
    trunk/harbour/source/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From carozodequilmes at gmail.com  Wed Aug 12 18:25:35 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Wed Aug 12 18:25:42 2009
Subject: [Harbour] Signals in HbQt
Message-ID: <578c73340908121525p616d7d2p12e26c82998d2501@mail.gmail.com>

Hi Pritpal, can you add the followed signal's to HbQt library ?

For QButtonGroup


   -
   - void *buttonClicked<http://qt.nokia.com/doc/4.5/qbuttongroup.html#buttonClicked-2>
   * ( int *id* )
   -
   - void *buttonPressed<http://qt.nokia.com/doc/4.5/qbuttongroup.html#buttonPressed-2>
   * ( int *id* )
   -
   - void *buttonReleased<http://qt.nokia.com/doc/4.5/qbuttongroup.html#buttonReleased-2>
   * ( int *id* )


For QLabel


   - void *linkActivated<http://qt.nokia.com/doc/4.5/qlabel.html#linkActivated>
   * ( const QString & *link* )
   - void *linkHovered <http://qt.nokia.com/doc/4.5/qlabel.html#linkHovered>
   * ( const QString & *link* )


Thanks in advance
CdQ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090812/2d35c4e9/attachment.html
From rodrigo at flaro.net  Wed Aug 12 23:01:19 2009
From: rodrigo at flaro.net (Rodrigo Machado)
Date: Wed Aug 12 23:01:45 2009
Subject: [Harbour] ORDWILDSEEK() exist in harbour ?
In-Reply-To: <133778360908100857o2c201c9eua0f4e4c48b983c34@mail.gmail.com>
References: <133778360908100857o2c201c9eua0f4e4c48b983c34@mail.gmail.com>
Message-ID: <b0552e6d0908122001r38ab397cnd502cb94a6fdf9ed@mail.gmail.com>

yes exist...

?Estas buscando alg?n numero telef?nico? www.teleguia.com.py

*:-.,_,.-:*'``'*:-.,_,.-:*:-.,_,.-:*'``'*:-.,_,.-:
      :: Rodrigo Machado ::
          FlaRo Sistemas
           www.flaro.net

      Telef:  0673 221 480
*:-.,_,.-:*'``'*:-.,_,.-:*:-.,_,.-:*'``'*:-.,_,.-:


2009/8/10 Bruno Luciani <bruno.luciani@gmail.com>

> This function exist in harbour  ?
>
> ORDWILDSEEK()
>
> Thanks in advance
>
> Bruno
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090813/c9fbb9f5/attachment.html
From vouchcac at users.sourceforge.net  Thu Aug 13 01:50:57 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Aug 13 01:51:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12091] trunk/harbour
Message-ID: <E1MbTDF-0001Nu-Oj@3kljzd1.ch3.sourceforge.com>

Revision: 12091
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12091&view=rev
Author:   vouchcac
Date:     2009-08-13 05:50:56 +0000 (Thu, 13 Aug 2009)

Log Message:
-----------
2009-08-12 22:48 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt.hbc
    ! Changed the instructions order ( per Viktor's advise )
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_slots.h
  * contrib/hbqt/moc_slots.cpp
    + Added more signal/slots.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt.hbc
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h
    trunk/harbour/contrib/hbqt/moc_slots.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Aug 13 01:53:37 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug 13 01:53:43 2009
Subject: [Harbour] Signals in HbQt
In-Reply-To: <578c73340908121525p616d7d2p12e26c82998d2501@mail.gmail.com>
References: <578c73340908121525p616d7d2p12e26c82998d2501@mail.gmail.com>
Message-ID: <24949257.post@talk.nabble.com>


Hi


CarozoDeQuilmes wrote:
> 
> Hi Pritpal, can you add the followed signal's to HbQt library ?
> 

Revision: 12091 
         
http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12091&view=rev
Author:   vouchcac 
Date:     2009-08-13 05:50:56 +0000 (Thu, 13 Aug 2009) 

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Signals-in-HbQt-tp24945716p24949257.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Thu Aug 13 01:54:49 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Aug 13 01:54:58 2009
Subject: [Harbour] Convert QT, Gtk, Xul, Html UI using XML and XSLT
Message-ID: <9257026e0908122254l3dd7e121r2fb4ef92421ca442@mail.gmail.com>

Googling I've found an interesting idea I'd like to share:

- QT creator creates an xml .ui file
- GTK glade3 creates an xml .ui file
- Xul is an xml that defines an UI
- Html is a subtype of xml
- AFAIK Hwgui forms use xml also

using XSLT is relatively easy to convert from an XML schema to another
or from an XML to sth else ( @SAY/GET/TBROWSE READ code?)

Using tools like glade or QT creator is easier to create UI.

Type qatar xul in google or read:
http://luxor-xul.sourceforge.net/download/qatar.pdf

Any comment?

best regards,
Lorenzo
From bedipritpal at hotmail.com  Thu Aug 13 02:10:13 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug 13 02:10:18 2009
Subject: [Harbour] Convert QT, Gtk, Xul, Html UI using XML and XSLT
In-Reply-To: <9257026e0908122254l3dd7e121r2fb4ef92421ca442@mail.gmail.com>
References: <9257026e0908122254l3dd7e121r2fb4ef92421ca442@mail.gmail.com>
Message-ID: <24949413.post@talk.nabble.com>


Hi Lorenzo


Lorenzo Fiorini-2 wrote:
> 
> Googling I've found an interesting idea I'd like to share:
> 
> - QT creator creates an xml .ui file
> - GTK glade3 creates an xml .ui file
> - Xul is an xml that defines an UI
> - Html is a subtype of xml
> - AFAIK Hwgui forms use xml also
> 
> using XSLT is relatively easy to convert from an XML schema to another
> or from an XML to sth else ( @SAY/GET/TBROWSE READ code?)
> 
> Using tools like glade or QT creator is easier to create UI.
> 
> Type qatar xul in google or read:
> http://luxor-xul.sourceforge.net/download/qatar.pdf
> 
> Any comment?
> 

I have already thought of impleenting QT Creators .ui protocol in
hbxbp.lib. It is just a matter of time.

But off course, what I am thinking and what you are proposing may be 
quite different. I need more input what you have in your thoughts.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Convert-QT%2C-Gtk%2C-Xul%2C-Html-UI-using-XML-and-XSLT-tp24949269p24949413.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Aug 13 02:12:05 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 13 02:12:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12091] trunk/harbour
In-Reply-To: <E1MbTDF-0001Nu-Oj@3kljzd1.ch3.sourceforge.com>
References: <E1MbTDF-0001Nu-Oj@3kljzd1.ch3.sourceforge.com>
Message-ID: <2FC6ECA4-F49E-4031-B830-FE266836CCA1@syenar.hu>

Hi Pritpal,

A windows.h slipped into the source.

Brgds,
Viktor

On 2009.08.13., at 7:50, vouchcac@users.sourceforge.net wrote:

> Revision: 12091
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12091&view=rev
> Author:   vouchcac
> Date:     2009-08-13 05:50:56 +0000 (Thu, 13 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-12 22:48 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbqt/hbqt.hbc
>    ! Changed the instructions order ( per Viktor's advise )
>  * contrib/hbqt/hbqt_slots.cpp
>  * contrib/hbqt/hbqt_slots.h
>  * contrib/hbqt/moc_slots.cpp
>    + Added more signal/slots.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbqt/hbqt.hbc
>    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
>    trunk/harbour/contrib/hbqt/hbqt_slots.h
>    trunk/harbour/contrib/hbqt/moc_slots.cpp
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Thu Aug 13 02:19:12 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug 13 02:19:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12091] trunk/harbour
In-Reply-To: <2FC6ECA4-F49E-4031-B830-FE266836CCA1@syenar.hu>
References: <E1MbTDF-0001Nu-Oj@3kljzd1.ch3.sourceforge.com>
	<2FC6ECA4-F49E-4031-B830-FE266836CCA1@syenar.hu>
Message-ID: <24949476.post@talk.nabble.com>




Viktor Szak?ts wrote:
> 
> A windows.h slipped into the source.
> 

Damm.
It always slips :-((

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12091--trunk-harbour-tp24949242p24949476.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vouchcac at users.sourceforge.net  Thu Aug 13 02:21:31 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Aug 13 02:21:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12092] trunk/harbour
Message-ID: <E1MbTgp-0000h0-3e@bj8yhf1.ch3.sourceforge.com>

Revision: 12092
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12092&view=rev
Author:   vouchcac
Date:     2009-08-13 06:21:30 +0000 (Thu, 13 Aug 2009)

Log Message:
-----------
2009-08-12 23:19 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_slots.cpp
    ! Commented out <windows.h>

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Aug 13 02:55:03 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 13 02:55:11 2009
Subject: [Harbour] OS/2 mkdir and rm
Message-ID: <272B9461-35AC-4774-90CD-8FC73E99B9CF@syenar.hu>

Hi All, especially OS/2 users,

We now have config/os2-mkdir.exe config/os2-rm.exe
hosted in SVN, with links provided in config/readme.txt.

There is one problem though, the website which I used
to get the binaries doesn't provide the sources.

I'd like to ask OS/2 users to look for different binary
build of these tools, with source code also provided.

If not, I'm afraid we'd better delete these tools
from SVN, to avoid any sort of violation of the GPL.

[ or, if someone can find the source for currently
hosted binaries, it's also a solution. ]

Brgds,
Viktor

From druzus at users.sourceforge.net  Thu Aug 13 03:30:48 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Aug 13 03:30:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12093] trunk/harbour
Message-ID: <E1MbUls-0001zO-SL@bj8yhf1.ch3.sourceforge.com>

Revision: 12093
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12093&view=rev
Author:   druzus
Date:     2009-08-13 07:30:47 +0000 (Thu, 13 Aug 2009)

Log Message:
-----------
2009-08-13 09:30 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbthread.h
    * pacified MinGW warnings caused by recent modification

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbthread.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Thu Aug 13 04:24:41 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Aug 13 04:24:52 2009
Subject: [Harbour] Re: OS/2 mkdir and rm
Message-ID: <4A83CDC9.40702@mail.udg.mx>

Viktor:

 >Hi All, especially OS/2 users,

 >We now have config/os2-mkdir.exe config/os2-rm.exe
 >hosted in SVN, with links provided in config/readme.txt.

 >There is one problem though, the website which I used
 >to get the binaries doesn't provide the sources.

 >I'd like to ask OS/2 users to look for different binary
 >build of these tools, with source code also provided.

 >If not, I'm afraid we'd better delete these tools
 >from SVN, to avoid any sort of violation of the GPL.

 >[ or, if someone can find the source for currently
 >hosted binaries, it's also a solution. ]

hobbes.nmsu.edu/pub/os2/util/disk/gnufutil.zip

Perhaps is what you are looking for

David Macias


From harbour.01 at syenar.hu  Thu Aug 13 04:43:19 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 13 04:43:28 2009
Subject: [Harbour] Re: OS/2 mkdir and rm
In-Reply-To: <4A83CDC9.40702@mail.udg.mx>
References: <4A83CDC9.40702@mail.udg.mx>
Message-ID: <B66050C7-1931-466E-9223-57806A64E756@syenar.hu>

Hi David,

> >[ or, if someone can find the source for currently
> >hosted binaries, it's also a solution. ]
>
> hobbes.nmsu.edu/pub/os2/util/disk/gnufutil.zip

Thank you. I can see the list of files via FTP, but
can't find this specific file there.

Update: Found it in ../file !

The only problem with these is that they need two
.dlls to operate :( (they are included, but if
possible I wouldn't "pollute" our SVN with .dlls
or any extra .exe dependencies for that matter)

Brgds,
Viktor

From kadziola at tlen.pl  Thu Aug 13 04:54:56 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Thu Aug 13 04:55:05 2009
Subject: [Harbour] hbRun() in WinCE
Message-ID: <1842013556.20090813105456@tlen.pl>

Hi,

I can't execute any WinCE app from harbour app.exe
f.e. :

app.prg
----------------------------
link_ := '\Windows\calc.exe'
hb_run(link_)
----------------------------
do nothing.
Any idea ?


-- 
Regards,
Jaroslaw Kadziola

From dmacias at mail.udg.mx  Thu Aug 13 05:19:14 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Aug 13 05:19:32 2009
Subject: [Harbour] Re: OS/2 mkdir and rm
Message-ID: <4A83DA92.1060302@mail.udg.mx>

Viktor:

 >Thank you. I can see the list of files via FTP, but
 >can't find this specific file there.

 >Update: Found it in ../file !

 >The only problem with these is that they need two
 >.dlls to operate :( (they are included, but if
 >possible I wouldn't "pollute" our SVN with .dlls
 >or any extra .exe dependencies for that matter)

Yes I noted both .dlls and I do not have them on disk

In same directory there are too:
   coreutils-6.11.17-d30ac-test.zip
with new binaries

README.OS2 included below

They only need libc063.dll, common now everywhere (gcc335)

File do not include sources
Perhaps Elbert can provide them


David Macias


README.OS2 show:

---------------------------
I did just a compile of the GNU coreutils v6.11.17-d30ac

This is a test version, cause it where hard to compile right out of the 
box :(

Please test this version, and let me know if it's working, or if there 
some files that not working correct.


I had a verry big help from the nice people of Gnu-coreutils bug team.
Especially i wanne name: Jim Meyering, Bruno Haible and Eric Blake.

http://www.gnu.org/software/coreutils/


The GNU Core Utilities are the basic file, shell and text manipulation 
utilities of the GNU operating system. These are the core utilities 
which are expected to exist on every operating system.

Previously these utilities were offered as three individual sets of GNU 
utilities, Fileutils, Shellutils,

and Textutils. Those three have been combined into a single set of 
utilities called Coreutils.



It is built with Innotek GCC 3.3.5 CSD3 and requires the libc063 runtime 
dll

which is available from ftp://ftp.netlabs.org/pub/gcc/libc-0.6.3-csd3.zip

I used Paul Smedley's build environment, available from 
http://os2ports.smedley.info to port this programme.

With kind regards from the Netherlands,

                                                 Elbert Pol
                                          email:elbertdotpol@gmail.com
---------------------------


From harbour.01 at syenar.hu  Thu Aug 13 05:35:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 13 05:35:39 2009
Subject: [Harbour] Re: OS/2 mkdir and rm
In-Reply-To: <4A83DA92.1060302@mail.udg.mx>
References: <4A83DA92.1060302@mail.udg.mx>
Message-ID: <68A3AB84-1B8B-45DC-85E9-28A55603C8E6@syenar.hu>

Yes, that'd be good, although the one we have already
has these properties: okay dependencies, no source.

Maybe I'll delete the tools and look for mkdir/rm at
build time, issue error if missing, here my only concern
is that mkdir has the same name as built-in OS/2 mkdir,
so I don't know how these play with each other. Probably
instructions will have to be written.

Brgds,
Viktor

On 2009.08.13., at 11:19, David Arturo Macias Corona wrote:

> Viktor:
>
> >Thank you. I can see the list of files via FTP, but
> >can't find this specific file there.
>
> >Update: Found it in ../file !
>
> >The only problem with these is that they need two
> >.dlls to operate :( (they are included, but if
> >possible I wouldn't "pollute" our SVN with .dlls
> >or any extra .exe dependencies for that matter)
>
> Yes I noted both .dlls and I do not have them on disk
>
> In same directory there are too:
>  coreutils-6.11.17-d30ac-test.zip
> with new binaries
>
> README.OS2 included below
>
> They only need libc063.dll, common now everywhere (gcc335)
>
> File do not include sources
> Perhaps Elbert can provide them
>
>
> David Macias
>
>
> README.OS2 show:
>
> ---------------------------
> I did just a compile of the GNU coreutils v6.11.17-d30ac
>
> This is a test version, cause it where hard to compile right out of  
> the box :(
>
> Please test this version, and let me know if it's working, or if  
> there some files that not working correct.
>
>
> I had a verry big help from the nice people of Gnu-coreutils bug team.
> Especially i wanne name: Jim Meyering, Bruno Haible and Eric Blake.
>
> http://www.gnu.org/software/coreutils/
>
>
> The GNU Core Utilities are the basic file, shell and text  
> manipulation utilities of the GNU operating system. These are the  
> core utilities which are expected to exist on every operating system.
>
> Previously these utilities were offered as three individual sets of  
> GNU utilities, Fileutils, Shellutils,
>
> and Textutils. Those three have been combined into a single set of  
> utilities called Coreutils.
>
>
>
> It is built with Innotek GCC 3.3.5 CSD3 and requires the libc063  
> runtime dll
>
> which is available from ftp://ftp.netlabs.org/pub/gcc/libc-0.6.3-csd3.zip
>
> I used Paul Smedley's build environment, available from http://os2ports.smedley.info 
>  to port this programme.
>
> With kind regards from the Netherlands,
>
>                                                Elbert Pol
>                                         email:elbertdotpol@gmail.com
> ---------------------------
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From dmacias at mail.udg.mx  Thu Aug 13 05:58:02 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Aug 13 05:58:15 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS II
Message-ID: <4A83E3AA.1050306@mail.udg.mx>

Viktor:

 >> In my case this change does not help and should be reverted
 >> Now we have a long list and is not easy to find to which source
 >> block belong each line
 >> Messages "Entering directory"/"Leaving directory" help to locate
 >> them quickly while browsing long log file

 >I don't understand how can there be a longer output on OS/2
 >after this change, maybe I'm misunderstanding something.
 >Please provide example output after/before.

"Before" we have a long log file with blocks delimited with
"Entering directory"/"Leaving directory" which help to find problems

"After" we have a long log file with a "long list" not delimited by 
blocks "Entering directory"/"Leaving directory" which does not help to 
find problems

For example in these three lines:
-------------------------
make[2]: Nothing to be done for `all'.
make[1]: Nothing to be done for `all'.
gcc  -I. -I../../../../../include  -Wall -W -O3  -DTCPV40HDRS 
-DHB_FM_STATISTICS_OFF   -c ../../../expropt1.c -oexpropt1.o
-------------------------

are three directories involved but we do not know which is each one

or here:
-------------------------
ar   -M < __lib__.tmp & del /n __lib__.tmp
copy ..\..\..\harbour.yyc harboury.c
         1 file(s) copied.
copy ..\..\..\harbour.yyh harboury.h
         1 file(s) copied.
gcc  -I. -I../../../../../include  -Wall -W -O3  -DTCPV40HDRS 
-DHB_FM_STATISTICS_OFF   -c harboury.c -oharboury.o
-------------------------

we leave an directory and make copy and rest in another, but we do not 
know which

Now only help to delimite blocks are lines as:
------------------------
if exist ..\..\..\..\..\lib\os2\gcc\hbpp.a del /n 
..\..\..\..\..\lib\os2\gcc\hbpp.a
------------------------
It tell me that we are processing hbpp(.exe,.lib), but we do not know 
easily where source files are located

 >In case of an error the offending module is always shown in
 >GNU Make error message anyway, so for this purpose it's not
 >needed. In case of warnings, the name of the source file is
 >always shown, which is enough to locate it in practically all
 >cases.

Yes it show name but not directory

For example if I found this warning line:

../../../dlmalloc.c(2820): Warning! W367: col(7) conditional expression 
in if statement is always true

in log I have as previous lines:

------------------------------------
See http://www.openwatcom.org/ for details.
"! 'gttrm' library skipped"
"! 'gtwin' library skipped"
"! 'gtwvt' library skipped"
"! 'gtxwc' library skipped"
wpp386  -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DHB_FM_STATISTICS_OFF -DHB_FM_DL_ALLOC 
-DUSE_DL_PREFIX    ../../../hvm.c -fo=hvm.obj
wpp386  -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DHB_FM_STATISTICS_OFF -DHB_FM_DL_ALLOC 
-DUSE_DL_PREFIX    ../../../arrays.c -fo=arrays.obj
wpp386  -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DHB_FM_STATISTICS_OFF -DHB_FM_DL_ALLOC 
-DUSE_DL_PREFIX    ../../../classes.c -fo=classes.obj
wpp386  -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DHB_FM_STATISTICS_OFF -DHB_FM_DL_ALLOC 
-DUSE_DL_PREFIX    ../../../dynsym.c -fo=dynsym.obj
wpp386  -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DHB_FM_STATISTICS_OFF -DHB_FM_DL_ALLOC 
-DUSE_DL_PREFIX    ../../../codebloc.c -fo=codebloc.obj
wpp386  -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DHB_FM_STATISTICS_OFF -DHB_FM_DL_ALLOC 
-DUSE_DL_PREFIX    ../../../estack.c -fo=estack.obj
wpp386  -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DHB_FM_STATISTICS_OFF -DHB_FM_DL_ALLOC 
-DUSE_DL_PREFIX    ../../../extend.c -fo=extend.obj
wpp386  -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DHB_FM_STATISTICS_OFF -DHB_FM_DL_ALLOC 
-DUSE_DL_PREFIX    ../../../fm.c -fo=fm.obj
../../../dlmalloc.c(2820): Warning! W367: col(7) conditional expression 
in if statement is always true
------------------------------------

and I am forced to search manually for fm.c file location or any other 
related file

"Before" I just look for block "Entering directory" to know directory 
and file.
I know quickly which parts of Harbour have problems, without need to 
look on disk for proper source files

 >If you need these extra lines, try to use HB_USER_MKFLAGS=-w

These "extra lines" for me are very useful

I consider build log files for debugging
Other lines were useful for example to know that bin\os2 creation was 
failing. Now we do not see any note about error/sucess


Additionally, one of my pending work: "clean" stage

A lot of previous errors has gone, only remain:

gcc335
----------------------
[E:\harbour907g\harbour]make -r  clean          1>make_gnu.log
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\bin\os2\gcc\hbpp.exe.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\bin\os2\gcc\hbpp.tds.
make[2]: [clean] Error 1 (ignored)
----------------------

OpenWatcom
----------------------
[E:\harbour907g\harbour]make -r  clean          1>make_ow.log
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\bin\os2\watcom\hbpp.exe.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\bin\os2\watcom\hbpp.tds.
make[2]: [clean] Error 1 (ignored)
----------------------

As I remember .tds files are for bcc


David Macias


From harbour.01 at syenar.hu  Thu Aug 13 06:22:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 13 06:22:56 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS II
In-Reply-To: <4A83E3AA.1050306@mail.udg.mx>
References: <4A83E3AA.1050306@mail.udg.mx>
Message-ID: <3164DBFB-5CF9-456E-82C0-0616D0C6A307@syenar.hu>

I don't agree with all the verbose output, but as I said
you can enable it locally if you need them, please test if
it works, if not we need to fix it.

As for .tds, I intentionally didn't create difference
in logic for different shells, specifically to help cross
build scenarios. f.e. bcc can be used from linux using wine,
so .tds needs to be dealt with also for bash shells.
For OS/2 shells though I didn't include dealing with .tds
files.

What you see is caused by one IMO very hackish local makefile:
source/pp/Makefile. This Makefile stands out as a delicate
exception from everything else inside Harbour, needs to be
dealt with all the time, since it creates a lib and a
binary from the same sources. In this file there is local
clean logic which isn't as clever as the central one,
so I'm seeing some unwanted output from it also. I don't
like it either.

I hope in the future someone can rethink this makefile
to use only standard rules. So far I couldn't find out how.
Additional hacks could be added though to solve current
clean rule black spots, but I'd rather invest in other
things now.

Brgds,
Viktor

On 2009.08.13., at 11:58, David Arturo Macias Corona wrote:

> Viktor:
>
> >> In my case this change does not help and should be reverted
> >> Now we have a long list and is not easy to find to which source
> >> block belong each line
> >> Messages "Entering directory"/"Leaving directory" help to locate
> >> them quickly while browsing long log file
>
> >I don't understand how can there be a longer output on OS/2
> >after this change, maybe I'm misunderstanding something.
> >Please provide example output after/before.
>
> "Before" we have a long log file with blocks delimited with
> "Entering directory"/"Leaving directory" which help to find problems
>
> "After" we have a long log file with a "long list" not delimited by  
> blocks "Entering directory"/"Leaving directory" which does not help  
> to find problems
>
> For example in these three lines:
> -------------------------
> make[2]: Nothing to be done for `all'.
> make[1]: Nothing to be done for `all'.
> gcc  -I. -I../../../../../include  -Wall -W -O3  -DTCPV40HDRS - 
> DHB_FM_STATISTICS_OFF   -c ../../../expropt1.c -oexpropt1.o
> -------------------------
>
> are three directories involved but we do not know which is each one
>
> or here:
> -------------------------
> ar   -M < __lib__.tmp & del /n __lib__.tmp
> copy ..\..\..\harbour.yyc harboury.c
>        1 file(s) copied.
> copy ..\..\..\harbour.yyh harboury.h
>        1 file(s) copied.
> gcc  -I. -I../../../../../include  -Wall -W -O3  -DTCPV40HDRS - 
> DHB_FM_STATISTICS_OFF   -c harboury.c -oharboury.o
> -------------------------
>
> we leave an directory and make copy and rest in another, but we do  
> not know which
>
> Now only help to delimite blocks are lines as:
> ------------------------
> if exist ..\..\..\..\..\lib\os2\gcc\hbpp.a del /n ..\..\..\..\..\lib 
> \os2\gcc\hbpp.a
> ------------------------
> It tell me that we are processing hbpp(.exe,.lib), but we do not  
> know easily where source files are located
>
> >In case of an error the offending module is always shown in
> >GNU Make error message anyway, so for this purpose it's not
> >needed. In case of warnings, the name of the source file is
> >always shown, which is enough to locate it in practically all
> >cases.
>
> Yes it show name but not directory
>
> For example if I found this warning line:
>
> ../../../dlmalloc.c(2820): Warning! W367: col(7) conditional  
> expression in if statement is always true
>
> in log I have as previous lines:
>
> ------------------------------------
> See http://www.openwatcom.org/ for details.
> "! 'gttrm' library skipped"
> "! 'gtwin' library skipped"
> "! 'gtwvt' library skipped"
> "! 'gtxwc' library skipped"
> wpp386  -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ - 
> i. -i../../../../../include   -DHB_FM_STATISTICS_OFF - 
> DHB_FM_DL_ALLOC -DUSE_DL_PREFIX    ../../../hvm.c -fo=hvm.obj
> wpp386  -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ - 
> i. -i../../../../../include   -DHB_FM_STATISTICS_OFF - 
> DHB_FM_DL_ALLOC -DUSE_DL_PREFIX    ../../../arrays.c -fo=arrays.obj
> wpp386  -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ - 
> i. -i../../../../../include   -DHB_FM_STATISTICS_OFF - 
> DHB_FM_DL_ALLOC -DUSE_DL_PREFIX    ../../../classes.c -fo=classes.obj
> wpp386  -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ - 
> i. -i../../../../../include   -DHB_FM_STATISTICS_OFF - 
> DHB_FM_DL_ALLOC -DUSE_DL_PREFIX    ../../../dynsym.c -fo=dynsym.obj
> wpp386  -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ - 
> i. -i../../../../../include   -DHB_FM_STATISTICS_OFF - 
> DHB_FM_DL_ALLOC -DUSE_DL_PREFIX    ../../../codebloc.c - 
> fo=codebloc.obj
> wpp386  -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ - 
> i. -i../../../../../include   -DHB_FM_STATISTICS_OFF - 
> DHB_FM_DL_ALLOC -DUSE_DL_PREFIX    ../../../estack.c -fo=estack.obj
> wpp386  -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ - 
> i. -i../../../../../include   -DHB_FM_STATISTICS_OFF - 
> DHB_FM_DL_ALLOC -DUSE_DL_PREFIX    ../../../extend.c -fo=extend.obj
> wpp386  -zq -bt=os2 -bm -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ - 
> i. -i../../../../../include   -DHB_FM_STATISTICS_OFF - 
> DHB_FM_DL_ALLOC -DUSE_DL_PREFIX    ../../../fm.c -fo=fm.obj
> ../../../dlmalloc.c(2820): Warning! W367: col(7) conditional  
> expression in if statement is always true
> ------------------------------------
>
> and I am forced to search manually for fm.c file location or any  
> other related file
>
> "Before" I just look for block "Entering directory" to know  
> directory and file.
> I know quickly which parts of Harbour have problems, without need to  
> look on disk for proper source files
>
> >If you need these extra lines, try to use HB_USER_MKFLAGS=-w
>
> These "extra lines" for me are very useful
>
> I consider build log files for debugging
> Other lines were useful for example to know that bin\os2 creation  
> was failing. Now we do not see any note about error/sucess
>
>
> Additionally, one of my pending work: "clean" stage
>
> A lot of previous errors has gone, only remain:
>
> gcc335
> ----------------------
> [E:\harbour907g\harbour]make -r  clean          1>make_gnu.log
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\bin\os2\gcc\hbpp.exe.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\bin\os2\gcc\hbpp.tds.
> make[2]: [clean] Error 1 (ignored)
> ----------------------
>
> OpenWatcom
> ----------------------
> [E:\harbour907g\harbour]make -r  clean          1>make_ow.log
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\bin\os2\watcom\hbpp.exe.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\bin\os2\watcom\hbpp.tds.
> make[2]: [clean] Error 1 (ignored)
> ----------------------
>
> As I remember .tds files are for bcc
>
>
> David Macias
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Thu Aug 13 06:32:03 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 13 06:32:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12094] trunk/harbour
Message-ID: <E1MbXbH-0003wh-Kd@c3vjzd1.ch3.sourceforge.com>

Revision: 12094
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12094&view=rev
Author:   vszakats
Date:     2009-08-13 10:31:58 +0000 (Thu, 13 Aug 2009)

Log Message:
-----------
2009-08-13 12:27 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    * OS/2 prerequisites added. (currently not relevant, but anyway)

  * bin/postinst.bat
  * bin/hb-mkdyn.bat
  * make_gnu.bat
    + Reworked the way .dll generation is done in Harbour build process.
      New method solves the problem in one pass, instead of invoking
      make twice and requiring starter script to control this.
      The new trick is that CC_RULE will generate both dynamic and static
      objects for libs included in the .dll for compilers where such trick
      is necessary (currently all win/wce compilers except gcc based ones).
    * Changed HB_BUILD_LOG forming. Since at this point ARCH/COMP values
      aren't known (and just for this purpose it's not worth to maintain
      parallel detection logic in start script), the automatically
      generated log file will contain the date/time. Maybe even this will
      be dropped in the future. Since this is the only remaining logic
      in starter script (plus finding correct GNU Make, but that's even
      smaller role)
    ; I didn't test watcom yet, plus mpkg_gnu.bat isn't working yet,
      it needs to be moved to postinst phase.
    ; After these changes, there is basically no need for make starter
      scripts. Maybe I'll even remove included make tools to make things
      cleaner/leaner.
    ; TODO: Revise starter .sh scripts.
    ; TODO: mpkg_gnu.bat rework to run from postinst.
    ; TODO: Do some cleanup, remove redundancy in settings, etcetc.
    ; TOFIX: Fix watcom .dll generation.

  * config/global.cf
    ! Deleted double MAKE info line.
    + Showing detected shell in verbose mode.
    + Added mkdir/rm detection for OS/2 shells. (commented)
    % Optimized HB_BIN_COMPILE detection by using $(realpath) function.
      Now it's only detected once per make run.
    + Added HB_*_INSTALL value defaulting similar to make_gnu.sh
      for *nix platforms. (adding /harbour postfix to lib/inc dirs when
      HB_INSTALL_PREFIX is system location (/usr or /opt). Please review.

  * config/lib.cf
    + Added HB_DYN_COMPILE to control compiling for dynamic libs in
      a sperate command.
    + Added HB_DYN_LIBS to hold list of libs which should be built
      with separate command for dynamic libs.

  * config/rules.cf
    + Added logic for duplicate CC_RULE.
      TODO: Notice that it's not yet working when CC_RULE is overridden
            on compiler level. Help would be appreciate here.

  * config/wce/msvcarm.cf
  * config/wce/poccarm.cf
  * config/win/watcom.cf
  * config/win/icc.cf
  * config/win/msvc.cf
  * config/win/xcc.cf
  * config/win/pocc.cf
  * config/win/bcc.cf
    + Enabled HB_DYN_COMPILE for these compilers.

  * contrib/gtqtc/gtqtc.hbc
    ! Fixed lib order for mingw, supc++ moved to the end of list.

  * external/sqlite3/Makefile
  * external/libhpdf/Makefile
  * external/libpng/Makefile
  * external/Makefile
  * source/rtl/gtxwc/Makefile
  * source/rtl/gtcrs/Makefile
  * source/rtl/gtsln/Makefile
  * contrib/Makefile
  * contrib/gtalleg/Makefile
  * contrib/hbmysql/Makefile
  * contrib/hbodbc/Makefile
  * contrib/hbsqlit3/Makefile
  * contrib/hbqt/Makefile
  * contrib/hbfbird/Makefile
  * contrib/hbcurl/Makefile
  * contrib/gtqtc/Makefile
  * contrib/rddsql/sddmy/Makefile
  * contrib/rddsql/sddpg/Makefile
  * contrib/rddsql/sddfb/Makefile
  * contrib/rddsql/sddodbc/Makefile
  * contrib/hbhpdf/Makefile
  * contrib/hbpgsql/Makefile
  * contrib/rddads/Makefile
  * contrib/hbfimage/Makefile
  * contrib/hbgd/Makefile
  * contrib/hbssl/Makefile
    + Indentation.
    % Using ':=' in '*_OK := $(foreach...' expressions, instead of
      former unsafe '+='.

  * config/win/mingw.cf
  * config/wce/mingwarm.cf
  * config/win/cygwin.cf
    + Using 'crs' instead of 'r' as AR command.

  * config/install.cf
    + Don't define rule if INSTALL_RULE is empty.
      Cannot currently happen.

  * config/header.cf
    % Minor optimization.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/bin/postinst.bat
    trunk/harbour/config/global.cf
    trunk/harbour/config/header.cf
    trunk/harbour/config/install.cf
    trunk/harbour/config/lib.cf
    trunk/harbour/config/rules.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/wce/msvcarm.cf
    trunk/harbour/config/wce/poccarm.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/config/win/xcc.cf
    trunk/harbour/contrib/Makefile
    trunk/harbour/contrib/gtalleg/Makefile
    trunk/harbour/contrib/gtqtc/Makefile
    trunk/harbour/contrib/gtqtc/gtqtc.hbc
    trunk/harbour/contrib/hbcurl/Makefile
    trunk/harbour/contrib/hbfbird/Makefile
    trunk/harbour/contrib/hbfimage/Makefile
    trunk/harbour/contrib/hbgd/Makefile
    trunk/harbour/contrib/hbhpdf/Makefile
    trunk/harbour/contrib/hbmysql/Makefile
    trunk/harbour/contrib/hbodbc/Makefile
    trunk/harbour/contrib/hbpgsql/Makefile
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbsqlit3/Makefile
    trunk/harbour/contrib/hbssl/Makefile
    trunk/harbour/contrib/rddads/Makefile
    trunk/harbour/contrib/rddsql/sddfb/Makefile
    trunk/harbour/contrib/rddsql/sddmy/Makefile
    trunk/harbour/contrib/rddsql/sddodbc/Makefile
    trunk/harbour/contrib/rddsql/sddpg/Makefile
    trunk/harbour/external/Makefile
    trunk/harbour/external/libhpdf/Makefile
    trunk/harbour/external/libpng/Makefile
    trunk/harbour/external/sqlite3/Makefile
    trunk/harbour/make_gnu.bat
    trunk/harbour/source/rtl/gtcrs/Makefile
    trunk/harbour/source/rtl/gtsln/Makefile
    trunk/harbour/source/rtl/gtxwc/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Thu Aug 13 06:55:14 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Aug 13 06:55:27 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS II
Message-ID: <4A83F112.1080803@mail.udg.mx>

Thanks, Przemek:

 >I know that final version was working but I do not remember how
 >we fixed the problems we had.

The first time that hbrun.exe-os2-owatcom run was on Nov 4, 2008, after 
your changes

-----------------
  >2008-11-04 17:28 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  >  * harbour/source/vm/hvm.c
  >  * harbour/source/vm/mainstd.c
  >    * force linking main() function in OpenWatcom OS2 builds
  >
  >  * harbour/contrib/xhb/hbcrypt.c
  >    ! casting

Thanks Przemek, AND CONGRATULATIONS  :-)
For first time in Human history we have a build complete for current
Harbour - OS/2 - OpenWatcom 1.7

[...]
- 6 executables created:  ---> all
    harbour.exe, hbpp.exe, hbdoc.exe, hbmake.exe, hbrun.exe, hbtest.exe

[...]

OpenWatcom
==========
harbour.exe, hbpp.exe run fine
hbdoc.exe, hbmake.exe, hbrun.exe, hbtest.exe: run fine
-----------------

But that was other Harbour  :-)


 >hbrun includes all core code so it's possible that it exploits some
 >problems with external libraries.
 >Probably you can quite locate the problem by excluding some parts of
 >hbextern.ch directives. If hbmk2 works for you then you can simply copy
 >hbrun.prg and hbextern.ch into separate directory and make some tests.
 >comment
 >   REQUEST __HB_EXTERN__
 >in hbrun.prg and rebuild it using
 >   hbmk2 hbrun.prg
 >and try to execute.

It works

 >If it works then replace
 >   REQUEST __HB_EXTERN__
 >with
 >   #include "hbextern.ch"
 >rebuild hbrun and try.

It works

 >If it works then it means that there is sth wrong with huge static
 >structures and we should look for valid compiler/linker/lib options
 >(hbextern library has such huge structure).
 >If it doesn't work then you can try to remove some parts of hbextern.ch
 >rebuilding hbrun untill you will find when it begins to work.

So problem is with compiler/linker/lib options
( with hbextern.ch work fine )


 >No it's not. Above is used at compile time and here all is OK.
 >The problem is that during linking it does not see necessary
 >import libraries.

 >>  Performance comparative tests are pending

 >Probably it will be fatal. In Windows builds we are using DLMALLOC
 >as workaround but your tests shows that it does not work in OS2.

In Nov 2008 tests it doubled time (from 55 to 104 sec) using only -bm

 >So the modifications in dlmalloc were not enough to make it working
 >in OS2 :-(
 >Probably it will have to wait for someone who loot at it deeply.

In Nov 08 we used:
    set C_USR=-DHB_FM_DL_ALLOC -DUSE_DL_PREFIX
and Harbour build/run fine. We made many tests with hbrun.exe using 
these values
In that time HB_FM_DL_ALLOC was working because you fixed it

-------------------------
 >Try to rebuild Harbour with HB_FM_DL_ALLOC and USE_DL_PREFIX macros,
 >f.e.:
 >   set C_USR=-DHB_FM_DL_ALLOC -DUSE_DL_PREFIX
 >and recompile Harbour. Then compare speed results for both modes.
-------------------------

But again, that was other Harbour  :-)

 >> Additionally I suggest to change in config\os2\watcom.cf
 >>  -5r -fp5 to -6r -fp6

 >I'm not sure it's good idea. The speed difference is rather small
 >and I guess that OS2 can be used in current days quite often with
 >older hardware when it was installed as based system but I may be
 >wrong. I'm not OS2 user.

But older as Pentium Pro ?

 >ps. the dlmalloc warnings comes from foreign code which we
 >intentionally do not changed. You can ignore them.

OK

David Macias

From carozodequilmes at gmail.com  Thu Aug 13 08:01:37 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Thu Aug 13 08:01:43 2009
Subject: [Harbour] Signals in HbQt
In-Reply-To: <24949257.post@talk.nabble.com>
References: <578c73340908121525p616d7d2p12e26c82998d2501@mail.gmail.com>
	<24949257.post@talk.nabble.com>
Message-ID: <578c73340908130501i508091a5q8f3ff6839c06898e@mail.gmail.com>

Many Thanks !!!!
CdQ

On Thu, Aug 13, 2009 at 2:53 AM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi
>
>
> CarozoDeQuilmes wrote:
> >
> > Hi Pritpal, can you add the followed signal's to HbQt library ?
> >
>
> Revision: 12091
>
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12091&view=rev
> Author:   vouchcac
> Date:     2009-08-13 05:50:56 +0000 (Thu, 13 Aug 2009)
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/Signals-in-HbQt-tp24945716p24949257.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
QAC (I want something comfortable !!!) - Incremental Compilation with all
MiniGUIs versions
QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
versiones de MiniGUI

Download: www.CarozoDeQuilmes.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090813/995fb174/attachment.html
From dmacias at mail.udg.mx  Thu Aug 13 08:14:26 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Aug 13 08:14:50 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS II
Message-ID: <4A8403A2.5090600@mail.udg.mx>

Viktor:

 >>If you need these extra lines, try to use HB_USER_MKFLAGS=-w

 >I don't agree with all the verbose output, but as I said
 >you can enable it locally if you need them, please test if
 >it works, if not we need to fix it.

I do not found use of HB_USER_MKFLAGS, so I used
set HB_USER_MAKEFLAGS=-w

but in make_ow.log, partially included below, just appear
   "make: Entering directory `E:/harbour907h/harbour'"
and no one else

So is not working as expected

Current tests are with:
  * $Id: ChangeLog 12093 2009-08-13 07:30:47Z druzus $
  2009-08-13 09:30 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)


 >As for .tds, I intentionally didn't create difference
 >in logic for different shells, specifically to help cross
 >build scenarios. f.e. bcc can be used from linux using wine,
 >so .tds needs to be dealt with also for bash shells.
 >For OS/2 shells though I didn't include dealing with .tds
 >files.

OK

 >What you see is caused by one IMO very hackish local makefile:
 >source/pp/Makefile. This Makefile stands out as a delicate
 >exception from everything else inside Harbour, needs to be
 >dealt with all the time, since it creates a lib and a
 >binary from the same sources. In this file there is local
 >clean logic which isn't as clever as the central one,
 >so I'm seeing some unwanted output from it also. I don't
 >like it either.

 >I hope in the future someone can rethink this makefile
 >to use only standard rules. So far I couldn't find out how.
 >Additional hacks could be added though to solve current
 >clean rule black spots, but I'd rather invest in other
 >things now.

If you talk about
   @$(RM) hbpp$(OBJ_EXT)
we know is a workaround added by Przemek for os2make381
with hope to clean it in future, so we can live with current "black spots"

David Macias


[E:\harbour907h\harbour]
! MAKE: make
! MAKE: make
! HB_USER_CFLAGS: -DTCPV40HDRS -DHB_FM_STATISTICS_OFF
! HB_USER_MAKEFLAGS: -w
! HB_INSTALL_PREFIX automatically set to E:/harbour907h/harbour
make: Entering directory `E:/harbour907h/harbour'
make[2]: Nothing to be done for `all'.
make[1]: Nothing to be done for `all'.
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=expropt1.obj  ../../../expropt1.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=expropt2.obj  ../../../expropt2.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbffind.obj  ../../../hbffind.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbfopen.obj  ../../../hbfopen.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbfsapi.obj  ../../../hbfsapi.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbgete.obj  ../../../hbgete.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbwince.obj  ../../../hbwince.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbhash.obj  ../../../hbhash.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbprintf.obj  ../../../hbprintf.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbstr.obj  ../../../hbstr.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbdate.obj  ../../../hbdate.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbmem.obj  ../../../hbmem.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbtrace.obj  ../../../hbtrace.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbver.obj  ../../../hbver.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbverdsp.obj  ../../../hbverdsp.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbarch.obj  ../../../hbarch.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=reserved.obj  ../../../reserved.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=strwild.obj  ../../../strwild.c
for %f in ( *.obj ) do @echo -+%f >> __lib__.tmp
wlib -p=64 -c -n  @__lib__.tmp
Open Watcom Library Manager Version 1.8
Portions Copyright (c) 1984-2002 Sybase, Inc. All Rights Reserved.
Source code is available under the Sybase Open Watcom Public License.
See http://www.openwatcom.org/ for details.
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=nortl.obj  ../../../nortl.c
for %f in ( *.obj ) do @echo -+%f >> __lib__.tmp
wlib -p=64 -c -n  @__lib__.tmp
Open Watcom Library Manager Version 1.8
Portions Copyright (c) 1984-2002 Sybase, Inc. All Rights Reserved.
Source code is available under the Sybase Open Watcom Public License.
See http://www.openwatcom.org/ for details.
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbpp.obj  ../../../hbpp.c
wlink  SYS os2v2  NAME ../../../../../bin/os2/watcom/hbpp.exe FILE 
hbpp.obj  LIB ../../../../../lib/os2/watcom/hbcommon, 
../../../../../lib/os2/watcom/hbnortl
Open Watcom Linker Version 1.8
Portions Copyright (c) 1985-2002 Sybase, Inc. All Rights Reserved.
Source code is available under the Sybase Open Watcom Public License.
See http://www.openwatcom.org/ for details.
loading object files
searching libraries
creating an OS/2 32-bit executable
../../../../../bin/os2/watcom/hbpp.exe 
../../../../../include/hbstdgen.ch -opptable.c -q -c../../../../../ 
-v../../../../../include/hbverbld.h
Harbour Preprocessor 2.0.0beta2
Copyright (c) 1999-2009, http://www.harbour-project.org/
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=pptable.obj  pptable.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=ppcore.obj  ../../../ppcore.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=pplib.obj  ../../../pplib.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=pplib2.obj  ../../../pplib2.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=pplib3.obj  ../../../pplib3.c
for %f in ( *.obj ) do @echo -+%f >> __lib__.tmp
wlib -p=64 -c -n  @__lib__.tmp
Open Watcom Library Manager Version 1.8
Portions Copyright (c) 1984-2002 Sybase, Inc. All Rights Reserved.
Source code is available under the Sybase Open Watcom Public License.
See http://www.openwatcom.org/ for details.
copy ..\..\..\harbour.yyc harboury.c
         1 file(s) copied.
copy ..\..\..\harbour.yyh harboury.h
         1 file(s) copied.
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=harboury.obj  harboury.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=cmdcheck.obj  ../../../cmdcheck.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=genc.obj  ../../../genc.c
From harbour.01 at syenar.hu  Thu Aug 13 08:30:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 13 08:30:56 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS II
In-Reply-To: <4A8403A2.5090600@mail.udg.mx>
References: <4A8403A2.5090600@mail.udg.mx>
Message-ID: <28862EFD-DB34-46CA-B854-498AA4BD2D97@syenar.hu>

> >I don't agree with all the verbose output, but as I said
> >you can enable it locally if you need them, please test if
> >it works, if not we need to fix it.
>
> I do not found use of HB_USER_MKFLAGS, so I used
> set HB_USER_MAKEFLAGS=-w

Yes, my mistake. It's best to refer to docs (INSTALL) rather
than my instructions written on the fly, I'm extremely prone
to such typos.

> but in make_ow.log, partially included below, just appear
>  "make: Entering directory `E:/harbour907h/harbour'"
> and no one else
>
> So is not working as expected
>
> Current tests are with:
> * $Id: ChangeLog 12093 2009-08-13 07:30:47Z druzus $
> 2009-08-13 09:30 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

Please try adding $(HB_USER_MAKEFLAGS) at the end of each line
which contains @$(MK) in config/*.cf files, and where it's missing.

> If you talk about
>  @$(RM) hbpp$(OBJ_EXT)
> we know is a workaround added by Przemek for os2make381
> with hope to clean it in future, so we can live with current "black  
> spots"

No, that one is running silently.

The ones are three $(RM) lines in clean rules and all of them may
leave such problematic messages in log.

This part is written in shell neutral way, so nothing like 'if exist'
can be written here.

The file is a black spot even without this issue, so I hope it can
be fixed in the future.

Brgds,
Viktor

From itamarlins at bol.com.br  Thu Aug 13 08:37:10 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Thu Aug 13 08:38:43 2009
Subject: [Harbour] Re: Re: Off Topic - Letodb multiply defined symbols found
References: <h5svu4$5s1$1@ger.gmane.org><EA973474-CF19-44EC-A6B1-3BD9562C63B8@syenar.hu><h5t2qg$vrf$1@ger.gmane.org>
	<BC6819AD-2B52-4C35-9A6C-535845572C08@syenar.hu>
Message-ID: <h611ft$j1e$1@ger.gmane.org>

Hi!
I am waiting for any guru corrections in letodb source. Unfortunately I do 
not program in C/C++.
But I change the name hb_socketConnect to hbleto_socketConnect file hbip.c 
and my project link fine, but not works more ... :-( GPF show in letodb.exe.

Perhaps Mr. Alexander Kresin is too busy.

Ps.But the fact is that letodb no longer works with the SVN version of the 
harbour.

Best Regards,
Itamar M. Lins Jr.

"Viktor Szakáts" <harbour.01@syenar.hu> 
escreveu na mensagem news:BC6819AD-2B52-4C35-9A6C-535845572C08@syenar.hu...
> It may be better to address letodb issues directly to the
> letodb mailing list. This problem isn't a Harbour one.
>
> This error shows the problem where 3rd party code uses
> Harbour namespace (hb_*) for it's own public symbols. There
> is no guarantee that Harbour won't eventually use any of
> those. In this case that's what just happened.
>
> Best way to fix this is to rename hb_ functions to hbleto_
> or leto_ in letodb. Now Harbour also has C level socket API
> in core, so letodb could make use of these (this would be
> quite cool). (although it may also want to keep its own socket
> routines in order to stay compatible with xhb and old Harbours)
>
> Brgds,
> Viktor
>
> On 2009.08.12., at 2:35, Itamar Lins wrote:
>
>> Hi again,
>> I get this error.
>> hbrtl.lib(hbsocket.obj) : error LNK2005: _hb_socketConnect already 
>> defined
>> in rddleto.lib(hbip.obj)
>>
>> How to resolve?
>>
>> Thanks,
>> Itamar M. Lins Jr.
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 



From harbour.01 at syenar.hu  Thu Aug 13 08:43:21 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 13 08:43:32 2009
Subject: [Harbour] Re: Re: Off Topic - Letodb multiply defined symbols
	found
In-Reply-To: <h611ft$j1e$1@ger.gmane.org>
References: <h5svu4$5s1$1@ger.gmane.org><EA973474-CF19-44EC-A6B1-3BD9562C63B8@syenar.hu><h5t2qg$vrf$1@ger.gmane.org>
	<BC6819AD-2B52-4C35-9A6C-535845572C08@syenar.hu>
	<h611ft$j1e$1@ger.gmane.org>
Message-ID: <BD4D60F1-2843-46E6-8AC6-B754DBB84308@syenar.hu>

> I am waiting for any guru corrections in letodb source.  
> Unfortunately I do
> not program in C/C++.
> But I change the name hb_socketConnect to hbleto_socketConnect file  
> hbip.c
> and my project link fine, but not works more ... :-( GPF show in  
> letodb.exe.

You need to change all occurrences, not just the declaration.

> Ps.But the fact is that letodb no longer works with the SVN version  
> of the
> harbour.

We cannot do anything about it in Harbour.

Brgds,
Viktor

From druzus at users.sourceforge.net  Thu Aug 13 09:11:45 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Aug 13 09:11:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12095] trunk/harbour
Message-ID: <E1Mba5p-0007po-BY@74yxhf1.ch3.sourceforge.com>

Revision: 12095
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12095&view=rev
Author:   druzus
Date:     2009-08-13 13:11:44 +0000 (Thu, 13 Aug 2009)

Log Message:
-----------
2009-08-13 15:11 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/global.cf
    * set HB_HOST_ARCH to HB_ARCHITECTURE if it cannot be autodetected
      It fixes builds with older GNU makes if autodetection fails

  * harbour/config/os2/watcom.cf
    * use the same calling convention in optimized and not optimized
      builds

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf
    trunk/harbour/config/os2/watcom.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bernx at alice.it  Thu Aug 13 09:17:08 2009
From: bernx at alice.it (Marco Bernardi)
Date: Thu Aug 13 09:17:18 2009
Subject: [Harbour] GTSLN do not work correctly with EXT_INKEY 
Message-ID: <4A841254.5050107@alice.it>

Hello to all ,
It seems to me that GTSLN do not send properly inkey code like defined 
in inkey.ch for EXT_INKEY
I means CTRL_Y should be code 537 if xharbour is compiled with #ifdef 
HB_EXT_INKEY, while it should be 25 otherwise. By default xHarbour is
compiled using #ifdef HB_EXT_INKEY, so I expect that using gtsln I 
receive code 537... but it is not true and I receive 25: one of the
problem is that "get system" (tgetlist.prg) do not work properly... as 
it cannot
recognize any more CTRL+key.

May somebody suggest how to make gtsln return EXT_INKEY number ?

I am using xHarbour 1.2.1 but I suppse the problem is common... let me 
know if I am wrong.

Regards, Marco
From druzus at acn.waw.pl  Thu Aug 13 10:05:21 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug 13 10:05:28 2009
Subject: [Harbour] GTSLN do not work correctly with EXT_INKEY
In-Reply-To: <4A841254.5050107@alice.it>
References: <4A841254.5050107@alice.it>
Message-ID: <20090813140521.GA18441@uran.home.aster.pl>

On Thu, 13 Aug 2009, Marco Bernardi wrote:

Hi Marco,

> It seems to me that GTSLN do not send properly inkey code like defined in 
> inkey.ch for EXT_INKEY
> I means CTRL_Y should be code 537 if xharbour is compiled with #ifdef 
> HB_EXT_INKEY, while it should be 25 otherwise. By default xHarbour is
> compiled using #ifdef HB_EXT_INKEY, so I expect that using gtsln I receive 
> code 537... but it is not true and I receive 25: one of the
> problem is that "get system" (tgetlist.prg) do not work properly... as it 
> cannot
> recognize any more CTRL+key.
> May somebody suggest how to make gtsln return EXT_INKEY number ?
> I am using xHarbour 1.2.1 but I suppse the problem is common... let me know 
> if I am wrong.

HB_EXT_INKEY inkey code is xHarbour only extension which has been not
finished so far so it's not fully functional.
GTSLN has been never updated to work with it so it does not translate
CTRL+[A-Z] codes but simply returns them in raw form as ASC(<letter>)-64.
It means that it will not work for you. If you need such functionality
then you will have to add it yourself or simply recompile xHarbour
without HB_EXT_INKEY.

best regards,
Przemek
From mbelgrano at deltain.it  Thu Aug 13 10:27:43 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Aug 13 10:28:10 2009
Subject: [Harbour] Convert QT, Gtk, Xul, Html UI using XML and XSLT
In-Reply-To: <9257026e0908122254l3dd7e121r2fb4ef92421ca442@mail.gmail.com>
References: <9257026e0908122254l3dd7e121r2fb4ef92421ca442@mail.gmail.com>
Message-ID: <609353e70908130727u76c31100o78bd5447e5e4d494@mail.gmail.com>

Interesting
Interesting also the idea of add a steep (preprocesor)
PRG2XML to a (with specific  version minigui,fivewin,xbp)

and have in hbqt the way of made XML2XULUI.

Many tools are ready to  to work with the building processes of a UI
like Form editor and report


2009/8/13 Lorenzo Fiorini <lorenzo.fiorini@gmail.com>:
> Googling I've found an interesting idea I'd like to share:
>
> - QT creator creates an xml .ui file
> - GTK glade3 creates an xml .ui file
> - Xul is an xml that defines an UI
> - Html is a subtype of xml
> - AFAIK Hwgui forms use xml also
>
> using XSLT is relatively easy to convert from an XML schema to another
> or from an XML to sth else ( @SAY/GET/TBROWSE READ code?)
>
> Using tools like glade or QT creator is easier to create UI.
>
> Type qatar xul in google or read:
> http://luxor-xul.sourceforge.net/download/qatar.pdf
>
> Any comment?
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Thu Aug 13 10:35:27 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Aug 13 10:35:55 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <1842013556.20090813105456@tlen.pl>
References: <1842013556.20090813105456@tlen.pl>
Message-ID: <609353e70908130735s35807b47nb1a3150e8133a3bb@mail.gmail.com>

afaik \windows\ contain All .DLLs, help files, sounds and backgrounds
are stored here
\Program Files   is Where programs should be stored. Use
subdirectories to organize them.

Note that Windows CE does not have drive letters


2009/8/13 Jaroslaw Kadziola <kadziola@tlen.pl>:
> Hi,
>
> I can't execute any WinCE app from harbour app.exe
> f.e. :
>
> app.prg
> ----------------------------
> link_ := '\Windows\calc.exe'
> hb_run(link_)
> ----------------------------
> do nothing.
> Any idea ?
>
>
> --
> Regards,
> Jaroslaw Kadziola
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Thu Aug 13 10:40:06 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Aug 13 10:40:33 2009
Subject: [Harbour] Signals in HbQt
In-Reply-To: <24949257.post@talk.nabble.com>
References: <578c73340908121525p616d7d2p12e26c82998d2501@mail.gmail.com> 
	<24949257.post@talk.nabble.com>
Message-ID: <609353e70908130740t1d643402j320faa77029b5ac9@mail.gmail.com>

Hi Pritpal can you describe the step made for convert so other user
will collaborate with you?

2009/8/13 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hi
>
>
> CarozoDeQuilmes wrote:
>>
>> Hi Pritpal, can you add the followed signal's to HbQt library ?
>>
>
> Revision: 12091
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12091&view=rev
> Author: ? vouchcac
> Date: ? ? 2009-08-13 05:50:56 +0000 (Thu, 13 Aug 2009)
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context: http://www.nabble.com/Signals-in-HbQt-tp24945716p24949257.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From bernx at alice.it  Thu Aug 13 11:06:57 2009
From: bernx at alice.it (Marco Bernardi)
Date: Thu Aug 13 11:07:46 2009
Subject: [Harbour] GTSLN do not work correctly with EXT_INKEY
In-Reply-To: <20090813140521.GA18441@uran.home.aster.pl>
References: <4A841254.5050107@alice.it>
	<20090813140521.GA18441@uran.home.aster.pl>
Message-ID: <4A842C11.1050201@alice.it>

An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090813/a714e472/attachment.html
From harbour.01 at syenar.hu  Thu Aug 13 11:10:45 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 13 11:10:55 2009
Subject: [Harbour] POCC 6 final is out. but...
Message-ID: <28198D07-0B85-4BAD-9FBC-730CBF96AECA@syenar.hu>

POCC 6 final release is out.

Unfortunately its bugs hitting Harbour weren't fixed,
so it's broken in both 32-bit mode (internal error),
and 64-bit mode (link error - reported on pocc forum a
month ago).

FYI and don't use this compiler with Harbour.

Brgds,
Viktor

From qiinfo at ig.com.br  Thu Aug 13 12:55:39 2009
From: qiinfo at ig.com.br (Rossine)
Date: Thu Aug 13 12:55:43 2009
Subject: [Harbour] Why this errors ?
Message-ID: <24955553.post@talk.nabble.com>


Hello,

See not exist C:\harbour\include\hbverbld.h

I am use 12095 rev:

[ERRORS]
C:\harbour-#BCC#>call MAKE_GNU.bat CLEAN INSTALL
! MAKE: mingw32-make.exe
! HB_USER_CFLAGS: -DHB_GC_AUTO -DHB_FM_STATISTIC
! HB_INSTALL_PREFIX: C:\hrb_bcc
! HB_BIN_INSTALL: C:\hrb_bcc\bin
! HB_LIB_INSTALL: C:\hrb_bcc\lib
! HB_INC_INSTALL: C:\hrb_bcc\inc
! HB_DOC_INSTALL: C:\hrb_bcc\doc
N?o foi poss?vel encontrar C:\harbour\include\hbverbld.h
O sistema n?o pode encontrar o caminho especificado.
mingw32-make.exe[2]: [clean] Error 1 (ignored)
O sistema n?o pode encontrar o caminho especificado.
mingw32-make.exe[2]: [clean] Error 1 (ignored)
"! 'gtcrs' library skipped"
"! 'gtdos' library skipped"
"! 'gtos2' library skipped"
"! 'gtsln' library skipped"
"! 'gttrm' library skipped"
^CDeseja interromper o arquivo em lotes (S/N)? s
mingw32-make.exe[2]: *** [gtwin.clean] Error 255
[ENDERRORS]

My batch set is this:

[BATCH]
set HB_BUILD_DLL=yes
set HB_DIR_IMPLIB=yes
set HB_BUILD_IMPLIB=yes

REM set HB_BUILD_LOG=yes

set HB_INC_PGSQL=C:\pgsql83\include
set HB_INC_ADS=C:\ads81
set HB_INC_QT=C:\Qt\qt\include
set HB_INC_FIREBIRD=C:\ARQUIV~1\Firebird\Firebird_2_1\include
set HB_INC_FREEIMAGE=C:\FreeImg\3120\Dist

set HB_DIR_PGSQL=C:\pgsql83\include
set HB_DIR_ADS=C:\ads81
set HB_DIR_QT=C:\Qt\qt\include
set HB_DIR_FIREBIRD=C:\ARQUIV~1\Firebird\Firebird_2_1\include
set HB_DIR_FREEIMAGE=C:\FreeImg\3120\Dist

set HB_LEX=SIMPLEX
set HB_USER_CFLAGS=-DHB_GC_AUTO -DHB_FM_STATISTIC

set HB_PATH=C:\hrb_bcc
set HB_INSTALL_PREFIX=%HB_PATH%

set HB_BIN_INSTALL=%HB_PATH%\bin
set HB_LIB_INSTALL=%HB_PATH%\lib
set HB_INC_INSTALL=%HB_PATH%\inc
set HB_DOC_INSTALL=%HB_PATH%\doc

set HB_COMPILER=bcc

set BCC_DIR=c:\bcc55

[ENDBATCH]

Regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/Why-this-errors---tp24955553p24955553.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Thu Aug 13 13:27:35 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 13 13:27:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12096] trunk/harbour
Message-ID: <E1Mbe5P-0000PT-Rl@3kljzd1.ch3.sourceforge.com>

Revision: 12096
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12096&view=rev
Author:   vszakats
Date:     2009-08-13 17:27:34 +0000 (Thu, 13 Aug 2009)

Log Message:
-----------
2009-08-13 19:26 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added HB_INSTALL_PREFIX description (this is now optional).
    + Added HB_BUILD_PKG description.
    + Added HB_BUILD_IMPLIB description.
    * log-%HB_COMPILER%.txt log names changed to log.txt.
    * Cygwin example changed to directly launch make_gnu.sh.
    ; NOTE: INSTALL still needs some updates. I'll do that while
            testing new ways of doing things.

  * config/global.cf
    + Some new information is shown in the log. (detection results)
    % exporting HB_HOST_CPU to avoid detecting it in each recursion.
    + Showing whether HB_ARCHITECTURE/HB_COMPILER values were autodetected.
    + Showing GNU Make version and targets ("clean"/"install"/"all").
    + Showing HB_BUILD_PKG, HB_BUILD_DLL settings.
    + Added logic to do some presets if HB_BUILD_PKG=yes and check
      if clean+install was specified.

  * bin/postinst.cmd
  * bin/postinst.bat
  * bin/hb-mkpkg.bat
  * bin/hb-mkimp.bat
  * bin/hb-mkdyn.bat
    + Prefixed all messages coming from our make process with '! '
    + Some new messages added to offer better entertainment for builders.

  - mpkg_gnu.bat
  * config/global.cf
  + bin/hb-mkpkg.bat
  * bin/postinst.bat
  * mpkg_win.nsi
    + Updated to work as a child function of postinst.bat instead
      of being a starter batch file. Now a package build can be
      initiated the same way as a normal one except that HB_BUILD_PKG=yes
      setting should be used additionally and 'clean install' is
      obligatory.
      In package building scenarios HB_INSTALL_PREFIX will be automatically
      set by the process, using the pkg/<arch>/<comp> tree to install the
      build into.
    * Moved most of the old logic to GNU Make level, so the batch file
      is very simple now.
    ; TOFIX: Whole removal of above dir should be solved to avoid
             leftover old files to be included in the release packages.
             Ideas are welcome.
    ; TODO: Integrate into postinst.bat.
    ; TODO: Move .nsi file to a better place.

  * bin/postinst.bat
  * config/rules.cf
    ! Fixed to respect HB_BUILD_DLL setting.

  * bin/hb-mkdyn.bat
    ! Fixed to create temp files in install area so that multiple parallel
      build runs don't badly interact with each other.
    ! Some fixes regarding spaces in dirs, although tool support is generally
      to hectic/buggy to implement that reliably. Spaces are still not recommended
      in dir.
    ! Fix for msvc.
    ! Untested fixes for watcom.
    ! Fixed leaving two temp file on disk for debuggin purposes.

  * utils/hbmk2/hbmk2.pt_BR.po
  * utils/hbmk2/hbmk2.hu_HU.po
  * utils/hbmk2/hbmk2.prg
    + Added -vcshead support for Bazaar repositories.

  * config/global.cf
  * config/wce/global.cf
  * config/dos/watcom.cf
  * config/win/watcom.cf
  * config/win/global.cf
  * config/os2/watcom.cf
    - Deleted no more used HB_CDYNLIB and HB_DYNLIB logic.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/bin/hb-mkimp.bat
    trunk/harbour/bin/postinst.bat
    trunk/harbour/bin/postinst.cmd
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/rules.cf
    trunk/harbour/config/wce/global.cf
    trunk/harbour/config/win/global.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/mpkg_win.nsi
    trunk/harbour/utils/hbmk2/hbmk2.hu_HU.po
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po

Added Paths:
-----------
    trunk/harbour/bin/hb-mkpkg.bat

Removed Paths:
-------------
    trunk/harbour/mpkg_gnu.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 13 15:45:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 13 15:45:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12097] trunk/harbour
Message-ID: <E1MbgES-0003YK-Tn@3kljzd1.ch3.sourceforge.com>

Revision: 12097
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12097&view=rev
Author:   vszakats
Date:     2009-08-13 19:45:03 +0000 (Thu, 13 Aug 2009)

Log Message:
-----------
2009-08-13 21:44 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
    * Minor cosmetic.
    + Exporting OBJ_DIR as HB_OBJ_DIR.
    ! Fixed detecting 'clean install' on HB_BUILD_PKG=yes.

  * bin/hb-mkdyn.bat
    % Using HB_OBJ_DIR instead of replicating logic.

  * INSTALL
  * bin/postinst.sh
  * make_gnu.sh
  * utils/hbmk2/hbmk2.prg
  - config/linux/sunpro64.cf
  - config/sunos/sunpro64.cf
    + Patch by Tamas Tevesz.
      Deleted sunpro64 as a distinct compiler target.

  * utils/hbmk2/hbmk2.prg
    ! Fixed to not delete source file when using unimplemented
      arch/compiler combinations. (sunpro currently)
      Reported by Tamas Tevesz.

  * config/bsd/global.cf
  * config/wce/global.cf
  * config/hpux/global.cf
  * config/darwin/global.cf
  * config/dos/global.cf
  * config/win/global.cf
  * config/linux/global.cf
  * config/os2/global.cf
  * config/sunos/global.cf
    - Deleted DYN_EXT, DYN_PRE. Wasn't needed, can be added once
      it will be.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/bin/postinst.sh
    trunk/harbour/config/bsd/global.cf
    trunk/harbour/config/darwin/global.cf
    trunk/harbour/config/dos/global.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/hpux/global.cf
    trunk/harbour/config/linux/global.cf
    trunk/harbour/config/os2/global.cf
    trunk/harbour/config/sunos/global.cf
    trunk/harbour/config/wce/global.cf
    trunk/harbour/config/win/global.cf
    trunk/harbour/make_gnu.sh
    trunk/harbour/utils/hbmk2/hbmk2.prg

Removed Paths:
-------------
    trunk/harbour/config/linux/sunpro64.cf
    trunk/harbour/config/sunos/sunpro64.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 13 15:54:25 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 13 15:54:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12098] trunk/harbour
Message-ID: <E1MbgNV-0003kN-5u@3kljzd1.ch3.sourceforge.com>

Revision: 12098
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12098&view=rev
Author:   vszakats
Date:     2009-08-13 19:54:24 +0000 (Thu, 13 Aug 2009)

Log Message:
-----------
2009-08-13 21:53 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * bin/hb-mkpkg.bat
  + package/mpkg_win.nsi
  - mpkg_win.nsi
    * .nsi file moved to package dir.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkpkg.bat

Added Paths:
-----------
    trunk/harbour/package/mpkg_win.nsi

Removed Paths:
-------------
    trunk/harbour/mpkg_win.nsi


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 13 15:55:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 13 15:55:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12099] trunk/harbour
Message-ID: <E1MbgOv-0003nA-A9@3kljzd1.ch3.sourceforge.com>

Revision: 12099
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12099&view=rev
Author:   vszakats
Date:     2009-08-13 19:55:52 +0000 (Thu, 13 Aug 2009)

Log Message:
-----------
2009-08-13 21:55 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * bin/postinst.cmd
  * bin/postinst.bat
  * bin/hb-func.sh
    + Added 'hbmk2' text to .cfg comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/postinst.bat
    trunk/harbour/bin/postinst.cmd


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Fri Aug 14 01:35:58 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Aug 14 01:36:04 2009
Subject: [Harbour] Convert QT, Gtk, Xul, Html UI using XML and XSLT
In-Reply-To: <24949413.post@talk.nabble.com>
References: <9257026e0908122254l3dd7e121r2fb4ef92421ca442@mail.gmail.com>
	<24949413.post@talk.nabble.com>
Message-ID: <9257026e0908132235j661fb465w1807ad74ed5bcb81@mail.gmail.com>

On Thu, Aug 13, 2009 at 8:10 AM, Pritpal Bedi<bedipritpal@hotmail.com> wrote:

> I have already thought of impleenting QT Creators .ui protocol in
> hbxbp.lib. It is just a matter of time.

Great.

> But off course, what I am thinking and what you are proposing may be
> quite different. I need more input what you have in your thoughts.

I have no specific ideas at the moment, but I'm investigating the
possibility to create at runtime an XML like:

<read>
  <say row=x col=y value="xyz" ... />
  <get row=x col=y id="varname" type="xyz" ... />
  <browse top=x left=y bottom=w right=z >
     <column label="header" value="xyz" ... />
     ...
  </browse>
  <button value="xyz" onclick="func()" ... />
  ...
</read>

then convert it XML using XSLT to a .ui and use QT creator ( or Gtk's
Glade ) to edit the XML.

At runtime you don't have to deal with source's code style and
preprocessor and you know data types and values.

best regards,
Lorenzo
From kadziola at tlen.pl  Fri Aug 14 02:03:51 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Fri Aug 14 02:04:00 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <609353e70908130735s35807b47nb1a3150e8133a3bb@mail.gmail.com>
References: <1842013556.20090813105456@tlen.pl>
	<609353e70908130735s35807b47nb1a3150e8133a3bb@mail.gmail.com>
Message-ID: <138780542.20090814080351@tlen.pl>

Hi Massimo,


MB> afaik \windows\ contain All .DLLs, help files, sounds and backgrounds
MB> are stored here
MB> \Program Files   is Where programs should be stored. Use
MB> subdirectories to organize them.

MB> Note that Windows CE does not have drive letters

I know all this. I'm using PocketDos (Dos emulator for WinCE) and
i can execute any WinCE application with 'start.exe' from PocketDOS
shell.
When i'm typing in command line: start.exe "\Windows\calc.exe"
calc.exe is running OK.
I can execute calc.exe from .lnk file by click on file.lnk from
file explorator. File.lnk contents : 150# "\Windows\calc.exe"

But hb_Run("\Windows\calc.exe") from harbour app do nothing.


-- 
Regards,
 Jaroslaw Kadziola

From vszakats at users.sourceforge.net  Fri Aug 14 02:42:20 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 14 02:42:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12100] trunk/harbour
Message-ID: <E1MbqUW-0002Du-Uf@74yxhf1.ch3.sourceforge.com>

Revision: 12100
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12100&view=rev
Author:   vszakats
Date:     2009-08-14 06:42:19 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-14 08:41 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
  * make_gnu.bat
    - Deleted HB_BUILD_LOG option. This will have to be made
      on the user side. It was a fresh feature and a Windows/DOS-only
      one so I hope this isn't a big loss.

  - bin/hb-mkpkg.bat
  * bin/postinst.bat
    % Integrated package creation code into postinst.bat.

  * make_gnu.bat
    - Deleted special handling of cygwin. make_gnu.sh should be
      started directly, IMO not a big problem.

  * config/global.cf
    ! Fixed pathseps in default HB_INSTALL_PREFIX.
    ! Fixed to use abs path when setting HB_INSTALL_PREFIX default.
      (it's required by .nsi file to find the source files)
    ! Fixed setting HB_ARCHITECTURE for some win/dos-only HB_COMPILER
      values.
    + --no-print-directory make flag isn't added if HB_USER_MAKEFLAGS
      contains -w or --print-directory. Seems that simply adding these
      flags after the former won't just reenable it.

  - config/test.cf
    - Deleted, no longer used.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/postinst.bat
    trunk/harbour/config/global.cf
    trunk/harbour/make_gnu.bat
    trunk/harbour/package/mpkg_win.nsi

Removed Paths:
-------------
    trunk/harbour/bin/hb-mkpkg.bat
    trunk/harbour/config/test.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug 14 03:35:22 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 14 03:35:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12101] trunk/harbour
Message-ID: <E1MbrJq-0003dn-EG@dn4whf1.ch3.sourceforge.com>

Revision: 12101
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12101&view=rev
Author:   vszakats
Date:     2009-08-14 07:35:18 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-14 09:34 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/rtl/gtsln/gtsln.c
    ! Fixed linux/gcc warning. Now write() retval is checked.

  * config/global.cf
    ! Fixed wrong autodetection due to recent change.
      (HB_COMPILER needs to be checked against empty value)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf
    trunk/harbour/source/rtl/gtsln/gtsln.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug 14 03:40:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 14 03:40:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12102] trunk/harbour
Message-ID: <E1MbrOZ-0003m6-GU@dn4whf1.ch3.sourceforge.com>

Revision: 12102
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12102&view=rev
Author:   vszakats
Date:     2009-08-14 07:40:13 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-14 09:39 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Typo in Bazaar repository version detection.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug 14 03:43:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 14 03:43:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12103] trunk/harbour
Message-ID: <E1MbrRS-0003s9-Be@dn4whf1.ch3.sourceforge.com>

Revision: 12103
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12103&view=rev
Author:   vszakats
Date:     2009-08-14 07:43:13 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-14 09:42 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Fix to prev fix. [I need a coffee I guess.]

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Fri Aug 14 04:43:07 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Aug 14 04:43:34 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <138780542.20090814080351@tlen.pl>
References: <1842013556.20090813105456@tlen.pl>
	<609353e70908130735s35807b47nb1a3150e8133a3bb@mail.gmail.com> 
	<138780542.20090814080351@tlen.pl>
Message-ID: <609353e70908140143g3ce57ebbu77ca6e26eef0bfb0@mail.gmail.com>

Harbour is able to run a native windows/Ce application
I think that if you have created a  dos application
pocket dos must emulate drive letter
and you musr use

2009/8/14 Jaroslaw Kadziola <kadziola@tlen.pl>:
> Hi Massimo,
>
>
> MB> afaik \windows\ contain All .DLLs, help files, sounds and backgrounds
> MB> are stored here
> MB> \Program Files ? is Where programs should be stored. Use
> MB> subdirectories to organize them.
>
> MB> Note that Windows CE does not have drive letters
>
> I know all this. I'm using PocketDos (Dos emulator for WinCE) and
> i can execute any WinCE application with 'start.exe' from PocketDOS
> shell.
> When i'm typing in command line: start.exe "\Windows\calc.exe"
> calc.exe is running OK.
> I can execute calc.exe from .lnk file by click on file.lnk from
> file explorator. File.lnk contents : 150# "\Windows\calc.exe"
>
> But hb_Run("\Windows\calc.exe") from harbour app do nothing.
>
>
> --
> Regards,
> ?Jaroslaw Kadziola
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From kadziola at tlen.pl  Fri Aug 14 04:57:44 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Fri Aug 14 04:57:53 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <609353e70908140143g3ce57ebbu77ca6e26eef0bfb0@mail.gmail.com>
References: <1842013556.20090813105456@tlen.pl>
	<609353e70908130735s35807b47nb1a3150e8133a3bb@mail.gmail.com>
	<138780542.20090814080351@tlen.pl>
	<609353e70908140143g3ce57ebbu77ca6e26eef0bfb0@mail.gmail.com>
Message-ID: <128884355.20090814105744@tlen.pl>

Hi,

MB> Harbour is able to run a native windows/Ce application

I know this. I wrote about harbour app for WinCE.

-- 
Regards,
 Jaroslaw Kadziola

From druzus at acn.waw.pl  Fri Aug 14 05:13:27 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 14 05:13:33 2009
Subject: [Harbour] Re: Harbour OLE and byref
In-Reply-To: <lef885ho9ini09adi46f779qtjr2ljosd9@4ax.com>
References: <d82485dfd7srh8li6gkb1m7t8ikjpamu29@4ax.com>
	<20090812010747.GA12481@uran.home.aster.pl>
	<m8b58558n673bj90e6oa7a0j34vai8gceh@4ax.com>
	<20090812162824.GA3021@uran.home.aster.pl>
	<lef885ho9ini09adi46f779qtjr2ljosd9@4ax.com>
Message-ID: <20090814091327.GA15528@uran.home.aster.pl>

On Thu, 13 Aug 2009, Toninho@fwi wrote:

Hi,

> > Please test it after:
> Przemek, seems that all is working fine.

Thanks for the information though it probably needs deeper tests
to eliminate possible typos in different translations. I've found
in xHarbour many wrong translations and no one has been reporting
them as bugs for years so it's possible that I also make some
stupid mistake - I hope not.
Current implementation in Harbour seems to be quite clean
and does not pass any pointers to Harbour internals to foreign
OLE code waht was my main goal. Any typos can be easy fixed
by many developers if code is cleaned without ugly hacks.
Anyhow such method of passing parameters by reference forces strong
typing and maybe we can eliminate such limitation.
If possible please make simple test and add at the end of
hb_oleItemToVariantRef() code:

   if( pVarRef )
   {
      pVarRef->n1.n2.vt = VT_VARIANT | VT_BYREF;
      pVarRef->n1.n2.n3.pvarVal = pVariant;
   }

Just before } closing this function.

If such version works with different ole servers then it's much
more flexible because it allows to change the type of returned value
and caller does not have to know it. It can simply pass variable with
NIL inside by reference so it can be important extension.

Now my list of OLE TODO is reduced to:
   1. Should we add support to translate OLE arrays received from foreign
      OLE code to Harbour items? Now we can only pass Harbour arrays as OLE
      parameters.
   2. Empty date in TOLEAUTO was send as VT_NULL. Should we replicate it?
   3. HB_IT_POINTER support. Should we add it?

I do not know if they are important for OLE programmers.

In xHarbour OLE code I found one interesting thing in timestamp value
conversions in hb_oleVariantToItem():

   case VT_DATE:
      hb_itemPutDTD( pItem,  pVariant->n1.n2.n3.dblVal + (double) 2415019 );
      if( pItem->item.asDate.time )
         pItem->item.asDate.time++;
      break;

It increases time part (milliseconds) by one.
But I cannot find corresponding conversion in function hb_oleItemToVariant()
so at least one of these functions is wrong in xHarbour. The question is
which one?
It's highly possible that above code is very bad workaround for bug in
timestamp conversions in xHarbour which can be seen in this code:
   PROC MAIN()
      #ifdef __XHARBOUR__
         SET TIME FORMAT TO "hh:mm:ss.ccc"
      #else
         SET TIME FORMAT TO "hh:mm:ss.fff"
      #endif
      ? { ^ 2009/03/31 15:34:56.123 }
      //  Harbour: 03/31/09 15:34:56.123
      // xHarbour: 03/31/09 15:34:56.122
   RETURN
which introduced new bug without fixing source of the problem.
Anyhow it will be good to make some tests and exchange above value
between some different programs (i.e. one compiled by Harbour and
other by VB) using OLE and compare results.
Harbour does not make any of such tricks and as long as someone does
not well document that it should be changed I want to keep this code.

best regards,
Przemek

ps. I'm sending this list to harbour-devel list too - maybe someone else
    can help us to find answers for above questions.
From mbelgrano at deltain.it  Fri Aug 14 05:35:54 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Aug 14 05:36:21 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <128884355.20090814105744@tlen.pl>
References: <1842013556.20090813105456@tlen.pl>
	<609353e70908130735s35807b47nb1a3150e8133a3bb@mail.gmail.com> 
	<138780542.20090814080351@tlen.pl>
	<609353e70908140143g3ce57ebbu77ca6e26eef0bfb0@mail.gmail.com> 
	<128884355.20090814105744@tlen.pl>
Message-ID: <609353e70908140235x6c601b75t90a5d888ecd7abc2@mail.gmail.com>

If you give me your hbmk2 command line
i try your app.prg on my ce device
wich version of mingw you use?


2009/8/14 Jaroslaw Kadziola <kadziola@tlen.pl>:
> Hi,
>
> MB> Harbour is able to run a native windows/Ce application
>
> I know this. I wrote about harbour app for WinCE.
>
> --
> Regards,
> ?Jaroslaw Kadziola
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Fri Aug 14 05:37:13 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 14 05:37:19 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <1842013556.20090813105456@tlen.pl>
References: <1842013556.20090813105456@tlen.pl>
Message-ID: <20090814093713.GA17735@uran.home.aster.pl>

[czwartek, 13 sierpieï¿½ 2009], Jaroslaw Kadziola napisa³(a):

Hi,

> I can't execute any WinCE app from harbour app.exe
> f.e. :
> app.prg
> ----------------------------
> link_ := '\Windows\calc.exe'
> hb_run(link_)
> ----------------------------
> do nothing.
> Any idea ?

hb_run() simply executes system() CRTL command so it's out of our
control what it exactly does. If it does not work then it means that
system() command is not fully functional in MinGWCE.
You can try to use
   hb_processRun( link_ )
which uses win API directly.

Anyhow please remember to process switching in WinCE does not work
like in desktop windows. In practice only one process is executed
and others are stooped (at least in the MS Pocket emulator I used
in the past porting Harbour to WinCE) so it's possible that you
will have to activate it manually.

best regards,
Przemek
From kadziola at tlen.pl  Fri Aug 14 06:18:39 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Fri Aug 14 06:18:52 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <20090814093713.GA17735@uran.home.aster.pl>
References: <1842013556.20090813105456@tlen.pl>
	<20090814093713.GA17735@uran.home.aster.pl>
Message-ID: <1052958573.20090814121839@tlen.pl>

Hi,

W li?cie datowanym 14 sierpnia 2009 (11:37:13) mo?na przeczyta?:

PC> [czwartek, 13 sierpie? 2009], Jaroslaw Kadziola napisa3(a):

PC> Hi,

>> I can't execute any WinCE app from harbour app.exe
>> f.e. :
>> app.prg
>> ----------------------------
>> link_ := '\Windows\calc.exe'
>> hb_run(link_)
>> ----------------------------
>> do nothing.
>> Any idea ?

PC> hb_run() simply executes system() CRTL command so it's out of our
PC> control what it exactly does. If it does not work then it means that
PC> system() command is not fully functional in MinGWCE.
PC> You can try to use
PC>    hb_processRun( link_ )
PC> which uses win API directly.

The same :(
hb_processRun() return -1

-- 
Regards,
 Jaroslaw Kadziola

From vszakats at users.sourceforge.net  Fri Aug 14 05:31:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 14 06:22:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12104] trunk/harbour
Message-ID: <E1Mbt8A-0005Z1-DI@d5vjzd1.ch3.sourceforge.com>

Revision: 12104
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12104&view=rev
Author:   vszakats
Date:     2009-08-14 09:31:12 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-14 11:24 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * bin/postinst.bat
    * Minor internal cleanup.

  * bin/hb-mkdyn.bat
  * config/lib.cf
    ! Fix for gcc family.
    ! Fixed to use /Y switch with move commands.
    % Use automatically created .lib files instead of generating
      them explicitly with pocc.
    + Move .exp file to lib dir with pocc.
    ! Three fixes for watcom .dll generation.

  * config/global.cf
    + Plans added to cleanup lots of config vars with various names.
    + Added central OpenSSL detection by the name HB_HAS_OPENSSL.
      This makes it possible to use OpenSSL in core or in any contrib
      without much hassle.

  * contrib/hbtip/Makefile
  * contrib/hbssl/Makefile
    + Relying on central OpenSSL detection logic.
    ; TOFIX: For hbmk2 hbssl.hbc should be added explicitly to the
             cmdline yet.

  * config/instsh.cf
    * Suppressing install copy command for cleaner output.

  * ChangeLog
    + Marked items [DONE]

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/bin/postinst.bat
    trunk/harbour/config/global.cf
    trunk/harbour/config/instsh.cf
    trunk/harbour/config/lib.cf
    trunk/harbour/contrib/hbssl/Makefile
    trunk/harbour/contrib/hbtip/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Aug 14 06:42:42 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 14 06:42:47 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <1052958573.20090814121839@tlen.pl>
References: <1842013556.20090813105456@tlen.pl>
	<20090814093713.GA17735@uran.home.aster.pl>
	<1052958573.20090814121839@tlen.pl>
Message-ID: <20090814104242.GA10972@uran.home.aster.pl>

[piï¿½tek, 14 sierpieï¿½ 2009], Jaroslaw Kadziola napisa³(a):
> The same :(
> hb_processRun() return -1

Then it means that CreateProcess() is not supported by your OS
or some other errors appeared (wrong path, too much processes,
insufficient permission, etc.)

Try to check HB_OSERROR() code after hb_processRun().

best regards,
Przemek
From kadziola at tlen.pl  Fri Aug 14 06:42:54 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Fri Aug 14 06:43:01 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <609353e70908140235x6c601b75t90a5d888ecd7abc2@mail.gmail.com>
References: <1842013556.20090813105456@tlen.pl>
	<609353e70908130735s35807b47nb1a3150e8133a3bb@mail.gmail.com>
	<138780542.20090814080351@tlen.pl>
	<609353e70908140143g3ce57ebbu77ca6e26eef0bfb0@mail.gmail.com>
	<128884355.20090814105744@tlen.pl>
	<609353e70908140235x6c601b75t90a5d888ecd7abc2@mail.gmail.com>
Message-ID: <715992878.20090814124254@tlen.pl>

Hi,


MB> If you give me your hbmk2 command line
MB> i try your app.prg on my ce device
MB> wich version of mingw you use?

arm-wince-mingw32ce-gcc.exe -v
Using built-in specs.
Target: arm-wince-mingw32ce
Thread model: win32
gcc version 4.1.0



-- 
Pozdrowienia,
 Jaroslaw Kadziola

From kadziola at tlen.pl  Fri Aug 14 06:48:57 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Fri Aug 14 06:49:06 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <20090814104242.GA10972@uran.home.aster.pl>
References: <1842013556.20090813105456@tlen.pl>
	<20090814093713.GA17735@uran.home.aster.pl>
	<1052958573.20090814121839@tlen.pl>
	<20090814104242.GA10972@uran.home.aster.pl>
Message-ID: <1909539863.20090814124857@tlen.pl>

Witam,

W li?cie datowanym 14 sierpnia 2009 (12:42:42) mo?na przeczyta?:

PC> [pi?tek, 14 sierpie? 2009], Jaroslaw Kadziola napisa3(a):
>> The same :(
>> hb_processRun() return -1

PC> Then it means that CreateProcess() is not supported by your OS
PC> or some other errors appeared (wrong path, too much processes,
PC> insufficient permission, etc.)

PC> Try to check HB_OSERROR() code after hb_processRun().

87 Invalid parameter



-- 
Regards,
 Jarosaaw Kadziola

From mbelgrano at deltain.it  Fri Aug 14 06:54:11 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Aug 14 06:54:37 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <715992878.20090814124254@tlen.pl>
References: <1842013556.20090813105456@tlen.pl>
	<609353e70908130735s35807b47nb1a3150e8133a3bb@mail.gmail.com> 
	<138780542.20090814080351@tlen.pl>
	<609353e70908140143g3ce57ebbu77ca6e26eef0bfb0@mail.gmail.com> 
	<128884355.20090814105744@tlen.pl>
	<609353e70908140235x6c601b75t90a5d888ecd7abc2@mail.gmail.com> 
	<715992878.20090814124254@tlen.pl>
Message-ID: <609353e70908140354kf98a9d0l3444e10b7df92781@mail.gmail.com>

Hoow compile your app.prg ?

2009/8/14 Jaroslaw Kadziola <kadziola@tlen.pl>:
> Hi,
>
>
> MB> If you give me your hbmk2 command line
> MB> i try your app.prg on my ce device
> MB> wich version of mingw you use?
>
> arm-wince-mingw32ce-gcc.exe -v
> Using built-in specs.
> Target: arm-wince-mingw32ce
> Thread model: win32
> gcc version 4.1.0
>
>
>
> --
> Pozdrowienia,
> ?Jaroslaw Kadziola
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From kadziola at tlen.pl  Fri Aug 14 07:02:59 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Fri Aug 14 07:03:09 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <609353e70908140354kf98a9d0l3444e10b7df92781@mail.gmail.com>
References: <1842013556.20090813105456@tlen.pl>
	<609353e70908130735s35807b47nb1a3150e8133a3bb@mail.gmail.com>
	<138780542.20090814080351@tlen.pl>
	<609353e70908140143g3ce57ebbu77ca6e26eef0bfb0@mail.gmail.com>
	<128884355.20090814105744@tlen.pl>
	<609353e70908140235x6c601b75t90a5d888ecd7abc2@mail.gmail.com>
	<715992878.20090814124254@tlen.pl>
	<609353e70908140354kf98a9d0l3444e10b7df92781@mail.gmail.com>
Message-ID: <282606511.20090814130259@tlen.pl>

Hi,


MB> Hoow compile your app.prg ?

Under msys + mingw

$ hbmk2 app -b
hbmk: Processing local make script: hbmk.hbm                                     
hbmk: Processing configuration: N:\msys\1.0\hb-mingw\bin\hbmk.cfg                
Harbour 2.0.0beta2 (Rev. 11949)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'app.prg'...
Lines 7, Functions/Procedures 1
Generating C source output to 'app.c'... Done.

-- 
Regards,
 Jaroslaw Kadziola

From kadziola at tlen.pl  Fri Aug 14 07:20:29 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Fri Aug 14 07:20:38 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <20090814104242.GA10972@uran.home.aster.pl>
References: <1842013556.20090813105456@tlen.pl>
	<20090814093713.GA17735@uran.home.aster.pl>
	<1052958573.20090814121839@tlen.pl>
	<20090814104242.GA10972@uran.home.aster.pl>
Message-ID: <172270173.20090814132029@tlen.pl>

Hi,

W li?cie datowanym 14 sierpnia 2009 (12:42:42) mo?na przeczyta?:

PC> [pi?tek, 14 sierpie? 2009], Jaroslaw Kadziola napisa3(a):
>> The same :(
>> hb_processRun() return -1

PC> Then it means that CreateProcess() is not supported by your OS
PC> or some other errors appeared (wrong path, too much processes,
PC> insufficient permission, etc.)

I've found similar problem in this thread :
http://www.tech-archive.net/Archive/PocketPC/microsoft.public.pocketpc.developer/2004-07/1239.html
Maybe this is little help.

-- 
Regards,
 Jaroslaw Kadziola

From druzus at acn.waw.pl  Fri Aug 14 07:27:00 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 14 07:27:06 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <1909539863.20090814124857@tlen.pl>
References: <1842013556.20090813105456@tlen.pl>
	<20090814093713.GA17735@uran.home.aster.pl>
	<1052958573.20090814121839@tlen.pl>
	<20090814104242.GA10972@uran.home.aster.pl>
	<1909539863.20090814124857@tlen.pl>
Message-ID: <20090814112659.GA2328@uran.home.aster.pl>

[piï¿½tek, 14 sierpieï¿½ 2009], Jaroslaw Kadziola napisa³(a):

Hi,

> PC> Then it means that CreateProcess() is not supported by your OS
> PC> or some other errors appeared (wrong path, too much processes,
> PC> insufficient permission, etc.)
> PC> Try to check HB_OSERROR() code after hb_processRun().
> 87 Invalid parameter

I guess that the same results (-1/87) you have using:
hb_processOpen( link_ )/hb_osError(), aren't they?

It does not give us any valuable information. Probably system()
function in MinGWCE CRTL does not work for the same reason.

I'm sorry but I cannot say it's WinCE system limitation or it needs
some special tricks to make CreateProcess() working.

You can make some experiments with CreateProcess() function
in source/rtl/hbproces.c[434] i.e. set bInheritHandles to FALSE
and/or dwCreationFlags to 0 and/or you can try to set lpCommand
to lpAppName and optionally set NULL to lpCommand. Or you can set
0 to si.dwFlags.

Maybe it can help.

best regards,
Przemek
From kadziola at tlen.pl  Fri Aug 14 07:46:15 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Fri Aug 14 07:46:25 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <20090814112659.GA2328@uran.home.aster.pl>
References: <1842013556.20090813105456@tlen.pl>
	<20090814093713.GA17735@uran.home.aster.pl>
	<1052958573.20090814121839@tlen.pl>
	<20090814104242.GA10972@uran.home.aster.pl>
	<1909539863.20090814124857@tlen.pl>
	<20090814112659.GA2328@uran.home.aster.pl>
Message-ID: <1611614469.20090814134615@tlen.pl>

Hi,

W li?cie datowanym 14 sierpnia 2009 (13:27:00) mo?na przeczyta?:

PC> [pi?tek, 14 sierpie? 2009], Jaroslaw Kadziola napisa3(a):

PC> Hi,

>> PC> Then it means that CreateProcess() is not supported by your OS
>> PC> or some other errors appeared (wrong path, too much processes,
>> PC> insufficient permission, etc.)
>> PC> Try to check HB_OSERROR() code after hb_processRun().
>> 87 Invalid parameter

PC> I guess that the same results (-1/87) you have using:
PC> hb_processOpen( link_ )/hb_osError(), aren't they?

Yes they are.

PC> You can make some experiments with CreateProcess() function
PC> in source/rtl/hbproces.c[434] i.e. set bInheritHandles to FALSE
PC> and/or dwCreationFlags to 0 and/or you can try to set lpCommand
PC> to lpAppName and optionally set NULL to lpCommand. Or you can set
PC> 0 to si.dwFlags.

I'll try . Thanks for Your time.


-- 
Regards,
 Jaroslaw Kadziola

From druzus at acn.waw.pl  Fri Aug 14 07:52:18 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 14 07:52:25 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <172270173.20090814132029@tlen.pl>
References: <1842013556.20090813105456@tlen.pl>
	<20090814093713.GA17735@uran.home.aster.pl>
	<1052958573.20090814121839@tlen.pl>
	<20090814104242.GA10972@uran.home.aster.pl>
	<172270173.20090814132029@tlen.pl>
Message-ID: <20090814115218.GA25026@uran.home.aster.pl>

[piï¿½tek, 14 sierpieï¿½ 2009], Jaroslaw Kadziola napisa³(a):

Hi,

> PC> Then it means that CreateProcess() is not supported by your OS
> PC> or some other errors appeared (wrong path, too much processes,
> PC> insufficient permission, etc.)
> I've found similar problem in this thread :
> http://www.tech-archive.net/Archive/PocketPC/microsoft.public.pocketpc.developer/2004-07/1239.html
> Maybe this is little help.

Yes it does.
It suggests that the last parameter of CreateProcess() have to be NULL.
It means that we cannot extract new process pid so we cannot wait for
its termination and exist results. Probably WinCE does not support such
functionality. It's interesting if also lpStartupInfo has to be NULL.
I'll hack hbprocess.h to pass NULL in lpProcessInformation in WinCE
builds and hb_processRun() function. The process result will be hardcoded
to 0 and of course we will not have anything to wait for process termination.
I'll commit it in a while.
Please test.

best regards,
Przemek
From druzus at users.sourceforge.net  Fri Aug 14 08:00:36 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Aug 14 08:00:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12105] trunk/harbour
Message-ID: <E1MbvSW-0008HM-MR@74yxhf1.ch3.sourceforge.com>

Revision: 12105
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12105&view=rev
Author:   druzus
Date:     2009-08-14 12:00:35 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-14 14:00 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/hbproces.c
    ! hacked hb_processRun() to work in WinCE.
      Please test.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/hbproces.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Aug 14 08:03:58 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 14 08:04:04 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <20090814115218.GA25026@uran.home.aster.pl>
References: <1842013556.20090813105456@tlen.pl>
	<20090814093713.GA17735@uran.home.aster.pl>
	<1052958573.20090814121839@tlen.pl>
	<20090814104242.GA10972@uran.home.aster.pl>
	<172270173.20090814132029@tlen.pl>
	<20090814115218.GA25026@uran.home.aster.pl>
Message-ID: <20090814120358.GA25802@uran.home.aster.pl>

[piï¿½tek, 14 sierpieï¿½ 2009], Przemyslaw Czerpak napisa³(a):
> I'll hack hbprocess.h to pass NULL in lpProcessInformation in WinCE
> builds and hb_processRun() function. The process result will be hardcoded
> to 0 and of course we will not have anything to wait for process termination.
> I'll commit it in a while.
> Please test.

Done:
   2009-08-14 14:00 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

If you confirm it works then I also update __run() and hb_run() in
WinCE builds to not use system() command.

best regards,
Przemek
From dmacias at mail.udg.mx  Fri Aug 14 08:18:52 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Aug 14 08:19:14 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS II
Message-ID: <4A85562C.3050505@mail.udg.mx>

Viktor:

 >2009-08-14 08:41 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
 >  * config/global.cf
 >    + --no-print-directory make flag isn't added if HB_USER_MAKEFLAGS
 >      contains -w or --print-directory. Seems that simply adding these
 >      flags after the former won't just reenable it.

Now it work as expected
Part of make_ow.log included below

David Macias


! MAKE: make 3.81
! HB_USER_CFLAGS: -DTCPV40HDRS -DHB_FM_STATISTICS_OFF
! HB_USER_MAKEFLAGS: -w
! HB_HOST_ARCH: os2  HB_SHELL: os2
! HB_ARCHITECTURE: os2
! HB_COMPILER: watcom
! HB_INSTALL_PREFIX automatically set to E:\harbour907h\harbour
make: Entering directory `E:/harbour907h/harbour'
make[1]: Entering directory `E:/harbour907h/harbour/doc'
make[2]: Entering directory `E:/harbour907h/harbour/doc/en-EN'
make[2]: Nothing to be done for `all'.
make[2]: Leaving directory `E:/harbour907h/harbour/doc/en-EN'
make[1]: Leaving directory `E:/harbour907h/harbour/doc'
make[1]: Entering directory `E:/harbour907h/harbour/include'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory `E:/harbour907h/harbour/include'
make[1]: Entering directory `E:/harbour907h/harbour/source'
make[2]: Entering directory `E:/harbour907h/harbour/source/common'
make[3]: Entering directory 
`E:/harbour907h/harbour/source/common/obj/os2/watcom'
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=expropt1.obj  ../../../expropt1.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=expropt2.obj  ../../../expropt2.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbffind.obj  ../../../hbffind.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbfopen.obj  ../../../hbfopen.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbfsapi.obj  ../../../hbfsapi.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbgete.obj  ../../../hbgete.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbwince.obj  ../../../hbwince.c
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include   -DTCPV40HDRS -DHB_FM_STATISTICS_OFF 
-fo=hbhash.obj  ../../../hbhash.c

From toninhofwi at yahoo.com.br  Fri Aug 14 08:30:42 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Fri Aug 14 08:29:34 2009
Subject: [Harbour] Re: Harbour OLE and byref
In-Reply-To: <20090814091327.GA15528@uran.home.aster.pl>
References: <d82485dfd7srh8li6gkb1m7t8ikjpamu29@4ax.com>
	<20090812010747.GA12481@uran.home.aster.pl>
	<m8b58558n673bj90e6oa7a0j34vai8gceh@4ax.com>
	<20090812162824.GA3021@uran.home.aster.pl>
	<lef885ho9ini09adi46f779qtjr2ljosd9@4ax.com>
	<20090814091327.GA15528@uran.home.aster.pl>
Message-ID: <5oka85575e2r49531mau3oiqc37kj90l3j@4ax.com>

Hi Przemek,

>If possible please make simple test and add at the end of
>hb_oleItemToVariantRef() code:
>
>   if( pVarRef )
>   {
>      pVarRef->n1.n2.vt = VT_VARIANT | VT_BYREF;
>      pVarRef->n1.n2.n3.pvarVal = pVariant;
>   }

I do it and now all byref vars return NIL

>Now my list of OLE TODO is reduced to:
>   1. Should we add support to translate OLE arrays received from foreign
>      OLE code to Harbour items? Now we can only pass Harbour arrays as OLE
>      parameters.
>   2. Empty date in TOLEAUTO was send as VT_NULL. Should we replicate it?
>   3. HB_IT_POINTER support. Should we add it?
>
>I do not know if they are important for OLE programmers.

Well, I don?t know too. This is the first time that I found one OLE
that use byref and is very hard to found another.  In my case, all
byref is string type and your implementation is working just fine.

>Harbour does not make any of such tricks and as long as someone does
>not well document that it should be changed I want to keep this code.

As I saw, with my tests your code is working just fine, but  I?ll try
find another OLE in the net that use byref. If I found, I?ll do a
complete test with another types and post results here.


Thank you and best regards,

Toninho.

__________________________________________________
Fa?a liga??es para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From kadziola at tlen.pl  Fri Aug 14 08:31:45 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Fri Aug 14 08:31:54 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <20090814120358.GA25802@uran.home.aster.pl>
References: <1842013556.20090813105456@tlen.pl>
	<20090814093713.GA17735@uran.home.aster.pl>
	<1052958573.20090814121839@tlen.pl>
	<20090814104242.GA10972@uran.home.aster.pl>
	<172270173.20090814132029@tlen.pl>
	<20090814115218.GA25026@uran.home.aster.pl>
	<20090814120358.GA25802@uran.home.aster.pl>
Message-ID: <1103015677.20090814143145@tlen.pl>



W li?cie datowanym 14 sierpnia 2009 (14:03:58) mo?na przeczyta?:

PC> [pi?tek, 14 sierpie? 2009], Przemyslaw Czerpak napisa3(a):
>> I'll hack hbprocess.h to pass NULL in lpProcessInformation in WinCE
>> builds and hb_processRun() function. The process result will be hardcoded
>> to 0 and of course we will not have anything to wait for process termination.
>> I'll commit it in a while.
>> Please test.

PC> Done:
PC>    2009-08-14 14:00 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

PC> If you confirm it works then I also update __run() and hb_run() in
PC> WinCE builds to not use system() command.

Thanks. I'll do it in the evening.

-- 
Regards,
 Jaroslaw Kadziola

From druzus at acn.waw.pl  Fri Aug 14 08:51:14 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 14 08:51:27 2009
Subject: [Harbour] Re: Harbour OLE and byref
In-Reply-To: <5oka85575e2r49531mau3oiqc37kj90l3j@4ax.com>
References: <d82485dfd7srh8li6gkb1m7t8ikjpamu29@4ax.com>
	<20090812010747.GA12481@uran.home.aster.pl>
	<m8b58558n673bj90e6oa7a0j34vai8gceh@4ax.com>
	<20090812162824.GA3021@uran.home.aster.pl>
	<lef885ho9ini09adi46f779qtjr2ljosd9@4ax.com>
	<20090814091327.GA15528@uran.home.aster.pl>
	<5oka85575e2r49531mau3oiqc37kj90l3j@4ax.com>
Message-ID: <20090814125114.GA14401@uran.home.aster.pl>

On Fri, 14 Aug 2009, Toninho@fwi wrote:

Hi,

> >If possible please make simple test and add at the end of
> >hb_oleItemToVariantRef() code:
> >   if( pVarRef )
> >   {
> >      pVarRef->n1.n2.vt = VT_VARIANT | VT_BYREF;
> >      pVarRef->n1.n2.n3.pvarVal = pVariant;
> >   }
> I do it and now all byref vars return NIL

Ups, it's not enough, my fault, sorry.
Please also add at beginning of function hb_oleVariantToItem()

   if( pVariant->n1.n2.vt == VT_VARIANT | VT_BYREF )
      pVariant = pVariant->n1.n2.n3.pvarVal;

and then test again.

best regards,
Przemek

From druzus at users.sourceforge.net  Fri Aug 14 09:03:25 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Aug 14 09:03:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12106] trunk/harbour
Message-ID: <E1MbwRJ-00052g-AL@dn4whf1.ch3.sourceforge.com>

Revision: 12106
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12106&view=rev
Author:   druzus
Date:     2009-08-14 13:03:24 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-14 15:03 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/run.c
  * harbour/source/rtl/hbrunfun.c
    ! do not use system() command in __run() and hb_run() functions in
      WinCE builds

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/hbrunfun.c
    trunk/harbour/source/rtl/run.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Aug 14 08:54:27 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 14 09:06:16 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <1103015677.20090814143145@tlen.pl>
References: <1842013556.20090813105456@tlen.pl>
	<20090814093713.GA17735@uran.home.aster.pl>
	<1052958573.20090814121839@tlen.pl>
	<20090814104242.GA10972@uran.home.aster.pl>
	<172270173.20090814132029@tlen.pl>
	<20090814115218.GA25026@uran.home.aster.pl>
	<20090814120358.GA25802@uran.home.aster.pl>
	<1103015677.20090814143145@tlen.pl>
Message-ID: <20090814125427.GA1160@uran.home.aster.pl>

[piï¿½tek, 14 sierpieï¿½ 2009], Jaroslaw Kadziola napisa³(a):
> PC>    2009-08-14 14:00 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> PC> If you confirm it works then I also update __run() and hb_run() in
> PC> WinCE builds to not use system() command.
> Thanks. I'll do it in the evening.

Thanks. In such case I'll update __run() and hb_run() in a while
so you can test also them.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Aug 14 09:09:09 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug 14 09:09:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12106] trunk/harbour
In-Reply-To: <E1MbwRJ-00052g-AL@dn4whf1.ch3.sourceforge.com>
References: <E1MbwRJ-00052g-AL@dn4whf1.ch3.sourceforge.com>
Message-ID: <9E7A89F4-28E4-4CD0-9162-635E3032A22B@syenar.hu>

Hi Przemek,

Probably the OS CP conversion should still be retained in this case.

Brgds,
Viktor

On 2009.08.14., at 3:03, druzus@users.sourceforge.net wrote:

> Revision: 12106
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12106&view=rev
> Author:   druzus
> Date:     2009-08-14 13:03:24 +0000 (Fri, 14 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-14 15:03 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/source/rtl/run.c
>  * harbour/source/rtl/hbrunfun.c
>    ! do not use system() command in __run() and hb_run() functions in
>      WinCE builds
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/source/rtl/hbrunfun.c
>    trunk/harbour/source/rtl/run.c
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at users.sourceforge.net  Fri Aug 14 09:13:44 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Aug 14 09:13:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12107] trunk/harbour
Message-ID: <E1MbwbI-0005Oq-R9@dn4whf1.ch3.sourceforge.com>

Revision: 12107
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12107&view=rev
Author:   druzus
Date:     2009-08-14 13:13:29 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-14 15:12 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/hbproces.c
    * respect _SET_OSCODEPAGE in hb_fsProcessOpen() and hb_fsProcessRun()
      functions

  * harbour/source/rtl/run.c
    ! fixed typo in previous commit

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/hbproces.c
    trunk/harbour/source/rtl/run.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Aug 14 09:13:58 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 14 09:14:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12106] trunk/harbour
In-Reply-To: <9E7A89F4-28E4-4CD0-9162-635E3032A22B@syenar.hu>
References: <E1MbwRJ-00052g-AL@dn4whf1.ch3.sourceforge.com>
	<9E7A89F4-28E4-4CD0-9162-635E3032A22B@syenar.hu>
Message-ID: <20090814131357.GA22185@uran.home.aster.pl>

On Fri, 14 Aug 2009, Szak?ts Viktor wrote:
> Hi Przemek,
> Probably the OS CP conversion should still be retained in this case.

Yes but not here.
See my second commit.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Aug 14 09:20:41 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug 14 09:20:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12106] trunk/harbour
In-Reply-To: <20090814131357.GA22185@uran.home.aster.pl>
References: <E1MbwRJ-00052g-AL@dn4whf1.ch3.sourceforge.com>
	<9E7A89F4-28E4-4CD0-9162-635E3032A22B@syenar.hu>
	<20090814131357.GA22185@uran.home.aster.pl>
Message-ID: <929DCCBC-C32A-485F-849A-C8A3D667F138@syenar.hu>

Much better this way, thank you.

Brgds,
Viktor

On 2009.08.14., at 3:13, Przemyslaw Czerpak wrote:

> On Fri, 14 Aug 2009, Szak?ts Viktor wrote:
>> Hi Przemek,
>> Probably the OS CP conversion should still be retained in this case.
>
> Yes but not here.
> See my second commit.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From toninhofwi at yahoo.com.br  Fri Aug 14 09:41:56 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Fri Aug 14 09:40:47 2009
Subject: [Harbour] Re: Harbour OLE and byref
In-Reply-To: <20090814125114.GA14401@uran.home.aster.pl>
References: <d82485dfd7srh8li6gkb1m7t8ikjpamu29@4ax.com>
	<20090812010747.GA12481@uran.home.aster.pl>
	<m8b58558n673bj90e6oa7a0j34vai8gceh@4ax.com>
	<20090812162824.GA3021@uran.home.aster.pl>
	<lef885ho9ini09adi46f779qtjr2ljosd9@4ax.com>
	<20090814091327.GA15528@uran.home.aster.pl>
	<5oka85575e2r49531mau3oiqc37kj90l3j@4ax.com>
	<20090814125114.GA14401@uran.home.aster.pl>
Message-ID: <q6qa85pkvnsjvedj5h5dnso44fenjkdgd3@4ax.com>

>Please also add at beginning of function hb_oleVariantToItem()
>
>   if( pVariant->n1.n2.vt == VT_VARIANT | VT_BYREF )
>      pVariant = pVariant->n1.n2.n3.pvarVal;
>
>and then test again.

Hi Przemek, same result: all var is nil and now gpf too.

---cut---
static void hb_oleItemToVariantRef( VARIANT* pVariant, PHB_ITEM pItem,
                                    VARIANT* pVarRef )
{
   if( pVariant->n1.n2.vt == VT_VARIANT | VT_BYREF )
      pVariant = pVariant->n1.n2.n3.pvarVal;

   VariantClear( pVariant );  /* pVariant->n1.n2.vt = VT_EMPTY; */

   switch( hb_itemType( pItem ) )
...
...
...
         break;
   }

   if( pVarRef )
   {
      pVarRef->n1.n2.vt = VT_VARIANT | VT_BYREF;
      pVarRef->n1.n2.n3.pvarVal = pVariant;
   }
}
---cut---


Thanks and best regards,

Toninho.


__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From druzus at acn.waw.pl  Fri Aug 14 09:52:27 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 14 09:52:33 2009
Subject: [Harbour] Re: Harbour OLE and byref
In-Reply-To: <q6qa85pkvnsjvedj5h5dnso44fenjkdgd3@4ax.com>
References: <d82485dfd7srh8li6gkb1m7t8ikjpamu29@4ax.com>
	<20090812010747.GA12481@uran.home.aster.pl>
	<m8b58558n673bj90e6oa7a0j34vai8gceh@4ax.com>
	<20090812162824.GA3021@uran.home.aster.pl>
	<lef885ho9ini09adi46f779qtjr2ljosd9@4ax.com>
	<20090814091327.GA15528@uran.home.aster.pl>
	<5oka85575e2r49531mau3oiqc37kj90l3j@4ax.com>
	<20090814125114.GA14401@uran.home.aster.pl>
	<q6qa85pkvnsjvedj5h5dnso44fenjkdgd3@4ax.com>
Message-ID: <20090814135227.GA17393@uran.home.aster.pl>

On Fri, 14 Aug 2009, Toninho@fwi wrote:

Hi,

> >Please also add at beginning of function hb_oleVariantToItem()
> >
> >   if( pVariant->n1.n2.vt == VT_VARIANT | VT_BYREF )
> >      pVariant = pVariant->n1.n2.n3.pvarVal;
> >
> >and then test again.
> Hi Przemek, same result: all var is nil and now gpf too.
> ---cut---
> static void hb_oleItemToVariantRef( VARIANT* pVariant, PHB_ITEM pItem,
>                                     VARIANT* pVarRef )

Thank you for your test but you added above if() statement to wrong
function hb_oleItemToVariantRef() and I asked about hb_oleVariantToItem().
To avoid possible typos I'll commit some modifications to olecore.c
and I'll add code disabled by '#if 0' which uses such alternative
method of passing parameters by reference.
Please change it to '#if 1' and repeat your tests.

best regards,
Przemek
From druzus at users.sourceforge.net  Fri Aug 14 09:53:01 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Aug 14 09:53:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12108] trunk/harbour
Message-ID: <E1MbxDJ-0001AO-CO@3kljzd1.ch3.sourceforge.com>

Revision: 12108
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12108&view=rev
Author:   druzus
Date:     2009-08-14 13:53:00 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-14 15:52 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/olecore.c
    + added support for decoding VT_DECIMAL variants
    + added disabled by default support for passing pointer items just like
      in old OLE code
    + added decoding of VT_VARIANT passed by reference
    + encode NIL or other not directly supported types passed by reference
      as VT_VARIANT passed by reference
    * added disabled by '#if 0' code which uses VT_VARIANT | VT_BYREF
      to pass parameters by reference for testing

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/olecore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug 14 10:09:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 14 10:09:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12109] trunk/harbour
Message-ID: <E1MbxTC-0004VH-Sy@bj8yhf1.ch3.sourceforge.com>

Revision: 12109
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12109&view=rev
Author:   vszakats
Date:     2009-08-14 14:09:25 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-14 15:35 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * bin/hb-mkdyn.bat
    ! Fixed gcc family (mingw) .dll generation. New tricks
      had to be employed to workaround 8K cmdline limits.

  * contrib/hbwin/win_misc.c
    * Implemented recent WinCE fix by Przemek for another
      CreateProcess() call.

  * utils/hbmk2/hbmk2.prg
    * Cleaned system lib list for wce platform.
      wininet, commdlg, commctrl libs moved from base to extra
      system lib list. These libs aren't needed by Harbour code
      code. [ No change in functionality, just synced with rest
      of Harbour. ]
      I didn't test yet, but seeing the content of this lib,
      it's not needed for Harbour core code.

  * config/wce/global.cf
  * bin/hb-mkdyn.bat
    % Deleted wininet wce system lib from liblist.

  * config/wce/poccarm.cf
    % Deleted winsock wce system lib from poccarm liblist.
      ws2 should be enough. (I didn't retest the platform yet)

  * config/wce/msvcarm.cf
  * config/wce/global.cf
  * config/wce/mingwarm.cf
  * config/wce/poccarm.cf
  * config/win/watcom.cf
  * config/win/icc.cf
  * config/win/cygwin.cf
  * config/win/global.cf
  * config/win/msvc.cf
  * config/win/xcc.cf
  * config/win/mingw.cf
  * config/win/pocc.cf
  * config/win/bcc.cf
    % Moved system lib list definition to <arch>/global.cf files
      for wce/win platforms.
      This will ensure that compilers for the same platform will
      always use the same system libs too.
      Added reasoning in comment for each extra win system lib.
    % Deleted the same meaningless comment line from all files.

  * config/global.cf
    + Showing $(SHELL) variable content.
    + Added experimental support for explicitly changing $(SHELL)
      variable for nt and dos shells. This should solve the
      problem when mingw32-make is picking up sh.exe as shell if
      cygwin or msys is in the PATH (or the user may also have
      sh.exe laying around).

  * INSTALL
    % Deleted SHLVL hack from wce/mingwarm build config example.
      Not needed anymore.
    % Deleted "sh.exe mustn't be in the path" sentences.
      Not needed anymore, now it can be in the PATH.

  * make_gnu.bat
    + Readded calling sh for cygwin. (sorry I needed this personally
      to keep the same interface for all cases on Windows, but I'll
      think about this further, also to better cover mingw+msys case.
      So this is rather temporary.)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/config/global.cf
    trunk/harbour/config/wce/global.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/wce/msvcarm.cf
    trunk/harbour/config/wce/poccarm.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/global.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/config/win/xcc.cf
    trunk/harbour/contrib/hbwin/win_misc.c
    trunk/harbour/make_gnu.bat
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug 14 10:46:40 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 14 10:46:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12110] trunk/harbour
Message-ID: <E1Mby3E-00055i-S9@c3vjzd1.ch3.sourceforge.com>

Revision: 12110
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12110&view=rev
Author:   vszakats
Date:     2009-08-14 14:46:38 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-14 16:39 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * bin/hb-mkdyn.bat
    ! Applied recent change in WinCE .dll names.
    % Remmed some verbose output in .dll generation code.

  * bin/postinst.bat
  * bin/hb-mkimp.bat
    * Minor in wording.

  * utils/hbmk2/hbmk2.prg
    ! Fixed converting input filename dirseps for target compiler
      in resource compiler commands. (error ocurred when testing
      mingwarm)

  * config/win/bcc.cf
    ! Fixed bad typo in prev commit.

  * config/dos/watcom.cf
  * config/win/watcom.cf
  * config/linux/watcom.cf
  * config/os2/watcom.cf
    + Added -q to wlib cmdline.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/bin/hb-mkimp.bat
    trunk/harbour/bin/postinst.bat
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/linux/watcom.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug 14 10:51:59 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 14 10:52:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12111] trunk/harbour
Message-ID: <E1Mby8N-0005C4-Sd@c3vjzd1.ch3.sourceforge.com>

Revision: 12111
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12111&view=rev
Author:   vszakats
Date:     2009-08-14 14:51:55 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-14 16:51 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/bsd/gcc.cf
  * config/hpux/gcc.cf
  * config/darwin/gcc.cf
  * config/dos/djgpp.cf
  * config/linux/gcc.cf
  * config/linux/icc.cf
  * config/linux/sunpro.cf
  * config/os2/gcc.cf
  * config/sunos/gcc.cf
  * config/sunos/sunpro.cf
    % Deleted meaningless comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/sunos/sunpro.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Fri Aug 14 11:00:18 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Aug 14 11:00:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12112] trunk/harbour
Message-ID: <E1MbyGQ-0003LG-DB@d5vjzd1.ch3.sourceforge.com>

Revision: 12112
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12112&view=rev
Author:   druzus
Date:     2009-08-14 15:00:17 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-14 16:59 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/olecore.c
    ! added missing parenthesis
    + added support to translate 1 dimensional arrays of variants
      to HVM arrays

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/olecore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Aug 14 11:32:06 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 14 11:32:14 2009
Subject: [Harbour] poccarm link error
Message-ID: <18d502870908140832n66aa2af5o1f54acdd25f7b630@mail.gmail.com>

I think this is a new one:
---
! MAKE: mingw32-make.exe 3.81 clean install sh.exe
! HB_INSTALL_PREFIX: C:\devl\hb20
! HB_BUILD_PKG: yes
! HB_BUILD_DLL: yes
! HB_BUILD_DEBUG: no
! HB_BUILD_OPTIM: yes
! HB_HOST_ARCH: win  HB_SHELL: nt
! HB_ARCHITECTURE: wce (autodetected)
! HB_COMPILER: poccarm
! HB_BIN_COMPILE not specified. Automatically set to:
C:/work/harbour/harbour/bin/win/bcc
[...]
C:/work/harbour/harbour/bin/win/bcc/harbour.exe ../../../hbmk2.prg -n1
 -i../../../../../include -q0 -w3 -es2 -kmo -l -gc0
-undef:__PLATFORM__WINDOWS -
D__PLATFORM__WINDOWS -D__PLATFORM__WINCE
pocc.exe  -I. -Ze -Go -W1 -Ot -Tarm-coff -D_M_ARM -D_WINCE -DUNICODE
-DHB_NO_WIN_CONSOLE -I../../../../../include     -Fohbmk2.obj -c
hbmk2.c
polink.exe  /out:..\..\..\..\..\bin\wce\poccarm\hbmk2.exe hbmk2.obj
/subsystem:windows -LIBPATH:../../../../../lib/wce/poccarm
hbextern.lib hbdebug.lib hbvmmt.lib hbrtl.lib hblang.lib hbcpage.lib
gtcgi.lib gtpca.lib gtstd.lib gtwvt.lib gtgui.lib hbnulrdd.lib
hbrtl.lib hbvmmt.lib hbmacro.lib hbcplr.lib hbpp.lib hbcommon.lib
hbpcre.lib hbzlib.lib ws2.lib coredll.lib corelibc.lib
POLINK: error: Unresolved external symbol '_beginthreadex'.
POLINK: error: Unresolved external symbol '_endthreadex'.
POLINK: fatal error: 2 unresolved external(s).
---

Brgds,
Viktor
From druzus at acn.waw.pl  Fri Aug 14 11:42:20 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 14 11:42:29 2009
Subject: [Harbour] poccarm link error
In-Reply-To: <18d502870908140832n66aa2af5o1f54acdd25f7b630@mail.gmail.com>
References: <18d502870908140832n66aa2af5o1f54acdd25f7b630@mail.gmail.com>
Message-ID: <20090814154220.GA6345@uran.home.aster.pl>

On Fri, 14 Aug 2009, Szak?ts Viktor wrote:
> I think this is a new one:
[...]
> POLINK: error: Unresolved external symbol '_beginthreadex'.
> POLINK: error: Unresolved external symbol '_endthreadex'.

It's possible because MT support for WinCE was disabled.
Look at HB_THREAD_RAWWINAPI in include/hbthread.h and change:

   #  if defined( HB_OS_WIN_CE ) && \
         ( defined( __MINGW32CE__ ) && !defined( __MSVCRT__ ) )
   #     define HB_THREAD_RAWWINAPI
   #  endif

to:

   #  if defined( HB_OS_WIN_CE ) && \
         ( ( defined( __MINGW32CE__ ) && !defined( __MSVCRT__ ) ) || \
           defined( __POCC__ ) )
   #     define HB_THREAD_RAWWINAPI
   #  endif

It should help.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Aug 14 12:07:48 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 14 12:07:55 2009
Subject: [Harbour] poccarm link error
In-Reply-To: <20090814154220.GA6345@uran.home.aster.pl>
References: <18d502870908140832n66aa2af5o1f54acdd25f7b630@mail.gmail.com>
	<20090814154220.GA6345@uran.home.aster.pl>
Message-ID: <18d502870908140907s48af89f4ub573bd66d4a89fcd@mail.gmail.com>

Thank you, that solved it nicely.

It's not over yet though :( Here's the next new one:
---
pocc.exe  -I. -Ze -Go -W1 -Ot -Tarm-coff -D_M_ARM -D_WINCE
-I../../../../../include    -DUNICODE -Foolecore.obj -c
../../../olecore.c
../../../olecore.c(239): error #2152: Unknown field 'llVal' of 'union
(no name)'.
../../../olecore.c(247): error #2152: Unknown field 'pllVal' of 'union
(no name)'.
../../../olecore.c(247): error #2152: Unknown field 'llVal' of 'union
(no name)'.
../../../olecore.c(247): error #2168: Operands of = have incompatible
types 'int' and 'int *'.
../../../olecore.c(490): error #2152: Unknown field 'llVal' of 'union
(no name)'.
../../../olecore.c(501): error #2152: Unknown field 'pllVal' of 'union
(no name)'.
../../../olecore.c(501): error #2144: Type error: pointer expected.
../../../olecore.c(534): error #2152: Unknown field 'ullVal' of 'union
(no name)'.
../../../olecore.c(546): error #2152: Unknown field 'pullVal' of
'union (no name)'.
../../../olecore.c(546): error #2144: Type error: pointer expected.
mingw32-make.exe[3]: *** [olecore.obj] Error 1
---

Brgds,
Viktor

On Fri, Aug 14, 2009 at 5:42 PM, Przemyslaw Czerpak<druzus@acn.waw.pl> wrote:
> On Fri, 14 Aug 2009, Szak?ts Viktor wrote:
>> I think this is a new one:
> [...]
>> POLINK: error: Unresolved external symbol '_beginthreadex'.
>> POLINK: error: Unresolved external symbol '_endthreadex'.
>
> It's possible because MT support for WinCE was disabled.
> Look at HB_THREAD_RAWWINAPI in include/hbthread.h and change:
>
> ? # ?if defined( HB_OS_WIN_CE ) && \
> ? ? ? ? ( defined( __MINGW32CE__ ) && !defined( __MSVCRT__ ) )
> ? # ? ? define HB_THREAD_RAWWINAPI
> ? # ?endif
>
> to:
>
> ? # ?if defined( HB_OS_WIN_CE ) && \
> ? ? ? ? ( ( defined( __MINGW32CE__ ) && !defined( __MSVCRT__ ) ) || \
> ? ? ? ? ? defined( __POCC__ ) )
> ? # ? ? define HB_THREAD_RAWWINAPI
> ? # ?endif
>
> It should help.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From vszakats at users.sourceforge.net  Fri Aug 14 12:11:59 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 14 12:12:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12113] trunk/harbour
Message-ID: <E1MbzNn-0004dw-5r@d5vjzd1.ch3.sourceforge.com>

Revision: 12113
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12113&view=rev
Author:   vszakats
Date:     2009-08-14 16:11:58 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-14 18:11 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * make_gnu_os2.cmd
    % Minor opt. I hope OS/2 accepts such 'if' command.

  * include/hbthread.h
    ! Fix to poccarm build. Provided by Przemek.

  * utils/hbmk2/hbmk2.prg
  * config/wce/msvcarm.cf
  * config/wce/global.cf
  * config/wce/poccarm.cf
    + Added -DUNICODE for mingwarm. It didn't seem to require it so far, 
      but I thought it's better to define this for all wce compilers.
    % Deleted -DHB_NO_WIN_CONSOLE. No longer exists in Harbour.
    % Deleted /stack:65536,4096 linker option from wce/msvcarm.
      I'm just guessing it's not needed.
    + -DUNICODE is now enforced through HB_BUILD_UNICODE=yes setting 
      in GNU Make for all wce compilers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/global.cf
    trunk/harbour/config/wce/msvcarm.cf
    trunk/harbour/config/wce/poccarm.cf
    trunk/harbour/include/hbthread.h
    trunk/harbour/make_gnu_os2.cmd
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Aug 14 12:22:01 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 14 12:22:07 2009
Subject: [Harbour] cygwin new compile errors
Message-ID: <18d502870908140922k1e47a1d3i580d76a799b93da9@mail.gmail.com>

---
../../../hbsocket.c:179:1: warning: "socklen_t" redefined
In file included from /usr/include/sys/socket.h:15,
                 from ../../../hbsocket.c:167:
/usr/include/cygwin/socket.h:24:1: warning: this is the location of
the previous definition
../../../hbsocket.c: In function `hb_socketInit':
../../../hbsocket.c:698: error: `WSADATA' undeclared (first use in
this function)
../../../hbsocket.c:698: error: (Each undeclared identifier is
reported only once
../../../hbsocket.c:698: error: for each function it appears in.)
../../../hbsocket.c:698: error: parse error before "wsadata"
../../../hbsocket.c:699: warning: implicit declaration of function `WSAStartup'
../../../hbsocket.c:699: error: `wsadata' undeclared (first use in
this function)
../../../hbsocket.c: In function `hb_socketCleanup':
../../../hbsocket.c:713: warning: implicit declaration of function `WSACleanup'
../../../hbsocket.c: In function `hb_socketSelectRD':
../../../hbsocket.c:1195: warning: implicit declaration of function
`WSAGetLastError'
../../../hbsocket.c: In function `hb_socketInet6Addr':
../../../hbsocket.c:1425: error: storage size of 'sa' isn't known
../../../hbsocket.c:1429: error: `AF_INET6' undeclared (first use in
this function)
../../../hbsocket.c:1434: error: `in6addr_any' undeclared (first use
in this function)
../../../hbsocket.c:1434: error: invalid application of `sizeof' to
incomplete type `in6_addr'
../../../hbsocket.c:1425: warning: unused variable `sa'
../../../hbsocket.c: In function `hb_socketAddrGetName':
../../../hbsocket.c:1500: error: `AF_INET6' undeclared (first use in
this function)
../../../hbsocket.c:1501: error: invalid application of `sizeof' to
incomplete type `sockaddr_in6'
../../../hbsocket.c:1501: warning: comparison of unsigned expression
>= 0 is always true
../../../hbsocket.c:1506: error: `INET6_ADDRSTRLEN' undeclared (first
use in this function)
../../../hbsocket.c:1507: error: dereferencing pointer to incomplete type
../../../hbsocket.c:1506: warning: unused variable `buf'
../../../hbsocket.c: In function `hb_socketAddrGetPort':
../../../hbsocket.c:1558: error: `AF_INET6' undeclared (first use in
this function)
../../../hbsocket.c:1559: error: invalid application of `sizeof' to
incomplete type `sockaddr_in6'
../../../hbsocket.c:1559: warning: comparison of unsigned expression
>= 0 is always true
../../../hbsocket.c:1560: error: dereferencing pointer to incomplete type
../../../hbsocket.c:1560: error: dereferencing pointer to incomplete type
../../../hbsocket.c:1560: error: dereferencing pointer to incomplete type
../../../hbsocket.c:1560: error: dereferencing pointer to incomplete type
../../../hbsocket.c: In function `hb_socketAddrToItem':
../../../hbsocket.c:1654: error: `AF_INET6' undeclared (first use in
this function)
../../../hbsocket.c:1655: error: invalid application of `sizeof' to
incomplete type `sockaddr_in6'
../../../hbsocket.c:1655: warning: comparison of unsigned expression
>= 0 is always true
../../../hbsocket.c:1660: error: `INET6_ADDRSTRLEN' undeclared (first
use in this function)
../../../hbsocket.c:1661: error: dereferencing pointer to incomplete type
../../../hbsocket.c:1673: error: dereferencing pointer to incomplete type
../../../hbsocket.c:1673: error: dereferencing pointer to incomplete type
../../../hbsocket.c:1673: error: dereferencing pointer to incomplete type
../../../hbsocket.c:1673: error: dereferencing pointer to incomplete type
../../../hbsocket.c:1660: warning: unused variable `buf'
../../../hbsocket.c: In function `hb_socketClose':
../../../hbsocket.c:1900: warning: implicit declaration of function
`closesocket'
../../../hbsocket.c: In function `hb_socketShutdown':
../../../hbsocket.c:1926: error: `SD_RECEIVE' undeclared (first use in
this function)
../../../hbsocket.c:1928: error: `SD_SEND' undeclared (first use in
this function)
../../../hbsocket.c:1930: error: `SD_BOTH' undeclared (first use in
this function)
../../../hbsocket.c: In function `hb_socketSetBlockingIO':
../../../hbsocket.c:2239: warning: implicit declaration of function
`ioctlsocket'
../../../hbsocket.c: In function `hb_socketSetMulticast':
../../../hbsocket.c:2336: error: storage size of 'mreq' isn't known
../../../hbsocket.c:2337: error: `AF_INET6' undeclared (first use in
this function)
../../../hbsocket.c:2341: error: `IPPROTO_IPV6' undeclared (first use
in this function)
../../../hbsocket.c:2341: error: `IPV6_JOIN_GROUP' undeclared (first
use in this function)
../../../hbsocket.c:2336: warning: unused variable `mreq'
../../../hbsocket.c: In function `hb_socketResolveAddr':
../../../hbsocket.c:2552: error: storage size of 'hints' isn't known
../../../hbsocket.c:2558: warning: implicit declaration of function
`getaddrinfo'
../../../hbsocket.c:2560: error: dereferencing pointer to incomplete type
../../../hbsocket.c:2560: error: dereferencing pointer to incomplete type
../../../hbsocket.c:2561: warning: implicit declaration of function
`freeaddrinfo'
../../../hbsocket.c:2552: warning: unused variable `hints'
../../../hbsocket.c: In function `hb_socketGetHosts':
../../../hbsocket.c:2671: error: storage size of 'hints' isn't known
../../../hbsocket.c:2687: error: dereferencing pointer to incomplete type
../../../hbsocket.c:2696: error: dereferencing pointer to incomplete type
../../../hbsocket.c:2696: error: dereferencing pointer to incomplete type
../../../hbsocket.c:2715: error: dereferencing pointer to incomplete type
../../../hbsocket.c:2671: warning: unused variable `hints'
make[3]: *** [hbsocket.o] Error 1
---

Brgds,
Viktor
From toninhofwi at yahoo.com.br  Fri Aug 14 12:57:10 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Fri Aug 14 12:55:59 2009
Subject: [Harbour] Re: Harbour OLE and byref
In-Reply-To: <20090814135227.GA17393@uran.home.aster.pl>
References: <d82485dfd7srh8li6gkb1m7t8ikjpamu29@4ax.com>
	<20090812010747.GA12481@uran.home.aster.pl>
	<m8b58558n673bj90e6oa7a0j34vai8gceh@4ax.com>
	<20090812162824.GA3021@uran.home.aster.pl>
	<lef885ho9ini09adi46f779qtjr2ljosd9@4ax.com>
	<20090814091327.GA15528@uran.home.aster.pl>
	<5oka85575e2r49531mau3oiqc37kj90l3j@4ax.com>
	<20090814125114.GA14401@uran.home.aster.pl>
	<q6qa85pkvnsjvedj5h5dnso44fenjkdgd3@4ax.com>
	<20090814135227.GA17393@uran.home.aster.pl>
Message-ID: <8g5b851t6f9iliqr3s0hv56gggtdl9udtg@4ax.com>

Hi Przemek,

>Thank you for your test but you added above if() statement to wrong
>function hb_oleItemToVariantRef() and I asked about hb_oleVariantToItem().
>To avoid possible typos I'll commit some modifications to olecore.c
>and I'll add code disabled by '#if 0' which uses such alternative
>method of passing parameters by reference.
>Please change it to '#if 1' and repeat your tests.

Sorry, now I tested it right. 

Only to you understand scenario, I have a simple call:

---cut---
local nRet:= 1, cTitular := "", cCnpj := "", cNumeroSerie := "",
cEmissor := "", cInicioValidade := "", cFimValidade := "", cMensagem
:= ""
nRet = ::oNFEUtil:PegaDadosCertificado( ::cCertificado, @cMensagem,
@cTitular, @cCnpj, @cNumeroSerie, @cEmissor, @cInicioValidade,
@cFimValidade )
---cut---

Without latest changes, I receive all 7 vars correct and all types are
"C".

With new ole I receive ONLY 4 first vars correct, type "C" and tle
last 3 vars is NIL type "U"


Thanks and Regards,

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From kadziola at tlen.pl  Fri Aug 14 13:20:23 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Fri Aug 14 13:19:33 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <20090814125427.GA1160@uran.home.aster.pl>
References: <1842013556.20090813105456@tlen.pl>
	<20090814093713.GA17735@uran.home.aster.pl>
	<1052958573.20090814121839@tlen.pl>
	<20090814104242.GA10972@uran.home.aster.pl>
	<172270173.20090814132029@tlen.pl>
	<20090814115218.GA25026@uran.home.aster.pl>
	<20090814120358.GA25802@uran.home.aster.pl>
	<1103015677.20090814143145@tlen.pl>
	<20090814125427.GA1160@uran.home.aster.pl>
Message-ID: <162593182.20090814191923@tlen.pl>

Hi,

W li?cie datowanym 14 sierpnia 2009 (14:54:27) napisano:

> [pi?tek, 14 sierpie? 2009], Jaroslaw Kadziola napisa?(a):
>> PC>    2009-08-14 14:00 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>> PC> If you confirm it works then I also update __run() and hb_run() in
>> PC> WinCE builds to not use system() command.
>> Thanks. I'll do it in the evening.

> Thanks. In such case I'll update __run() and hb_run() in a while
> so you can test also them.

Unfortunately the same errors -1/87 after download hbproces.c from SVN
and build all libraries for WinCE.


Regards,
Jaroslaw Kadziola


From druzus at acn.waw.pl  Fri Aug 14 13:24:15 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 14 13:24:30 2009
Subject: [Harbour] poccarm link error
In-Reply-To: <18d502870908140907s48af89f4ub573bd66d4a89fcd@mail.gmail.com>
References: <18d502870908140832n66aa2af5o1f54acdd25f7b630@mail.gmail.com>
	<20090814154220.GA6345@uran.home.aster.pl>
	<18d502870908140907s48af89f4ub573bd66d4a89fcd@mail.gmail.com>
Message-ID: <20090814172415.GB17730@uran.home.aster.pl>

On Fri, 14 Aug 2009, Szak?ts Viktor wrote:
> It's not over yet though :( Here's the next new one:
> ---
> pocc.exe  -I. -Ze -Go -W1 -Ot -Tarm-coff -D_M_ARM -D_WINCE
> -I../../../../../include    -DUNICODE -Foolecore.obj -c
> ../../../olecore.c
> ../../../olecore.c(239): error #2152: Unknown field 'llVal' of 'union
> (no name)'.
> ../../../olecore.c(247): error #2152: Unknown field 'pllVal' of 'union
> (no name)'.
> ../../../olecore.c(247): error #2152: Unknown field 'llVal' of 'union
> (no name)'.
> ../../../olecore.c(247): error #2168: Operands of = have incompatible
> types 'int' and 'int *'.
> ../../../olecore.c(490): error #2152: Unknown field 'llVal' of 'union
> (no name)'.
> ../../../olecore.c(501): error #2152: Unknown field 'pllVal' of 'union
> (no name)'.
> ../../../olecore.c(501): error #2144: Type error: pointer expected.
> ../../../olecore.c(534): error #2152: Unknown field 'ullVal' of 'union
> (no name)'.
> ../../../olecore.c(546): error #2152: Unknown field 'pullVal' of
> 'union (no name)'.
> ../../../olecore.c(546): error #2144: Type error: pointer expected.
> mingw32-make.exe[3]: *** [olecore.obj] Error 1
> ---

Some compilers does not support LONGLONG values in their OLE header files.
For MinGW and older OpenWatcom builds I added HB_OLE_NO_LLREF as workaround.
For POCC for WinCE and DigitalMars we will have to add workaround also for
llVal covered by some other macro, i.e. HB_OLE_NO_LLVAL
I'll be offline for a weekend so I'll add it later, meanwhile you can
define in olecore.c HB_LONG_LONG_OFF as ugly workaround for this compiler.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Aug 14 13:20:10 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 14 13:31:17 2009
Subject: [Harbour] Re: Harbour OLE and byref
In-Reply-To: <8g5b851t6f9iliqr3s0hv56gggtdl9udtg@4ax.com>
References: <20090812010747.GA12481@uran.home.aster.pl>
	<m8b58558n673bj90e6oa7a0j34vai8gceh@4ax.com>
	<20090812162824.GA3021@uran.home.aster.pl>
	<lef885ho9ini09adi46f779qtjr2ljosd9@4ax.com>
	<20090814091327.GA15528@uran.home.aster.pl>
	<5oka85575e2r49531mau3oiqc37kj90l3j@4ax.com>
	<20090814125114.GA14401@uran.home.aster.pl>
	<q6qa85pkvnsjvedj5h5dnso44fenjkdgd3@4ax.com>
	<20090814135227.GA17393@uran.home.aster.pl>
	<8g5b851t6f9iliqr3s0hv56gggtdl9udtg@4ax.com>
Message-ID: <20090814172010.GA17730@uran.home.aster.pl>

On Fri, 14 Aug 2009, Toninho@fwi wrote:

Hi,

> Only to you understand scenario, I have a simple call:
> ---cut---
> local nRet:= 1, cTitular := "", cCnpj := "", cNumeroSerie := "",
> cEmissor := "", cInicioValidade := "", cFimValidade := "", cMensagem
> := ""
> nRet = ::oNFEUtil:PegaDadosCertificado( ::cCertificado, @cMensagem,
> @cTitular, @cCnpj, @cNumeroSerie, @cEmissor, @cInicioValidade,
> @cFimValidade )
> ---cut---
> Without latest changes, I receive all 7 vars correct and all types are
> "C".
> With new ole I receive ONLY 4 first vars correct, type "C" and tle
> last 3 vars is NIL type "U"

OK, thank you. So I'll left this code commented by #if 0
Maybe somewhere in the future we will return to this subject.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Aug 14 13:36:43 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 14 13:36:59 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <162593182.20090814191923@tlen.pl>
References: <1842013556.20090813105456@tlen.pl>
	<20090814093713.GA17735@uran.home.aster.pl>
	<1052958573.20090814121839@tlen.pl>
	<20090814104242.GA10972@uran.home.aster.pl>
	<172270173.20090814132029@tlen.pl>
	<20090814115218.GA25026@uran.home.aster.pl>
	<20090814120358.GA25802@uran.home.aster.pl>
	<1103015677.20090814143145@tlen.pl>
	<20090814125427.GA1160@uran.home.aster.pl>
	<162593182.20090814191923@tlen.pl>
Message-ID: <20090814173643.GA30218@uran.home.aster.pl>

[pi?tek, 14 sierpie? 2009], Jaroslaw Kadziola napisa?(a):

Hi,

> > Thanks. In such case I'll update __run() and hb_run() in a while
> > so you can test also them.
> Unfortunately the same errors -1/87 after download hbproces.c from SVN
> and build all libraries for WinCE.

I hope that you haven't tested hb_processOpen() which I haven't updated
for WinCE builds.

If current hb_processRun() fails then please try to change in
hbproces.c[219]:

   fError = ! CreateProcess( NULL,           /* lpAppName */
                             lpCommand,      /* lpCommandLine */

to:

   fError = ! CreateProcess( lpCommand,      /* lpAppName */
                             NULL,           /* lpCommandLine */

or:

   fError = ! CreateProcess( lpCommand,      /* lpAppName */
                             TEXT( "" ),     /* lpCommandLine */

or:
   fError = ! CreateProcess( lpCommand,      /* lpAppName */
                             lpCommand,      /* lpCommandLine */

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Aug 14 13:37:14 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug 14 13:37:22 2009
Subject: [Harbour] poccarm link error
In-Reply-To: <20090814172415.GB17730@uran.home.aster.pl>
References: <18d502870908140832n66aa2af5o1f54acdd25f7b630@mail.gmail.com>
	<20090814154220.GA6345@uran.home.aster.pl>
	<18d502870908140907s48af89f4ub573bd66d4a89fcd@mail.gmail.com>
	<20090814172415.GB17730@uran.home.aster.pl>
Message-ID: <F7C32241-714D-45B0-BAE6-39DA07F2F6A3@syenar.hu>

> On Fri, 14 Aug 2009, Szak?ts Viktor wrote:
>> It's not over yet though :( Here's the next new one:
>> ---
>> pocc.exe  -I. -Ze -Go -W1 -Ot -Tarm-coff -D_M_ARM -D_WINCE
>> -I../../../../../include    -DUNICODE -Foolecore.obj -c
>> ../../../olecore.c
>> ../../../olecore.c(239): error #2152: Unknown field 'llVal' of 'union
>> (no name)'.
>> ../../../olecore.c(247): error #2152: Unknown field 'pllVal' of  
>> 'union
>> (no name)'.
>> ../../../olecore.c(247): error #2152: Unknown field 'llVal' of 'union
>> (no name)'.
>> ../../../olecore.c(247): error #2168: Operands of = have incompatible
>> types 'int' and 'int *'.
>> ../../../olecore.c(490): error #2152: Unknown field 'llVal' of 'union
>> (no name)'.
>> ../../../olecore.c(501): error #2152: Unknown field 'pllVal' of  
>> 'union
>> (no name)'.
>> ../../../olecore.c(501): error #2144: Type error: pointer expected.
>> ../../../olecore.c(534): error #2152: Unknown field 'ullVal' of  
>> 'union
>> (no name)'.
>> ../../../olecore.c(546): error #2152: Unknown field 'pullVal' of
>> 'union (no name)'.
>> ../../../olecore.c(546): error #2144: Type error: pointer expected.
>> mingw32-make.exe[3]: *** [olecore.obj] Error 1
>> ---
>
> Some compilers does not support LONGLONG values in their OLE header  
> files.
> For MinGW and older OpenWatcom builds I added HB_OLE_NO_LLREF as  
> workaround.
> For POCC for WinCE and DigitalMars we will have to add workaround  
> also for
> llVal covered by some other macro, i.e. HB_OLE_NO_LLVAL
> I'll be offline for a weekend so I'll add it later, meanwhile you can
> define in olecore.c HB_LONG_LONG_OFF as ugly workaround for this  
> compiler.

Thank you. For me it's not urgent at all, I was just doing some random
platform tests. It can surely wait till next week. Have a nice time, see
you in a few.

[ Today I may visit Sziget Fesztival, so I'll be off too for a while. ]

Brgds,
Viktor

From bruno.luciani at gmail.com  Fri Aug 14 13:40:04 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Aug 14 13:40:14 2009
Subject: [Harbour] ORDWILDSEEK() exist in harbour ?
In-Reply-To: <b0552e6d0908122001r38ab397cnd502cb94a6fdf9ed@mail.gmail.com>
References: <133778360908100857o2c201c9eua0f4e4c48b983c34@mail.gmail.com>
	<b0552e6d0908122001r38ab397cnd502cb94a6fdf9ed@mail.gmail.com>
Message-ID: <133778360908141040u1186535cwa77aa8b56aac5486@mail.gmail.com>

ok Thanks

bruno

2009/8/13 Rodrigo Machado <rodrigo@flaro.net>

> yes exist...
>
> ?Estas buscando alg?n numero telef?nico? www.teleguia.com.py
>
> *:-.,_,.-:*'``'*:-.,_,.-:*:-.,_,.-:*'``'*:-.,_,.-:
>       :: Rodrigo Machado ::
>           FlaRo Sistemas
>            www.flaro.net
>
>       Telef:  0673 221 480
> *:-.,_,.-:*'``'*:-.,_,.-:*:-.,_,.-:*'``'*:-.,_,.-:
>
>
> 2009/8/10 Bruno Luciani <bruno.luciani@gmail.com>
>
>> This function exist in harbour  ?
>>
>> ORDWILDSEEK()
>>
>> Thanks in advance
>>
>> Bruno
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090814/bd7ec2e2/attachment.html
From druzus at acn.waw.pl  Fri Aug 14 13:30:22 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 14 13:41:15 2009
Subject: [Harbour] cygwin new compile errors
In-Reply-To: <18d502870908140922k1e47a1d3i580d76a799b93da9@mail.gmail.com>
References: <18d502870908140922k1e47a1d3i580d76a799b93da9@mail.gmail.com>
Message-ID: <20090814173022.GC17730@uran.home.aster.pl>

On Fri, 14 Aug 2009, Szak?ts Viktor wrote:
> ---
> ../../../hbsocket.c:179:1: warning: "socklen_t" redefined
> In file included from /usr/include/sys/socket.h:15,
>                  from ../../../hbsocket.c:167:
> /usr/include/cygwin/socket.h:24:1: warning: this is the location of
> the previous definition
> ../../../hbsocket.c: In function `hb_socketInit':
> ../../../hbsocket.c:698: error: `WSADATA' undeclared (first use in
> this function)
> ../../../hbsocket.c:698: error: (Each undeclared identifier is
> reported only once
[...]

look at the definitions at beginning of hbsocket.h and do not enable
any extensions like HB_HAS_INET6 for CYGWIN builds in HB_OS_UNIX
section or simply change:

   #if defined( HB_OS_UNIX )
   #  define HB_HAS_UNIX

to:

   #if defined( HB_OS_UNIX ) && !defined( __CYGWIN__ )
   #  define HB_HAS_UNIX

and add befor:

   #if defined( HB_OS_OS2 ) || defined( HB_OS_WIN )
   #  define socklen_t int
   #endif

smal hack with:

   #undef HB_OS_WIN

It should help.
When I'll be back I can look at it closer.

best regards,
Przemek
From toninhofwi at yahoo.com.br  Fri Aug 14 14:07:27 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Fri Aug 14 14:06:15 2009
Subject: [Harbour] Re: Harbour OLE and byref
In-Reply-To: <20090814172010.GA17730@uran.home.aster.pl>
References: <m8b58558n673bj90e6oa7a0j34vai8gceh@4ax.com>
	<20090812162824.GA3021@uran.home.aster.pl>
	<lef885ho9ini09adi46f779qtjr2ljosd9@4ax.com>
	<20090814091327.GA15528@uran.home.aster.pl>
	<5oka85575e2r49531mau3oiqc37kj90l3j@4ax.com>
	<20090814125114.GA14401@uran.home.aster.pl>
	<q6qa85pkvnsjvedj5h5dnso44fenjkdgd3@4ax.com>
	<20090814135227.GA17393@uran.home.aster.pl>
	<8g5b851t6f9iliqr3s0hv56gggtdl9udtg@4ax.com>
	<20090814172010.GA17730@uran.home.aster.pl>
Message-ID: <ns9b85hvc3emcaj58ih6fk0a0fddvc5fnu@4ax.com>

>OK, thank you. So I'll left this code commented by #if 0
>Maybe somewhere in the future we will return to this subject.

Hi Przemek.  I thank you.

Due to your changes I can use OLE byref with no problems.

Best regards,

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From vszakats at users.sourceforge.net  Fri Aug 14 14:10:22 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 14 14:10:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12114] trunk/harbour
Message-ID: <E1Mc1EM-0006ng-HL@d5vjzd1.ch3.sourceforge.com>

Revision: 12114
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12114&view=rev
Author:   vszakats
Date:     2009-08-14 18:10:21 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-14 20:08 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/rtl/hbsocket.c
    ! Applied fix for Cygwin as per Przemek's instructions.
      (I've guarded #undef HB_OS_WIN with defined( __CYGWIN_ ))

  * INSTALL
    - Deleted some by now irrelevant restrictions and rules.
    + Added pointers to NT GNU Make, DJ GNU Make and OS/2 GNU Make.
    + Added HB_COMPILER/HB_ARCHITECTURE to option list. These
      should now be mostly optional. They are only needed in a
      few situations when autodetection cannot work (secondary pocc
      targets for example), or in cross build situations when
      we want to force some non-native configuration.
    % Deleted HB_INSTALL_PREFIX from examples. It's optional.
    % Deleted all settings which are now autodetected.
      I didn't retest them of course, please try them, and if
      something was removed by mistake pls report it.
      The reduction is quite dramatic. Starting the build is
      really only just starting GNU Make in most cases.
    % Converted *all* examples to not use starter script/batch 
      files. As a next step I'll probably delete them to make 
      even *less* choices for builders and because current 
      starter files don't offer anything interesting anymore.
      Maybe also included GNU Make executable will also be 
      deleted.
    % Simplified Cygwin example.

  * make_gnu.bat
    - Deleted Cygwin logic.
    ; I just realized that after all these GNU Make development,
      there is no need at all for make_gnu.sh for Cygwin and it's
      a no brainer to launch make either using NT shell or Cygwin/MSYS
      shell. It just works by starting GNU Make in whichever shell
      or environment you are. [ Well, with NT shell it doesn't seem
      to work because gcc.exe is named gcc-3.exe on my system,
      anyway, this doesn't change the point. ]
      The only remaining "complexity" is finding the name of GNU
      Make in a given environment and not use the wrong one
      (f.e. Cygwin make.exe in NT shell).

  * config/global.cf
    + Added svnversion output in verbose mode.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.cf
    trunk/harbour/make_gnu.bat
    trunk/harbour/source/rtl/hbsocket.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Fri Aug 14 14:44:16 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Fri Aug 14 14:43:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12114] trunk/harbour
In-Reply-To: <E1Mc1EM-0006ng-HL@d5vjzd1.ch3.sourceforge.com>
References: <E1Mc1EM-0006ng-HL@d5vjzd1.ch3.sourceforge.com>
Message-ID: <fubb85h5qkkf6l4mqltrrcq5h2ralhonek@4ax.com>

Hi VIktor.

>    + Added HB_COMPILER/HB_ARCHITECTURE to option list. These
>      should now be mostly optional. 

Maybe I?m missing something but now I receive this error with clean
build:

'mingw32-make.exe' nao foi reconhecido como um comando interno
ou externo, um programa operavel ou um arquivo em lotes.
Harbour GNU Make returned: 9009


my .BAT file is:

---cut---
cd\harbour
set HB_INSTALL_PREFIX=c:\harbouri
set PATH=c:\bcc\bin;%PATH%
set LIB=c:\bcc\lib;c:\bcc\lib\psdk
set HB_USER_CFLAGS=-DHB_GUI -DHB_FM_STATISTICS_OFF -DHB_NO_PROFILER
-DADS_LIB_VERSION=700 -DHB_HASH_MSG_ITEMS -DHB_NO_DEBUG
-DHB_LEGACY_OFF -DHB_FM_STD_ALLOC
set HB_COMPILER=bcc
set HB_ARCHITECTURE=win
set HB_CONTRIBLIBS=no
set HB_EXTERNALLIBS=no
set HB_CONTRIB_ADDONS=rddads hbct hbmzip hbwin hbtip xhb
set HB_INC_ADS=e:\harbour\ads\acesdk
set ADS_VER=7
del log-%HB_COMPILER%.txt
call make_gnu.bat install > log-%HB_COMPILER%.txt 2>&1
---cut---

Thanks and best regards,

Toninho.

__________________________________________________
Fa?a liga??es para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From harbour.01 at syenar.hu  Fri Aug 14 14:50:38 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 14 14:50:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12114] trunk/harbour
In-Reply-To: <fubb85h5qkkf6l4mqltrrcq5h2ralhonek@4ax.com>
References: <E1Mc1EM-0006ng-HL@d5vjzd1.ch3.sourceforge.com>
	<fubb85h5qkkf6l4mqltrrcq5h2ralhonek@4ax.com>
Message-ID: <18d502870908141150g3bdf51fj2e4016ca6018c3bf@mail.gmail.com>

Hi Toninho,

Please don't use make_gnu.bat anymore.

Instead, either run mingw32-make.exe from your path (see INSTALL how to
get this file), or use the still provided config/mingw32-make.exe (you can even
copy that to your PATH).

[ config/mingw32-make.exe may be deleted in the near future from repository
due to possible licensing issues, so it's better to have this file in PATH. ]

Here is an optimized env with same effect:

> ---cut---
> cd\harbour
> set HB_INSTALL_PREFIX=c:\harbouri
> set PATH=c:\bcc\bin;%PATH%
> set LIB=c:\bcc\lib;c:\bcc\lib\psdk
> set HB_USER_CFLAGS=-DHB_GUI -DHB_NO_PROFILER -DADS_LIB_VERSION=700 -DHB_HASH_MSG_ITEMS -HB_NO_DEBUG -DHB_LEGACY_OFF -DHB_FM_STD_ALLOC
> set HB_CONTRIBLIBS=rddads hbct hbmzip hbwin hbtip xhb
> set HB_EXTERNALLIBS=no
> set HB_INC_ADS=e:\harbour\ads\acesdk
> mingw32-make install > log.txt 2>&1
> ---cut---


Brgds,
Viktor

2009/8/14 Toninho@fwi <toninhofwi@yahoo.com.br>:
> Hi VIktor.
>
>> ? ?+ Added HB_COMPILER/HB_ARCHITECTURE to option list. These
>> ? ? ?should now be mostly optional.
>
> Maybe I?m missing something but now I receive this error with clean
> build:
>
> 'mingw32-make.exe' nao foi reconhecido como um comando interno
> ou externo, um programa operavel ou um arquivo em lotes.
> Harbour GNU Make returned: 9009
>
>
> my .BAT file is:
>
> ---cut---
> cd\harbour
> set HB_INSTALL_PREFIX=c:\harbouri
> set PATH=c:\bcc\bin;%PATH%
> set LIB=c:\bcc\lib;c:\bcc\lib\psdk
> set HB_USER_CFLAGS=-DHB_GUI -DHB_FM_STATISTICS_OFF -DHB_NO_PROFILER
> -DADS_LIB_VERSION=700 -DHB_HASH_MSG_ITEMS -DHB_NO_DEBUG
> -DHB_LEGACY_OFF -DHB_FM_STD_ALLOC
> set HB_COMPILER=bcc
> set HB_ARCHITECTURE=win
> set HB_CONTRIBLIBS=no
> set HB_EXTERNALLIBS=no
> set HB_CONTRIB_ADDONS=rddads hbct hbmzip hbwin hbtip xhb
> set HB_INC_ADS=e:\harbour\ads\acesdk
> set ADS_VER=7
> del log-%HB_COMPILER%.txt
> call make_gnu.bat install > log-%HB_COMPILER%.txt 2>&1
> ---cut---
>
> Thanks and best regards,
>
> Toninho.
>
> __________________________________________________
> Fa?a liga??es para outros computadores com o novo Yahoo! Messenger
> http://br.beta.messenger.yahoo.com/
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From vszakats at users.sourceforge.net  Fri Aug 14 14:52:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 14 14:52:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12115] trunk/harbour
Message-ID: <E1Mc1tE-0001wt-Az@bj8yhf1.ch3.sourceforge.com>

Revision: 12115
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12115&view=rev
Author:   vszakats
Date:     2009-08-14 18:52:35 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-14 20:52 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    % Deleted HB_BIN_COMPILE config lines. Replaced by requirement
      of preceding native build.

  * make_gnu.bat
    ! Typos.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/make_gnu.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From toninhofwi at yahoo.com.br  Fri Aug 14 14:57:53 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Fri Aug 14 14:56:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12114] trunk/harbour
In-Reply-To: <18d502870908141150g3bdf51fj2e4016ca6018c3bf@mail.gmail.com>
References: <E1Mc1EM-0006ng-HL@d5vjzd1.ch3.sourceforge.com>
	<fubb85h5qkkf6l4mqltrrcq5h2ralhonek@4ax.com>
	<18d502870908141150g3bdf51fj2e4016ca6018c3bf@mail.gmail.com>
Message-ID: <kscb85h4878o04rkr45va3e9375m9prv17@4ax.com>

>Please don't use make_gnu.bat anymore.
>Here is an optimized env with same effect:

Thank you.

Regards,

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From vszakats at users.sourceforge.net  Fri Aug 14 16:35:54 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 14 16:36:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12116] trunk/harbour
Message-ID: <E1Mc3VC-00041Z-En@c3vjzd1.ch3.sourceforge.com>

Revision: 12116
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12116&view=rev
Author:   vszakats
Date:     2009-08-14 20:35:48 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-14 22:33 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/pp/Makefile
    ! Fixed to not throw harmless but still confusing error
      messages when cleaning hbpp binary parts.

  * bin/hb-mkdyn.bat
    % Minor optimization in initialization.

  - make_gnu_os2.cmd
  - make_gnu.bat
    - Deleted these starter batch files.
    ; Please use 'mingw32-make' (if installed in PATH) or
      'config/mingw32-make' (if not installed in PATH) instead.
      OS/2 users should use 'make'.
    ; OS/2 users will have to add:
      set HB_USER_CFLAGS=-DTCPV40HDRS
      to local configuration unless they used:
      set HB_OS2_TCP32=yes
      I'd like to ask OS/2 users to add (now deleted) related
      documentation to one of our docs: INSTALL or include/hbsetup.h.
      Since this was a setting to disable some default setup,
      we can readd this setting with another name to
      config/global.cf if needed. Pls tell me about it.
    ; TODO: Delete make_gnu.sh and/or integrate make_gnu_xmingw*.sh.
            There is still two things which is done by make_gnu.sh:
              - Detection for -fPIC option.
              - Setting HB_INSTALL_PREFIX to system location.
                  (I don't like this, but it seems to be standard
                  behaviour on Linux, so we may want to change GNU Make
                  default logic according to that)
    ; TODO: Move mpkg_*.sh files with related support files to /package.
            Best would be to integrate them to postinst.sh.

  * INSTALL
    + Added TOFIX to one example: djgpp with NT shell will choke on
      too long cmdline when building external/libhpdf.
    ; TOFIX: see above. (if possible. If it's too complicated we
             should simply drop this scenario, after all DJGPP GNU 
             Make also works well.

  * contrib/gtalleg/Makefile
  * contrib/hbmysql/Makefile
  * contrib/hbodbc/Makefile
  * contrib/hbsqlit3/Makefile
  * contrib/hbqt/Makefile
  * contrib/hbfbird/Makefile
  * contrib/hbxbp/Makefile
  * contrib/hbcurl/Makefile
  * contrib/gtqtc/Makefile
  * contrib/rddsql/sddmy/Makefile
  * contrib/rddsql/sddpg/Makefile
  * contrib/rddsql/sddfb/Makefile
  * contrib/rddsql/sddodbc/Makefile
  * contrib/hbhpdf/Makefile
  * contrib/gtwvg/Makefile
  * contrib/hbpgsql/Makefile
  * contrib/rddads/Makefile
  * contrib/hbfimage/Makefile
  * contrib/hbgd/Makefile
  * contrib/hbwin/Makefile
    + Indentation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/contrib/gtalleg/Makefile
    trunk/harbour/contrib/gtqtc/Makefile
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/hbcurl/Makefile
    trunk/harbour/contrib/hbfbird/Makefile
    trunk/harbour/contrib/hbfimage/Makefile
    trunk/harbour/contrib/hbgd/Makefile
    trunk/harbour/contrib/hbhpdf/Makefile
    trunk/harbour/contrib/hbmysql/Makefile
    trunk/harbour/contrib/hbodbc/Makefile
    trunk/harbour/contrib/hbpgsql/Makefile
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbsqlit3/Makefile
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbxbp/Makefile
    trunk/harbour/contrib/rddads/Makefile
    trunk/harbour/contrib/rddsql/sddfb/Makefile
    trunk/harbour/contrib/rddsql/sddmy/Makefile
    trunk/harbour/contrib/rddsql/sddodbc/Makefile
    trunk/harbour/contrib/rddsql/sddpg/Makefile
    trunk/harbour/source/pp/Makefile

Removed Paths:
-------------
    trunk/harbour/make_gnu.bat
    trunk/harbour/make_gnu_os2.cmd


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From kadziola at tlen.pl  Fri Aug 14 16:37:23 2009
From: kadziola at tlen.pl (=?utf-8?B?SmFyb3PFgmF3IEvEhWR6aW/FgmE=?=)
Date: Fri Aug 14 16:36:13 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <20090814173643.GA30218@uran.home.aster.pl>
References: <1842013556.20090813105456@tlen.pl>
	<20090814093713.GA17735@uran.home.aster.pl>
	<1052958573.20090814121839@tlen.pl>
	<20090814104242.GA10972@uran.home.aster.pl>
	<172270173.20090814132029@tlen.pl>
	<20090814115218.GA25026@uran.home.aster.pl>
	<20090814120358.GA25802@uran.home.aster.pl>
	<1103015677.20090814143145@tlen.pl>
	<20090814125427.GA1160@uran.home.aster.pl>
	<162593182.20090814191923@tlen.pl>
	<20090814173643.GA30218@uran.home.aster.pl>
Message-ID: <1218769846.20090814223723@tlen.pl>

Witam,

W li?cie datowanym 14 sierpnia 2009 (19:36:43) mo?na przeczyta?:

> [pi?tek, 14 sierpie? 2009], Jaroslaw Kadziola napisa?(a):

> Hi,

>> > Thanks. In such case I'll update __run() and hb_run() in a while
>> > so you can test also them.
>> Unfortunately the same errors -1/87 after download hbproces.c from SVN
>> and build all libraries for WinCE.

> I hope that you haven't tested hb_processOpen() which I haven't updated
> for WinCE builds.

> If current hb_processRun() fails then please try to change in
> hbproces.c[219]:

>    fError = ! CreateProcess( NULL,           /* lpAppName */
>                              lpCommand,      /* lpCommandLine */

> to:

>    fError = ! CreateProcess( lpCommand,      /* lpAppName */
>                              NULL,           /* lpCommandLine */

This shot was OK, now hb_processRun() is OK. Thanks


-- 
Regards,
Jaros?aw K?dzio?a


From vszakats at users.sourceforge.net  Fri Aug 14 18:00:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 14 18:00:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12117] trunk/harbour
Message-ID: <E1Mc4p7-0005gw-7z@c3vjzd1.ch3.sourceforge.com>

Revision: 12117
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12117&view=rev
Author:   vszakats
Date:     2009-08-14 22:00:32 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-14 23:55 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Separated instructions for linux/darwin and rest of *nixes.
      The only difference is that the latter needs 'gmake' command
      to start.
    + MSYS/Cygwin section extended a bit. (It's now possible to
      build for any compilers from MSYS/Cygwin)

  * make_gnu.sh
    % Deleted unused HB_ARCH64 variable.

  * config/global.cf
    - Deleted svnversion trick since it's not guaranteed this
      command is present on builder's system.
    + Added doc links from make_gnu.sh. (deleted from there)
    * Changed to default HB_INSTALL_PREFIX to /usr/local on
      *nix systems. I very much don't like this (even though I
      understand why it's done that way).
    + Added {HB_TOP} macro for HB_INSTALL_PREFIX, so if someone
      wants to install Harbour in its own dir, it enough to do:
      export/set HB_INSTALL_PREFIX={HB_TOP}.
      This is crucial if someone doesn't want to "pollute" system
      areas with Harbour builds, doesn't want to use admin rights
      to make the install, or if someone wants to use multiple
      Harbour builds in parallel for any reason. hbmk2 works
      perfectly without Harbour being installed to system location.
    + Whenever HB_INSTALL_PREFIX is modified by GNU Make (defaulting
      or macro replacement), the new value will be presented for the
      user.
    % Minor optimization.
    * Minor cleanups to pkg dir assembling logic.

  * config/linux/global.cf
    + Added -fPIC detection logic. This is just a start, it doesn't
      replicate full logic found in make_gnu.sh. Przemek, if you have
      some spare time, please look into it.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.cf
    trunk/harbour/config/linux/global.cf
    trunk/harbour/make_gnu.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug 14 18:42:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 14 18:42:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12118] trunk/harbour
Message-ID: <E1Mc5TM-0003oV-Nm@d5vjzd1.ch3.sourceforge.com>

Revision: 12118
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12118&view=rev
Author:   vszakats
Date:     2009-08-14 22:42:07 +0000 (Fri, 14 Aug 2009)

Log Message:
-----------
2009-08-15 00:40 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
  * make_gnu.sh
  * config/global.cf
  * config/lib.cf
  * config/bin.cf
    % Deleted HB_USER_MAKEFLAGS envvar.
      Simply pass these flags to make executable (or .sh scripts)

  * config/global.cf
    + Added some TODO/NOTE/TOFIX about GNU Make version compatibility
      of some feature we're using.
    + Showing MAKEFLAGS.
    % Using MAKEFLAGS for --no-print-directory trick.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/bin.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/lib.cf
    trunk/harbour/make_gnu.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From francek.prijatelj at siol.net  Sat Aug 15 02:10:26 2009
From: francek.prijatelj at siol.net (=?windows-1250?Q?FRAN=C8EK_PRIJATELJ?=)
Date: Sat Aug 15 02:10:34 2009
Subject: [Harbour] Build error
Message-ID: <4A865152.7000802@siol.net>

cl.exe -I../../../../../contrib/hbssl -nologo -I. 
-I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- -MT     
-Foutils.obj -c ../../../utils.c
utils.c
../../../../../bin/win/msvc/harbour.exe ../../../cgi.prg -n1 
-I../../../../../contrib/hbssl -i../../../../../include -q0 -w3 -es2 
-kmo -l -gc0   -b  -DHB_HAS_OPENSSL -DHB_HAS_OPENSSL
Warning W0001  Redefinition or duplicate definition of #define 
HB_HAS_OPENSSL

No code generated.
mingw32-make[3]: *** [cgi.c] Error 1
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [hbtip.inst] Error 2
mingw32-make: *** [contrib.inst] Error 2


My platform

! MAKE: mingw32-make 3.81 clean install  sh.exe
! HB_USER_PRGFLAGS:  -b
! HB_INSTALL_PREFIX: C:\HRB\msvc_D_Tr
! HB_BIN_INSTALL: C:\HRB\msvc_D_Tr\bin
! HB_LIB_INSTALL: C:\HRB\msvc_D_Tr\lib
! HB_INC_INSTALL: C:\HRB\msvc_D_Tr\include
! HB_DOC_INSTALL: C:\HRB\msvc_D_Tr\doc
! HB_BUILD_MODE: cpp
! HB_HOST_ARCH: win  HB_SHELL: nt
! HB_ARCHITECTURE: win
! HB_COMPILER: msvc
"! 'gtcrs' library skipped"
"! 'gtdos' library skipped"
"! 'gtos2' library skipped"
"! 'gtsln' library skipped"
"! 'gttrm' library skipped"
"! 'gtxwc' library skipped"
"! 'gtalleg' library skipped"
"! 'hbgd' library skipped"
"! 'rddads' library skipped"

Brgs

Fran?ek
-------------- next part --------------
A non-text attachment was scrubbed...
Name: francek_prijatelj.vcf
Type: text/x-vcard
Size: 182 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090815/5a5ce48d/francek_prijatelj.vcf
From harbour.01 at syenar.hu  Sat Aug 15 02:59:25 2009
From: harbour.01 at syenar.hu (=?WINDOWS-1250?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 15 02:59:35 2009
Subject: [Harbour] Build error
In-Reply-To: <4A865152.7000802@siol.net>
References: <4A865152.7000802@siol.net>
Message-ID: <9014F8C5-7B77-46B7-984C-9ABECEEF7631@syenar.hu>

This is a very very old problem, but only Harbour gives a
warning when redefining the same macro twice with same content,
I'll try to do something about it and I just now realized that
Harbour make uses a trick to relaunch itself even when making
a single target. I don't know the reason yet or whether it can
be eliminated. It would surely make life easier (and performance
better). If this doesn't succeed I'll do a different trick
to work this around.

Regardless of this fix, maybe Harbour PP could be modified to
not throw a warning when the redefinition is identical to the
original value, just like in C. Przemek, what's your opinion?

Brgds,
Viktor

On 2009.08.15., at 8:10, FRAN?EK PRIJATELJ wrote:

> cl.exe -I../../../../../contrib/hbssl -nologo -I. -I../../../../../ 
> include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- -MT     -Foutils.obj - 
> c ../../../utils.c
> utils.c
> ../../../../../bin/win/msvc/harbour.exe ../../../cgi.prg -n1 - 
> I../../../../../contrib/hbssl -i../../../../../include -q0 -w3 -es2 - 
> kmo -l -gc0   -b  -DHB_HAS_OPENSSL -DHB_HAS_OPENSSL
> Warning W0001  Redefinition or duplicate definition of #define  
> HB_HAS_OPENSSL
>
> No code generated.
> mingw32-make[3]: *** [cgi.c] Error 1
> mingw32-make[2]: *** [descend] Error 2
> mingw32-make[1]: *** [hbtip.inst] Error 2
> mingw32-make: *** [contrib.inst] Error 2
>
>
> My platform
>
> ! MAKE: mingw32-make 3.81 clean install  sh.exe
> ! HB_USER_PRGFLAGS:  -b
> ! HB_INSTALL_PREFIX: C:\HRB\msvc_D_Tr
> ! HB_BIN_INSTALL: C:\HRB\msvc_D_Tr\bin
> ! HB_LIB_INSTALL: C:\HRB\msvc_D_Tr\lib
> ! HB_INC_INSTALL: C:\HRB\msvc_D_Tr\include
> ! HB_DOC_INSTALL: C:\HRB\msvc_D_Tr\doc
> ! HB_BUILD_MODE: cpp
> ! HB_HOST_ARCH: win  HB_SHELL: nt
> ! HB_ARCHITECTURE: win
> ! HB_COMPILER: msvc
> "! 'gtcrs' library skipped"
> "! 'gtdos' library skipped"
> "! 'gtos2' library skipped"
> "! 'gtsln' library skipped"
> "! 'gttrm' library skipped"
> "! 'gtxwc' library skipped"
> "! 'gtalleg' library skipped"
> "! 'hbgd' library skipped"
> "! 'rddads' library skipped"
>
> Brgs
>
> Fran?ek
> <francek_prijatelj.vcf>_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sat Aug 15 05:37:40 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 15 05:37:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12119] trunk/harbour
Message-ID: <E1McFhk-0006os-Q4@74yxhf1.ch3.sourceforge.com>

Revision: 12119
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12119&view=rev
Author:   vszakats
Date:     2009-08-15 09:37:39 +0000 (Sat, 15 Aug 2009)

Log Message:
-----------
2009-08-15 11:21 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  - make_gnu.sh
  * config/linux/global.cf
    - Deleted. The -fPIC logic is moved to linux/global.cf but it's
      incomplete yet, some comments were added there.

  * contrib/hbcurl/hbcurl.hbc
  + contrib/hbcurl/hbcurls.hbc
    + Added separate .hbc file for static mode hbcurl lib.
      This replaces former HB_CURL_STATIC setting.

  * contrib/hbcurl/Makefile
  * external/Makefile
  * contrib/Makefile
    % Minor optimization to DIRS var.
      (in few cases it wasn't init to empty with := operator)

  + contrib/hbtip/hbtipssl.hbc
  + contrib/hbtip/hbtipssl
  + contrib/hbtip/hbtipssl/Makefile
  * contrib/hbtip/Makefile
    + Now building separate SSL enabled hbtip lib in case HB_HAS_OPENSSL.
    + Added separate .hbc file for SSL enabled hbtip lib, which also
      pulls hbssl libs and dependencies.

  * config/prg.cf
  * config/lib.cf
  * config/bin.cf
  * config/globsh.cf
  * config/dir.cf
  * config/c.cf
  * config/header.cf
  * config/doc.cf
  * config/instsh.cf
  * config/dirsh.cf
    % Optimized remaining (more delicate) logic to use :=
      instead of = assigment operator.
      At this point there is nothing left to optimize in this
      regard.
    ; I didn't restest parallel build and BISON related rules,
      please do so, I hope they aren't broken. Or in case you
      notice anything strange please shout.

  * config/global.cf
    + Added link to GNU Make NEWS files which describes at which release
      some features were added.

  * config/dos/watcom.cf
  * config/win/watcom.cf
  * config/os2/watcom.cf
    ! Synced special watcom CC_RULEs with recent changes to global CC_RULE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bin.cf
    trunk/harbour/config/c.cf
    trunk/harbour/config/dir.cf
    trunk/harbour/config/dirsh.cf
    trunk/harbour/config/doc.cf
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/globsh.cf
    trunk/harbour/config/header.cf
    trunk/harbour/config/instsh.cf
    trunk/harbour/config/lib.cf
    trunk/harbour/config/linux/global.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/prg.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/contrib/Makefile
    trunk/harbour/contrib/hbcurl/Makefile
    trunk/harbour/contrib/hbcurl/hbcurl.hbc
    trunk/harbour/contrib/hbtip/Makefile
    trunk/harbour/external/Makefile

Added Paths:
-----------
    trunk/harbour/contrib/hbcurl/hbcurls.hbc
    trunk/harbour/contrib/hbtip/hbtipssl/
    trunk/harbour/contrib/hbtip/hbtipssl/Makefile
    trunk/harbour/contrib/hbtip/hbtipssl.hbc

Removed Paths:
-------------
    trunk/harbour/make_gnu.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug 15 05:44:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 15 05:44:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12120] trunk/harbour
Message-ID: <E1McFob-0006x9-7w@74yxhf1.ch3.sourceforge.com>

Revision: 12120
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12120&view=rev
Author:   vszakats
Date:     2009-08-15 09:44:44 +0000 (Sat, 15 Aug 2009)

Log Message:
-----------
2009-08-15 11:44 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * make_gnu_xmingw.sh
  * make_gnu_xmingwce.sh
    ! Swapped references to make_gnu.sh to gmake/make launches.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/make_gnu_xmingw.sh
    trunk/harbour/make_gnu_xmingwce.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Sat Aug 15 05:47:36 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Aug 15 05:47:43 2009
Subject: [Harbour] How to build Harbour with latest SVN?
Message-ID: <8054FF7EBBFE4572B2C95F84A3FD2094@emag>

I tried

mingw32-make

but I'm not sure if it worked fine (it looked too fast). And the LOG file is 
not generated anymore.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Sat Aug 15 05:49:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 15 05:49:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12121] trunk/harbour
Message-ID: <E1McFsm-00072q-Fg@74yxhf1.ch3.sourceforge.com>

Revision: 12121
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12121&view=rev
Author:   vszakats
Date:     2009-08-15 09:49:03 +0000 (Sat, 15 Aug 2009)

Log Message:
-----------
2009-08-15 11:48 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Minor fix for darwin and automatic entry function detection using 'nm'.
      nm on Darwin doesn't seem to support '--defined-only -C' option.
      Przemek, please check this, maybe this hurts functionality.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Aug 15 06:01:16 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Aug 15 06:01:23 2009
Subject: [Harbour] How to build Harbour with latest SVN?
In-Reply-To: <8054FF7EBBFE4572B2C95F84A3FD2094@emag>
References: <8054FF7EBBFE4572B2C95F84A3FD2094@emag>
Message-ID: <18d502870908150301v70683947g787b22c5ee72fa64@mail.gmail.com>

Please check any examples in INSTALL:

F.e.:
---
      set PATH=C:\Borland\BCC55\Bin;%PATH%
      rem
      mingw32-make %1 %2 > log.txt 2>&1
---

Brgds,
Viktor

On Sat, Aug 15, 2009 at 11:47 AM, Enrico Maria
Giordano<e.m.giordano@emagsoftware.it> wrote:
> I tried
>
> mingw32-make
>
> but I'm not sure if it worked fine (it looked too fast). And the LOG file is
> not generated anymore.
>
> EMG
>
> --
> EMAG Software Homepage: ? ? http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page: ? ? ? ? http://www.emagsoftware.it/emgmusic
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From vszakats at users.sourceforge.net  Sat Aug 15 06:20:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 15 06:20:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12122] trunk/harbour
Message-ID: <E1McGNK-0001cW-Va@bj8yhf1.ch3.sourceforge.com>

Revision: 12122
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12122&view=rev
Author:   vszakats
Date:     2009-08-15 10:20:38 +0000 (Sat, 15 Aug 2009)

Log Message:
-----------
2009-08-15 12:39 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/none.cf
  * config/global.cf
  * config/instsh.cf
  * config/dirsh.cf
    ! Fixed minor visual glitch on non-sh shells where some echoed messages
      were shown inside double quotes.
      There is only one such but very rare message left in global.cf.

  * ChangeLog
    ! Typo in prev entry.

  * config/dos/djgpp.cf
    * Changed 'echo.' to 'echo' to make it shell independent just like
      all other echo commands in the make config files.
      Pre-2.02 DJGPP distros had an echo.exe, originally I may have
      added to dots to force using the shell echo instead of this external
      one. Quick tests made with djecho.exe (the new name of echo.exe)
      showed it working. Maybe old echo.exe had some bad side effects,
      I don't remember and ChangeLog entry doesn't have the reason.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dirsh.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/instsh.cf
    trunk/harbour/config/none.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sat Aug 15 06:47:47 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Aug 15 06:48:13 2009
Subject: [Harbour] gtwvwt is converted
Message-ID: <609353e70908150347x3797615fgd7c64f2dd02b062a@mail.gmail.com>

Hello,

Message from the forum comp.lang.xharbour stating that gtwvw been
converted, including the link to download (only comes with the
sources, ).

Message:

http://groups.google.com.br/group/comp.lang.xharbour/browse_thread/thread/6f15dbfb2877da01?hl=pt-BR#

Link to download:

http://www.datacempro.com.br/download/free/gtwvw.zip


I hope that work also with harbour
Now i accessing internet from htc/windows mobile and can't try

-- 
Massimo Belgrano
From rhfsystems at yahoo.com.br  Sat Aug 15 08:07:56 2009
From: rhfsystems at yahoo.com.br (Reynaldo Henrique)
Date: Sat Aug 15 08:08:02 2009
Subject: [Harbour] gtwvwt is converted
In-Reply-To: <609353e70908150347x3797615fgd7c64f2dd02b062a@mail.gmail.com>
References: <609353e70908150347x3797615fgd7c64f2dd02b062a@mail.gmail.com>
Message-ID: <1250338076829-3449749.post@n2.nabble.com>



Hi, Massimo Belgrano,


Yes, thanks to Christian Azambuja and Marson, and me, even! ;-) 
I was charging $ 2,500 to make it working, but at the same time, I was ready
to give all my support to the boys who were trying to resolve the causes
that prevented the GTWVW to work with xHarbour last releases. 
We made a great effort in parallel: on the one hand, by Christ Azambuja 
Marson... making it for free; on the other hand, I was trying to the job,
but I was charging $ 2,500 (aprox.) for my work. 
But the most important is that GTWVW continuations is done and we are
satisfied. 
Now, we have other challenges ahead, as do the wvwtools function
satisfactorily, because it depends largely on the WVW implementation done by
Budyanto (wvw creator). 

regards, 

Reynaldo Henrique


Massimo Belgrano wrote:
> 
> Hello,
> 
> Message from the forum comp.lang.xharbour stating that gtwvw been
> converted, including the link to download (only comes with the
> sources, ).
> 
> Message:
> 
> http://groups.google.com.br/group/comp.lang.xharbour/browse_thread/thread/6f15dbfb2877da01?hl=pt-BR#
> 
> Link to download:
> 
> http://www.datacempro.com.br/download/free/gtwvw.zip
> 
> 
> I hope that work also with harbour
> Now i accessing internet from htc/windows mobile and can't try
> 
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/gtwvwt-is-converted-tp3449587p3449749.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Sat Aug 15 08:10:16 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Aug 15 08:10:23 2009
Subject: [Harbour] gtwvwt is converted
In-Reply-To: <609353e70908150347x3797615fgd7c64f2dd02b062a@mail.gmail.com>
References: <609353e70908150347x3797615fgd7c64f2dd02b062a@mail.gmail.com>
Message-ID: <18d502870908150510y1abcf2e6h83b9a20eb096d71e@mail.gmail.com>

I've patched it to build on Harbour (using BCC as the most sloppy
compiler, the rest still have hundreds of warnings and errors), but
I have to say this component isn't the cleanest code I've ever seen.
I couldn't create one example which would work, but there is GPF,
various link errors due to missing dependencies, even hbwhat ones,
rest were unknown to me.

If someone is interested I can send it though.

Brgds,
Viktor

On Sat, Aug 15, 2009 at 12:47 PM, Massimo Belgrano<mbelgrano@deltain.it> wrote:
> Hello,
>
> Message from the forum comp.lang.xharbour stating that gtwvw been
> converted, including the link to download (only comes with the
> sources, ).
>
> Message:
>
> http://groups.google.com.br/group/comp.lang.xharbour/browse_thread/thread/6f15dbfb2877da01?hl=pt-BR#
>
> Link to download:
>
> http://www.datacempro.com.br/download/free/gtwvw.zip
>
>
> I hope that work also with harbour
> Now i accessing internet from htc/windows mobile and can't try
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From e.m.giordano at emagsoftware.it  Sat Aug 15 08:18:34 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Aug 15 08:18:42 2009
Subject: [Harbour] How to build Harbour with latest SVN?
References: <8054FF7EBBFE4572B2C95F84A3FD2094@emag>
	<18d502870908150301v70683947g787b22c5ee72fa64@mail.gmail.com>
Message-ID: <7E1B737E8E5448FE97DD530273BA44DE@emag>


-----Messaggio Originale----- 
Da: "Viktor Szak?ts" <harbour.01@syenar.hu>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: sabato 15 agosto 2009 12.01
Oggetto: Re: [Harbour] How to build Harbour with latest SVN?


> Please check any examples in INSTALL:
>
> F.e.:
> ---
>       set PATH=C:\Borland\BCC55\Bin;%PATH%
>       rem
>       mingw32-make %1 %2 > log.txt 2>&1
> ---

It worked, thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From qiinfo at ig.com.br  Sat Aug 15 09:23:40 2009
From: qiinfo at ig.com.br (Rossine)
Date: Sat Aug 15 09:23:46 2009
Subject: [Harbour] Problemn with 12122
Message-ID: <24984562.post@talk.nabble.com>


Hello,

I deleted my directory "c:\harbour" and updated it again and all these files
are not downloaded:

make_gnu.bat
mpkg_dos.bat
mpkg_win.bat

Regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/Problemn-with-12122-tp24984562p24984562.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Sat Aug 15 11:28:09 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Aug 15 11:28:15 2009
Subject: [Harbour] HB_INSTALL_PREFIX=/opt/harbour issue
Message-ID: <9257026e0908150828n980db8bn23683cf30effbbb@mail.gmail.com>

Just to report that using the prefix in the subj the libs are put in
/opt/harbour/lib/harbour.
make_gnu.sh worked since it tested only for /opt|/usr.
I've tried to replicate it in global.cf but I didn't find any clean
solution so to fix it
I've removed from config/global.cf:

# Not perfect, please enhance it.
      ifneq ($(findstring /usr,$(HB_INSTALL_PREFIX)),)
         LIBPOSTFIX := $(DIRSEP)harbour
      else
         ifneq ($(findstring /opt,$(HB_INSTALL_PREFIX)),)
            LIBPOSTFIX := $(DIRSEP)harbour
         endif
      endif

I think that set correctly HB_INSTALL_PREFIX should be an user's
responsibility and a safe
default could be $HOME/harbour-ver.
Here the main goal seem to respect HB_INSTALL_PREFIX and protect
casual user from running "make install"
without knowing well what's he doing.

deb and rpm can be used to put things in system wide places.

best regards,
Lorenzo
From francek.prijatelj at siol.net  Sat Aug 15 11:37:14 2009
From: francek.prijatelj at siol.net (=?UTF-8?Q?FRAN=C4=8CEK_PRIJATELJ?=)
Date: Sat Aug 15 11:37:19 2009
Subject: [Harbour] Build error
In-Reply-To: <9014F8C5-7B77-46B7-984C-9ABECEEF7631@syenar.hu>
References: <4A865152.7000802@siol.net>
	<9014F8C5-7B77-46B7-984C-9ABECEEF7631@syenar.hu>
Message-ID: <24985604.post@talk.nabble.com>



Viktor Szak?ts wrote:
> 
> This is a very very old problem, but only Harbour gives a
> warning when redefining the same macro twice with same content,
> I'll try to do something about it and I just now realized that
> Harbour make uses a trick to relaunch itself even when making
> a single target. I don't know the reason yet or whether it can
> be eliminated. It would surely make life easier (and performance
> better). If this doesn't succeed I'll do a different trick
> to work this around.
> 
> Regardless of this fix, maybe Harbour PP could be modified to
> not throw a warning when the redefinition is identical to the
> original value, just like in C. Przemek, what's your opinion?
> 
> Brgds,
> Viktor
> 

It still fails.
I made several tests.
If I remove -es2 switch, it compiles OK (You can have multi  -Dxxx switches
without any warning)

Brgds
Fran?ek

-- 
View this message in context: http://www.nabble.com/Build-error-tp24981849p24985604.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Aug 15 12:02:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 15 12:02:55 2009
Subject: [Harbour] HB_INSTALL_PREFIX=/opt/harbour issue
In-Reply-To: <9257026e0908150828n980db8bn23683cf30effbbb@mail.gmail.com>
References: <9257026e0908150828n980db8bn23683cf30effbbb@mail.gmail.com>
Message-ID: <224EE6C6-DB57-4DD7-8961-7DDA03041A45@syenar.hu>

> Just to report that using the prefix in the subj the libs are put in
> /opt/harbour/lib/harbour.
> make_gnu.sh worked since it tested only for /opt|/usr.
> I've tried to replicate it in global.cf but I didn't find any clean
> solution so to fix it
> I've removed from config/global.cf:
>
> # Not perfect, please enhance it.
>      ifneq ($(findstring /usr,$(HB_INSTALL_PREFIX)),)
>         LIBPOSTFIX := $(DIRSEP)harbour
>      else
>         ifneq ($(findstring /opt,$(HB_INSTALL_PREFIX)),)
>            LIBPOSTFIX := $(DIRSEP)harbour
>         endif
>      endif

Hopefully this can be enhanced, I'm not very familiar
with these Linux rules/customs, so it's a little bit
difficult. If we know the rules/cases better probably
there is a way to solve it inside global.cf.

> I think that set correctly HB_INSTALL_PREFIX should be an user's
> responsibility and a safe
> default could be $HOME/harbour-ver.
> Here the main goal seem to respect HB_INSTALL_PREFIX and protect
> casual user from running "make install"
> without knowing well what's he doing.

I couldn't agree more. The safest place to install files
is the source tree itself. This is is how it's done already
on non-*nix OSes and such installed Harbour is perfectly usable.

If this is acceptable for Linux users, it's very easy to
make this change.

> deb and rpm can be used to put things in system wide places.

Agreed.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Aug 15 12:04:19 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 15 12:04:27 2009
Subject: [Harbour] Build error
In-Reply-To: <24985604.post@talk.nabble.com>
References: <4A865152.7000802@siol.net>
	<9014F8C5-7B77-46B7-984C-9ABECEEF7631@syenar.hu>
	<24985604.post@talk.nabble.com>
Message-ID: <3C3074D2-C806-4B89-A860-DD6D60508324@syenar.hu>

I didn't fix it yet. I'll do it tomorrow most probably,
I already decided on the way to fix this. Until then just
temporarily delete your HB_USER_PRGFLAGS and it will be
just fine.

Brgds,
Viktor

On 2009.08.15., at 5:37, FRAN?EK PRIJATELJ wrote:

>
>
> Viktor Szak?ts wrote:
>>
>> This is a very very old problem, but only Harbour gives a
>> warning when redefining the same macro twice with same content,
>> I'll try to do something about it and I just now realized that
>> Harbour make uses a trick to relaunch itself even when making
>> a single target. I don't know the reason yet or whether it can
>> be eliminated. It would surely make life easier (and performance
>> better). If this doesn't succeed I'll do a different trick
>> to work this around.
>>
>> Regardless of this fix, maybe Harbour PP could be modified to
>> not throw a warning when the redefinition is identical to the
>> original value, just like in C. Przemek, what's your opinion?
>>
>> Brgds,
>> Viktor
>>
>
> It still fails.
> I made several tests.
> If I remove -es2 switch, it compiles OK (You can have multi  -Dxxx  
> switches
> without any warning)
>
> Brgds
> Fran?ek
>
> -- 
> View this message in context: http://www.nabble.com/Build-error-tp24981849p24985604.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Aug 15 12:05:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 15 12:05:36 2009
Subject: [Harbour] Problemn with 12122
In-Reply-To: <24984562.post@talk.nabble.com>
References: <24984562.post@talk.nabble.com>
Message-ID: <012E389C-63E8-42F7-AC95-2180E60FCF60@syenar.hu>

Hi,

Please read recent (and not so recent) ChangeLog entries,
these files are not needed anymore and they got deleted.

Brgds,
Viktor

On 2009.08.15., at 3:23, Rossine wrote:

>
> Hello,
>
> I deleted my directory "c:\harbour" and updated it again and all  
> these files
> are not downloaded:
>
> make_gnu.bat
> mpkg_dos.bat
> mpkg_win.bat
>
> Regards,
>
> Rossine.
>
> -- 
> View this message in context: http://www.nabble.com/Problemn-with-12122-tp24984562p24984562.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sat Aug 15 12:33:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 15 12:33:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12123] trunk/harbour
Message-ID: <E1McMBo-00030U-01@3kljzd1.ch3.sourceforge.com>

Revision: 12123
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12123&view=rev
Author:   vszakats
Date:     2009-08-15 16:33:06 +0000 (Sat, 15 Aug 2009)

Log Message:
-----------
2009-08-15 18:32 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
    + Added new plans for further setting cleanup.

  * config/global.cf
  * config/rules.cf
  * config/dos/watcom.cf
  * config/win/watcom.cf
  * config/os2/watcom.cf
    + Added HB_CFLAGS, HB_PRGFLAGS. These will now replace all
      Makefile level manipulation of flags. Should eventually
      replace all HB_USER_*FLAGS, HB_GCMODE, HB_INC_DEPEND,
      HB_CUNICODE, HB_CDBG and HB_FLAGSEXTRA variables, if everything
      goes well.

  * contrib/hbwin/wapi_winuser.c
    + Added WAPI_GETKEYSTATE().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/rules.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/contrib/hbwin/wapi_winuser.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sat Aug 15 14:18:58 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Aug 15 14:19:25 2009
Subject: [Harbour] gtwvwt is converted
In-Reply-To: <18d502870908150510y1abcf2e6h83b9a20eb096d71e@mail.gmail.com>
References: <609353e70908150347x3797615fgd7c64f2dd02b062a@mail.gmail.com> 
	<18d502870908150510y1abcf2e6h83b9a20eb096d71e@mail.gmail.com>
Message-ID: <609353e70908151118s3ca70096yf2656024b2aa998a@mail.gmail.com>

I am interested
I have a large application still in xharbour because use gtwvw
Also a harbour->bcc version will be interested for me
I hope that your indication will be followed from gtwvw developers
(Reynaldo ,Christian Azambuja and Marson)
Will gtwvw & wvwtools  start a new open source project?

2009/8/15 Viktor Szak?ts <harbour.01@syenar.hu>:
> I've patched it to build on Harbour (using BCC as the most sloppy
> compiler, the rest still have hundreds of warnings and errors), but
> I have to say this component isn't the cleanest code I've ever seen.
> I couldn't create one example which would work, but there is GPF,
> various link errors due to missing dependencies, even hbwhat ones,
> rest were unknown to me.
>
> If someone is interested I can send it though.
>
> Brgds,
> Viktor
>
> On Sat, Aug 15, 2009 at 12:47 PM, Massimo Belgrano<mbelgrano@deltain.it> wrote:
>> Hello,
>>
>> Message from the forum comp.lang.xharbour stating that gtwvw been
>> converted, including the link to download (only comes with the
>> sources, ).
>>
>> Message:
>>
>> http://groups.google.com.br/group/comp.lang.xharbour/browse_thread/thread/6f15dbfb2877da01?hl=pt-BR#
>>
>> Link to download:
>>
>> http://www.datacempro.com.br/download/free/gtwvw.zip
>>
>>
>> I hope that work also with harbour
>> Now i accessing internet from htc/windows mobile and can't try
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From qiinfo at ig.com.br  Sat Aug 15 14:43:53 2009
From: qiinfo at ig.com.br (Rossine)
Date: Sat Aug 15 14:43:59 2009
Subject: [Harbour] Problemn with 12122
In-Reply-To: <012E389C-63E8-42F7-AC95-2180E60FCF60@syenar.hu>
References: <24984562.post@talk.nabble.com>
	<012E389C-63E8-42F7-AC95-2180E60FCF60@syenar.hu>
Message-ID: <24987139.post@talk.nabble.com>


Hi Viktor, 

I found this:

[CHANGELOG]
2009-08-14 22:33 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
...
 - make_gnu.bat
    - Deleted these starter batch files.
    ; Please use 'mingw32-make' (if installed in PATH) or
      'config/mingw32-make' (if not installed in PATH) instead.
[ENDCHANGELOG]

It?s works fine now :-)

Many thank?s,

Rossine.

-- 
View this message in context: http://www.nabble.com/Problemn-with-12122-tp24984562p24987139.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Aug 15 15:07:02 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 15 15:07:13 2009
Subject: [Harbour] gtwvwt is converted
In-Reply-To: <609353e70908151118s3ca70096yf2656024b2aa998a@mail.gmail.com>
References: <609353e70908150347x3797615fgd7c64f2dd02b062a@mail.gmail.com>
	<18d502870908150510y1abcf2e6h83b9a20eb096d71e@mail.gmail.com>
	<609353e70908151118s3ca70096yf2656024b2aa998a@mail.gmail.com>
Message-ID: <5DE8C4A0-27CF-40F1-9DA4-25C092EABE3D@syenar.hu>

http://www.syenar.hu/harbour/download/hb_gtwvw.zip

Please note that this isn't Harbour quality and isn't
even working, use at your own risk, still needs lots
of work to make it usable.

Pbly it'd better to host it somewhere as a separate
project, if we see intent and activity to clean code
to be closer to Harbour standards (at least compiler
support, C++ support, Unicode.) Maybe we can even
consider hosting it in our contrib tree. Although in
this case it's much more difficult (if possible at
all) to maintain xhb compatibility.

[ BTW I've ported in a Harbour only way, but since
I guess xhb users are also interested in this module,
the incompatible changes could rather be converted in
a way which keeps xhb compatibility, I didn't spend
time on that in this patch. ]

Thanks for involved developers to port this bit,
it's a very big step towards having a working GTWVW.

Brgds,
Viktor

On 2009.08.15., at 8:18, Massimo Belgrano wrote:

> I am interested
> I have a large application still in xharbour because use gtwvw
> Also a harbour->bcc version will be interested for me
> I hope that your indication will be followed from gtwvw developers
> (Reynaldo ,Christian Azambuja and Marson)
> Will gtwvw & wvwtools  start a new open source project?
>
> 2009/8/15 Viktor Szak?ts <harbour.01@syenar.hu>:
>> I've patched it to build on Harbour (using BCC as the most sloppy
>> compiler, the rest still have hundreds of warnings and errors), but
>> I have to say this component isn't the cleanest code I've ever seen.
>> I couldn't create one example which would work, but there is GPF,
>> various link errors due to missing dependencies, even hbwhat ones,
>> rest were unknown to me.
>>
>> If someone is interested I can send it though.
>>
>> Brgds,
>> Viktor
>>
>> On Sat, Aug 15, 2009 at 12:47 PM, Massimo Belgrano<mbelgrano@deltain.it 
>> > wrote:
>>> Hello,
>>>
>>> Message from the forum comp.lang.xharbour stating that gtwvw been
>>> converted, including the link to download (only comes with the
>>> sources, ).
>>>
>>> Message:
>>>
>>> http://groups.google.com.br/group/comp.lang.xharbour/browse_thread/thread/6f15dbfb2877da01?hl=pt-BR#
>>>
>>> Link to download:
>>>
>>> http://www.datacempro.com.br/download/free/gtwvw.zip
>>>
>>>
>>> I hope that work also with harbour
>>> Now i accessing internet from htc/windows mobile and can't try
>>>
>>> --
>>> Massimo Belgrano
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Sat Aug 15 15:34:35 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Aug 15 15:35:05 2009
Subject: [Harbour] gtwvwt is converted
In-Reply-To: <5DE8C4A0-27CF-40F1-9DA4-25C092EABE3D@syenar.hu>
References: <609353e70908150347x3797615fgd7c64f2dd02b062a@mail.gmail.com> 
	<18d502870908150510y1abcf2e6h83b9a20eb096d71e@mail.gmail.com> 
	<609353e70908151118s3ca70096yf2656024b2aa998a@mail.gmail.com> 
	<5DE8C4A0-27CF-40F1-9DA4-25C092EABE3D@syenar.hu>
Message-ID: <609353e70908151234g4eaeb476ob9b15cd576c1be4b@mail.gmail.com>

seem that Reinaldo from comp.lang.xharbour have made msvc modification


2009/8/15 Viktor Szak?ts <harbour.01@syenar.hu>:
> http://www.syenar.hu/harbour/download/hb_gtwvw.zip
>
> Please note that this isn't Harbour quality and isn't
> even working, use at your own risk, still needs lots
> of work to make it usable.
>
> Pbly it'd better to host it somewhere as a separate
> project, if we see intent and activity to clean code
> to be closer to Harbour standards (at least compiler
> support, C++ support, Unicode.) Maybe we can even
> consider hosting it in our contrib tree. Although in
> this case it's much more difficult (if possible at
> all) to maintain xhb compatibility.
>
> [ BTW I've ported in a Harbour only way, but since
> I guess xhb users are also interested in this module,
> the incompatible changes could rather be converted in
> a way which keeps xhb compatibility, I didn't spend
> time on that in this patch. ]
>
> Thanks for involved developers to port this bit,
> it's a very big step towards having a working GTWVW.
>
> Brgds,
> Viktor
>
> On 2009.08.15., at 8:18, Massimo Belgrano wrote:
>
>> I am interested
>> I have a large application still in xharbour because use gtwvw
>> Also a harbour->bcc version will be interested for me
>> I hope that your indication will be followed from gtwvw developers
>> (Reynaldo ,Christian Azambuja and Marson)
>> Will gtwvw & wvwtools ?start a new open source project?
>>
>> 2009/8/15 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>
>>> I've patched it to build on Harbour (using BCC as the most sloppy
>>> compiler, the rest still have hundreds of warnings and errors), but
>>> I have to say this component isn't the cleanest code I've ever seen.
>>> I couldn't create one example which would work, but there is GPF,
>>> various link errors due to missing dependencies, even hbwhat ones,
>>> rest were unknown to me.
>>>
>>> If someone is interested I can send it though.
>>>
>>> Brgds,
>>> Viktor
>>>
>>> On Sat, Aug 15, 2009 at 12:47 PM, Massimo Belgrano<mbelgrano@deltain.it>
>>> wrote:
>>>>
>>>> Hello,
>>>>
>>>> Message from the forum comp.lang.xharbour stating that gtwvw been
>>>> converted, including the link to download (only comes with the
>>>> sources, ).
>>>>
>>>> Message:
>>>>
>>>>
>>>> http://groups.google.com.br/group/comp.lang.xharbour/browse_thread/thread/6f15dbfb2877da01?hl=pt-BR#
>>>>
>>>> Link to download:
>>>>
>>>> http://www.datacempro.com.br/download/free/gtwvw.zip
>>>>
>>>>
>>>> I hope that work also with harbour
>>>> Now i accessing internet from htc/windows mobile and can't try
>>>>
>>>> --
>>>> Massimo Belgrano
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mauriliolongo at users.sourceforge.net  Sat Aug 15 17:22:20 2009
From: mauriliolongo at users.sourceforge.net (mauriliolongo@users.sourceforge.net)
Date: Sat Aug 15 17:22:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12124] trunk/harbour
Message-ID: <E1McQhg-0003eL-Iu@dn4whf1.ch3.sourceforge.com>

Revision: 12124
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12124&view=rev
Author:   mauriliolongo
Date:     2009-08-15 21:22:12 +0000 (Sat, 15 Aug 2009)

Log Message:
-----------
2009-08-15 23:255 UTC+0200 Maurilio Longo (maurilio.longo@libero.it)
   * config/instsh.cf
     ! fixed OS/2 section, work around for OS/2 shell max line lenght.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/instsh.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mauriliolongo at users.sourceforge.net  Sat Aug 15 17:40:13 2009
From: mauriliolongo at users.sourceforge.net (mauriliolongo@users.sourceforge.net)
Date: Sat Aug 15 17:40:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12125]
	trunk/harbour/ChangeLog
Message-ID: <E1McQyz-0004TD-I0@dn4whf1.ch3.sourceforge.com>

Revision: 12125
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12125&view=rev
Author:   mauriliolongo
Date:     2009-08-15 21:40:10 +0000 (Sat, 15 Aug 2009)

Log Message:
-----------
2009-08-15 23:37 UTC+0200 Maurilio Longo (maurilio.longo@libero.it)
   ! ChangeLog
     ! fixed typo in last commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From rhfsystems at yahoo.com.br  Sat Aug 15 17:43:56 2009
From: rhfsystems at yahoo.com.br (Reynaldo Henrique)
Date: Sat Aug 15 17:44:02 2009
Subject: [Harbour] gtwvwt is converted
In-Reply-To: <609353e70908151234g4eaeb476ob9b15cd576c1be4b@mail.gmail.com>
References: <609353e70908150347x3797615fgd7c64f2dd02b062a@mail.gmail.com>
	<18d502870908150510y1abcf2e6h83b9a20eb096d71e@mail.gmail.com>
	<609353e70908151118s3ca70096yf2656024b2aa998a@mail.gmail.com>
	<5DE8C4A0-27CF-40F1-9DA4-25C092EABE3D@syenar.hu>
	<609353e70908151234g4eaeb476ob9b15cd576c1be4b@mail.gmail.com>
Message-ID: <1250372636511-3451333.post@n2.nabble.com>




Hi, Viktor

Now, using xHb+MSVC, gtwvw can be compiled and link and so the gtwvw.lib
genarated without any warnings and errors, at all. And the executable file,
created from "\xharbour\contrib\gtwvw\samples\wvwtest9.prg" runs fine.
Since now, I would like to try to test gtwvw with Harbour, as well.
Although my knowledge of Harbour are just a little.

So, next step is to port it to Harbour in my machine.

Reynaldo Henrique 
  


Massimo Belgrano wrote:
> 
> seem that Reinaldo from comp.lang.xharbour have made msvc modification
> 
> 
> 2009/8/15 Viktor Szak?ts <harbour.01@syenar.hu>:
>> http://www.syenar.hu/harbour/download/hb_gtwvw.zip
>>
>> Please note that this isn't Harbour quality and isn't
>> even working, use at your own risk, still needs lots
>> of work to make it usable.
>>
>> Pbly it'd better to host it somewhere as a separate
>> project, if we see intent and activity to clean code
>> to be closer to Harbour standards (at least compiler
>> support, C++ support, Unicode.) Maybe we can even
>> consider hosting it in our contrib tree. Although in
>> this case it's much more difficult (if possible at
>> all) to maintain xhb compatibility.
>>
>> [ BTW I've ported in a Harbour only way, but since
>> I guess xhb users are also interested in this module,
>> the incompatible changes could rather be converted in
>> a way which keeps xhb compatibility, I didn't spend
>> time on that in this patch. ]
>>
>> Thanks for involved developers to port this bit,
>> it's a very big step towards having a working GTWVW.
>>
>> Brgds,
>> Viktor
>>
>> On 2009.08.15., at 8:18, Massimo Belgrano wrote:
>>
>>> I am interested
>>> I have a large application still in xharbour because use gtwvw
>>> Also a harbour->bcc version will be interested for me
>>> I hope that your indication will be followed from gtwvw developers
>>> (Reynaldo ,Christian Azambuja and Marson)
>>> Will gtwvw & wvwtools ?start a new open source project?
>>>
>>> 2009/8/15 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>>
>>>> I've patched it to build on Harbour (using BCC as the most sloppy
>>>> compiler, the rest still have hundreds of warnings and errors), but
>>>> I have to say this component isn't the cleanest code I've ever seen.
>>>> I couldn't create one example which would work, but there is GPF,
>>>> various link errors due to missing dependencies, even hbwhat ones,
>>>> rest were unknown to me.
>>>>
>>>> If someone is interested I can send it though.
>>>>
>>>> Brgds,
>>>> Viktor
>>>>
>>>> On Sat, Aug 15, 2009 at 12:47 PM, Massimo
>>>> Belgrano<mbelgrano@deltain.it>
>>>> wrote:
>>>>>
>>>>> Hello,
>>>>>
>>>>> Message from the forum comp.lang.xharbour stating that gtwvw been
>>>>> converted, including the link to download (only comes with the
>>>>> sources, ).
>>>>>
>>>>> Message:
>>>>>
>>>>>
>>>>> http://groups.google.com.br/group/comp.lang.xharbour/browse_thread/thread/6f15dbfb2877da01?hl=pt-BR#
>>>>>
>>>>> Link to download:
>>>>>
>>>>> http://www.datacempro.com.br/download/free/gtwvw.zip
>>>>>
>>>>>
>>>>> I hope that work also with harbour
>>>>> Now i accessing internet from htc/windows mobile and can't try
>>>>>
>>>>> --
>>>>> Massimo Belgrano
>>>>> _______________________________________________
>>>>> Harbour mailing list
>>>>> Harbour@harbour-project.org
>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>
>>>
>>>
>>> --
>>> Massimo Belgrano
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 
> 
> 
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/gtwvwt-is-converted-tp3449587p3451333.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From mbelgrano at deltain.it  Sat Aug 15 18:16:09 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Aug 15 18:18:09 2009
Subject: [Harbour] gtwvwt is converted
In-Reply-To: <1250372636511-3451333.post@n2.nabble.com>
References: <609353e70908150347x3797615fgd7c64f2dd02b062a@mail.gmail.com> 
	<18d502870908150510y1abcf2e6h83b9a20eb096d71e@mail.gmail.com> 
	<609353e70908151118s3ca70096yf2656024b2aa998a@mail.gmail.com> 
	<5DE8C4A0-27CF-40F1-9DA4-25C092EABE3D@syenar.hu>
	<609353e70908151234g4eaeb476ob9b15cd576c1be4b@mail.gmail.com> 
	<1250372636511-3451333.post@n2.nabble.com>
Message-ID: <609353e70908151516h4e9ed7fci6014c7d7ddb247ae@mail.gmail.com>

Hi Reynaldo

I hope that gtwvw follow  Harbour standards supporting C++ support, Unicode.
i vote for consider hosting it in our contrib tree.maintaining xhb
compatibility.
Have you evaluated host gtwvw,wvwtools  as a separate project?

2009/8/15 Reynaldo Henrique <rhfsystems@yahoo.com.br>:
>
>
>
> Hi, Viktor
>
> Now, using xHb+MSVC, gtwvw can be compiled and link and so the gtwvw.lib
> genarated without any warnings and errors, at all. And the executable file,
> created from "\xharbour\contrib\gtwvw\samples\wvwtest9.prg" runs fine.
> Since now, I would like to try to test gtwvw with Harbour, as well.
> Although my knowledge of Harbour are just a little.
>
> So, next step is to port it to Harbour in my machine.
>
> Reynaldo Henrique
>
>
>
> Massimo Belgrano wrote:
>>
>> seem that Reinaldo from comp.lang.xharbour have made msvc modification
>>
>>
>> 2009/8/15 Viktor Szak?ts <harbour.01@syenar.hu>:
>>> http://www.syenar.hu/harbour/download/hb_gtwvw.zip
>>>
>>> Please note that this isn't Harbour quality and isn't
>>> even working, use at your own risk, still needs lots
>>> of work to make it usable.
>>>
>>> Pbly it'd better to host it somewhere as a separate
>>> project, if we see intent and activity to clean code
>>> to be closer to Harbour standards (at least compiler
>>> support, C++ support, Unicode.) Maybe we can even
>>> consider hosting it in our contrib tree. Although in
>>> this case it's much more difficult (if possible at
>>> all) to maintain xhb compatibility.
>>>
>>> [ BTW I've ported in a Harbour only way, but since
>>> I guess xhb users are also interested in this module,
>>> the incompatible changes could rather be converted in
>>> a way which keeps xhb compatibility, I didn't spend
>>> time on that in this patch. ]
>>>
>>> Thanks for involved developers to port this bit,
>>> it's a very big step towards having a working GTWVW.
>>>
>>> Brgds,
>>> Viktor
>>>
>>> On 2009.08.15., at 8:18, Massimo Belgrano wrote:
>>>
>>>> I am interested
>>>> I have a large application still in xharbour because use gtwvw
>>>> Also a harbour->bcc version will be interested for me
>>>> I hope that your indication will be followed from gtwvw developers
>>>> (Reynaldo ,Christian Azambuja and Marson)
>>>> Will gtwvw & wvwtools ?start a new open source project?
>>>>
>>>> 2009/8/15 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>>>
>>>>> I've patched it to build on Harbour (using BCC as the most sloppy
>>>>> compiler, the rest still have hundreds of warnings and errors), but
>>>>> I have to say this component isn't the cleanest code I've ever seen.
>>>>> I couldn't create one example which would work, but there is GPF,
>>>>> various link errors due to missing dependencies, even hbwhat ones,
>>>>> rest were unknown to me.
>>>>>
>>>>> If someone is interested I can send it though.
>>>>>
>>>>> Brgds,
>>>>> Viktor
>>>>>
>>>>> On Sat, Aug 15, 2009 at 12:47 PM, Massimo
>>>>> Belgrano<mbelgrano@deltain.it>
>>>>> wrote:
>>>>>>
>>>>>> Hello,
>>>>>>
>>>>>> Message from the forum comp.lang.xharbour stating that gtwvw been
>>>>>> converted, including the link to download (only comes with the
>>>>>> sources, ).
>>>>>>
>>>>>> Message:
>>>>>>
>>>>>>
>>>>>> http://groups.google.com.br/group/comp.lang.xharbour/browse_thread/thread/6f15dbfb2877da01?hl=pt-BR#
>>>>>>
>>>>>> Link to download:
>>>>>>
>>>>>> http://www.datacempro.com.br/download/free/gtwvw.zip
>>>>>>
>>>>>>
>>>>>> I hope that work also with harbour
>>>>>> Now i accessing internet from htc/windows mobile and can't try
>>>>>>
>>>>>> --
>>>>>> Massimo Belgrano
>>>>>> _______________________________________________
>>>>>> Harbour mailing list
>>>>>> Harbour@harbour-project.org
>>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>>
>>>>> _______________________________________________
>>>>> Harbour mailing list
>>>>> Harbour@harbour-project.org
>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> Massimo Belgrano
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
> --
> View this message in context: http://n2.nabble.com/gtwvwt-is-converted-tp3449587p3451333.html
> Sent from the harbour-devel mailing list archive at Nabble.com.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Sat Aug 15 18:18:48 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 15 18:18:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12125]
	trunk/harbour/ChangeLog
In-Reply-To: <E1McQyz-0004TD-I0@dn4whf1.ch3.sourceforge.com>
References: <E1McQyz-0004TD-I0@dn4whf1.ch3.sourceforge.com>
Message-ID: <ACEB98CC-C01B-4F3F-880B-2E0880B80602@syenar.hu>

Nice :(

I've asked on the list whether COMSPEC is really needed,
got no answer, just this silent restore now, after David
confirmed it's working even without it.

So: Is it necessary?

Brgds,
Viktor

On 2009.08.15., at 11:40, mauriliolongo@users.sourceforge.net wrote:

> Revision: 12125
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12125&view=rev
> Author:   mauriliolongo
> Date:     2009-08-15 21:40:10 +0000 (Sat, 15 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-15 23:37 UTC+0200 Maurilio Longo (maurilio.longo@libero.it)
>   ! ChangeLog
>     ! fixed typo in last commit.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Aug 15 18:24:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 15 18:24:54 2009
Subject: [Harbour] gtwvwt is converted
In-Reply-To: <1250372636511-3451333.post@n2.nabble.com>
References: <609353e70908150347x3797615fgd7c64f2dd02b062a@mail.gmail.com>
	<18d502870908150510y1abcf2e6h83b9a20eb096d71e@mail.gmail.com>
	<609353e70908151118s3ca70096yf2656024b2aa998a@mail.gmail.com>
	<5DE8C4A0-27CF-40F1-9DA4-25C092EABE3D@syenar.hu>
	<609353e70908151234g4eaeb476ob9b15cd576c1be4b@mail.gmail.com>
	<1250372636511-3451333.post@n2.nabble.com>
Message-ID: <3EB7705A-4255-495A-A438-BE978288BD78@syenar.hu>

Hi Reynaldo,

> Now, using xHb+MSVC, gtwvw can be compiled and link and so the  
> gtwvw.lib
> genarated without any warnings and errors, at all. And the  
> executable file,
> created from "\xharbour\contrib\gtwvw\samples\wvwtest9.prg" runs fine.
> Since now, I would like to try to test gtwvw with Harbour, as well.
> Although my knowledge of Harbour are just a little.
>
> So, next step is to port it to Harbour in my machine.

In Harbour MSVC is set to C++ mode by default. C++ mode much stricter
when it comes to typing errors, plus some more.

Please try checking in C++ mode. Also MinGW. If these pass, the
rest is relatively easy to fix.

In Harbour we've recently cleaned several types in GT API and
extend API, so 'const' usage is now needed for example, plus
some GT driver method's declaration also changed a bit. In C++
these will generate errors with current code.

In Harbour we also use hbmk2 to build tests and GNU Make to build
the lib. You can find required files in my package, but they may
need some modifications for the test apps, as they seem to need
each other.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Aug 15 18:30:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 15 18:30:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12125]
	trunk/harbour/ChangeLog
In-Reply-To: <E1McQyz-0004TD-I0@dn4whf1.ch3.sourceforge.com>
References: <E1McQyz-0004TD-I0@dn4whf1.ch3.sourceforge.com>
Message-ID: <E94943B2-465B-4801-8F2B-90F6D332FA2E@syenar.hu>

BTW it would be also nice to hear what was the problem
with previous commit (which was working for David), I've
copied the DOS shell method, where the command line limit
is even more restricted, yet it works fine. Maybe it'd be
enough to use GNU cp (like with DOS) for OS/2 too, since
that was also part of the DOS solution, but I didn't commit
that part for OS/2.

I'd welcome your comments and tests, I'm sure there is a
better solution than current one.

Brgds,
Viktor

On 2009.08.15., at 11:40, mauriliolongo@users.sourceforge.net wrote:

> Revision: 12125
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12125&view=rev
> Author:   mauriliolongo
> Date:     2009-08-15 21:40:10 +0000 (Sat, 15 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-15 23:37 UTC+0200 Maurilio Longo (maurilio.longo@libero.it)
>   ! ChangeLog
>     ! fixed typo in last commit.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From maurilio.longo at libero.it  Sat Aug 15 18:35:08 2009
From: maurilio.longo at libero.it (maurilio longo)
Date: Sat Aug 15 18:35:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12125] 
	trunk/harbour/ChangeLog
Message-ID: <KOFW2K$98D98FDA26E56580C7274BCA5A50846E@libero.it>

Sorry Viktor,

I'm not following the mailing list closely enough. Without the COMSPEC trick here my cmd.exe freezes as soon as I issue a make install.

Please note that the COMSPEC trick was introduced several months ago and only recently removed during your optimizations of the gnu make build; this is to say, it is a problem which emerged long before your changes and due to the 1024 (I think sometimes even less) max command line lenght of the OS/2 default command processor (cmd.exe)

Best regards.

Maurilio.


> Nice :(
> 
> I've asked on the list whether COMSPEC is really needed,
> got no answer, just this silent restore now, after David
> confirmed it's working even without it.
> 
> So: Is it necessary?
> 
> Brgds,
> Viktor
> 
> On 2009.08.15., at 11:40, mauriliolongo@users.sourceforge.net wrote:
> 
> > Revision: 12125
> >          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12125&view=rev
> > Author:   mauriliolongo
> > Date:     2009-08-15 21:40:10 +0000 (Sat, 15 Aug 2009)
> >
> > Log Message:
> > -----------
> > 2009-08-15 23:37 UTC+0200 Maurilio Longo (maurilio.longo@libero.it)
> >   ! ChangeLog
> >     ! fixed typo in last commit.
> >
> > Modified Paths:
> > --------------
> >    trunk/harbour/ChangeLog
> >
> >
> > This was sent by the SourceForge.net collaborative development  
> > platform, the world's largest Open Source development site.
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From maurilio.longo at libero.it  Sat Aug 15 18:37:12 2009
From: maurilio.longo at libero.it (maurilio longo)
Date: Sat Aug 15 18:37:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12125] 
	trunk/harbour/ChangeLog
Message-ID: <KOFW60$E3EE21EEC57CD0714E14E724EBE6306C@libero.it>

Viktor,

without the comspec trick a make install freezes, the shell cannot even be killed anymore :(

Best regards.

Maurilio.

PS. See also my other answer to your previous message.


> BTW it would be also nice to hear what was the problem
> with previous commit (which was working for David), I've
> copied the DOS shell method, where the command line limit
> is even more restricted, yet it works fine. Maybe it'd be
> enough to use GNU cp (like with DOS) for OS/2 too, since
> that was also part of the DOS solution, but I didn't commit
> that part for OS/2.
> 
> I'd welcome your comments and tests, I'm sure there is a
> better solution than current one.
> 
> Brgds,
> Viktor
> 
> On 2009.08.15., at 11:40, mauriliolongo@users.sourceforge.net wrote:
> 
> > Revision: 12125
> >          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12125&view=rev
> > Author:   mauriliolongo
> > Date:     2009-08-15 21:40:10 +0000 (Sat, 15 Aug 2009)
> >
> > Log Message:
> > -----------
> > 2009-08-15 23:37 UTC+0200 Maurilio Longo (maurilio.longo@libero.it)
> >   ! ChangeLog
> >     ! fixed typo in last commit.
> >
> > Modified Paths:
> > --------------
> >    trunk/harbour/ChangeLog
> >
> >
> > This was sent by the SourceForge.net collaborative development  
> > platform, the world's largest Open Source development site.
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From maurilio.longo at libero.it  Sat Aug 15 18:43:03 2009
From: maurilio.longo at libero.it (maurilio longo)
Date: Sat Aug 15 18:43:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12125] 
	trunk/harbour/ChangeLog
Message-ID: <KOFWFR$951A5065C0E67871366239F44921EBAD@libero.it>

Viktor,

there is some other problem at the end of the make install, when it builds hbmk.cfg, but it does not freeze the shell and I don't have time right now to look at it.

Maurilio.

...
! 'sddfb' library skipped
! 'sddodbc' library skipped
! 'hbxbp' library skipped
make[3]: `../../../../../lib/os2/gcc/libhpdf.a' is up to date.
C:\OS2\CMD.EXE /C copy ..\..\lib\os2\gcc\libhpdf.a e:\harbour\lib
        1 file(s) copied.
make[3]: `../../../../../lib/os2/gcc/libpng.a' is up to date.
C:\OS2\CMD.EXE /C copy ..\..\lib\os2\gcc\libpng.a e:\harbour\lib
        1 file(s) copied.
make[3]: `../../../../../lib/os2/gcc/sqlite3.a' is up to date.
C:\OS2\CMD.EXE /C copy ..\..\lib\os2\gcc\sqlite3.a e:\harbour\lib
        1 file(s) copied.
.\bin\postinst.cmd
(E:\repository\harbour)
! Generating e:\harbour\bin\hbmk.cfg...
SYS1001: An incorrect parameter was entered for the command.

SYS1001: An incorrect parameter was entered for the command.

SYS1001: An incorrect parameter was entered for the command.

SYS1001: An incorrect parameter was entered for the command.

SYS1001: An incorrect parameter was entered for the command.


(E:\repository\harbour)type \harbour\bin\hbmk.cfg
# Harbour Make (hbmk2) configuration
# Generated by Harbour build process

libpaths=../contrib/%{hb_name}
libpaths=../contrib/rddsql/%{hb_name}
libpaths=../addons/%{hb_name}
libpaths=../examples/%{hb_name}




> BTW it would be also nice to hear what was the problem
> with previous commit (which was working for David), I've
> copied the DOS shell method, where the command line limit
> is even more restricted, yet it works fine. Maybe it'd be
> enough to use GNU cp (like with DOS) for OS/2 too, since
> that was also part of the DOS solution, but I didn't commit
> that part for OS/2.
> 
> I'd welcome your comments and tests, I'm sure there is a
> better solution than current one.
> 
> Brgds,
> Viktor
> 
> On 2009.08.15., at 11:40, mauriliolongo@users.sourceforge.net wrote:
> 
> > Revision: 12125
> >          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12125&view=rev
> > Author:   mauriliolongo
> > Date:     2009-08-15 21:40:10 +0000 (Sat, 15 Aug 2009)
> >
> > Log Message:
> > -----------
> > 2009-08-15 23:37 UTC+0200 Maurilio Longo (maurilio.longo@libero.it)
> >   ! ChangeLog
> >     ! fixed typo in last commit.
> >
> > Modified Paths:
> > --------------
> >    trunk/harbour/ChangeLog
> >
> >
> > This was sent by the SourceForge.net collaborative development  
> > platform, the world's largest Open Source development site.
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From harbour.01 at syenar.hu  Sat Aug 15 18:52:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 15 18:52:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12125]
	trunk/harbour/ChangeLog
In-Reply-To: <KOFW60$E3EE21EEC57CD0714E14E724EBE6306C@libero.it>
References: <KOFW60$E3EE21EEC57CD0714E14E724EBE6306C@libero.it>
Message-ID: <0A593EDA-EBA1-47B7-991C-0B046D186FFA@syenar.hu>

Thanks for the input. Could you try the just removed
method with readded $(COMSPEC) /C? Maybe the logic was
good (after all it even works in MS-DOS), just this bit
was causing freeze.

Brgds,
Viktor

On 2009.08.16., at 0:37, maurilio longo wrote:

> Viktor,
>
> without the comspec trick a make install freezes, the shell cannot  
> even be killed anymore :(
>
> Best regards.
>
> Maurilio.
>
> PS. See also my other answer to your previous message.
>
>
>> BTW it would be also nice to hear what was the problem
>> with previous commit (which was working for David), I've
>> copied the DOS shell method, where the command line limit
>> is even more restricted, yet it works fine. Maybe it'd be
>> enough to use GNU cp (like with DOS) for OS/2 too, since
>> that was also part of the DOS solution, but I didn't commit
>> that part for OS/2.
>>
>> I'd welcome your comments and tests, I'm sure there is a
>> better solution than current one.
>>
>> Brgds,
>> Viktor
>>
>> On 2009.08.15., at 11:40, mauriliolongo@users.sourceforge.net wrote:
>>
>>> Revision: 12125
>>>         http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12125&view=rev
>>> Author:   mauriliolongo
>>> Date:     2009-08-15 21:40:10 +0000 (Sat, 15 Aug 2009)
>>>
>>> Log Message:
>>> -----------
>>> 2009-08-15 23:37 UTC+0200 Maurilio Longo (maurilio.longo@libero.it)
>>>  ! ChangeLog
>>>    ! fixed typo in last commit.
>>>
>>> Modified Paths:
>>> --------------
>>>   trunk/harbour/ChangeLog
>>>
>>>
>>> This was sent by the SourceForge.net collaborative development
>>> platform, the world's largest Open Source development site.
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Aug 15 18:48:48 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 15 18:57:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12125]
	trunk/harbour/ChangeLog
In-Reply-To: <KOFWFR$951A5065C0E67871366239F44921EBAD@libero.it>
References: <KOFWFR$951A5065C0E67871366239F44921EBAD@libero.it>
Message-ID: <63B47703-2909-4DB6-A9CA-02FB8C242EF8@syenar.hu>

Hi Maurilio,

It's an 'xcopy /y filename "dir\" > nul' command in bin/postinst.cmd.
Maybe it doesn't like the quotes around dir. Could you try?

Brgds,
Viktor

On 2009.08.16., at 0:43, maurilio longo wrote:

> Viktor,
>
> there is some other problem at the end of the make install, when it  
> builds hbmk.cfg, but it does not freeze the shell and I don't have  
> time right now to look at it.
>
> Maurilio.
>
> ...
> ! 'sddfb' library skipped
> ! 'sddodbc' library skipped
> ! 'hbxbp' library skipped
> make[3]: `../../../../../lib/os2/gcc/libhpdf.a' is up to date.
> C:\OS2\CMD.EXE /C copy ..\..\lib\os2\gcc\libhpdf.a e:\harbour\lib
>        1 file(s) copied.
> make[3]: `../../../../../lib/os2/gcc/libpng.a' is up to date.
> C:\OS2\CMD.EXE /C copy ..\..\lib\os2\gcc\libpng.a e:\harbour\lib
>        1 file(s) copied.
> make[3]: `../../../../../lib/os2/gcc/sqlite3.a' is up to date.
> C:\OS2\CMD.EXE /C copy ..\..\lib\os2\gcc\sqlite3.a e:\harbour\lib
>        1 file(s) copied.
> .\bin\postinst.cmd
> (E:\repository\harbour)
> ! Generating e:\harbour\bin\hbmk.cfg...
> SYS1001: An incorrect parameter was entered for the command.
>
> SYS1001: An incorrect parameter was entered for the command.
>
> SYS1001: An incorrect parameter was entered for the command.
>
> SYS1001: An incorrect parameter was entered for the command.
>
> SYS1001: An incorrect parameter was entered for the command.
>
>
> (E:\repository\harbour)type \harbour\bin\hbmk.cfg
> # Harbour Make (hbmk2) configuration
> # Generated by Harbour build process
>
> libpaths=../contrib/%{hb_name}
> libpaths=../contrib/rddsql/%{hb_name}
> libpaths=../addons/%{hb_name}
> libpaths=../examples/%{hb_name}
>
>
>
>
>> BTW it would be also nice to hear what was the problem
>> with previous commit (which was working for David), I've
>> copied the DOS shell method, where the command line limit
>> is even more restricted, yet it works fine. Maybe it'd be
>> enough to use GNU cp (like with DOS) for OS/2 too, since
>> that was also part of the DOS solution, but I didn't commit
>> that part for OS/2.
>>
>> I'd welcome your comments and tests, I'm sure there is a
>> better solution than current one.
>>
>> Brgds,
>> Viktor
>>
>> On 2009.08.15., at 11:40, mauriliolongo@users.sourceforge.net wrote:
>>
>>> Revision: 12125
>>>         http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12125&view=rev
>>> Author:   mauriliolongo
>>> Date:     2009-08-15 21:40:10 +0000 (Sat, 15 Aug 2009)
>>>
>>> Log Message:
>>> -----------
>>> 2009-08-15 23:37 UTC+0200 Maurilio Longo (maurilio.longo@libero.it)
>>>  ! ChangeLog
>>>    ! fixed typo in last commit.
>>>
>>> Modified Paths:
>>> --------------
>>>   trunk/harbour/ChangeLog
>>>
>>>
>>> This was sent by the SourceForge.net collaborative development
>>> platform, the world's largest Open Source development site.
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sat Aug 15 20:55:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 15 20:55:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12126] trunk/harbour
Message-ID: <E1McU1p-00061D-Pd@d5vjzd1.ch3.sourceforge.com>

Revision: 12126
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12126&view=rev
Author:   vszakats
Date:     2009-08-16 00:55:17 +0000 (Sun, 16 Aug 2009)

Log Message:
-----------
2009-08-16 02:47 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
  * config/rules.cf
  * config/dos/watcom.cf
  * config/win/watcom.cf
  * config/os2/watcom.cf
    % Using HB_PRGFLAGS instead of HB_FLAGSEXTRA.
    % Using HB_CFLAGS and HB_PRGFLAGS instead of HB_CDBG.
    % Using HB_CFLAGS instead of HB_CUNICODE.
    % Moved all flags from HB_RULE to HB_FLAGS (except HB_USER_PRGFLAGS).
      This only affects dos/watcom, more cmdlines will be put in HARBOURCMD.

  * external/sqlite3/Makefile
  * external/libhpdf/Makefile
  * external/libpng/Makefile
  * source/vm/maindllh/Makefile
  * source/vm/maindllp/Makefile
  * source/vm/vmmt/Makefile
  * source/rtl/gtxwc/Makefile
  * source/rtl/gtcrs/Makefile
  * source/rtl/gttrm/Makefile
  * source/rtl/gtsln/Makefile
  * contrib/gtalleg/Makefile
  * contrib/hbmysql/Makefile
  * contrib/hbodbc/Makefile
  * contrib/hbsqlit3/Makefile
  * contrib/hbqt/Makefile
  * contrib/hbfbird/Makefile
  * contrib/hbcurl/hbcurls/Makefile
  * contrib/hbcurl/Makefile
  * contrib/gtqtc/Makefile
  * contrib/rddsql/sddmy/Makefile
  * contrib/rddsql/sddpg/Makefile
  * contrib/rddsql/sddfb/Makefile
  * contrib/rddsql/sddodbc/Makefile
  * contrib/hbhpdf/Makefile
  * contrib/hbpgsql/Makefile
  * contrib/rddads/Makefile
  * contrib/hbfimage/Makefile
  * contrib/hbgd/Makefile
  * contrib/hbtip/hbtipssl/Makefile
  * contrib/hbssl/Makefile
    ! Using HB_CFLAGS/HB_PRGFLAGS to specify Makefile local
      compiler settings instead of modifying HB_USER_*FLAGS.
      This way the double defines are gone.
    + Included global.cf to all Makefiles which needs to modify
      HB_CFLAGS/HB_PRGFLAGS. Probably we should move global.cf
      inclusion to the top of all Makefiles as a convention.
      Not terribly elegant, but solves a few problems and
      more efficient.
    % Changed ', -I$(d))' to ',-I$(d))' along the way. This avoids
      wasting an extra space in command line.
    ; NOTE: It'd still be beneficial to find a way to get rid of 
            'descend' rule. It could make cmdlines cleaner/shorter 
            and whole build process simpler/faster. I didn't manage 
            so far.

  * source/vm/Makefile
    * Deleted 'HB_USER_CFLAGS := $(subst -DHB_MT_VM,,$(HB_USER_CFLAGS))'
      (since it's no longer supported practice to modify user supplied flags)
      I'm not sure if it's important enough to have. AFAIK there is no
      reason users use HB_MT_VM define, it's not a public setting, so we
      shouldn't go too much far in trying to protect against its presence.
      If it's needed, we should add 'HB_CFLAGS += -DHB_ST_VM' and handle
      HB_ST_VM as the reverse of HB_MT_VM inside the source.

  * source/rdd/dbffpt/dbffpt1.c
  * source/rdd/dbffpt/Makefile
    * Optimizations are now disabled using #pragma for __XCC__ instead of
      deleting them from HB_USER_CFLAGS. Please test, and see above on
      modifying HB_USER_CFLAGS in our make files.

  * bin/postinst.cmd
    ! Deleted double quote from target dir in xcopy commands.
      Blind change.

  * utils/hbtest/rt_main.ch
  * utils/hbtest/hbtest.hbp
  * utils/hbtest/Makefile
    + Changed to use #pragma to turn on line numbers instead of
      using HB_USER_PRGFLAGS (or HB_PRGFLAGS). This way there is
      no need for Makefile hack/tweaks and it works with all make methods
      automatically.

  * config/instsh.cf
    ! Partially restored a few things which were lost without comments
      in prev OS/2 commit:
      - Formatting
      - '@' prefixes
      - '-' prefixes

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.cmd
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/instsh.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/rules.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/contrib/gtalleg/Makefile
    trunk/harbour/contrib/gtqtc/Makefile
    trunk/harbour/contrib/hbcurl/Makefile
    trunk/harbour/contrib/hbcurl/hbcurls/Makefile
    trunk/harbour/contrib/hbfbird/Makefile
    trunk/harbour/contrib/hbfimage/Makefile
    trunk/harbour/contrib/hbgd/Makefile
    trunk/harbour/contrib/hbhpdf/Makefile
    trunk/harbour/contrib/hbmysql/Makefile
    trunk/harbour/contrib/hbodbc/Makefile
    trunk/harbour/contrib/hbpgsql/Makefile
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbsqlit3/Makefile
    trunk/harbour/contrib/hbssl/Makefile
    trunk/harbour/contrib/hbtip/hbtipssl/Makefile
    trunk/harbour/contrib/rddads/Makefile
    trunk/harbour/contrib/rddsql/sddfb/Makefile
    trunk/harbour/contrib/rddsql/sddmy/Makefile
    trunk/harbour/contrib/rddsql/sddodbc/Makefile
    trunk/harbour/contrib/rddsql/sddpg/Makefile
    trunk/harbour/external/libhpdf/Makefile
    trunk/harbour/external/libpng/Makefile
    trunk/harbour/external/sqlite3/Makefile
    trunk/harbour/source/rdd/dbffpt/Makefile
    trunk/harbour/source/rdd/dbffpt/dbffpt1.c
    trunk/harbour/source/rtl/gtcrs/Makefile
    trunk/harbour/source/rtl/gtsln/Makefile
    trunk/harbour/source/rtl/gttrm/Makefile
    trunk/harbour/source/rtl/gtxwc/Makefile
    trunk/harbour/source/vm/Makefile
    trunk/harbour/source/vm/maindllh/Makefile
    trunk/harbour/source/vm/maindllp/Makefile
    trunk/harbour/source/vm/vmmt/Makefile
    trunk/harbour/utils/hbtest/Makefile
    trunk/harbour/utils/hbtest/hbtest.hbp
    trunk/harbour/utils/hbtest/rt_main.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug 15 21:14:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 15 21:14:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12127] trunk/harbour
Message-ID: <E1McUK7-0006PX-Mf@d5vjzd1.ch3.sourceforge.com>

Revision: 12127
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12127&view=rev
Author:   vszakats
Date:     2009-08-16 01:14:14 +0000 (Sun, 16 Aug 2009)

Log Message:
-----------
2009-08-16 03:09 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * ChangeLog
  * source/rtl/Makefile
  * source/rdd/Makefile
  * config/bin.cf
  * config/wce/global.cf
  * config/rules.cf
    % Using HB_PRGFLAGS instead of HB_GCMODE. Logic is now simple
      and standard.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bin.cf
    trunk/harbour/config/rules.cf
    trunk/harbour/config/wce/global.cf
    trunk/harbour/source/rdd/Makefile
    trunk/harbour/source/rtl/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Aug 15 21:38:37 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 15 21:38:47 2009
Subject: [Harbour] Rename .cf files to .mk
Message-ID: <C7A66E7F-C143-4530-90EB-AAA6FE072F97@syenar.hu>

Hi All,

I'd like to rename .cf files to .mk.

.mk is listed as official extension for GNU Make files,
while .cf is just some sort Harbour speciality.

[ I may also rename /config dir to /gnumake. Plus some
support scripts would also better be moved there eventually,
since they belong together for the most part. ]

If you have better suggestion or any opinion pls speak up.

Brgds,
Viktor

From rhfsystems at yahoo.com.br  Sun Aug 16 00:16:25 2009
From: rhfsystems at yahoo.com.br (Reynaldo Henrique)
Date: Sun Aug 16 00:16:33 2009
Subject: [Harbour] gtwvwt is converted
In-Reply-To: <3EB7705A-4255-495A-A438-BE978288BD78@syenar.hu>
References: <609353e70908150347x3797615fgd7c64f2dd02b062a@mail.gmail.com>
	<18d502870908150510y1abcf2e6h83b9a20eb096d71e@mail.gmail.com>
	<609353e70908151118s3ca70096yf2656024b2aa998a@mail.gmail.com>
	<5DE8C4A0-27CF-40F1-9DA4-25C092EABE3D@syenar.hu>
	<609353e70908151234g4eaeb476ob9b15cd576c1be4b@mail.gmail.com>
	<1250372636511-3451333.post@n2.nabble.com>
	<3EB7705A-4255-495A-A438-BE978288BD78@syenar.hu>
Message-ID: <1250396185526-3452411.post@n2.nabble.com>



Viktor Szak?ts wrote:
> 
> Hi Reynaldo,
> 
>> Now, using xHb+MSVC, gtwvw can be compiled and link and so the  
>> gtwvw.lib
>> genarated without any warnings and errors, at all. And the  
>> executable file,
>> created from "\xharbour\contrib\gtwvw\samples\wvwtest9.prg" runs fine.
>> Since now, I would like to try to test gtwvw with Harbour, as well.
>> Although my knowledge of Harbour are just a little.
>>
>> So, next step is to port it to Harbour in my machine.
> 
> In Harbour MSVC is set to C++ mode by default. C++ mode much stricter
> when it comes to typing errors, plus some more.
> 
> Please try checking in C++ mode. Also MinGW. If these pass, the
> rest is relatively easy to fix.
> 
> In Harbour we've recently cleaned several types in GT API and
> extend API, so 'const' usage is now needed for example, plus
> some GT driver method's declaration also changed a bit. In C++
> these will generate errors with current code.
> 
> - Ok, thanks. It's good to know about this. I wiil pay attention on this
> issue.
> 
> In Harbour we also use hbmk2 to build tests and GNU Make to build
> the lib. You can find required files in my package, but they may
> need some modifications for the test apps, as they seem to need
> each other.
> 
> - Ok, thanks for the info. hbmk2 is better than hbmake. I consider hbmk2
> the best command line tool for building harbour app, although I know just
> a little about its usage, because I use Harbour only for tests and
> comparisions.
> 
> In sort, I think that it will not be easy to make "gtwvw.c" completly
> compatible with Harbour's standard
> or model. As you told, you've recently cleaned several types in GT API and
> extend API.
> 
> Regards,
> 
> Reynaldo Henrique
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/gtwvwt-is-converted-tp3449587p3452411.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From rhfsystems at yahoo.com.br  Sun Aug 16 00:41:43 2009
From: rhfsystems at yahoo.com.br (Reynaldo Henrique)
Date: Sun Aug 16 00:41:49 2009
Subject: [Harbour] gtwvwt is converted
In-Reply-To: <609353e70908151516h4e9ed7fci6014c7d7ddb247ae@mail.gmail.com>
References: <609353e70908150347x3797615fgd7c64f2dd02b062a@mail.gmail.com>
	<18d502870908150510y1abcf2e6h83b9a20eb096d71e@mail.gmail.com>
	<609353e70908151118s3ca70096yf2656024b2aa998a@mail.gmail.com>
	<5DE8C4A0-27CF-40F1-9DA4-25C092EABE3D@syenar.hu>
	<609353e70908151234g4eaeb476ob9b15cd576c1be4b@mail.gmail.com>
	<1250372636511-3451333.post@n2.nabble.com>
	<609353e70908151516h4e9ed7fci6014c7d7ddb247ae@mail.gmail.com>
Message-ID: <1250397703604-3452464.post@n2.nabble.com>




Massimo Belgrano wrote:
> 
> Hi Reynaldo
> 
> I hope that gtwvw follow  Harbour standards supporting C++ support,
> Unicode.
> i vote for consider hosting it in our contrib tree.maintaining xhb
> compatibility.
> Have you evaluated host gtwvw,wvwtools  as a separate project?
> 
> -Yes, I've evaluated both gtwvw and wvwtools separately from contrib.
> After Cristiam announced the chages done in gtwvw, I tested it and I saw
> that it was working with last xhb release; after that, I decide to change
> something necessary in the code, as for my own account, such as cleanning
> and make it compatible with other compilers. So, gtwvw's changes are not
> commited to CVS yet.
> 
> Inside wvwtools, I worked on it and I made the necessary changes for
> wvwtools worki fine for me.
> But I think, Cristiam is working with wvwtools code in order to make it
> compatible with the last changes.
> Well, at least my wvwtools is already working.
> 
> IMO, Harbour is more standardized than xHrb, but Harbour is more complex.
> 
> Regards,
> 
> Reynaldo Henrique
> 
>  
> 
> 2009/8/15 Reynaldo Henrique <rhfsystems@yahoo.com.br>:
>>
>>
>>
>> Hi, Viktor
>>
>> Now, using xHb+MSVC, gtwvw can be compiled and link and so the gtwvw.lib
>> genarated without any warnings and errors, at all. And the executable
>> file,
>> created from "\xharbour\contrib\gtwvw\samples\wvwtest9.prg" runs fine.
>> Since now, I would like to try to test gtwvw with Harbour, as well.
>> Although my knowledge of Harbour are just a little.
>>
>> So, next step is to port it to Harbour in my machine.
>>
>> Reynaldo Henrique
>>
>>
>>
>> Massimo Belgrano wrote:
>>>
>>> seem that Reinaldo from comp.lang.xharbour have made msvc modification
>>>
>>>
>>> 2009/8/15 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>> http://www.syenar.hu/harbour/download/hb_gtwvw.zip
>>>>
>>>> Please note that this isn't Harbour quality and isn't
>>>> even working, use at your own risk, still needs lots
>>>> of work to make it usable.
>>>>
>>>> Pbly it'd better to host it somewhere as a separate
>>>> project, if we see intent and activity to clean code
>>>> to be closer to Harbour standards (at least compiler
>>>> support, C++ support, Unicode.) Maybe we can even
>>>> consider hosting it in our contrib tree. Although in
>>>> this case it's much more difficult (if possible at
>>>> all) to maintain xhb compatibility.
>>>>
>>>> [ BTW I've ported in a Harbour only way, but since
>>>> I guess xhb users are also interested in this module,
>>>> the incompatible changes could rather be converted in
>>>> a way which keeps xhb compatibility, I didn't spend
>>>> time on that in this patch. ]
>>>>
>>>> Thanks for involved developers to port this bit,
>>>> it's a very big step towards having a working GTWVW.
>>>>
>>>> Brgds,
>>>> Viktor
>>>>
>>>> On 2009.08.15., at 8:18, Massimo Belgrano wrote:
>>>>
>>>>> I am interested
>>>>> I have a large application still in xharbour because use gtwvw
>>>>> Also a harbour->bcc version will be interested for me
>>>>> I hope that your indication will be followed from gtwvw developers
>>>>> (Reynaldo ,Christian Azambuja and Marson)
>>>>> Will gtwvw & wvwtools ?start a new open source project?
>>>>>
>>>>> 2009/8/15 Viktor Szak?ts <harbour.01@syenar.hu>:
>>>>>>
>>>>>> I've patched it to build on Harbour (using BCC as the most sloppy
>>>>>> compiler, the rest still have hundreds of warnings and errors), but
>>>>>> I have to say this component isn't the cleanest code I've ever seen.
>>>>>> I couldn't create one example which would work, but there is GPF,
>>>>>> various link errors due to missing dependencies, even hbwhat ones,
>>>>>> rest were unknown to me.
>>>>>>
>>>>>> If someone is interested I can send it though.
>>>>>>
>>>>>> Brgds,
>>>>>> Viktor
>>>>>>
>>>>>> On Sat, Aug 15, 2009 at 12:47 PM, Massimo
>>>>>> Belgrano<mbelgrano@deltain.it>
>>>>>> wrote:
>>>>>>>
>>>>>>> Hello,
>>>>>>>
>>>>>>> Message from the forum comp.lang.xharbour stating that gtwvw been
>>>>>>> converted, including the link to download (only comes with the
>>>>>>> sources, ).
>>>>>>>
>>>>>>> Message:
>>>>>>>
>>>>>>>
>>>>>>> http://groups.google.com.br/group/comp.lang.xharbour/browse_thread/thread/6f15dbfb2877da01?hl=pt-BR#
>>>>>>>
>>>>>>> Link to download:
>>>>>>>
>>>>>>> http://www.datacempro.com.br/download/free/gtwvw.zip
>>>>>>>
>>>>>>>
>>>>>>> I hope that work also with harbour
>>>>>>> Now i accessing internet from htc/windows mobile and can't try
>>>>>>>
>>>>>>> --
>>>>>>> Massimo Belgrano
>>>>>>> _______________________________________________
>>>>>>> Harbour mailing list
>>>>>>> Harbour@harbour-project.org
>>>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>>>
>>>>>> _______________________________________________
>>>>>> Harbour mailing list
>>>>>> Harbour@harbour-project.org
>>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Massimo Belgrano
>>>>> _______________________________________________
>>>>> Harbour mailing list
>>>>> Harbour@harbour-project.org
>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>
>>>
>>>
>>> --
>>> Massimo Belgrano
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>>
>>
>> --
>> View this message in context:
>> http://n2.nabble.com/gtwvwt-is-converted-tp3449587p3451333.html
>> Sent from the harbour-devel mailing list archive at Nabble.com.
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 
> 
> 
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/gtwvwt-is-converted-tp3449587p3452464.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From maurilio.longo at libero.it  Sun Aug 16 02:29:44 2009
From: maurilio.longo at libero.it (maurilio longo)
Date: Sun Aug 16 02:29:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12125] 
	trunk/harbour/ChangeLog
Message-ID: <KOGI1K$731E033DCEC18050707F306A99E3A139@libero.it>

Viktor,

written this way it freezes:

ifeq ($(HB_SHELL),os2)

   define inst_file_all
      -@if not exist $(INSTALL_DIR_OS) $(MDP) $(INSTALL_DIR)
      $(foreach file,$(INSTALL_FILES_OS),$(inst_file))
   endef

   define inst_file
      $(COMSPEC) /C $(CP) $(file) $(INSTALL_DIR_OS)

   endef

   INSTALL_RULE := $(inst_file_all)

endif


Maurilio


> Thanks for the input. Could you try the just removed
> method with readded $(COMSPEC) /C? Maybe the logic was
> good (after all it even works in MS-DOS), just this bit
> was causing freeze.
> 
> Brgds,
> Viktor
> 
> On 2009.08.16., at 0:37, maurilio longo wrote:
> 
> > Viktor,
> >
> > without the comspec trick a make install freezes, the shell cannot  
> > even be killed anymore :(
> >
> > Best regards.
> >
> > Maurilio.
> >
> > PS. See also my other answer to your previous message.
> >
> >
> >> BTW it would be also nice to hear what was the problem
> >> with previous commit (which was working for David), I've
> >> copied the DOS shell method, where the command line limit
> >> is even more restricted, yet it works fine. Maybe it'd be
> >> enough to use GNU cp (like with DOS) for OS/2 too, since
> >> that was also part of the DOS solution, but I didn't commit
> >> that part for OS/2.
> >>
> >> I'd welcome your comments and tests, I'm sure there is a
> >> better solution than current one.
> >>
> >> Brgds,
> >> Viktor
> >>
> >> On 2009.08.15., at 11:40, mauriliolongo@users.sourceforge.net wrote:
> >>
> >>> Revision: 12125
> >>>         http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12125&view=rev
> >>> Author:   mauriliolongo
> >>> Date:     2009-08-15 21:40:10 +0000 (Sat, 15 Aug 2009)
> >>>
> >>> Log Message:
> >>> -----------
> >>> 2009-08-15 23:37 UTC+0200 Maurilio Longo (maurilio.longo@libero.it)
> >>>  ! ChangeLog
> >>>    ! fixed typo in last commit.
> >>>
> >>> Modified Paths:
> >>> --------------
> >>>   trunk/harbour/ChangeLog
> >>>
> >>>
> >>> This was sent by the SourceForge.net collaborative development
> >>> platform, the world's largest Open Source development site.
> >>> _______________________________________________
> >>> Harbour mailing list
> >>> Harbour@harbour-project.org
> >>> http://lists.harbour-project.org/mailman/listinfo/harbour
> >>
> >> _______________________________________________
> >> Harbour mailing list
> >> Harbour@harbour-project.org
> >> http://lists.harbour-project.org/mailman/listinfo/harbour
> >>
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From harbour.01 at syenar.hu  Sun Aug 16 02:39:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug 16 02:39:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12125]
	trunk/harbour/ChangeLog
In-Reply-To: <KOGI1K$731E033DCEC18050707F306A99E3A139@libero.it>
References: <KOGI1K$731E033DCEC18050707F306A99E3A139@libero.it>
Message-ID: <422F20DC-76E9-4CFB-B192-761CAEFAA048@syenar.hu>

Hi Maurilio,

What if you stay within this scenario, but change $(CP)
value to GNU cp tool? You could also check GNU cp +
no COMSPEC.

GNU cp is here:
ftp://hobbes.nmsu.edu/pub/os2/util/file/gnufutil.zip

Copy exe\cp.exe to config\os2-cp.exe then in config\globsh.cf
change line #91 to this one:
CP := $(TOOL_DIR)\os2-cp -f

Brgds,
Viktor

On 2009.08.16., at 8:29, maurilio longo wrote:

> Viktor,
>
> written this way it freezes:
>
> ifeq ($(HB_SHELL),os2)
>
>   define inst_file_all
>      -@if not exist $(INSTALL_DIR_OS) $(MDP) $(INSTALL_DIR)
>      $(foreach file,$(INSTALL_FILES_OS),$(inst_file))
>   endef
>
>   define inst_file
>      $(COMSPEC) /C $(CP) $(file) $(INSTALL_DIR_OS)
>
>   endef
>
>   INSTALL_RULE := $(inst_file_all)
>
> endif
>
>
> Maurilio
>
>
>> Thanks for the input. Could you try the just removed
>> method with readded $(COMSPEC) /C? Maybe the logic was
>> good (after all it even works in MS-DOS), just this bit
>> was causing freeze.
>>
>> Brgds,
>> Viktor
>>
>> On 2009.08.16., at 0:37, maurilio longo wrote:
>>
>>> Viktor,
>>>
>>> without the comspec trick a make install freezes, the shell cannot
>>> even be killed anymore :(
>>>
>>> Best regards.
>>>
>>> Maurilio.
>>>
>>> PS. See also my other answer to your previous message.
>>>
>>>
>>>> BTW it would be also nice to hear what was the problem
>>>> with previous commit (which was working for David), I've
>>>> copied the DOS shell method, where the command line limit
>>>> is even more restricted, yet it works fine. Maybe it'd be
>>>> enough to use GNU cp (like with DOS) for OS/2 too, since
>>>> that was also part of the DOS solution, but I didn't commit
>>>> that part for OS/2.
>>>>
>>>> I'd welcome your comments and tests, I'm sure there is a
>>>> better solution than current one.
>>>>
>>>> Brgds,
>>>> Viktor
>>>>
>>>> On 2009.08.15., at 11:40, mauriliolongo@users.sourceforge.net  
>>>> wrote:
>>>>
>>>>> Revision: 12125
>>>>>        http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12125&view=rev
>>>>> Author:   mauriliolongo
>>>>> Date:     2009-08-15 21:40:10 +0000 (Sat, 15 Aug 2009)
>>>>>
>>>>> Log Message:
>>>>> -----------
>>>>> 2009-08-15 23:37 UTC+0200 Maurilio Longo  
>>>>> (maurilio.longo@libero.it)
>>>>> ! ChangeLog
>>>>>   ! fixed typo in last commit.
>>>>>
>>>>> Modified Paths:
>>>>> --------------
>>>>>  trunk/harbour/ChangeLog
>>>>>
>>>>>
>>>>> This was sent by the SourceForge.net collaborative development
>>>>> platform, the world's largest Open Source development site.
>>>>> _______________________________________________
>>>>> Harbour mailing list
>>>>> Harbour@harbour-project.org
>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From maurilio.longo at libero.it  Sun Aug 16 02:45:25 2009
From: maurilio.longo at libero.it (maurilio longo)
Date: Sun Aug 16 02:45:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12125] 
	trunk/harbour/ChangeLog
Message-ID: <KOGIRP$338F12449E28A30CAAB1B484434E7436@libero.it>

Viktor,

HB_INSTALL_PREFIX is wrong on OS/2, it points to

HB_INSTALL_PREFIX set to: E:\repository\harbour

which is where I have my copy of the svn source tree.

And I don't think OS/2 cmd.exe is able to correctly execute most of postinst.cmd; I'll do some tests an let you know.

Maurilio.



> Hi Maurilio,
> 
> It's an 'xcopy /y filename "dir\" > nul' command in bin/postinst.cmd.
> Maybe it doesn't like the quotes around dir. Could you try?
> 
> Brgds,
> Viktor
> 
> On 2009.08.16., at 0:43, maurilio longo wrote:
> 
> > Viktor,
> >
> > there is some other problem at the end of the make install, when it  
> > builds hbmk.cfg, but it does not freeze the shell and I don't have  
> > time right now to look at it.
> >
> > Maurilio.
> >
> > ...
> > ! 'sddfb' library skipped
> > ! 'sddodbc' library skipped
> > ! 'hbxbp' library skipped
> > make[3]: `../../../../../lib/os2/gcc/libhpdf.a' is up to date.
> > C:\OS2\CMD.EXE /C copy ..\..\lib\os2\gcc\libhpdf.a e:\harbour\lib
> >        1 file(s) copied.
> > make[3]: `../../../../../lib/os2/gcc/libpng.a' is up to date.
> > C:\OS2\CMD.EXE /C copy ..\..\lib\os2\gcc\libpng.a e:\harbour\lib
> >        1 file(s) copied.
> > make[3]: `../../../../../lib/os2/gcc/sqlite3.a' is up to date.
> > C:\OS2\CMD.EXE /C copy ..\..\lib\os2\gcc\sqlite3.a e:\harbour\lib
> >        1 file(s) copied.
> > .\bin\postinst.cmd
> > (E:\repository\harbour)
> > ! Generating e:\harbour\bin\hbmk.cfg...
> > SYS1001: An incorrect parameter was entered for the command.
> >
> > SYS1001: An incorrect parameter was entered for the command.
> >
> > SYS1001: An incorrect parameter was entered for the command.
> >
> > SYS1001: An incorrect parameter was entered for the command.
> >
> > SYS1001: An incorrect parameter was entered for the command.
> >
> >
> > (E:\repository\harbour)type \harbour\bin\hbmk.cfg
> > # Harbour Make (hbmk2) configuration
> > # Generated by Harbour build process
> >
> > libpaths=../contrib/%{hb_name}
> > libpaths=../contrib/rddsql/%{hb_name}
> > libpaths=../addons/%{hb_name}
> > libpaths=../examples/%{hb_name}
> >
> >
> >
> >
> >> BTW it would be also nice to hear what was the problem
> >> with previous commit (which was working for David), I've
> >> copied the DOS shell method, where the command line limit
> >> is even more restricted, yet it works fine. Maybe it'd be
> >> enough to use GNU cp (like with DOS) for OS/2 too, since
> >> that was also part of the DOS solution, but I didn't commit
> >> that part for OS/2.
> >>
> >> I'd welcome your comments and tests, I'm sure there is a
> >> better solution than current one.
> >>
> >> Brgds,
> >> Viktor
> >>
> >> On 2009.08.15., at 11:40, mauriliolongo@users.sourceforge.net wrote:
> >>
> >>> Revision: 12125
> >>>         http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12125&view=rev
> >>> Author:   mauriliolongo
> >>> Date:     2009-08-15 21:40:10 +0000 (Sat, 15 Aug 2009)
> >>>
> >>> Log Message:
> >>> -----------
> >>> 2009-08-15 23:37 UTC+0200 Maurilio Longo (maurilio.longo@libero.it)
> >>>  ! ChangeLog
> >>>    ! fixed typo in last commit.
> >>>
> >>> Modified Paths:
> >>> --------------
> >>>   trunk/harbour/ChangeLog
> >>>
> >>>
> >>> This was sent by the SourceForge.net collaborative development
> >>> platform, the world's largest Open Source development site.
> >>> _______________________________________________
> >>> Harbour mailing list
> >>> Harbour@harbour-project.org
> >>> http://lists.harbour-project.org/mailman/listinfo/harbour
> >>
> >> _______________________________________________
> >> Harbour mailing list
> >> Harbour@harbour-project.org
> >> http://lists.harbour-project.org/mailman/listinfo/harbour
> >>
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From harbour.01 at syenar.hu  Sun Aug 16 02:57:43 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug 16 02:57:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12125]
	trunk/harbour/ChangeLog
In-Reply-To: <KOGIRP$338F12449E28A30CAAB1B484434E7436@libero.it>
References: <KOGIRP$338F12449E28A30CAAB1B484434E7436@libero.it>
Message-ID: <73E3F02E-716E-4FDE-AC19-75B346A3CAA0@syenar.hu>

> Viktor,
>
> HB_INSTALL_PREFIX is wrong on OS/2, it points to
>
> HB_INSTALL_PREFIX set to: E:\repository\harbour
> which is where I have my copy of the svn source tree.

It's meant to point there. This is the only location
we surely know we can install to without doing any
harm to the system. It also produces a working binary
tree this way. In this case it's normal that 'install'
shows errors telling src and dst filenames are identical,
these can be ignored.

> And I don't think OS/2 cmd.exe is able to correctly execute most of  
> postinst.cmd; I'll do some tests an let you know.

I did my best reading all the scarce documentation
on OS/2 versions of commands, many times I have to
guess, I hate to work like this and chances are very
high to do mistakes, I'd prefer if OS/2 users would
update this, if I have to do it it will look like this.

[ I wonder how can there be errors in most cmds,
as hbmk.cfg is created ok, the remaining 5 commands
are simple 'if ... xcopy' ones, only there can be
problem. ]

Anyway, please test/fix them.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Aug 16 03:41:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 16 03:41:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12128] trunk/harbour
Message-ID: <E1McaNF-0002db-9w@74yxhf1.ch3.sourceforge.com>

Revision: 12128
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12128&view=rev
Author:   vszakats
Date:     2009-08-16 07:41:52 +0000 (Sun, 16 Aug 2009)

Log Message:
-----------
2009-08-16 09:39 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
    ! Fixed to process HB_BUILD_NAME when forming package install dir
      inside /pkg dir.
    % Delete an unnecessary line.

  * package/mpkg_win.nsi
  * config/global.cf
  * bin/postinst.bat
    * Little bit changed the way dirs/names are communicated from
      GNU Make to postinst package creation code.
      The goal was to have an internal PKG_DIR var which is similar
      to other *_DIR vars. It was also possible to delete some
      exported vars this way.
    - Disabled package creation for non-NT shells (= pure MS-DOS).
      I found no way to make this work cleanly on pure MS-DOS.
    + Documented weird requirements of zip building. Also to better
      clarify why abspath is needed in GNU Make.

  * config/instsh.cf
    * Updated OS/2 comment to clarify some issues according to
      information from Maurilio.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/config/global.cf
    trunk/harbour/config/instsh.cf
    trunk/harbour/package/mpkg_win.nsi


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug 16 04:05:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 16 04:05:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12129] trunk/harbour
Message-ID: <E1Mcajg-0000mB-5k@d5vjzd1.ch3.sourceforge.com>

Revision: 12129
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12129&view=rev
Author:   vszakats
Date:     2009-08-16 08:05:03 +0000 (Sun, 16 Aug 2009)

Log Message:
-----------
2009-08-16 10:04 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * ChangeLog
  * config/globsh.cf
    + 'clean' now deletes pkg/<arch>/<comp> dir. This ensures that
      package creation always starts with a fresh empty dir.
      Resolves existing TOFIX (marked DONE).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug 16 04:18:56 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 16 04:19:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12130] trunk/harbour
Message-ID: <E1Mcax6-00011d-Ui@d5vjzd1.ch3.sourceforge.com>

Revision: 12130
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12130&view=rev
Author:   vszakats
Date:     2009-08-16 08:18:55 +0000 (Sun, 16 Aug 2009)

Log Message:
-----------
2009-08-16 10:18 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * external/libpng/pngconf.h
  * external/libpng/pngset.c
  * external/libpng/pngpread.c
  * external/libpng/LICENSE
  * external/libpng/pngwutil.c
  * external/libpng/png.c
  * external/libpng/png.h
    * Updated to 1.2.39 (from 1.2.38)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/external/libpng/LICENSE
    trunk/harbour/external/libpng/png.c
    trunk/harbour/external/libpng/png.h
    trunk/harbour/external/libpng/pngconf.h
    trunk/harbour/external/libpng/pngpread.c
    trunk/harbour/external/libpng/pngset.c
    trunk/harbour/external/libpng/pngwutil.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug 16 04:37:40 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 16 04:37:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12131] trunk/harbour
Message-ID: <E1McbFE-0001MN-II@d5vjzd1.ch3.sourceforge.com>

Revision: 12131
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12131&view=rev
Author:   vszakats
Date:     2009-08-16 08:37:39 +0000 (Sun, 16 Aug 2009)

Log Message:
-----------
2009-08-16 10:37 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
    + Package creation now only works if run from Harbour source root.
    + 'clean' of pkg dir will only happen now if run from Harbour source root.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From phil at newstar.rinet.ru  Sun Aug 16 04:59:48 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Sun Aug 16 05:00:15 2009
Subject: [Harbour] Rename .cf files to .mk
In-Reply-To: <C7A66E7F-C143-4530-90EB-AAA6FE072F97@syenar.hu>
References: <C7A66E7F-C143-4530-90EB-AAA6FE072F97@syenar.hu>
Message-ID: <c10dbf450908160159o57016762q8c01ce5618e85ce9@mail.gmail.com>

Hi,

On Sun, Aug 16, 2009 at 5:38 AM, Viktor Szak?ts<harbour.01@syenar.hu> wrote:
> I'd like to rename .cf files to .mk.
>
> .mk is listed as official extension for GNU Make files,
> while .cf is just some sort Harbour speciality.

While I think it's no much sense, it feels harmless to me.

> [ I may also rename /config dir to /gnumake.

I'm against it.

> Plus some
> support scripts would also better be moved there eventually,
> since they belong together for the most part. ]

Which scripts?

> If you have better suggestion or any opinion pls speak up.

-- Ph.
From phil at newstar.rinet.ru  Sun Aug 16 05:07:48 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Sun Aug 16 05:08:14 2009
Subject: [Harbour] HB_INSTALL_PREFIX=/opt/harbour issue
In-Reply-To: <224EE6C6-DB57-4DD7-8961-7DDA03041A45@syenar.hu>
References: <9257026e0908150828n980db8bn23683cf30effbbb@mail.gmail.com> 
	<224EE6C6-DB57-4DD7-8961-7DDA03041A45@syenar.hu>
Message-ID: <c10dbf450908160207t6e598fdbi57317d2e17eefc2f@mail.gmail.com>

On Sat, Aug 15, 2009 at 8:02 PM, Viktor Szak?ts<harbour.01@syenar.hu> wrote:
>> Just to report that using the prefix in the subj the libs are put in
>> /opt/harbour/lib/harbour.

I think it's perfect.

>> I think that set correctly HB_INSTALL_PREFIX should be an user's
>> responsibility and a safe
>> default could be $HOME/harbour-ver.
>> Here the main goal seem to respect HB_INSTALL_PREFIX and protect
>> casual user from running "make install"
>> without knowing well what's he doing.
>
> I couldn't agree more. The safest place to install files
> is the source tree itself. This is is how it's done already
> on non-*nix OSes and such installed Harbour is perfectly usable.
>
> If this is acceptable for Linux users, it's very easy to
> make this change.

The traditional default prefix for Linux for install from source is
/usr/local. Please don't.

-- Ph.
From harbour.01 at syenar.hu  Sun Aug 16 05:09:49 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug 16 05:09:56 2009
Subject: [Harbour] Rename .cf files to .mk
In-Reply-To: <c10dbf450908160159o57016762q8c01ce5618e85ce9@mail.gmail.com>
References: <C7A66E7F-C143-4530-90EB-AAA6FE072F97@syenar.hu>
	<c10dbf450908160159o57016762q8c01ce5618e85ce9@mail.gmail.com>
Message-ID: <42B73D4F-61BD-43BE-9B63-9D183AA72B11@syenar.hu>

Hi Phil,

> On Sun, Aug 16, 2009 at 5:38 AM, Viktor Szak?ts<harbour. 
> 01@syenar.hu> wrote:
>> I'd like to rename .cf files to .mk.
>>
>> .mk is listed as official extension for GNU Make files,
>> while .cf is just some sort Harbour speciality.
>
> While I think it's no much sense, it feels harmless to me.

It may make some sense because some tools may turn
on syntax highlighting for example, or do some other
associated features to such known extension. It's
always better to use standard extensions if there is
one. .mk is also used in GNU Make documentation
examples.

>> [ I may also rename /config dir to /gnumake.
>
> I'm against it.

Any reasons?

[ for me 'config' doesn't seem like a common name for
similar purpose in other projects, nor does it really
describe the content, which is pure gnu make
logic/files/script. ]

>> Plus some
>> support scripts would also better be moved there eventually,
>> since they belong together for the most part. ]
>
> Which scripts?

The ones in /bin and maybe /package. postinst.* in the first
round. Currently the make logic and varnames are scattered
in these files and dirs, which makes them more difficult to
keep in sync. Most /bin scripts are now executed from postinst
scripts. I know some of them are also valid as stdalone
scripts (hb-mkdyn.sh and hb-mkimp.bat), plus I'd also wait
until we drop hbmk script before doing more changes here.

Thanks for your input.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Aug 16 05:18:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug 16 05:18:32 2009
Subject: [Harbour] HB_INSTALL_PREFIX=/opt/harbour issue
In-Reply-To: <c10dbf450908160207t6e598fdbi57317d2e17eefc2f@mail.gmail.com>
References: <9257026e0908150828n980db8bn23683cf30effbbb@mail.gmail.com>
	<224EE6C6-DB57-4DD7-8961-7DDA03041A45@syenar.hu>
	<c10dbf450908160207t6e598fdbi57317d2e17eefc2f@mail.gmail.com>
Message-ID: <0CED92F5-3463-4784-9524-C9B8F249CE1A@syenar.hu>

> On Sat, Aug 15, 2009 at 8:02 PM, Viktor Szak?ts<harbour. 
> 01@syenar.hu> wrote:
>>> Just to report that using the prefix in the subj the libs are put in
>>> /opt/harbour/lib/harbour.
>
> I think it's perfect.
>
>>> I think that set correctly HB_INSTALL_PREFIX should be an user's
>>> responsibility and a safe
>>> default could be $HOME/harbour-ver.
>>> Here the main goal seem to respect HB_INSTALL_PREFIX and protect
>>> casual user from running "make install"
>>> without knowing well what's he doing.
>>
>> I couldn't agree more. The safest place to install files
>> is the source tree itself. This is is how it's done already
>> on non-*nix OSes and such installed Harbour is perfectly usable.
>>
>> If this is acceptable for Linux users, it's very easy to
>> make this change.
>
> The traditional default prefix for Linux for install from source is
> /usr/local. Please don't.

Okay. I assume this will be Przemek's POV also, plus expected *nix
behavior. Anyhow, for me either way is fine.

BTW, users who don't like default behavior on *nix system (me included),
can use:

$ export HB_INSTALL_PREFIX={HB_TOP}

Which will set it to the Harbour source root, just like it is for
non-*nix platforms.

{HB_COMP}, {HB_ARCH} and {HB_CPU} are also available as macros in
HB_INSTALL_PREFIX value. F.e. if someone would like to install Harbour
in C:\hb-<compiler>, (s)he can use:

set HB_INSTALL_PREFIX=C:\hb-{HB_COMP}

Brgds,
Viktor

From phil at newstar.rinet.ru  Sun Aug 16 05:25:21 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Sun Aug 16 05:25:47 2009
Subject: [Harbour] Rename .cf files to .mk
In-Reply-To: <42B73D4F-61BD-43BE-9B63-9D183AA72B11@syenar.hu>
References: <C7A66E7F-C143-4530-90EB-AAA6FE072F97@syenar.hu> 
	<c10dbf450908160159o57016762q8c01ce5618e85ce9@mail.gmail.com> 
	<42B73D4F-61BD-43BE-9B63-9D183AA72B11@syenar.hu>
Message-ID: <c10dbf450908160225v5e43ed08j6172a475ae43297c@mail.gmail.com>

On Sun, Aug 16, 2009 at 1:09 PM, Viktor Szak?ts<harbour.01@syenar.hu> wrote:
> Hi Phil,
>
>> On Sun, Aug 16, 2009 at 5:38 AM, Viktor Szak?ts<harbour.01@syenar.hu>
>> wrote:
>>>
>>> I'd like to rename .cf files to .mk.
>>>
>>> .mk is listed as official extension for GNU Make files,
>>> while .cf is just some sort Harbour speciality.
>>
>> While I think it's no much sense, it feels harmless to me.
>
> It may make some sense because some tools may turn
> on syntax highlighting for example, or do some other
> associated features to such known extension. It's
> always better to use standard extensions if there is
> one. .mk is also used in GNU Make documentation
> examples.

The tools I use provide makefile syntax highlighting for .cf out of
the box. As well as for .mk. So .cf extension seems to be traditional,
to.

>>> [ I may also rename /config dir to /gnumake.
>>
>> I'm against it.
>
> Any reasons?
>
> [ for me 'config' doesn't seem like a common name for
> similar purpose in other projects, nor does it really
> describe the content, which is pure gnu make
> logic/files/script. ]

It is a traditional name for GNU build environments. Also, it's
mnemonic while "gnumake" is very hard to remember.

>>> Plus some
>>> support scripts would also better be moved there eventually,
>>> since they belong together for the most part. ]
>>
>> Which scripts?
>
> The ones in /bin and maybe /package. postinst.* in the first
> round. Currently the make logic and varnames are scattered
> in these files and dirs, which makes them more difficult to
> keep in sync. Most /bin scripts are now executed from postinst
> scripts. I know some of them are also valid as stdalone
> scripts (hb-mkdyn.sh and hb-mkimp.bat), plus I'd also wait
> until we drop hbmk script before doing more changes here.

Ok.

-- Ph.
From harbour.01 at syenar.hu  Sun Aug 16 05:40:47 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug 16 05:40:58 2009
Subject: [Harbour] Rename .cf files to .mk
In-Reply-To: <c10dbf450908160225v5e43ed08j6172a475ae43297c@mail.gmail.com>
References: <C7A66E7F-C143-4530-90EB-AAA6FE072F97@syenar.hu>
	<c10dbf450908160159o57016762q8c01ce5618e85ce9@mail.gmail.com>
	<42B73D4F-61BD-43BE-9B63-9D183AA72B11@syenar.hu>
	<c10dbf450908160225v5e43ed08j6172a475ae43297c@mail.gmail.com>
Message-ID: <99B47B3D-38D8-416A-8916-010C1C88EE00@syenar.hu>

>>> While I think it's no much sense, it feels harmless to me.
>>
>> It may make some sense because some tools may turn
>> on syntax highlighting for example, or do some other
>> associated features to such known extension. It's
>> always better to use standard extensions if there is
>> one. .mk is also used in GNU Make documentation
>> examples.
>
> The tools I use provide makefile syntax highlighting for .cf out of
> the box. As well as for .mk. So .cf extension seems to be traditional,
> to.

Double checked and .cf is indeed used in some places,
but the actual content wasn't GNU Make script in the
case I could fine (X11 it's C like content, it's also
sendmail config file, Imake config file, plus some
other such things).

.mk seems more widespread and non-ambiguous.

>>>> [ I may also rename /config dir to /gnumake.
>>>
>>> I'm against it.
>>
>> Any reasons?
>>
>> [ for me 'config' doesn't seem like a common name for
>> similar purpose in other projects, nor does it really
>> describe the content, which is pure gnu make
>> logic/files/script. ]
>
> It is a traditional name for GNU build environments. Also, it's
> mnemonic while "gnumake" is very hard to remember.

Thank you.

Brgds,
Viktor

From ice at extreme.hu  Sun Aug 16 06:19:08 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sun Aug 16 06:19:15 2009
Subject: [Harbour] HB_INSTALL_PREFIX=/opt/harbour issue
In-Reply-To: <c10dbf450908160207t6e598fdbi57317d2e17eefc2f@mail.gmail.com>
References: <9257026e0908150828n980db8bn23683cf30effbbb@mail.gmail.com>
	<224EE6C6-DB57-4DD7-8961-7DDA03041A45@syenar.hu>
	<c10dbf450908160207t6e598fdbi57317d2e17eefc2f@mail.gmail.com>
Message-ID: <alpine.GSO.2.00.0908161157160.3629@dawn.royalcomp.hu>

On Sun, 16 Aug 2009, Phil Krylov wrote:

 > On Sat, Aug 15, 2009 at 8:02 PM, Viktor Szak?ts<harbour.01@syenar.hu> wrote:
 > >> Just to report that using the prefix in the subj the libs are put in
 > >> /opt/harbour/lib/harbour.
 > 
 > I think it's perfect.
 > 
 > >> I think that set correctly HB_INSTALL_PREFIX should be an user's
 > >> responsibility and a safe
 > >> default could be $HOME/harbour-ver.
 > >> Here the main goal seem to respect HB_INSTALL_PREFIX and protect
 > >> casual user from running "make install"
 > >> without knowing well what's he doing.
 > >
 > > I couldn't agree more. The safest place to install files
 > > is the source tree itself. This is is how it's done already
 > > on non-*nix OSes and such installed Harbour is perfectly usable.
 > >
 > > If this is acceptable for Linux users, it's very easy to
 > > make this change.
 > 
 > The traditional default prefix for Linux for install from source is
 > /usr/local. Please don't.

but it screws a great number of other *nixes. on free|openbsd, it's 
the default prefix for things installed by the package manager 
(ports/pkg), it rarely exists on commercial unixes, and if it does, 
semi-official packages for that platform tend to install packages 
there (nevertheless, that can be said of most other customary 
locations, as well :/). there's no one true way here, sticking with 
/usr/local is just as good as any (and i'd say it's the least 
surprise).

from a compatibility/customary/possibly packaging pov, it would be 
nice if DESTDIR was recognised (which is essentially the same as 
HB_INSTALL_PREFIX, far as i can tell, and is widely used by autoconf'd 
stuff). it could be as simple as (completely untested):

Index: config/global.cf
===================================================================
--- config/global.cf    (revision 12131)
+++ config/global.cf    (working copy)
@@ -248,8 +248,14 @@
       ifneq ($(HB_USER_AFLAGS),)
          $(info ! HB_USER_AFLAGS: $(HB_USER_AFLAGS))
       endif
-      ifneq ($(HB_INSTALL_PREFIX),)
-         $(info ! HB_INSTALL_PREFIX: $(HB_INSTALL_PREFIX))
+      ifneq ($(DESTDIR),)
+         $(info ! DESTDIR: $(DESTDIR))
+         $(info ! HB_INSTALL_PREFIX set to $(DESTDIR))
+         HB_INSTALL_PREFIX := $(DESTDIR)
+      else
+         ifneq ($(HB_INSTALL_PREFIX),)
+            $(info ! HB_INSTALL_PREFIX: $(HB_INSTALL_PREFIX))
+         endif
       endif
       ifneq ($(HB_BIN_INSTALL),)
          $(info ! HB_BIN_INSTALL: $(HB_BIN_INSTALL))


i think that if especially after this change one manages to 
inadvertently overwrite her system (assuming no bugs in the install 
stuff ;), it's safe to say she didn't have a clue as to what she was 
doing in the first place, against what there's no protection.

-- 
[-]

mkdir /nonexistent
From ice at extreme.hu  Sun Aug 16 06:28:35 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sun Aug 16 06:28:41 2009
Subject: [Harbour] arch autodetection failure
Message-ID: <alpine.GSO.2.00.0908161220130.3629@dawn.royalcomp.hu>


hi,

so the above wasn't meant to be untested, but some glitch in the 
autodetection mechanism made it go completely south at least here (i 
haven't built a fresh-ish checkout for a while):

r12131 with the previous (i'd like to think at most harmless) change, 

tinky:~/w/xhb/harbour$ env | fgrep HB
HB_CONTRIBLIBS=no
HB_COMMERCE=yes
HB_COMPILER=sunpro
HB_BUILD_MODE=
tinky:~/w/xhb/harbour$ make
! MAKE: make 3.81   /bin/sh
! DESTDIR: /tmp/hb
! HB_INSTALL_PREFIX set to /tmp/hb
! HB_CONTRIBLIBS: no
! HB_HOST_ARCH: linux  HB_SHELL: sh
! HB_ARCHITECTURE: win (autodetected)
! HB_COMPILER: sunpro 
! HB_BIN_COMPILE not specified. Automatically set to: /usr/bin
make[2]: Nothing to be done for `all'.
make[1]: Nothing to be done for `all'.
../../config/lib.cf:12: ../../config/win/sunpro.cf: No such file or directory
make[2]: *** No rule to make target `../../config/win/sunpro.cf'.  Stop.
make[1]: *** [common] Error 2
make: *** [source] Error 2

according to current INSTALL, this should just work, doesn't it?

explicitly setting  HB_ARCHITECTURE to linux works of course.

-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Sun Aug 16 06:48:01 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Aug 16 06:48:08 2009
Subject: [Harbour] HB_INSTALL_PREFIX=/opt/harbour issue
In-Reply-To: <alpine.GSO.2.00.0908161157160.3629@dawn.royalcomp.hu>
References: <9257026e0908150828n980db8bn23683cf30effbbb@mail.gmail.com>
	<224EE6C6-DB57-4DD7-8961-7DDA03041A45@syenar.hu>
	<c10dbf450908160207t6e598fdbi57317d2e17eefc2f@mail.gmail.com>
	<alpine.GSO.2.00.0908161157160.3629@dawn.royalcomp.hu>
Message-ID: <18d502870908160348q1c391752n4bc6ae1eb8e56237@mail.gmail.com>

This has to be done in a slightly different way:
- no logic should be put in the config dump section, as its not
  guaranteed to run on all make versions.
- DESTDIR should only be read for nixes.

Ill commit this in a while.

(sorry for the typing Im on a HU keyboard right now)

Brgds,
Viktor

On Sun, Aug 16, 2009 at 12:19 PM, Tamas TEVESZ<ice@extreme.hu> wrote:
> On Sun, 16 Aug 2009, Phil Krylov wrote:
>
> ?> On Sat, Aug 15, 2009 at 8:02 PM, Viktor Szak?ts<harbour.01@syenar.hu> wrote:
> ?> >> Just to report that using the prefix in the subj the libs are put in
> ?> >> /opt/harbour/lib/harbour.
> ?>
> ?> I think it's perfect.
> ?>
> ?> >> I think that set correctly HB_INSTALL_PREFIX should be an user's
> ?> >> responsibility and a safe
> ?> >> default could be $HOME/harbour-ver.
> ?> >> Here the main goal seem to respect HB_INSTALL_PREFIX and protect
> ?> >> casual user from running "make install"
> ?> >> without knowing well what's he doing.
> ?> >
> ?> > I couldn't agree more. The safest place to install files
> ?> > is the source tree itself. This is is how it's done already
> ?> > on non-*nix OSes and such installed Harbour is perfectly usable.
> ?> >
> ?> > If this is acceptable for Linux users, it's very easy to
> ?> > make this change.
> ?>
> ?> The traditional default prefix for Linux for install from source is
> ?> /usr/local. Please don't.
>
> but it screws a great number of other *nixes. on free|openbsd, it's
> the default prefix for things installed by the package manager
> (ports/pkg), it rarely exists on commercial unixes, and if it does,
> semi-official packages for that platform tend to install packages
> there (nevertheless, that can be said of most other customary
> locations, as well :/). there's no one true way here, sticking with
> /usr/local is just as good as any (and i'd say it's the least
> surprise).
>
> from a compatibility/customary/possibly packaging pov, it would be
> nice if DESTDIR was recognised (which is essentially the same as
> HB_INSTALL_PREFIX, far as i can tell, and is widely used by autoconf'd
> stuff). it could be as simple as (completely untested):
>
> Index: config/global.cf
> ===================================================================
> --- config/global.cf ? ?(revision 12131)
> +++ config/global.cf ? ?(working copy)
> @@ -248,8 +248,14 @@
> ? ? ? ifneq ($(HB_USER_AFLAGS),)
> ? ? ? ? ?$(info ! HB_USER_AFLAGS: $(HB_USER_AFLAGS))
> ? ? ? endif
> - ? ? ?ifneq ($(HB_INSTALL_PREFIX),)
> - ? ? ? ? $(info ! HB_INSTALL_PREFIX: $(HB_INSTALL_PREFIX))
> + ? ? ?ifneq ($(DESTDIR),)
> + ? ? ? ? $(info ! DESTDIR: $(DESTDIR))
> + ? ? ? ? $(info ! HB_INSTALL_PREFIX set to $(DESTDIR))
> + ? ? ? ? HB_INSTALL_PREFIX := $(DESTDIR)
> + ? ? ?else
> + ? ? ? ? ifneq ($(HB_INSTALL_PREFIX),)
> + ? ? ? ? ? ?$(info ! HB_INSTALL_PREFIX: $(HB_INSTALL_PREFIX))
> + ? ? ? ? endif
> ? ? ? endif
> ? ? ? ifneq ($(HB_BIN_INSTALL),)
> ? ? ? ? ?$(info ! HB_BIN_INSTALL: $(HB_BIN_INSTALL))
>
>
> i think that if especially after this change one manages to
> inadvertently overwrite her system (assuming no bugs in the install
> stuff ;), it's safe to say she didn't have a clue as to what she was
> doing in the first place, against what there's no protection.
>
> --
> [-]
>
> mkdir /nonexistent
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From harbour.01 at syenar.hu  Sun Aug 16 06:49:17 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Aug 16 06:49:23 2009
Subject: [Harbour] arch autodetection failure
In-Reply-To: <alpine.GSO.2.00.0908161220130.3629@dawn.royalcomp.hu>
References: <alpine.GSO.2.00.0908161220130.3629@dawn.royalcomp.hu>
Message-ID: <18d502870908160349l33395eeflcab91cd3156b3165@mail.gmail.com>

It should. So does it also not work using latest SVN without local changes?

Brgd,
Viktor

On Sun, Aug 16, 2009 at 12:28 PM, Tamas TEVESZ<ice@extreme.hu> wrote:
>
> hi,
>
> so the above wasn't meant to be untested, but some glitch in the
> autodetection mechanism made it go completely south at least here (i
> haven't built a fresh-ish checkout for a while):
>
> r12131 with the previous (i'd like to think at most harmless) change,
>
> tinky:~/w/xhb/harbour$ env | fgrep HB
> HB_CONTRIBLIBS=no
> HB_COMMERCE=yes
> HB_COMPILER=sunpro
> HB_BUILD_MODE=
> tinky:~/w/xhb/harbour$ make
> ! MAKE: make 3.81 ? /bin/sh
> ! DESTDIR: /tmp/hb
> ! HB_INSTALL_PREFIX set to /tmp/hb
> ! HB_CONTRIBLIBS: no
> ! HB_HOST_ARCH: linux ?HB_SHELL: sh
> ! HB_ARCHITECTURE: win (autodetected)
> ! HB_COMPILER: sunpro
> ! HB_BIN_COMPILE not specified. Automatically set to: /usr/bin
> make[2]: Nothing to be done for `all'.
> make[1]: Nothing to be done for `all'.
> ../../config/lib.cf:12: ../../config/win/sunpro.cf: No such file or directory
> make[2]: *** No rule to make target `../../config/win/sunpro.cf'. ?Stop.
> make[1]: *** [common] Error 2
> make: *** [source] Error 2
>
> according to current INSTALL, this should just work, doesn't it?
>
> explicitly setting ?HB_ARCHITECTURE to linux works of course.
>
> --
> [-]
>
> mkdir /nonexistent
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From ice at extreme.hu  Sun Aug 16 06:55:56 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sun Aug 16 06:56:03 2009
Subject: [Harbour] linux/gcc link failure
Message-ID: <alpine.GSO.2.00.0908161248260.3629@dawn.royalcomp.hu>


hi,

r12131, linux (x64), gcc 4.3:

Generating /tmp/hb/bin/hb-build... 
Creating links...
Making libharbour-2.0.0.so...
/usr/bin/ld: ./libhbusrrdd.a/usrrdd.o: relocation R_X86_64_32S against `a local symbol' can not be used when making a shared object; recompile with -fPIC
./libhbusrrdd.a/usrrdd.o: could not read symbols: Bad value
collect2: ld returned 1 exit status
Making libharbourmt-2.0.0.so...
/usr/bin/ld: ./libhbusrrdd.a/usrrdd.o: relocation R_X86_64_32S against `a local symbol' can not be used when making a shared object; recompile with -fPIC
./libhbusrrdd.a/usrrdd.o: could not read symbols: Bad value
collect2: ld returned 1 exit status

why is -fPIC commented out in config/linux/gcc.cf? i'd think that 
there must a good reason for that, but i can not think of any. 
przemek, perhaps?


-- 
[-]

mkdir /nonexistent
From ice at extreme.hu  Sun Aug 16 07:00:40 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sun Aug 16 07:00:50 2009
Subject: [Harbour] arch autodetection failure
In-Reply-To: <18d502870908160349l33395eeflcab91cd3156b3165@mail.gmail.com>
References: <alpine.GSO.2.00.0908161220130.3629@dawn.royalcomp.hu>
	<18d502870908160349l33395eeflcab91cd3156b3165@mail.gmail.com>
Message-ID: <alpine.GSO.2.00.0908161256080.3629@dawn.royalcomp.hu>

On Sun, 16 Aug 2009, Viktor Szak?ts wrote:

 > It should. So does it also not work using latest SVN without local changes?

it does. sorry for the noise then.


-- 
[-]

mkdir /nonexistent
From dmacias at mail.udg.mx  Sun Aug 16 09:19:08 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Aug 16 09:19:26 2009
Subject: [Harbour] Harbour under OS/2 - eCS  gcc
Message-ID: <4A88074C.40103@mail.udg.mx>

After a long delay, now Harbour build with newer gcc  :-)

In Oct 2008 I tried to build Harbour with gcc432 (see "Harbour under 
OS/2 - gcc432", October 28, 2008 )
It failed due emxbind known problem
------------------
emxbind: invalid a.out file (startup code)
ld.exe: emxbind failed
------------------

Recently I was searching how to build Harbour with new gcc

The results are:
gcc440
======
   Build time: 53 minutes
   Build everything except hbrun.exe

gcc432
======
   Build time: 35 minutes
   Build everything except hbrun.exe, hbmk2.exe

gcc433
======
   Build time: 35 minutes
   Build everything except hbrun.exe, hbmk2.exe

Warnings are few
gcc440 seem to be more strict, it involve more time and give more warnings

Below are messages for each compiler

The key to build are:
- to change library type using OMF in place of a.out
- to use other library manager/linker for OMF in place of 
emxbind/ar.exe/ld.exe

As comparison with current gcc

gcc335
======
   Build time: 21 minutes, a.out type
               26 minutes, OMF type
   Build everything


Notes:
- Tests made with source
  * $Id: ChangeLog 12104 2009-08-14 09:31:12Z vszakats $
  2009-08-14 11:24 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
and os2make381

- Compiler: all files provided by Paul Smedley
  \usr\local440
     gcc-4.4.0-os2-20090503.zip
     ( change local44 for local440 )
  \usr\local432
     gcc-4.3.2-os2-20081116.zip
  \usr\local433
     gcc-4.3.3-os2-20090224.zip

- Some compiler packages does not contain binutils
   Use this file and copy to proper compiler directory
    binutils-2.19.1-os2-20090427.zip
   Does not include ld.exe due emxbind problem

- Setting each compiler environment with a modified gccenv.cmd
  The change is to use a modified line, for example for local432
  call GCC322plus sPath, 'gcc432', 0, sLinker;
  Just change 432 for xyz of each localxyz directory
  ( Again, use 440 in place of 44 )

- As I understand current gcc335 must to exist
  \usr\bin
  and obviously emx

- Additional environment variables used in my Harbour build script:
  set EMXOMFLD_TYPE=LINK386
  set EMXOMFLD_LINKER=link386.exe

  Used by emxomfar.exe
  If not set it will try to use ilink.exe of VisualAge C

  For first Harbour tests I set it to venerable ancient link386.exe

  Below are included info of svn.netlabs.org/libc/wiki/kOptions

- And of course, config\os2\gcc.cf changes
  After many tests, the main changes are:
  ----------------------
  LIB_EXT := .lib

  CFLAGS := -Zomf

  RANLIB := echo  (I do not know if must be set)

  #replacement of define create_library
  FILE := %f

  define create_library
      for $(FILE) in ( *$(OBJ_EXT) ) do $(AR) $(ARFLAGS) 
$(HB_USER_AFLAGS) -p128 r $(LIB_DIR)/$@ $(FILE)
  endef

  AR := emxomfar
  AR_RULE = $(create_library)
  ----------------------

# pending to review / supress due to reference to emxbind
       LD_RULE = $(LD) $(CFLAGS) $(LD_OUT)$(BIN_DIR)/$@ $(^F) $(LDFLAGS) 
$(HB_USER_LDFLAGS) $(LDLIBS) & emxbind -ep $@

- About emxomfar.exe
  + Make same work for OMF as ar.exe does for a.out
  + Input is only object by object
    Usage: emxomfar [-p#] <command> <library_file> [<module>]...
    so an input file as __lib__.tmp can not be used
  + Each time it create a .bak file
  + -p128 was necessary to build hbrtl.lib

- Rest of values for Harbour build are as ever

- Errors, warnings:
  + emxomfar.exe
    Without -p128 fail to build hbrtl.lib

emxomfar: Library too big -- increase page size
make[3]: *** [hbrtl.lib] Error 2

  + hbrun.exe
    Does not build due to:

make[3]: *** [hbrun.exe] Error 1

gcc -Zomf -Wall -W -O3 -o ..\..\..\..\..\bin\os2\gcc\hbrun.exe hbrun.o 
-L../../../../../lib/os2/gcc -Le:\usr\lib\tcpipv4  -lhbextern -lhbdebug 
-lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtos2 
-lhbrdd -lrddntx -lrddnsx -lrddcdx -lrddfpt -lhbsix -lhbhsx -lhbusrrdd 
-lhbuddall -lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre 
-lhbzlib -lsocket

E:\harbour907h\harbour\lib\os2\gcc\hbextern.lib(hbextern.o) :  fatal 
error L1046: too many external symbols in one module

 From Tools reference:
www.warpspeed.com.au/cgi-bin/inf2html.cmd?..%5Chtml%5Cbook%5CToolkt40%5CTOOLSREF.INF+660

L1046 too many external symbols in one module
Explanation: An object module specifies more than the limit of 1023 
external symbols.
Action: Reduce the number of external symbols, breaking the module into 
smaller parts, if necessary.

  + hbmk2.exe
    Does not build due to:

make[3]: *** [hbmk2.exe] Error 1

gcc -Zomf -Wall -W -O3 -o ..\..\..\..\..\bin\os2\gcc\hbmk2.exe hbmk2.o 
-L../../../../../lib/os2/gcc -Le:\usr\lib\tcpipv4  -lhbextern -lhbdebug 
-lhbvmmt -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtos2 
-lhbnulrdd -lhbrtl -lhbvmmt -lhbmacro -lhbcplr -lhbpp -lhbcommon 
-lhbpcre -lhbzlib -lsocket

E:\usr\lib\libos2.lib(kbd4.obj) :  fatal error L1209:

 From Tools reference:
L1209 out of memory for object page directory information
Explanation: The total size of the object page director is greater than 
the internal limit in LINK386.
Action: Reduce the size of the executable, consider using dynamic link 
libraries to split the program into smaller modules.


  + For each compiler: make_gnu.log
    0 errors
    warnings for each binary creation:
LINK386 :  warning L4071: application type not specified; assuming 
WINDOWCOMPAT

 From Tools reference:
L4071 application type not specified; assuming name
Explanation: An application type of WINDOWAPI, WINDOWCOMPAT, 
NOTWINDOWCOMPAT, or PRIVATE was not specified. LINK386 is assuming the 
application type indicated.
Action: Edit the file and relink.


Conclusions
- Harbour under OS/2 are very close to use a newer gcc
- Main problem are link386.exe limitations and can be solved testing 
others linkers. OpenWatcom linker (wlink.exe) seem the first choice
- Minor problem is library .bak file in each operation
- Long build time in gcc440, perhaps due is more strict
- Deeper operation tests are pending


David Macias


gcc440: 53 min
==============

[E:\harbour907h\harbour]make -r -w           1>make_gnu.log
../../../filesys.c: In function 'hb_fsSetFileTime':
../../../filesys.c:1145: warning: 'ftime.twosecs' may be used 
uninitialized in this function
../../../filesys.c:1145: warning: 'ftime.minutes' may be used 
uninitialized in this function
../../../filesys.c:1145: warning: 'ftime.hours' may be used 
uninitialized in this function
../../../gtos2.c: In function 'hb_gt_os2_Redraw':
../../../gtos2.c:799: warning: pointer targets in passing argument 5 of 
'pGT->pFuncTable->GetScrChar' differ in signedness
../../../gtos2.c:799: note: expected 'BYTE *' but argument is of type 
'char *'
../../../gtstd.c: In function 'hb_gt_std_ReadKey':
../../../gtstd.c:412: warning: unused variable 'TODO'
../../../sqlite3.c: In function 'sqlite3_os_init':
../../../sqlite3.c:20798: warning: initialization from incompatible 
pointer type


[E:\harbour907h\harbour\bin\os2\gcc]harbour /build
Harbour 2.0.0beta2 (Rev. 12104)
Copyright (c) 1999-2009, http://www.harbour-project.org/

Harbour Build Info
---------------------------
Version: Harbour 2.0.0beta2 (Rev. 12104)
Compiler: EMX GNU C 4.4 (32-bit)
Platform: OS/2 4.50
PCode version: 0.2
ChangeLog last entry: 2009-08-14 11:24 UTC+0200 Viktor Szakats 
(harbour.01 syenar.hu)
ChangeLog ID: ChangeLog 12104 2009-08-14 09:31:12Z vszakats

Built on: Aug 15 2009 18:26:04
Extra C compiler options: -DTCPV40HDRS -DHB_FM_STATISTICS_OFF
Extra linker options: -Le:\usr\lib\tcpipv4
Build options:
Language options: (Clipper 5.3) (Clipper 5.x undoc) (Xbase++) (Flagship)
---------------------------



gcc432: 35 min
==============

[E:\harbour907h\harbour]make -r -w           1>make_gnu.log
../../../gtos2.c: In function 'hb_gt_os2_Redraw':
../../../gtos2.c:799: warning: pointer targets in passing argument 5 of 
'pGT->pFuncTable->GetScrChar' differ in signedness
../../../gtstd.c: In function 'hb_gt_std_ReadKey':
../../../gtstd.c:412: warning: unused variable 'TODO'

make[3]: *** [hbmk2.exe] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [hbmk2] Error 2
make: *** [utils] Error 2

gcc -Zomf -Wall -W -O3 -o ..\..\..\..\..\bin\os2\gcc\hbmk2.exe hbmk2.o 
-L../../../../../lib/os2/gcc -Le:\usr\lib\tcpipv4  -lhbextern -lhbdebug 
-lhbvmmt -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtos2 
-lhbnulrdd -lhbrtl -lhbvmmt -lhbmacro -lhbcplr -lhbpp -lhbcommon 
-lhbpcre -lhbzlib -lsocket

E:\usr\lib\libos2.lib(kbd4.obj) :  fatal error L1209:

L1209 out of memory for object page directory information
Explanation: The total size of the object page director is greater than 
the internal limit in LINK386.
Action: Reduce the size of the executable, consider using dynamic link 
libraries to split the program into smaller modules.


433: 35 min
===========

../../../gtos2.c: In function 'hb_gt_os2_Redraw':
../../../gtos2.c:799: warning: pointer targets in passing argument 5 of 
'pGT->pFuncTable->GetScrChar' differ in signedness
../../../gtstd.c: In function 'hb_gt_std_ReadKey':
../../../gtstd.c:412: warning: unused variable 'TODO'
make[3]: *** [hbmk2.exe] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [hbmk2] Error 2
make: *** [utils] Error 2

[E:\harbour907h\harbour]make -r -w           1>make_gnu.log
../../../gtos2.c: In function 'hb_gt_os2_Redraw':
../../../gtos2.c:799: warning: pointer targets in passing argument 5 of 
'pGT->pFuncTable->GetScrChar' differ in signedness
../../../gtstd.c: In function 'hb_gt_std_ReadKey':
../../../gtstd.c:412: warning: unused variable 'TODO'
../../../sqlite3.c: In function 'sqlite3_os_init':
../../../sqlite3.c:20798: warning: initialization from incompatible 
pointer type


------------------------

Environment variables:

     EMXOMFLD_TYPE:

         The type of linker we're using. Values: WLINK, VAC365, VAC308, 
LINK386.

             WLINK wlink.exe from Open Watcom v1.5 or later. VAC365 
ilink.exe from IBM C and C++ Compilers for OS/2 v3.6 or later. VAC308 
ilink.exe from Visual Age for C++ v3.08. LINK386 link386 form OS/2 
install or DDK.

     EMXOMFLD_LINKER:

         Name of the linker to use and optionally extra parameters. 
Spaces in the linker name or path is not supported. Quotes are not 
supported either.

The default values for these two variables are VAC365 and ilink.exe.

------------------------


From harbour.01 at syenar.hu  Sun Aug 16 12:40:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug 16 12:40:34 2009
Subject: [Harbour] linux/gcc link failure
In-Reply-To: <alpine.GSO.2.00.0908161248260.3629@dawn.royalcomp.hu>
References: <alpine.GSO.2.00.0908161248260.3629@dawn.royalcomp.hu>
Message-ID: <A20603BD-0185-4450-B162-0FBEDE7E2A70@syenar.hu>

Hi,

I've partially moved some former logic in make_gnu.sh
to linux/global.cf with notes left in ChangeLog and the
file. Logic should be completed (I didn't have enough
information to implement it in the more limited GNU Make
syntax), maybe this effect is caused by it being broken
for now.

Brgds,
Viktor

On 2009.08.16., at 0:55, Tamas TEVESZ wrote:

>
> hi,
>
> r12131, linux (x64), gcc 4.3:
>
> Generating /tmp/hb/bin/hb-build...
> Creating links...
> Making libharbour-2.0.0.so...
> /usr/bin/ld: ./libhbusrrdd.a/usrrdd.o: relocation R_X86_64_32S  
> against `a local symbol' can not be used when making a shared  
> object; recompile with -fPIC
> ./libhbusrrdd.a/usrrdd.o: could not read symbols: Bad value
> collect2: ld returned 1 exit status
> Making libharbourmt-2.0.0.so...
> /usr/bin/ld: ./libhbusrrdd.a/usrrdd.o: relocation R_X86_64_32S  
> against `a local symbol' can not be used when making a shared  
> object; recompile with -fPIC
> ./libhbusrrdd.a/usrrdd.o: could not read symbols: Bad value
> collect2: ld returned 1 exit status
>
> why is -fPIC commented out in config/linux/gcc.cf? i'd think that
> there must a good reason for that, but i can not think of any.
> przemek, perhaps?
>
>
> -- 
> [-]
>
> mkdir /nonexistent
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From april_white at sympatico.ca  Sun Aug 16 14:22:29 2009
From: april_white at sympatico.ca (April White)
Date: Sun Aug 16 14:22:36 2009
Subject: [Harbour] terms within documentation: Clipper vs CA-Cl*pper
Message-ID: <BLU0-SMTP426C2A56379BE101876434EF000@phx.gbl>

I've been mostly focusing on the doc/en-en files but I was curious about 
Clipper versions (that is for another email).

I observed that there are several places within doc/*.txt where the term 
Clipper is used and CA-Cl*pper is others.

Is it an acceptable change to use CA-Cl*pper in all places?

April

-- 
It may be that your sole purpose in life is simply to serve as a warning to others.

From april_white at sympatico.ca  Sun Aug 16 14:26:11 2009
From: april_white at sympatico.ca (April White)
Date: Sun Aug 16 14:26:18 2009
Subject: [Harbour] CA-Cl*pper versions, for documentation
Message-ID: <BLU0-SMTP479C5B6261BC1E764A469EF000@phx.gbl>

It has been a very long time since I had a Clipper compiler so I am 
unsure of versions.

There are:
CA-Cl*pper <-- is this 5.1?
CA-Cl*pper 5.2
CA-Cl*pper 5.3

Is this correct?

I've seen some doc files that say the function is v5.2 or v5.3 compliant 
but I recall the function as being v5.0/v5.1

I believe I will capture into an output documents the functions that are 
part of one compliance level/

April

-- 
It may be that your sole purpose in life is simply to serve as a warning to others.

From ice at extreme.hu  Sun Aug 16 15:16:22 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sun Aug 16 15:16:29 2009
Subject: [Harbour] linux/gcc link failure
In-Reply-To: <A20603BD-0185-4450-B162-0FBEDE7E2A70@syenar.hu>
References: <alpine.GSO.2.00.0908161248260.3629@dawn.royalcomp.hu>
	<A20603BD-0185-4450-B162-0FBEDE7E2A70@syenar.hu>
Message-ID: <alpine.GSO.2.00.0908162115170.3629@dawn.royalcomp.hu>

On Sun, 16 Aug 2009, Viktor Szak?ts wrote:

hi,

 > I've partially moved some former logic in make_gnu.sh
 > to linux/global.cf with notes left in ChangeLog and the
 > file. Logic should be completed (I didn't have enough
 > information to implement it in the more limited GNU Make
 > syntax), maybe this effect is caused by it being broken
 > for now.

point is, why not -fPIC unconditionally?


 > 
 > Brgds,
 > Viktor
 > 
 > On 2009.08.16., at 0:55, Tamas TEVESZ wrote:
 > 
 > > 
 > > hi,
 > > 
 > > r12131, linux (x64), gcc 4.3:
 > > 
 > > Generating /tmp/hb/bin/hb-build...
 > > Creating links...
 > > Making libharbour-2.0.0.so...
 > > /usr/bin/ld: ./libhbusrrdd.a/usrrdd.o: relocation R_X86_64_32S against `a
 > > local symbol' can not be used when making a shared object; recompile with
 > > -fPIC
 > > ./libhbusrrdd.a/usrrdd.o: could not read symbols: Bad value
 > > collect2: ld returned 1 exit status
 > > Making libharbourmt-2.0.0.so...
 > > /usr/bin/ld: ./libhbusrrdd.a/usrrdd.o: relocation R_X86_64_32S against `a
 > > local symbol' can not be used when making a shared object; recompile with
 > > -fPIC
 > > ./libhbusrrdd.a/usrrdd.o: could not read symbols: Bad value
 > > collect2: ld returned 1 exit status
 > > 
 > > why is -fPIC commented out in config/linux/gcc.cf? i'd think that
 > > there must a good reason for that, but i can not think of any.
 > > przemek, perhaps?
 > > 
 > > 
 > > -- 
 > > [-]
 > > 
 > > mkdir /nonexistent
 > > _______________________________________________
 > > Harbour mailing list
 > > Harbour@harbour-project.org
 > > http://lists.harbour-project.org/mailman/listinfo/harbour
 > 
 > _______________________________________________
 > Harbour mailing list
 > Harbour@harbour-project.org
 > http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
[-]

mkdir /nonexistent
From bruno.luciani at gmail.com  Sun Aug 16 17:33:32 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Aug 16 17:33:38 2009
Subject: [Harbour] Howto make HBQt contrib
Message-ID: <133778360908161433r74cb912dnd67160c51d46a79a@mail.gmail.com>

Recent changes produces that , I can not make HBQT anymore

Howto Add , or howto know which of Contribs are in the default list ?

I know that in install file exists

   - HB_CONTRIBLIBS=no         Don't build any contrib libraries.
   - HB_CONTRIBLIBS=[<list>]   Build space separated <list> of contrib

But where is the list , in the make file , in contrib   HBQT exists

Any help please

Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090816/7f8a3203/attachment.html
From april_white at sympatico.ca  Sun Aug 16 19:07:16 2009
From: april_white at sympatico.ca (April White)
Date: Sun Aug 16 19:07:23 2009
Subject: [Harbour] Platforms
Message-ID: <BLU0-SMTP265110567CECC32D7E2FE8EF000@phx.gbl>

I've gleaned this list of OS from the source:

BSD
DARWIN
DOS
HPUX
LINUX
OS2
OS2_GCC
SUNOS
UNIX
UNIX_COMPATIBLE
WIN
WIN_64
WIN_CE

The document files have sections called 'PLATFORMS' however I've seen 
the term 'platform' used in reference to a compiler.

My questions to the group are:

- is the list of currently recognized OS
- is the term 'PLATFORM' synonymous with 'OS'
- is the term 'PLATFORM' in reference to/relation to a compiler the 
wrong term?

April

-- 
It may be that your sole purpose in life is simply to serve as a warning to others.

From ice at extreme.hu  Mon Aug 17 00:41:26 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Mon Aug 17 00:41:33 2009
Subject: [Harbour] Platforms
In-Reply-To: <BLU0-SMTP265110567CECC32D7E2FE8EF000@phx.gbl>
References: <BLU0-SMTP265110567CECC32D7E2FE8EF000@phx.gbl>
Message-ID: <alpine.GSO.2.00.0908170623360.3629@dawn.royalcomp.hu>

On Sun, 16 Aug 2009, April White wrote:

 > I've gleaned this list of OS from the source:
 > 
 > BSD
 > DARWIN
 > DOS
 > HPUX
 > LINUX

i guess if one is to be really pedantic, for bsd, darwin and linux 
it's more like "oses based on the bsd/darwin/linux kernel". not that 
there would be too many viable operating system using the darwin 
kernel, but still.

 > OS2
 > OS2_GCC
 > SUNOS
 > UNIX
 > UNIX_COMPATIBLE

`unix' and `unix compatible' are umbrella terms for anything not 
dos/os2/win*. if you are to spell bsd/linux/etc out separately, these 
two aren't, for any definition of `platform', separate platforms.

 > WIN
 > WIN_64
 > WIN_CE
 > 
 > The document files have sections called 'PLATFORMS' however I've seen the
 > term 'platform' used in reference to a compiler.
 > 
 > My questions to the group are:
 > 
 > - is the list of currently recognized OS
 > - is the term 'PLATFORM' synonymous with 'OS'

no. generally, platform is rather synonymous with a given os on a 
given hardware architecture, but

 > - is the term 'PLATFORM' in reference to/relation to a compiler the wrong
 > term?

in our case, you would want platform to be combination of an operating 
system and a compiler. again, depending on context, you might want to 
mix hw architecture in the picture (maybe in a passing mention). hb 
should be quite good in that if it runs on say linux/x64, it'll 
probably run on linux/sparc for example, but this is somewhat shaded 
by compilers not available for all architectures an os supports (icc 
and sunpro, for example). best is probably not to overcomplicate.

unless the other-os people or przemek get a heart attack reading this 
;)

-- 
[-]

mkdir /nonexistent
From vouchcac at users.sourceforge.net  Mon Aug 17 00:48:19 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Aug 17 00:48:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12132] trunk/harbour
Message-ID: <E1Mcu8p-0005fs-GM@dn4whf1.ch3.sourceforge.com>

Revision: 12132
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12132&view=rev
Author:   vouchcac
Date:     2009-08-17 04:48:18 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-16 21:44 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_slots.cpp

  * contrib/hbqt/QColor.cpp
  * contrib/hbqt/QFont.cpp
  * contrib/hbqt/QKeyEvent.cpp
  * contrib/hbqt/QMouseEvent.cpp
  * contrib/hbqt/QMoveEvent.cpp
  * contrib/hbqt/QPoint.cpp
  * contrib/hbqt/QRect.cpp
  * contrib/hbqt/QRectF.cpp
  * contrib/hbqt/QRegion.cpp
  * contrib/hbqt/QSize.cpp
  * contrib/hbqt/QSizeF.cpp

  * contrib/hbqt/qth/QColor.qth
  * contrib/hbqt/qth/QFont.qth
  * contrib/hbqt/qth/QKeyEvent.qth
  * contrib/hbqt/qth/QMouseEvent.qth
  * contrib/hbqt/qth/QMoveEvent.qth
  * contrib/hbqt/qth/QPoint.qth
  * contrib/hbqt/qth/QRect.qth
  * contrib/hbqt/qth/QRectF.qth
  * contrib/hbqt/qth/QRegion.qth
  * contrib/hbqt/qth/QSize.qth
  * contrib/hbqt/qth/QSizeF.qth
   
    ! Tweaked some definitions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/QColor.cpp
    trunk/harbour/contrib/hbqt/QFont.cpp
    trunk/harbour/contrib/hbqt/QKeyEvent.cpp
    trunk/harbour/contrib/hbqt/QMouseEvent.cpp
    trunk/harbour/contrib/hbqt/QMoveEvent.cpp
    trunk/harbour/contrib/hbqt/QPoint.cpp
    trunk/harbour/contrib/hbqt/QRect.cpp
    trunk/harbour/contrib/hbqt/QRectF.cpp
    trunk/harbour/contrib/hbqt/QRegion.cpp
    trunk/harbour/contrib/hbqt/QSize.cpp
    trunk/harbour/contrib/hbqt/QSizeF.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/qth/QColor.qth
    trunk/harbour/contrib/hbqt/qth/QFont.qth
    trunk/harbour/contrib/hbqt/qth/QKeyEvent.qth
    trunk/harbour/contrib/hbqt/qth/QMouseEvent.qth
    trunk/harbour/contrib/hbqt/qth/QMoveEvent.qth
    trunk/harbour/contrib/hbqt/qth/QPoint.qth
    trunk/harbour/contrib/hbqt/qth/QRect.qth
    trunk/harbour/contrib/hbqt/qth/QRectF.qth
    trunk/harbour/contrib/hbqt/qth/QRegion.qth
    trunk/harbour/contrib/hbqt/qth/QSize.qth
    trunk/harbour/contrib/hbqt/qth/QSizeF.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Mon Aug 17 00:58:56 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Aug 17 00:59:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12133] trunk/harbour
Message-ID: <E1McuJ6-0005xd-3I@dn4whf1.ch3.sourceforge.com>

Revision: 12133
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12133&view=rev
Author:   vouchcac
Date:     2009-08-17 04:58:55 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-16 21:53 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpgeneric.prg
    ! Optimized AppEvent()
    ! Fixed memory leak in MsgBox() function.

  * contrib/hbxbp/xbpbrowse.prg
    ! Navigation optimized.

    ! Greatly improved horizontal navigation. It is now more Clipper like.

    + Implemented rest of the event handelling:
         ::itemSelected()
         ::itemMarked()
         ::itemRbDown()
         ::xbeK_Enter

    + Implemented other blocks:
         ::hitTopBlock
         ::hitBottomBlock
         ::stableBlock

  * contrib/hbxbp/tests/demoxbp.prg
    ! Demonstation of improved horizontal scroll.
    ! Demonstrated indexed table browser.

  ; TODO: xbeBRW_ForceStable event.

  /*  Can someone make experiments and let me know any artifacts missing ? */

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Aug 17 01:07:54 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Aug 17 01:08:02 2009
Subject: [Harbour] Platforms
In-Reply-To: <alpine.GSO.2.00.0908170623360.3629@dawn.royalcomp.hu>
References: <BLU0-SMTP265110567CECC32D7E2FE8EF000@phx.gbl>
	<alpine.GSO.2.00.0908170623360.3629@dawn.royalcomp.hu>
Message-ID: <25001058.post@talk.nabble.com>


Hi


Tamas TEVESZ wrote:
> 
> unless the other-os people or przemek get a heart attack reading this 
> 

Perhaps we must be extremely careful while choosing the words.
Are you aware of Przemek's capabilities ? Even to some extent ?

BTW your reply to April's message is entirely out of context.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Platforms-tp24998976p25001058.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Aug 17 02:46:18 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 02:46:30 2009
Subject: [Harbour] terms within documentation: Clipper vs CA-Cl*pper
In-Reply-To: <BLU0-SMTP426C2A56379BE101876434EF000@phx.gbl>
References: <BLU0-SMTP426C2A56379BE101876434EF000@phx.gbl>
Message-ID: <06A96D44-4787-4555-8A3D-5D97637D09C5@syenar.hu>

Hi April,

> I've been mostly focusing on the doc/en-en files but I was curious  
> about Clipper versions (that is for another email).
>
> I observed that there are several places within doc/*.txt where the  
> term Clipper is used and CA-Cl*pper is others.
>
> Is it an acceptable change to use CA-Cl*pper in all places?

Yes, absolutely.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 17 02:50:04 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 02:50:11 2009
Subject: [Harbour] CA-Cl*pper versions, for documentation
In-Reply-To: <BLU0-SMTP479C5B6261BC1E764A469EF000@phx.gbl>
References: <BLU0-SMTP479C5B6261BC1E764A469EF000@phx.gbl>
Message-ID: <D0B0C2FF-17B5-44A3-8F59-76C5E1397BFA@syenar.hu>

> It has been a very long time since I had a Clipper compiler so I am  
> unsure of versions.
>
> There are:
> CA-Cl*pper <-- is this 5.1?
> CA-Cl*pper 5.2
> CA-Cl*pper 5.3
>
> Is this correct?
>
> I've seen some doc files that say the function is v5.2 or v5.3  
> compliant but I recall the function as being v5.0/v5.1
>
> I believe I will capture into an output documents the functions that  
> are part of one compliance level/

I think we should have simply CA-Cl*pper and CA-Cl*pper 5.3 for 5.3  
only feature.
Harbour's goal is 5.2 compatibility so this version should be the  
default.
This is also in sync with our macros (HB_COMPAT_C53). I think it's not  
necessary
to deal with other Clipper version numbers inside Harbour, it's just  
not our goal.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 17 02:53:28 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 02:53:37 2009
Subject: [Harbour] Howto make HBQt contrib
In-Reply-To: <133778360908161433r74cb912dnd67160c51d46a79a@mail.gmail.com>
References: <133778360908161433r74cb912dnd67160c51d46a79a@mail.gmail.com>
Message-ID: <A2F9A8DD-AF28-4BCA-AB67-CC00FFD66A6C@syenar.hu>

Hi Bruno,

It must be something outside Harbour, nothing changed
in the way contribs are built (or not built). hbqt is
built by default, if the dependencies can be found
or HB_INC_QT is set to an existing QT installation.

[ unless I made some stupid typos, but here it works
fine on all platforms. ]

Brgds,
Viktor

On 2009.08.16., at 11:33, Bruno Luciani wrote:

> Recent changes produces that , I can not make HBQT anymore
>
> Howto Add , or howto know which of Contribs are in the default list ?
>
> I know that in install file exists
>
>    - HB_CONTRIBLIBS=no         Don't build any contrib libraries.
>    - HB_CONTRIBLIBS=[<list>]   Build space separated <list> of contrib
>
> But where is the list , in the make file , in contrib   HBQT exists
>
> Any help please
>
> Bruno
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Aug 17 03:03:22 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 03:03:32 2009
Subject: [Harbour] Platforms
In-Reply-To: <BLU0-SMTP265110567CECC32D7E2FE8EF000@phx.gbl>
References: <BLU0-SMTP265110567CECC32D7E2FE8EF000@phx.gbl>
Message-ID: <BFC50F83-3CA0-4597-8F8C-139F672528A3@syenar.hu>

> I've gleaned this list of OS from the source:
>
> BSD
> DARWIN
> DOS
> HPUX
> LINUX
> OS2
> OS2_GCC
> SUNOS
> UNIX
> UNIX_COMPATIBLE
> WIN
> WIN_64
> WIN_CE
>
> The document files have sections called 'PLATFORMS' however I've  
> seen the term 'platform' used in reference to a compiler.
>
> My questions to the group are:
>
> - is the list of currently recognized OS

Almost. Win64 doesn't count as a separate OS in terms of
Harbour. OS2_GCC is a wrong name, just ignore it. The
rest is fine and in sync with possible HB_ARCHITECTURE
values.

> - is the term 'PLATFORM' synonymous with 'OS'
> - is the term 'PLATFORM' in reference to/relation to a compiler the  
> wrong term?

That's a though one, we use wrong terms many times in Harbour
and even that not very consistently. We use OS, PLATFORM and
ARCHITECTURE to refer to operating system. IMO OS is OS,
ARCHITECTURE should better be named CPU (or something analogous).
PLATFORM is about okay, although it's not precise.

OS2_GCC is f.e. a wrong name, just ignore it.

UNIX vs. UNIX_COMPATIBLE: hard to tell, but this may be possible
to clean to have only one of them (the former ideally).

[ BTW I plan to continue cleanup of these term internally, so
it's possible that ARCH will be changed to something else, if
less users will depend on this settings. ]

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Aug 17 03:11:54 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 17 03:11:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12134] trunk/harbour
Message-ID: <E1McwNm-000116-M0@c3vjzd1.ch3.sourceforge.com>

Revision: 12134
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12134&view=rev
Author:   vszakats
Date:     2009-08-17 07:11:52 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 09:10 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.cf
    + Setting HB_INSTALL_PREFIX (if not set) to PREFIX or DESTDIR (if set,
      in that order), on *nix systems.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Aug 17 03:23:22 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 03:23:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12133] trunk/harbour
In-Reply-To: <E1McuJ6-0005xd-3I@dn4whf1.ch3.sourceforge.com>
References: <E1McuJ6-0005xd-3I@dn4whf1.ch3.sourceforge.com>
Message-ID: <DB4A013F-1660-4656-806E-1FEDA90CF222@syenar.hu>

Great, thank you Pritpal.

Brgds,
Viktor

On 2009.08.17., at 6:58, vouchcac@users.sourceforge.net wrote:

> Revision: 12133
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12133&view=rev
> Author:   vouchcac
> Date:     2009-08-17 04:58:55 +0000 (Mon, 17 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-16 21:53 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbxbp/xbpgeneric.prg
>    ! Optimized AppEvent()
>    ! Fixed memory leak in MsgBox() function.
>
>  * contrib/hbxbp/xbpbrowse.prg
>    ! Navigation optimized.
>
>    ! Greatly improved horizontal navigation. It is now more Clipper  
> like.
>
>    + Implemented rest of the event handelling:
>         ::itemSelected()
>         ::itemMarked()
>         ::itemRbDown()
>         ::xbeK_Enter
>
>    + Implemented other blocks:
>         ::hitTopBlock
>         ::hitBottomBlock
>         ::stableBlock
>
>  * contrib/hbxbp/tests/demoxbp.prg
>    ! Demonstation of improved horizontal scroll.
>    ! Demonstrated indexed table browser.
>
>  ; TODO: xbeBRW_ForceStable event.
>
>  /*  Can someone make experiments and let me know any artifacts  
> missing ? */
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
>    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
>    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Aug 17 03:26:57 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 03:27:05 2009
Subject: [Harbour] Platforms
In-Reply-To: <BFC50F83-3CA0-4597-8F8C-139F672528A3@syenar.hu>
References: <BLU0-SMTP265110567CECC32D7E2FE8EF000@phx.gbl>
	<BFC50F83-3CA0-4597-8F8C-139F672528A3@syenar.hu>
Message-ID: <170A4FC3-ADDE-48AC-8C4B-09BBFA9D3F95@syenar.hu>

(Few correction to my prev answer.)

>> - is the list of currently recognized OS
>
> Almost. Win64 doesn't count as a separate OS in terms of
> Harbour. OS2_GCC is a wrong name, just ignore it. The
> rest is fine and in sync with possible HB_ARCHITECTURE
> values.
>
>> - is the term 'PLATFORM' synonymous with 'OS'
>> - is the term 'PLATFORM' in reference to/relation to a compiler the  
>> wrong term?
>
> That's a though one, we use wrong terms many times in Harbour
> and even that not very consistently. We use OS, PLATFORM and
> ARCHITECTURE to refer to operating system. IMO OS is OS,

Sorry: ARCHITECTURE should better refer to CPU.
(but in this case name "CPU" might be better / shorter)

Brgds,
Viktor

From philb at philb.us  Mon Aug 17 03:27:39 2009
From: philb at philb.us (Phil Barnett)
Date: Mon Aug 17 03:27:49 2009
Subject: [Harbour] terms within documentation: Clipper vs CA-Cl*pper
In-Reply-To: <BLU0-SMTP426C2A56379BE101876434EF000@phx.gbl>
References: <BLU0-SMTP426C2A56379BE101876434EF000@phx.gbl>
Message-ID: <4A89066B.7010401@philb.us>

On 08/16/2009 02:22 PM, April White wrote:
> I've been mostly focusing on the doc/en-en files but I was curious 
> about Clipper versions (that is for another email).
>
> I observed that there are several places within doc/*.txt where the 
> term Clipper is used and CA-Cl*pper is others.
>
> Is it an acceptable change to use CA-Cl*pper in all places?
>
> April
>
As long as you attribute the trademarked name "Clipper" to the proper 
owner of the trademark in the appendix or the forward, it's generally 
acceptable to use the trademark.

So, it's perfectly legal to say something like:

Harbour is a superset of Clipper and is backwards compatible with nearly 
100% of all Clipper 5.2x or 5.3 code. Most Clipper S'87 code will also 
compile and run fine, but may require some modifications to run well.



...and attributed correctly in your document elsewhere...

Everywhere in this documentation, whenever the trademarked name Clipper 
is used, it is recognized as a trademark of Computer Associates

Take a look at this web page and scroll down to the bottom to see how 
they make it all legal...

http://www.apple.com/legal/trademark/appletmlist.html

You can find millions of examples by googling for "is a trademark of".
From francek.prijatelj at siol.net  Mon Aug 17 03:41:24 2009
From: francek.prijatelj at siol.net (=?windows-1250?Q?FRAN=C8EK_PRIJATELJ?=)
Date: Mon Aug 17 03:41:32 2009
Subject: [Harbour] Error building harbour-20.dll
Message-ID: <4A8909A4.3020004@siol.net>

Hi

On winXP I can't build harbour-20.dll  (using mingw or msvc):

Errors with msvc8:

! Making harbour-20.dll...
  Creating library C:\HRB\msvc_D_Tr\bin\harbour-20.lib and object 
C:\HRB\msvc_D_Tr\bin\harbour-20.exp
sxtrig_dyn.obj : error LNK2001: unresolved external symbol 
_HB_FUN___DBGENTRY
harbinit_dyn.obj : error LNK2001: unresolved external symbol 
_HB_FUN___DBGENTRY
rddord_dyn.obj : error LNK2001: unresolved external symbol 
_HB_FUN___DBGENTRY
rddsys_dyn.obj : error LNK2001: unresolved external symbol 
_HB_FUN___DBGENTRY
sxcompat_dyn.obj : error LNK2001: unresolved external symbol 
_HB_FUN___DBGENTRY

.
.
.
dir_dyn.obj : error LNK2001: unresolved external symbol _HB_FUN___DBGENTRY
alert_dyn.obj : error LNK2001: unresolved external symbol _HB_FUN___DBGENTRY
altd_dyn.obj : error LNK2001: unresolved external symbol _HB_FUN___DBGENTRY
C:\HRB\msvc_D_Tr\bin\harbourmt-20.dll : fatal error LNK1120: 1 
unresolved externals

Errors with mingw:

! Making harbour-20.dll...
source\rtl\obj\win\mingw\achoice.o:achoice.c:(.data+0x2a8): undefined 
reference to `HB_FUN___DBGENTRY'
source\rtl\obj\win\mingw\adir.o:adir.c:(.data+0xb8): undefined reference 
to `HB_FUN___DBGENTRY'
source\rtl\obj\win\mingw\alert.o:alert.c:(.data+0x128): undefined 
reference to `HB_FUN___DBGENTRY'
source\rtl\obj\win\mingw\altd.o:altd.c:(.data+0x78): undefined reference 
to `HB_FUN___DBGENTRY'
source\rtl\obj\win\mingw\base64.o:base64.c:(.data+0x98): undefined 
reference to `HB_FUN___DBGENTRY'
source\rtl\obj\win\mingw\browdb.o:browdb.c:(.data+0xa8): more undefined 
references to `HB_FUN___DBGENTRY' follow
collect2: ld returned 1 exit status
! Making harbourmt-20.dll...
source\rtl\obj\win\mingw\achoice.o:achoice.c:(.data+0x2a8): undefined 
reference to `HB_FUN___DBGENTRY'
source\rtl\obj\win\mingw\adir.o:adir.c:(.data+0xb8): undefined reference 
to `HB_FUN___DBGENTRY'
source\rtl\obj\win\mingw\alert.o:alert.c:(.data+0x128): undefined 
reference to `HB_FUN___DBGENTRY'
source\rtl\obj\win\mingw\altd.o:altd.c:(.data+0x78): undefined reference 
to `HB_FUN___DBGENTRY'
source\rtl\obj\win\mingw\base64.o:base64.c:(.data+0x98): undefined 
reference to `HB_FUN___DBGENTRY'
source\rtl\obj\win\mingw\browdb.o:browdb.c:(.data+0xa8): more undefined 
references to `HB_FUN___DBGENTRY' follow
collect2: ld returned 1 exit status

-------------- next part --------------
A non-text attachment was scrubbed...
Name: francek_prijatelj.vcf
Type: text/x-vcard
Size: 182 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090817/2e7da4a9/francek_prijatelj.vcf
From harbour.01 at syenar.hu  Mon Aug 17 03:58:41 2009
From: harbour.01 at syenar.hu (=?WINDOWS-1250?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 03:58:49 2009
Subject: [Harbour] Error building harbour-20.dll
In-Reply-To: <4A8909A4.3020004@siol.net>
References: <4A8909A4.3020004@siol.net>
Message-ID: <80ACE164-D636-47E5-8101-E9F371EBFCB9@syenar.hu>

Hi,

I guess you're using HB_USER_PRGFLAGS=-b to build Harbour,
and in this case harbour.dll creation doesn't work, and AFAIU
it never did.

Either turn it off, or maybe hbdebug lib (+ lib path option)
can be added to linker command in bin/hb-mkdyn.bat line 92-92
to solve this problem, I don't know whether this is the right
solution.

If we find out what to do here I can implement it.

Brgds,
Viktor

On 2009.08.17., at 9:41, FRAN?EK PRIJATELJ wrote:

> Hi
>
> On winXP I can't build harbour-20.dll  (using mingw or msvc):
>
> Errors with msvc8:
>
> ! Making harbour-20.dll...
> Creating library C:\HRB\msvc_D_Tr\bin\harbour-20.lib and object C: 
> \HRB\msvc_D_Tr\bin\harbour-20.exp
> sxtrig_dyn.obj : error LNK2001: unresolved external symbol  
> _HB_FUN___DBGENTRY
> harbinit_dyn.obj : error LNK2001: unresolved external symbol  
> _HB_FUN___DBGENTRY
> rddord_dyn.obj : error LNK2001: unresolved external symbol  
> _HB_FUN___DBGENTRY
> rddsys_dyn.obj : error LNK2001: unresolved external symbol  
> _HB_FUN___DBGENTRY
> sxcompat_dyn.obj : error LNK2001: unresolved external symbol  
> _HB_FUN___DBGENTRY
>
> .
> .
> .
> dir_dyn.obj : error LNK2001: unresolved external symbol  
> _HB_FUN___DBGENTRY
> alert_dyn.obj : error LNK2001: unresolved external symbol  
> _HB_FUN___DBGENTRY
> altd_dyn.obj : error LNK2001: unresolved external symbol  
> _HB_FUN___DBGENTRY
> C:\HRB\msvc_D_Tr\bin\harbourmt-20.dll : fatal error LNK1120: 1  
> unresolved externals
>
> Errors with mingw:
>
> ! Making harbour-20.dll...
> source\rtl\obj\win\mingw\achoice.o:achoice.c:(.data+0x2a8):  
> undefined reference to `HB_FUN___DBGENTRY'
> source\rtl\obj\win\mingw\adir.o:adir.c:(.data+0xb8): undefined  
> reference to `HB_FUN___DBGENTRY'
> source\rtl\obj\win\mingw\alert.o:alert.c:(.data+0x128): undefined  
> reference to `HB_FUN___DBGENTRY'
> source\rtl\obj\win\mingw\altd.o:altd.c:(.data+0x78): undefined  
> reference to `HB_FUN___DBGENTRY'
> source\rtl\obj\win\mingw\base64.o:base64.c:(.data+0x98): undefined  
> reference to `HB_FUN___DBGENTRY'
> source\rtl\obj\win\mingw\browdb.o:browdb.c:(.data+0xa8): more  
> undefined references to `HB_FUN___DBGENTRY' follow
> collect2: ld returned 1 exit status
> ! Making harbourmt-20.dll...
> source\rtl\obj\win\mingw\achoice.o:achoice.c:(.data+0x2a8):  
> undefined reference to `HB_FUN___DBGENTRY'
> source\rtl\obj\win\mingw\adir.o:adir.c:(.data+0xb8): undefined  
> reference to `HB_FUN___DBGENTRY'
> source\rtl\obj\win\mingw\alert.o:alert.c:(.data+0x128): undefined  
> reference to `HB_FUN___DBGENTRY'
> source\rtl\obj\win\mingw\altd.o:altd.c:(.data+0x78): undefined  
> reference to `HB_FUN___DBGENTRY'
> source\rtl\obj\win\mingw\base64.o:base64.c:(.data+0x98): undefined  
> reference to `HB_FUN___DBGENTRY'
> source\rtl\obj\win\mingw\browdb.o:browdb.c:(.data+0xa8): more  
> undefined references to `HB_FUN___DBGENTRY' follow
> collect2: ld returned 1 exit status
>
> <francek_prijatelj.vcf>_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From likewolf at users.sourceforge.net  Mon Aug 17 05:20:11 2009
From: likewolf at users.sourceforge.net (likewolf@users.sourceforge.net)
Date: Mon Aug 17 05:20:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12135] trunk/harbour
Message-ID: <E1McyNv-000315-3V@d5vjzd1.ch3.sourceforge.com>

Revision: 12135
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12135&view=rev
Author:   likewolf
Date:     2009-08-17 09:20:10 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 13:18 UTC+0300 Phil Krylov <phil@newstar.rinet.ru>
  * make_gnu_xmingw.sh
    + Allow user to override the default TARGET.
  * config/global.cf
    ! Don't add /harbour (LIB|INC)POSTFIX if HB_INSTALL_PREFIX contains
      /usr/home (synonym of /home under FreeBSD).
    ! Fixed INCPOSTFIX usage so it works now.
  * config/linux/global.cf
    ! Added x86_64 to -fPIC machines.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf
    trunk/harbour/config/linux/global.cf
    trunk/harbour/make_gnu_xmingw.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From likewolf at users.sourceforge.net  Mon Aug 17 05:29:56 2009
From: likewolf at users.sourceforge.net (likewolf@users.sourceforge.net)
Date: Mon Aug 17 05:30:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12136] trunk/harbour
Message-ID: <E1McyXM-0003D4-8Q@d5vjzd1.ch3.sourceforge.com>

Revision: 12136
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12136&view=rev
Author:   likewolf
Date:     2009-08-17 09:29:46 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 13:26 UTC+0300 Phil Krylov <phil@newstar.rinet.ru>
  * source/vm/macro.c
  * source/vm/hvm.c
  * source/vm/classes.c
  * source/rtl/tobject.prg
  * source/codepage/cpes850.c
    * Various typos in comments.
  * source/rtl/fserr.c
    * Added a HB_TRACE to hb_fsSetIOError().
  * source/codepage/uckoi8.c
  * source/codepage/uckoi8u.c
  * source/codepage/uckam.c
  * source/codepage/ucmaz.c
    * Added missing comments.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/codepage/cpes850.c
    trunk/harbour/source/codepage/uckam.c
    trunk/harbour/source/codepage/uckoi8.c
    trunk/harbour/source/codepage/uckoi8u.c
    trunk/harbour/source/codepage/ucmaz.c
    trunk/harbour/source/rtl/fserr.c
    trunk/harbour/source/rtl/tobject.prg
    trunk/harbour/source/vm/classes.c
    trunk/harbour/source/vm/hvm.c
    trunk/harbour/source/vm/macro.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 17 05:48:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 17 05:48:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12137] trunk/harbour
Message-ID: <E1Mcyoz-0003Xt-5u@d5vjzd1.ch3.sourceforge.com>

Revision: 12137
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12137&view=rev
Author:   vszakats
Date:     2009-08-17 09:48:07 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 11:46 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbxbp/tests/demoxbp.prg
    ! Opening test.dbf in RO mode to avoid it being update.
      Couldn't spot the code which touched it.

  * config/global.cf
    - Deleted unused and commented code section.

  * INSTALL
    - Deleted HB_INSTALL_PREFIX from quickstart instructions.
    ! Modified hbmk2 hello.prg command to work on *nixes.
      (I never tried this default scenario though)
    * Modified non-*nix hbmk2 commands to look more natural
      and similar to *nix.
    - Deleted mingw32-make as suggested tool for dos builds done
      on NT hosts. It chokes with too long cmdline with mingw32-make.

  * bin/hb-mkdyn.sh
    - Deleted wininet from wce liblist.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-mkdyn.sh
    trunk/harbour/config/global.cf
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From M.Horodyski at pzuzycie.com.pl  Mon Aug 17 05:50:17 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Aug 17 05:50:26 2009
Subject: [Harbour] CA-Cl*pper versions, for documentation
In-Reply-To: <BLU0-SMTP479C5B6261BC1E764A469EF000@phx.gbl>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950271981A@PINK.zycie.pzu>

 

>-----Original Message-----
>From: April White [mailto:april_white@sympatico.ca] 
>Sent: Sunday, August 16, 2009 8:26 PM
>To: harbour
>Subject: [Harbour] CA-Cl*pper versions, for documentation
>
>It has been a very long time since I had a Clipper compiler so 
>I am unsure of versions.
>
>There are:
>CA-Cl*pper <-- is this 5.1?

If I correct remember, it was 5.0 and 5.01

Regards,
Marek Horodyski
From druzus at acn.waw.pl  Mon Aug 17 06:50:01 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 06:50:07 2009
Subject: [Harbour] Build error
In-Reply-To: <9014F8C5-7B77-46B7-984C-9ABECEEF7631@syenar.hu>
References: <4A865152.7000802@siol.net>
	<9014F8C5-7B77-46B7-984C-9ABECEEF7631@syenar.hu>
Message-ID: <20090817105001.GA17616@uran.home.aster.pl>

On Sat, 15 Aug 2009, Szak?ts Viktor wrote:

Hi,

> Regardless of this fix, maybe Harbour PP could be modified to
> not throw a warning when the redefinition is identical to the
> original value, just like in C. Przemek, what's your opinion?

Such warning is standard Clipper behavior and I do not think we
should disable it but of course it's possible.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Aug 17 06:56:34 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 06:56:45 2009
Subject: [Harbour] Build error
In-Reply-To: <20090817105001.GA17616@uran.home.aster.pl>
References: <4A865152.7000802@siol.net>
	<9014F8C5-7B77-46B7-984C-9ABECEEF7631@syenar.hu>
	<20090817105001.GA17616@uran.home.aster.pl>
Message-ID: <7C69CD3B-C466-40AB-9D6B-40D5104115F9@syenar.hu>

> On Sat, 15 Aug 2009, Szak?ts Viktor wrote:
>
> Hi,
>
>> Regardless of this fix, maybe Harbour PP could be modified to
>> not throw a warning when the redefinition is identical to the
>> original value, just like in C. Przemek, what's your opinion?
>
> Such warning is standard Clipper behavior and I do not think we
> should disable it but of course it's possible.

You're right, I forgot about the compatibility aspect.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug 17 07:06:25 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 07:06:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12125]
	trunk/harbour/ChangeLog
In-Reply-To: <KOFW60$E3EE21EEC57CD0714E14E724EBE6306C@libero.it>
References: <KOFW60$E3EE21EEC57CD0714E14E724EBE6306C@libero.it>
Message-ID: <20090817110625.GB17616@uran.home.aster.pl>

On Sun, 16 Aug 2009, maurilio longo wrote:

Hi Maurilio,

> without the comspec trick a make install freezes, the shell cannot even be killed anymore :(

Which GNU make version are you using?
Have you tried to use 3.81?

best regards,
Przemek
From druzus at acn.waw.pl  Mon Aug 17 07:27:20 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 07:27:26 2009
Subject: [Harbour] linux/gcc link failure
In-Reply-To: <alpine.GSO.2.00.0908162115170.3629@dawn.royalcomp.hu>
References: <alpine.GSO.2.00.0908161248260.3629@dawn.royalcomp.hu>
	<A20603BD-0185-4450-B162-0FBEDE7E2A70@syenar.hu>
	<alpine.GSO.2.00.0908162115170.3629@dawn.royalcomp.hu>
Message-ID: <20090817112720.GC17616@uran.home.aster.pl>

On Sun, 16 Aug 2009, Tamas TEVESZ wrote:

Hi,

>  > I've partially moved some former logic in make_gnu.sh
>  > to linux/global.cf with notes left in ChangeLog and the
>  > file. Logic should be completed (I didn't have enough
>  > information to implement it in the more limited GNU Make
>  > syntax), maybe this effect is caused by it being broken
>  > for now.
> point is, why not -fPIC unconditionally?

Because it causes on some platforms huge speed overhead,
i.e. SunOS@x86 builds with SunPRO C and tests/speedtst.prg.
Default optimization settings with -KPIC:

   [ total application time: ]....................................29.46
   [ total real time: ]...........................................29.53

and without -KPIC:

   [ total application time: ]....................................23.46
   [ total real time: ]...........................................23.53

As you can see Harbour libraries compiled unconditionally as position
independent code are over 25% slower. Of course it depends on used
hardware. Some processors can use only PIC so such switches has no
effect.
We need PIC to create harbour shared library. Some platforms like
x86@32 for most of code (with some few seldom exceptions) can accept
code compiled without PIC switches to create shared libraries.
You can remove it from sunpro.cf if base platform is x86@32 and
the final binaries will be much faster. Anyhow such tricks works
only on few number of platform and always have to be tested.
It's possible that we add some new code which will block such
hidden conversion. The ideal solution is introducing to our GNU
make system two phase compilation. One for static libraries
without any switches to force PIC and second for harbour shared
library which will use -fPIC/-KPIC or any other platform dependent
switch used to force position independent code.

best regards,
Przemek
From francek.prijatelj at siol.net  Mon Aug 17 07:30:00 2009
From: francek.prijatelj at siol.net (=?UTF-8?Q?Fran=C4=8Dek_Prijatelj?=)
Date: Mon Aug 17 07:30:07 2009
Subject: [Harbour] Error building harbour-20.dll
In-Reply-To: <80ACE164-D636-47E5-8101-E9F371EBFCB9@syenar.hu>
References: <4A8909A4.3020004@siol.net>
	<80ACE164-D636-47E5-8101-E9F371EBFCB9@syenar.hu>
Message-ID: <25005132.post@talk.nabble.com>


Hi Viktor

Thanks. 
I removed HB_USER_PRGFLAGS=-b, and .dll is built.
I owe you a beer ;)

Brgs

Fran?ek




Viktor Szak?ts wrote:
> 
> Hi,
> 
> I guess you're using HB_USER_PRGFLAGS=-b to build Harbour,
> and in this case harbour.dll creation doesn't work, and AFAIU
> it never did.
> 
> Either turn it off, or maybe hbdebug lib (+ lib path option)
> can be added to linker command in bin/hb-mkdyn.bat line 92-92
> to solve this problem, I don't know whether this is the right
> solution.
> 
> If we find out what to do here I can implement it.
> 
> Brgds,
> Viktor
> 



-- 
View this message in context: http://www.nabble.com/Error-building-harbour-20.dll-tp25002421p25005132.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Aug 17 07:33:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 07:33:08 2009
Subject: [Harbour] linux/gcc link failure
In-Reply-To: <20090817112720.GC17616@uran.home.aster.pl>
References: <alpine.GSO.2.00.0908161248260.3629@dawn.royalcomp.hu>
	<A20603BD-0185-4450-B162-0FBEDE7E2A70@syenar.hu>
	<alpine.GSO.2.00.0908162115170.3629@dawn.royalcomp.hu>
	<20090817112720.GC17616@uran.home.aster.pl>
Message-ID: <AAAF914C-BDC7-4297-907F-CD36653967A7@syenar.hu>

Hi Przemek,

> Because it causes on some platforms huge speed overhead,
> i.e. SunOS@x86 builds with SunPRO C and tests/speedtst.prg.
> Default optimization settings with -KPIC:
>
>   [ total application time: ]....................................29.46
>   [ total real time: ]...........................................29.53
>
> and without -KPIC:
>
>   [ total application time: ]....................................23.46
>   [ total real time: ]...........................................23.53
>
> As you can see Harbour libraries compiled unconditionally as position
> independent code are over 25% slower. Of course it depends on used
> hardware. Some processors can use only PIC so such switches has no
> effect.
> We need PIC to create harbour shared library. Some platforms like
> x86@32 for most of code (with some few seldom exceptions) can accept
> code compiled without PIC switches to create shared libraries.
> You can remove it from sunpro.cf if base platform is x86@32 and
> the final binaries will be much faster. Anyhow such tricks works
> only on few number of platform and always have to be tested.
> It's possible that we add some new code which will block such
> hidden conversion. The ideal solution is introducing to our GNU
> make system two phase compilation. One for static libraries
> without any switches to force PIC and second for harbour shared
> library which will use -fPIC/-KPIC or any other platform dependent
> switch used to force position independent code.

After recent make system changes it's now very easy to
enable separate PIC compilation pass for shared harbour
lib. See the method now used for non-GCC wce/win targets.

Of course the shared lib generation script will have to
be updated, but it shouldn't be very complicated.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug 17 07:35:27 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 07:35:34 2009
Subject: [Harbour] Platforms
In-Reply-To: <BFC50F83-3CA0-4597-8F8C-139F672528A3@syenar.hu>
References: <BLU0-SMTP265110567CECC32D7E2FE8EF000@phx.gbl>
	<BFC50F83-3CA0-4597-8F8C-139F672528A3@syenar.hu>
Message-ID: <20090817113527.GD17616@uran.home.aster.pl>

On Mon, 17 Aug 2009, Szak?ts Viktor wrote:

Hi,

> UNIX vs. UNIX_COMPATIBLE: hard to tell, but this may be possible
> to clean to have only one of them (the former ideally).

Now we used to use HB_OS_UNIX to mark UNIX compatible OS-es
so we can eliminate HB_OS_UNIX_COMPATIBLE macro.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Aug 17 07:42:15 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 07:42:23 2009
Subject: [Harbour] Platforms
In-Reply-To: <20090817113527.GD17616@uran.home.aster.pl>
References: <BLU0-SMTP265110567CECC32D7E2FE8EF000@phx.gbl>
	<BFC50F83-3CA0-4597-8F8C-139F672528A3@syenar.hu>
	<20090817113527.GD17616@uran.home.aster.pl>
Message-ID: <492694B6-A850-420A-AB32-C87382983BB8@syenar.hu>

I'll do that.

Brgds,
Viktor

On 2009.08.17., at 1:35, Przemyslaw Czerpak wrote:

> On Mon, 17 Aug 2009, Szak?ts Viktor wrote:
>
> Hi,
>
>> UNIX vs. UNIX_COMPATIBLE: hard to tell, but this may be possible
>> to clean to have only one of them (the former ideally).
>
> Now we used to use HB_OS_UNIX to mark UNIX compatible OS-es
> so we can eliminate HB_OS_UNIX_COMPATIBLE macro.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Aug 17 07:45:07 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 07:45:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12121] trunk/harbour
In-Reply-To: <E1McFsm-00072q-Fg@74yxhf1.ch3.sourceforge.com>
References: <E1McFsm-00072q-Fg@74yxhf1.ch3.sourceforge.com>
Message-ID: <20090817114507.GE17616@uran.home.aster.pl>

On Sat, 15 Aug 2009, vszakats@users.sourceforge.net wrote:
> 2009-08-15 11:48 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * utils/hbmk2/hbmk2.prg
>     ! Minor fix for darwin and automatic entry function detection using 'nm'.
>       nm on Darwin doesn't seem to support '--defined-only -C' option.
>       Przemek, please check this, maybe this hurts functionality.

For pure C mode it should work. " T HB_FUN_" is enough anyhow it may cause
problems for C++ mode because it may attach mangling information. Just
make test with Darwin C++ builds. If necessary at symbol name cutting
at 1-st "@"

best regards,
Przemek
From druzus at acn.waw.pl  Mon Aug 17 07:50:50 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 07:50:55 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <1218769846.20090814223723@tlen.pl>
References: <1052958573.20090814121839@tlen.pl>
	<20090814104242.GA10972@uran.home.aster.pl>
	<172270173.20090814132029@tlen.pl>
	<20090814115218.GA25026@uran.home.aster.pl>
	<20090814120358.GA25802@uran.home.aster.pl>
	<1103015677.20090814143145@tlen.pl>
	<20090814125427.GA1160@uran.home.aster.pl>
	<162593182.20090814191923@tlen.pl>
	<20090814173643.GA30218@uran.home.aster.pl>
	<1218769846.20090814223723@tlen.pl>
Message-ID: <20090817115050.GF17616@uran.home.aster.pl>

[piï¿½tek, 14 sierpieï¿½ 2009], JarosÅ‚aw KÄ…dzioÅ‚a napisa³(a):

Hi,

> > If current hb_processRun() fails then please try to change in
> > hbproces.c[219]:
> >    fError = ! CreateProcess( NULL,           /* lpAppName */
> >                              lpCommand,      /* lpCommandLine */
> > to:
> >    fError = ! CreateProcess( lpCommand,      /* lpAppName */
> >                              NULL,           /* lpCommandLine */
> This shot was OK, now hb_processRun() is OK. Thanks

Thank you for your tests.
I would like to ask you about some others yet.
Above code does not allow to pass parameters.
Can you modifiy it to:
   fError = ! CreateProcess( lpCommand,      /* lpAppName */
                             lpCommand,      /* lpCommandLine */

to execute the following program:

   proc main( ... )
      alert( hb_valToExp( { ... } ) )
   return

Seems that to pass parameters we will have to make some additional
modifications and I would like to know if application name is stripped
from lpCommandLine in WinCE.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Aug 17 07:54:07 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 17 07:54:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12138] trunk/harbour
Message-ID: <E1Md0mt-000271-T9@dn4whf1.ch3.sourceforge.com>

Revision: 12138
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12138&view=rev
Author:   druzus
Date:     2009-08-17 11:54:06 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 13:53 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rdd/workarea.c
    ! keep EOF position synced in relation positioning

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rdd/workarea.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From likewolf at users.sourceforge.net  Mon Aug 17 08:03:19 2009
From: likewolf at users.sourceforge.net (likewolf@users.sourceforge.net)
Date: Mon Aug 17 08:03:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12139] trunk/harbour
Message-ID: <E1Md0vn-0006iG-JB@c3vjzd1.ch3.sourceforge.com>

Revision: 12139
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12139&view=rev
Author:   likewolf
Date:     2009-08-17 12:03:18 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 16:02 UTC+0300 Phil Krylov <phil@newstar.rinet.ru>
  * source/debug/tbrwtext.prg
    ! Fixed RTE on deleting the last tracepoint.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/debug/tbrwtext.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 17 08:13:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 17 08:13:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12140] trunk/harbour
Message-ID: <E1Md161-0000yP-S0@bj8yhf1.ch3.sourceforge.com>

Revision: 12140
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12140&view=rev
Author:   vszakats
Date:     2009-08-17 12:13:52 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 14:13 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/vm/itemapi.c
  * source/vm/extend.c
  * source/rtl/fserr.c
  * source/rtl/gtsln/keytrans.c
    * #ifdef -> #if defined()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/fserr.c
    trunk/harbour/source/rtl/gtsln/keytrans.c
    trunk/harbour/source/vm/extend.c
    trunk/harbour/source/vm/itemapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Mon Aug 17 08:14:38 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Aug 17 08:14:49 2009
Subject: [Harbour] SF.net SVN:
	harbour-project:[12125]	trunk/harbour/ChangeLog
In-Reply-To: <20090817110625.GB17616@uran.home.aster.pl>
References: <KOFW60$E3EE21EEC57CD0714E14E724EBE6306C@libero.it>
	<20090817110625.GB17616@uran.home.aster.pl>
Message-ID: <4A8949AE.8010409@libero.it>

Przemyslaw,

yes, I'm using 3,81 since you introduced the parallel build.

Maurilio.


Przemyslaw Czerpak wrote:
> On Sun, 16 Aug 2009, maurilio longo wrote:
> 
> Hi Maurilio,
> 
>> without the comspec trick a make install freezes, the shell cannot even be killed anymore :(
> 
> Which GNU make version are you using?
> Have you tried to use 3.81?
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Mon Aug 17 08:23:43 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 08:23:51 2009
Subject: [Harbour] SF.net SVN:
	harbour-project:[12125]	trunk/harbour/ChangeLog
In-Reply-To: <4A8949AE.8010409@libero.it>
References: <KOFW60$E3EE21EEC57CD0714E14E724EBE6306C@libero.it>
	<20090817110625.GB17616@uran.home.aster.pl>
	<4A8949AE.8010409@libero.it>
Message-ID: <33B311EE-ED6A-45A4-94BE-92F1B5CC3C7A@syenar.hu>

Hi Maurilio,

Did you find time to make those tests?

Brgds,
Viktor

On 2009.08.17., at 2:14, Maurilio Longo wrote:

> Przemyslaw,
>
> yes, I'm using 3,81 since you introduced the parallel build.
>
> Maurilio.
>
>
> Przemyslaw Czerpak wrote:
>> On Sun, 16 Aug 2009, maurilio longo wrote:
>>
>> Hi Maurilio,
>>
>>> without the comspec trick a make install freezes, the shell cannot  
>>> even be killed anymore :(
>>
>> Which GNU make version are you using?
>> Have you tried to use 3.81?
>>
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at users.sourceforge.net  Mon Aug 17 08:28:41 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 17 08:28:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12141] trunk/harbour
Message-ID: <E1Md1KL-0001Hk-Qu@bj8yhf1.ch3.sourceforge.com>

Revision: 12141
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12141&view=rev
Author:   druzus
Date:     2009-08-17 12:28:41 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 14:28 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/hbsocket.c
    * small cleanup

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/hbsocket.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Mon Aug 17 08:29:49 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Aug 17 08:30:00 2009
Subject: [Harbour] SF.net SVN:
	harbour-project:[12125]	trunk/harbour/ChangeLog
In-Reply-To: <422F20DC-76E9-4CFB-B192-761CAEFAA048@syenar.hu>
References: <KOGI1K$731E033DCEC18050707F306A99E3A139@libero.it>
	<422F20DC-76E9-4CFB-B192-761CAEFAA048@syenar.hu>
Message-ID: <4A894D3D.1010001@libero.it>

Viktor,

I don't like this idea since we're replacing OS/2 with *nix commands (ported,
ok, but not native ones) and this forces more dependencies while my solution,
even if less clean, works with standard file shell commands).

Even os2-mkdir and os2-rd should be removed, IMHO, since it was possibile to
build everything without them a few months back.

Anyway, I have the full gnufutils installed, so I'll do a test with cp,
without even moving it inside config since it is in my PATH.

Best regards.

Maurilio.


Viktor Szak?ts wrote:
> Hi Maurilio,
> 
> What if you stay within this scenario, but change $(CP)
> value to GNU cp tool? You could also check GNU cp +
> no COMSPEC.
> 
> GNU cp is here:
> ftp://hobbes.nmsu.edu/pub/os2/util/file/gnufutil.zip
> 
> Copy exe\cp.exe to config\os2-cp.exe then in config\globsh.cf
> change line #91 to this one:
> CP := $(TOOL_DIR)\os2-cp -f
> 
> Brgds,
> Viktor
> 
> On 2009.08.16., at 8:29, maurilio longo wrote:
> 
>> Viktor,
>>
>> written this way it freezes:
>>
>> ifeq ($(HB_SHELL),os2)
>>
>>   define inst_file_all
>>      -@if not exist $(INSTALL_DIR_OS) $(MDP) $(INSTALL_DIR)
>>      $(foreach file,$(INSTALL_FILES_OS),$(inst_file))
>>   endef
>>
>>   define inst_file
>>      $(COMSPEC) /C $(CP) $(file) $(INSTALL_DIR_OS)
>>
>>   endef
>>
>>   INSTALL_RULE := $(inst_file_all)
>>
>> endif
>>
>>
>> Maurilio
>>
>>
>>> Thanks for the input. Could you try the just removed
>>> method with readded $(COMSPEC) /C? Maybe the logic was
>>> good (after all it even works in MS-DOS), just this bit
>>> was causing freeze.
>>>
>>> Brgds,
>>> Viktor
>>>
>>> On 2009.08.16., at 0:37, maurilio longo wrote:
>>>
>>>> Viktor,
>>>>
>>>> without the comspec trick a make install freezes, the shell cannot
>>>> even be killed anymore :(
>>>>
>>>> Best regards.
>>>>
>>>> Maurilio.
>>>>
>>>> PS. See also my other answer to your previous message.
>>>>
>>>>
>>>>> BTW it would be also nice to hear what was the problem
>>>>> with previous commit (which was working for David), I've
>>>>> copied the DOS shell method, where the command line limit
>>>>> is even more restricted, yet it works fine. Maybe it'd be
>>>>> enough to use GNU cp (like with DOS) for OS/2 too, since
>>>>> that was also part of the DOS solution, but I didn't commit
>>>>> that part for OS/2.
>>>>>
>>>>> I'd welcome your comments and tests, I'm sure there is a
>>>>> better solution than current one.
>>>>>
>>>>> Brgds,
>>>>> Viktor
>>>>>
>>>>> On 2009.08.15., at 11:40, mauriliolongo@users.sourceforge.net wrote:
>>>>>
>>>>>> Revision: 12125
>>>>>>       
>>>>>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12125&view=rev
>>>>>>
>>>>>> Author:   mauriliolongo
>>>>>> Date:     2009-08-15 21:40:10 +0000 (Sat, 15 Aug 2009)
>>>>>>
>>>>>> Log Message:
>>>>>> -----------
>>>>>> 2009-08-15 23:37 UTC+0200 Maurilio Longo (maurilio.longo@libero.it)
>>>>>> ! ChangeLog
>>>>>>   ! fixed typo in last commit.
>>>>>>
>>>>>> Modified Paths:
>>>>>> --------------
>>>>>>  trunk/harbour/ChangeLog
>>>>>>
>>>>>>
>>>>>> This was sent by the SourceForge.net collaborative development
>>>>>> platform, the world's largest Open Source development site.
>>>>>> _______________________________________________
>>>>>> Harbour mailing list
>>>>>> Harbour@harbour-project.org
>>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>
>>>>> _______________________________________________
>>>>> Harbour mailing list
>>>>> Harbour@harbour-project.org
>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From bruno.luciani at gmail.com  Mon Aug 17 08:35:42 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Mon Aug 17 08:35:51 2009
Subject: [Harbour] Howto make HBQt contrib
In-Reply-To: <A2F9A8DD-AF28-4BCA-AB67-CC00FFD66A6C@syenar.hu>
References: <133778360908161433r74cb912dnd67160c51d46a79a@mail.gmail.com>
	<A2F9A8DD-AF28-4BCA-AB67-CC00FFD66A6C@syenar.hu>
Message-ID: <133778360908170535l7640f9e3k24018ee8c652f173@mail.gmail.com>

Thanks Victor , I was put the qt include into the make_gnu and now
works ok again

Burno

2009/8/17 Viktor Szak?ts <harbour.01@syenar.hu>

> Hi Bruno,
>
> It must be something outside Harbour, nothing changed
> in the way contribs are built (or not built). hbqt is
> built by default, if the dependencies can be found
> or HB_INC_QT is set to an existing QT installation.
>
> [ unless I made some stupid typos, but here it works
> fine on all platforms. ]
>
> Brgds,
> Viktor
>
>
> On 2009.08.16., at 11:33, Bruno Luciani wrote:
>
>  Recent changes produces that , I can not make HBQT anymore
>>
>> Howto Add , or howto know which of Contribs are in the default list ?
>>
>> I know that in install file exists
>>
>>   - HB_CONTRIBLIBS=no         Don't build any contrib libraries.
>>   - HB_CONTRIBLIBS=[<list>]   Build space separated <list> of contrib
>>
>> But where is the list , in the make file , in contrib   HBQT exists
>>
>> Any help please
>>
>> Bruno
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090817/b6c0b905/attachment-0001.html
From maurilio.longo at libero.it  Mon Aug 17 08:36:25 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Aug 17 08:36:37 2009
Subject: [Harbour] SF.net SVN:
	harbour-project:[12125]	trunk/harbour/ChangeLog
In-Reply-To: <73E3F02E-716E-4FDE-AC19-75B346A3CAA0@syenar.hu>
References: <KOGIRP$338F12449E28A30CAAB1B484434E7436@libero.it>
	<73E3F02E-716E-4FDE-AC19-75B346A3CAA0@syenar.hu>
Message-ID: <4A894EC9.1050700@libero.it>

Viktor Szak?ts wrote:
>> Viktor,
>>
>> HB_INSTALL_PREFIX is wrong on OS/2, it points to
>>
>> HB_INSTALL_PREFIX set to: E:\repository\harbour
>> which is where I have my copy of the svn source tree.
> 
> It's meant to point there. This is the only location
> we surely know we can install to without doing any
> harm to the system. It also produces a working binary
> tree this way. In this case it's normal that 'install'
> shows errors telling src and dst filenames are identical,
> these can be ignored.
> 

e:\repository\harbour hosts, in my PC, the svn tree from the repository; so
when it copies include, for example, what happens?

And why is it called PREFIX? I have HB_???_INSTALL envvars pointing somewhere
else, the 'PREFIX' part makes me thing that this gets attacched to the head of
HB_??_INSTALL, but this is not the case.

>> And I don't think OS/2 cmd.exe is able to correctly execute most of
>> postinst.cmd; I'll do some tests an let you know.
> 
> I did my best reading all the scarce documentation
> on OS/2 versions of commands, many times I have to
> guess, I hate to work like this and chances are very
> high to do mistakes, I'd prefer if OS/2 users would
> update this, if I have to do it it will look like this.
> 
> [ I wonder how can there be errors in most cmds,
> as hbmk.cfg is created ok, the remaining 5 commands
> are simple 'if ... xcopy' ones, only there can be
> problem. ]

Ok, reading hbmk.cfg lines I thought that there were unresolved references;
those %%{XXX}.

> 
> Anyway, please test/fix them.
> 

I'll do.

Best regards.

Maurilio.


> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Mon Aug 17 08:38:05 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Aug 17 08:38:17 2009
Subject: [Harbour] SF.net
	SVN:	harbour-project:[12125]	trunk/harbour/ChangeLog
In-Reply-To: <33B311EE-ED6A-45A4-94BE-92F1B5CC3C7A@syenar.hu>
References: <KOFW60$E3EE21EEC57CD0714E14E724EBE6306C@libero.it>	<20090817110625.GB17616@uran.home.aster.pl>	<4A8949AE.8010409@libero.it>
	<33B311EE-ED6A-45A4-94BE-92F1B5CC3C7A@syenar.hu>
Message-ID: <4A894F2D.7070306@libero.it>

Viktor,

not yet, today I'm back at work (vacations always last too little :)) and I
have several other things to follow.

I a day or two I'll do all the tests and report back to you.

Best regards.

Maurilio.


Viktor Szak?ts wrote:
> Hi Maurilio,
> 
> Did you find time to make those tests?
> 
> Brgds,
> Viktor
> 
> On 2009.08.17., at 2:14, Maurilio Longo wrote:
> 
>> Przemyslaw,
>>
>> yes, I'm using 3,81 since you introduced the parallel build.
>>
>> Maurilio.
>>
>>
>> Przemyslaw Czerpak wrote:
>>> On Sun, 16 Aug 2009, maurilio longo wrote:
>>>
>>> Hi Maurilio,
>>>
>>>> without the comspec trick a make install freezes, the shell cannot
>>>> even be killed anymore :(
>>>
>>> Which GNU make version are you using?
>>> Have you tried to use 3.81?
>>>
>>> best regards,
>>> Przemek
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>> -- 
>> __________
>> |  |  | |__| Maurilio Longo
>> |_|_|_|____| farmaconsult s.r.l.
>>
>> 
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From kadziola at tlen.pl  Mon Aug 17 08:40:28 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Mon Aug 17 08:40:43 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <20090817115050.GF17616@uran.home.aster.pl>
References: <1052958573.20090814121839@tlen.pl>
	<20090814104242.GA10972@uran.home.aster.pl>
	<172270173.20090814132029@tlen.pl>
	<20090814115218.GA25026@uran.home.aster.pl>
	<20090814120358.GA25802@uran.home.aster.pl>
	<1103015677.20090814143145@tlen.pl>
	<20090814125427.GA1160@uran.home.aster.pl>
	<162593182.20090814191923@tlen.pl>
	<20090814173643.GA30218@uran.home.aster.pl>
	<1218769846.20090814223723@tlen.pl>
	<20090817115050.GF17616@uran.home.aster.pl>
Message-ID: <1365049812.20090817144028@tlen.pl>

Hi,

W li?cie datowanym 17 sierpnia 2009 (13:50:50) mo?na przeczyta?:

PC> [pi?tek, 14 sierpie? 2009], Jaros?aw K?dzio?a napisa3(a):

PC> Hi,

>> > If current hb_processRun() fails then please try to change in
>> > hbproces.c[219]:
>> >    fError = ! CreateProcess( NULL,           /* lpAppName */
>> >                              lpCommand,      /* lpCommandLine */
>> > to:
>> >    fError = ! CreateProcess( lpCommand,      /* lpAppName */
>> >                              NULL,           /* lpCommandLine */
>> This shot was OK, now hb_processRun() is OK. Thanks

PC> Thank you for your tests.
PC> I would like to ask you about some others yet.
PC> Above code does not allow to pass parameters.
PC> Can you modifiy it to:
PC>    fError = ! CreateProcess( lpCommand,      /* lpAppName */
PC>                              lpCommand,      /* lpCommandLine */

PC> to execute the following program:

PC>    proc main( ... )
PC>       alert( hb_valToExp( { ... } ) )
PC>    return

PC> Seems that to pass parameters we will have to make some additional
PC> modifications and I would like to know if application name is stripped
PC> from lpCommandLine in WinCE.

I'll try later (evening or tomorrow morning).


-- 
Regards,
 Jaroslaw Kadziola

From harbour.01 at syenar.hu  Mon Aug 17 08:44:26 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 08:44:34 2009
Subject: [Harbour] SF.net SVN:
	harbour-project:[12125]	trunk/harbour/ChangeLog
In-Reply-To: <4A894D3D.1010001@libero.it>
References: <KOGI1K$731E033DCEC18050707F306A99E3A139@libero.it>
	<422F20DC-76E9-4CFB-B192-761CAEFAA048@syenar.hu>
	<4A894D3D.1010001@libero.it>
Message-ID: <8CB50BAA-EDE6-4CD8-8C31-D7A44829100E@syenar.hu>

> Viktor,
>
> I don't like this idea since we're replacing OS/2 with *nix commands  
> (ported,
> ok, but not native ones) and this forces more dependencies while my  
> solution,
> even if less clean, works with standard file shell commands).
>
> Even os2-mkdir and os2-rd should be removed, IMHO, since it was  
> possibile to
> build everything without them a few months back.

Unfortunately it's not so easy anymore.

Few features which require 'mkdir -p' support:
- HB_*_INSTALL dir automatic creation
- HB_BUILD_NAME support, when the name contains subdir
- PKG_DIR removal. (OS/2 doesn't have package creation
   yet, but it would be nice to have.)

OS/2 'clean' and 'dirbase' rules have to be completely
reworked if 'mkdir -p' and 'rmdir -rf' isn't available.
Only OS/2 user can do that.

The real problem however that I reckon there is no way
to rework 'clean' and 'dirbase' rules without implementing
ugly manual hacks which have to be updated each time we
happen to change OBJ_DIR, BIN_DIR or LIB_DIR location.
Currently these are very easy to change at just one place
in global.cf.

The other problem is that probably the global rules have
to be made much complicated just for the sake of OS/2.
(like storing every dir level for every dir variable
in separate variables)

I don't like the idea to make general parts of Harbour
more complicate just for the sake of OS/2 (or any other
OS for that matter), so current solution was a compromise,
which I believe isn't that huge for OS/2 users. My only
concern here is licensing. But that can be solved by
some extra documentation in INSTALL and removal of these
tools from SVN (while still requiring them to build
Harbour).

> Anyway, I have the full gnufutils installed, so I'll do a test with  
> cp,
> without even moving it inside config since it is in my PATH.

Many thanks.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug 17 08:46:34 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 08:46:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12125]
	trunk/harbour/ChangeLog
In-Reply-To: <4A894D3D.1010001@libero.it>
References: <KOGI1K$731E033DCEC18050707F306A99E3A139@libero.it>
	<422F20DC-76E9-4CFB-B192-761CAEFAA048@syenar.hu>
	<4A894D3D.1010001@libero.it>
Message-ID: <20090817124634.GA13853@uran.home.aster.pl>

On Mon, 17 Aug 2009, Maurilio Longo wrote:

Hi,

> Anyway, I have the full gnufutils installed, so I'll do a test with cp,
> without even moving it inside config since it is in my PATH.

So I guess you also have some *sh.exe files in your path.
Maybe it's the reason of your problems with rules without $(CMDPREF).
Some older GNU make DOS and Windows ports were looking for *sh.exe
files in PATH and used them instead of $(COMMAND). Maybe OS2 GNU
make port still does it.
Can you check?

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Aug 17 08:52:07 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 08:52:18 2009
Subject: [Harbour] SF.net SVN:
	harbour-project:[12125]	trunk/harbour/ChangeLog
In-Reply-To: <4A894EC9.1050700@libero.it>
References: <KOGIRP$338F12449E28A30CAAB1B484434E7436@libero.it>
	<73E3F02E-716E-4FDE-AC19-75B346A3CAA0@syenar.hu>
	<4A894EC9.1050700@libero.it>
Message-ID: <E93252E1-35E8-46E9-A66B-B7FD94ECF755@syenar.hu>

> Viktor Szak?ts wrote:
>>> Viktor,
>>>
>>> HB_INSTALL_PREFIX is wrong on OS/2, it points to
>>>
>>> HB_INSTALL_PREFIX set to: E:\repository\harbour
>>> which is where I have my copy of the svn source tree.
>>
>> It's meant to point there. This is the only location
>> we surely know we can install to without doing any
>> harm to the system. It also produces a working binary
>> tree this way. In this case it's normal that 'install'
>> shows errors telling src and dst filenames are identical,
>> these can be ignored.
>>
>
> e:\repository\harbour hosts, in my PC, the svn tree from the  
> repository; so
> when it copies include, for example, what happens?

It will do 'copy header.h header.h' which will usually
throw an error, which will be ignored by GNU Make
(that's why we need '-' prefix for the copy commands
in instsh.sh). GNU cp, may not show an error in this
case, but I think this depends on the platform (or version?).

> And why is it called PREFIX? I have HB_???_INSTALL envvars pointing  
> somewhere
> else, the 'PREFIX' part makes me thing that this gets attacched to  
> the head of
> HB_??_INSTALL, but this is not the case.

It's just an easy way to tell where to put Harbour. On
non-*nix systems 99.9% of users will use the exact same
structure inside the base Harbour dir, so for these users,
it makes configuration much simpler (one line vs 4).
Probably everybody would resort to such a local variable
anyway to reduce redundancy. So Harbour provides it
convenience. Note it's a very old variable, I didn't add
it now. HB_*_INSTALL variables are still there for those
who want to fine tune the installation, plus *nix system.

>>> And I don't think OS/2 cmd.exe is able to correctly execute most of
>>> postinst.cmd; I'll do some tests an let you know.
>>
>> I did my best reading all the scarce documentation
>> on OS/2 versions of commands, many times I have to
>> guess, I hate to work like this and chances are very
>> high to do mistakes, I'd prefer if OS/2 users would
>> update this, if I have to do it it will look like this.
>>
>> [ I wonder how can there be errors in most cmds,
>> as hbmk.cfg is created ok, the remaining 5 commands
>> are simple 'if ... xcopy' ones, only there can be
>> problem. ]
>
> Ok, reading hbmk.cfg lines I thought that there were unresolved  
> references;
> those %%{XXX}.

Actually they should look: %{XXX}. So if there is double
%% in hbmk.cfg, it's a bug and has to be fixed. On win/dos
double %% needs to be echoed to get a single % in output.
Maybe OS/2 is different here.

>> Anyway, please test/fix them.
>>
>
> I'll do.

Thank you.

Brgds,
Viktor

From dmacias at mail.udg.mx  Mon Aug 17 08:52:16 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Aug 17 08:52:40 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12125]
	trunk/harbour/ChangeLog
Message-ID: <4A895280.2050003@mail.udg.mx>

Maurilio:

 >yes, I'm using 3,81 since you introduced the parallel build.

In old and recent messages I posted about many problems for os2make381

There are a lot of make.exe for 3.81 and some of them freeze in near 
unpredictable way in Harbour. Sometimes freeze can be closed, sometimes 
session are unkillable and sometimes freeze entire Os

I am including below my recent message part about MAKE-3_81-R2_LIBC063

This is my current os2make381 and I have not seen problems, except knwon 
limitations

David Macias


>  * config/readme.txt
>    - Deleted info on OS/2 make.

I checked what you deleted and found some interesting info
- I got my os2make381 from hobbes.nmsu.edu
- You got it from os2site
- In first deleted link are a lot of info and files of os2make
- An there are files:
   MAKE-3_81-R2_LIBC063
   MAKE-3_81-R2_PMW

Reviewing info we see:
- Our current os2make381 was build with gcc 2.95.3, a very old gg in OS/2
- maintainer is Andreas Buening ( andreas.buening at nexgo.de )
- Source file are in hobbes.nmsu.edu/h-search.php?key=make-3.81-r2.zip
- In February 2009 (recently) Peter Weilbacher ( mozilla at
weilbacher.org ) rebuilt the executable with GCC 4.3.3 and explained:
-------------------------
Because this now uses (and requires!) the newer C-Runtime library kLibc
0.6.3 it seems to be more stable when used in a parallel setup (e.g. -j4
as in my current Mozilla setup).

Warning: this is only a quick recompile, I did not do any serious testing!
-------------------------

Obviously I checked Harbour-Watcom without two changes of Przemek with
this new os2make381

Error was the same, at least in this case:
------------------------------------
[E:\harbour907e\harbour]make -r            1>make_ow.log
make[3]: *** [hbrtl.lib] Segmentation fault (core dumped)
make[2]: *** [descend] Error 2
make[1]: *** [rtl] Error 2
make: *** [source] Error 2
------------------------------------

Przemek:
- having the sources and possibility to rebuild os2make381, have some
benefit ?
- The problem is with os2make381, and/or OS/2 command shell (CMD.exe) ?
If later, can we use other ?
- Is any other kind of environment limit (command line size,
environment, ... ) ?
- I think if you get contact with Andreas Buening to exchange info about
these problems can help us to understand/solve them


David Macias



From harbour.01 at syenar.hu  Mon Aug 17 08:53:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 08:54:02 2009
Subject: [Harbour] SF.net
	SVN:	harbour-project:[12125]	trunk/harbour/ChangeLog
In-Reply-To: <4A894F2D.7070306@libero.it>
References: <KOFW60$E3EE21EEC57CD0714E14E724EBE6306C@libero.it>	<20090817110625.GB17616@uran.home.aster.pl>	<4A8949AE.8010409@libero.it>
	<33B311EE-ED6A-45A4-94BE-92F1B5CC3C7A@syenar.hu>
	<4A894F2D.7070306@libero.it>
Message-ID: <806CFAD5-47E8-4B54-B852-20AF007F228A@syenar.hu>

True :) Just take your time.

Brgds,
Viktor

On 2009.08.17., at 2:38, Maurilio Longo wrote:

> Viktor,
>
> not yet, today I'm back at work (vacations always last too  
> little :)) and I
> have several other things to follow.
>
> I a day or two I'll do all the tests and report back to you.
>
> Best regards.
>
> Maurilio.
>
>
> Viktor Szak?ts wrote:
>> Hi Maurilio,
>>
>> Did you find time to make those tests?
>>
>> Brgds,
>> Viktor
>>
>> On 2009.08.17., at 2:14, Maurilio Longo wrote:
>>
>>> Przemyslaw,
>>>
>>> yes, I'm using 3,81 since you introduced the parallel build.
>>>
>>> Maurilio.
>>>
>>>
>>> Przemyslaw Czerpak wrote:
>>>> On Sun, 16 Aug 2009, maurilio longo wrote:
>>>>
>>>> Hi Maurilio,
>>>>
>>>>> without the comspec trick a make install freezes, the shell cannot
>>>>> even be killed anymore :(
>>>>
>>>> Which GNU make version are you using?
>>>> Have you tried to use 3.81?
>>>>
>>>> best regards,
>>>> Przemek
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>
>>> -- 
>>> __________
>>> |  |  | |__| Maurilio Longo
>>> |_|_|_|____| farmaconsult s.r.l.
>>>
>>> 
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Aug 17 08:56:56 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 08:57:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12125]
	trunk/harbour/ChangeLog
In-Reply-To: <20090817124634.GA13853@uran.home.aster.pl>
References: <KOGI1K$731E033DCEC18050707F306A99E3A139@libero.it>
	<422F20DC-76E9-4CFB-B192-761CAEFAA048@syenar.hu>
	<4A894D3D.1010001@libero.it>
	<20090817124634.GA13853@uran.home.aster.pl>
Message-ID: <BB462187-BA90-4D19-987E-08E283782C3A@syenar.hu>

This can be now seen in make output, the first line contains
default SHELL value.

And with a little trick it may even be worked around for OS/2
(like it is now for win/dos).

In config/global.cf after line 310 there should be added an
SHELL := $(COMSPEC) line. Maybe it helps.

Brgds,
Viktor

On 2009.08.17., at 2:46, Przemyslaw Czerpak wrote:

> On Mon, 17 Aug 2009, Maurilio Longo wrote:
>
> Hi,
>
>> Anyway, I have the full gnufutils installed, so I'll do a test with  
>> cp,
>> without even moving it inside config since it is in my PATH.
>
> So I guess you also have some *sh.exe files in your path.
> Maybe it's the reason of your problems with rules without $(CMDPREF).
> Some older GNU make DOS and Windows ports were looking for *sh.exe
> files in PATH and used them instead of $(COMMAND). Maybe OS2 GNU
> make port still does it.
> Can you check?
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Aug 17 09:20:27 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 09:20:32 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <1365049812.20090817144028@tlen.pl>
References: <172270173.20090814132029@tlen.pl>
	<20090814115218.GA25026@uran.home.aster.pl>
	<20090814120358.GA25802@uran.home.aster.pl>
	<1103015677.20090814143145@tlen.pl>
	<20090814125427.GA1160@uran.home.aster.pl>
	<162593182.20090814191923@tlen.pl>
	<20090814173643.GA30218@uran.home.aster.pl>
	<1218769846.20090814223723@tlen.pl>
	<20090817115050.GF17616@uran.home.aster.pl>
	<1365049812.20090817144028@tlen.pl>
Message-ID: <20090817132027.GA10968@uran.home.aster.pl>

[poniedziaï¿½ek, 17 sierpieï¿½ 2009], Jaroslaw Kadziola napisa³(a):
> PC>    proc main( ... )
> PC>       alert( hb_valToExp( { ... } ) )
> PC>    return
> PC> Seems that to pass parameters we will have to make some additional
> PC> modifications and I would like to know if application name is stripped
> PC> from lpCommandLine in WinCE.
> I'll try later (evening or tomorrow morning).

Thank you.

best regards,
Przemek
From dmacias at mail.udg.mx  Mon Aug 17 09:35:30 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Aug 17 09:35:44 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS  gcc
Message-ID: <4A895CA2.10408@mail.udg.mx>

First try with gcc 4.x.x and OpenWatcom wlink.exe as linker

In my Harbour build script:
  set EMXOMFLD_TYPE=WLINK
  set EMXOMFLD_LINKER=WLINK.EXE

and from OpenWatcom 1.8 copied
  \watcom\binp\wlink.exe
  \watcom\binp\dll\wlinkd.dll
to some place in PATH

Build process show message:
---------------
emxomfld: warning: 'WLINK' is an invalid value for EMXOMFLD_TYPE.
make[3]: *** [hbpp.exe] Error 1
---------------

make_gnu.log contain:
---------------
gcc -Zomf -Wall -W -O3 -o ..\..\..\..\..\bin\os2\gcc\hbpp.exe hbpp.o 
-L../../../../../lib/os2/gcc -Le:\usr\lib\tcpipv4  -lhbcommon -lhbnortl
Open Watcom Linker Version 1.8
Portions Copyright (c) 1985-2002 Sybase, Inc. All Rights Reserved.
Source code is available under the Sybase Open Watcom Public License.
See http://www.openwatcom.org/ for details.
Error! E3033: directive error near '/nofree'
---------------

and this page svn.netlabs.org/repos/libc/trunk/emx/src/emxomf show for 
emxomfld.c:

---------------
   t = getenv ("EMXOMFLD_TYPE");
   if (    t
       &&  stricmp (t, "WLINK")
       &&  stricmp (t, "VAC365")
       &&  stricmp (t, "VAC308")
       &&  stricmp (t, "LINK386")
       )
     fprintf (stderr, "emxomfld: warning: '%s' is an invalid value for 
EMXOMFLD_TYPE.\n", t);
   else if (t)
     linker_type = t;

   t = getenv ("EMXOMFLD_LINKER");
   if (t)
     linker_name = t;
---------------

So current emxomfld.exe may not have this code

In this place are code of OS/2 emx/gcc tools
   svn.netlabs.org/libc/browser/trunk/emx/src/emxomf


Searching my disk I have:

Directory of E:\BUILDENV20071022\usr\bin
27/06/07  3:56p        65,199      0 a---  emxomfld.exe
11/06/07  8:22a        65,536      0 a---  emxomfld.exe.rel
  8/04/06  4:13a       147,450     61 a---  emxomfld.exe.wlink
         3 file(s)     278,185 bytes used

Directory of E:\usr\bin
18/03/06  7:19a        61,440      0 a---  emxomfld.exe

E:\usr\bin\emxomfld.exe show message
E:\BUILDENV20071022\usr\bin\emxomfld.exe does not

so the last have WLINK support and must be used

Perhaps emxomfld.exe.wlink could work too

New result of build are:
---------------
make[3]: *** [hbpp.exe] Error 1
---------------

and make_gnu.log show:
---------------
gcc -Zomf -Wall -W -O3 -o ..\..\..\..\..\bin\os2\gcc\hbpp.exe hbpp.o 
-L../../../../../lib/os2/gcc -Le:\usr\lib\tcpipv4  -lhbcommon -lhbnortl
Open Watcom Linker Version 1.8
Portions Copyright (c) 1985-2002 Sybase, Inc. All Rights Reserved.
Source code is available under the Sybase Open Watcom Public License.
See http://www.openwatcom.org/ for details.
Error! E3033: file ldE6girq.: line(3): directive error near 'HLL'
---------------

emxomfld.c show:

-----------------
       if (!strip_symbols)
         fprintf (response_file, "DEBUG HLL\n");
       fprintf (response_file, "OPTION QUIET\n");
       fprintf (response_file, "OPTION OSNAME='OS/2 EMX'\n");
       fprintf (response_file, "OPTION CASEEXACT\n");
-----------------

so error is happening with "DEBUG HLL"


Help for Watcom show for DEBUG directive:
-----------------

Formats: All

The "DEBUG" directive is used to tell the Open Watcom Linker to generate 
debugging information in the executable file. This extra information in 
the executable file is used by the Open Watcom Debugger. The format of 
the "DEBUG" directive (short form "D") is as follows.


         DEBUG dbtype [dblist] |
         DEBUG [dblist]

         dbtype ::= DWARF | WATCOM | CODEVIEW | NOVELL
         dblist ::= [db_option{,db_option}]
         db_option ::= LINES | TYPES | LOCALS | ALL

     DEBUG NOVELL only
         db_option ::= ONLYEXPORTS | REFERENCED

The Open Watcom Linker supports four types of debugging information, 
"DWARF" (the default), "WATCOM", "CODEVIEW", or "NOVELL".

-----------------


so at first time it seem a mistake of HLL in place of ALL

but this page (content included below):
  www.openwatcom.org/index.php/Debugging_Format_Interoperability

show in section "What Would be Good to Have"
   IBM HLL debugging information

and lastly, HLL debug format exist

and this message confirm existence of HLL:

--------------------------
Re: Re: [kLIBC] #89: emxomfld: Support wlink (the watcom linker): msg#00052

On Mon, 11 Sep 2006 11:31:02 UTC, "Knut St. Osmundsen" wrote:

 > Peter Weilbacher wrote:
 > > kLIBC wrote:
 > >
 > >>#89: emxomfld: Support wlink (the watcom linker)
 > >
 > >
 > > Wow, if I understand correctly from the bug entry you even got the 
debug
 > > format working fine? So we could use the OW debugger and profiler, too,
 > > with GCC-compiled code?
 >
 > I've got the HLL debug info working fine as far as wlink is concered.
 > For the the debugger and profiler, I've got linenumbers and global
 > symbols (IIRC) working. So, the OW debugger and profiler isn't yet of
 > much use to us.

OK, would have been great, though...
--------------------------

and this other point to right way:
--------------------------

[vbox-dev] building os/2 host

Knut St. Osmundsen schrieb:
[...]
 >> Is this a known issue of the os/2 build process? Seems that the 
compiler
 >> generates a wrong object format (-Zomf switch missing).
 >>
 >> Any comments?
 >
 > I haven't updated the prereqs for OS/2 after I did the support driver,
 > so it's a little bit inaccurate. You must use the open watcom linker
 > (wlink / wl) when building on OS/2. The IBM linker was uncooperative
 > (crashes) and I'm switching gcc to use wlink anyway.
 >
 > You'll find a build of the linker at
 > ftp://ftp.netlabs.org/pub/gcc/wl-hll-r1.zip that includes support for
 > the OS/2 HLL format. You also need to get GCC 3.3.5 CSD3 / LIBC 0.6.3 in
 > order to use this. You'll find that as GCC-3.3.5-csd3.zip in the same
 > directory (or in incoming/gcc/ if it hasn't been moved by the time you
 > read this). Then SET EMXOMFLD_LINKER=wl.exe and SET EMXOMFLD_TYPE=WLINK
 > and you're in business. (Note. if you get funny build errors after
 > switching, try 'kmk -C src/VBox/HostDrivers rebuild' or just 'rm -Rf 
out'.)
 >
 > I'll be updating the OS/2 build instructions shortly.
 >
 > Kind Regards,
 >   knut
 >
Thanks for the hints. Works great now.
Michael
--------------------------

Downloading wl-hll-r1.zip wl.exe show:
--------------------------
[E:\wl-hll-r1]wl
** EXPERIMENTAL (HLL) ** Open Watcom Linker Version 1.6beta1 Limited 
Availability
Portions Copyright (c) 1985-2002 Sybase, Inc. All Rights Reserved.
Source code is available under the Sybase Open Watcom Public License.
See http://www.openwatcom.org/ for details.
Press CTRL/Z and then RETURN to finish
WLINK>Error! E3013: break key detected
--------------------------

so is an old OpenWatcom linker with support of HLL format

Changing in my Harbour build script:
  set EMXOMFLD_TYPE=WLINK
  set EMXOMFLD_LINKER=WL.EXE

Harbour build entirely with gcc440/wl.exe linker, including hbrun.exe 
and hbmk2.exe.
All Harbour binaries run fine

Conclusions:
- link386.exe limitations with Harbour are left off replacing him with 
an old/modified OpenWatcom linker wl.exe
- Entire Harbour for OS/2 can be build with gcc440 and wl.exe linker

Update:

Harbour build entirely with gcc432/gcc433/wl.exe linker, including 
hbrun.exe and hbmk2.exe.
All Harbour binaries run fine


Perhaps other way to use current WLINK.exe without HLL support is to 
force "strip_symbols"
---------------
       if (!strip_symbols)
         fprintf (response_file, "DEBUG HLL\n");
       fprintf (response_file, "OPTION QUIET\n");
       fprintf (response_file, "OPTION OSNAME='OS/2 EMX'\n");
       fprintf (response_file, "OPTION CASEEXACT\n");
---------------

I have not tested if it can be done using gcc -Zlinker option
or, as doc say:

---------------
      EMXOMFLD_LINKER:

          Name of the linker to use and optionally extra parameters.
Spaces in the linker name or path is not supported. Quotes are not
supported either.
---------------

David Macias




Debugging Format Interoperability
 From Open Watcom
Jump to: navigation, search
[edit]
What is Currently Supported

Traditionally, Watcom tools have supported three debugging information 
formats: Watcom, DWARF, and CodeView. These formats have been supported 
since the 10.x product line.

Watcom
     The Watcom format was the only format supported in early versions 
of Watcom tools. It supports both 16-bit and 32-bit development and it 
supports C, C++ and Fortran. It has some capacity limitations, is 
considered obsolete, tied to x86 architecture, and its use is not 
recommended. Up to and including version 10.6, Watcom was the default 
debug debugging information format emitted by the compilers.

CodeView
     Open Watcom tools can both generate and read CV4 flavour of the 
Microsoft CodeView debugging information format. This format was used by 
early releases of Visual C++ and is publicly documented. It supports 
both 16-bit and 32-bit debugging and is not tied to the x86 
architecture. Currently the Open Watcom linker emits NB05 style debug 
data in executable images, which are turned into NB09 format by cvpack. 
The DIP (Debugging Information Processor) file used by debugger, 
profiler, and Dr. Watcom only reads NB09 data. This format is intended 
primarily for interoperability with other tools, many of which can read 
or write CodeView debugging information. It has some capacity 
limitations (16-bit symbol/type handles).

DWARF
     This format is the default since version 11.0. DWARF is by far the 
most flexible and extensible (and complex) of these formats. It is not 
tied to any operating system or hardware architecture. DWARF is also an 
official standard and not a proprietary format like CodeView or Watcom. 
Note that Open Watcom tools always package DWARF data in an ELF 
container; that is, in ELF executables the DWARF data lives in regular 
sections, while other formats (DOS EXE, LX, PE, etc.) will contain a 
minimal ELF image appended at the end. As of Open Watcom 1.4, it should 
be possible to debug GNU executables with Open Watcom tools and vice 
versa. DWARF appears to be the format of choice outside the Microsoft 
world.

The above three debugging information formats are full fledged formats 
that can contain comprehensive symbol and type information. Currently 
there are two other, less capable formats supported:

MAPSYM
     This format is generated by IBM/Microsoft MAPSYM tool and .SYM 
files in this format are shipped by IBM for OS/2 system components. This 
format was also commonly used for 16-bit DOS development. MAPSYM format 
has severe capacity limitations (some 16-bit offsets)and only contains 
public symbol information. Open Watcom does not provide tools to 
generate this format. Support for MAPSYM symbol files was added in OW 1.4.

Exports
     This is strictly speaking not a debugging information format at 
all. The EXPORTS DIP will look at NE, LX, LE, PE, ELF, and NLM modules 
and report information about symbols exported by name to the debugger. 
It is useful when calling into DLLs or shared libraries that provide no 
debugging information.

[edit]
What Would be Good to Have

Windows .DBG files
     These are symbol files delivered by Microsoft for Windows NT system 
components. Some contain CodeView information, but it is packaged in a 
special format. It is conceivable that the current CodeView DIP could be 
extended to handle some of these files. Older Microsoft .DBG files may 
also include COFF symbols, which we currently don't support. Source code 
and some documentation for reading (undocumented) .DBG and .PDB files 
can be found in the book "Undocumented Windows 2000 Secrets". Update: 
The book is now available from the author in PDF format here. The 
CodeView, .dbg and .pdb file structures are described at the end of 
chapter 1. Two more articles on the .pdb format by the same author is 
available here. The source code from the companion CD to the book is 
also available on the book site, and contains C source code to read and 
process .dbg and .pdb files.

IBM HLL debugging information
     The HLL format is used by IBM's OS/2 (and presumably Windows) 
compilers. It is very similar to old (pre-CV4) CodeView format and uses 
the NB04 signature. The format is documented in good detail.

Pre-CV4 CodeView
     This format was emitted notably by Microsoft C 6.0 and probably 
many other Microsoft tools. Executables using this format have a NB02 
signature. It supports both 16-bit and 32-bit debugging, although 32-bit 
tools using this format are extremely rare since it was only used for 
early (when OS/2 was still under joint development with IBM and 
Microsoft) OS/2 2.0 development. IBM OS/2 debuggers understand this 
format, and it is very similar to IBM HLL; in fact IBM's NB04 style 
debug data may contain both IBM HLL and pre-CV4 CodeView data (this 
would happen in mixed 16/32-bit executables). This format appears to be 
undocumented, although source code for IBM's SD386 debugger that can 
work with this format is available.

Borland
     This is the debugging format used by Borland C/C++ and Delphi 
tools. It is similar to CodeView in structure, although some details are 
different (likely to support Pascal/Delphi debugging). Executables using 
this format have a FB09 or FB0A signature. At least the FB09 format is 
publicly documented.
From druzus at users.sourceforge.net  Mon Aug 17 10:24:04 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 17 10:24:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12142] trunk/harbour
Message-ID: <E1Md380-00038d-3M@dn4whf1.ch3.sourceforge.com>

Revision: 12142
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12142&view=rev
Author:   druzus
Date:     2009-08-17 14:24:02 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 16:23 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/Makefile
  + harbour/source/rtl/hbbyte.c
  * harbour/include/hbextern.ch
    + added hb_byteSwap*() functions

  * harbour/contrib/hbtpathy/telepath.prg
    % use hb_byteSwapW() in tp_crc16() function

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtpathy/telepath.prg
    trunk/harbour/include/hbextern.ch
    trunk/harbour/source/rtl/Makefile

Added Paths:
-----------
    trunk/harbour/source/rtl/hbbyte.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Aug 17 10:50:28 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 10:50:34 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS  gcc
In-Reply-To: <4A895CA2.10408@mail.udg.mx>
References: <4A895CA2.10408@mail.udg.mx>
Message-ID: <20090817145028.GA15998@uran.home.aster.pl>

On Mon, 17 Aug 2009, David Arturo Macias Corona wrote:

Hi David,

> First try with gcc 4.x.x and OpenWatcom wlink.exe as linker
[...]
> Downloading wl-hll-r1.zip wl.exe show:
> --------------------------
> [E:\wl-hll-r1]wl
> ** EXPERIMENTAL (HLL) ** Open Watcom Linker Version 1.6beta1 Limited 
> Availability
> Portions Copyright (c) 1985-2002 Sybase, Inc. All Rights Reserved.
> Source code is available under the Sybase Open Watcom Public License.
> See http://www.openwatcom.org/ for details.
> Press CTRL/Z and then RETURN to finish
> WLINK>Error! E3013: break key detected
> --------------------------
> so is an old OpenWatcom linker with support of HLL format
> Changing in my Harbour build script:
>  set EMXOMFLD_TYPE=WLINK
>  set EMXOMFLD_LINKER=WL.EXE
> Harbour build entirely with gcc440/wl.exe linker, including hbrun.exe and 
> hbmk2.exe.
> All Harbour binaries run fine
> Conclusions:
> - link386.exe limitations with Harbour are left off replacing him with an 
> old/modified OpenWatcom linker wl.exe
> - Entire Harbour for OS/2 can be build with gcc440 and wl.exe linker
> Update:
> Harbour build entirely with gcc432/gcc433/wl.exe linker, including 
> hbrun.exe and hbmk2.exe.
> All Harbour binaries run fine

Thank you for your tests. I think we should leave some information
about it for OS2 users who want to use newer GNU make ports.

> Perhaps other way to use current WLINK.exe without HLL support is to force 
> "strip_symbols"

probably you will have to pass it as linker option, maybe using -Wl,<option>

> I have not tested if it can be done using gcc -Zlinker option
> or, as doc say:
> ---------------
>      EMXOMFLD_LINKER:
>          Name of the linker to use and optionally extra parameters.
> Spaces in the linker name or path is not supported. Quotes are not
> supported either.
> ---------------

I do not know -Zlinker is not standard GCC option.
Maybe you can also take linker (LD) from older GCC builds which worked
for you.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Aug 17 10:51:46 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 17 10:51:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12143] trunk/harbour
Message-ID: <E1Md3Yo-0004DD-1R@dn4whf1.ch3.sourceforge.com>

Revision: 12143
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12143&view=rev
Author:   druzus
Date:     2009-08-17 14:51:35 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 16:50 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbdefs.h
    ! fixed typo in HB_SWAP_UINT64() macro

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 17 11:31:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 17 11:31:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12144] trunk/harbour
Message-ID: <E1Md4Av-00053U-DP@bj8yhf1.ch3.sourceforge.com>

Revision: 12144
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12144&view=rev
Author:   vszakats
Date:     2009-08-17 15:31:07 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 17:30 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbsetup.h
    % Optimized out HB_OS_UNIX_COMPATIBLE. HB_OS_UNIX should be used
      instead. Since the definition logic for HB_OS_UNIX was completely
      different from HB_OS_UNIX_COMPATIBLE, it may be possible that
      it's not 100% the same as before, although their meaning was
      the same.
      HB_OS_UNIX_COMPATIBLE is still available for compatibility, but
      it's now marked with HB_LEGACY_LEVEL2 and will be removed in next
      major release.

  * include/hbapifs.h
  * include/hb_io.h
  * include/hbsocket.h
  * source/vm/set.c
  * source/debug/dbgentry.c
  * source/common/hbffind.c
  * source/rtl/fscopy.c
  * source/rtl/fstemp.c
  * source/rtl/gtstd/gtstd.c
  * source/rtl/gttrm/gttrm.c
  * source/rtl/version.c
  * source/rtl/hbsocket.c
  * source/rtl/copyfile.c
  * source/rtl/filesys.c
  * source/rtl/console.c
  * source/rtl/cputime.c
  * source/rtl/gtpca/gtpca.c
  * source/rtl/fssize.c
  * source/rtl/memofile.c
  * source/compiler/hbcomp.c
  * source/compiler/gencobj.c
  * contrib/hbct/files.c
  * contrib/xhb/xhbcopyf.c
  * contrib/xhb/hbserv.c
  * contrib/hbnf/getenvrn.c
    * HB_OS_UNIX_COMPATIBLE -> HB_OS_UNIX

  * config/global.cf
    * HB_UNIX_COMPATIBLE -> HB_OS_UNIX

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.cf
    trunk/harbour/contrib/hbct/files.c
    trunk/harbour/contrib/hbnf/getenvrn.c
    trunk/harbour/contrib/xhb/hbserv.c
    trunk/harbour/contrib/xhb/xhbcopyf.c
    trunk/harbour/include/hb_io.h
    trunk/harbour/include/hbapifs.h
    trunk/harbour/include/hbsetup.h
    trunk/harbour/include/hbsocket.h
    trunk/harbour/source/common/hbffind.c
    trunk/harbour/source/compiler/gencobj.c
    trunk/harbour/source/compiler/hbcomp.c
    trunk/harbour/source/debug/dbgentry.c
    trunk/harbour/source/rtl/console.c
    trunk/harbour/source/rtl/copyfile.c
    trunk/harbour/source/rtl/cputime.c
    trunk/harbour/source/rtl/filesys.c
    trunk/harbour/source/rtl/fscopy.c
    trunk/harbour/source/rtl/fssize.c
    trunk/harbour/source/rtl/fstemp.c
    trunk/harbour/source/rtl/gtpca/gtpca.c
    trunk/harbour/source/rtl/gtstd/gtstd.c
    trunk/harbour/source/rtl/gttrm/gttrm.c
    trunk/harbour/source/rtl/hbsocket.c
    trunk/harbour/source/rtl/memofile.c
    trunk/harbour/source/rtl/version.c
    trunk/harbour/source/vm/set.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 17 11:34:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 17 11:34:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12145] trunk/harbour
Message-ID: <E1Md4EI-00059z-I3@bj8yhf1.ch3.sourceforge.com>

Revision: 12145
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12145&view=rev
Author:   vszakats
Date:     2009-08-17 15:34:37 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 17:34 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/xhb/filestat.c
    ! OS_UNIX_COMPATIBLE -> HB_OS_UNIX

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/filestat.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 17 12:08:23 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 17 12:08:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12146] trunk/harbour
Message-ID: <E1Md4kx-00080Q-Bu@74yxhf1.ch3.sourceforge.com>

Revision: 12146
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12146&view=rev
Author:   vszakats
Date:     2009-08-17 16:08:22 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 18:08 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/linux/global.cf
    ! Fixed HB_USER_CFLAGS -> HB_CFLAGS.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/linux/global.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From kadziola at tlen.pl  Mon Aug 17 12:26:22 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Mon Aug 17 12:26:27 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <20090817115050.GF17616@uran.home.aster.pl>
References: <1052958573.20090814121839@tlen.pl>
	<20090814104242.GA10972@uran.home.aster.pl>
	<172270173.20090814132029@tlen.pl>
	<20090814115218.GA25026@uran.home.aster.pl>
	<20090814120358.GA25802@uran.home.aster.pl>
	<1103015677.20090814143145@tlen.pl>
	<20090814125427.GA1160@uran.home.aster.pl>
	<162593182.20090814191923@tlen.pl>
	<20090814173643.GA30218@uran.home.aster.pl>
	<1218769846.20090814223723@tlen.pl>
	<20090817115050.GF17616@uran.home.aster.pl>
Message-ID: <1733982103.20090817182622@tlen.pl>

Witam!

W li?cie datowanym 17 sierpnia 2009 (13:50:50) napisano:

> [pi?tek, 14 sierpie? 2009], Jaros?aw K?dzio?a napisa?(a):

> Hi,

>> > If current hb_processRun() fails then please try to change in
>> > hbproces.c[219]:
>> >    fError = ! CreateProcess( NULL,           /* lpAppName */
>> >                              lpCommand,      /* lpCommandLine */
>> > to:
>> >    fError = ! CreateProcess( lpCommand,      /* lpAppName */
>> >                              NULL,           /* lpCommandLine */
>> This shot was OK, now hb_processRun() is OK. Thanks

> Thank you for your tests.
> I would like to ask you about some others yet.
> Above code does not allow to pass parameters.
> Can you modifiy it to:
>    fError = ! CreateProcess( lpCommand,      /* lpAppName */
>                              lpCommand,      /* lpCommandLine */

My WinCE build is ready

> to execute the following program:

>    proc main( ... )
>       alert( hb_valToExp( { ... } ) )
>    return

What exactly i must write in this program ?



-- 
Regards
Jaros?aw K?dzio?a


From druzus at acn.waw.pl  Mon Aug 17 12:43:06 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 12:43:12 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <1733982103.20090817182622@tlen.pl>
References: <172270173.20090814132029@tlen.pl>
	<20090814115218.GA25026@uran.home.aster.pl>
	<20090814120358.GA25802@uran.home.aster.pl>
	<1103015677.20090814143145@tlen.pl>
	<20090814125427.GA1160@uran.home.aster.pl>
	<162593182.20090814191923@tlen.pl>
	<20090814173643.GA30218@uran.home.aster.pl>
	<1218769846.20090814223723@tlen.pl>
	<20090817115050.GF17616@uran.home.aster.pl>
	<1733982103.20090817182622@tlen.pl>
Message-ID: <20090817164306.GA12830@uran.home.aster.pl>

[poniedziaï¿½ek, 17 sierpieï¿½ 2009], Jaroslaw Kadziola napisa³(a):

Hi,

> > I would like to ask you about some others yet.
> > Above code does not allow to pass parameters.
> > Can you modifiy it to:
> >    fError = ! CreateProcess( lpCommand,      /* lpAppName */
> >                              lpCommand,      /* lpCommandLine */
> My WinCE build is ready
> > to execute the following program:
> >    proc main( ... )
> >       alert( hb_valToExp( { ... } ) )
> >    return
> What exactly i must write in this program ?

Just simply execute above program (let's call it myprg.exe) from other
Harbour application, i.e.:
   proc main()
      hb_run( hb_dirBase() + "myprg.exe" )
   return
I'm interesting in parameters passed to myprg.exe. They can be seen
as hb_valToExp( { ... } ) results.

best regards,
Przemek
From kadziola at tlen.pl  Mon Aug 17 12:59:05 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Mon Aug 17 12:59:14 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <20090817164306.GA12830@uran.home.aster.pl>
References: <172270173.20090814132029@tlen.pl>
	<20090814115218.GA25026@uran.home.aster.pl>
	<20090814120358.GA25802@uran.home.aster.pl>
	<1103015677.20090814143145@tlen.pl>
	<20090814125427.GA1160@uran.home.aster.pl>
	<162593182.20090814191923@tlen.pl>
	<20090814173643.GA30218@uran.home.aster.pl>
	<1218769846.20090814223723@tlen.pl>
	<20090817115050.GF17616@uran.home.aster.pl>
	<1733982103.20090817182622@tlen.pl>
	<20090817164306.GA12830@uran.home.aster.pl>
Message-ID: <883378730.20090817185905@tlen.pl>

Witam!

W li?cie datowanym 17 sierpnia 2009 (18:43:06) napisano:

> [poniedzia?ek, 17 sierpie? 2009], Jaroslaw Kadziola napisa?(a):

> Hi,

>> > I would like to ask you about some others yet.
>> > Above code does not allow to pass parameters.
>> > Can you modifiy it to:
>> >    fError = ! CreateProcess( lpCommand,      /* lpAppName */
>> >                              lpCommand,      /* lpCommandLine */
>> My WinCE build is ready
>> > to execute the following program:
>> >    proc main( ... )
>> >       alert( hb_valToExp( { ... } ) )
>> >    return
>> What exactly i must write in this program ?

> Just simply execute above program (let's call it myprg.exe) from other
> Harbour application, i.e.:
>    proc main()
>       hb_run( hb_dirBase() + "myprg.exe" )
>    return
> I'm interesting in parameters passed to myprg.exe. They can be seen
> as hb_valToExp( { ... } ) results.

********************************
Proc Main()
link_  := '\Windows\calc.exe'
hb_run(link_)
y= hb_valToExp( {} )
*******************************

Get y={}
-- 
Regards,
Jaros?aw K?dzio?a


From harbour.01 at syenar.hu  Mon Aug 17 12:59:58 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 13:00:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12121] trunk/harbour
In-Reply-To: <20090817114507.GE17616@uran.home.aster.pl>
References: <E1McFsm-00072q-Fg@74yxhf1.ch3.sourceforge.com>
	<20090817114507.GE17616@uran.home.aster.pl>
Message-ID: <7C6DA526-82D6-4905-99DD-DD4D68CF5DD5@syenar.hu>

Hi Przemek,

Output in C++ mode:
---
silver:bin vszakats$ nm tstrcv.o -g -n
          U _HB_FUN_AT
          U _HB_FUN_EMPTY
          U _HB_FUN_HB_INETACCEPT
          U _HB_FUN_HB_INETCLOSE
          U _HB_FUN_HB_INETCONNECTIP
          U _HB_FUN_HB_INETCRLF
          U _HB_FUN_HB_INETERRORCODE
          U _HB_FUN_HB_INETRECV
          U _HB_FUN_HB_INETRECVLINE
          U _HB_FUN_HB_INETSENDALL
          U _HB_FUN_HB_INETSERVER
          U _HB_FUN_HB_INETTIMEOUT
          U _HB_FUN_HB_NTOS
          U _HB_FUN_HB_THREADJOIN
          U _HB_FUN_HB_THREADSTART
          U _HB_FUN_LEFT
          U _HB_FUN_LEN
          U _HB_FUN_QOUT
          U _HB_FUN_REPLICATE
          U _HB_FUN_SECONDS
          U _HB_FUN_SPACE
          U _HB_FUN_SUBSTR
          U _HB_FUN_VALTYPE
          U _HB_FUN___WAIT
          U ___gxx_personality_v0
          U _hb_vmExecute
          U _hb_vmProcessSymbols
00000050 T _HB_FUN_MAIN
00000080 T _HB_FUN_SRV
000000b0 T _HB_FUN_CLI
000009e0 S _HB_FUN_MAIN.eh
00000a08 S _HB_FUN_SRV.eh
00000a30 S _HB_FUN_CLI.eh
---

Output in C mode:
---
silver:bin vszakats$ nm tstrcv.o -g -n
          U _HB_FUN_AT
          U _HB_FUN_EMPTY
          U _HB_FUN_HB_INETACCEPT
          U _HB_FUN_HB_INETCLOSE
          U _HB_FUN_HB_INETCONNECTIP
          U _HB_FUN_HB_INETCRLF
          U _HB_FUN_HB_INETERRORCODE
          U _HB_FUN_HB_INETRECV
          U _HB_FUN_HB_INETRECVLINE
          U _HB_FUN_HB_INETSENDALL
          U _HB_FUN_HB_INETSERVER
          U _HB_FUN_HB_INETTIMEOUT
          U _HB_FUN_HB_NTOS
          U _HB_FUN_HB_THREADJOIN
          U _HB_FUN_HB_THREADSTART
          U _HB_FUN_LEFT
          U _HB_FUN_LEN
          U _HB_FUN_QOUT
          U _HB_FUN_REPLICATE
          U _HB_FUN_SECONDS
          U _HB_FUN_SPACE
          U _HB_FUN_SUBSTR
          U _HB_FUN_VALTYPE
          U _HB_FUN___WAIT
          U _hb_vmExecute
          U _hb_vmProcessSymbols
00000050 T _HB_FUN_MAIN
00000080 T _HB_FUN_SRV
000000b0 T _HB_FUN_CLI
---

Brgds,
Viktor

On 2009.08.17., at 1:45, Przemyslaw Czerpak wrote:

> On Sat, 15 Aug 2009, vszakats@users.sourceforge.net wrote:
>> 2009-08-15 11:48 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>  * utils/hbmk2/hbmk2.prg
>>    ! Minor fix for darwin and automatic entry function detection  
>> using 'nm'.
>>      nm on Darwin doesn't seem to support '--defined-only -C' option.
>>      Przemek, please check this, maybe this hurts functionality.
>
> For pure C mode it should work. " T HB_FUN_" is enough anyhow it may  
> cause
> problems for C++ mode because it may attach mangling information. Just
> make test with Darwin C++ builds. If necessary at symbol name cutting
> at 1-st "@"
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Mon Aug 17 13:04:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 17 13:04:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12147] trunk/harbour
Message-ID: <E1Md5d0-0000pC-77@74yxhf1.ch3.sourceforge.com>

Revision: 12147
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12147&view=rev
Author:   vszakats
Date:     2009-08-17 17:04:13 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 19:02 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added support for HB_INSTALL_PREFIX macros (recently introduced
      in global.cf). Maybe it'd be better to not use this build-time 
      envvar at all.
      Now that autoconfiguration is working pretty well, I think it may 
      be time to drop support for some envvars in hbmk2. In case of 
      HB_INSTALL_PREFIX it rather makes things more complicated.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 17 13:12:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 17 13:12:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12148] trunk/harbour
Message-ID: <E1Md5kr-00010L-I4@74yxhf1.ch3.sourceforge.com>

Revision: 12148
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12148&view=rev
Author:   vszakats
Date:     2009-08-17 17:12:19 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 19:09 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  - config/prg.cf
  + config/dirsh.mk
  - config/none.cf
  - config/global.cf
  - config/lib.cf
  + config/prg.mk
  - config/bin.cf
  - config/dir.cf
  - config/globsh.cf
  + config/none.mk
  + config/global.mk
  + config/bsd/gcc.mk
  - config/bsd/gcc.cf
  + config/bsd/global.mk
  - config/bsd/global.cf
  - config/c.cf
  + config/lib.mk
  - config/wce/msvcarm.cf
  + config/wce/global.mk
  - config/wce/global.cf
  + config/wce/mingwarm.mk
  - config/wce/mingwarm.cf
  + config/wce/poccarm.mk
  - config/wce/poccarm.cf
  + config/wce/msvcarm.mk
  + config/bin.mk
  - config/header.cf
  - config/rules.cf
  + config/darwin/gcc.mk
  - config/darwin/gcc.cf
  + config/darwin/global.mk
  - config/darwin/global.cf
  + config/hpux/gcc.mk
  - config/hpux/gcc.cf
  + config/hpux/global.mk
  - config/hpux/global.cf
  + config/dir.mk
  + config/globsh.mk
  + config/dos/watcom.mk
  - config/dos/watcom.cf
  + config/dos/global.mk
  - config/dos/global.cf
  + config/dos/djgpp.mk
  - config/dos/djgpp.cf
  + config/c.mk
  - config/doc.cf
  - config/win/watcom.cf
  - config/win/mingw64.cf
  + config/win/xcc.mk
  - config/win/gcc.cf
  - config/win/msvcia64.cf
  - config/win/icc.cf
  - config/win/pocc64.cf
  + config/win/mingw.mk
  - config/win/cygwin.cf
  - config/win/global.cf
  + config/win/iccia64.mk
  + config/win/msvc64.mk
  + config/win/pocc.mk
  + config/win/bcc.mk
  - config/win/msvc.cf
  + config/win/watcom.mk
  + config/win/mingw64.mk
  + config/win/gcc.mk
  + config/win/msvcia64.mk
  + config/win/icc.mk
  - config/win/xcc.cf
  + config/win/pocc64.mk
  + config/win/cygwin.mk
  + config/win/global.mk
  - config/win/mingw.cf
  - config/win/msvc64.cf
  - config/win/iccia64.cf
  - config/win/pocc.cf
  - config/win/bcc.cf
  + config/win/msvc.mk
  - config/install.cf
  + config/header.mk
  - config/instsh.cf
  + config/linux/watcom.mk
  - config/linux/watcom.cf
  + config/linux/gcc.mk
  - config/linux/gcc.cf
  + config/linux/icc.mk
  - config/linux/icc.cf
  + config/linux/global.mk
  - config/linux/global.cf
  + config/linux/sunpro.mk
  - config/linux/sunpro.cf
  - config/dirsh.cf
  + config/rules.mk
  + config/os2/watcom.mk
  - config/os2/watcom.cf
  + config/os2/gcc.mk
  - config/os2/gcc.cf
  + config/os2/global.mk
  - config/os2/global.cf
  + config/sunos/gcc.mk
  - config/sunos/gcc.cf
  + config/sunos/global.mk
  - config/sunos/global.cf
  + config/sunos/sunpro.mk
  - config/sunos/sunpro.cf
  + config/doc.mk
  + config/install.mk
  + config/instsh.mk
    * Renaming .cf files to .mk.
      Pass 1. The SVN will be in non-working state until the next 
      commit. Please don't build Harbour for about an hour now.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/config/bin.mk
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/bsd/global.mk
    trunk/harbour/config/c.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/darwin/global.mk
    trunk/harbour/config/dir.mk
    trunk/harbour/config/dirsh.mk
    trunk/harbour/config/doc.mk
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/dos/global.mk
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/globsh.mk
    trunk/harbour/config/header.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/hpux/global.mk
    trunk/harbour/config/install.mk
    trunk/harbour/config/instsh.mk
    trunk/harbour/config/lib.mk
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/config/linux/global.mk
    trunk/harbour/config/linux/icc.mk
    trunk/harbour/config/linux/sunpro.mk
    trunk/harbour/config/linux/watcom.mk
    trunk/harbour/config/none.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/os2/global.mk
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/config/prg.mk
    trunk/harbour/config/rules.mk
    trunk/harbour/config/sunos/gcc.mk
    trunk/harbour/config/sunos/global.mk
    trunk/harbour/config/sunos/sunpro.mk
    trunk/harbour/config/wce/global.mk
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/config/win/cygwin.mk
    trunk/harbour/config/win/gcc.mk
    trunk/harbour/config/win/global.mk
    trunk/harbour/config/win/icc.mk
    trunk/harbour/config/win/iccia64.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/config/win/mingw64.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/config/win/msvc64.mk
    trunk/harbour/config/win/msvcia64.mk
    trunk/harbour/config/win/pocc.mk
    trunk/harbour/config/win/pocc64.mk
    trunk/harbour/config/win/watcom.mk
    trunk/harbour/config/win/xcc.mk

Removed Paths:
-------------
    trunk/harbour/config/bin.cf
    trunk/harbour/config/bsd/gcc.cf
    trunk/harbour/config/bsd/global.cf
    trunk/harbour/config/c.cf
    trunk/harbour/config/darwin/gcc.cf
    trunk/harbour/config/darwin/global.cf
    trunk/harbour/config/dir.cf
    trunk/harbour/config/dirsh.cf
    trunk/harbour/config/doc.cf
    trunk/harbour/config/dos/djgpp.cf
    trunk/harbour/config/dos/global.cf
    trunk/harbour/config/dos/watcom.cf
    trunk/harbour/config/global.cf
    trunk/harbour/config/globsh.cf
    trunk/harbour/config/header.cf
    trunk/harbour/config/hpux/gcc.cf
    trunk/harbour/config/hpux/global.cf
    trunk/harbour/config/install.cf
    trunk/harbour/config/instsh.cf
    trunk/harbour/config/lib.cf
    trunk/harbour/config/linux/gcc.cf
    trunk/harbour/config/linux/global.cf
    trunk/harbour/config/linux/icc.cf
    trunk/harbour/config/linux/sunpro.cf
    trunk/harbour/config/linux/watcom.cf
    trunk/harbour/config/none.cf
    trunk/harbour/config/os2/gcc.cf
    trunk/harbour/config/os2/global.cf
    trunk/harbour/config/os2/watcom.cf
    trunk/harbour/config/prg.cf
    trunk/harbour/config/rules.cf
    trunk/harbour/config/sunos/gcc.cf
    trunk/harbour/config/sunos/global.cf
    trunk/harbour/config/sunos/sunpro.cf
    trunk/harbour/config/wce/global.cf
    trunk/harbour/config/wce/mingwarm.cf
    trunk/harbour/config/wce/msvcarm.cf
    trunk/harbour/config/wce/poccarm.cf
    trunk/harbour/config/win/bcc.cf
    trunk/harbour/config/win/cygwin.cf
    trunk/harbour/config/win/gcc.cf
    trunk/harbour/config/win/global.cf
    trunk/harbour/config/win/icc.cf
    trunk/harbour/config/win/iccia64.cf
    trunk/harbour/config/win/mingw.cf
    trunk/harbour/config/win/mingw64.cf
    trunk/harbour/config/win/msvc.cf
    trunk/harbour/config/win/msvc64.cf
    trunk/harbour/config/win/msvcia64.cf
    trunk/harbour/config/win/pocc.cf
    trunk/harbour/config/win/pocc64.cf
    trunk/harbour/config/win/watcom.cf
    trunk/harbour/config/win/xcc.cf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 17 13:17:44 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 17 13:17:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12149] trunk/harbour
Message-ID: <E1Md5q4-00019J-Lp@74yxhf1.ch3.sourceforge.com>

Revision: 12149
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12149&view=rev
Author:   vszakats
Date:     2009-08-17 17:17:43 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 19:16 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/none.mk
  * config/global.mk
  * config/bsd/gcc.mk
  * config/lib.mk
  * config/wce/mingwarm.mk
  * config/wce/poccarm.mk
  * config/wce/msvcarm.mk
  * config/bin.mk
  * config/dir.mk
  * config/hpux/gcc.mk
  * config/darwin/gcc.mk
  * config/dos/watcom.mk
  * config/dos/djgpp.mk
  * config/win/xcc.mk
  * config/win/mingw.mk
  * config/win/msvc64.mk
  * config/win/iccia64.mk
  * config/win/pocc.mk
  * config/win/bcc.mk
  * config/win/watcom.mk
  * config/win/mingw64.mk
  * config/win/msvcia64.mk
  * config/win/gcc.mk
  * config/win/pocc64.mk
  * config/win/icc.mk
  * config/win/cygwin.mk
  * config/win/msvc.mk
  * config/header.mk
  * config/linux/watcom.mk
  * config/linux/gcc.mk
  * config/linux/icc.mk
  * config/linux/sunpro.mk
  * config/os2/watcom.mk
  * config/os2/gcc.mk
  * config/sunos/gcc.mk
  * config/sunos/sunpro.mk
  * config/doc.mk
  * config/install.mk
    * Renaming .cf files to .mk.
      Pass 2. Changing .cf references to .mk ones inside config.
      SVN is in non-working state yet.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bin.mk
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/dir.mk
    trunk/harbour/config/doc.mk
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/header.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/install.mk
    trunk/harbour/config/lib.mk
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/config/linux/icc.mk
    trunk/harbour/config/linux/sunpro.mk
    trunk/harbour/config/linux/watcom.mk
    trunk/harbour/config/none.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/config/sunos/gcc.mk
    trunk/harbour/config/sunos/sunpro.mk
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/config/win/cygwin.mk
    trunk/harbour/config/win/gcc.mk
    trunk/harbour/config/win/icc.mk
    trunk/harbour/config/win/iccia64.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/config/win/mingw64.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/config/win/msvc64.mk
    trunk/harbour/config/win/msvcia64.mk
    trunk/harbour/config/win/pocc.mk
    trunk/harbour/config/win/pocc64.mk
    trunk/harbour/config/win/watcom.mk
    trunk/harbour/config/win/xcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Aug 17 13:27:52 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 13:27:57 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <883378730.20090817185905@tlen.pl>
References: <20090814120358.GA25802@uran.home.aster.pl>
	<1103015677.20090814143145@tlen.pl>
	<20090814125427.GA1160@uran.home.aster.pl>
	<162593182.20090814191923@tlen.pl>
	<20090814173643.GA30218@uran.home.aster.pl>
	<1218769846.20090814223723@tlen.pl>
	<20090817115050.GF17616@uran.home.aster.pl>
	<1733982103.20090817182622@tlen.pl>
	<20090817164306.GA12830@uran.home.aster.pl>
	<883378730.20090817185905@tlen.pl>
Message-ID: <20090817172751.GA17468@uran.home.aster.pl>

[poniedziaï¿½ek, 17 sierpieï¿½ 2009], Jaroslaw Kadziola napisa³(a):

Hi,

> > Just simply execute above program (let's call it myprg.exe) from other
> > Harbour application, i.e.:
> >    proc main()
> >       hb_run( hb_dirBase() + "myprg.exe" )
> >    return
> > I'm interesting in parameters passed to myprg.exe. They can be seen
> > as hb_valToExp( { ... } ) results.
> ********************************
> Proc Main()
> link_  := '\Windows\calc.exe'
> hb_run(link_)
> y= hb_valToExp( {} )
> *******************************
> Get y={}

Thank you for your tests but I think you did not understand me.
Please compile these two short programs for WinCE:

   /*** myprg1.prg ***/
   proc main()
      hb_run( hb_dirBase() + "myprg2.exe" )
   return

   /*** myprg2.prg ***/
   proc main( ... )
      ? hb_valToExp( { ... } )
      wait
   return

put them in the same directory in PocketPC and then execute myprg1.exe.
it should execute myprg2.exe which should show passed parameters.
Now Viktor's makes some "revolution" ;-) in build scripts so it's not
possible to rebuild Harbour but when it will be functional again
please try to recompile Harbour for WinCE with small patch I'll
commit in a while and then try to make test for passing parameters.
It should be enough to modify above code a little bit, i.e.:

   /*** myprg1.prg ***/
   proc main()
      hb_run( hb_dirBase() + "myprg2.exe param1 param2 param3" )
   return

In current SVN code hb_run() probably does not work when parameters
are given.

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Aug 17 13:32:24 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 17 13:32:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12150] trunk/harbour
Message-ID: <E1Md64G-0001S3-QV@74yxhf1.ch3.sourceforge.com>

Revision: 12150
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12150&view=rev
Author:   vszakats
Date:     2009-08-17 17:32:21 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 19:27 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * external/sqlite3/Makefile
  * external/libhpdf/Makefile
  * external/libpng/Makefile
  * external/Makefile
  * include/Makefile
  * source/pp/Makefile
  * source/hbextern/Makefile
  * source/lang/Makefile
  * source/vm/maindllh/Makefile
  * source/vm/mainstd/Makefile
  * source/vm/maindllp/Makefile
  * source/vm/Makefile
  * source/vm/vmmt/Makefile
  * source/vm/mainwin/Makefile
  * source/main/Makefile
  * source/debug/Makefile
  * source/common/Makefile
  * source/nortl/Makefile
  * source/rtl/gtdos/Makefile
  * source/rtl/gtwin/Makefile
  * source/rtl/gtxwc/Makefile
  * source/rtl/gtcrs/Makefile
  * source/rtl/gtstd/Makefile
  * source/rtl/gttrm/Makefile
  * source/rtl/Makefile
  * source/rtl/gtcgi/Makefile
  * source/rtl/gtos2/Makefile
  * source/rtl/gtsln/Makefile
  * source/rtl/gtpca/Makefile
  * source/rtl/gtgui/Makefile
  * source/rtl/gt_tpl/Makefile
  * source/rtl/gtwvt/Makefile
  * source/macro/Makefile
  * source/hbpcre/Makefile
  * source/codepage/Makefile
  * source/rdd/dbfntx/Makefile
  * source/rdd/nulsys/Makefile
  * source/rdd/Makefile
  * source/rdd/dbfnsx/Makefile
  * source/rdd/dbfcdx/Makefile
  * source/rdd/hsx/Makefile
  * source/rdd/usrrdd/rdds/Makefile
  * source/rdd/usrrdd/Makefile
  * source/rdd/dbffpt/Makefile
  * source/rdd/hbsix/Makefile
  * source/hbzlib/Makefile
  * source/compiler/Makefile
  * source/Makefile
  * utils/hbformat/Makefile
  * utils/hbmk2/Makefile
  * utils/hbtest/Makefile
  * utils/hbi18n/Makefile
  * utils/Makefile
  * utils/hbrun/Makefile
  * contrib/gtalleg/Makefile
  * contrib/hbmysql/Makefile
  * contrib/hbct/Makefile
  * contrib/xhb/Makefile
  * contrib/hbodbc/Makefile
  * contrib/hbtpathy/Makefile
  * contrib/hbgt/Makefile
  * contrib/hbmzip/Makefile
  * contrib/hbsqlit3/Makefile
  * contrib/hbblat/Makefile
  * contrib/hbqt/Makefile
  * contrib/hbfbird/Makefile
  * contrib/hbziparc/Makefile
  * contrib/hbxbp/Makefile
  * contrib/xpp/Makefile
  * contrib/Makefile
  * contrib/hbnf/Makefile
  * contrib/hbcurl/hbcurls/Makefile
  * contrib/hbcurl/Makefile
  * contrib/gtqtc/Makefile
  * contrib/rddsql/sddmy/Makefile
  * contrib/rddsql/sddpg/Makefile
  * contrib/rddsql/sddfb/Makefile
  * contrib/rddsql/sddodbc/Makefile
  * contrib/rddsql/Makefile
  * contrib/hbhpdf/Makefile
  * contrib/rddado/Makefile
  * contrib/gtwvg/Makefile
  * contrib/hbpgsql/Makefile
  * contrib/rddads/Makefile
  * contrib/hbclipsm/Makefile
  * contrib/hbfimage/Makefile
  * contrib/hbgd/Makefile
  * contrib/hbmisc/Makefile
  * contrib/hbtip/Makefile
  * contrib/hbwin/Makefile
  * contrib/hbbmcdx/Makefile
  * contrib/hbvpdf/Makefile
  * contrib/hbssl/Makefile
  * contrib/hbbtree/Makefile
  * tests/bldtest/Makefile
  * doc/en-EN/Makefile
  * doc/Makefile
  * Makefile
    * Renaming .cf files to .mk.
      Pass 3. Changing .cf references to .mk ones outside config.
      SVN is in working state again. I'll do a final check after 
      this commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/Makefile
    trunk/harbour/contrib/Makefile
    trunk/harbour/contrib/gtalleg/Makefile
    trunk/harbour/contrib/gtqtc/Makefile
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/hbblat/Makefile
    trunk/harbour/contrib/hbbmcdx/Makefile
    trunk/harbour/contrib/hbbtree/Makefile
    trunk/harbour/contrib/hbclipsm/Makefile
    trunk/harbour/contrib/hbct/Makefile
    trunk/harbour/contrib/hbcurl/Makefile
    trunk/harbour/contrib/hbcurl/hbcurls/Makefile
    trunk/harbour/contrib/hbfbird/Makefile
    trunk/harbour/contrib/hbfimage/Makefile
    trunk/harbour/contrib/hbgd/Makefile
    trunk/harbour/contrib/hbgt/Makefile
    trunk/harbour/contrib/hbhpdf/Makefile
    trunk/harbour/contrib/hbmisc/Makefile
    trunk/harbour/contrib/hbmysql/Makefile
    trunk/harbour/contrib/hbmzip/Makefile
    trunk/harbour/contrib/hbnf/Makefile
    trunk/harbour/contrib/hbodbc/Makefile
    trunk/harbour/contrib/hbpgsql/Makefile
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbsqlit3/Makefile
    trunk/harbour/contrib/hbssl/Makefile
    trunk/harbour/contrib/hbtip/Makefile
    trunk/harbour/contrib/hbtpathy/Makefile
    trunk/harbour/contrib/hbvpdf/Makefile
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbxbp/Makefile
    trunk/harbour/contrib/hbziparc/Makefile
    trunk/harbour/contrib/rddado/Makefile
    trunk/harbour/contrib/rddads/Makefile
    trunk/harbour/contrib/rddsql/Makefile
    trunk/harbour/contrib/rddsql/sddfb/Makefile
    trunk/harbour/contrib/rddsql/sddmy/Makefile
    trunk/harbour/contrib/rddsql/sddodbc/Makefile
    trunk/harbour/contrib/rddsql/sddpg/Makefile
    trunk/harbour/contrib/xhb/Makefile
    trunk/harbour/contrib/xpp/Makefile
    trunk/harbour/doc/Makefile
    trunk/harbour/doc/en-EN/Makefile
    trunk/harbour/external/Makefile
    trunk/harbour/external/libhpdf/Makefile
    trunk/harbour/external/libpng/Makefile
    trunk/harbour/external/sqlite3/Makefile
    trunk/harbour/include/Makefile
    trunk/harbour/source/Makefile
    trunk/harbour/source/codepage/Makefile
    trunk/harbour/source/common/Makefile
    trunk/harbour/source/compiler/Makefile
    trunk/harbour/source/debug/Makefile
    trunk/harbour/source/hbextern/Makefile
    trunk/harbour/source/hbpcre/Makefile
    trunk/harbour/source/hbzlib/Makefile
    trunk/harbour/source/lang/Makefile
    trunk/harbour/source/macro/Makefile
    trunk/harbour/source/main/Makefile
    trunk/harbour/source/nortl/Makefile
    trunk/harbour/source/pp/Makefile
    trunk/harbour/source/rdd/Makefile
    trunk/harbour/source/rdd/dbfcdx/Makefile
    trunk/harbour/source/rdd/dbffpt/Makefile
    trunk/harbour/source/rdd/dbfnsx/Makefile
    trunk/harbour/source/rdd/dbfntx/Makefile
    trunk/harbour/source/rdd/hbsix/Makefile
    trunk/harbour/source/rdd/hsx/Makefile
    trunk/harbour/source/rdd/nulsys/Makefile
    trunk/harbour/source/rdd/usrrdd/Makefile
    trunk/harbour/source/rdd/usrrdd/rdds/Makefile
    trunk/harbour/source/rtl/Makefile
    trunk/harbour/source/rtl/gt_tpl/Makefile
    trunk/harbour/source/rtl/gtcgi/Makefile
    trunk/harbour/source/rtl/gtcrs/Makefile
    trunk/harbour/source/rtl/gtdos/Makefile
    trunk/harbour/source/rtl/gtgui/Makefile
    trunk/harbour/source/rtl/gtos2/Makefile
    trunk/harbour/source/rtl/gtpca/Makefile
    trunk/harbour/source/rtl/gtsln/Makefile
    trunk/harbour/source/rtl/gtstd/Makefile
    trunk/harbour/source/rtl/gttrm/Makefile
    trunk/harbour/source/rtl/gtwin/Makefile
    trunk/harbour/source/rtl/gtwvt/Makefile
    trunk/harbour/source/rtl/gtxwc/Makefile
    trunk/harbour/source/vm/Makefile
    trunk/harbour/source/vm/maindllh/Makefile
    trunk/harbour/source/vm/maindllp/Makefile
    trunk/harbour/source/vm/mainstd/Makefile
    trunk/harbour/source/vm/mainwin/Makefile
    trunk/harbour/source/vm/vmmt/Makefile
    trunk/harbour/tests/bldtest/Makefile
    trunk/harbour/utils/Makefile
    trunk/harbour/utils/hbformat/Makefile
    trunk/harbour/utils/hbi18n/Makefile
    trunk/harbour/utils/hbmk2/Makefile
    trunk/harbour/utils/hbrun/Makefile
    trunk/harbour/utils/hbtest/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Aug 17 13:36:06 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 13:36:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12121] trunk/harbour
In-Reply-To: <7C6DA526-82D6-4905-99DD-DD4D68CF5DD5@syenar.hu>
References: <E1McFsm-00072q-Fg@74yxhf1.ch3.sourceforge.com>
	<20090817114507.GE17616@uran.home.aster.pl>
	<7C6DA526-82D6-4905-99DD-DD4D68CF5DD5@syenar.hu>
Message-ID: <20090817173606.GB17468@uran.home.aster.pl>

On Mon, 17 Aug 2009, Szak?ts Viktor wrote:
> Output in C++ mode:
> silver:bin vszakats$ nm tstrcv.o -g -n
>          U _HB_FUN_AT
>          U _HB_FUN_EMPTY
[...]
>          U _hb_vmProcessSymbols
> 00000050 T _HB_FUN_MAIN
[...]
> ---
> Output in C mode:
> silver:bin vszakats$ nm tstrcv.o -g -n
>          U _HB_FUN_AT
>          U _HB_FUN_EMPTY
[...]
>          U _hb_vmProcessSymbols
> 00000050 T _HB_FUN_MAIN
[...]

OK, so we do not have any mangling C++ sufixes (I forgot that
we declare HB_FUNC() as extern "C") so the only one thing which
may cause problems is "_" prefix so please update hbmk2 code
and change:
   IF ( n := At( " T HB_FUN_", cFuncList ) ) != 0
      n += 10
to:
   IF ( n := At( " T HB_FUN_", cFuncList ) ) != 0
      n += 10
   ELSEIF ( n := At( " T _HB_FUN_", cFuncList ) ) != 0
      n += 11
   ENDIF
   IF n != 0

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Aug 17 13:42:45 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 17 13:42:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12151] trunk/harbour
Message-ID: <E1Md6EH-0001fz-3o@74yxhf1.ch3.sourceforge.com>

Revision: 12151
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12151&view=rev
Author:   druzus
Date:     2009-08-17 17:42:44 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 19:42 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/hbproces.c
    ! fixed hb_fsProcessRun() (__RUN() and HB_RUN()) in WinCE builds
      to pass application name as 1-st parameters
    + added parameters passing to hb_fsProcessRun() (__RUN() and HB_RUN())
      in WinCE builds - please test.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/hbproces.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Aug 17 13:46:50 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 13:46:56 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <20090817172751.GA17468@uran.home.aster.pl>
References: <1103015677.20090814143145@tlen.pl>
	<20090814125427.GA1160@uran.home.aster.pl>
	<162593182.20090814191923@tlen.pl>
	<20090814173643.GA30218@uran.home.aster.pl>
	<1218769846.20090814223723@tlen.pl>
	<20090817115050.GF17616@uran.home.aster.pl>
	<1733982103.20090817182622@tlen.pl>
	<20090817164306.GA12830@uran.home.aster.pl>
	<883378730.20090817185905@tlen.pl>
	<20090817172751.GA17468@uran.home.aster.pl>
Message-ID: <20090817174650.GA12884@uran.home.aster.pl>

[poniedziaï¿½ek, 17 sierpieï¿½ 2009], Przemyslaw Czerpak napisa³(a):
> please try to recompile Harbour for WinCE with small patch I'll
> commit in a while and then try to make test for passing parameters.

I have just committed it:

   2009-08-17 19:42 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
     * harbour/source/rtl/hbproces.c
       ! fixed hb_fsProcessRun() (__RUN() and HB_RUN()) in WinCE builds
         to pass application name as 1-st parameters
       + added parameters passing to hb_fsProcessRun() (__RUN() and HB_RUN())
         in WinCE builds - please test.

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Aug 17 13:48:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 17 13:48:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12152] trunk/harbour
Message-ID: <E1Md6JS-0001nh-Jk@74yxhf1.ch3.sourceforge.com>

Revision: 12152
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12152&view=rev
Author:   vszakats
Date:     2009-08-17 17:48:05 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------

2009-08-17 19:42 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
  * contrib/hbtip/hbtipssl/Makefile
  * doc/gmake.txt
  * doc/dirstruc.txt
  * examples/hbdoc/examples/core_es/dirstruc.txt
    * Renaming .cf files to .mk.
      Pass 4. Final touches. Renaming is now complete.

  * utils/hbmk2/hbmk2.prg
    ! Applied fix from Przemek to 'nm' output processing.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/hbtipssl/Makefile
    trunk/harbour/doc/dirstruc.txt
    trunk/harbour/doc/gmake.txt
    trunk/harbour/examples/hbdoc/examples/core_es/dirstruc.txt
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 17 14:02:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 17 14:02:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12153]
	trunk/harbour/ChangeLog
Message-ID: <E1Md6XP-00028Y-HA@74yxhf1.ch3.sourceforge.com>

Revision: 12153
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12153&view=rev
Author:   vszakats
Date:     2009-08-17 18:02:30 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 20:02 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * ChangeLog
    ; Added missing change to one the recent entries:
    ---
    * config/global.cf
      + Added 'SHELL := $(COMSPEC)' to OS/2 shells.
        I'm not sure this is needed, please test and confirm
        whether it solves possible interference with sh.exe in
        PATH.
    ---

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From itamarlins at bol.com.br  Mon Aug 17 15:05:35 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Mon Aug 17 15:07:14 2009
Subject: [Harbour] Warnings with msvc.
Message-ID: <h6c9o7$uvj$1@ger.gmane.org>

Hi!

This is normal ?

! MAKE: mingw32-make 3.81   sh.exe
! HB_INSTALL_PREFIX: D:\DEV\HARBOUR
! HB_HOST_ARCH: win  HB_SHELL: nt
! HB_ARCHITECTURE: win (autodetected)
! HB_COMPILER: msvc

../../../expropt2.c(557) : warning C4244: '=' : conversion from 'HB_LONG' to 
'long', possible loss of data
../../../expropt2.c(559) : warning C4244: '=' : conversion from 'HB_LONG' to 
'long', possible loss of data
../../../expropt2.c(570) : warning C4244: 'argument' : conversion from 
'HB_LONG' to 'LONG', possible loss of data
../../../expropt2.c(760) : warning C4244: '=' : conversion from 'HB_LONG' to 
'long', possible loss of data
../../../expropt2.c(762) : warning C4244: '=' : conversion from 'HB_LONG' to 
'long', possible loss of data
../../../expropt2.c(773) : warning C4244: 'argument' : conversion from 
'HB_LONG' to 'LONG', possible loss of data
../../../expropt2.c(813) : warning C4244: '=' : conversion from 'HB_LONG' to 
'long', possible loss of data
../../../expropt2.c(815) : warning C4244: '=' : conversion from 'HB_LONG' to 
'long', possible loss of data
../../../expropt2.c(826) : warning C4244: 'argument' : conversion from 
'HB_LONG' to 'LONG', possible loss of data
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- 
 -MT    -Foexpropt2_dyn.obj -DHB_DYNLIB -c ../../../expropt2.c
expropt2.c
../../../expropt2.c(557) : warning C4244: '=' : conversion from 'HB_LONG' to 
'long', possible loss of data
../../../expropt2.c(559) : warning C4244: '=' : conversion from 'HB_LONG' to 
'long', possible loss of data
../../../expropt2.c(570) : warning C4244: 'argument' : conversion from 
'HB_LONG' to 'LONG', possible loss of data
../../../expropt2.c(760) : warning C4244: '=' : conversion from 'HB_LONG' to 
'long', possible loss of data
../../../expropt2.c(762) : warning C4244: '=' : conversion from 'HB_LONG' to 
'long', possible loss of data
../../../expropt2.c(773) : warning C4244: 'argument' : conversion from 
'HB_LONG' to 'LONG', possible loss of data
../../../expropt2.c(813) : warning C4244: '=' : conversion from 'HB_LONG' to 
'long', possible loss of data
../../../expropt2.c(815) : warning C4244: '=' : conversion from 'HB_LONG' to 
'long', possible loss of data
../../../expropt2.c(826) : warning C4244: 'argument' : conversion from 
'HB_LONG' to 'LONG', possible loss of data

cl.exe  -nologo -I. -I../../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- 
 -MT    -Fodbfcdx1.obj -c ../../../dbfcdx1.c
dbfcdx1.c
../../../dbfcdx1.c(415) : warning C4244: '=' : conversion from 'int' to 
'BYTE', possible loss of data
../../../dbfcdx1.c(897) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(897) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(905) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(905) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(922) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(922) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(930) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(930) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(989) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(1637) : warning C4244: '=' : conversion from 'int' to 
'SHORT', possible loss of data
../../../dbfcdx1.c(1648) : warning C4244: '-=' : conversion from 'int' to 
'SHORT', possible loss of data
../../../dbfcdx1.c(1661) : warning C4244: '=' : conversion from 'int' to 
'SHORT', possible loss of data
../../../dbfcdx1.c(1872) : warning C4244: '=' : conversion from 'int' to 
'USHORT', possible loss of data
../../../dbfcdx1.c(2095) : warning C4244: '-=' : conversion from 'int' to 
'SHORT', possible loss of data
../../../dbfcdx1.c(2172) : warning C4244: '+=' : conversion from 'int' to 
'SHORT', possible loss of data
../../../dbfcdx1.c(2295) : warning C4244: '-=' : conversion from 'int' to 
'SHORT', possible loss of data
../../../dbfcdx1.c(2771) : warning C4244: '=' : conversion from 'int' to 
'BYTE', possible loss of data
../../../dbfcdx1.c(2830) : warning C4244: '=' : conversion from 'SHORT' to 
'BYTE', possible loss of data
../../../dbfcdx1.c(2832) : warning C4244: '=' : conversion from 'int' to 
'BYTE', possible loss of data
../../../dbfcdx1.c(2883) : warning C4244: '=' : conversion from 'int' to 
'BYTE', possible loss of data
../../../dbfcdx1.c(3545) : warning C4244: '=' : conversion from 'size_t' to 
'USHORT', possible loss of data
../../../dbfcdx1.c(3546) : warning C4244: '=' : conversion from 'size_t' to 
'USHORT', possible loss of data
../../../dbfcdx1.c(3903) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(3951) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(3975) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(5234) : warning C4244: '=' : conversion from 'int' to 
'USHORT', possible loss of data
../../../dbfcdx1.c(5369) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(5369) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(5394) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(5394) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(5581) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(5581) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(5586) : warning C4244: 'argument' : conversion from 'int' 
to 'USHORT', possible loss of data
../../../dbfcdx1.c(5620) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(5620) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(5650) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(5650) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(6679) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(6679) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(6970) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(6970) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(7154) : warning C4244: '=' : conversion from 'int' to 
'BYTE', possible loss of data
../../../dbfcdx1.c(8801) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(8801) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(8978) : warning C4244: '-=' : conversion from 'int' to 
'SHORT', possible loss of data
../../../dbfcdx1.c(9069) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(9069) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(9115) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(9115) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(9374) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(9374) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(9819) : warning C4244: '=' : conversion from 'int' to 
'USHORT', possible loss of data
cl.exe  -nologo -I. -I../../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- 
 -MT    -Fodbfcdx1_dyn.obj -DHB_DYNLIB -c ../../../dbfcdx1.c
dbfcdx1.c
../../../dbfcdx1.c(415) : warning C4244: '=' : conversion from 'int' to 
'BYTE', possible loss of data
../../../dbfcdx1.c(897) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(897) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(905) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(905) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(922) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(922) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(930) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(930) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(989) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(1637) : warning C4244: '=' : conversion from 'int' to 
'SHORT', possible loss of data
../../../dbfcdx1.c(1648) : warning C4244: '-=' : conversion from 'int' to 
'SHORT', possible loss of data
../../../dbfcdx1.c(1661) : warning C4244: '=' : conversion from 'int' to 
'SHORT', possible loss of data
../../../dbfcdx1.c(1872) : warning C4244: '=' : conversion from 'int' to 
'USHORT', possible loss of data
../../../dbfcdx1.c(2095) : warning C4244: '-=' : conversion from 'int' to 
'SHORT', possible loss of data
../../../dbfcdx1.c(2172) : warning C4244: '+=' : conversion from 'int' to 
'SHORT', possible loss of data
../../../dbfcdx1.c(2295) : warning C4244: '-=' : conversion from 'int' to 
'SHORT', possible loss of data
../../../dbfcdx1.c(2771) : warning C4244: '=' : conversion from 'int' to 
'BYTE', possible loss of data
../../../dbfcdx1.c(2830) : warning C4244: '=' : conversion from 'SHORT' to 
'BYTE', possible loss of data
../../../dbfcdx1.c(2832) : warning C4244: '=' : conversion from 'int' to 
'BYTE', possible loss of data
../../../dbfcdx1.c(2883) : warning C4244: '=' : conversion from 'int' to 
'BYTE', possible loss of data
../../../dbfcdx1.c(3545) : warning C4244: '=' : conversion from 'size_t' to 
'USHORT', possible loss of data
../../../dbfcdx1.c(3546) : warning C4244: '=' : conversion from 'size_t' to 
'USHORT', possible loss of data
../../../dbfcdx1.c(3903) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(3951) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(3975) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(5234) : warning C4244: '=' : conversion from 'int' to 
'USHORT', possible loss of data
../../../dbfcdx1.c(5369) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(5369) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(5394) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(5394) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(5581) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(5581) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(5586) : warning C4244: 'argument' : conversion from 'int' 
to 'USHORT', possible loss of data
../../../dbfcdx1.c(5620) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(5620) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(5650) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(5650) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(6679) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(6679) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(6970) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(6970) : warning C4244: 'argument' : conversion from 
'USHORT' to 'BYTE', possible loss of data
../../../dbfcdx1.c(7154) : warning C4244: '=' : conversion from 'int' to 
'BYTE', possible loss of data
../../../dbfcdx1.c(8801) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(8801) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(8978) : warning C4244: '-=' : conversion from 'int' to 
'SHORT', possible loss of data
../../../dbfcdx1.c(9069) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(9069) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(9115) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(9115) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(9374) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(9374) : warning C4244: 'argument' : conversion from 'int' 
to 'BYTE', possible loss of data
../../../dbfcdx1.c(9819) : warning C4244: '=' : conversion from 'int' to 
'USHORT', possible loss of data
cl.exe  -nologo -I. -I../../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- 
 -MT    -Fosixcdx1.obj -c ../../../sixcdx1.c
sixcdx1.c
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(415) : warning C4244: 
'=' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(897) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(897) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(905) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(905) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(922) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(922) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(930) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(930) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(989) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(1637) : warning C4244: 
'=' : conversion from 'int' to 'SHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(1648) : warning C4244: 
'-=' : conversion from 'int' to 'SHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(1661) : warning C4244: 
'=' : conversion from 'int' to 'SHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(1872) : warning C4244: 
'=' : conversion from 'int' to 'USHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2095) : warning C4244: 
'-=' : conversion from 'int' to 'SHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2172) : warning C4244: 
'+=' : conversion from 'int' to 'SHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2295) : warning C4244: 
'-=' : conversion from 'int' to 'SHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2773) : warning C4244: 
'=' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2830) : warning C4244: 
'=' : conversion from 'SHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2834) : warning C4244: 
'=' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2885) : warning C4244: 
'=' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3545) : warning C4244: 
'=' : conversion from 'size_t' to 'USHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3546) : warning C4244: 
'=' : conversion from 'size_t' to 'USHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3903) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3951) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3975) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5234) : warning C4244: 
'=' : conversion from 'int' to 'USHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5369) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5369) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5394) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5394) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5581) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5581) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5586) : warning C4244: 
'argument' : conversion from 'int' to 'USHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5620) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5620) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5650) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5650) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(6679) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(6679) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(6970) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(6970) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(7154) : warning C4244: 
'=' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(8801) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(8801) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(8978) : warning C4244: 
'-=' : conversion from 'int' to 'SHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9069) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9069) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9115) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9115) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9374) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9374) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9757) : warning C4244: 
'=' : conversion from 'int' to 'USHORT', possible loss of data
cl.exe  -nologo -I. -I../../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- 
 -MT    -Fosixcdx1_dyn.obj -DHB_DYNLIB -c ../../../sixcdx1.c
sixcdx1.c
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(415) : warning C4244: 
'=' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(897) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(897) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(905) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(905) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(922) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(922) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(930) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(930) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(989) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(1637) : warning C4244: 
'=' : conversion from 'int' to 'SHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(1648) : warning C4244: 
'-=' : conversion from 'int' to 'SHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(1661) : warning C4244: 
'=' : conversion from 'int' to 'SHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(1872) : warning C4244: 
'=' : conversion from 'int' to 'USHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2095) : warning C4244: 
'-=' : conversion from 'int' to 'SHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2172) : warning C4244: 
'+=' : conversion from 'int' to 'SHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2295) : warning C4244: 
'-=' : conversion from 'int' to 'SHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2773) : warning C4244: 
'=' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2830) : warning C4244: 
'=' : conversion from 'SHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2834) : warning C4244: 
'=' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2885) : warning C4244: 
'=' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3545) : warning C4244: 
'=' : conversion from 'size_t' to 'USHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3546) : warning C4244: 
'=' : conversion from 'size_t' to 'USHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3903) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3951) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3975) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5234) : warning C4244: 
'=' : conversion from 'int' to 'USHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5369) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5369) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5394) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5394) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5581) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5581) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5586) : warning C4244: 
'argument' : conversion from 'int' to 'USHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5620) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5620) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5650) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5650) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(6679) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(6679) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(6970) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(6970) : warning C4244: 
'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(7154) : warning C4244: 
'=' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(8801) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(8801) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(8978) : warning C4244: 
'-=' : conversion from 'int' to 'SHORT', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9069) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9069) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9115) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9115) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9374) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9374) : warning C4244: 
'argument' : conversion from 'int' to 'BYTE', possible loss of data
d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9757) : warning C4244: 
'=' : conversion from 'int' to 'USHORT', possible loss of data
lib.exe   /nologo /out:../../../../../../lib/win/msvc/rddcdx.lib dbfcdx1.obj 
sixcdx1.obj || del /q /f ../../../../../../lib/win/msvc/rddcdx.lib
cl.exe  -nologo -I. -I../../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- 
 -MT    -Fodbffpt1.obj -c ../../../dbffpt1.c
dbffpt1.c
../../../dbffpt1.c(587) : warning C4244: '=' : conversion from 'int' to 
'USHORT', possible loss of data
../../../dbffpt1.c(628) : warning C4310: cast truncates constant value
../../../dbffpt1.c(1011) : warning C4310: cast truncates constant value
../../../dbffpt1.c(3618) : warning C4244: '=' : conversion from 'HB_FOFFSET' 
to 'ULONG', possible loss of data
../../../dbffpt1.c(3875) : warning C4244: '=' : conversion from 'int' to 
'BYTE', possible loss of data
../../../dbffpt1.c(3905) : warning C4244: '=' : conversion from 'int' to 
'USHORT', possible loss of data
../../../dbffpt1.c(3918) : warning C4244: '=' : conversion from 'int' to 
'USHORT', possible loss of data
../../../dbffpt1.c(4439) : warning C4244: '=' : conversion from 'HB_FOFFSET' 
to 'ULONG', possible loss of data
../../../dbffpt1.c(4773) : warning C4244: 'argument' : conversion from 'int' 
to 'USHORT', possible loss of data
../../../dbffpt1.c(4788) : warning C4244: 'argument' : conversion from 'int' 
to 'USHORT', possible loss of data
../../../dbffpt1.c(5057) : warning C4244: '=' : conversion from 'int' to 
'USHORT', possible loss of data
../../../dbffpt1.c(5133) : warning C4244: '=' : conversion from 'int' to 
'USHORT', possible loss of data
cl.exe  -nologo -I. -I../../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- 
 -MT    -Fodbffpt1_dyn.obj -DHB_DYNLIB -c ../../../dbffpt1.c
dbffpt1.c
../../../dbffpt1.c(587) : warning C4244: '=' : conversion from 'int' to 
'USHORT', possible loss of data
../../../dbffpt1.c(628) : warning C4310: cast truncates constant value
../../../dbffpt1.c(1011) : warning C4310: cast truncates constant value
../../../dbffpt1.c(3618) : warning C4244: '=' : conversion from 'HB_FOFFSET' 
to 'ULONG', possible loss of data
../../../dbffpt1.c(3875) : warning C4244: '=' : conversion from 'int' to 
'BYTE', possible loss of data
../../../dbffpt1.c(3905) : warning C4244: '=' : conversion from 'int' to 
'USHORT', possible loss of data
../../../dbffpt1.c(3918) : warning C4244: '=' : conversion from 'int' to 
'USHORT', possible loss of data
../../../dbffpt1.c(4439) : warning C4244: '=' : conversion from 'HB_FOFFSET' 
to 'ULONG', possible loss of data
../../../dbffpt1.c(4773) : warning C4244: 'argument' : conversion from 'int' 
to 'USHORT', possible loss of data
../../../dbffpt1.c(4788) : warning C4244: 'argument' : conversion from 'int' 
to 'USHORT', possible loss of data
../../../dbffpt1.c(5057) : warning C4244: '=' : conversion from 'int' to 
'USHORT', possible loss of data
../../../dbffpt1.c(5133) : warning C4244: '=' : conversion from 'int' to 
'USHORT', possible loss of data
lib.exe   /nologo /out:../../../../../../lib/win/msvc/rddfpt.lib dbffpt1.obj 
|| del /q /f ../../../../../../lib/win/msvc/rddfpt.lib
cl.exe  -nologo -I. -I../../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- 
 -MT    -Fosxcompr.obj -c ../../../sxcompr.c
sxcompr.c

Best Regards,
Itamar M. Lins Jr. 



From vszakats at users.sourceforge.net  Mon Aug 17 15:42:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 17 15:42:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12154] trunk/harbour
Message-ID: <E1Md86V-0001WZ-1H@bj8yhf1.ch3.sourceforge.com>

Revision: 12154
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12154&view=rev
Author:   vszakats
Date:     2009-08-17 19:42:50 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 21:30 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
  * config/wce/mingwarm.mk
  * config/win/mingw.mk
    + Added logic to support linux wince cross-builds.
      My goal was to implement make_gnu_xmingwce.sh functionality
      inside make files. I've yet to install cegcc to my Linux,
      so I didn't test it yet, but please do. It's experimental
      yet and ATM the wce target can be enabled by pointing
      HB_CCPATH to cegcc install dir. This may change in the future.
    + In cross build scenarios the default HB_INSTALL_PREFIX is
      now /usr/local/harbour-<arch>-<comp>
      Somewhat replicating current .sh behaviour. Not exactly
      because I wanted to stay with conventions found in other parts
      of Harbour. With .sh the dir was:
         /usr/local/arm-wince-mingwce-harbour
      With new system it's:
         /usr/local/harbour-wce-mingwarm
    ; QUESTION: I'm not familiar with .spec files, but it looks there are
                some redunant settings inside harbour-wce-spec.
                F.e. HB_CONTRIBLIBS should be left to default and local
                Makefiles should do the ground work of deciding whether
                a given contrib needs to be built.
                CC_HB_USER_PRGFLAGS also seems redundant now, although
                there may still be some .sh logic which needs it.
                'make -i' seems dangerous option when creating a release
                package.

  * make_gnu_xmingwce.sh
    ! Typo in comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/make_gnu_xmingwce.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From itamarlins at bol.com.br  Mon Aug 17 15:52:40 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Mon Aug 17 15:54:25 2009
Subject: [Harbour] GPF oemtoansi()
Message-ID: <h6ccgh$889$1@ger.gmane.org>

Hi!
 $Id: ChangeLog 12153 2009-08-17 18:02:30Z vszakats $
With MSVC, OS Windows XP SP3.

Function Main
? oemtoansi(cmonth(date())) //I Get GPF.

Best Regards,
Itamar M. Lins Jr.



From harbour.01 at syenar.hu  Mon Aug 17 16:02:33 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 16:02:44 2009
Subject: [Harbour] GPF oemtoansi()
In-Reply-To: <h6ccgh$889$1@ger.gmane.org>
References: <h6ccgh$889$1@ger.gmane.org>
Message-ID: <10E3EB6D-F4B2-4EE3-B239-892B949BD2F5@syenar.hu>

Hi Itamar,

OEMTOANSI() is not a Harbour function.

Try HB_OEMTOANSI().

Brgds,
Viktor

On 2009.08.17., at 9:52, Itamar Lins wrote:

> Hi!
> $Id: ChangeLog 12153 2009-08-17 18:02:30Z vszakats $
> With MSVC, OS Windows XP SP3.
>
> Function Main
> ? oemtoansi(cmonth(date())) //I Get GPF.
>
> Best Regards,
> Itamar M. Lins Jr.
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Aug 17 16:06:47 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 16:06:54 2009
Subject: [Harbour] GPF oemtoansi()
In-Reply-To: <h6ccgh$889$1@ger.gmane.org>
References: <h6ccgh$889$1@ger.gmane.org>
Message-ID: <20090817200647.GA16783@uran.home.aster.pl>

On Mon, 17 Aug 2009, Itamar Lins wrote:

Hi,

>  $Id: ChangeLog 12153 2009-08-17 18:02:30Z vszakats $
> With MSVC, OS Windows XP SP3.
> Function Main
> ? oemtoansi(cmonth(date())) //I Get GPF.

Harbour does not have OEMTOANSI() function so it's not our problem.

best regards,
Przemek
From lautaro.moreira at gmail.com  Mon Aug 17 16:08:42 2009
From: lautaro.moreira at gmail.com (Lautaro Moreira)
Date: Mon Aug 17 16:08:54 2009
Subject: [Harbour] Warnings with msvc.
In-Reply-To: <h6c9o7$uvj$1@ger.gmane.org>
References: <h6c9o7$uvj$1@ger.gmane.org>
Message-ID: <4A89B8CA.3030005@gmail.com>

Hi !

I have the same warnings.

This is normal ???

Atte.,

Lautaro

Itamar Lins escribi?:
> Hi!
>
> This is normal ?
>
> ! MAKE: mingw32-make 3.81   sh.exe
> ! HB_INSTALL_PREFIX: D:\DEV\HARBOUR
> ! HB_HOST_ARCH: win  HB_SHELL: nt
> ! HB_ARCHITECTURE: win (autodetected)
> ! HB_COMPILER: msvc
>
> ../../../expropt2.c(557) : warning C4244: '=' : conversion from 'HB_LONG' to 
> 'long', possible loss of data
> ../../../expropt2.c(559) : warning C4244: '=' : conversion from 'HB_LONG' to 
> 'long', possible loss of data
> ../../../expropt2.c(570) : warning C4244: 'argument' : conversion from 
> 'HB_LONG' to 'LONG', possible loss of data
> ../../../expropt2.c(760) : warning C4244: '=' : conversion from 'HB_LONG' to 
> 'long', possible loss of data
> ../../../expropt2.c(762) : warning C4244: '=' : conversion from 'HB_LONG' to 
> 'long', possible loss of data
> ../../../expropt2.c(773) : warning C4244: 'argument' : conversion from 
> 'HB_LONG' to 'LONG', possible loss of data
> ../../../expropt2.c(813) : warning C4244: '=' : conversion from 'HB_LONG' to 
> 'long', possible loss of data
> ../../../expropt2.c(815) : warning C4244: '=' : conversion from 'HB_LONG' to 
> 'long', possible loss of data
> ../../../expropt2.c(826) : warning C4244: 'argument' : conversion from 
> 'HB_LONG' to 'LONG', possible loss of data
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- 
>  -MT    -Foexpropt2_dyn.obj -DHB_DYNLIB -c ../../../expropt2.c
> expropt2.c
> ../../../expropt2.c(557) : warning C4244: '=' : conversion from 'HB_LONG' to 
> 'long', possible loss of data
> ../../../expropt2.c(559) : warning C4244: '=' : conversion from 'HB_LONG' to 
> 'long', possible loss of data
> ../../../expropt2.c(570) : warning C4244: 'argument' : conversion from 
> 'HB_LONG' to 'LONG', possible loss of data
> ../../../expropt2.c(760) : warning C4244: '=' : conversion from 'HB_LONG' to 
> 'long', possible loss of data
> ../../../expropt2.c(762) : warning C4244: '=' : conversion from 'HB_LONG' to 
> 'long', possible loss of data
> ../../../expropt2.c(773) : warning C4244: 'argument' : conversion from 
> 'HB_LONG' to 'LONG', possible loss of data
> ../../../expropt2.c(813) : warning C4244: '=' : conversion from 'HB_LONG' to 
> 'long', possible loss of data
> ../../../expropt2.c(815) : warning C4244: '=' : conversion from 'HB_LONG' to 
> 'long', possible loss of data
> ../../../expropt2.c(826) : warning C4244: 'argument' : conversion from 
> 'HB_LONG' to 'LONG', possible loss of data
>
> cl.exe  -nologo -I. -I../../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- 
>  -MT    -Fodbfcdx1.obj -c ../../../dbfcdx1.c
> dbfcdx1.c
> ../../../dbfcdx1.c(415) : warning C4244: '=' : conversion from 'int' to 
> 'BYTE', possible loss of data
> ../../../dbfcdx1.c(897) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(897) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(905) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(905) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(922) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(922) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(930) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(930) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(989) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(1637) : warning C4244: '=' : conversion from 'int' to 
> 'SHORT', possible loss of data
> ../../../dbfcdx1.c(1648) : warning C4244: '-=' : conversion from 'int' to 
> 'SHORT', possible loss of data
> ../../../dbfcdx1.c(1661) : warning C4244: '=' : conversion from 'int' to 
> 'SHORT', possible loss of data
> ../../../dbfcdx1.c(1872) : warning C4244: '=' : conversion from 'int' to 
> 'USHORT', possible loss of data
> ../../../dbfcdx1.c(2095) : warning C4244: '-=' : conversion from 'int' to 
> 'SHORT', possible loss of data
> ../../../dbfcdx1.c(2172) : warning C4244: '+=' : conversion from 'int' to 
> 'SHORT', possible loss of data
> ../../../dbfcdx1.c(2295) : warning C4244: '-=' : conversion from 'int' to 
> 'SHORT', possible loss of data
> ../../../dbfcdx1.c(2771) : warning C4244: '=' : conversion from 'int' to 
> 'BYTE', possible loss of data
> ../../../dbfcdx1.c(2830) : warning C4244: '=' : conversion from 'SHORT' to 
> 'BYTE', possible loss of data
> ../../../dbfcdx1.c(2832) : warning C4244: '=' : conversion from 'int' to 
> 'BYTE', possible loss of data
> ../../../dbfcdx1.c(2883) : warning C4244: '=' : conversion from 'int' to 
> 'BYTE', possible loss of data
> ../../../dbfcdx1.c(3545) : warning C4244: '=' : conversion from 'size_t' to 
> 'USHORT', possible loss of data
> ../../../dbfcdx1.c(3546) : warning C4244: '=' : conversion from 'size_t' to 
> 'USHORT', possible loss of data
> ../../../dbfcdx1.c(3903) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(3951) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(3975) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5234) : warning C4244: '=' : conversion from 'int' to 
> 'USHORT', possible loss of data
> ../../../dbfcdx1.c(5369) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5369) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5394) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5394) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5581) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5581) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5586) : warning C4244: 'argument' : conversion from 'int' 
> to 'USHORT', possible loss of data
> ../../../dbfcdx1.c(5620) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5620) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5650) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5650) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(6679) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(6679) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(6970) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(6970) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(7154) : warning C4244: '=' : conversion from 'int' to 
> 'BYTE', possible loss of data
> ../../../dbfcdx1.c(8801) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(8801) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(8978) : warning C4244: '-=' : conversion from 'int' to 
> 'SHORT', possible loss of data
> ../../../dbfcdx1.c(9069) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(9069) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(9115) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(9115) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(9374) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(9374) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(9819) : warning C4244: '=' : conversion from 'int' to 
> 'USHORT', possible loss of data
> cl.exe  -nologo -I. -I../../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- 
>  -MT    -Fodbfcdx1_dyn.obj -DHB_DYNLIB -c ../../../dbfcdx1.c
> dbfcdx1.c
> ../../../dbfcdx1.c(415) : warning C4244: '=' : conversion from 'int' to 
> 'BYTE', possible loss of data
> ../../../dbfcdx1.c(897) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(897) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(905) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(905) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(922) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(922) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(930) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(930) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(989) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(1637) : warning C4244: '=' : conversion from 'int' to 
> 'SHORT', possible loss of data
> ../../../dbfcdx1.c(1648) : warning C4244: '-=' : conversion from 'int' to 
> 'SHORT', possible loss of data
> ../../../dbfcdx1.c(1661) : warning C4244: '=' : conversion from 'int' to 
> 'SHORT', possible loss of data
> ../../../dbfcdx1.c(1872) : warning C4244: '=' : conversion from 'int' to 
> 'USHORT', possible loss of data
> ../../../dbfcdx1.c(2095) : warning C4244: '-=' : conversion from 'int' to 
> 'SHORT', possible loss of data
> ../../../dbfcdx1.c(2172) : warning C4244: '+=' : conversion from 'int' to 
> 'SHORT', possible loss of data
> ../../../dbfcdx1.c(2295) : warning C4244: '-=' : conversion from 'int' to 
> 'SHORT', possible loss of data
> ../../../dbfcdx1.c(2771) : warning C4244: '=' : conversion from 'int' to 
> 'BYTE', possible loss of data
> ../../../dbfcdx1.c(2830) : warning C4244: '=' : conversion from 'SHORT' to 
> 'BYTE', possible loss of data
> ../../../dbfcdx1.c(2832) : warning C4244: '=' : conversion from 'int' to 
> 'BYTE', possible loss of data
> ../../../dbfcdx1.c(2883) : warning C4244: '=' : conversion from 'int' to 
> 'BYTE', possible loss of data
> ../../../dbfcdx1.c(3545) : warning C4244: '=' : conversion from 'size_t' to 
> 'USHORT', possible loss of data
> ../../../dbfcdx1.c(3546) : warning C4244: '=' : conversion from 'size_t' to 
> 'USHORT', possible loss of data
> ../../../dbfcdx1.c(3903) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(3951) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(3975) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5234) : warning C4244: '=' : conversion from 'int' to 
> 'USHORT', possible loss of data
> ../../../dbfcdx1.c(5369) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5369) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5394) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5394) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5581) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5581) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5586) : warning C4244: 'argument' : conversion from 'int' 
> to 'USHORT', possible loss of data
> ../../../dbfcdx1.c(5620) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5620) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5650) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(5650) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(6679) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(6679) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(6970) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(6970) : warning C4244: 'argument' : conversion from 
> 'USHORT' to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(7154) : warning C4244: '=' : conversion from 'int' to 
> 'BYTE', possible loss of data
> ../../../dbfcdx1.c(8801) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(8801) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(8978) : warning C4244: '-=' : conversion from 'int' to 
> 'SHORT', possible loss of data
> ../../../dbfcdx1.c(9069) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(9069) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(9115) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(9115) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(9374) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(9374) : warning C4244: 'argument' : conversion from 'int' 
> to 'BYTE', possible loss of data
> ../../../dbfcdx1.c(9819) : warning C4244: '=' : conversion from 'int' to 
> 'USHORT', possible loss of data
> cl.exe  -nologo -I. -I../../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- 
>  -MT    -Fosixcdx1.obj -c ../../../sixcdx1.c
> sixcdx1.c
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(415) : warning C4244: 
> '=' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(897) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(897) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(905) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(905) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(922) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(922) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(930) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(930) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(989) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(1637) : warning C4244: 
> '=' : conversion from 'int' to 'SHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(1648) : warning C4244: 
> '-=' : conversion from 'int' to 'SHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(1661) : warning C4244: 
> '=' : conversion from 'int' to 'SHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(1872) : warning C4244: 
> '=' : conversion from 'int' to 'USHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2095) : warning C4244: 
> '-=' : conversion from 'int' to 'SHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2172) : warning C4244: 
> '+=' : conversion from 'int' to 'SHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2295) : warning C4244: 
> '-=' : conversion from 'int' to 'SHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2773) : warning C4244: 
> '=' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2830) : warning C4244: 
> '=' : conversion from 'SHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2834) : warning C4244: 
> '=' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2885) : warning C4244: 
> '=' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3545) : warning C4244: 
> '=' : conversion from 'size_t' to 'USHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3546) : warning C4244: 
> '=' : conversion from 'size_t' to 'USHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3903) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3951) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3975) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5234) : warning C4244: 
> '=' : conversion from 'int' to 'USHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5369) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5369) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5394) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5394) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5581) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5581) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5586) : warning C4244: 
> 'argument' : conversion from 'int' to 'USHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5620) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5620) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5650) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5650) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(6679) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(6679) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(6970) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(6970) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(7154) : warning C4244: 
> '=' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(8801) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(8801) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(8978) : warning C4244: 
> '-=' : conversion from 'int' to 'SHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9069) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9069) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9115) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9115) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9374) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9374) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9757) : warning C4244: 
> '=' : conversion from 'int' to 'USHORT', possible loss of data
> cl.exe  -nologo -I. -I../../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- 
>  -MT    -Fosixcdx1_dyn.obj -DHB_DYNLIB -c ../../../sixcdx1.c
> sixcdx1.c
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(415) : warning C4244: 
> '=' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(897) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(897) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(905) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(905) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(922) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(922) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(930) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(930) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(989) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(1637) : warning C4244: 
> '=' : conversion from 'int' to 'SHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(1648) : warning C4244: 
> '-=' : conversion from 'int' to 'SHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(1661) : warning C4244: 
> '=' : conversion from 'int' to 'SHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(1872) : warning C4244: 
> '=' : conversion from 'int' to 'USHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2095) : warning C4244: 
> '-=' : conversion from 'int' to 'SHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2172) : warning C4244: 
> '+=' : conversion from 'int' to 'SHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2295) : warning C4244: 
> '-=' : conversion from 'int' to 'SHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2773) : warning C4244: 
> '=' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2830) : warning C4244: 
> '=' : conversion from 'SHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2834) : warning C4244: 
> '=' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(2885) : warning C4244: 
> '=' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3545) : warning C4244: 
> '=' : conversion from 'size_t' to 'USHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3546) : warning C4244: 
> '=' : conversion from 'size_t' to 'USHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3903) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3951) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(3975) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5234) : warning C4244: 
> '=' : conversion from 'int' to 'USHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5369) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5369) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5394) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5394) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5581) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5581) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5586) : warning C4244: 
> 'argument' : conversion from 'int' to 'USHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5620) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5620) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5650) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(5650) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(6679) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(6679) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(6970) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(6970) : warning C4244: 
> 'argument' : conversion from 'USHORT' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(7154) : warning C4244: 
> '=' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(8801) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(8801) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(8978) : warning C4244: 
> '-=' : conversion from 'int' to 'SHORT', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9069) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9069) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9115) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9115) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9374) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9374) : warning C4244: 
> 'argument' : conversion from 'int' to 'BYTE', possible loss of data
> d:\harbour\trunk\harbour\source\rdd\dbfcdx\dbfcdx1.c(9757) : warning C4244: 
> '=' : conversion from 'int' to 'USHORT', possible loss of data
> lib.exe   /nologo /out:../../../../../../lib/win/msvc/rddcdx.lib dbfcdx1.obj 
> sixcdx1.obj || del /q /f ../../../../../../lib/win/msvc/rddcdx.lib
> cl.exe  -nologo -I. -I../../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- 
>  -MT    -Fodbffpt1.obj -c ../../../dbffpt1.c
> dbffpt1.c
> ../../../dbffpt1.c(587) : warning C4244: '=' : conversion from 'int' to 
> 'USHORT', possible loss of data
> ../../../dbffpt1.c(628) : warning C4310: cast truncates constant value
> ../../../dbffpt1.c(1011) : warning C4310: cast truncates constant value
> ../../../dbffpt1.c(3618) : warning C4244: '=' : conversion from 'HB_FOFFSET' 
> to 'ULONG', possible loss of data
> ../../../dbffpt1.c(3875) : warning C4244: '=' : conversion from 'int' to 
> 'BYTE', possible loss of data
> ../../../dbffpt1.c(3905) : warning C4244: '=' : conversion from 'int' to 
> 'USHORT', possible loss of data
> ../../../dbffpt1.c(3918) : warning C4244: '=' : conversion from 'int' to 
> 'USHORT', possible loss of data
> ../../../dbffpt1.c(4439) : warning C4244: '=' : conversion from 'HB_FOFFSET' 
> to 'ULONG', possible loss of data
> ../../../dbffpt1.c(4773) : warning C4244: 'argument' : conversion from 'int' 
> to 'USHORT', possible loss of data
> ../../../dbffpt1.c(4788) : warning C4244: 'argument' : conversion from 'int' 
> to 'USHORT', possible loss of data
> ../../../dbffpt1.c(5057) : warning C4244: '=' : conversion from 'int' to 
> 'USHORT', possible loss of data
> ../../../dbffpt1.c(5133) : warning C4244: '=' : conversion from 'int' to 
> 'USHORT', possible loss of data
> cl.exe  -nologo -I. -I../../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- 
>  -MT    -Fodbffpt1_dyn.obj -DHB_DYNLIB -c ../../../dbffpt1.c
> dbffpt1.c
> ../../../dbffpt1.c(587) : warning C4244: '=' : conversion from 'int' to 
> 'USHORT', possible loss of data
> ../../../dbffpt1.c(628) : warning C4310: cast truncates constant value
> ../../../dbffpt1.c(1011) : warning C4310: cast truncates constant value
> ../../../dbffpt1.c(3618) : warning C4244: '=' : conversion from 'HB_FOFFSET' 
> to 'ULONG', possible loss of data
> ../../../dbffpt1.c(3875) : warning C4244: '=' : conversion from 'int' to 
> 'BYTE', possible loss of data
> ../../../dbffpt1.c(3905) : warning C4244: '=' : conversion from 'int' to 
> 'USHORT', possible loss of data
> ../../../dbffpt1.c(3918) : warning C4244: '=' : conversion from 'int' to 
> 'USHORT', possible loss of data
> ../../../dbffpt1.c(4439) : warning C4244: '=' : conversion from 'HB_FOFFSET' 
> to 'ULONG', possible loss of data
> ../../../dbffpt1.c(4773) : warning C4244: 'argument' : conversion from 'int' 
> to 'USHORT', possible loss of data
> ../../../dbffpt1.c(4788) : warning C4244: 'argument' : conversion from 'int' 
> to 'USHORT', possible loss of data
> ../../../dbffpt1.c(5057) : warning C4244: '=' : conversion from 'int' to 
> 'USHORT', possible loss of data
> ../../../dbffpt1.c(5133) : warning C4244: '=' : conversion from 'int' to 
> 'USHORT', possible loss of data
> lib.exe   /nologo /out:../../../../../../lib/win/msvc/rddfpt.lib dbffpt1.obj 
> || del /q /f ../../../../../../lib/win/msvc/rddfpt.lib
> cl.exe  -nologo -I. -I../../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 -EHs-c- 
>  -MT    -Fosxcompr.obj -c ../../../sxcompr.c
> sxcompr.c
>
> Best Regards,
> Itamar M. Lins Jr. 
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>   

From itamarlins at bol.com.br  Mon Aug 17 16:09:28 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Mon Aug 17 16:11:25 2009
Subject: [Harbour] Re: GPF oemtoansi()
References: <h6ccgh$889$1@ger.gmane.org>
	<20090817200647.GA16783@uran.home.aster.pl>
Message-ID: <h6cdg0$ce5$1@ger.gmane.org>

Best way hbmk2 inform oemtoansi() not found. Because hbmk2 compile fine now 
show error, is not my function. HB_ prefix resolve the problem.

Best Regards,
Itamar M. Lins Jr.

"Przemyslaw Czerpak" <druzus@acn.waw.pl> 
escreveu na mensagem news:20090817200647.GA16783@uran.home.aster.pl...
> On Mon, 17 Aug 2009, Itamar Lins wrote:
>
> Hi,
>
>>  $Id: ChangeLog 12153 2009-08-17 18:02:30Z vszakats $
>> With MSVC, OS Windows XP SP3.
>> Function Main
>> ? oemtoansi(cmonth(date())) //I Get GPF.
>
> Harbour does not have OEMTOANSI() function so it's not our problem.
>
> best regards,
> Przemek 



From druzus at acn.waw.pl  Mon Aug 17 16:15:18 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 16:15:25 2009
Subject: [Harbour] Warnings with msvc.
In-Reply-To: <4A89B8CA.3030005@gmail.com>
References: <h6c9o7$uvj$1@ger.gmane.org> <4A89B8CA.3030005@gmail.com>
Message-ID: <20090817201518.GA27107@uran.home.aster.pl>

On Mon, 17 Aug 2009, Lautaro Moreira wrote:
> Hi !
> I have the same warnings.
> This is normal ???

Yes it is.
I hope that Viktor reduce warning level before someone starts mechanical
warning cleanup hiding real bugs and introducing very serious problem
for types modification in the future.

best regards,
Przemek
From itamarlins at bol.com.br  Mon Aug 17 16:19:20 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Mon Aug 17 16:21:11 2009
Subject: [Harbour] Re: GPF oemtoansi()
References: <h6ccgh$889$1@ger.gmane.org>
	<10E3EB6D-F4B2-4EE3-B239-892B949BD2F5@syenar.hu>
Message-ID: <h6ce2g$fs6$1@ger.gmane.org>

I found the problem.
Colision again Hwgui function.
Piece of code hwgui\source\drawtext.c

#ifndef __XHARBOUR__

HB_FUNC( OEMTOANSI )
{
   char *buffer = hb_parc( 1 );
   OemToChar( buffer, buffer );
   hb_retc( buffer );
}

HB_FUNC( ANSITOOEM )
{
   char *buffer = hb_parc( 1 );
   CharToOem( buffer, buffer );
   hb_retc( buffer );
}
#else
HB_FUNC( OEMTOANSI )
{
   PHB_ITEM pString = hb_param( 1, HB_IT_STRING );

   if( pString )
   {
      DWORD ulLen = pString->item.asString.length;
      char *pszDst = ( char * ) hb_xgrab( ulLen + 1 );

      OemToCharBuff( ( LPCSTR ) pString->item.asString.value,
            ( LPSTR ) pszDst, ulLen );

      hb_retclenAdopt( pszDst, ulLen );
   }
   else
   {
      hb_retc( "" );
   }
}

HB_FUNC( ANSITOOEM )
{

   PHB_ITEM pString = hb_param( 1, HB_IT_STRING );
   if( pString )

   {
      DWORD ulLen = pString->item.asString.length;
      char *pszDst = ( char * ) hb_xgrab( ulLen + 1 );

      CharToOemBuff( ( LPCSTR ) pString->item.asString.value,
            ( LPSTR ) pszDst, ulLen );

      hb_retclenAdopt( pszDst, ulLen );
   }
   else
   {
      hb_retc( "" );
   }
}
#endif

Thanks and advance,
Itamar M. Lins Jr.




From lautaro.moreira at gmail.com  Mon Aug 17 16:21:35 2009
From: lautaro.moreira at gmail.com (Lautaro Moreira)
Date: Mon Aug 17 16:21:45 2009
Subject: [Harbour] Warnings with msvc.
In-Reply-To: <20090817201518.GA27107@uran.home.aster.pl>
References: <h6c9o7$uvj$1@ger.gmane.org> <4A89B8CA.3030005@gmail.com>
	<20090817201518.GA27107@uran.home.aster.pl>
Message-ID: <4A89BBCF.5070702@gmail.com>

Ok,

Thanks for your answer.

Atte.,

Lautaro

Przemyslaw Czerpak escribi?:
> On Mon, 17 Aug 2009, Lautaro Moreira wrote:
>   
>> Hi !
>> I have the same warnings.
>> This is normal ???
>>     
>
> Yes it is.
> I hope that Viktor reduce warning level before someone starts mechanical
> warning cleanup hiding real bugs and introducing very serious problem
> for types modification in the future.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>   

From druzus at acn.waw.pl  Mon Aug 17 16:25:08 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 16:25:14 2009
Subject: [Harbour] Re: GPF oemtoansi()
In-Reply-To: <h6cdg0$ce5$1@ger.gmane.org>
References: <h6ccgh$889$1@ger.gmane.org>
	<20090817200647.GA16783@uran.home.aster.pl>
	<h6cdg0$ce5$1@ger.gmane.org>
Message-ID: <20090817202508.GA30843@uran.home.aster.pl>

On Mon, 17 Aug 2009, Itamar Lins wrote:
> Best way hbmk2 inform oemtoansi() not found. Because hbmk2 compile fine now 
> show error, is not my function. HB_ prefix resolve the problem.

1-st it's not hbmk2 job but used linker which is called by hbmk2.
HBMK2 cannot have such functionality.
2-nd AFAIK supported by us linkers perfectly informs about 
insufficient dependencies. If you found one which does not generate
error or at least warning and creates buggy binaries then please
inform us about it and we add to documentation that such C compiler/linker
should not be used with Harbour.
But please verify it 1-st by compiling and linking this code:
   proc main()
      ? my_oemtoAnsiFunc()
   return
I only guess but I think you created the problem yourself by using
some 3-rd party library which has broken OEMTOANSI() function.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Aug 17 16:29:39 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 16:29:47 2009
Subject: [Harbour] Warnings with msvc.
In-Reply-To: <20090817201518.GA27107@uran.home.aster.pl>
References: <h6c9o7$uvj$1@ger.gmane.org> <4A89B8CA.3030005@gmail.com>
	<20090817201518.GA27107@uran.home.aster.pl>
Message-ID: <B9BB6A25-147F-46CA-9BA0-672C8940AD79@syenar.hu>

> On Mon, 17 Aug 2009, Lautaro Moreira wrote:
>> Hi !
>> I have the same warnings.
>> This is normal ???
>
> Yes it is.
> I hope that Viktor reduce warning level before someone starts  
> mechanical
> warning cleanup hiding real bugs and introducing very serious problem
> for types modification in the future.

A rather hope these warnings will be fixed eventually.

There has been a good reduction after recent type cleanup in GT.
The rest is mostly in RDD which I wouldn't dare to touch, plus
the various length types used alongside Harbour code (especially
apparent in 64-bit mode). I did various proposals to length
cleanup, so far with no answer, but I hope we can agree on
something in the future. IMO it would be very important.

For sure blind casting to suppress these warnings isn't the
solution, so it mustn't be done.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug 17 16:33:21 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 16:33:27 2009
Subject: [Harbour] Re: GPF oemtoansi()
In-Reply-To: <h6ce2g$fs6$1@ger.gmane.org>
References: <h6ccgh$889$1@ger.gmane.org>
	<10E3EB6D-F4B2-4EE3-B239-892B949BD2F5@syenar.hu>
	<h6ce2g$fs6$1@ger.gmane.org>
Message-ID: <20090817203321.GA7667@uran.home.aster.pl>

On Mon, 17 Aug 2009, Itamar Lins wrote:
> I found the problem.
> Colision again Hwgui function.
> Piece of code hwgui\source\drawtext.c
> #ifndef __XHARBOUR__
> HB_FUNC( OEMTOANSI )
> {
>    char *buffer = hb_parc( 1 );
>    OemToChar( buffer, buffer );
>    hb_retc( buffer );
> }
> HB_FUNC( ANSITOOEM )
> {
>    char *buffer = hb_parc( 1 );
>    CharToOem( buffer, buffer );
>    hb_retc( buffer );
> }
> #else
> HB_FUNC( OEMTOANSI )
> {
>    PHB_ITEM pString = hb_param( 1, HB_IT_STRING );
> 
>    if( pString )
>    {
>       DWORD ulLen = pString->item.asString.length;
>       char *pszDst = ( char * ) hb_xgrab( ulLen + 1 );
> 
>       OemToCharBuff( ( LPCSTR ) pString->item.asString.value,
>             ( LPSTR ) pszDst, ulLen );
> 
>       hb_retclenAdopt( pszDst, ulLen );
>    }
>    else
>    {
>       hb_retc( "" );
>    }
> }
> HB_FUNC( ANSITOOEM )
> {
>    PHB_ITEM pString = hb_param( 1, HB_IT_STRING );
>    if( pString )
> 
>    {
>       DWORD ulLen = pString->item.asString.length;
>       char *pszDst = ( char * ) hb_xgrab( ulLen + 1 );
> 
>       CharToOemBuff( ( LPCSTR ) pString->item.asString.value,
>             ( LPSTR ) pszDst, ulLen );
> 
>       hb_retclenAdopt( pszDst, ulLen );
>    }
>    else
>    {
>       hb_retc( "" );
>    }
> }
> #endif

Both Harbour and xHarbour version of above functions are broken.
Use for this code instead:

   HB_FUNC_EXTERN( HB_OEMTOANSI );
   HB_FUNC_EXTERN( HB_ANSITOOEM );

   HB_FUNC( OEMTOANSI )
   {
      HB_FUNC_EXEC( HB_OEMTOANSI );
   }
   HB_FUNC( ANSITOOEM )
   {
      HB_FUNC_EXEC( HB_ANSITOOEM );
   }

for both compilers. It will fix also UNICODE build problems.

best regards,
Przemek
From itamarlins at bol.com.br  Mon Aug 17 16:36:42 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Mon Aug 17 16:38:29 2009
Subject: [Harbour] Re: Re: GPF oemtoansi()
References: <h6ccgh$889$1@ger.gmane.org><20090817200647.GA16783@uran.home.aster.pl><h6cdg0$ce5$1@ger.gmane.org>
	<20090817202508.GA30843@uran.home.aster.pl>
Message-ID: <h6cf33$lu0$1@ger.gmane.org>


"Przemyslaw Czerpak" <druzus@acn.waw.pl> 
escreveu na mensagem news:20090817202508.GA30843@uran.home.aster.pl...
> On Mon, 17 Aug 2009, Itamar Lins wrote:
>> Best way hbmk2 inform oemtoansi() not found. Because hbmk2 compile fine 
>> now
>> show error, is not my function. HB_ prefix resolve the problem.
>
> 1-st it's not hbmk2 job but used linker which is called by hbmk2.
> HBMK2 cannot have such functionality.
Yes, I know. My GPF, fault memory ;-)  many busy.

> 2-nd AFAIK supported by us linkers perfectly informs about
> insufficient dependencies. If you found one which does not generate
> error or at least warning and creates buggy binaries then please
> inform us about it and we add to documentation that such C compiler/linker
> should not be used with Harbour.
> But please verify it 1-st by compiling and linking this code:
>   proc main()
>      ? my_oemtoAnsiFunc()
>   return
> I only guess but I think you created the problem yourself by using
> some 3-rd party library which has broken OEMTOANSI() function.
>
> best regards,
> Przemek
I found the problem in Hwgui library.
Thanks for response.

Best Regards,
Itamar M. Lins Jr. 



From vszakats at users.sourceforge.net  Mon Aug 17 16:49:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 17 16:49:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12155] trunk/harbour
Message-ID: <E1Md98r-0005XJ-GV@74yxhf1.ch3.sourceforge.com>

Revision: 12155
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12155&view=rev
Author:   vszakats
Date:     2009-08-17 20:49:20 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-17 22:47 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    ! Fixed previous commit after actual testing.
      Now wce cross build on linux works by simply setting HB_CCPATH
      and issuing 'make'.
    ; TODO: Extend above logic to other *nix platforms.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Aug 17 17:22:22 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 17:22:28 2009
Subject: [Harbour] xhb.ch
Message-ID: <20090817212222.GA15267@uran.home.aster.pl>

Hi Viktor,

We have in xhb.ch:

   #xtranslate __Keyboard([<x,...>])           => xhb__Keyboard(<x>)
   #xtranslate __CopyFile([<x,...>])           => xhb_CopyFile(<x>)

   #xtranslate Subscribe( <x,...> )            => xhb_mutexSubscribe( <x> )
   #xtranslate SubscribeNow( <x,...> )         => xhb_mutexSubscribeNow( <x> )
   #xtranslate StartThread( <x,...> )          => xhb_startThread( <x> )

I understand why we have 1-st two PP rules (it's name conflict between
core functions) but why we have the last 3 ones?

We do not used to clean name space adding different xHarbour functions
to XHB library so why above three functions are exception?
I would like to remove them and rename functions in xhbmk.prg with
some other cleanup.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Aug 17 17:31:32 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 17:31:41 2009
Subject: [Harbour] xhb.ch
In-Reply-To: <20090817212222.GA15267@uran.home.aster.pl>
References: <20090817212222.GA15267@uran.home.aster.pl>
Message-ID: <A40172A0-35F3-4CB9-9181-F778D10EE5B2@syenar.hu>

Hi Przemek,

> Hi Viktor,
>
> We have in xhb.ch:
>
>   #xtranslate __Keyboard([<x,...>])           => xhb__Keyboard(<x>)
>   #xtranslate __CopyFile([<x,...>])           => xhb_CopyFile(<x>)
>
>   #xtranslate Subscribe( <x,...> )            =>  
> xhb_mutexSubscribe( <x> )
>   #xtranslate SubscribeNow( <x,...> )         =>  
> xhb_mutexSubscribeNow( <x> )
>   #xtranslate StartThread( <x,...> )          =>  
> xhb_startThread( <x> )
>
> I understand why we have 1-st two PP rules (it's name conflict between
> core functions) but why we have the last 3 ones?
>
> We do not used to clean name space adding different xHarbour functions
> to XHB library so why above three functions are exception?
> I would like to remove them and rename functions in xhbmk.prg with
> some other cleanup.

Well, you're right. I think I just automatically applied the
general logic to these function names too, without giving it
extra thought. (speaking of the last 3 ones that is).

Please do it.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 17 18:35:55 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 18:36:02 2009
Subject: [Harbour] typo in make_gnu_xmingw.sh?
Message-ID: <27C9E5FB-2F0F-4253-8553-B3141874E7BA@syenar.hu>

Hi Phil, Przemek,

In line 47 TARGET is set to 'i386-mingw32msvc', but the
check is made for 'i386-mingw32-gcc' before. This
is so since very long, but I wonder if 'msvc' ending in
line 47 is just a (copy-past) typo?

Brgds,
Viktor

From druzus at users.sourceforge.net  Mon Aug 17 19:29:16 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 17 19:29:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12156] trunk/harbour
Message-ID: <E1MdBdc-0000V7-3F@74yxhf1.ch3.sourceforge.com>

Revision: 12156
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12156&view=rev
Author:   druzus
Date:     2009-08-17 23:29:15 +0000 (Mon, 17 Aug 2009)

Log Message:
-----------
2009-08-18 01:29 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/xhb/xhbmt.prg
    * renamed: xhb_StartThread() => StartThread(),
      xhb_mutexSubscribe() => Subscribe(),
      xhb_mutexSubscribeNow() => SubscribeNow()
    ! fixed timeout parameter used in Subscribe[Now]()
      Harbour uses seconds and xHarbour milliseconds
    + added xHarbour compatible MT functions:
         hb_MultiThread(), GetCurrentThread(), GetThreadId( pThID ),
         ThreadGetCurrentInternal(), IsSameThread( pThID1, pThID2 ),
         IsValidThread( pThID ), JoinThread( pThID ), KillThread( pThID ),
         StopThread( pThID ), KillAllThreads(), WaitForThreads(),
         ThreadSleep( nTimeOut ), DestroyMutex( mtx ),
         hb_MutexTryLock( mtx ), hb_MutexTimeOutLock( mtx, nTimeOut ),
         Notify( mtx, xVal ), NotifyAll( mtx, xVal ),
         ThreadGetCurrent(), GetSystemThreadId( pThID )

  * harbour/contrib/xhb/xhb.ch
    * removed not longer necessary translation rules

  * harbour/contrib/xhb/hbcompat.ch
    + added missing translation rules for MT functions for both Harbour
      and xHarbour sections.
      Please synchronize this file with xHarbour.
      It's enough to copy it to xHarbour CVS - it should also fix some
      problems reported by xHarbour users on comp.lang.xharbour

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/hbcompat.ch
    trunk/harbour/contrib/xhb/xhb.ch
    trunk/harbour/contrib/xhb/xhbmt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Aug 17 19:52:51 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 17 19:52:57 2009
Subject: [Harbour] typo in make_gnu_xmingw.sh?
In-Reply-To: <27C9E5FB-2F0F-4253-8553-B3141874E7BA@syenar.hu>
References: <27C9E5FB-2F0F-4253-8553-B3141874E7BA@syenar.hu>
Message-ID: <20090817235251.GA28673@uran.home.aster.pl>

On Tue, 18 Aug 2009, Szak?ts Viktor wrote:
> In line 47 TARGET is set to 'i386-mingw32msvc', but the
> check is made for 'i386-mingw32-gcc' before. This
> is so since very long, but I wonder if 'msvc' ending in
> line 47 is just a (copy-past) typo?

Looks like a typo but don't ask me about correct version.
I commited this code:
    if [ -x /opt/xmingw/bin/i386-mingw32-gcc ]; then
        MINGW_PREFIX=/opt/xmingw
        [ -n "$TARGET" ] || TARGET=i386-mingw32msvc
    else

but I do not use Gentoo Linux and it does not comes from xHarbour
so probably it's result of some user request I hadn't verified
but simply copied as is. My fault and I do not remember why
I added it :-(
Anyhow autodetection at line 69 overwrites above settings if they
are wrong.

best regards,
Przemek
From april_white at sympatico.ca  Mon Aug 17 20:13:45 2009
From: april_white at sympatico.ca (April White)
Date: Mon Aug 17 20:13:53 2009
Subject: [Harbour] Platforms
In-Reply-To: <BFC50F83-3CA0-4597-8F8C-139F672528A3@syenar.hu>
References: <BLU0-SMTP265110567CECC32D7E2FE8EF000@phx.gbl>
	<BFC50F83-3CA0-4597-8F8C-139F672528A3@syenar.hu>
Message-ID: <BLU0-SMTP1370EDCF3814DE95468434EFFF0@phx.gbl>

Thank you everyone for your thoughts on this.

I dont think we want to introduce a $COMPILER$ section within the 
documentation files.

I can rename the $PLATFORM$ section to $ARCHITECTURE$, unless there is a 
more suitable choice.

For now I'll stick with $PLATFORM$; I'm programming a list of accepted 
values, though I'm also leaning toward have the list of these 
dynamically built from the config folder.

April
>> (April) I've gleaned this list of OS from the source:
>>
>> BSD
>> DARWIN
>> DOS
>> HPUX
>> LINUX
>> OS2
>> SUNOS
>> UNIX
>> WIN
>> WIN_64
>> WIN_CE
>>
>> The document files have sections called 'PLATFORMS' however I've seen 
>> the term 'platform' used in reference to a compiler.
>>
>> My questions to the group are:
>>
>> - is the list of currently recognized OS
> ...
>> - is the term 'PLATFORM' synonymous with 'OS'
>> - is the term 'PLATFORM' in reference to/relation to a compiler the 
>> wrong term?
> (Viktor Szak?ts wrote:) That's a though one, we use wrong terms many 
> times in Harbour
> and even that not very consistently. We use OS, PLATFORM and
> ARCHITECTURE to refer to operating system. IMO OS is OS,
> ARCHITECTURE should better be named CPU (or something analogous).
> PLATFORM is about okay, although it's not precise.
> ...
> (Viktor Szak?ts wrote:) [ BTW I plan to continue cleanup of these term 
> internally, so
> it's possible that ARCH will be changed to something else, if
> less users will depend on this settings. ]
-- 
Never buy a car you can't push.

From harbour.01 at syenar.hu  Mon Aug 17 20:34:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 20:34:56 2009
Subject: [Harbour] Platforms
In-Reply-To: <BLU0-SMTP1370EDCF3814DE95468434EFFF0@phx.gbl>
References: <BLU0-SMTP265110567CECC32D7E2FE8EF000@phx.gbl>
	<BFC50F83-3CA0-4597-8F8C-139F672528A3@syenar.hu>
	<BLU0-SMTP1370EDCF3814DE95468434EFFF0@phx.gbl>
Message-ID: <C43F6C43-EBF8-4019-BAFD-8A48D3A9E550@syenar.hu>

> Thank you everyone for your thoughts on this.
>
> I dont think we want to introduce a $COMPILER$ section within the  
> documentation files.

You're right. If we offer support for a given compiler,
all language features should work with it exactly like
with other compilers. This is true for both core Harbour
and any reasonable libs (like our contribs). In case of
a rare exception, this information can be added in some
existing textual section. A separate section dealing with
this is for sure overkill.

[ It's also however that a compiler isn't supported *at all*
for a contrib/lib. Such information can be included in per
contrib doc intro section. ]

> I can rename the $PLATFORM$ section to $ARCHITECTURE$, unless there  
> is a more suitable choice.
>
> For now I'll stick with $PLATFORM$; I'm programming a list of  
> accepted values, though I'm also leaning toward have the list of  
> these dynamically built from the config folder.

$PLATFORM$ is fine here.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 17 20:35:10 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 17 20:35:17 2009
Subject: [Harbour] typo in make_gnu_xmingw.sh?
In-Reply-To: <20090817235251.GA28673@uran.home.aster.pl>
References: <27C9E5FB-2F0F-4253-8553-B3141874E7BA@syenar.hu>
	<20090817235251.GA28673@uran.home.aster.pl>
Message-ID: <6F98EE8E-4CED-4B52-BA14-45EDB721B67E@syenar.hu>

> On Tue, 18 Aug 2009, Szak?ts Viktor wrote:
>> In line 47 TARGET is set to 'i386-mingw32msvc', but the
>> check is made for 'i386-mingw32-gcc' before. This
>> is so since very long, but I wonder if 'msvc' ending in
>> line 47 is just a (copy-past) typo?
>
> Looks like a typo but don't ask me about correct version.
> I commited this code:
>    if [ -x /opt/xmingw/bin/i386-mingw32-gcc ]; then
>        MINGW_PREFIX=/opt/xmingw
>        [ -n "$TARGET" ] || TARGET=i386-mingw32msvc
>    else
>
> but I do not use Gentoo Linux and it does not comes from xHarbour
> so probably it's result of some user request I hadn't verified
> but simply copied as is. My fault and I do not remember why
> I added it :-(
> Anyhow autodetection at line 69 overwrites above settings if they
> are wrong.

Maybe it'd be enough to have the generic detection version.
Although that is a little bit more complicated (not really
complicated just not terribly elegant and not as generic)
to implement in GNU Make, which I'm trying to do just right now.

Brgds,
Viktor

From phil at newstar.rinet.ru  Tue Aug 18 02:29:23 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Tue Aug 18 02:29:50 2009
Subject: [Harbour] typo in make_gnu_xmingw.sh?
In-Reply-To: <6F98EE8E-4CED-4B52-BA14-45EDB721B67E@syenar.hu>
References: <27C9E5FB-2F0F-4253-8553-B3141874E7BA@syenar.hu> 
	<20090817235251.GA28673@uran.home.aster.pl>
	<6F98EE8E-4CED-4B52-BA14-45EDB721B67E@syenar.hu>
Message-ID: <c10dbf450908172329j6443ade4nd2ce1c73e2cbaf13@mail.gmail.com>

On Tue, Aug 18, 2009 at 4:35 AM, Viktor Szak?ts<harbour.01@syenar.hu> wrote:
>> On Tue, 18 Aug 2009, Szak?ts Viktor wrote:
>>>
>>> In line 47 TARGET is set to 'i386-mingw32msvc', but the
>>> check is made for 'i386-mingw32-gcc' before. This
>>> is so since very long, but I wonder if 'msvc' ending in
>>> line 47 is just a (copy-past) typo?

I committed it unintentionally. the correct default should be i386-mingw32.

-- Ph.
From likewolf at users.sourceforge.net  Tue Aug 18 02:44:23 2009
From: likewolf at users.sourceforge.net (likewolf@users.sourceforge.net)
Date: Tue Aug 18 02:44:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12157] trunk/harbour
Message-ID: <E1MdIQh-0008TG-R7@74yxhf1.ch3.sourceforge.com>

Revision: 12157
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12157&view=rev
Author:   likewolf
Date:     2009-08-18 06:44:22 +0000 (Tue, 18 Aug 2009)

Log Message:
-----------
2009-08-18 10:44 UTC+0300 Phil Krylov <phil@newstar.rinet.ru>
  * make_gnu_xmingw.sh
    ! Fixed the check for old mingw cross-compiler versions under Gentoo.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/make_gnu_xmingw.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From phil at newstar.rinet.ru  Tue Aug 18 02:44:42 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Tue Aug 18 02:45:09 2009
Subject: [Harbour] typo in make_gnu_xmingw.sh?
In-Reply-To: <c10dbf450908172329j6443ade4nd2ce1c73e2cbaf13@mail.gmail.com>
References: <27C9E5FB-2F0F-4253-8553-B3141874E7BA@syenar.hu> 
	<20090817235251.GA28673@uran.home.aster.pl>
	<6F98EE8E-4CED-4B52-BA14-45EDB721B67E@syenar.hu> 
	<c10dbf450908172329j6443ade4nd2ce1c73e2cbaf13@mail.gmail.com>
Message-ID: <c10dbf450908172344m61078781i8d25c7ebbce73cc5@mail.gmail.com>

On Tue, Aug 18, 2009 at 10:29 AM, Phil Krylov<phil@newstar.rinet.ru> wrote:
> On Tue, Aug 18, 2009 at 4:35 AM, Viktor Szak?ts<harbour.01@syenar.hu> wrote:
>>> On Tue, 18 Aug 2009, Szak?ts Viktor wrote:
>>>>
>>>> In line 47 TARGET is set to 'i386-mingw32msvc', but the
>>>> check is made for 'i386-mingw32-gcc' before. This
>>>> is so since very long, but I wonder if 'msvc' ending in
>>>> line 47 is just a (copy-past) typo?
>
> I committed it unintentionally. the correct default should be i386-mingw32.

Sorry. The check is wrong, the default is right. Committed.

-- Ph.
From harbour.01 at syenar.hu  Tue Aug 18 03:20:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 18 03:20:10 2009
Subject: [Harbour] typo in make_gnu_xmingw.sh?
In-Reply-To: <c10dbf450908172344m61078781i8d25c7ebbce73cc5@mail.gmail.com>
References: <27C9E5FB-2F0F-4253-8553-B3141874E7BA@syenar.hu>
	<20090817235251.GA28673@uran.home.aster.pl>
	<6F98EE8E-4CED-4B52-BA14-45EDB721B67E@syenar.hu>
	<c10dbf450908172329j6443ade4nd2ce1c73e2cbaf13@mail.gmail.com>
	<c10dbf450908172344m61078781i8d25c7ebbce73cc5@mail.gmail.com>
Message-ID: <068A7877-CF68-4895-AE28-EF77E64EFF30@syenar.hu>

Thank you Phil.

Brgds,
Viktor

On 2009.08.18., at 8:44, Phil Krylov wrote:

> On Tue, Aug 18, 2009 at 10:29 AM, Phil Krylov<phil@newstar.rinet.ru>  
> wrote:
>> On Tue, Aug 18, 2009 at 4:35 AM, Viktor Szak?ts<harbour. 
>> 01@syenar.hu> wrote:
>>>> On Tue, 18 Aug 2009, Szak?ts Viktor wrote:
>>>>>
>>>>> In line 47 TARGET is set to 'i386-mingw32msvc', but the
>>>>> check is made for 'i386-mingw32-gcc' before. This
>>>>> is so since very long, but I wonder if 'msvc' ending in
>>>>> line 47 is just a (copy-past) typo?
>>
>> I committed it unintentionally. the correct default should be i386- 
>> mingw32.
>
> Sorry. The check is wrong, the default is right. Committed.
>
> -- Ph.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From kadziola at tlen.pl  Tue Aug 18 04:10:13 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Tue Aug 18 04:10:24 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <20090817172751.GA17468@uran.home.aster.pl>
References: <20090814120358.GA25802@uran.home.aster.pl>
	<1103015677.20090814143145@tlen.pl>
	<20090814125427.GA1160@uran.home.aster.pl>
	<162593182.20090814191923@tlen.pl>
	<20090814173643.GA30218@uran.home.aster.pl>
	<1218769846.20090814223723@tlen.pl>
	<20090817115050.GF17616@uran.home.aster.pl>
	<1733982103.20090817182622@tlen.pl>
	<20090817164306.GA12830@uran.home.aster.pl>
	<883378730.20090817185905@tlen.pl>
	<20090817172751.GA17468@uran.home.aster.pl>
Message-ID: <1445568238.20090818101013@tlen.pl>

Hi,

W li?cie datowanym 17 sierpnia 2009 (19:27:52) mo?na przeczyta?:

PC> [poniedzia?ek, 17 sierpie? 2009], Jaroslaw Kadziola napisa3(a):

PC>    /*** myprg1.prg ***/
PC>    proc main()
PC>       hb_run( hb_dirBase() + "myprg2.exe" )
PC>    return

PC>    /*** myprg2.prg ***/
PC>    proc main( ... )
PC>       ? hb_valToExp( { ... } )
PC>       wait
PC>    return

PC> please try to recompile Harbour for WinCE with small patch I'll
PC> commit in a while and then try to make test for passing parameters.

After recompile Harbour for WinCE and compile 2 programs:

   /*** myprg1.prg ***/
   proc main()
    AltD()  
    yy=hb_run("\myprg2.exe" )
   return

  /*** myprg2.prg ***/
   proc main( ... )
      Alert(hb_valToExp( { ... } ))
   return

then run myprg1.exe from '\' directory

i've got on screen : --------
                     |  {}  |
                     |  OK  |
                     --------
(empty array,yy=0)

                     
___
Regards,
 Jaroslaw Kadziola

From vszakats at users.sourceforge.net  Tue Aug 18 04:20:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 18 04:20:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12158] trunk/harbour
Message-ID: <E1MdJvV-00074V-9z@bj8yhf1.ch3.sourceforge.com>

Revision: 12158
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12158&view=rev
Author:   vszakats
Date:     2009-08-18 08:20:16 +0000 (Tue, 18 Aug 2009)

Log Message:
-----------
2009-08-17 10:15 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    + Implemented win/mingw cross-tool autodetection.
      Based on the logic found in make_gnu_xmingwce.sh. It's not
      exactly the same, because I used HB_CCPATH and HB_CCPREFIX
      only. There is no fiddling with the PATH f.e. This may cause
      problems on some systems, but I couldn't understand the intent
      behind every logic (and host environments) in the old script.
      F.e. I left out dealing with 'TARGET' variable completely,
      including just recently added manual override. If they are
      needed with the new system, hopefully we can implement it in
      some ways.
      Please test. If this works out good, the two launcher scripts
      are no longer necessary.
    * Changed the way wce cross-builds are initiated. From now on
      HB_ARCHITECTURE needs to be set to wce in this case.
      For win targets, it needs to be set to win.
      So basically, to launch a win build on Linux you need to type:
         make HB_ARCHITECTURE=win
         (optionally you may set HB_CCPREFIX and HB_CCPATH (before make)
         to your liking, if the tool autodetection doesn't work)
      For wce builds, use:
         export HB_CCPATH=...
         make HB_ARCHITECTURE=wce

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Aug 18 04:23:37 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 18 04:23:43 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <1445568238.20090818101013@tlen.pl>
References: <20090814125427.GA1160@uran.home.aster.pl>
	<162593182.20090814191923@tlen.pl>
	<20090814173643.GA30218@uran.home.aster.pl>
	<1218769846.20090814223723@tlen.pl>
	<20090817115050.GF17616@uran.home.aster.pl>
	<1733982103.20090817182622@tlen.pl>
	<20090817164306.GA12830@uran.home.aster.pl>
	<883378730.20090817185905@tlen.pl>
	<20090817172751.GA17468@uran.home.aster.pl>
	<1445568238.20090818101013@tlen.pl>
Message-ID: <20090818082337.GA5756@uran.home.aster.pl>

[wtorek, 18 sierpieï¿½ 2009], Jaroslaw Kadziola napisa³(a):

Hi,

> After recompile Harbour for WinCE and compile 2 programs:
> 
>    /*** myprg1.prg ***/
>    proc main()
>     AltD()  
>     yy=hb_run("\myprg2.exe" )
>    return
> 
>   /*** myprg2.prg ***/
>    proc main( ... )
>       Alert(hb_valToExp( { ... } ))
>    return
> 
> then run myprg1.exe from '\' directory
> 
> i've got on screen : --------
>                      |  {}  |
>                      |  OK  |
>                      --------
> (empty array,yy=0)

Thank you very much.

yy is always 0 - we have to hardcoded this value because there is
no way to check other process results at least using standard Win API.
Can you also try the results for:

   /*** myprg1.prg ***/
   proc main()
     AltD()  
     yy=hb_run("\myprg2.exe \myprg2.exe par2 par3" )
   return

I hope this is the last test.
BTW did you have any problems with hb_dirbase() in WinCE?

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Aug 18 04:42:37 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 18 04:42:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12159] trunk/harbour
Message-ID: <E1MdKH7-0006FO-E4@c3vjzd1.ch3.sourceforge.com>

Revision: 12159
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12159&view=rev
Author:   vszakats
Date:     2009-08-18 08:42:36 +0000 (Tue, 18 Aug 2009)

Log Message:
-----------
2009-08-17 10:38 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/wce/poccarm.mk
  * config/wce/msvcarm.mk
  * config/win/xcc.mk
  * config/win/pocc.mk
  * config/win/bcc.mk
  * config/win/watcom.mk
  * config/win/icc.mk
  * config/win/msvc.mk
  * config/rules.mk
    + Made dynamic compilation pass a little bit more generic.
      Now HB_DYN_COPT variable should be set to the switch(es) which
      are used in this pass. This will automatically enable the
      dynamic compilation pass. F.e. for *nix/gcc compilers it can
      be set to -fPIC.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/rules.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/config/win/icc.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/config/win/pocc.mk
    trunk/harbour/config/win/watcom.mk
    trunk/harbour/config/win/xcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From kadziola at tlen.pl  Tue Aug 18 05:19:01 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Tue Aug 18 05:19:06 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <20090818082337.GA5756@uran.home.aster.pl>
References: <20090814125427.GA1160@uran.home.aster.pl>
	<162593182.20090814191923@tlen.pl>
	<20090814173643.GA30218@uran.home.aster.pl>
	<1218769846.20090814223723@tlen.pl>
	<20090817115050.GF17616@uran.home.aster.pl>
	<1733982103.20090817182622@tlen.pl>
	<20090817164306.GA12830@uran.home.aster.pl>
	<883378730.20090817185905@tlen.pl>
	<20090817172751.GA17468@uran.home.aster.pl>
	<1445568238.20090818101013@tlen.pl>
	<20090818082337.GA5756@uran.home.aster.pl>
Message-ID: <903355446.20090818111901@tlen.pl>

Hi,

W li?cie datowanym 18 sierpnia 2009 (10:23:37) mo?na przeczyta?:

PC> [wtorek, 18 sierpie? 2009], Jaroslaw Kadziola napisa3(a):

PC> Hi,

>> After recompile Harbour for WinCE and compile 2 programs:
>> 
>>    /*** myprg1.prg ***/
>>    proc main()
>>     AltD()  
>>     yy=hb_run("\myprg2.exe" )
>>    return
>> 
>>   /*** myprg2.prg ***/
>>    proc main( ... )
>>       Alert(hb_valToExp( { ... } ))
>>    return
>> 
>> then run myprg1.exe from '\' directory
>> 
>> i've got on screen : --------
>>                      |  {}  |
>>                      |  OK  |
>>                      --------
>> (empty array,yy=0)

PC> Thank you very much.

PC> yy is always 0 - we have to hardcoded this value because there is
PC> no way to check other process results at least using standard Win API.
PC> Can you also try the results for:

PC>    /*** myprg1.prg ***/
PC>    proc main()
PC>      AltD()  
PC>      yy=hb_run("\myprg2.exe \myprg2.exe par2 par3" )
PC>    return


Done

   /*** myprg1.prg ***/
   proc main()
    AltD()  
    yy=hb_run("\myprg2.exe par1 par2" )
   return

i've got on screen : ---------------------
                     |  {"par1","par2"}  |
                     |         OK        |
                     ---------------------

PC> BTW did you have any problems with hb_dirbase() in WinCE?

Not tested

BTW : is any chance to build simple GUI application using harbour contribs ?
Like hbQt or hbxbp ? At present harbour for WinCE is good only for
tests (i.e. fonts are not visible for user, boxes and frames are not
correclly displaying etc.,etc.). My dream is simple harbour application for
WinCE  - now i must run clipper app under PocketDOS and how it is
known emulation is not good idea :)

Thanks to all developers for Your great job !!

-- 
Best Regards,
 Jaroslaw Kadziola

From druzus at acn.waw.pl  Tue Aug 18 06:01:20 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 18 06:01:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12158] trunk/harbour
In-Reply-To: <E1MdJvV-00074V-9z@bj8yhf1.ch3.sourceforge.com>
References: <E1MdJvV-00074V-9z@bj8yhf1.ch3.sourceforge.com>
Message-ID: <20090818100120.GA11139@uran.home.aster.pl>

On Tue, 18 Aug 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-08-17 10:15 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * config/global.mk
>     + Implemented win/mingw cross-tool autodetection.
>       Based on the logic found in make_gnu_xmingwce.sh. It's not
>       exactly the same, because I used HB_CCPATH and HB_CCPREFIX
>       only. There is no fiddling with the PATH f.e. This may cause
>       problems on some systems, but I couldn't understand the intent
>       behind every logic (and host environments) in the old script.
>       F.e. I left out dealing with 'TARGET' variable completely,
>       including just recently added manual override. If they are
>       needed with the new system, hopefully we can implement it in
>       some ways.
>       Please test. If this works out good, the two launcher scripts
>       are no longer necessary.

When I try to run ./make_gnu_xmingwce.sh i have:

   make[3]: /opt/mingw32ce/bin:arm-wince-mingw32ce-gcc: Command not found
   make[3]: *** [expropt1.o] Error 127
   make[2]: *** [descend] Error 2
   make[1]: *** [common.inst] Error 2

I'll fix it because it to keep working hb* scripts.

Here I do not think that moving the corssbuild logic inside make files
it's very good idea. It always needs setting some additional variable
setting and usually for users it's easier to adopt .sh script then editing
make files.

I also found this in global.sh
   #   HB_HOST_BUILD [yes|all|lib] -> HB_BUILD_LIBONLY (rest is redundant and can be controlled by other means)

It's not redundant and it's used for cross building, i.e. HB_HOST_BUILD=yes
is used to create native harbour and hbpp binaries before build
process is executed to create cross libraries.
It's used by to create RPMs with WIN and WINCE cross builds so they
can be created without preinstalled harbour native binaries because
they are created online so it's guarantied that they are synced with
compiled code.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Aug 18 06:01:39 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 18 06:01:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12160] trunk/harbour
Message-ID: <E1MdLVb-0000aC-Rz@bj8yhf1.ch3.sourceforge.com>

Revision: 12160
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12160&view=rev
Author:   druzus
Date:     2009-08-18 10:01:38 +0000 (Tue, 18 Aug 2009)

Log Message:
-----------
2009-08-18 12:01 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/make_gnu_xmingw.sh
  * harbour/make_gnu_xmingwce.sh
  * harbour/bin/hb-func.sh
    ! fixed HB_CCPATH setting to be compatible with .mk files and hb* scripts
    ! fixed links to harbour share libraries

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/make_gnu_xmingw.sh
    trunk/harbour/make_gnu_xmingwce.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Aug 18 06:21:12 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 18 06:21:18 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <903355446.20090818111901@tlen.pl>
References: <20090814173643.GA30218@uran.home.aster.pl>
	<1218769846.20090814223723@tlen.pl>
	<20090817115050.GF17616@uran.home.aster.pl>
	<1733982103.20090817182622@tlen.pl>
	<20090817164306.GA12830@uran.home.aster.pl>
	<883378730.20090817185905@tlen.pl>
	<20090817172751.GA17468@uran.home.aster.pl>
	<1445568238.20090818101013@tlen.pl>
	<20090818082337.GA5756@uran.home.aster.pl>
	<903355446.20090818111901@tlen.pl>
Message-ID: <20090818102112.GA9524@uran.home.aster.pl>

[wtorek, 18 sierpieï¿½ 2009], Jaroslaw Kadziola napisa³(a):

Hi,

> Done
>    /*** myprg1.prg ***/
>    proc main()
>     AltD()  
>     yy=hb_run("\myprg2.exe par1 par2" )
>    return
> 
> i've got on screen : ---------------------
>                      |  {"par1","par2"}  |
>                      |         OK        |
>                      ---------------------

Thank you. It's OK now though I wanted to confirm that MS does not
make some strange things with 1-st parameter when it's equal to
application name, i.e.
   yy=hb_run("\myprg2.exe \myprg2.exe par2 par3" )
I hope not.

> BTW : is any chance to build simple GUI application using harbour contribs ?
> Like hbQt or hbxbp ? At present harbour for WinCE is good only for
> tests (i.e. fonts are not visible for user, boxes and frames are not
> correclly displaying etc.,etc.).

There are some GUI libraries for WinCE. Probably in the nearest weeks
new one will be announced but I'm not its author so I cannot say more
about it.
I also recompiled for WinCE some libraries like XHGTK but I do not know
if GTK for WinCE is available. Probably most of some other GUI libraries
can be ported to work with WinCE but it's necesary to clean their code
to work with UNICODE macro just like core Harbour code.
In WinCE builds only UNICODE API is available.

By default Harbour WinCE builds use WVT GT. It's for console application
only. If default font is not readable for you then you can update it
yourself changing font settings. I.e. look at at /tests/wcecon.prg
Look at: HB_GTI_FONTWIDTH and HB_GTI_FONTSIZE. You can also use
HB_GTI_FONTNAME to change font type, i.e.:
   HB_GTINFO( HB_GTI_FONTNAME, "fixed" )
or:
   HB_GTINFO( HB_GTI_FONTNAME, "system" )
You have to check what is available in your WinCE.

> My dream is simple harbour application for
> WinCE  - now i must run clipper app under PocketDOS and how it is
> known emulation is not good idea :)

You should have exactly the same visual effect as in PocketDOS.
Just simply set the same font type and size and inform GT about
your apppliation CP encoding, i.e.:

   REQUEST PL852
   hb_setCodePage( "PL852" )
   hb_setTermCP( "PL852" )

WinCE uses internally unicode so you only have to chose font which
has all glyphs you need. Input/output translation will be done
automatically inside GTWVT after above settings.
If you find some looking nice setting which can be used also with
other WinCE machines then we can use them as default for WinCE WVT.

> Thanks to all developers for Your great job !!

Thank you for your tests.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Aug 18 06:34:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 18 06:34:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12158] trunk/harbour
In-Reply-To: <20090818100120.GA11139@uran.home.aster.pl>
References: <E1MdJvV-00074V-9z@bj8yhf1.ch3.sourceforge.com>
	<20090818100120.GA11139@uran.home.aster.pl>
Message-ID: <B2F1C15F-AF05-4309-A052-78509C958356@syenar.hu>

>> 2009-08-17 10:15 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>  * config/global.mk
>>    + Implemented win/mingw cross-tool autodetection.
>>      Based on the logic found in make_gnu_xmingwce.sh. It's not
>>      exactly the same, because I used HB_CCPATH and HB_CCPREFIX
>>      only. There is no fiddling with the PATH f.e. This may cause
>>      problems on some systems, but I couldn't understand the intent
>>      behind every logic (and host environments) in the old script.
>>      F.e. I left out dealing with 'TARGET' variable completely,
>>      including just recently added manual override. If they are
>>      needed with the new system, hopefully we can implement it in
>>      some ways.
>>      Please test. If this works out good, the two launcher scripts
>>      are no longer necessary.
>
> When I try to run ./make_gnu_xmingwce.sh i have:
>
>   make[3]: /opt/mingw32ce/bin:arm-wince-mingw32ce-gcc: Command not  
> found
>   make[3]: *** [expropt1.o] Error 127
>   make[2]: *** [descend] Error 2
>   make[1]: *** [common.inst] Error 2
>
> I'll fix it because it to keep working hb* scripts.

Thank you.

> Here I do not think that moving the corssbuild logic inside make files
> it's very good idea. It always needs setting some additional variable
> setting and usually for users it's easier to adopt .sh script then  
> editing
> make files.

I don't see why they would need to edit any make files.

If there is a setting which needs to be controlled by users
we can provide it through envvars or VAR=VALUE make
parameters.

The goal of course would be to require the least amount of
such settings.

The only such remaining TODO is to autocheck /opt/mingw32ce/bin
for wce cross-builds. Of course unless I missed some bits which
may need to be fixed and cannot be covered by existing means,
which may happen.

But if everything fits, make_gnu_xmingwce.sh content can be
replaced by single call 'make $* HB_ARCHITECTURE=wce' (or
better be dropped), and make_gnu_xmingw.sh by 'make $*  
HB_ARCHITECTURE=win'.

With some more work this syntax could be made working for
Windows hosts too, and to also autodetect win watcom
compiler (even on OS/2 or DOS), creating a more coherent
feel. Cross compilation is wider topic than just mingw[arm]
on *nix.

Maybe it's time to create a cross-build matrix to document
all supported cross build combinations.

If we don't rely anymore heavily on manual HB_COMPILER and
HB_ARCHITECTURE settings, I also plan to rename the latter
to HB_PLATFORM. (or maybe to short versions HB_COMP and HB_PLAT).

> I also found this in global.sh
>   #   HB_HOST_BUILD [yes|all|lib] -> HB_BUILD_LIBONLY (rest is  
> redundant and can be controlled by other means)
>
> It's not redundant and it's used for cross building, i.e.  
> HB_HOST_BUILD=yes
> is used to create native harbour and hbpp binaries before build
> process is executed to create cross libraries.
> It's used by to create RPMs with WIN and WINCE cross builds so they
> can be created without preinstalled harbour native binaries because
> they are created online so it's guarantied that they are synced with
> compiled code.

Okay I see now. I'll update the comment, maybe a more descriptive
name could be found for this setting tough, I'll think about it,
for the time being it's okay as is.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 18 06:36:54 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 18 06:37:02 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <20090818082337.GA5756@uran.home.aster.pl>
References: <20090814125427.GA1160@uran.home.aster.pl>
	<162593182.20090814191923@tlen.pl>
	<20090814173643.GA30218@uran.home.aster.pl>
	<1218769846.20090814223723@tlen.pl>
	<20090817115050.GF17616@uran.home.aster.pl>
	<1733982103.20090817182622@tlen.pl>
	<20090817164306.GA12830@uran.home.aster.pl>
	<883378730.20090817185905@tlen.pl>
	<20090817172751.GA17468@uran.home.aster.pl>
	<1445568238.20090818101013@tlen.pl>
	<20090818082337.GA5756@uran.home.aster.pl>
Message-ID: <D8D76A39-44B5-4E19-98FF-87DFDB135030@syenar.hu>

> I hope this is the last test.
> BTW did you have any problems with hb_dirbase() in WinCE?

While I didn't make specific hb_dirBase() tests in WinCE,
my app relies on it a lot and it was successfully built
for WinCE a few weeks ago and it also run alright. So
I conclude it works.

Brgds,
Viktor

From kadziola at tlen.pl  Tue Aug 18 06:53:06 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Tue Aug 18 06:53:28 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <20090818102112.GA9524@uran.home.aster.pl>
References: <20090814173643.GA30218@uran.home.aster.pl>
	<1218769846.20090814223723@tlen.pl>
	<20090817115050.GF17616@uran.home.aster.pl>
	<1733982103.20090817182622@tlen.pl>
	<20090817164306.GA12830@uran.home.aster.pl>
	<883378730.20090817185905@tlen.pl>
	<20090817172751.GA17468@uran.home.aster.pl>
	<1445568238.20090818101013@tlen.pl>
	<20090818082337.GA5756@uran.home.aster.pl>
	<903355446.20090818111901@tlen.pl>
	<20090818102112.GA9524@uran.home.aster.pl>
Message-ID: <697338593.20090818125306@tlen.pl>

Hi,

W li?cie datowanym 18 sierpnia 2009 (12:21:12) mo?na przeczyta?:


PC> Thank you. It's OK now though I wanted to confirm that MS does not
PC> make some strange things with 1-st parameter when it's equal to
PC> application name, i.e.
PC>    yy=hb_run("\myprg2.exe \myprg2.exe par2 par3" )
PC> I hope not.

Done
yy = {"\myprog2.exe","par2","par3"}

PC> There are some GUI libraries for WinCE. Probably in the nearest weeks
PC> new one will be announced but I'm not its author so I cannot say more
PC> about it.

Good news !!


PC> By default Harbour WinCE builds use WVT GT. It's for console application
PC> only. If default font is not readable for you then you can update it
PC> yourself changing font settings. I.e. look at at /tests/wcecon.prg
PC> Look at: HB_GTI_FONTWIDTH and HB_GTI_FONTSIZE. You can also use
PC> HB_GTI_FONTNAME to change font type, i.e.:
PC>    HB_GTINFO( HB_GTI_FONTNAME, "fixed" )
PC> or:
PC>    HB_GTINFO( HB_GTI_FONTNAME, "system" )
PC> You have to check what is available in your WinCE.

PC> You should have exactly the same visual effect as in PocketDOS.
PC> Just simply set the same font type and size and inform GT about
PC> your apppliation CP encoding, i.e.:

PC>    REQUEST PL852
PC>    hb_setCodePage( "PL852" )
PC>    hb_setTermCP( "PL852" )

PC> WinCE uses internally unicode so you only have to chose font which
PC> has all glyphs you need. Input/output translation will be done
PC> automatically inside GTWVT after above settings.
PC> If you find some looking nice setting which can be used also with
PC> other WinCE machines then we can use them as default for WinCE WVT.

I'll try all of these suggestions. Thanks so much !


PC> Thank you for your tests.

My pleasure !



-- 
Regards,
 Jaroslaw Kadziola

From kadziola at tlen.pl  Tue Aug 18 06:58:59 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Tue Aug 18 06:59:05 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <697338593.20090818125306@tlen.pl>
References: <20090814173643.GA30218@uran.home.aster.pl>
	<1218769846.20090814223723@tlen.pl>
	<20090817115050.GF17616@uran.home.aster.pl>
	<1733982103.20090817182622@tlen.pl>
	<20090817164306.GA12830@uran.home.aster.pl>
	<883378730.20090817185905@tlen.pl>
	<20090817172751.GA17468@uran.home.aster.pl>
	<1445568238.20090818101013@tlen.pl>
	<20090818082337.GA5756@uran.home.aster.pl>
	<903355446.20090818111901@tlen.pl>
	<20090818102112.GA9524@uran.home.aster.pl>
	<697338593.20090818125306@tlen.pl>
Message-ID: <256304112.20090818125859@tlen.pl>

Hi,

W li?cie datowanym 18 sierpnia 2009 (12:53:06) mo?na przeczyta?:


PC>> Thank you. It's OK now though I wanted to confirm that MS does not
PC>> make some strange things with 1-st parameter when it's equal to
PC>> application name, i.e.
PC>>    yy=hb_run("\myprg2.exe \myprg2.exe par2 par3" )
PC>> I hope not.

JK> Done
JK> yy = {"\myprog2.exe","par2","par3"}

Of course yy = 0,
hb_valToExp( { ... } ) = {"\myprog2.exe","par2","par3"}

-- 
Regards,
 Jaroslaw Kadziola

From druzus at users.sourceforge.net  Tue Aug 18 07:08:53 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 18 07:08:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12161] trunk/harbour
Message-ID: <E1MdMYf-0005Hq-PM@74yxhf1.ch3.sourceforge.com>

Revision: 12161
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12161&view=rev
Author:   druzus
Date:     2009-08-18 11:08:52 +0000 (Tue, 18 Aug 2009)

Log Message:
-----------
2009-08-18 13:08 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/harbour-win-spec
  * harbour/harbour.spec
  * harbour/harbour-wce-spec
    ! updated to work after recent modifications in make system

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/harbour.spec


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Aug 18 07:16:09 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 18 07:16:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12158] trunk/harbour
In-Reply-To: <B2F1C15F-AF05-4309-A052-78509C958356@syenar.hu>
References: <E1MdJvV-00074V-9z@bj8yhf1.ch3.sourceforge.com>
	<20090818100120.GA11139@uran.home.aster.pl>
	<B2F1C15F-AF05-4309-A052-78509C958356@syenar.hu>
Message-ID: <20090818111609.GA21662@uran.home.aster.pl>

On Tue, 18 Aug 2009, Szak?ts Viktor wrote:

Hi,

> I don't see why they would need to edit any make files.

I do not think that we ever directly address 10% of platforms where
Harbour can be compiled. It's technically impossible so if we
make build process too complicated to easy adopt it for some more
exotic platforms we block the portability.
For me much more important is easy portability then default Harbour
behavior "out of the box". Just simply I hope that harbour will
be default part of some systems and this is my main goal.

> If there is a setting which needs to be controlled by users
> we can provide it through envvars or VAR=VALUE make
> parameters.

The problem is that we do not know about such things as long
as someone will not try to build Harbour on new system so
we cannot add them now. Anyhow when the final version of new
.mk files will be ready we can try to document which tools
are required to build Harbour and then try to reduce dependencies
list using some envvars.

> The goal of course would be to require the least amount of
> such settings.

This is less important. For me the main goal is to be able to build
Harbour in different environment without rewriting .mk files internals.
I hope that the final version of new .mk files will help in it.

> The only such remaining TODO is to autocheck /opt/mingw32ce/bin
> for wce cross-builds. Of course unless I missed some bits which
> may need to be fixed and cannot be covered by existing means,
> which may happen.

I do not understand above. People often have cross build binaries
with some prefix in the PATH so any autodetection will locate them
and enable cross building instead of native compilation.
Or maybe I'm missing sth and you are talking about sth else.

> But if everything fits, make_gnu_xmingwce.sh content can be
> replaced by single call 'make $* HB_ARCHITECTURE=wce' (or
> better be dropped), and make_gnu_xmingw.sh by 'make $* 
> HB_ARCHITECTURE=win'.

Only if code in .mk files is working and does not have to be updated
for new platform.

> With some more work this syntax could be made working for
> Windows hosts too, and to also autodetect win watcom
> compiler (even on OS/2 or DOS), creating a more coherent
> feel. Cross compilation is wider topic than just mingw[arm]
> on *nix.
> Maybe it's time to create a cross-build matrix to document
> all supported cross build combinations.

It's rather not possible. There are too many different combinations
and we are supporting only few of them.
OK let's wait with conclusions for the final version of new .mk files.
Then I'll try to make some tests with some more exotic or much older
systems and I'll check if sth has to be changed to make it working.

> If we don't rely anymore heavily on manual HB_COMPILER and
> HB_ARCHITECTURE settings, I also plan to rename the latter
> to HB_PLATFORM. (or maybe to short versions HB_COMP and HB_PLAT).

HB_ARCH

best regards,
Przemek
From druzus at acn.waw.pl  Tue Aug 18 07:25:38 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 18 07:25:47 2009
Subject: [Harbour] hbRun() in WinCE
In-Reply-To: <256304112.20090818125859@tlen.pl>
References: <1733982103.20090817182622@tlen.pl>
	<20090817164306.GA12830@uran.home.aster.pl>
	<883378730.20090817185905@tlen.pl>
	<20090817172751.GA17468@uran.home.aster.pl>
	<1445568238.20090818101013@tlen.pl>
	<20090818082337.GA5756@uran.home.aster.pl>
	<903355446.20090818111901@tlen.pl>
	<20090818102112.GA9524@uran.home.aster.pl>
	<697338593.20090818125306@tlen.pl>
	<256304112.20090818125859@tlen.pl>
Message-ID: <20090818112538.GA2885@uran.home.aster.pl>

[wtorek, 18 sierpieï¿½ 2009], Jaroslaw Kadziola napisa³(a):

Hi,

> Of course yy = 0,
> hb_valToExp( { ... } ) = {"\myprog2.exe","par2","par3"}

Thank you for confirmation.
Current SVN code of hb_fsProcessRun() (hb_fsProcessExec()) is working
correctly with parameters for WinCE.
Please only remember that PIPEs and file handle inheritance are not
supported by WinCE so using HB_PROCESSRUN() with any redirection
parameters (stdin,@stdout,@stderr) is not supported by WinCE and will
return error code (-1). WinCE seems to execute only one process at
given time freezing others.

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Aug 18 07:29:41 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 18 07:29:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12162] trunk/harbour
Message-ID: <E1MdMsn-0005ik-Og@74yxhf1.ch3.sourceforge.com>

Revision: 12162
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12162&view=rev
Author:   vszakats
Date:     2009-08-18 11:29:40 +0000 (Tue, 18 Aug 2009)

Log Message:
-----------
2009-08-17 13:29 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    + Added autodetection of cegcc tools on default install location.
    + Added error messages if specified or autodetected mingw/cegcc
      cross-tools couldn't be found.
    ! Minor cosmetic in warning/error msgs. (ending dot seems to be added
      by GNU Make)

  ; NOTE: Currently possible cross-build scenarios (except cross-CPU only cases,
          by host platform:

    on win hosts:
       -> wce/mingawrm
       -> wce/poccarm
       -> wce/msvcarm
       -> dos/djgpp
       -> dos/watcom    (* using DOS GNU make)
       -> os2/watcom
       -> linux/watcom
    on dos hosts:
       -> win/watcom    (*)
       -> os2/watcom    (*)
       -> linux/watcom  (*)
    on os2 hosts:
       -> win/watcom
       -> dos/watcom    (*)
       -> linux/watcom  (*)
    on linux hosts:
       -> wce/mingwarm
       -> win/mingw
       -> win/watcom
       -> dos/watcom    (*)
       -> os2/watcom
    on darwin/bsd/hpux/sunos hosts:
       -> win/mingw     (*)

    (*): Theoretically possible, but not heard of such build yet.

  * contrib/rddads/adsfunc.c
    + Added TOFIX to a very old typo in ADSDDREMOVETABLE() which
      makes it require a dummy variable to be passed as 3rd parameter.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/contrib/rddads/adsfunc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Aug 18 07:58:43 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 18 07:58:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12158] trunk/harbour
In-Reply-To: <20090818111609.GA21662@uran.home.aster.pl>
References: <E1MdJvV-00074V-9z@bj8yhf1.ch3.sourceforge.com>
	<20090818100120.GA11139@uran.home.aster.pl>
	<B2F1C15F-AF05-4309-A052-78509C958356@syenar.hu>
	<20090818111609.GA21662@uran.home.aster.pl>
Message-ID: <FE832AB6-AA66-42BA-9CCB-897418EA90C4@syenar.hu>

>> I don't see why they would need to edit any make files.
>
> I do not think that we ever directly address 10% of platforms where
> Harbour can be compiled. It's technically impossible so if we
> make build process too complicated to easy adopt it for some more
> exotic platforms we block the portability.
> For me much more important is easy portability then default Harbour
> behavior "out of the box". Just simply I hope that harbour will
> be default part of some systems and this is my main goal.

The two goals aren't mutually exclusive IMO.

>> If there is a setting which needs to be controlled by users
>> we can provide it through envvars or VAR=VALUE make
>> parameters.
>
> The problem is that we do not know about such things as long
> as someone will not try to build Harbour on new system so
> we cannot add them now. Anyhow when the final version of new
> .mk files will be ready we can try to document which tools
> are required to build Harbour and then try to reduce dependencies
> list using some envvars.

Definitely.

>> The goal of course would be to require the least amount of
>> such settings.
>
> This is less important. For me the main goal is to be able to build
> Harbour in different environment without rewriting .mk files  
> internals.
> I hope that the final version of new .mk files will help in it.

Current state is quite close to final version, at least when
it comes to my part. I hope other developers can extend/fix it,
because my knowledge of different *nix flavors is definitely
narrower than f.e. yours or Phil's. I could only implement what
I saw and understood from already implemented scripts.

I'd still like to address watcom cross-compiler support, but
regarding this area that's the only remaining item pending in queue.

[ package creation scripts are another larger topic, but I haven't
scratched that yet, and maybe I'm not even going to do so. ]

>> The only such remaining TODO is to autocheck /opt/mingw32ce/bin
>> for wce cross-builds. Of course unless I missed some bits which
>> may need to be fixed and cannot be covered by existing means,
>> which may happen.
>
> I do not understand above. People often have cross build binaries
> with some prefix in the PATH so any autodetection will locate them
> and enable cross building instead of native compilation.
> Or maybe I'm missing sth and you are talking about sth else.

Currently you have to *ask* for a cross-build on Linux by using
HB_ARCHITECTURE=[win|wce]. If you asked for it, cross-build specific
tools will be searched, HB_CCPATH and HB_CCPREFIX will be taken
into account (here probably some more setup combinations could
be accepted, like accepting plain HB_CCPREFIX). This is somewhat
different behavior than on win, where make system assumes that
only one compiler tool is present in the PATH at the same time
and the set of tools to work with is pretty much static.

We can tweak this, but currently it's done that way.

>> But if everything fits, make_gnu_xmingwce.sh content can be
>> replaced by single call 'make $* HB_ARCHITECTURE=wce' (or
>> better be dropped), and make_gnu_xmingw.sh by 'make $*
>> HB_ARCHITECTURE=win'.
>
> Only if code in .mk files is working and does not have to be updated
> for new platform.

Please check the code, maybe it tell more than me trying to
explain it. Current win/wce cross-detection and setup code
in .mk works for all platforms (*nix OSes). Of course it
may happen that the autodetection list needs to be extended
(although I replicated the .sh logic as much as I possibly
could), but even autodetection can always be overridden by
manual HB_CC* values. So there shouldn't be such case when
user has to delve into .mk files.

>> With some more work this syntax could be made working for
>> Windows hosts too, and to also autodetect win watcom
>> compiler (even on OS/2 or DOS), creating a more coherent
>> feel. Cross compilation is wider topic than just mingw[arm]
>> on *nix.
>> Maybe it's time to create a cross-build matrix to document
>> all supported cross build combinations.
>
> It's rather not possible. There are too many different combinations
> and we are supporting only few of them.

Most probably. BTW, it would very nice if you could give us
a broader overview on possible *nix scenarios. You mention this
a lot, but to me the picture is quite dark, so I can't really
do anything with this fact in practice. Probably some teaching
would be good here :)

As another note: We should probably define our limits/boundaries
regarding what system configurations we *want to* support in
Harbour. This would have clear practical benefits since we could
focus on that except focusing on the infinite, which is pretty
much impossible anyway.

This would also be an important part of Harbour documentation,
what Linux/Darwin/* kernels we support, what CPUs, what are the
requirements at build time (shell, tools, etc), what are those
at runtime. Same for OS/2, Windows, WCE. Currently we have no
clear boundaries.

> OK let's wait with conclusions for the final version of new .mk files.
> Then I'll try to make some tests with some more exotic or much older
> systems and I'll check if sth has to be changed to make it working.

Okay, thanks in advance.

You mention old systems: Please see some NOTE/TOFIX comments in
global.mk on GNU Make keyword usage and required GNU Make version.

Looks that 3.78 is the oldest we can practically work with (since
long, not because of my latest changes), the rest may be fixed.

>> If we don't rely anymore heavily on manual HB_COMPILER and
>> HB_ARCHITECTURE settings, I also plan to rename the latter
>> to HB_PLATFORM. (or maybe to short versions HB_COMP and HB_PLAT).
>
> HB_ARCH

Sorry, what did mean here?

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Aug 18 07:58:48 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 18 07:58:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12162] trunk/harbour
In-Reply-To: <E1MdMsn-0005ik-Og@74yxhf1.ch3.sourceforge.com>
References: <E1MdMsn-0005ik-Og@74yxhf1.ch3.sourceforge.com>
Message-ID: <20090818115847.GA21551@uran.home.aster.pl>

On Tue, 18 Aug 2009, vszakats@users.sourceforge.net wrote:

Hi,

>     on linux hosts:
>        -> wce/mingwarm
>        -> win/mingw
>        -> win/watcom
>        -> dos/watcom    (*)

I'm creating such binaries but they do not work probably due to problem
with Linux 'wlink' port which I hope will be fixed in the future.

There are also support for many other combinations using HB_CCPREFIX
and HB_USER_CFLAGS, i.e. mipsel cross builds created by Guy recently
or cross builds for any other CPU if someone need them or ucLibC builds
for systems with limited number of memory, i.e. diskless stations or
different -m32/-m64 combinations or any other variations of all above
settings.

>        -> os2/watcom
>     on darwin/bsd/hpux/sunos hosts:
>        -> win/mingw     (*)

Phil was creating MinGW binaries for FreeBSD and even added direct
support for it to make_gnu_xmingw.sh.
You can find MinGW cross build binaries for different OS-es or you
can try to recompile them yourself though sometime it's not trivial
due to the problem with 1-st build support.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Aug 18 08:20:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 18 08:20:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12162] trunk/harbour
In-Reply-To: <20090818115847.GA21551@uran.home.aster.pl>
References: <E1MdMsn-0005ik-Og@74yxhf1.ch3.sourceforge.com>
	<20090818115847.GA21551@uran.home.aster.pl>
Message-ID: <6DE9F6E2-923E-4E1F-A8BF-528B4E19E42C@syenar.hu>

>>    on linux hosts:
>>       -> wce/mingwarm
>>       -> win/mingw
>>       -> win/watcom
>>       -> dos/watcom    (*)
>
> I'm creating such binaries but they do not work probably due to  
> problem
> with Linux 'wlink' port which I hope will be fixed in the future.

I'll update the list with this information.

> There are also support for many other combinations using HB_CCPREFIX
> and HB_USER_CFLAGS, i.e. mipsel cross builds created by Guy recently
> or cross builds for any other CPU if someone need them or ucLibC  
> builds
> for systems with limited number of memory, i.e. diskless stations or
> different -m32/-m64 combinations or any other variations of all above
> settings.

Yes, mipsel, I forgot about it. However here we stumble onto the
platform/arch vs. CPU arch terminology clash. I didn't count in
this table any such cases, including mingw64/msvc64/etc builds
which are essentially cross builds but staying within the platform
boundary.

I hope new .mk implementation won't limit such cross-build cases.

Also as a general rule: autodetection is for known cases, while
manual should work for everything.

>>       -> os2/watcom
>>    on darwin/bsd/hpux/sunos hosts:
>>       -> win/mingw     (*)
>
> Phil was creating MinGW binaries for FreeBSD and even added direct
> support for it to make_gnu_xmingw.sh.
> You can find MinGW cross build binaries for different OS-es or you
> can try to recompile them yourself though sometime it's not trivial
> due to the problem with 1-st build support.

Thank you, I'll also update it. I've seen the specific support, even
ported it to .mk, but didn't know more about it first hand.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Aug 18 09:22:54 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 18 09:23:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12158] trunk/harbour
In-Reply-To: <FE832AB6-AA66-42BA-9CCB-897418EA90C4@syenar.hu>
References: <E1MdJvV-00074V-9z@bj8yhf1.ch3.sourceforge.com>
	<20090818100120.GA11139@uran.home.aster.pl>
	<B2F1C15F-AF05-4309-A052-78509C958356@syenar.hu>
	<20090818111609.GA21662@uran.home.aster.pl>
	<FE832AB6-AA66-42BA-9CCB-897418EA90C4@syenar.hu>
Message-ID: <20090818132254.GA26242@uran.home.aster.pl>

On Tue, 18 Aug 2009, Szak?ts Viktor wrote:
> I'd still like to address watcom cross-compiler support, but
> regarding this area that's the only remaining item pending in queue.

For me it works quite well. I only have to set:

   export HB_ARCHITECTURE=dos
   export HB_COMPILER=watcom
   export HB_INSTALL_PREFIX="$(pwd)/out-${HB_ARCHITECTURE}/${HB_COMPILER}"
   # eliminate libraries which scans for local host header files
   export HB_XBUILD=yes

> Currently you have to *ask* for a cross-build on Linux by using
> HB_ARCHITECTURE=[win|wce]. If you asked for it, cross-build specific
> tools will be searched, HB_CCPATH and HB_CCPREFIX will be taken
> into account (here probably some more setup combinations could
> be accepted, like accepting plain HB_CCPREFIX). This is somewhat
> different behavior than on win, where make system assumes that
> only one compiler tool is present in the PATH at the same time
> and the set of tools to work with is pretty much static.
> We can tweak this, but currently it's done that way.

For me the *nix behavior is OK and I would like to keep it.

> Please check the code, maybe it tell more than me trying to
> explain it. Current win/wce cross-detection and setup code
> in .mk works for all platforms (*nix OSes). Of course it
> may happen that the autodetection list needs to be extended
> (although I replicated the .sh logic as much as I possibly
> could), but even autodetection can always be overridden by
> manual HB_CC* values. So there shouldn't be such case when
> user has to delve into .mk files.

As long as manual overwritting works it's OK.

>>> Maybe it's time to create a cross-build matrix to document
>>> all supported cross build combinations.
>> It's rather not possible. There are too many different combinations
>> and we are supporting only few of them.
> Most probably. BTW, it would very nice if you could give us
> a broader overview on possible *nix scenarios. You mention this
> a lot, but to me the picture is quite dark, so I can't really
> do anything with this fact in practice. Probably some teaching
> would be good here :)

These are available for SUSE Linux directly as RPMs:
   cross-i386-gcc
   cross-x86_64-gcc
   cross-ia64-gcc
   cross-ppc-gcc
   cross-ppc64-gcc
   cross-s390-gcc
   cross-s390x-gcc
   cross-hppa-gcc
   cross-mips-linux-gcc
   cross-arm-linux-gcc
   cross-avr-gcc
   cross-spu-gcc
   cross-mingw32-gcc
   cross-mingw64-gcc
Additionally many of them can use different binary incompatible ABI and/or
libc libraries so you have to multiple them by different combinations
like embed-gnueabi.
Just look at
   http://software.opensuse.org/search
at type
   -gcc
in [search] area and look at the results and please remember that
not all combinations are supported directly by SUSE RPMs and this
list is not full yet.

> As another note: We should probably define our limits/boundaries
> regarding what system configurations we *want to* support in
> Harbour. This would have clear practical benefits since we could
> focus on that except focusing on the infinite, which is pretty
> much impossible anyway.

Yes. It's very simply:
1. Little or big endian CPUs (though if necessary we can add support
   also for PDP endian machines),
2. ASCII based character encoding (we do not support EBCDIC so it will
   be hard to port Harbour to some IBM machines and it's not trivial
   mechanical job to add such support if we want to think about binary
   compatibility in some places like database files) which uses 
3. 8-bit 'char' type with multiple types (16/32[/64]). It also reduce
   portability to some machines but to eliminate it it's necessary to
   make serious cleanup in code. As in point 2 the biggest problem
   is binary compatibility in database files. In some cases it's
   even necessary to create new formats which will play well with
   available numeric types.

Except point 1 which can be easy added locally quite fast the 2 and 3
points needs deeper modifications and I do not have enough motivation
to work on it at least of free.
All other systems should be supported and we do not have to limit them
in any way or hardocde CPU name in our make systems. The most important
feature of open source software is the fact that it comes with source
code so can be easy recompiled using current and new platforms in the
future.

The problems can appear yet in detecting support functionality.
For *nixes we need only vary basic POSIX compatibility for ST
builds and PTHREAD support for MT builds. Because PTHREAD may
not be available then we should have an option to recompile
Harbour without MT support.
We do not use autoconf so we have to guess what is available
on given platform. It creates potential problems in portability,
i.e. to older systems. I guess that current Harbour cannot be used
with older MacOSX or Linux builds. Now I'm trying to cover all
extended functions usage by HB_HAS_* or HB_USE_* macros.
In the future I plan to group them in one header file which can
be easy edited by user and/or overloaded (redefined) by autoconf.

I do not have to even know the system name. Clean configuration
should work with SCO, UNIXWARE and other *nixes not explicitly
supported by us. Probably we will have to add generic POSIX/UNIX
platform support to our .mk files.

> This would also be an important part of Harbour documentation,
> what Linux/Darwin/* kernels we support, what CPUs, what are the
> requirements at build time (shell, tools, etc), what are those
> at runtime. Same for OS/2, Windows, WCE. Currently we have no
> clear boundaries.

I do not agree. Just simply I do not see any reasons to introduce
limits for users. We can only document where we tested it. That's
all.

> You mention old systems: Please see some NOTE/TOFIX comments in
> global.mk on GNU Make keyword usage and required GNU Make version.
> Looks that 3.78 is the oldest we can practically work with (since
> long, not because of my latest changes), the rest may be fixed.

I'll look at it but I'll wait for real final versions.
It's hard to follow or your modifications.

>>> If we don't rely anymore heavily on manual HB_COMPILER and
>>> HB_ARCHITECTURE settings, I also plan to rename the latter
>>> to HB_PLATFORM. (or maybe to short versions HB_COMP and HB_PLAT).
>> HB_ARCH
> Sorry, what did mean here?

A short versions proposition.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Aug 18 10:25:27 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 18 10:25:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12158] trunk/harbour
In-Reply-To: <20090818132254.GA26242@uran.home.aster.pl>
References: <E1MdJvV-00074V-9z@bj8yhf1.ch3.sourceforge.com>
	<20090818100120.GA11139@uran.home.aster.pl>
	<B2F1C15F-AF05-4309-A052-78509C958356@syenar.hu>
	<20090818111609.GA21662@uran.home.aster.pl>
	<FE832AB6-AA66-42BA-9CCB-897418EA90C4@syenar.hu>
	<20090818132254.GA26242@uran.home.aster.pl>
Message-ID: <84668784-F4BC-4006-88D8-5CD60019251A@syenar.hu>

> For me it works quite well. I only have to set:
>
>   export HB_ARCHITECTURE=dos
>   export HB_COMPILER=watcom
>   export HB_INSTALL_PREFIX="$(pwd)/out-${HB_ARCHITECTURE}/$ 
> {HB_COMPILER}"
>   # eliminate libraries which scans for local host header files
>   export HB_XBUILD=yes

Very nice, so it's already working.

>> and the set of tools to work with is pretty much static.
>> We can tweak this, but currently it's done that way.
>
> For me the *nix behavior is OK and I would like to keep it.

Good for me.

>> Please check the code, maybe it tell more than me trying to
>> explain it. Current win/wce cross-detection and setup code
>> in .mk works for all platforms (*nix OSes). Of course it
>> may happen that the autodetection list needs to be extended
>> (although I replicated the .sh logic as much as I possibly
>> could), but even autodetection can always be overridden by
>> manual HB_CC* values. So there shouldn't be such case when
>> user has to delve into .mk files.
>
> As long as manual overwritting works it's OK.

Okay.

>> Most probably. BTW, it would very nice if you could give us
>> a broader overview on possible *nix scenarios. You mention this
>> a lot, but to me the picture is quite dark, so I can't really
>> do anything with this fact in practice. Probably some teaching
>> would be good here :)
>
> These are available for SUSE Linux directly as RPMs:
>   cross-i386-gcc
>   cross-x86_64-gcc
>   cross-ia64-gcc
>   cross-ppc-gcc
>   cross-ppc64-gcc
>   cross-s390-gcc
>   cross-s390x-gcc
>   cross-hppa-gcc
>   cross-mips-linux-gcc
>   cross-arm-linux-gcc
>   cross-avr-gcc
>   cross-spu-gcc
>   cross-mingw32-gcc
>   cross-mingw64-gcc
> Additionally many of them can use different binary incompatible ABI  
> and/or
> libc libraries so you have to multiple them by different combinations
> like embed-gnueabi.
> Just look at
>   http://software.opensuse.org/search
> at type
>   -gcc
> in [search] area and look at the results and please remember that
> not all combinations are supported directly by SUSE RPMs and this
> list is not full yet.

Thank you.

>> As another note: We should probably define our limits/boundaries
>> regarding what system configurations we *want to* support in
>> Harbour. This would have clear practical benefits since we could
>> focus on that except focusing on the infinite, which is pretty
>> much impossible anyway.
>
> Yes. It's very simply:
> 1. Little or big endian CPUs (though if necessary we can add support
>   also for PDP endian machines),
> 2. ASCII based character encoding (we do not support EBCDIC so it will
>   be hard to port Harbour to some IBM machines and it's not trivial
>   mechanical job to add such support if we want to think about binary
>   compatibility in some places like database files) which uses
> 3. 8-bit 'char' type with multiple types (16/32[/64]). It also reduce
>   portability to some machines but to eliminate it it's necessary to
>   make serious cleanup in code. As in point 2 the biggest problem
>   is binary compatibility in database files. In some cases it's
>   even necessary to create new formats which will play well with
>   available numeric types.
>
> Except point 1 which can be easy added locally quite fast the 2 and 3
> points needs deeper modifications and I do not have enough motivation
> to work on it at least of free.
> All other systems should be supported and we do not have to limit them
> in any way or hardocde CPU name in our make systems. The most  
> important
> feature of open source software is the fact that it comes with source
> code so can be easy recompiled using current and new platforms in the
> future.
>
> The problems can appear yet in detecting support functionality.
> For *nixes we need only vary basic POSIX compatibility for ST
> builds and PTHREAD support for MT builds. Because PTHREAD may
> not be available then we should have an option to recompile
> Harbour without MT support.
> We do not use autoconf so we have to guess what is available
> on given platform. It creates potential problems in portability,
> i.e. to older systems. I guess that current Harbour cannot be used
> with older MacOSX or Linux builds. Now I'm trying to cover all
> extended functions usage by HB_HAS_* or HB_USE_* macros.
> In the future I plan to group them in one header file which can
> be easy edited by user and/or overloaded (redefined) by autoconf.
>
> I do not have to even know the system name. Clean configuration
> should work with SCO, UNIXWARE and other *nixes not explicitly
> supported by us. Probably we will have to add generic POSIX/UNIX
> platform support to our .mk files.

I agree with these. As for autoconf, if it can be used as a simple
tool to generate such config header as a pre-make step it can be nice,
but unfortunately autoconf is a *nix only tool, so it will be again
something which will have to be rewritten for non-*nix platforms,
and/or we will have to reintroduce parallel systems (*) for the same
thing for different platforms. I've yet to see what is the "magic"
of autoconf, but if possible I'd try to go in a direction which
is portable (like some .mk detection logic if it's possible to do).

(*) like we currently have for .dll generation f.e.. Which in order
to have equal support for all GNU Make scenarios, would have to be
written in each shell language for every arch/comp combination. And
maintained in parallel. This is in practice impossible, difficult to
test and error prone. This isn't ideal and that's one reason I try
to move functionality on the GNU Make level where possible.

>> This would also be an important part of Harbour documentation,
>> what Linux/Darwin/* kernels we support, what CPUs, what are the
>> requirements at build time (shell, tools, etc), what are those
>> at runtime. Same for OS/2, Windows, WCE. Currently we have no
>> clear boundaries.
>
> I do not agree. Just simply I do not see any reasons to introduce
> limits for users. We can only document where we tested it. That's
> all.

Probably limits exist, we just don't know them. We don't have to
limit ourselves I agree, but some practical limit must exist whether
we want it or not. We don't support Win32s probably and I don't
know just guess, that Linux 1.x kernels wouldn't work either. As
you say Darwin support should also be revised, because f.e. I
for example only test it on latest systems, but it's normal that
users are using 1-2 generation older versions.

>> You mention old systems: Please see some NOTE/TOFIX comments in
>> global.mk on GNU Make keyword usage and required GNU Make version.
>> Looks that 3.78 is the oldest we can practically work with (since
>> long, not because of my latest changes), the rest may be fixed.
>
> I'll look at it but I'll wait for real final versions.
> It's hard to follow or your modifications.

'real final version' :) okay, please consider current state as
pretty much it. I can't promise I won't have any new idea along
the way, but I've about reached the end of my TODO list, so no
huge things are planned. Anyway it'd be probably nice to wait
a few weeks as testing / proving time for latest changes.

I planned to move dynamic enabler logic from central location to
a lib level flag. But unfortunately harbour dll related lib lists
still need to be maintained in a few places so I didn't make it
yet.

>>>> If we don't rely anymore heavily on manual HB_COMPILER and
>>>> HB_ARCHITECTURE settings, I also plan to rename the latter
>>>> to HB_PLATFORM. (or maybe to short versions HB_COMP and HB_PLAT).
>>> HB_ARCH
>> Sorry, what did mean here?
>
> A short versions proposition.

So back to PLATFORM vs. ARCHITECTURE, I'd definitely vote for
PLATFORM. We're using it for __PLATFORM__* macros already, plus
that's the more accurate description of "OS". ARCH usually has a
CPU connotation with it, which makes it misleading, since we
specifically avoid making any of our platforms CPU specific.
We also use 'platform' or OS in any human readable texts. "HB_OS"
would also be good, but it's just too short for easy grepping.

I'll probably gather current usages to get a better picture of
our term usage.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Aug 18 10:52:08 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 18 10:52:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12158] trunk/harbour
In-Reply-To: <84668784-F4BC-4006-88D8-5CD60019251A@syenar.hu>
References: <E1MdJvV-00074V-9z@bj8yhf1.ch3.sourceforge.com>
	<20090818100120.GA11139@uran.home.aster.pl>
	<B2F1C15F-AF05-4309-A052-78509C958356@syenar.hu>
	<20090818111609.GA21662@uran.home.aster.pl>
	<FE832AB6-AA66-42BA-9CCB-897418EA90C4@syenar.hu>
	<20090818132254.GA26242@uran.home.aster.pl>
	<84668784-F4BC-4006-88D8-5CD60019251A@syenar.hu>
Message-ID: <20090818145208.GA22925@uran.home.aster.pl>

On Tue, 18 Aug 2009, Szak?ts Viktor wrote:
>> We do not use autoconf so we have to guess what is available
>> on given platform. It creates potential problems in portability,
>> i.e. to older systems. I guess that current Harbour cannot be used
>> with older MacOSX or Linux builds. Now I'm trying to cover all
>> extended functions usage by HB_HAS_* or HB_USE_* macros.
>> In the future I plan to group them in one header file which can
>> be easy edited by user and/or overloaded (redefined) by autoconf.
>>
>> I do not have to even know the system name. Clean configuration
>> should work with SCO, UNIXWARE and other *nixes not explicitly
>> supported by us. Probably we will have to add generic POSIX/UNIX
>> platform support to our .mk files.
>
> I agree with these. As for autoconf, if it can be used as a simple
> tool to generate such config header as a pre-make step it can be nice,
> but unfortunately autoconf is a *nix only tool, so it will be again
> something which will have to be rewritten for non-*nix platforms,
> and/or we will have to reintroduce parallel systems (*) for the same
> thing for different platforms. I've yet to see what is the "magic"
> of autoconf, but if possible I'd try to go in a direction which
> is portable (like some .mk detection logic if it's possible to do).

I want to add autoconf support optionally. I'll add empty
include/hbaconf.h and include/hbconf.h which will #include
hbaconf.h and hbsetup.h and then try to set HB_HAS_* macros using
available information. So far everything will work as in current
builds but if autoconf is available then it can be used to overwrite
empty include/hbaconf.h with settings tuned for given platform.
That's all.
Then support for even very old OS-es will be only matter of some
new rules/macros. We do not have to add explicit support support
for different configuration and/or cross compilations but we
need an easy way to create native binaries.
If necessary we can also generate .mk file with some platform
dependent settings hard to detect using pure GNU make code, i.e.
is it necessary to use PIC switches and which ones?

best regards,
Przemek
From druzus at acn.waw.pl  Tue Aug 18 11:40:38 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 18 11:40:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12158] trunk/harbour
In-Reply-To: <84668784-F4BC-4006-88D8-5CD60019251A@syenar.hu>
References: <E1MdJvV-00074V-9z@bj8yhf1.ch3.sourceforge.com>
	<20090818100120.GA11139@uran.home.aster.pl>
	<B2F1C15F-AF05-4309-A052-78509C958356@syenar.hu>
	<20090818111609.GA21662@uran.home.aster.pl>
	<FE832AB6-AA66-42BA-9CCB-897418EA90C4@syenar.hu>
	<20090818132254.GA26242@uran.home.aster.pl>
	<84668784-F4BC-4006-88D8-5CD60019251A@syenar.hu>
Message-ID: <20090818154038.GA1237@uran.home.aster.pl>

On Tue, 18 Aug 2009, Szak?ts Viktor wrote:

Hi,

>> I'll look at it but I'll wait for real final versions.
>> It's hard to follow or your modifications.
> 'real final version' :) okay, please consider current state as
> pretty much it. I can't promise I won't have any new idea along
> the way, but I've about reached the end of my TODO list, so no
> huge things are planned. Anyway it'd be probably nice to wait
> a few weeks as testing / proving time for latest changes.

Please try to set
   JOB_SRV := NO
in dir.mk then try to execute
   make clean
and see what will happen.
The problem is cause by := in DIR_RULE assignment.
Non parallel build rules are necessary for older GNU make files.

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Aug 18 11:40:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 18 11:40:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12163] trunk/harbour
Message-ID: <E1MdQnj-0003VK-Ls@d5vjzd1.ch3.sourceforge.com>

Revision: 12163
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12163&view=rev
Author:   vszakats
Date:     2009-08-18 15:40:42 +0000 (Tue, 18 Aug 2009)

Log Message:
-----------
2009-08-17 17:38 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    * Upped minimum GNU Make version requirement to 3.78 (from 3.70).
      We use many 3.78-only features since very long and in many
      Makefiles (like $(if)). 3.78 was released in 1999, the year
      Harbour has born, so this requirement looks pretty modest.
      Notice however that the "officially" documented (in INSTALL)
      minimum version is 3.81, and there are a few feature we
      actually use and need from this version. Some other make features
      are only enabled when using 3.80 (or upper) (parallel build),
      some others when using 3.81 (or upper) (build configuration
      information, verbose output).
    ; TODO: Either up the minimum version, or try to fix the remaining
            unprotected 3.80/3.81 features.
            My personal opininon is that if there is any reasonable
            chance we should make 3.80 or 3.81 the minimum official 
            requirement.
            This is a *nix-only issue, as dos/win/os2 are all covered 
            with recent 3.81 binary builds. Question is:
            How and which *nix platforms would be affected or limited 
            in such this case?
            BTW, 3.81 was released in 2006, 3.80 in 2002.

  * ChangeLog
    * Updated cross-build compatibility chart.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Aug 18 11:51:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 18 11:51:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12164] trunk/harbour
Message-ID: <E1MdQxm-0003gt-IT@d5vjzd1.ch3.sourceforge.com>

Revision: 12164
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12164&view=rev
Author:   vszakats
Date:     2009-08-18 15:51:05 +0000 (Tue, 18 Aug 2009)

Log Message:
-----------
2009-08-17 17:50 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/dir.mk
    ! Fixed DIR_RULE assignment (:= back to =)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dir.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Aug 18 12:02:55 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 18 12:03:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12165] trunk/harbour
Message-ID: <E1MdR9D-0003uf-Iy@d5vjzd1.ch3.sourceforge.com>

Revision: 12165
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12165&view=rev
Author:   druzus
Date:     2009-08-18 16:02:51 +0000 (Tue, 18 Aug 2009)

Log Message:
-----------
2009-08-18 18:02 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/dir.mk
    % small simplification in used logic

  * harbour/config/dirsh.mk
    ! use := instead of = for DIR_RULE assignment - these rules contain
      dependencies macros which cannot be resolved during assignment

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dir.mk
    trunk/harbour/config/dirsh.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Aug 18 12:17:56 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 18 12:18:04 2009
Subject: [Harbour] GNU Make 3.81.90-20090801-CVS (win32)
Message-ID: <658FA10A-7D61-4E12-A491-32E158DDD52E@syenar.hu>

Hi all,

FYI, just made successful test with most recent local built
GNU Make 3.81.90-20090801 CVS version for win32 using MSVC.

It behaved the exact same as 3.81 with Harbour make files.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 18 12:45:34 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 18 12:45:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12158] trunk/harbour
In-Reply-To: <20090818145208.GA22925@uran.home.aster.pl>
References: <E1MdJvV-00074V-9z@bj8yhf1.ch3.sourceforge.com>
	<20090818100120.GA11139@uran.home.aster.pl>
	<B2F1C15F-AF05-4309-A052-78509C958356@syenar.hu>
	<20090818111609.GA21662@uran.home.aster.pl>
	<FE832AB6-AA66-42BA-9CCB-897418EA90C4@syenar.hu>
	<20090818132254.GA26242@uran.home.aster.pl>
	<84668784-F4BC-4006-88D8-5CD60019251A@syenar.hu>
	<20090818145208.GA22925@uran.home.aster.pl>
Message-ID: <E7513A71-8522-4FA1-98E8-C334D3D81A2E@syenar.hu>

> On Tue, 18 Aug 2009, Szak?ts Viktor wrote:
>>> We do not use autoconf so we have to guess what is available
>>> on given platform. It creates potential problems in portability,
>>> i.e. to older systems. I guess that current Harbour cannot be used
>>> with older MacOSX or Linux builds. Now I'm trying to cover all
>>> extended functions usage by HB_HAS_* or HB_USE_* macros.
>>> In the future I plan to group them in one header file which can
>>> be easy edited by user and/or overloaded (redefined) by autoconf.
>>>
>>> I do not have to even know the system name. Clean configuration
>>> should work with SCO, UNIXWARE and other *nixes not explicitly
>>> supported by us. Probably we will have to add generic POSIX/UNIX
>>> platform support to our .mk files.
>>
>> I agree with these. As for autoconf, if it can be used as a simple
>> tool to generate such config header as a pre-make step it can be  
>> nice,
>> but unfortunately autoconf is a *nix only tool, so it will be again
>> something which will have to be rewritten for non-*nix platforms,
>> and/or we will have to reintroduce parallel systems (*) for the same
>> thing for different platforms. I've yet to see what is the "magic"
>> of autoconf, but if possible I'd try to go in a direction which
>> is portable (like some .mk detection logic if it's possible to do).
>
> I want to add autoconf support optionally. I'll add empty
> include/hbaconf.h and include/hbconf.h which will #include
> hbaconf.h and hbsetup.h and then try to set HB_HAS_* macros using
> available information. So far everything will work as in current
> builds but if autoconf is available then it can be used to overwrite
> empty include/hbaconf.h with settings tuned for given platform.
> That's all.
> Then support for even very old OS-es will be only matter of some
> new rules/macros. We do not have to add explicit support support
> for different configuration and/or cross compilations but we
> need an easy way to create native binaries.
> If necessary we can also generate .mk file with some platform
> dependent settings hard to detect using pure GNU make code, i.e.
> is it necessary to use PIC switches and which ones?

Okay.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Aug 18 13:06:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 18 13:06:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12166] trunk/harbour
Message-ID: <E1MdS8U-00045F-Px@74yxhf1.ch3.sourceforge.com>

Revision: 12166
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12166&view=rev
Author:   vszakats
Date:     2009-08-18 17:06:13 +0000 (Tue, 18 Aug 2009)

Log Message:
-----------
2009-08-17 19:05 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/dirsh.mk
    + Added '@' prefixes for nt and os2 shells.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dirsh.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Aug 18 13:44:27 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 18 13:44:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12167] trunk/harbour
Message-ID: <E1MdSjT-0004td-LR@74yxhf1.ch3.sourceforge.com>

Revision: 12167
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12167&view=rev
Author:   druzus
Date:     2009-08-18 17:44:26 +0000 (Tue, 18 Aug 2009)

Log Message:
-----------
2009-08-18 19:44 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbodbc/odbc.c
  * harbour/contrib/rddsql/sddodbc/odbcdd.c
    * synced workarounds for missing in some header files SQL* definitions

  * harbour/config/globsh.mk
  * harbour/config/instsh.mk
    ! eliminated COMMAND.COM commands used for DOS shell - I've just tested
      that they do not work with pure MS-DOS 6.2 without using $(CMDPREF)
      though they works with FreeDOS. Anyhow we can safely eliminate them
      using dj-*.exe tools directly without any if ... command.com testing.
      It also resolve the problem with IF EXIST <DIR>\NUL which is always
      true in some environment, i.e. Novel-NetWare drives.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.mk
    trunk/harbour/config/instsh.mk
    trunk/harbour/contrib/hbodbc/odbc.c
    trunk/harbour/contrib/rddsql/sddodbc/odbcdd.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Aug 18 14:10:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 18 14:10:39 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12167] trunk/harbour
In-Reply-To: <E1MdSjS-0004tW-UB@74yxhf1.ch3.sourceforge.com>
References: <E1MdSjS-0004tW-UB@74yxhf1.ch3.sourceforge.com>
Message-ID: <84A7093F-A3BA-44E7-8EA9-0A1FCBFE04B1@syenar.hu>

Hi Przemek,

>  * harbour/config/globsh.mk
>  * harbour/config/instsh.mk
>    ! eliminated COMMAND.COM commands used for DOS shell - I've just  
> tested
>      that they do not work with pure MS-DOS 6.2 without using $ 
> (CMDPREF)
>      though they works with FreeDOS. Anyhow we can safely eliminate  
> them
>      using dj-*.exe tools directly without any if ... command.com  
> testing.
>      It also resolve the problem with IF EXIST <DIR>\NUL which is  
> always
>      true in some environment, i.e. Novel-NetWare drives.

Did 'echo' work alright in your tested environments?

I was thinking to add an $(ECHO) variable to make it
configurable. [ F.e. on some 3.80 win GNU make build
it's outright required. But just for the sake of this
buggy win make version I didn't want to do it. ]

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Aug 18 14:53:04 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 18 14:53:10 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12167] trunk/harbour
In-Reply-To: <84A7093F-A3BA-44E7-8EA9-0A1FCBFE04B1@syenar.hu>
References: <E1MdSjS-0004tW-UB@74yxhf1.ch3.sourceforge.com>
	<84A7093F-A3BA-44E7-8EA9-0A1FCBFE04B1@syenar.hu>
Message-ID: <20090818185304.GA28327@uran.home.aster.pl>

On Tue, 18 Aug 2009, Szak?ts Viktor wrote:

Hi,

> Did 'echo' work alright in your tested environments?

It was but AFAIR I have echo.exe in DJGPP bin dir so I will
have to test it without it. I'll check it later.

> I was thinking to add an $(ECHO) variable to make it
> configurable. [ F.e. on some 3.80 win GNU make build
> it's outright required. But just for the sake of this
> buggy win make version I didn't want to do it. ]

It's probably the same problem. Some commands do not work.
I've also notice that we have problem with $(RM) commands
used in source/pp/Makefile so I'll update also it.
Using $(ECHO) seems to be quite good idea. BTW maybe I should
write small program which can be used as RM, RDP, CP, MD, MDP
and echo replacement? i.e. fs$(BIN_EXT) which will support as
1-st parameter following one of the above action.

BTW make install in doc dir with default HB_DOC_INSTALL tries
to copy files to the same location generating a lot of warnings.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Aug 18 15:03:25 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 18 15:03:30 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12167] trunk/harbour
In-Reply-To: <20090818185304.GA28327@uran.home.aster.pl>
References: <E1MdSjS-0004tW-UB@74yxhf1.ch3.sourceforge.com>
	<84A7093F-A3BA-44E7-8EA9-0A1FCBFE04B1@syenar.hu>
	<20090818185304.GA28327@uran.home.aster.pl>
Message-ID: <20090818190325.GA17159@uran.home.aster.pl>

On Tue, 18 Aug 2009, Przemyslaw Czerpak wrote:
> > Did 'echo' work alright in your tested environments?
> It was but AFAIR I have echo.exe in DJGPP bin dir so I will
> have to test it without it. I'll check it later.

I've just checked it and it doesn't work when I removed echo.exe
from PATH so we should try to use $(ECHO) and redefine it if necessary.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Aug 18 15:21:00 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 18 15:21:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12168] trunk/harbour
Message-ID: <E1MdUEu-00071R-IN@74yxhf1.ch3.sourceforge.com>

Revision: 12168
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12168&view=rev
Author:   druzus
Date:     2009-08-18 19:20:59 +0000 (Tue, 18 Aug 2009)

Log Message:
-----------
2009-08-18 21:20 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  + harbour/config/dj-echo.exe
    + added DJGPP echo.exe

  * harbour/config/dirsh.mk
  * harbour/config/none.mk
  * harbour/config/global.mk
  * harbour/config/globsh.mk
  * harbour/config/instsh.mk
    * use '$(ECHO)' instead of 'echo'
    * replaced all COMMAND.COM commands by DJGPP tools

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dirsh.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/globsh.mk
    trunk/harbour/config/instsh.mk
    trunk/harbour/config/none.mk

Added Paths:
-----------
    trunk/harbour/config/dj-echo.exe


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Aug 18 15:35:00 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 18 15:35:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12169] trunk/harbour
Message-ID: <E1MdUSS-0007JT-8F@74yxhf1.ch3.sourceforge.com>

Revision: 12169
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12169&view=rev
Author:   druzus
Date:     2009-08-18 19:34:59 +0000 (Tue, 18 Aug 2009)

Log Message:
-----------
2009-08-18 21:34 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/global.mk
    * use $(error ...) instead of echo to inform about wrong GNU make
      version - it works for any targets i.e. clean

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Aug 18 15:44:28 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Aug 18 15:44:37 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12167] trunk/harbour
In-Reply-To: <20090818185304.GA28327@uran.home.aster.pl>
References: <E1MdSjS-0004tW-UB@74yxhf1.ch3.sourceforge.com>
	<84A7093F-A3BA-44E7-8EA9-0A1FCBFE04B1@syenar.hu>
	<20090818185304.GA28327@uran.home.aster.pl>
Message-ID: <18d502870908181244r68446ee6l3a1b04f0af5c372f@mail.gmail.com>

> It was but AFAIR I have echo.exe in DJGPP bin dir so I will
> have to test it without it. I'll check it later.
>
>> I was thinking to add an $(ECHO) variable to make it
>> configurable. [ F.e. on some 3.80 win GNU make build
>> it's outright required. But just for the sake of this
>> buggy win make version I didn't want to do it. ]
>
> It's probably the same problem. Some commands do not work.
> I've also notice that we have problem with $(RM) commands
> used in source/pp/Makefile so I'll update also it.
> Using $(ECHO) seems to be quite good idea. BTW maybe I should
> write small program which can be used as RM, RDP, CP, MD, MDP
> and echo replacement? i.e. fs$(BIN_EXT) which will support as
> 1-st parameter following one of the above action.

This would be the best option. [ Exactly what I suggested last week :)
'hbshell <cmd> <par[s]>' ]

This would clear any possible licensing issues also.

> BTW make install in doc dir with default HB_DOC_INSTALL tries
> to copy files to the same location generating a lot of warnings.

This is expected. On non-*nix the default install dir is the source tree itself.

Brgds,
Viktor
From fernando_athayde at yahoo.com.br  Tue Aug 18 15:49:47 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Tue Aug 18 15:49:53 2009
Subject: [Harbour] compile problem SVN version
Message-ID: <633475.62431.qm@web52207.mail.re2.yahoo.com>

pocc.exe  -I. -Ze -Go -W1 -Ot -Tarm-coff -D_M_ARM -D_WINCE -I../../../../../include  -DUNICODE   -Foodbc.obj -c ../../../odbc.c ../../../odbc.c(82): fatal error #1035: Can't find include file <sql.h>.
mingw32-make[3]: *** [odbc.obj] Error 1
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [hbodbc] Error 2
mingw32-make: *** [contrib] Error 2

I'm using poccarm

Thanks,
Fernando Athayde


      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090818/49a91de2/attachment.html
From harbour.01 at syenar.hu  Tue Aug 18 15:49:57 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Aug 18 15:50:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12168] trunk/harbour
In-Reply-To: <E1MdUEu-00071R-IN@74yxhf1.ch3.sourceforge.com>
References: <E1MdUEu-00071R-IN@74yxhf1.ch3.sourceforge.com>
Message-ID: <18d502870908181249k32ef894cg989861d92a1fa64c@mail.gmail.com>

Thank you.

There are some more 'echo' invocations under <arch> dirs, probably
these should be changed also.

Also, either we should change dj-echo.exe to a known build with
links to binary and sources (I have links to djgpp files) or provide
links for this one. This one is actually better than my latest DJGPP
version (not that it'd make a difference for our use).

Brgds,
Viktor

On Tue, Aug 18, 2009 at 9:21 PM, <druzus@users.sourceforge.net> wrote:
> Revision: 12168
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12168&view=rev
> Author: ? druzus
> Date: ? ? 2009-08-18 19:20:59 +0000 (Tue, 18 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-18 21:20 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> ?+ harbour/config/dj-echo.exe
> ? ?+ added DJGPP echo.exe
>
> ?* harbour/config/dirsh.mk
> ?* harbour/config/none.mk
> ?* harbour/config/global.mk
> ?* harbour/config/globsh.mk
> ?* harbour/config/instsh.mk
> ? ?* use '$(ECHO)' instead of 'echo'
> ? ?* replaced all COMMAND.COM commands by DJGPP tools
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/config/dirsh.mk
> ? ?trunk/harbour/config/global.mk
> ? ?trunk/harbour/config/globsh.mk
> ? ?trunk/harbour/config/instsh.mk
> ? ?trunk/harbour/config/none.mk
>
> Added Paths:
> -----------
> ? ?trunk/harbour/config/dj-echo.exe
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From vszakats at users.sourceforge.net  Tue Aug 18 16:48:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 18 16:48:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12170] trunk/harbour
Message-ID: <E1MdVbX-0003iV-IO@dn4whf1.ch3.sourceforge.com>

Revision: 12170
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12170&view=rev
Author:   vszakats
Date:     2009-08-18 20:48:21 +0000 (Tue, 18 Aug 2009)

Log Message:
-----------
2009-08-18 22:46 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/dos/watcom.mk
  * config/dos/djgpp.mk
  * config/win/bcc.mk
  * config/win/watcom.mk
  * config/os2/watcom.mk
  * config/os2/gcc.mk
    * 'echo' -> '$(ECHO)'

  * config/readme.txt
    + Added link to DJGPP echo tool.
    ; TOFIX: This isn't the echo tool which is currently included 
             in SVN, but points to the place where other dj-*.exes 
             came from.

  * ChangeLog
    ! Fixed date in my today's entries.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/config/readme.txt
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/config/win/watcom.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Aug 18 16:57:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 18 16:57:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12171] trunk/harbour
Message-ID: <E1MdVjs-000412-L6@dn4whf1.ch3.sourceforge.com>

Revision: 12171
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12171&view=rev
Author:   vszakats
Date:     2009-08-18 20:57:03 +0000 (Tue, 18 Aug 2009)

Log Message:
-----------
2009-08-18 22:56 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
  * config/globsh.mk
    * ECHOQUOTE variable moved to per shell sections.
    ! ECHOQUOTE set to '"' for dos shells.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/config/globsh.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Aug 18 17:33:05 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 18 17:33:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12172] trunk/harbour
Message-ID: <E1MdWIj-0005i7-4x@c3vjzd1.ch3.sourceforge.com>

Revision: 12172
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12172&view=rev
Author:   druzus
Date:     2009-08-18 21:32:51 +0000 (Tue, 18 Aug 2009)

Log Message:
-----------
2009-08-18 23:32 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/win/bcc.mk
    * eliminated IF EXIST command and updated to work with non NT shells.
      Now only OS2 gcc.mk and watcom.mk uses directly IF & FOR shell
      commands.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/bcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From elart at elart.it  Tue Aug 18 17:38:07 2009
From: elart at elart.it (elart)
Date: Tue Aug 18 17:38:25 2009
Subject: [Harbour] Compile error cannot find...: make_gnu.sh: No such file
	or directory
Message-ID: <4A8B1F3F.2030208@elart.it>

Cannot find and compile make_gnu.sh on Linux...

bash: make_gnu.sh: No such file or directory

Thank you
From carozodequilmes at gmail.com  Tue Aug 18 18:04:52 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Tue Aug 18 18:04:58 2009
Subject: [Harbour] Plugins in hbqts library
Message-ID: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>

Hi Pritpal, can you add support for plugins in STATIC hbqt library ?????

I need it for use JPG image format and ODBC driver.

http://qt.nokia.com/doc/4.5/plugins-howto.html

Thanks in advance

CdQ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090818/32f3cbee/attachment.html
From bruno.luciani at gmail.com  Tue Aug 18 19:51:24 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Aug 18 19:51:31 2009
Subject: [Harbour] Compile error cannot find...: make_gnu.sh: No such file
	or directory
In-Reply-To: <4A8B1F3F.2030208@elart.it>
References: <4A8B1F3F.2030208@elart.it>
Message-ID: <133778360908181651v240db314m139a1b26b34f2167@mail.gmail.com>

Elart , make_gnu.sh is not part of harbour anymore

i don't know how to compile in linux but may be in install file explains it

Bruno Luciani

2009/8/18 elart <elart@elart.it>

> Cannot find and compile make_gnu.sh on Linux...
>
> bash: make_gnu.sh: No such file or directory
>
> Thank you
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090818/9a5d1823/attachment.html
From bedipritpal at hotmail.com  Tue Aug 18 20:03:14 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Aug 18 20:03:20 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>
Message-ID: <25035630.post@talk.nabble.com>


Hi


CarozoDeQuilmes wrote:
> 
> Hi Pritpal, can you add support for plugins in STATIC hbqt library ?????
> 
> I need it for use JPG image format and ODBC driver.
> 
> http://qt.nokia.com/doc/4.5/plugins-howto.html
> 

I am trying to understand the concept.
You can explain how you will use it in .prg code.
It will tell me what must be coded in hbqt.lib.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Plugins-in-hbqts-library-tp25034339p25035630.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From april_white at sympatico.ca  Tue Aug 18 20:20:30 2009
From: april_white at sympatico.ca (April White)
Date: Tue Aug 18 20:20:40 2009
Subject: [Harbour] I need a comparison between HB_C52_STRICT and HB_C52_UNDOC
Message-ID: <BLU0-SMTP229968B33201F97EB2DB2BEFFE0@phx.gbl>

Some parts of the source is conditional on one or the other of: 
HB_C52_STRICT and HB_C52_UNDOC
 
Does this mean there is:
    C52 with strict and without undoc
    C52 with strict and with undoc
    C52 without strict and without undoc
    C52 without strict and with undoc

These conditionals are also present within the hbextern.ch file and some 
of the doc/*.txt files.  I am trying to understand these two in order to 
handle them better.

I'm trying to use codes to indicate compliance; I was going to use C52U 
for undocumented when I realized there was also strict.

April

-- 
The early worm gets eaten by the bird, so sleep late.

From elart at elart.it  Tue Aug 18 20:51:09 2009
From: elart at elart.it (elart)
Date: Tue Aug 18 20:51:28 2009
Subject: [Harbour] Compile error cannot find...: make_gnu.sh: No such
	file or directory
In-Reply-To: <133778360908181651v240db314m139a1b26b34f2167@mail.gmail.com>
References: <4A8B1F3F.2030208@elart.it>
	<133778360908181651v240db314m139a1b26b34f2167@mail.gmail.com>
Message-ID: <4A8B4C7D.10500@elart.it>

On 08/19/2009 01:51 AM, Bruno Luciani wrote:
> Elart , make_gnu.sh is not part of harbour anymore
>
> i don't know how to compile in linux but may be in install file explains it
>
> Bruno Luciani

Thank Bruno on a Ubuntu 9.04 i run this... but might be a better 
method... please tell.

cd to the directory where there are the downloaded harbour svn sources

cd $HOME/src/harbour

then i simply type:

make

i think i must play with the other HB_ exported shell variables to 
include other library into my default build mode.

Thank you


From elart at elart.it  Tue Aug 18 21:18:34 2009
From: elart at elart.it (elart)
Date: Tue Aug 18 21:18:51 2009
Subject: [Harbour] Compile error cannot find...: make_gnu.sh: No such
	file or directory
In-Reply-To: <4A8B4C7D.10500@elart.it>
References: <4A8B1F3F.2030208@elart.it>	<133778360908181651v240db314m139a1b26b34f2167@mail.gmail.com>
	<4A8B4C7D.10500@elart.it>
Message-ID: <4A8B52EA.5020605@elart.it>

On 08/19/2009 02:51 AM, elart wrote:
> On 08/19/2009 01:51 AM, Bruno Luciani wrote:
>> Elart , make_gnu.sh is not part of harbour anymore
>>
>> i don't know how to compile in linux but may be in install file
>> explains it
>>
>> Bruno Luciani
>
> Thank Bruno on a Ubuntu 9.04 i run this... but might be a better
> method... please tell.
>
> cd to the directory where there are the downloaded harbour svn sources
>
> cd $HOME/src/harbour
>
> then i simply type:
>
> make
>
> i think i must play with the other HB_ exported shell variables to
> include other library into my default build mode.
>
> Thank you
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

Then i type:

sudo make install

and i get this error

! Installing ../../lib/linux/gcc/liblibhpdf.a on /usr/local/lib/harbour
! 'libpng' library skipped
! 'sqlite3' library skipped
.\bin\postinst.bat
make: .binpostinst.bat: Command not found
make: *** [install] Error 127

From carozodequilmes at gmail.com  Tue Aug 18 21:31:23 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Tue Aug 18 21:31:29 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <25035630.post@talk.nabble.com>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>
	<25035630.post@talk.nabble.com>
Message-ID: <578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>

Hi Pritpal, I don't know how use it.  I read the Qt Documentation and I have
see that in a c++ program I only need coded:
#include <QtPlugin>

Q_IMPORT_PLUGIN(qjpeg)
and then, add plugin library for jpeg (supplied in
\qt\2009.03\qt\plugins\imageformats) into linkedit process.

Sorry, but I don't know anymore, I only have make a sample with STATIC
libraries that run fine, it show png and bmp but it don't show jpg because
in STATIC mode, the Qt Plugins don't work by default (qjpeg is a plugin for
jpeg images).

Thanks in advance
CdQ



On Tue, Aug 18, 2009 at 9:03 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi
>
>
> CarozoDeQuilmes wrote:
> >
> > Hi Pritpal, can you add support for plugins in STATIC hbqt library ?????
> >
> > I need it for use JPG image format and ODBC driver.
> >
> > http://qt.nokia.com/doc/4.5/plugins-howto.html
> >
>
> I am trying to understand the concept.
> You can explain how you will use it in .prg code.
> It will tell me what must be coded in hbqt.lib.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/Plugins-in-hbqts-library-tp25034339p25035630.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
QAC (I want something comfortable !!!) - Incremental Compilation with all
MiniGUIs versions
QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
versiones de MiniGUI

Download: www.CarozoDeQuilmes.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090818/1718ff13/attachment.html
From bruno.luciani at gmail.com  Tue Aug 18 21:34:05 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Aug 18 21:34:12 2009
Subject: [Harbour] Compile error cannot find...: make_gnu.sh: No such file
	or directory
In-Reply-To: <4A8B52EA.5020605@elart.it>
References: <4A8B1F3F.2030208@elart.it>
	<133778360908181651v240db314m139a1b26b34f2167@mail.gmail.com>
	<4A8B4C7D.10500@elart.it> <4A8B52EA.5020605@elart.it>
Message-ID: <133778360908181834n3e7ba397m5635de698e25dd90@mail.gmail.com>

I think that you use the correct method

may be a bug  ?  postinst.bat is a windows command

May be this help you

////////////////////////////////////////////////////////////////////

   For all platforms you'll need:

   * Supported ANSI C compiler
   * GNU Make (3.81 or upper)
   * Harbour sources (2.0.0 or upper)

   Linux/Darwin
   ------------
    [ $ export HB_COMPILER=<gcc|watcom|icc|sunpro> ]
    [ $ export HB_INSTALL_PREFIX=<DIR> ]
      $ make install


/////////////////////////////////////////////////////////////////////////////


Regard' s

Bruno

2009/8/18 elart <elart@elart.it>

> On 08/19/2009 02:51 AM, elart wrote:
>
>> On 08/19/2009 01:51 AM, Bruno Luciani wrote:
>>
>>> Elart , make_gnu.sh is not part of harbour anymore
>>>
>>> i don't know how to compile in linux but may be in install file
>>> explains it
>>>
>>> Bruno Luciani
>>>
>>
>> Thank Bruno on a Ubuntu 9.04 i run this... but might be a better
>> method... please tell.
>>
>> cd to the directory where there are the downloaded harbour svn sources
>>
>> cd $HOME/src/harbour
>>
>> then i simply type:
>>
>> make
>>
>> i think i must play with the other HB_ exported shell variables to
>> include other library into my default build mode.
>>
>> Thank you
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> Then i type:
>
> sudo make install
>
> and i get this error
>
> ! Installing ../../lib/linux/gcc/liblibhpdf.a on /usr/local/lib/harbour
> ! 'libpng' library skipped
> ! 'sqlite3' library skipped
> .\bin\postinst.bat
> make: .binpostinst.bat: Command not found
> make: *** [install] Error 127
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090818/b44b582b/attachment.html
From vouchcac at users.sourceforge.net  Tue Aug 18 21:49:16 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Aug 18 21:49:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12173] trunk/harbour
Message-ID: <E1MdaIe-0007J8-J9@d5vjzd1.ch3.sourceforge.com>

Revision: 12173
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12173&view=rev
Author:   vouchcac
Date:     2009-08-19 01:49:07 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-18 18:46 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt.ch
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_slots.h
  * contrib/hbqt/moc_slots.cpp
    + Added more event handlers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt.ch
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h
    trunk/harbour/contrib/hbqt/moc_slots.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Tue Aug 18 21:54:18 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Aug 18 21:54:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12174] trunk/harbour
Message-ID: <E1MdaNW-0007Oa-Bj@d5vjzd1.ch3.sourceforge.com>

Revision: 12174
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12174&view=rev
Author:   vouchcac
Date:     2009-08-19 01:54:13 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-18 18:51 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpwindow.prg
    ! Some tweaks.
  * contrib/hbxbp/xbpbrowse.prg
    + Implemented Footers.
    + Reworked entire browse management. Now Qt's powerful "LAYOUT" features
      are exploited.
    ! Thoughly rewritten horizontal scrolling.

  * contrib/hbxbp/tests/demoxbp.prg
    + Demonstrated Footer implementation.
      Please play with horizontal scrolling.

    ;TODO : Left Freeze and RightFreeze
            I have an idea how to do it.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fernando_athayde at yahoo.com.br  Tue Aug 18 22:10:19 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Tue Aug 18 22:10:26 2009
Subject: [Harbour] error compile SVN in olecore.c
Message-ID: <615112.19854.qm@web52208.mail.re2.yahoo.com>

ude  -DUNICODE   -Foolecore.obj -c ../../../olecore.c
../../../olecore.c(239): error #2152: Unknown field 'llVal' of 'union (no name)'
.
../../../olecore.c(247): error #2152: Unknown field 'pllVal' of 'union (no name)
'.
../../../olecore.c(247): error #2152: Unknown field 'llVal' of 'union (no name)'
.
../../../olecore.c(247): error #2168: Operands of = have incompatible types 'int
' and 'int *'.
../../../olecore.c(490): error #2152: Unknown field 'llVal' of 'union (no name)'
.
../../../olecore.c(501): error #2152: Unknown field 'pllVal' of 'union (no name)
'.
../../../olecore.c(501): error #2144: Type error: pointer expected.
../../../olecore.c(534): error #2152: Unknown field 'ullVal' of 'union (no name)
'.
../../../olecore.c(546): error #2152: Unknown field 'pullVal' of 'union (no name
)'.
../../../olecore.c(546): error #2144: Type error: pointer expected.
mingw32-make[3]: *** [olecore.obj] Error 1
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [hbwin] Error 2
mingw32-make: *** [contrib] Error 2

Thanks,
Fernando Athayde


__________________________________________________
Fale com seus amigos  de gra?a com o novo Yahoo! Messenger 
http://br.messenger.yahoo.com/ 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090818/b616e827/attachment-0001.html
From druzus at users.sourceforge.net  Tue Aug 18 22:43:31 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 18 22:43:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12175] trunk/harbour
Message-ID: <E1Mdb99-00069a-K1@dn4whf1.ch3.sourceforge.com>

Revision: 12175
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12175&view=rev
Author:   druzus
Date:     2009-08-19 02:43:23 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-19 04:42 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbgtinfo.ch
    * formatting

  * harbour/include/Makefile
  - harbour/include/hbgetcmt.ch
    - removed redundant header file

  * harbour/contrib/hbwin/olecore.c
    * added workaround for wrong OLE variant structure definition
      in some C compilers header files

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/include/Makefile
    trunk/harbour/include/hbgtinfo.ch

Removed Paths:
-------------
    trunk/harbour/include/hbgetcmt.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From elart at elart.it  Tue Aug 18 23:03:20 2009
From: elart at elart.it (elart)
Date: Tue Aug 18 23:03:38 2009
Subject: [Harbour] Make install on linux why make: .binpostinst.bat: Command
 not found, make: *** [install] Error 127
Message-ID: <4A8B6B78.8070102@elart.it>

On Ubuntu 9.04 32 bits compiling from latest svn sources when i try make 
install i get this error

make[3]: `../../../../../lib/linux/gcc/liblibhpdf.a' is up to date.
! Installing ../../lib/linux/gcc/liblibhpdf.a on /usr/local/lib/harbour
! 'libpng' library skipped
! 'sqlite3' library skipped
.\bin\postinst.bat
make: .binpostinst.bat: Command not found
make: *** [install] Error 127

Thank you
From harbour.01 at syenar.hu  Tue Aug 18 23:53:45 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 18 23:53:55 2009
Subject: [Harbour] I need a comparison between HB_C52_STRICT and
	HB_C52_UNDOC
In-Reply-To: <BLU0-SMTP229968B33201F97EB2DB2BEFFE0@phx.gbl>
References: <BLU0-SMTP229968B33201F97EB2DB2BEFFE0@phx.gbl>
Message-ID: <F952D950-5D3A-4C1E-981C-AC798A52CE44@syenar.hu>

Hi April,

UNDOC marks undocumented functions. If not set, these
functions are left out from Harbour build.

STRICT marks strict C52/C53 behavior inside functions.
It usually causes subtle differences, and we use it
in the first place to document any such differences in
our source code.

Brgds,
Viktor

On 2009.08.19., at 2:20, April White wrote:

> Some parts of the source is conditional on one or the other of:  
> HB_C52_STRICT and HB_C52_UNDOC
> Does this mean there is:
>   C52 with strict and without undoc
>   C52 with strict and with undoc
>   C52 without strict and without undoc
>   C52 without strict and with undoc
>
> These conditionals are also present within the hbextern.ch file and  
> some of the doc/*.txt files.  I am trying to understand these two in  
> order to handle them better.
>
> I'm trying to use codes to indicate compliance; I was going to use  
> C52U for undocumented when I realized there was also strict.
>
> April
>
> -- 
> The early worm gets eaten by the bird, so sleep late.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Aug 18 23:57:18 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 18 23:57:28 2009
Subject: [Harbour] Compile error cannot find...: make_gnu.sh: No such file
	or directory
In-Reply-To: <4A8B52EA.5020605@elart.it>
References: <4A8B1F3F.2030208@elart.it>	<133778360908181651v240db314m139a1b26b34f2167@mail.gmail.com>
	<4A8B4C7D.10500@elart.it> <4A8B52EA.5020605@elart.it>
Message-ID: <4F3FB79F-EA8A-4796-B82F-3B42EC986C10@syenar.hu>

> Then i type:
>
> sudo make install
>
> and i get this error
>
> ! Installing ../../lib/linux/gcc/liblibhpdf.a on /usr/local/lib/ 
> harbour
> ! 'libpng' library skipped
> ! 'sqlite3' library skipped
> .\bin\postinst.bat
> make: .binpostinst.bat: Command not found
> make: *** [install] Error 127

That's interesting. Here it works w/o problems on Ubuntu 9.04.

Can you post your the top of your output?

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Aug 19 00:01:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 00:01:12 2009
Subject: [Harbour] error compile SVN in olecore.c
In-Reply-To: <615112.19854.qm@web52208.mail.re2.yahoo.com>
References: <615112.19854.qm@web52208.mail.re2.yahoo.com>
Message-ID: <5E775E01-71C8-4933-BCAC-F2F67D84054F@syenar.hu>

Hi Fernando,

Thanks for your report, but please post information like
platform, compiler type and version. Without these, it's
difficult to do any fix.

Brgds,
Viktor

On 2009.08.19., at 4:10, Fernando Athayde wrote:

> ude  -DUNICODE   -Foolecore.obj -c ../../../olecore.c
> ../../../olecore.c(239): error #2152: Unknown field 'llVal' of  
> 'union (no name)'
> .
> ../../../olecore.c(247): error #2152: Unknown field 'pllVal' of  
> 'union (no name)
> '.
> ../../../olecore.c(247): error #2152: Unknown field 'llVal' of  
> 'union (no name)'
> .
> ../../../olecore.c(247): error #2168: Operands of = have  
> incompatible types 'int
> ' and 'int *'.
> ../../../olecore.c(490): error #2152: Unknown field 'llVal' of  
> 'union (no name)'
> .
> ../../../olecore.c(501): error #2152: Unknown field 'pllVal' of  
> 'union (no name)
> '.
> ../../../olecore.c(501): error #2144: Type error: pointer expected.
> ../../../olecore.c(534): error #2152: Unknown field 'ullVal' of  
> 'union (no name)
> '.
> ../../../olecore.c(546): error #2152: Unknown field 'pullVal' of  
> 'union (no name
> )'.
> ../../../olecore.c(546): error #2144: Type error: pointer expected.
> mingw32-make[3]: *** [olecore.obj] Error 1
> mingw32-make[2]: *** [descend] Error 2
> mingw32-make[1]: *** [hbwin] Error 2
> mingw32-make: *** [contrib] Error 2
>
> Thanks,
> Fernando Athayde
>
> __________________________________________________
> Fale com seus amigos de gra?a com o novo Yahoo! Messenger
> http://br.messenger.yahoo.com/  
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Wed Aug 19 00:18:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 19 00:18:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12176] trunk/harbour
Message-ID: <E1Mdcd0-0000BH-U4@74yxhf1.ch3.sourceforge.com>

Revision: 12176
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12176&view=rev
Author:   vszakats
Date:     2009-08-19 04:18:25 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-19 06:16 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added wininet syslib to std lib list for win platform.
      (to be in sync with wce and hbmk script).

  * INSTALL
    * Using 'platform' in a few places where 'architecture' was used
      in text.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Aug 19 00:29:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 19 00:29:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12177] trunk/harbour
Message-ID: <E1Mdcnk-0000M3-Rr@74yxhf1.ch3.sourceforge.com>

Revision: 12177
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12177&view=rev
Author:   vszakats
Date:     2009-08-19 04:29:31 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-19 06:29 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/thtml.prg
    ! Fixed hang in 'OEMTOHTML( "&" )'. Reported on c.l.xhb.
      Fix based on Eduardo Fernandes suggestion, although done 
      a little differently and extended to avoid new RTE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/thtml.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Aug 19 00:35:04 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 00:35:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12174] trunk/harbour
In-Reply-To: <E1MdaNW-0007Oa-Bj@d5vjzd1.ch3.sourceforge.com>
References: <E1MdaNW-0007Oa-Bj@d5vjzd1.ch3.sourceforge.com>
Message-ID: <DAFE172C-1830-41E2-95A1-E9B27DC37FFD@syenar.hu>

Hi Pritpal,

Great improvements, thank you.

Just a little note: The footers are misaligned (shifted to the left)
by a few pixels compared to the actual columns.

Brgds,
Viktor

On 2009.08.19., at 3:54, vouchcac@users.sourceforge.net wrote:

> Revision: 12174
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12174&view=rev
> Author:   vouchcac
> Date:     2009-08-19 01:54:13 +0000 (Wed, 19 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-18 18:51 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbxbp/xbpwindow.prg
>    ! Some tweaks.
>  * contrib/hbxbp/xbpbrowse.prg
>    + Implemented Footers.
>    + Reworked entire browse management. Now Qt's powerful "LAYOUT"  
> features
>      are exploited.
>    ! Thoughly rewritten horizontal scrolling.
>
>  * contrib/hbxbp/tests/demoxbp.prg
>    + Demonstrated Footer implementation.
>      Please play with horizontal scrolling.
>
>    ;TODO : Left Freeze and RightFreeze
>            I have an idea how to do it.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
>    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
>    trunk/harbour/contrib/hbxbp/xbpwindow.prg
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug 19 00:36:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 00:36:42 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>
	<25035630.post@talk.nabble.com>
	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>
Message-ID: <B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>

Hi folks,

I'm not sure we should implement whole QT plugin functionality
just to support jpeg files.

If it helps I can add jpeg library to externals. Maybe some
Harbour wrappers to that could solve such problems.

Brgds,
Viktor

On 2009.08.19., at 3:31, CarozoDeQuilmes wrote:

> Hi Pritpal, I don't know how use it.  I read the Qt Documentation  
> and I have see that in a c++ program I only need coded:
>
> #include <QtPlugin>
>
> Q_IMPORT_PLUGIN(qjpeg)
>
> and then, add plugin library for jpeg (supplied in \qt\2009.03\qt 
> \plugins\imageformats) into linkedit process.
>
> Sorry, but I don't know anymore, I only have make a sample with  
> STATIC libraries that run fine, it show png and bmp but it don't  
> show jpg because in STATIC mode, the Qt Plugins don't work by  
> default (qjpeg is a plugin for jpeg images).
>
> Thanks in advance
> CdQ
>
>
>
> On Tue, Aug 18, 2009 at 9:03 PM, Pritpal Bedi  
> <bedipritpal@hotmail.com> wrote:
>
> Hi
>
>
> CarozoDeQuilmes wrote:
> >
> > Hi Pritpal, can you add support for plugins in STATIC hbqt  
> library ?????
> >
> > I need it for use JPG image format and ODBC driver.
> >
> > http://qt.nokia.com/doc/4.5/plugins-howto.html
> >
>
> I am trying to understand the concept.
> You can explain how you will use it in .prg code.
> It will tell me what must be coded in hbqt.lib.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context: http://www.nabble.com/Plugins-in-hbqts-library-tp25034339p25035630.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
> -- 
> QAC (I want something comfortable !!!) - Incremental Compilation  
> with all MiniGUIs versions
> QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las  
> versiones de MiniGUI
>
> Download: www.CarozoDeQuilmes.com.ar
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Wed Aug 19 01:32:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 19 01:32:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12178] trunk/harbour
Message-ID: <E1Mddms-0006qu-Lq@c3vjzd1.ch3.sourceforge.com>

Revision: 12178
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12178&view=rev
Author:   vszakats
Date:     2009-08-19 05:32:41 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-19 07:31 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    ! Applied Phil Krylov's patch to mingw32 detection on gentoo Linux.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Wed Aug 19 04:50:24 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 19 04:50:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12179] trunk/harbour
Message-ID: <E1MdgsC-0006SU-95@d5vjzd1.ch3.sourceforge.com>

Revision: 12179
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12179&view=rev
Author:   vszakats
Date:     2009-08-19 08:50:21 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-19 10:49 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * external/sqlite3/sqlite3.c
  * external/sqlite3/sqlite3.h
    + sqlite upgraded to 3.6.17 (from 3.6.16)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/external/sqlite3/sqlite3.c
    trunk/harbour/external/sqlite3/sqlite3.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Wed Aug 19 05:06:22 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Aug 19 05:06:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12180] trunk/harbour
Message-ID: <E1Mdh7e-0000JV-D7@dn4whf1.ch3.sourceforge.com>

Revision: 12180
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12180&view=rev
Author:   druzus
Date:     2009-08-19 09:06:21 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-19 11:05 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/Makefile
  * harbour/config/dir.mk
  * harbour/config/global.mk
    * eliminated HB_*POSTINST* variables, now it's used only localy
      in harbour/Makefile
    * modified root Makefile detection

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/Makefile
    trunk/harbour/config/dir.mk
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Aug 19 05:20:33 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug 19 05:20:40 2009
Subject: [Harbour] Make install on linux why make: .binpostinst.bat:
	Command not found, make: *** [install] Error 127
In-Reply-To: <4A8B6B78.8070102@elart.it>
References: <4A8B6B78.8070102@elart.it>
Message-ID: <20090819092033.GA15802@uran.home.aster.pl>

On Wed, 19 Aug 2009, elart wrote:

Hi,

> On Ubuntu 9.04 32 bits compiling from latest svn sources when i try make 
> install i get this error
> make[3]: `../../../../../lib/linux/gcc/liblibhpdf.a' is up to date.
> ! Installing ../../lib/linux/gcc/liblibhpdf.a on /usr/local/lib/harbour
> ! 'libpng' library skipped
> ! 'sqlite3' library skipped
> .\bin\postinst.bat
> make: .binpostinst.bat: Command not found
> make: *** [install] Error 127

I guess that you are using ksh as your default shell.
What shows:
   echo $is
and
   echo $SHELL
?

best regards,
Przemek
From druzus at users.sourceforge.net  Wed Aug 19 05:35:21 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Aug 19 05:35:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12181] trunk/harbour
Message-ID: <E1MdhZh-0002w8-Is@c3vjzd1.ch3.sourceforge.com>

Revision: 12181
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12181&view=rev
Author:   druzus
Date:     2009-08-19 09:35:20 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-19 11:34 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/global.mk
    ! extended shell detection - now when we do not use make_gnu.sh
      we have to accept also shells like ksh which do not set SHLVL
      envvar.
      Probably the safest method is using HB_SHELL=sh for all host
      platforms except DOS, WIN & OS2.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fernando_athayde at yahoo.com.br  Wed Aug 19 06:44:20 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Wed Aug 19 06:44:25 2009
Subject: [Harbour] error compile SVN in olecore.c now in another line
In-Reply-To: <5E775E01-71C8-4933-BCAC-F2F67D84054F@syenar.hu>
References: <615112.19854.qm@web52208.mail.re2.yahoo.com>
	<5E775E01-71C8-4933-BCAC-F2F67D84054F@syenar.hu>
Message-ID: <790575.42233.qm@web52207.mail.re2.yahoo.com>

E:\harbour_cvs\bin\win\pocc/harbour.exe ../../../thtml.prg -n1  -i../../../../..
/include -q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__WINDOWS -D__PLATFORM__WINDOWS
-D__PLATFORM__WINCE
pocc.exe  -I. -Ze -Go -W1 -Ot -Tarm-coff -D_M_ARM -D_WINCE -I../../../../../incl
ude  -DUNICODE   -Fothtml.obj -c thtml.c
polib.exe   /out:../../../../../lib/wce/poccarm/hbtip.lib encmthd.obj utils.obj
cgi.obj client.obj credent.obj encb64.obj encoder.obj encqp.obj encurl.obj ftpcl
i.obj httpcli.obj log.obj mail.obj popcli.obj sendmail.obj sessid.obj smtpcli.ob
j thtml.obj url.obj
mingw32-make[3]: `../../../../../lib/wce/poccarm/hbtpathy.lib' is up to date.
mingw32-make[3]: `../../../../../lib/wce/poccarm/hbvpdf.lib' is up to date.
pocc.exe  -I. -Ze -Go -W1 -Ot -Tarm-coff -D_M_ARM -D_WINCE -I../../../../../incl
ude  -DUNICODE   -Foolecore.obj -c ../../../olecore.c
../../../olecore.c(516): error #2152: Unknown field 'pllVal' of 'union (no name)
'.
../../../olecore.c(516): error #2144: Type error: pointer expected.
../../../olecore.c(564): error #2152: Unknown field 'pullVal' of 'union (no name
)'.
../../../olecore.c(564): error #2144: Type error: pointer expected.
mingw32-make[3]: *** [olecore.obj] Error 1
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [hbwin] Error 2
mingw32-make: *** [contrib] Error 2

use: poccarm
os: windows7

Thanks,
Fernando




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Quarta-feira, 19 de Agosto de 2009 1:01:01
Assunto: Re: [Harbour] error compile SVN in olecore.c

Hi Fernando,

Thanks for your report, but please post information like
platform, compiler type and version. Without these, it's
difficult to do any fix.

Brgds,
Viktor

On 2009.08.19., at 4:10, Fernando Athayde wrote:

> ude  -DUNICODE   -Foolecore.obj -c ../../../olecore.c
> ../../../olecore.c(239): error #2152: Unknown field 'llVal' of 'union (no name)'
> .
> ../../../olecore.c(247): error #2152: Unknown field 'pllVal' of 'union (no name)
> '.
> ../../../olecore.c(247): error #2152: Unknown field 'llVal' of 'union (no name)'
> .
> ../../../olecore.c(247): error #2168: Operands of = have incompatible types 'int
> ' and 'int *'.
> ../../../olecore.c(490): error #2152: Unknown field 'llVal' of 'union (no name)'
> .
> ../../../olecore.c(501): error #2152: Unknown field 'pllVal' of 'union (no name)
> '.
> ../../../olecore.c(501): error #2144: Type error: pointer expected.
> ../../../olecore.c(534): error #2152: Unknown field 'ullVal' of 'union (no name)
> '.
> ../../../olecore.c(546): error #2152: Unknown field 'pullVal' of 'union (no name
> )'.
> ../../../olecore.c(546): error #2144: Type error: pointer expected.
> mingw32-make[3]: *** [olecore.obj] Error 1
> mingw32-make[2]: *** [descend] Error 2
> mingw32-make[1]: *** [hbwin] Error 2
> mingw32-make: *** [contrib] Error 2
> 
> Thanks,
> Fernando Athayde
> 
> __________________________________________________
> Fale com seus amigos de gra?a com o novo Yahoo! Messenger
> http://br.messenger.yahoo.com/ _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour


__________________________________________________
Fale com seus amigos  de gra?a com o novo Yahoo! Messenger 
http://br.messenger.yahoo.com/ 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090819/e328baae/attachment.html
From carozodequilmes at gmail.com  Wed Aug 19 09:31:21 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Wed Aug 19 09:31:26 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>
	<25035630.post@talk.nabble.com>
	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>
	<B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>
Message-ID: <578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>

Hi Viktor, Qt has implemented many plugins very interesting:


Plugin nameTypeDescription qtaccessiblecompatwidgetsAccessibilityAccessibility
for Qt 3 support widgets qtaccessiblewidgetsAccessibilityAccessibility for
Qt widgets qdecorationdefaultDecorations (Qt Extended)Default style
qdecorationwindowsDecorations (Qt Extended)Windows style qgifImage formats
GIF qjpegImage formatsJPEG qmngImage formatsMNG qicoImage formatsICO qsvgImage
formatsSVG qtiffImage formatsTIFF qimsw_multiInput methods (Qt Extended)Input
Method Switcher qwstslibmousehandlerMouse drivers (Qt Extended)tslib mouse
qgfxtransformedGraphic drivers (Qt Extended)Transformed screen qgfxvncGraphic
drivers (Qt Extended)VNC qscreenvfbGraphic drivers (Qt Extended)Virtual
frame buffer qsqldb2SQL driverIBM DB2 qsqlibaseSQL driverBorland InterBase
qsqliteSQL driverSQLite version 3 qsqlite2SQL driverSQLite version 2
qsqlmysqlSQL driverMySQL qsqlociSQL driverOracle (OCI) qsqlodbcSQL driverOpen
Database Connectivity (ODBC) qsqlpsqlSQL driverPostgreSQL qsqltdsSQL
driverSybase
Adaptive Server (TDS) qcncodecsText codecsSimplified Chinese (People's
Republic of China) qjpcodecsText codecsJapanese qkrcodecsText codecsKorean
qtwcodecsText codecsTraditional Chinese (Taiwan)

Dinamic Qt programs load plugins automaticly, but in static mode, the user
program need force the load (this is my request to Pritpal)

At this moment I only need jpeg plugin, but in the future, I will need use
others plugins.

Regards
CdQ


On Wed, Aug 19, 2009 at 1:36 AM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Hi folks,
>
> I'm not sure we should implement whole QT plugin functionality
> just to support jpeg files.
>
> If it helps I can add jpeg library to externals. Maybe some
> Harbour wrappers to that could solve such problems.
>
> Brgds,
> Viktor
>
>
> On 2009.08.19., at 3:31, CarozoDeQuilmes wrote:
>
>  Hi Pritpal, I don't know how use it.  I read the Qt Documentation and I
>> have see that in a c++ program I only need coded:
>>
>> #include <QtPlugin>
>>
>> Q_IMPORT_PLUGIN(qjpeg)
>>
>> and then, add plugin library for jpeg (supplied in
>> \qt\2009.03\qt\plugins\imageformats) into linkedit process.
>>
>> Sorry, but I don't know anymore, I only have make a sample with STATIC
>> libraries that run fine, it show png and bmp but it don't show jpg because
>> in STATIC mode, the Qt Plugins don't work by default (qjpeg is a plugin for
>> jpeg images).
>>
>> Thanks in advance
>> CdQ
>>
>>
>>
>> On Tue, Aug 18, 2009 at 9:03 PM, Pritpal Bedi <bedipritpal@hotmail.com>
>> wrote:
>>
>> Hi
>>
>>
>> CarozoDeQuilmes wrote:
>> >
>> > Hi Pritpal, can you add support for plugins in STATIC hbqt library ?????
>> >
>> > I need it for use JPG image format and ODBC driver.
>> >
>> > http://qt.nokia.com/doc/4.5/plugins-howto.html
>> >
>>
>> I am trying to understand the concept.
>> You can explain how you will use it in .prg code.
>> It will tell me what must be coded in hbqt.lib.
>>
>> Regards
>> Pritpal Bedi
>>
>> --
>> View this message in context:
>> http://www.nabble.com/Plugins-in-hbqts-library-tp25034339p25035630.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>
>> --
>> QAC (I want something comfortable !!!) - Incremental Compilation with all
>> MiniGUIs versions
>> QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
>> versiones de MiniGUI
>>
>> Download: www.CarozoDeQuilmes.com.ar
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
QAC (I want something comfortable !!!) - Incremental Compilation with all
MiniGUIs versions
QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
versiones de MiniGUI

Download: www.CarozoDeQuilmes.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090819/8c63dc88/attachment-0001.html
From druzus at users.sourceforge.net  Wed Aug 19 09:39:15 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Aug 19 09:39:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12182] trunk/harbour
Message-ID: <E1MdlNj-0007oQ-Sv@bj8yhf1.ch3.sourceforge.com>

Revision: 12182
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12182&view=rev
Author:   druzus
Date:     2009-08-19 13:39:14 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-19 15:39 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/olecore.c
    ! updated for POCC/WinCE header files

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/olecore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Aug 19 09:47:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 09:47:49 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>
	<25035630.post@talk.nabble.com>
	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>
	<B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>
	<578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>
Message-ID: <6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>

Hi,

Nice stuff, although we have native libs for many of these,
and I'd personally prefer using those if possible, rather
than reimplementing them in a QT-specific way. It's IMO
also better for Harbour.

Brgds,
Viktor

On 2009.08.19., at 3:31, CarozoDeQuilmes wrote:

> Hi Viktor, Qt has implemented many plugins very interesting:
>
>
> Plugin name
> Type
> Description
> qtaccessiblecompatwidgets
> Accessibility
> Accessibility for Qt 3 support widgets
> qtaccessiblewidgets
> Accessibility
> Accessibility for Qt widgets
> qdecorationdefault
> Decorations (Qt Extended)
> Default style
> qdecorationwindows
> Decorations (Qt Extended)
> Windows style
> qgif
> Image formats
> GIF
> qjpeg
> Image formats
> JPEG
> qmng
> Image formats
> MNG
> qico
> Image formats
> ICO
> qsvg
> Image formats
> SVG
> qtiff
> Image formats
> TIFF
> qimsw_multi
> Input methods (Qt Extended)
> Input Method Switcher
> qwstslibmousehandler
> Mouse drivers (Qt Extended)
> tslib mouse
> qgfxtransformed
> Graphic drivers (Qt Extended)
> Transformed screen
> qgfxvnc
> Graphic drivers (Qt Extended)
> VNC
> qscreenvfb
> Graphic drivers (Qt Extended)
> Virtual frame buffer
> qsqldb2
> SQL driver
> IBM DB2
> qsqlibase
> SQL driver
> Borland InterBase
> qsqlite
> SQL driver
> SQLite version 3
> qsqlite2
> SQL driver
> SQLite version 2
> qsqlmysql
> SQL driver
> MySQL
> qsqloci
> SQL driver
> Oracle (OCI)
> qsqlodbc
> SQL driver
> Open Database Connectivity (ODBC)
> qsqlpsql
> SQL driver
> PostgreSQL
> qsqltds
> SQL driver
> Sybase Adaptive Server (TDS)
> qcncodecs
> Text codecs
> Simplified Chinese (People's Republic of China)
> qjpcodecs
> Text codecs
> Japanese
> qkrcodecs
> Text codecs
> Korean
> qtwcodecs
> Text codecs
> Traditional Chinese (Taiwan)
>
>
> Dinamic Qt programs load plugins automaticly, but in static mode,  
> the user program need force the load (this is my request to Pritpal)
>
> At this moment I only need jpeg plugin, but in the future, I will  
> need use others plugins.
>
> Regards
> CdQ
>
>
> On Wed, Aug 19, 2009 at 1:36 AM, Viktor Szak?ts <harbour. 
> 01@syenar.hu> wrote:
> Hi folks,
>
> I'm not sure we should implement whole QT plugin functionality
> just to support jpeg files.
>
> If it helps I can add jpeg library to externals. Maybe some
> Harbour wrappers to that could solve such problems.
>
> Brgds,
> Viktor
>
>
> On 2009.08.19., at 3:31, CarozoDeQuilmes wrote:
>
> Hi Pritpal, I don't know how use it.  I read the Qt Documentation  
> and I have see that in a c++ program I only need coded:
>
> #include <QtPlugin>
>
> Q_IMPORT_PLUGIN(qjpeg)
>
> and then, add plugin library for jpeg (supplied in \qt\2009.03\qt 
> \plugins\imageformats) into linkedit process.
>
> Sorry, but I don't know anymore, I only have make a sample with  
> STATIC libraries that run fine, it show png and bmp but it don't  
> show jpg because in STATIC mode, the Qt Plugins don't work by  
> default (qjpeg is a plugin for jpeg images).
>
> Thanks in advance
> CdQ
>
>
>
> On Tue, Aug 18, 2009 at 9:03 PM, Pritpal Bedi  
> <bedipritpal@hotmail.com> wrote:
>
> Hi
>
>
> CarozoDeQuilmes wrote:
> >
> > Hi Pritpal, can you add support for plugins in STATIC hbqt  
> library ?????
> >
> > I need it for use JPG image format and ODBC driver.
> >
> > http://qt.nokia.com/doc/4.5/plugins-howto.html
> >
>
> I am trying to understand the concept.
> You can explain how you will use it in .prg code.
> It will tell me what must be coded in hbqt.lib.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context: http://www.nabble.com/Plugins-in-hbqts-library-tp25034339p25035630.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
> -- 
> QAC (I want something comfortable !!!) - Incremental Compilation  
> with all MiniGUIs versions
> QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las  
> versiones de MiniGUI
>
> Download: www.CarozoDeQuilmes.com.ar
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
> -- 
> QAC (I want something comfortable !!!) - Incremental Compilation  
> with all MiniGUIs versions
> QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las  
> versiones de MiniGUI
>
> Download: www.CarozoDeQuilmes.com.ar
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From antonioharbour at gmail.com  Wed Aug 19 10:02:25 2009
From: antonioharbour at gmail.com (Antonio Linares)
Date: Wed Aug 19 10:02:30 2009
Subject: [Harbour] Possible OleAuto bug
Message-ID: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>

Viktor,

Recently you modified contrib\hbwin\legacy.prg and added this code to
support Windows (numeric) handles for creating an oleauto object:

   IF ISNUMBER( xOle )   // xOle is a pDisp
      xOle := win_N2P( xOle )
   ENDIF

But OleAuto uses this code from __OleCreateObject():

      ppDisp = ( IDispatch** ) hb_gcAlloc( sizeof( IDispatch* ),
hb_ole_destructor );
      *ppDisp = pDisp;
      hb_retptrGC( ppDisp );

which it is different from  the pointer created by win_N2P().

So the call to hb_oleParam( -1 ) fails as the pointer containt is different.

I may be missing something. I appreciate your comments, thanks

Antonio Linares
From dmacias at mail.udg.mx  Wed Aug 19 10:09:25 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Aug 19 10:09:52 2009
Subject: [Harbour] Re: Harbour under OS/2 - eCS  gcc
Message-ID: <4A8C0795.5070901@mail.udg.mx>

Przemek:

I am including below warnings raised using gcc440, 432 and 433

Some are known. Rest should be fixed ?

 >Thank you for your tests. I think we should leave some information
 >about it for OS2 users who want to use newer GNU make ports.

I exceded usual info/details in messages with purpose to serve 
immediatly to anybody who want to test

At end of my tests I will made a summary which can be included in 
INSTALL, for example

 >probably you will have to pass it as linker option, maybe using 
 >-Wl,<option>

 >I do not know -Zlinker is not standard GCC option.
 >Maybe you can also take linker (LD) from older GCC builds which worked
 >for you.

I made many tests
In order to exclude "DEBUG HLL" forcing strip_symbols we have to use "S" 
parameter in emxomfld.exe:
----------------------------------
Usage: emxomfld -o <file> [-l <lib>] [-L <libdir>] [-T <base>] [-igtsS]
            [-Zexe] [-Zdll] [-Zsym] [-Zstack <size>] [-Zmap[=<map_file>]]
            [-Z[no-]autoconv] [-Zdll-search] [-O <option>] [-static]
            [-non_shared] [-Bstatic] [-dn] [call_shared] [-Bshared]
            [-dy] <file>...
----------------------------------

But emxomfld.exe can not be called directly

See some extract of messages related:

----------------------------
If you compile with -Zomf, then you should use emxomfar and emxomfld
(the latter is invoked automatically when you use gcc -Zomf to link)

If you compile without -Zomf, then use ar and ld
---
You can't just use ar and emxomfar interchangeably without
recompiling. emxomfar works only with OMF files, ar with a.out
---
Yes, emxbind. However, it's much easier to have gcc invoke it for you.
In order to do that, you should set the output of the link step
to e.g. flex.EXE; the exe extension causes gcc invoke emxbind
to create an OS/2 executable.
Most makefiles of ported software are written in Unixish way:
no exe suffix. -Zexe can be used to "fool" the makefile
(that's why it creates a file 'flex'; make checks for the
existence of that file).
If you compile with -Zomf, gcc uses emxomfld to do the linking.
emxomfld is just a frontend for LINK386, and it always creates
an OS/2 executable.
----------------------------

In our case we are using OpenWatcom WL.exe in place of LINK386.exe which 
show many limitations

As using
    gcc -Zomf ...
call emxomfld.exe for linking, we can not use "S" parameter

emxomfld.exe which is called by gcc is an wrapper for our final linker 
(LINK386, WL(INK), ILINK, ...), and parameters sent with -Zlinker and/or 
"SET EMXOMFLD_LINKER parameters" are for final linker

So we can not send "S" to emxomfld.exe

If I use emxomfld.exe directly in place of gcc.exe, with proper 
adjustments for parameters, it raised a lot of warnings/missings 
building Harbour binaries

And we can not use LD.exe because precisely part of trick is to exclude 
ar/ld to use OMF type in place of a.out type


Until now Harbour is building entirely with

gcc440: Build time: 53 minutes
gcc432: Build time: 35 minutes
gcc433: Build time: 35 minutes

Question: Which gcc version do you recommend to use as prefered compiler 
for Harbour-OS/2 ?
Perhaps gcc440 is too new and a best choice can be gcc433

Mandriva 2008.1 are using gcc423 and Mandriva 2009.1 are using gcc432


Additionally:

Using LINK386.exe as final linker we have:

-------------
E:\harbour907h\harbour\lib\os2\gcc\hbextern.lib(hbextern.o) :  fatal
error L1046: too many external symbols in one module

 From Tools reference:
www.warpspeed.com.au/cgi-bin/inf2html.cmd?..%5Chtml%5Cbook%5CToolkt40%5CTOOLSREF.INF+660

L1046 too many external symbols in one module
Explanation: An object module specifies more than the limit of 1023 
external symbols.
Action: Reduce the number of external symbols, breaking the module into 
smaller parts, if necessary.
-------------

Here we exceded limits at linking
As we have a pending problem with OpenWatcom/hbrun.exe which GPF due 
hbextern.lib as tests confirmed, I am thinking if it is time to split 
hbextern in more modules to have less symbols per module
What do you think ?


David Macias


[E:\harbour907h\harbour]make -r -w           1>make_gnu.log
../../../filesys.c: In function 'hb_fsSetFileTime':
../../../filesys.c:1145: warning: 'ftime.twosecs' may be used
uninitialized in this function
../../../filesys.c:1145: warning: 'ftime.minutes' may be used
uninitialized in this function
../../../filesys.c:1145: warning: 'ftime.hours' may be used
uninitialized in this function
../../../gtos2.c: In function 'hb_gt_os2_Redraw':
../../../gtos2.c:799: warning: pointer targets in passing argument 5 of
'pGT->pFuncTable->GetScrChar' differ in signedness
../../../gtos2.c:799: note: expected 'BYTE *' but argument is of type
'char *'
../../../gtstd.c: In function 'hb_gt_std_ReadKey':
../../../gtstd.c:412: warning: unused variable 'TODO'
../../../sqlite3.c: In function 'sqlite3_os_init':
../../../sqlite3.c:20798: warning: initialization from incompatible
pointer type


[E:\harbour907h\harbour\bin\os2\gcc]harbour /build
Harbour 2.0.0beta2 (Rev. 12104)
Copyright (c) 1999-2009, http://www.harbour-project.org/

Harbour Build Info
---------------------------
Version: Harbour 2.0.0beta2 (Rev. 12104)
Compiler: EMX GNU C 4.4 (32-bit)
Platform: OS/2 4.50
PCode version: 0.2
ChangeLog last entry: 2009-08-14 11:24 UTC+0200 Viktor Szakats
(harbour.01 syenar.hu)
ChangeLog ID: ChangeLog 12104 2009-08-14 09:31:12Z vszakats

Built on: Aug 15 2009 18:26:04
Extra C compiler options: -DTCPV40HDRS -DHB_FM_STATISTICS_OFF
Extra linker options: -Le:\usr\lib\tcpipv4
Build options:
Language options: (Clipper 5.3) (Clipper 5.x undoc) (Xbase++) (Flagship)
---------------------------


From harbour.01 at syenar.hu  Wed Aug 19 10:11:06 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 10:11:14 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
Message-ID: <33FE3FC3-A889-4595-B24F-E36AF511F957@syenar.hu>

Hi Antonio,

You're right, I missed that. In this case the problem is
bigger and AFAICS accepting numeric pointers cannot be
implemented in a clean way. Probably an RTE should be
thrown in this case or an error returned to help catch this
case.

[ Or maybe someone has a better idea which fits in current
OLE implementation. ]

Brgds,
Viktor

On 2009.08.19., at 4:02, Antonio Linares wrote:

> Viktor,
>
> Recently you modified contrib\hbwin\legacy.prg and added this code to
> support Windows (numeric) handles for creating an oleauto object:
>
>   IF ISNUMBER( xOle )   // xOle is a pDisp
>      xOle := win_N2P( xOle )
>   ENDIF
>
> But OleAuto uses this code from __OleCreateObject():
>
>      ppDisp = ( IDispatch** ) hb_gcAlloc( sizeof( IDispatch* ),
> hb_ole_destructor );
>      *ppDisp = pDisp;
>      hb_retptrGC( ppDisp );
>
> which it is different from  the pointer created by win_N2P().
>
> So the call to hb_oleParam( -1 ) fails as the pointer containt is  
> different.
>
> I may be missing something. I appreciate your comments, thanks
>
> Antonio Linares
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug 19 10:14:24 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 10:14:31 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
Message-ID: <F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>

Looking at the code. Well with a small incompatibility,
most of the functionality could be resolved. Simply
CREATEOLEOBJECT() should not convert the pointer to
numeric. Such thing is wrong for GC collected ptrs.

I'll do that ASAP.

Caller code will have to be changed then to use 'EMPTY()'
instead of '== 0' to make it work after this.

Brgds,
Viktor

On 2009.08.19., at 4:02, Antonio Linares wrote:

> Viktor,
>
> Recently you modified contrib\hbwin\legacy.prg and added this code to
> support Windows (numeric) handles for creating an oleauto object:
>
>   IF ISNUMBER( xOle )   // xOle is a pDisp
>      xOle := win_N2P( xOle )
>   ENDIF
>
> But OleAuto uses this code from __OleCreateObject():
>
>      ppDisp = ( IDispatch** ) hb_gcAlloc( sizeof( IDispatch* ),
> hb_ole_destructor );
>      *ppDisp = pDisp;
>      hb_retptrGC( ppDisp );
>
> which it is different from  the pointer created by win_N2P().
>
> So the call to hb_oleParam( -1 ) fails as the pointer containt is  
> different.
>
> I may be missing something. I appreciate your comments, thanks
>
> Antonio Linares
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From antonioharbour at gmail.com  Wed Aug 19 10:46:31 2009
From: antonioharbour at gmail.com (Antonio Linares)
Date: Wed Aug 19 10:46:36 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
Message-ID: <9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>

Viktor,

In FWH Class TActiveX we use this code (which was working fine with
previous OleAuto version):

      ::oOleAuto = TOleAuto():New( ActXPdisp( ::hActiveX ) )

ActXPdisp() returns a pDisp.

So we tried this change in legacy.prg:

   IF ISNUMBER( xOle )
      xOle := __OLEPDISP( xOle )
   ENDIF

__OLEPDISP() uses the same code as __OleCreateObject() at the end:

HB_FUNC( __OLEPDISP )
{
   IDispatch*  pDisp = ( IDispatch * ) hb_parnl( 1 );
   IDispatch** ppDisp;

   ppDisp = ( IDispatch** ) hb_gcAlloc( sizeof( IDispatch* ),
hb_ole_destructor );
   *ppDisp = pDisp;
   hb_retptrGC( ppDisp );
}	

That seemed enough to get it working, but hb_oleParam( -1 ) still
issues an error.

So something is still missing in our test. Hope this helps,

Antonio
From vszakats at users.sourceforge.net  Wed Aug 19 10:46:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 19 10:46:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12183] trunk/harbour
Message-ID: <E1MdmRB-00053L-L5@d5vjzd1.ch3.sourceforge.com>

Revision: 12183
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12183&view=rev
Author:   vszakats
Date:     2009-08-19 14:46:50 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-19 16:44 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/legacy.prg
    ! Deleted pointer to numeric conversions.
      This means even code using compatibility interface may
      have to be slightly adapted to use this version of Harbour.
      Checks like ISNUMBER( CreateOLEObject() ) and CreateOLEObject() == 0
      will have to be changed to Empty( CreateOLEObject() ). This
      stays compatible with other Harbour versions and implementations.
      Methods/Functions accepting numeric pointers in old implementation
      will only accept pointers aquired from appropriate OLE API functions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/legacy.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From carozodequilmes at gmail.com  Wed Aug 19 10:56:00 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Wed Aug 19 10:56:06 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>
	<25035630.post@talk.nabble.com>
	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>
	<B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>
	<578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>
	<6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>
Message-ID: <578c73340908190756n36c9432bj453016f098c82ff5@mail.gmail.com>

Hi Viktor, you are right, I'd personally prefer use native libs too, but in
this case, I need use plugins for compatibility with dinamic Qt and with
other funcionalities

ex: To use images and displaying these, I use the followed code:

oPixmap := QPixmap():new()
oPixmap:load( ":myimage" )     // load an image from resources
oImage := QLabel():new()
oImage:setPixmap( oPixmap:pPtr )  // associate Pixmap for show it
oImage:move( x , y )
oImage:size( w , h )
oImage:show()

In Dinamic Mode: This simplified code work fine with BMP, PNG and JPG
In Static Mode: This simplified code work fine with BMP and PNG (don't work
with JPG because it need the plugin)

If I load JPG plugin, this is transparent for me and my program work fine
with JPG too.

If I use native Harbour Lib to load JPG image, I can not use the QPixmap
class.

The jpg plugin is use to illustrate an plugin implementation, but other
plugins will be necesaries in the future too.

Remember that my english is very poor !!! sorry.

Regards
CdQ



On Wed, Aug 19, 2009 at 10:47 AM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Hi,
>
> Nice stuff, although we have native libs for many of these,
> and I'd personally prefer using those if possible, rather
> than reimplementing them in a QT-specific way. It's IMO
> also better for Harbour.
>
>
> Brgds,
> Viktor
>
> On 2009.08.19., at 3:31, CarozoDeQuilmes wrote:
>
>  Hi Viktor, Qt has implemented many plugins very interesting:
>>
>>
>> Plugin name
>> Type
>> Description
>> qtaccessiblecompatwidgets
>> Accessibility
>> Accessibility for Qt 3 support widgets
>> qtaccessiblewidgets
>> Accessibility
>> Accessibility for Qt widgets
>> qdecorationdefault
>> Decorations (Qt Extended)
>> Default style
>> qdecorationwindows
>> Decorations (Qt Extended)
>> Windows style
>> qgif
>> Image formats
>> GIF
>> qjpeg
>> Image formats
>> JPEG
>> qmng
>> Image formats
>> MNG
>> qico
>> Image formats
>> ICO
>> qsvg
>> Image formats
>> SVG
>> qtiff
>> Image formats
>> TIFF
>> qimsw_multi
>> Input methods (Qt Extended)
>> Input Method Switcher
>> qwstslibmousehandler
>> Mouse drivers (Qt Extended)
>> tslib mouse
>> qgfxtransformed
>> Graphic drivers (Qt Extended)
>> Transformed screen
>> qgfxvnc
>> Graphic drivers (Qt Extended)
>> VNC
>> qscreenvfb
>> Graphic drivers (Qt Extended)
>> Virtual frame buffer
>> qsqldb2
>> SQL driver
>> IBM DB2
>> qsqlibase
>> SQL driver
>> Borland InterBase
>> qsqlite
>> SQL driver
>> SQLite version 3
>> qsqlite2
>> SQL driver
>> SQLite version 2
>> qsqlmysql
>> SQL driver
>> MySQL
>> qsqloci
>> SQL driver
>> Oracle (OCI)
>> qsqlodbc
>> SQL driver
>> Open Database Connectivity (ODBC)
>> qsqlpsql
>> SQL driver
>> PostgreSQL
>> qsqltds
>> SQL driver
>> Sybase Adaptive Server (TDS)
>> qcncodecs
>> Text codecs
>> Simplified Chinese (People's Republic of China)
>> qjpcodecs
>> Text codecs
>> Japanese
>> qkrcodecs
>> Text codecs
>> Korean
>> qtwcodecs
>> Text codecs
>> Traditional Chinese (Taiwan)
>>
>>
>> Dinamic Qt programs load plugins automaticly, but in static mode, the user
>> program need force the load (this is my request to Pritpal)
>>
>> At this moment I only need jpeg plugin, but in the future, I will need use
>> others plugins.
>>
>> Regards
>> CdQ
>>
>>
>> On Wed, Aug 19, 2009 at 1:36 AM, Viktor Szak?ts <harbour.01@syenar.hu>
>> wrote:
>> Hi folks,
>>
>> I'm not sure we should implement whole QT plugin functionality
>> just to support jpeg files.
>>
>> If it helps I can add jpeg library to externals. Maybe some
>> Harbour wrappers to that could solve such problems.
>>
>> Brgds,
>> Viktor
>>
>>
>> On 2009.08.19., at 3:31, CarozoDeQuilmes wrote:
>>
>> Hi Pritpal, I don't know how use it.  I read the Qt Documentation and I
>> have see that in a c++ program I only need coded:
>>
>> #include <QtPlugin>
>>
>> Q_IMPORT_PLUGIN(qjpeg)
>>
>> and then, add plugin library for jpeg (supplied in
>> \qt\2009.03\qt\plugins\imageformats) into linkedit process.
>>
>> Sorry, but I don't know anymore, I only have make a sample with STATIC
>> libraries that run fine, it show png and bmp but it don't show jpg because
>> in STATIC mode, the Qt Plugins don't work by default (qjpeg is a plugin for
>> jpeg images).
>>
>> Thanks in advance
>> CdQ
>>
>>
>>
>> On Tue, Aug 18, 2009 at 9:03 PM, Pritpal Bedi <bedipritpal@hotmail.com>
>> wrote:
>>
>> Hi
>>
>>
>> CarozoDeQuilmes wrote:
>> >
>> > Hi Pritpal, can you add support for plugins in STATIC hbqt library ?????
>> >
>> > I need it for use JPG image format and ODBC driver.
>> >
>> > http://qt.nokia.com/doc/4.5/plugins-howto.html
>> >
>>
>> I am trying to understand the concept.
>> You can explain how you will use it in .prg code.
>> It will tell me what must be coded in hbqt.lib.
>>
>> Regards
>> Pritpal Bedi
>>
>> --
>> View this message in context:
>> http://www.nabble.com/Plugins-in-hbqts-library-tp25034339p25035630.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>
>> --
>> QAC (I want something comfortable !!!) - Incremental Compilation with all
>> MiniGUIs versions
>> QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
>> versiones de MiniGUI
>>
>> Download: www.CarozoDeQuilmes.com.ar
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>
>> --
>> QAC (I want something comfortable !!!) - Incremental Compilation with all
>> MiniGUIs versions
>> QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
>> versiones de MiniGUI
>>
>> Download: www.CarozoDeQuilmes.com.ar
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
QAC (I want something comfortable !!!) - Incremental Compilation with all
MiniGUIs versions
QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
versiones de MiniGUI

Download: www.CarozoDeQuilmes.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090819/23f2db3b/attachment.html
From fernando_athayde at yahoo.com.br  Wed Aug 19 11:02:12 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Wed Aug 19 11:02:18 2009
Subject: [Harbour] problem compile SVN with MSVC
Message-ID: <969694.12587.qm@web52208.mail.re2.yahoo.com>

.\bin\postinst.bat
! Generating e:\harbour_vc\bin\hbmk.cfg...
! Making harbour-20.dll...
LINK : fatal error LNK1181: cannot open input file 'user32.lib'
! Making harbourmt-20.dll...
LINK : fatal error LNK1181: cannot open input file 'user32.lib'
! Making hbrun with application icon...
Microsoft (R) Windows (R) Resource Compiler Version 6.1.6723.1
Copyright (C) Microsoft Corporation.  All rights reserved.

hbrun.c
LINK : fatal error LNK1181: cannot open input file 'kernel32.lib'
hbmk: Error: Running linker. 1181

link.exe /nologo /out:e:\harbour_vc\bin\hbrun.exe hbrun.obj /libpath:e:\harbour_
vc\lib\win\msvc  /subsystem:console hbcplr.lib hbpp.lib hbcommon.lib hbextern.li
b hbdebug.lib hbvm.lib hbrtl.lib hblang.lib hbcpage.lib gtcgi.lib gtpca.lib gtst
d.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib hbusrrdd.lib hbhsx.lib hbsix.lib r
ddntx.lib rddcdx.lib rddfpt.lib hbuddall.lib rddnsx.lib hbmacro.lib hbcplr.lib h
bpp.lib hbcommon.lib hbpcre.lib hbzlib.lib kernel32.lib user32.lib gdi32.lib adv
api32.lib ws2_32.lib winspool.lib comctl32.lib comdlg32.lib shell32.lib uuid.lib
 ole32.lib oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib msimg32.lib winin
et.lib  hbmk_oc1bwh.res

MSVC 9 "2008"
WINDOWS 7

Thanks
Fernando



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090819/a3d3fd12/attachment.html
From M.Horodyski at pzuzycie.com.pl  Wed Aug 19 11:05:17 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Aug 19 11:05:27 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>

>-----Original Message-----
>From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
>Sent: Wednesday, August 19, 2009 3:48 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Plugins in hbqts library
>
>Hi,
>
>Nice stuff, although we have native libs for many of these, 
>and I'd personally prefer using those if possible, rather than 
>reimplementing them in a QT-specific way. It's IMO also better 
>for Harbour.

But we don't have efficients tools to acces to db2 and Oracle. In ADO is many bugs.

Regards,
Marek Horodyski

From harbour.01 at syenar.hu  Wed Aug 19 11:17:49 2009
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 11:17:58 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>
Message-ID: <B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>

>> Nice stuff, although we have native libs for many of these,
>> and I'd personally prefer using those if possible, rather than
>> reimplementing them in a QT-specific way. It's IMO also better
>> for Harbour.
>
> But we don't have efficients tools to acces to db2 and Oracle. In  
> ADO is many bugs.

ADO should be fixed if this is really bothering for users.
It seem though that no one is interested, which to me means,
that no one is using it.

I still hold my opinion that this isn't a QT project in the
first place and we should focus on QT *UI* related stuff
regarding our hbqt contrib lib. It's enough of a challenge
by itself.

QT is too heavy to be used efficiently as simple glue layer
for such databases. I guess DB2 and Oracle both have proper
client libs we could relatively easy interface with, and for
sure in a much lighter way, and - what is the main point -,
without requiring the whole QT system to be also included.

Please remember that QT doesn't support all platforms which
we support in Harbour, so merely using QT as the jumping
board to get all these fancy features isn't a solution for
our project.

QT is huge and there is nothing which should stop any user
to start developing Harbour bindings for any part of it we
don't happen to support in Harbour itself.

Brgds,
Viktor

From antonioharbour at gmail.com  Wed Aug 19 11:18:05 2009
From: antonioharbour at gmail.com (Antonio Linares)
Date: Wed Aug 19 11:18:11 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
Message-ID: <9471afc80908190818w46b6d06dy36641eaafa922d35@mail.gmail.com>

> In FWH Class TActiveX we use this code (which was working fine with
> previous OleAuto version):
>
> ? ? ?::oOleAuto = TOleAuto():New( ActXPdisp( ::hActiveX ) )

It also works fine with xHarbour OleAuto.

thanks

Antonio
From david at gesintur.com  Wed Aug 19 11:23:40 2009
From: david at gesintur.com (David MS)
Date: Wed Aug 19 11:23:47 2009
Subject: [Harbour] Problem with outstd()
Message-ID: <2C4DB53F48014C228C175537D4FE8AD0@INFOR04>

Hi, I've a problem with outstd(),

when I do... 

outstd(space(53218)) 

nothing is output to the console . Under this limit outstd() works fine.

I'm using Harbour 2.0.0beta1 (Rev. 11413) under XP

Best Regards,
David 
From harbour.01 at syenar.hu  Wed Aug 19 11:30:28 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 11:30:37 2009
Subject: [Harbour] problem compile SVN with MSVC
In-Reply-To: <969694.12587.qm@web52208.mail.re2.yahoo.com>
References: <969694.12587.qm@web52208.mail.re2.yahoo.com>
Message-ID: <580CDD8D-027B-4442-A228-98979B88178D@syenar.hu>

Hi Fernando,

Sorry, I cannot reproduce with same MSVC version locally.
Although I'm using SDK 6.0.

[ None of these issue are caused by any recent changes. ]

Which SDK are you using?

Brgds,
Viktor

On 2009.08.19., at 5:02, Fernando Athayde wrote:

> .\bin\postinst.bat
> ! Generating e:\harbour_vc\bin\hbmk.cfg...
> ! Making harbour-20.dll...
> LINK : fatal error LNK1181: cannot open input file 'user32.lib'
> ! Making harbourmt-20.dll...
> LINK : fatal error LNK1181: cannot open input file 'user32.lib'
> ! Making hbrun with application icon...
> Microsoft (R) Windows (R) Resource Compiler Version 6.1.6723.1
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
> hbrun.c
> LINK : fatal error LNK1181: cannot open input file 'kernel32.lib'
> hbmk: Error: Running linker. 1181
>
> link.exe /nologo /out:e:\harbour_vc\bin\hbrun.exe hbrun.obj / 
> libpath:e:\harbour_
> vc\lib\win\msvc  /subsystem:console hbcplr.lib hbpp.lib hbcommon.lib  
> hbextern.li
> b hbdebug.lib hbvm.lib hbrtl.lib hblang.lib hbcpage.lib gtcgi.lib  
> gtpca.lib gtst
> d.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib hbusrrdd.lib hbhsx.lib  
> hbsix.lib r
> ddntx.lib rddcdx.lib rddfpt.lib hbuddall.lib rddnsx.lib hbmacro.lib  
> hbcplr.lib h
> bpp.lib hbcommon.lib hbpcre.lib hbzlib.lib kernel32.lib user32.lib  
> gdi32.lib adv
> api32.lib ws2_32.lib winspool.lib comctl32.lib comdlg32.lib  
> shell32.lib uuid.lib
>  ole32.lib oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib  
> msimg32.lib winin
> et.lib  hbmk_oc1bwh.res
>
> MSVC 9 "2008"
> WINDOWS 7
>
> Thanks
> Fernando
>
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 -  
> Celebridades - M?sica - 
> Esportes_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From sscc at mweb.co.za  Wed Aug 19 11:35:28 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Aug 19 11:35:22 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>
	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>
Message-ID: <4A8C1BC0.6000507@mweb.co.za>

Viktor Szak?ts wrote:

> QT is huge and there is nothing which should stop any user
> to start developing Harbour bindings for any part of it we
> don't happen to support in Harbour itself.

It did occur to me when I saw what a large part of the Harbour SVN it is now 
that it should be a separate project.

And yet, a cross platform GUI for Harbour? Maybe it shouldn't. I suspect that 
the idea of a standard GUI for Harbour may remain a pipe dream.

My c.

Regards
Alex

From harbour.01 at syenar.hu  Wed Aug 19 11:36:13 2009
From: harbour.01 at syenar.hu (=?WINDOWS-1252?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 11:36:21 2009
Subject: [Harbour] Problem with outstd()
In-Reply-To: <2C4DB53F48014C228C175537D4FE8AD0@INFOR04>
References: <2C4DB53F48014C228C175537D4FE8AD0@INFOR04>
Message-ID: <AF26846F-CB4F-4E16-9957-8F142F09FA9B@syenar.hu>

Hi,

Works for me with 1.1.0dev r10810, official beta1 r11512
and current SVN.

Oldest version tested with bcc, msvc, mingw.

Please try with latest SVN and post more about your compiler.

Brgds,
Viktor

On 2009.08.19., at 5:23, David MS wrote:

> Hi, I've a problem with outstd(),
>
> when I do...
> outstd(space(53218))
> nothing is output to the console . Under this limit outstd() works  
> fine.
>
> I'm using Harbour 2.0.0beta1 (Rev. 11413) under XP
>
> Best Regards,
> David _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Wed Aug 19 11:38:05 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Aug 19 11:38:10 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>
	<25035630.post@talk.nabble.com>
	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>
	<B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>
	<578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>
	<6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>
	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>
Message-ID: <25046538.post@talk.nabble.com>


Viktor


Viktor Szak?ts wrote:
> 
> I still hold my opinion that this isn't a QT project in the
> first place and we should focus on QT *UI* related stuff
> regarding our hbqt contrib lib. It's enough of a challenge
> by itself.
> 

You are absolutely right.
Let us concentrate on UI part via Xbase++ class framework.
It is almost a challenge par excellence itself.
Later we can extend otherparts but with separated libs
if there be a great demand for it.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Plugins-in-hbqts-library-tp25034339p25046538.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Aug 19 11:40:23 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Aug 19 11:40:28 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <4A8C1BC0.6000507@mweb.co.za>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>
	<25035630.post@talk.nabble.com>
	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>
	<B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>
	<578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>
	<6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>
	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>
	<4A8C1BC0.6000507@mweb.co.za>
Message-ID: <25046584.post@talk.nabble.com>


Hi


Alex Strickland wrote:
> 
> And yet, a cross platform GUI for Harbour? Maybe it shouldn't. I suspect
> that 
> the idea of a standard GUI for Harbour may remain a pipe dream.
> 

I contradict your statement.
It is just a matter of time.
But, off couse, if Qt itself supports what Harbour terms as "standard GUI
for Harbour ".

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Plugins-in-hbqts-library-tp25034339p25046584.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Wed Aug 19 11:40:33 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug 19 11:40:39 2009
Subject: [Harbour] Problem with outstd()
In-Reply-To: <2C4DB53F48014C228C175537D4FE8AD0@INFOR04>
References: <2C4DB53F48014C228C175537D4FE8AD0@INFOR04>
Message-ID: <20090819154033.GA973@uran.home.aster.pl>

On Wed, 19 Aug 2009, David MS wrote:

Hi,

> Hi, I've a problem with outstd(),
> when I do... 
> outstd(space(53218)) 
> nothing is output to the console . Under this limit outstd() works fine.
> I'm using Harbour 2.0.0beta1 (Rev. 11413) under XP

Harbour writes all stdout() output in single WriteFile() call.
If it does not work over some limit then it seems to be console
window limitation in MS-Windows so you should ask MS support about
details.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Aug 19 11:42:48 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 11:42:57 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
Message-ID: <BFEF134F-BFE8-4AA5-80A4-DF6923509ED7@syenar.hu>

Hi Antonio,

Sorry no idea. The only bug I see is hb_parnl() usage
while it should be hb_parnint(), but that only affects
x64 systems.

I hope someone will comment who knows OLE better from
the inside.

Brgds,
Viktor

On 2009.08.19., at 4:46, Antonio Linares wrote:

> Viktor,
>
> In FWH Class TActiveX we use this code (which was working fine with
> previous OleAuto version):
>
>      ::oOleAuto = TOleAuto():New( ActXPdisp( ::hActiveX ) )
>
> ActXPdisp() returns a pDisp.
>
> So we tried this change in legacy.prg:
>
>   IF ISNUMBER( xOle )
>      xOle := __OLEPDISP( xOle )
>   ENDIF
>
> __OLEPDISP() uses the same code as __OleCreateObject() at the end:
>
> HB_FUNC( __OLEPDISP )
> {
>   IDispatch*  pDisp = ( IDispatch * ) hb_parnl( 1 );
>   IDispatch** ppDisp;
>
>   ppDisp = ( IDispatch** ) hb_gcAlloc( sizeof( IDispatch* ),
> hb_ole_destructor );
>   *ppDisp = pDisp;
>   hb_retptrGC( ppDisp );
> }	
>
> That seemed enough to get it working, but hb_oleParam( -1 ) still
> issues an error.
>
> So something is still missing in our test. Hope this helps,
>
> Antonio
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Aug 19 11:48:42 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 11:48:55 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <4A8C1BC0.6000507@mweb.co.za>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>
	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>
	<4A8C1BC0.6000507@mweb.co.za>
Message-ID: <650F1DB1-DCCB-4DC5-A29C-CDF7E38893F4@syenar.hu>

> Viktor Szak?ts wrote:
>
>> QT is huge and there is nothing which should stop any user
>> to start developing Harbour bindings for any part of it we
>> don't happen to support in Harbour itself.
>
> It did occur to me when I saw what a large part of the Harbour SVN  
> it is now that it should be a separate project.
>
> And yet, a cross platform GUI for Harbour? Maybe it shouldn't. I  
> suspect that the idea of a standard GUI for Harbour may remain a  
> pipe dream.

I think QT is quite fine for UI purpose and our
goal was exactly to implement that. Pritpal did a
huge and great job with it and now it's working on
Linux, Mac OS X and Windows (maybe even WinCE).

IMO we reached the goal quite nicely. The code is
large and for this reason I'd like if we would stick
with UI related stuff.

If we need the rest (QT has networking, web access,
FTP, some of these already slipped into hbqt, and who
knows what else), we can move/implement them in
distinct libraries, even outside our repository.
The tools are there for everyone.

Harbour's goal is IMO not to implement a complete
wrapper for QT as a *platform*. Harbour *is* the platform
itself with many features, duplicating these efforts
on a more limited (in portability, size) platform is
not ideal.

Brgds,
Viktor

From toninhofwi at yahoo.com.br  Wed Aug 19 12:14:50 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Wed Aug 19 12:13:16 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
Message-ID: <m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>

Hi, sorry to jump in.

>In FWH Class TActiveX we use this code (which was working fine with
>previous OleAuto version):

I have a working class for TActiveX that user current SVN, here it is:

---cut---
#include "hbclass.ch"

//------------------------------------------------------------------------------------------------------------------//

CLASS TActiveX FROM TControl

   CLASSDATA lRegistered AS LOGICAL INIT .f.

   DATA cProgID AS STRING

   DATA oOle AS OBJECT

   DATA bEvent

   METHOD New( oWnd, cProgId, nTop, nLeft, nBottom, nRight, bEvent )
CONSTRUCTOR

   METHOD Redefine( oWnd, nId, cProgID, bEvent ) CONSTRUCTOR

   METHOD Initiate( hDlg ) INLINE ::Super:Initiate( hDlg ),
::Default()

   METHOD Default()

   ERROR HANDLER OnError()

ENDCLASS

//------------------------------------------------------------------------------------------------------------------//

METHOD New( oWnd, cProgId, nTop, nLeft, nBottom, nRight, bEvent )
CLASS TActiveX

   DEFAULT nTop    := oWnd:nTop
   DEFAULT nLeft   := oWnd:nLeft
   DEFAULT nBottom := oWnd:nBottom
   DEFAULT nRight  := oWnd:nRight

   ::oWnd    = oWnd
   ::cProgId = cProgId
   ::nTop    = nTop
   ::nLeft   = nLeft
   ::nBottom = nBottom
   ::nRight  = nRight + GetSysMetrics( SM_CYVSCROLL )
   ::nId     = ::GetNewId()
   ::nStyle  = nOR( WS_CHILD, WS_VISIBLE )
   ::bEvent  = bEvent

   ::Register()

   if !Empty( oWnd:hWnd )

      ::Create()

      oWnd:AddControl( Self )

   else

      oWnd:DefControl( Self )

   endif

   ::Default()

return Self

//------------------------------------------------------------------------------------------------------------------//

METHOD Redefine( oWnd, nId, cProgID, bEvent ) CLASS TActiveX

   ::oWnd    = oWnd
   ::nId     = nId
   ::cProgId = cProgId
   ::nStyle  = nOR( WS_CHILD, WS_VISIBLE )
   ::bEvent  = bEvent

   ::Register( nOR( CS_VREDRAW, CS_HREDRAW ) )

   oWnd:DefControl( Self )

return Self

//------------------------------------------------------------------------------------------------------------------//

METHOD Default() CLASS TActiveX

   WIN_AxInit()

   ::oOle = WIN_AxGetControl( WApi_CreateWindowEX( 0, "AtlAxWin",
::cProgId, ::nStyle, ::nLeft, ::nTop, ::nWidth, ::nHeight, win_N2P(
::hWnd ), 0 ), ::bEvent )

return nil

//------------------------------------------------------------------------------------------------------------------//

METHOD OnError() CLASS TActiveX
return HB_ExecFromArray( ::oOle, __GetMessage(), HB_AParams() )
---cut---


I hope this can help,

Regards,

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From fernando_athayde at yahoo.com.br  Wed Aug 19 12:22:01 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Wed Aug 19 12:22:07 2009
Subject: Res: [Harbour] problem compile SVN with MSVC
In-Reply-To: <580CDD8D-027B-4442-A228-98979B88178D@syenar.hu>
References: <969694.12587.qm@web52208.mail.re2.yahoo.com>
	<580CDD8D-027B-4442-A228-98979B88178D@syenar.hu>
Message-ID: <520478.44738.qm@web52210.mail.re2.yahoo.com>

6.0A
I don?t find these libs user32 and kernel32
I found them inside BCC or inside PELLESC

Brgds,
Fernando




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Quarta-feira, 19 de Agosto de 2009 12:30:28
Assunto: Re: [Harbour] problem compile SVN with MSVC

Hi Fernando,

Sorry, I cannot reproduce with same MSVC version locally.
Although I'm using SDK 6.0.

[ None of these issue are caused by any recent changes. ]

Which SDK are you using?

Brgds,
Viktor

On 2009.08.19., at 5:02, Fernando Athayde wrote:

> .\bin\postinst.bat
> ! Generating e:\harbour_vc\bin\hbmk.cfg...
> ! Making harbour-20.dll...
> LINK : fatal error LNK1181: cannot open input file 'user32.lib'
> ! Making harbourmt-20.dll...
> LINK : fatal error LNK1181: cannot open input file 'user32.lib'
> ! Making hbrun with application icon...
> Microsoft (R) Windows (R) Resource Compiler Version 6.1.6723.1
> Copyright (C) Microsoft Corporation.  All rights reserved.
> 
> hbrun.c
> LINK : fatal error LNK1181: cannot open input file 'kernel32.lib'
> hbmk: Error: Running linker. 1181
> 
> link.exe /nologo /out:e:\harbour_vc\bin\hbrun.exe hbrun.obj /libpath:e:\harbour_
> vc\lib\win\msvc  /subsystem:console hbcplr.lib hbpp.lib hbcommon.lib hbextern.li
> b hbdebug.lib hbvm.lib hbrtl.lib hblang.lib hbcpage.lib gtcgi.lib gtpca.lib gtst
> d.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib hbusrrdd.lib hbhsx.lib hbsix.lib r
> ddntx.lib rddcdx.lib rddfpt.lib hbuddall.lib rddnsx.lib hbmacro.lib hbcplr.lib h
> bpp.lib hbcommon.lib hbpcre.lib hbzlib.lib kernel32.lib user32.lib gdi32.lib adv
> api32.lib ws2_32.lib winspool.lib comctl32.lib comdlg32.lib shell32.lib uuid.lib
>  ole32.lib oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib msimg32.lib winin
> et.lib  hbmk_oc1bwh.res
> 
> MSVC 9 "2008"
> WINDOWS 7
> 
> Thanks
> Fernando
> 
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades - M?sica -Esportes_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090819/43bedec3/attachment.html
From harbour.01 at syenar.hu  Wed Aug 19 12:25:50 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 12:25:58 2009
Subject: [Harbour] problem compile SVN with MSVC
In-Reply-To: <580CDD8D-027B-4442-A228-98979B88178D@syenar.hu>
References: <969694.12587.qm@web52208.mail.re2.yahoo.com>
	<580CDD8D-027B-4442-A228-98979B88178D@syenar.hu>
Message-ID: <4CE485A1-72F4-4835-AB41-A15192B6BBCA@syenar.hu>

Hi,

I've retested with default MSVC9 setup and still works for me.

Please verify how to setup MSVC in INSTALL.

Brgds,
Viktor

On 2009.08.19., at 5:30, Viktor Szak?ts wrote:

> Hi Fernando,
>
> Sorry, I cannot reproduce with same MSVC version locally.
> Although I'm using SDK 6.0.
>
> [ None of these issue are caused by any recent changes. ]
>
> Which SDK are you using?
>
> Brgds,
> Viktor
>
> On 2009.08.19., at 5:02, Fernando Athayde wrote:
>
>> .\bin\postinst.bat
>> ! Generating e:\harbour_vc\bin\hbmk.cfg...
>> ! Making harbour-20.dll...
>> LINK : fatal error LNK1181: cannot open input file 'user32.lib'
>> ! Making harbourmt-20.dll...
>> LINK : fatal error LNK1181: cannot open input file 'user32.lib'
>> ! Making hbrun with application icon...
>> Microsoft (R) Windows (R) Resource Compiler Version 6.1.6723.1
>> Copyright (C) Microsoft Corporation.  All rights reserved.
>>
>> hbrun.c
>> LINK : fatal error LNK1181: cannot open input file 'kernel32.lib'
>> hbmk: Error: Running linker. 1181
>>
>> link.exe /nologo /out:e:\harbour_vc\bin\hbrun.exe hbrun.obj / 
>> libpath:e:\harbour_
>> vc\lib\win\msvc  /subsystem:console hbcplr.lib hbpp.lib  
>> hbcommon.lib hbextern.li
>> b hbdebug.lib hbvm.lib hbrtl.lib hblang.lib hbcpage.lib gtcgi.lib  
>> gtpca.lib gtst
>> d.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib hbusrrdd.lib  
>> hbhsx.lib hbsix.lib r
>> ddntx.lib rddcdx.lib rddfpt.lib hbuddall.lib rddnsx.lib hbmacro.lib  
>> hbcplr.lib h
>> bpp.lib hbcommon.lib hbpcre.lib hbzlib.lib kernel32.lib user32.lib  
>> gdi32.lib adv
>> api32.lib ws2_32.lib winspool.lib comctl32.lib comdlg32.lib  
>> shell32.lib uuid.lib
>> ole32.lib oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib  
>> msimg32.lib winin
>> et.lib  hbmk_oc1bwh.res
>>
>> MSVC 9 "2008"
>> WINDOWS 7
>>
>> Thanks
>> Fernando
>>
>> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10  
>> - Celebridades - M?sica - 
>> Esportes_______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>

From harbour.01 at syenar.hu  Wed Aug 19 12:28:41 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 12:28:49 2009
Subject: Res: [Harbour] problem compile SVN with MSVC
In-Reply-To: <520478.44738.qm@web52210.mail.re2.yahoo.com>
References: <969694.12587.qm@web52208.mail.re2.yahoo.com>
	<580CDD8D-027B-4442-A228-98979B88178D@syenar.hu>
	<520478.44738.qm@web52210.mail.re2.yahoo.com>
Message-ID: <4CA0E7A1-609D-4B12-B496-56D7CF543DB5@syenar.hu>

> 6.0A
> I don?t find these libs user32 and kernel32

It may be the problem. These should be in the SDK LIB dir.
Try reinstalling it.

Brgds,
Viktor

From elart at elart.it  Wed Aug 19 12:29:42 2009
From: elart at elart.it (elart)
Date: Wed Aug 19 12:30:01 2009
Subject: [Harbour] Make install on linux why make:
	.binpostinst.bat:	Command not found, make: *** [install] Error 127
In-Reply-To: <20090819092033.GA15802@uran.home.aster.pl>
References: <4A8B6B78.8070102@elart.it>
	<20090819092033.GA15802@uran.home.aster.pl>
Message-ID: <4A8C2876.5090002@elart.it>

On 08/19/2009 11:20 AM, Przemyslaw Czerpak wrote:
> On Wed, 19 Aug 2009, elart wrote:
>
> Hi,
>
>> On Ubuntu 9.04 32 bits compiling from latest svn sources when i try make
>> install i get this error
>> make[3]: `../../../../../lib/linux/gcc/liblibhpdf.a' is up to date.
>> ! Installing ../../lib/linux/gcc/liblibhpdf.a on /usr/local/lib/harbour
>> ! 'libpng' library skipped
>> ! 'sqlite3' library skipped
>> .\bin\postinst.bat
>> make: .binpostinst.bat: Command not found
>> make: *** [install] Error 127
>
> I guess that you are using ksh as your default shell.
> What shows:
>     echo $is
> and
>     echo $SHELL
> ?
>
> best regards,
> Przemek

danilo@ubuntu:~$ echo $is

danilo@ubuntu:~$ echo $SHELL
/bin/bash
danilo@ubuntu:~$
From vszakats at users.sourceforge.net  Wed Aug 19 13:01:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 19 13:01:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12184] trunk/harbour
Message-ID: <E1MdoXV-0007zB-HX@d5vjzd1.ch3.sourceforge.com>

Revision: 12184
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12184&view=rev
Author:   vszakats
Date:     2009-08-19 17:01:32 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-19 18:59 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Replaced make_gnu_xmingw*.sh references with simple make
      commands.
    ; There are no more script/batch references inside INSTALL doc.
      (except some compiler configuration ones but these don't belong 
      to Harbour, included for convenience only)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fernando_athayde at yahoo.com.br  Wed Aug 19 13:31:43 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Wed Aug 19 13:31:49 2009
Subject: Res: Res: [Harbour] problem compile SVN with MSVC
In-Reply-To: <4CA0E7A1-609D-4B12-B496-56D7CF543DB5@syenar.hu>
References: <969694.12587.qm@web52208.mail.re2.yahoo.com>
	<580CDD8D-027B-4442-A228-98979B88178D@syenar.hu>
	<520478.44738.qm@web52210.mail.re2.yahoo.com>
	<4CA0E7A1-609D-4B12-B496-56D7CF543DB5@syenar.hu>
Message-ID: <60868.59642.qm@web52203.mail.re2.yahoo.com>

yeah man, now runs perfect
i put in include C:\Program Files\Microsoft SDKs\Windows\v6.0A\include
an in lib C:\Program Files\Microsoft SDKs\Windows\v6.0\lib

do you know how compile harbour for mscvArm?
in fact I'am to try make harbour and hwgui for Smartphone / WinCE, can you give me anything about this

Thanks
Fernando




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Quarta-feira, 19 de Agosto de 2009 13:28:41
Assunto: Re: Res: [Harbour] problem compile SVN with MSVC

> 6.0A
> I don?t find these libs user32 and kernel32

It may be the problem. These should be in the SDK LIB dir.
Try reinstalling it.

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour


__________________________________________________
Fale com seus amigos  de gra?a com o novo Yahoo! Messenger 
http://br.messenger.yahoo.com/ 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090819/3a4ae41d/attachment-0001.html
From harbour.01 at syenar.hu  Wed Aug 19 13:40:55 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 13:41:04 2009
Subject: Res: Res: [Harbour] problem compile SVN with MSVC
In-Reply-To: <60868.59642.qm@web52203.mail.re2.yahoo.com>
References: <969694.12587.qm@web52208.mail.re2.yahoo.com>
	<580CDD8D-027B-4442-A228-98979B88178D@syenar.hu>
	<520478.44738.qm@web52210.mail.re2.yahoo.com>
	<4CA0E7A1-609D-4B12-B496-56D7CF543DB5@syenar.hu>
	<60868.59642.qm@web52203.mail.re2.yahoo.com>
Message-ID: <02E291F2-8A3C-4CB7-B5AA-28875005EAC9@syenar.hu>

> yeah man, now runs perfect
> i put in include C:\Program Files\Microsoft SDKs\Windows\v6.0A\include
> an in lib C:\Program Files\Microsoft SDKs\Windows\v6.0\lib

You may want to check in INSTALL the examples, as there is a much
simpler and sure way to configure MSVC. It's also the official way.

> do you know how compile harbour for mscvArm?
> in fact I'am to try make harbour and hwgui for Smartphone / WinCE,  
> can you give me anything about this

Sorry I can't. I've made quite a few attempts in recent years
but none were successful. As far as I could deduct the thing
is that MS doesn't provide free compiler + environment to
develop for WinCE. But it's possible I missed something, the
whole experience was very microsofty.

Brgds,
Viktor

>
> Thanks
> Fernando
>
> De: Viktor Szak?ts <harbour.01@syenar.hu>
> Para: Harbour Project Main Developer List. <harbour@harbour-project.org 
> >
> Enviadas: Quarta-feira, 19 de Agosto de 2009 13:28:41
> Assunto: Re: Res: [Harbour] problem compile SVN with MSVC
>
> > 6.0A
> > I don?t find these libs user32 and kernel32
>
> It may be the problem. These should be in the SDK LIB dir.
> Try reinstalling it.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> __________________________________________________
> Fale com seus amigos de gra?a com o novo Yahoo! Messenger
> http://br.messenger.yahoo.com/  
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Wed Aug 19 13:46:34 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug 19 13:46:42 2009
Subject: [Harbour] Make install on linux why make: .binpostinst.bat:
	Command not found, make: *** [install] Error 127
In-Reply-To: <4A8C2876.5090002@elart.it>
References: <4A8B6B78.8070102@elart.it>
	<20090819092033.GA15802@uran.home.aster.pl>
	<4A8C2876.5090002@elart.it>
Message-ID: <20090819174634.GA7784@uran.home.aster.pl>

On Wed, 19 Aug 2009, elart wrote:

Hi,

>> I guess that you are using ksh as your default shell.
>> What shows:
>>     echo $is
>> and
>>     echo $SHELL
> danilo@ubuntu:~$ echo $SHELL
> /bin/bash

Interesting bat it's possible that /bin/bash is ksh. I've seen
such tricks in some distros.
What is shown by:
   echo "[$SHELL] [$SHLVL] [$BASH]"
?
Can you also try to compile Harbour using current SVN after:
   2009-08-19 11:34 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

best regards,
Przemek
From fernando_athayde at yahoo.com.br  Wed Aug 19 13:46:40 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Wed Aug 19 13:46:48 2009
Subject: Res: Res: Res: [Harbour] problem compile SVN with MSVC
In-Reply-To: <02E291F2-8A3C-4CB7-B5AA-28875005EAC9@syenar.hu>
References: <969694.12587.qm@web52208.mail.re2.yahoo.com>
	<580CDD8D-027B-4442-A228-98979B88178D@syenar.hu>
	<520478.44738.qm@web52210.mail.re2.yahoo.com>
	<4CA0E7A1-609D-4B12-B496-56D7CF543DB5@syenar.hu>
	<60868.59642.qm@web52203.mail.re2.yahoo.com>
	<02E291F2-8A3C-4CB7-B5AA-28875005EAC9@syenar.hu>
Message-ID: <88709.20454.qm@web52208.mail.re2.yahoo.com>

for winCE mingw is better?

Bregards
Fernando




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Quarta-feira, 19 de Agosto de 2009 14:40:55
Assunto: Re: Res: Res: [Harbour] problem compile SVN with MSVC

> yeah man, now runs perfect
> i put in include C:\Program Files\Microsoft SDKs\Windows\v6.0A\include
> an in lib C:\Program Files\Microsoft SDKs\Windows\v6.0\lib

You may want to check in INSTALL the examples, as there is a much
simpler and sure way to configure MSVC. It's also the official way.

> do you know how compile harbour for mscvArm?
> in fact I'am to try make harbour and hwgui for Smartphone / WinCE, can you give me anything about this

Sorry I can't. I've made quite a few attempts in recent years
but none were successful. As far as I could deduct the thing
is that MS doesn't provide free compiler + environment to
develop for WinCE. But it's possible I missed something, the
whole experience was very microsofty.

Brgds,
Viktor

> 
> Thanks
> Fernando
> 
> De: Viktor Szak?ts <harbour.01@syenar.hu>
> Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Enviadas: Quarta-feira, 19 de Agosto de 2009 13:28:41
> Assunto: Re: Res: [Harbour] problem compile SVN with MSVC
> 
> > 6.0A
> > I don?t find these libs user32 and kernel32
> 
> It may be the problem. These should be in the SDK LIB dir.
> Try reinstalling it.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> __________________________________________________
> Fale com seus amigos de gra?a com o novo Yahoo! Messenger
> http://br.messenger.yahoo.com/ _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090819/ed2ed49d/attachment.html
From elart at elart.it  Wed Aug 19 13:47:02 2009
From: elart at elart.it (elart)
Date: Wed Aug 19 13:47:21 2009
Subject: [Harbour] mpkg_deb.sh --> no existent make_gnu.sh related error
In-Reply-To: <E1MdoXV-0007zB-HX@d5vjzd1.ch3.sourceforge.com>
References: <E1MdoXV-0007zB-HX@d5vjzd1.ch3.sourceforge.com>
Message-ID: <4A8C3A96.9070000@elart.it>

Output on ./mpkg_deb.sh scripts... hope this helps, thank you and best 
regards...

./mpkg_deb.sh
dpkg-buildpackage: set CFLAGS to default value: -g -O2
dpkg-buildpackage: set CPPFLAGS to default value:
dpkg-buildpackage: set LDFLAGS to default value: -Wl,-Bsymbolic-functions
dpkg-buildpackage: set FFLAGS to default value: -g -O2
dpkg-buildpackage: set CXXFLAGS to default value: -g -O2
dpkg-buildpackage: source package harbour
dpkg-buildpackage: source version 2.0.0beta1-1
dpkg-buildpackage: source changed by Viktor Szakats <harbour___@syenar.hu>
dpkg-buildpackage: host architecture i386
  fakeroot debian/rules clean
dh_testdir
dh_testroot
rm -f build-stamp configure-stamp
bash make_gnu.sh clean
bash: make_gnu.sh: No such file or directory
make: [clean] Error 127 (ignored)
dh_clean
  debian/rules build
dh_testdir
bash make_gnu.sh
bash: make_gnu.sh: No such file or directory
make: *** [build-stamp] Error 127
dpkg-buildpackage: failure: debian/rules build gave error exit status 2

From vszakats at users.sourceforge.net  Wed Aug 19 13:49:52 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 19 13:49:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12185] trunk/harbour
Message-ID: <E1MdpIG-0004hF-Ch@bj8yhf1.ch3.sourceforge.com>

Revision: 12185
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12185&view=rev
Author:   vszakats
Date:     2009-08-19 17:49:51 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-19 19:45 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added support for detecting Harbour binary environment
      in raw form, meaning the one after simple 'make' *without*
      'make install'.
      Of course 'install' is still useful to build dlls (and
      implibs on win), but for normal cases this may be a very
      useful feature. You do a 'make' (no admin needed on *nix),
      go to ./bin/arch/comp and hbmk2 works without any extra
      configuration.
      This feature also allows us to distribute multihost
      binary packages. Such unified binaries can be run under
      multiple hosts. (IOW we can have one binary distro which
      covers potentially all our supported platforms/compilers
      both as host OS and target OS). See watcom for such an
      example in the C compiler world.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From elart at elart.it  Wed Aug 19 13:51:18 2009
From: elart at elart.it (elart)
Date: Wed Aug 19 13:51:36 2009
Subject: [Harbour] Make install on linux why make:
	.binpostinst.bat:	Command not found, make: *** [install] Error 127
In-Reply-To: <20090819174634.GA7784@uran.home.aster.pl>
References: <4A8B6B78.8070102@elart.it>
	<20090819092033.GA15802@uran.home.aster.pl>
	<4A8C2876.5090002@elart.it>
	<20090819174634.GA7784@uran.home.aster.pl>
Message-ID: <4A8C3B96.5010903@elart.it>

On 08/19/2009 07:46 PM, Przemyslaw Czerpak wrote:
> On Wed, 19 Aug 2009, elart wrote:
>
> Hi,
>
>>> I guess that you are using ksh as your default shell.
>>> What shows:
>>>      echo $is
>>> and
>>>      echo $SHELL
>> danilo@ubuntu:~$ echo $SHELL
>> /bin/bash
>
> Interesting bat it's possible that /bin/bash is ksh. I've seen
> such tricks in some distros.
> What is shown by:
>     echo "[$SHELL] [$SHLVL] [$BASH]"
> ?
> Can you also try to compile Harbour using current SVN after:
>     2009-08-19 11:34 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>
> best regards,
> Przemek

Przemek after your upgrades sh is working good now... by the way i send 
you the variables contents:

echo "[$SHELL] [$SHLVL] [$BASH]"
[/bin/bash] [1] [/bin/bash]

Thank you and best regards


From harbour.01 at syenar.hu  Wed Aug 19 13:59:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 13:59:31 2009
Subject: Res: Res: Res: [Harbour] problem compile SVN with MSVC
In-Reply-To: <88709.20454.qm@web52208.mail.re2.yahoo.com>
References: <969694.12587.qm@web52208.mail.re2.yahoo.com>
	<580CDD8D-027B-4442-A228-98979B88178D@syenar.hu>
	<520478.44738.qm@web52210.mail.re2.yahoo.com>
	<4CA0E7A1-609D-4B12-B496-56D7CF543DB5@syenar.hu>
	<60868.59642.qm@web52203.mail.re2.yahoo.com>
	<02E291F2-8A3C-4CB7-B5AA-28875005EAC9@syenar.hu>
	<88709.20454.qm@web52208.mail.re2.yahoo.com>
Message-ID: <8BDE9E95-F928-45DC-96A4-91D40E228AF4@syenar.hu>

> for winCE mingw is better?

Since msvcarm never worked for me at all, for me mingwarm is
not only better, but the only choice. Put that aside, I think
mingwarm is a very strong tool and I already built with it my
large app (and it worked), so I can recommend it. It's also
available for *nix systems, and for sure much better than poccarm.
(except in compile speed, but I can live with that).

Brgds,
Viktor

>
> Bregards
> Fernando
>
> De: Viktor Szak?ts <harbour.01@syenar.hu>
> Para: Harbour Project Main Developer List. <harbour@harbour-project.org 
> >
> Enviadas: Quarta-feira, 19 de Agosto de 2009 14:40:55
> Assunto: Re: Res: Res: [Harbour] problem compile SVN with MSVC
>
> > yeah man, now runs perfect
> > i put in include C:\Program Files\Microsoft SDKs\Windows\v6.0A 
> \include
> > an in lib C:\Program Files\Microsoft SDKs\Windows\v6.0\lib
>
> You may want to check in INSTALL the examples, as there is a much
> simpler and sure way to configure MSVC. It's also the official way.
>
> > do you know how compile harbour for mscvArm?
> > in fact I'am to try make harbour and hwgui for Smartphone / WinCE,  
> can you give me anything about this
>
> Sorry I can't. I've made quite a few attempts in recent years
> but none were successful. As far as I could deduct the thing
> is that MS doesn't provide free compiler + environment to
> develop for WinCE. But it's possible I missed something, the
> whole experience was very microsofty.
>
> Brgds,
> Viktor
>
> >
> > Thanks
> > Fernando
> >
> > De: Viktor Szak?ts <harbour.01@syenar.hu>
> > Para: Harbour Project Main Developer List. <harbour@harbour-project.org 
> >
> > Enviadas: Quarta-feira, 19 de Agosto de 2009 13:28:41
> > Assunto: Re: Res: [Harbour] problem compile SVN with MSVC
> >
> > > 6.0A
> > > I don?t find these libs user32 and kernel32
> >
> > It may be the problem. These should be in the SDK LIB dir.
> > Try reinstalling it.
> >
> > Brgds,
> > Viktor
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> > __________________________________________________
> > Fale com seus amigos de gra?a com o novo Yahoo! Messenger
> > http://br.messenger.yahoo.com/  
> _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 -  
> Celebridades - M?sica - 
> Esportes_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Wed Aug 19 14:04:44 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 19 14:04:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12186] trunk/harbour
Message-ID: <E1MdpWe-00050V-4f@bj8yhf1.ch3.sourceforge.com>

Revision: 12186
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12186&view=rev
Author:   vszakats
Date:     2009-08-19 18:04:43 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-19 20:04 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * debian/rules
    ! Changed make_gnu.sh references to direct make commands.
      (please verify me)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/debian/rules


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From abe.buch at att.net  Wed Aug 19 14:05:00 2009
From: abe.buch at att.net (AbeB)
Date: Wed Aug 19 14:05:06 2009
Subject: [Harbour] Harbour For WinCE
Message-ID: <1250705100289-3474279.post@n2.nabble.com>


Hi All,

First let me thank all of you for getting us Harbour. Thank You.
I don't have to enumerate what effort, expertize & time that went into it to
make Harbour what it is now, it's all well  known, and appreciated.


I think & wish more attention would be given to make it run on WinCE. It
would make Harbour a real real killer app. There aren't really any/many
development options for Wince to create compact fast database programs. It
looks like it's all there just needs some more greasing & tweaking. 

Console mode needs some ajustments. and oh do I wish for hbQt for Gui.

Thanks,
Abe.



 


-- 
View this message in context: http://n2.nabble.com/Harbour-For-WinCE-tp3474279p3474279.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Wed Aug 19 14:07:16 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 19 14:07:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12187] trunk/harbour
Message-ID: <E1MdpZ6-00054Z-6u@bj8yhf1.ch3.sourceforge.com>

Revision: 12187
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12187&view=rev
Author:   vszakats
Date:     2009-08-19 18:07:15 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-19 20:06 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * debian/rules
    * Using spaces instead of tabs for indentation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/debian/rules


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Aug 19 14:25:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 14:25:12 2009
Subject: [Harbour] Harbour For WinCE
In-Reply-To: <1250705100289-3474279.post@n2.nabble.com>
References: <1250705100289-3474279.post@n2.nabble.com>
Message-ID: <4CC29E25-8442-4E30-89CF-1F7111B2F246@syenar.hu>

> First let me thank all of you for getting us Harbour. Thank You.
> I don't have to enumerate what effort, expertize & time that went  
> into it to
> make Harbour what it is now, it's all well  known, and appreciated.

Thank you for you words.

> I think & wish more attention would be given to make it run on  
> WinCE. It
> would make Harbour a real real killer app. There aren't really any/ 
> many
> development options for Wince to create compact fast database  
> programs. It
> looks like it's all there just needs some more greasing & tweaking.
>
> Console mode needs some ajustments. and oh do I wish for hbQt for Gui.

It all depends on developers. I'm no WinCE user in any ways,
so everything done for WinCE is on pure theoretical ground.
To be ready for real life this isn't enough of course.

GTWVT should be tested by real WinCE users and fixes proposed,
I've also seen the slightly wrong display of chars, but it was
a screenshot only, so it wasn't an option to make any tweaks.

Now with recent Harbour it's very easy to create tests for WinCE
either by using binary distro or creating a WinCE build from source.

If you are interested in QT for WinCE, you can give it a shot
by installing required QT package and setting it up for Harbour,
I'm sure we can help if you have some questions along the way.
I'd be a great config addition. Theoretically speaking, current
hbqt source should compile as is for WinCE.

[ at first shot it looks you have to start with building QT
for WinCE from source using MSVC. ]

Brgds,
Viktor

From carozodequilmes at gmail.com  Wed Aug 19 14:43:47 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Wed Aug 19 14:43:55 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <650F1DB1-DCCB-4DC5-A29C-CDF7E38893F4@syenar.hu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>
	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>
	<4A8C1BC0.6000507@mweb.co.za>
	<650F1DB1-DCCB-4DC5-A29C-CDF7E38893F4@syenar.hu>
Message-ID: <578c73340908191143w773abca2vfa45a61eb5e758cf@mail.gmail.com>

I don't want replace harbour functions
I don't want added new features to hbqt
I only need that my exe progran linked with Static hbqts has all features
that when I link my program with dinamic Link.

The way for this goal are Qt Plugins.

CdQ

On Wed, Aug 19, 2009 at 12:48 PM, Viktor Szak?ts <harbour.01@syenar.hu>wrote:

> Viktor Szak?ts wrote:
>>
>>  QT is huge and there is nothing which should stop any user
>>> to start developing Harbour bindings for any part of it we
>>> don't happen to support in Harbour itself.
>>>
>>
>> It did occur to me when I saw what a large part of the Harbour SVN it is
>> now that it should be a separate project.
>>
>> And yet, a cross platform GUI for Harbour? Maybe it shouldn't. I suspect
>> that the idea of a standard GUI for Harbour may remain a pipe dream.
>>
>
> I think QT is quite fine for UI purpose and our
> goal was exactly to implement that. Pritpal did a
> huge and great job with it and now it's working on
> Linux, Mac OS X and Windows (maybe even WinCE).
>
> IMO we reached the goal quite nicely. The code is
> large and for this reason I'd like if we would stick
> with UI related stuff.
>
> If we need the rest (QT has networking, web access,
> FTP, some of these already slipped into hbqt, and who
> knows what else), we can move/implement them in
> distinct libraries, even outside our repository.
> The tools are there for everyone.
>
> Harbour's goal is IMO not to implement a complete
> wrapper for QT as a *platform*. Harbour *is* the platform
> itself with many features, duplicating these efforts
> on a more limited (in portability, size) platform is
> not ideal.
>
> Brgds,
> Viktor
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
QAC (I want something comfortable !!!) - Incremental Compilation with all
MiniGUIs versions
QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
versiones de MiniGUI

Download: www.CarozoDeQuilmes.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090819/3ce9113b/attachment.html
From harbour.01 at syenar.hu  Wed Aug 19 14:58:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 14:58:23 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <578c73340908191143w773abca2vfa45a61eb5e758cf@mail.gmail.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>
	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>
	<4A8C1BC0.6000507@mweb.co.za>
	<650F1DB1-DCCB-4DC5-A29C-CDF7E38893F4@syenar.hu>
	<578c73340908191143w773abca2vfa45a61eb5e758cf@mail.gmail.com>
Message-ID: <93FBE65A-5436-4810-A1BC-BE03D4FA7F60@syenar.hu>

On 2009.08.19., at 8:43, CarozoDeQuilmes wrote:

> I don't want replace harbour functions
> I don't want added new features to hbqt
> I only need that my exe progran linked with Static hbqts has all  
> features that when I link my program with dinamic Link.
>
> The way for this goal are Qt Plugins.

I understand this, but there is no guarantee that
after this requirement is satisfied there won't
be another (and another) which also need to be fixed
for your preferred scenario.

BTW QT static builds are not supported for commercial
apps in a reasonable way, so our focus is on default
dynamic linking.

Anyhow I trust Pritpal's judgment on this matter,
but have some concerns that any plugin system is
not just a few lines of code, but requires quite
complicated logic to be implemented on such wrapper
level as Harbour. But maybe I'm wrong.

It's also a possibility that some solution for this
problem is developed locally with your participation
and adapted to Harbour SVN later. After all it's an
itch to scratch for you. This what drives Open Source
development forward.

Brgds,
Viktor

From antonioharbour at gmail.com  Wed Aug 19 15:25:43 2009
From: antonioharbour at gmail.com (Antonio Linares)
Date: Wed Aug 19 15:25:50 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <BFEF134F-BFE8-4AA5-80A4-DF6923509ED7@syenar.hu>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
	<BFEF134F-BFE8-4AA5-80A4-DF6923509ED7@syenar.hu>
Message-ID: <9471afc80908191225h76ce04aal111997b8247e0571@mail.gmail.com>

Viktor,

My proposed changes with your fix to use hb_parnint() are working fine :-)

So we just need this call in legacy.prg:
   IF ISNUMBER( xOle )
      xOle := __OLEPDISP( xOle )
   ENDIF

and add this function to olecore.c:
HB_FUNC( __OLEPDISP )
{
   IDispatch*  pDisp = ( IDispatch * ) hb_parnint( 1 );
   IDispatch** ppDisp;

   ppDisp = ( IDispatch** ) hb_gcAlloc( sizeof( IDispatch* ),
hb_ole_destructor );
   *ppDisp = pDisp;
   hb_retptrGC( ppDisp );
}

this way we keep backwards compatibility with previous Harbour OleAuto
code and also we are compatible with xHarbour :-)

If you are so kind to upload it to the SVN then we can tell our FWH
users to download and use the official Harbour builds instead of
having to provide a modified build of our own. Thanks,

Thanks for your help,

Antonio
From vszakats at users.sourceforge.net  Wed Aug 19 15:27:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 19 15:27:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12188] trunk/harbour
Message-ID: <E1MdqoH-0001jF-94@74yxhf1.ch3.sourceforge.com>

Revision: 12188
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12188&view=rev
Author:   vszakats
Date:     2009-08-19 19:27:00 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-19 21:26 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added msvcarm examples (using MSVC 2008. 2005 should be similar).

  * config/wce/msvcarm.mk
    % Somewhat reduced number of macro options.
    ! Deleted debug switch from default c option list.
    % Deleted a few more default c options.
    ! Added corelibc to syslib list.
    ! Cleaned linker flags to make it link. Some others
      just removed, they seem not required.

  * utils/hbmk2/hbmk2.prg
    * Synced msvcarm settings with .mk.

  * config/global.mk
  * utils/hbmk2/hbmk2.prg
    + Added msvcarm autodetection to both GNU Make and hbmk2.

  * config/wce/global.mk
  * config/wce/poccarm.mk
  * utils/hbmk2/hbmk2.prg
  * bin/hb-mkdyn.bat
    + Added coredll to wce syslib list.
      (required for msvc and pocc, optional for mingw)

  ; Now msvcarm builds, with a lot of warnings.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/config/global.mk
    trunk/harbour/config/wce/global.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From antonioharbour at gmail.com  Wed Aug 19 15:28:47 2009
From: antonioharbour at gmail.com (Antonio Linares)
Date: Wed Aug 19 15:28:53 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
	<m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>
Message-ID: <9471afc80908191228s60b14a95tf5822cd167c12147@mail.gmail.com>

Toninho,

Thanks for your help.

Fortunately we got our previous working Harbour code working again :-)

Antonio

El 19 de agosto de 2009 18:14, Toninho@fwi<toninhofwi@yahoo.com.br> escribi?:
> Hi, sorry to jump in.
>
>>In FWH Class TActiveX we use this code (which was working fine with
>>previous OleAuto version):
>
> I have a working class for TActiveX that user current SVN, here it is:
>
> ---cut---
> #include "hbclass.ch"
>
> //------------------------------------------------------------------------------------------------------------------//
>
> CLASS TActiveX FROM TControl
>
> ? CLASSDATA lRegistered AS LOGICAL INIT .f.
>
> ? DATA cProgID AS STRING
>
> ? DATA oOle AS OBJECT
>
> ? DATA bEvent
>
> ? METHOD New( oWnd, cProgId, nTop, nLeft, nBottom, nRight, bEvent )
> CONSTRUCTOR
>
> ? METHOD Redefine( oWnd, nId, cProgID, bEvent ) CONSTRUCTOR
>
> ? METHOD Initiate( hDlg ) INLINE ::Super:Initiate( hDlg ),
> ::Default()
>
> ? METHOD Default()
>
> ? ERROR HANDLER OnError()
>
> ENDCLASS
>
> //------------------------------------------------------------------------------------------------------------------//
>
> METHOD New( oWnd, cProgId, nTop, nLeft, nBottom, nRight, bEvent )
> CLASS TActiveX
>
> ? DEFAULT nTop ? ?:= oWnd:nTop
> ? DEFAULT nLeft ? := oWnd:nLeft
> ? DEFAULT nBottom := oWnd:nBottom
> ? DEFAULT nRight ?:= oWnd:nRight
>
> ? ::oWnd ? ?= oWnd
> ? ::cProgId = cProgId
> ? ::nTop ? ?= nTop
> ? ::nLeft ? = nLeft
> ? ::nBottom = nBottom
> ? ::nRight ?= nRight + GetSysMetrics( SM_CYVSCROLL )
> ? ::nId ? ? = ::GetNewId()
> ? ::nStyle ?= nOR( WS_CHILD, WS_VISIBLE )
> ? ::bEvent ?= bEvent
>
> ? ::Register()
>
> ? if !Empty( oWnd:hWnd )
>
> ? ? ?::Create()
>
> ? ? ?oWnd:AddControl( Self )
>
> ? else
>
> ? ? ?oWnd:DefControl( Self )
>
> ? endif
>
> ? ::Default()
>
> return Self
>
> //------------------------------------------------------------------------------------------------------------------//
>
> METHOD Redefine( oWnd, nId, cProgID, bEvent ) CLASS TActiveX
>
> ? ::oWnd ? ?= oWnd
> ? ::nId ? ? = nId
> ? ::cProgId = cProgId
> ? ::nStyle ?= nOR( WS_CHILD, WS_VISIBLE )
> ? ::bEvent ?= bEvent
>
> ? ::Register( nOR( CS_VREDRAW, CS_HREDRAW ) )
>
> ? oWnd:DefControl( Self )
>
> return Self
>
> //------------------------------------------------------------------------------------------------------------------//
>
> METHOD Default() CLASS TActiveX
>
> ? WIN_AxInit()
>
> ? ::oOle = WIN_AxGetControl( WApi_CreateWindowEX( 0, "AtlAxWin",
> ::cProgId, ::nStyle, ::nLeft, ::nTop, ::nWidth, ::nHeight, win_N2P(
> ::hWnd ), 0 ), ::bEvent )
>
> return nil
>
> //------------------------------------------------------------------------------------------------------------------//
>
> METHOD OnError() CLASS TActiveX
> return HB_ExecFromArray( ::oOle, __GetMessage(), HB_AParams() )
> ---cut---
>
>
> I hope this can help,
>
> Regards,
>
> Toninho.
>
> __________________________________________________
> Fa?a liga??es para outros computadores com o novo Yahoo! Messenger
> http://br.beta.messenger.yahoo.com/
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From harbour.01 at syenar.hu  Wed Aug 19 15:30:32 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 15:30:39 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <9471afc80908191225h76ce04aal111997b8247e0571@mail.gmail.com>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
	<BFEF134F-BFE8-4AA5-80A4-DF6923509ED7@syenar.hu>
	<9471afc80908191225h76ce04aal111997b8247e0571@mail.gmail.com>
Message-ID: <936738B7-CCA1-4433-9FC3-B8A36F3ABDA5@syenar.hu>

> Viktor,
>
> My proposed changes with your fix to use hb_parnint() are working  
> fine :-)
>
> So we just need this call in legacy.prg:
>   IF ISNUMBER( xOle )
>      xOle := __OLEPDISP( xOle )
>   ENDIF
>
> and add this function to olecore.c:
> HB_FUNC( __OLEPDISP )
> {
>   IDispatch*  pDisp = ( IDispatch * ) hb_parnint( 1 );
>   IDispatch** ppDisp;
>
>   ppDisp = ( IDispatch** ) hb_gcAlloc( sizeof( IDispatch* ),
> hb_ole_destructor );
>   *ppDisp = pDisp;
>   hb_retptrGC( ppDisp );
> }

Nice.

> this way we keep backwards compatibility with previous Harbour OleAuto
> code and also we are compatible with xHarbour :-)
>
> If you are so kind to upload it to the SVN then we can tell our FWH
> users to download and use the official Harbour builds instead of
> having to provide a modified build of our own. Thanks,

Okay. I'll do only one modification, __OLEPDISP() will be put in
legacyc.c, plus I may rename it. I'll do this tomorrow.

> Thanks for your help,

You're welcome.

Brgds,
Viktor

From fernando_athayde at yahoo.com.br  Wed Aug 19 15:36:15 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Wed Aug 19 15:36:21 2009
Subject: [Harbour] mingw32ce compile svn problem
Message-ID: <689520.60879.qm@web52209.mail.re2.yahoo.com>

gcc version 4.1.0

! HB_HOST_ARCH: win  HB_SHELL: nt
! HB_ARCHITECTURE: wce
! HB_COMPILER: mingwarm
mingw32-make[2]: Nothing to be done for `all'.
mingw32-make[1]: Nothing to be done for `all'.
gcc  -I. -I../../../../../include  -Wall -W -O2 -fomit-frame-pointer -DUNICODE
 -oexpropt1.o -c ../../../expropt1.c
In file included from ../../../expropt1.c:58:
../../../../../include/hbmacro.h:56:19: error: stdio.h: No such file or directory
../../../../../include/hbmacro.h:57:20: error: stdlib.h: No such file or directory
../../../../../include/hbmacro.h:58:20: error: string.h: No such file or directory
../../../../../include/hbmacro.h:59:20: error: limits.h: No such file or directory
../../../../../include/hbmacro.h:60:18: error: time.h: No such file or directory

In file included from ../../../../../include/hbvmpub.h:56,
                 from ../../../../../include/hbapi.h:61,
                 from ../../../../../include/hbcompdf.h:57,
                 from ../../../../../include/hbmacro.h:62,
                 from ../../../expropt1.c:58:
../../../../../include/hbdefs.h:56:20: error: stdarg.h: No such file or directory
../../../../../include/hbdefs.h:82:23: error: stdint.h: No such file or directory
In file included from ../../../../../include/hbdefs.h:189,
                 from ../../../../../include/hbvmpub.h:56,
                 from ../../../../../include/hbapi.h:61,
                 from ../../../../../include/hbcompdf.h:57,
                 from ../../../../../include/hbmacro.h:62,
                 from ../../../expropt1.c:58:
../../../../../include/hbwince.h:184: error: expected '=', ',', ';', 'asm' or '__attribute__' before '*' token
../../../../../include/hbwince.h:185: warning: type defaults to 'int' in declaration of 'wchar_t'
../../../../../include/hbwince.h:185: error: expected ';', ',' or ')' before '*' token
../../../../../include/hbwince.h:186: error: expected '=', ',', ';', 'asm' or '__attribute__' before '*' token
../../../../../include/hbwince.h:187: warning: type defaults to 'int' in declaration of 'wchar_t'
../../../../../include/hbwince.h:187: error: expected ';', ',' or ')' before '*' token
../../../../../include/hbwince.h:188: error: expected ')' before '*' token
../../../../../include/hbwince.h:189: error: expected ')' before '*' token
../../../../../include/hbwince.h:190: warning: type defaults to 'int' in declaration of 'wchar_t'
../../../../../include/hbwince.h:190: error: expected ';', ',' or ')' before '*' token
../../../../../include/hbdefs.h:544:1: warning: "HB_LONG_LENGTH" redefined
../../../../../include/hbdefs.h:538:1: warning: this is the location of the previous definition
In file included from ../../../../../include/hbvmpub.h:56,
                 from ../../../../../include/hbapi.h:61,
                 from ../../../../../include/hbcompdf.h:57,
                 from ../../../../../include/hbmacro.h:62,
                 from ../../../expropt1.c:58:
../../../../../include/hbdefs.h:575: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'HB_TYPE'
../../../../../include/hbdefs.h:888: error: expected specifier-qualifier-list before 'UINT16'
../../../../../include/hbdefs.h:894: error: expected specifier-qualifier-list before 'UINT32'
../../../../../include/hbdefs.h: In function '_hb_get_ptr':
../../../../../include/hbdefs.h:918: warning: implicit declaration of function 'memcpy'
../../../../../include/hbdefs.h:918: warning: incompatible implicit declarationof built-in function 'memcpy'
../../../../../include/hbdefs.h: In function '_hb_put_ptr':
../../../../../include/hbdefs.h:926: warning: incompatible implicit declaration

Thanks
Fernando



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090819/cf24b094/attachment.html
From harbour.01 at syenar.hu  Wed Aug 19 15:38:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 19 15:38:28 2009
Subject: Res: Res: [Harbour] problem compile SVN with MSVC
In-Reply-To: <60868.59642.qm@web52203.mail.re2.yahoo.com>
References: <969694.12587.qm@web52208.mail.re2.yahoo.com>
	<580CDD8D-027B-4442-A228-98979B88178D@syenar.hu>
	<520478.44738.qm@web52210.mail.re2.yahoo.com>
	<4CA0E7A1-609D-4B12-B496-56D7CF543DB5@syenar.hu>
	<60868.59642.qm@web52203.mail.re2.yahoo.com>
Message-ID: <98090347-81A3-4063-A481-BCE456C00B2C@syenar.hu>

Hi Fernando,

I managed to find (by mere accident) the key to msvcarm builds,
it's already committed. Please try it.

It surely needs some more finishing touches.

Brgds,
Viktor

On 2009.08.19., at 7:31, Fernando Athayde wrote:

> yeah man, now runs perfect
> i put in include C:\Program Files\Microsoft SDKs\Windows\v6.0A\include
> an in lib C:\Program Files\Microsoft SDKs\Windows\v6.0\lib
>
> do you know how compile harbour for mscvArm?
> in fact I'am to try make harbour and hwgui for Smartphone / WinCE,  
> can you give me anything about this
>
> Thanks
> Fernando
>
> De: Viktor Szak?ts <harbour.01@syenar.hu>
> Para: Harbour Project Main Developer List. <harbour@harbour-project.org 
> >
> Enviadas: Quarta-feira, 19 de Agosto de 2009 13:28:41
> Assunto: Re: Res: [Harbour] problem compile SVN with MSVC
>
> > 6.0A
> > I don?t find these libs user32 and kernel32
>
> It may be the problem. These should be in the SDK LIB dir.
> Try reinstalling it.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> __________________________________________________
> Fale com seus amigos de gra?a com o novo Yahoo! Messenger
> http://br.messenger.yahoo.com/  
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From fernando_athayde at yahoo.com.br  Wed Aug 19 15:52:37 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Wed Aug 19 15:52:44 2009
Subject: Res: Res: Res: [Harbour] problem compile SVN with MSVC
In-Reply-To: <98090347-81A3-4063-A481-BCE456C00B2C@syenar.hu>
References: <969694.12587.qm@web52208.mail.re2.yahoo.com>
	<580CDD8D-027B-4442-A228-98979B88178D@syenar.hu>
	<520478.44738.qm@web52210.mail.re2.yahoo.com>
	<4CA0E7A1-609D-4B12-B496-56D7CF543DB5@syenar.hu>
	<60868.59642.qm@web52203.mail.re2.yahoo.com>
	<98090347-81A3-4063-A481-BCE456C00B2C@syenar.hu>
Message-ID: <645541.88923.qm@web52207.mail.re2.yahoo.com>

i don't find coredll.lib

cl.exe -nologo -DWINCE -D_WINCE -D_WINDOWS -DARM -D_ARM_ -DARMV4 -D_M_ARM -D_UNI
CODE -D_UWIN -W4 -Od -Os -Gy -GS- -EHsc- -Fe..\..\..\..\..\bin\wce\msvcarm\hbpp.
exe hbpp.obj  /nologo /link /subsystem:windowsce /nodefaultlib:oldnames.lib /nod
efaultlib:kernel32.lib /manifest:no /libpath:../../../../../lib/wce/msvcarm  hbc
ommon.lib hbnortl.lib coredll.lib ws2.lib corelibc.lib
LINK : fatal error LNK1181: cannot open input file 'coredll.lib'
mingw32-make[3]: *** [hbpp.exe] Error 2
rm hbpp.obj
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [pp] Error 2
mingw32-make: *** [source] Error 2

Brgds,
Fernando




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Quarta-feira, 19 de Agosto de 2009 16:38:20
Assunto: Re: Res: Res: [Harbour] problem compile SVN with MSVC

Hi Fernando,

I managed to find (by mere accident) the key to msvcarm builds,
it's already committed. Please try it.

It surely needs some more finishing touches.

Brgds,
Viktor

On 2009.08.19., at 7:31, Fernando Athayde wrote:

> yeah man, now runs perfect
> i put in include C:\Program Files\Microsoft SDKs\Windows\v6.0A\include
> an in lib C:\Program Files\Microsoft SDKs\Windows\v6.0\lib
> 
> do you know how compile harbour for mscvArm?
> in fact I'am to try make harbour and hwgui for Smartphone / WinCE, can you give me anything about this
> 
> Thanks
> Fernando
> 
> De: Viktor Szak?ts <harbour.01@syenar.hu>
> Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Enviadas: Quarta-feira, 19 de Agosto de 2009 13:28:41
> Assunto: Re: Res: [Harbour] problem compile SVN with MSVC
> 
> > 6.0A
> > I don?t find these libs user32 and kernel32
> 
> It may be the problem. These should be in the SDK LIB dir.
> Try reinstalling it.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> __________________________________________________
> Fale com seus amigos de gra?a com o novo Yahoo! Messenger
> http://br.messenger.yahoo.com/ _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090819/b1b3d778/attachment-0001.html
From fernando_athayde at yahoo.com.br  Wed Aug 19 15:56:51 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Wed Aug 19 15:56:57 2009
Subject: Res: Res: Res: [Harbour] problem compile SVN with MSVC
In-Reply-To: <98090347-81A3-4063-A481-BCE456C00B2C@syenar.hu>
References: <969694.12587.qm@web52208.mail.re2.yahoo.com>
	<580CDD8D-027B-4442-A228-98979B88178D@syenar.hu>
	<520478.44738.qm@web52210.mail.re2.yahoo.com>
	<4CA0E7A1-609D-4B12-B496-56D7CF543DB5@syenar.hu>
	<60868.59642.qm@web52203.mail.re2.yahoo.com>
	<98090347-81A3-4063-A481-BCE456C00B2C@syenar.hu>
Message-ID: <258655.70571.qm@web52209.mail.re2.yahoo.com>

http://msdn.microsoft.com/en-us/library/aa933961(WinEmbedded.60).aspx
about core32dll.lib

Brgds
Fernando




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Quarta-feira, 19 de Agosto de 2009 16:38:20
Assunto: Re: Res: Res: [Harbour] problem compile SVN with MSVC

Hi Fernando,

I managed to find (by mere accident) the key to msvcarm builds,
it's already committed. Please try it.

It surely needs some more finishing touches.

Brgds,
Viktor

On 2009.08.19., at 7:31, Fernando Athayde wrote:

> yeah man, now runs perfect
> i put in include C:\Program Files\Microsoft SDKs\Windows\v6.0A\include
> an in lib C:\Program Files\Microsoft SDKs\Windows\v6.0\lib
> 
> do you know how compile harbour for mscvArm?
> in fact I'am to try make harbour and hwgui for Smartphone / WinCE, can you give me anything about this
> 
> Thanks
> Fernando
> 
> De: Viktor Szak?ts <harbour.01@syenar.hu>
> Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Enviadas: Quarta-feira, 19 de Agosto de 2009 13:28:41
> Assunto: Re: Res: [Harbour] problem compile SVN with MSVC
> 
> > 6.0A
> > I don?t find these libs user32 and kernel32
> 
> It may be the problem. These should be in the SDK LIB dir.
> Try reinstalling it.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> __________________________________________________
> Fale com seus amigos de gra?a com o novo Yahoo! Messenger
> http://br.messenger.yahoo.com/ _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour


__________________________________________________
Fale com seus amigos  de gra?a com o novo Yahoo! Messenger 
http://br.messenger.yahoo.com/ 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090819/d6b9973d/attachment.html
From druzus at acn.waw.pl  Wed Aug 19 16:01:47 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug 19 16:01:53 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <936738B7-CCA1-4433-9FC3-B8A36F3ABDA5@syenar.hu>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
	<BFEF134F-BFE8-4AA5-80A4-DF6923509ED7@syenar.hu>
	<9471afc80908191225h76ce04aal111997b8247e0571@mail.gmail.com>
	<936738B7-CCA1-4433-9FC3-B8A36F3ABDA5@syenar.hu>
Message-ID: <20090819200146.GA9201@uran.home.aster.pl>

On Wed, 19 Aug 2009, Szak?ts Viktor wrote:

Hi Viktor,

>> My proposed changes with your fix to use hb_parnint() are working fine :-)
>> So we just need this call in legacy.prg:
>>   IF ISNUMBER( xOle )
>>      xOle := __OLEPDISP( xOle )
>>   ENDIF
>> and add this function to olecore.c:
>> HB_FUNC( __OLEPDISP )
>> {
>>   IDispatch*  pDisp = ( IDispatch * ) hb_parnint( 1 );
>>   IDispatch** ppDisp;
>>
>>   ppDisp = ( IDispatch** ) hb_gcAlloc( sizeof( IDispatch* ),
>> hb_ole_destructor );
>>   *ppDisp = pDisp;
>>   hb_retptrGC( ppDisp );
>> }
> Nice.
>> this way we keep backwards compatibility with previous Harbour OleAuto
>> code and also we are compatible with xHarbour :-)
>> If you are so kind to upload it to the SVN then we can tell our FWH
>> users to download and use the official Harbour builds instead of
>> having to provide a modified build of our own. Thanks,
> Okay. I'll do only one modification, __OLEPDISP() will be put in
> legacyc.c, plus I may rename it. I'll do this tomorrow.

Personally I do not like hacks used to keep alive wrong 3-rd party
code or for compatibility with xHarbour when other code should be fixed.
But if you want to add it then few notes about it.
You cannot add above function to legacyc.c because hb_ole_destructor
is intentionally static function so it can be only part of olecore.c.
We have public C function hb_oleItemPut() which allows to create
at C level Harbour OLE pointer items. It's not necessary to use numbers
by core or 3-rd party code can use this function. If some code still
uses numbers then it's a bug in this code which should be fixed instead
of adding workarounds for 3-rd party bugs to Harbour SVN.
Anyhow if you want to add it as some type of legacy code which will be
removed in the future but now gives time to users and 3-rd party developers
to fix their code then simply use public API to create such function
in legacyc.c, i.e.:

   #include "hbwinole.h"
   HB_FUNC( __OLEPDISP )
   {
      hb_oleItemPut( hb_param( -1, HB_IT_ANY ),
                     ( IDispatch * ) ( HB_PTRUINT ) hb_parnint( 1 ) );
   }

I only hope that when we remove the legacy code the problem will not
return.

best regards,
Przemek
From fernando_athayde at yahoo.com.br  Wed Aug 19 16:02:46 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Wed Aug 19 16:02:53 2009
Subject: Res: Res: Res: [Harbour] problem compile SVN with MSVC
In-Reply-To: <98090347-81A3-4063-A481-BCE456C00B2C@syenar.hu>
References: <969694.12587.qm@web52208.mail.re2.yahoo.com>
	<580CDD8D-027B-4442-A228-98979B88178D@syenar.hu>
	<520478.44738.qm@web52210.mail.re2.yahoo.com>
	<4CA0E7A1-609D-4B12-B496-56D7CF543DB5@syenar.hu>
	<60868.59642.qm@web52203.mail.re2.yahoo.com>
	<98090347-81A3-4063-A481-BCE456C00B2C@syenar.hu>
Message-ID: <949874.81504.qm@web52208.mail.re2.yahoo.com>

i found in 
C:\Program Files\Windows Mobile 5.0 SDK R2\PocketPC\Lib\ARMV4I

Thanks
Fernando




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Quarta-feira, 19 de Agosto de 2009 16:38:20
Assunto: Re: Res: Res: [Harbour] problem compile SVN with MSVC

Hi Fernando,

I managed to find (by mere accident) the key to msvcarm builds,
it's already committed. Please try it.

It surely needs some more finishing touches.

Brgds,
Viktor

On 2009.08.19., at 7:31, Fernando Athayde wrote:

> yeah man, now runs perfect
> i put in include C:\Program Files\Microsoft SDKs\Windows\v6.0A\include
> an in lib C:\Program Files\Microsoft SDKs\Windows\v6.0\lib
> 
> do you know how compile harbour for mscvArm?
> in fact I'am to try make harbour and hwgui for Smartphone / WinCE, can you give me anything about this
> 
> Thanks
> Fernando
> 
> De: Viktor Szak?ts <harbour.01@syenar.hu>
> Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Enviadas: Quarta-feira, 19 de Agosto de 2009 13:28:41
> Assunto: Re: Res: [Harbour] problem compile SVN with MSVC
> 
> > 6.0A
> > I don?t find these libs user32 and kernel32
> 
> It may be the problem. These should be in the SDK LIB dir.
> Try reinstalling it.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> __________________________________________________
> Fale com seus amigos de gra?a com o novo Yahoo! Messenger
> http://br.messenger.yahoo.com/ _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090819/4f0864f9/attachment.html
From fernando_athayde at yahoo.com.br  Wed Aug 19 16:05:12 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Wed Aug 19 16:05:19 2009
Subject: Res: Res: Res: [Harbour] problem compile SVN with MSVC
In-Reply-To: <98090347-81A3-4063-A481-BCE456C00B2C@syenar.hu>
References: <969694.12587.qm@web52208.mail.re2.yahoo.com>
	<580CDD8D-027B-4442-A228-98979B88178D@syenar.hu>
	<520478.44738.qm@web52210.mail.re2.yahoo.com>
	<4CA0E7A1-609D-4B12-B496-56D7CF543DB5@syenar.hu>
	<60868.59642.qm@web52203.mail.re2.yahoo.com>
	<98090347-81A3-4063-A481-BCE456C00B2C@syenar.hu>
Message-ID: <41301.83368.qm@web52208.mail.re2.yahoo.com>

i put this C:\Program Files\Windows Mobile 5.0 SDK R2\PocketPC\Lib\ARMV4I
on set lib

and show this error
cl.exe -nologo -DWINCE -D_WINCE -D_WINDOWS -DARM -D_ARM_ -DARMV4 -D_M_ARM -D_UNICODE -D_UWIN -W4 -Od -Os -Gy -GS- -EHsc--Fe..\..\..\..\..\bin\wce\msvcarm\hbpp.exe hbpp.obj  /nologo /link /subsystem:windowsce /nodefaultlib:oldnames.lib /nodefaultlib:kernel32.lib /manifest:no /libpath:../../../../../lib/wce/msvcarm  hbcommon.lib hbnortl.lib coredll.lib ws2.lib corelibc.lib
corelibc.lib(crt0dat.obj) : fatal error LNK1112: module machine type 'ARM' conflicts with target machine type 'X86'
mingw32-make[3]: *** [hbpp.exe] Error 2
rm hbpp.obj
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [pp] Error 2
mingw32-make: *** [source] Error 2

thanks
Fernando




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Quarta-feira, 19 de Agosto de 2009 16:38:20
Assunto: Re: Res: Res: [Harbour] problem compile SVN with MSVC

Hi Fernando,

I managed to find (by mere accident) the key to msvcarm builds,
it's already committed. Please try it.

It surely needs some more finishing touches.

Brgds,
Viktor

On 2009.08.19., at 7:31, Fernando Athayde wrote:

> yeah man, now runs perfect
> i put in include C:\Program Files\Microsoft SDKs\Windows\v6.0A\include
> an in lib C:\Program Files\Microsoft SDKs\Windows\v6.0\lib
> 
> do you know how compile harbour for mscvArm?
> in fact I'am to try make harbour and hwgui for Smartphone / WinCE, can you give me anything about this
> 
> Thanks
> Fernando
> 
> De: Viktor Szak?ts <harbour.01@syenar.hu>
> Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Enviadas: Quarta-feira, 19 de Agosto de 2009 13:28:41
> Assunto: Re: Res: [Harbour] problem compile SVN with MSVC
> 
> > 6.0A
> > I don?t find these libs user32 and kernel32
> 
> It may be the problem. These should be in the SDK LIB dir.
> Try reinstalling it.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> __________________________________________________
> Fale com seus amigos de gra?a com o novo Yahoo! Messenger
> http://br.messenger.yahoo.com/ _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour


__________________________________________________
Fale com seus amigos  de gra?a com o novo Yahoo! Messenger 
http://br.messenger.yahoo.com/ 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090819/2de5c491/attachment-0001.html
From druzus at users.sourceforge.net  Wed Aug 19 18:03:23 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Aug 19 18:03:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12189] trunk/harbour
Message-ID: <E1MdtFb-0001dP-QV@c3vjzd1.ch3.sourceforge.com>

Revision: 12189
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12189&view=rev
Author:   druzus
Date:     2009-08-19 22:03:22 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-20 00:03 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    * use -I<path> parameter passed to Harbour compiler in hb* scripts
      also with C compiler for C code inside #pragma begindump/enddump

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Wed Aug 19 18:53:01 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Aug 19 18:53:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12190] trunk/harbour
Message-ID: <E1Mdu1d-0002ea-96@c3vjzd1.ch3.sourceforge.com>

Revision: 12190
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12190&view=rev
Author:   druzus
Date:     2009-08-19 22:52:57 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-20 00:52 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/global.mk
    ! fixed typo in platform detection 'ifeq' instead of 'ifneq' and 'win'
      was set as default
    ! replaced wrongly used 'findstring' functions with 'filter' functions
    ! added small trick in path prefix detection to avoid false results
      from 'findstring' function
    ! look for 'suncc' instead of 'cc' detecting SunPRO C compiler
      ('cc' is default C compiler link in all *nixes)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Wed Aug 19 19:23:26 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Aug 19 19:23:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12191] trunk/harbour
Message-ID: <E1MduV4-0003EG-Gz@c3vjzd1.ch3.sourceforge.com>

Revision: 12191
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12191&view=rev
Author:   druzus
Date:     2009-08-19 23:23:25 +0000 (Wed, 19 Aug 2009)

Log Message:
-----------
2009-08-20 01:22 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/bsd/gcc.mk
  * harbour/config/bin.mk
  * harbour/config/hpux/gcc.mk
  * harbour/config/darwin/gcc.mk
  * harbour/config/linux/gcc.mk
  * harbour/config/linux/icc.mk
  * harbour/config/linux/global.mk
  * harbour/config/linux/sunpro.mk
  * harbour/config/rules.mk
  * harbour/config/os2/gcc.mk
  * harbour/config/sunos/gcc.mk
  * harbour/config/sunos/sunpro.mk
    ! replaced wrongly used 'findstring' functions with 'filter' functions

  * harbour/config/linux/global.mk
    * enable -fPIC for all non x86@32 GCC and ICC Linux builds

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bin.mk
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/config/linux/global.mk
    trunk/harbour/config/linux/icc.mk
    trunk/harbour/config/linux/sunpro.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/rules.mk
    trunk/harbour/config/sunos/gcc.mk
    trunk/harbour/config/sunos/sunpro.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Wed Aug 19 20:04:01 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Aug 19 20:04:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12192] trunk/harbour
Message-ID: <E1Mdv8L-00078D-Si@74yxhf1.ch3.sourceforge.com>

Revision: 12192
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12192&view=rev
Author:   vouchcac
Date:     2009-08-20 00:04:00 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-19 17:02 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpbrowse.prg
    ! Horizontal scrolling made more perfect and Clipper like.
    % Started LEFT FREEZE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 20 02:13:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 02:13:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12193] trunk/harbour
Message-ID: <E1Me0td-0001h6-5X@bj8yhf1.ch3.sourceforge.com>

Revision: 12193
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12193&view=rev
Author:   vszakats
Date:     2009-08-20 06:13:12 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-20 08:10 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    ! Fixed to handle spaces in PATH elements.
      Now '#' is used as intermediate char. Please change it to something
      else if you feel this might clash with some real-world scenarios.

  * utils/hbmk2/hbmk2.prg
  * config/wce/msvcarm.mk
    ! Readded -DUNDER_CE.
      Does anyone know of any documentation about required macros
      for WinCE compilation?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Aug 20 02:22:59 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 02:23:12 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <20090819200146.GA9201@uran.home.aster.pl>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
	<BFEF134F-BFE8-4AA5-80A4-DF6923509ED7@syenar.hu>
	<9471afc80908191225h76ce04aal111997b8247e0571@mail.gmail.com>
	<936738B7-CCA1-4433-9FC3-B8A36F3ABDA5@syenar.hu>
	<20090819200146.GA9201@uran.home.aster.pl>
Message-ID: <A68F528B-F2BC-4091-B912-0BEB199834DA@syenar.hu>

Thank you very much Przemek, I'll implement this. I don't
like such hacks and buggy 3rd party code either (they also
ruin the quality image of Harbour). The sole reason we have
legacy*.[c|prg] is to help users to transition to our
proper/better interfaces and provide the old interfaces for
them until this process finishes. I understand this may need
time in some situations because such changes may have
implications on final user code, documented upstream API
interfaces, etc. [ BTW personally I don't need any such
legacy interfaces. ]

Anyhow, the goal is to have these code parts disappear rather
sooner than later.

Question is: Should I mark these legacy parts with HB_LEGACY_LEVEL2?
(this way they'll disappear in next major release)

Brgds,
Viktor

On 2009.08.19., at 10:01, Przemyslaw Czerpak wrote:

> On Wed, 19 Aug 2009, Szak?ts Viktor wrote:
>
> Hi Viktor,
>
>>> My proposed changes with your fix to use hb_parnint() are working  
>>> fine :-)
>>> So we just need this call in legacy.prg:
>>>  IF ISNUMBER( xOle )
>>>     xOle := __OLEPDISP( xOle )
>>>  ENDIF
>>> and add this function to olecore.c:
>>> HB_FUNC( __OLEPDISP )
>>> {
>>>  IDispatch*  pDisp = ( IDispatch * ) hb_parnint( 1 );
>>>  IDispatch** ppDisp;
>>>
>>>  ppDisp = ( IDispatch** ) hb_gcAlloc( sizeof( IDispatch* ),
>>> hb_ole_destructor );
>>>  *ppDisp = pDisp;
>>>  hb_retptrGC( ppDisp );
>>> }
>> Nice.
>>> this way we keep backwards compatibility with previous Harbour  
>>> OleAuto
>>> code and also we are compatible with xHarbour :-)
>>> If you are so kind to upload it to the SVN then we can tell our FWH
>>> users to download and use the official Harbour builds instead of
>>> having to provide a modified build of our own. Thanks,
>> Okay. I'll do only one modification, __OLEPDISP() will be put in
>> legacyc.c, plus I may rename it. I'll do this tomorrow.
>
> Personally I do not like hacks used to keep alive wrong 3-rd party
> code or for compatibility with xHarbour when other code should be  
> fixed.
> But if you want to add it then few notes about it.
> You cannot add above function to legacyc.c because hb_ole_destructor
> is intentionally static function so it can be only part of olecore.c.
> We have public C function hb_oleItemPut() which allows to create
> at C level Harbour OLE pointer items. It's not necessary to use  
> numbers
> by core or 3-rd party code can use this function. If some code still
> uses numbers then it's a bug in this code which should be fixed  
> instead
> of adding workarounds for 3-rd party bugs to Harbour SVN.
> Anyhow if you want to add it as some type of legacy code which will be
> removed in the future but now gives time to users and 3-rd party  
> developers
> to fix their code then simply use public API to create such function
> in legacyc.c, i.e.:
>
>   #include "hbwinole.h"
>   HB_FUNC( __OLEPDISP )
>   {
>      hb_oleItemPut( hb_param( -1, HB_IT_ANY ),
>                     ( IDispatch * ) ( HB_PTRUINT ) hb_parnint( 1 ) );
>   }
>
> I only hope that when we remove the legacy code the problem will not
> return.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Thu Aug 20 02:27:46 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 02:27:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12194] trunk/harbour
Message-ID: <E1Me17i-0001xx-MR@bj8yhf1.ch3.sourceforge.com>

Revision: 12194
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12194&view=rev
Author:   vszakats
Date:     2009-08-20 06:27:45 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-20 08:27 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/legacy.prg
  * contrib/hbwin/legacyco.c
    + Reimplemented numeric pointer support in legacy OLE interface
      with the help of Przemek and Antonio. Please test.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/legacy.prg
    trunk/harbour/contrib/hbwin/legacyco.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Thu Aug 20 02:33:57 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug 20 02:33:52 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
	<m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>
Message-ID: <4A8CEE55.7090800@mweb.co.za>

Toninho@fwi wrote:

> I have a working class for TActiveX that user current SVN, here it is:

Do you have any requirement for multiple events?

I do, and it is something which I think the current SVN core code does not 
handle. I know that Pritpals code does handle it (in WVW, WVT??? - I lose 
track), but without the automatic garbage collection that is in the core.

Regards
Alex
From sscc at mweb.co.za  Thu Aug 20 02:42:50 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug 20 02:42:45 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <25046584.post@talk.nabble.com>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>	<25035630.post@talk.nabble.com>	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>	<B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>	<578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>	<6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>	<4A8C1BC0.6000507@mweb.co.za>
	<25046584.post@talk.nabble.com>
Message-ID: <4A8CF06A.9010907@mweb.co.za>

Pritpal Bedi wrote:

> I contradict your statement.
> It is just a matter of time.
> But, off couse, if Qt itself supports what Harbour terms as "standard GUI
> for Harbour ".

Well, what is the "standard" Harbour command or function to create a window?

Regards
Alex

From M.Horodyski at pzuzycie.com.pl  Thu Aug 20 03:06:34 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Aug 20 03:06:43 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <25046538.post@talk.nabble.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719CB8@PINK.zycie.pzu>

>-----Original Message-----
>From: Pritpal Bedi [mailto:bedipritpal@hotmail.com] 
>Sent: Wednesday, August 19, 2009 5:38 PM
>To: harbour@harbour-project.org
>Subject: Re: [Harbour] Plugins in hbqts library
>
>Viktor Szak?ts wrote:
>> 
>> I still hold my opinion that this isn't a QT project in the first 
>> place and we should focus on QT *UI* related stuff regarding 
>our hbqt 
>> contrib lib. It's enough of a challenge by itself.
>> 
>
>You are absolutely right.
>Let us concentrate on UI part via Xbase++ class framework.
>It is almost a challenge par excellence itself.
>Later we can extend otherparts but with separated libs if 
>there be a great demand for it.
>
>Regards
>Pritpal Bedi

I agree with that, but I'm looking for a stable solution for access to major databases used in production environments.

Regards,
Marek Horodyski
From bedipritpal at hotmail.com  Thu Aug 20 03:08:24 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug 20 03:08:29 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <4A8CEE55.7090800@mweb.co.za>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
	<m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>
	<4A8CEE55.7090800@mweb.co.za>
Message-ID: <25057035.post@talk.nabble.com>


Hi


Alex Strickland wrote:
> 
> I do, and it is something which I think the current SVN core code does not 
> handle. I know that Pritpals code does handle it (in WVW, WVT??? - I lose 
> track), but without the automatic garbage collection that is in the core.
> 

GTWVG. And it has automatic garbase collection.
Examine harbour/contrib/gtwvg/winsink.c.
Infact it calls hbwin/ole functions.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Possible-OleAuto-bug-tp25044738p25057035.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Aug 20 03:13:51 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug 20 03:13:56 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <4A8CF06A.9010907@mweb.co.za>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>
	<25035630.post@talk.nabble.com>
	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>
	<B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>
	<578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>
	<6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>
	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>
	<4A8C1BC0.6000507@mweb.co.za> <25046584.post@talk.nabble.com>
	<4A8CF06A.9010907@mweb.co.za>
Message-ID: <25057090.post@talk.nabble.com>


Hello Alex


Alex Strickland wrote:
> 
> Well, what is the "standard" Harbour command or function to create a
> window?
> 

Probably you never visited hbxbp.lib.

oDialog := XbpDialog():new( oParent, oOwner, aPos, aSize, aPresParams,
lVisible )

Or for that reason just go for Xbase++ documentaion and/or 
harbour/contrib/hbxbp/tests/demoxbp.prg. Infact a Xbase++ only application
code
seems to be compilable in Harbour "as is" to the extent classes are
complete.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Plugins-in-hbqts-library-tp25034339p25057090.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Aug 20 03:15:16 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug 20 03:15:21 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719CB8@PINK.zycie.pzu>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>
	<25035630.post@talk.nabble.com>
	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>
	<B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>
	<578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>
	<6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>
	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>
	<25046538.post@talk.nabble.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719CB8@PINK.zycie.pzu>
Message-ID: <25057104.post@talk.nabble.com>


Hi


Horodyski Marek (PZUZ) wrote:
> 
> I agree with that, but I'm looking for a stable solution for access to
> major databases used in production environments.
> 

Then this is antirely different topic not related to this thread.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Plugins-in-hbqts-library-tp25034339p25057104.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Aug 20 03:16:37 2009
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 03:16:46 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719CB8@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719CB8@PINK.zycie.pzu>
Message-ID: <DEE7B85B-393C-4489-A0C8-06A16EA97BC9@syenar.hu>

>> You are absolutely right.
>> Let us concentrate on UI part via Xbase++ class framework.
>> It is almost a challenge par excellence itself.
>> Later we can extend otherparts but with separated libs if
>> there be a great demand for it.
>>
>> Regards
>> Pritpal Bedi
>
> I agree with that, but I'm looking for a stable solution for access  
> to major databases used in production environments.

We have hbodbc which is also an abstraction layer for databases,
making it possible to access just what you ask for. It's also
much thinner and lighter than using QT layer + plugins, also more
portable.

IMO we should rather focus on enhancing that, or developing direct
interfaces, instead of starting with a brand new direction (which
is not even ideal for several reasons).

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug 20 03:17:33 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 03:17:44 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <4A8CF06A.9010907@mweb.co.za>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>	<25035630.post@talk.nabble.com>	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>	<B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>	<578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>	<6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>	<4A8C1BC0.6000507@mweb.co.za>
	<25046584.post@talk.nabble.com> <4A8CF06A.9010907@mweb.co.za>
Message-ID: <55EE7D97-857B-4785-96CE-2BD3F86A07BA@syenar.hu>

> Pritpal Bedi wrote:
>
>> I contradict your statement.
>> It is just a matter of time.
>> But, off couse, if Qt itself supports what Harbour terms as  
>> "standard GUI
>> for Harbour ".
>
> Well, what is the "standard" Harbour command or function to create a  
> window?

Since it's implemented as a non-core lib, such "Harbour standard"
in the strict sense doesn't exist. Although I'm not sure chasing
a "Harbour standard" here is necessary since there are standards
also outside Harbour.

F.e. you can use the standard API of QT from Harbour to create a
window. You can also use the standard xbase++ OOP interface on top
of that, which is probably the closest to the standard you're
looking for. We've actually picked that as our preferred GUI
interface in Harbour.

Or you have the option to choose wxharbour or xhgtk 3rd party
projects to achieve that using different APIs in a portable way
(with different pros and cons).

Don't expect anything closer to Harbour core in this regard in the
near future, and the reason is very simple: It's not amongst the
goals of Harbour Project to develop a portable GUI *from scratch*
(this would be rather unrealistic goal anyway) (plus maybe a little
late now that the web is taking over the desktop), and there
is no "ultimate" portable GUI lib on the market yet which is as
portable as Harbour and/or better than above options. If there will
be one in the future, we can create the bindings for it, or endorse
it other ways, maybe even as part of the core.

Brgds,
Viktor

From sscc at mweb.co.za  Thu Aug 20 03:17:54 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug 20 03:17:51 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <25057035.post@talk.nabble.com>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>	<m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>	<4A8CEE55.7090800@mweb.co.za>
	<25057035.post@talk.nabble.com>
Message-ID: <4A8CF8A2.8040709@mweb.co.za>

Pritpal Bedi wrote:

> GTWVG. And it has automatic garbase collection.
> Examine harbour/contrib/gtwvg/winsink.c.
> Infact it calls hbwin/ole functions.

Yes that's right, thanks. Do you think it could be moved to core? I don't use 
WVG, but HWGUI. The implementation by Mindaugus and further work by Viktor and 
Przemyslaw look very clean and I would prefer to use it than the ActiveX 
implementation in HWGUI, but without the support for different events I cannot.

Regards
Alex

From sscc at mweb.co.za  Thu Aug 20 03:26:01 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug 20 03:25:57 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <25057090.post@talk.nabble.com>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>	<25035630.post@talk.nabble.com>	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>	<B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>	<578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>	<6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>	<4A8C1BC0.6000507@mweb.co.za>
	<25046584.post@talk.nabble.com>	<4A8CF06A.9010907@mweb.co.za>
	<25057090.post@talk.nabble.com>
Message-ID: <4A8CFA89.2040907@mweb.co.za>

Pritpal Bedi wrote:

> Probably you never visited hbxbp.lib.

You are right.

> oDialog := XbpDialog():new( oParent, oOwner, aPos, aSize, aPresParams,
> lVisible )
> 
> Or for that reason just go for Xbase++ documentaion and/or 
> harbour/contrib/hbxbp/tests/demoxbp.prg. Infact a Xbase++ only application
> code
> seems to be compilable in Harbour "as is" to the extent classes are
> complete.

Is the XBase++ approach accepted by the Harbour group as the defacto standard?

I know nothing about XBase++. When we talk about Clipper we all know immediately 
to a lesser or greater degree that we are talking about the same thing. I do not 
get that feeling about XBase++.

Regards
Alex

(Unfortunately, I also know that the Harbour group is very small, and that there 
is often little enthusiasm or response for input, I know I am guilty of it - 
busy lives I guess).
From sscc at mweb.co.za  Thu Aug 20 03:29:31 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug 20 03:29:26 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <55EE7D97-857B-4785-96CE-2BD3F86A07BA@syenar.hu>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>	<25035630.post@talk.nabble.com>	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>	<B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>	<578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>	<6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>	<4A8C1BC0.6000507@mweb.co.za>	<25046584.post@talk.nabble.com>
	<4A8CF06A.9010907@mweb.co.za>
	<55EE7D97-857B-4785-96CE-2BD3F86A07BA@syenar.hu>
Message-ID: <4A8CFB5B.70709@mweb.co.za>

Viktor Szak?ts wrote:

> Don't expect anything closer to Harbour core in this regard in the
> near future.

So I unless I misunderstand you, you would broadly agree with my original 
statement - "I suspect that the idea of a standard GUI for Harbour may remain a 
pipe dream".

Regards
Alex

From harbour.01 at syenar.hu  Thu Aug 20 03:52:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 03:52:54 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <4A8CFB5B.70709@mweb.co.za>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>	<25035630.post@talk.nabble.com>	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>	<B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>	<578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>	<6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>	<4A8C1BC0.6000507@mweb.co.za>	<25046584.post@talk.nabble.com>
	<4A8CF06A.9010907@mweb.co.za>
	<55EE7D97-857B-4785-96CE-2BD3F86A07BA@syenar.hu>
	<4A8CFB5B.70709@mweb.co.za>
Message-ID: <31603F09-F141-4CAA-911C-55688C09E260@syenar.hu>

>> Don't expect anything closer to Harbour core in this regard in the
>> near future.
>
> So I unless I misunderstand you, you would broadly agree with my  
> original statement - "I suspect that the idea of a standard GUI for  
> Harbour may remain a pipe dream".

It's IMO a wrong question.

We have competing solutions in the cloud of Harbour, which
you can choose from. You can do that based on what are the
important aspects you expect from such "Harbour standard".

If you read previous e-mail carefully, it's probably possible
to see the directions, but no one can pick the best for you
(or anyone else) as _the_ standard.

Xbase++ Parts on QT is the closest thing to what you ask
for, but it's not an official "Harbour standard" at this
moment.

So, if you're looking for the title "Harbour standard" there
is no such thing yet, but even this may change in the future
depending on factors we cannot see in advance. If you're
looking for a working UI solution which is hosted and developed
in our SVN, use hbxbp + hbqt, it's there, it's not a pipe
dream, it's an option.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Aug 20 03:56:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 03:56:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12195] trunk/harbour
Message-ID: <E1Me2VY-0003aV-2Q@bj8yhf1.ch3.sourceforge.com>

Revision: 12195
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12195&view=rev
Author:   vszakats
Date:     2009-08-20 07:56:27 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-20 09:55 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
  * config/global.mk
    + Added autodetection for old MSVC for WinCE versions (clarm.exe based ones).
    + Added autodetection for HB_VISUALC_VER_PRE80 value for msvcarm targets.

  * INSTALL
    + Added cross-build matrix. Tweaked cross-build information.
    + Added MSVC 2005 for WinCE/ARM example.
    ; TODO: Create separate example section for native and cross-builds.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Aug 20 04:00:25 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Aug 20 04:00:32 2009
Subject: [Harbour] bug: msvcarm (MSVC 2008) build error
Message-ID: <18d502870908200100w789ae354u18ee95fdddfbe849@mail.gmail.com>

../../../../../include\hbthread.h(70) : fatal error C1083: Cannot open
include file: 'process.h': No such file or directory

Brgds,
Viktor
From antonioharbour at gmail.com  Thu Aug 20 04:07:08 2009
From: antonioharbour at gmail.com (Antonio Linares)
Date: Thu Aug 20 04:07:14 2009
Subject: [Harbour] building Harbour - The file cannot be copied onto itself
Message-ID: <9471afc80908200107q50ead260g2475b453ccdae07@mail.gmail.com>

Viktor,

We use this batch file to build Harbour:

build.bat

SET PATH=c:\bcc55\bin;%PATH%
SET HB_COMPILER=bcc
c:\mingw\bin\mingw32-make install

and we get lots of these warnings:
The file cannot be copied onto itself

Any hints ? thanks

Antonio
From bedipritpal at hotmail.com  Thu Aug 20 04:09:24 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug 20 04:09:30 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <4A8CFA89.2040907@mweb.co.za>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>
	<25035630.post@talk.nabble.com>
	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>
	<B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>
	<578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>
	<6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>
	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>
	<4A8C1BC0.6000507@mweb.co.za> <25046584.post@talk.nabble.com>
	<4A8CF06A.9010907@mweb.co.za> <25057090.post@talk.nabble.com>
	<4A8CFA89.2040907@mweb.co.za>
Message-ID: <25057776.post@talk.nabble.com>


Hi


Alex Strickland wrote:
> 
> Is the XBase++ approach accepted by the Harbour group as the defacto
> standard?
> 

You are replied to this question in previous message from Viktor.



> I know nothing about XBase++. When we talk about Clipper we all know
> immediately 
> to a lesser or greater degree that we are talking about the same thing. I
> do not 
> get that feeling about XBase++.
> 

You need to update yourself on Xbase++.

When we talk about Clipper we know we are talking about console, not GUI.
When we talk about GUI, we talk about FWH, HWGUI, HMG, XAILER, VXH and few
more 
here and there, but we do not talk about Harbour. Do we ?

We selected Xbase++ standards for these reasons:

1. Excellent documentation.
2. Well defined object modal.
3. Standradization of object creation, per passing the parameters and return
values.
4. Close proximity with Clipper syntax.
5. Extremely useful MT support and usage pattern.
6. Large user base and ready to compile code.

We opted for Qt:

1. Code once, deploy everywhere.
2. Very clean way of object manipulation.
3. excellent documentation.
4. Flexible licensing requirements.
5. Versatile features.



> (Unfortunately, I also know that the Harbour group is very small, and that
> there 
> is often little enthusiasm or response for input, I know I am guilty of it
> - 
> busy lives I guess).
> 

Yes, and this suggests that we must deploy our resources in right
directions.
I urge the users to be vocal on the list. It creates a sense of satisfaction
and 
acceptance.

NOTE: Xbase++ framework based on Qt has received a very little response
         till date mainly due to the fact that users are diversified to so
many GUI's.
         Probably, it will take little more time if someone may jump in
seriously.
         Nevertheless, my efforts will remain 100%concentrated on the
subject.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/Plugins-in-hbqts-library-tp25034339p25057776.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Aug 20 04:14:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 04:14:24 2009
Subject: [Harbour] building Harbour - The file cannot be copied onto itself
In-Reply-To: <9471afc80908200107q50ead260g2475b453ccdae07@mail.gmail.com>
References: <9471afc80908200107q50ead260g2475b453ccdae07@mail.gmail.com>
Message-ID: <5771D789-B26B-4850-8717-CA5C1A084A82@syenar.hu>

Hi Antonio,

> Viktor,
>
> We use this batch file to build Harbour:
>
> build.bat
>
> SET PATH=c:\bcc55\bin;%PATH%
> SET HB_COMPILER=bcc
> c:\mingw\bin\mingw32-make install
>
> and we get lots of these warnings:
> The file cannot be copied onto itself
>
> Any hints ? thanks

Yes, just ignore them, or set HB_INSTALL_PREFIX to some location.

You can drop 'set HB_COMPILER=bcc' it will be automatically detected.

Brgds,
Viktor

From bedipritpal at hotmail.com  Thu Aug 20 04:26:49 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug 20 04:26:55 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <4A8CF8A2.8040709@mweb.co.za>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
	<m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>
	<4A8CEE55.7090800@mweb.co.za> <25057035.post@talk.nabble.com>
	<4A8CF8A2.8040709@mweb.co.za>
Message-ID: <25057994.post@talk.nabble.com>


Hi


Alex Strickland wrote:
> 
> Yes that's right, thanks. Do you think it could be moved to core? I don't
> use 
> WVG, but HWGUI. The implementation by Mindaugus and further work by Viktor
> and 
> Przemyslaw look very clean and I would prefer to use it than the ActiveX 
> implementation in HWGUI, but without the support for different events I
> cannot.
> 

How do you want it to be in the core ?
How you would like to call its functionality.
Active-X necessarily means a rectangular area ( window ) to be manipulated,
and in Harbour core there is no such thing. It has to go through a GUI
calls.
If you have other thoughts, please share.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Possible-OleAuto-bug-tp25044738p25057994.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Thu Aug 20 04:45:22 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 04:45:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12196] trunk/harbour
Message-ID: <E1Me3Gs-0008T3-JF@d5vjzd1.ch3.sourceforge.com>

Revision: 12196
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12196&view=rev
Author:   vszakats
Date:     2009-08-20 08:45:21 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-20 10:44 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    + Don't attempt to install includes and docs if HB_INSTALL_PREFIX 
      is set to source tree root. (to suppress 'cannot copy file to itself' 
      warnings)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Thu Aug 20 05:07:24 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug 20 05:07:17 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <25057994.post@talk.nabble.com>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>	<m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>	<4A8CEE55.7090800@mweb.co.za>
	<25057035.post@talk.nabble.com>	<4A8CF8A2.8040709@mweb.co.za>
	<25057994.post@talk.nabble.com>
Message-ID: <4A8D124C.8020506@mweb.co.za>

Pritpal Bedi wrote:

> How do you want it to be in the core ?
> How you would like to call its functionality.
> Active-X necessarily means a rectangular area ( window ) to be manipulated,
> and in Harbour core there is no such thing. It has to go through a GUI
> calls.
> If you have other thoughts, please share.

I meant hbwin, not the core. Do your other comments still apply?

Regards
Alex

From vszakats at users.sourceforge.net  Thu Aug 20 05:09:59 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 05:10:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12197] trunk/harbour
Message-ID: <E1Me3eh-0004t1-3p@bj8yhf1.ch3.sourceforge.com>

Revision: 12197
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12197&view=rev
Author:   vszakats
Date:     2009-08-20 09:09:57 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-20 11:09 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
  * config/wce/msvcarm.mk
    ! Fixes to cmdline macros, now many warnings are gone.

  * utils/hbmk2/hbmk2.prg
    + Added ceshell, oleaut32 syslibs to default wce liblist.
      (to be more in sync with win)

  * contrib/hbwin/hbwin.hbc
    ! Added sms syslib for wce.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/contrib/hbwin/hbwin.hbc
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Thu Aug 20 05:10:45 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Aug 20 05:11:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12185] trunk/harbour
In-Reply-To: <E1MdpIG-0004hF-Ch@bj8yhf1.ch3.sourceforge.com>
References: <E1MdpIG-0004hF-Ch@bj8yhf1.ch3.sourceforge.com>
Message-ID: <609353e70908200210x7735fb85l51520d935ba97fd7@mail.gmail.com>

Can you made easy for user of ViKtor's binary distro recompile from cvs
One single command update all bynary in harbour tree for all compiler
Platform / installed)
Writing one/multiple  batch for recompile during install

2009/8/19  <vszakats@users.sourceforge.net>:
> Revision: 12185
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12185&view=rev
> Author: ? vszakats
> Date: ? ? 2009-08-19 17:49:51 +0000 (Wed, 19 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-19 19:45 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
> ?* utils/hbmk2/hbmk2.prg
> ? ?+ Added support for detecting Harbour binary environment
> ? ? ?in raw form, meaning the one after simple 'make' *without*
> ? ? ?'make install'.
> ? ? ?Of course 'install' is still useful to build dlls (and
> ? ? ?implibs on win), but for normal cases this may be a very
> ? ? ?useful feature. You do a 'make' (no admin needed on *nix),
> ? ? ?go to ./bin/arch/comp and hbmk2 works without any extra
> ? ? ?configuration.
> ? ? ?This feature also allows us to distribute multihost
> ? ? ?binary packages. Such unified binaries can be run under
> ? ? ?multiple hosts. (IOW we can have one binary distro which
> ? ? ?covers potentially all our supported platforms/compilers
> ? ? ?both as host OS and target OS). See watcom for such an
> ? ? ?example in the C compiler world.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/utils/hbmk2/hbmk2.prg
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Thu Aug 20 05:21:39 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 05:21:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12185] trunk/harbour
In-Reply-To: <609353e70908200210x7735fb85l51520d935ba97fd7@mail.gmail.com>
References: <E1MdpIG-0004hF-Ch@bj8yhf1.ch3.sourceforge.com>
	<609353e70908200210x7735fb85l51520d935ba97fd7@mail.gmail.com>
Message-ID: <EC31E0D7-BCF4-43F3-8D20-FEEB12904E94@syenar.hu>

> Can you made easy for user of ViKtor's binary distro recompile from  
> cvs
> One single command update all bynary in harbour tree for all compiler
> Platform / installed)

That's not possible to do in a reasonable way.

It's dead easy to do however (by looking into simple examples
in INSTALL) if someone is aware of what tools she has installed
on her system. Of course one can write a batch file which
will blindly try to build Harbour for every possible targets,
but that's not very professional-looking solution, so I don't
plan to add anything like that.

I think current default Harbour state cannot be any more simple,
setting up tools and launching 'make' will remain the job of the
builder.

> Writing one/multiple  batch for recompile during install

I don't plan to add any new batch/script file to our SVN,
the goal is/was to get rid of them. Batch/script files reduce
portability.

Brgds,
Viktor

>
> 2009/8/19  <vszakats@users.sourceforge.net>:
>> Revision: 12185
>>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12185&view=rev
>> Author:   vszakats
>> Date:     2009-08-19 17:49:51 +0000 (Wed, 19 Aug 2009)
>>
>> Log Message:
>> -----------
>> 2009-08-19 19:45 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>  * utils/hbmk2/hbmk2.prg
>>    + Added support for detecting Harbour binary environment
>>      in raw form, meaning the one after simple 'make' *without*
>>      'make install'.
>>      Of course 'install' is still useful to build dlls (and
>>      implibs on win), but for normal cases this may be a very
>>      useful feature. You do a 'make' (no admin needed on *nix),
>>      go to ./bin/arch/comp and hbmk2 works without any extra
>>      configuration.
>>      This feature also allows us to distribute multihost
>>      binary packages. Such unified binaries can be run under
>>      multiple hosts. (IOW we can have one binary distro which
>>      covers potentially all our supported platforms/compilers
>>      both as host OS and target OS). See watcom for such an
>>      example in the C compiler world.
>>
>> Modified Paths:
>> --------------
>>    trunk/harbour/ChangeLog
>>    trunk/harbour/utils/hbmk2/hbmk2.prg
>>
>>
>> This was sent by the SourceForge.net collaborative development  
>> platform, the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Thu Aug 20 05:23:09 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Aug 20 05:23:35 2009
Subject: [Harbour] building Harbour - The file cannot be copied onto 
	itself
In-Reply-To: <5771D789-B26B-4850-8717-CA5C1A084A82@syenar.hu>
References: <9471afc80908200107q50ead260g2475b453ccdae07@mail.gmail.com> 
	<5771D789-B26B-4850-8717-CA5C1A084A82@syenar.hu>
Message-ID: <609353e70908200223t63599339sd1a32bf956c11db7@mail.gmail.com>

How detect HB_COMPILER
Search compiler's bcc32.exe in path?

2009/8/20 Viktor Szak?ts <harbour.01@syenar.hu>:
> Hi Antonio,
>
>> Viktor,
>>
>> We use this batch file to build Harbour:
>>
>> build.bat
>>
>> SET PATH=c:\bcc55\bin;%PATH%
>> SET HB_COMPILER=bcc
>> c:\mingw\bin\mingw32-make install
>>
>> and we get lots of these warnings:
>> The file cannot be copied onto itself
>>
>> Any hints ? thanks
>
> Yes, just ignore them, or set HB_INSTALL_PREFIX to some location.
>
> You can drop 'set HB_COMPILER=bcc' it will be automatically detected.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From sscc at mweb.co.za  Thu Aug 20 05:23:55 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug 20 05:23:48 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <31603F09-F141-4CAA-911C-55688C09E260@syenar.hu>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>	<25035630.post@talk.nabble.com>	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>	<B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>	<578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>	<6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>	<4A8C1BC0.6000507@mweb.co.za>	<25046584.post@talk.nabble.com>	<4A8CF06A.9010907@mweb.co.za>	<55EE7D97-857B-4785-96CE-2BD3F86A07BA@syenar.hu>	<4A8CFB5B.70709@mweb.co.za>
	<31603F09-F141-4CAA-911C-55688C09E260@syenar.hu>
Message-ID: <4A8D162B.1040601@mweb.co.za>

Viktor Szak?ts wrote:

> So, if you're looking for the title "Harbour standard" there
> is no such thing yet, but even this may change in the future
> depending on factors we cannot see in advance. If you're
> looking for a working UI solution which is hosted and developed
> in our SVN, use hbxbp + hbqt, it's there, it's not a pipe
> dream, it's an option.

Viktor, I know I am going to sound like I am nitpicking so after this I will stop.

My first post was mainly aimed at the relative size (in files and MB) of the qt 
contribution. I also said:

"I suspect that the idea of a standard GUI for Harbour may remain a pipe dream."

Pritpal said:

"I contradict your statement."

I then said, roughly, "show me the standard?".

Then you told me about the various options, and possibilities. I know this, I 
have been watching the project for 5 or more years.

"It's IMO a wrong question."

I am not asking a question.

Regards
Alex

From harbour.01 at syenar.hu  Thu Aug 20 05:26:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 05:26:34 2009
Subject: [Harbour] msvcarm warnings
In-Reply-To: <E1Me3eh-0004t1-3p@bj8yhf1.ch3.sourceforge.com>
References: <E1Me3eh-0004t1-3p@bj8yhf1.ch3.sourceforge.com>
Message-ID: <B147E0CC-336B-44A1-B361-4D90515E77C5@syenar.hu>

> 2009-08-20 11:09 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>  * utils/hbmk2/hbmk2.prg
>  * config/wce/msvcarm.mk
>    ! Fixes to cmdline macros, now many warnings are gone.

Ops, not true. There are still tons of warnings inside MS headers.

Pls see attached log.

Any ideas?

Brgds,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: msvcarm.zip
Type: application/zip
Size: 9592 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090820/ee176380/msvcarm.zip
-------------- next part --------------

From harbour.01 at syenar.hu  Thu Aug 20 05:27:38 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 05:27:50 2009
Subject: [Harbour] building Harbour - The file cannot be copied onto itself
In-Reply-To: <609353e70908200223t63599339sd1a32bf956c11db7@mail.gmail.com>
References: <9471afc80908200107q50ead260g2475b453ccdae07@mail.gmail.com>
	<5771D789-B26B-4850-8717-CA5C1A084A82@syenar.hu>
	<609353e70908200223t63599339sd1a32bf956c11db7@mail.gmail.com>
Message-ID: <7D3E9483-7C72-4A37-8C21-B5D075F51AAA@syenar.hu>

> How detect HB_COMPILER
> Search compiler's bcc32.exe in path?

In case of bcc, yes. See config/global.mk and utils/hbmk2/hbmk2.prg.

Brgds,
Viktor

>
> 2009/8/20 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Hi Antonio,
>>
>>> Viktor,
>>>
>>> We use this batch file to build Harbour:
>>>
>>> build.bat
>>>
>>> SET PATH=c:\bcc55\bin;%PATH%
>>> SET HB_COMPILER=bcc
>>> c:\mingw\bin\mingw32-make install
>>>
>>> and we get lots of these warnings:
>>> The file cannot be copied onto itself
>>>
>>> Any hints ? thanks
>>
>> Yes, just ignore them, or set HB_INSTALL_PREFIX to some location.
>>
>> You can drop 'set HB_COMPILER=bcc' it will be automatically detected.
>>
>> Brgds,
>> Viktor
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From alich at gmx.de  Thu Aug 20 05:39:13 2009
From: alich at gmx.de (alich@gmx.de)
Date: Thu Aug 20 05:39:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12185] trunk/harbour
In-Reply-To: <EC31E0D7-BCF4-43F3-8D20-FEEB12904E94@syenar.hu>
References: <E1MdpIG-0004hF-Ch@bj8yhf1.ch3.sourceforge.com>	<609353e70908200210x7735fb85l51520d935ba97fd7@mail.gmail.com>
	<EC31E0D7-BCF4-43F3-8D20-FEEB12904E94@syenar.hu>
Message-ID: <4A8D19C1.8030607@gmx.de>


> It's dead easy to do however (by looking into simple examples
> in INSTALL)...
>
> I think current default Harbour state cannot be any more simple,
> setting up tools and launching 'make' will remain the job of the
> builder.

I agree. I started few days ago building Harbour first time on my own 
with Borland C++ (and today also MinGW). It was very easy after reading 
INSTALL.

Best Regards,
Ruediger

From druzus at users.sourceforge.net  Thu Aug 20 05:47:58 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Aug 20 05:48:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12198] trunk/harbour
Message-ID: <E1Me4FS-0002YC-9z@c3vjzd1.ch3.sourceforge.com>

Revision: 12198
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12198&view=rev
Author:   druzus
Date:     2009-08-20 09:47:56 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-20 11:47 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/bsd/gcc.mk
  * harbour/config/darwin/gcc.mk
  * harbour/config/hpux/gcc.mk
  * harbour/config/dos/djgpp.mk
  * harbour/config/win/mingw.mk
  * harbour/config/linux/gcc.mk
  * harbour/config/linux/icc.mk
  * harbour/config/linux/sunpro.mk
  * harbour/config/os2/gcc.mk
  * harbour/config/sunos/gcc.mk
  * harbour/config/sunos/sunpro.mk
    ! replaced wrongly used 'findstring' functions with 'filter' functions.
      Now findstring is used only in places where we are looking for
      substrings not whole words.

  * harbour/source/rdd/wacore.c
    ! fixed typo in comment (by Phil Krylov borrowed from xHarbour)

  * harbour/ChangeLog
    ! fixed my typo in Latin translation of Phil Krylov family
      name - sorry Phil.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/config/linux/icc.mk
    trunk/harbour/config/linux/sunpro.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/sunos/gcc.mk
    trunk/harbour/config/sunos/sunpro.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/source/rdd/wacore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Thu Aug 20 05:55:22 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug 20 05:55:14 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <25057776.post@talk.nabble.com>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>	<25035630.post@talk.nabble.com>	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>	<B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>	<578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>	<6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>	<4A8C1BC0.6000507@mweb.co.za>
	<25046584.post@talk.nabble.com>	<4A8CF06A.9010907@mweb.co.za>
	<25057090.post@talk.nabble.com>	<4A8CFA89.2040907@mweb.co.za>
	<25057776.post@talk.nabble.com>
Message-ID: <4A8D1D8A.1010403@mweb.co.za>

Pritpal Bedi wrote:

>> Is the XBase++ approach accepted by the Harbour group as the defacto
>> standard?
> You are replied to this question in previous message from Viktor.

I did not see it.

> You need to update yourself on Xbase++.

I am not as sure as you.

> When we talk about Clipper we know we are talking about console, not GUI.
> When we talk about GUI, we talk about FWH, HWGUI, HMG, XAILER, VXH and few
> more 
> here and there, but we do not talk about Harbour. Do we ?

I do not understand your point. Apparently you believe when we talk GUI we mean 
XBase.

> We selected Xbase++ standards for these reasons:

I think you did, and no-one argued. This is ok.

> Yes, and this suggests that we must deploy our resources in right
> directions.
> I urge the users to be vocal on the list. It creates a sense of satisfaction
> and 
> acceptance.
> 
> NOTE: Xbase++ framework based on Qt has received a very little response
>          till date mainly due to the fact that users are diversified to so
> many GUI's.
>          Probably, it will take little more time if someone may jump in
> seriously.
>          Nevertheless, my efforts will remain 100%concentrated on the
> subject.

I am grateful for your efforts and I am not trying to denigrate them. However, 
"contradict" is a strong word and I do not think the situation is nearly as 
clearcut as you think, your last comments above appear to support my point. I, 
personally, would like to see most of contrib, including qt, moved to a separate 
project. I am also content to be a minority of 1 and will cease to make waves 
about it.

Regards
Alex

From M.Horodyski at pzuzycie.com.pl  Thu Aug 20 05:56:44 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Aug 20 05:56:54 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <DEE7B85B-393C-4489-A0C8-06A16EA97BC9@syenar.hu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719D4B@PINK.zycie.pzu>

>-----Original Message-----
>From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
>Sent: Thursday, August 20, 2009 9:17 AM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Plugins in hbqts library
>
...
>
>We have hbodbc which is also an abstraction layer for 
>databases, making it possible to access just what you ask for. 
>It's also much thinner and lighter than using QT layer + 
>plugins, also more portable.

I could not use ODBC to Oracle. RDDSQL (SQLMIX) also without success. Only with ADORDD I managed to connect to Oracle.
However, fro ADO I have a problem with the mapping of types of fields. The QT writes that the use of the OCI, which allows to have hope for the possibility of using the embedded procedures and jobs, not only claer SQL.

Regards,
Marek Horodyski
From mbelgrano at deltain.it  Thu Aug 20 05:57:55 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Aug 20 05:58:22 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <25057776.post@talk.nabble.com>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com> 
	<6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu> 
	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>
	<4A8C1BC0.6000507@mweb.co.za> 
	<25046584.post@talk.nabble.com> <4A8CF06A.9010907@mweb.co.za> 
	<25057090.post@talk.nabble.com> <4A8CFA89.2040907@mweb.co.za> 
	<25057776.post@talk.nabble.com>
Message-ID: <609353e70908200257p7844d6c2x7cba9836a8e42e53@mail.gmail.com>

I agree with Pritpal , Xbase++ is the most standard GUI for xbase
language in oop
The only problem is that we haven't a public documentation about
xbase++ language definition
we have also a few sample for demostrate the powerfull of this wayhat
What effort can help xhbp.lib to grow in userbase?
Harbour web site dedicate a page xbase++  compatible ans show how a
source will be recompiled in windows,linux, and mac-os without problem

an effort must go also in direction of be More ready to use for
compile xbase++ simple
 hbmk2 xbase++ mode that made simple compile xbase source
 hbmk2 can read xpj (project file like follow)


[PROJECT]
    DEBUG         = yes
    OBJ_FORMAT    = COFF
    OMF_LINKER    = BLINKER.com /QM /CODEVIEW /CVON
    OPENFILES     = arcawi.prg;ARCA.PRG
    VERSION       = 2.0
    Project.xpj

[Project.xpj]
    ARCAW.EXE

[ARCAW.EXE]
    COMPILE       = xpp
    COMPILE_FLAGS = /q /n /rDclipx.lib /dAXSERV /dEURO /p
    DEBUG_SAVE    = yes
    GUI           = yes
    LINKER        = ALINK
    LINK_FLAGS    = /FORCE:MULTIPLE
    RC_COMPILE    = arc
    RC_FLAGS      = /v
    OBJ_DIR       = OBJ
// $START-AUTODEPEND
   C:\alaska\EXP1\LIB\EXPRESS.RES
...

2009/8/20 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hi
>
>
> Alex Strickland wrote:
>>
>> Is the XBase++ approach accepted by the Harbour group as the defacto
>> standard?
>>
>
> You are replied to this question in previous message from Viktor.
>
>
>
>> I know nothing about XBase++. When we talk about Clipper we all know
>> immediately
>> to a lesser or greater degree that we are talking about the same thing. I
>> do not
>> get that feeling about XBase++.
>>
>
> You need to update yourself on Xbase++.
>
> When we talk about Clipper we know we are talking about console, not GUI.
> When we talk about GUI, we talk about FWH, HWGUI, HMG, XAILER, VXH and few
> more
> here and there, but we do not talk about Harbour. Do we ?
>
> We selected Xbase++ standards for these reasons:
>
> 1. Excellent documentation.
> 2. Well defined object modal.
> 3. Standradization of object creation, per passing the parameters and return
> values.
> 4. Close proximity with Clipper syntax.
> 5. Extremely useful MT support and usage pattern.
> 6. Large user base and ready to compile code.
>
> We opted for Qt:
>
> 1. Code once, deploy everywhere.
> 2. Very clean way of object manipulation.
> 3. excellent documentation.
> 4. Flexible licensing requirements.
> 5. Versatile features.
>
>
>
>> (Unfortunately, I also know that the Harbour group is very small, and that
>> there
>> is often little enthusiasm or response for input, I know I am guilty of it
>> -
>> busy lives I guess).
>>
>
> Yes, and this suggests that we must deploy our resources in right
> directions.
> I urge the users to be vocal on the list. It creates a sense of satisfaction
> and
> acceptance.
>
> NOTE: Xbase++ framework based on Qt has received a very little response
> ? ? ? ? till date mainly due to the fact that users are diversified to so
> many GUI's.
> ? ? ? ? Probably, it will take little more time if someone may jump in
> seriously.
> ? ? ? ? Nevertheless, my efforts will remain 100%concentrated on the
> subject.
>
> Regards
> Pritpal Bedi
> --
> View this message in context: http://www.nabble.com/Plugins-in-hbqts-library-tp25034339p25057776.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Thu Aug 20 06:03:26 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Aug 20 06:03:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12185] trunk/harbour
In-Reply-To: <4A8D19C1.8030607@gmx.de>
References: <E1MdpIG-0004hF-Ch@bj8yhf1.ch3.sourceforge.com> 
	<609353e70908200210x7735fb85l51520d935ba97fd7@mail.gmail.com> 
	<EC31E0D7-BCF4-43F3-8D20-FEEB12904E94@syenar.hu>
	<4A8D19C1.8030607@gmx.de>
Message-ID: <609353e70908200303v611a1a61r8414ba3d6a5ba623@mail.gmail.com>

True for bcc that not support 64 bit and WIndows Ce like mingw,msvc

2009/8/20  <alich@gmx.de>:
>
>> It's dead easy to do however (by looking into simple examples
>> in INSTALL)...
>>
>> I think current default Harbour state cannot be any more simple,
>> setting up tools and launching 'make' will remain the job of the
>> builder.
>
> I agree. I started few days ago building Harbour first time on my own with
> Borland C++ (and today also MinGW). It was very easy after reading INSTALL.
>
> Best Regards,
> Ruediger
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Thu Aug 20 06:04:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 06:04:38 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <4A8D162B.1040601@mweb.co.za>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>	<25035630.post@talk.nabble.com>	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>	<B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>	<578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>	<6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>	<4A8C1BC0.6000507@mweb.co.za>	<25046584.post@talk.nabble.com>	<4A8CF06A.9010907@mweb.co.za>	<55EE7D97-857B-4785-96CE-2BD3F86A07BA@syenar.hu>	<4A8CFB5B.70709@mweb.co.za>
	<31603F09-F141-4CAA-911C-55688C09E260@syenar.hu>
	<4A8D162B.1040601@mweb.co.za>
Message-ID: <8E78B21A-4795-443F-8415-A4A6136ED819@syenar.hu>

On 2009.08.20., at 11:23, Alex Strickland wrote:

> Viktor Szak?ts wrote:
>
>> So, if you're looking for the title "Harbour standard" there
>> is no such thing yet, but even this may change in the future
>> depending on factors we cannot see in advance. If you're
>> looking for a working UI solution which is hosted and developed
>> in our SVN, use hbxbp + hbqt, it's there, it's not a pipe
>> dream, it's an option.
>
> Viktor, I know I am going to sound like I am nitpicking so after  
> this I will stop.
>
> My first post was mainly aimed at the relative size (in files and  
> MB) of the qt contribution. I also said:
>
> "I suspect that the idea of a standard GUI for Harbour may remain a  
> pipe dream."
>
> Pritpal said:
>
> "I contradict your statement."
>
> I then said, roughly, "show me the standard?".
>
> Then you told me about the various options, and possibilities. I  
> know this, I have been watching the project for 5 or more years.
> "It's IMO a wrong question."
>
> I am not asking a question.

You're asking for / talking about a "Harbour standard", where there
cannot be one for several reasons. (at least by my understanding of
the expression "Harbour standard")

Then you're suggesting/asking (to me it could be both by the wording)
that a hb standard GUI is a pipe dream. It may be, but the phrasing
of the first sentence doesn't make sense anyway, so that pipe dream
statement also doesn't make sense IMO.

It's like asking Linux whether it has a standard window manager, or
stating that having a standard window manager in Linux is a pipe dream.
(replace 'window manager' with any other component which isn't part
of SUS or LSB)

I don't like such wording and especially don't agree with it, since it
has a negative connotation suggesting that Harbour won't ever have a
("standard"?) GUI. Which is simply untrue, vague and misses the point.

Harbour actually has a portable GUI right in the source tree, there
to be used.

[ Aside from that, we can go on and discuss what are the reasons it
isn't a "standard", what exactly "standard" means, what are the
prerequisites for something to become "standard" in Harbour, etc. ]

Brgds,
Viktor

From mbelgrano at deltain.it  Thu Aug 20 06:11:30 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Aug 20 06:11:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12185] trunk/harbour
In-Reply-To: <EC31E0D7-BCF4-43F3-8D20-FEEB12904E94@syenar.hu>
References: <E1MdpIG-0004hF-Ch@bj8yhf1.ch3.sourceforge.com> 
	<609353e70908200210x7735fb85l51520d935ba97fd7@mail.gmail.com> 
	<EC31E0D7-BCF4-43F3-8D20-FEEB12904E94@syenar.hu>
Message-ID: <609353e70908200311m43ac52c4v9b48b835224950c6@mail.gmail.com>

Thanks for clarification
I received same mail from italian people with problem passing from
harbour beta to cvs
This can be resolved if viktor made periodical build


2009/8/20 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Can you made easy for user of ViKtor's binary distro recompile from cvs
>> One single command update all bynary in harbour tree for all compiler
>> Platform / installed)
>
> That's not possible to do in a reasonable way.
>
> It's dead easy to do however (by looking into simple examples
> in INSTALL) if someone is aware of what tools she has installed
> on her system. Of course one can write a batch file which
> will blindly try to build Harbour for every possible targets,
> but that's not very professional-looking solution, so I don't
> plan to add anything like that.
A mingw version will be sufficent (32,64,ce)

>
> I think current default Harbour state cannot be any more simple,
> setting up tools and launching 'make' will remain the job of the
> builder.
>
>> Writing one/multiple ?batch for recompile during install
>
> I don't plan to add any new batch/script file to our SVN,
> the goal is/was to get rid of them. Batch/script files reduce
> portability.
>
> Brgds,
> Viktor
>
>>
>> 2009/8/19 ?<vszakats@users.sourceforge.net>:
>>>
>>> Revision: 12185
>>>
>>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12185&view=rev
>>> Author: ? vszakats
>>> Date: ? ? 2009-08-19 17:49:51 +0000 (Wed, 19 Aug 2009)
>>>
>>> Log Message:
>>> -----------
>>> 2009-08-19 19:45 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>> ?* utils/hbmk2/hbmk2.prg
>>> ? + Added support for detecting Harbour binary environment
>>> ? ? in raw form, meaning the one after simple 'make' *without*
>>> ? ? 'make install'.
>>> ? ? Of course 'install' is still useful to build dlls (and
>>> ? ? implibs on win), but for normal cases this may be a very
>>> ? ? useful feature. You do a 'make' (no admin needed on *nix),
>>> ? ? go to ./bin/arch/comp and hbmk2 works without any extra
>>> ? ? configuration.
>>> ? ? This feature also allows us to distribute multihost
>>> ? ? binary packages. Such unified binaries can be run under
>>> ? ? multiple hosts. (IOW we can have one binary distro which
>>> ? ? covers potentially all our supported platforms/compilers
>>> ? ? both as host OS and target OS). See watcom for such an
>>> ? ? example in the C compiler world.
>>>
>>> Modified Paths:
>>> --------------
>>> ? trunk/harbour/ChangeLog
>>> ? trunk/harbour/utils/hbmk2/hbmk2.prg
>>>
>>>
>>> This was sent by the SourceForge.net collaborative development platform,
>>> the world's largest Open Source development site.
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Thu Aug 20 06:17:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 06:17:24 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <4A8D1D8A.1010403@mweb.co.za>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>	<25035630.post@talk.nabble.com>	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>	<B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>	<578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>	<6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>	<4A8C1BC0.6000507@mweb.co.za>
	<25046584.post@talk.nabble.com>	<4A8CF06A.9010907@mweb.co.za>
	<25057090.post@talk.nabble.com>	<4A8CFA89.2040907@mweb.co.za>
	<25057776.post@talk.nabble.com> <4A8D1D8A.1010403@mweb.co.za>
Message-ID: <7ECE8697-24E8-4DDA-BBCD-2C3E8DAF985B@syenar.hu>

> I am grateful for your efforts and I am not trying to denigrate  
> them. However, "contradict" is a strong word and I do not think the  
> situation is nearly as clearcut as you think, your last comments  
> above appear to support my point. I, personally, would like to see  
> most of contrib, including qt, moved to a separate project. I am  
> also content to be a minority of 1 and will cease to make waves  
> about it.

Moving contribs in and out is a permanent subject since long and
aside from the politics and other non-technical issues, I plan to
make some steps in the future to make it possible to very easily
make such move, without causing any sort of technical difficulties.

IOW, it will allow us to move any contribs out of our repository
easily. Also, if 3rd party libs adopt these methods, it will also
be very easy to move any of them in our contrib sections.

It all comes down to the make system. contribs use our GNU Make
system, but this isn't an option when moved outside, or for any
3rd parties. So what can be done here is to change our contribs
to use hbmk2 instead of GNU Make. Of course there are issue to
solve, and such move won't happen in short term.

Anyhow it would be nice, since contrib/3rd party lib development
could be moved to a common make system, simplifying the current
overall chaos in this matter.

[ PS: I've been in favor of moving contribs to a separate project
many years ago, but since "quality control" is much better / simpler
when these contribs are in our repo (and their quality start to
reach the core one), I no longer agree with such move in general.
There may be specific contrib exceptions of course, and there
may be other factors in this equation. ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Aug 20 06:19:55 2009
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 06:20:06 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719D4B@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719D4B@PINK.zycie.pzu>
Message-ID: <118FEA30-2BF7-4309-BA1F-1F28D962A23E@syenar.hu>

>> We have hbodbc which is also an abstraction layer for
>> databases, making it possible to access just what you ask for.
>> It's also much thinner and lighter than using QT layer +
>> plugins, also more portable.
>
> I could not use ODBC to Oracle. RDDSQL (SQLMIX) also without  
> success. Only with ADORDD I managed to connect to Oracle.

I can't recall your reports ATM, but if they didn't work for you,
perhaps there is a solution which we could implement, or it's simple
configration, build problem.

Please retest and report your findings.

> However, fro ADO I have a problem with the mapping of types of  
> fields. The QT writes that the use of the OCI, which allows to have  
> hope for the possibility of using the embedded procedures and jobs,  
> not only claer SQL.

Possibly. Still the direction is IMO wrong. That doesn't mean
someone cannot develop it of course, but it should be done
somewhere outside hbqt.

Brgd,
Viktor

From harbour.01 at syenar.hu  Thu Aug 20 06:25:56 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 06:26:04 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <609353e70908200257p7844d6c2x7cba9836a8e42e53@mail.gmail.com>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>
	<6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>
	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>
	<4A8C1BC0.6000507@mweb.co.za> <25046584.post@talk.nabble.com>
	<4A8CF06A.9010907@mweb.co.za> <25057090.post@talk.nabble.com>
	<4A8CFA89.2040907@mweb.co.za> <25057776.post@talk.nabble.com>
	<609353e70908200257p7844d6c2x7cba9836a8e42e53@mail.gmail.com>
Message-ID: <F7583CDD-620C-49E5-B7BC-9410CA39D7D2@syenar.hu>

> hbmk2 xbase++ mode that made simple compile xbase source
> hbmk2 can read xpj (project file like follow)

Probably technically possible, but I know nothing about xbase++
make files, so it will need someone else to develop this subsystem
for hbmk2. I can help integrating it in actual code though.

Such parser can be written for other formats too. (even hbmake,
xmate)

The task here is to create a parser for these xbase++ make file
and convert them to internal hbmk[] structure, or even better to
.hbp/.hbm format. This can be done by anyone who is interested,
it's not even needed to touch hbmk2 source code.

Brgds,
Viktor

>
>
> [PROJECT]
>    DEBUG         = yes
>    OBJ_FORMAT    = COFF
>    OMF_LINKER    = BLINKER.com /QM /CODEVIEW /CVON
>    OPENFILES     = arcawi.prg;ARCA.PRG
>    VERSION       = 2.0
>    Project.xpj
>
> [Project.xpj]
>    ARCAW.EXE
>
> [ARCAW.EXE]
>    COMPILE       = xpp
>    COMPILE_FLAGS = /q /n /rDclipx.lib /dAXSERV /dEURO /p
>    DEBUG_SAVE    = yes
>    GUI           = yes
>    LINKER        = ALINK
>    LINK_FLAGS    = /FORCE:MULTIPLE
>    RC_COMPILE    = arc
>    RC_FLAGS      = /v
>    OBJ_DIR       = OBJ
> // $START-AUTODEPEND
>   C:\alaska\EXP1\LIB\EXPRESS.RES
> ...

From harbour.01 at syenar.hu  Thu Aug 20 06:30:33 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 06:30:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12185] trunk/harbour
In-Reply-To: <609353e70908200311m43ac52c4v9b48b835224950c6@mail.gmail.com>
References: <E1MdpIG-0004hF-Ch@bj8yhf1.ch3.sourceforge.com>
	<609353e70908200210x7735fb85l51520d935ba97fd7@mail.gmail.com>
	<EC31E0D7-BCF4-43F3-8D20-FEEB12904E94@syenar.hu>
	<609353e70908200311m43ac52c4v9b48b835224950c6@mail.gmail.com>
Message-ID: <916C98D1-62BE-4350-9187-F57EBD9A664C@syenar.hu>

> harbour beta to cvs
> This can be resolved if viktor made periodical build

I can only do it as my free time and interest allows.

[ It also needs a when SVN seem to have reached some sort of  
milestone. ]

>> It's dead easy to do however (by looking into simple examples
>> in INSTALL) if someone is aware of what tools she has installed
>> on her system. Of course one can write a batch file which
>> will blindly try to build Harbour for every possible targets,
>> but that's not very professional-looking solution, so I don't
>> plan to add anything like that.
> A mingw version will be sufficent (32,64,ce)

That's exactly 6 lines of batch code (copy pasted from INSTALL).

Brgds,
Viktor

From sscc at mweb.co.za  Thu Aug 20 06:31:39 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug 20 06:31:33 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <8E78B21A-4795-443F-8415-A4A6136ED819@syenar.hu>
References: <578c73340908181504r1900df58ha8d496dc2c92efe5@mail.gmail.com>	<25035630.post@talk.nabble.com>	<578c73340908181831v119276d1h178fcbb1fbf8674e@mail.gmail.com>	<B89D47AD-2A5A-450D-913B-219A17F87402@syenar.hu>	<578c73340908190631mc138867y8905849b9b3eceae@mail.gmail.com>	<6E221464-CDE1-4AAF-A20F-C1B9EFD6C7AF@syenar.hu>	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>	<4A8C1BC0.6000507@mweb.co.za>	<25046584.post@talk.nabble.com>	<4A8CF06A.9010907@mweb.co.za>	<55EE7D97-857B-4785-96CE-2BD3F86A07BA@syenar.hu>	<4A8CFB5B.70709@mweb.co.za>	<31603F09-F141-4CAA-911C-55688C09E260@syenar.hu>	<4A8D162B.1040601@mweb.co.za>
	<8E78B21A-4795-443F-8415-A4A6136ED819@syenar.hu>
Message-ID: <4A8D260B.3010109@mweb.co.za>

Viktor Szak?ts wrote:

> You're asking for / talking about a "Harbour standard", where there
> cannot be one for several reasons. (at least by my understanding of
> the expression "Harbour standard")

snip.

OK, I accept all that.

Regards
Alex

From fernando_athayde at yahoo.com.br  Thu Aug 20 07:01:54 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Thu Aug 20 07:02:00 2009
Subject: Res: [Harbour] bug: msvcarm (MSVC 2008) build error
In-Reply-To: <18d502870908200100w789ae354u18ee95fdddfbe849@mail.gmail.com>
References: <18d502870908200100w789ae354u18ee95fdddfbe849@mail.gmail.com>
Message-ID: <741244.45545.qm@web52204.mail.re2.yahoo.com>

cl.exe -nologo -D_WIN32_WCE=0x501 -DCE_ARCH -DWINCE -D_WINCE -D_WINDOWS -DARM -D
_ARM_ -DARMV4 -D_M_ARM -D_ARMV4I_ -Darmv4i -D__arm__ -D_UNICODE -D_UWIN -DUNDER_
CE -W4 -Od -Os -Gy -GS- -EHsc- -Fe..\..\..\..\..\bin\wce\msvcarm\hbpp.exe hbpp.o
bj  /nologo /link /subsystem:windowsce /nodefaultlib:oldnames.lib /nodefaultlib:
kernel32.lib /manifest:no /libpath:../../../../../lib/wce/msvcarm  hbcommon.lib
hbnortl.lib coredll.lib ws2.lib corelibc.lib
corelibc.lib(crt0dat.obj) : fatal error LNK1112: module machine type 'ARM' confl
icts with target machine type 'X86'
mingw32-make[3]: *** [hbpp.exe] Error 2
rm hbpp.obj
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [pp] Error 2
mingw32-make: *** [source] Error 2

for before message
process.h there is in E:\Microsoft Visual Studio 9.0\VC\include
se your SET include

Thanks
Fernando




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Quinta-feira, 20 de Agosto de 2009 5:00:25
Assunto: [Harbour] bug: msvcarm (MSVC 2008) build error

../../../../../include\hbthread.h(70) : fatal error C1083: Cannot open
include file: 'process.h': No such file or directory

Brgds,
Viktor
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090820/c96a6b17/attachment.html
From harbour.01 at syenar.hu  Thu Aug 20 07:07:18 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 07:07:28 2009
Subject: Res: [Harbour] bug: msvcarm (MSVC 2008) build error
In-Reply-To: <741244.45545.qm@web52204.mail.re2.yahoo.com>
References: <18d502870908200100w789ae354u18ee95fdddfbe849@mail.gmail.com>
	<741244.45545.qm@web52204.mail.re2.yahoo.com>
Message-ID: <E56B915E-9112-4438-B1EE-D413E264CE2A@syenar.hu>

I guess you env is still wrongly set and non-ARM cl.exe is use.

Please *do* read INSTALL example and retry.

Brgdd,
Viktor

On 2009.08.20., at 1:01, Fernando Athayde wrote:

> cl.exe -nologo -D_WIN32_WCE=0x501 -DCE_ARCH -DWINCE -D_WINCE - 
> D_WINDOWS -DARM -D
> _ARM_ -DARMV4 -D_M_ARM -D_ARMV4I_ -Darmv4i -D__arm__ -D_UNICODE - 
> D_UWIN -DUNDER_
> CE -W4 -Od -Os -Gy -GS- -EHsc- -Fe..\..\..\..\..\bin\wce\msvcarm 
> \hbpp.exe hbpp.o
> bj  /nologo /link /subsystem:windowsce /nodefaultlib:oldnames.lib / 
> nodefaultlib:
> kernel32.lib /manifest:no /libpath:../../../../../lib/wce/msvcarm   
> hbcommon.lib
> hbnortl.lib coredll.lib ws2.lib corelibc.lib
> corelibc.lib(crt0dat.obj) : fatal error LNK1112: module machine type  
> 'ARM' confl
> icts with target machine type 'X86'
> mingw32-make[3]: *** [hbpp.exe] Error 2
> rm hbpp.obj
> mingw32-make[2]: *** [descend] Error 2
> mingw32-make[1]: *** [pp] Error 2
> mingw32-make: *** [source] Error 2
>
> for before message
> process.h there is in E:\Microsoft Visual Studio 9.0\VC\include
> se your SET include
>
> Thanks
> Fernando
>
> De: Viktor Szak?ts <harbour.01@syenar.hu>
> Para: Harbour Project Main Developer List. <harbour@harbour-project.org 
> >
> Enviadas: Quinta-feira, 20 de Agosto de 2009 5:00:25
> Assunto: [Harbour] bug: msvcarm (MSVC 2008) build error
>
> ../../../../../include\hbthread.h(70) : fatal error C1083: Cannot open
> include file: 'process.h': No such file or directory
>
> Brgds,
> Viktor
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 -  
> Celebridades - M?sica - 
> Esportes_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Thu Aug 20 07:18:52 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug 20 07:18:59 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <4A8D124C.8020506@mweb.co.za>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
	<m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>
	<4A8CEE55.7090800@mweb.co.za> <25057035.post@talk.nabble.com>
	<4A8CF8A2.8040709@mweb.co.za> <25057994.post@talk.nabble.com>
	<4A8D124C.8020506@mweb.co.za>
Message-ID: <20090820111852.GA7617@uran.home.aster.pl>

On Thu, 20 Aug 2009, Alex Strickland wrote:

Hi,

>> How do you want it to be in the core ?
>> How you would like to call its functionality.
>> Active-X necessarily means a rectangular area ( window ) to be manipulated,
>> and in Harbour core there is no such thing. It has to go through a GUI
>> calls.
>> If you have other thoughts, please share.
> I meant hbwin, not the core. Do your other comments still apply?

hbwin library does not create any GUI objects directly so the Pritpal
question is still open. Where do you want to "attach" activex controls?
I'm not MS-Windows programmer and I do not know OLE/Active-X, etc. so
it's highly possible that I'm missing sth important but for me hbwin
can only give some base API which is used by given GUI libraries and
such functionality is already implemented. HBWIN _gives_ such API.
That's all what we can do as general solution though probably it can
be extended and tuned yet. But it's not self contain Active-X code
because GUI part is still missing. Rest is specific to given MS-Windows
only GUI library implementation and its authors decides how to use it
creating fully functional Active-X controls which play well with Harbour
and can benefit from Harbour core code functionality and quality.
I.e. HWGUI does not use it at all but comes with its own implementation.
If you do not like it then ask about direct support for hbwin low level
OLE/Activex code on HWGUI forum.
The same is for each other GUI library.

best regards,
Przemek
From fernando_athayde at yahoo.com.br  Thu Aug 20 07:24:22 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Thu Aug 20 07:24:29 2009
Subject: Res: Res: [Harbour] bug: msvcarm (MSVC 2008) build error
In-Reply-To: <E56B915E-9112-4438-B1EE-D413E264CE2A@syenar.hu>
References: <18d502870908200100w789ae354u18ee95fdddfbe849@mail.gmail.com>
	<741244.45545.qm@web52204.mail.re2.yahoo.com>
	<E56B915E-9112-4438-B1EE-D413E264CE2A@syenar.hu>
Message-ID: <776846.64053.qm@web52210.mail.re2.yahoo.com>

i redo my bat, now happens this error 

my bat:
set INCLUDE=E:\Microsoft Visual Studio 9.0\VC\ce\include;%ProgramFiles%\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i
set LIB=E:\Microsoft Visual Studio 9.0\VC\ce\lib\armv4i;%ProgramFiles%\Windows Mobile 5.0 SDK R2\PocketPC\Lib\Armv4i
set PATH=E:\Microsoft Visual Studio 9.0\VC\ce\bin\x86_arm;E:\Microsoft Visual Studio 8\Common7\IDE;%PATH%


set MSCV=e:\Microsoft Visual Studio 9.0\VC
set HB_BIN_COMPILE=E:\harbour_cvs\bin\win\msvc
set HB_BUILD_DLL=yes
SET HB_ARCHITECTURE = wce
set HB_COMPILER=msvcarm
set HB_INSTALL_PREFIX=e:\harbour_vcce

SET HB_INC_MYSQL=C:\mysql\include

SET HB_PATH=e:\harbour_vcce

error:

cl.exe -nologo -D_WIN32_WCE=0x501 -DCE_ARCH -DWINCE -D_WINCE -D_WINDOWS -DARM -D
_ARM_ -DARMV4 -D_M_ARM -D_ARMV4I_ -Darmv4i -D__arm__ -D_UNICODE -D_UWIN -DUNDER_
CE -W4 -Od -Os -Gy -GS- -EHsc- -Fe..\..\..\..\..\bin\wce\msvcarm\hbpp.exe hbpp.o
bj  /nologo /link /subsystem:windowsce /nodefaultlib:oldnames.lib /nodefaultlib:
kernel32.lib /manifest:no /libpath:../../../../../lib/wce/msvcarm  hbcommon.lib
hbnortl.lib coredll.lib ws2.lib corelibc.lib
hbpp.obj : error LNK2019: unresolved external symbol hb_xgrab referenced in func
tion hb_pp_initRules
hbpp.obj : error LNK2019: unresolved external symbol hb_xfree referenced in func
tion hb_pp_ruleFree
hbpp.obj : error LNK2019: unresolved external symbol hb_snprintf referenced in f
unction hb_pp_error
hbpp.obj : error LNK2019: unresolved external symbol hb_xrealloc referenced in f
unction hb_membufAddCh
hbpp.obj : error LNK2019: unresolved external symbol hb_strnicmp referenced in f
unction hb_pp_getLine
hbpp.obj : error LNK2019: unresolved external symbol hb_strRemEscSeq referenced
in function hb_pp_getLine
hbpp.obj : error LNK2019: unresolved external symbol hb_szAscii referenced in fu
nction hb_pp_tokenSetValue
hbpp.obj : error LNK2019: unresolved external symbol hb_stricmp referenced in fu
nction hb_pp_tokenValueCmp
hbpp.obj : error LNK2019: unresolved external symbol hb_strdup referenced in fun
ction hb_pp_FileNew
hbpp.obj : error LNK2019: unresolved external symbol hb_fsMaxFilesError referenc
ed in function hb_pp_FileNew
hbpp.obj : error LNK2019: unresolved external symbol hb_fopen referenced in func
tion hb_pp_FileNew
hbpp.obj : error LNK2019: unresolved external symbol hb_fsFNameMerge referenced
in function hb_pp_FileNew
hbpp.obj : error LNK2019: unresolved external symbol hb_fsFNameSplit referenced
in function hb_pp_FileNew
hbpp.obj : error LNK2019: unresolved external symbol hb_strndup referenced in fu
nction hb_pp_pragmaOperatorNew
hbpp.obj : error LNK2019: unresolved external symbol hb_strValInt referenced in
function hb_pp_calcValue
hbpp.obj : error LNK2019: unresolved external symbol hb_fsFreeSearchPath referen
ced in function hb_pp_stateFree
hbpp.obj : error LNK2019: unresolved external symbol hb_fsAddSearchPath referenc
ed in function hb_pp_addSearchPath
hbpp.obj : error LNK2019: unresolved external symbol hb_timeStampStr referenced
in function hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_timeStampGet referenced
in function hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_dateTimeStr referenced i
n function hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_dateStrPut referenced in
 function hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_dateToday referenced in
function hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_strncpy referenced in fu
nction hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_verPlatform referenced i
n function hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_strupr referenced in fun
ction hb_pp_tokenUpper
hbpp.obj : error LNK2019: unresolved external symbol hb_getenv referenced in fun
ction main
hbpp.obj : error LNK2019: unresolved external symbol hb_fsFileExists referenced
in function hb_pp_parseChangelog
hbpp.obj : error LNK2019: unresolved external symbol hb_fsFindClose referenced i
n function hb_fsFileFind
hbpp.obj : error LNK2019: unresolved external symbol hb_fsFindFirst referenced i
n function hb_fsFileFind
hbpp.obj : error LNK2019: unresolved external symbol hb_fsNameConv referenced in
 function hb_fsFileFind
hbpp.obj : error LNK2019: unresolved external symbol hb_wctomb referenced in fun
ction WinMain
..\..\..\..\..\bin\wce\msvcarm\hbpp.exe : fatal error LNK1120: 31 unresolved ext
ernals
mingw32-make[3]: *** [hbpp.exe] Error 2
rm hbpp.obj
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [pp] Error 2
mingw32-make: *** [source] Error 2

Bregards,
Fernando




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Quinta-feira, 20 de Agosto de 2009 8:07:18
Assunto: Re: Res: [Harbour] bug: msvcarm (MSVC 2008) build error

I guess you env is still wrongly set and non-ARM cl.exe is use.

Please *do* read INSTALL example and retry.

Brgdd,
Viktor

On 2009.08.20., at 1:01, Fernando Athayde wrote:

> cl.exe -nologo -D_WIN32_WCE=0x501 -DCE_ARCH -DWINCE -D_WINCE -D_WINDOWS -DARM -D
> _ARM_ -DARMV4 -D_M_ARM -D_ARMV4I_ -Darmv4i -D__arm__ -D_UNICODE -D_UWIN -DUNDER_
> CE -W4 -Od -Os -Gy -GS- -EHsc- -Fe..\..\..\..\..\bin\wce\msvcarm\hbpp.exe hbpp.o
> bj  /nologo /link /subsystem:windowsce /nodefaultlib:oldnames.lib /nodefaultlib:
> kernel32.lib /manifest:no /libpath:../../../../../lib/wce/msvcarm  hbcommon.lib
> hbnortl.lib coredll.lib ws2.lib corelibc.lib
> corelibc.lib(crt0dat.obj) : fatal error LNK1112: module machine type 'ARM' confl
> icts with target machine type 'X86'
> mingw32-make[3]: *** [hbpp.exe] Error 2
> rm hbpp.obj
> mingw32-make[2]: *** [descend] Error 2
> mingw32-make[1]: *** [pp] Error 2
> mingw32-make: *** [source] Error 2
> 
> for before message
> process.h there is in E:\Microsoft Visual Studio 9.0\VC\include
> se your SET include
> 
> Thanks
> Fernando
> 
> De: Viktor Szak?ts <harbour.01@syenar.hu>
> Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Enviadas: Quinta-feira, 20 de Agosto de 2009 5:00:25
> Assunto: [Harbour] bug: msvcarm (MSVC 2008) build error
> 
> ../../../../../include\hbthread.h(70) : fatal error C1083: Cannot open
> include file: 'process.h': No such file or directory
> 
> Brgds,
> Viktor
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades - M?sica -Esportes_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090820/e50b41ea/attachment-0001.html
From toninhofwi at yahoo.com.br  Thu Aug 20 07:31:07 2009
From: toninhofwi at yahoo.com.br (Toninho@fwi)
Date: Thu Aug 20 07:29:30 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <20090820111852.GA7617@uran.home.aster.pl>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
	<m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>
	<4A8CEE55.7090800@mweb.co.za> <25057035.post@talk.nabble.com>
	<4A8CF8A2.8040709@mweb.co.za> <25057994.post@talk.nabble.com>
	<4A8D124C.8020506@mweb.co.za>
	<20090820111852.GA7617@uran.home.aster.pl>
Message-ID: <hhcq859bfglhn438mfots2479or5rma0of@4ax.com>

Hi Przemek, 

>hbwin library does not create any GUI objects directly so the Pritpal
>question is still open. Where do you want to "attach" activex controls?

Maybe we can create a class that need a hWnd parameter from external
gui like FWH.

I user corrent Harbour activeX with FWH in this way:

---cut---
   ::oOle = WIN_AxGetControl( WApi_CreateWindowEX( 0, "AtlAxWin",
::cProgId, ::nStyle, ::nLeft, ::nTop, ::nWidth, ::nHeight, win_N2P(
::hWnd ), 0 ), ::bEvent )
---cut---

IMO ::hWnd, ::nTop, etc. can be received by parameters for a Harbour
class.


Regards,

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From druzus at users.sourceforge.net  Thu Aug 20 07:32:40 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Aug 20 07:32:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12199] trunk/harbour
Message-ID: <E1Me5sm-00031T-BY@d5vjzd1.ch3.sourceforge.com>

Revision: 12199
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12199&view=rev
Author:   druzus
Date:     2009-08-20 11:32:38 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-20 13:32 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbthread.h
    ! do not include <process.h> in WinCE builds

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbthread.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Aug 20 07:46:39 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug 20 07:46:48 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <hhcq859bfglhn438mfots2479or5rma0of@4ax.com>
References: <F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
	<m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>
	<4A8CEE55.7090800@mweb.co.za> <25057035.post@talk.nabble.com>
	<4A8CF8A2.8040709@mweb.co.za> <25057994.post@talk.nabble.com>
	<4A8D124C.8020506@mweb.co.za>
	<20090820111852.GA7617@uran.home.aster.pl>
	<hhcq859bfglhn438mfots2479or5rma0of@4ax.com>
Message-ID: <20090820114639.GA9389@uran.home.aster.pl>

On Thu, 20 Aug 2009, Toninho@fwi wrote:

Hi Toninho,

> >hbwin library does not create any GUI objects directly so the Pritpal
> >question is still open. Where do you want to "attach" activex controls?
> Maybe we can create a class that need a hWnd parameter from external
> gui like FWH.

AFAIK FWH still uses numbers without any automatic destructors to hold
window handles. It does not pass our code quality standards so we cannot
add it. Other GUI libraries may not give direct access to any OS handles
or structures neither as numbers nor pointers. I.e. they can use only
objects with some public API. User will not able to use such extension
so we will force breaking well encapsulated API and reducing it to FWH
level.

> I user corrent Harbour activeX with FWH in this way:
> ---cut---
>    ::oOle = WIN_AxGetControl( WApi_CreateWindowEX( 0, "AtlAxWin",
> ::cProgId, ::nStyle, ::nLeft, ::nTop, ::nWidth, ::nHeight, win_N2P(
> ::hWnd ), 0 ), ::bEvent )
> ---cut---
> IMO ::hWnd, ::nTop, etc. can be received by parameters for a Harbour
> class.

Your example shows that we are giving enough functionality to add such
class to FWH or any other GUI library so you can ask about it on FWH
forum. Of course if some important functionality is missing in our code
then 3-rd party GUI developers should ask about it on Harbour forum and
we can add it if it's accepted by our Ole/Active-X developers.

best regards,
Przemek
From sscc at mweb.co.za  Thu Aug 20 07:52:58 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug 20 07:52:51 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <20090820111852.GA7617@uran.home.aster.pl>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>	<m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>	<4A8CEE55.7090800@mweb.co.za>
	<25057035.post@talk.nabble.com>	<4A8CF8A2.8040709@mweb.co.za>
	<25057994.post@talk.nabble.com>	<4A8D124C.8020506@mweb.co.za>
	<20090820111852.GA7617@uran.home.aster.pl>
Message-ID: <4A8D391A.5060008@mweb.co.za>

Przemyslaw Czerpak wrote:

> hbwin library does not create any GUI objects directly so the Pritpal
> question is still open. 

Let me ask differently, we have :

FUNC WIN_AxGetControl( hWnd, bHandler )

What form is bHandler?

Is there some kind of default event?

If it handles one thing, can't it handle several?

Regards
Alex

From vszakats at users.sourceforge.net  Thu Aug 20 08:17:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 08:17:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12200] trunk/harbour
Message-ID: <E1Me6Zm-0007QV-AI@3kljzd1.ch3.sourceforge.com>

Revision: 12200
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12200&view=rev
Author:   vszakats
Date:     2009-08-20 12:17:05 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------

2009-08-20 14:16 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
  * INSTALL
  * bin/hb-mkdyn.sh
  * bin/hb-mkdyn.bat
    + Added HB_USER_DFLAGS to add custom linker flags to .dll link command.
      (just like in hbmk2)
    - In hb-mkdyn.sh HB_USER_LDFLAGS deleted, now HB_USER_DFLAGS replaced it.
      (HB_USER_LDFLAGS was missing from darwin link cmd)

  * bin/hb-mkdyn.bat
    ! HB_DLLLIBS -> HB_DLLIBS

  * config/global.mk
    + Added HB_DLLIBS to list of misc custom settings.

  * INSTALL
    + Revision of OPTIONS AVAILABLE WHEN BUILDING HARBOUR section.
    ! Typo.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/bin/hb-mkdyn.sh
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Thu Aug 20 08:39:21 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Aug 20 08:39:28 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <93FBE65A-5436-4810-A1BC-BE03D4FA7F60@syenar.hu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719C73@PINK.zycie.pzu>
	<B3EB17EA-F31B-4BA6-9809-849A1E3889CB@syenar.hu>
	<4A8C1BC0.6000507@mweb.co.za>
	<650F1DB1-DCCB-4DC5-A29C-CDF7E38893F4@syenar.hu>
	<578c73340908191143w773abca2vfa45a61eb5e758cf@mail.gmail.com>
	<93FBE65A-5436-4810-A1BC-BE03D4FA7F60@syenar.hu>
Message-ID: <133778360908200539x3b626c83o7bb61f7b4e6f8edb@mail.gmail.com>

Viktor

I think that is not a big deal to Pritpal to resolve this requirement

Plugins actually works ok in HBQT , only in HBQTS is missing a function
that permit to load this plugin in requirement of the programmer .

May be Carozo could not explain better , we are spanish speaking guy
and sometimes its dificult to explain our requirements.

we will study the documentation of QT plugins ,
in order to see if we approached some idea on the matter

Thanks In advance

Bruno Luciani



2009/8/19 Viktor Szak?ts <harbour.01@syenar.hu>

> On 2009.08.19., at 8:43, CarozoDeQuilmes wrote:
>
>  I don't want replace harbour functions
>> I don't want added new features to hbqt
>> I only need that my exe progran linked with Static hbqts has all features
>> that when I link my program with dinamic Link.
>>
>> The way for this goal are Qt Plugins.
>>
>
> I understand this, but there is no guarantee that
> after this requirement is satisfied there won't
> be another (and another) which also need to be fixed
> for your preferred scenario.
>
> BTW QT static builds are not supported for commercial
> apps in a reasonable way, so our focus is on default
> dynamic linking.
>
> Anyhow I trust Pritpal's judgment on this matter,
> but have some concerns that any plugin system is
> not just a few lines of code, but requires quite
> complicated logic to be implemented on such wrapper
> level as Harbour. But maybe I'm wrong.
>
> It's also a possibility that some solution for this
> problem is developed locally with your participation
> and adapted to Harbour SVN later. After all it's an
> itch to scratch for you. This what drives Open Source
> development forward.
>
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090820/0f73abdf/attachment.html
From harbour.01 at syenar.hu  Thu Aug 20 08:58:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 08:58:36 2009
Subject: [Harbour] GNU Make: 'bad command or filename - "uname"' under
	MS-DOS (dosemu)
Message-ID: <4D392A3C-0A7B-4E64-8CEE-43C0F9C5246F@syenar.hu>

Hi Przemek,

As in subject. Any ideas how to fix it?

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Aug 20 09:38:47 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 09:38:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12201] trunk/harbour
Message-ID: <E1Me7qp-0001Yb-Uk@bj8yhf1.ch3.sourceforge.com>

Revision: 12201
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12201&view=rev
Author:   vszakats
Date:     2009-08-20 13:38:47 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-20 15:38 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/dos/watcom.mk
    * DOS shell specific hacks protected by HB_SHELL guard.
    * Merged together DOS shell specific hacks.

  * config/win/watcom.mk
  * config/linux/watcom.mk
  * config/os2/watcom.mk
    + Added DOS shell specific hacks, so that cross-builds to these 
      targets on DOS hosts work.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/config/linux/watcom.mk
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/config/win/watcom.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 20 09:57:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 09:57:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12202] trunk/harbour
Message-ID: <E1Me88x-00020O-Hw@bj8yhf1.ch3.sourceforge.com>

Revision: 12202
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12202&view=rev
Author:   vszakats
Date:     2009-08-20 13:57:30 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-20 15:49 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    ! Fixed dos autodetection to not be overridden by explicit
      HB_ARCHITECTURE value since it prevent dos hosted cross
      build creation.
    ! Fixed *nix -> win/wce autodetection to not kick in on os2/dos
      platforms.

  * INSTALL
    + Updated cross-build matrix to not show some dos/os2 builds
      fully untested. They should now work in a generic sence.

  ; TOFIX: watcom rules should be synced across platforms to use
           shell specific tricks according to HB_SHELL excpect
           assuming it being the host native one.
           F.e. watcom/dos -> os2 builds will end with:
                Bad command or filename - "@..\..\..\..\..\config\dj-echo".
                watcom/dos -> linux builds will choke because of too long cmdlines.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From alxokhotnikov at gmail.com  Thu Aug 20 09:59:02 2009
From: alxokhotnikov at gmail.com (Alexandr Okhotnikov)
Date: Thu Aug 20 09:59:08 2009
Subject: [Harbour] Filename and linux
Message-ID: <d6fa31440908200659v4da59a7eh7e46cfb8452835f5@mail.gmail.com>

Hi,

How to create file names in their native language (for example, in Russian)?
Now: "??????.txt"


There insert the translation in UTF8 (for example, for the function
FILE () and other functions, which are many)?

Linux (Kubuntu 9.04), locale - UTF8, source (prg) - cp1251
file system - "/dev/hda1  ext3  relatime,errors=remount-ro 0  1"

best regards
Alx
From druzus at acn.waw.pl  Thu Aug 20 10:58:36 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug 20 10:58:43 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <4A8D391A.5060008@mweb.co.za>
References: <F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
	<m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>
	<4A8CEE55.7090800@mweb.co.za> <25057035.post@talk.nabble.com>
	<4A8CF8A2.8040709@mweb.co.za> <25057994.post@talk.nabble.com>
	<4A8D124C.8020506@mweb.co.za>
	<20090820111852.GA7617@uran.home.aster.pl>
	<4A8D391A.5060008@mweb.co.za>
Message-ID: <20090820145836.GA4209@uran.home.aster.pl>

On Thu, 20 Aug 2009, Alex Strickland wrote:

Hi,

>> hbwin library does not create any GUI objects directly so the Pritpal
>> question is still open. 
> Let me ask differently, we have :
> FUNC WIN_AxGetControl( hWnd, bHandler )
> What form is bHandler?
> Is there some kind of default event?
> If it handles one thing, can't it handle several?

Now you are asking about implementation details and activex
functionality. Sorry but here I cannot help you. I'm not MS-Windows
programmer or even user so you will need real MS-Windows developers
help here. Mindaugas? Pritpal?

The only one thing I can help here are technical problems in
implementation so I've just look closer at axcore.c and I have
to say that for me few things are seriously broken.

I do not understand why we have WIN_AXRELEASEOBJECT(). For me
calling this function breaks autodestructors. Pritpal?

Release() method makes something strange for me. Mindaugas?
To implement such functionality it's necessary to change
the method of iSink allocation. It has to be allocated by
hb_xgrab() and then we should only allocate holder for
iSink pointer using hb_gcAlloc(). The only one reason this
code was working without GPF traps is this line:
   pSink->count = 2; /* 1 for pCP->Advice() param and 1 for Harbour
                        collectible pointer [Mindaugas] */
which effectively blocks executing hb_xfree() due to initialization
with 2 instead of 1. BTW I do not understand above comment. For me
it should be 1 and other code fixed.

I can make modifications which fix above problems but
they have to be verified by real MS-Windows programmers.
Mindaugas?

best regards,
Przemek
From M.Horodyski at pzuzycie.com.pl  Thu Aug 20 11:01:35 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Aug 20 11:01:43 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <25057776.post@talk.nabble.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719E18@PINK.zycie.pzu>

>-----Original Message-----
>From: Pritpal Bedi [mailto:bedipritpal@hotmail.com] 
>Sent: Thursday, August 20, 2009 10:09 AM
>To: harbour@harbour-project.org
>Subject: Re: [Harbour] Plugins in hbqts library
>
>
>Hi

...

>Yes, and this suggests that we must deploy our resources in 
>right directions.
>I urge the users to be vocal on the list. It creates a sense 
>of satisfaction and acceptance.
>
>NOTE: Xbase++ framework based on Qt has received a very little response
>         till date mainly due to the fact that users are 
>diversified to so many GUI's.
>         Probably, it will take little more time if someone 
>may jump in seriously.
>         Nevertheless, my efforts will remain 100%concentrated 
>on the subject.



Pritpal, Victor
in folder C:\harbour\contrib\hbxbp\tests is file demoxbp.prg.
How can I test it ?
I have installed Qt, recompile Harbour with :

SET HB_INC_QT=C:\Qt\include
SET HB_QT_STATIC=yes

And when try : hbmk2 demoxbp
On screen I see :

...
Lines 3200, Functions/Procedures 48
Generating C source output to 'demoxbp.c'... Done.
c:/gcc/mingw/bin/../lib/gcc/mingw32/4.4.0/../../../../mingw32/bin/ld.exe
: cannot find -lhbqts
collect2: ld returned 1 exit status
hbmk: Error: Running linker. 1
gcc.exe demoxbp.o hbmk_p4becs.o    -mwindows -lhbxbp -lhbqts -lversion
-lshlwapi -lQtCore -lQtGui -lQtNetwork -lQtWebKit -lsu
pc++ -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi
-lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbusrrd
d -lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt -lhbuddall -lrddnsx -lhbrtl
-lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre
 -lhbzlib -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool
-lcomctl32 -lcomdlg32 -lshell32 -lole32 -loleaut32 -luui
d -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32  -odemoxbp.exe
-LC:/harbour/lib/win/mingw -LC:/harbour/lib -L/lib

When and where is this lib : lhbqts created.

Regards,
Marek Horodyski
 
From bruno.luciani at gmail.com  Thu Aug 20 11:34:34 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Aug 20 11:34:41 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719E18@PINK.zycie.pzu>
References: <25057776.post@talk.nabble.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719E18@PINK.zycie.pzu>
Message-ID: <133778360908200834m3efa5f21hc46bc92ca6a0e60f@mail.gmail.com>

Marek LibHBQTS.a is generated when you set HB_QT_STATIC=yes

in this scenario ,  LIBHBQT is not generated but in his place LibHBQTS.a  is
the default

Then you need to link using this mew library and static version of QT libs
to generate an standalone windows executable

Bruno

2009/8/20 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>

> >-----Original Message-----
> >From: Pritpal Bedi [mailto:bedipritpal@hotmail.com]
> >Sent: Thursday, August 20, 2009 10:09 AM
> >To: harbour@harbour-project.org
> >Subject: Re: [Harbour] Plugins in hbqts library
> >
> >
> >Hi
>
> ...
>
> >Yes, and this suggests that we must deploy our resources in
> >right directions.
> >I urge the users to be vocal on the list. It creates a sense
> >of satisfaction and acceptance.
> >
> >NOTE: Xbase++ framework based on Qt has received a very little response
> >         till date mainly due to the fact that users are
> >diversified to so many GUI's.
> >         Probably, it will take little more time if someone
> >may jump in seriously.
> >         Nevertheless, my efforts will remain 100%concentrated
> >on the subject.
>
>
>
> Pritpal, Victor
> in folder C:\harbour\contrib\hbxbp\tests is file demoxbp.prg.
> How can I test it ?
> I have installed Qt, recompile Harbour with :
>
> SET HB_INC_QT=C:\Qt\include
> SET HB_QT_STATIC=yes
>
> And when try : hbmk2 demoxbp
> On screen I see :
>
> ...
> Lines 3200, Functions/Procedures 48
> Generating C source output to 'demoxbp.c'... Done.
> c:/gcc/mingw/bin/../lib/gcc/mingw32/4.4.0/../../../../mingw32/bin/ld.exe
> : cannot find -lhbqts
> collect2: ld returned 1 exit status
> hbmk: Error: Running linker. 1
> gcc.exe demoxbp.o hbmk_p4becs.o    -mwindows -lhbxbp -lhbqts -lversion
> -lshlwapi -lQtCore -lQtGui -lQtNetwork -lQtWebKit -lsu
> pc++ -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi
> -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbusrrd
> d -lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt -lhbuddall -lrddnsx -lhbrtl
> -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre
>  -lhbzlib -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool
> -lcomctl32 -lcomdlg32 -lshell32 -lole32 -loleaut32 -luui
> d -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32  -odemoxbp.exe
> -LC:/harbour/lib/win/mingw -LC:/harbour/lib -L/lib
>
> When and where is this lib : lhbqts created.
>
> Regards,
> Marek Horodyski
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090820/23b863f2/attachment.html
From sscc at mweb.co.za  Thu Aug 20 11:36:00 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug 20 11:36:09 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <20090820145836.GA4209@uran.home.aster.pl>
References: <F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>	<m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>	<4A8CEE55.7090800@mweb.co.za>
	<25057035.post@talk.nabble.com>	<4A8CF8A2.8040709@mweb.co.za>
	<25057994.post@talk.nabble.com>	<4A8D124C.8020506@mweb.co.za>	<20090820111852.GA7617@uran.home.aster.pl>	<4A8D391A.5060008@mweb.co.za>
	<20090820145836.GA4209@uran.home.aster.pl>
Message-ID: <4A8D6D60.2020702@mweb.co.za>

Przemyslaw Czerpak wrote:

> Now you are asking about implementation details and activex
> functionality. Sorry but here I cannot help you. I'm not MS-Windows
> programmer or even user so you will need real MS-Windows developers
> help here. Mindaugas? Pritpal?

Mindaugas posted this when he wrote it:

===
my ActiveX test code is three additional lines in Hello World GUI sample:
   WIN_AxInit()

   hWndAx := CreateWindow("ATLAXWin", "http://sf.net", ...
   oAx := WIN_AxGetControl( hWndAx, @SomeEventLogFunc() )

here SomeEventLogFunc() logs events to file, to be sure event handler is working.
===

I didn't understand then what "SomeEvent" might be, and I should have said 
something.

> The only one thing I can help here are technical problems in
> implementation so I've just look closer at axcore.c and I have
> to say that for me few things are seriously broken.

I really appreciate your willingness to do this for Windows code. It is not 
critical for me as I can live with what works in HWGUI, but that does not help 
to move things forward.

Regards
Alex
From bruno.luciani at gmail.com  Thu Aug 20 11:54:23 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Aug 20 11:54:30 2009
Subject: [Harbour] Howto Load PLugins in static HBQT
Message-ID: <133778360908200854y828da5ek4877df5023762009@mail.gmail.com>

Pritpal , if you read a litle this howto
http://doc.trolltech.com/4.3/plugins-howto.html#static-plugins

, do you see that we only need
acces to this macro:
http://doc.trolltech.com/4.3/qtplugin.html#Q_IMPORT_PLUGIN


 You don't need to support creation of new plugins

only load existing , do you think that's is dificult to you  ?

I think is only create a wrapper to this function

Excuseme if i say a  silliness

Thanks

Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090820/085b4c38/attachment.html
From bedipritpal at hotmail.com  Thu Aug 20 12:04:06 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug 20 12:04:11 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <20090820145836.GA4209@uran.home.aster.pl>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
	<m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>
	<4A8CEE55.7090800@mweb.co.za> <25057035.post@talk.nabble.com>
	<4A8CF8A2.8040709@mweb.co.za> <25057994.post@talk.nabble.com>
	<4A8D124C.8020506@mweb.co.za>
	<20090820111852.GA7617@uran.home.aster.pl>
	<4A8D391A.5060008@mweb.co.za>
	<20090820145836.GA4209@uran.home.aster.pl>
Message-ID: <25064961.post@talk.nabble.com>


Hello Przemek


Przemyslaw Czerpak-2 wrote:
> 
> I do not understand why we have WIN_AXRELEASEOBJECT(). For me
> calling this function breaks autodestructors. Pritpal?
> 

I had introduced this function before auto-release pointer and 
is kept by oversight. This function is not used in core as well as 
in GTWVG as well as in my application code. It is safe to remove it.



> Release() method makes something strange for me. Mindaugas?
> To implement such functionality it's necessary to change
> the method of iSink allocation. It has to be allocated by
> hb_xgrab() and then we should only allocate holder for
> iSink pointer using hb_gcAlloc(). The only one reason this
> code was working without GPF traps is this line:
>    pSink->count = 2; /* 1 for pCP->Advice() param and 1 for Harbour
>                         collectible pointer [Mindaugas] */
> which effectively blocks executing hb_xfree() due to initialization
> with 2 instead of 1. BTW I do not understand above comment. For me
> it should be 1 and other code fixed.
> 

This I had pointed to Mindaugus that this value should be 0 or 1 but not 2.
Actually some active-x's may be gpffing without this hack, but am not sure.
In GTWVG I place this value as 0.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/Possible-OleAuto-bug-tp25044738p25064961.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Aug 20 12:20:26 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug 20 12:20:32 2009
Subject: [Harbour] Howto Load PLugins in static HBQT
In-Reply-To: <133778360908200854y828da5ek4877df5023762009@mail.gmail.com>
References: <133778360908200854y828da5ek4877df5023762009@mail.gmail.com>
Message-ID: <25065310.post@talk.nabble.com>


Hi


Bruno Luciani wrote:
> 
> Pritpal , if you read a litle this howto
> http://doc.trolltech.com/4.3/plugins-howto.html#static-plugins
> 
> , do you see that we only need
> acces to this macro:
> http://doc.trolltech.com/4.3/qtplugin.html#Q_IMPORT_PLUGIN
> 
> 
>  You don't need to support creation of new plugins
> 
> only load existing , do you think that's is dificult to you  ?
> 
> I think is only create a wrapper to this function
> 

No.
Plugins do not work this way. I had already tried.

See the error :

#include <QtPlugin>

HB_FUNC( QT_IMPORT_PLUGIN )
{
   Q_IMPORT_PLUGIN( hbqt_par_QString( 1 ) );
}

../../../hbqt_slots.cpp:86:1: error: pasting ")" and "PluginInstance" does
not give a valid preprocessing token
../../../hbqt_slots.cpp:86:1: error: pasting ")" and "PluginInstance" does
not give a valid preprocessing token
../../../hbqt_slots.cpp:86:1: error: pasting ")" and "PluginInstance" does
not give a valid preprocessing token
../../../hbqt_slots.cpp:86:1: error: pasting ")" and "Instance" does not
give a valid preprocessing token
../../../hbqt_slots.cpp: In function 'void HB_FUN_QT_IMPORT_PLUGIN()':
../../../hbqt_slots.cpp:86: error: 'qt_plugin_instance_hbqt_par_QString' has
both 'extern' and initializer
../../../hbqt_slots.cpp:86: error: expected primary-expression before
'class'
../../../hbqt_slots.cpp:86: error: expected ';' before 'class'
../../../hbqt_slots.cpp:2058: error: expected '}' at end of input
../../../hbqt_slots.cpp: At global scope:


If you read the documentation properly, you will know that 
it requires that instance of plugin is known to the linker prehand.
And I have no clue how it can be achieved in Harbour wrappers.

You may forward any clues on the list to get advanced.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Howto-Load-PLugins-in-static-HBQT-tp25064810p25065310.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bruno.luciani at gmail.com  Thu Aug 20 12:28:16 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Aug 20 12:28:23 2009
Subject: [Harbour] Howto Load PLugins in static HBQT
In-Reply-To: <25065310.post@talk.nabble.com>
References: <133778360908200854y828da5ek4877df5023762009@mail.gmail.com>
	<25065310.post@talk.nabble.com>
Message-ID: <133778360908200928y16261a84j17227e5d2310bbb2@mail.gmail.com>

OK Pritpal , I continue to read documentation

Bruno

2009/8/20 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hi
>
>
> Bruno Luciani wrote:
> >
> > Pritpal , if you read a litle this howto
> > http://doc.trolltech.com/4.3/plugins-howto.html#static-plugins
> >
> > , do you see that we only need
> > acces to this macro:
> > http://doc.trolltech.com/4.3/qtplugin.html#Q_IMPORT_PLUGIN
> >
> >
> >  You don't need to support creation of new plugins
> >
> > only load existing , do you think that's is dificult to you  ?
> >
> > I think is only create a wrapper to this function
> >
>
> No.
> Plugins do not work this way. I had already tried.
>
> See the error :
>
> #include <QtPlugin>
>
> HB_FUNC( QT_IMPORT_PLUGIN )
> {
>   Q_IMPORT_PLUGIN( hbqt_par_QString( 1 ) );
> }
>
> ../../../hbqt_slots.cpp:86:1: error: pasting ")" and "PluginInstance" does
> not give a valid preprocessing token
> ../../../hbqt_slots.cpp:86:1: error: pasting ")" and "PluginInstance" does
> not give a valid preprocessing token
> ../../../hbqt_slots.cpp:86:1: error: pasting ")" and "PluginInstance" does
> not give a valid preprocessing token
> ../../../hbqt_slots.cpp:86:1: error: pasting ")" and "Instance" does not
> give a valid preprocessing token
> ../../../hbqt_slots.cpp: In function 'void HB_FUN_QT_IMPORT_PLUGIN()':
> ../../../hbqt_slots.cpp:86: error: 'qt_plugin_instance_hbqt_par_QString'
> has
> both 'extern' and initializer
> ../../../hbqt_slots.cpp:86: error: expected primary-expression before
> 'class'
> ../../../hbqt_slots.cpp:86: error: expected ';' before 'class'
> ../../../hbqt_slots.cpp:2058: error: expected '}' at end of input
> ../../../hbqt_slots.cpp: At global scope:
>
>
> If you read the documentation properly, you will know that
> it requires that instance of plugin is known to the linker prehand.
> And I have no clue how it can be achieved in Harbour wrappers.
>
> You may forward any clues on the list to get advanced.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/Howto-Load-PLugins-in-static-HBQT-tp25064810p25065310.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090820/2b20e1bf/attachment.html
From harbour.01 at syenar.hu  Thu Aug 20 12:33:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 12:33:39 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719E18@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719E18@PINK.zycie.pzu>
Message-ID: <4AC5199E-B074-4AAE-9C89-17CDB67139EC@syenar.hu>

> Pritpal, Victor
> in folder C:\harbour\contrib\hbxbp\tests is file demoxbp.prg.
> How can I test it ?
> I have installed Qt, recompile Harbour with :
>
> SET HB_INC_QT=C:\Qt\include
> SET HB_QT_STATIC=yes
>
> And when try : hbmk2 demoxbp
> On screen I see :
>
> ...
> Lines 3200, Functions/Procedures 48
> Generating C source output to 'demoxbp.c'... Done.
> c:/gcc/mingw/bin/../lib/gcc/mingw32/4.4.0/../../../../mingw32/bin/ 
> ld.exe
> : cannot find -lhbqts
> collect2: ld returned 1 exit status
> hbmk: Error: Running linker. 1
> gcc.exe demoxbp.o hbmk_p4becs.o    -mwindows -lhbxbp -lhbqts -lversion
> -lshlwapi -lQtCore -lQtGui -lQtNetwork -lQtWebKit -lsu
> pc++ -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi
> -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbusrrd
> d -lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt -lhbuddall -lrddnsx - 
> lhbrtl
> -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre
> -lhbzlib -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool
> -lcomctl32 -lcomdlg32 -lshell32 -lole32 -loleaut32 -luui
> d -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32  -odemoxbp.exe
> -LC:/harbour/lib/win/mingw -LC:/harbour/lib -L/lib
>
> When and where is this lib : lhbqts created.

It's create by Harbour build process, when HB_QT_STATIC is set
to 'yes'. For some reason though the lib is not built,
probably because HB_INC_QT is not set properly. Check your
Harbour build log.

Brgds,
Viktor

From bruno.luciani at gmail.com  Thu Aug 20 12:58:32 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Aug 20 12:58:41 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <4AC5199E-B074-4AAE-9C89-17CDB67139EC@syenar.hu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719E18@PINK.zycie.pzu>
	<4AC5199E-B074-4AAE-9C89-17CDB67139EC@syenar.hu>
Message-ID: <133778360908200958n3ced699bpac6d29ca5b6c6888@mail.gmail.com>

Marek

Do you build static QT libraries  first ?

Bruno

2009/8/20 Viktor Szak?ts <harbour.01@syenar.hu>

> Pritpal, Victor
>> in folder C:\harbour\contrib\hbxbp\tests is file demoxbp.prg.
>> How can I test it ?
>> I have installed Qt, recompile Harbour with :
>>
>> SET HB_INC_QT=C:\Qt\include
>> SET HB_QT_STATIC=yes
>>
>> And when try : hbmk2 demoxbp
>> On screen I see :
>>
>> ...
>> Lines 3200, Functions/Procedures 48
>> Generating C source output to 'demoxbp.c'... Done.
>> c:/gcc/mingw/bin/../lib/gcc/mingw32/4.4.0/../../../../mingw32/bin/ld.exe
>> : cannot find -lhbqts
>> collect2: ld returned 1 exit status
>> hbmk: Error: Running linker. 1
>> gcc.exe demoxbp.o hbmk_p4becs.o    -mwindows -lhbxbp -lhbqts -lversion
>> -lshlwapi -lQtCore -lQtGui -lQtNetwork -lQtWebKit -lsu
>> pc++ -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi
>> -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbusrrd
>> d -lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt -lhbuddall -lrddnsx -lhbrtl
>> -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre
>> -lhbzlib -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool
>> -lcomctl32 -lcomdlg32 -lshell32 -lole32 -loleaut32 -luui
>> d -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32  -odemoxbp.exe
>> -LC:/harbour/lib/win/mingw -LC:/harbour/lib -L/lib
>>
>> When and where is this lib : lhbqts created.
>>
>
> It's create by Harbour build process, when HB_QT_STATIC is set
> to 'yes'. For some reason though the lib is not built,
> probably because HB_INC_QT is not set properly. Check your
> Harbour build log.
>
> Brgds,
> Viktor
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090820/7850985a/attachment.html
From bruno.luciani at gmail.com  Thu Aug 20 13:05:32 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Aug 20 13:05:39 2009
Subject: [Harbour] Changing install prefix in linux ?
Message-ID: <133778360908201005q278d0adamf5dcd3aab1700dbd@mail.gmail.com>

I try to set HB_INSTALL_PREFIX using

export HB_INSTALL_PREFIX=/usr

But when I execute , make install  the target is /usr/local and this path is
wrong
for UBUNTU

Any Idea ?

Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090820/4a2a1430/attachment-0001.html
From harbour.01 at syenar.hu  Thu Aug 20 13:10:26 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 13:10:35 2009
Subject: [Harbour] Build error
In-Reply-To: <7C69CD3B-C466-40AB-9D6B-40D5104115F9@syenar.hu>
References: <4A865152.7000802@siol.net>
	<9014F8C5-7B77-46B7-984C-9ABECEEF7631@syenar.hu>
	<20090817105001.GA17616@uran.home.aster.pl>
	<7C69CD3B-C466-40AB-9D6B-40D5104115F9@syenar.hu>
Message-ID: <21F124D7-9ED7-460E-884E-A29940D949E2@syenar.hu>

Hi Przemek,

I just realized by incident that the undef/def logic for
cross-builds is still faulty as __PLATFORM__UNIX also has
to be undef-fed for Windows to make it work with Cygwin
binaries.

I have a fix in place (which for .mk consist of adding this
undef for all cases when using win hosts for cross builds,
which is not very elegant, but there is no better).

But before committing I was wondering if defining
__PLATFORM__UNIX for Cygwin builds is the right thing to do.
What's your opinion?

Brgds,
Viktor

On 2009.08.17., at 0:56, Viktor Szak?ts wrote:

>> On Sat, 15 Aug 2009, Szak?ts Viktor wrote:
>>
>> Hi,
>>
>>> Regardless of this fix, maybe Harbour PP could be modified to
>>> not throw a warning when the redefinition is identical to the
>>> original value, just like in C. Przemek, what's your opinion?
>>
>> Such warning is standard Clipper behavior and I do not think we
>> should disable it but of course it's possible.
>
> You're right, I forgot about the compatibility aspect.
>
> Brgds,
> Viktor
>

From bruno.luciani at gmail.com  Thu Aug 20 13:14:46 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Aug 20 13:14:52 2009
Subject: [Harbour] Howto Load PLugins in static HBQT
In-Reply-To: <25065310.post@talk.nabble.com>
References: <133778360908200854y828da5ek4877df5023762009@mail.gmail.com>
	<25065310.post@talk.nabble.com>
Message-ID: <133778360908201014l26163572k5e5546b751305b05@mail.gmail.com>

Pritpal , the class QtPlugin is actually included in the wrapper ?


Bruno

2009/8/20 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hi
>
>
> Bruno Luciani wrote:
> >
> > Pritpal , if you read a litle this howto
> > http://doc.trolltech.com/4.3/plugins-howto.html#static-plugins
> >
> > , do you see that we only need
> > acces to this macro:
> > http://doc.trolltech.com/4.3/qtplugin.html#Q_IMPORT_PLUGIN
> >
> >
> >  You don't need to support creation of new plugins
> >
> > only load existing , do you think that's is dificult to you  ?
> >
> > I think is only create a wrapper to this function
> >
>
> No.
> Plugins do not work this way. I had already tried.
>
> See the error :
>
> #include <QtPlugin>
>
> HB_FUNC( QT_IMPORT_PLUGIN )
> {
>   Q_IMPORT_PLUGIN( hbqt_par_QString( 1 ) );
> }
>
> ../../../hbqt_slots.cpp:86:1: error: pasting ")" and "PluginInstance" does
> not give a valid preprocessing token
> ../../../hbqt_slots.cpp:86:1: error: pasting ")" and "PluginInstance" does
> not give a valid preprocessing token
> ../../../hbqt_slots.cpp:86:1: error: pasting ")" and "PluginInstance" does
> not give a valid preprocessing token
> ../../../hbqt_slots.cpp:86:1: error: pasting ")" and "Instance" does not
> give a valid preprocessing token
> ../../../hbqt_slots.cpp: In function 'void HB_FUN_QT_IMPORT_PLUGIN()':
> ../../../hbqt_slots.cpp:86: error: 'qt_plugin_instance_hbqt_par_QString'
> has
> both 'extern' and initializer
> ../../../hbqt_slots.cpp:86: error: expected primary-expression before
> 'class'
> ../../../hbqt_slots.cpp:86: error: expected ';' before 'class'
> ../../../hbqt_slots.cpp:2058: error: expected '}' at end of input
> ../../../hbqt_slots.cpp: At global scope:
>
>
> If you read the documentation properly, you will know that
> it requires that instance of plugin is known to the linker prehand.
> And I have no clue how it can be achieved in Harbour wrappers.
>
> You may forward any clues on the list to get advanced.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://www.nabble.com/Howto-Load-PLugins-in-static-HBQT-tp25064810p25065310.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090820/9aa60fd7/attachment.html
From amigosam at adinet.com.uy  Thu Aug 20 13:17:04 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Thu Aug 20 13:17:18 2009
Subject: [Harbour] Re: Plugins in hbqts library
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719E18@PINK.zycie.pzu>
References: <25057776.post@talk.nabble.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719E18@PINK.zycie.pzu>
Message-ID: <h6k0e2$qla$1@ger.gmane.org>

Hi Marek:

This is the bat I use:

Build.bat
rem -----------------------------------------
set PATH=C:\harbour\mingw\bin;%PATH%
set HB_INC_QT=C:\Qt\2009.03\qt\include
set HB_INSTALL_PREFIX=C:\harbour
set HB_WITH_QT=yes
set HB_CONTRIB_ADDONS=hbxbp
mingw32-make install
pause
rem -----------------------------------------


Modify to match your enviroment

HTH
Angel Pais

From harbour.01 at syenar.hu  Thu Aug 20 13:30:33 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 13:30:42 2009
Subject: [Harbour] Re: Plugins in hbqts library
In-Reply-To: <h6k0e2$qla$1@ger.gmane.org>
References: <25057776.post@talk.nabble.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719E18@PINK.zycie.pzu>
	<h6k0e2$qla$1@ger.gmane.org>
Message-ID: <85BDD7C7-376E-4D94-B1BA-067FA63B066B@syenar.hu>


On 2009.08.20., at 7:17, Angel Pais wrote:

> Hi Marek:
>
> This is the bat I use:
>
> Build.bat
> rem -----------------------------------------
> set PATH=C:\harbour\mingw\bin;%PATH%
> set HB_INC_QT=C:\Qt\2009.03\qt\include
> set HB_INSTALL_PREFIX=C:\harbour

---
> set HB_WITH_QT=yes
> set HB_CONTRIB_ADDONS=hbxbp
---

You can drop these two lines, they are not necessary.

Brgds,
Viktor

From bruno.luciani at gmail.com  Thu Aug 20 13:31:21 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Aug 20 13:31:29 2009
Subject: [Harbour] Re: Plugins in hbqts library
In-Reply-To: <h6k0e2$qla$1@ger.gmane.org>
References: <25057776.post@talk.nabble.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719E18@PINK.zycie.pzu>
	<h6k0e2$qla$1@ger.gmane.org>
Message-ID: <133778360908201031y2315e714t26460b568e8dcdb0@mail.gmail.com>

Angel this is for Dinamyc QT

but Marek I think  are trying to make LiBHBQTS.a for static QT

Bruno

2009/8/20 Angel Pais <amigosam@adinet.com.uy>

> Hi Marek:
>
> This is the bat I use:
>
> Build.bat
> rem -----------------------------------------
> set PATH=C:\harbour\mingw\bin;%PATH%
> set HB_INC_QT=C:\Qt\2009.03\qt\include
> set HB_INSTALL_PREFIX=C:\harbour
> set HB_WITH_QT=yes
> set HB_CONTRIB_ADDONS=hbxbp
> mingw32-make install
> pause
> rem -----------------------------------------
>
>
> Modify to match your enviroment
>
> HTH
> Angel Pais
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090820/14c25fde/attachment.html
From mbelgrano at deltain.it  Thu Aug 20 13:35:00 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Aug 20 13:35:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12185] trunk/harbour
In-Reply-To: <916C98D1-62BE-4350-9187-F57EBD9A664C@syenar.hu>
References: <E1MdpIG-0004hF-Ch@bj8yhf1.ch3.sourceforge.com> 
	<609353e70908200210x7735fb85l51520d935ba97fd7@mail.gmail.com> 
	<EC31E0D7-BCF4-43F3-8D20-FEEB12904E94@syenar.hu>
	<609353e70908200311m43ac52c4v9b48b835224950c6@mail.gmail.com> 
	<916C98D1-62BE-4350-9187-F57EBD9A664C@syenar.hu>
Message-ID: <609353e70908201035o5ca4f521g170ee0a937cb01c9@mail.gmail.com>

Can you help me wich are  6 lines of batch ?

2009/8/20 Viktor Szak?ts <harbour.01@syenar.hu>:
>> harbour beta to cvs
>> This can be resolved if viktor made periodical build
>
> I can only do it as my free time and interest allows.
>
> [ It also needs a when SVN seem to have reached some sort of milestone. ]
>
>>> It's dead easy to do however (by looking into simple examples
>>> in INSTALL) if someone is aware of what tools she has installed
>>> on her system. Of course one can write a batch file which
>>> will blindly try to build Harbour for every possible targets,
>>> but that's not very professional-looking solution, so I don't
>>> plan to add anything like that.
>>
>> A mingw version will be sufficent (32,64,ce)
>
> That's exactly 6 lines of batch code (copy pasted from INSTALL).
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Thu Aug 20 13:40:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 13:40:52 2009
Subject: [Harbour] Re: Plugins in hbqts library
In-Reply-To: <133778360908201031y2315e714t26460b568e8dcdb0@mail.gmail.com>
References: <25057776.post@talk.nabble.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502719E18@PINK.zycie.pzu>
	<h6k0e2$qla$1@ger.gmane.org>
	<133778360908201031y2315e714t26460b568e8dcdb0@mail.gmail.com>
Message-ID: <240B690C-F923-45E5-A6B8-8B6B0276E3B8@syenar.hu>

> Angel this is for Dinamyc QT
>
> but Marek I think  are trying to make LiBHBQTS.a for static QT

It's the exact same thing, plus this line:
set HB_QT_STATIC=yes

This is what's needed by minimum to build Harbour and also for hbmk2:

---
set PATH=C:\harbour\mingw\bin;%PATH%
rem HB_DIR_QT is needed by hbmk2 make files only
set HB_DIR_QT=C:\Qt\2009.03\qt
set HB_INC_QT=C:\Qt\2009.03\qt\include
set HB_QT_STATIC=yes
---

Brgds,
Viktor


>
> Bruno
>
> 2009/8/20 Angel Pais <amigosam@adinet.com.uy>
> Hi Marek:
>
> This is the bat I use:
>
> Build.bat
> rem -----------------------------------------
> set PATH=C:\harbour\mingw\bin;%PATH%
> set HB_INC_QT=C:\Qt\2009.03\qt\include
> set HB_INSTALL_PREFIX=C:\harbour
> set HB_WITH_QT=yes
> set HB_CONTRIB_ADDONS=hbxbp
> mingw32-make install
> pause
> rem -----------------------------------------
>
>
> Modify to match your enviroment
>
> HTH
> Angel Pais
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Aug 20 13:42:22 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 13:42:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12185] trunk/harbour
In-Reply-To: <609353e70908201035o5ca4f521g170ee0a937cb01c9@mail.gmail.com>
References: <E1MdpIG-0004hF-Ch@bj8yhf1.ch3.sourceforge.com>
	<609353e70908200210x7735fb85l51520d935ba97fd7@mail.gmail.com>
	<EC31E0D7-BCF4-43F3-8D20-FEEB12904E94@syenar.hu>
	<609353e70908200311m43ac52c4v9b48b835224950c6@mail.gmail.com>
	<916C98D1-62BE-4350-9187-F57EBD9A664C@syenar.hu>
	<609353e70908201035o5ca4f521g170ee0a937cb01c9@mail.gmail.com>
Message-ID: <9E6489FB-7BFA-4281-98F0-3CE0DB365429@syenar.hu>

On 2009.08.20., at 7:35, Massimo Belgrano wrote:

> Can you help me wich are  6 lines of batch ?

You can't ask this question seriously.

Open INSTALL and copy paste the three relevant
examples from the EXAMPLES section (and remove
the 'rem' lines to get the exact 6 lines). That's all.

Brgds,
Viktor

From elart at elart.it  Thu Aug 20 14:03:49 2009
From: elart at elart.it (elart)
Date: Thu Aug 20 14:04:08 2009
Subject: [Harbour] Changing install prefix in linux ?
In-Reply-To: <133778360908201005q278d0adamf5dcd3aab1700dbd@mail.gmail.com>
References: <133778360908201005q278d0adamf5dcd3aab1700dbd@mail.gmail.com>
Message-ID: <4A8D9005.4080106@elart.it>

On 08/20/2009 07:05 PM, Bruno Luciani wrote:
> I try to set HB_INSTALL_PREFIX using
>
> export HB_INSTALL_PREFIX=/usr
>
> But when I execute , make install  the target is /usr/local and this
> path is wrong
> for UBUNTU
>
> Any Idea ?
>
> Bruno
>
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

Please try the
export HB_INSTALL_PREFIX=/usr/bin
sudo -E make install


.....

! MAKE: make 3.81   /bin/sh
! HB_INSTALL_PREFIX: /usr/bin/
! HB_BIN_INSTALL: /usr/bin/
! HB_LIB_INSTALL: /usr/lib/
! HB_INC_INSTALL: /usr/include/
! HB_CONTRIBLIBS: hbqt hbpgsql hbhpdf rddsql hbsqlit3 hbodbc gtqtc
! HB_HOST_ARCH: linux  HB_SHELL: sh
! HB_ARCHITECTURE: linux (autodetected)
! HB_COMPILER: gcc (autodetected)





From vszakats at users.sourceforge.net  Thu Aug 20 14:16:56 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 14:17:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12203] trunk/harbour
Message-ID: <E1MeCC0-0002Q9-J1@d5vjzd1.ch3.sourceforge.com>

Revision: 12203
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12203&view=rev
Author:   vszakats
Date:     2009-08-20 18:16:55 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-20 20:07 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
  * config/global.mk
    ! Fixed to -undef:__PLATFORM__UNIX even for Windows host platforms.
      This is required because Cygwin builds have this envvar set.
      I'm not sure that setting __PLATFORM__UNIX for Cygwin is right
      behavior though.

  * config/dos/watcom.mk
  * config/win/watcom.mk
  * config/linux/watcom.mk
  * config/os2/watcom.mk
  + config/common/watcom.mk
    % Moved common watcom compiler specific make logic to one file.
      I've choosen OS/2 rules in this global makefile, as they will
      work on all platforms, albeit in the known slighly hacky way.
      It's easy to reintroduce shell specific rules for more advanced
      shells. There was one common rule set for nt/dos shells, plus
      a very clean one for sh. I may do this in a next commit.
      After this change it's possible to create all possible watcom
      cross-builds. Pls shout if I missed something or the concept
      seems to have some potential flaws.
    ; QUESTION: Does 'wlib' support '-p=64' option on Linux watcom builds?
    ; NOTE: Still most of the not yet merged logic could be merged,
            since there is only a few minor difference between them.
    ; TODO: Add shell optimized watcom rules for nt/dos/sh shells.
    ; TODO: Try to do a similar stunt for gcc.mk files.

  * source/pp/ppcore.c
    * #ifdef -> #if defined()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/linux/watcom.mk
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/config/win/watcom.mk
    trunk/harbour/source/pp/ppcore.c
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/config/common/
    trunk/harbour/config/common/watcom.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Thu Aug 20 14:10:04 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Aug 20 14:18:03 2009
Subject: [Harbour] Changing install prefix in linux ?
In-Reply-To: <4A8D9005.4080106@elart.it>
References: <133778360908201005q278d0adamf5dcd3aab1700dbd@mail.gmail.com>
	<4A8D9005.4080106@elart.it>
Message-ID: <133778360908201110w3beb7204k8acd19586cf3fd53@mail.gmail.com>

OK Elart I try it

thanks

Bruno

2009/8/20 elart <elart@elart.it>

> On 08/20/2009 07:05 PM, Bruno Luciani wrote:
>
>> I try to set HB_INSTALL_PREFIX using
>>
>> export HB_INSTALL_PREFIX=/usr
>>
>> But when I execute , make install  the target is /usr/local and this
>> path is wrong
>> for UBUNTU
>>
>> Any Idea ?
>>
>> Bruno
>>
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> Please try the
> export HB_INSTALL_PREFIX=/usr/bin
> sudo -E make install
>
>
> .....
>
> ! MAKE: make 3.81   /bin/sh
> ! HB_INSTALL_PREFIX: /usr/bin/
> ! HB_BIN_INSTALL: /usr/bin/
> ! HB_LIB_INSTALL: /usr/lib/
> ! HB_INC_INSTALL: /usr/include/
> ! HB_CONTRIBLIBS: hbqt hbpgsql hbhpdf rddsql hbsqlit3 hbodbc gtqtc
> ! HB_HOST_ARCH: linux  HB_SHELL: sh
> ! HB_ARCHITECTURE: linux (autodetected)
> ! HB_COMPILER: gcc (autodetected)
>
>
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090820/53332ada/attachment.html
From vszakats at users.sourceforge.net  Thu Aug 20 14:35:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 14:35:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12204] trunk/harbour
Message-ID: <E1MeCTg-0002mn-Nc@d5vjzd1.ch3.sourceforge.com>

Revision: 12204
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12204&view=rev
Author:   vszakats
Date:     2009-08-20 18:35:09 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-20 20:34 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/common/watcom.mk
    + Readded dos/nt shell specific logic. (they were the same so
      far in Harbour, but maybe it'd be now possible to create real
      optimize out dos specific hacks for nt shells - unless there
      is a chance to break the 8192 bytes nt cmdline length limit.)

  * ChangeLog
    + Marked pending items in prev entry.

  * config/dos/watcom.mk
  * config/win/watcom.mk
  * config/linux/watcom.mk
  * config/os2/watcom.mk
    % Deleted watcom doc links. It's enough to have them in common file.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/common/watcom.mk
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/config/linux/watcom.mk
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/config/win/watcom.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 20 14:41:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 14:41:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12205] trunk/harbour
Message-ID: <E1MeCZR-0002uG-OO@d5vjzd1.ch3.sourceforge.com>

Revision: 12205
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12205&view=rev
Author:   vszakats
Date:     2009-08-20 18:41:06 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-20 20:40 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/dos/watcom.mk
  * config/common/watcom.mk
  * config/win/watcom.mk
  * config/linux/watcom.mk
  * config/os2/watcom.mk
    ! Fix to prev. (missed to deleted platform specific rules from nt/dos ones)
    * Moved LDLIBS formation back to platform spefific watcom.mk files.
      (the only reason is SYSLIBS present only on win)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/common/watcom.mk
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/config/linux/watcom.mk
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/config/win/watcom.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Aug 20 14:51:37 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 14:51:45 2009
Subject: [Harbour] make version requirement: 3.81 ?
Message-ID: <F286397D-95F1-4117-88A8-28BA3ACFDC67@syenar.hu>

Hi Przemek and all,

I'd like to discuss the minimum GNU Make version requirement
for Harbour.

Do you see any problem in raising the bar to 3.81? AFAIK this
version can be built or otherwise installed for all potential
OSes which are supported by GNU Make (which is a broader
selection of OSes than Harbour supports), so I wonder what sort
of problems it may cause to require this version number?

Some additional information:
- 3.81 is already the documented minimum version (in INSTALL).
- 3.81 is the first official port to OS/2.
- 3.81 is the first stable port for Windows. Older versions won't  
currently work.
- 3.81 is supported on DOS and we already include it.
- Our current make files will give extra features when 3.81 is used.
- Our current make files use unprotected 3.80 features,
   so it actually doesn't even work now with pre 3.81 versions.
- 3.80 is already required for parallel build support.
- 3.81 is available since 2006.
- We could delete a few hacks targeting older versions.
- We could use much cleaner if/else/endif structures with 3.81.

IMO the benefits are large, and ATM we practically already
require 3.81, and I can't see any drawbacks of such requirement,
but it's possible I'm missing something.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Aug 20 15:30:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 15:30:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12206] trunk/harbour
Message-ID: <E1MeDKq-0003rR-Nx@d5vjzd1.ch3.sourceforge.com>

Revision: 12206
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12206&view=rev
Author:   vszakats
Date:     2009-08-20 19:30:06 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-20 21:26 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  + examples/gfspell
  + examples/gfspell/spell.ng
  + examples/gfspell/spellc.c
  + examples/gfspell/gfspell.hbp
  + examples/gfspell/spell.prg
  + examples/gfspell/gfspell.hbc
  + examples/gfspell/spell.ch
  + examples/gfspell/words.dbf
  + examples/gfspell/readme.txt
    + Added Grumpfish Speller library port for Harbour.
      With kind permission of author Joseph D. Booth.
      Many thanks to Les Hughes for contributing this port 
      to Harbour.
    + Some modifications, added hbmk2 make files, did a few
      other cleanup.
    ; TOFIX: 'const' fixes revealed a few HVM corruption
             problems in original source. These have yet to be
             fixed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/examples/gfspell/
    trunk/harbour/examples/gfspell/gfspell.hbc
    trunk/harbour/examples/gfspell/gfspell.hbp
    trunk/harbour/examples/gfspell/readme.txt
    trunk/harbour/examples/gfspell/spell.ch
    trunk/harbour/examples/gfspell/spell.ng
    trunk/harbour/examples/gfspell/spell.prg
    trunk/harbour/examples/gfspell/spellc.c
    trunk/harbour/examples/gfspell/words.dbf


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 20 15:35:52 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 15:35:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12207] trunk/harbour
Message-ID: <E1MeDQO-0003xw-17@d5vjzd1.ch3.sourceforge.com>

Revision: 12207
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12207&view=rev
Author:   vszakats
Date:     2009-08-20 19:35:51 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-20 21:35 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * examples/gfspell/readme.txt
    ! E-mail address antispam.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/examples/gfspell/readme.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 20 15:55:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 15:55:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12208] trunk/harbour
Message-ID: <E1MeDj0-0004L6-9s@d5vjzd1.ch3.sourceforge.com>

Revision: 12208
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12208&view=rev
Author:   vszakats
Date:     2009-08-20 19:55:05 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-20 21:52 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/hbwin.hbc
    ! Added missing CellCore lib for wce.
      I've preserved casing because cegcc has it like that and
      I wanted to avoid any potential casing problems on *nix
      cross build. I you know it this is unnecessary pls tell.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/hbwin.hbc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 20 16:04:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 16:04:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12209] trunk/harbour
Message-ID: <E1MeDsJ-0004X3-OH@d5vjzd1.ch3.sourceforge.com>

Revision: 12209
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12209&view=rev
Author:   vszakats
Date:     2009-08-20 20:04:42 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-20 22:04 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  + contrib/xhb/hbcommon.ch
    + Added this file for compatibility with xhb. I don't think 
      anyone is using this file though.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/xhb/hbcommon.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 20 16:23:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 16:23:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12210] trunk/harbour
Message-ID: <E1MeEAH-0004te-I4@d5vjzd1.ch3.sourceforge.com>

Revision: 12210
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12210&view=rev
Author:   vszakats
Date:     2009-08-20 20:23:16 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-20 22:22 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/dos/watcom.mk
  * config/win/watcom.mk
  * config/linux/watcom.mk
  * config/os2/watcom.mk
    ! Fixed to not include rules.cf twice.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/config/linux/watcom.mk
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/config/win/watcom.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 20 16:28:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 16:28:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12211] trunk/harbour
Message-ID: <E1MeEF9-0004yt-Hk@d5vjzd1.ch3.sourceforge.com>

Revision: 12211
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12211&view=rev
Author:   vszakats
Date:     2009-08-20 20:28:18 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-20 22:28 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/common/watcom.mk
    ! Yet another fix to prev moving dos shell specific 
      cmdline length defeating tricks after rules.mk inclusion.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/common/watcom.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From guy.roussin at teledetection.fr  Thu Aug 20 17:32:19 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Thu Aug 20 17:32:28 2009
Subject: [Harbour] Changing install prefix in linux ?
In-Reply-To: <133778360908201005q278d0adamf5dcd3aab1700dbd@mail.gmail.com>
References: <133778360908201005q278d0adamf5dcd3aab1700dbd@mail.gmail.com>
Message-ID: <4A8DC0E3.5030904@teledetection.fr>

Hi Bruno,

I think it's a bad idea.  "/usr/local" is the good path for linux/ubuntu
when you manualy install software (make; make install).
And /usr is the good path for deb packages only.

Notice that with harbour you can build your own ubuntu package :
$ /path/to/harbour
$ fakeroot sh mpkg_deb.sh
and install it :
$ sudo dpkg -i ../harbour*deb
Now harbour use /usr

My 2c,

Guy

Bruno Luciani a ?crit :
> I try to set HB_INSTALL_PREFIX using
>
> export HB_INSTALL_PREFIX=/usr
>
> But when I execute , make install  the target is /usr/local and this 
> path is wrong
> for UBUNTU
>
> Any Idea ?
>
> Bruno
>
From vszakats at users.sourceforge.net  Thu Aug 20 18:04:49 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 18:04:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12212] trunk/harbour
Message-ID: <E1MeFkX-0004PI-Uu@bj8yhf1.ch3.sourceforge.com>

Revision: 12212
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12212&view=rev
Author:   vszakats
Date:     2009-08-20 22:04:49 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-21 00:01 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * external/libhpdf/Makefile
  * contrib/hbhpdf/Makefile
    ! Fixed to skip them when using dos hosts (due to long filenames
      in libhpdf lib sources/headers)

  * external/libhpdf/Makefile
    + Enabled for watcom/dos and watcom/linux targets.

  * config/common/watcom.mk
  * config/rules.mk
    + Added CC_FLAGS variable similar to HB_FLAGS to aid
      moving flags to envvars and to reduce redundancy in rules.
    * The CC_RULE hack was a little bit modified accordingly
      for c-mode non-linux watcom. We're now a bit closer to
      be able to drop CC_RULE override.
    ! Adapted above change for watcom where now all (non-user)
      flags are moved to envvar when using dos shells.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/common/watcom.mk
    trunk/harbour/config/rules.mk
    trunk/harbour/contrib/hbhpdf/Makefile
    trunk/harbour/external/libhpdf/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 20 18:08:47 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 18:08:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12213] trunk/harbour
Message-ID: <E1MeFoN-0004W5-Dp@bj8yhf1.ch3.sourceforge.com>

Revision: 12213
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12213&view=rev
Author:   vszakats
Date:     2009-08-20 22:08:46 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-21 00:08 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * external/sqlite3/Makefile
    ! Disabled for dos hosts and watcom compiler because watcom 
      runs out of memory.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/external/sqlite3/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Aug 20 18:14:37 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Aug 20 18:14:44 2009
Subject: [Harbour] dos -> linux cross build compilation error
Message-ID: <18d502870908201514g7cf7fd75h7c1c9c1e705fbcc4@mail.gmail.com>

Hi All,

../../../copyfile.c(136): Error! E029: col(19) symbol 'fchmod' has not
been declared

Same call is made from fscopy.c.

The strange thing is that this compiles fine when run on win host.

Brgds,
Viktor
From harbour.01 at syenar.hu  Thu Aug 20 18:26:11 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Aug 20 18:26:17 2009
Subject: [Harbour] Re: dos -> linux cross build compilation error
In-Reply-To: <18d502870908201514g7cf7fd75h7c1c9c1e705fbcc4@mail.gmail.com>
References: <18d502870908201514g7cf7fd75h7c1c9c1e705fbcc4@mail.gmail.com>
Message-ID: <18d502870908201526t56221814t7d64c4c98ecb432c@mail.gmail.com>

Pls ignore this. It was a local watcom config mistake.

Brgds,
Viktor

On Fri, Aug 21, 2009 at 12:14 AM, Viktor Szak?ts<harbour.01@syenar.hu> wrote:
> Hi All,
>
> ../../../copyfile.c(136): Error! E029: col(19) symbol 'fchmod' has not
> been declared
>
> Same call is made from fscopy.c.
>
> The strange thing is that this compiles fine when run on win host.
>
> Brgds,
> Viktor
>
From vszakats at users.sourceforge.net  Thu Aug 20 18:43:39 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 18:43:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12214] trunk/harbour
Message-ID: <E1MeGM7-0004Wp-Ud@dn4whf1.ch3.sourceforge.com>

Revision: 12214
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12214&view=rev
Author:   vszakats
Date:     2009-08-20 22:43:37 +0000 (Thu, 20 Aug 2009)

Log Message:
-----------
2009-08-21 00:40 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/common/watcom.mk
    * sh AR rule made the default.
    % Now nt shell uses the default AR rule (instead of dos one)
      with watcom.
    % Deleted no longer necessary FILE = %f vs %ff hack.
      Now this rule is only active for os2 shells never nt.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/common/watcom.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Thu Aug 20 19:39:07 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Aug 20 19:39:14 2009
Subject: [Harbour] Changing install prefix in linux ?
In-Reply-To: <4A8DC0E3.5030904@teledetection.fr>
References: <133778360908201005q278d0adamf5dcd3aab1700dbd@mail.gmail.com>
	<4A8DC0E3.5030904@teledetection.fr>
Message-ID: <133778360908201639n23efb19ci8e0e85578d59b152@mail.gmail.com>

Hey Guy

In previous versions of Harbour I make the change because
harbour package from ubuntu repositories install in /usr and not in
/usr/local

Now I have a mess in my machine , I am triyng to delete manually
the old executables , library and include directories , to use the newest
version

Linux use first /usr

anyway something is wrong , because if I compile in dinamyc , the executable
give me an
error , that not found the harbour shared library, in static compiles ok

I don't know now what is better


Bruno


2009/8/20 Guy Roussin <guy.roussin@teledetection.fr>

> Hi Bruno,
>
> I think it's a bad idea.  "/usr/local" is the good path for linux/ubuntu
> when you manualy install software (make; make install).
> And /usr is the good path for deb packages only.
>
> Notice that with harbour you can build your own ubuntu package :
> $ /path/to/harbour
> $ fakeroot sh mpkg_deb.sh
> and install it :
> $ sudo dpkg -i ../harbour*deb
> Now harbour use /usr
>
> My 2c,
>
> Guy
>
> Bruno Luciani a ?crit :
>
>  I try to set HB_INSTALL_PREFIX using
>>
>> export HB_INSTALL_PREFIX=/usr
>>
>> But when I execute , make install  the target is /usr/local and this path
>> is wrong
>> for UBUNTU
>>
>> Any Idea ?
>>
>> Bruno
>>
>>  _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090820/d6d001d8/attachment.html
From druzus at acn.waw.pl  Thu Aug 20 19:40:10 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Aug 20 19:40:20 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <4A8D6D60.2020702@mweb.co.za>
References: <m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>
	<4A8CEE55.7090800@mweb.co.za> <25057035.post@talk.nabble.com>
	<4A8CF8A2.8040709@mweb.co.za> <25057994.post@talk.nabble.com>
	<4A8D124C.8020506@mweb.co.za>
	<20090820111852.GA7617@uran.home.aster.pl>
	<4A8D391A.5060008@mweb.co.za>
	<20090820145836.GA4209@uran.home.aster.pl>
	<4A8D6D60.2020702@mweb.co.za>
Message-ID: <20090820234010.GA17613@uran.home.aster.pl>

On Thu, 20 Aug 2009, Alex Strickland wrote:

Hi,

> Mindaugas posted this when he wrote it:
> ===
> my ActiveX test code is three additional lines in Hello World GUI sample:
>   WIN_AxInit()
>   hWndAx := CreateWindow("ATLAXWin", "http://sf.net", ...
>   oAx := WIN_AxGetControl( hWndAx, @SomeEventLogFunc() )
> here SomeEventLogFunc() logs events to file, to be sure event handler is working.
> ===
> I didn't understand then what "SomeEvent" might be, and I should have said 
> something.

Any event which activates Invoke() methods. Event number is passed
as 1-st parameter to SomeEventLogFunc() ad 1-st parameter. Instead
of @SomeEventLogFunc() you can also use codeblock.

>> The only one thing I can help here are technical problems in
>> implementation so I've just look closer at axcore.c and I have
>> to say that for me few things are seriously broken.
> I really appreciate your willingness to do this for Windows code. It is not 
> critical for me as I can live with what works in HWGUI, but that does not 
> help to move things forward.

I still think you did not understand what I said but I hope that I begin
to understand what you are asking for saying about multiple events.
You did not ask about activex functionality but about current activex
implementation in HWGUI where you have to declare separate codeblocks or
function references for each event.
It's not necessary in core Harbour code which uses only single handler
for all events. Sorry that it took such long time but it was really hard
to guess that you are asking about functionality present in one of Harbour
3-rd party library not sth general for Ole/Activex API. I'm not familiar
with this code.
In such case for your infornation: current Harbour code has probably
serious bugs but it's nothing worser then current HWGUI implementation
because we are talking about areas not addressed by HWGUI at all
(automatic destructors). You can use current Harbour actives implementation
to replace HWGUI code with one exception. Harbour does not support
parameters passed by reference and HWGUI does. It's important only if you
use parameters passed by reference in your event handlers. I'll try to add
such functionality and fix autodestructor code but final tuning/extension
I will want to leave for real MS-Windows programers/users.

best regards,
Przemek
From vszakats at users.sourceforge.net  Thu Aug 20 20:25:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 20:26:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12215] trunk/harbour
Message-ID: <E1MeHx5-0007Rd-22@bj8yhf1.ch3.sourceforge.com>

Revision: 12215
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12215&view=rev
Author:   vszakats
Date:     2009-08-21 00:25:54 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 02:20 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    + Added Windows XP (or upper) detection. This will be shown
      with an '(xp)' mark in log. Please test, I don't have NT/2000
      systems.

  * config/win/bcc.mk
    % For XP and upper now the default logic (so far only active
      with sh shells) is enabled which is more efficient and 
      generates shorter log. Old one only kept to make Windows
      NT/2000 bcc users happy, this is the only win compiler which
      has such special support.

  * INSTALL
    * Minor.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.mk
    trunk/harbour/config/win/bcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 20 20:29:22 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 20:29:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12216] trunk/harbour
Message-ID: <E1MeI0Q-0007WM-8a@bj8yhf1.ch3.sourceforge.com>

Revision: 12216
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12216&view=rev
Author:   vszakats
Date:     2009-08-21 00:29:21 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 02:26 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    * Shows '(pre-xp)' for pre-XP systems instead of showing '(xp)'
      for newer systems. Please test.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fernando_athayde at yahoo.com.br  Thu Aug 20 20:36:07 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Thu Aug 20 20:36:14 2009
Subject: Res: Res: Res: [Harbour] bug: msvcarm (MSVC 2008) build error
Message-ID: <43559.34012.qm@web52210.mail.re2.yahoo.com>

i redo my bat, now happens this error 

my bat:
set INCLUDE=E:\Microsoft Visual Studio 9.0\VC\ce\include;%ProgramFiles%\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i
set LIB=E:\Microsoft Visual Studio 9.0\VC\ce\lib\armv4i;%ProgramFiles%\Windows Mobile 5.0 SDK R2\PocketPC\Lib\Armv4i
set PATH=E:\Microsoft Visual Studio 9.0\VC\ce\bin\x86_arm;E:\Microsoft Visual Studio 9.0\Common7\IDE;%PATH%


set MSCV=e:\Microsoft Visual Studio 9.0\VC
set HB_BIN_COMPILE=E:\harbour_cvs\bin\win\msvc
set HB_BUILD_DLL=yes
SET HB_ARCHITECTURE = wce
set HB_COMPILER=msvcarm
set HB_INSTALL_PREFIX=e:\harbour_vcce

SET HB_INC_MYSQL=C:\mysql\include

SET HB_PATH=e:\harbour_vcce

error:

cl.exe -nologo -D_WIN32_WCE=0x501 -DCE_ARCH -DWINCE -D_WINCE -D_WINDOWS -DARM -D
_ARM_ -DARMV4 -D_M_ARM -D_ARMV4I_ -Darmv4i -D__arm__ -D_UNICODE -D_UWIN -DUNDER_
CE -W4 -Od -Os -Gy -GS- -EHsc- -Fe..\..\..\..\..\bin\wce\msvcarm\hbpp.exe hbpp.o
bj  /nologo /link /subsystem:windowsce /nodefaultlib:oldnames.lib /nodefaultlib:
kernel32.lib /manifest:no /libpath:../../../../../lib/wce/msvcarm  hbcommon.lib
hbnortl.lib coredll.lib ws2.lib corelibc.lib
hbpp.obj : error LNK2019: unresolved external symbol hb_xgrab referenced in func
tion hb_pp_initRules
hbpp.obj : error LNK2019: unresolved external symbol hb_xfree referenced in func
tion hb_pp_ruleFree
hbpp.obj : error LNK2019: unresolved external symbol hb_snprintf referenced in f
unction hb_pp_error
hbpp.obj : error LNK2019: unresolved external symbol hb_xrealloc referenced in f
unction hb_membufAddCh
hbpp.obj : error LNK2019: unresolved external symbol hb_strnicmp referenced in f
unction hb_pp_getLine
hbpp.obj : error LNK2019: unresolved external symbol hb_strRemEscSeq referenced
in function hb_pp_getLine
hbpp.obj : error LNK2019: unresolved external symbol hb_szAscii referenced in fu
nction hb_pp_tokenSetValue
hbpp.obj : error LNK2019: unresolved external symbol hb_stricmp referenced in fu
nction hb_pp_tokenValueCmp
hbpp.obj : error LNK2019: unresolved external symbol hb_strdup referenced in fun
ction hb_pp_FileNew
hbpp.obj : error LNK2019: unresolved external symbol hb_fsMaxFilesError referenc
ed in function hb_pp_FileNew
hbpp.obj : error LNK2019: unresolved external symbol hb_fopen referenced in func
tion hb_pp_FileNew
hbpp.obj : error LNK2019: unresolved external symbol hb_fsFNameMerge referenced
in function hb_pp_FileNew
hbpp.obj : error LNK2019: unresolved external symbol hb_fsFNameSplit referenced
in function hb_pp_FileNew
hbpp.obj : error LNK2019: unresolved external symbol hb_strndup referenced in fu
nction hb_pp_pragmaOperatorNew
hbpp.obj : error LNK2019: unresolved external symbol hb_strValInt referenced in
function hb_pp_calcValue
hbpp.obj : error LNK2019: unresolved external symbol hb_fsFreeSearchPath referen
ced in function hb_pp_stateFree
hbpp.obj : error LNK2019: unresolved external symbol hb_fsAddSearchPath referenc
ed in function hb_pp_addSearchPath
hbpp.obj : error LNK2019: unresolved external symbol hb_timeStampStr referenced
in function hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_timeStampGet referenced
in function hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_dateTimeStr referenced i
n function hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_dateStrPut referenced in
 function hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_dateToday referenced in
function hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_strncpy referenced in fu
nction hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_verPlatform referenced i
n function hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_strupr referenced in fun
ction hb_pp_tokenUpper
hbpp.obj : error LNK2019: unresolved external symbol hb_getenv referenced in fun
ction main
hbpp.obj : error LNK2019: unresolved external symbol hb_fsFileExists referenced
in function hb_pp_parseChangelog
hbpp.obj : error LNK2019: unresolved external symbol hb_fsFindClose referenced i
n function hb_fsFileFind
hbpp.obj : error LNK2019: unresolved external symbol hb_fsFindFirst referenced i
n function hb_fsFileFind
hbpp.obj : error LNK2019: unresolved external symbol hb_fsNameConv referenced in
 function hb_fsFileFind
hbpp.obj : error LNK2019: unresolved external symbol hb_wctomb referenced in fun
ction WinMain
..\..\..\..\..\bin\wce\msvcarm\hbpp.exe : fatal error LNK1120: 31 unresolved ext
ernals
mingw32-make[3]: *** [hbpp.exe] Error 2
rm hbpp.obj
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [pp] Error 2
mingw32-make: *** [source] Error 2

Bregards,
Fernando





________________________________
De: Fernando Athayde <fernando_athayde@yahoo.com.br>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Quinta-feira, 20 de Agosto de 2009 8:24:22
Assunto: Res: Res: [Harbour] bug: msvcarm (MSVC 2008) build error


i redo my bat, now happens this error 

my bat:
set INCLUDE=E:\Microsoft Visual Studio 9.0\VC\ce\include;%ProgramFiles%\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i
set LIB=E:\Microsoft Visual Studio 9.0\VC\ce\lib\armv4i;%ProgramFiles%\Windows Mobile 5.0 SDK R2\PocketPC\Lib\Armv4i
set PATH=E:\Microsoft Visual Studio 9.0\VC\ce\bin\x86_arm;E:\Microsoft Visual Studio 8\Common7\IDE;%PATH%


set MSCV=e:\Microsoft Visual Studio 9.0\VC
set HB_BIN_COMPILE=E:\harbour_cvs\bin\win\msvc
set HB_BUILD_DLL=yes
SET HB_ARCHITECTURE = wce
set HB_COMPILER=msvcarm
set HB_INSTALL_PREFIX=e:\harbour_vcce

SET HB_INC_MYSQL=C:\mysql\include

SET HB_PATH=e:\harbour_vcce

error:

cl.exe -nologo -D_WIN32_WCE=0x501 -DCE_ARCH -DWINCE -D_WINCE -D_WINDOWS -DARM -D
_ARM_ -DARMV4 -D_M_ARM -D_ARMV4I_ -Darmv4i -D__arm__ -D_UNICODE -D_UWIN -DUNDER_
CE -W4 -Od -Os -Gy -GS- -EHsc- -Fe..\..\..\..\..\bin\wce\msvcarm\hbpp.exe hbpp.o
bj  /nologo /link /subsystem:windowsce /nodefaultlib:oldnames.lib /nodefaultlib:
kernel32.lib /manifest:no /libpath:../../../../../lib/wce/msvcarm  hbcommon.lib
hbnortl.lib coredll.lib ws2.lib corelibc.lib
hbpp.obj : error LNK2019: unresolved external symbol hb_xgrab referenced in func
tion hb_pp_initRules
hbpp.obj : error LNK2019: unresolved external symbol hb_xfree referenced in func
tion hb_pp_ruleFree
hbpp.obj : error LNK2019: unresolved external symbol hb_snprintf referenced in f
unction hb_pp_error
hbpp.obj : error LNK2019: unresolved external symbol hb_xrealloc referenced in f
unction hb_membufAddCh
hbpp.obj : error LNK2019: unresolved external symbol hb_strnicmp referenced in f
unction hb_pp_getLine
hbpp.obj : error LNK2019: unresolved external symbol hb_strRemEscSeq referenced
in function hb_pp_getLine
hbpp.obj : error LNK2019: unresolved external symbol hb_szAscii referenced in fu
nction hb_pp_tokenSetValue
hbpp.obj : error LNK2019: unresolved external symbol hb_stricmp referenced in fu
nction hb_pp_tokenValueCmp
hbpp.obj : error LNK2019: unresolved external symbol hb_strdup referenced in fun
ction hb_pp_FileNew
hbpp.obj : error LNK2019: unresolved external symbol hb_fsMaxFilesError referenc
ed in function hb_pp_FileNew
hbpp.obj : error LNK2019: unresolved external symbol hb_fopen referenced in func
tion hb_pp_FileNew
hbpp.obj : error LNK2019: unresolved external symbol hb_fsFNameMerge referenced
in function hb_pp_FileNew
hbpp.obj : error LNK2019: unresolved external symbol hb_fsFNameSplit referenced
in function hb_pp_FileNew
hbpp.obj : error LNK2019: unresolved external symbol hb_strndup referenced in fu
nction hb_pp_pragmaOperatorNew
hbpp.obj : error LNK2019: unresolved external symbol hb_strValInt referenced in
function hb_pp_calcValue
hbpp.obj : error LNK2019: unresolved external symbol hb_fsFreeSearchPath referen
ced in function hb_pp_stateFree
hbpp.obj : error LNK2019: unresolved external symbol hb_fsAddSearchPath referenc
ed in function hb_pp_addSearchPath
hbpp.obj : error LNK2019: unresolved external symbol hb_timeStampStr referenced
in function hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_timeStampGet referenced
in function hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_dateTimeStr referenced i
n function hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_dateStrPut referenced in
 function hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_dateToday referenced in
function hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_strncpy referenced in fu
nction hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_verPlatform referenced i
n function hb_pp_initDynDefines
hbpp.obj : error LNK2019: unresolved external symbol hb_strupr referenced in fun
ction hb_pp_tokenUpper
hbpp.obj : error LNK2019: unresolved external symbol hb_getenv referenced in fun
ction main
hbpp.obj : error LNK2019: unresolved external symbol hb_fsFileExists referenced
in function hb_pp_parseChangelog
hbpp.obj : error LNK2019: unresolved external symbol hb_fsFindClose referenced i
n function hb_fsFileFind
hbpp.obj : error LNK2019: unresolved external symbol hb_fsFindFirst referenced i
n function hb_fsFileFind
hbpp.obj : error LNK2019: unresolved external symbol hb_fsNameConv referenced in
 function hb_fsFileFind
hbpp.obj : error LNK2019: unresolved external symbol hb_wctomb referenced in fun
ction WinMain
..\..\..\..\..\bin\wce\msvcarm\hbpp.exe : fatal error LNK1120: 31 unresolved ext
ernals
mingw32-make[3]: *** [hbpp.exe] Error 2
rm hbpp.obj
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [pp] Error 2
mingw32-make: *** [source] Error 2

Bregards,
Fernando




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Quinta-feira, 20 de Agosto de 2009 8:07:18
Assunto: Re: Res: [Harbour] bug: msvcarm (MSVC 2008) build error

I guess you env is still wrongly set and non-ARM cl.exe is use.

Please *do* read INSTALL example and retry.

Brgdd,
Viktor

On 2009.08.20., at 1:01, Fernando Athayde wrote:

> cl.exe -nologo -D_WIN32_WCE=0x501 -DCE_ARCH -DWINCE -D_WINCE -D_WINDOWS -DARM -D
> _ARM_ -DARMV4 -D_M_ARM -D_ARMV4I_ -Darmv4i -D__arm__ -D_UNICODE -D_UWIN -DUNDER_
> CE -W4 -Od -Os -Gy -GS- -EHsc- -Fe..\..\..\..\..\bin\wce\msvcarm\hbpp.exe hbpp.o
> bj  /nologo /link /subsystem:windowsce /nodefaultlib:oldnames.lib /nodefaultlib:
> kernel32.lib /manifest:no /libpath:../../../../../lib/wce/msvcarm  hbcommon.lib
> hbnortl.lib coredll.lib ws2.lib corelibc.lib
> corelibc.lib(crt0dat.obj) : fatal error LNK1112: module machine type 'ARM' confl
> icts with target machine type 'X86'
> mingw32-make[3]: *** [hbpp.exe] Error 2
> rm hbpp.obj
> mingw32-make[2]: *** [descend] Error 2
> mingw32-make[1]: *** [pp] Error 2
> mingw32-make: *** [source] Error 2
> 
> for before message
> process.h there is in E:\Microsoft Visual Studio 9.0\VC\include
> se your SET include
> 
> Thanks
> Fernando
> 
> De: Viktor Szak?ts <harbour.01@syenar.hu>
> Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Enviadas: Quinta-feira, 20 de Agosto de 2009 5:00:25
> Assunto: [Harbour] bug: msvcarm (MSVC 2008) build error
> 
> ../../../../../include\hbthread.h(70) : fatal error C1083: Cannot open
> include file: 'process.h': No such file or directory
> 
> Brgds,
> Viktor
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades - M?sica -Esportes_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

________________________________
Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades - M?sica - Esportes

__________________________________________________
Fale com seus amigos  de gra?a com o novo Yahoo! Messenger 
http://br.messenger.yahoo.com/ 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090820/8d7f6c09/attachment-0001.html
From vszakats at users.sourceforge.net  Thu Aug 20 20:40:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 20:40:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12217] trunk/harbour
Message-ID: <E1MeIAo-0007j2-5C@bj8yhf1.ch3.sourceforge.com>

Revision: 12217
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12217&view=rev
Author:   vszakats
Date:     2009-08-21 00:40:05 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 02:39 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  + config/darwin/icc.mk
  * INSTALL
    + Added make file for Intel compiler for OS X.
      (not tested yet)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL

Added Paths:
-----------
    trunk/harbour/config/darwin/icc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Aug 20 20:42:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 20 20:42:35 2009
Subject: Res: Res: Res: [Harbour] bug: msvcarm (MSVC 2008) build error
In-Reply-To: <43559.34012.qm@web52210.mail.re2.yahoo.com>
References: <43559.34012.qm@web52210.mail.re2.yahoo.com>
Message-ID: <16C66CBF-04B7-4AE4-A1F1-B192B661F757@syenar.hu>

Can't reproduce. Pls do a clean build with a clean source tree.

Brgds,
Viktor

On 2009.08.21., at 2:36, Fernando Athayde wrote:

> i redo my bat, now happens this error
>
> my bat:
> set INCLUDE=E:\Microsoft Visual Studio 9.0\VC\ce\include; 
> %ProgramFiles%\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i
> set LIB=E:\Microsoft Visual Studio 9.0\VC\ce\lib\armv4i;%ProgramFiles 
> %\Windows Mobile 5.0 SDK R2\PocketPC\Lib\Armv4i
> set PATH=E:\Microsoft Visual Studio 9.0\VC\ce\bin\x86_arm;E: 
> \Microsoft Visual Studio 9.0\Common7\IDE;%PATH%
>
>
> set MSCV=e:\Microsoft Visual Studio 9.0\VC
> set HB_BIN_COMPILE=E:\harbour_cvs\bin\win\msvc
> set HB_BUILD_DLL=yes
> SET HB_ARCHITECTURE = wce
> set HB_COMPILER=msvcarm
> set HB_INSTALL_PREFIX=e:\harbour_vcce
>
> SET HB_INC_MYSQL=C:\mysql\include
>
> SET HB_PATH=e:\harbour_vcce
>
> error:
>
> cl.exe -nologo -D_WIN32_WCE=0x501 -DCE_ARCH -DWINCE -D_WINCE - 
> D_WINDOWS -DARM -D
> _ARM_ -DARMV4 -D_M_ARM -D_ARMV4I_ -Darmv4i -D__arm__ -D_UNICODE - 
> D_UWIN -DUNDER_
> CE -W4 -Od -Os -Gy -GS- -EHsc- -Fe..\..\..\..\..\bin\wce\msvcarm 
> \hbpp.exe hbpp.o
> bj  /nologo /link /subsystem:windowsce /nodefaultlib:oldnames.lib / 
> nodefaultlib:
> kernel32.lib /manifest:no /libpath:../../../../../lib/wce/msvcarm   
> hbcommon.lib
> hbnortl.lib coredll.lib ws2.lib corelibc.lib
> hbpp.obj : error LNK2019: unresolved external symbol hb_xgrab  
> referenced in func
> tion hb_pp_initRules
> hbpp.obj : error LNK2019: unresolved external symbol hb_xfree  
> referenced in func
> tion hb_pp_ruleFree
> hbpp.obj : error LNK2019: unresolved external symbol hb_snprintf  
> referenced in f
> unction hb_pp_error
> hbpp.obj : error LNK2019: unresolved external symbol hb_xrealloc  
> referenced in f
> unction hb_membufAddCh
> hbpp.obj : error LNK2019: unresolved external symbol hb_strnicmp  
> referenced in f
> unction hb_pp_getLine
> hbpp.obj : error LNK2019: unresolved external symbol hb_strRemEscSeq  
> referenced
> in function hb_pp_getLine
> hbpp.obj : error LNK2019: unresolved external symbol hb_szAscii  
> referenced in fu
> nction hb_pp_tokenSetValue
> hbpp.obj : error LNK2019: unresolved external symbol hb_stricmp  
> referenced in fu
> nction hb_pp_tokenValueCmp
> hbpp.obj : error LNK2019: unresolved external symbol hb_strdup  
> referenced in fun
> ction hb_pp_FileNew
> hbpp.obj : error LNK2019: unresolved external symbol  
> hb_fsMaxFilesError referenc
> ed in function hb_pp_FileNew
> hbpp.obj : error LNK2019: unresolved external symbol hb_fopen  
> referenced in func
> tion hb_pp_FileNew
> hbpp.obj : error LNK2019: unresolved external symbol hb_fsFNameMerge  
> referenced
> in function hb_pp_FileNew
> hbpp.obj : error LNK2019: unresolved external symbol hb_fsFNameSplit  
> referenced
> in function hb_pp_FileNew
> hbpp.obj : error LNK2019: unresolved external symbol hb_strndup  
> referenced in fu
> nction hb_pp_pragmaOperatorNew
> hbpp.obj : error LNK2019: unresolved external symbol hb_strValInt  
> referenced in
> function hb_pp_calcValue
> hbpp.obj : error LNK2019: unresolved external symbol  
> hb_fsFreeSearchPath referen
> ced in function hb_pp_stateFree
> hbpp.obj : error LNK2019: unresolved external symbol  
> hb_fsAddSearchPath referenc
> ed in function hb_pp_addSearchPath
> hbpp.obj : error LNK2019: unresolved external symbol hb_timeStampStr  
> referenced
> in function hb_pp_initDynDefines
> hbpp.obj : error LNK2019: unresolved external symbol hb_timeStampGet  
> referenced
> in function hb_pp_initDynDefines
> hbpp.obj : error LNK2019: unresolved external symbol hb_dateTimeStr  
> referenced i
> n function hb_pp_initDynDefines
> hbpp.obj : error LNK2019: unresolved external symbol hb_dateStrPut  
> referenced in
>  function hb_pp_initDynDefines
> hbpp.obj : error LNK2019: unresolved external symbol hb_dateToday  
> referenced in
> function hb_pp_initDynDefines
> hbpp.obj : error LNK2019: unresolved external symbol hb_strncpy  
> referenced in fu
> nction hb_pp_initDynDefines
> hbpp.obj : error LNK2019: unresolved external symbol hb_verPlatform  
> referenced i
> n function hb_pp_initDynDefines
> hbpp.obj : error LNK2019: unresolved external symbol hb_strupr  
> referenced in fun
> ction hb_pp_tokenUpper
> hbpp.obj : error LNK2019: unresolved external symbol hb_getenv  
> referenced in fun
> ction main
> hbpp.obj : error LNK2019: unresolved external symbol hb_fsFileExists  
> referenced
> in function hb_pp_parseChangelog
> hbpp.obj : error LNK2019: unresolved external symbol hb_fsFindClose  
> referenced i
> n function hb_fsFileFind
> hbpp.obj : error LNK2019: unresolved external symbol hb_fsFindFirst  
> referenced i
> n function hb_fsFileFind
> hbpp.obj : error LNK2019: unresolved external symbol hb_fsNameConv  
> referenced in
>  function hb_fsFileFind
> hbpp.obj : error LNK2019: unresolved external symbol hb_wctomb  
> referenced in fun
> ction WinMain
> ..\..\..\..\..\bin\wce\msvcarm\hbpp.exe : fatal error LNK1120: 31  
> unresolved ext
> ernals
> mingw32-make[3]: *** [hbpp.exe] Error 2
> rm hbpp.obj
> mingw32-make[2]: *** [descend] Error 2
> mingw32-make[1]: *** [pp] Error 2
> mingw32-make: *** [source] Error 2
>
> Bregards,
> Fernando
>
>
> De: Fernando Athayde <fernando_athayde@yahoo.com.br>
> Para: Harbour Project Main Developer List. <harbour@harbour-project.org 
> >
> Enviadas: Quinta-feira, 20 de Agosto de 2009 8:24:22
> Assunto: Res: Res: [Harbour] bug: msvcarm (MSVC 2008) build error
>
> i redo my bat, now happens this error
>
> my bat:
> set INCLUDE=E:\Microsoft Visual Studio 9.0\VC\ce\include; 
> %ProgramFiles%\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i
> set LIB=E:\Microsoft Visual Studio 9.0\VC\ce\lib\armv4i;%ProgramFiles 
> %\Windows Mobile 5.0 SDK R2\PocketPC\Lib\Armv4i
> set PATH=E:\Microsoft Visual Studio 9.0\VC\ce\bin\x86_arm;E: 
> \Microsoft Visual Studio 8\Common7\IDE;%PATH%
>
>
> set MSCV=e:\Microsoft Visual Studio 9.0\VC
> set HB_BIN_COMPILE=E:\harbour_cvs\bin\win\msvc
> set HB_BUILD_DLL=yes
> SET HB_ARCHITECTURE = wce
> set HB_COMPILER=msvcarm
> set HB_INSTALL_PREFIX=e:\harbour_vcce
>
> SET HB_INC_MYSQL=C:\mysql\include
>
> SET HB_PATH=e:\harbour_vcce
>
> error:
>
> cl.exe -nologo -D_WIN32_WCE=0x501 -DCE_ARCH -DWINCE -D_WINCE - 
> D_WINDOWS -DARM -D
> _ARM_ -DARMV4 -D_M_ARM -D_ARMV4I_ -Darmv4i -D__arm__ -D_UNICODE - 
> D_UWIN -DUNDER_
> CE -W4 -Od -Os -Gy -GS- -EHsc- -Fe..\..\..\..\..\bin\wce\msvcarm 
> \hbpp.exe hbpp.o
> bj  /nologo /link /subsystem:windowsce /nodefaultlib:oldnames.lib / 
> nodefaultlib:
> kernel32.lib /manifest:no /libpath:../../../../../lib/wce/msvcarm   
> hbcommon.lib
> hbnortl.lib coredll.lib ws2.lib corelibc.lib
> hbpp.obj : error LNK2019: unresolved external symbol hb_xgrab  
> referenced in func
> tion hb_pp_initRules
> hbpp.obj : error LNK2019: unresolved external symbol hb_xfree  
> referenced in func
> tion hb_pp_ruleFree
> hbpp.obj : error LNK2019: unresolved external symbol hb_snprintf  
> referenced in f
> unction hb_pp_error
> hbpp.obj : error LNK2019: unresolved external symbol hb_xrealloc  
> referenced in f
> unction hb_membufAddCh
> hbpp.obj : error LNK2019: unresolved external symbol hb_strnicmp  
> referenced in f
> unction hb_pp_getLine
> hbpp.obj : error LNK2019: unresolved external symbol hb_strRemEscSeq  
> referenced
> in function hb_pp_getLine
> hbpp.obj : error LNK2019: unresolved external symbol hb_szAscii  
> referenced in fu
> nction hb_pp_tokenSetValue
> hbpp.obj : error LNK2019: unresolved external symbol hb_stricmp  
> referenced in fu
> nction hb_pp_tokenValueCmp
> hbpp.obj : error LNK2019: unresolved external symbol hb_strdup  
> referenced in fun
> ction hb_pp_FileNew
> hbpp.obj : error LNK2019: unresolved external symbol  
> hb_fsMaxFilesError referenc
> ed in function hb_pp_FileNew
> hbpp.obj : error LNK2019: unresolved external symbol hb_fopen  
> referenced in func
> tion hb_pp_FileNew
> hbpp.obj : error LNK2019: unresolved external symbol hb_fsFNameMerge  
> referenced
> in function hb_pp_FileNew
> hbpp.obj : error LNK2019: unresolved external symbol hb_fsFNameSplit  
> referenced
> in function hb_pp_FileNew
> hbpp.obj : error LNK2019: unresolved external symbol hb_strndup  
> referenced in fu
> nction hb_pp_pragmaOperatorNew
> hbpp.obj : error LNK2019: unresolved external symbol hb_strValInt  
> referenced in
> function hb_pp_calcValue
> hbpp.obj : error LNK2019: unresolved external symbol  
> hb_fsFreeSearchPath referen
> ced in function hb_pp_stateFree
> hbpp.obj : error LNK2019: unresolved external symbol  
> hb_fsAddSearchPath referenc
> ed in function hb_pp_addSearchPath
> hbpp.obj : error LNK2019: unresolved external symbol hb_timeStampStr  
> referenced
> in function hb_pp_initDynDefines
> hbpp.obj : error LNK2019: unresolved external symbol hb_timeStampGet  
> referenced
> in function hb_pp_initDynDefines
> hbpp.obj : error LNK2019: unresolved external symbol hb_dateTimeStr  
> referenced i
> n function hb_pp_initDynDefines
> hbpp.obj : error LNK2019: unresolved external symbol hb_dateStrPut  
> referenced in
>  function hb_pp_initDynDefines
> hbpp.obj : error LNK2019: unresolved external symbol hb_dateToday  
> referenced in
> function hb_pp_initDynDefines
> hbpp.obj : error LNK2019: unresolved external symbol hb_strncpy  
> referenced in fu
> nction hb_pp_initDynDefines
> hbpp.obj : error LNK2019: unresolved external symbol hb_verPlatform  
> referenced i
> n function hb_pp_initDynDefines
> hbpp.obj : error LNK2019: unresolved external symbol hb_strupr  
> referenced in fun
> ction hb_pp_tokenUpper
> hbpp.obj : error LNK2019: unresolved external symbol hb_getenv  
> referenced in fun
> ction main
> hbpp.obj : error LNK2019: unresolved external symbol hb_fsFileExists  
> referenced
> in function hb_pp_parseChangelog
> hbpp.obj : error LNK2019: unresolved external symbol hb_fsFindClose  
> referenced i
> n function hb_fsFileFind
> hbpp.obj : error LNK2019: unresolved external symbol hb_fsFindFirst  
> referenced i
> n function hb_fsFileFind
> hbpp.obj : error LNK2019: unresolved external symbol hb_fsNameConv  
> referenced in
>  function hb_fsFileFind
> hbpp.obj : error LNK2019: unresolved external symbol hb_wctomb  
> referenced in fun
> ction WinMain
> ..\..\..\..\..\bin\wce\msvcarm\hbpp.exe : fatal error LNK1120: 31  
> unresolved ext
> ernals
> mingw32-make[3]: *** [hbpp.exe] Error 2
> rm hbpp.obj
> mingw32-make[2]: *** [descend] Error 2
> mingw32-make[1]: *** [pp] Error 2
> mingw32-make: *** [source] Error 2
>
> Bregards,
> Fernando
>
> De: Viktor Szak?ts <harbour.01@syenar.hu>
> Para: Harbour Project Main Developer List. <harbour@harbour-project.org 
> >
> Enviadas: Quinta-feira, 20 de Agosto de 2009 8:07:18
> Assunto: Re: Res: [Harbour] bug: msvcarm (MSVC 2008) build error
>
> I guess you env is still wrongly set and non-ARM cl.exe is use.
>
> Please *do* read INSTALL example and retry.
>
> Brgdd,
> Viktor
>
> On 2009.08.20., at 1:01, Fernando Athayde wrote:
>
> > cl.exe -nologo -D_WIN32_WCE=0x501 -DCE_ARCH -DWINCE -D_WINCE - 
> D_WINDOWS -DARM -D
> > _ARM_ -DARMV4 -D_M_ARM -D_ARMV4I_ -Darmv4i -D__arm__ -D_UNICODE - 
> D_UWIN -DUNDER_
> > CE -W4 -Od -Os -Gy -GS- -EHsc- -Fe..\..\..\..\..\bin\wce\msvcarm 
> \hbpp.exe hbpp.o
> > bj  /nologo /link /subsystem:windowsce /nodefaultlib:oldnames.lib / 
> nodefaultlib:
> > kernel32.lib /manifest:no /libpath:../../../../../lib/wce/msvcarm   
> hbcommon.lib
> > hbnortl.lib coredll.lib ws2.lib corelibc.lib
> > corelibc.lib(crt0dat.obj) : fatal error LNK1112: module machine  
> type 'ARM' confl
> > icts with target machine type 'X86'
> > mingw32-make[3]: *** [hbpp.exe] Error 2
> > rm hbpp.obj
> > mingw32-make[2]: *** [descend] Error 2
> > mingw32-make[1]: *** [pp] Error 2
> > mingw32-make: *** [source] Error 2
> >
> > for before message
> > process.h there is in E:\Microsoft Visual Studio 9.0\VC\include
> > se your SET include
> >
> > Thanks
> > Fernando
> >
> > De: Viktor Szak?ts <harbour.01@syenar.hu>
> > Para: Harbour Project Main Developer List. <harbour@harbour-project.org 
> >
> > Enviadas: Quinta-feira, 20 de Agosto de 2009 5:00:25
> > Assunto: [Harbour] bug: msvcarm (MSVC 2008) build error
> >
> > ../../../../../include\hbthread.h(70) : fatal error C1083: Cannot  
> open
> > include file: 'process.h': No such file or directory
> >
> > Brgds,
> > Viktor
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> > Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10  
> - Celebridades - M?sica - 
> Esportes_______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 -  
> Celebridades- M?sica - Esportes
>
> __________________________________________________
> Fale com seus amigos de gra?a com o novo Yahoo! Messenger
> http://br.messenger.yahoo.com/  
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Thu Aug 20 21:03:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 20 21:03:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12218] trunk/harbour
Message-ID: <E1MeIXn-0008Bf-3m@bj8yhf1.ch3.sourceforge.com>

Revision: 12218
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12218&view=rev
Author:   vszakats
Date:     2009-08-21 01:03:50 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 02:57 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    * Improvement in msvc/wce support to support multiple WinCE
      CPUs.
    ! Fixed to add '/manifest:no' only for 8.00 or upper msvcarm
      compilers.

  * config/wce/msvcarm.mk
    * Minor improvements.
    + Added preliminary support for MIPS/SH/x86 WinCE build settings.

  * source/vm/maindllp.c
    + Added MIPS and SH .dll names.

  * include/hbsetup.h
  * source/common/hbver.c
    * HB_CPU_SUPERH -> HB_CPU_SH

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/include/hbsetup.h
    trunk/harbour/source/common/hbver.c
    trunk/harbour/source/vm/maindllp.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Aug 20 21:11:43 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Aug 20 21:11:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12219] trunk/harbour
Message-ID: <E1MeIfP-00025S-1B@d5vjzd1.ch3.sourceforge.com>

Revision: 12219
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12219&view=rev
Author:   vouchcac
Date:     2009-08-21 01:11:38 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-20 18:08 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpbrowse.prg
    + Implemented ::setLeftFrozen( aColumns ) and ::setRightFrozen( aColumns )

  * contrib/hbxbp/tests/demoxbp.prg
    + Demonstrated the frozen columns feature.

  ; TODO: Finetune horizontal navigation with respect to frozen columns.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Aug 20 21:56:36 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Aug 20 21:56:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12220] trunk/harbour
Message-ID: <E1MeJMq-00010b-3N@dn4whf1.ch3.sourceforge.com>

Revision: 12220
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12220&view=rev
Author:   vouchcac
Date:     2009-08-21 01:56:35 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-20 18:55 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpbrowse.prg
    ! Synchronized horizontal navigation with respect to frozen columns.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Fri Aug 21 00:25:14 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Aug 21 00:25:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12221] trunk/harbour
Message-ID: <E1MeLgg-0003od-Ht@bj8yhf1.ch3.sourceforge.com>

Revision: 12221
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12221&view=rev
Author:   vouchcac
Date:     2009-08-21 04:25:13 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-20 21:21 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpbrowse.prg
    ! More synchronized horizontal navigation with respect to frozen columns - mouse clicks.
    ! Focus maintained on main grid view if mouse is clicked on other parts 
      of the browser and scrollbars.

      /* Your input about artifacts is appreciated */

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Aug 21 02:38:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug 21 02:38:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12221] trunk/harbour
In-Reply-To: <E1MeLgg-0003od-Ht@bj8yhf1.ch3.sourceforge.com>
References: <E1MeLgg-0003od-Ht@bj8yhf1.ch3.sourceforge.com>
Message-ID: <7B4ADB38-D8E9-4443-9D02-F72AD14E231E@syenar.hu>

Hi Pritpal,

I maintain my prev report that the footer is one pixel off
to the left compared to the columns. (at lest on win platform).

Now under the frozen column the footer is also smaller in size,
so there is a little gap on the right.

Brgds,
Viktor

On 2009.08.21., at 6:25, vouchcac@users.sourceforge.net wrote:

> Revision: 12221
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12221&view=rev
> Author:   vouchcac
> Date:     2009-08-21 04:25:13 +0000 (Fri, 21 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-20 21:21 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbxbp/xbpbrowse.prg
>    ! More synchronized horizontal navigation with respect to frozen  
> columns - mouse clicks.
>    ! Focus maintained on main grid view if mouse is clicked on other  
> parts
>      of the browser and scrollbars.
>
>      /* Your input about artifacts is appreciated */
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From guy.roussin at teledetection.fr  Fri Aug 21 03:09:19 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Fri Aug 21 03:09:27 2009
Subject: [Harbour] Changing install prefix in linux ?
In-Reply-To: <133778360908201639n23efb19ci8e0e85578d59b152@mail.gmail.com>
References: <133778360908201005q278d0adamf5dcd3aab1700dbd@mail.gmail.com>	<4A8DC0E3.5030904@teledetection.fr>
	<133778360908201639n23efb19ci8e0e85578d59b152@mail.gmail.com>
Message-ID: <4A8E481F.6050403@teledetection.fr>

Hi Bruno,

>
> In previous versions of Harbour I make the change because
> harbour package from ubuntu repositories install in /usr and not in 
> /usr/local
Yes harbour package from ubuntu install in /usr ... fine.

>
> Now I have a mess in my machine , I am triyng to delete manually
> the old executables , library and include directories , to use the 
> newest version
>
When you install the new version of harbour (you build yourself) with 
dpkg -i,
the old version package will be automaticly removed.

You can also remove the old version :
$ sudo aptitude remove harbour

> Linux use first /usr

No, you can change $PATH, $LD_LIBRARY_PATH, $LD_INCLUDE_PATH
export PATH=/usr/local/bin:$PATH
export LD_LIBRARY_PATH=/usr/local/lib/harbour

...

even /etc/ld.so.conf (ldconfig) is read before /usr/lib

>
> anyway something is wrong , because if I compile in dinamyc , the 
> executable give me an
> error , that not found the harbour shared library, in static compiles ok
>
> I don't know now what is better
Sorry i can't help you here. Give the logs to the list ...

Guy

From sscc at mweb.co.za  Fri Aug 21 03:21:53 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Aug 21 03:22:04 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <20090820234010.GA17613@uran.home.aster.pl>
References: <m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>	<4A8CEE55.7090800@mweb.co.za>
	<25057035.post@talk.nabble.com>	<4A8CF8A2.8040709@mweb.co.za>
	<25057994.post@talk.nabble.com>	<4A8D124C.8020506@mweb.co.za>	<20090820111852.GA7617@uran.home.aster.pl>	<4A8D391A.5060008@mweb.co.za>	<20090820145836.GA4209@uran.home.aster.pl>	<4A8D6D60.2020702@mweb.co.za>
	<20090820234010.GA17613@uran.home.aster.pl>
Message-ID: <4A8E4B11.5000401@mweb.co.za>

Przemyslaw Czerpak wrote:

>>> The only one thing I can help here are technical problems in
>>> implementation so I've just look closer at axcore.c and I have
>>> to say that for me few things are seriously broken.
>> I really appreciate your willingness to do this for Windows code. It is not 
>> critical for me as I can live with what works in HWGUI, but that does not 
>> help to move things forward.
> 
> I still think you did not understand what I said but I hope that I begin
> to understand what you are asking for saying about multiple events.

Which part have I misunderstood? I simply thanked you for looking at this code 
which has nothing to do with *nix.

> You did not ask about activex functionality but about current activex
> implementation in HWGUI where you have to declare separate codeblocks or
> function references for each event.

I could not see how it worked in Harbour as opposed to HWGUI, there are no 
examples and the COM code is pretty tough to understand.

> It's not necessary in core Harbour code which uses only single handler
> for all events. Sorry that it took such long time but it was really hard
> to guess that you are asking about functionality present in one of Harbour
> 3-rd party library not sth general for Ole/Activex API. I'm not familiar
> with this code.

I'm sorry to not be more clear. To confirm your deductions, I have code like this:

CLASS BPTI FROM HActiveX

     METHOD terminalDSPEvent(p1, p2, p3, p4) ;
             INLINE ::Event("terminalDSPEvent", p1, p2, p3, p4)
     METHOD infoEvent(p1, p2, p3, p4) ;
             INLINE ::Event("infoEvent", p1, p2, p3, p4)
     METHOD exceptionEvent(p1, p2, p3, p4) ;
             INLINE ::Event("exceptionEvent", p1, p2, p3, p4)
     METHOD Event()
...

//
// The event numbers are taken from the Type Library - ICoBpTiEvents
//

METHOD New(oWnd, cProgId, nTop, nLeft, nWidth, nHeight) CLASS BPTI

     ::EventMap(1, "terminalDSPEvent", self)
     ::EventMap(2, "infoEvent", self)
     ::EventMap(3, "exceptionEvent", self)

return Super:New(oWnd, cProgId, nTop, nLeft, nWidth, nHeight)


METHOD Event(cEvent, p2, p3, p4, p5) CLASS BPTI

...

With Harbour I guess I would simpy have:

METHOD Event(...) CLASS BPTI

> In such case for your infornation: current Harbour code has probably
> serious bugs but it's nothing worser then current HWGUI implementation
> because we are talking about areas not addressed by HWGUI at all
> (automatic destructors). You can use current Harbour actives implementation
> to replace HWGUI code with one exception. Harbour does not support
> parameters passed by reference and HWGUI does. It's important only if you
> use parameters passed by reference in your event handlers.

I do not use parameters passed by reference.

> I'll try to add
> such functionality and fix autodestructor code but final tuning/extension
> I will want to leave for real MS-Windows programers/users.

Thank you.

Regards
Alex

From M.Horodyski at pzuzycie.com.pl  Fri Aug 21 03:40:57 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Aug 21 03:41:05 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <4AC5199E-B074-4AAE-9C89-17CDB67139EC@syenar.hu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719E65@PINK.zycie.pzu>

>-----Original Message-----
>From: Viktor Szak=A8=A2ts [mailto:harbour.01@syenar.hu]=20
>Sent: Thursday, August 20, 2009 6:34 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Plugins in hbqts library

...

>> When and where is this lib : lhbqts created.
>
>It's create by Harbour build process, when HB_QT_STATIC is set=20
>to 'yes'. For some reason though the lib is not built,=20
>probably because HB_INC_QT is not set properly. Check your=20
>Harbour build log.
>
>Brgds,
>Viktor


Hm. My set in work environment :

C:\harbour\lib\win\mingw>set hb
HB_COMPILER=3Dmingw
HB_INC_QT=3DC:\Qt\include
HB_QT_STATIC=3Dyes
Path=3DC:\gcc\mingw\bin;C:\harbour\bin;C:\orant\BIN;C:\instantclient\ODBC=
;C:\BATCH;C:\ExeCom;C:\Windows\System32;

In home :

HB_COMPILER=3Dmingw
HB_INC_QT=3DD:\Qt\include
HB_INSTALL_PREFIX=3DD:\harbour
HB_QT_STATIC=3Dyes
Path=3Dd:\gcc\mingw\bin;d:\harbour\bin;D:\BATCH;D:\ExeCom;c:\Windows\Syst=
em32;

In log file I see :

=A8U 464=A9=A6D:/harbour/config/mingw32-make -C hbqt clean
=A8U 465=A9=A6Detected host platform: win
=A8U 466=A9=A6Detected host executable extension: .exe
=A8U 467=A9=A6mingw32-make[2]: Entering directory =
`D:/harbour/contrib/hbqt'
=A8U 468=A9=A6"The 'hbqt' library ignored."
=A8U 469=A9=A6mingw32-make[2]: Leaving directory =
`D:/harbour/contrib/hbqt'

Here and here qtlibs are not created. Harbour environment :

C:\harbour\bin>harbour.exe    =20
Harbour 2.0.0beta2 (Rev. 12131)

>From the past week. I will from todays nigtzipfile from scratch.

Regards,
Marek Horodyski
From M.Horodyski at pzuzycie.com.pl  Fri Aug 21 03:47:03 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Aug 21 03:47:13 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <133778360908200958n3ced699bpac6d29ca5b6c6888@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719E67@PINK.zycie.pzu>

 


________________________________

	From: Bruno Luciani [mailto:bruno.luciani@gmail.com] 
	Sent: Thursday, August 20, 2009 6:59 PM
	To: Harbour Project Main Developer List.
	Subject: Re: [Harbour] Plugins in hbqts library
	
	
	Marek 
	
	Do you build static QT libraries  first ?
	
	Bruno
	 

Yes :
 
??[2]??????????????????? C:\Qt\4.5.2 ?????????????????????????
?               Name                ?  Size   ?  Date  ?Time 

?..                                 ?<UP--DIR>?20-08-09?13:39?
?bin                                ?<SUB-DIR>?20-08-09?12:03?
?demos                              ?<SUB-DIR>?20-08-09?11:41?
?doc                                ?<SUB-DIR>?20-08-09?11:41?
?examples                           ?<SUB-DIR>?20-08-09?11:46?
?include                            ?<SUB-DIR>?20-08-09?11:39?
?lib                                ?<SUB-DIR>?20-08-09?12:01?
?mkspecs                            ?<SUB-DIR>?20-08-09?12:03?
?plugins                            ?<SUB-DIR>?20-08-09?11:39?
?qmake                              ?<SUB-DIR>?20-08-09?11:54?
?src                                ?<SUB-DIR>?20-08-09?11:54?
?tools                              ?<SUB-DIR>?20-08-09?11:59?
?translations                       ?<SUB-DIR>?20-08-09?12:01?
?.commit-template                   ?      334?20-06-09?07:01?
?.LICENSE-ALLOS                     ?    28316?20-06-09?07:01?
?.LICENSE-ALLOS-US                  ?    30044?20-06-09?07:01?
?.LICENSE-DESKTOP                   ?    26943?20-06-09?07:01?
?.LICENSE-DESKTOP-US                ?    28688?20-06-09?07:01?
?.LICENSE-EMBEDDED                  ?    25287?20-06-09?07:01?
?.LICENSE-EMBEDDED-US               ?    27032?20-06-09?07:01?
?.LICENSE-EVALUATION                ?    14358?20-06-09?07:01?
?.LICENSE-EVALUATION-US             ?    15245?20-06-09?07:01?
?.qmake                        cache?     1169?20-08-09?12:01?
?.tag                               ?       70?20-06-09?07:02?
?changes-4.5                       2?    15204?20-06-09?07:01?
?configure                       exe?   856064?20-06-09?07:01?
?FAQ                             txt?     1125?20-06-09?07:01?
?index                          html?        0?20-08-09?13:39?
?install                            ?     2684?20-06-09?07:01?
?LGPL_EXCEPTION                  txt?      544?20-06-09?07:01?
?LICENSE                        GPL3?    36941?20-06-09?07:01?
?LICENSE                        LGPL?    26940?20-06-09?07:01?
?projects                        pro?     5304?20-06-09?07:01?
?Qt OpenSource                   url?       47?20-08-09?12:03?
?readme                             ?     4170?20-06-09?07:01?
?uninst                          exe?   560561?20-08-09?12:03?

Oh - I see : HB_INC_QT=C:\Qt\include != \Qt\4.5.2\include :)
 
Regards,
Marek Horodyski
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090821/32e5a41b/attachment.html
From harbour.01 at syenar.hu  Fri Aug 21 03:49:41 2009
From: harbour.01 at syenar.hu (=?GB2312?Q?Viktor_Szak=A8=A2ts?=)
Date: Fri Aug 21 03:49:49 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719E65@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719E65@PINK.zycie.pzu>
Message-ID: <7DAFA5D9-21E1-46FF-8078-FF3D9FBBCB4E@syenar.hu>

If you have HB_INC_QT set, but the lib still doesn't build, you have
HB_INC_QT set incorrectly.

Please note the default location of this dir is different for
static and normal builds of QT.

Brgds,
Viktor

On 2009.08.21., at 9:40, Horodyski Marek (PZUZ) wrote:

>> -----Original Message-----
>> From: Viktor Szak=A8=A2ts [mailto:harbour.01@syenar.hu]
>> Sent: Thursday, August 20, 2009 6:34 PM
>> To: Harbour Project Main Developer List.
>> Subject: Re: [Harbour] Plugins in hbqts library
>
> ...
>
>>> When and where is this lib : lhbqts created.
>>
>> It's create by Harbour build process, when HB_QT_STATIC is set
>> to 'yes'. For some reason though the lib is not built,
>> probably because HB_INC_QT is not set properly. Check your
>> Harbour build log.
>>
>> Brgds,
>> Viktor
>
>
> Hm. My set in work environment :
>
> C:\harbour\lib\win\mingw>set hb
> HB_COMPILER=3Dmingw
> HB_INC_QT=3DC:\Qt\include
> HB_QT_STATIC=3Dyes
> Path=3DC:\gcc\mingw\bin;C:\harbour\bin;C:\orant\BIN;C:\instantclient=20=

> \ODBC;C:\BATCH;C:\ExeCom;C:\Windows\System32;
>
> In home :
>
> HB_COMPILER=3Dmingw
> HB_INC_QT=3DD:\Qt\include
> HB_INSTALL_PREFIX=3DD:\harbour
> HB_QT_STATIC=3Dyes
> Path=3Dd:\gcc\mingw\bin;d:\harbour\bin;D:\BATCH;D:\ExeCom;c:\Windows=20=

> \System32;
>
> In log file I see :
>
> =A8U 464=A9=A6D:/harbour/config/mingw32-make -C hbqt clean
> =A8U 465=A9=A6Detected host platform: win
> =A8U 466=A9=A6Detected host executable extension: .exe
> =A8U 467=A9=A6mingw32-make[2]: Entering directory =
`D:/harbour/contrib/hbqt'
> =A8U 468=A9=A6"The 'hbqt' library ignored."
> =A8U 469=A9=A6mingw32-make[2]: Leaving directory =
`D:/harbour/contrib/hbqt'
>
> Here and here qtlibs are not created. Harbour environment :
>
> C:\harbour\bin>harbour.exe
> Harbour 2.0.0beta2 (Rev. 12131)
>
>> =46rom the past week. I will from todays nigtzipfile from scratch.
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Fri Aug 21 04:58:57 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 04:59:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12222] trunk/harbour
Message-ID: <E1MePxZ-00016k-1y@bj8yhf1.ch3.sourceforge.com>

Revision: 12222
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12222&view=rev
Author:   vszakats
Date:     2009-08-21 08:58:55 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 10:54 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/pp/Makefile
  * bin/hb-mkdyn.bat
    + Deleting hbpp dynamic built object to not interfere with
      harbour dll creation when picking up the objects with wildcard.
    * Changed .dll creation script to not filter out above object
      explicitly, it's not needed anymore.

  * source/vm/mainwin.c
  * source/vm/mainstd.c
  * bin/hb-mkdyn.bat
    + Added hack to exclude any content when creating dynamic build
      objects for win/watcom. Any content here breaks .dll creation
      on this target.
    * Changed .dll creation script to not filter out above objects
      explicitly, it's not needed anymore.

  * config/global.mk
    % Changed CPU detection to use $(filter)
    + Added CPU detection based on wce compilers.
    + Showing detected host and target CPU architecture in log
      (if it could be detected - this is currently only implemented
      for non-*nix targets)
    - Deleted host binary extension display in verbose mode.
    - Deleted now unused HB_BUILD_VERBOSE option.

  * config/global.mk
    + Added HB_DYN_VER variable to hold the version number used in Harbour
      dynamic libary name.

  * config/bsd/global.mk
  * config/darwin/global.mk
  * config/hpux/global.mk
  * config/linux/global.mk
  * config/os2/global.mk
  * config/sunos/global.mk
  * config/wce/global.mk
  * config/win/global.mk
    + Added DYN_EXT variables for each platform.

  * source/Makefile
  * config/rules.mk
  + config/dyn.mk
  + source/dynlib
  + source/dynlib/mt
  + source/dynlib/mt/Makefile
  + source/dynlib/Makefile
  * config/win/msvc.mk
    + Added experimental .dll building feature to the GNU Make system.
      It's only implemented for MSVC yet.
      The goal is to replace shell specific (postinst) solutions.

  * utils/hbmk2/hbmk2.prg
    + Added darwin/icc support. Untested yet.

  * source/vm/maindllp.c
    ! Fixed typo in prev commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.bat
    trunk/harbour/config/bsd/global.mk
    trunk/harbour/config/darwin/global.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/hpux/global.mk
    trunk/harbour/config/linux/global.mk
    trunk/harbour/config/os2/global.mk
    trunk/harbour/config/rules.mk
    trunk/harbour/config/sunos/global.mk
    trunk/harbour/config/wce/global.mk
    trunk/harbour/config/win/global.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/source/Makefile
    trunk/harbour/source/pp/Makefile
    trunk/harbour/source/vm/maindllp.c
    trunk/harbour/source/vm/mainstd.c
    trunk/harbour/source/vm/mainwin.c
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/config/dyn.mk
    trunk/harbour/source/dynlib/
    trunk/harbour/source/dynlib/Makefile
    trunk/harbour/source/dynlib/mt/
    trunk/harbour/source/dynlib/mt/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vatzct at polly.com.ua  Fri Aug 21 05:17:24 2009
From: vatzct at polly.com.ua (vatzct)
Date: Fri Aug 21 05:17:30 2009
Subject: [Harbour] error 87 while building harbour
Message-ID: <4A8E6624.7090102@polly.com.ua>

! MAKE: mingw32-make 3.81 install  sh.exe
! HB_INSTALL_PREFIX: c:\dev\harbour_bcc\
! HB_HOST_ARCH: win (x86)  HB_SHELL: nt
! HB_ARCHITECTURE: win (x86) (autodetected)
! HB_COMPILER: bcc (autodetected)
...
 ..\..\..\..\..\source\vm\obj\win\bcc\memvclip_dyn.obj 
..\..\..\..\..\source\vm\obj\win\bcc\pcount_dyn.obj 
..\..\..\..\..\source\vm\obj\win\bcc\proc_dyn.obj 
..\..\..\..\..\source\vm\obj\win\bcc\pvalue_dyn.obj 
..\..\..\..\..\source\vm\obj\win\bcc\runner_dyn.obj 
..\..\..\..\..\source\vm\obj\win\bcc\set_dyn.obj 
..\..\..\..\..\source\vm\obj\win\bcc\thread_dyn.obj 
..\..\..\..\..\source\vm\obj\win\bcc\vm_dyn.obj, ...) failed.
make (e=87): ???????? ????? ???????.

mingw32-make[3]: *** [harbour-20-bcc.dll] Error 87
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [dynlib.inst] Error 2
mingw32-make: *** [source.inst] Error 2



Regards,
Alexey Myronenko
From M.Horodyski at pzuzycie.com.pl  Fri Aug 21 05:24:01 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Aug 21 05:24:09 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <7DAFA5D9-21E1-46FF-8078-FF3D9FBBCB4E@syenar.hu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719EAE@PINK.zycie.pzu>

>-----Original Message-----
>From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
>Sent: Friday, August 21, 2009 9:50 AM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Plugins in hbqts library
>
>If you have HB_INC_QT set, but the lib still doesn't build, 
>you have HB_INC_QT set incorrectly.
>
>Please note the default location of this dir is different for 
>static and normal builds of QT.

My fault.

C:\harbour\lib\win\mingw>dir *QT*
 Wolumin w stacji C nie ma etykiety.
 Numer seryjny woluminu: 04BB-A718

 Katalog: C:\harbour\lib\win\mingw

2009-08-21  10:41         3?636?282 libhbqts.a
               1 plik(?w)       3?636?282 bajt?w

Excuse for Turning heads. These are my first tests with QT.

Regards,
Marek Horodyski
From vszakats at users.sourceforge.net  Fri Aug 21 05:30:25 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 05:30:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12223] trunk/harbour
Message-ID: <E1MeQS1-0002qu-Rc@d5vjzd1.ch3.sourceforge.com>

Revision: 12223
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12223&view=rev
Author:   vszakats
Date:     2009-08-21 09:30:24 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 11:29 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/dynlib/Makefile
  * source/Makefile
  * config/rules.mk
  * config/dyn.mk
    + Respect HB_BUILD_DLL=no setting.
    * Don't try to create .dll if there were no compiler local rules set.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dyn.mk
    trunk/harbour/config/rules.mk
    trunk/harbour/source/Makefile
    trunk/harbour/source/dynlib/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From M.Horodyski at pzuzycie.com.pl  Fri Aug 21 05:37:16 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Aug 21 05:37:28 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <7DAFA5D9-21E1-46FF-8078-FF3D9FBBCB4E@syenar.hu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719EB3@PINK.zycie.pzu>

>-----Original Message-----
>From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
>Sent: Friday, August 21, 2009 9:50 AM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Plugins in hbqts library
>
>If you have HB_INC_QT set, but the lib still doesn't build, 
>you have HB_INC_QT set incorrectly.
>
>Please note the default location of this dir is different for 
>static and normal builds of QT.

But now I have another message :

C:\harbour\contrib\hbxbp\tests>hbmk2 demoxbp
hbmk: Processing local make script: hbmk.hbm
hbmk: Processing configuration: C:\harbour\bin\hbmk.cfg
Harbour 2.0.0beta2 (Rev. 12131)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'demoxbp.prg'...
demoxbp.prg(551) Warning W0004  Codeblock parameter 'MP2' declared but not used in function 'BUILD_CHECKBOX'

[... 25 similar lines]

demoxbp.prg(1240) Warning W0004  Codeblock parameter 'E' declared but not used in function 'BUILD_FILEDIALOG'
Lines 3200, Functions/Procedures 48
Generating C source output to 'demoxbp.c'... Done.
c:/gcc/mingw/bin/../lib/gcc/mingw32/4.4.0/../../../../mingw32/bin/ld.exe: cannot find -lQtCore
collect2: ld returned 1 exit status
hbmk: Error: Running linker. 1
gcc.exe demoxbp.o hbmk_an3mb4.o    -mwindows -lhbxbp -lhbqts -lversion -lshlwapi -lQtCore -lQtGui -lQtNetwork -lQtWebKit -lsu
pc++ -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbusrrd
d -lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt -lhbuddall -lrddnsx -lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre
 -lhbzlib -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshell32 -lole32 -loleaut32 -luui
d -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32  -odemoxbp.exe -LC:/harbour/lib/win/mingw -LC:/harbour/lib -L/lib


My environment set :
C:\harbour\contrib\hbxbp\tests>set hb
HB_COMPILER=mingw
HB_INC_QT=C:\Qt\4.5.2\include
HB_QT_STATIC=yes

I donn't know what difference are between static and normal builds. 
Is QtCore a .dll in C:\Qt\4.5.2\bin\QtCore4.dll ?
Maybe I should not use the static, but normal build ?

Regards,
Marek Horodyski
From harbour.01 at syenar.hu  Fri Aug 21 05:43:28 2009
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug 21 05:43:36 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719EB3@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719EB3@PINK.zycie.pzu>
Message-ID: <1590030B-48B8-4ECF-B60F-41B1A72BE432@syenar.hu>

I've posted the right settings for both GNU and hbmk2 yesterday to
this very list.

It seems no one is reading my messages, so I will simply give it up.

Sometimes it's enough to look into .hbc file in question to find
out the answer.

The warnings are result of demo code I can't do anything about it,
in the beginning I tried to suppress them but gave up too.

Brgds,
Viktor

On 2009.08.21., at 11:37, Horodyski Marek (PZUZ) wrote:

>> -----Original Message-----
>> From: Viktor Szak?ts [mailto:harbour.01@syenar.hu]
>> Sent: Friday, August 21, 2009 9:50 AM
>> To: Harbour Project Main Developer List.
>> Subject: Re: [Harbour] Plugins in hbqts library
>>
>> If you have HB_INC_QT set, but the lib still doesn't build,
>> you have HB_INC_QT set incorrectly.
>>
>> Please note the default location of this dir is different for
>> static and normal builds of QT.
>
> But now I have another message :
>
> C:\harbour\contrib\hbxbp\tests>hbmk2 demoxbp
> hbmk: Processing local make script: hbmk.hbm
> hbmk: Processing configuration: C:\harbour\bin\hbmk.cfg
> Harbour 2.0.0beta2 (Rev. 12131)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'demoxbp.prg'...
> demoxbp.prg(551) Warning W0004  Codeblock parameter 'MP2' declared  
> but not used in function 'BUILD_CHECKBOX'
>
> [... 25 similar lines]
>
> demoxbp.prg(1240) Warning W0004  Codeblock parameter 'E' declared  
> but not used in function 'BUILD_FILEDIALOG'
> Lines 3200, Functions/Procedures 48
> Generating C source output to 'demoxbp.c'... Done.
> c:/gcc/mingw/bin/../lib/gcc/mingw32/4.4.0/../../../../mingw32/bin/ 
> ld.exe: cannot find -lQtCore
> collect2: ld returned 1 exit status
> hbmk: Error: Running linker. 1
> gcc.exe demoxbp.o hbmk_an3mb4.o    -mwindows -lhbxbp -lhbqts - 
> lversion -lshlwapi -lQtCore -lQtGui -lQtNetwork -lQtWebKit -lsu
> pc++ -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi - 
> lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbusrrd
> d -lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt -lhbuddall -lrddnsx - 
> lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre
> -lhbzlib -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool - 
> lcomctl32 -lcomdlg32 -lshell32 -lole32 -loleaut32 -luui
> d -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32  -odemoxbp.exe -LC:/ 
> harbour/lib/win/mingw -LC:/harbour/lib -L/lib
>
>
> My environment set :
> C:\harbour\contrib\hbxbp\tests>set hb
> HB_COMPILER=mingw
> HB_INC_QT=C:\Qt\4.5.2\include
> HB_QT_STATIC=yes
>
> I donn't know what difference are between static and normal builds.
> Is QtCore a .dll in C:\Qt\4.5.2\bin\QtCore4.dll ?
> Maybe I should not use the static, but normal build ?
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Fri Aug 21 06:46:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 06:46:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12224] trunk/harbour
Message-ID: <E1MeRdN-0005i9-UW@dn4whf1.ch3.sourceforge.com>

Revision: 12224
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12224&view=rev
Author:   vszakats
Date:     2009-08-21 10:46:11 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 12:46 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/Makefile
    ! Fixed typo in prev commit.

  * config/global.mk
  * config/wce/poccarm.mk
  * config/wce/msvcarm.mk
  * config/win/xcc.mk
  * config/win/mingw.mk
  * config/win/pocc.mk
  * config/win/bcc.mk
  * config/win/watcom.mk
  * config/win/icc.mk
  * config/win/msvc.mk
  * config/dyn.mk
  * config/rules.mk
    + Added OBJ_DYN_POSTFIX variable instead of hardcoded '_dyn'.

  * config/global.mk
  * config/dyn.mk
    + Added DYN_DIR. Set to LIB_DIR for *nix, BIN_DIR for non-*nix.

  * config/globsh.mk
    + Added dynamic lib dir/file related dir creation and cleanup rules.

  * config/win/mingw.mk
  * config/wce/mingwarm.mk
    + Added space between -o and output filename.
      (this should probably be made default)

  * config/win/mingw.mk
    + Added .dll build rules.

  * config/win/bcc.mk
    % Using $(wildcard) instead of echo trick to delete __lib__.tmp.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dyn.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/globsh.mk
    trunk/harbour/config/rules.mk
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/config/win/icc.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/config/win/pocc.mk
    trunk/harbour/config/win/watcom.mk
    trunk/harbour/config/win/xcc.mk
    trunk/harbour/source/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug 21 06:48:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 06:48:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12225] trunk/harbour
Message-ID: <E1MeRfC-0005mw-Q6@dn4whf1.ch3.sourceforge.com>

Revision: 12225
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12225&view=rev
Author:   vszakats
Date:     2009-08-21 10:48:05 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 12:48 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/win/mingw.mk
  * config/win/msvc.mk
  * config/rules.mk
    ! BIN_DIR -> DYN_DIR

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/rules.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/config/win/msvc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fernando_athayde at yahoo.com.br  Fri Aug 21 07:02:24 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Fri Aug 21 07:02:31 2009
Subject: [Harbour] bug: msvcarm (MSVC 2008) build error
In-Reply-To: <16C66CBF-04B7-4AE4-A1F1-B192B661F757@syenar.hu>
References: <43559.34012.qm@web52210.mail.re2.yahoo.com>
	<16C66CBF-04B7-4AE4-A1F1-B192B661F757@syenar.hu>
Message-ID: <184857.5609.qm@web52206.mail.re2.yahoo.com>

yes almost right gywvc problem

! MAKE: E:/harbour_cvs/config/mingw32-make 3.81   sh.exe
! HB_INSTALL_PREFIX: e:\harbour_vcce
! HB_BUILD_DLL: yes
! HB_HOST_ARCH: win  HB_SHELL: nt (xp)
! HB_ARCHITECTURE: wce (autodetected)
! HB_COMPILER: msvcarm
cl.exe 
-I. -I../../../../../../include -nologo -D_WIN32_WCE=0x501 -DCE_ARCH
-DWINCE -D_WINCE -D_WINDOWS -DARM -D_ARM_ -DARMV4 -D_M_ARM -D_ARMV4I_
-Darmv4i -D__arm__ -D_UNICODE -D_UWIN -DUNDER_CE -W4 -Od -Os -Gy -GS-
-EHsc- -DUNICODE   -Fogtwvt.obj -c ../../../gtwvt.c
gtwvt.c
C:\Program Files\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i\winnt.h(384): warning C4201: nonstandard extension used : nameless struct/union
C:\Program
Files\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i\winnt.h(403):
warning C4201: nonstandard extension used : nameless struct/union
C:\Program
Files\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i\winnt.h(1478) :
warning C4214: nonstandard extension used : bit field types other than
int
C:\Program Files\Windows Mobile 5.0 SDK
R2\PocketPC\Include\Armv4i\winnt.h(1479) : warning C4214: nonstandard
extension used : bit field types other than int
C:\Program
Files\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i\winnt.h(1480) :
warning C4214: nonstandard extension used : bit field types other than
int
C:\Program Files\Windows Mobile 5.0 SDK
R2\PocketPC\Include\Armv4i\winnt.h(1481) : warning C4214: nonstandard
extension used : bit field types other than int
C:\Program
Files\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i\winnt.h(1482) :
warning C4214: nonstandard extension used : bit field types other than
int
C:\Program Files\Windows Mobile 5.0 SDK
R2\PocketPC\Include\Armv4i\winnt.h(1483) : warning C4214: nonstandard
extension used : bit field types other than int
C:\Program Files\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i\winnt.h(1484)
 : warning C4214: nonstandard extension used : bit field types other than int
C:\Program Files\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i\winnt.h(1485)
 : warning C4214: nonstandard extension used : bit field types other than int
C:\Program Files\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i\winnt.h(1486)
 : warning C4214: nonstandard extension used : bit field types other than int
C:\Program Files\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i\winnt.h(1487)
 : warning C4214: nonstandard extension used : bit field types other than int
C:\Program Files\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i\winnt.h(4191)
 : warning C4201: nonstandard extension used : nameless struct/union
C:\Program Files\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i\winnt.h(4474)
 : warning C4201: nonstandard extension used : nameless struct/union
C:\Program Files\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i\winnt.h(4478)
 : warning C4201: nonstandard extension used : nameless struct/union
C:\Program Files\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i\winnt.h(4689)
C:\Program Files\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i\oaidl.h(6771)
 : warning C4201: nonstandard extension used : nameless struct/union
../../../gtwvt.c(739) : error C2065: 'WS_OVERLAPPEDWINDOW' : undeclared identifi
er
../../../gtwvt.c(1696) : error C2065: 'WS_OVERLAPPEDWINDOW' : undeclared identif
ier
../../../gtwvt.c(1818) : error C2065: 'WS_OVERLAPPEDWINDOW' : undeclared identif
ier
../../../gtwvt.c(1818) : error C2065: 'WS_OVERLAPPEDWINDOW' : undeclared identif
ier
../../../gtwvt.c(2539) : error C2065: 'WS_OVERLAPPEDWINDOW' : undeclared identif
ier
../../../gtwvt.c(2539) : error C2065: 'WS_OVERLAPPEDWINDOW' : undeclared identif
ier
../../../gtwvt.c(2761) : warning C4127: conditional expression is constant
../../../gtwvt.c(2766) : warning C4127: conditional expression is constant
../../../gtwvt.c(2771) : warning C4127: conditional expression is constant
../../../gtwvt.c(2776) : warning C4127: conditional expression is constant
../../../gtwvt.c(2789) : warning C4127: conditional expression is constant
../../../gtwvt.c(2793) : warning C4127: conditional expression is constant
../../../gtwvt.c(2798) : warning C4127: conditional expression is constant
../../../gtwvt.c(2802) : warning C4127: conditional expression is constant
../../../gtwvt.c(2807) : warning C4127: conditional expression is constant
../../../gtwvt.c(2811) : warning C4127: conditional expression is constant
../../../gtwvt.c(2816) : warning C4127: conditional expression is constant
../../../gtwvt.c(2820) : warning C4127: conditional expression is constant
../../../gtwvt.c(2825) : warning C4127: conditional expression is constant
../../../gtwvt.c(2829) : warning C4127: conditional expression is constant
../../../gtwvt.c(2834) : warning C4127: conditional expression is constant
../../../gtwvt.c(2838) : warning C4127: conditional expression is constant
../../../gtwvt.c(2843) : warning C4127: conditional expression is constant
../../../gtwvt.c(2847) : warning C4127: conditional expression is constant
mingw32-make[4]: *** [gtwvt.obj] Error 2
mingw32-make[3]: *** [descend] Error 2
mingw32-make[2]: *** [gtwvt] Error 2
mingw32-make[1]: *** [rtl] Error 2
mingw32-make: *** [source] Error 2

Brgds,
Fernando


      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090821/1b0c5c08/attachment-0001.html
From druzus at users.sourceforge.net  Fri Aug 21 07:35:12 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Aug 21 07:35:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12226] trunk/harbour
Message-ID: <E1MeSOm-0001aS-PW@3kljzd1.ch3.sourceforge.com>

Revision: 12226
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12226&view=rev
Author:   druzus
Date:     2009-08-21 11:35:11 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 13:34 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    ! do not strip system libraries in windows shared linking - unused
      ones are not attached to harbour*.dll

  * harbour/contrib/hbwin/hbwinole.h
  * harbour/contrib/hbwin/olecore.c
    + added support to pass strings with embedded chr(0) characters
    + added new public C function:
         IDispatch* hb_oleItemGet( PHB_ITEM pItem );
      it extracts IDispatch* pointer from Harbour OLE pointer item.
    + added new public C function:
         void       hb_oleVariantUpdate( VARIANT* pVariant, PHB_ITEM pItem );
      it updates pVariant structure using values from given pointer item
      (used to update parameter passed by reference to activex event handler)
    % optimized some code

  * harbour/contrib/hbwin/hbwinole.h
  * harbour/contrib/hbwin/axcore.c
    + added new public C function:
         BOOL       hb_oleAxInit( void );
    + added new public C function:
         PHB_ITEM hb_oleAxControlNew( PHB_ITEM pItem, HWND hWnd );
      It's C function with the same functionality as __AXGETCONTROL()
    ! allocate ISink structure using hb_xgrab() not hb_gcAlloc()
    ! initialize ISink reference counter to 0
    ! fixed Release() method to free all allocated resources when
      reference counter reach 0
    * return new Active-X control as Harbour OLE item pointer.
      Warning !!! hb_parptr() and hb_itemGetPtr() do not return valid
      pointer for controls created by hb_oleAxControlNew()/__AXGETCONTROL()
      Use hb_oleItemGet() and hb_oleParam() to extract pointer to IDispatch
      Please update existing code which used __AXGETCONTROL() pointers
      at C level.
    - removed not longer used hb_sink_destructor
    ! removed WIN_AXRELEASEOBJECT() - this function breaks reference counters
      used by OLE object which needs strict updating to avoid memory leaks
      (not freed OLE object) or GPF traps (accessing freed object)
    + extended Invoke() method to update OLE parameters passed by reference.
    + accept as event handler hash arrays indexed by event numbers and
      values with codeblocks or function pointers. Similar functionality
      exists in HWGUI when it's compiled with __USEHASHEVENTS macro and
      it's much better then passing two arrays.
    % optimized some code

    Please test above Active-X modifications. I'm not MS-Windows user so
    they have to be verified by real MS-Windows developers.
    They should fix problems with memory leaks (OLE objects where never
    freed) or GPF traps in C code which tired to strictly manage reference
    counters.
    To C programmers: if you increase reference counter to activex control
    (AddRef()) then you have to release it (Release()) or activex control
    will never be freed even after clearing all .prg references. It's
    released only when last reference owner calls Release() method so now
    valid code can keep references to IDispatch at C level without any
    problem but it also means that this code can exploit problems in
    existing wrong code.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/contrib/hbwin/axcore.c
    trunk/harbour/contrib/hbwin/hbwinole.h
    trunk/harbour/contrib/hbwin/olecore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug 21 07:39:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 07:39:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12227] trunk/harbour
Message-ID: <E1MeSSY-0007Af-9k@dn4whf1.ch3.sourceforge.com>

Revision: 12227
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12227&view=rev
Author:   vszakats
Date:     2009-08-21 11:39:05 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 13:34 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/win/bcc.mk
  * config/win/watcom.mk
    + Added new .dll build rules.
    ; TODO: Solve handling of generated implib.
    ; TODO: Add dynlib generation logic for *nix targets.
    ; TODO: Delete postinst script if the new method turns out to 
            work alright.

  * config/win/cygwin.mk
  * config/win/icc.mk
  * config/win/xcc.mk
  * config/win/pocc.mk
  * config/wce/mingwarm.mk
  * config/wce/poccarm.mk
  * config/wce/msvcarm.mk
    + Implemented .dll creation for rest of win/wce compilers:
        icc uses the same logic as msvc.
        pocc/poccarm/msvcarm/xcc uses the same logic as msvc
          except /subsystem option.
        mingwarm/cygwin uses the same logic as mingw.
    ; I didn't test wce ones yet.

  * config/win/msvc.mk
    % Using $(wildcard) instead of echo trick to delete __lib__.tmp.

  * config/win/mingw.mk
  * config/win/msvc.mk
    * Moved HB_USER_DFLAGS in cmdline.

  * config/win/watcom.mk
  * config/dos/watcom.mk
  * config/linux/watcom.mk
  * config/os2/watcom.mk
    + Added 'OP quiet' option to wlink command.

  * source/pp/Makefile
    ! Using OBJ_DYN_POSTFIX instead of hardwired value.

  * source/vm/mainwin.c
  * source/vm/mainstd.c
    ! Typo in prev commit regarding watcom/dynlib hack.

  * source/rtl/gtwvt/gtwvt.c
    ! Fix for msvcarm build, where WS_OVERLAPPEDWINDOW macro
      is reported missing.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/config/linux/watcom.mk
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/config/win/cygwin.mk
    trunk/harbour/config/win/icc.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/config/win/pocc.mk
    trunk/harbour/config/win/watcom.mk
    trunk/harbour/config/win/xcc.mk
    trunk/harbour/source/pp/Makefile
    trunk/harbour/source/rtl/gtwvt/gtwvt.c
    trunk/harbour/source/vm/mainstd.c
    trunk/harbour/source/vm/mainwin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug 21 07:47:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 07:47:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12228] trunk/harbour
Message-ID: <E1MeSaI-0007NU-VA@dn4whf1.ch3.sourceforge.com>

Revision: 12228
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12228&view=rev
Author:   vszakats
Date:     2009-08-21 11:47:05 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 13:46 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/os2/gcc.mk
    % Using $(wildcard) instead of echo trick to delete target lib.
      Please test. I don't have access to OS/2.
    ; 'if exist' and 'if not exist' are now only used from 
      globsh.mk nt and os2 shell sections.
    ; TOFIX: $(COMSPEC) still in OS/2 section. Test results would be 
             welcome without it.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/os2/gcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Aug 21 07:49:48 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 21 07:49:54 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <4A8E4B11.5000401@mweb.co.za>
References: <25057035.post@talk.nabble.com> <4A8CF8A2.8040709@mweb.co.za>
	<25057994.post@talk.nabble.com> <4A8D124C.8020506@mweb.co.za>
	<20090820111852.GA7617@uran.home.aster.pl>
	<4A8D391A.5060008@mweb.co.za>
	<20090820145836.GA4209@uran.home.aster.pl>
	<4A8D6D60.2020702@mweb.co.za>
	<20090820234010.GA17613@uran.home.aster.pl>
	<4A8E4B11.5000401@mweb.co.za>
Message-ID: <20090821114948.GA11993@uran.home.aster.pl>

On Fri, 21 Aug 2009, Alex Strickland wrote:

Hi,

> I'm sorry to not be more clear. To confirm your deductions, I have code like this:
> CLASS BPTI FROM HActiveX
>     METHOD terminalDSPEvent(p1, p2, p3, p4) ;
>             INLINE ::Event("terminalDSPEvent", p1, p2, p3, p4)
>     METHOD infoEvent(p1, p2, p3, p4) ;
>             INLINE ::Event("infoEvent", p1, p2, p3, p4)
>     METHOD exceptionEvent(p1, p2, p3, p4) ;
>             INLINE ::Event("exceptionEvent", p1, p2, p3, p4)
>     METHOD Event()
> ...
> //
> // The event numbers are taken from the Type Library - ICoBpTiEvents
> //
> METHOD New(oWnd, cProgId, nTop, nLeft, nWidth, nHeight) CLASS BPTI
>
>     ::EventMap(1, "terminalDSPEvent", self)
>     ::EventMap(2, "infoEvent", self)
>     ::EventMap(3, "exceptionEvent", self)
>
> return Super:New(oWnd, cProgId, nTop, nLeft, nWidth, nHeight)
> METHOD Event(cEvent, p2, p3, p4, p5) CLASS BPTI
> ...
> With Harbour I guess I would simpy have:
> METHOD Event(...) CLASS BPTI

In Harbour user event handler receives as 1-st parameter event number
and then ole parameters. So above functionality can be easy implemented
as:

   oAx := WIN_AxGetControl( hWnd, ;
                            {|event,...| myEventHandler( obj, event, ... ) } )

   function myEventHandler( obj, event, ... )
      switch( event )
         case 1:
            return obj:terminalDSPEvent( ... )
         case 2:
            return obj:infoEvent( ... )
         case 3:
            return obj:exceptionEvent( ... )
      endswitch
   return NIL

best regards,
Przemek
From M.Horodyski at pzuzycie.com.pl  Fri Aug 21 07:59:09 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Aug 21 07:59:18 2009
Subject: [Harbour] Plugins in hbqts library
In-Reply-To: <1590030B-48B8-4ECF-B60F-41B1A72BE432@syenar.hu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502719F3D@PINK.zycie.pzu>

>-----Original Message-----
>From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
>Sent: Friday, August 21, 2009 11:43 AM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Plugins in hbqts library
>
>I've posted the right settings for both GNU and hbmk2 
>yesterday to this very list.
>
>It seems no one is reading my messages, so I will simply give it up.
>
>Sometimes it's enough to look into .hbc file in question to 
>find out the answer.
>
>The warnings are result of demo code I can't do anything about 
>it, in the beginning I tried to suppress them but gave up too.

This allows for the creation of a library (C:\harbour\lib\win\mingw\libhbqts.a),
but the target test application does not continue to create.

Regards,
Marek Horodyski
From vszakats at users.sourceforge.net  Fri Aug 21 07:59:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 07:59:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12229] trunk/harbour
Message-ID: <E1MeSmU-0007i1-6R@dn4whf1.ch3.sourceforge.com>

Revision: 12229
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12229&view=rev
Author:   vszakats
Date:     2009-08-21 11:59:41 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 13:59 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
  * INSTALL
    + Added HB_DYN_INSTALL envvar. This will tell where to copy
      Harbour dynamic libraries. By default it's set to HB_LIB_INSTALL
      for *nix targets and HB_BIN_INSTALL for non-*nix targets.

  * bin/postinst.bat
  - bin/hb-mkdyn.bat
    - Deleted batch script to create .dlls. Now done from GNU Make
      system. This means it work on all shells we support, not just
      nt ones.
    ; TOFIX: Delete win-based gcc family support from hb-mkdyn.sh, 
             now it's redundant.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/postinst.bat
    trunk/harbour/config/global.mk

Removed Paths:
-------------
    trunk/harbour/bin/hb-mkdyn.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From kadziola at tlen.pl  Fri Aug 21 08:11:59 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Fri Aug 21 08:12:09 2009
Subject: [Harbour] OLE in WINCE
Message-ID: <1871917516.20090821141159@tlen.pl>

Hi,

Maybe my question is stupid but : is any chance to use OLE functions in
WinCE ?
When i try compile testole.prg from /contribs/hbwin/tests i get :

$ hbmk2 testole
hbmk: Processing local make script: hbmk.hbm                                     
hbmk: Processing configuration: J:\MSYS\1.0\hb-mingw\bin\hbmk.cfg                
Harbour 2.0.0beta2 (Rev. 12131)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'testole.prg'...
Lines 429, Functions/Procedures 12
Generating C source output to 'testole.c'... Done.
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0xf0): undefined reference to `VariantClear'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x1ec): undefined reference to `VariantClear'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x260): undefined reference to `SafeArrayCreate'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x2a4): undefined reference to `VariantInit'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x2d8): undefined reference to `SafeArrayPutElement'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x2e0): undefined reference to `VariantClear'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x3ec): undefined reference to `SysAllocString'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x5b0): undefined reference to `VariantInit'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x5ec): undefined reference to `VariantInit'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x7dc): undefined reference to `SafeArrayGetDim'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x7fc): undefined reference to `SafeArrayGetLBound'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x80c): undefined reference to `SafeArrayGetUBound'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x834): undefined reference to `VariantInit'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x854): undefined reference to `SafeArrayGetElement'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x87c): undefined reference to `VariantClear'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x9f4): undefined reference to `VarR8FromDec'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0xa20): undefined reference to `VarR8FromCy'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0xd38): undefined reference to `VariantInit'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0xd78): undefined reference to `VariantClear'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x1180): undefined reference to `VariantInit'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x1230): undefined reference to `VariantClear'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x1268): undefined reference to `VariantClear'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x14b4): undefined reference to `VariantInit'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x155c): undefined reference to `VariantClear'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x1684): undefined reference to `GetActiveObject'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(oleinit.o):oleinit.c:(.text+0x14): undefined reference to `OleInitialize'
J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(oleinit.o):oleinit.c:(.text+0x50): undefined reference to `OleUninitialize'
collect2: ld returned 1 exit status
hbmk: Error: Running linker. 1                                                   
"J:/MSYS/1.0/opt/mingw32ce/bin/\arm-wince-mingw32ce-gcc.exe" testole.o hbmk_36ceuq.o    -lhbwin -lsms -lCellCore -lhbextern
-lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwvt -lgtgui -lhbrdd -lhbusrrdd -lhbhsx -lhbsix
-lrddntx -lrddcdx -lrddfpt -lhbuddall -lrddnsx -lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib -lws2
-luuid -lole32 -lwininet -lcommdlg -lcommctrl  -otestole.exe -L"J:/MSYS/1.0/hb-mingwarm/lib"

Is any other way to get excel file in WinCE using harbour?


-- 
Regards,

Jaroslaw Kadziola

From vszakats at users.sourceforge.net  Fri Aug 21 08:15:20 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 08:15:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12230] trunk/harbour
Message-ID: <E1MeT1c-00089s-PJ@dn4whf1.ch3.sourceforge.com>

Revision: 12230
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12230&view=rev
Author:   vszakats
Date:     2009-08-21 12:15:19 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 14:15 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/dynlib/Makefile
  * source/Makefile
    + Moved dynamic lib generation initialization logic to source 
      root Makefile. This ensures that all subdirs are built before
      creating the dynamic libraries.

  * config/globsh.mk
    + Added rules to delete .def files.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.mk
    trunk/harbour/source/Makefile
    trunk/harbour/source/dynlib/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Aug 21 08:16:10 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 08:16:18 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <1871917516.20090821141159@tlen.pl>
References: <1871917516.20090821141159@tlen.pl>
Message-ID: <18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>

You should try recent SVN, I've added some long time missing wce syslibs
to our make systems.

Brgds,
Viktor

On Fri, Aug 21, 2009 at 2:11 PM, Jaroslaw Kadziola<kadziola@tlen.pl> wrote:
> Hi,
>
> Maybe my question is stupid but : is any chance to use OLE functions in
> WinCE ?
> When i try compile testole.prg from /contribs/hbwin/tests i get :
>
> $ hbmk2 testole
> hbmk: Processing local make script: hbmk.hbm
> hbmk: Processing configuration: J:\MSYS\1.0\hb-mingw\bin\hbmk.cfg
> Harbour 2.0.0beta2 (Rev. 12131)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'testole.prg'...
> Lines 429, Functions/Procedures 12
> Generating C source output to 'testole.c'... Done.
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0xf0): undefined reference to `VariantClear'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x1ec): undefined reference to `VariantClear'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x260): undefined reference to `SafeArrayCreate'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x2a4): undefined reference to `VariantInit'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x2d8): undefined reference to `SafeArrayPutElement'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x2e0): undefined reference to `VariantClear'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x3ec): undefined reference to `SysAllocString'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x5b0): undefined reference to `VariantInit'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x5ec): undefined reference to `VariantInit'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x7dc): undefined reference to `SafeArrayGetDim'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x7fc): undefined reference to `SafeArrayGetLBound'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x80c): undefined reference to `SafeArrayGetUBound'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x834): undefined reference to `VariantInit'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x854): undefined reference to `SafeArrayGetElement'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x87c): undefined reference to `VariantClear'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x9f4): undefined reference to `VarR8FromDec'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0xa20): undefined reference to `VarR8FromCy'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0xd38): undefined reference to `VariantInit'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0xd78): undefined reference to `VariantClear'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x1180): undefined reference to `VariantInit'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x1230): undefined reference to `VariantClear'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x1268): undefined reference to `VariantClear'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x14b4): undefined reference to `VariantInit'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x155c): undefined reference to `VariantClear'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x1684): undefined reference to `GetActiveObject'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(oleinit.o):oleinit.c:(.text+0x14): undefined reference to `OleInitialize'
> J:/MSYS/1.0/hb-mingwarm/lib/libhbwin.a(oleinit.o):oleinit.c:(.text+0x50): undefined reference to `OleUninitialize'
> collect2: ld returned 1 exit status
> hbmk: Error: Running linker. 1
> "J:/MSYS/1.0/opt/mingw32ce/bin/\arm-wince-mingw32ce-gcc.exe" testole.o hbmk_36ceuq.o ? ?-lhbwin -lsms -lCellCore -lhbextern
> -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwvt -lgtgui -lhbrdd -lhbusrrdd -lhbhsx -lhbsix
> -lrddntx -lrddcdx -lrddfpt -lhbuddall -lrddnsx -lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib -lws2
> -luuid -lole32 -lwininet -lcommdlg -lcommctrl ?-otestole.exe -L"J:/MSYS/1.0/hb-mingwarm/lib"
>
> Is any other way to get excel file in WinCE using harbour?
>
>
> --
> Regards,
>
> Jaroslaw Kadziola
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From fernando_athayde at yahoo.com.br  Fri Aug 21 08:18:32 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Fri Aug 21 08:18:37 2009
Subject: [Harbour] msvc winCE and fcntl.h
Message-ID: <64968.32199.qm@web52209.mail.re2.yahoo.com>

there isn't fcntl.h for winCe and msvc

e:\harbour_cvs\source\vm\dlmalloc.c(1188) : fatal error C1083: Cannot open include file: 'fcntl.h': No such file or directory
mingw32-make[3]: *** [hvmall.obj] Error 2
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [vm] Error 2
mingw32-make: *** [source] Error 2

using msvc 2008
wce

Brgds,
Fernando


__________________________________________________
Fale com seus amigos  de gra?a com o novo Yahoo! Messenger 
http://br.messenger.yahoo.com/ 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090821/a4a24251/attachment.html
From kadziola at tlen.pl  Fri Aug 21 08:30:28 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Fri Aug 21 08:30:37 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
Message-ID: <411007996.20090821143028@tlen.pl>

Hi,


VS>I've added some long time missing wce syslibs
VS> to our make systems.

When ? My WinCE build is after last nightly.zip


-- 
Regards,
 Jaroslaw Kadziola

From harbour.01 at syenar.hu  Fri Aug 21 08:36:19 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 08:36:26 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <411007996.20090821143028@tlen.pl>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
Message-ID: <18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>

Yesterday. Check ChangeLog.

On Fri, Aug 21, 2009 at 2:30 PM, Jaroslaw Kadziola<kadziola@tlen.pl> wrote:
> Hi,
>
>
> VS>I've added some long time missing wce syslibs
> VS> to our make systems.
>
> When ? My WinCE build is after last nightly.zip
>
>
> --
> Regards,
> ?Jaroslaw Kadziola
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From druzus at users.sourceforge.net  Fri Aug 21 08:41:21 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Aug 21 08:41:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12231] trunk/harbour
Message-ID: <E1MeTQn-0006BZ-1J@bj8yhf1.ch3.sourceforge.com>

Revision: 12231
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12231&view=rev
Author:   druzus
Date:     2009-08-21 12:41:20 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 14:41 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    * added oleaut32 to default linked library list

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vatzct at polly.com.ua  Fri Aug 21 08:55:03 2009
From: vatzct at polly.com.ua (vatzct)
Date: Fri Aug 21 08:55:10 2009
Subject: [Harbour] Fatal: Unable to open file 'HARBOUR-20-BCC.LIB'...
Message-ID: <4A8E9927.6060502@polly.com.ua>

! MAKE: mingw32-make 3.81 install  sh.exe
! HB_INSTALL_PREFIX: c:\dev\harbour_bcc\
! HB_HOST_ARCH: win (x86)  HB_SHELL: nt
! HB_ARCHITECTURE: win (x86) (autodetected)
! HB_COMPILER: bcc (autodetected)
...
.\bin\postinst.bat
! Generating c:\dev\harbour_bcc\\bin\hbmk.cfg...
! Making shared version of Harbour binaries...
Borland Resource Compiler  Version 5.40
Copyright (c) 1990, 1999 Inprise Corporation.  All rights reserved.
hbrun.c:
Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
Fatal: Unable to open file 'HARBOUR-20-BCC.LIB'
hbmk: Error: Running linker. 2
ilink32.exe @d:\tmp\1q6bqk.lnk
hbmk: Created .hbl file 'c:\dev\harbour_bcc\\bin\hbmk2.%{hb_lng}.hbl' for
      language(s): hu_HU,pt_BR
hbmk2.c:
Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
Fatal: Unable to open file 'HARBOURMT-20-BCC.LIB'
hbmk: Error: Running linker. 2
ilink32.exe @d:\tmp\05rvv9.lnk
hbtest.c:
rt_array.c:
rt_date.c:
rt_file.c:
rt_hvm.c:
rt_hvma.c:
rt_math.c:
rt_misc.c:
rt_mt.c:
rt_str.c:
rt_stra.c:
rt_trans.c:
rt_class.c:
C:\dev\harbour_svn\bin\..\utils\hbtest\rt_miscc.c:
Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
Fatal: Unable to open file 'HARBOUR-20-BCC.LIB'
hbmk: Error: Running linker. 2
ilink32.exe @d:\tmp\l68uog.lnk
hbi18n.c:
Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
Fatal: Unable to open file 'HARBOUR-20-BCC.LIB'
hbmk: Error: Running linker. 2
ilink32.exe @d:\tmp\8u71o9.lnk
hbformat.c:
C:\dev\harbour_svn\bin\..\utils\hbformat\hbformac.c:
Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
Fatal: Unable to open file 'HARBOUR-20-BCC.LIB'
hbmk: Error: Running linker. 2
ilink32.exe @d:\tmp\5yddta.lnk
! Making hbrun with application icon...
Borland Resource Compiler  Version 5.40
Copyright (c) 1990, 1999 Inprise Corporation.  All rights reserved.
hbrun.c:
Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland


Regards,
Alexey Myronenko
From kadziola at tlen.pl  Fri Aug 21 09:28:25 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Fri Aug 21 09:28:31 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
Message-ID: <14464984.20090821152825@tlen.pl>

Hi!

> Yesterday. Check ChangeLog.
>>
>> When ? My WinCE build is after last nightly.zip

So they must be inside latest nightly. isn't it?

Regards,
Jaroslaw Kadziola


From vszakats at users.sourceforge.net  Fri Aug 21 09:28:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 09:28:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12232] trunk/harbour
Message-ID: <E1MeUAN-0000do-8v@c3vjzd1.ch3.sourceforge.com>

Revision: 12232
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12232&view=rev
Author:   vszakats
Date:     2009-08-21 13:28:26 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 15:16 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/globsh.mk
    % Replaced 'if not exist' nt and os2 shell cmds with $(wildcard).
    % Using plain (non OS converted) variables in $(wildcard) calls
      in dos clean rules.
    % Deleted 'if not exist' os2 shell cmds from dirbase rules.
      Since we're using GNU tools this isn't necessary, errors will
      not be shown if the dir already exists. This makes these rules
      similar to dos ones.
    ! Fixed to not use OS converted parameters with $(RDP) calls with
      os2 shell. I can't test, but last information from OS/2 users
      was that OS/2 GNU Tools expect *nix style path seps.
    * Synced os2 shell clean rules with DOS ones, except using
      *nix style parameters in GNU cmds.

  * config/instsh.mk
    % Replaced 'if not exist' nt and os2 shell cmds with $(wildcard).
      In nt I've added a trick to make it work with dirs containing
      spaces.

  ; After these changes no more 'if [not] exist' shell specific
    commands are used in Harbour GNU Make system.
  ; TOFIX: Except sh shell. Probably the rules there can be synced now 
           with other shells and special bash logic dropped.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.mk
    trunk/harbour/config/instsh.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug 21 09:31:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 09:31:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12233] trunk/harbour
Message-ID: <E1MeUCz-0000hX-93@c3vjzd1.ch3.sourceforge.com>

Revision: 12233
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12233&view=rev
Author:   vszakats
Date:     2009-08-21 13:31:08 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 15:32 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/instsh.mk
    % Fixed to use $(CP) instead of 'copy' in nt install rule.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/instsh.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Fri Aug 21 09:33:04 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Aug 21 09:33:14 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <20090821114948.GA11993@uran.home.aster.pl>
References: <25057035.post@talk.nabble.com>
	<4A8CF8A2.8040709@mweb.co.za>	<25057994.post@talk.nabble.com>
	<4A8D124C.8020506@mweb.co.za>	<20090820111852.GA7617@uran.home.aster.pl>	<4A8D391A.5060008@mweb.co.za>	<20090820145836.GA4209@uran.home.aster.pl>	<4A8D6D60.2020702@mweb.co.za>	<20090820234010.GA17613@uran.home.aster.pl>	<4A8E4B11.5000401@mweb.co.za>
	<20090821114948.GA11993@uran.home.aster.pl>
Message-ID: <4A8EA210.7020802@mweb.co.za>

Przemyslaw Czerpak wrote:

> In Harbour user event handler receives as 1-st parameter event number
> and then ole parameters. So above functionality can be easy implemented
> as:
> 
>    oAx := WIN_AxGetControl( hWnd, ;
>                             {|event,...| myEventHandler( obj, event, ... ) } )
> 
>    function myEventHandler( obj, event, ... )
>       switch( event )
>          case 1:
>             return obj:terminalDSPEvent( ... )
>          case 2:
>             return obj:infoEvent( ... )
>          case 3:
>             return obj:exceptionEvent( ... )
>       endswitch
>    return NIL

Awesome. Thank you. I think this is the last step for many people to allow 
*reliable and safe* access to many 3rd party ActiveX controls in Windows.

Regards
Alex

From harbour.01 at syenar.hu  Fri Aug 21 09:33:51 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 09:33:57 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <14464984.20090821152825@tlen.pl>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
	<14464984.20090821152825@tlen.pl>
Message-ID: <18d502870908210633u8f1ff68q21820584fe53a123@mail.gmail.com>

Sorry, I have no idea at exactly which time the nightly is created in
my time zone,
I also can't remember at exactly which time of day this commit was made.

I suggest using the SVN server directly.


On Fri, Aug 21, 2009 at 3:28 PM, Jaroslaw Kadziola<kadziola@tlen.pl> wrote:
> Hi!
>
>> Yesterday. Check ChangeLog.
>>>
>>> When ? My WinCE build is after last nightly.zip
>
> So they must be inside latest nightly. isn't it?
>
> Regards,
> Jaroslaw Kadziola
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From kadziola at tlen.pl  Fri Aug 21 09:41:31 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Fri Aug 21 09:41:39 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <18d502870908210633u8f1ff68q21820584fe53a123@mail.gmail.com>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
	<14464984.20090821152825@tlen.pl>
	<18d502870908210633u8f1ff68q21820584fe53a123@mail.gmail.com>
Message-ID: <102527320.20090821154131@tlen.pl>


> Sorry, I have no idea at exactly which time the nightly is created in
> my time zone,
> I also can't remember at exactly which time of day this commit was made.

> I suggest using the SVN server directly.

Ok. thanks for Your big tolerance !



-- 
Regards,
Jaroslaw Kadziola


From fernando_athayde at yahoo.com.br  Fri Aug 21 09:43:55 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Fri Aug 21 09:44:01 2009
Subject: Res: [Harbour] msvc winCE and fcntl.h
In-Reply-To: <64968.32199.qm@web52209.mail.re2.yahoo.com>
References: <64968.32199.qm@web52209.mail.re2.yahoo.com>
Message-ID: <917839.79032.qm@web52206.mail.re2.yahoo.com>

i change the dlmalloc.c
#if !defined( HB_OS_WIN_CE )
#include <fcntl.h>
#endif /* !defined( HB_OS_WIN_CE ) */

then appears this error now in maindllh.c
../../../../maindllh.c(70) : error C2375: 'DllMain' : redefinition; different li
nkage
        C:\Program Files\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i\winba
se.h(313) : see declaration of 'DllMain'
mingw32-make[4]: *** [maindllh.obj] Error 2
mingw32-make[3]: *** [descend] Error 2
mingw32-make[2]: *** [maindllh] Error 2
mingw32-make[1]: *** [vm] Error 2
mingw32-make: *** [source] Error 2

Thanks
Fernando




________________________________
De: Fernando Athayde <fernando_athayde@yahoo.com.br>
Para: harbour@harbour-project.org
Enviadas: Sexta-feira, 21 de Agosto de 2009 9:18:32
Assunto: [Harbour] msvc winCE and fcntl.h


there isn't fcntl.h for winCe and msvc

e:\harbour_cvs\source\vm\dlmalloc.c(1188) : fatal error C1083: Cannot open include file: 'fcntl.h': No such file or directory
mingw32-make[3]: *** [hvmall.obj] Error 2
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [vm] Error 2
mingw32-make: *** [source] Error 2

using msvc 2008
wce

Brgds,
Fernando

__________________________________________________
Fale com seus amigos  de gra?a com o novo Yahoo! Messenger 
http://br.messenger.yahoo.com/ 

__________________________________________________
Fale com seus amigos  de gra?a com o novo Yahoo! Messenger 
http://br.messenger.yahoo.com/ 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090821/cb35da87/attachment.html
From druzus at acn.waw.pl  Fri Aug 21 09:45:02 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 21 09:45:12 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <14464984.20090821152825@tlen.pl>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
	<14464984.20090821152825@tlen.pl>
Message-ID: <20090821134502.GA1678@uran.home.aster.pl>

[piï¿½tek, 21 sierpieï¿½ 2009], Jaroslaw Kadziola napisa³(a):
> > Yesterday. Check ChangeLog.
> >> When ? My WinCE build is after last nightly.zip
> So they must be inside latest nightly. isn't it?

No. Please remember about TIMEZONE differences.
You have to compare ChangeLog entries to be sure.

If you are using older version then please try to add -loleaut32
to hbmk2 parameters. It should help.

BTW have you made some tests with different fonts for console window
in WinCE?
I forgot to tell you about one important switch.
   hb_gtInfo( HB_GTI_RESIZEMODE, HB_GTI_RESIZEMODE_ROWS )
disables automatic font resizing to screen dimensions.
In my test few month ago the default setting:
   hb_gtInfo( HB_GTI_RESIZEMODE, HB_GTI_RESIZEMODE_FONT )
made console window unreadable in PocketPC emulator.

best regards,
Przemek
From maurilio.longo at libero.it  Fri Aug 21 09:45:46 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Aug 21 09:45:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12228] trunk/harbour
In-Reply-To: <E1MeSaI-0007NU-VA@dn4whf1.ch3.sourceforge.com>
References: <E1MeSaI-0007NU-VA@dn4whf1.ch3.sourceforge.com>
Message-ID: <4A8EA50A.2080401@libero.it>

Viktor,

I'm sorry still had not time to test $(CP), anyway right now, with latest svn,
it builds ok but gives an error when doing a make clean

(E:\REPOSITORY\harbour)make clean
! MAKE: make 3.81 clean  D:\OS2\CMD.EXE
! HB_BIN_INSTALL: e:\harbour\bin
! HB_LIB_INSTALL: e:\harbour\lib
! HB_INC_INSTALL: e:\harbour\include
! HB_HOST_ARCH: os2  HB_SHELL: os2 (pre-xp)
! HB_ARCHITECTURE: os2 (x86)
! HB_COMPILER: gcc
! HB_BIN_COMPILE not specified. Automatically set to: E:/repository/harbour/bin/
os2/gcc
! HB_INSTALL_PREFIX set to: E:\repository\harbour
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\bin\os2\gcc\hbpp.exe.
make[2]: [clean] Error 1 (ignored)
! 'gtcrs' library skipped
! 'gtdos' library skipped


The file exists though

(E:\REPOSITORY\harbour)dir hbpp.exe /s

The volume label in drive E is Dati.
The Volume Serial Number is 812E:D5C2.

Directory of E:\REPOSITORY\harbour\source\pp\os2\gcc

 8/05/09 16:38        152.198    124 a---  hbpp.exe
        1 file(s)     152.198 bytes used


Best regards.

Maurilio.


vszakats@users.sourceforge.net wrote:
> Revision: 12228
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12228&view=rev
> Author:   vszakats
> Date:     2009-08-21 11:47:05 +0000 (Fri, 21 Aug 2009)
> 
> Log Message:
> -----------
> 2009-08-21 13:46 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * config/os2/gcc.mk
>     % Using $(wildcard) instead of echo trick to delete target lib.
>       Please test. I don't have access to OS/2.
>     ; 'if exist' and 'if not exist' are now only used from 
>       globsh.mk nt and os2 shell sections.
>     ; TOFIX: $(COMSPEC) still in OS/2 section. Test results would be 
>              welcome without it.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/config/os2/gcc.mk
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Fri Aug 21 09:48:35 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Aug 21 09:48:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12232] trunk/harbour
In-Reply-To: <E1MeUAN-0000do-8v@c3vjzd1.ch3.sourceforge.com>
References: <E1MeUAN-0000do-8v@c3vjzd1.ch3.sourceforge.com>
Message-ID: <4A8EA5B3.2080107@libero.it>

Viktor,

vszakats@users.sourceforge.net wrote:
> Revision: 12232
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12232&view=rev
>     ! Fixed to not use OS converted parameters with $(RDP) calls with
>       os2 shell. I can't test, but last information from OS/2 users
>       was that OS/2 GNU Tools expect *nix style path seps.

No, only mkdir uses slashes, see now:

SYS1003: The syntax of the command is incorrect.
Error occurred while processing: /..
make[2]: [clean] Error 1 (ignored)
SYS1003: The syntax of the command is incorrect.
Error occurred while processing: /..
make[2]: [clean] Error 1 (ignored)
SYS1003: The syntax of the command is incorrect.
Error occurred while processing: /..
make[2]: [clean] Error 1 (ignored)
SYS1003: The syntax of the command is incorrect.
Error occurred while processing: /..
make[2]: [clean] Error 1 (ignored)
SYS1003: The syntax of the command is incorrect.



-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Fri Aug 21 10:03:03 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 10:03:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12234] trunk/harbour
Message-ID: <E1MeUhr-0004ir-BA@3kljzd1.ch3.sourceforge.com>

Revision: 12234
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12234&view=rev
Author:   vszakats
Date:     2009-08-21 14:03:02 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 15:59 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/pp/Makefile
    ! Readded empty line after pptable rule.
      I couldn't find the reason why this was needed, anyhow
      without it the dynamic hbpp obj deletion didn't work.
      Which GNU Make syntax rules am I forgetting? Any hints?

    ; TOFIX: Another issue has shown its ugly head, here clean
             in hbpp shows error message from 'del' command on
             nt shell deleting the .exe (and .tds), despite the
             file is there and we're doing wildcard check too. 
             Ideas are welcome. This worked a few days ago.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/pp/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug 21 10:08:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 10:08:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12235] trunk/harbour
Message-ID: <E1MeUmi-0004pf-0F@3kljzd1.ch3.sourceforge.com>

Revision: 12235
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12235&view=rev
Author:   vszakats
Date:     2009-08-21 14:08:03 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 15:59 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/globsh.mk
    ! Restored backslashes for GNU rm command for os2 shell.
      It turns out rm needs backslashes in filenames (on contrary 
      to mkdir which needs forward slashes.) Not terribly consistent.
      BTW they came from same packages.
      Thanks to Maurilio Longo for the information.

  * source/pp/Makefile
    ! Readded empty line after pptable rule.
      I couldn't find the reason why this was needed, anyhow
      without it the dynamic hbpp obj deletion didn't work.
      Which GNU Make syntax rules am I forgetting? Any hints?

    ; TOFIX: Another issue has shown its ugly head, here clean
             in hbpp shows error message from 'del' command on
             nt shell deleting the .exe (and .tds), despite the
             file is there and we're doing wildcard check too.
             Ideas are welcome. This worked a few days ago.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Aug 21 10:11:07 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 10:11:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12228] trunk/harbour
In-Reply-To: <4A8EA50A.2080401@libero.it>
References: <E1MeSaI-0007NU-VA@dn4whf1.ch3.sourceforge.com>
	<4A8EA50A.2080401@libero.it>
Message-ID: <18d502870908210711q486d3aa0pfb516b53794119c7@mail.gmail.com>

Hi Maurilio,

Is it only hbpp.exe? I'm asking because hbpp.exe started to give
me a hard time on all platforms today. I've even asking for hints in
latest ChangeLog. No idea what could have gone wrong.

So the question is if the rest work alright?

Brgds,
Viktor

On Fri, Aug 21, 2009 at 3:45 PM, Maurilio Longo<maurilio.longo@libero.it> wrote:
> Viktor,
>
> I'm sorry still had not time to test $(CP), anyway right now, with latest svn,
> it builds ok but gives an error when doing a make clean
>
> (E:\REPOSITORY\harbour)make clean
> ! MAKE: make 3.81 clean ?D:\OS2\CMD.EXE
> ! HB_BIN_INSTALL: e:\harbour\bin
> ! HB_LIB_INSTALL: e:\harbour\lib
> ! HB_INC_INSTALL: e:\harbour\include
> ! HB_HOST_ARCH: os2 ?HB_SHELL: os2 (pre-xp)
> ! HB_ARCHITECTURE: os2 (x86)
> ! HB_COMPILER: gcc
> ! HB_BIN_COMPILE not specified. Automatically set to: E:/repository/harbour/bin/
> os2/gcc
> ! HB_INSTALL_PREFIX set to: E:\repository\harbour
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\bin\os2\gcc\hbpp.exe.
> make[2]: [clean] Error 1 (ignored)
> ! 'gtcrs' library skipped
> ! 'gtdos' library skipped
>
>
> The file exists though
>
> (E:\REPOSITORY\harbour)dir hbpp.exe /s
>
> The volume label in drive E is Dati.
> The Volume Serial Number is 812E:D5C2.
>
> Directory of E:\REPOSITORY\harbour\source\pp\os2\gcc
>
> ?8/05/09 16:38 ? ? ? ?152.198 ? ?124 a--- ?hbpp.exe
> ? ? ? ?1 file(s) ? ? 152.198 bytes used
>
>
> Best regards.
>
> Maurilio.
>
>
> vszakats@users.sourceforge.net wrote:
>> Revision: 12228
>> ? ? ? ? ? http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12228&view=rev
>> Author: ? vszakats
>> Date: ? ? 2009-08-21 11:47:05 +0000 (Fri, 21 Aug 2009)
>>
>> Log Message:
>> -----------
>> 2009-08-21 13:46 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>> ? * config/os2/gcc.mk
>> ? ? % Using $(wildcard) instead of echo trick to delete target lib.
>> ? ? ? Please test. I don't have access to OS/2.
>> ? ? ; 'if exist' and 'if not exist' are now only used from
>> ? ? ? globsh.mk nt and os2 shell sections.
>> ? ? ; TOFIX: $(COMSPEC) still in OS/2 section. Test results would be
>> ? ? ? ? ? ? ?welcome without it.
>>
>> Modified Paths:
>> --------------
>> ? ? trunk/harbour/ChangeLog
>> ? ? trunk/harbour/config/os2/gcc.mk
>>
>>
>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> --
> ?__________
> | ?| ?| |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From harbour.01 at syenar.hu  Fri Aug 21 10:12:54 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 10:13:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12228] trunk/harbour
In-Reply-To: <18d502870908210711q486d3aa0pfb516b53794119c7@mail.gmail.com>
References: <E1MeSaI-0007NU-VA@dn4whf1.ch3.sourceforge.com>
	<4A8EA50A.2080401@libero.it>
	<18d502870908210711q486d3aa0pfb516b53794119c7@mail.gmail.com>
Message-ID: <18d502870908210712s3d43565cr521fb56af19ca7d9@mail.gmail.com>

Ops, one more thing:

If you have a little time, could you recheck if GNU make still
hangs on you on 'install' if you remove $(COMSPEC) /C from config/instsh.cf ?

Thanks in advance.

Brgds,
Viktor

On Fri, Aug 21, 2009 at 4:11 PM, Viktor Szak?ts<harbour.01@syenar.hu> wrote:
> Hi Maurilio,
>
> Is it only hbpp.exe? I'm asking because hbpp.exe started to give
> me a hard time on all platforms today. I've even asking for hints in
> latest ChangeLog. No idea what could have gone wrong.
>
> So the question is if the rest work alright?
>
> Brgds,
> Viktor
>
> On Fri, Aug 21, 2009 at 3:45 PM, Maurilio Longo<maurilio.longo@libero.it> wrote:
>> Viktor,
>>
>> I'm sorry still had not time to test $(CP), anyway right now, with latest svn,
>> it builds ok but gives an error when doing a make clean
>>
>> (E:\REPOSITORY\harbour)make clean
>> ! MAKE: make 3.81 clean ?D:\OS2\CMD.EXE
>> ! HB_BIN_INSTALL: e:\harbour\bin
>> ! HB_LIB_INSTALL: e:\harbour\lib
>> ! HB_INC_INSTALL: e:\harbour\include
>> ! HB_HOST_ARCH: os2 ?HB_SHELL: os2 (pre-xp)
>> ! HB_ARCHITECTURE: os2 (x86)
>> ! HB_COMPILER: gcc
>> ! HB_BIN_COMPILE not specified. Automatically set to: E:/repository/harbour/bin/
>> os2/gcc
>> ! HB_INSTALL_PREFIX set to: E:\repository\harbour
>> SYS0002: The system cannot find the file specified.
>> Error occurred while processing: ..\..\bin\os2\gcc\hbpp.exe.
>> make[2]: [clean] Error 1 (ignored)
>> ! 'gtcrs' library skipped
>> ! 'gtdos' library skipped
>>
>>
>> The file exists though
>>
>> (E:\REPOSITORY\harbour)dir hbpp.exe /s
>>
>> The volume label in drive E is Dati.
>> The Volume Serial Number is 812E:D5C2.
>>
>> Directory of E:\REPOSITORY\harbour\source\pp\os2\gcc
>>
>> ?8/05/09 16:38 ? ? ? ?152.198 ? ?124 a--- ?hbpp.exe
>> ? ? ? ?1 file(s) ? ? 152.198 bytes used
>>
>>
>> Best regards.
>>
>> Maurilio.
>>
>>
>> vszakats@users.sourceforge.net wrote:
>>> Revision: 12228
>>> ? ? ? ? ? http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12228&view=rev
>>> Author: ? vszakats
>>> Date: ? ? 2009-08-21 11:47:05 +0000 (Fri, 21 Aug 2009)
>>>
>>> Log Message:
>>> -----------
>>> 2009-08-21 13:46 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>> ? * config/os2/gcc.mk
>>> ? ? % Using $(wildcard) instead of echo trick to delete target lib.
>>> ? ? ? Please test. I don't have access to OS/2.
>>> ? ? ; 'if exist' and 'if not exist' are now only used from
>>> ? ? ? globsh.mk nt and os2 shell sections.
>>> ? ? ; TOFIX: $(COMSPEC) still in OS/2 section. Test results would be
>>> ? ? ? ? ? ? ?welcome without it.
>>>
>>> Modified Paths:
>>> --------------
>>> ? ? trunk/harbour/ChangeLog
>>> ? ? trunk/harbour/config/os2/gcc.mk
>>>
>>>
>>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>> --
>> ?__________
>> | ?| ?| |__| Maurilio Longo
>> |_|_|_|____| farmaconsult s.r.l.
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
From vszakats at users.sourceforge.net  Fri Aug 21 10:16:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 10:16:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12236] trunk/harbour
Message-ID: <E1MeUv4-00052U-IX@3kljzd1.ch3.sourceforge.com>

Revision: 12236
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12236&view=rev
Author:   vszakats
Date:     2009-08-21 14:16:41 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 16:17 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/vm/fm.c
    ! Fixed to suppress fcntl header in dlmalloc for msvcarm targets.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Aug 21 10:18:32 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 10:18:38 2009
Subject: [Harbour] msvc winCE and fcntl.h
In-Reply-To: <917839.79032.qm@web52206.mail.re2.yahoo.com>
References: <64968.32199.qm@web52209.mail.re2.yahoo.com>
	<917839.79032.qm@web52206.mail.re2.yahoo.com>
Message-ID: <18d502870908210718k3ecd347dua2525a42f75fce8c@mail.gmail.com>

Hi Fernando,

I've committed a fix for this. I did it differently but the effect is the same.

I'm historically lost with the other kind of issue, I'd leave it for Przemek.

Brgds,
Viktor

On Fri, Aug 21, 2009 at 3:43 PM, Fernando
Athayde<fernando_athayde@yahoo.com.br> wrote:
> i change the dlmalloc.c
> #if !defined( HB_OS_WIN_CE )
> #include <fcntl.h>
> #endif /* !defined( HB_OS_WIN_CE ) */
>
> then appears this error now in maindllh.c
> ../../../../maindllh.c(70) : error C2375: 'DllMain' : redefinition;
> different li
> nkage
> ??????? C:\Program Files\Windows Mobile 5.0 SDK
> R2\PocketPC\Include\Armv4i\winba
> se.h(313) : see declaration of 'DllMain'
> mingw32-make[4]: *** [maindllh.obj] Error 2
> mingw32-make[3]: *** [descend] Error 2
> mingw32-make[2]: *** [maindllh] Error 2
> mingw32-make[1]: *** [vm] Error 2
> mingw32-make: *** [source] Error 2
>
> Thanks
> Fernando
>
> ________________________________
> De: Fernando Athayde <fernando_athayde@yahoo.com.br>
> Para: harbour@harbour-project.org
> Enviadas: Sexta-feira, 21 de Agosto de 2009 9:18:32
> Assunto: [Harbour] msvc winCE and fcntl.h
>
> there isn't fcntl.h for winCe and msvc
>
> e:\harbour_cvs\source\vm\dlmalloc.c(1188) : fatal error C1083: Cannot open
> include file: 'fcntl.h': No such file or directory
> mingw32-make[3]: *** [hvmall.obj] Error 2
> mingw32-make[2]: *** [descend] Error 2
> mingw32-make[1]: *** [vm] Error 2
> mingw32-make: *** [source] Error 2
>
> using msvc 2008
> wce
>
> Brgds,
> Fernando
>
> __________________________________________________
> Fale com seus amigos de gra?a com o novo Yahoo! Messenger
> http://br.messenger.yahoo.com/
> __________________________________________________
> Fale com seus amigos de gra?a com o novo Yahoo! Messenger
> http://br.messenger.yahoo.com/
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
From harbour.01 at syenar.hu  Fri Aug 21 10:19:48 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 10:19:54 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <4A8EA210.7020802@mweb.co.za>
References: <25057035.post@talk.nabble.com> <4A8D124C.8020506@mweb.co.za>
	<20090820111852.GA7617@uran.home.aster.pl>
	<4A8D391A.5060008@mweb.co.za>
	<20090820145836.GA4209@uran.home.aster.pl>
	<4A8D6D60.2020702@mweb.co.za>
	<20090820234010.GA17613@uran.home.aster.pl>
	<4A8E4B11.5000401@mweb.co.za>
	<20090821114948.GA11993@uran.home.aster.pl>
	<4A8EA210.7020802@mweb.co.za>
Message-ID: <18d502870908210719u15cd9aefybe64da8d3eecdaad@mail.gmail.com>

Very nice indeed.

Maybe it's now possible to remove some redundant logic from GTWVG.
At least I hope. Pritpal do you see a chance?

Brgds,
Viktor

On Fri, Aug 21, 2009 at 3:33 PM, Alex Strickland<sscc@mweb.co.za> wrote:
> Przemyslaw Czerpak wrote:
>
>> In Harbour user event handler receives as 1-st parameter event number
>> and then ole parameters. So above functionality can be easy implemented
>> as:
>>
>> ? oAx := WIN_AxGetControl( hWnd, ;
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ?{|event,...| myEventHandler( obj, event, ... )
>> } )
>>
>> ? function myEventHandler( obj, event, ... )
>> ? ? ?switch( event )
>> ? ? ? ? case 1:
>> ? ? ? ? ? ?return obj:terminalDSPEvent( ... )
>> ? ? ? ? case 2:
>> ? ? ? ? ? ?return obj:infoEvent( ... )
>> ? ? ? ? case 3:
>> ? ? ? ? ? ?return obj:exceptionEvent( ... )
>> ? ? ?endswitch
>> ? return NIL
>
> Awesome. Thank you. I think this is the last step for many people to allow
> *reliable and safe* access to many 3rd party ActiveX controls in Windows.
>
> Regards
> Alex
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From druzus at acn.waw.pl  Fri Aug 21 10:20:51 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 21 10:20:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12234] trunk/harbour
In-Reply-To: <E1MeUhr-0004ir-BA@3kljzd1.ch3.sourceforge.com>
References: <E1MeUhr-0004ir-BA@3kljzd1.ch3.sourceforge.com>
Message-ID: <20090821142051.GA1841@uran.home.aster.pl>

On Fri, 21 Aug 2009, vszakats@users.sourceforge.net wrote:
>     ; TOFIX: Another issue has shown its ugly head, here clean
>              in hbpp shows error message from 'del' command on
>              nt shell deleting the .exe (and .tds), despite the
>              file is there and we're doing wildcard check too. 
>              Ideas are welcome. This worked a few days ago.

It's expected behavior if OBJ_DYN_POSTFIX is empty.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Aug 21 10:34:06 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 21 10:34:12 2009
Subject: [Harbour] msvc winCE and fcntl.h
In-Reply-To: <18d502870908210718k3ecd347dua2525a42f75fce8c@mail.gmail.com>
References: <64968.32199.qm@web52209.mail.re2.yahoo.com>
	<917839.79032.qm@web52206.mail.re2.yahoo.com>
	<18d502870908210718k3ecd347dua2525a42f75fce8c@mail.gmail.com>
Message-ID: <20090821143406.GB1841@uran.home.aster.pl>

On Fri, 21 Aug 2009, Szak?ts Viktor wrote:

Hi,

> I'm historically lost with the other kind of issue, I'd leave it for Przemek.
> > then appears this error now in maindllh.c
> > ../../../../maindllh.c(70) : error C2375: 'DllMain' : redefinition;
> > different li
> > nkage
> > ??????? C:\Program Files\Windows Mobile 5.0 SDK
> > R2\PocketPC\Include\Armv4i\winba
> > se.h(313) : see declaration of 'DllMain'

I'm not a wizard to guess what MSVC has in it's header files ;-)
so please be so kind and look it and uppdate HB_DLL_ENTRY_POINT
declaration. Probably it's the same as for POCC.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Aug 21 10:36:38 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 10:36:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12234] trunk/harbour
In-Reply-To: <20090821142051.GA1841@uran.home.aster.pl>
References: <E1MeUhr-0004ir-BA@3kljzd1.ch3.sourceforge.com>
	<20090821142051.GA1841@uran.home.aster.pl>
Message-ID: <18d502870908210736u284db431r5b1f92b0192137ed@mail.gmail.com>

On Fri, Aug 21, 2009 at 4:20 PM, Przemyslaw Czerpak<druzus@acn.waw.pl> wrote:
> On Fri, 21 Aug 2009, vszakats@users.sourceforge.net wrote:
>> ? ? ; TOFIX: Another issue has shown its ugly head, here clean
>> ? ? ? ? ? ? ?in hbpp shows error message from 'del' command on
>> ? ? ? ? ? ? ?nt shell deleting the .exe (and .tds), despite the
>> ? ? ? ? ? ? ?file is there and we're doing wildcard check too.
>> ? ? ? ? ? ? ?Ideas are welcome. This worked a few days ago.
>
> It's expected behavior if OBJ_DYN_POSTFIX is empty.

I experienced this with bcc and msvc where OBJ_DYN_POSTFIX is
set to '_dyn'. The problem is not happening in pptable rule, but in
'clean', where OBJ_DYN_POSTFIX isn't referenced.

Found it now: Both the local clean and central clean are executed,
I'll check what went wrong.

Brgds,
Viktor
From vszakats at users.sourceforge.net  Fri Aug 21 10:41:59 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 10:42:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12237] trunk/harbour
Message-ID: <E1MeVJX-0005gX-Qi@3kljzd1.ch3.sourceforge.com>

Revision: 12237
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12237&view=rev
Author:   vszakats
Date:     2009-08-21 14:41:58 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 16:42 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/vm/maindllh.c
  * source/vm/maindllp.c
    ! Fixed DllMain() declaration for msvcarm targets.
      Thanks Przemek for the hint.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/maindllh.c
    trunk/harbour/source/vm/maindllp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Aug 21 10:44:37 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 10:44:43 2009
Subject: [Harbour] Harbour compatibility chart
Message-ID: <18d502870908210744y342150d1ta9ae7a0c7281b9f5@mail.gmail.com>

Hi All,

Here's Harbour's current compatibility chart, which includes supported host
platforms, target platforms, target compiler, target CPUs and shell types.

   host      target        target
   plat      plat/comp     cpu
   ------    ------------- ----------------------------------------------------
   win    -> win/bcc       x86
   win    -> win/cygwin    x86
   win    -> win/gcc       x86
   win    -> win/global    x86
   win    -> win/icc       x86
   win    -> win/icc64     x86_64 (not supported yet)
   win    -> win/iccia64   ia64
   win    -> win/mingw     x86
   win    -> win/mingw64   x86_64
   win    -> win/msvc      x86
   win    -> win/msvc64    x86_64
   win    -> win/msvcia64  ia64
   win    -> win/pocc      x86
   win    -> win/pocc64    x86_64
   win    -> win/watcom    x86
   win    -> win/xcc       x86
   win    -> wce/mingwarm  arm
   win    -> wce/poccarm   arm
   win    -> wce/msvc      x86   (not supported yet)
   win    -> wce/msvcarm   arm
   win    -> wce/msvcmips  mips  (not supported yet)
   win    -> wce/msvcsh    sh    (not supported yet)
   win    -> dos/djgpp     x86
   win    -> dos/watcom    x86
   win    -> os2/watcom    x86
   win    -> linux/watcom  x86
   dos    -> dos/djgpp     x86
   dos    -> dos/watcom    x86
   dos    -> win/watcom    x86
   dos    -> os2/watcom    x86
   dos    -> linux/watcom  x86
   os2    -> os2/gcc       x86
   os2    -> os2/watcom    x86
   os2    -> win/watcom    x86
   os2    -> dos/watcom    x86
   os2    -> linux/watcom  x86
   linux  -> linux/gcc     (* CPU cross-builds possible)
   linux  -> linux/icc     (* CPU cross-builds possible: x86, x86_64, ia64)
   linux  -> linux/sunpro  (* CPU cross-builds possible: x86, x86_64)
   linux  -> wce/mingwarm  arm
   linux  -> win/mingw     x86
   linux  -> win/watcom    x86
   linux  -> dos/watcom    x86
   linux  -> os2/watcom    x86
   bsd    -> bsd/gcc       (* CPU cross-builds possible)
   bsd    -> wce/mingwarm  arm
   bsd    -> win/mingw     x86
   darwin -> darwin/gcc    (* CPU cross-builds possible: x86, x86_64,
ppc, ppc64 + unibin)
   darwin -> darwin/icc    (* CPU cross-builds possible: x86, x86_64)
   darwin -> wce/mingwarm  arm
   darwin -> win/mingw     x86
   hpux   -> hpux/gcc      (* CPU cross-builds possible)
   hpux   -> wce/mingwarm  arm
   hpux   -> win/mingw     x86
   sunos  -> sunos/gcc     (* CPU cross-builds possible)
   sunos  -> sunos/sunpro  (* CPU cross-builds possible: x86, x86_64,
sparc32, sparc64)
   sunos  -> wce/mingwarm  arm
   sunos  -> win/mingw     x86

   Supported shells per host platforms:

   win  / cmd.exe
   win  / sh compatible (MSYS or Cygwin sh.exe) (* not supported: pkg, implib)
   win  / command.com                           (* not supported: pkg, implib)
   dos  / command.com                           (* not supported: pkg, implib)
   os/2 / OS/2 shell                            (* not supported: pkg, implib)
   *nix / sh compatible                         (* not supported: pkg
- implemented as standalone scripts)

Brgds,
Viktor
From druzus at acn.waw.pl  Fri Aug 21 10:48:22 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 21 10:48:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12234] trunk/harbour
In-Reply-To: <18d502870908210736u284db431r5b1f92b0192137ed@mail.gmail.com>
References: <E1MeUhr-0004ir-BA@3kljzd1.ch3.sourceforge.com>
	<20090821142051.GA1841@uran.home.aster.pl>
	<18d502870908210736u284db431r5b1f92b0192137ed@mail.gmail.com>
Message-ID: <20090821144822.GA23780@uran.home.aster.pl>

On Fri, 21 Aug 2009, Szak?ts Viktor wrote:
> I experienced this with bcc and msvc where OBJ_DYN_POSTFIX is
> set to '_dyn'. The problem is not happening in pptable rule, but in
> 'clean', where OBJ_DYN_POSTFIX isn't referenced.
> Found it now: Both the local clean and central clean are executed,
> I'll check what went wrong.

I think you haven't understood what I wanted to point you.
In this two lines:
	-@$(RM) hbpp$(OBJ_EXT)
	$(if $(wildcard hbpp$(OBJ_DYN_POSTFIX)$(OBJ_EXT)),-@$(RM) hbpp$(OBJ_DYN_POSTFIX)$(OBJ_EXT),)

wildcard is tested before 1-st line is executed so if both points to the
same file then $(RM) is executed after the 1-st one remove the file.
Please remember about it when you replace IF commands with wildcard
functions.

best regards,
Przemek
From vszakats at users.sourceforge.net  Fri Aug 21 10:53:35 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 10:53:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12238] trunk/harbour
Message-ID: <E1MeVUl-0005vj-Ca@3kljzd1.ch3.sourceforge.com>

Revision: 12238
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12238&view=rev
Author:   vszakats
Date:     2009-08-21 14:53:34 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 16:52 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/pp/Makefile
    ! Deleted double clean rules for hbpp executable + .tds file.
      Since BIN_FILE is set, it will be done in central clean rules 
      anyway.
      This solves the recently shown up error message on 'clean'
      when using certain shells (nt). It was cleaned twice and for 
      some reason this created a problem after switching central 
      rules to use $(wildcard) instead of 'if exist'. Probably
      rules are merged, then evaluated at once, thus leaving 
      two delete commands, since when the file existed when 
      this evaluation took place.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/pp/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Aug 21 10:57:20 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 10:57:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12234] trunk/harbour
In-Reply-To: <20090821144822.GA23780@uran.home.aster.pl>
References: <E1MeUhr-0004ir-BA@3kljzd1.ch3.sourceforge.com>
	<20090821142051.GA1841@uran.home.aster.pl>
	<18d502870908210736u284db431r5b1f92b0192137ed@mail.gmail.com>
	<20090821144822.GA23780@uran.home.aster.pl>
Message-ID: <18d502870908210757q5501fbabv79193f857d67bac4@mail.gmail.com>

Thank you, I came to the same conclusion (in ChangeLog).

This means that recent conversion will have some bad side
effects in nt shell rules. Tests confirmed it. I'll refix them.

Brgds,
Viktor

On Fri, Aug 21, 2009 at 4:48 PM, Przemyslaw Czerpak<druzus@acn.waw.pl> wrote:
> On Fri, 21 Aug 2009, Szak?ts Viktor wrote:
>> I experienced this with bcc and msvc where OBJ_DYN_POSTFIX is
>> set to '_dyn'. The problem is not happening in pptable rule, but in
>> 'clean', where OBJ_DYN_POSTFIX isn't referenced.
>> Found it now: Both the local clean and central clean are executed,
>> I'll check what went wrong.
>
> I think you haven't understood what I wanted to point you.
> In this two lines:
> ? ? ? ?-@$(RM) hbpp$(OBJ_EXT)
> ? ? ? ?$(if $(wildcard hbpp$(OBJ_DYN_POSTFIX)$(OBJ_EXT)),-@$(RM) hbpp$(OBJ_DYN_POSTFIX)$(OBJ_EXT),)
>
> wildcard is tested before 1-st line is executed so if both points to the
> same file then $(RM) is executed after the 1-st one remove the file.
> Please remember about it when you replace IF commands with wildcard
> functions.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From harbour.01 at syenar.hu  Fri Aug 21 11:05:39 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 11:05:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12234] trunk/harbour
In-Reply-To: <18d502870908210757q5501fbabv79193f857d67bac4@mail.gmail.com>
References: <E1MeUhr-0004ir-BA@3kljzd1.ch3.sourceforge.com>
	<20090821142051.GA1841@uran.home.aster.pl>
	<18d502870908210736u284db431r5b1f92b0192137ed@mail.gmail.com>
	<20090821144822.GA23780@uran.home.aster.pl>
	<18d502870908210757q5501fbabv79193f857d67bac4@mail.gmail.com>
Message-ID: <18d502870908210805j255e694dk86aef7c98b84da7b@mail.gmail.com>

Same is true for dos rules in globsh.cf change by your recent commit.

---
	$(if $(LIB_FILE),-@$(RM) $(basename $(LIB_FILE_OS)).bak,)
	$(if $(LIB_FILE),$(if $(wildcard $(LIB_DIR)/*.*),,-@$(RDP) $(LIB_DIR_OS)),)
---

Second line will not be executed if LIB_FILE existed in this pass.
In next 'clean' run it will deleted the directory.

Am I seeing it right? (before I start doing any fixes)

Also, what clever stunt could we pull to avoid readding 'if exist' rules,
which don't work too well in dos shell anyway?

[ Adding a second level of clean rule comes to mind, but I don't know
how to add it. ]

Brgds,
Viktor

On Fri, Aug 21, 2009 at 4:57 PM, Viktor Szak?ts<harbour.01@syenar.hu> wrote:
> Thank you, I came to the same conclusion (in ChangeLog).
>
> This means that recent conversion will have some bad side
> effects in nt shell rules. Tests confirmed it. I'll refix them.
>
> Brgds,
> Viktor
>
> On Fri, Aug 21, 2009 at 4:48 PM, Przemyslaw Czerpak<druzus@acn.waw.pl> wrote:
>> On Fri, 21 Aug 2009, Szak?ts Viktor wrote:
>>> I experienced this with bcc and msvc where OBJ_DYN_POSTFIX is
>>> set to '_dyn'. The problem is not happening in pptable rule, but in
>>> 'clean', where OBJ_DYN_POSTFIX isn't referenced.
>>> Found it now: Both the local clean and central clean are executed,
>>> I'll check what went wrong.
>>
>> I think you haven't understood what I wanted to point you.
>> In this two lines:
>> ? ? ? ?-@$(RM) hbpp$(OBJ_EXT)
>> ? ? ? ?$(if $(wildcard hbpp$(OBJ_DYN_POSTFIX)$(OBJ_EXT)),-@$(RM) hbpp$(OBJ_DYN_POSTFIX)$(OBJ_EXT),)
>>
>> wildcard is tested before 1-st line is executed so if both points to the
>> same file then $(RM) is executed after the 1-st one remove the file.
>> Please remember about it when you replace IF commands with wildcard
>> functions.
>>
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
From harbour.01 at syenar.hu  Fri Aug 21 11:08:14 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 11:08:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12234] trunk/harbour
In-Reply-To: <18d502870908210805j255e694dk86aef7c98b84da7b@mail.gmail.com>
References: <E1MeUhr-0004ir-BA@3kljzd1.ch3.sourceforge.com>
	<20090821142051.GA1841@uran.home.aster.pl>
	<18d502870908210736u284db431r5b1f92b0192137ed@mail.gmail.com>
	<20090821144822.GA23780@uran.home.aster.pl>
	<18d502870908210757q5501fbabv79193f857d67bac4@mail.gmail.com>
	<18d502870908210805j255e694dk86aef7c98b84da7b@mail.gmail.com>
Message-ID: <18d502870908210808q75ef63a9g719691c0c0c789a3@mail.gmail.com>

On Fri, Aug 21, 2009 at 5:05 PM, Viktor Szak?ts<harbour.01@syenar.hu> wrote:
> Same is true for dos rules in globsh.cf change by your recent commit.
>
> ---
> ? ? ? ?$(if $(LIB_FILE),-@$(RM) $(basename $(LIB_FILE_OS)).bak,)
> ? ? ? ?$(if $(LIB_FILE),$(if $(wildcard $(LIB_DIR)/*.*),,-@$(RDP) $(LIB_DIR_OS)),)
> ---
>
> Second line will not be executed if LIB_FILE existed in this pass.
> In next 'clean' run it will deleted the directory.
>
> Am I seeing it right? (before I start doing any fixes)
>
> Also, what clever stunt could we pull to avoid readding 'if exist' rules,
> which don't work too well in dos shell anyway?
>
> [ Adding a second level of clean rule comes to mind, but I don't know
> how to add it. ]

To clarify this idea:
first clean rule: delete target files
second clean rule: delete dirs

Brgds,
Viktor
From vszakats at users.sourceforge.net  Fri Aug 21 11:10:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 11:10:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12239] trunk/harbour
Message-ID: <E1MeVks-0006Ix-Ts@3kljzd1.ch3.sourceforge.com>

Revision: 12239
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12239&view=rev
Author:   vszakats
Date:     2009-08-21 15:10:13 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------

2009-08-21 17:10 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/pp/Makefile
    ! Including global.mk at the top to make sure OBJ_DYN_PREFIX is
      initialized.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/pp/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Fri Aug 21 11:11:12 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Aug 21 11:11:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12228] trunk/harbour
In-Reply-To: <18d502870908210711q486d3aa0pfb516b53794119c7@mail.gmail.com>
References: <E1MeSaI-0007NU-VA@dn4whf1.ch3.sourceforge.com>	<4A8EA50A.2080401@libero.it>
	<18d502870908210711q486d3aa0pfb516b53794119c7@mail.gmail.com>
Message-ID: <4A8EB910.10306@libero.it>

Yes,

only hbpp.exe right now.

Maurilio.


Viktor Szak?ts wrote:
> Hi Maurilio,
> 
> Is it only hbpp.exe? I'm asking because hbpp.exe started to give
> me a hard time on all platforms today. I've even asking for hints in
> latest ChangeLog. No idea what could have gone wrong.
> 
> So the question is if the rest work alright?
> 
> Brgds,
> Viktor
> 
> On Fri, Aug 21, 2009 at 3:45 PM, Maurilio Longo<maurilio.longo@libero.it> wrote:
>> Viktor,
>>
>> I'm sorry still had not time to test $(CP), anyway right now, with latest svn,
>> it builds ok but gives an error when doing a make clean
>>
>> (E:\REPOSITORY\harbour)make clean
>> ! MAKE: make 3.81 clean  D:\OS2\CMD.EXE
>> ! HB_BIN_INSTALL: e:\harbour\bin
>> ! HB_LIB_INSTALL: e:\harbour\lib
>> ! HB_INC_INSTALL: e:\harbour\include
>> ! HB_HOST_ARCH: os2  HB_SHELL: os2 (pre-xp)
>> ! HB_ARCHITECTURE: os2 (x86)
>> ! HB_COMPILER: gcc
>> ! HB_BIN_COMPILE not specified. Automatically set to: E:/repository/harbour/bin/
>> os2/gcc
>> ! HB_INSTALL_PREFIX set to: E:\repository\harbour
>> SYS0002: The system cannot find the file specified.
>> Error occurred while processing: ..\..\bin\os2\gcc\hbpp.exe.
>> make[2]: [clean] Error 1 (ignored)
>> ! 'gtcrs' library skipped
>> ! 'gtdos' library skipped
>>
>>
>> The file exists though
>>
>> (E:\REPOSITORY\harbour)dir hbpp.exe /s
>>
>> The volume label in drive E is Dati.
>> The Volume Serial Number is 812E:D5C2.
>>
>> Directory of E:\REPOSITORY\harbour\source\pp\os2\gcc
>>
>>  8/05/09 16:38        152.198    124 a---  hbpp.exe
>>        1 file(s)     152.198 bytes used
>>
>>
>> Best regards.
>>
>> Maurilio.
>>
>>
>> vszakats@users.sourceforge.net wrote:
>>> Revision: 12228
>>>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12228&view=rev
>>> Author:   vszakats
>>> Date:     2009-08-21 11:47:05 +0000 (Fri, 21 Aug 2009)
>>>
>>> Log Message:
>>> -----------
>>> 2009-08-21 13:46 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>>   * config/os2/gcc.mk
>>>     % Using $(wildcard) instead of echo trick to delete target lib.
>>>       Please test. I don't have access to OS/2.
>>>     ; 'if exist' and 'if not exist' are now only used from
>>>       globsh.mk nt and os2 shell sections.
>>>     ; TOFIX: $(COMSPEC) still in OS/2 section. Test results would be
>>>              welcome without it.
>>>
>>> Modified Paths:
>>> --------------
>>>     trunk/harbour/ChangeLog
>>>     trunk/harbour/config/os2/gcc.mk
>>>
>>>
>>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>> --
>>  __________
>> |  |  | |__| Maurilio Longo
>> |_|_|_|____| farmaconsult s.r.l.
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Fri Aug 21 11:12:01 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 11:12:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12239] trunk/harbour
In-Reply-To: <E1MeVks-0006Ix-Ts@3kljzd1.ch3.sourceforge.com>
References: <E1MeVks-0006Ix-Ts@3kljzd1.ch3.sourceforge.com>
Message-ID: <18d502870908210812k7bd43776x79e152d41ec876ba@mail.gmail.com>

I'll revert this. Not needed. I've been too fast.

Brgds,
Viktor

On Fri, Aug 21, 2009 at 5:10 PM, <vszakats@users.sourceforge.net> wrote:
> Revision: 12239
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12239&view=rev
> Author: ? vszakats
> Date: ? ? 2009-08-21 15:10:13 +0000 (Fri, 21 Aug 2009)
>
> Log Message:
> -----------
>
> 2009-08-21 17:10 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
> ?* source/pp/Makefile
> ? ?! Including global.mk at the top to make sure OBJ_DYN_PREFIX is
> ? ? ?initialized.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/source/pp/Makefile
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From maurilio.longo at libero.it  Fri Aug 21 11:15:08 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Aug 21 11:15:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12235] trunk/harbour
In-Reply-To: <E1MeUmi-0004pf-0F@3kljzd1.ch3.sourceforge.com>
References: <E1MeUmi-0004pf-0F@3kljzd1.ch3.sourceforge.com>
Message-ID: <4A8EB9FC.6060402@libero.it>

Viktor,

I'm at 12239 and now it tries to delete some .bak files??

See attacched log.


Maurilio.

vszakats@users.sourceforge.net wrote:
> Revision: 12235
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12235&view=rev
> Author:   vszakats
> Date:     2009-08-21 14:08:03 +0000 (Fri, 21 Aug 2009)
> 
> Log Message:
> -----------
> 2009-08-21 15:59 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * config/globsh.mk
>     ! Restored backslashes for GNU rm command for os2 shell.
>       It turns out rm needs backslashes in filenames (on contrary 
>       to mkdir which needs forward slashes.) Not terribly consistent.
>       BTW they came from same packages.
>       Thanks to Maurilio Longo for the information.
> 
>   * source/pp/Makefile
>     ! Readded empty line after pptable rule.
>       I couldn't find the reason why this was needed, anyhow
>       without it the dynamic hbpp obj deletion didn't work.
>       Which GNU Make syntax rules am I forgetting? Any hints?
> 
>     ; TOFIX: Another issue has shown its ugly head, here clean
>              in hbpp shows error message from 'del' command on
>              nt shell deleting the .exe (and .tds), despite the
>              file is there and we're doing wildcard check too.
>              Ideas are welcome. This worked a few days ago.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/config/globsh.mk
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


-------------- next part --------------
! MAKE: make 3.81 clean  D:\OS2\CMD.EXE
! HB_BIN_INSTALL: e:\harbour\bin
! HB_LIB_INSTALL: e:\harbour\lib
! HB_INC_INSTALL: e:\harbour\include
! HB_HOST_ARCH: os2  HB_SHELL: os2 (pre-xp)
! HB_ARCHITECTURE: os2 (x86) 
! HB_COMPILER: gcc 
! HB_BIN_COMPILE not specified. Automatically set to: E:/harbour/bin
! HB_INSTALL_PREFIX set to: E:\repository\harbour
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbcommon.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbnortl.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbpp.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\bin\os2\gcc\hbpp.tds.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbcplr.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\bin\os2\gcc\harbour.tds.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbrtl.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\..\lib\os2\gcc\gtcgi.bak.
make[3]: [clean] Error 1 (ignored)
! 'gtcrs' library skipped
! 'gtdos' library skipped
! 'gtgui' library skipped
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\..\lib\os2\gcc\gtos2.bak.
make[3]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\..\lib\os2\gcc\gtpca.bak.
make[3]: [clean] Error 1 (ignored)
! 'gtsln' library skipped
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\..\lib\os2\gcc\gtstd.bak.
make[3]: [clean] Error 1 (ignored)
! 'gttrm' library skipped
! 'gtwin' library skipped
! 'gtwvt' library skipped
! 'gtxwc' library skipped
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbvm.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\..\lib\os2\gcc\hbvmmt.bak.
make[3]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbmacro.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbcpage.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hblang.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbrdd.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\..\lib\os2\gcc\hbnulrdd.bak.
make[3]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\..\lib\os2\gcc\rddntx.bak.
make[3]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\..\lib\os2\gcc\rddnsx.bak.
make[3]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\..\lib\os2\gcc\rddcdx.bak.
make[3]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\..\lib\os2\gcc\rddfpt.bak.
make[3]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\..\lib\os2\gcc\hbsix.bak.
make[3]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\..\lib\os2\gcc\hbhsx.bak.
make[3]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\..\lib\os2\gcc\hbusrrdd.bak.
make[3]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\..\..\lib\os2\gcc\hbuddall.bak.
make[3]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbextern.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbpcre.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbzlib.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbdebug.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\bin\os2\gcc\harbour-20.def.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\bin\os2\gcc\harbour-20.exp.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\..\bin\os2\gcc\harbourmt-20.def.
make[3]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\..\bin\os2\gcc\harbourmt-20.exp.
make[3]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\bin\os2\gcc\hbrun.tds.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\bin\os2\gcc\hbmk2.tds.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\bin\os2\gcc\hbi18n.tds.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\bin\os2\gcc\hbtest.tds.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\bin\os2\gcc\hbformat.tds.
make[2]: [clean] Error 1 (ignored)
! 'gtwvg' library skipped
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbbmcdx.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbbtree.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbclipsm.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbct.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbgt.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbmisc.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbmzip.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbnf.bak.
make[2]: [clean] Error 1 (ignored)
! 'hbodbc' library skipped
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbsqlit3.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbtip.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbtpathy.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbvpdf.bak.
make[2]: [clean] Error 1 (ignored)
! 'hbwin' library skipped
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbziparc.bak.
make[2]: [clean] Error 1 (ignored)
! 'rddado' library skipped
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\xhb.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\xpp.bak.
make[2]: [clean] Error 1 (ignored)
! 'gtalleg' library skipped
! 'hbblat' library skipped
! 'hbcurl' library skipped
! 'hbfbird' library skipped
! 'hbfimage' library skipped
! 'hbgd' library skipped
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\hbhpdf.bak.
make[2]: [clean] Error 1 (ignored)
! 'hbmysql' library skipped
! 'hbpgsql' library skipped
! 'hbqt' library skipped
! 'hbssl' library skipped
! 'rddads' library skipped
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\rddsql.bak.
make[2]: [clean] Error 1 (ignored)
! 'sddmy' library skipped
! 'sddpg' library skipped
! 'sddfb' library skipped
! 'sddodbc' library skipped
! 'hbxbp' library skipped
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\libhpdf.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\libpng.bak.
make[2]: [clean] Error 1 (ignored)
SYS0002: The system cannot find the file specified.
Error occurred while processing: ..\..\lib\os2\gcc\sqlite3.bak.
make[2]: [clean] Error 1 (ignored)
From harbour.01 at syenar.hu  Fri Aug 21 11:15:49 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 11:15:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12228] trunk/harbour
In-Reply-To: <4A8EB910.10306@libero.it>
References: <E1MeSaI-0007NU-VA@dn4whf1.ch3.sourceforge.com>
	<4A8EA50A.2080401@libero.it>
	<18d502870908210711q486d3aa0pfb516b53794119c7@mail.gmail.com>
	<4A8EB910.10306@libero.it>
Message-ID: <18d502870908210815u73eb6e6bs86436cf7c0d631f7@mail.gmail.com>

Thank you. Fix is now in SVN.

Brgds,
Viktor

On Fri, Aug 21, 2009 at 5:11 PM, Maurilio Longo<maurilio.longo@libero.it> wrote:
> Yes,
>
> only hbpp.exe right now.
>
> Maurilio.
>
>
> Viktor Szak?ts wrote:
>> Hi Maurilio,
>>
>> Is it only hbpp.exe? I'm asking because hbpp.exe started to give
>> me a hard time on all platforms today. I've even asking for hints in
>> latest ChangeLog. No idea what could have gone wrong.
>>
>> So the question is if the rest work alright?
>>
>> Brgds,
>> Viktor
>>
>> On Fri, Aug 21, 2009 at 3:45 PM, Maurilio Longo<maurilio.longo@libero.it> wrote:
>>> Viktor,
>>>
>>> I'm sorry still had not time to test $(CP), anyway right now, with latest svn,
>>> it builds ok but gives an error when doing a make clean
>>>
>>> (E:\REPOSITORY\harbour)make clean
>>> ! MAKE: make 3.81 clean ?D:\OS2\CMD.EXE
>>> ! HB_BIN_INSTALL: e:\harbour\bin
>>> ! HB_LIB_INSTALL: e:\harbour\lib
>>> ! HB_INC_INSTALL: e:\harbour\include
>>> ! HB_HOST_ARCH: os2 ?HB_SHELL: os2 (pre-xp)
>>> ! HB_ARCHITECTURE: os2 (x86)
>>> ! HB_COMPILER: gcc
>>> ! HB_BIN_COMPILE not specified. Automatically set to: E:/repository/harbour/bin/
>>> os2/gcc
>>> ! HB_INSTALL_PREFIX set to: E:\repository\harbour
>>> SYS0002: The system cannot find the file specified.
>>> Error occurred while processing: ..\..\bin\os2\gcc\hbpp.exe.
>>> make[2]: [clean] Error 1 (ignored)
>>> ! 'gtcrs' library skipped
>>> ! 'gtdos' library skipped
>>>
>>>
>>> The file exists though
>>>
>>> (E:\REPOSITORY\harbour)dir hbpp.exe /s
>>>
>>> The volume label in drive E is Dati.
>>> The Volume Serial Number is 812E:D5C2.
>>>
>>> Directory of E:\REPOSITORY\harbour\source\pp\os2\gcc
>>>
>>> ?8/05/09 16:38 ? ? ? ?152.198 ? ?124 a--- ?hbpp.exe
>>> ? ? ? ?1 file(s) ? ? 152.198 bytes used
>>>
>>>
>>> Best regards.
>>>
>>> Maurilio.
>>>
>>>
>>> vszakats@users.sourceforge.net wrote:
>>>> Revision: 12228
>>>> ? ? ? ? ? http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12228&view=rev
>>>> Author: ? vszakats
>>>> Date: ? ? 2009-08-21 11:47:05 +0000 (Fri, 21 Aug 2009)
>>>>
>>>> Log Message:
>>>> -----------
>>>> 2009-08-21 13:46 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>>> ? * config/os2/gcc.mk
>>>> ? ? % Using $(wildcard) instead of echo trick to delete target lib.
>>>> ? ? ? Please test. I don't have access to OS/2.
>>>> ? ? ; 'if exist' and 'if not exist' are now only used from
>>>> ? ? ? globsh.mk nt and os2 shell sections.
>>>> ? ? ; TOFIX: $(COMSPEC) still in OS/2 section. Test results would be
>>>> ? ? ? ? ? ? ?welcome without it.
>>>>
>>>> Modified Paths:
>>>> --------------
>>>> ? ? trunk/harbour/ChangeLog
>>>> ? ? trunk/harbour/config/os2/gcc.mk
>>>>
>>>>
>>>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>> --
>>> ?__________
>>> | ?| ?| |__| Maurilio Longo
>>> |_|_|_|____| farmaconsult s.r.l.
>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> --
> ?__________
> | ?| ?| |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From harbour.01 at syenar.hu  Fri Aug 21 11:28:28 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 11:28:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12235] trunk/harbour
In-Reply-To: <4A8EB9FC.6060402@libero.it>
References: <E1MeUmi-0004pf-0F@3kljzd1.ch3.sourceforge.com>
	<4A8EB9FC.6060402@libero.it>
Message-ID: <18d502870908210828i3df0f4ffp2fa2ce0b117dea70@mail.gmail.com>

Real problem isn't the .bak file (where attempt is made to delete is because
of potential cross-build situation), but these error messages.

The solution is to assign $(RM) command to GNU tool rm, rather than
using 'del'. I'll commit it ASAP.

Brgds,
Viktor

On Fri, Aug 21, 2009 at 5:15 PM, Maurilio Longo<maurilio.longo@libero.it> wrote:
> Viktor,
>
> I'm at 12239 and now it tries to delete some .bak files??
>
> See attacched log.
>
>
> Maurilio.
>
> vszakats@users.sourceforge.net wrote:
>> Revision: 12235
>> ? ? ? ? ? http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12235&view=rev
>> Author: ? vszakats
>> Date: ? ? 2009-08-21 14:08:03 +0000 (Fri, 21 Aug 2009)
>>
>> Log Message:
>> -----------
>> 2009-08-21 15:59 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>> ? * config/globsh.mk
>> ? ? ! Restored backslashes for GNU rm command for os2 shell.
>> ? ? ? It turns out rm needs backslashes in filenames (on contrary
>> ? ? ? to mkdir which needs forward slashes.) Not terribly consistent.
>> ? ? ? BTW they came from same packages.
>> ? ? ? Thanks to Maurilio Longo for the information.
>>
>> ? * source/pp/Makefile
>> ? ? ! Readded empty line after pptable rule.
>> ? ? ? I couldn't find the reason why this was needed, anyhow
>> ? ? ? without it the dynamic hbpp obj deletion didn't work.
>> ? ? ? Which GNU Make syntax rules am I forgetting? Any hints?
>>
>> ? ? ; TOFIX: Another issue has shown its ugly head, here clean
>> ? ? ? ? ? ? ?in hbpp shows error message from 'del' command on
>> ? ? ? ? ? ? ?nt shell deleting the .exe (and .tds), despite the
>> ? ? ? ? ? ? ?file is there and we're doing wildcard check too.
>> ? ? ? ? ? ? ?Ideas are welcome. This worked a few days ago.
>>
>> Modified Paths:
>> --------------
>> ? ? trunk/harbour/ChangeLog
>> ? ? trunk/harbour/config/globsh.mk
>>
>>
>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> --
> ?__________
> | ?| ?| |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
>
> ! MAKE: make 3.81 clean ?D:\OS2\CMD.EXE
> ! HB_BIN_INSTALL: e:\harbour\bin
> ! HB_LIB_INSTALL: e:\harbour\lib
> ! HB_INC_INSTALL: e:\harbour\include
> ! HB_HOST_ARCH: os2 ?HB_SHELL: os2 (pre-xp)
> ! HB_ARCHITECTURE: os2 (x86)
> ! HB_COMPILER: gcc
> ! HB_BIN_COMPILE not specified. Automatically set to: E:/harbour/bin
> ! HB_INSTALL_PREFIX set to: E:\repository\harbour
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbcommon.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbnortl.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbpp.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\bin\os2\gcc\hbpp.tds.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbcplr.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\bin\os2\gcc\harbour.tds.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbrtl.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\..\lib\os2\gcc\gtcgi.bak.
> make[3]: [clean] Error 1 (ignored)
> ! 'gtcrs' library skipped
> ! 'gtdos' library skipped
> ! 'gtgui' library skipped
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\..\lib\os2\gcc\gtos2.bak.
> make[3]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\..\lib\os2\gcc\gtpca.bak.
> make[3]: [clean] Error 1 (ignored)
> ! 'gtsln' library skipped
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\..\lib\os2\gcc\gtstd.bak.
> make[3]: [clean] Error 1 (ignored)
> ! 'gttrm' library skipped
> ! 'gtwin' library skipped
> ! 'gtwvt' library skipped
> ! 'gtxwc' library skipped
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbvm.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\..\lib\os2\gcc\hbvmmt.bak.
> make[3]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbmacro.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbcpage.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hblang.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbrdd.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\..\lib\os2\gcc\hbnulrdd.bak.
> make[3]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\..\lib\os2\gcc\rddntx.bak.
> make[3]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\..\lib\os2\gcc\rddnsx.bak.
> make[3]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\..\lib\os2\gcc\rddcdx.bak.
> make[3]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\..\lib\os2\gcc\rddfpt.bak.
> make[3]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\..\lib\os2\gcc\hbsix.bak.
> make[3]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\..\lib\os2\gcc\hbhsx.bak.
> make[3]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\..\lib\os2\gcc\hbusrrdd.bak.
> make[3]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\..\..\lib\os2\gcc\hbuddall.bak.
> make[3]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbextern.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbpcre.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbzlib.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbdebug.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\bin\os2\gcc\harbour-20.def.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\bin\os2\gcc\harbour-20.exp.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\..\bin\os2\gcc\harbourmt-20.def.
> make[3]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\..\bin\os2\gcc\harbourmt-20.exp.
> make[3]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\bin\os2\gcc\hbrun.tds.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\bin\os2\gcc\hbmk2.tds.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\bin\os2\gcc\hbi18n.tds.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\bin\os2\gcc\hbtest.tds.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\bin\os2\gcc\hbformat.tds.
> make[2]: [clean] Error 1 (ignored)
> ! 'gtwvg' library skipped
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbbmcdx.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbbtree.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbclipsm.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbct.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbgt.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbmisc.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbmzip.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbnf.bak.
> make[2]: [clean] Error 1 (ignored)
> ! 'hbodbc' library skipped
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbsqlit3.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbtip.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbtpathy.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbvpdf.bak.
> make[2]: [clean] Error 1 (ignored)
> ! 'hbwin' library skipped
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbziparc.bak.
> make[2]: [clean] Error 1 (ignored)
> ! 'rddado' library skipped
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\xhb.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\xpp.bak.
> make[2]: [clean] Error 1 (ignored)
> ! 'gtalleg' library skipped
> ! 'hbblat' library skipped
> ! 'hbcurl' library skipped
> ! 'hbfbird' library skipped
> ! 'hbfimage' library skipped
> ! 'hbgd' library skipped
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\hbhpdf.bak.
> make[2]: [clean] Error 1 (ignored)
> ! 'hbmysql' library skipped
> ! 'hbpgsql' library skipped
> ! 'hbqt' library skipped
> ! 'hbssl' library skipped
> ! 'rddads' library skipped
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\rddsql.bak.
> make[2]: [clean] Error 1 (ignored)
> ! 'sddmy' library skipped
> ! 'sddpg' library skipped
> ! 'sddfb' library skipped
> ! 'sddodbc' library skipped
> ! 'hbxbp' library skipped
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\libhpdf.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\libpng.bak.
> make[2]: [clean] Error 1 (ignored)
> SYS0002: The system cannot find the file specified.
> Error occurred while processing: ..\..\lib\os2\gcc\sqlite3.bak.
> make[2]: [clean] Error 1 (ignored)
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
From vszakats at users.sourceforge.net  Fri Aug 21 11:32:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 11:32:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12240] trunk/harbour
Message-ID: <E1MeW6R-0001FO-0P@d5vjzd1.ch3.sourceforge.com>

Revision: 12240
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12240&view=rev
Author:   vszakats
Date:     2009-08-21 15:32:29 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 17:33 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/pp/Makefile
    - Deleted just added global.mk. It's not needed.

  * config/globsh.mk
    + Added $(MV) variable with move command.
    + Added $(LN) variable with *nix link command.
    ! Fixed $(RM) in os2 shell rules to use os2-rm.exe 
      instead of shell provided del. Latter show errors 
      if filename doesn't exist, and we're now using 
      clean rules copied from dos shell, which doesn't 
      make extra existance checks. Well, to put it 
      shortly I've synced $(RM) with dos shell solution.

  + config/dj-mv.exe
  * config/readme.txt
    + Added DJGPP mv tool.

  * bin/hb-func.sh
    ! Fixed typo in syslib lone in a recent commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/config/globsh.mk
    trunk/harbour/config/readme.txt
    trunk/harbour/source/pp/Makefile

Added Paths:
-----------
    trunk/harbour/config/dj-mv.exe


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Aug 21 11:34:47 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 21 11:34:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12234] trunk/harbour
In-Reply-To: <18d502870908210805j255e694dk86aef7c98b84da7b@mail.gmail.com>
References: <E1MeUhr-0004ir-BA@3kljzd1.ch3.sourceforge.com>
	<20090821142051.GA1841@uran.home.aster.pl>
	<18d502870908210736u284db431r5b1f92b0192137ed@mail.gmail.com>
	<20090821144822.GA23780@uran.home.aster.pl>
	<18d502870908210757q5501fbabv79193f857d67bac4@mail.gmail.com>
	<18d502870908210805j255e694dk86aef7c98b84da7b@mail.gmail.com>
Message-ID: <20090821153447.GA30065@uran.home.aster.pl>

On Fri, 21 Aug 2009, Szak?ts Viktor wrote:
> Same is true for dos rules in globsh.cf change by your recent commit.
> ---
> 	$(if $(LIB_FILE),-@$(RM) $(basename $(LIB_FILE_OS)).bak,)
> 	$(if $(LIB_FILE),$(if $(wildcard $(LIB_DIR)/*.*),,-@$(RDP) $(LIB_DIR_OS)),)
> ---
> 
> Second line will not be executed if LIB_FILE existed in this pass.
> In next 'clean' run it will deleted the directory.
> 
> Am I seeing it right? (before I start doing any fixes)

Yes. The second line should be changed to:
	$(if $(LIB_FILE),$(if $(filterout $(basename $(LIB_FILE_OS)).bak,$(wildcard $(LIB_DIR)/*.*)),,-@$(RDP) $(LIB_DIR_OS)),)

> Also, what clever stunt could we pull to avoid readding 'if exist' rules,
> which don't work too well in dos shell anyway?
> [ Adding a second level of clean rule comes to mind, but I don't know
> how to add it. ]

Not for this case but as total cleanup for all arch you can add
support for 'mrproper' action.

best regards,
Przemek
From bedipritpal at hotmail.com  Fri Aug 21 11:36:11 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Aug 21 11:36:16 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <18d502870908210719u15cd9aefybe64da8d3eecdaad@mail.gmail.com>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
	<m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>
	<4A8CEE55.7090800@mweb.co.za> <25057035.post@talk.nabble.com>
	<4A8CF8A2.8040709@mweb.co.za> <25057994.post@talk.nabble.com>
	<4A8D124C.8020506@mweb.co.za>
	<20090820111852.GA7617@uran.home.aster.pl>
	<4A8D391A.5060008@mweb.co.za>
	<20090820145836.GA4209@uran.home.aster.pl>
	<4A8D6D60.2020702@mweb.co.za>
	<20090820234010.GA17613@uran.home.aster.pl>
	<4A8E4B11.5000401@mweb.co.za>
	<20090821114948.GA11993@uran.home.aster.pl>
	<4A8EA210.7020802@mweb.co.za>
	<18d502870908210719u15cd9aefybe64da8d3eecdaad@mail.gmail.com>
Message-ID: <25082162.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> Very nice indeed.
> 
> Maybe it's now possible to remove some redundant logic from GTWVG.
> At least I hope. Pritpal do you see a chance?
> 

I have to turn to GTWVG which till recently I did not looked even,
too busy with HBXBP. I will revert to to in a couple of days and will 
thoroughly evaluate Przemek's changes to core OLE code.

BTW in GTWVG I am already using single event handler for all events.
However, I have to thoroughly in to understand what Przemek has 
enhanced.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Possible-OleAuto-bug-tp25044738p25082162.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Aug 21 11:44:57 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 11:45:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12234] trunk/harbour
In-Reply-To: <20090821153447.GA30065@uran.home.aster.pl>
References: <E1MeUhr-0004ir-BA@3kljzd1.ch3.sourceforge.com>
	<20090821142051.GA1841@uran.home.aster.pl>
	<18d502870908210736u284db431r5b1f92b0192137ed@mail.gmail.com>
	<20090821144822.GA23780@uran.home.aster.pl>
	<18d502870908210757q5501fbabv79193f857d67bac4@mail.gmail.com>
	<18d502870908210805j255e694dk86aef7c98b84da7b@mail.gmail.com>
	<20090821153447.GA30065@uran.home.aster.pl>
Message-ID: <18d502870908210844i7cf9d62bt4ffd720056e4154e@mail.gmail.com>

> Yes. The second line should be changed to:
> ? ? ? ?$(if $(LIB_FILE),$(if $(filterout $(basename $(LIB_FILE_OS)).bak,$(wildcard $(LIB_DIR)/*.*)),,-@$(RDP) $(LIB_DIR_OS)),)

Thank you.

>> Also, what clever stunt could we pull to avoid readding 'if exist' rules,
>> which don't work too well in dos shell anyway?
>> [ Adding a second level of clean rule comes to mind, but I don't know
>> how to add it. ]
>
> Not for this case but as total cleanup for all arch you can add
> support for 'mrproper' action.

Hm I'm not sure what that is (read about it recently, but discarded
as non-relevant for Harbour).

Maybe you misunderstood it, the idea isn't to add a second
clean pass on the user level, but rather internally.

So the user says 'clean', than GNU make goes and executes
'clean_file' and 'clean_dir' rules in this order, automatically.
This way the rules could be much cleaner than they are now.

Any good?

Brgds,
Viktor
From druzus at acn.waw.pl  Fri Aug 21 11:52:39 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 21 11:52:45 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <25082162.post@talk.nabble.com>
References: <20090820111852.GA7617@uran.home.aster.pl>
	<4A8D391A.5060008@mweb.co.za>
	<20090820145836.GA4209@uran.home.aster.pl>
	<4A8D6D60.2020702@mweb.co.za>
	<20090820234010.GA17613@uran.home.aster.pl>
	<4A8E4B11.5000401@mweb.co.za>
	<20090821114948.GA11993@uran.home.aster.pl>
	<4A8EA210.7020802@mweb.co.za>
	<18d502870908210719u15cd9aefybe64da8d3eecdaad@mail.gmail.com>
	<25082162.post@talk.nabble.com>
Message-ID: <20090821155238.GA9817@uran.home.aster.pl>

On Fri, 21 Aug 2009, Pritpal Bedi wrote:

Hi,

> I have to turn to GTWVG which till recently I did not looked even,
> too busy with HBXBP. I will revert to to in a couple of days and will 
> thoroughly evaluate Przemek's changes to core OLE code.

C code using ax controls has to be updated to use hb_oleParam() instead of
hb_parptr(). That's all if reference counters were updated correctly.
If not then the code has to be cleaned.

> BTW in GTWVG I am already using single event handler for all events.
> However, I have to thoroughly in to understand what Przemek has 
> enhanced.

.prg interface is unchanged here. The example I sent to Alex is
original functionality implemented by Mindaugas.
The new extension is support for parameters passed by references
(if you change some variables in your handler and they were passed
by reference then you will update caller variables too).
I also added support for using hash array with event handlers indexed
by event numbers so instead of using single function pointer or
codeblock you can use:
   { nEvent1 => @myEventOneHandler(), ;
     nEvent2 => {|...| myEventTwoHandler( obj, ... ) } }
as 2-nd __AXREGISTERHANDLER() parameter but it's optional extension.

best regards,
Przemek
From maurilio.longo at libero.it  Fri Aug 21 11:52:55 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Aug 21 11:53:07 2009
Subject: [Harbour] def/undef during build
Message-ID: <4A8EC2D7.1000907@libero.it>

Hi Viktor,

al 12240 I've got lots of


s.c
gcc  -I. -I../../../../../include  -Wall -W -O3   -ofiles.o -c ../../../files.c
gcc  -I. -I../../../../../include  -Wall -W -O3   -osendmail.o -c sendmail.c
E:/harbour/bin/harbour.exe ../../../hbziparc.prg -n1  -i../../../../../include -
q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
gcc  -I. -I../../../../../include  -Wall -W -O3   -osetlastk.o -c ../../../setla
stk.c
gcc  -I. -I../../../../../include  -Wall -W -O3   -ohbziparc.o -c hbziparc.c
gcc  -I. -I../../../../../include  -Wall -W -O3   -ofinan.o -c ../../../finan.c
gcc  -I. -I../../../../../include  -Wall -W -O3   -osessid.o -c sessid.c
gcc  -I. -I../../../../../include  -Wall -W -O3   -oshift.o -c ../../../shift.c
gcc  -I. -I../../../../../include  -Wall -W -O3   -osmtpcli.o -c smtpcli.c
for %i in ( *.o ) do @echo ADDMOD %i >> __lib__.tmp
gcc  -I. -I../../../../../include  -Wall -W -O3   -oftoc.o -c ../../../ftoc.c
ar   -M < __lib__.tmp & ..\..\..\..\..\config\os2-rm -f __lib__.tmp
gcc  -I. -I../../../../../include  -Wall -W -O3   -ostod.o -c ../../../stod.c
gcc  -I. -I../../../../../include  -Wall -W -O3   -othtml.o -c thtml.c
gcc  -I. -I../../../../../include  -Wall -W -O3   -ojustify.o -c ../../../justif
y.c


See the

-undef:__PLATFORM__OS2 -D__PLATFORM__OS2



Best regards


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From fernando_athayde at yahoo.com.br  Fri Aug 21 12:02:08 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Fri Aug 21 12:02:14 2009
Subject: Res: [Harbour] msvc winCE and fcntl.h
In-Reply-To: <20090821143406.GB1841@uran.home.aster.pl>
References: <64968.32199.qm@web52209.mail.re2.yahoo.com>
	<917839.79032.qm@web52206.mail.re2.yahoo.com>
	<18d502870908210718k3ecd347dua2525a42f75fce8c@mail.gmail.com>
	<20090821143406.GB1841@uran.home.aster.pl>
Message-ID: <156483.60694.qm@web52208.mail.re2.yahoo.com>

have this
/* Derived from process.h file from Windows NT */
BOOL
WINAPI
DllMain (
    HANDLE hinstDLL,
    DWORD dwReason,
    LPVOID lpvReserved
    );

#ifdef UNDER_CE
#define GetProcAddress GetProcAddressW

Thanks
Fernando




________________________________
De: Przemyslaw Czerpak <druzus@acn.waw.pl>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Sexta-feira, 21 de Agosto de 2009 11:34:06
Assunto: Re: [Harbour] msvc winCE and fcntl.h

On Fri, 21 Aug 2009, Szak?ts Viktor wrote:

Hi,

> I'm historically lost with the other kind of issue, I'd leave it for Przemek.
> > then appears this error now in maindllh.c
> > ../../../../maindllh.c(70) : error C2375: 'DllMain' : redefinition;
> > different li
> > nkage
> >         C:\Program Files\Windows Mobile 5.0 SDK
> > R2\PocketPC\Include\Armv4i\winba
> > se.h(313) : see declaration of 'DllMain'

I'm not a wizard to guess what MSVC has in it's header files ;-)
so please be so kind and look it and uppdate HB_DLL_ENTRY_POINT
declaration. Probably it's the same as for POCC.

best regards,
Przemek
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour


__________________________________________________
Fale com seus amigos  de gra?a com o novo Yahoo! Messenger 
http://br.messenger.yahoo.com/ 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090821/c2276d80/attachment.html
From harbour.01 at syenar.hu  Fri Aug 21 12:07:47 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 12:07:53 2009
Subject: [Harbour] def/undef during build
In-Reply-To: <4A8EC2D7.1000907@libero.it>
References: <4A8EC2D7.1000907@libero.it>
Message-ID: <18d502870908210907o4e9d69b7h67cfba724b8e95d1@mail.gmail.com>

Thank you. I'll fix it ASAP.

Brgds,
Viktor

On Fri, Aug 21, 2009 at 5:52 PM, Maurilio Longo<maurilio.longo@libero.it> wrote:
> Hi Viktor,
>
> al 12240 I've got lots of
>
>
> s.c
> gcc ?-I. -I../../../../../include ?-Wall -W -O3 ? -ofiles.o -c ../../../files.c
> gcc ?-I. -I../../../../../include ?-Wall -W -O3 ? -osendmail.o -c sendmail.c
> E:/harbour/bin/harbour.exe ../../../hbziparc.prg -n1 ?-i../../../../../include -
> q0 -w3 -es2 -kmo -l ?-undef:__PLATFORM__OS2 -D__PLATFORM__OS2
> gcc ?-I. -I../../../../../include ?-Wall -W -O3 ? -osetlastk.o -c ../../../setla
> stk.c
> gcc ?-I. -I../../../../../include ?-Wall -W -O3 ? -ohbziparc.o -c hbziparc.c
> gcc ?-I. -I../../../../../include ?-Wall -W -O3 ? -ofinan.o -c ../../../finan.c
> gcc ?-I. -I../../../../../include ?-Wall -W -O3 ? -osessid.o -c sessid.c
> gcc ?-I. -I../../../../../include ?-Wall -W -O3 ? -oshift.o -c ../../../shift.c
> gcc ?-I. -I../../../../../include ?-Wall -W -O3 ? -osmtpcli.o -c smtpcli.c
> for %i in ( *.o ) do @echo ADDMOD %i >> __lib__.tmp
> gcc ?-I. -I../../../../../include ?-Wall -W -O3 ? -oftoc.o -c ../../../ftoc.c
> ar ? -M < __lib__.tmp & ..\..\..\..\..\config\os2-rm -f __lib__.tmp
> gcc ?-I. -I../../../../../include ?-Wall -W -O3 ? -ostod.o -c ../../../stod.c
> gcc ?-I. -I../../../../../include ?-Wall -W -O3 ? -othtml.o -c thtml.c
> gcc ?-I. -I../../../../../include ?-Wall -W -O3 ? -ojustify.o -c ../../../justif
> y.c
>
>
> See the
>
> -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>
>
>
> Best regards
>
>
> --
> ?__________
> | ?| ?| |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From fernando_athayde at yahoo.com.br  Fri Aug 21 12:16:19 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Fri Aug 21 12:16:25 2009
Subject: Res: [Harbour] SF.net SVN: harbour-project:[12237] trunk/harbour
In-Reply-To: <E1MeVJX-0005gX-Qi@3kljzd1.ch3.sourceforge.com>
References: <E1MeVJX-0005gX-Qi@3kljzd1.ch3.sourceforge.com>
Message-ID: <865940.69044.qm@web52208.mail.re2.yahoo.com>

but still with the same error
i made "clean" and try a new compilation, but without success

../../../../maindllh.c(70) : error C2375: 'DllMain' : redefinition; different li
nkage
        C:\Program Files\Windows Mobile 5.0 SDK R2\PocketPC\Include\Armv4i\winba
se.h(313) : see declaration of 'DllMain'
mingw32-make[4]: *** [maindllh.obj] Error 2
mingw32-make[3]: *** [descend] Error 2
mingw32-make[2]: *** [maindllh] Error 2
mingw32-make[1]: *** [vm] Error 2
mingw32-make: *** [source] Error 2

Brgds,
Fernando




________________________________
De: "vszakats@users.sourceforge.net" <vszakats@users.sourceforge.net>
Para: harbour@harbour-project.org
Enviadas: Sexta-feira, 21 de Agosto de 2009 11:41:59
Assunto: [Harbour] SF.net SVN: harbour-project:[12237] trunk/harbour

Revision: 12237
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12237&view=rev
Author:   vszakats
Date:     2009-08-21 14:41:58 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 16:42 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/vm/maindllh.c
  * source/vm/maindllp.c
    ! Fixed DllMain() declaration for msvcarm targets.
      Thanks Przemek for the hint.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/maindllh.c
    trunk/harbour/source/vm/maindllp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour


__________________________________________________
Fale com seus amigos  de gra?a com o novo Yahoo! Messenger 
http://br.messenger.yahoo.com/ 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090821/7d18e79e/attachment.html
From bedipritpal at hotmail.com  Fri Aug 21 12:19:23 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Aug 21 12:19:27 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <20090821155238.GA9817@uran.home.aster.pl>
References: <9471afc80908190702t1f1647f0i4215ff393067ebbb@mail.gmail.com>
	<F3DBAAF1-630C-468F-9B1F-32CEAA8235A8@syenar.hu>
	<9471afc80908190746h50c5c622hcfacaf40d59f1890@mail.gmail.com>
	<m39o851cpbln48af7rrq9gc28bsblo52mb@4ax.com>
	<4A8CEE55.7090800@mweb.co.za> <25057035.post@talk.nabble.com>
	<4A8CF8A2.8040709@mweb.co.za> <25057994.post@talk.nabble.com>
	<4A8D124C.8020506@mweb.co.za>
	<20090820111852.GA7617@uran.home.aster.pl>
	<4A8D391A.5060008@mweb.co.za>
	<20090820145836.GA4209@uran.home.aster.pl>
	<4A8D6D60.2020702@mweb.co.za>
	<20090820234010.GA17613@uran.home.aster.pl>
	<4A8E4B11.5000401@mweb.co.za>
	<20090821114948.GA11993@uran.home.aster.pl>
	<4A8EA210.7020802@mweb.co.za>
	<18d502870908210719u15cd9aefybe64da8d3eecdaad@mail.gmail.com>
	<25082162.post@talk.nabble.com>
	<20090821155238.GA9817@uran.home.aster.pl>
Message-ID: <25082940.post@talk.nabble.com>


Hi


Przemyslaw Czerpak-2 wrote:
> 
> C code using ax controls has to be updated to use hb_oleParam() instead of
> hb_parptr(). That's all if reference counters were updated correctly.
> If not then the code has to be cleaned.
> 

I submit that current ( before your "this" changes ) never releases the 
ole object neither with Mindaugas code nor with GTWVG, and I was 
desperately looking for this fix. Today I will make experiments and will let 
you know the results.



> .prg interface is unchanged here. The example I sent to Alex is
> original functionality implemented by Mindaugas.
> The new extension is support for parameters passed by references
> (if you change some variables in your handler and they were passed
> by reference then you will update caller variables too).
> I also added support for using hash array with event handlers indexed
> by event numbers so instead of using single function pointer or
> codeblock you can use:
>    { nEvent1 => @myEventOneHandler(), ;
>      nEvent2 => {|...| myEventTwoHandler( obj, ... ) } }
> as 2-nd __AXREGISTERHANDLER() parameter but it's optional extension.
> 

Oh, Ok. I wll look what can be eliminated in GTWVG.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Possible-OleAuto-bug-tp25044738p25082940.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Aug 21 12:26:51 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 12:26:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12237] trunk/harbour
In-Reply-To: <865940.69044.qm@web52208.mail.re2.yahoo.com>
References: <E1MeVJX-0005gX-Qi@3kljzd1.ch3.sourceforge.com>
	<865940.69044.qm@web52208.mail.re2.yahoo.com>
Message-ID: <18d502870908210926y238ccbeeja98d86d094680da4@mail.gmail.com>

Try adding this to the top of these files:
---

#if defined( _MSC_VER ) && defined( HB_DYNLIB )
   #undef HB_DYNLIB
#endif
---

Przemek, to me this looks like an ugly hack, do you have a better idea?

Brgds,
Viktor

On Fri, Aug 21, 2009 at 6:16 PM, Fernando
Athayde<fernando_athayde@yahoo.com.br> wrote:
> but still with the same error
> i made "clean" and try a new compilation, but without success
>
> ../../../../maindllh.c(70) : error C2375: 'DllMain' : redefinition;
> different li
> nkage
> ??????? C:\Program Files\Windows Mobile 5.0 SDK
> R2\PocketPC\Include\Armv4i\winba
> se.h(313) : see declaration of 'DllMain'
> mingw32-make[4]: *** [maindllh.obj] Error 2
> mingw32-make[3]: *** [descend] Error 2
> mingw32-make[2]: *** [maindllh] Error 2
> mingw32-make[1]: *** [vm] Error 2
> mingw32-make: *** [source] Error 2
>
> Brgds,
> Fernando
>
> ________________________________
> De: "vszakats@users.sourceforge.net" <vszakats@users.sourceforge.net>
> Para: harbour@harbour-project.org
> Enviadas: Sexta-feira, 21 de Agosto de 2009 11:41:59
> Assunto: [Harbour] SF.net SVN: harbour-project:[12237] trunk/harbour
>
> Revision: 12237
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12237&view=rev
> Author:? vszakats
> Date:? ? 2009-08-21 14:41:58 +0000 (Fri, 21 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-21 16:42 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
> ? * source/vm/maindllh.c
> ? * source/vm/maindllp.c
> ? ? ! Fixed DllMain() declaration for msvcarm targets.
> ? ? ? Thanks Przemek for the hint.
>
> Modified Paths:
> --------------
> ? ? trunk/harbour/ChangeLog
> ? ? trunk/harbour/source/vm/maindllh.c
> ? ? trunk/harbour/source/vm/maindllp.c
>
>
> This was sent by the SourceForge.net collaborative development platform, the
> world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> __________________________________________________
> Fale com seus amigos de gra?a com o novo Yahoo! Messenger
> http://br.messenger.yahoo.com/
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
From harbour.01 at syenar.hu  Fri Aug 21 12:29:14 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 21 12:29:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12237] trunk/harbour
In-Reply-To: <18d502870908210926y238ccbeeja98d86d094680da4@mail.gmail.com>
References: <E1MeVJX-0005gX-Qi@3kljzd1.ch3.sourceforge.com>
	<865940.69044.qm@web52208.mail.re2.yahoo.com>
	<18d502870908210926y238ccbeeja98d86d094680da4@mail.gmail.com>
Message-ID: <18d502870908210929j3439b5aalb11d671da34a0774@mail.gmail.com>

This is also hurting non-CE system.

I give up here, can't pay attention to that many things. I hope someone
will fix this.

Brgds,
Viktor

On Fri, Aug 21, 2009 at 6:26 PM, Viktor Szak?ts<harbour.01@syenar.hu> wrote:
> Try adding this to the top of these files:
> ---
>
> #if defined( _MSC_VER ) && defined( HB_DYNLIB )
> ? #undef HB_DYNLIB
> #endif
> ---
>
> Przemek, to me this looks like an ugly hack, do you have a better idea?
>
> Brgds,
> Viktor
>
> On Fri, Aug 21, 2009 at 6:16 PM, Fernando
> Athayde<fernando_athayde@yahoo.com.br> wrote:
>> but still with the same error
>> i made "clean" and try a new compilation, but without success
>>
>> ../../../../maindllh.c(70) : error C2375: 'DllMain' : redefinition;
>> different li
>> nkage
>> ??????? C:\Program Files\Windows Mobile 5.0 SDK
>> R2\PocketPC\Include\Armv4i\winba
>> se.h(313) : see declaration of 'DllMain'
>> mingw32-make[4]: *** [maindllh.obj] Error 2
>> mingw32-make[3]: *** [descend] Error 2
>> mingw32-make[2]: *** [maindllh] Error 2
>> mingw32-make[1]: *** [vm] Error 2
>> mingw32-make: *** [source] Error 2
>>
>> Brgds,
>> Fernando
>>
>> ________________________________
>> De: "vszakats@users.sourceforge.net" <vszakats@users.sourceforge.net>
>> Para: harbour@harbour-project.org
>> Enviadas: Sexta-feira, 21 de Agosto de 2009 11:41:59
>> Assunto: [Harbour] SF.net SVN: harbour-project:[12237] trunk/harbour
>>
>> Revision: 12237
>>
>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12237&view=rev
>> Author:? vszakats
>> Date:? ? 2009-08-21 14:41:58 +0000 (Fri, 21 Aug 2009)
>>
>> Log Message:
>> -----------
>> 2009-08-21 16:42 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>> ? * source/vm/maindllh.c
>> ? * source/vm/maindllp.c
>> ? ? ! Fixed DllMain() declaration for msvcarm targets.
>> ? ? ? Thanks Przemek for the hint.
>>
>> Modified Paths:
>> --------------
>> ? ? trunk/harbour/ChangeLog
>> ? ? trunk/harbour/source/vm/maindllh.c
>> ? ? trunk/harbour/source/vm/maindllp.c
>>
>>
>> This was sent by the SourceForge.net collaborative development platform, the
>> world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> __________________________________________________
>> Fale com seus amigos de gra?a com o novo Yahoo! Messenger
>> http://br.messenger.yahoo.com/
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
From kadziola at tlen.pl  Fri Aug 21 12:45:43 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Fri Aug 21 12:45:56 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <20090821134502.GA1678@uran.home.aster.pl>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
	<14464984.20090821152825@tlen.pl>
	<20090821134502.GA1678@uran.home.aster.pl>
Message-ID: <851264790.20090821184543@tlen.pl>

Hi!

W li?cie datowanym 21 sierpnia 2009 (15:45:02) napisano:


> If you are using older version then please try to add -loleaut32
> to hbmk2 parameters. It should help.

$ hbmk2 testole -loleaut32
hbmk: Processing local make script: hbmk.hbm                                                                                  
hbmk: Processing configuration: G:\msys\1.0\harbour\bin\hbmk.cfg                                                              
hbmk: Processing: hbwin.hbc                                                                                                   
Harbour 2.0.0beta2 (Rev. 11919)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'testole.prg'...
Lines 429, Functions/Procedures 12
Generating C source output to 'testole.c'... Done.
G:/msys/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x18ec): undefined reference to `GetActiveObject'
G:/msys/1.0/hb-mingwarm/lib/libhbwin.a(oleinit.o):oleinit.c:(.text+0x14): undefined reference to `OleInitialize'
G:/msys/1.0/hb-mingwarm/lib/libhbwin.a(oleinit.o):oleinit.c:(.text+0x50): undefined reference to `OleUninitialize'
collect2: ld returned 1 exit status
hbmk: Error: Running linker. 1                                                                                                
"G:/msys/1.0/opt/mingw32ce/bin/\arm-wince-mingw32ce-gcc.exe" testole.o hbmk_s33uo2.o -Wl,--start-group -lhbwin -lsms
-lCellCore -loleaut32 -lhbcpage -lhblang -lhbcommon -lhbcplr -lhbdebug -lhbvm -lhbrdd -lhbusrrdd -lhbhsx -lhbsix -lrddnt                                             x -lrddcdx -lrddfpt -lhbuddall -lrddnsx -lhbrtl -lhbpp -lhbmacro -lhbextern -lgt                                             cgi -lgtpca -lgtstd -lgtwvt -lgtgui -lhbpcre -lhbzlib -lwininet -lws2 -lcommdlg                                              -lcommctrl -luuid -lole32  -Wl,--end-group -otestole.exe -L"G:/msys/1.0/hb-mingw                                             arm/lib"



> BTW have you made some tests with different fonts for console window
> in WinCE?

Not yet.

> I forgot to tell you about one important switch.
>    hb_gtInfo( HB_GTI_RESIZEMODE, HB_GTI_RESIZEMODE_ROWS )
> disables automatic font resizing to screen dimensions.
> In my test few month ago the default setting:
>    hb_gtInfo( HB_GTI_RESIZEMODE, HB_GTI_RESIZEMODE_FONT )
> made console window unreadable in PocketPC emulator.

Ok, i'll try tomorrow.

Thanks for Your time.

---
Regards,
Jaroslaw Kadziola


From druzus at acn.waw.pl  Fri Aug 21 13:07:16 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Aug 21 13:07:23 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <25082940.post@talk.nabble.com>
References: <20090820145836.GA4209@uran.home.aster.pl>
	<4A8D6D60.2020702@mweb.co.za>
	<20090820234010.GA17613@uran.home.aster.pl>
	<4A8E4B11.5000401@mweb.co.za>
	<20090821114948.GA11993@uran.home.aster.pl>
	<4A8EA210.7020802@mweb.co.za>
	<18d502870908210719u15cd9aefybe64da8d3eecdaad@mail.gmail.com>
	<25082162.post@talk.nabble.com>
	<20090821155238.GA9817@uran.home.aster.pl>
	<25082940.post@talk.nabble.com>
Message-ID: <20090821170716.GA15190@uran.home.aster.pl>

On Fri, 21 Aug 2009, Pritpal Bedi wrote:

Hi

> Przemyslaw Czerpak-2 wrote:
> > C code using ax controls has to be updated to use hb_oleParam() instead of
> > hb_parptr(). That's all if reference counters were updated correctly.
> > If not then the code has to be cleaned.
> I submit that current ( before your "this" changes ) never releases the 
> ole object neither with Mindaugas code nor with GTWVG, and I was 
> desperately looking for this fix. Today I will make experiments and will let 
> you know the results.

Thank you.

Now ax controls should be cleanly released but I cannot make any tests.
Probably it can be easy tested by simple code like:

   proc test( hWnd )
      local oAx
      if valtype( hWnd ) == "N"
         hWnd := win_n2p( hWnd )
      endif
      ? "start"
      oAx := WIN_AxGetControl( hWnd, mk_cblock( mycls():new() ) )
      ? "ax control created"
      oAx := NIL
      ? "ax control destroyed"
   return

   func mk_cblock( obj )
      return {|| obj }

   class mycls
      destructor dtor
   endclass

   method procedure dtor()
      ? "*** destructor executed ***"
   return

best regards,
Przemek
From druzus at users.sourceforge.net  Fri Aug 21 13:08:07 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Aug 21 13:08:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12241] trunk/harbour
Message-ID: <E1MeXax-0003tu-9M@bj8yhf1.ch3.sourceforge.com>

Revision: 12241
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12241&view=rev
Author:   druzus
Date:     2009-08-21 17:08:06 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 19:07 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/axcore.c
    * do not pass event number as 1-st parameter to user handlers
      taken from array indexed by event numbers - it's not necessary
      to repeat it.
    * updated RT error handlers

  * harbour/config/global.mk
    * extended MS-DOS detection

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/contrib/hbwin/axcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug 21 13:55:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 13:55:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12242] trunk/harbour
Message-ID: <E1MeYLB-0004yN-4F@bj8yhf1.ch3.sourceforge.com>

Revision: 12242
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12242&view=rev
Author:   vszakats
Date:     2009-08-21 17:55:52 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 19:54 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
   * source/dynlib/mt/Makefile
   * source/dynlib/Makefile
     + Added 'install' logic for dynamic lib implibs.

   * config/global.mk
     + Added useful GNU Make link.
     ! Added HB_HOST_CPU "detection" for os2 and dos to avoid
       situation where cross-build is detected due to different
       to HB_CPU value. (HB_CPU autodetection for os2 dos was
       added yesterday). It's quite theoretical, as os2 dos
       has CPU type set to constant 'x86'.
     + Added IMP_DIR value. This hold where to store implibs
       for dynamic libs. Empty if platform don't need implibs
       (huge relief BTW). For *nix this value is set empty, for
       non-*nix it's set to LIB_DIR.
     + Added initialization for DYN_PREF (to empty).

   * config/dyn.mk
     + Added handling of IMP_DIR, IMP_FILE.
     ! Dyn lib build rule guarded with HB_BUILD_DLL and DY_RULE
       checks.

   * config/globsh.mk
     + Added dirbase and clean rules for implibs.
     ! Fixed using OS version of dirs in $(wildcard) for nt
       clean rules for OBJ_DIR and PKG_DIR.

   * config/wce/mingwarm.mk
   * config/wce/poccarm.mk
   * config/wce/msvcarm.mk
   * config/win/xcc.mk
   * config/win/mingw.mk
   * config/win/pocc.mk
   * config/win/bcc.mk
   * config/win/watcom.mk
   * config/win/icc.mk
   * config/win/cygwin.mk
   * config/win/msvc.mk
     + Dynamic lib rules extended to generate implib in IMP_DIR.
       This goes smoothly with all compiler except bcc, which requires
       a copy and a delete to move the implib to lib dir. 'move'
       doesn't work (says 'command not found' or equivalent and
       requires '$(COMSPEC) /C' with GNU Make + nt shell), so I
       didn't use it finally. Anyhow bcc implib is small.

  * config/globsh.mk
    - Deleted $(MV) variable with move command.
      (problematic under nt shells)

  - config/dj-mv.exe
  * config/readme.txt
    - Deleted DJGPP mv tool.

   ; NOTE: dynamic library handling seems to be about feature complete.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dyn.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/globsh.mk
    trunk/harbour/config/readme.txt
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/config/win/cygwin.mk
    trunk/harbour/config/win/icc.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/config/win/pocc.mk
    trunk/harbour/config/win/watcom.mk
    trunk/harbour/config/win/xcc.mk
    trunk/harbour/source/dynlib/Makefile
    trunk/harbour/source/dynlib/mt/Makefile

Removed Paths:
-------------
    trunk/harbour/config/dj-mv.exe


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug 21 14:05:44 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 14:05:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12243] trunk/harbour
Message-ID: <E1MeYUi-0005CF-2t@bj8yhf1.ch3.sourceforge.com>

Revision: 12243
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12243&view=rev
Author:   vszakats
Date:     2009-08-21 18:05:43 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 20:06 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/globsh.mk
    + Extended NOTE about max cmdline lenght on nt shells.

  * ChangeLog
    + Added solution to 'move' problem on nt (and other) shells.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug 21 15:00:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 15:00:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
Message-ID: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>

Revision: 12244
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12244&view=rev
Author:   vszakats
Date:     2009-08-21 19:00:06 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 21:00 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/vm/maindllh.c
  * source/vm/Makefile
    + Added support for os2 .dll. Please review.

  * config/os2/watcom.mk
    + Added os2 .dll generation for watcom.
      Now it generates OK.

  * source/Makefile
  * config/lib.mk
    + Added support for os2 and some level of *nix support.

  * INSTALL
    * Minor update to a few option description.

  * utils/hbmk2/hbmk2.prg
    + Added preliminary/experimental/untested OS/2 -shared (.dll)
      support for watcom targets.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/lib.mk
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/source/Makefile
    trunk/harbour/source/vm/Makefile
    trunk/harbour/source/vm/maindllh.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From qiinfo at ig.com.br  Fri Aug 21 15:27:42 2009
From: qiinfo at ig.com.br (Rossine)
Date: Fri Aug 21 15:27:47 2009
Subject: [Harbour] Error with 12244 and msvc
Message-ID: <25085952.post@talk.nabble.com>


Hello,

I see this errors with release 12244 and msvc:

[ERRORS]

cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbpp.obj -c ../../../hbpp.c
hbpp.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbpp_dyn.obj -DHB_DYNLIB -c
../../../hbpp.c
hbpp.c
link.exe  /out:..\..\..\..\..\bin\win\msvc\hbpp.exe hbpp.obj  /nologo
/libpath:../../../../../lib/win/msvc  hbcommon.lib hbnortl.lib kernel32.lib
user32.lib ws2_32.lib advapi32.lib gdi32.lib
rm hbpp.obj

failed.
make (e=87): Par?metro incorreto.
mingw32-make[3]: *** [hbpp.exe] Error 87
rm hbpp.obj
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [pp.inst] Error 2
mingw32-make: *** [source.inst] Error 2

[ENDERRORS]

Regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/Error-with-12244-and-msvc-tp25085952p25085952.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From toninhofwi at yahoo.com.br  Fri Aug 21 15:31:59 2009
From: toninhofwi at yahoo.com.br (ToninhoFWi)
Date: Fri Aug 21 15:30:08 2009
Subject: [Harbour] Possible OleAuto bug
In-Reply-To: <20090821170716.GA15190@uran.home.aster.pl>
References: <20090820145836.GA4209@uran.home.aster.pl>
	<4A8D6D60.2020702@mweb.co.za>
	<20090820234010.GA17613@uran.home.aster.pl>
	<4A8E4B11.5000401@mweb.co.za>
	<20090821114948.GA11993@uran.home.aster.pl>
	<4A8EA210.7020802@mweb.co.za>
	<18d502870908210719u15cd9aefybe64da8d3eecdaad@mail.gmail.com>
	<25082162.post@talk.nabble.com>
	<20090821155238.GA9817@uran.home.aster.pl>
	<25082940.post@talk.nabble.com>
	<20090821170716.GA15190@uran.home.aster.pl>
Message-ID: <cgtt85dlheos7d21nkfa0v3nh5i41h4cdg@4ax.com>

>Now ax controls should be cleanly released but I cannot make any tests.
>Probably it can be easy tested by simple code like:

Hi Przemek.

Tested and working here.

Thank you.

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From vszakats at users.sourceforge.net  Fri Aug 21 15:33:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 15:33:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12245] trunk/harbour
Message-ID: <E1MeZrg-0006um-2R@74yxhf1.ch3.sourceforge.com>

Revision: 12245
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12245&view=rev
Author:   vszakats
Date:     2009-08-21 19:33:31 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 21:32 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/darwin/gcc.mk
    + Added experimental dynamic lib creation.
    ; TODO: Parameterize internal versioning and name.
    ; TODO: Add links (although this may better be done in
            postinst state most probably). Opinions?

  * source/Makefile
    + Adjusted dynamic lib name for *nix systems.

  * config/wce/mingwarm.mk
  * config/wce/poccarm.mk
  * config/wce/msvcarm.mk
  * config/win/xcc.mk
  * config/win/mingw.mk
  * config/win/pocc.mk
  * config/win/icc.mk
  * config/win/cygwin.mk
  * config/win/msvc.mk
    ! Deleted $(ECHOQUOTE) var (typo).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/cygwin.mk
    trunk/harbour/config/win/icc.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/config/win/pocc.mk
    trunk/harbour/config/win/xcc.mk
    trunk/harbour/source/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Aug 21 15:35:08 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug 21 15:35:19 2009
Subject: [Harbour] Error with 12244 and msvc
In-Reply-To: <25085952.post@talk.nabble.com>
References: <25085952.post@talk.nabble.com>
Message-ID: <E76502EC-DB9F-443F-ABE3-A8C0C6A194AE@syenar.hu>

Hi Rossine,

Please post the very first 10 lines of your output.

Brgds,
Viktor

On 2009.08.21., at 9:27, Rossine wrote:

>
> Hello,
>
> I see this errors with release 12244 and msvc:
>
> [ERRORS]
>
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbpp.obj -c ../../../ 
> hbpp.c
> hbpp.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbpp_dyn.obj - 
> DHB_DYNLIB -c
> ../../../hbpp.c
> hbpp.c
> link.exe  /out:..\..\..\..\..\bin\win\msvc\hbpp.exe hbpp.obj  /nologo
> /libpath:../../../../../lib/win/msvc  hbcommon.lib hbnortl.lib  
> kernel32.lib
> user32.lib ws2_32.lib advapi32.lib gdi32.lib
> rm hbpp.obj
>
> failed.
> make (e=87): Par?metro incorreto.
> mingw32-make[3]: *** [hbpp.exe] Error 87
> rm hbpp.obj
> mingw32-make[2]: *** [descend] Error 2
> mingw32-make[1]: *** [pp.inst] Error 2
> mingw32-make: *** [source.inst] Error 2
>
> [ENDERRORS]
>
> Regards,
>
> Rossine.
>
> -- 
> View this message in context: http://www.nabble.com/Error-with-12244-and-msvc-tp25085952p25085952.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Fri Aug 21 15:44:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 15:44:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12246] trunk/harbour
Message-ID: <E1Mea2a-00077c-LE@74yxhf1.ch3.sourceforge.com>

Revision: 12246
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12246&view=rev
Author:   vszakats
Date:     2009-08-21 19:44:47 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 21:44 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/linux/gcc.mk
    + Added experimental dynamic lib creation.
    ; Please review this. If okay we can probably move this logic
      to all other *nix platforms and compilers.
      Maybe even os2/gcc.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/linux/gcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Aug 21 16:01:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 16:01:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12247] trunk/harbour
Message-ID: <E1MeaIl-0007SK-ES@74yxhf1.ch3.sourceforge.com>

Revision: 12247
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12247&view=rev
Author:   vszakats
Date:     2009-08-21 20:01:30 +0000 (Fri, 21 Aug 2009)

Log Message:
-----------
2009-08-21 22:01 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/Makefile
  * config/lib.mk
    + Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/lib.mk
    trunk/harbour/source/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fernando_athayde at yahoo.com.br  Fri Aug 21 16:06:17 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Fri Aug 21 16:06:23 2009
Subject: [Harbour] hbmk MSVC _hbmkaut.obj
Message-ID: <769430.72109.qm@web52205.mail.re2.yahoo.com>

using MSVC 2008, WIN, Harbour sincronized with SVN

link.exe /nologo /out:fjfrigo.exe .hbmk\win\msvc\busca.obj .hbmk\win\msvc\database.obj .hbmk\win\msvc\login.obj .hbmk\win\msvc\menu0.obj .hbmk\win\msvc\menu11.obj .hbmk\win\msvc\menu12.obj .hbmk\win\msvc\menu13.obj .hbmk\win\msvc\menu14.obj .hbmk\win\msvc\menu15.obj .hbmk\win\msvc\menu16.obj .hbmk\win\msvc\menu171.obj .hbmk\win\msvc\menu172.obj .hbmk\win\msvc\menu173.obj .hbmk\win\msvc\menu174.obj .hbmk\win\msvc\menu175.obj .hbmk\win\msvc\menu176.obj .hbmk\win\msvc\menu177.obj .hbmk\win\msvc\menu178.obj .hbmk\win\msvc\menu181.obj .hbmk\win\msvc\menu182.obj .hbmk\win\msvc\menu183.obj .hbmk\win\msvc\menu185.obj .hbmk\win\msvc\menu187.obj .hbmk\win\msvc\menu188.obj .hbmk\win\msvc\menu189.obj .hbmk\win\msvc\menu18a.obj .hbmk\win\msvc\menu191.obj .hbmk\win\msvc\menu192.obj .hbmk\win\msvc\menu193.obj .hbmk\win\msvc\menu194.obj .hbmk\win\msvc\menu21.obj .hbmk\win\msvc\menu221.obj .hbmk\win\msvc\menu222.obj .hbmk\win\msvc\menu223.obj .hbmk\win\msvc\menu224.obj
 .hbmk\win\msvc\menu225.obj .hbmk\win\msvc\menu226.obj .hbmk\win\msvc\menu2312.obj .hbmk\win\msvc\menu2322.obj .hbmk\win\msvc\menu2332.obj .hbmk\win\msvc\menu2333.obj .hbmk\win\msvc\menu241.obj .hbmk\win\msvc\menu242.obj .hbmk\win\msvc\menu243.obj .hbmk\win\msvc\menu244.obj .hbmk\win\msvc\menu311.obj .hbmk\win\msvc\menu312.obj .hbmk\win\msvc\menu313.obj .hbmk\win\msvc\menu314.obj .hbmk\win\msvc\menu315.obj .hbmk\win\msvc\menu3171.obj .hbmk\win\msvc\menu3172.obj .hbmk\win\msvc\menu3174.obj .hbmk\win\msvc\menu3181.obj .hbmk\win\msvc\menu3182.obj .hbmk\win\msvc\menu3183.obj .hbmk\win\msvc\menu3185.obj .hbmk\win\msvc\menu3193.obj.hbmk\win\msvc\menu3197.obj .hbmk\win\msvc\menu3198.obj .hbmk\win\msvc\menu3211.obj .hbmk\win\msvc\menu3213.obj .hbmk\win\msvc\menu3214.obj .hbmk\win\msvc\menu3215.obj .hbmk\win\msvc\menu3221.obj .hbmk\win\msvc\menu3222.obj .hbmk\win\msvc\menu3311.obj .hbmk\win\msvc\menu3321.obj .hbmk\win\msvc\menu3332.obj .hbmk\win\msvc\menu41.obj
 .hbmk\win\msvc\menu421.obj .hbmk\win\msvc\menu422.obj .hbmk\win\msvc\menu423.obj .hbmk\win\msvc\menu424.obj .hbmk\win\msvc\menu442.obj .hbmk\win\msvc\menu443.obj .hbmk\win\msvc\menu444.obj .hbmk\win\msvc\menucadpadrao.obj .hbmk\win\msvc\menu_f.obj .hbmk\win\msvc\parametros.obj .hbmk\win\msvc\printdos.obj.hbmk\win\msvc\rede.obj .hbmk\win\msvc\tfirebrd.obj .hbmk\win\msvc\translator.obj .hbmk\win\msvc\_hbmkaut.obj /libpath:e:\harbour_vc\lib\win\msvc /libpath:e:\harbour_vc\lib /libpath:lib /libpath:\hwguihb\lib  /subsystem:windows hwguimt.lib procmisc.lib hbmzip.lib hbziparc.lib hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libpng.lib hbmysql.lib libmysql.lib hbvpdf.lib hbcrypt.lib hbfbird.lib fbclient.lib hbextern.lib hbdebug.lib hbvmmt.lib hbrtl.lib hblang.lib hbcpage.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib hbusrrdd.lib hbhsx.lib hbsix.lib rddntx.lib rddcdx.lib rddfpt.lib hbuddall.lib rddnsx.lib hbmacro.lib hbcplr.lib
 hbpp.lib hbcommon.lib hbpcre.lib hbzlib.lib kernel32.lib user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib comctl32.lib comdlg32.lib shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib msimg32.lib wininet.lib  .hbmk\win\msvc\fjfrigo.res
LINK : fatal error LNK1181: cannot open input file '.hbmk\win\msvc\_hbmkaut.obj'

hbmk: Erro: Executando linkeditor. 1181


Brgrds,
Fernando



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090821/e0ace879/attachment.html
From harbour.01 at syenar.hu  Fri Aug 21 16:09:50 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug 21 16:09:59 2009
Subject: [Harbour] hbmk MSVC _hbmkaut.obj
In-Reply-To: <769430.72109.qm@web52205.mail.re2.yahoo.com>
References: <769430.72109.qm@web52205.mail.re2.yahoo.com>
Message-ID: <3CFA30CA-DF96-4148-BA19-362CC460B555@syenar.hu>

What was the command line?

On 2009.08.21., at 10:06, Fernando Athayde wrote:

> using MSVC 2008, WIN, Harbour sincronized with SVN
>
> link.exe /nologo /out:fjfrigo.exe .hbmk\win\msvc\busca.obj .hbmk\win 
> \msvc\database.obj .hbmk\win\msvc\login.obj .hbmk\win\msvc 
> \menu0.obj .hbmk\win\msvc\menu11.obj .hbmk\win\msvc\menu12.obj .hbmk 
> \win\msvc\menu13.obj .hbmk\win\msvc\menu14.obj .hbmk\win\msvc 
> \menu15.obj .hbmk\win\msvc\menu16.obj .hbmk\win\msvc 
> \menu171.obj .hbmk\win\msvc\menu172.obj .hbmk\win\msvc 
> \menu173.obj .hbmk\win\msvc\menu174.obj .hbmk\win\msvc 
> \menu175.obj .hbmk\win\msvc\menu176.obj .hbmk\win\msvc 
> \menu177.obj .hbmk\win\msvc\menu178.obj .hbmk\win\msvc 
> \menu181.obj .hbmk\win\msvc\menu182.obj .hbmk\win\msvc 
> \menu183.obj .hbmk\win\msvc\menu185.obj .hbmk\win\msvc 
> \menu187.obj .hbmk\win\msvc\menu188.obj .hbmk\win\msvc 
> \menu189.obj .hbmk\win\msvc\menu18a.obj .hbmk\win\msvc 
> \menu191.obj .hbmk\win\msvc\menu192.obj .hbmk\win\msvc 
> \menu193.obj .hbmk\win\msvc\menu194.obj .hbmk\win\msvc 
> \menu21.obj .hbmk\win\msvc\menu221.obj .hbmk\win\msvc 
> \menu222.obj .hbmk\win\msvc\menu223.obj .hbmk\win\msvc 
> \menu224.obj .hbmk\win\msvc\menu225.obj .hbmk\win\msvc 
> \menu226.obj .hbmk\win\msvc\menu2312.obj .hbmk\win\msvc 
> \menu2322.obj .hbmk\win\msvc\menu2332.obj .hbmk\win\msvc 
> \menu2333.obj .hbmk\win\msvc\menu241.obj .hbmk\win\msvc 
> \menu242.obj .hbmk\win\msvc\menu243.obj .hbmk\win\msvc 
> \menu244.obj .hbmk\win\msvc\menu311.obj .hbmk\win\msvc 
> \menu312.obj .hbmk\win\msvc\menu313.obj .hbmk\win\msvc 
> \menu314.obj .hbmk\win\msvc\menu315.obj .hbmk\win\msvc 
> \menu3171.obj .hbmk\win\msvc\menu3172.obj .hbmk\win\msvc 
> \menu3174.obj .hbmk\win\msvc\menu3181.obj .hbmk\win\msvc 
> \menu3182.obj .hbmk\win\msvc\menu3183.obj .hbmk\win\msvc 
> \menu3185.obj .hbmk\win\msvc\menu3193.obj.hbmk\win\msvc 
> \menu3197.obj .hbmk\win\msvc\menu3198.obj .hbmk\win\msvc 
> \menu3211.obj .hbmk\win\msvc\menu3213.obj .hbmk\win\msvc 
> \menu3214.obj .hbmk\win\msvc\menu3215.obj .hbmk\win\msvc 
> \menu3221.obj .hbmk\win\msvc\menu3222.obj .hbmk\win\msvc 
> \menu3311.obj .hbmk\win\msvc\menu3321.obj .hbmk\win\msvc 
> \menu3332.obj .hbmk\win\msvc\menu41.obj .hbmk\win\msvc 
> \menu421.obj .hbmk\win\msvc\menu422.obj .hbmk\win\msvc 
> \menu423.obj .hbmk\win\msvc\menu424.obj .hbmk\win\msvc 
> \menu442.obj .hbmk\win\msvc\menu443.obj .hbmk\win\msvc 
> \menu444.obj .hbmk\win\msvc\menucadpadrao.obj .hbmk\win\msvc 
> \menu_f.obj .hbmk\win\msvc\parametros.obj .hbmk\win\msvc 
> \printdos.obj.hbmk\win\msvc\rede.obj .hbmk\win\msvc 
> \tfirebrd.obj .hbmk\win\msvc\translator.obj .hbmk\win\msvc 
> \_hbmkaut.obj /libpath:e:\harbour_vc\lib\win\msvc /libpath:e: 
> \harbour_vc\lib /libpath:lib /libpath:\hwguihb\lib  / 
> subsystem:windows hwguimt.lib procmisc.lib hbmzip.lib hbziparc.lib  
> hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libpng.lib  
> hbmysql.lib libmysql.lib hbvpdf.lib hbcrypt.lib hbfbird.lib  
> fbclient.lib hbextern.lib hbdebug.lib hbvmmt.lib hbrtl.lib  
> hblang.lib hbcpage.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib  
> gtwvt.lib gtgui.lib hbrdd.lib hbusrrdd.lib hbhsx.lib hbsix.lib  
> rddntx.lib rddcdx.lib rddfpt.lib hbuddall.lib rddnsx.lib hbmacro.lib  
> hbcplr.lib hbpp.lib hbcommon.lib hbpcre.lib hbzlib.lib kernel32.lib  
> user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib  
> comctl32.lib comdlg32.lib shell32.lib uuid.lib ole32.lib  
> oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib msimg32.lib  
> wininet.lib  .hbmk\win\msvc\fjfrigo.res
> LINK : fatal error LNK1181: cannot open input file '.hbmk\win\msvc 
> \_hbmkaut.obj'
>
> hbmk: Erro: Executando linkeditor. 1181
>
>
> Brgrds,
> Fernando
>
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 -  
> Celebridades - M?sica - 
> Esportes_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Aug 21 16:10:30 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug 21 16:10:38 2009
Subject: [Harbour] hbmk MSVC _hbmkaut.obj
In-Reply-To: <769430.72109.qm@web52205.mail.re2.yahoo.com>
References: <769430.72109.qm@web52205.mail.re2.yahoo.com>
Message-ID: <63B98D35-F6EB-4C85-9289-39FBD88D0ED7@syenar.hu>

and what was the full -trace output?

On 2009.08.21., at 10:06, Fernando Athayde wrote:

> using MSVC 2008, WIN, Harbour sincronized with SVN
>
> link.exe /nologo /out:fjfrigo.exe .hbmk\win\msvc\busca.obj .hbmk\win 
> \msvc\database.obj .hbmk\win\msvc\login.obj .hbmk\win\msvc 
> \menu0.obj .hbmk\win\msvc\menu11.obj .hbmk\win\msvc\menu12.obj .hbmk 
> \win\msvc\menu13.obj .hbmk\win\msvc\menu14.obj .hbmk\win\msvc 
> \menu15.obj .hbmk\win\msvc\menu16.obj .hbmk\win\msvc 
> \menu171.obj .hbmk\win\msvc\menu172.obj .hbmk\win\msvc 
> \menu173.obj .hbmk\win\msvc\menu174.obj .hbmk\win\msvc 
> \menu175.obj .hbmk\win\msvc\menu176.obj .hbmk\win\msvc 
> \menu177.obj .hbmk\win\msvc\menu178.obj .hbmk\win\msvc 
> \menu181.obj .hbmk\win\msvc\menu182.obj .hbmk\win\msvc 
> \menu183.obj .hbmk\win\msvc\menu185.obj .hbmk\win\msvc 
> \menu187.obj .hbmk\win\msvc\menu188.obj .hbmk\win\msvc 
> \menu189.obj .hbmk\win\msvc\menu18a.obj .hbmk\win\msvc 
> \menu191.obj .hbmk\win\msvc\menu192.obj .hbmk\win\msvc 
> \menu193.obj .hbmk\win\msvc\menu194.obj .hbmk\win\msvc 
> \menu21.obj .hbmk\win\msvc\menu221.obj .hbmk\win\msvc 
> \menu222.obj .hbmk\win\msvc\menu223.obj .hbmk\win\msvc 
> \menu224.obj .hbmk\win\msvc\menu225.obj .hbmk\win\msvc 
> \menu226.obj .hbmk\win\msvc\menu2312.obj .hbmk\win\msvc 
> \menu2322.obj .hbmk\win\msvc\menu2332.obj .hbmk\win\msvc 
> \menu2333.obj .hbmk\win\msvc\menu241.obj .hbmk\win\msvc 
> \menu242.obj .hbmk\win\msvc\menu243.obj .hbmk\win\msvc 
> \menu244.obj .hbmk\win\msvc\menu311.obj .hbmk\win\msvc 
> \menu312.obj .hbmk\win\msvc\menu313.obj .hbmk\win\msvc 
> \menu314.obj .hbmk\win\msvc\menu315.obj .hbmk\win\msvc 
> \menu3171.obj .hbmk\win\msvc\menu3172.obj .hbmk\win\msvc 
> \menu3174.obj .hbmk\win\msvc\menu3181.obj .hbmk\win\msvc 
> \menu3182.obj .hbmk\win\msvc\menu3183.obj .hbmk\win\msvc 
> \menu3185.obj .hbmk\win\msvc\menu3193.obj.hbmk\win\msvc 
> \menu3197.obj .hbmk\win\msvc\menu3198.obj .hbmk\win\msvc 
> \menu3211.obj .hbmk\win\msvc\menu3213.obj .hbmk\win\msvc 
> \menu3214.obj .hbmk\win\msvc\menu3215.obj .hbmk\win\msvc 
> \menu3221.obj .hbmk\win\msvc\menu3222.obj .hbmk\win\msvc 
> \menu3311.obj .hbmk\win\msvc\menu3321.obj .hbmk\win\msvc 
> \menu3332.obj .hbmk\win\msvc\menu41.obj .hbmk\win\msvc 
> \menu421.obj .hbmk\win\msvc\menu422.obj .hbmk\win\msvc 
> \menu423.obj .hbmk\win\msvc\menu424.obj .hbmk\win\msvc 
> \menu442.obj .hbmk\win\msvc\menu443.obj .hbmk\win\msvc 
> \menu444.obj .hbmk\win\msvc\menucadpadrao.obj .hbmk\win\msvc 
> \menu_f.obj .hbmk\win\msvc\parametros.obj .hbmk\win\msvc 
> \printdos.obj.hbmk\win\msvc\rede.obj .hbmk\win\msvc 
> \tfirebrd.obj .hbmk\win\msvc\translator.obj .hbmk\win\msvc 
> \_hbmkaut.obj /libpath:e:\harbour_vc\lib\win\msvc /libpath:e: 
> \harbour_vc\lib /libpath:lib /libpath:\hwguihb\lib  / 
> subsystem:windows hwguimt.lib procmisc.lib hbmzip.lib hbziparc.lib  
> hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libpng.lib  
> hbmysql.lib libmysql.lib hbvpdf.lib hbcrypt.lib hbfbird.lib  
> fbclient.lib hbextern.lib hbdebug.lib hbvmmt.lib hbrtl.lib  
> hblang.lib hbcpage.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib  
> gtwvt.lib gtgui.lib hbrdd.lib hbusrrdd.lib hbhsx.lib hbsix.lib  
> rddntx.lib rddcdx.lib rddfpt.lib hbuddall.lib rddnsx.lib hbmacro.lib  
> hbcplr.lib hbpp.lib hbcommon.lib hbpcre.lib hbzlib.lib kernel32.lib  
> user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib  
> comctl32.lib comdlg32.lib shell32.lib uuid.lib ole32.lib  
> oleaut32.lib mpr.lib winmm.lib mapi32.lib imm32.lib msimg32.lib  
> wininet.lib  .hbmk\win\msvc\fjfrigo.res
> LINK : fatal error LNK1181: cannot open input file '.hbmk\win\msvc 
> \_hbmkaut.obj'
>
> hbmk: Erro: Executando linkeditor. 1181
>
>
> Brgrds,
> Fernando
>
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 -  
> Celebridades - M?sica - 
> Esportes_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From qiinfo at ig.com.br  Fri Aug 21 17:11:09 2009
From: qiinfo at ig.com.br (Rossine)
Date: Fri Aug 21 17:11:17 2009
Subject: [Harbour] Error with 12244 and msvc
In-Reply-To: <E76502EC-DB9F-443F-ABE3-A8C0C6A194AE@syenar.hu>
References: <25085952.post@talk.nabble.com>
	<E76502EC-DB9F-443F-ABE3-A8C0C6A194AE@syenar.hu>
Message-ID: <25087378.post@talk.nabble.com>


Hello Viktor,


Viktor Szak?ts wrote:
> 
> Hi Rossine,
> Please post the very first 10 lines of your output.
> 

This is my log erro complete:

[COMPILE]
! MAKE: C:/bin/mingw32-make 3.81 CLEAN INSTALL  sh.exe
! HB_USER_CFLAGS: -DHB_GC_AUTO -DHB_FM_STATISTIC
! HB_INSTALL_PREFIX: C:\hrb_msvc
! HB_BIN_INSTALL: C:\hrb_msvc\bin
! HB_LIB_INSTALL: C:\hrb_msvc\lib
! HB_INC_INSTALL: C:\hrb_msvc\include
! HB_DOC_INSTALL: C:\hrb_msvc\doc
! HB_BUILD_DLL: yes
! HB_HOST_ARCH: win (x86)  HB_SHELL: nt
! HB_ARCHITECTURE: win (x86) (autodetected)
! HB_COMPILER: msvc 
mingw32-make[2]: `clean' is up to date.
mingw32-make[1]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[3]: `clean' is up to date.
! 'gtcrs' library skipped
! 'gtdos' library skipped
mingw32-make[3]: `clean' is up to date.
! 'gtos2' library skipped
mingw32-make[3]: `clean' is up to date.
! 'gtsln' library skipped
mingw32-make[3]: `clean' is up to date.
! 'gttrm' library skipped
mingw32-make[3]: `clean' is up to date.
mingw32-make[3]: `clean' is up to date.
! 'gtxwc' library skipped
mingw32-make[3]: `clean' is up to date.
mingw32-make[3]: `clean' is up to date.
mingw32-make[3]: `clean' is up to date.
mingw32-make[3]: `clean' is up to date.
mingw32-make[3]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[3]: `clean' is up to date.
mingw32-make[3]: `clean' is up to date.
mingw32-make[3]: `clean' is up to date.
mingw32-make[3]: `clean' is up to date.
mingw32-make[3]: `clean' is up to date.
mingw32-make[3]: `clean' is up to date.
mingw32-make[3]: `clean' is up to date.
mingw32-make[3]: `clean' is up to date.
mingw32-make[3]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[3]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
! 'gtalleg' library skipped
mingw32-make[2]: `clean' is up to date.
! 'hbcurl' library skipped
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
! 'hbgd' library skipped
mingw32-make[2]: `clean' is up to date.
! 'hbmysql' library skipped
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
! 'hbssl' library skipped
mingw32-make[2]: `clean' is up to date.
! 'sddmy' library skipped
mingw32-make[3]: `clean' is up to date.
mingw32-make[3]: `clean' is up to date.
mingw32-make[3]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
mingw32-make[2]: `clean' is up to date.
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
        1 arquivo(s) copiado(s).
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Foexpropt1.obj -c
../../../expropt1.c
expropt1.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Foexpropt1_dyn.obj -DHB_DYNLIB
-c ../../../expropt1.c
expropt1.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Foexpropt2.obj -c
../../../expropt2.c
expropt2.c
../../../expropt2.c(557) : warning C4244: '=' : conversion from 'HB_LONG' to
'long', possible loss of data
../../../expropt2.c(559) : warning C4244: '=' : conversion from 'HB_LONG' to
'long', possible loss of data
../../../expropt2.c(570) : warning C4244: 'argument' : conversion from
'HB_LONG' to 'LONG', possible loss of data
../../../expropt2.c(760) : warning C4244: '=' : conversion from 'HB_LONG' to
'long', possible loss of data
../../../expropt2.c(762) : warning C4244: '=' : conversion from 'HB_LONG' to
'long', possible loss of data
../../../expropt2.c(773) : warning C4244: 'argument' : conversion from
'HB_LONG' to 'LONG', possible loss of data
../../../expropt2.c(813) : warning C4244: '=' : conversion from 'HB_LONG' to
'long', possible loss of data
../../../expropt2.c(815) : warning C4244: '=' : conversion from 'HB_LONG' to
'long', possible loss of data
../../../expropt2.c(826) : warning C4244: 'argument' : conversion from
'HB_LONG' to 'LONG', possible loss of data
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Foexpropt2_dyn.obj -DHB_DYNLIB
-c ../../../expropt2.c
expropt2.c
../../../expropt2.c(557) : warning C4244: '=' : conversion from 'HB_LONG' to
'long', possible loss of data
../../../expropt2.c(559) : warning C4244: '=' : conversion from 'HB_LONG' to
'long', possible loss of data
../../../expropt2.c(570) : warning C4244: 'argument' : conversion from
'HB_LONG' to 'LONG', possible loss of data
../../../expropt2.c(760) : warning C4244: '=' : conversion from 'HB_LONG' to
'long', possible loss of data
../../../expropt2.c(762) : warning C4244: '=' : conversion from 'HB_LONG' to
'long', possible loss of data
../../../expropt2.c(773) : warning C4244: 'argument' : conversion from
'HB_LONG' to 'LONG', possible loss of data
../../../expropt2.c(813) : warning C4244: '=' : conversion from 'HB_LONG' to
'long', possible loss of data
../../../expropt2.c(815) : warning C4244: '=' : conversion from 'HB_LONG' to
'long', possible loss of data
../../../expropt2.c(826) : warning C4244: 'argument' : conversion from
'HB_LONG' to 'LONG', possible loss of data
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbffind.obj -c
../../../hbffind.c
hbffind.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbffind_dyn.obj -DHB_DYNLIB
-c ../../../hbffind.c
hbffind.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbfopen.obj -c
../../../hbfopen.c
hbfopen.c
../../../hbfopen.c(61) : warning C4996: 'fopen': This function or variable
may be unsafe. Consider using fopen_s instead. To disable deprecation, use
_CRT_SECURE_NO_WARNINGS. See online help for details.
        C:\vc9\VC\INCLUDE\stdio.h(237) : see declaration of 'fopen'
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbfopen_dyn.obj -DHB_DYNLIB
-c ../../../hbfopen.c
hbfopen.c
../../../hbfopen.c(61) : warning C4996: 'fopen': This function or variable
may be unsafe. Consider using fopen_s instead. To disable deprecation, use
_CRT_SECURE_NO_WARNINGS. See online help for details.
        C:\vc9\VC\INCLUDE\stdio.h(237) : see declaration of 'fopen'
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbfsapi.obj -c
../../../hbfsapi.c
hbfsapi.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbfsapi_dyn.obj -DHB_DYNLIB
-c ../../../hbfsapi.c
hbfsapi.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbgete.obj -c
../../../hbgete.c
hbgete.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbgete_dyn.obj -DHB_DYNLIB
-c ../../../hbgete.c
hbgete.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbwince.obj -c
../../../hbwince.c
hbwince.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbwince_dyn.obj -DHB_DYNLIB
-c ../../../hbwince.c
hbwince.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbhash.obj -c
../../../hbhash.c
hbhash.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbhash_dyn.obj -DHB_DYNLIB
-c ../../../hbhash.c
hbhash.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbprintf.obj -c
../../../hbprintf.c
hbprintf.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbprintf_dyn.obj -DHB_DYNLIB
-c ../../../hbprintf.c
hbprintf.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbstr.obj -c
../../../hbstr.c
hbstr.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbstr_dyn.obj -DHB_DYNLIB -c
../../../hbstr.c
hbstr.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbdate.obj -c
../../../hbdate.c
hbdate.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbdate_dyn.obj -DHB_DYNLIB
-c ../../../hbdate.c
hbdate.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbmem.obj -c
../../../hbmem.c
hbmem.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbmem_dyn.obj -DHB_DYNLIB -c
../../../hbmem.c
hbmem.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbtrace.obj -c
../../../hbtrace.c
hbtrace.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbtrace_dyn.obj -DHB_DYNLIB
-c ../../../hbtrace.c
hbtrace.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbver.obj -c
../../../hbver.c
hbver.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbver_dyn.obj -DHB_DYNLIB -c
../../../hbver.c
hbver.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbverdsp.obj -c
../../../hbverdsp.c
hbverdsp.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbverdsp_dyn.obj -DHB_DYNLIB
-c ../../../hbverdsp.c
hbverdsp.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbarch.obj -c
../../../hbarch.c
hbarch.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbarch_dyn.obj -DHB_DYNLIB
-c ../../../hbarch.c
hbarch.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Foreserved.obj -c
../../../reserved.c
reserved.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Foreserved_dyn.obj -DHB_DYNLIB
-c ../../../reserved.c
reserved.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fostrwild.obj -c
../../../strwild.c
strwild.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fostrwild_dyn.obj -DHB_DYNLIB
-c ../../../strwild.c
strwild.c
lib.exe   /nologo /out:../../../../../lib/win/msvc/hbcommon.lib expropt1.obj
expropt2.obj hbffind.obj hbfopen.obj hbfsapi.obj hbgete.obj hbwince.obj
hbhash.obj hbprintf.obj hbstr.obj hbdate.obj hbmem.obj hbtrace.obj hbver.obj
hbverdsp.obj hbarch.obj reserved.obj strwild.obj || del /q /f
../../../../../lib/win/msvc/hbcommon.lib
        1 arquivo(s) copiado(s).
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fonortl.obj -c
../../../nortl.c
nortl.c
lib.exe   /nologo /out:../../../../../lib/win/msvc/hbnortl.lib nortl.obj ||
del /q /f ../../../../../lib/win/msvc/hbnortl.lib
        1 arquivo(s) copiado(s).
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbpp.obj -c ../../../hbpp.c
hbpp.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbpp_dyn.obj -DHB_DYNLIB -c
../../../hbpp.c
hbpp.c
link.exe  /out:..\..\..\..\..\bin\win\msvc\hbpp.exe hbpp.obj  /nologo
/libpath:../../../../../lib/win/msvc  hbcommon.lib hbnortl.lib kernel32.lib
user32.lib ws2_32.lib advapi32.lib gdi32.lib
rm hbpp.obj

[ENDCOMPILE]

Regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/Error-with-12244-and-msvc-tp25085952p25087378.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From itamarlins at bol.com.br  Fri Aug 21 19:39:01 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Fri Aug 21 19:40:49 2009
Subject: [Harbour] Problem with make files 
Message-ID: <h6nb91$9kb$1@ger.gmane.org>

Hi!
Mr. Szakats
Now, make fails because it is copying files old of dir bcc
for example:
HB_COMPILER=msvc
SET HB_INSTALL_PREFIX=D:\DEV\HARBOUR

But exists two directories with old files of bcc into win\bcc and other new 
in win\msvc however files of bcc is copyng for \dev\harbour\bin :-(

Best Regards,
Itamar M. Lins Jr. 



From itamarlins at bol.com.br  Fri Aug 21 19:44:47 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Fri Aug 21 19:46:32 2009
Subject: [Harbour] Re: Problem with make files
References: <h6nb91$9kb$1@ger.gmane.org>
Message-ID: <h6nbjq$abc$1@ger.gmane.org>


Correction lib dir. \dev\harbour\lib and \dev\harbour\lib\win\bcc and other 
\dev\harbour\lib\win\msvc.

Thanks,
Itamar M. Lins Jr

"Itamar Lins" <itamarlins@bol.com.br> escreveu 
na mensagem news:h6nb91$9kb$1@ger.gmane.org...
> Hi!
> Mr. Szakats
> Now, make fails because it is copying files old of dir bcc
> for example:
> HB_COMPILER=msvc
> SET HB_INSTALL_PREFIX=D:\DEV\HARBOUR
>
> But exists two directories with old files of bcc into win\bcc and other 
> new in win\msvc however files of bcc is copyng for \dev\harbour\bin :-(
>
> Best Regards,
> Itamar M. Lins Jr.
>
> 



From itamarlins at bol.com.br  Fri Aug 21 20:04:47 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Fri Aug 21 20:06:32 2009
Subject: [Harbour] unresolved external symbol _hb_vmProcessSymbolsEx
Message-ID: <h6ncpa$cq6$1@ger.gmane.org>

Hi!
Windows XP SP3 with MSVC
 * $Id: ChangeLog 12247 2009-08-21 20:01:30Z vszakats $

Now I get this error
tipo70.obj : error LNK2001: unresolved external symbol 
_hb_vmProcessSymbolsEx

Best Regards,
Itamar M. Lins Jr. 



From harbour.01 at syenar.hu  Fri Aug 21 20:20:48 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug 21 20:20:59 2009
Subject: [Harbour] Re: Problem with make files
In-Reply-To: <h6nbjq$abc$1@ger.gmane.org>
References: <h6nb91$9kb$1@ger.gmane.org> <h6nbjq$abc$1@ger.gmane.org>
Message-ID: <ABDE66DB-3D49-4674-BC83-B5CBF4BDDF2A@syenar.hu>

> Correction lib dir. \dev\harbour\lib and \dev\harbour\lib\win\bcc  
> and other
> \dev\harbour\lib\win\msvc.

You can override lib to whatever dir you'd like. The
default has changed to /lib/<arch>/<comp>, to support
multiplatform/multicompiler installations. hbmk2 handles
it transparently, and it's most probably possible to
setup any tools for this new dir layout.

Anyhow you can override with HB_*_INSTALL. See INSTALL doc.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Aug 21 20:23:08 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug 21 20:23:15 2009
Subject: [Harbour] unresolved external symbol _hb_vmProcessSymbolsEx
In-Reply-To: <h6ncpa$cq6$1@ger.gmane.org>
References: <h6ncpa$cq6$1@ger.gmane.org>
Message-ID: <C79EE672-8921-4F5F-B7A1-E1A02616766B@syenar.hu>

You have to rebuild all your libs and apps with
current Harbour.

Brgds,
Viktor

On 2009.08.22., at 2:04, Itamar Lins wrote:

> Hi!
> Windows XP SP3 with MSVC
> * $Id: ChangeLog 12247 2009-08-21 20:01:30Z vszakats $
>
> Now I get this error
> tipo70.obj : error LNK2001: unresolved external symbol
> _hb_vmProcessSymbolsEx
>
> Best Regards,
> Itamar M. Lins Jr.
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Fri Aug 21 21:13:56 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 21 21:14:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12248] trunk/harbour
Message-ID: <E1MefB6-0004OJ-5v@d5vjzd1.ch3.sourceforge.com>

Revision: 12248
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12248&view=rev
Author:   vszakats
Date:     2009-08-22 01:13:51 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 03:10 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/common/watcom.mk
  * config/win/bcc.mk
    % Yet another experiment, maybe it won't have any bad side
      effects: For compilers where $(AR) command supports differential
               command (bcc and watcom), we're only passing the list
               of changed objects instead of all of them. Should be
               much more efficient for incremental builds.

  * config/globsh.mk
  * config/instsh.mk
    ! Reset nt shell dirbase and clean rules to previous state
      (using 'if [not] exist' instead of $(wildcard)).
      New solution had several side effects. Some of them easy
      understandable, some others outright mysterious, so more
      research will be needed here. Some experiences:
      - the whole rule is evaluated before starting to execute the resulting commands.
      - multiple rules with the same target are merged before evaluating them
      - $(wildcard) is tricky with dirs, especially ones with spaces
      - if we use conditional lines ($if()) and all lines are ruled out,
      -     the rule will become empty, igniting a confusing GNU Make message.
      - strange behavior when using 'CLEAN INSTALL'
      - $(RM) stayed at default value in one /source/pp/Makefile rule.
    ; TOFIX: dos/os2 rules are still slightly wrong because of similar problems,
             and there 'if [not] exist' isn't a working option either, so
             we will need to think about something, like splitting clean
             rules to two levels internally, or more make function tricks.

  * config/readme.txt
  + config/os2-make.exe
  * INSTALL
    + Added os2 GNU Make binary (3.81 static build). Just to be in
      sync with other non-*nix platforms. Maybe it will be removed or
      renamed.

  * config/globsh.mk
    + Minor wording change.

  * contrib/hbwin/axcore.c
    * Very minor formatting.

  - make_gnu_xmingw.sh
  - make_gnu_xmingwce.sh
    % Deleted two cross-build starter scripts. Their functionality
      has been largely moved into our GNU Make system.
      Please use these commands for equivalent functionality:
         [g]make HB_ARCHITECTURE=[win|wce]
    ; NOTE: Comments are still welcome regarding experiences
            especially from original authors of these scripts.
            Maybe I missed something. $(TARGET) var support.
            Please comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/common/watcom.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/globsh.mk
    trunk/harbour/config/instsh.mk
    trunk/harbour/config/readme.txt
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/contrib/hbwin/axcore.c

Added Paths:
-----------
    trunk/harbour/config/os2-make.exe

Removed Paths:
-------------
    trunk/harbour/make_gnu_xmingw.sh
    trunk/harbour/make_gnu_xmingwce.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fernando_athayde at yahoo.com.br  Fri Aug 21 21:16:49 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Fri Aug 21 21:16:55 2009
Subject: [Harbour] harbour mysql MSVC LNK2019
Message-ID: <240328.72823.qm@web52204.mail.re2.yahoo.com>

i think this is the last error, because all look like ok

link.exe /nologo /out:fjfrigo.exe .hbmk\win\msvc\busca.obj .hbmk\win\msvc\databa
se.obj .hbmk\win\msvc\login.obj .hbmk\win\msvc\menu0.obj .hbmk\win\msvc\menu11.o
bj .hbmk\win\msvc\menu12.obj .hbmk\win\msvc\menu13.obj .hbmk\win\msvc\menu14.obj
 .hbmk\win\msvc\menu15.obj .hbmk\win\msvc\menu16.obj .hbmk\win\msvc\menu171.obj
.hbmk\win\msvc\menu172.obj .hbmk\win\msvc\menu173.obj .hbmk\win\msvc\menu174.obj
 .hbmk\win\msvc\menu175.obj .hbmk\win\msvc\menu176.obj .hbmk\win\msvc\menu177.ob
j .hbmk\win\msvc\menu178.obj .hbmk\win\msvc\menu181.obj .hbmk\win\msvc\menu182.o
bj .hbmk\win\msvc\menu183.obj .hbmk\win\msvc\menu185.obj .hbmk\win\msvc\menu187.
obj .hbmk\win\msvc\menu188.obj .hbmk\win\msvc\menu189.obj .hbmk\win\msvc\menu18a
.obj .hbmk\win\msvc\menu191.obj .hbmk\win\msvc\menu192.obj .hbmk\win\msvc\menu19
3.obj .hbmk\win\msvc\menu194.obj .hbmk\win\msvc\menu21.obj .hbmk\win\msvc\menu22
1.obj .hbmk\win\msvc\menu222.obj .hbmk\win\msvc\menu223.obj .hbmk\win\msvc\menu2
24.obj .hbmk\win\msvc\menu225.obj .hbmk\win\msvc\menu226.obj .hbmk\win\msvc\menu
2312.obj .hbmk\win\msvc\menu2322.obj .hbmk\win\msvc\menu2332.obj .hbmk\win\msvc\
menu2333.obj .hbmk\win\msvc\menu241.obj .hbmk\win\msvc\menu242.obj .hbmk\win\msv
c\menu243.obj .hbmk\win\msvc\menu244.obj .hbmk\win\msvc\menu311.obj .hbmk\win\ms
vc\menu312.obj .hbmk\win\msvc\menu313.obj .hbmk\win\msvc\menu314.obj .hbmk\win\m
svc\menu315.obj .hbmk\win\msvc\menu3171.obj .hbmk\win\msvc\menu3172.obj .hbmk\wi
n\msvc\menu3174.obj .hbmk\win\msvc\menu3181.obj .hbmk\win\msvc\menu3182.obj .hbm
k\win\msvc\menu3183.obj .hbmk\win\msvc\menu3185.obj .hbmk\win\msvc\menu3193.obj
.hbmk\win\msvc\menu3197.obj .hbmk\win\msvc\menu3198.obj .hbmk\win\msvc\menu3211.
obj .hbmk\win\msvc\menu3213.obj .hbmk\win\msvc\menu3214.obj .hbmk\win\msvc\menu3
215.obj .hbmk\win\msvc\menu3221.obj .hbmk\win\msvc\menu3222.obj .hbmk\win\msvc\m
enu3311.obj .hbmk\win\msvc\menu3321.obj .hbmk\win\msvc\menu3332.obj .hbmk\win\ms
vc\menu41.obj .hbmk\win\msvc\menu421.obj .hbmk\win\msvc\menu422.obj .hbmk\win\ms
vc\menu423.obj .hbmk\win\msvc\menu424.obj .hbmk\win\msvc\menu442.obj .hbmk\win\m
svc\menu443.obj .hbmk\win\msvc\menu444.obj .hbmk\win\msvc\menucadpadrao.obj .hbm
k\win\msvc\menu_f.obj .hbmk\win\msvc\parametros.obj .hbmk\win\msvc\printdos.obj
.hbmk\win\msvc\rede.obj .hbmk\win\msvc\translator.obj .hbmk\win\msvc\_hbmkaut.ob
j /libpath:e:\harbour_vc\lib\win\msvc /libpath:e:\harbour_vc\lib /libpath:lib /l
ibpath:\hwguivc\lib  /subsystem:windows hwgui.lib procmisc.lib hbmzip.lib hbzipa
rc.lib hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libpng.lib hbmysql.lib li
bmysql.lib hbvpdf.lib hbextern.lib hbdebug.lib hbvm.lib hbrtl.lib hblang.lib hbc
page.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib h
busrrdd.lib hbhsx.lib hbsix.lib rddntx.lib rddcdx.lib rddfpt.lib hbuddall.lib rd
dnsx.lib hbmacro.lib hbcplr.lib hbpp.lib hbcommon.lib hbpcre.lib hbzlib.lib kern
el32.lib user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib comctl32.lib
comdlg32.lib shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib winmm.lib mapi3
2.lib imm32.lib msimg32.lib wininet.lib  .hbmk\win\msvc\fjfrigo.res
hwgui.lib(shellapi.obj) : error LNK2005: _HB_FUN_SHELLEXECUTE already defined in
 menu2312.obj
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_get_se
rver_version@4 referenced in function _HB_FUN_MYSQL_GET_SERVER_VERSION
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_close@
4 referenced in function _HB_FUN_MYSQL_REAL_CONNECT
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_real_c
onnect@32 referenced in function _HB_FUN_MYSQL_REAL_CONNECT
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_init@4
 referenced in function _HB_FUN_MYSQL_REAL_CONNECT
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_commit
@4 referenced in function _HB_FUN_MYSQL_COMMIT
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_rollba
ck@4 referenced in function _HB_FUN_MYSQL_ROLLBACK
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_select
_db@8 referenced in function _HB_FUN_MYSQL_SELECT_DB
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_query@
8 referenced in function _HB_FUN_MYSQL_QUERY
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_store_
result@4 referenced in function _HB_FUN_MYSQL_STORE_RESULT
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_use_re
sult@4 referenced in function _HB_FUN_MYSQL_USE_RESULT
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_free_r
esult@4 referenced in function _HB_FUN_MYSQL_FREE_RESULT
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_fetch_
lengths@4 referenced in function _HB_FUN_MYSQL_FETCH_ROW
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_fetch_
row@4 referenced in function _HB_FUN_MYSQL_FETCH_ROW
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_num_fi
elds@4 referenced in function _HB_FUN_MYSQL_FETCH_ROW
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_data_s
eek@12 referenced in function _HB_FUN_MYSQL_DATA_SEEK
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_num_ro
ws@4 referenced in function _HB_FUN_MYSQL_NUM_ROWS
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_fetch_
field@4 referenced in function _HB_FUN_MYSQL_FETCH_FIELD
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_field_
seek@8 referenced in function _HB_FUN_MYSQL_FIELD_SEEK
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_field_
count@4 referenced in function _HB_FUN_MYSQL_FIELD_COUNT
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_list_f
ields@12 referenced in function _HB_FUN_MYSQL_LIST_FIELDS
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_error@
4 referenced in function _HB_FUN_MYSQL_ERROR
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_list_d
bs@8 referenced in function _HB_FUN_MYSQL_LIST_DBS
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_list_t
ables@8 referenced in function _HB_FUN_MYSQL_LIST_TABLES
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_affect
ed_rows@4 referenced in function _HB_FUN_MYSQL_AFFECTED_ROWS
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_get_ho
st_info@4 referenced in function _HB_FUN_MYSQL_GET_HOST_INFO
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_get_se
rver_info@4 referenced in function _HB_FUN_MYSQL_GET_SERVER_INFO
hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_escape
_string@12 referenced in function _HB_FUN_MYSQL_ESCAPE_STRING
fjfrigo.exe : fatal error LNK1120: 27 unresolved externals
hbmk: Erro: Executando linkeditor. 1120

link.exe /nologo /out:fjfrigo.exe .hbmk\win\msvc\busca.obj .hbmk\win\msvc\databa
se.obj .hbmk\win\msvc\login.obj .hbmk\win\msvc\menu0.obj .hbmk\win\msvc\menu11.o
bj .hbmk\win\msvc\menu12.obj .hbmk\win\msvc\menu13.obj .hbmk\win\msvc\menu14.obj
 .hbmk\win\msvc\menu15.obj .hbmk\win\msvc\menu16.obj .hbmk\win\msvc\menu171.obj
.hbmk\win\msvc\menu172.obj .hbmk\win\msvc\menu173.obj .hbmk\win\msvc\menu174.obj
 .hbmk\win\msvc\menu175.obj .hbmk\win\msvc\menu176.obj .hbmk\win\msvc\menu177.ob
j .hbmk\win\msvc\menu178.obj .hbmk\win\msvc\menu181.obj .hbmk\win\msvc\menu182.o
bj .hbmk\win\msvc\menu183.obj .hbmk\win\msvc\menu185.obj .hbmk\win\msvc\menu187.
obj .hbmk\win\msvc\menu188.obj .hbmk\win\msvc\menu189.obj .hbmk\win\msvc\menu18a
.obj .hbmk\win\msvc\menu191.obj .hbmk\win\msvc\menu192.obj .hbmk\win\msvc\menu19
3.obj .hbmk\win\msvc\menu194.obj .hbmk\win\msvc\menu21.obj .hbmk\win\msvc\menu22
1.obj .hbmk\win\msvc\menu222.obj .hbmk\win\msvc\menu223.obj .hbmk\win\msvc\menu2
24.obj .hbmk\win\msvc\menu225.obj .hbmk\win\msvc\menu226.obj .hbmk\win\msvc\menu
2312.obj .hbmk\win\msvc\menu2322.obj .hbmk\win\msvc\menu2332.obj .hbmk\win\msvc\
menu2333.obj .hbmk\win\msvc\menu241.obj .hbmk\win\msvc\menu242.obj .hbmk\win\msv
c\menu243.obj .hbmk\win\msvc\menu244.obj .hbmk\win\msvc\menu311.obj .hbmk\win\ms
vc\menu312.obj .hbmk\win\msvc\menu313.obj .hbmk\win\msvc\menu314.obj .hbmk\win\m
svc\menu315.obj .hbmk\win\msvc\menu3171.obj .hbmk\win\msvc\menu3172.obj .hbmk\wi
n\msvc\menu3174.obj .hbmk\win\msvc\menu3181.obj .hbmk\win\msvc\menu3182.obj .hbm
k\win\msvc\menu3183.obj .hbmk\win\msvc\menu3185.obj .hbmk\win\msvc\menu3193.obj
.hbmk\win\msvc\menu3197.obj .hbmk\win\msvc\menu3198.obj .hbmk\win\msvc\menu3211.
obj .hbmk\win\msvc\menu3213.obj .hbmk\win\msvc\menu3214.obj .hbmk\win\msvc\menu3
215.obj .hbmk\win\msvc\menu3221.obj .hbmk\win\msvc\menu3222.obj .hbmk\win\msvc\m
enu3311.obj .hbmk\win\msvc\menu3321.obj .hbmk\win\msvc\menu3332.obj .hbmk\win\ms
vc\menu41.obj .hbmk\win\msvc\menu421.obj .hbmk\win\msvc\menu422.obj .hbmk\win\ms
vc\menu423.obj .hbmk\win\msvc\menu424.obj .hbmk\win\msvc\menu442.obj .hbmk\win\m
svc\menu443.obj .hbmk\win\msvc\menu444.obj .hbmk\win\msvc\menucadpadrao.obj .hbm
k\win\msvc\menu_f.obj .hbmk\win\msvc\parametros.obj .hbmk\win\msvc\printdos.obj
.hbmk\win\msvc\rede.obj .hbmk\win\msvc\translator.obj .hbmk\win\msvc\_hbmkaut.ob
j /libpath:e:\harbour_vc\lib\win\msvc /libpath:e:\harbour_vc\lib /libpath:lib /l
ibpath:\hwguivc\lib  /subsystem:windows hwgui.lib procmisc.lib hbmzip.lib hbzipa
rc.lib hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libpng.lib hbmysql.lib li
bmysql.lib hbvpdf.lib hbextern.lib hbdebug.lib hbvm.lib hbrtl.lib hblang.lib hbc
page.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib h
busrrdd.lib hbhsx.lib hbsix.lib rddntx.lib rddcdx.lib rddfpt.lib hbuddall.lib rd
dnsx.lib hbmacro.lib hbcplr.lib hbpp.lib hbcommon.lib hbpcre.lib hbzlib.lib kern
el32.lib user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib comctl32.lib
comdlg32.lib shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib winmm.lib mapi3
2.lib imm32.lib msimg32.lib wininet.lib  .hbmk\win\msvc\fjfrigo.res

Thanks,
Fernando



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090821/a4e66b52/attachment-0001.html
From itamarlins at bol.com.br  Fri Aug 21 21:15:33 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Fri Aug 21 21:17:19 2009
Subject: [Harbour] Re: unresolved external symbol _hb_vmProcessSymbolsEx
References: <h6ncpa$cq6$1@ger.gmane.org>
	<C79EE672-8921-4F5F-B7A1-E1A02616766B@syenar.hu>
Message-ID: <h6ngu1$kta$1@ger.gmane.org>

Hi!
See this.
function main
? 'hello!'
return nil
hbmk2 teste.prg
teste.c
teste.obj : error LNK2019: unresolved external symbol _hb_vmProcessSymbolsEx 
referenced in function _hb_vm_SymbolInit_TESTE
teste.exe : fatal error LNK1120: 1 unresolved externals

>harbour -build
Harbour 2.0.0beta2 (Rev. 12247)
Copyright (c) 1999-2009, http://www.harbour-project.org/

Harbour Build Info
------------------------
Version: Harbour 2.0.0beta2 (Rev. 12247)
Compiler: Microsoft Visual C++ 15.0.26569 (32-bit)
Platform: Windows XP...

Thanks,
Itamar M. Lins Jr.

"Viktor Szakáts" <harbour.01@syenar.hu> 
escreveu na mensagem news:C79EE672-8921-4F5F-B7A1-E1A02616766B@syenar.hu...
> You have to rebuild all your libs and apps with
> current Harbour.
>
> Brgds,
> Viktor
>
> On 2009.08.22., at 2:04, Itamar Lins wrote:
>
>> Hi!
>> Windows XP SP3 with MSVC
>> * $Id: ChangeLog 12247 2009-08-21 20:01:30Z vszakats $
>>
>> Now I get this error
>> tipo70.obj : error LNK2001: unresolved external symbol
>> _hb_vmProcessSymbolsEx
>>
>> Best Regards,
>> Itamar M. Lins Jr.
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 



From harbour.01 at syenar.hu  Fri Aug 21 21:29:08 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug 21 21:29:17 2009
Subject: [Harbour] harbour mysql MSVC LNK2019
In-Reply-To: <240328.72823.qm@web52204.mail.re2.yahoo.com>
References: <240328.72823.qm@web52204.mail.re2.yahoo.com>
Message-ID: <D4D8948F-20DD-4246-86D0-9262A6292510@syenar.hu>

These are linker errors (both missing and doubly defined),
you should resolve them.

I suggest using hbmysql.hbc or something equivalent, in
order to pull the dependencies too.

Brgds,
Viktor

On 2009.08.22., at 3:16, Fernando Athayde wrote:

> i think this is the last error, because all look like ok
>
> link.exe /nologo /out:fjfrigo.exe .hbmk\win\msvc\busca.obj .hbmk\win 
> \msvc\databa
> se.obj .hbmk\win\msvc\login.obj .hbmk\win\msvc\menu0.obj .hbmk\win 
> \msvc\menu11.o
> bj .hbmk\win\msvc\menu12.obj .hbmk\win\msvc\menu13.obj .hbmk\win\msvc 
> \menu14.obj
>  .hbmk\win\msvc\menu15.obj .hbmk\win\msvc\menu16.obj .hbmk\win\msvc 
> \menu171.obj
> .hbmk\win\msvc\menu172.obj .hbmk\win\msvc\menu173.obj .hbmk\win\msvc 
> \menu174.obj
>  .hbmk\win\msvc\menu175.obj .hbmk\win\msvc\menu176.obj .hbmk\win\msvc 
> \menu177.ob
> j .hbmk\win\msvc\menu178.obj .hbmk\win\msvc\menu181.obj .hbmk\win 
> \msvc\menu182.o
> bj .hbmk\win\msvc\menu183.obj .hbmk\win\msvc\menu185.obj .hbmk\win 
> \msvc\menu187.
> obj .hbmk\win\msvc\menu188.obj .hbmk\win\msvc\menu189.obj .hbmk\win 
> \msvc\menu18a
> .obj .hbmk\win\msvc\menu191.obj .hbmk\win\msvc\menu192.obj .hbmk\win 
> \msvc\menu19
> 3.obj .hbmk\win\msvc\menu194.obj .hbmk\win\msvc\menu21.obj .hbmk\win 
> \msvc\menu22
> 1.obj .hbmk\win\msvc\menu222.obj .hbmk\win\msvc\menu223.obj .hbmk\win 
> \msvc\menu2
> 24.obj .hbmk\win\msvc\menu225.obj .hbmk\win\msvc\menu226.obj .hbmk 
> \win\msvc\menu
> 2312.obj .hbmk\win\msvc\menu2322.obj .hbmk\win\msvc 
> \menu2332.obj .hbmk\win\msvc\
> menu2333.obj .hbmk\win\msvc\menu241.obj .hbmk\win\msvc 
> \menu242.obj .hbmk\win\msv
> c\menu243.obj .hbmk\win\msvc\menu244.obj .hbmk\win\msvc 
> \menu311.obj .hbmk\win\ms
> vc\menu312.obj .hbmk\win\msvc\menu313.obj .hbmk\win\msvc 
> \menu314.obj .hbmk\win\m
> svc\menu315.obj .hbmk\win\msvc\menu3171.obj .hbmk\win\msvc 
> \menu3172.obj .hbmk\wi
> n\msvc\menu3174.obj .hbmk\win\msvc\menu3181.obj .hbmk\win\msvc 
> \menu3182.obj .hbm
> k\win\msvc\menu3183.obj .hbmk\win\msvc\menu3185.obj .hbmk\win\msvc 
> \menu3193.obj
> .hbmk\win\msvc\menu3197.obj .hbmk\win\msvc\menu3198.obj .hbmk\win 
> \msvc\menu3211.
> obj .hbmk\win\msvc\menu3213.obj .hbmk\win\msvc\menu3214.obj .hbmk\win 
> \msvc\menu3
> 215.obj .hbmk\win\msvc\menu3221.obj .hbmk\win\msvc\menu3222.obj .hbmk 
> \win\msvc\m
> enu3311.obj .hbmk\win\msvc\menu3321.obj .hbmk\win\msvc 
> \menu3332.obj .hbmk\win\ms
> vc\menu41.obj .hbmk\win\msvc\menu421.obj .hbmk\win\msvc 
> \menu422.obj .hbmk\win\ms
> vc\menu423.obj .hbmk\win\msvc\menu424.obj .hbmk\win\msvc 
> \menu442.obj .hbmk\win\m
> svc\menu443.obj .hbmk\win\msvc\menu444.obj .hbmk\win\msvc 
> \menucadpadrao.obj .hbm
> k\win\msvc\menu_f.obj .hbmk\win\msvc\parametros.obj .hbmk\win\msvc 
> \printdos.obj
> .hbmk\win\msvc\rede.obj .hbmk\win\msvc\translator.obj .hbmk\win\msvc 
> \_hbmkaut.ob
> j /libpath:e:\harbour_vc\lib\win\msvc /libpath:e:\harbour_vc\lib / 
> libpath:lib /l
> ibpath:\hwguivc\lib  /subsystem:windows hwgui.lib procmisc.lib  
> hbmzip.lib hbzipa
> rc.lib hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libpng.lib  
> hbmysql.lib li
> bmysql.lib hbvpdf.lib hbextern.lib hbdebug.lib hbvm.lib hbrtl.lib  
> hblang.lib hbc
> page.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib  
> hbrdd.lib h
> busrrdd.lib hbhsx.lib hbsix.lib rddntx.lib rddcdx.lib rddfpt.lib  
> hbuddall.lib rd
> dnsx.lib hbmacro.lib hbcplr.lib hbpp.lib hbcommon.lib hbpcre.lib  
> hbzlib.lib kern
> el32.lib user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib  
> comctl32.lib
> comdlg32.lib shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib  
> winmm.lib mapi3
> 2.lib imm32.lib msimg32.lib wininet.lib  .hbmk\win\msvc\fjfrigo.res
> hwgui.lib(shellapi.obj) : error LNK2005: _HB_FUN_SHELLEXECUTE  
> already defined in
>  menu2312.obj
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_get_se
> rver_version@4 referenced in function _HB_FUN_MYSQL_GET_SERVER_VERSION
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_close@
> 4 referenced in function _HB_FUN_MYSQL_REAL_CONNECT
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_real_c
> onnect@32 referenced in function _HB_FUN_MYSQL_REAL_CONNECT
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_init@4
>  referenced in function _HB_FUN_MYSQL_REAL_CONNECT
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_commit
> @4 referenced in function _HB_FUN_MYSQL_COMMIT
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_rollba
> ck@4 referenced in function _HB_FUN_MYSQL_ROLLBACK
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_select
> _db@8 referenced in function _HB_FUN_MYSQL_SELECT_DB
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_query@
> 8 referenced in function _HB_FUN_MYSQL_QUERY
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_store_
> result@4 referenced in function _HB_FUN_MYSQL_STORE_RESULT
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_use_re
> sult@4 referenced in function _HB_FUN_MYSQL_USE_RESULT
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_free_r
> esult@4 referenced in function _HB_FUN_MYSQL_FREE_RESULT
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_fetch_
> lengths@4 referenced in function _HB_FUN_MYSQL_FETCH_ROW
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_fetch_
> row@4 referenced in function _HB_FUN_MYSQL_FETCH_ROW
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_num_fi
> elds@4 referenced in function _HB_FUN_MYSQL_FETCH_ROW
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_data_s
> eek@12 referenced in function _HB_FUN_MYSQL_DATA_SEEK
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_num_ro
> ws@4 referenced in function _HB_FUN_MYSQL_NUM_ROWS
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_fetch_
> field@4 referenced in function _HB_FUN_MYSQL_FETCH_FIELD
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_field_
> seek@8 referenced in function _HB_FUN_MYSQL_FIELD_SEEK
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_field_
> count@4 referenced in function _HB_FUN_MYSQL_FIELD_COUNT
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_list_f
> ields@12 referenced in function _HB_FUN_MYSQL_LIST_FIELDS
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_error@
> 4 referenced in function _HB_FUN_MYSQL_ERROR
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_list_d
> bs@8 referenced in function _HB_FUN_MYSQL_LIST_DBS
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_list_t
> ables@8 referenced in function _HB_FUN_MYSQL_LIST_TABLES
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_affect
> ed_rows@4 referenced in function _HB_FUN_MYSQL_AFFECTED_ROWS
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_get_ho
> st_info@4 referenced in function _HB_FUN_MYSQL_GET_HOST_INFO
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_get_se
> rver_info@4 referenced in function _HB_FUN_MYSQL_GET_SERVER_INFO
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol  
> _mysql_escape
> _string@12 referenced in function _HB_FUN_MYSQL_ESCAPE_STRING
> fjfrigo.exe : fatal error LNK1120: 27 unresolved externals
> hbmk: Erro: Executando linkeditor. 1120
>
> link.exe /nologo /out:fjfrigo.exe .hbmk\win\msvc\busca.obj .hbmk\win 
> \msvc\databa
> se.obj .hbmk\win\msvc\login.obj .hbmk\win\msvc\menu0.obj .hbmk\win 
> \msvc\menu11.o
> bj .hbmk\win\msvc\menu12.obj .hbmk\win\msvc\menu13.obj .hbmk\win\msvc 
> \menu14.obj
>  .hbmk\win\msvc\menu15.obj .hbmk\win\msvc\menu16.obj .hbmk\win\msvc 
> \menu171.obj
> .hbmk\win\msvc\menu172.obj .hbmk\win\msvc\menu173.obj .hbmk\win\msvc 
> \menu174.obj
>  .hbmk\win\msvc\menu175.obj .hbmk\win\msvc\menu176.obj .hbmk\win\msvc 
> \menu177.ob
> j .hbmk\win\msvc\menu178.obj .hbmk\win\msvc\menu181.obj .hbmk\win 
> \msvc\menu182.o
> bj .hbmk\win\msvc\menu183.obj .hbmk\win\msvc\menu185.obj .hbmk\win 
> \msvc\menu187.
> obj .hbmk\win\msvc\menu188.obj .hbmk\win\msvc\menu189.obj .hbmk\win 
> \msvc\menu18a
> .obj .hbmk\win\msvc\menu191.obj .hbmk\win\msvc\menu192.obj .hbmk\win 
> \msvc\menu19
> 3.obj .hbmk\win\msvc\menu194.obj .hbmk\win\msvc\menu21.obj .hbmk\win 
> \msvc\menu22
> 1.obj .hbmk\win\msvc\menu222.obj .hbmk\win\msvc\menu223.obj .hbmk\win 
> \msvc\menu2
> 24.obj .hbmk\win\msvc\menu225.obj .hbmk\win\msvc\menu226.obj .hbmk 
> \win\msvc\menu
> 2312.obj .hbmk\win\msvc\menu2322.obj .hbmk\win\msvc 
> \menu2332.obj .hbmk\win\msvc\
> menu2333.obj .hbmk\win\msvc\menu241.obj .hbmk\win\msvc 
> \menu242.obj .hbmk\win\msv
> c\menu243.obj .hbmk\win\msvc\menu244.obj .hbmk\win\msvc 
> \menu311.obj .hbmk\win\ms
> vc\menu312.obj .hbmk\win\msvc\menu313.obj .hbmk\win\msvc 
> \menu314.obj .hbmk\win\m
> svc\menu315.obj .hbmk\win\msvc\menu3171.obj .hbmk\win\msvc 
> \menu3172.obj .hbmk\wi
> n\msvc\menu3174.obj .hbmk\win\msvc\menu3181.obj .hbmk\win\msvc 
> \menu3182.obj .hbm
> k\win\msvc\menu3183.obj .hbmk\win\msvc\menu3185.obj .hbmk\win\msvc 
> \menu3193.obj
> .hbmk\win\msvc\menu3197.obj .hbmk\win\msvc\menu3198.obj .hbmk\win 
> \msvc\menu3211.
> obj .hbmk\win\msvc\menu3213.obj .hbmk\win\msvc\menu3214.obj .hbmk\win 
> \msvc\menu3
> 215.obj .hbmk\win\msvc\menu3221.obj .hbmk\win\msvc\menu3222.obj .hbmk 
> \win\msvc\m
> enu3311.obj .hbmk\win\msvc\menu3321.obj .hbmk\win\msvc 
> \menu3332.obj .hbmk\win\ms
> vc\menu41.obj .hbmk\win\msvc\menu421.obj .hbmk\win\msvc 
> \menu422.obj .hbmk\win\ms
> vc\menu423.obj .hbmk\win\msvc\menu424.obj .hbmk\win\msvc 
> \menu442.obj .hbmk\win\m
> svc\menu443.obj .hbmk\win\msvc\menu444.obj .hbmk\win\msvc 
> \menucadpadrao.obj .hbm
> k\win\msvc\menu_f.obj .hbmk\win\msvc\parametros.obj .hbmk\win\msvc 
> \printdos.obj
> .hbmk\win\msvc\rede.obj .hbmk\win\msvc\translator.obj .hbmk\win\msvc 
> \_hbmkaut.ob
> j /libpath:e:\harbour_vc\lib\win\msvc /libpath:e:\harbour_vc\lib / 
> libpath:lib /l
> ibpath:\hwguivc\lib  /subsystem:windows hwgui.lib procmisc.lib  
> hbmzip.lib hbzipa
> rc.lib hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libpng.lib  
> hbmysql.lib li
> bmysql.lib hbvpdf.lib hbextern.lib hbdebug.lib hbvm.lib hbrtl.lib  
> hblang.lib hbc
> page.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib  
> hbrdd.lib h
> busrrdd.lib hbhsx.lib hbsix.lib rddntx.lib rddcdx.lib rddfpt.lib  
> hbuddall.lib rd
> dnsx.lib hbmacro.lib hbcplr.lib hbpp.lib hbcommon.lib hbpcre.lib  
> hbzlib.lib kern
> el32.lib user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib  
> comctl32.lib
> comdlg32.lib shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib  
> winmm.lib mapi3
> 2.lib imm32.lib msimg32.lib wininet.lib  .hbmk\win\msvc\fjfrigo.res
>
> Thanks,
> Fernando
>
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 -  
> Celebridades - M?sica - 
> Esportes_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Aug 21 21:30:21 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug 21 21:30:30 2009
Subject: [Harbour] Re: unresolved external symbol _hb_vmProcessSymbolsEx
In-Reply-To: <h6ngu1$kta$1@ger.gmane.org>
References: <h6ncpa$cq6$1@ger.gmane.org>
	<C79EE672-8921-4F5F-B7A1-E1A02616766B@syenar.hu>
	<h6ngu1$kta$1@ger.gmane.org>
Message-ID: <458D836F-03CB-4D97-ACEF-205915235839@syenar.hu>

You're using a mixture of two different Harbour versions.

Clean you environment and use matching hbmk2 and Harbour lib
versions.

Brgds,
Viktor

On 2009.08.22., at 3:15, Itamar Lins wrote:

> Hi!
> See this.
> function main
> ? 'hello!'
> return nil
> hbmk2 teste.prg
> teste.c
> teste.obj : error LNK2019: unresolved external symbol  
> _hb_vmProcessSymbolsEx
> referenced in function _hb_vm_SymbolInit_TESTE
> teste.exe : fatal error LNK1120: 1 unresolved externals
>
>> harbour -build
> Harbour 2.0.0beta2 (Rev. 12247)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
>
> Harbour Build Info
> ------------------------
> Version: Harbour 2.0.0beta2 (Rev. 12247)
> Compiler: Microsoft Visual C++ 15.0.26569 (32-bit)
> Platform: Windows XP...
>
> Thanks,
> Itamar M. Lins Jr.
>
> "Viktor Szak?ts" <harbour.01@syenar.hu>
> escreveu na mensagem news:C79EE672-8921-4F5F-B7A1-E1A02616766B@syenar.hu 
> ...
>> You have to rebuild all your libs and apps with
>> current Harbour.
>>
>> Brgds,
>> Viktor
>>
>> On 2009.08.22., at 2:04, Itamar Lins wrote:
>>
>>> Hi!
>>> Windows XP SP3 with MSVC
>>> * $Id: ChangeLog 12247 2009-08-21 20:01:30Z vszakats $
>>>
>>> Now I get this error
>>> tipo70.obj : error LNK2001: unresolved external symbol
>>> _hb_vmProcessSymbolsEx
>>>
>>> Best Regards,
>>> Itamar M. Lins Jr.
>>>
>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vouchcac at users.sourceforge.net  Fri Aug 21 22:29:11 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Aug 21 22:29:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12249] trunk/harbour
Message-ID: <E1MegLv-0007wf-1H@dn4whf1.ch3.sourceforge.com>

Revision: 12249
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12249&view=rev
Author:   vouchcac
Date:     2009-08-22 02:29:05 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-21 19:19 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/gtwvg/wvgax.prg
  * contrib/gtwvg/wvgsink.c
    ! Code parts used fron axcore.c, deleted from these files.

  * contrib/hbwin/axcore.c
    + __AXDOVERB(), a very important function for in-process active-x controls

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgax.prg
    trunk/harbour/contrib/gtwvg/wvgsink.c
    trunk/harbour/contrib/hbwin/axcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From itamarlins at bol.com.br  Fri Aug 21 23:08:01 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Fri Aug 21 23:09:46 2009
Subject: [Harbour] Re: Re: Problem with make files
References: <h6nb91$9kb$1@ger.gmane.org> <h6nbjq$abc$1@ger.gmane.org>
	<ABDE66DB-3D49-4674-BC83-B5CBF4BDDF2A@syenar.hu>
Message-ID: <h6nngt$n3$1@ger.gmane.org>

The problem is, process make is copying incorrect files probable bcc and 
bcc32
If I set ambient for
HB_COMPILER=msvc
And now while make harbour from SVN mix with old files BCC. :-( And this I 
can not control.
1) My make files is:
      --- MSVC 2008
      call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
      rem
      mingw32-make %1 %2 > log.txt 2>&1
      ---
2)MyMakefile clean
3)MyMakeFIle install
teste.prg file.
function main()
? "Hello!"
return NIL
4)hbmk2 teste.prg >saida
Type saida.
hbmk: Processando arquivo de configura?Æo: D:\DEV\HARBOUR\BIN\hbmk.cfg
teste.c
teste.obj : error LNK2019: unresolved external symbol _hb_vmProcessSymbolsEx 
referenced in function _hb_vm_SymbolInit_TESTE
teste.exe : fatal error LNK1120: 1 unresolved externals

I do not know where is the problem. Which is the old library?

Best Regards,
Itamar M. Lins Jr.

"Viktor Szakáts" <harbour.01@syenar.hu> 
escreveu na mensagem news:ABDE66DB-3D49-4674-BC83-B5CBF4BDDF2A@syenar.hu...
>> Correction lib dir. \dev\harbour\lib and \dev\harbour\lib\win\bcc  and 
>> other
>> \dev\harbour\lib\win\msvc.
>
> You can override lib to whatever dir you'd like. The
> default has changed to /lib/<arch>/<comp>, to support
> multiplatform/multicompiler installations. hbmk2 handles
> it transparently, and it's most probably possible to
> setup any tools for this new dir layout.
>
> Anyhow you can override with HB_*_INSTALL. See INSTALL doc.
>
> Brgds,
> Viktor
> 



From vszakats at users.sourceforge.net  Sat Aug 22 02:15:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 02:15:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12250] trunk/harbour
Message-ID: <E1Mejsb-0007ON-2S@3kljzd1.ch3.sourceforge.com>

Revision: 12250
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12250&view=rev
Author:   vszakats
Date:     2009-08-22 06:15:07 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 08:13 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/axcore.c
    + My previous change reapplied after it has been overwritten/lost
      by previous commit.
      Pritpal, pls verify your workflow, this was a very small change
      but it's just out of luck I noticed it has been undone and it
      could be something important in another case. Please 'svn update'
      before committing and edit files directly in your sandbox. I'm
      writing this because such lost committed modification happened 
      already a few times in the past. Thank you.

  * config/global.mk
    + Including optional config/conf.mk file.
      Such file may be created by configure session.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/contrib/hbwin/axcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Aug 22 02:18:51 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 02:18:59 2009
Subject: [Harbour] Re: Re: Problem with make files
In-Reply-To: <h6nngt$n3$1@ger.gmane.org>
References: <h6nb91$9kb$1@ger.gmane.org> <h6nbjq$abc$1@ger.gmane.org>
	<ABDE66DB-3D49-4674-BC83-B5CBF4BDDF2A@syenar.hu>
	<h6nngt$n3$1@ger.gmane.org>
Message-ID: <F8AAD7BE-F804-4DDA-B077-482DD6E7F0AD@syenar.hu>

Make sure to delete old .lib files: C:\harbour\lib\*.lib

These are not overwritten by 'install', but they are picked
if present by hbmk2. This may cause such problems you're
having.

The surest thing in *all* similar cases is to start over
with an empty target dir. If above fails, try this.

Brgds,
Viktor

On 2009.08.22., at 5:08, Itamar Lins wrote:

> The problem is, process make is copying incorrect files probable bcc  
> and
> bcc32
> If I set ambient for
> HB_COMPILER=msvc
> And now while make harbour from SVN mix with old files BCC. :-( And  
> this I
> can not control.
> 1) My make files is:
>      --- MSVC 2008
>      call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC 
> \vcvarsall.bat"
>      rem
>      mingw32-make %1 %2 > log.txt 2>&1
>      ---
> 2)MyMakefile clean
> 3)MyMakeFIle install
> teste.prg file.
> function main()
> ? "Hello!"
> return NIL
> 4)hbmk2 teste.prg >saida
> Type saida.
> hbmk: Processando arquivo de configura??o: D:\DEV\HARBOUR\BIN\hbmk.cfg
> teste.c
> teste.obj : error LNK2019: unresolved external symbol  
> _hb_vmProcessSymbolsEx
> referenced in function _hb_vm_SymbolInit_TESTE
> teste.exe : fatal error LNK1120: 1 unresolved externals
>
> I do not know where is the problem. Which is the old library?
>
> Best Regards,
> Itamar M. Lins Jr.
>
> "Viktor Szak?ts" <harbour.01@syenar.hu>
> escreveu na mensagem news:ABDE66DB-3D49-4674-BC83-B5CBF4BDDF2A@syenar.hu 
> ...
>>> Correction lib dir. \dev\harbour\lib and \dev\harbour\lib\win\bcc   
>>> and
>>> other
>>> \dev\harbour\lib\win\msvc.
>>
>> You can override lib to whatever dir you'd like. The
>> default has changed to /lib/<arch>/<comp>, to support
>> multiplatform/multicompiler installations. hbmk2 handles
>> it transparently, and it's most probably possible to
>> setup any tools for this new dir layout.
>>
>> Anyhow you can override with HB_*_INSTALL. See INSTALL doc.
>>
>> Brgds,
>> Viktor
>>
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Aug 22 02:33:55 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 02:34:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12249] trunk/harbour
In-Reply-To: <E1MegLv-0007wf-1H@dn4whf1.ch3.sourceforge.com>
References: <E1MegLv-0007wf-1H@dn4whf1.ch3.sourceforge.com>
Message-ID: <66D10592-48CB-406A-BEE4-505D84F782E2@syenar.hu>

Hi Pritpal,

Thank you.

There is one more issue in wvgsink.c. It uses HVM
internals in hb_itemPushList(), which breaks a very
important rule and may cause all sorts of problems.

Would it be possible to somehow remove it, or replace
it with a method based on documented Harbour APIs?

I'm talking about contrib/gtwvg/wvgsink.c lines 95-97
and line 105.

Brgds,
Viktor

On 2009.08.22., at 4:29, vouchcac@users.sourceforge.net wrote:

> Revision: 12249
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12249&view=rev
> Author:   vouchcac
> Date:     2009-08-22 02:29:05 +0000 (Sat, 22 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-21 19:19 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/gtwvg/wvgax.prg
>  * contrib/gtwvg/wvgsink.c
>    ! Code parts used fron axcore.c, deleted from these files.
>
>  * contrib/hbwin/axcore.c
>    + __AXDOVERB(), a very important function for in-process active-x  
> controls
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/gtwvg/wvgax.prg
>    trunk/harbour/contrib/gtwvg/wvgsink.c
>    trunk/harbour/contrib/hbwin/axcore.c
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sat Aug 22 03:06:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 03:06:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12251] trunk/harbour
Message-ID: <E1MekgV-0003gT-Id@c3vjzd1.ch3.sourceforge.com>

Revision: 12251
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12251&view=rev
Author:   vszakats
Date:     2009-08-22 07:06:42 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 09:04 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/bsd/gcc.mk
  * config/hpux/gcc.mk
  * config/darwin/gcc.mk
  * config/linux/gcc.mk
  * config/os2/gcc.mk
  * config/sunos/gcc.mk
    + Added HB_CCACHE, HB_CCPREFIX, HB_CCPOSTFIX to all places where
      it was missing from.
         bsd/hpux/os2/sunos - pre/post to cc/ld, pre to ar
         darwin - ccache to ld (I'm not sure about this one)
         linux - post to cc/ld
    ; Not it's about consistent and in sync with hbmk2.
      Please review me.

  * utils/hbmk2/hbmk2.prg
    + Added support for HB_CCPREFIX/HB_CCPOSTFIX for os2/gcc targets.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/sunos/gcc.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Aug 22 03:28:27 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Aug 22 03:28:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12252] trunk/harbour
Message-ID: <E1Mel1X-0003OL-II@d5vjzd1.ch3.sourceforge.com>

Revision: 12252
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12252&view=rev
Author:   vouchcac
Date:     2009-08-22 07:28:26 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 00:26 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/gtwvg/wvgsink.c
    ! Implemented hbwin/axcore.c:Invoke() function in gtwvg/winsink.c.
    - hb_itemPushList()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgsink.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Aug 22 03:29:53 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Aug 22 03:29:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12249] trunk/harbour
In-Reply-To: <66D10592-48CB-406A-BEE4-505D84F782E2@syenar.hu>
References: <E1MegLv-0007wf-1H@dn4whf1.ch3.sourceforge.com>
	<66D10592-48CB-406A-BEE4-505D84F782E2@syenar.hu>
Message-ID: <25091363.post@talk.nabble.com>




Viktor Szak?ts wrote:
> 
> Hi Pritpal,
> 
> Thank you.
> 
> There is one more issue in wvgsink.c. It uses HVM
> internals in hb_itemPushList(), which breaks a very
> important rule and may cause all sorts of problems.
> 
> Would it be possible to somehow remove it, or replace
> it with a method based on documented Harbour APIs?
> 
> I'm talking about contrib/gtwvg/wvgsink.c lines 95-97
> and line 105.
> 

Done.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12249--trunk-harbour-tp25090027p25091363.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From kadziola at tlen.pl  Sat Aug 22 03:32:49 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Sat Aug 22 03:31:55 2009
Subject: [Harbour] Error Build winCE
Message-ID: <537676062.20090822093149@tlen.pl>

Hi ,

When i'm building harbour WinCE under msys+mingw :

! Installing ../../lib/wce/mingwarm/libhbdebug.a on G:/msys/1.0/hb-mingwarm/lib
G:/msys/1.0/opt/mingw32ce/bin/arm-wince-mingw32ce-gcc -shared  -o "../../../../../bin/wce/mingwarm/harbour-20-wce-arm.dll"
__dyn__.tmp -lcoredll -lws2 -Wl,--output-def,"../../../../../bin/wce/mingwarm/harbour-20-wce-arm.def",--out-implib,
"../../../../../lib/wce/mingwarm/harbour-20-wce-arm.a"
/usr/bin/sh: -c: line 3: syntax error: unexpected end of file
make[3]: *** [harbour-20-wce-arm.dll] Error 258
make[2]: *** [descend] Error 2
make[1]: *** [dynlib.inst] Error 2
make: *** [source.inst] Error 2

-- 
regards,
Jaroslaw Kadziola


From harbour.01 at syenar.hu  Sat Aug 22 03:34:59 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 03:35:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12249] trunk/harbour
In-Reply-To: <25091363.post@talk.nabble.com>
References: <E1MegLv-0007wf-1H@dn4whf1.ch3.sourceforge.com>
	<66D10592-48CB-406A-BEE4-505D84F782E2@syenar.hu>
	<25091363.post@talk.nabble.com>
Message-ID: <CE68B425-3FA6-4D8B-A720-E1EF2CDED850@syenar.hu>

Hi Pritpal,

Nice! Thank you very much.

Brgds,
Viktor

On 2009.08.22., at 9:29, Pritpal Bedi wrote:

>
>
>
> Viktor Szak?ts wrote:
>>
>> Hi Pritpal,
>>
>> Thank you.
>>
>> There is one more issue in wvgsink.c. It uses HVM
>> internals in hb_itemPushList(), which breaks a very
>> important rule and may cause all sorts of problems.
>>
>> Would it be possible to somehow remove it, or replace
>> it with a method based on documented Harbour APIs?
>>
>> I'm talking about contrib/gtwvg/wvgsink.c lines 95-97
>> and line 105.
>>
>
> Done.
>
> Regards
> Pritpal Bedi
>
> -- 
> View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12249--trunk-harbour-tp25090027p25091363.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Aug 22 03:46:59 2009
From: harbour.01 at syenar.hu (=?WINDOWS-1250?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 03:47:07 2009
Subject: [Harbour] Error Build winCE
In-Reply-To: <537676062.20090822093149@tlen.pl>
References: <537676062.20090822093149@tlen.pl>
Message-ID: <E09B90CB-3702-4E45-882A-A4D7EA978A12@syenar.hu>

Hi,

I'll fix this, until then just use plain mingw32-make
to build mingwarm.

Brgds,
Viktor

On 2009.08.22., at 9:32, Jaroslaw Kadziola wrote:

> Hi ,
>
> When i'm building harbour WinCE under msys+mingw :
>
> ! Installing ../../lib/wce/mingwarm/libhbdebug.a on G:/msys/1.0/hb- 
> mingwarm/lib
> G:/msys/1.0/opt/mingw32ce/bin/arm-wince-mingw32ce-gcc -shared  -o  
> "../../../../../bin/wce/mingwarm/harbour-20-wce-arm.dll"
> __dyn__.tmp -lcoredll -lws2 -Wl,--output-def,"../../../../../bin/wce/ 
> mingwarm/harbour-20-wce-arm.def",--out-implib,
> "../../../../../lib/wce/mingwarm/harbour-20-wce-arm.a"
> /usr/bin/sh: -c: line 3: syntax error: unexpected end of file
> make[3]: *** [harbour-20-wce-arm.dll] Error 258
> make[2]: *** [descend] Error 2
> make[1]: *** [dynlib.inst] Error 2
> make: *** [source.inst] Error 2
>
> -- 
> regards,
> Jaroslaw Kadziola
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From maurilio.longo at libero.it  Sat Aug 22 03:53:13 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Sat Aug 22 03:53:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>
Message-ID: <4A8FA3E9.6050105@libero.it>

Viktor,

it dies here

E:/harbour/bin/harbour.exe ../../../debugger.prg -n1  -i../../../../../include -
q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
gcc  -I. -I../../../../../include  -Wall -W -O3   -odebugger.o -c debugger.c
E:/harbour/bin/harbour.exe ../../../dbgtarr.prg -n1  -i../../../../../include -q
0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgtarr.o -c dbgtarr.c
E:/harbour/bin/harbour.exe ../../../dbgthsh.prg -n1  -i../../../../../include -q
0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgthsh.o -c dbgthsh.c
E:/harbour/bin/harbour.exe ../../../dbgtobj.prg -n1  -i../../../../../include -q
0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgtobj.o -c dbgtobj.c
E:/harbour/bin/harbour.exe ../../../tbrwtext.prg -n1  -i../../../../../include -
q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
gcc  -I. -I../../../../../include  -Wall -W -O3   -otbrwtext.o -c tbrwtext.c
E:/harbour/bin/harbour.exe ../../../dbgwa.prg -n1  -i../../../../../include -q0
-w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgwa.o -c dbgwa.c
E:/harbour/bin/harbour.exe ../../../dbgbrwsr.prg -n1  -i../../../../../include -
q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgbrwsr.o -c dbgbrwsr.c
for %i in ( *.o ) do @echo ADDMOD %i >> __lib__.tmp
ar   -M < __lib__.tmp & ..\..\..\..\..\config\os2-rm -f __lib__.tmp
make[3]: *** No rule to make target `harbour-20-os2.dll'.  Stop.
make[2]: *** [descend] Error 2
make[1]: *** [dynlib] Error 2
make: *** [source] Error 2

Can it be that OS/2 GCC is not ready yet?


Best regards.

Maurilio.



vszakats@users.sourceforge.net wrote:
> Revision: 12244
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12244&view=rev
> Author:   vszakats
> Date:     2009-08-21 19:00:06 +0000 (Fri, 21 Aug 2009)
> 
> Log Message:
> -----------
> 2009-08-21 21:00 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * source/vm/maindllh.c
>   * source/vm/Makefile
>     + Added support for os2 .dll. Please review.
> 
>   * config/os2/watcom.mk
>     + Added os2 .dll generation for watcom.
>       Now it generates OK.
> 
>   * source/Makefile
>   * config/lib.mk
>     + Added support for os2 and some level of *nix support.
> 
>   * INSTALL
>     * Minor update to a few option description.
> 
>   * utils/hbmk2/hbmk2.prg
>     + Added preliminary/experimental/untested OS/2 -shared (.dll)
>       support for watcom targets.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/INSTALL
>     trunk/harbour/config/lib.mk
>     trunk/harbour/config/os2/watcom.mk
>     trunk/harbour/source/Makefile
>     trunk/harbour/source/vm/Makefile
>     trunk/harbour/source/vm/maindllh.c
>     trunk/harbour/utils/hbmk2/hbmk2.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Sat Aug 22 04:01:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 04:01:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12253] trunk/harbour
Message-ID: <E1MelX3-0007vl-C5@bj8yhf1.ch3.sourceforge.com>

Revision: 12253
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12253&view=rev
Author:   vszakats
Date:     2009-08-22 08:01:00 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 10:00 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/wce/mingwarm.mk
  * config/win/mingw.mk
  * config/win/cygwin.mk
    ! Don't quote filenames in DY_RULE commands to make them work
      on all shells (sh in particular). This means that we lost
      some level of 'space in filename' support, but it's acceptable
      since it's unlikely to have space in internal paths anyway.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/win/cygwin.mk
    trunk/harbour/config/win/mingw.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Sat Aug 22 04:01:51 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Sat Aug 22 04:02:04 2009
Subject: [Harbour] cp on OS/2
Message-ID: <4A8FA5EF.1050603@libero.it>

Viktor,

I'm trying to use cp instead of internal copy on OS/2, but while it copies ok
files inside include it then gives a strange error when trying to copy .a file
(libraries).

Any idea?

cp fm.api e:\harbour\include
cp gt.api e:\harbour\include
cp hbundoc.api e:\harbour\include
cp item.api e:\harbour\include
cp rdd.api e:\harbour\include
cp vm.api e:\harbour\include
make[3]: `../../../../../lib/os2/gcc/hbcommon.a' is up to date.
cp ..\..\lib\os2\gcc\hbcommon.a e:\harbour\lib
cp: cannot create regular file `e:\\harbour\\lib/..\\..\\lib\\os2\\gcc\\hbcommon
.a': No such file or directory
make[2]: [install] Error 1 (ignored)
make[3]: `../../../../../lib/os2/gcc/hbnortl.a' is up to date.
cp ..\..\lib\os2\gcc\hbnortl.a e:\harbour\lib
cp: cannot create regular file `e:\\harbour\\lib/..\\..\\lib\\os2\\gcc\\hbnortl.
a': No such file or directory
make[2]: [install] Error 1 (ignored)
make[3]: `../../../../../lib/os2/gcc/hbpp.a' is up to date.
cp ..\..\bin\os2\gcc\hbpp.exe e:\harbour\bin
cp: cannot create regular file `e:\\harbour\\bin/..\\..\\bin\\os2\\gcc\\hbpp.exe
': No such file or directory
make[2]: [install] Error 1 (ignored)
cp ..\..\lib\os2\gcc\hbpp.a e:\harbour\lib
cp: cannot create regular file `e:\\harbour\\lib/..\\..\\lib\\os2\\gcc\\hbpp.a':
 No such file or directory
make[2]: [install] Error 1 (ignored)
make[3]: `../../../../../lib/os2/gcc/hbcplr.a' is up to date.
cp ..\..\lib\os2\gcc\hbcplr.a e:\harbour\lib


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Sat Aug 22 04:02:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 04:02:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <4A8FA3E9.6050105@libero.it>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>
	<4A8FA3E9.6050105@libero.it>
Message-ID: <38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>

Hi Maurilio,

Yes, I didn't implement os2/gcc dll support yet.

(I fear of all the os2 shell problems here, we have
to create a quite large >32KB filelist here and pass
it to gcc. I'll make an attempt though)

Anyhow this case should be handled more gracefully.

Brgds,
Viktor

On 2009.08.22., at 9:53, Maurilio Longo wrote:

> Viktor,
>
> it dies here
>
> E:/harbour/bin/harbour.exe ../../../debugger.prg -n1  - 
> i../../../../../include -
> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
> gcc  -I. -I../../../../../include  -Wall -W -O3   -odebugger.o -c  
> debugger.c
> E:/harbour/bin/harbour.exe ../../../dbgtarr.prg -n1  - 
> i../../../../../include -q
> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgtarr.o -c  
> dbgtarr.c
> E:/harbour/bin/harbour.exe ../../../dbgthsh.prg -n1  - 
> i../../../../../include -q
> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgthsh.o -c  
> dbgthsh.c
> E:/harbour/bin/harbour.exe ../../../dbgtobj.prg -n1  - 
> i../../../../../include -q
> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgtobj.o -c  
> dbgtobj.c
> E:/harbour/bin/harbour.exe ../../../tbrwtext.prg -n1  - 
> i../../../../../include -
> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
> gcc  -I. -I../../../../../include  -Wall -W -O3   -otbrwtext.o -c  
> tbrwtext.c
> E:/harbour/bin/harbour.exe ../../../dbgwa.prg -n1  -i../../../../../ 
> include -q0
> -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgwa.o -c dbgwa.c
> E:/harbour/bin/harbour.exe ../../../dbgbrwsr.prg -n1  - 
> i../../../../../include -
> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgbrwsr.o -c  
> dbgbrwsr.c
> for %i in ( *.o ) do @echo ADDMOD %i >> __lib__.tmp
> ar   -M < __lib__.tmp & ..\..\..\..\..\config\os2-rm -f __lib__.tmp
> make[3]: *** No rule to make target `harbour-20-os2.dll'.  Stop.
> make[2]: *** [descend] Error 2
> make[1]: *** [dynlib] Error 2
> make: *** [source] Error 2
>
> Can it be that OS/2 GCC is not ready yet?
>
>
> Best regards.
>
> Maurilio.
>
>
>
> vszakats@users.sourceforge.net wrote:
>> Revision: 12244
>>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12244&view=rev
>> Author:   vszakats
>> Date:     2009-08-21 19:00:06 +0000 (Fri, 21 Aug 2009)
>>
>> Log Message:
>> -----------
>> 2009-08-21 21:00 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>  * source/vm/maindllh.c
>>  * source/vm/Makefile
>>    + Added support for os2 .dll. Please review.
>>
>>  * config/os2/watcom.mk
>>    + Added os2 .dll generation for watcom.
>>      Now it generates OK.
>>
>>  * source/Makefile
>>  * config/lib.mk
>>    + Added support for os2 and some level of *nix support.
>>
>>  * INSTALL
>>    * Minor update to a few option description.
>>
>>  * utils/hbmk2/hbmk2.prg
>>    + Added preliminary/experimental/untested OS/2 -shared (.dll)
>>      support for watcom targets.
>>
>> Modified Paths:
>> --------------
>>    trunk/harbour/ChangeLog
>>    trunk/harbour/INSTALL
>>    trunk/harbour/config/lib.mk
>>    trunk/harbour/config/os2/watcom.mk
>>    trunk/harbour/source/Makefile
>>    trunk/harbour/source/vm/Makefile
>>    trunk/harbour/source/vm/maindllh.c
>>    trunk/harbour/utils/hbmk2/hbmk2.prg
>>
>>
>> This was sent by the SourceForge.net collaborative development  
>> platform, the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Aug 22 04:11:50 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 04:11:59 2009
Subject: [Harbour] cp on OS/2
In-Reply-To: <4A8FA5EF.1050603@libero.it>
References: <4A8FA5EF.1050603@libero.it>
Message-ID: <689B8D1F-FBAE-49BC-85B4-BE8EAD03FF40@syenar.hu>

> Viktor,
>
> I'm trying to use cp instead of internal copy on OS/2, but while it  
> copies ok
> files inside include it then gives a strange error when trying to  
> copy .a file
> (libraries).
>
> Any idea?

My guess is that this cp build needs forward slashes.

In config/instsh.mk try replacing INSTALL_DIR_OS with
INSTALL_DIR in line 67 and INSTALL_FILES_OS with
INSTALL_FILES in line 71.

(if you can pls do the testing with cp.exe which comes
from http://download.smedley.info/buildenv_20071022.zip,
the other tools also came from here.)

Brgds,
Viktor

>
> cp fm.api e:\harbour\include
> cp gt.api e:\harbour\include
> cp hbundoc.api e:\harbour\include
> cp item.api e:\harbour\include
> cp rdd.api e:\harbour\include
> cp vm.api e:\harbour\include
> make[3]: `../../../../../lib/os2/gcc/hbcommon.a' is up to date.
> cp ..\..\lib\os2\gcc\hbcommon.a e:\harbour\lib
> cp: cannot create regular file `e:\\harbour\\lib/..\\..\\lib\\os2\ 
> \gcc\\hbcommon
> .a': No such file or directory
> make[2]: [install] Error 1 (ignored)
> make[3]: `../../../../../lib/os2/gcc/hbnortl.a' is up to date.
> cp ..\..\lib\os2\gcc\hbnortl.a e:\harbour\lib
> cp: cannot create regular file `e:\\harbour\\lib/..\\..\\lib\\os2\ 
> \gcc\\hbnortl.
> a': No such file or directory
> make[2]: [install] Error 1 (ignored)
> make[3]: `../../../../../lib/os2/gcc/hbpp.a' is up to date.
> cp ..\..\bin\os2\gcc\hbpp.exe e:\harbour\bin
> cp: cannot create regular file `e:\\harbour\\bin/..\\..\\bin\\os2\ 
> \gcc\\hbpp.exe
> ': No such file or directory
> make[2]: [install] Error 1 (ignored)
> cp ..\..\lib\os2\gcc\hbpp.a e:\harbour\lib
> cp: cannot create regular file `e:\\harbour\\lib/..\\..\\lib\\os2\ 
> \gcc\\hbpp.a':
> No such file or directory
> make[2]: [install] Error 1 (ignored)
> make[3]: `../../../../../lib/os2/gcc/hbcplr.a' is up to date.
> cp ..\..\lib\os2\gcc\hbcplr.a e:\harbour\lib
>
>
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sat Aug 22 04:23:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 04:23:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12254] trunk/harbour
Message-ID: <E1Melsb-00054G-QD@c3vjzd1.ch3.sourceforge.com>

Revision: 12254
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12254&view=rev
Author:   vszakats
Date:     2009-08-22 08:23:05 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 10:21 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/rules.mk
  * config/dyn.mk
    ! Fixed to handle dynamic lib creation gracefully for targets
      where this isn't supported. Now a message will be shown.

  + config/os2-cp.exe
  * config/readme.txt
    + Added os2 cp tool. For testing.

  * source/pp/Makefile
  * source/dynlib/mt/Makefile
  * source/dynlib/Makefile
    * Minor rename.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dyn.mk
    trunk/harbour/config/readme.txt
    trunk/harbour/config/rules.mk
    trunk/harbour/source/dynlib/Makefile
    trunk/harbour/source/dynlib/mt/Makefile
    trunk/harbour/source/pp/Makefile

Added Paths:
-----------
    trunk/harbour/config/os2-cp.exe


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Sat Aug 22 04:25:32 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Sat Aug 22 04:25:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>
	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>
Message-ID: <4A8FAB7C.4020800@libero.it>

Viktor,

can't you use a *.o instead of listing every single module needed?

Maurilio.


Viktor Szak?ts wrote:
> Hi Maurilio,
> 
> Yes, I didn't implement os2/gcc dll support yet.
> 
> (I fear of all the os2 shell problems here, we have
> to create a quite large >32KB filelist here and pass
> it to gcc. I'll make an attempt though)
> 
> Anyhow this case should be handled more gracefully.
> 
> Brgds,
> Viktor
> 
> On 2009.08.22., at 9:53, Maurilio Longo wrote:
> 
>> Viktor,
>>
>> it dies here
>>
>> E:/harbour/bin/harbour.exe ../../../debugger.prg -n1 
>> -i../../../../../include -
>> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odebugger.o -c
>> debugger.c
>> E:/harbour/bin/harbour.exe ../../../dbgtarr.prg -n1 
>> -i../../../../../include -q
>> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgtarr.o -c
>> dbgtarr.c
>> E:/harbour/bin/harbour.exe ../../../dbgthsh.prg -n1 
>> -i../../../../../include -q
>> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgthsh.o -c
>> dbgthsh.c
>> E:/harbour/bin/harbour.exe ../../../dbgtobj.prg -n1 
>> -i../../../../../include -q
>> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgtobj.o -c
>> dbgtobj.c
>> E:/harbour/bin/harbour.exe ../../../tbrwtext.prg -n1 
>> -i../../../../../include -
>> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>> gcc  -I. -I../../../../../include  -Wall -W -O3   -otbrwtext.o -c
>> tbrwtext.c
>> E:/harbour/bin/harbour.exe ../../../dbgwa.prg -n1 
>> -i../../../../../include -q0
>> -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgwa.o -c dbgwa.c
>> E:/harbour/bin/harbour.exe ../../../dbgbrwsr.prg -n1 
>> -i../../../../../include -
>> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgbrwsr.o -c
>> dbgbrwsr.c
>> for %i in ( *.o ) do @echo ADDMOD %i >> __lib__.tmp
>> ar   -M < __lib__.tmp & ..\..\..\..\..\config\os2-rm -f __lib__.tmp
>> make[3]: *** No rule to make target `harbour-20-os2.dll'.  Stop.
>> make[2]: *** [descend] Error 2
>> make[1]: *** [dynlib] Error 2
>> make: *** [source] Error 2
>>
>> Can it be that OS/2 GCC is not ready yet?
>>
>>
>> Best regards.
>>
>> Maurilio.
>>
>>
>>
>> vszakats@users.sourceforge.net wrote:
>>> Revision: 12244
>>>         
>>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12244&view=rev
>>>
>>> Author:   vszakats
>>> Date:     2009-08-21 19:00:06 +0000 (Fri, 21 Aug 2009)
>>>
>>> Log Message:
>>> -----------
>>> 2009-08-21 21:00 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>>  * source/vm/maindllh.c
>>>  * source/vm/Makefile
>>>    + Added support for os2 .dll. Please review.
>>>
>>>  * config/os2/watcom.mk
>>>    + Added os2 .dll generation for watcom.
>>>      Now it generates OK.
>>>
>>>  * source/Makefile
>>>  * config/lib.mk
>>>    + Added support for os2 and some level of *nix support.
>>>
>>>  * INSTALL
>>>    * Minor update to a few option description.
>>>
>>>  * utils/hbmk2/hbmk2.prg
>>>    + Added preliminary/experimental/untested OS/2 -shared (.dll)
>>>      support for watcom targets.
>>>
>>> Modified Paths:
>>> --------------
>>>    trunk/harbour/ChangeLog
>>>    trunk/harbour/INSTALL
>>>    trunk/harbour/config/lib.mk
>>>    trunk/harbour/config/os2/watcom.mk
>>>    trunk/harbour/source/Makefile
>>>    trunk/harbour/source/vm/Makefile
>>>    trunk/harbour/source/vm/maindllh.c
>>>    trunk/harbour/utils/hbmk2/hbmk2.prg
>>>
>>>
>>> This was sent by the SourceForge.net collaborative development
>>> platform, the world's largest Open Source development site.
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>> -- 
>> __________
>> |  |  | |__| Maurilio Longo
>> |_|_|_|____| farmaconsult s.r.l.
>>
>> 
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Sat Aug 22 04:30:54 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Sat Aug 22 04:31:06 2009
Subject: [Harbour] cp on OS/2
In-Reply-To: <689B8D1F-FBAE-49BC-85B4-BE8EAD03FF40@syenar.hu>
References: <4A8FA5EF.1050603@libero.it>
	<689B8D1F-FBAE-49BC-85B4-BE8EAD03FF40@syenar.hu>
Message-ID: <4A8FACBE.3050706@libero.it>

Viktor,

no, cp uses backslashes as well, see

(E:\REPOSITORY\harbour)dir \harbour\TODO

The volume label in drive E is Dati.
The Volume Serial Number is 812E:D5C2.
Directory of E:\harbour

SYS0002: The system cannot find the file specified.

(E:\REPOSITORY\harbour)cp TODO \harbour\TODO

(E:\REPOSITORY\harbour)dir \harbour\TODO

The volume label in drive E is Dati.
The Volume Serial Number is 812E:D5C2.
Directory of E:\harbour

22/08/09 10:29          3.258    124 a---  TODO
        1 file(s)       3.258 bytes used
                  178.648.915 K bytes free

Anyway, I'll try your change and report.

Maurilio.



Viktor Szak?ts wrote:
>> Viktor,
>>
>> I'm trying to use cp instead of internal copy on OS/2, but while it
>> copies ok
>> files inside include it then gives a strange error when trying to copy
>> .a file
>> (libraries).
>>
>> Any idea?
> 
> My guess is that this cp build needs forward slashes.
> 
> In config/instsh.mk try replacing INSTALL_DIR_OS with
> INSTALL_DIR in line 67 and INSTALL_FILES_OS with
> INSTALL_FILES in line 71.
> 
> (if you can pls do the testing with cp.exe which comes
> from http://download.smedley.info/buildenv_20071022.zip,
> the other tools also came from here.)
> 
> Brgds,
> Viktor
> 
>>
>> cp fm.api e:\harbour\include
>> cp gt.api e:\harbour\include
>> cp hbundoc.api e:\harbour\include
>> cp item.api e:\harbour\include
>> cp rdd.api e:\harbour\include
>> cp vm.api e:\harbour\include
>> make[3]: `../../../../../lib/os2/gcc/hbcommon.a' is up to date.
>> cp ..\..\lib\os2\gcc\hbcommon.a e:\harbour\lib
>> cp: cannot create regular file
>> `e:\\harbour\\lib/..\\..\\lib\\os2\\gcc\\hbcommon
>> .a': No such file or directory
>> make[2]: [install] Error 1 (ignored)
>> make[3]: `../../../../../lib/os2/gcc/hbnortl.a' is up to date.
>> cp ..\..\lib\os2\gcc\hbnortl.a e:\harbour\lib
>> cp: cannot create regular file
>> `e:\\harbour\\lib/..\\..\\lib\\os2\\gcc\\hbnortl.
>> a': No such file or directory
>> make[2]: [install] Error 1 (ignored)
>> make[3]: `../../../../../lib/os2/gcc/hbpp.a' is up to date.
>> cp ..\..\bin\os2\gcc\hbpp.exe e:\harbour\bin
>> cp: cannot create regular file
>> `e:\\harbour\\bin/..\\..\\bin\\os2\\gcc\\hbpp.exe
>> ': No such file or directory
>> make[2]: [install] Error 1 (ignored)
>> cp ..\..\lib\os2\gcc\hbpp.a e:\harbour\lib
>> cp: cannot create regular file
>> `e:\\harbour\\lib/..\\..\\lib\\os2\\gcc\\hbpp.a':
>> No such file or directory
>> make[2]: [install] Error 1 (ignored)
>> make[3]: `../../../../../lib/os2/gcc/hbcplr.a' is up to date.
>> cp ..\..\lib\os2\gcc\hbcplr.a e:\harbour\lib
>>
>>
>> -- 
>> __________
>> |  |  | |__| Maurilio Longo
>> |_|_|_|____| farmaconsult s.r.l.
>>
>> 
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Sat Aug 22 04:33:04 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Sat Aug 22 04:33:17 2009
Subject: [Harbour] HB_BIN_COMPILER warning
Message-ID: <4A8FAD40.7000606@libero.it>

Viktor,

sorry to keep bothering you, at transaction 12252 I'm now getting

onfig/global.mk:820: ! Warning: HB_BIN_COMPILE not specified. Couldn't find nat
ve build
 HB_INSTALL_PREFIX automatically set to: E:\repository\harbour
./config/global.mk:820: ! Warning: HB_BIN_COMPILE not specified. Couldn't find
ative build
./../config/global.mk:820: ! Warning: HB_BIN_COMPILE not specified. Couldn't fi
d native build
ake[2]: Nothing to be done for `all'.
./config/global.mk:820: ! Warning: HB_BIN_COMPILE not specified. Couldn't find
ative build
ake[1]: Nothing to be done for `all'.
./config/global.mk:820: ! Warning: HB_BIN_COMPILE not specified. Couldn't find
ative build
./../config/global.mk:820: ! Warning: HB_BIN_COMPILE not specified. Couldn't fi
d native build
./../../../../config/global.mk:820: ! Warning: HB_BIN_COMPILE not specified. Co
ldn't find native build
cc  -I. -I../../../../../include  -Wall -W -O3   -oexpropt1.o -c ../../../expro
t1.c

???

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Sat Aug 22 04:40:59 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 04:41:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <4A8FAB7C.4020800@libero.it>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>
	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>
	<4A8FAB7C.4020800@libero.it>
Message-ID: <E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>

> Viktor,
>
> can't you use a *.o instead of listing every single module needed?

Could be, but this would need changing upstream logic.
This could be good if other linkers would also support
such parameter but it's not very usual. Also this
feature may also depend on the shell type used and we
want to be independent from it.

Let's first try with methods used on other gcc platforms.

I'll first commit the mingw method. If this doesn't work,
we can try the Linux one.

Brgds,
Viktor


>
> Maurilio.
>
>
> Viktor Szak?ts wrote:
>> Hi Maurilio,
>>
>> Yes, I didn't implement os2/gcc dll support yet.
>>
>> (I fear of all the os2 shell problems here, we have
>> to create a quite large >32KB filelist here and pass
>> it to gcc. I'll make an attempt though)
>>
>> Anyhow this case should be handled more gracefully.
>>
>> Brgds,
>> Viktor
>>
>> On 2009.08.22., at 9:53, Maurilio Longo wrote:
>>
>>> Viktor,
>>>
>>> it dies here
>>>
>>> E:/harbour/bin/harbour.exe ../../../debugger.prg -n1
>>> -i../../../../../include -
>>> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odebugger.o -c
>>> debugger.c
>>> E:/harbour/bin/harbour.exe ../../../dbgtarr.prg -n1
>>> -i../../../../../include -q
>>> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgtarr.o -c
>>> dbgtarr.c
>>> E:/harbour/bin/harbour.exe ../../../dbgthsh.prg -n1
>>> -i../../../../../include -q
>>> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgthsh.o -c
>>> dbgthsh.c
>>> E:/harbour/bin/harbour.exe ../../../dbgtobj.prg -n1
>>> -i../../../../../include -q
>>> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgtobj.o -c
>>> dbgtobj.c
>>> E:/harbour/bin/harbour.exe ../../../tbrwtext.prg -n1
>>> -i../../../../../include -
>>> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -otbrwtext.o -c
>>> tbrwtext.c
>>> E:/harbour/bin/harbour.exe ../../../dbgwa.prg -n1
>>> -i../../../../../include -q0
>>> -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgwa.o -c  
>>> dbgwa.c
>>> E:/harbour/bin/harbour.exe ../../../dbgbrwsr.prg -n1
>>> -i../../../../../include -
>>> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgbrwsr.o -c
>>> dbgbrwsr.c
>>> for %i in ( *.o ) do @echo ADDMOD %i >> __lib__.tmp
>>> ar   -M < __lib__.tmp & ..\..\..\..\..\config\os2-rm -f __lib__.tmp
>>> make[3]: *** No rule to make target `harbour-20-os2.dll'.  Stop.
>>> make[2]: *** [descend] Error 2
>>> make[1]: *** [dynlib] Error 2
>>> make: *** [source] Error 2
>>>
>>> Can it be that OS/2 GCC is not ready yet?
>>>
>>>
>>> Best regards.
>>>
>>> Maurilio.
>>>
>>>
>>>
>>> vszakats@users.sourceforge.net wrote:
>>>> Revision: 12244
>>>>
>>>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12244&view=rev
>>>>
>>>> Author:   vszakats
>>>> Date:     2009-08-21 19:00:06 +0000 (Fri, 21 Aug 2009)
>>>>
>>>> Log Message:
>>>> -----------
>>>> 2009-08-21 21:00 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>>> * source/vm/maindllh.c
>>>> * source/vm/Makefile
>>>>   + Added support for os2 .dll. Please review.
>>>>
>>>> * config/os2/watcom.mk
>>>>   + Added os2 .dll generation for watcom.
>>>>     Now it generates OK.
>>>>
>>>> * source/Makefile
>>>> * config/lib.mk
>>>>   + Added support for os2 and some level of *nix support.
>>>>
>>>> * INSTALL
>>>>   * Minor update to a few option description.
>>>>
>>>> * utils/hbmk2/hbmk2.prg
>>>>   + Added preliminary/experimental/untested OS/2 -shared (.dll)
>>>>     support for watcom targets.
>>>>
>>>> Modified Paths:
>>>> --------------
>>>>   trunk/harbour/ChangeLog
>>>>   trunk/harbour/INSTALL
>>>>   trunk/harbour/config/lib.mk
>>>>   trunk/harbour/config/os2/watcom.mk
>>>>   trunk/harbour/source/Makefile
>>>>   trunk/harbour/source/vm/Makefile
>>>>   trunk/harbour/source/vm/maindllh.c
>>>>   trunk/harbour/utils/hbmk2/hbmk2.prg
>>>>
>>>>
>>>> This was sent by the SourceForge.net collaborative development
>>>> platform, the world's largest Open Source development site.
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>
>>> -- 
>>> __________
>>> |  |  | |__| Maurilio Longo
>>> |_|_|_|____| farmaconsult s.r.l.
>>>
>>> 
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Aug 22 04:43:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 04:43:33 2009
Subject: [Harbour] cp on OS/2
In-Reply-To: <4A8FACBE.3050706@libero.it>
References: <4A8FA5EF.1050603@libero.it>
	<689B8D1F-FBAE-49BC-85B4-BE8EAD03FF40@syenar.hu>
	<4A8FACBE.3050706@libero.it>
Message-ID: <E3866A4D-1B93-467F-BD6D-F4B59E6FAD1D@syenar.hu>

> no, cp uses backslashes as well, see
>
> (E:\REPOSITORY\harbour)dir \harbour\TODO
>
> The volume label in drive E is Dati.
> The Volume Serial Number is 812E:D5C2.
> Directory of E:\harbour
>
> SYS0002: The system cannot find the file specified.
>
> (E:\REPOSITORY\harbour)cp TODO \harbour\TODO
>
> (E:\REPOSITORY\harbour)dir \harbour\TODO
>
> The volume label in drive E is Dati.
> The Volume Serial Number is 812E:D5C2.
> Directory of E:\harbour
>
> 22/08/09 10:29          3.258    124 a---  TODO
>        1 file(s)       3.258 bytes used
>                  178.648.915 K bytes free
>
> Anyway, I'll try your change and report.

I've uploaded os2-cp.exe to SVN. Pls try with that, maybe
it behaves differently than your build.

Another idea to replace in config/instsh.mk line 67 this:
$(file)
with this:
$(realpath $(file))

Blind shot, but it looked like it got confused by source
relative path.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Aug 22 04:46:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 04:46:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12255] trunk/harbour
Message-ID: <E1MemFP-0004IW-Hm@74yxhf1.ch3.sourceforge.com>

Revision: 12255
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12255&view=rev
Author:   vszakats
Date:     2009-08-22 08:46:50 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 10:45 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/os2/gcc.mk
    + Added .dll creation for os2/gcc.
      As the initial attempt I'm using the mingw method to pass object 
      list to gcc. Please test.

  * config/globsh.mk
    * Changed $(MD) in os2 to use os2-mkdir. (this macro isn't 
      used yet)
    + Added os2-cp slash requirement information. Although that was 
      a different build than the one uploaded.
    ! Minor typo in comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.mk
    trunk/harbour/config/os2/gcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug 22 05:12:39 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 05:12:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12256] trunk/harbour
Message-ID: <E1MemeN-00016O-MF@bj8yhf1.ch3.sourceforge.com>

Revision: 12256
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12256&view=rev
Author:   vszakats
Date:     2009-08-22 09:12:38 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 11:08 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
  * config/darwin/gcc.mk
    + Added version macros similar to include/hbver.h ones.
    % Using above version macros accross the build system.
    + Bumped minimum GNU Make version requirement to 3.81 (from 3.78).
      If there is no negative feedback I'll clean some TOFIXes
      which no longer apply, plus start cleanup on the make sources
      to use more ideal 'else if' syntax.
    + Added commented 'cp' tool check on os2.

  * config/global.mk
  * config/instsh.mk
    + Reenabled CMDPREF logic.
    * Changed os2 shell rules to use '$(CMDPREF)' instead of
      hardwired '$(COMSPEC) /C'. Please don't undo it.

  * bin/hb-mkdyn.sh
    ! Updated a default Harbour version number.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.sh
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/instsh.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Sat Aug 22 05:27:10 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Sat Aug 22 05:27:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>	<4A8FAB7C.4020800@libero.it>
	<E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>
Message-ID: <4A8FB9EE.1020600@libero.it>

Viktor,

no, not enough environment space :(

gcc  -I. -I../../../../../include  -Wall -W -O3   -otbrwtext.o -c tbrwtext.c
E:/repository/harbour/bin/os2/gcc/harbour.exe ../../../dbgwa.prg -n1  -i../../..
/../../include -q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgwa.o -c dbgwa.c
E:/repository/harbour/bin/os2/gcc/harbour.exe ../../../dbgbrwsr.prg -n1  -i../..
/../../../include -q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2

gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgbrwsr.o -c dbgbrwsr.c
for %i in ( *.o ) do @echo ADDMOD %i >> __lib__.tmp
ar   -M < __lib__.tmp & ..\..\..\..\..\config\os2-rm -f __lib__.tmp
! HB_BIN_COMPILE not specified. Automatically set to: E:/repository/harbour/bin/
os2/gcc
make[3]: spawnvpe: environment space might be exhausted
make[3]: execvp: D:\OS2\CMD.EXE: Invalid argument
make[3]: spawn: Invalid argument
make[2]: *** [descend] Error 2
make[1]: *** [dynlib] Error 2
make: *** [source] Error 2

Maurilio.


Viktor Szak?ts wrote:
>> Viktor,
>>
>> can't you use a *.o instead of listing every single module needed?
> 
> Could be, but this would need changing upstream logic.
> This could be good if other linkers would also support
> such parameter but it's not very usual. Also this
> feature may also depend on the shell type used and we
> want to be independent from it.
> 
> Let's first try with methods used on other gcc platforms.
> 
> I'll first commit the mingw method. If this doesn't work,
> we can try the Linux one.
> 
> Brgds,
> Viktor
> 
> 
>>
>> Maurilio.
>>
>>
>> Viktor Szak?ts wrote:
>>> Hi Maurilio,
>>>
>>> Yes, I didn't implement os2/gcc dll support yet.
>>>
>>> (I fear of all the os2 shell problems here, we have
>>> to create a quite large >32KB filelist here and pass
>>> it to gcc. I'll make an attempt though)
>>>
>>> Anyhow this case should be handled more gracefully.
>>>
>>> Brgds,
>>> Viktor
>>>
>>> On 2009.08.22., at 9:53, Maurilio Longo wrote:
>>>
>>>> Viktor,
>>>>
>>>> it dies here
>>>>
>>>> E:/harbour/bin/harbour.exe ../../../debugger.prg -n1
>>>> -i../../../../../include -
>>>> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odebugger.o -c
>>>> debugger.c
>>>> E:/harbour/bin/harbour.exe ../../../dbgtarr.prg -n1
>>>> -i../../../../../include -q
>>>> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgtarr.o -c
>>>> dbgtarr.c
>>>> E:/harbour/bin/harbour.exe ../../../dbgthsh.prg -n1
>>>> -i../../../../../include -q
>>>> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgthsh.o -c
>>>> dbgthsh.c
>>>> E:/harbour/bin/harbour.exe ../../../dbgtobj.prg -n1
>>>> -i../../../../../include -q
>>>> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgtobj.o -c
>>>> dbgtobj.c
>>>> E:/harbour/bin/harbour.exe ../../../tbrwtext.prg -n1
>>>> -i../../../../../include -
>>>> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -otbrwtext.o -c
>>>> tbrwtext.c
>>>> E:/harbour/bin/harbour.exe ../../../dbgwa.prg -n1
>>>> -i../../../../../include -q0
>>>> -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgwa.o -c dbgwa.c
>>>> E:/harbour/bin/harbour.exe ../../../dbgbrwsr.prg -n1
>>>> -i../../../../../include -
>>>> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgbrwsr.o -c
>>>> dbgbrwsr.c
>>>> for %i in ( *.o ) do @echo ADDMOD %i >> __lib__.tmp
>>>> ar   -M < __lib__.tmp & ..\..\..\..\..\config\os2-rm -f __lib__.tmp
>>>> make[3]: *** No rule to make target `harbour-20-os2.dll'.  Stop.
>>>> make[2]: *** [descend] Error 2
>>>> make[1]: *** [dynlib] Error 2
>>>> make: *** [source] Error 2
>>>>
>>>> Can it be that OS/2 GCC is not ready yet?
>>>>
>>>>
>>>> Best regards.
>>>>
>>>> Maurilio.
>>>>
>>>>
>>>>
>>>> vszakats@users.sourceforge.net wrote:
>>>>> Revision: 12244
>>>>>
>>>>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12244&view=rev
>>>>>
>>>>>
>>>>> Author:   vszakats
>>>>> Date:     2009-08-21 19:00:06 +0000 (Fri, 21 Aug 2009)
>>>>>
>>>>> Log Message:
>>>>> -----------
>>>>> 2009-08-21 21:00 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>>>> * source/vm/maindllh.c
>>>>> * source/vm/Makefile
>>>>>   + Added support for os2 .dll. Please review.
>>>>>
>>>>> * config/os2/watcom.mk
>>>>>   + Added os2 .dll generation for watcom.
>>>>>     Now it generates OK.
>>>>>
>>>>> * source/Makefile
>>>>> * config/lib.mk
>>>>>   + Added support for os2 and some level of *nix support.
>>>>>
>>>>> * INSTALL
>>>>>   * Minor update to a few option description.
>>>>>
>>>>> * utils/hbmk2/hbmk2.prg
>>>>>   + Added preliminary/experimental/untested OS/2 -shared (.dll)
>>>>>     support for watcom targets.
>>>>>
>>>>> Modified Paths:
>>>>> --------------
>>>>>   trunk/harbour/ChangeLog
>>>>>   trunk/harbour/INSTALL
>>>>>   trunk/harbour/config/lib.mk
>>>>>   trunk/harbour/config/os2/watcom.mk
>>>>>   trunk/harbour/source/Makefile
>>>>>   trunk/harbour/source/vm/Makefile
>>>>>   trunk/harbour/source/vm/maindllh.c
>>>>>   trunk/harbour/utils/hbmk2/hbmk2.prg
>>>>>
>>>>>
>>>>> This was sent by the SourceForge.net collaborative development
>>>>> platform, the world's largest Open Source development site.
>>>>> _______________________________________________
>>>>> Harbour mailing list
>>>>> Harbour@harbour-project.org
>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>
>>>>
>>>> -- 
>>>> __________
>>>> |  |  | |__| Maurilio Longo
>>>> |_|_|_|____| farmaconsult s.r.l.
>>>>
>>>> 
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>> -- 
>> __________
>> |  |  | |__| Maurilio Longo
>> |_|_|_|____| farmaconsult s.r.l.
>>
>> 
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Sat Aug 22 05:30:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 05:30:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <4A8FB9EE.1020600@libero.it>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>	<4A8FAB7C.4020800@libero.it>
	<E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>
	<4A8FB9EE.1020600@libero.it>
Message-ID: <87F45071-68E8-45C5-97BC-64C68EDF8011@syenar.hu>

Okay that's about expected. I'll try to think about something.

Please test the copy stuff until then, it'd be great to close
that issue.

Brgds,
Viktor

On 2009.08.22., at 11:27, Maurilio Longo wrote:

> Viktor,
>
> no, not enough environment space :(
>
> gcc  -I. -I../../../../../include  -Wall -W -O3   -otbrwtext.o -c  
> tbrwtext.c
> E:/repository/harbour/bin/os2/gcc/harbour.exe ../../../dbgwa.prg - 
> n1  -i../../..
> /../../include -q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 - 
> D__PLATFORM__OS2
> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgwa.o -c dbgwa.c
> E:/repository/harbour/bin/os2/gcc/harbour.exe ../../../dbgbrwsr.prg - 
> n1  -i../..
> /../../../include -q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 - 
> D__PLATFORM__OS2
>
> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgbrwsr.o -c  
> dbgbrwsr.c
> for %i in ( *.o ) do @echo ADDMOD %i >> __lib__.tmp
> ar   -M < __lib__.tmp & ..\..\..\..\..\config\os2-rm -f __lib__.tmp
> ! HB_BIN_COMPILE not specified. Automatically set to: E:/repository/ 
> harbour/bin/
> os2/gcc
> make[3]: spawnvpe: environment space might be exhausted
> make[3]: execvp: D:\OS2\CMD.EXE: Invalid argument
> make[3]: spawn: Invalid argument
> make[2]: *** [descend] Error 2
> make[1]: *** [dynlib] Error 2
> make: *** [source] Error 2
>
> Maurilio.
>
>
> Viktor Szak?ts wrote:
>>> Viktor,
>>>
>>> can't you use a *.o instead of listing every single module needed?
>>
>> Could be, but this would need changing upstream logic.
>> This could be good if other linkers would also support
>> such parameter but it's not very usual. Also this
>> feature may also depend on the shell type used and we
>> want to be independent from it.
>>
>> Let's first try with methods used on other gcc platforms.
>>
>> I'll first commit the mingw method. If this doesn't work,
>> we can try the Linux one.
>>
>> Brgds,
>> Viktor
>>
>>
>>>
>>> Maurilio.
>>>
>>>
>>> Viktor Szak?ts wrote:
>>>> Hi Maurilio,
>>>>
>>>> Yes, I didn't implement os2/gcc dll support yet.
>>>>
>>>> (I fear of all the os2 shell problems here, we have
>>>> to create a quite large >32KB filelist here and pass
>>>> it to gcc. I'll make an attempt though)
>>>>
>>>> Anyhow this case should be handled more gracefully.
>>>>
>>>> Brgds,
>>>> Viktor
>>>>
>>>> On 2009.08.22., at 9:53, Maurilio Longo wrote:
>>>>
>>>>> Viktor,
>>>>>
>>>>> it dies here
>>>>>
>>>>> E:/harbour/bin/harbour.exe ../../../debugger.prg -n1
>>>>> -i../../../../../include -
>>>>> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odebugger.o -c
>>>>> debugger.c
>>>>> E:/harbour/bin/harbour.exe ../../../dbgtarr.prg -n1
>>>>> -i../../../../../include -q
>>>>> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgtarr.o -c
>>>>> dbgtarr.c
>>>>> E:/harbour/bin/harbour.exe ../../../dbgthsh.prg -n1
>>>>> -i../../../../../include -q
>>>>> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgthsh.o -c
>>>>> dbgthsh.c
>>>>> E:/harbour/bin/harbour.exe ../../../dbgtobj.prg -n1
>>>>> -i../../../../../include -q
>>>>> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgtobj.o -c
>>>>> dbgtobj.c
>>>>> E:/harbour/bin/harbour.exe ../../../tbrwtext.prg -n1
>>>>> -i../../../../../include -
>>>>> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -otbrwtext.o -c
>>>>> tbrwtext.c
>>>>> E:/harbour/bin/harbour.exe ../../../dbgwa.prg -n1
>>>>> -i../../../../../include -q0
>>>>> -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgwa.o -c  
>>>>> dbgwa.c
>>>>> E:/harbour/bin/harbour.exe ../../../dbgbrwsr.prg -n1
>>>>> -i../../../../../include -
>>>>> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgbrwsr.o -c
>>>>> dbgbrwsr.c
>>>>> for %i in ( *.o ) do @echo ADDMOD %i >> __lib__.tmp
>>>>> ar   -M < __lib__.tmp & ..\..\..\..\..\config\os2-rm -f  
>>>>> __lib__.tmp
>>>>> make[3]: *** No rule to make target `harbour-20-os2.dll'.  Stop.
>>>>> make[2]: *** [descend] Error 2
>>>>> make[1]: *** [dynlib] Error 2
>>>>> make: *** [source] Error 2
>>>>>
>>>>> Can it be that OS/2 GCC is not ready yet?
>>>>>
>>>>>
>>>>> Best regards.
>>>>>
>>>>> Maurilio.
>>>>>
>>>>>
>>>>>
>>>>> vszakats@users.sourceforge.net wrote:
>>>>>> Revision: 12244
>>>>>>
>>>>>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12244&view=rev
>>>>>>
>>>>>>
>>>>>> Author:   vszakats
>>>>>> Date:     2009-08-21 19:00:06 +0000 (Fri, 21 Aug 2009)
>>>>>>
>>>>>> Log Message:
>>>>>> -----------
>>>>>> 2009-08-21 21:00 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>>>>> * source/vm/maindllh.c
>>>>>> * source/vm/Makefile
>>>>>>  + Added support for os2 .dll. Please review.
>>>>>>
>>>>>> * config/os2/watcom.mk
>>>>>>  + Added os2 .dll generation for watcom.
>>>>>>    Now it generates OK.
>>>>>>
>>>>>> * source/Makefile
>>>>>> * config/lib.mk
>>>>>>  + Added support for os2 and some level of *nix support.
>>>>>>
>>>>>> * INSTALL
>>>>>>  * Minor update to a few option description.
>>>>>>
>>>>>> * utils/hbmk2/hbmk2.prg
>>>>>>  + Added preliminary/experimental/untested OS/2 -shared (.dll)
>>>>>>    support for watcom targets.
>>>>>>
>>>>>> Modified Paths:
>>>>>> --------------
>>>>>>  trunk/harbour/ChangeLog
>>>>>>  trunk/harbour/INSTALL
>>>>>>  trunk/harbour/config/lib.mk
>>>>>>  trunk/harbour/config/os2/watcom.mk
>>>>>>  trunk/harbour/source/Makefile
>>>>>>  trunk/harbour/source/vm/Makefile
>>>>>>  trunk/harbour/source/vm/maindllh.c
>>>>>>  trunk/harbour/utils/hbmk2/hbmk2.prg
>>>>>>
>>>>>>
>>>>>> This was sent by the SourceForge.net collaborative development
>>>>>> platform, the world's largest Open Source development site.
>>>>>> _______________________________________________
>>>>>> Harbour mailing list
>>>>>> Harbour@harbour-project.org
>>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>>
>>>>>
>>>>> -- 
>>>>> __________
>>>>> |  |  | |__| Maurilio Longo
>>>>> |_|_|_|____| farmaconsult s.r.l.
>>>>>
>>>>> 
>>>>> _______________________________________________
>>>>> Harbour mailing list
>>>>> Harbour@harbour-project.org
>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>
>>> -- 
>>> __________
>>> |  |  | |__| Maurilio Longo
>>> |_|_|_|____| farmaconsult s.r.l.
>>>
>>> 
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Aug 22 05:33:39 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 05:33:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <4A8FB9EE.1020600@libero.it>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>	<4A8FAB7C.4020800@libero.it>
	<E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>
	<4A8FB9EE.1020600@libero.it>
Message-ID: <05013702-985A-4076-9E28-543048803702@syenar.hu>

> gcc  -I. -I../../../../../include  -Wall -W -O3   -otbrwtext.o -c  
> tbrwtext.c
> E:/repository/harbour/bin/os2/gcc/harbour.exe ../../../dbgwa.prg - 
> n1  -i../../..
> /../../include -q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 - 
> D__PLATFORM__OS2
> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgwa.o -c dbgwa.c
> E:/repository/harbour/bin/os2/gcc/harbour.exe ../../../dbgbrwsr.prg - 
> n1  -i../..
> /../../../include -q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 - 
> D__PLATFORM__OS2

Also the __PLATFORM__ issue didn't get fixed? which Harbour revision
is this?

Can you post first 10 lines of log output?

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Aug 22 05:40:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 05:40:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12257] trunk/harbour
Message-ID: <E1Men4r-0002kP-AU@3kljzd1.ch3.sourceforge.com>

Revision: 12257
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12257&view=rev
Author:   vszakats
Date:     2009-08-22 09:40:00 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 11:39 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    ! Typo in HB_HOST_CPU detection for os2 and dos.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Sat Aug 22 05:45:35 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Sat Aug 22 05:45:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <87F45071-68E8-45C5-97BC-64C68EDF8011@syenar.hu>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>	<4A8FAB7C.4020800@libero.it>	<E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>	<4A8FB9EE.1020600@libero.it>
	<87F45071-68E8-45C5-97BC-64C68EDF8011@syenar.hu>
Message-ID: <4A8FBE3F.7010806@libero.it>

Viktor,

a part from the fact that the building stops when it tries to create the first
 .dll, using os2-cp and this code inside instsh.mk

ifeq ($(HB_SHELL),os2)

   define inst_file_all
      -@$(MDP) $(INSTALL_DIR)
      $(foreach file,$(INSTALL_FILES),$(inst_file))
   endef

   # We have to use script to overcome the DOS limit of max 128 characters
   # NOTE: The empty line directly before 'endef' HAVE TO exist!
   #       It causes that every command will be separated by LF
   define inst_file
      -@$(CP) $(file) $(INSTALL_DIR)

   endef

   INSTALL_RULE := $(inst_file_all)

endif

I can do a

make install

or

make -j4 install

and it does not freeze anymore and it does indeed copy include, doc, lib
(those made) and bin (harbour.exe and hbpp.exe).

Maurilio.



Viktor Szak?ts wrote:
> Okay that's about expected. I'll try to think about something.
> 
> Please test the copy stuff until then, it'd be great to close
> that issue.
> 
> Brgds,
> Viktor
> 
> On 2009.08.22., at 11:27, Maurilio Longo wrote:
> 
>> Viktor,
>>
>> no, not enough environment space :(
>>
>> gcc  -I. -I../../../../../include  -Wall -W -O3   -otbrwtext.o -c
>> tbrwtext.c
>> E:/repository/harbour/bin/os2/gcc/harbour.exe ../../../dbgwa.prg -n1 
>> -i../../..
>> /../../include -q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2
>> -D__PLATFORM__OS2
>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgwa.o -c dbgwa.c
>> E:/repository/harbour/bin/os2/gcc/harbour.exe ../../../dbgbrwsr.prg
>> -n1  -i../..
>> /../../../include -q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2
>> -D__PLATFORM__OS2
>>
>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgbrwsr.o -c
>> dbgbrwsr.c
>> for %i in ( *.o ) do @echo ADDMOD %i >> __lib__.tmp
>> ar   -M < __lib__.tmp & ..\..\..\..\..\config\os2-rm -f __lib__.tmp
>> ! HB_BIN_COMPILE not specified. Automatically set to:
>> E:/repository/harbour/bin/
>> os2/gcc
>> make[3]: spawnvpe: environment space might be exhausted
>> make[3]: execvp: D:\OS2\CMD.EXE: Invalid argument
>> make[3]: spawn: Invalid argument
>> make[2]: *** [descend] Error 2
>> make[1]: *** [dynlib] Error 2
>> make: *** [source] Error 2
>>
>> Maurilio.
>>
>>
>> Viktor Szak?ts wrote:
>>>> Viktor,
>>>>
>>>> can't you use a *.o instead of listing every single module needed?
>>>
>>> Could be, but this would need changing upstream logic.
>>> This could be good if other linkers would also support
>>> such parameter but it's not very usual. Also this
>>> feature may also depend on the shell type used and we
>>> want to be independent from it.
>>>
>>> Let's first try with methods used on other gcc platforms.
>>>
>>> I'll first commit the mingw method. If this doesn't work,
>>> we can try the Linux one.
>>>
>>> Brgds,
>>> Viktor
>>>
>>>
>>>>
>>>> Maurilio.
>>>>
>>>>
>>>> Viktor Szak?ts wrote:
>>>>> Hi Maurilio,
>>>>>
>>>>> Yes, I didn't implement os2/gcc dll support yet.
>>>>>
>>>>> (I fear of all the os2 shell problems here, we have
>>>>> to create a quite large >32KB filelist here and pass
>>>>> it to gcc. I'll make an attempt though)
>>>>>
>>>>> Anyhow this case should be handled more gracefully.
>>>>>
>>>>> Brgds,
>>>>> Viktor
>>>>>
>>>>> On 2009.08.22., at 9:53, Maurilio Longo wrote:
>>>>>
>>>>>> Viktor,
>>>>>>
>>>>>> it dies here
>>>>>>
>>>>>> E:/harbour/bin/harbour.exe ../../../debugger.prg -n1
>>>>>> -i../../../../../include -
>>>>>> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odebugger.o -c
>>>>>> debugger.c
>>>>>> E:/harbour/bin/harbour.exe ../../../dbgtarr.prg -n1
>>>>>> -i../../../../../include -q
>>>>>> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgtarr.o -c
>>>>>> dbgtarr.c
>>>>>> E:/harbour/bin/harbour.exe ../../../dbgthsh.prg -n1
>>>>>> -i../../../../../include -q
>>>>>> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgthsh.o -c
>>>>>> dbgthsh.c
>>>>>> E:/harbour/bin/harbour.exe ../../../dbgtobj.prg -n1
>>>>>> -i../../../../../include -q
>>>>>> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgtobj.o -c
>>>>>> dbgtobj.c
>>>>>> E:/harbour/bin/harbour.exe ../../../tbrwtext.prg -n1
>>>>>> -i../../../../../include -
>>>>>> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -otbrwtext.o -c
>>>>>> tbrwtext.c
>>>>>> E:/harbour/bin/harbour.exe ../../../dbgwa.prg -n1
>>>>>> -i../../../../../include -q0
>>>>>> -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgwa.o -c
>>>>>> dbgwa.c
>>>>>> E:/harbour/bin/harbour.exe ../../../dbgbrwsr.prg -n1
>>>>>> -i../../../../../include -
>>>>>> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgbrwsr.o -c
>>>>>> dbgbrwsr.c
>>>>>> for %i in ( *.o ) do @echo ADDMOD %i >> __lib__.tmp
>>>>>> ar   -M < __lib__.tmp & ..\..\..\..\..\config\os2-rm -f __lib__.tmp
>>>>>> make[3]: *** No rule to make target `harbour-20-os2.dll'.  Stop.
>>>>>> make[2]: *** [descend] Error 2
>>>>>> make[1]: *** [dynlib] Error 2
>>>>>> make: *** [source] Error 2
>>>>>>
>>>>>> Can it be that OS/2 GCC is not ready yet?
>>>>>>
>>>>>>
>>>>>> Best regards.
>>>>>>
>>>>>> Maurilio.
>>>>>>
>>>>>>
>>>>>>
>>>>>> vszakats@users.sourceforge.net wrote:
>>>>>>> Revision: 12244
>>>>>>>
>>>>>>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12244&view=rev
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> Author:   vszakats
>>>>>>> Date:     2009-08-21 19:00:06 +0000 (Fri, 21 Aug 2009)
>>>>>>>
>>>>>>> Log Message:
>>>>>>> -----------
>>>>>>> 2009-08-21 21:00 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>>>>>> * source/vm/maindllh.c
>>>>>>> * source/vm/Makefile
>>>>>>>  + Added support for os2 .dll. Please review.
>>>>>>>
>>>>>>> * config/os2/watcom.mk
>>>>>>>  + Added os2 .dll generation for watcom.
>>>>>>>    Now it generates OK.
>>>>>>>
>>>>>>> * source/Makefile
>>>>>>> * config/lib.mk
>>>>>>>  + Added support for os2 and some level of *nix support.
>>>>>>>
>>>>>>> * INSTALL
>>>>>>>  * Minor update to a few option description.
>>>>>>>
>>>>>>> * utils/hbmk2/hbmk2.prg
>>>>>>>  + Added preliminary/experimental/untested OS/2 -shared (.dll)
>>>>>>>    support for watcom targets.
>>>>>>>
>>>>>>> Modified Paths:
>>>>>>> --------------
>>>>>>>  trunk/harbour/ChangeLog
>>>>>>>  trunk/harbour/INSTALL
>>>>>>>  trunk/harbour/config/lib.mk
>>>>>>>  trunk/harbour/config/os2/watcom.mk
>>>>>>>  trunk/harbour/source/Makefile
>>>>>>>  trunk/harbour/source/vm/Makefile
>>>>>>>  trunk/harbour/source/vm/maindllh.c
>>>>>>>  trunk/harbour/utils/hbmk2/hbmk2.prg
>>>>>>>
>>>>>>>
>>>>>>> This was sent by the SourceForge.net collaborative development
>>>>>>> platform, the world's largest Open Source development site.
>>>>>>> _______________________________________________
>>>>>>> Harbour mailing list
>>>>>>> Harbour@harbour-project.org
>>>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>>>
>>>>>>
>>>>>> -- 
>>>>>> __________
>>>>>> |  |  | |__| Maurilio Longo
>>>>>> |_|_|_|____| farmaconsult s.r.l.
>>>>>>
>>>>>> 
>>>>>> _______________________________________________
>>>>>> Harbour mailing list
>>>>>> Harbour@harbour-project.org
>>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>
>>>>> _______________________________________________
>>>>> Harbour mailing list
>>>>> Harbour@harbour-project.org
>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>
>>>>
>>>> -- 
>>>> __________
>>>> |  |  | |__| Maurilio Longo
>>>> |_|_|_|____| farmaconsult s.r.l.
>>>>
>>>> 
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>> -- 
>> __________
>> |  |  | |__| Maurilio Longo
>> |_|_|_|____| farmaconsult s.r.l.
>>
>> 
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Sat Aug 22 05:52:02 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Sat Aug 22 05:52:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <05013702-985A-4076-9E28-543048803702@syenar.hu>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>	<4A8FAB7C.4020800@libero.it>	<E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>	<4A8FB9EE.1020600@libero.it>
	<05013702-985A-4076-9E28-543048803702@syenar.hu>
Message-ID: <4A8FBFC2.3080300@libero.it>

Viktor Szak?ts wrote:
> 
> Also the __PLATFORM__ issue didn't get fixed? which Harbour revision
> is this?
> 
12256

> Can you post first 10 lines of log output?
> 

(E:\repository\harbour)make
! MAKE: make 3.81   D:\OS2\CMD.EXE
! HB_BIN_INSTALL: e:\harbour\bin
! HB_LIB_INSTALL: e:\harbour\lib
! HB_INC_INSTALL: e:\harbour\include
! HB_DOC_INSTALL: e:\harbour\doc
! HB_HOST_ARCH: os2  HB_SHELL: os2
! HB_ARCHITECTURE: os2 (x86)
! HB_COMPILER: gcc
! HB_BIN_COMPILE not specified. Automatically set to: E:/harbour/bin
! HB_INSTALL_PREFIX automatically set to: E:\repository\harbour
make[2]: Nothing to be done for `all'.
make[1]: Nothing to be done for `all'.
gcc  -I. -I../../../../../include  -Wall -W -O3   -oexpropt1.o -c ../../../expro
pt1.c
gcc  -I. -I../../../../../include  -Wall -W -O3   -oexpropt2.o -c ../../../expro
pt2.c
gcc  -I. -I../../../../../include  -Wall -W -O3   -ohbffind.o -c ../../../hbffin
d.c
gcc  -I. -I../../../../../include  -Wall -W -O3   -ohbfopen.o -c ../../../hbfope
n.c
gcc  -I. -I../../../../../include  -Wall -W -O3   -ohbfsapi.o -c ../../../hbfsap


Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Sat Aug 22 06:01:53 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 06:02:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <4A8FBE3F.7010806@libero.it>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>	<4A8FAB7C.4020800@libero.it>	<E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>	<4A8FB9EE.1020600@libero.it>
	<87F45071-68E8-45C5-97BC-64C68EDF8011@syenar.hu>
	<4A8FBE3F.7010806@libero.it>
Message-ID: <2780EA27-8109-4462-B5C1-CDB43D243541@syenar.hu>

Hi Maurilio,

Thank you very much for your tests. I'll commit this
modification ASAP.

It seems so that the uploaded os2-cp.exe requires forward
slashes. Please tell if I get to the wrong conclusion, I'd
like to update comment in .mk file.

The undef/-D issue should be fixed by latest commit.

Brgds,
Viktor

On 2009.08.22., at 11:45, Maurilio Longo wrote:

> Viktor,
>
> a part from the fact that the building stops when it tries to create  
> the first
> .dll, using os2-cp and this code inside instsh.mk
>
> ifeq ($(HB_SHELL),os2)
>
>   define inst_file_all
>      -@$(MDP) $(INSTALL_DIR)
>      $(foreach file,$(INSTALL_FILES),$(inst_file))
>   endef
>
>   # We have to use script to overcome the DOS limit of max 128  
> characters
>   # NOTE: The empty line directly before 'endef' HAVE TO exist!
>   #       It causes that every command will be separated by LF
>   define inst_file
>      -@$(CP) $(file) $(INSTALL_DIR)
>
>   endef
>
>   INSTALL_RULE := $(inst_file_all)
>
> endif
>
> I can do a
>
> make install
>
> or
>
> make -j4 install
>
> and it does not freeze anymore and it does indeed copy include, doc,  
> lib
> (those made) and bin (harbour.exe and hbpp.exe).
>
> Maurilio.
>
>
>
> Viktor Szak?ts wrote:
>> Okay that's about expected. I'll try to think about something.
>>
>> Please test the copy stuff until then, it'd be great to close
>> that issue.
>>
>> Brgds,
>> Viktor
>>
>> On 2009.08.22., at 11:27, Maurilio Longo wrote:
>>
>>> Viktor,
>>>
>>> no, not enough environment space :(
>>>
>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -otbrwtext.o -c
>>> tbrwtext.c
>>> E:/repository/harbour/bin/os2/gcc/harbour.exe ../../../dbgwa.prg -n1
>>> -i../../..
>>> /../../include -q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2
>>> -D__PLATFORM__OS2
>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgwa.o -c  
>>> dbgwa.c
>>> E:/repository/harbour/bin/os2/gcc/harbour.exe ../../../dbgbrwsr.prg
>>> -n1  -i../..
>>> /../../../include -q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2
>>> -D__PLATFORM__OS2
>>>
>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgbrwsr.o -c
>>> dbgbrwsr.c
>>> for %i in ( *.o ) do @echo ADDMOD %i >> __lib__.tmp
>>> ar   -M < __lib__.tmp & ..\..\..\..\..\config\os2-rm -f __lib__.tmp
>>> ! HB_BIN_COMPILE not specified. Automatically set to:
>>> E:/repository/harbour/bin/
>>> os2/gcc
>>> make[3]: spawnvpe: environment space might be exhausted
>>> make[3]: execvp: D:\OS2\CMD.EXE: Invalid argument
>>> make[3]: spawn: Invalid argument
>>> make[2]: *** [descend] Error 2
>>> make[1]: *** [dynlib] Error 2
>>> make: *** [source] Error 2
>>>
>>> Maurilio.
>>>
>>>
>>> Viktor Szak?ts wrote:
>>>>> Viktor,
>>>>>
>>>>> can't you use a *.o instead of listing every single module needed?
>>>>
>>>> Could be, but this would need changing upstream logic.
>>>> This could be good if other linkers would also support
>>>> such parameter but it's not very usual. Also this
>>>> feature may also depend on the shell type used and we
>>>> want to be independent from it.
>>>>
>>>> Let's first try with methods used on other gcc platforms.
>>>>
>>>> I'll first commit the mingw method. If this doesn't work,
>>>> we can try the Linux one.
>>>>
>>>> Brgds,
>>>> Viktor
>>>>
>>>>
>>>>>
>>>>> Maurilio.
>>>>>
>>>>>
>>>>> Viktor Szak?ts wrote:
>>>>>> Hi Maurilio,
>>>>>>
>>>>>> Yes, I didn't implement os2/gcc dll support yet.
>>>>>>
>>>>>> (I fear of all the os2 shell problems here, we have
>>>>>> to create a quite large >32KB filelist here and pass
>>>>>> it to gcc. I'll make an attempt though)
>>>>>>
>>>>>> Anyhow this case should be handled more gracefully.
>>>>>>
>>>>>> Brgds,
>>>>>> Viktor
>>>>>>
>>>>>> On 2009.08.22., at 9:53, Maurilio Longo wrote:
>>>>>>
>>>>>>> Viktor,
>>>>>>>
>>>>>>> it dies here
>>>>>>>
>>>>>>> E:/harbour/bin/harbour.exe ../../../debugger.prg -n1
>>>>>>> -i../../../../../include -
>>>>>>> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odebugger.o  
>>>>>>> -c
>>>>>>> debugger.c
>>>>>>> E:/harbour/bin/harbour.exe ../../../dbgtarr.prg -n1
>>>>>>> -i../../../../../include -q
>>>>>>> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgtarr.o -c
>>>>>>> dbgtarr.c
>>>>>>> E:/harbour/bin/harbour.exe ../../../dbgthsh.prg -n1
>>>>>>> -i../../../../../include -q
>>>>>>> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgthsh.o -c
>>>>>>> dbgthsh.c
>>>>>>> E:/harbour/bin/harbour.exe ../../../dbgtobj.prg -n1
>>>>>>> -i../../../../../include -q
>>>>>>> 0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgtobj.o -c
>>>>>>> dbgtobj.c
>>>>>>> E:/harbour/bin/harbour.exe ../../../tbrwtext.prg -n1
>>>>>>> -i../../../../../include -
>>>>>>> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -otbrwtext.o  
>>>>>>> -c
>>>>>>> tbrwtext.c
>>>>>>> E:/harbour/bin/harbour.exe ../../../dbgwa.prg -n1
>>>>>>> -i../../../../../include -q0
>>>>>>> -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgwa.o -c
>>>>>>> dbgwa.c
>>>>>>> E:/harbour/bin/harbour.exe ../../../dbgbrwsr.prg -n1
>>>>>>> -i../../../../../include -
>>>>>>> q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 -D__PLATFORM__OS2
>>>>>>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgbrwsr.o  
>>>>>>> -c
>>>>>>> dbgbrwsr.c
>>>>>>> for %i in ( *.o ) do @echo ADDMOD %i >> __lib__.tmp
>>>>>>> ar   -M < __lib__.tmp & ..\..\..\..\..\config\os2-rm -f  
>>>>>>> __lib__.tmp
>>>>>>> make[3]: *** No rule to make target `harbour-20-os2.dll'.  Stop.
>>>>>>> make[2]: *** [descend] Error 2
>>>>>>> make[1]: *** [dynlib] Error 2
>>>>>>> make: *** [source] Error 2
>>>>>>>
>>>>>>> Can it be that OS/2 GCC is not ready yet?
>>>>>>>
>>>>>>>
>>>>>>> Best regards.
>>>>>>>
>>>>>>> Maurilio.
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> vszakats@users.sourceforge.net wrote:
>>>>>>>> Revision: 12244
>>>>>>>>
>>>>>>>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12244&view=rev
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> Author:   vszakats
>>>>>>>> Date:     2009-08-21 19:00:06 +0000 (Fri, 21 Aug 2009)
>>>>>>>>
>>>>>>>> Log Message:
>>>>>>>> -----------
>>>>>>>> 2009-08-21 21:00 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>>>>>>> * source/vm/maindllh.c
>>>>>>>> * source/vm/Makefile
>>>>>>>> + Added support for os2 .dll. Please review.
>>>>>>>>
>>>>>>>> * config/os2/watcom.mk
>>>>>>>> + Added os2 .dll generation for watcom.
>>>>>>>>   Now it generates OK.
>>>>>>>>
>>>>>>>> * source/Makefile
>>>>>>>> * config/lib.mk
>>>>>>>> + Added support for os2 and some level of *nix support.
>>>>>>>>
>>>>>>>> * INSTALL
>>>>>>>> * Minor update to a few option description.
>>>>>>>>
>>>>>>>> * utils/hbmk2/hbmk2.prg
>>>>>>>> + Added preliminary/experimental/untested OS/2 -shared (.dll)
>>>>>>>>   support for watcom targets.
>>>>>>>>
>>>>>>>> Modified Paths:
>>>>>>>> --------------
>>>>>>>> trunk/harbour/ChangeLog
>>>>>>>> trunk/harbour/INSTALL
>>>>>>>> trunk/harbour/config/lib.mk
>>>>>>>> trunk/harbour/config/os2/watcom.mk
>>>>>>>> trunk/harbour/source/Makefile
>>>>>>>> trunk/harbour/source/vm/Makefile
>>>>>>>> trunk/harbour/source/vm/maindllh.c
>>>>>>>> trunk/harbour/utils/hbmk2/hbmk2.prg
>>>>>>>>
>>>>>>>>
>>>>>>>> This was sent by the SourceForge.net collaborative development
>>>>>>>> platform, the world's largest Open Source development site.
>>>>>>>> _______________________________________________
>>>>>>>> Harbour mailing list
>>>>>>>> Harbour@harbour-project.org
>>>>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>>>>
>>>>>>>
>>>>>>> -- 
>>>>>>> __________
>>>>>>> |  |  | |__| Maurilio Longo
>>>>>>> |_|_|_|____| farmaconsult s.r.l.
>>>>>>>
>>>>>>> 
>>>>>>> _______________________________________________
>>>>>>> Harbour mailing list
>>>>>>> Harbour@harbour-project.org
>>>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>>
>>>>>> _______________________________________________
>>>>>> Harbour mailing list
>>>>>> Harbour@harbour-project.org
>>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>>>
>>>>>
>>>>> -- 
>>>>> __________
>>>>> |  |  | |__| Maurilio Longo
>>>>> |_|_|_|____| farmaconsult s.r.l.
>>>>>
>>>>> 
>>>>> _______________________________________________
>>>>> Harbour mailing list
>>>>> Harbour@harbour-project.org
>>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>
>>> -- 
>>> __________
>>> |  |  | |__| Maurilio Longo
>>> |_|_|_|____| farmaconsult s.r.l.
>>>
>>> 
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sat Aug 22 06:02:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 06:02:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12258] trunk/harbour
Message-ID: <E1MenQK-0003B9-79@3kljzd1.ch3.sourceforge.com>

Revision: 12258
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12258&view=rev
Author:   vszakats
Date:     2009-08-22 10:02:11 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 11:59 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/globsh.mk
    + Switched os2 $(CP) command to use config/os2-cp.exe.

  * config/instsh.mk
    + Changed os2 install rule to the one used for dos shells except dirsep type.
      Based on real OS/2 tests made by Maurilio Longo. Thank you very much.
      This also means CMDPREF.
    ! Typos in my comment.

  * source/pp/Makefile
    ! Fixed to also check presence of hbpp object before trying to
      delete it. It may not be there in some rare chain of (failure) events.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.mk
    trunk/harbour/config/instsh.mk
    trunk/harbour/source/pp/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug 22 06:05:30 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 06:05:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12259]
	trunk/harbour/ChangeLog
Message-ID: <E1MenTW-0003EX-43@3kljzd1.ch3.sourceforge.com>

Revision: 12259
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12259&view=rev
Author:   vszakats
Date:     2009-08-22 10:05:29 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
typos in changelog

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Aug 22 06:09:38 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 06:09:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <4A8FBFC2.3080300@libero.it>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>	<4A8FAB7C.4020800@libero.it>	<E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>	<4A8FB9EE.1020600@libero.it>
	<05013702-985A-4076-9E28-543048803702@syenar.hu>
	<4A8FBFC2.3080300@libero.it>
Message-ID: <93DDC4F2-CC03-4FCA-85C6-2081E60A633E@syenar.hu>

I've made a small typo, it should be okay after 12257.

'HB_HOST_ARCH:' should show 'os2 (x86)' instead of wrong 'os2'.

Brgds,
Viktor

On 2009.08.22., at 11:52, Maurilio Longo wrote:

> Viktor Szak?ts wrote:
>>
>> Also the __PLATFORM__ issue didn't get fixed? which Harbour revision
>> is this?
>>
> 12256
>
>> Can you post first 10 lines of log output?
>>
>
> (E:\repository\harbour)make
> ! MAKE: make 3.81   D:\OS2\CMD.EXE
> ! HB_BIN_INSTALL: e:\harbour\bin
> ! HB_LIB_INSTALL: e:\harbour\lib
> ! HB_INC_INSTALL: e:\harbour\include
> ! HB_DOC_INSTALL: e:\harbour\doc
> ! HB_HOST_ARCH: os2  HB_SHELL: os2
> ! HB_ARCHITECTURE: os2 (x86)
> ! HB_COMPILER: gcc
> ! HB_BIN_COMPILE not specified. Automatically set to: E:/harbour/bin
> ! HB_INSTALL_PREFIX automatically set to: E:\repository\harbour
> make[2]: Nothing to be done for `all'.
> make[1]: Nothing to be done for `all'.
> gcc  -I. -I../../../../../include  -Wall -W -O3   -oexpropt1.o - 
> c ../../../expro
> pt1.c
> gcc  -I. -I../../../../../include  -Wall -W -O3   -oexpropt2.o - 
> c ../../../expro
> pt2.c
> gcc  -I. -I../../../../../include  -Wall -W -O3   -ohbffind.o - 
> c ../../../hbffin
> d.c
> gcc  -I. -I../../../../../include  -Wall -W -O3   -ohbfopen.o - 
> c ../../../hbfope
> n.c
> gcc  -I. -I../../../../../include  -Wall -W -O3   -ohbfsapi.o - 
> c ../../../hbfsap
>
>
> Maurilio.
>
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Aug 22 06:16:37 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 06:16:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <4A8FB9EE.1020600@libero.it>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>	<4A8FAB7C.4020800@libero.it>
	<E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>
	<4A8FB9EE.1020600@libero.it>
Message-ID: <7FDDDFE7-84E4-44C6-9925-69CEE5374629@syenar.hu>

> gcc  -I. -I../../../../../include  -Wall -W -O3   -otbrwtext.o -c  
> tbrwtext.c
> E:/repository/harbour/bin/os2/gcc/harbour.exe ../../../dbgwa.prg - 
> n1  -i../../..
> /../../include -q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 - 
> D__PLATFORM__OS2
> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgwa.o -c dbgwa.c
> E:/repository/harbour/bin/os2/gcc/harbour.exe ../../../dbgbrwsr.prg - 
> n1  -i../..
> /../../../include -q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 - 
> D__PLATFORM__OS2
>
> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgbrwsr.o -c  
> dbgbrwsr.c
> for %i in ( *.o ) do @echo ADDMOD %i >> __lib__.tmp
> ar   -M < __lib__.tmp & ..\..\..\..\..\config\os2-rm -f __lib__.tmp
> ! HB_BIN_COMPILE not specified. Automatically set to: E:/repository/ 
> harbour/bin/
> os2/gcc
> make[3]: spawnvpe: environment space might be exhausted
> make[3]: execvp: D:\OS2\CMD.EXE: Invalid argument
> make[3]: spawn: Invalid argument
> make[2]: *** [descend] Error 2
> make[1]: *** [dynlib] Error 2
> make: *** [source] Error 2

Okay, so here two things may the problem:

1) Passing DYNDIRLIST_BASE to lower level make instance
2) the dynlib creation rules.

To rule out 1), you may try moving DYNDIRLIST_BASE assignment
lines from source/Makefile to source/dynlib/Makefile. If that
works we still need to solve passing these values to mt/Makefile,
which means they'll need to be copied to some global .mk file
and included.

2) needs some tweaking, but it's very difficult to suggest
anything. I don't understand why it doesn't work now.

Brgds,
Viktor

From fernando_athayde at yahoo.com.br  Sat Aug 22 07:11:50 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Sat Aug 22 07:11:58 2009
Subject: Res: [Harbour] harbour mysql MSVC LNK2019
In-Reply-To: <D4D8948F-20DD-4246-86D0-9262A6292510@syenar.hu>
References: <240328.72823.qm@web52204.mail.re2.yahoo.com>
	<D4D8948F-20DD-4246-86D0-9262A6292510@syenar.hu>
Message-ID: <179420.54218.qm@web52206.mail.re2.yahoo.com>

my hbc is all right it function under bcc55
{win}incpaths=include
{win}libpaths=lib \hwguivc\lib

{win}gt=gtgui
{win}libs=hwgui procmisc hbmzip hbziparc hbct hbtip hbwin xhb hbhpdf hbhpdf libpng hbmysql libmysql hbvpdf   
{linux}libs=hwgui procmisc hbmzip hbziparc hbtip hbhpdf libhpdf libpng

the libmysql I do this for import DLL to MSVC
\bcc55\bin\impdef.exe libmysql.def libmysql.dll
lib /def:libmysql.def

Best regards,
Fernando




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Sexta-feira, 21 de Agosto de 2009 22:29:08
Assunto: Re: [Harbour] harbour mysql MSVC LNK2019

These are linker errors (both missing and doubly defined),
you should resolve them.

I suggest using hbmysql.hbc or something equivalent, in
order to pull the dependencies too.

Brgds,
Viktor

On 2009.08.22., at 3:16, Fernando Athayde wrote:

> i think this is the last error, because all look like ok
> 
> link.exe /nologo /out:fjfrigo.exe .hbmk\win\msvc\busca.obj .hbmk\win\msvc\databa
> se.obj .hbmk\win\msvc\login.obj .hbmk\win\msvc\menu0.obj .hbmk\win\msvc\menu11.o
> bj .hbmk\win\msvc\menu12.obj .hbmk\win\msvc\menu13.obj .hbmk\win\msvc\menu14.obj
>  .hbmk\win\msvc\menu15.obj .hbmk\win\msvc\menu16.obj .hbmk\win\msvc\menu171.obj
> .hbmk\win\msvc\menu172.obj .hbmk\win\msvc\menu173.obj .hbmk\win\msvc\menu174.obj
>  .hbmk\win\msvc\menu175.obj .hbmk\win\msvc\menu176.obj .hbmk\win\msvc\menu177.ob
> j .hbmk\win\msvc\menu178.obj .hbmk\win\msvc\menu181.obj .hbmk\win\msvc\menu182.o
> bj .hbmk\win\msvc\menu183.obj .hbmk\win\msvc\menu185.obj .hbmk\win\msvc\menu187.
> obj .hbmk\win\msvc\menu188.obj .hbmk\win\msvc\menu189.obj .hbmk\win\msvc\menu18a
> .obj .hbmk\win\msvc\menu191.obj .hbmk\win\msvc\menu192.obj .hbmk\win\msvc\menu19
> 3.obj .hbmk\win\msvc\menu194.obj .hbmk\win\msvc\menu21.obj .hbmk\win\msvc\menu22
> 1.obj .hbmk\win\msvc\menu222.obj .hbmk\win\msvc\menu223.obj .hbmk\win\msvc\menu2
> 24.obj .hbmk\win\msvc\menu225.obj .hbmk\win\msvc\menu226.obj .hbmk\win\msvc\menu
> 2312.obj .hbmk\win\msvc\menu2322.obj .hbmk\win\msvc\menu2332.obj .hbmk\win\msvc\
> menu2333.obj .hbmk\win\msvc\menu241.obj .hbmk\win\msvc\menu242.obj .hbmk\win\msv
> c\menu243.obj .hbmk\win\msvc\menu244.obj .hbmk\win\msvc\menu311.obj .hbmk\win\ms
> vc\menu312.obj .hbmk\win\msvc\menu313.obj .hbmk\win\msvc\menu314.obj .hbmk\win\m
> svc\menu315.obj .hbmk\win\msvc\menu3171.obj .hbmk\win\msvc\menu3172.obj .hbmk\wi
> n\msvc\menu3174.obj .hbmk\win\msvc\menu3181.obj .hbmk\win\msvc\menu3182.obj .hbm
> k\win\msvc\menu3183.obj .hbmk\win\msvc\menu3185.obj .hbmk\win\msvc\menu3193.obj
> .hbmk\win\msvc\menu3197.obj .hbmk\win\msvc\menu3198.obj .hbmk\win\msvc\menu3211.
> obj .hbmk\win\msvc\menu3213.obj .hbmk\win\msvc\menu3214.obj .hbmk\win\msvc\menu3
> 215.obj .hbmk\win\msvc\menu3221.obj .hbmk\win\msvc\menu3222.obj .hbmk\win\msvc\m
> enu3311.obj .hbmk\win\msvc\menu3321.obj .hbmk\win\msvc\menu3332.obj .hbmk\win\ms
> vc\menu41.obj .hbmk\win\msvc\menu421.obj .hbmk\win\msvc\menu422.obj .hbmk\win\ms
> vc\menu423.obj .hbmk\win\msvc\menu424.obj .hbmk\win\msvc\menu442.obj .hbmk\win\m
> svc\menu443.obj .hbmk\win\msvc\menu444.obj .hbmk\win\msvc\menucadpadrao.obj .hbm
> k\win\msvc\menu_f.obj .hbmk\win\msvc\parametros.obj .hbmk\win\msvc\printdos.obj
> .hbmk\win\msvc\rede.obj .hbmk\win\msvc\translator.obj .hbmk\win\msvc\_hbmkaut.ob
> j /libpath:e:\harbour_vc\lib\win\msvc /libpath:e:\harbour_vc\lib /libpath:lib /l
> ibpath:\hwguivc\lib  /subsystem:windows hwgui.lib procmisc.lib hbmzip.lib hbzipa
> rc.lib hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libpng.lib hbmysql.lib li
> bmysql.lib hbvpdf.lib hbextern.lib hbdebug.lib hbvm.lib hbrtl.lib hblang.lib hbc
> page.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib h
> busrrdd.lib hbhsx.lib hbsix.lib rddntx.lib rddcdx.lib rddfpt.lib hbuddall.lib rd
> dnsx.lib hbmacro.lib hbcplr.lib hbpp.lib hbcommon.lib hbpcre.lib hbzlib.lib kern
> el32.lib user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib comctl32.lib
> comdlg32.lib shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib winmm.lib mapi3
> 2.lib imm32.lib msimg32.lib wininet.lib  .hbmk\win\msvc\fjfrigo.res
> hwgui.lib(shellapi.obj) : error LNK2005: _HB_FUN_SHELLEXECUTE already defined in
>  menu2312.obj
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_get_se
> rver_version@4 referenced in function _HB_FUN_MYSQL_GET_SERVER_VERSION
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_close@
> 4 referenced in function _HB_FUN_MYSQL_REAL_CONNECT
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_real_c
> onnect@32 referenced in function _HB_FUN_MYSQL_REAL_CONNECT
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_init@4
>  referenced in function _HB_FUN_MYSQL_REAL_CONNECT
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_commit
> @4 referenced in function _HB_FUN_MYSQL_COMMIT
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_rollba
> ck@4 referenced in function _HB_FUN_MYSQL_ROLLBACK
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_select
> _db@8 referenced in function _HB_FUN_MYSQL_SELECT_DB
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_query@
> 8 referenced in function _HB_FUN_MYSQL_QUERY
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_store_
> result@4 referenced in function _HB_FUN_MYSQL_STORE_RESULT
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_use_re
> sult@4 referenced in function _HB_FUN_MYSQL_USE_RESULT
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_free_r
> esult@4 referenced in function _HB_FUN_MYSQL_FREE_RESULT
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_fetch_
> lengths@4 referenced in function _HB_FUN_MYSQL_FETCH_ROW
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_fetch_
> row@4 referenced in function _HB_FUN_MYSQL_FETCH_ROW
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_num_fi
> elds@4 referenced in function _HB_FUN_MYSQL_FETCH_ROW
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_data_s
> eek@12 referenced in function _HB_FUN_MYSQL_DATA_SEEK
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_num_ro
> ws@4 referenced in function _HB_FUN_MYSQL_NUM_ROWS
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_fetch_
> field@4 referenced in function _HB_FUN_MYSQL_FETCH_FIELD
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_field_
> seek@8 referenced in function _HB_FUN_MYSQL_FIELD_SEEK
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_field_
> count@4 referenced in function _HB_FUN_MYSQL_FIELD_COUNT
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_list_f
> ields@12 referenced in function _HB_FUN_MYSQL_LIST_FIELDS
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_error@
> 4 referenced in function _HB_FUN_MYSQL_ERROR
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_list_d
> bs@8 referenced in function _HB_FUN_MYSQL_LIST_DBS
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_list_t
> ables@8 referenced in function _HB_FUN_MYSQL_LIST_TABLES
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_affect
> ed_rows@4 referenced in function _HB_FUN_MYSQL_AFFECTED_ROWS
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_get_ho
> st_info@4 referenced in function _HB_FUN_MYSQL_GET_HOST_INFO
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_get_se
> rver_info@4 referenced in function _HB_FUN_MYSQL_GET_SERVER_INFO
> hbmysql.lib(mysql.obj) : error LNK2019: unresolved external symbol _mysql_escape
> _string@12 referenced in function _HB_FUN_MYSQL_ESCAPE_STRING
> fjfrigo.exe : fatal error LNK1120: 27 unresolved externals
> hbmk: Erro: Executando linkeditor. 1120
> 
> link.exe /nologo /out:fjfrigo.exe .hbmk\win\msvc\busca.obj .hbmk\win\msvc\databa
> se.obj .hbmk\win\msvc\login.obj .hbmk\win\msvc\menu0.obj .hbmk\win\msvc\menu11.o
> bj .hbmk\win\msvc\menu12.obj .hbmk\win\msvc\menu13.obj .hbmk\win\msvc\menu14.obj
>  .hbmk\win\msvc\menu15.obj .hbmk\win\msvc\menu16.obj .hbmk\win\msvc\menu171.obj
> .hbmk\win\msvc\menu172.obj .hbmk\win\msvc\menu173.obj .hbmk\win\msvc\menu174.obj
>  .hbmk\win\msvc\menu175.obj .hbmk\win\msvc\menu176.obj .hbmk\win\msvc\menu177.ob
> j .hbmk\win\msvc\menu178.obj .hbmk\win\msvc\menu181.obj .hbmk\win\msvc\menu182.o
> bj .hbmk\win\msvc\menu183.obj .hbmk\win\msvc\menu185.obj .hbmk\win\msvc\menu187.
> obj .hbmk\win\msvc\menu188.obj .hbmk\win\msvc\menu189.obj .hbmk\win\msvc\menu18a
> .obj .hbmk\win\msvc\menu191.obj .hbmk\win\msvc\menu192.obj .hbmk\win\msvc\menu19
> 3.obj .hbmk\win\msvc\menu194.obj .hbmk\win\msvc\menu21.obj .hbmk\win\msvc\menu22
> 1.obj .hbmk\win\msvc\menu222.obj .hbmk\win\msvc\menu223.obj .hbmk\win\msvc\menu2
> 24.obj .hbmk\win\msvc\menu225.obj .hbmk\win\msvc\menu226.obj .hbmk\win\msvc\menu
> 2312.obj .hbmk\win\msvc\menu2322.obj .hbmk\win\msvc\menu2332.obj .hbmk\win\msvc\
> menu2333.obj .hbmk\win\msvc\menu241.obj .hbmk\win\msvc\menu242.obj .hbmk\win\msv
> c\menu243.obj .hbmk\win\msvc\menu244.obj .hbmk\win\msvc\menu311.obj .hbmk\win\ms
> vc\menu312.obj .hbmk\win\msvc\menu313.obj .hbmk\win\msvc\menu314.obj .hbmk\win\m
> svc\menu315.obj .hbmk\win\msvc\menu3171.obj .hbmk\win\msvc\menu3172.obj .hbmk\wi
> n\msvc\menu3174.obj .hbmk\win\msvc\menu3181.obj .hbmk\win\msvc\menu3182.obj .hbm
> k\win\msvc\menu3183.obj .hbmk\win\msvc\menu3185.obj .hbmk\win\msvc\menu3193.obj
> .hbmk\win\msvc\menu3197.obj .hbmk\win\msvc\menu3198.obj .hbmk\win\msvc\menu3211.
> obj .hbmk\win\msvc\menu3213.obj .hbmk\win\msvc\menu3214.obj .hbmk\win\msvc\menu3
> 215.obj .hbmk\win\msvc\menu3221.obj .hbmk\win\msvc\menu3222.obj .hbmk\win\msvc\m
> enu3311.obj .hbmk\win\msvc\menu3321.obj .hbmk\win\msvc\menu3332.obj .hbmk\win\ms
> vc\menu41.obj .hbmk\win\msvc\menu421.obj .hbmk\win\msvc\menu422.obj .hbmk\win\ms
> vc\menu423.obj .hbmk\win\msvc\menu424.obj .hbmk\win\msvc\menu442.obj .hbmk\win\m
> svc\menu443.obj .hbmk\win\msvc\menu444.obj .hbmk\win\msvc\menucadpadrao.obj .hbm
> k\win\msvc\menu_f.obj .hbmk\win\msvc\parametros.obj .hbmk\win\msvc\printdos.obj
> .hbmk\win\msvc\rede.obj .hbmk\win\msvc\translator.obj .hbmk\win\msvc\_hbmkaut.ob
> j /libpath:e:\harbour_vc\lib\win\msvc /libpath:e:\harbour_vc\lib /libpath:lib /l
> ibpath:\hwguivc\lib  /subsystem:windows hwgui.lib procmisc.lib hbmzip.lib hbzipa
> rc.lib hbct.lib hbtip.lib hbwin.lib xhb.lib hbhpdf.lib libpng.lib hbmysql.lib li
> bmysql.lib hbvpdf.lib hbextern.lib hbdebug.lib hbvm.lib hbrtl.lib hblang.lib hbc
> page.lib gtcgi.lib gtpca.lib gtstd.lib gtwin.lib gtwvt.lib gtgui.lib hbrdd.lib h
> busrrdd.lib hbhsx.lib hbsix.lib rddntx.lib rddcdx.lib rddfpt.lib hbuddall.lib rd
> dnsx.lib hbmacro.lib hbcplr.lib hbpp.lib hbcommon.lib hbpcre.lib hbzlib.lib kern
> el32.lib user32.lib gdi32.lib advapi32.lib ws2_32.lib winspool.lib comctl32.lib
> comdlg32.lib shell32.lib uuid.lib ole32.lib oleaut32.lib mpr.lib winmm.lib mapi3
> 2.lib imm32.lib msimg32.lib wininet.lib  .hbmk\win\msvc\fjfrigo.res
> 
> Thanks,
> Fernando
> 
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades - M?sica -Esportes_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour


__________________________________________________
Fale com seus amigos  de gra?a com o novo Yahoo! Messenger 
http://br.messenger.yahoo.com/ 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090822/790e5897/attachment-0001.html
From harbour.01 at syenar.hu  Sat Aug 22 07:15:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 07:15:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <7FDDDFE7-84E4-44C6-9925-69CEE5374629@syenar.hu>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>	<4A8FAB7C.4020800@libero.it>
	<E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>
	<4A8FB9EE.1020600@libero.it>
	<7FDDDFE7-84E4-44C6-9925-69CEE5374629@syenar.hu>
Message-ID: <FA55A1AA-6F1F-4BA7-87D3-5429B07FE084@syenar.hu>

I've tried the os2 solution copied to dos/djgpp (changed to build
plain executable) and run a build using dos COMMAND.COM shell.
I thought it will fail like in os2, but it just worked.

Brgds,
Viktor

On 2009.08.22., at 0:16, Viktor Szak?ts wrote:

>> gcc  -I. -I../../../../../include  -Wall -W -O3   -otbrwtext.o -c  
>> tbrwtext.c
>> E:/repository/harbour/bin/os2/gcc/harbour.exe ../../../dbgwa.prg - 
>> n1  -i../../..
>> /../../include -q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 - 
>> D__PLATFORM__OS2
>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgwa.o -c  
>> dbgwa.c
>> E:/repository/harbour/bin/os2/gcc/harbour.exe ../../../dbgbrwsr.prg  
>> -n1  -i../..
>> /../../../include -q0 -w3 -es2 -kmo -l  -undef:__PLATFORM__OS2 - 
>> D__PLATFORM__OS2
>>
>> gcc  -I. -I../../../../../include  -Wall -W -O3   -odbgbrwsr.o -c  
>> dbgbrwsr.c
>> for %i in ( *.o ) do @echo ADDMOD %i >> __lib__.tmp
>> ar   -M < __lib__.tmp & ..\..\..\..\..\config\os2-rm -f __lib__.tmp
>> ! HB_BIN_COMPILE not specified. Automatically set to: E:/repository/ 
>> harbour/bin/
>> os2/gcc
>> make[3]: spawnvpe: environment space might be exhausted
>> make[3]: execvp: D:\OS2\CMD.EXE: Invalid argument
>> make[3]: spawn: Invalid argument
>> make[2]: *** [descend] Error 2
>> make[1]: *** [dynlib] Error 2
>> make: *** [source] Error 2
>
> Okay, so here two things may the problem:
>
> 1) Passing DYNDIRLIST_BASE to lower level make instance
> 2) the dynlib creation rules.
>
> To rule out 1), you may try moving DYNDIRLIST_BASE assignment
> lines from source/Makefile to source/dynlib/Makefile. If that
> works we still need to solve passing these values to mt/Makefile,
> which means they'll need to be copied to some global .mk file
> and included.
>
> 2) needs some tweaking, but it's very difficult to suggest
> anything. I don't understand why it doesn't work now.
>
> Brgds,
> Viktor
>

From harbour.01 at syenar.hu  Sat Aug 22 07:20:54 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 07:21:04 2009
Subject: Res: [Harbour] harbour mysql MSVC LNK2019
In-Reply-To: <179420.54218.qm@web52206.mail.re2.yahoo.com>
References: <240328.72823.qm@web52204.mail.re2.yahoo.com>
	<D4D8948F-20DD-4246-86D0-9262A6292510@syenar.hu>
	<179420.54218.qm@web52206.mail.re2.yahoo.com>
Message-ID: <8FBA666D-A8B0-4FE3-A268-D6A710A15BF3@syenar.hu>

> my hbc is all right it function under bcc55
> {win}incpaths=include
> {win}libpaths=lib \hwguivc\lib
>
> {win}gt=gtgui
> {win}libs=hwgui procmisc hbmzip hbziparc hbct hbtip hbwin xhb hbhpdf  
> hbhpdf libpng hbmysql libmysql hbvpdf
> {linux}libs=hwgui procmisc hbmzip hbziparc hbtip hbhpdf libhpdf libpng

Then the mysql implib is wrong.

> the libmysql I do this for import DLL to MSVC
> \bcc55\bin\impdef.exe libmysql.def libmysql.dll
> lib /def:libmysql.def

So this is the fault. Using Borland tool for
this task doesn't seem like a good idea.

Look into bin/hb-mkimp.bat how to create implibs for
msvc. Or use HB_BUILD_IMPLIB=yes so that it's done by
the make process automatically. Given that dirs are
setup properly. See INSTALL about that.

For MSVC the implib is provided by packages most of
the time, so usually only a simple copy is needed or
to add a libpath.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Aug 22 07:25:18 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 07:25:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12260] trunk/harbour
Message-ID: <E1Meoik-00045r-Qz@bj8yhf1.ch3.sourceforge.com>

Revision: 12260
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12260&view=rev
Author:   vszakats
Date:     2009-08-22 11:25:17 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 13:24 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/dynlib/mt/Makefile
  * source/dynlib/Makefile
  * source/Makefile
    - Deleted extra dos platform guards. It's not needed. I hope
      it won't cause bad side effects.

  * config/common/watcom.mk
    ! Fixed to not use $? in LD_RULE. Typo of yesterday.
    ! Restored remaining $? to $^. It exploited some bad side effects
      in hbpp lib.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/common/watcom.mk
    trunk/harbour/source/Makefile
    trunk/harbour/source/dynlib/Makefile
    trunk/harbour/source/dynlib/mt/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Aug 22 07:47:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 07:47:56 2009
Subject: [Harbour] Error with 12244 and msvc
In-Reply-To: <25087378.post@talk.nabble.com>
References: <25085952.post@talk.nabble.com>
	<E76502EC-DB9F-443F-ABE3-A8C0C6A194AE@syenar.hu>
	<25087378.post@talk.nabble.com>
Message-ID: <6A113684-DCFC-41CC-BDF2-76D617B8122F@syenar.hu>

Hi Rossine,

Do you have something called rm.exe in your PATH?

GNU Make seems to change behavior in this case, but
I've yet to find out in what way.

Brgds,
Viktor

On 2009.08.21., at 11:11, Rossine wrote:

>
> Hello Viktor,
>
>
> Viktor Szak?ts wrote:
>>
>> Hi Rossine,
>> Please post the very first 10 lines of your output.
>>
>
> This is my log erro complete:
>
> [COMPILE]
> ! MAKE: C:/bin/mingw32-make 3.81 CLEAN INSTALL  sh.exe
> ! HB_USER_CFLAGS: -DHB_GC_AUTO -DHB_FM_STATISTIC
> ! HB_INSTALL_PREFIX: C:\hrb_msvc
> ! HB_BIN_INSTALL: C:\hrb_msvc\bin
> ! HB_LIB_INSTALL: C:\hrb_msvc\lib
> ! HB_INC_INSTALL: C:\hrb_msvc\include
> ! HB_DOC_INSTALL: C:\hrb_msvc\doc
> ! HB_BUILD_DLL: yes
> ! HB_HOST_ARCH: win (x86)  HB_SHELL: nt
> ! HB_ARCHITECTURE: win (x86) (autodetected)
> ! HB_COMPILER: msvc
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[1]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[3]: `clean' is up to date.
> ! 'gtcrs' library skipped
> ! 'gtdos' library skipped
> mingw32-make[3]: `clean' is up to date.
> ! 'gtos2' library skipped
> mingw32-make[3]: `clean' is up to date.
> ! 'gtsln' library skipped
> mingw32-make[3]: `clean' is up to date.
> ! 'gttrm' library skipped
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[3]: `clean' is up to date.
> ! 'gtxwc' library skipped
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> ! 'gtalleg' library skipped
> mingw32-make[2]: `clean' is up to date.
> ! 'hbcurl' library skipped
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> ! 'hbgd' library skipped
> mingw32-make[2]: `clean' is up to date.
> ! 'hbmysql' library skipped
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> ! 'hbssl' library skipped
> mingw32-make[2]: `clean' is up to date.
> ! 'sddmy' library skipped
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[3]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
> mingw32-make[2]: `clean' is up to date.
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
>        1 arquivo(s) copiado(s).
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Foexpropt1.obj -c
> ../../../expropt1.c
> expropt1.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Foexpropt1_dyn.obj - 
> DHB_DYNLIB
> -c ../../../expropt1.c
> expropt1.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Foexpropt2.obj -c
> ../../../expropt2.c
> expropt2.c
> ../../../expropt2.c(557) : warning C4244: '=' : conversion from  
> 'HB_LONG' to
> 'long', possible loss of data
> ../../../expropt2.c(559) : warning C4244: '=' : conversion from  
> 'HB_LONG' to
> 'long', possible loss of data
> ../../../expropt2.c(570) : warning C4244: 'argument' : conversion from
> 'HB_LONG' to 'LONG', possible loss of data
> ../../../expropt2.c(760) : warning C4244: '=' : conversion from  
> 'HB_LONG' to
> 'long', possible loss of data
> ../../../expropt2.c(762) : warning C4244: '=' : conversion from  
> 'HB_LONG' to
> 'long', possible loss of data
> ../../../expropt2.c(773) : warning C4244: 'argument' : conversion from
> 'HB_LONG' to 'LONG', possible loss of data
> ../../../expropt2.c(813) : warning C4244: '=' : conversion from  
> 'HB_LONG' to
> 'long', possible loss of data
> ../../../expropt2.c(815) : warning C4244: '=' : conversion from  
> 'HB_LONG' to
> 'long', possible loss of data
> ../../../expropt2.c(826) : warning C4244: 'argument' : conversion from
> 'HB_LONG' to 'LONG', possible loss of data
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Foexpropt2_dyn.obj - 
> DHB_DYNLIB
> -c ../../../expropt2.c
> expropt2.c
> ../../../expropt2.c(557) : warning C4244: '=' : conversion from  
> 'HB_LONG' to
> 'long', possible loss of data
> ../../../expropt2.c(559) : warning C4244: '=' : conversion from  
> 'HB_LONG' to
> 'long', possible loss of data
> ../../../expropt2.c(570) : warning C4244: 'argument' : conversion from
> 'HB_LONG' to 'LONG', possible loss of data
> ../../../expropt2.c(760) : warning C4244: '=' : conversion from  
> 'HB_LONG' to
> 'long', possible loss of data
> ../../../expropt2.c(762) : warning C4244: '=' : conversion from  
> 'HB_LONG' to
> 'long', possible loss of data
> ../../../expropt2.c(773) : warning C4244: 'argument' : conversion from
> 'HB_LONG' to 'LONG', possible loss of data
> ../../../expropt2.c(813) : warning C4244: '=' : conversion from  
> 'HB_LONG' to
> 'long', possible loss of data
> ../../../expropt2.c(815) : warning C4244: '=' : conversion from  
> 'HB_LONG' to
> 'long', possible loss of data
> ../../../expropt2.c(826) : warning C4244: 'argument' : conversion from
> 'HB_LONG' to 'LONG', possible loss of data
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbffind.obj -c
> ../../../hbffind.c
> hbffind.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbffind_dyn.obj - 
> DHB_DYNLIB
> -c ../../../hbffind.c
> hbffind.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbfopen.obj -c
> ../../../hbfopen.c
> hbfopen.c
> ../../../hbfopen.c(61) : warning C4996: 'fopen': This function or  
> variable
> may be unsafe. Consider using fopen_s instead. To disable  
> deprecation, use
> _CRT_SECURE_NO_WARNINGS. See online help for details.
>        C:\vc9\VC\INCLUDE\stdio.h(237) : see declaration of 'fopen'
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbfopen_dyn.obj - 
> DHB_DYNLIB
> -c ../../../hbfopen.c
> hbfopen.c
> ../../../hbfopen.c(61) : warning C4996: 'fopen': This function or  
> variable
> may be unsafe. Consider using fopen_s instead. To disable  
> deprecation, use
> _CRT_SECURE_NO_WARNINGS. See online help for details.
>        C:\vc9\VC\INCLUDE\stdio.h(237) : see declaration of 'fopen'
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbfsapi.obj -c
> ../../../hbfsapi.c
> hbfsapi.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbfsapi_dyn.obj - 
> DHB_DYNLIB
> -c ../../../hbfsapi.c
> hbfsapi.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbgete.obj -c
> ../../../hbgete.c
> hbgete.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbgete_dyn.obj - 
> DHB_DYNLIB
> -c ../../../hbgete.c
> hbgete.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbwince.obj -c
> ../../../hbwince.c
> hbwince.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbwince_dyn.obj - 
> DHB_DYNLIB
> -c ../../../hbwince.c
> hbwince.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbhash.obj -c
> ../../../hbhash.c
> hbhash.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbhash_dyn.obj - 
> DHB_DYNLIB
> -c ../../../hbhash.c
> hbhash.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbprintf.obj -c
> ../../../hbprintf.c
> hbprintf.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbprintf_dyn.obj - 
> DHB_DYNLIB
> -c ../../../hbprintf.c
> hbprintf.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbstr.obj -c
> ../../../hbstr.c
> hbstr.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbstr_dyn.obj - 
> DHB_DYNLIB -c
> ../../../hbstr.c
> hbstr.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbdate.obj -c
> ../../../hbdate.c
> hbdate.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbdate_dyn.obj - 
> DHB_DYNLIB
> -c ../../../hbdate.c
> hbdate.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbmem.obj -c
> ../../../hbmem.c
> hbmem.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbmem_dyn.obj - 
> DHB_DYNLIB -c
> ../../../hbmem.c
> hbmem.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbtrace.obj -c
> ../../../hbtrace.c
> hbtrace.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbtrace_dyn.obj - 
> DHB_DYNLIB
> -c ../../../hbtrace.c
> hbtrace.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbver.obj -c
> ../../../hbver.c
> hbver.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbver_dyn.obj - 
> DHB_DYNLIB -c
> ../../../hbver.c
> hbver.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbverdsp.obj -c
> ../../../hbverdsp.c
> hbverdsp.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbverdsp_dyn.obj - 
> DHB_DYNLIB
> -c ../../../hbverdsp.c
> hbverdsp.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbarch.obj -c
> ../../../hbarch.c
> hbarch.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbarch_dyn.obj - 
> DHB_DYNLIB
> -c ../../../hbarch.c
> hbarch.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Foreserved.obj -c
> ../../../reserved.c
> reserved.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Foreserved_dyn.obj - 
> DHB_DYNLIB
> -c ../../../reserved.c
> reserved.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fostrwild.obj -c
> ../../../strwild.c
> strwild.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fostrwild_dyn.obj - 
> DHB_DYNLIB
> -c ../../../strwild.c
> strwild.c
> lib.exe   /nologo /out:../../../../../lib/win/msvc/hbcommon.lib  
> expropt1.obj
> expropt2.obj hbffind.obj hbfopen.obj hbfsapi.obj hbgete.obj  
> hbwince.obj
> hbhash.obj hbprintf.obj hbstr.obj hbdate.obj hbmem.obj hbtrace.obj  
> hbver.obj
> hbverdsp.obj hbarch.obj reserved.obj strwild.obj || del /q /f
> ../../../../../lib/win/msvc/hbcommon.lib
>        1 arquivo(s) copiado(s).
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fonortl.obj -c
> ../../../nortl.c
> nortl.c
> lib.exe   /nologo /out:../../../../../lib/win/msvc/hbnortl.lib  
> nortl.obj ||
> del /q /f ../../../../../lib/win/msvc/hbnortl.lib
>        1 arquivo(s) copiado(s).
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbpp.obj -c ../../../ 
> hbpp.c
> hbpp.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbpp_dyn.obj - 
> DHB_DYNLIB -c
> ../../../hbpp.c
> hbpp.c
> link.exe  /out:..\..\..\..\..\bin\win\msvc\hbpp.exe hbpp.obj  /nologo
> /libpath:../../../../../lib/win/msvc  hbcommon.lib hbnortl.lib  
> kernel32.lib
> user32.lib ws2_32.lib advapi32.lib gdi32.lib
> rm hbpp.obj
>
> [ENDCOMPILE]
>
> Regards,
>
> Rossine.
>
> -- 
> View this message in context: http://www.nabble.com/Error-with-12244-and-msvc-tp25085952p25087378.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From fernando_athayde at yahoo.com.br  Sat Aug 22 08:00:39 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Sat Aug 22 08:00:44 2009
Subject: Res: Res: [Harbour] harbour mysql MSVC LNK2019
In-Reply-To: <8FBA666D-A8B0-4FE3-A268-D6A710A15BF3@syenar.hu>
References: <240328.72823.qm@web52204.mail.re2.yahoo.com>
	<D4D8948F-20DD-4246-86D0-9262A6292510@syenar.hu>
	<179420.54218.qm@web52206.mail.re2.yahoo.com>
	<8FBA666D-A8B0-4FE3-A268-D6A710A15BF3@syenar.hu>
Message-ID: <209623.85271.qm@web52207.mail.re2.yahoo.com>

thank you very much
perfect

i'd like to talk Przemek, about hwgui
i'd like compile to wce, but i'm without luck
how i talk with him?

Best regards,
Fernando




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: S?bado, 22 de Agosto de 2009 8:20:54
Assunto: Re: Res: [Harbour] harbour mysql MSVC LNK2019

> my hbc is all right it function under bcc55
> {win}incpaths=include
> {win}libpaths=lib \hwguivc\lib
> 
> {win}gt=gtgui
> {win}libs=hwgui procmisc hbmzip hbziparc hbct hbtip hbwin xhb hbhpdf hbhpdf libpng hbmysql libmysql hbvpdf
> {linux}libs=hwgui procmisc hbmzip hbziparc hbtip hbhpdf libhpdf libpng

Then the mysql implib is wrong.

> the libmysql I do this for import DLL to MSVC
> \bcc55\bin\impdef.exe libmysql.def libmysql.dll
> lib /def:libmysql.def

So this is the fault. Using Borland tool for
this task doesn't seem like a good idea.

Look into bin/hb-mkimp.bat how to create implibs for
msvc. Or use HB_BUILD_IMPLIB=yes so that it's done by
the make process automatically. Given that dirs are
setup properly. See INSTALL about that.

For MSVC the implib is provided by packages most of
the time, so usually only a simple copy is needed or
to add a libpath.

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090822/6298f7c1/attachment.html
From kadziola at tlen.pl  Sat Aug 22 08:12:26 2009
From: kadziola at tlen.pl (=?utf-8?B?SmFyb3PFgmF3IEvEhWR6aW/FgmE=?=)
Date: Sat Aug 22 08:11:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12253] trunk/harbour
In-Reply-To: <E1MelX3-0007vl-C5@bj8yhf1.ch3.sourceforge.com>
References: <E1MelX3-0007vl-C5@bj8yhf1.ch3.sourceforge.com>
Message-ID: <151136782.20090822141226@tlen.pl>

Hi,

> Revision: 12253

After this rev. i can build WinCE harbour but still i get :

$ hbmk2 testole
hbmk: Processing local make script: hbmk.hbm                                     
hbmk: Processing configuration: F:\msys\1.0\hb-mingw\bin\hbmk.cfg                
hbmk: Processing: hbwin.hbc                                                      
Harbour 2.0.0beta2 (Rev. 12247)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'testole.prg'...
Lines 429, Functions/Procedures 12
Generating C source output to 'testole.c'... Done.
F:/msys/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text+0x18ec): undefined reference to `GetActiveObject'
F:/msys/1.0/hb-mingwarm/lib/libhbwin.a(oleinit.o):oleinit.c:(.text+0x14): undefined reference to `OleInitialize'
F:/msys/1.0/hb-mingwarm/lib/libhbwin.a(oleinit.o):oleinit.c:(.text+0x50): undefined reference to `OleUninitialize'
collect2: ld returned 1 exit status
hbmk: Error: Running linker. 1                                                   
"F:/msys/1.0/opt/mingw32ce/bin/\arm-wince-mingw32ce-gcc.exe" testole.o hbmk_aeh7rj.o    -lhbwin -lsms
-lCellCore -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwvt -lgtgui
-lhbrdd -lhbusrrdd -lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt -lhbuddall -lrddnsx -lhbrtl -lhbvm -lhbmacro
-lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib -lcoredll -lws2 -lceshell -luuid -lole32 -loleaut32 -lwininet
-lcommdlg -lcommctrl  -otestole.exe -L"F:/msys/1.0/hb-mingwarm/lib"




Regards,
Jaroslaw Kadziola


From harbour.01 at syenar.hu  Sat Aug 22 08:20:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 08:20:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12253] trunk/harbour
In-Reply-To: <151136782.20090822141226@tlen.pl>
References: <E1MelX3-0007vl-C5@bj8yhf1.ch3.sourceforge.com>
	<151136782.20090822141226@tlen.pl>
Message-ID: <DB2EB8ED-835D-4B79-ACD1-3223791D2657@syenar.hu>

These symbols don't exist in any WinCE libs I have access to
so OLE code will have to be fixed probably to not use them,
or use some alternatives.

Brgds,
Viktor

On 2009.08.22., at 2:12, Jaros?aw K?dzio?a wrote:

> Hi,
>
>> Revision: 12253
>
> After this rev. i can build WinCE harbour but still i get :
>
> $ hbmk2 testole
> hbmk: Processing local make script: hbmk.hbm
> hbmk: Processing configuration: F:\msys\1.0\hb-mingw\bin\hbmk.cfg
> hbmk: Processing: hbwin.hbc
> Harbour 2.0.0beta2 (Rev. 12247)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'testole.prg'...
> Lines 429, Functions/Procedures 12
> Generating C source output to 'testole.c'... Done.
> F:/msys/1.0/hb-mingwarm/lib/libhbwin.a(olecore.o):olecore.c:(.text 
> +0x18ec): undefined reference to `GetActiveObject'
> F:/msys/1.0/hb-mingwarm/lib/libhbwin.a(oleinit.o):oleinit.c:(.text 
> +0x14): undefined reference to `OleInitialize'
> F:/msys/1.0/hb-mingwarm/lib/libhbwin.a(oleinit.o):oleinit.c:(.text 
> +0x50): undefined reference to `OleUninitialize'
> collect2: ld returned 1 exit status
> hbmk: Error: Running linker. 1
> "F:/msys/1.0/opt/mingw32ce/bin/\arm-wince-mingw32ce-gcc.exe"  
> testole.o hbmk_aeh7rj.o    -lhbwin -lsms
> -lCellCore -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage - 
> lgtcgi -lgtpca -lgtstd -lgtwvt -lgtgui
> -lhbrdd -lhbusrrdd -lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt - 
> lhbuddall -lrddnsx -lhbrtl -lhbvm -lhbmacro
> -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib -lcoredll -lws2 - 
> lceshell -luuid -lole32 -loleaut32 -lwininet
> -lcommdlg -lcommctrl  -otestole.exe -L"F:/msys/1.0/hb-mingwarm/lib"
>
>
>
>
> Regards,
> Jaroslaw Kadziola
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From maurilio.longo at libero.it  Sat Aug 22 08:26:20 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Sat Aug 22 08:26:35 2009
Subject: [Harbour] SF.net SVN:
	harbour-project:[12125]	trunk/harbour/ChangeLog
In-Reply-To: <20090817124634.GA13853@uran.home.aster.pl>
References: <KOGI1K$731E033DCEC18050707F306A99E3A139@libero.it>	<422F20DC-76E9-4CFB-B192-761CAEFAA048@syenar.hu>	<4A894D3D.1010001@libero.it>
	<20090817124634.GA13853@uran.home.aster.pl>
Message-ID: <4A8FE3EC.3050004@libero.it>

Przemyslaw,

this is from OS/2 make 3.81

Due to the fact that some people might want to use sh syntax in
Makefiles while others might want to use OS/2's native shell cmd.exe,
GNU make supports both shell types. The following list defines the order
that is used to determine the shell:

 1. The shell specified by the environment variable MAKESHELL.
 2. The shell specified by the SHELL variable within a Makefile. As on
    Unix, SHELL is NOT taken from the environment.
 3. The shell specified by the COMSPEC environment variable.
 4. The shell specified by the OS2_SHELL environment variable.
 5. If none of the above is defined /bin/sh is used as default.  This
    happens e.g. in the make testsuite.

Best regards.

Maurilio.



Przemyslaw Czerpak wrote:
> On Mon, 17 Aug 2009, Maurilio Longo wrote:
> 
> Hi,
> 
>> Anyway, I have the full gnufutils installed, so I'll do a test with cp,
>> without even moving it inside config since it is in my PATH.
> 
> So I guess you also have some *sh.exe files in your path.
> Maybe it's the reason of your problems with rules without $(CMDPREF).
> Some older GNU make DOS and Windows ports were looking for *sh.exe
> files in PATH and used them instead of $(COMMAND). Maybe OS2 GNU
> make port still does it.
> Can you check?
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From kadziola at tlen.pl  Sat Aug 22 08:32:44 2009
From: kadziola at tlen.pl (=?utf-8?B?SmFyb3PFgmF3IEvEhWR6aW/FgmE=?=)
Date: Sat Aug 22 08:31:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12253] trunk/harbour
In-Reply-To: <DB2EB8ED-835D-4B79-ACD1-3223791D2657@syenar.hu>
References: <E1MelX3-0007vl-C5@bj8yhf1.ch3.sourceforge.com>
	<151136782.20090822141226@tlen.pl>
	<DB2EB8ED-835D-4B79-ACD1-3223791D2657@syenar.hu>
Message-ID: <764328717.20090822143244@tlen.pl>

Hi,


> These symbols don't exist in any WinCE libs I have access to
> so OLE code will have to be fixed probably to not use them,
> or use some alternatives.

These symbols exist in my libhbwin.a. I use last nightly and
not any other sources.

---
Regards,
Jaroslaw Kadziola

From harbour.01 at syenar.hu  Sat Aug 22 08:36:07 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 08:36:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12253] trunk/harbour
In-Reply-To: <764328717.20090822143244@tlen.pl>
References: <E1MelX3-0007vl-C5@bj8yhf1.ch3.sourceforge.com>
	<151136782.20090822141226@tlen.pl>
	<DB2EB8ED-835D-4B79-ACD1-3223791D2657@syenar.hu>
	<764328717.20090822143244@tlen.pl>
Message-ID: <A7335229-1C9E-4F04-AEB3-90499DD1DF1B@syenar.hu>

You misunderstood me. These symbols don't exist in any WinCE
*system* libs I have access to. I know Harbour code references
them, hence the missing symbols.

Brgds,
Viktor

On 2009.08.22., at 2:32, Jaros?aw K?dzio?a wrote:

> Hi,
>
>
>> These symbols don't exist in any WinCE libs I have access to
>> so OLE code will have to be fixed probably to not use them,
>> or use some alternatives.
>
> These symbols exist in my libhbwin.a. I use last nightly and
> not any other sources.
>
> ---
> Regards,
> Jaroslaw Kadziola
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sat Aug 22 08:42:44 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 08:42:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12261] trunk/harbour
Message-ID: <E1Mepvg-0006Fc-3M@3kljzd1.ch3.sourceforge.com>

Revision: 12261
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12261&view=rev
Author:   vszakats
Date:     2009-08-22 12:42:43 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 14:42 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    % Minor opt.

  * utils/hbmk2/hbmk2.pt_BR.po
  * utils/hbmk2/hbmk2.hu_HU.po
  * utils/hbmk2/hbmk2.prg
    + Some 'hbmk' texts changed to 'hbmk2'.

  * contrib/rddads/adsfunc.c
    ! Fixed ADSGETLASTERROR() to return empty string instead of garbage
      when there was no error.
      Borrowed from xhb by Augusto Infante.
      Fixes applied: Using manifest constant instead of 0, using NULL
      instead of empty string literal.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/contrib/rddads/adsfunc.c
    trunk/harbour/utils/hbmk2/hbmk2.hu_HU.po
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Aug 22 08:50:21 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 08:50:29 2009
Subject: [Harbour] SF.net SVN:
	harbour-project:[12125]	trunk/harbour/ChangeLog
In-Reply-To: <4A8FE3EC.3050004@libero.it>
References: <KOGI1K$731E033DCEC18050707F306A99E3A139@libero.it>	<422F20DC-76E9-4CFB-B192-761CAEFAA048@syenar.hu>	<4A894D3D.1010001@libero.it>
	<20090817124634.GA13853@uran.home.aster.pl>
	<4A8FE3EC.3050004@libero.it>
Message-ID: <02D24027-2BBD-458F-90C2-250113390911@syenar.hu>

Hi Maurilio,

Probably recently added line 334 in global.mk 'SHELL := $(COMSPEC)'
isn't necessary. Pls advise what to do with it.

Can you confirm that config/os2-cp.exe requires forward slashes?
I'd like to update documentation.

Brgds,
Viktor

On 2009.08.22., at 2:26, Maurilio Longo wrote:

> Przemyslaw,
>
> this is from OS/2 make 3.81
>
> Due to the fact that some people might want to use sh syntax in
> Makefiles while others might want to use OS/2's native shell cmd.exe,
> GNU make supports both shell types. The following list defines the  
> order
> that is used to determine the shell:
>
> 1. The shell specified by the environment variable MAKESHELL.
> 2. The shell specified by the SHELL variable within a Makefile. As on
>    Unix, SHELL is NOT taken from the environment.
> 3. The shell specified by the COMSPEC environment variable.
> 4. The shell specified by the OS2_SHELL environment variable.
> 5. If none of the above is defined /bin/sh is used as default.  This
>    happens e.g. in the make testsuite.
>
> Best regards.
>
> Maurilio.
>
>
>
> Przemyslaw Czerpak wrote:
>> On Mon, 17 Aug 2009, Maurilio Longo wrote:
>>
>> Hi,
>>
>>> Anyway, I have the full gnufutils installed, so I'll do a test  
>>> with cp,
>>> without even moving it inside config since it is in my PATH.
>>
>> So I guess you also have some *sh.exe files in your path.
>> Maybe it's the reason of your problems with rules without $(CMDPREF).
>> Some older GNU make DOS and Windows ports were looking for *sh.exe
>> files in PATH and used them instead of $(COMMAND). Maybe OS2 GNU
>> make port still does it.
>> Can you check?
>>
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sat Aug 22 08:52:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 08:52:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12262] trunk/harbour
Message-ID: <E1Meq4f-0006QS-FR@3kljzd1.ch3.sourceforge.com>

Revision: 12262
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12262&view=rev
Author:   vszakats
Date:     2009-08-22 12:52:00 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 14:44 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    + Display MAKESHELL value if set.

  * config/globsh.mk
    * Updated OS/2 GNU tools information: os2-cp.exe requires 
      *forward* slashes in filenames.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/config/globsh.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug 22 09:07:10 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 09:07:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12263] trunk/harbour
Message-ID: <E1MeqJK-0006k3-Vw@3kljzd1.ch3.sourceforge.com>

Revision: 12263
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12263&view=rev
Author:   vszakats
Date:     2009-08-22 13:07:09 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 15:06 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/rules.mk
    ! Deleted dynlib related rule causing problems in some situations 
      at the same time doesn't seem to be needed at all.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/rules.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Sat Aug 22 09:11:15 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Sat Aug 22 09:11:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12262] trunk/harbour
In-Reply-To: <E1Meq4f-0006QS-FR@3kljzd1.ch3.sourceforge.com>
References: <E1Meq4f-0006QS-FR@3kljzd1.ch3.sourceforge.com>
Message-ID: <4A8FEE73.8030700@libero.it>

Viktor,

If I use INSTALL_DIR_OS, there is no problem, problems come from
INSTALL_FILES_OS where it seems there are double backslashes and/or mixed
slashes: see the output

(E:\REPOSITORY\HARBOUR)make install
! MAKE: make 3.81 install  D:\OS2\CMD.EXE
! HB_BIN_INSTALL: e:\harbour\bin
! HB_LIB_INSTALL: e:\harbour\lib
! HB_INC_INSTALL: e:\harbour\include
! HB_HOST_ARCH: os2 (x86)  HB_SHELL: os2
! HB_ARCHITECTURE: os2 (x86)
! HB_COMPILER: gcc
! HB_INSTALL_PREFIX automatically set to: E:\repository\harbour
make[2]: Nothing to be done for `install'.
make[3]: `../../../../../lib/os2/gcc/hbcommon.a' is up to date.
os2-cp: cannot create regular file `e:\\harbour\\lib/..\\..\\lib\\os2\\gcc\\hbco
mmon.a': No such file or directory
make[2]: [install] Error 1 (ignored)
make[3]: `../../../../../lib/os2/gcc/hbnortl.a' is up to date.
os2-cp: cannot create regular file `e:\\harbour\\lib/..\\..\\lib\\os2\\gcc\\hbno
rtl.a': No such file or directory
make[2]: [install] Error 1 (ignored)
make[3]: `../../../../../lib/os2/gcc/hbpp.a' is up to date.
os2-cp: cannot create regular file `e:\\harbour\\bin/..\\..\\bin\\os2\\gcc\\hbpp
.exe': No such file or directory
make[2]: [install] Error 1 (ignored)
os2-cp: cannot create regular file `e:\\harbour\\lib/..\\..\\lib\\os2\\gcc\\hbpp
.a': No such file or directory
make[2]: [install] Error 1 (ignored)


as if the subst command of make is making something wrong.

Just as a note, I don't care which way are the used slashes :)

Maurilio.

vszakats@users.sourceforge.net wrote:
> Revision: 12262
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12262&view=rev
> Author:   vszakats
> Date:     2009-08-22 12:52:00 +0000 (Sat, 22 Aug 2009)
> 
> Log Message:
> -----------
> 2009-08-22 14:44 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * config/global.mk
>     + Display MAKESHELL value if set.
> 
>   * config/globsh.mk
>     * Updated OS/2 GNU tools information: os2-cp.exe requires 
>       *forward* slashes in filenames.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/config/global.mk
>     trunk/harbour/config/globsh.mk
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Sat Aug 22 09:15:27 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Sat Aug 22 09:15:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12262] trunk/harbour
In-Reply-To: <4A8FEE73.8030700@libero.it>
References: <E1Meq4f-0006QS-FR@3kljzd1.ch3.sourceforge.com>
	<4A8FEE73.8030700@libero.it>
Message-ID: <4A8FEF6F.6070308@libero.it>

Actually, if I write the subst rule this way

INSTALL_FILES_OS := $(subst "/","\",$(INSTALL_FILES))

it works using INSTALL_FILES_OS inside the OS/2 section of instsh.mk

Maurilio.

Maurilio Longo wrote:
> Viktor,
> 
> If I use INSTALL_DIR_OS, there is no problem, problems come from
> INSTALL_FILES_OS where it seems there are double backslashes and/or mixed
> slashes: see the output
> 
> (E:\REPOSITORY\HARBOUR)make install
> ! MAKE: make 3.81 install  D:\OS2\CMD.EXE
> ! HB_BIN_INSTALL: e:\harbour\bin
> ! HB_LIB_INSTALL: e:\harbour\lib
> ! HB_INC_INSTALL: e:\harbour\include
> ! HB_HOST_ARCH: os2 (x86)  HB_SHELL: os2
> ! HB_ARCHITECTURE: os2 (x86)
> ! HB_COMPILER: gcc
> ! HB_INSTALL_PREFIX automatically set to: E:\repository\harbour
> make[2]: Nothing to be done for `install'.
> make[3]: `../../../../../lib/os2/gcc/hbcommon.a' is up to date.
> os2-cp: cannot create regular file `e:\\harbour\\lib/..\\..\\lib\\os2\\gcc\\hbco
> mmon.a': No such file or directory
> make[2]: [install] Error 1 (ignored)
> make[3]: `../../../../../lib/os2/gcc/hbnortl.a' is up to date.
> os2-cp: cannot create regular file `e:\\harbour\\lib/..\\..\\lib\\os2\\gcc\\hbno
> rtl.a': No such file or directory
> make[2]: [install] Error 1 (ignored)
> make[3]: `../../../../../lib/os2/gcc/hbpp.a' is up to date.
> os2-cp: cannot create regular file `e:\\harbour\\bin/..\\..\\bin\\os2\\gcc\\hbpp
> .exe': No such file or directory
> make[2]: [install] Error 1 (ignored)
> os2-cp: cannot create regular file `e:\\harbour\\lib/..\\..\\lib\\os2\\gcc\\hbpp
> .a': No such file or directory
> make[2]: [install] Error 1 (ignored)
> 
> 
> as if the subst command of make is making something wrong.
> 
> Just as a note, I don't care which way are the used slashes :)
> 
> Maurilio.
> 
> vszakats@users.sourceforge.net wrote:
>> Revision: 12262
>>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12262&view=rev
>> Author:   vszakats
>> Date:     2009-08-22 12:52:00 +0000 (Sat, 22 Aug 2009)
>>
>> Log Message:
>> -----------
>> 2009-08-22 14:44 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>>   * config/global.mk
>>     + Display MAKESHELL value if set.
>>
>>   * config/globsh.mk
>>     * Updated OS/2 GNU tools information: os2-cp.exe requires 
>>       *forward* slashes in filenames.
>>
>> Modified Paths:
>> --------------
>>     trunk/harbour/ChangeLog
>>     trunk/harbour/config/global.mk
>>     trunk/harbour/config/globsh.mk
>>
>>
>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Sat Aug 22 09:23:07 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 09:23:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12262] trunk/harbour
In-Reply-To: <4A8FEF6F.6070308@libero.it>
References: <E1Meq4f-0006QS-FR@3kljzd1.ch3.sourceforge.com>
	<4A8FEE73.8030700@libero.it> <4A8FEF6F.6070308@libero.it>
Message-ID: <29797EB5-8F42-447A-BB00-24D37FD19557@syenar.hu>

> Actually, if I write the subst rule this way
>
> INSTALL_FILES_OS := $(subst "/","\",$(INSTALL_FILES))
>
> it works using INSTALL_FILES_OS inside the OS/2 section of instsh.mk

The answer is simple: This $(subst) simply does nothing and
makes INSTALL_FILES_OS equal to INSTALL_FILES. It would try to
replace '"/"' substrings with '"\"', but it won't find any.

Brgds,
Viktor

From vagucs at bol.com.br  Sat Aug 22 09:24:08 2009
From: vagucs at bol.com.br (Wagner Nunes da Silva)
Date: Sat Aug 22 09:26:20 2009
Subject: [Harbour] Re: Harbour Digest, Vol 34, Issue 126
References: <20090822120211.25A967000098@selva4.bol.com.br>
Message-ID: <003b01ca232c$1da58380$05fea8c0@core2>

Harbour and GTWVT not working with Pellesc 5.01 in pocket pc?

Wagner Nunes
www.vagucs.com.br
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090822/ccf999cd/attachment.html
From harbour.01 at syenar.hu  Sat Aug 22 09:31:41 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 09:31:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12262] trunk/harbour
In-Reply-To: <4A8FEE73.8030700@libero.it>
References: <E1Meq4f-0006QS-FR@3kljzd1.ch3.sourceforge.com>
	<4A8FEE73.8030700@libero.it>
Message-ID: <01A49A57-D269-4E0B-BE93-AAAADF97A06C@syenar.hu>

> If I use INSTALL_DIR_OS, there is no problem, problems come from
> INSTALL_FILES_OS where it seems there are double backslashes and/or  
> mixed
> slashes: see the output
>
> (E:\REPOSITORY\HARBOUR)make install
> ! MAKE: make 3.81 install  D:\OS2\CMD.EXE
> ! HB_BIN_INSTALL: e:\harbour\bin
> ! HB_LIB_INSTALL: e:\harbour\lib
> ! HB_INC_INSTALL: e:\harbour\include
> ! HB_HOST_ARCH: os2 (x86)  HB_SHELL: os2
> ! HB_ARCHITECTURE: os2 (x86)
> ! HB_COMPILER: gcc
> ! HB_INSTALL_PREFIX automatically set to: E:\repository\harbour
> make[2]: Nothing to be done for `install'.
> make[3]: `../../../../../lib/os2/gcc/hbcommon.a' is up to date.
> os2-cp: cannot create regular file `e:\\harbour\\lib/..\\..\\lib\ 
> \os2\\gcc\\hbco
> mmon.a': No such file or directory
> make[2]: [install] Error 1 (ignored)
> make[3]: `../../../../../lib/os2/gcc/hbnortl.a' is up to date.
> os2-cp: cannot create regular file `e:\\harbour\\lib/..\\..\\lib\ 
> \os2\\gcc\\hbno
> rtl.a': No such file or directory
> make[2]: [install] Error 1 (ignored)
> make[3]: `../../../../../lib/os2/gcc/hbpp.a' is up to date.
> os2-cp: cannot create regular file `e:\\harbour\\bin/..\\..\\bin\ 
> \os2\\gcc\\hbpp
> .exe': No such file or directory
> make[2]: [install] Error 1 (ignored)
> os2-cp: cannot create regular file `e:\\harbour\\lib/..\\..\\lib\ 
> \os2\\gcc\\hbpp
> .a': No such file or directory
> make[2]: [install] Error 1 (ignored)
>
>
> as if the subst command of make is making something wrong.

The double backslashes appear in os2-cp *output*, but I bet in
any number of beers that it's single backslash on the cmdline
input. Very easy to verify if you delete '@' prefix from $(CP)
line. If this is so, the double backslashes are probably the
result of os2-cp converting the input to its internal escaped
format, where single \ becomes \\. Actually this is an easy bet
as I've just found cp command echos from one of your attempts
today:

CMD: cp ..\..\lib\os2\gcc\hbcommon.a e:\harbour\lib
OUT: cp: cannot create regular file `e:\\harbour\\lib/..\\..\\lib\\os2\ 
\gcc\\hbcommon

What seems to happen here is that os2-cp appends a forward
slash to target path, then considers the whole source path
as the filename part since it doesn't interpret backslashes
as dirseps, then it appends this "filename" to the target
dir. And we have the error.

So we can conclude os2-cp requires forward slashes.

Now what's left to understand is why these OS/2 GNU tools
have such inconsistent dirsep requirements.

> Just as a note, I don't care which way are the used slashes :)

Don't get me wrong, me neither, I'd just like to know what we're
doing, to avoid future mistakes.

Brgds,
Viktor

From maurilio.longo at libero.it  Sat Aug 22 09:37:18 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Sat Aug 22 09:37:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <7FDDDFE7-84E4-44C6-9925-69CEE5374629@syenar.hu>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>	<4A8FAB7C.4020800@libero.it>	<E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>	<4A8FB9EE.1020600@libero.it>
	<7FDDDFE7-84E4-44C6-9925-69CEE5374629@syenar.hu>
Message-ID: <4A8FF48E.1080000@libero.it>

Viktor Szak?ts wrote:
> 
> 1) Passing DYNDIRLIST_BASE to lower level make instance
> 2) the dynlib creation rules.
> 
> To rule out 1), you may try moving DYNDIRLIST_BASE assignment
> lines from source/Makefile to source/dynlib/Makefile. If that
> works we still need to solve passing these values to mt/Makefile,
> which means they'll need to be copied to some global .mk file
> and included.
> 

Same error

> 2) needs some tweaking, but it's very difficult to suggest
> anything. I don't understand why it doesn't work now.
> 

It is passing something to a new shell, as you can see

make[3]: spawnvpe: environment space might be exhausted
make[3]: execvp: D:\OS2\CMD.EXE: Invalid argument
make[3]: spawn: Invalid argument
make[2]: *** [descend] Error 2
make[1]: *** [dynlib] Error 2
make: *** [source] Error 2

it called spawn, which passed something to a new cmd.exe which refused it as
'invalid argument'.

Maybe the 'environment space may be exhausted' is bogus! Is it possibile to
print out the command that gets passed to the new instance of cmd.exe?

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Sat Aug 22 09:46:19 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Sat Aug 22 09:46:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12262] trunk/harbour
In-Reply-To: <01A49A57-D269-4E0B-BE93-AAAADF97A06C@syenar.hu>
References: <E1Meq4f-0006QS-FR@3kljzd1.ch3.sourceforge.com>	<4A8FEE73.8030700@libero.it>
	<01A49A57-D269-4E0B-BE93-AAAADF97A06C@syenar.hu>
Message-ID: <4A8FF6AB.7010003@libero.it>

Viktor Szak?ts wrote:
> Now what's left to understand is why these OS/2 GNU tools
> have such inconsistent dirsep requirements.
> 

Porting of low quality, I'd say.

Best regards.

Maurilio.



-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Sat Aug 22 09:52:01 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 09:52:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <4A8FF48E.1080000@libero.it>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>	<4A8FAB7C.4020800@libero.it>	<E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>	<4A8FB9EE.1020600@libero.it>
	<7FDDDFE7-84E4-44C6-9925-69CEE5374629@syenar.hu>
	<4A8FF48E.1080000@libero.it>
Message-ID: <E7EDE37B-7D99-4CAC-8C4E-196EAC2CD527@syenar.hu>

>> 1) Passing DYNDIRLIST_BASE to lower level make instance
>> 2) the dynlib creation rules.
>>
>> To rule out 1), you may try moving DYNDIRLIST_BASE assignment
>> lines from source/Makefile to source/dynlib/Makefile. If that
>> works we still need to solve passing these values to mt/Makefile,
>> which means they'll need to be copied to some global .mk file
>> and included.
>>
>
> Same error

Okay this is good news.

>> 2) needs some tweaking, but it's very difficult to suggest
>> anything. I don't understand why it doesn't work now.
>>
>
> It is passing something to a new shell, as you can see
>
> make[3]: spawnvpe: environment space might be exhausted
> make[3]: execvp: D:\OS2\CMD.EXE: Invalid argument
> make[3]: spawn: Invalid argument
> make[2]: *** [descend] Error 2
> make[1]: *** [dynlib] Error 2
> make: *** [source] Error 2
>
> it called spawn, which passed something to a new cmd.exe which  
> refused it as
> 'invalid argument'.
>
> Maybe the 'environment space may be exhausted' is bogus! Is it  
> possibile to
> print out the command that gets passed to the new instance of cmd.exe?

Try 'os2-make -debug=j' or 'os2-make -d'

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Aug 22 10:24:29 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 10:24:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12264] trunk/harbour
Message-ID: <E1MerW9-0007Mj-8i@dn4whf1.ch3.sourceforge.com>

Revision: 12264
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12264&view=rev
Author:   vszakats
Date:     2009-08-22 14:24:26 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 16:22 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/pp/Makefile
    ! Fixed case when OBJ_DYN_POSTFIX was empty (all platforms
      except win/wce non-gcc family) and hbpp object was deleted
      twice, the second one resulting in error message.
    ! Deleted ineffective hack to add an empty line after pptable
      rules. I turned out the behavior I was trying to fix with this
      is totally random.

  * source/pp/hbpp.c
    ! Disabled content when built in HB_DYNLIB. This file should
      never go into a the Harbour dynamic library.
      Of course we already have the object deletion trick, but,
      at least on bcc it doesn't work reliably. After chasing this
      for half a day it turns out bcc build with mingw32-make 3.81
      has some sort of random behvior and sometimes hbpp_dyn.obj is
      deleted, sometimes not. Also 'rm hbpp.obj' either appears at
      the end of the make process, or not, I don't know if there is
      any realtion between the two. Maybe we're exploiting some
      make bugs with bcc rules, I don't know.
      So this patch will make bcc dynamic lib creation reliable.

  * config/global.mk
    * Comments.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/source/pp/Makefile
    trunk/harbour/source/pp/hbpp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug 22 10:27:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 10:27:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12265] trunk/harbour
Message-ID: <E1MerYn-0007Ri-BD@dn4whf1.ch3.sourceforge.com>

Revision: 12265
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12265&view=rev
Author:   vszakats
Date:     2009-08-22 14:27:09 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 16:26 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/pp/Makefile
    % Deleted rule to delete hbpp_dyn object. No longer necessary 
      after patching hbpp.c. Just left there in prev commit to 
      have this line fixed.
    ! Deleted comment which became irrelevant after prev commit, 
      but forgot to remove it.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/pp/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Sat Aug 22 10:31:21 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Sat Aug 22 10:31:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <E7EDE37B-7D99-4CAC-8C4E-196EAC2CD527@syenar.hu>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>	<4A8FAB7C.4020800@libero.it>	<E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>	<4A8FB9EE.1020600@libero.it>	<7FDDDFE7-84E4-44C6-9925-69CEE5374629@syenar.hu>	<4A8FF48E.1080000@libero.it>
	<E7EDE37B-7D99-4CAC-8C4E-196EAC2CD527@syenar.hu>
Message-ID: <4A900139.7000205@libero.it>

Viktor,

> 
> Try 'os2-make -debug=j' or 'os2-make -d'
> 

make --dry-run makes it

anyway, it is the same issue, this piece of config/os2/gcc.mk

# NOTE: The empty line directly before 'endef' HAVE TO exist!
define dyn_object
   $(COMSPEC) /C @$(ECHO) $(ECHOQUOTE)INPUT($(subst \,/,$(file)))$(ECHOQUOTE)
>> __dyn__.tmp

endef

define create_dynlib
   $(if $(wildcard __dyn__.tmp),@$(RM) __dyn__.tmp,)
   $(foreach file,$^,$(dyn_object))
   $(DY) $(DFLAGS) $(HB_USER_DFLAGS) $(DY_OUT)$(DYN_DIR)/$@ __dyn__.tmp
$(DLIBS) -Wl,--output-def,$(DYN_DIR)/$(basename $@).def,--out-implib,$(IMP_FILE)
endef

DY_RULE = $(create_dynlib)

#DY_RULE = $(foreach file,$^,$(dyn_object))

Works if I add $(COMSPEC) and I use the commented out DY_RULE, at least it
says that  this is not supported on OS/2 but give no error anymore

I think that each define becomes a single big command that it tries to execute
calling cmd.exe which fails because the command is too big and/or not correct.

I don't know, though, how to split the create_dynlib to call a new cmd.exe for
each line it has to handle.

Maurilio.


> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Sat Aug 22 10:55:44 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 10:55:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12266] trunk/harbour
Message-ID: <E1Mes0O-0003hV-To@c3vjzd1.ch3.sourceforge.com>

Revision: 12266
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12266&view=rev
Author:   vszakats
Date:     2009-08-22 14:55:34 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 16:54 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/rules.mk
  * config/dyn.mk
    % Cleaned the way dynamic lib creation logic is activated.
      Now there is no slowdown on targets where dynamic lib
      isn't available (or implemented).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dyn.mk
    trunk/harbour/config/rules.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Aug 22 11:27:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 11:27:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <4A900139.7000205@libero.it>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>	<4A8FAB7C.4020800@libero.it>	<E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>	<4A8FB9EE.1020600@libero.it>	<7FDDDFE7-84E4-44C6-9925-69CEE5374629@syenar.hu>	<4A8FF48E.1080000@libero.it>
	<E7EDE37B-7D99-4CAC-8C4E-196EAC2CD527@syenar.hu>
	<4A900139.7000205@libero.it>
Message-ID: <B9FA2A50-B6F9-4919-8FDC-116330E3BF80@syenar.hu>

> make --dry-run makes it
>
> anyway, it is the same issue, this piece of config/os2/gcc.mk
>
> # NOTE: The empty line directly before 'endef' HAVE TO exist!
> define dyn_object
>   $(COMSPEC) /C @$(ECHO) $(ECHOQUOTE)INPUT($(subst \,/,$(file)))$ 
> (ECHOQUOTE)
>>> __dyn__.tmp
>
> endef
>
> define create_dynlib
>   $(if $(wildcard __dyn__.tmp),@$(RM) __dyn__.tmp,)
>   $(foreach file,$^,$(dyn_object))
>   $(DY) $(DFLAGS) $(HB_USER_DFLAGS) $(DY_OUT)$(DYN_DIR)/$@ __dyn__.tmp
> $(DLIBS) -Wl,--output-def,$(DYN_DIR)/$(basename $@).def,--out-implib, 
> $(IMP_FILE)
> endef
>
> DY_RULE = $(create_dynlib)
>
> #DY_RULE = $(foreach file,$^,$(dyn_object))
>
> Works if I add $(COMSPEC) and I use the commented out DY_RULE, at  
> least it
> says that  this is not supported on OS/2 but give no error anymore

I don't have any suggestion yet, but here is a small test Makefile,
which makes it easy to experiment:

--- Makefile
LIST := a b c d e f g h i j k l m n o p q r s t u v w x y z

define dyn_object
    @echo START_dyn_object
    @echo INPUT($(file)) >> __dyn__.tmp
    @echo END_dyn_object

endef

define create_dynlib
    @echo START_create_dynlib
    del __dyn__.tmp
    $(foreach file,$(LIST),$(dyn_object))
    @echo END_create_dynlib
endef

DY_RULE = $(create_dynlib)

all:
	$(DY_RULE)
---

Run with 'make'.

Brgds,
Viktor

From maurilio.longo at libero.it  Sat Aug 22 11:46:36 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Sat Aug 22 11:46:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <B9FA2A50-B6F9-4919-8FDC-116330E3BF80@syenar.hu>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>	<4A8FAB7C.4020800@libero.it>	<E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>	<4A8FB9EE.1020600@libero.it>	<7FDDDFE7-84E4-44C6-9925-69CEE5374629@syenar.hu>	<4A8FF48E.1080000@libero.it>	<E7EDE37B-7D99-4CAC-8C4E-196EAC2CD527@syenar.hu>	<4A900139.7000205@libero.it>
	<B9FA2A50-B6F9-4919-8FDC-116330E3BF80@syenar.hu>
Message-ID: <4A9012DC.4020806@libero.it>

Here we go:

(E:\harbour\make)make
make: *** [all] Segmentation fault (core dumped)

or

SYS0008: There is not enough memory available to process this command.
All available memory is in use.
make: *** wait: Interrupted system call.  Stop.
make: *** Waiting for unfinished jobs....
make: *** wait: Interrupted system call.  Stop.

And this one with a complete freeze of the shell.


It works for lists which end at the 'k' letter, though...

Maurilio.



-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From qiinfo at ig.com.br  Sat Aug 22 11:47:09 2009
From: qiinfo at ig.com.br (Rossine)
Date: Sat Aug 22 11:47:15 2009
Subject: [Harbour] Error with 12244 and msvc
In-Reply-To: <6A113684-DCFC-41CC-BDF2-76D617B8122F@syenar.hu>
References: <25085952.post@talk.nabble.com>
	<E76502EC-DB9F-443F-ABE3-A8C0C6A194AE@syenar.hu>
	<25087378.post@talk.nabble.com>
	<6A113684-DCFC-41CC-BDF2-76D617B8122F@syenar.hu>
Message-ID: <25094921.post@talk.nabble.com>


Hi Viktor,


Viktor Szak?ts wrote:
> 
> Do you have something called rm.exe in your PATH?
> 

No i not call rm.exe

See that are only  <hbcommon lib> and <hbnortl.lib> generated

[COMP]
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Foreserved_dyn.obj -DHB_DYNLIB
-c ../../../reserved.c
reserved.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fostrwild.obj -c
../../../strwild.c
strwild.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fostrwild_dyn.obj -DHB_DYNLIB
-c ../../../strwild.c
strwild.c
lib.exe   /nologo /out:../../../../../lib/win/msvc/hbcommon.lib expropt1.obj
expropt2.obj hbffind.obj hbfopen.obj hbfsapi.obj hbgete.obj hbwince.obj
hbhash.obj hbprintf.obj hbstr.obj hbdate.obj hbmem.obj hbtrace.obj hbver.obj
hbverdsp.obj hbarch.obj reserved.obj strwild.obj || del /q /f
../../../../../lib/win/msvc/hbcommon.lib
        1 arquivo(s) copiado(s).
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fonortl.obj -c
../../../nortl.c
nortl.c
lib.exe   /nologo /out:../../../../../lib/win/msvc/hbnortl.lib nortl.obj ||
del /q /f ../../../../../lib/win/msvc/hbnortl.lib
        1 arquivo(s) copiado(s).
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbpp.obj -c ../../../hbpp.c
hbpp.c
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbpp_dyn.obj -DHB_DYNLIB -c
../../../hbpp.c
hbpp.c
link.exe  /out:..\..\..\..\..\bin\win\msvc\hbpp.exe hbpp.obj  /nologo
/libpath:../../../../../lib/win/msvc  hbcommon.lib hbnortl.lib kernel32.lib
user32.lib ws2_32.lib advapi32.lib gdi32.lib
rm hbpp.obj


C:\harbour>\bin\mingw32-make.exe CLEAN INSTALL  1>msvc.txt
process_begin: CreateProcess(C:\bin\link.exe, link.exe
/out:..\..\..\..\..\bin\w
in\msvc\hbpp.exe hbpp.obj /nologo /libpath:../../../../../lib/win/msvc
hbcommon.
lib hbnortl.lib kernel32.lib user32.lib ws2_32.lib advapi32.lib gdi32.lib,
...)
failed.
make (e=87): Par?metro incorreto.
mingw32-make[3]: *** [hbpp.exe] Error 87
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [pp.inst] Error 2
mingw32-make: *** [source.inst] Error 2

[ENDCOMP]

[MYDIR]

 Pasta de C:\hrb_msvc\lib

..            <DIR>             21/08/2009  16:17
.             <DIR>             21/08/2009  16:17
hbcommon lib            222.454 22/08/2009  11:22
hbnortl  lib              9.938 22/08/2009  11:22
               2 arquivo(s)        232.392 bytes

[ENDMYDIR]

Best Regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/Error-with-12244-and-msvc-tp25085952p25094921.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Aug 22 12:02:46 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 12:02:59 2009
Subject: [Harbour] Error with 12244 and msvc
In-Reply-To: <25094921.post@talk.nabble.com>
References: <25085952.post@talk.nabble.com>
	<E76502EC-DB9F-443F-ABE3-A8C0C6A194AE@syenar.hu>
	<25087378.post@talk.nabble.com>
	<6A113684-DCFC-41CC-BDF2-76D617B8122F@syenar.hu>
	<25094921.post@talk.nabble.com>
Message-ID: <D1A8F82F-2DBC-4DF5-BF96-77520B478223@syenar.hu>

Hi Rossine,

My rm tip was wrong, since I found out. But wasn't a relevant
issue anyway. 'rm hbpp.obj' is the result of internal GNU
Make logic, shouldn't make any difference as far as I could
understand.

Which MSVC version is this? link.exe in C:\bin\ looks
suspiciously some old version.

For sure MSVC builds work here, so my guess is that there is
something local to your environment. I suggest to try with a
fresh source tree with latest SVN and to verify your compiler
tool setup. Try with MSVC 2005 or 2008.

Brgds,
Viktor

On 2009.08.22., at 5:47, Rossine wrote:

>
> Hi Viktor,
>
>
> Viktor Szak?ts wrote:
>>
>> Do you have something called rm.exe in your PATH?
>>
>
> No i not call rm.exe
>
> See that are only  <hbcommon lib> and <hbnortl.lib> generated
>
> [COMP]
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Foreserved_dyn.obj - 
> DHB_DYNLIB
> -c ../../../reserved.c
> reserved.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fostrwild.obj -c
> ../../../strwild.c
> strwild.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fostrwild_dyn.obj - 
> DHB_DYNLIB
> -c ../../../strwild.c
> strwild.c
> lib.exe   /nologo /out:../../../../../lib/win/msvc/hbcommon.lib  
> expropt1.obj
> expropt2.obj hbffind.obj hbfopen.obj hbfsapi.obj hbgete.obj  
> hbwince.obj
> hbhash.obj hbprintf.obj hbstr.obj hbdate.obj hbmem.obj hbtrace.obj  
> hbver.obj
> hbverdsp.obj hbarch.obj reserved.obj strwild.obj || del /q /f
> ../../../../../lib/win/msvc/hbcommon.lib
>        1 arquivo(s) copiado(s).
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fonortl.obj -c
> ../../../nortl.c
> nortl.c
> lib.exe   /nologo /out:../../../../../lib/win/msvc/hbnortl.lib  
> nortl.obj ||
> del /q /f ../../../../../lib/win/msvc/hbnortl.lib
>        1 arquivo(s) copiado(s).
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbpp.obj -c ../../../ 
> hbpp.c
> hbpp.c
> cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 - 
> Ot2b1
> -EHs-c- -MT   -DHB_GC_AUTO -DHB_FM_STATISTIC -Fohbpp_dyn.obj - 
> DHB_DYNLIB -c
> ../../../hbpp.c
> hbpp.c
> link.exe  /out:..\..\..\..\..\bin\win\msvc\hbpp.exe hbpp.obj  /nologo
> /libpath:../../../../../lib/win/msvc  hbcommon.lib hbnortl.lib  
> kernel32.lib
> user32.lib ws2_32.lib advapi32.lib gdi32.lib
> rm hbpp.obj
>
>
> C:\harbour>\bin\mingw32-make.exe CLEAN INSTALL  1>msvc.txt
> process_begin: CreateProcess(C:\bin\link.exe, link.exe
> /out:..\..\..\..\..\bin\w
> in\msvc\hbpp.exe hbpp.obj /nologo /libpath:../../../../../lib/win/msvc
> hbcommon.
> lib hbnortl.lib kernel32.lib user32.lib ws2_32.lib advapi32.lib  
> gdi32.lib,
> ...)
> failed.
> make (e=87): Par?metro incorreto.
> mingw32-make[3]: *** [hbpp.exe] Error 87
> mingw32-make[2]: *** [descend] Error 2
> mingw32-make[1]: *** [pp.inst] Error 2
> mingw32-make: *** [source.inst] Error 2
>
> [ENDCOMP]
>
> [MYDIR]
>
> Pasta de C:\hrb_msvc\lib
>
> ..            <DIR>             21/08/2009  16:17
> .             <DIR>             21/08/2009  16:17
> hbcommon lib            222.454 22/08/2009  11:22
> hbnortl  lib              9.938 22/08/2009  11:22
>               2 arquivo(s)        232.392 bytes
>
> [ENDMYDIR]
>
> Best Regards,
>
> Rossine.
>
> -- 
> View this message in context: http://www.nabble.com/Error-with-12244-and-msvc-tp25085952p25094921.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Aug 22 12:32:10 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 12:32:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <4A9012DC.4020806@libero.it>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>	<4A8FAB7C.4020800@libero.it>	<E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>	<4A8FB9EE.1020600@libero.it>	<7FDDDFE7-84E4-44C6-9925-69CEE5374629@syenar.hu>	<4A8FF48E.1080000@libero.it>	<E7EDE37B-7D99-4CAC-8C4E-196EAC2CD527@syenar.hu>	<4A900139.7000205@libero.it>
	<B9FA2A50-B6F9-4919-8FDC-116330E3BF80@syenar.hu>
	<4A9012DC.4020806@libero.it>
Message-ID: <BDD73FF0-2CF2-4532-8735-CDD230A08A2D@syenar.hu>

Hi Maurilio,

One idea to try, after I did some test on MS-DOS.
(there it run, but __dyn__.tmp was left empty at the end)

Try using echo.exe from GNU tools. This may force calling
an external process for each iteration. Rename echo.exe
to os2-echo.exe and replace echo with os2-echo in Makefile.

This fixed it for MS-DOS.

Brgds,
Viktor

On 2009.08.22., at 5:46, Maurilio Longo wrote:

> Here we go:
>
> (E:\harbour\make)make
> make: *** [all] Segmentation fault (core dumped)
>
> or
>
> SYS0008: There is not enough memory available to process this command.
> All available memory is in use.
> make: *** wait: Interrupted system call.  Stop.
> make: *** Waiting for unfinished jobs....
> make: *** wait: Interrupted system call.  Stop.
>
> And this one with a complete freeze of the shell.
>
>
> It works for lists which end at the 'k' letter, though...
>
> Maurilio.
>
>
>
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
>
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From kadziola at tlen.pl  Sat Aug 22 12:46:39 2009
From: kadziola at tlen.pl (=?utf-8?B?SmFyb3PFgmF3IEvEhWR6aW/FgmE=?=)
Date: Sat Aug 22 12:45:25 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <20090821134502.GA1678@uran.home.aster.pl>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
	<14464984.20090821152825@tlen.pl>
	<20090821134502.GA1678@uran.home.aster.pl>
Message-ID: <11010132970.20090822184639@tlen.pl>

Hi,

> BTW have you made some tests with different fonts for console window
> in WinCE?
> I forgot to tell you about one important switch.
>    hb_gtInfo( HB_GTI_RESIZEMODE, HB_GTI_RESIZEMODE_ROWS )
> disables automatic font resizing to screen dimensions.

I've use modificated wcecon.prg from harbour/tests :

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
#include "hbgtinfo.ch"
proc main()
   altd()
   REQUEST HB_CODEPAGE_PL852
   cls
   hb_setCodePage( "PL852" )
   hb_setTermCP( "PL852" )   
   hb_gtInfo( HB_GTI_RESIZEMODE, HB_GTI_RESIZEMODE_ROWS )
   SetMode(40,25)
   For  i = 6 To 18
    hb_gtInfo( HB_GTI_FONTSIZE, i )   
    ? "Fontsize"
    ? Str(i) + "Test : abcdefgh ABCDEFGH" 
    ? "Test : ????????? ?????????" // polish characters like in attachment
    ? "rows =", ltrim( str( maxrow() + 1 ) )
    ? "cols =", ltrim( str( maxcol() + 1 ) )
    inkey( 0 )
    clear
   Next 
   Quit
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

1.I don't see any difference between each size from 6 to 18 (see
attachment).
2.App's window is not on 'full screen'
3.Windows Keyboard is visible on bottom of screen
4.In string "Test : abcdefgh ABCDEFGH" char 'H' is cut
5.Not exists any kerning

-- 
Regards,
Jaroslaw Ksdziola

-------------- next part --------------
A non-text attachment was scrubbed...
Name: iw20090822_01.jpg
Type: image/jpeg
Size: 11186 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090822/b9ee0043/iw20090822_01.jpg
From qiinfo at ig.com.br  Sat Aug 22 15:03:52 2009
From: qiinfo at ig.com.br (Rossine)
Date: Sat Aug 22 15:03:57 2009
Subject: [Harbour] Error with 12244 and msvc
In-Reply-To: <D1A8F82F-2DBC-4DF5-BF96-77520B478223@syenar.hu>
References: <25085952.post@talk.nabble.com>
	<E76502EC-DB9F-443F-ABE3-A8C0C6A194AE@syenar.hu>
	<25087378.post@talk.nabble.com>
	<6A113684-DCFC-41CC-BDF2-76D617B8122F@syenar.hu>
	<25094921.post@talk.nabble.com>
	<D1A8F82F-2DBC-4DF5-BF96-77520B478223@syenar.hu>
Message-ID: <25096770.post@talk.nabble.com>


Hellho Viktor, 


Viktor Szak?ts wrote:
> 
> Which MSVC version is this? link.exe ....
> 

Yes you are right, link.exe was an older version. Now it works fine 

Sorry for my fault. :-) 

Thank you very much, 

Rossine.
-- 
View this message in context: http://www.nabble.com/Error-with-12244-and-msvc-tp25085952p25096770.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From fernando_athayde at yahoo.com.br  Sat Aug 22 16:03:25 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Sat Aug 22 16:03:30 2009
Subject: [Harbour] msvc and hbqt
Message-ID: <193525.83240.qm@web52207.mail.re2.yahoo.com>

using MSCV 2008
arch win

E:\harbour_vc\lib\win\msvc>\harbour_cvs\bin\hb-mkimp
! Making import libs...
Microsoft (R) Library Manager Version 9.00.30729.01
Copyright (C) Microsoft Corporation.  All rights reserved.

_temp.def(1) : warning LNK4093: Drive/Directory component ignored in 'LIBRARY' statement
   Creating library E:\harbour_vc\lib\win\msvc\QtCore4.lib and object E:\harbour_vc\lib\win\msvc\QtCore4.exp
Microsoft (R) Library Manager Version 9.00.30729.01
Copyright (C) Microsoft Corporation.  All rights reserved.

_temp.def(1) : warning LNK4093: Drive/Directory component ignored in 'LIBRARY' statement
   Creating library E:\harbour_vc\lib\win\msvc\QtGui4.lib and object E:\harbour_vc\lib\win\msvc\QtGui4.exp
Microsoft (R) Library Manager Version 9.00.30729.01
Copyright (C) Microsoft Corporation.  All rights reserved.

_temp.def(1) : warning LNK4093: Drive/Directory component ignored in 'LIBRARY' statement
   Creating library E:\harbour_vc\lib\win\msvc\QtNetwork4.lib and object E:\harbour_vc\lib\win\msvc\QtNetwork4.exp
Microsoft (R) Library Manager Version 9.00.30729.01
Copyright (C) Microsoft Corporation.  All rights reserved.

_temp.def(1) : warning LNK4093: Drive/Directory component ignored in 'LIBRARY' statement
   Creating library E:\harbour_vc\lib\win\msvc\QtWebKit4.lib and object E:\harbour_vc\lib\win\msvc\QtWebKit4.exp

but made the libs normally
22/08/2009  16:58           580.276 QtCore4.exp
22/08/2009  16:58           964.084 QtCore4.lib
22/08/2009  16:58         2.222.276 QtGui4.exp
22/08/2009  16:58         3.679.466 QtGui4.lib
22/08/2009  16:58           180.720 QtNetwork4.exp
22/08/2009  16:58           303.422 QtNetwork4.lib
22/08/2009  16:58            69.114 QtWebKit4.exp
22/08/2009  16:58           115.964 QtWebKit4.lib

by de way, I don't had success in compile demoxbp
E:\harbour_vc\contrib\hbxbp\tests>hbmk2 demoxbp.prg
hbmk: Processando script local: hbmk.hbm

hbmk: Processando arquivo de configura??o: e:\harbour_vc\bin\hbmk.cfg

Harbour 2.0.0beta2 (Rev. 12245)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'demoxbp.prg'...
demoxbp.prg(551) Warning W0004  Codeblock parameter 'MP2' declared but not used
in function 'BUILD_CHECKBOX'
demoxbp.prg(551) Warning W0004  Codeblock parameter 'OCHK' declared but not used
 in function 'BUILD_CHECKBOX'
demoxbp.prg(562) Warning W0004  Codeblock parameter 'MP1' declared but not used
in function 'BUILD_CHECKBOX'
demoxbp.prg(562) Warning W0004  Codeblock parameter 'MP2' declared but not used
in function 'BUILD_CHECKBOX'
demoxbp.prg(577) Warning W0004  Codeblock parameter 'MP2' declared but not used
in function 'BUILD_3STATE'
demoxbp.prg(577) Warning W0004  Codeblock parameter 'OBTN' declared but not used
 in function 'BUILD_3STATE'
demoxbp.prg(585) Warning W0004  Codeblock parameter 'MP1' declared but not used
in function 'BUILD_3STATE'
demoxbp.prg(585) Warning W0004  Codeblock parameter 'MP2' declared but not used
in function 'BUILD_3STATE'
demoxbp.prg(595) Warning W0004  Codeblock parameter 'MP1' declared but not used
in function 'BUILD_RADIOBUTTON'
demoxbp.prg(595) Warning W0004  Codeblock parameter 'MP2' declared but not used
in function 'BUILD_RADIOBUTTON'
demoxbp.prg(644) Warning W0004  Codeblock parameter 'OBJ' declared but not used
in function 'BUILD_LISTBOX'
demoxbp.prg(674) Warning W0004  Codeblock parameter 'MP1' declared but not used
in function 'BUILD_COMBOBOX'
demoxbp.prg(674) Warning W0004  Codeblock parameter 'MP2' declared but not used
in function 'BUILD_COMBOBOX'
demoxbp.prg(680) Warning W0004  Codeblock parameter 'MP1' declared but not used
in function 'BUILD_COMBOBOX'
demoxbp.prg(680) Warning W0004  Codeblock parameter 'MP2' declared but not used
in function 'BUILD_COMBOBOX'
demoxbp.prg(743) Warning W0004  Codeblock parameter 'X' declared but not used in
 function 'BUILD_SLES'
demoxbp.prg(743) Warning W0004  Codeblock parameter 'Y' declared but not used in
 function 'BUILD_SLES'
demoxbp.prg(803) Warning W0004  Codeblock parameter 'MP1' declared but not used
in function 'BUILD_SPINBUTTONS'
demoxbp.prg(803) Warning W0004  Codeblock parameter 'MP2' declared but not used
in function 'BUILD_SPINBUTTONS'
demoxbp.prg(817) Warning W0004  Codeblock parameter 'MP1' declared but not used
in function 'BUILD_SPINBUTTONS'
demoxbp.prg(817) Warning W0004  Codeblock parameter 'MP2' declared but not used
in function 'BUILD_SPINBUTTONS'
demoxbp.prg(858) Warning W0004  Codeblock parameter 'ARECT' declared but not use
d in function 'BUILD_TREEVIEW'
demoxbp.prg(858) Warning W0004  Codeblock parameter 'OSELF' declared but not use
d in function 'BUILD_TREEVIEW'
demoxbp.prg(926) Warning W0004  Codeblock parameter 'I' declared but not used in
 function 'WASTRUCT'
demoxbp.prg(1206) Warning W0032  Variable 'ORECT' is assigned but not used in fu
nction 'BUILD_STATICS(1043)'
demoxbp.prg(1222) Warning W0004  Codeblock parameter 'E' declared but not used i
n function 'BUILD_HTMLVIEWER'
demoxbp.prg(1240) Warning W0004  Codeblock parameter 'E' declared but not used i
n function 'BUILD_FILEDIALOG'
Lines 3314, Functions/Procedures 48
Generating C source output to 'demoxbp.c'... Done.
demoxbp.c
hbmk_k5xqkm.c
Generating Code...
hbqt.lib(QModelIndex.obj) : error LNK2019: unresolved external symbol "__declspe
c(dllimport) public: class QModelIndex __thiscall QModelIndex::child(int,int)con
st " (__imp_?child@QModelIndex@@QBE?AV1@HH@Z) referenced in function _HB_FUN_QT_
QMODELINDEX_CHILD
hbqt.lib(QModelIndex.obj) : error LNK2019: unresolved external symbol "__declspe
c(dllimport) public: class QVariant __thiscall QModelIndex::data(int)const " (__
imp_?data@QModelIndex@@QBE?AVQVariant@@H@Z) referenced in function _HB_FUN_QT_QM
ODELINDEX_DATA
hbqt.lib(QModelIndex.obj) : error LNK2019: unresolved external symbol "__declspe
c(dllimport) public: class QModelIndex __thiscall QModelIndex::parent(void)const
 " (__imp_?parent@QModelIndex@@QBE?AV1@XZ) referenced in function _HB_FUN_QT_QMO
DELINDEX_PARENT
hbqt.lib(QModelIndex.obj) : error LNK2019: unresolved external symbol "__declspe
c(dllimport) public: class QModelIndex __thiscall QModelIndex::sibling(int,int)c
onst " (__imp_?sibling@QModelIndex@@QBE?AV1@HH@Z) referenced in function _HB_FUN
_QT_QMODELINDEX_SIBLING
hbqt.lib(QModelIndex.obj) : error LNK2019: unresolved external symbol "__declspe
c(dllimport) public: class QFlags<enum Qt::ItemFlag> __thiscall QModelIndex::fla
gs(void)const " (__imp_?flags@QModelIndex@@QBE?AV?$QFlags@W4ItemFlag@Qt@@@@XZ) r
eferenced in function _HB_FUN_QT_QMODELINDEX_FLAGS
hbqt.lib(hbqt_slots.obj) : error LNK2019: unresolved external symbol "__declspec
(dllimport) public: virtual __thiscall QMainWindow::~QMainWindow(void)" (__imp_?
?1QMainWindow@@UAE@XZ) referenced in function "public: virtual __thiscall MyMain
Window::~MyMainWindow(void)" (??1MyMainWindow@@UAE@XZ)
hbqt.lib(QMainWindow.obj) : error LNK2001: unresolved external symbol "__declspe
c(dllimport) public: virtual __thiscall QMainWindow::~QMainWindow(void)" (__imp_
??1QMainWindow@@UAE@XZ)
hbqt.lib(hbqt_slots.obj) : error LNK2019: unresolved external symbol "__declspec
(dllimport) protected: void __thiscall QWidget::destroy(bool,bool)" (__imp_?dest
roy@QWidget@@IAEX_N0@Z) referenced in function "public: virtual __thiscall MyMai
nWindow::~MyMainWindow(void)" (??1MyMainWindow@@UAE@XZ)
hbqt.lib(hbqt_slots.obj) : error LNK2001: unresolved external symbol "protected:
 virtual bool __thiscall QMainWindow::event(class QEvent *)" (?event@QMainWindow
@@MAE_NPAVQEvent@@@Z)
hbqt.lib(QMainWindow.obj) : error LNK2001: unresolved external symbol "protected
: virtual bool __thiscall QMainWindow::event(class QEvent *)" (?event@QMainWindo
w@@MAE_NPAVQEvent@@@Z)
hbqt.lib(QMenu.obj) : error LNK2001: unresolved external symbol "public: virtual
 bool __thiscall QObject::eventFilter(class QObject *,class QEvent *)" (?eventFi
lter@QObject@@UAE_NPAV1@PAVQEvent@@@Z)
hbqt.lib(QEventLoop.obj) : error LNK2001: unresolved external symbol "public: vi
rtual bool __thiscall QObject::eventFilter(class QObject *,class QEvent *)" (?ev
entFilter@QObject@@UAE_NPAV1@PAVQEvent@@@Z)
hbqt.lib(QMainWindow.obj) : error LNK2001: unresolved external symbol "public: v
irtual bool __thiscall QObject::eventFilter(class QObject *,class QEvent *)" (?e
ventFilter@QObject@@UAE_NPAV1@PAVQEvent@@@Z)
hbqt.lib(QTreeView.obj) : error LNK2001: unresolved external symbol "public: vir
tual bool __thiscall QObject::eventFilter(class QObject *,class QEvent *)" (?eve
ntFilter@QObject@@UAE_NPAV1@PAVQEvent@@@Z)
hbqt.lib(QTabWidget.obj) : error LNK2001: unresolved external symbol "public: vi
rtual bool __thiscall QObject::eventFilter(class QObject *,class QEvent *)" (?ev
entFilter@QObject@@UAE_NPAV1@PAVQEvent@@@Z)
hbqt.lib(QStatusBar.obj) : error LNK2001: unresolved external symbol "public: vi
rtual bool __thiscall QObject::eventFilter(class QObject *,class QEvent *)" (?ev
entFilter@QObject@@UAE_NPAV1@PAVQEvent@@@Z)
hbqt.lib(QToolBar.obj) : error LNK2001: unresolved external symbol "public: virt
ual bool __thiscall QObject::eventFilter(class QObject *,class QEvent *)" (?even
tFilter@QObject@@UAE_NPAV1@PAVQEvent@@@Z)
hbqt.lib(QAction.obj) : error LNK2001: unresolved external symbol "public: virtu
al bool __thiscall QObject::eventFilter(class QObject *,class QEvent *)" (?event
Filter@QObject@@UAE_NPAV1@PAVQEvent@@@Z)
hbqt.lib(QStringListModel.obj) : error LNK2001: unresolved external symbol "publ
ic: virtual bool __thiscall QObject::eventFilter(class QObject *,class QEvent *)
" (?eventFilter@QObject@@UAE_NPAV1@PAVQEvent@@@Z)
hbqt.lib(QListView.obj) : error LNK2001: unresolved external symbol "public: vir
tual bool __thiscall QObject::eventFilter(class QObject *,class QEvent *)" (?eve
ntFilter@QObject@@UAE_NPAV1@PAVQEvent@@@Z)
hbqt.lib(QRadioButton.obj) : error LNK2001: unresolved external symbol "public:
virtual bool __thiscall QObject::eventFilter(class QObject *,class QEvent *)" (?
eventFilter@QObject@@UAE_NPAV1@PAVQEvent@@@Z)
hbqt.lib(QCheckBox.obj) : error LNK2001: unresolved external symbol "public: vir
tual bool __thiscall QObject::eventFilter(class QObject *,class QEvent *)" (?eve
ntFilter@QObject@@UAE_NPAV1@PAVQEvent@@@Z)
hbqt.lib(QSpinBox.obj) : error LNK2001: unresolved external symbol "public: virt
ual bool __thiscall QObject::eventFilter(class QObject *,class QEvent *)" (?even
tFilter@QObject@@UAE_NPAV1@PAVQEvent@@@Z)

my bat

set include=E:\Microsoft Visual Studio 9.0\VC\include;e:\harbour_vc\include;C:\Program Files\Microsoft SDKs\Windows\v6.0A\include;\hwguivc\include
set lib=E:\Microsoft Visual Studio 9.0\VC\lib;e:\harbour_vc\lib;C:\Program Files\Microsoft SDKs\Windows\v6.0A\lib;\hwguivc\lib
PATH=E:\Microsoft Visual Studio 9.0\VC\BIN;C:\Program Files\Microsoft SDKs\Windows\v6.0A\bin;e:\harbour_vc\bin;e:\cygwin\bin;%PATH%


set MSCV=e:\Microsoft Visual Studio 9.0\VC
set HB_BIN_COMPILE=E:\harbour_cvs\bin\win\msvc
set HB_LIB_INSTALL=E:\harbour_vc\lib\win\msvc
set HB_BUILD_DLL=yes
SET HB_ARCHITECTURE = win
set HB_COMPILER=msvc
set HB_INSTALL_PREFIX=e:\harbour_vc

SET HB_INC_MYSQL=C:\mysql\include
set HB_INC_QT=C:\Qt\2009.03\qt\include
set HB_DIR_QT=C:\Qt\2009.03\qt

SET HB_PATH=e:\harbour_vc

call "E:\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"

Brgds,
Fernando



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090822/2e5a97a7/attachment.html
From vszakats at users.sourceforge.net  Sat Aug 22 16:04:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 16:04:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12267] trunk/harbour
Message-ID: <E1MewpZ-0008Sb-BM@bj8yhf1.ch3.sourceforge.com>

Revision: 12267
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12267&view=rev
Author:   vszakats
Date:     2009-08-22 20:04:52 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 21:46 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  + config/Makefile
    + Added Makefile to show an error with simple one-liner
      instruction to guide users who want to start provided
      GNU Make executables right in the config dir.
      This is wrong, they should be started in root.
      Anyhow maybe I'll move these make executables to root,
      with these names:
         dos-make.exe
         os2-make.exe
         win-make.exe
      This will avoid above problem, it simply cannot be
      [messed] up anymore. Well, so I imagine.
      These names also won't collide with original names
      of these tools, so users who want to stick with external
      tools, can continue to do so.
      The other option is that I delete them from SVN.

  * config/global.mk
    + Showing warning to user if she's using DOS shell
      (which probably means DOS based GNU Make) on Windows system.
      It should also work for most features, but not recommended
      and there is little reason to do this in production
      environment.

  * contrib/hbqt/Makefile
  * contrib/hbqt/generator/hbqtgen.prg
  + contrib/hbqt/filelist.mk
  - contrib/hbqt/Makefile_gen
    * Renamed Makefile to filelist.mk to stick
      with known short filenames and extensions.

  * INSTALL
    * Minor.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.mk
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg

Added Paths:
-----------
    trunk/harbour/config/Makefile
    trunk/harbour/contrib/hbqt/filelist.mk

Removed Paths:
-------------
    trunk/harbour/contrib/hbqt/Makefile_gen


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug 22 16:13:40 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 16:13:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12268] trunk/harbour
Message-ID: <E1Mewy4-0000CW-Si@bj8yhf1.ch3.sourceforge.com>

Revision: 12268
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12268&view=rev
Author:   vszakats
Date:     2009-08-22 20:13:39 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 22:13 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbxbp/tests/demoxbp.prg
    * Added '#pragma -w1' to suppress warnings.
      Pripal, is there any chance you can clear them? it would
      be a nice showcase as in real apps it's better to stick
      with full warnings on. It would better show the Xbase++
      Parts user code's suitability for real apps. IMO.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fernando_athayde at yahoo.com.br  Sat Aug 22 16:19:52 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Sat Aug 22 16:19:57 2009
Subject: [Harbour] winCe harbour and gui
Message-ID: <92140.57314.qm@web52209.mail.re2.yahoo.com>

what gui functions on winCE with harbour
i try compile hwgui for msvcarm but no success
i need create an application for smartphone, and i wanted made with harbour

Thanks,
Fernando



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090822/3fb33d0c/attachment.html
From harbour.01 at syenar.hu  Sat Aug 22 16:22:09 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 22 16:22:19 2009
Subject: [Harbour] msvc and hbqt
In-Reply-To: <193525.83240.qm@web52207.mail.re2.yahoo.com>
References: <193525.83240.qm@web52207.mail.re2.yahoo.com>
Message-ID: <BC406C80-EE20-4F4E-B310-647F4A3F64A9@syenar.hu>

Hi Fernando,

On 2009.08.22., at 10:03, Fernando Athayde wrote:

> using MSCV 2008
> arch win
>
> E:\harbour_vc\lib\win\msvc>\harbour_cvs\bin\hb-mkimp
> ! Making import libs...
> Microsoft (R) Library Manager Version 9.00.30729.01
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
> _temp.def(1) : warning LNK4093: Drive/Directory component ignored in  
> 'LIBRARY' statement
>    Creating library E:\harbour_vc\lib\win\msvc\QtCore4.lib and  
> object E:\harbour_vc\lib\win\msvc\QtCore4.exp
> Microsoft (R) Library Manager Version 9.00.30729.01
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
> _temp.def(1) : warning LNK4093: Drive/Directory component ignored in  
> 'LIBRARY' statement
>    Creating library E:\harbour_vc\lib\win\msvc\QtGui4.lib and object  
> E:\harbour_vc\lib\win\msvc\QtGui4.exp
> Microsoft (R) Library Manager Version 9.00.30729.01
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
> _temp.def(1) : warning LNK4093: Drive/Directory component ignored in  
> 'LIBRARY' statement
>    Creating library E:\harbour_vc\lib\win\msvc\QtNetwork4.lib and  
> object E:\harbour_vc\lib\win\msvc\QtNetwork4.exp
> Microsoft (R) Library Manager Version 9.00.30729.01
> Copyright (C) Microsoft Corporation.  All rights reserved.
>
> _temp.def(1) : warning LNK4093: Drive/Directory component ignored in  
> 'LIBRARY' statement
>    Creating library E:\harbour_vc\lib\win\msvc\QtWebKit4.lib and  
> object E:\harbour_vc\lib\win\msvc\QtWebKit4.exp

I'll fix these warnings.

> hbqt.lib(QCheckBox.obj) : error LNK2001: unresolved external symbol  
> "public: vir
> tual bool __thiscall QObject::eventFilter(class QObject *,class  
> QEvent *)" (?eve
> ntFilter@QObject@@UAE_NPAV1@PAVQEvent@@@Z)
> hbqt.lib(QSpinBox.obj) : error LNK2001: unresolved external symbol  
> "public: virt
> ual bool __thiscall QObject::eventFilter(class QObject *,class  
> QEvent *)" (?even
> tFilter@QObject@@UAE_NPAV1@PAVQEvent@@@Z)

I never managed to build any Harbour / QT with with MSVC.
Most probably the implib generation is wrong, or there is a
static vs. dynamic mismatch. I don't know in what way though.
Maybe I'll rather remove it.

> set HB_BIN_COMPILE=E:\harbour_cvs\bin\win\msvc
> set HB_LIB_INSTALL=E:\harbour_vc\lib\win\msvc
> set HB_BUILD_DLL=yes
> SET HB_ARCHITECTURE = win
> set HB_COMPILER=msvc
> set HB_INSTALL_PREFIX=e:\harbour_vc

All of the above is unnecessary for Harbour. You can delete them.

> SET HB_PATH=e:\harbour_vc

Also unnecessary for Harbour. Maybe it's needed for other tools,
but not for Harbour. Please delete it.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Aug 22 16:28:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 16:29:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12269] trunk/harbour
Message-ID: <E1MexCs-0000a3-Ac@bj8yhf1.ch3.sourceforge.com>

Revision: 12269
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12269&view=rev
Author:   vszakats
Date:     2009-08-22 20:28:57 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 22:28 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * bin/hb-mkimp.bat
    ! Fixed warning LNK4093 in msvc lib command.
    ! Fixed /machine option in msvc lib command for msvc64 targets.
    % Added /nologo to msvc lib command.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkimp.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug 22 16:33:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 16:34:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12270] trunk/harbour
Message-ID: <E1MexHi-0000hf-QB@bj8yhf1.ch3.sourceforge.com>

Revision: 12270
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12270&view=rev
Author:   vszakats
Date:     2009-08-22 20:33:57 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 22:33 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_slots.cpp
    ! Fixed memorys leak in HbDbfModel::rowCount() and HbDbfModel::columnCount().
      It was shown as "unreachable code" warning.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug 22 16:44:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 16:44:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12271] trunk/harbour
Message-ID: <E1MexRd-0000vK-5d@bj8yhf1.ch3.sourceforge.com>

Revision: 12271
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12271&view=rev
Author:   vszakats
Date:     2009-08-22 20:44:12 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 22:43 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * bin/hb-mkimp.bat
    ! Fix to prev. Some debug stuff.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkimp.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug 22 17:20:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 17:20:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12272] trunk/harbour
Message-ID: <E1Mey0s-0001MN-Ho@74yxhf1.ch3.sourceforge.com>

Revision: 12272
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12272&view=rev
Author:   vszakats
Date:     2009-08-22 21:20:37 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 23:21 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  + config/os2-echo.exe
  * config/globsh.mk
  * config/readme.txt
    + Replaced OS/2 native echo with GNU echo tool.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.mk
    trunk/harbour/config/readme.txt

Added Paths:
-----------
    trunk/harbour/config/os2-echo.exe


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug 22 17:31:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 17:31:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12273] trunk/harbour
Message-ID: <E1MeyBD-0001YS-EJ@74yxhf1.ch3.sourceforge.com>

Revision: 12273
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12273&view=rev
Author:   vszakats
Date:     2009-08-22 21:31:18 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 23:29 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * bin/hb-mkimp.bat
    - Not creating msvc implibs for QT .dlls anymore.
      .dlls distributed in the QT binary package are using
      Itanium ABI (built with MinGW/GCC), which isn't compatible 
      with ABI used by MSVC. Generating an implib is impossible here.
      Those who want to use QT with MSVC Harbour builds should 
      rebuild QT .dlls from source, implibs will be generated 
      automatically in this case (I assume).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkimp.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Aug 22 19:02:35 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Aug 22 19:02:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12274] trunk/harbour
Message-ID: <E1MezbX-00044O-Rz@bj8yhf1.ch3.sourceforge.com>

Revision: 12274
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12274&view=rev
Author:   vouchcac
Date:     2009-08-22 23:02:34 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 16:01 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/tests/demoxbp.prg
    ! Fixed codeblock unused variable warnings.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug 22 19:11:10 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 22 19:11:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12275] trunk/harbour
Message-ID: <E1Mezjq-00026d-C9@3kljzd1.ch3.sourceforge.com>

Revision: 12275
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12275&view=rev
Author:   vszakats
Date:     2009-08-22 23:11:09 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------

2009-08-23 01:08 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/linux/watcom.mk
    + Added dynamic library generation for linux/watcom.
      Experimental.
      NOTE: DFLAGS is a little tricky as I found no 'SYSTEM'
            preset for ELF DLLs.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/linux/watcom.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Aug 22 19:12:02 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Aug 22 19:12:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12274] trunk/harbour
In-Reply-To: <E1MezbX-00044O-Rz@bj8yhf1.ch3.sourceforge.com>
References: <E1MezbX-00044O-Rz@bj8yhf1.ch3.sourceforge.com>
Message-ID: <18d502870908221612v24e70824p2d665502726641dc@mail.gmail.com>

Thanks a lot.

Brgds,
Viktor

On Sun, Aug 23, 2009 at 1:02 AM, <vouchcac@users.sourceforge.net> wrote:
> Revision: 12274
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12274&view=rev
> Author: ? vouchcac
> Date: ? ? 2009-08-22 23:02:34 +0000 (Sat, 22 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-22 16:01 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> ?* contrib/hbxbp/tests/demoxbp.prg
> ? ?! Fixed codeblock unused variable warnings.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From bedipritpal at hotmail.com  Sat Aug 22 19:42:35 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Aug 22 19:42:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12270] trunk/harbour
In-Reply-To: <E1MexHi-0000hf-QB@bj8yhf1.ch3.sourceforge.com>
References: <E1MexHi-0000hf-QB@bj8yhf1.ch3.sourceforge.com>
Message-ID: <25098964.post@talk.nabble.com>


Hello Viktor


vszakats wrote:
> 
> 2009-08-22 22:33 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbqt/hbqt_slots.cpp
>     ! Fixed memorys leak in HbDbfModel::rowCount() and
> HbDbfModel::columnCount().
>       It was shown as "unreachable code" warning.
> 

A good catch. Thank you.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12270--trunk-harbour-tp25097551p25098964.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From fernando_athayde at yahoo.com.br  Sat Aug 22 20:40:32 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Sat Aug 22 20:40:38 2009
Subject: Res: [Harbour] SF.net SVN: harbour-project:[12273] trunk/harbour
In-Reply-To: <E1MeyBD-0001YS-EJ@74yxhf1.ch3.sourceforge.com>
References: <E1MeyBD-0001YS-EJ@74yxhf1.ch3.sourceforge.com>
Message-ID: <393084.60587.qm@web52212.mail.re2.yahoo.com>

wow man,
this increasingly difficult I do any application for winCe


Thanks
Fernando




________________________________
De: "vszakats@users.sourceforge.net" <vszakats@users.sourceforge.net>
Para: harbour@harbour-project.org
Enviadas: S?bado, 22 de Agosto de 2009 18:31:19
Assunto: [Harbour] SF.net SVN: harbour-project:[12273] trunk/harbour

Revision: 12273
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12273&view=rev
Author:   vszakats
Date:     2009-08-22 21:31:18 +0000 (Sat, 22 Aug 2009)

Log Message:
-----------
2009-08-22 23:29 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * bin/hb-mkimp.bat
    - Not creating msvc implibs for QT .dlls anymore.
      .dlls distributed in the QT binary package are using
      Itanium ABI (built with MinGW/GCC), which isn't compatible 
      with ABI used by MSVC. Generating an implib is impossible here.
      Those who want to use QT with MSVC Harbour builds should 
      rebuild QT .dlls from source, implibs will be generated 
      automatically in this case (I assume).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkimp.bat


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090822/e4c63a97/attachment.html
From bedipritpal at hotmail.com  Sat Aug 22 21:04:13 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Aug 22 21:04:19 2009
Subject: [Harbour] HBMK2 - Few clarifications
Message-ID: <25099359.post@talk.nabble.com>


Hello Viktor

Today I have turned to hbmk2 seriously for my 
large projects and I am looking for some possible ways 
to build every library/exe from one place.

Here is my development environment tree:

c:\dev_projects  contains folders per project
c:\dev_sources   contains source|include|resource folders per project or
otherwise
c:\dev_libs         contains libs generated by lib projects
c:\dev_exes       contains all exe's generated by executable projects


c:\dev_projects\vouch\vouch.hbp contains these entries:


-hblib
-olib/${hb_arch}/${hb_comp}/vouch
-inc
-q0 -w1 -es2 -m -n -a

-Ic:/dev_sources/vouch/include
...

-D__WVT__
...

c:/dev_sources/vouch/source/A_ARRAY.PRG
c:/dev_sources/vouch/source/B_53.PRG
....

It runs fine and generates this folder structure:

c:\dev_projects\vouch\lib
                               \lib\win
                               \lib\win\mingw
                               \lib\win\mingw\.hbmk ( and subfolders holding
.o, .c files )
                               \lib\win\mingw\libvouch.a

Question is : how can I separate the output paths of object files and final
binaries.
For example, in above case, I would like to place libvouch.a (only) to a
different folder
c:\dev_libs. And on the same analogy any .exe to folder c:\dev_exes.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/HBMK2---Few-clarifications-tp25099359p25099359.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vailtom at gmail.com  Sat Aug 22 21:20:52 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Sat Aug 22 21:20:57 2009
Subject: [Harbour] HBMK2 - Few clarifications
In-Reply-To: <25099359.post@talk.nabble.com>
References: <25099359.post@talk.nabble.com>
Message-ID: <531d7a750908221820u38e5140cyeeca3dac87f8076d@mail.gmail.com>

Hi!

Commenting on the topic I'd like to share an my experience, but I have
not yet found a solution and who knows this may arise some idea: I
have a big project that uses a common .CH file to all sources.

When I change this .CH file it turns necessary to recompile the entire
project ... Is there any way to implement this automatically?

On changing this file the -inc param should be ignored... already
exists this feature?

Best Regards,
Vailton Renato

2009/8/22 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hello Viktor
>
> Today I have turned to hbmk2 seriously for my
> large projects and I am looking for some possible ways
> to build every library/exe from one place.
>
> Here is my development environment tree:
>
> c:\dev_projects ?contains folders per project
> c:\dev_sources ? contains source|include|resource folders per project or
> otherwise
> c:\dev_libs ? ? ? ? contains libs generated by lib projects
> c:\dev_exes ? ? ? contains all exe's generated by executable projects
>
>
> c:\dev_projects\vouch\vouch.hbp contains these entries:
>
>
> -hblib
> -olib/${hb_arch}/${hb_comp}/vouch
> -inc
> -q0 -w1 -es2 -m -n -a
>
> -Ic:/dev_sources/vouch/include
> ...
>
> -D__WVT__
> ...
>
> c:/dev_sources/vouch/source/A_ARRAY.PRG
> c:/dev_sources/vouch/source/B_53.PRG
> ....
>
> It runs fine and generates this folder structure:
>
> c:\dev_projects\vouch\lib
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? \lib\win
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? \lib\win\mingw
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? \lib\win\mingw\.hbmk ( and subfolders holding
> .o, .c files )
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? \lib\win\mingw\libvouch.a
>
> Question is : how can I separate the output paths of object files and final
> binaries.
> For example, in above case, I would like to place libvouch.a (only) to a
> different folder
> c:\dev_libs. And on the same analogy any .exe to folder c:\dev_exes.
>
> Regards
> Pritpal Bedi
> --
> View this message in context: http://www.nabble.com/HBMK2---Few-clarifications-tp25099359p25099359.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From harbour.01 at syenar.hu  Sun Aug 23 02:06:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug 23 02:06:20 2009
Subject: [Harbour] HBMK2 - Few clarifications
In-Reply-To: <531d7a750908221820u38e5140cyeeca3dac87f8076d@mail.gmail.com>
References: <25099359.post@talk.nabble.com>
	<531d7a750908221820u38e5140cyeeca3dac87f8076d@mail.gmail.com>
Message-ID: <BAA7B4A0-6B2F-4ACE-9089-13A422C0F6B4@syenar.hu>

Hi Vailton,

> Commenting on the topic I'd like to share an my experience, but I have
> not yet found a solution and who knows this may arise some idea: I
> have a big project that uses a common .CH file to all sources.
>
> When I change this .CH file it turns necessary to recompile the entire
> project ... Is there any way to implement this automatically?
>
> On changing this file the -inc param should be ignored... already
> exists this feature?

You can turn off source parsing for headers using -nohead (or -head=off)
hbmk2 parameter. This way the headers won't be used as dependencies,
so changing them won't cause a rebuild.

If that's what you're asking for.

Brgds,
Viktor

From vailtom at gmail.com  Sun Aug 23 02:13:52 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Sun Aug 23 02:13:57 2009
Subject: [Harbour] HBMK2 - Few clarifications
In-Reply-To: <BAA7B4A0-6B2F-4ACE-9089-13A422C0F6B4@syenar.hu>
References: <25099359.post@talk.nabble.com>
	<531d7a750908221820u38e5140cyeeca3dac87f8076d@mail.gmail.com>
	<BAA7B4A0-6B2F-4ACE-9089-13A422C0F6B4@syenar.hu>
Message-ID: <531d7a750908222313g3bb22a35t2f01e1b0a0c26b43@mail.gmail.com>

Hi Viktor,

I will test it with calm. Grateful for the attention and response.

Greetings,
Vailton Renato
From harbour.01 at syenar.hu  Sun Aug 23 02:15:42 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug 23 02:15:51 2009
Subject: [Harbour] HBMK2 - Few clarifications
In-Reply-To: <25099359.post@talk.nabble.com>
References: <25099359.post@talk.nabble.com>
Message-ID: <70A52CDD-FEFF-4A7E-A3AE-FC61EC606114@syenar.hu>

Hi Pritpal,

> Today I have turned to hbmk2 seriously for my
> large projects and I am looking for some possible ways
> to build every library/exe from one place.
>
> Here is my development environment tree:
>
> c:\dev_projects  contains folders per project
> c:\dev_sources   contains source|include|resource folders per  
> project or
> otherwise
> c:\dev_libs         contains libs generated by lib projects
> c:\dev_exes       contains all exe's generated by executable projects
>
> c:\dev_projects\vouch\vouch.hbp contains these entries:
>
> -hblib
> -olib/${hb_arch}/${hb_comp}/vouch
> -inc
> -q0 -w1 -es2 -m -n -a
>
> -Ic:/dev_sources/vouch/include

You can use here: -Iinclude

> ...
>
> -D__WVT__
> ...
>
> c:/dev_sources/vouch/source/A_ARRAY.PRG
> c:/dev_sources/vouch/source/B_53.PRG

Here it's enough to use: source/A_ARRAY.PRG, etc...
(no need to list the absolute path, only the one
relative to holder .hbp file)

> It runs fine and generates this folder structure:
>
> c:\dev_projects\vouch\lib
>                               \lib\win
>                               \lib\win\mingw
>                               \lib\win\mingw\.hbmk ( and subfolders  
> holding
> .o, .c files )
>                               \lib\win\mingw\libvouch.a
>
> Question is : how can I separate the output paths of object files  
> and final
> binaries.
> For example, in above case, I would like to place libvouch.a (only)  
> to a
> different folder
> c:\dev_libs. And on the same analogy any .exe to folder c:\dev_exes.

You can override both dirs. libvouch.a will be placed according
to your '-o' parameter. By default the intermediate files (.hbmk dir)
will be placed under the dir specced in -o option. If that's not
good for some reason, you can use -workdir=<dir> option to override
the default here.

F.e. I use this:
-workdir=lib/${hb_arch}/${hb_comp}/${hb_work}/vf

This will put intermediate files to lib/win/mingw/.hbmk/vf

You can of course set it to any dirs you want. Just keep
in mind that if you use multiple target compilers (or platforms)
for your project, to use different dirs for each. This is
the reason I use the above macros in the example.

I hope that helps.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Aug 23 04:00:40 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 23 04:00:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12276] trunk/harbour
Message-ID: <E1Mf80G-0004Cb-NH@dn4whf1.ch3.sourceforge.com>

Revision: 12276
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12276&view=rev
Author:   vszakats
Date:     2009-08-23 08:00:35 +0000 (Sun, 23 Aug 2009)

Log Message:
-----------
2009-08-23 09:59 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.pt_BR.po
  * utils/hbmk2/hbmk2.hu_HU.po
  * utils/hbmk2/hbmk2.prg
    + Added -implib option. Implemented it for all compilers.
      (some of these don't support -hbdyn option yet though, once we
      got it matured in GNU Make, these can be added to hbmk2)
    + Added linux/watcom dynlib generation. Quite experimental, it doesn't
      work due to missing symbols.
    + Added linux/watcom support for -shared mode. Experimental, it doesn't
      work due to 'invalid library file attribute'. Either the GNU Make
      generate .so is wrong, or it's wrongly specified, or else.
      I hope something can continue watcom dynamic lib support.

  * config/dos/watcom.mk
    * Formatting.

  * config/linux/watcom.mk
    - Deleted 'RUNTIME linux' and 'OP norelocs' options from dynlib gerenation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/config/linux/watcom.mk
    trunk/harbour/utils/hbmk2/hbmk2.hu_HU.po
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug 23 04:15:57 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 23 04:16:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12277] trunk/harbour
Message-ID: <E1Mf8F3-0004YT-4Y@dn4whf1.ch3.sourceforge.com>

Revision: 12277
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12277&view=rev
Author:   vszakats
Date:     2009-08-23 08:15:56 +0000 (Sun, 23 Aug 2009)

Log Message:
-----------
2009-08-23 10:15 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Minor visual correction to help screen option section.

  * ChangeLog
    ! Missed from prev entry:
      * utils/hbmk2/hbmk2.prg
        + Added quiet option for watcom linker commands.
        ! Fixed missing SYS directive in watcom/win targets which prevented
          using this target in cross-build scenarios.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sun Aug 23 05:58:41 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Aug 23 05:58:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12278] trunk/harbour
Message-ID: <E1Mf9qT-000336-0F@c3vjzd1.ch3.sourceforge.com>

Revision: 12278
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12278&view=rev
Author:   druzus
Date:     2009-08-23 09:58:39 +0000 (Sun, 23 Aug 2009)

Log Message:
-----------
2009-08-23 11:58 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/axcore.c
    * added automatic activex initialization to __AXDOVERB().
      __AXGETCONTROL()/hb_oleAxControlNew() also make automatic
      initialization so it's not necessary to explicitly call
      WIN_AXINIT()/hb_oleAxInit()

  * harbour/contrib/rddads/readme.txt
    ! updated ADS* RDD usage description which contain very old information
      which stop to be valid many years ago, i.e. user code should not call
      rddRegister().

  * harbour/contrib/rddads/rddads.h
  * harbour/contrib/rddads/ads1.c
    ! fixed SELF_RESETREL() macro
    ! changed uiRecordLen to ulRecordLen - ADT tables can have records
      longer then 64KB
    ! fixed size of alias buffer passed to AdsGetTableAlias()

  * harbour/contrib/rddads/adsx.c
    * modified ADSXAREA structure definition to directly inherit from
      ADSAREA instead of manual redefining all of its fields.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/axcore.c
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/contrib/rddads/adsx.c
    trunk/harbour/contrib/rddads/rddads.h
    trunk/harbour/contrib/rddads/readme.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug 23 06:09:39 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 23 06:09:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12279] trunk/harbour
Message-ID: <E1MfA15-0007RI-SM@dn4whf1.ch3.sourceforge.com>

Revision: 12279
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12279&view=rev
Author:   vszakats
Date:     2009-08-23 10:09:36 +0000 (Sun, 23 Aug 2009)

Log Message:
-----------

2009-08-23 12:07 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbsetup.h
    * Minor in comment.
    + Also looking for __DARWIN__ to autodetect HB_OS_DARWIN.

  * utils/hbmk2/hbmk2.prg
    + Honoring -quiet option for language file creation related screen output.

  * INSTALL
    * Some improvements.

  * bin/postinst.bat
    + Added -quiet to hbmk2 cmdlines.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/postinst.bat
    trunk/harbour/include/hbsetup.h
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug 23 06:57:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 23 06:57:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12280] trunk/harbour
Message-ID: <E1MfAll-00045w-3k@c3vjzd1.ch3.sourceforge.com>

Revision: 12280
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12280&view=rev
Author:   vszakats
Date:     2009-08-23 10:57:51 +0000 (Sun, 23 Aug 2009)

Log Message:
-----------
2009-08-23 12:54 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
  + dos-make.exe
  + win-make.exe
  + os2-make.exe
  - config/mingw32-make.exe
  - config/dj-make.exe
  - config/os2-make.exe
  * config/readme.txt
    * Moved non-*nix GNU make executables to the root.
    * Rename above utilities to give a clear idea which belongs to
      which platform. At the same time we avoid using their original
      names, thus allowing users to use those ones if installed.
    * Modified documents accordingly.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/readme.txt

Added Paths:
-----------
    trunk/harbour/dos-make.exe
    trunk/harbour/os2-make.exe
    trunk/harbour/win-make.exe

Removed Paths:
-------------
    trunk/harbour/config/dj-make.exe
    trunk/harbour/config/mingw32-make.exe
    trunk/harbour/config/os2-make.exe


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug 23 07:13:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 23 07:13:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12281] trunk/harbour
Message-ID: <E1MfB10-0004O1-Bf@c3vjzd1.ch3.sourceforge.com>

Revision: 12281
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12281&view=rev
Author:   vszakats
Date:     2009-08-23 11:13:36 +0000 (Sun, 23 Aug 2009)

Log Message:
-----------
2009-08-23 13:09 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/globsh.mk
  * config/readme.txt
  - config/dj-cp.exe
  - config/dj-echo.exe
  - config/dj-mkdir.exe
  - config/dj-rm.exe
  + config/doscp.exe
  + config/dosecho.exe
  + config/dosmkdir.exe
  + config/dosrm.exe
  - config/os2-cp.exe
  - config/os2-echo.exe
  - config/os2-mkdir.exe
  - config/os2-rm.exe
  + config/os2cp.exe
  + config/os2echo.exe
  + config/os2mkdir.exe
  + config/os2rm.exe
    * Renamed included GNU tools to avoid using any long filename.

  - config/Makefile
    - Deleted. No longer needed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.mk
    trunk/harbour/config/readme.txt

Added Paths:
-----------
    trunk/harbour/config/doscp.exe
    trunk/harbour/config/dosecho.exe
    trunk/harbour/config/dosmkdir.exe
    trunk/harbour/config/dosrm.exe
    trunk/harbour/config/os2cp.exe
    trunk/harbour/config/os2echo.exe
    trunk/harbour/config/os2mkdir.exe
    trunk/harbour/config/os2rm.exe

Removed Paths:
-------------
    trunk/harbour/config/Makefile
    trunk/harbour/config/dj-cp.exe
    trunk/harbour/config/dj-echo.exe
    trunk/harbour/config/dj-mkdir.exe
    trunk/harbour/config/dj-rm.exe
    trunk/harbour/config/os2-cp.exe
    trunk/harbour/config/os2-echo.exe
    trunk/harbour/config/os2-mkdir.exe
    trunk/harbour/config/os2-rm.exe


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sun Aug 23 07:17:17 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Aug 23 07:17:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12282] trunk/harbour
Message-ID: <E1MfB4X-0003w7-Gt@3kljzd1.ch3.sourceforge.com>

Revision: 12282
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12282&view=rev
Author:   druzus
Date:     2009-08-23 11:17:16 +0000 (Sun, 23 Aug 2009)

Log Message:
-----------
2009-08-23 13:17 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/rddads/rddads.h
    * eliminated explicit casting to keep strict aliasing rules

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/rddads.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug 23 07:41:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 23 07:41:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12283] trunk/harbour
Message-ID: <E1MfBRu-00068o-V1@d5vjzd1.ch3.sourceforge.com>

Revision: 12283
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12283&view=rev
Author:   vszakats
Date:     2009-08-23 11:41:26 +0000 (Sun, 23 Aug 2009)

Log Message:
-----------
2009-08-23 13:41 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/hbpcre/Makefile
  * source/hbzlib/Makefile
    + Added 'HB_BUILD_WARN := no' which causes that these foreign 
      sources will be compiled using default compiler warning level.
      Should avoid a few MSVC warnings.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/hbpcre/Makefile
    trunk/harbour/source/hbzlib/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Aug 23 08:10:47 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Aug 23 08:10:53 2009
Subject: [Harbour] MSVC warning update (2008 latest SVN, duplicates removed)
Message-ID: <18d502870908230510l1232145brc56e610e79eec387@mail.gmail.com>

Pls find it attached.

It's a total of 357 warnings, which isn't that bad at all.
A few more obvious ones can be deleted giving a number of 336.

There is also a new one:
../../../olecore.c(727) : warning C4244: '=' : conversion from 'BOOL'
to 'VARIANT_BOOL', possible loss of data

Brgds,
Viktor
-------------- next part --------------
A non-text attachment was scrubbed...
Name: msvc2008-warning.zip
Type: application/zip
Size: 3006 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090823/7bdaa1e0/msvc2008-warning.zip
From vszakats at users.sourceforge.net  Sun Aug 23 08:17:59 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 23 08:18:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12284] trunk/harbour
Message-ID: <E1MfC1H-00057Y-6y@3kljzd1.ch3.sourceforge.com>

Revision: 12284
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12284&view=rev
Author:   vszakats
Date:     2009-08-23 12:17:58 +0000 (Sun, 23 Aug 2009)

Log Message:
-----------
2009-08-23 14:17 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/vm/itemapi.c
    ! Added casts to avoid MSVC -W4 warnings. All of them was related 
      to casting Harbour numeric value number of digits/decimals 
      coming as an 'int' but stored as an USHORT in HB_ITEM.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/vm/itemapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug 23 08:40:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 23 08:40:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12285] trunk/harbour
Message-ID: <E1MfCNG-0005wu-TX@c3vjzd1.ch3.sourceforge.com>

Revision: 12285
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12285&view=rev
Author:   vszakats
Date:     2009-08-23 12:40:37 +0000 (Sun, 23 Aug 2009)

Log Message:
-----------
2009-08-23 14:38 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.pt_BR.po
  * utils/hbmk2/hbmk2.hu_HU.po
  * utils/hbmk2/hbmk2.prg
    * Changed to use 'platform'/'plat' instead of 'architecture'/'arch'.
    + Added -plat option. Same as old -arch, which is still accepted 
      for compatibility.
    + Accepting HB_PLATFORM envvar instead of old HB_ARCHITECTURE.
      Old envvar is still accepted for compatibility.
    + Added ${hb_plat} and ${hb_platform} macros. Content the same 
      as for old ${hb_arch} and ${hb_architecture} macros. Old ones
      still retained for script compatibility.
    ; Please start using the new values.

  * contrib/hbwin/olecore.c
    ! Suppressed MSVC warning.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/utils/hbmk2/hbmk2.hu_HU.po
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug 23 08:45:20 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 23 08:45:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12286] trunk/harbour
Message-ID: <E1MfCRk-00062B-1F@c3vjzd1.ch3.sourceforge.com>

Revision: 12286
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12286&view=rev
Author:   vszakats
Date:     2009-08-23 12:45:17 +0000 (Sun, 23 Aug 2009)

Log Message:
-----------
2009-08-23 14:44 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    * Changed internal names to use PLAT instead of ARCH when 
      referring to platform.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug 23 10:02:56 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 23 10:03:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12287] trunk/harbour
Message-ID: <E1MfDeq-0000Kn-4F@d5vjzd1.ch3.sourceforge.com>

Revision: 12287
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12287&view=rev
Author:   vszakats
Date:     2009-08-23 14:02:53 +0000 (Sun, 23 Aug 2009)

Log Message:
-----------
2009-08-23 15:56 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added support for combined target names. This means
      that from now in all supported platform/compiler inputs can
      be formed like <plat>/<comp> in one string.
      So f.e. '-plat=wce/mingw' is the same as '-plat=wce -comp=mingw'.
      This feature only kicks in if the string contains '/' and in
      this case the first item always indicates the platform, the
      second always the compiler, regardless of which switch name is
      used (-plat or -comp). So -comp=wce/mingw is the same as -plat=wce/mingw.
      Experimental yet.
    ! Wrong bugfix reverted in prev commit. (for watcom/win)

  * utils/hbmk2/hbmk2.prg
  * config/global.mk
    + Added autodetection for i386-mingw32ce, which is WinCE running on x86 CPU.
      This tool was released just recently from cegcc team.

  * config/global.mk
    + Tweaked a little mingwarm autodetection on *nixes.
      It will now look for all three mingw compilers on provided HB_CCPATH.
      If not provided or not found on that location, it will continue to look
      for them in default locations.

  + config/wce/mingw.mk
    + Added x86 wce/mingw config file. It's a simple redirection to
      mingwarm.mk. I'll try to make some steps to make it generic,
      can't really see the end of the tunnel yet though.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg

Added Paths:
-----------
    trunk/harbour/config/wce/mingw.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug 23 11:06:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 23 11:06:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12288] trunk/harbour
Message-ID: <E1MfEeJ-00007N-NI@c3vjzd1.ch3.sourceforge.com>

Revision: 12288
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12288&view=rev
Author:   vszakats
Date:     2009-08-23 15:06:11 +0000 (Sun, 23 Aug 2009)

Log Message:
-----------
2009-08-23 17:02 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * doc/gmake.txt
  * doc/man/hbmk.1
  * doc/whatsnew.txt
  * external/sqlite3/Makefile
  * external/libhpdf/Makefile
  * include/hbapi.h
  * include/hbver.ch
  * utils/hbmk2/hbmk2.prg
  * contrib/hbhpdf/Makefile
  * source/vm/cmdarg.c
  * source/main/harbour.c
  * source/rtl/version.c
  * config/global.mk
  * config/dir.mk
  * config/common/watcom.mk
  * config/rules.mk
  * examples/superlib/superlib.hbc
  * examples/superlib/superlib.hbp
  * examples/hbmsql/hbmsql.hbc
  * examples/hbmsql/hbmsql.hbp
  * examples/hbsqlit2/hbsqlit2.hbp
  * examples/hbsqlit2/hbsqlit2.hbc
  * examples/gfspell/gfspell.hbp
  * examples/gfspell/gfspell.hbc
  * examples/hbapollo/hbapollo.hbp
  * examples/hbapollo/hbapollo.hbc
    * HB_ARCH_AUTO -> HB_PLAT_AUTO
    * HB_HOST_ARCH -> HB_HOST_PLAT
    * 'architecture' -> 'platform' in text.
    * HB_VERSION_BUILD_ARCH -> HB_VERSION_BUILD_PLAT
      (INCOMPATIBLE, if you happen to use this from previous dev/beta version)
    * hb_verHB_ARCH() -> hb_verHB_PLAT()
    * ${hb_arch} -> ${hb_plat}

  * INSTALL
    * Minor update.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/common/watcom.mk
    trunk/harbour/config/dir.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/rules.mk
    trunk/harbour/contrib/hbhpdf/Makefile
    trunk/harbour/doc/gmake.txt
    trunk/harbour/doc/man/hbmk.1
    trunk/harbour/doc/whatsnew.txt
    trunk/harbour/examples/gfspell/gfspell.hbc
    trunk/harbour/examples/gfspell/gfspell.hbp
    trunk/harbour/examples/hbapollo/hbapollo.hbc
    trunk/harbour/examples/hbapollo/hbapollo.hbp
    trunk/harbour/examples/hbmsql/hbmsql.hbc
    trunk/harbour/examples/hbmsql/hbmsql.hbp
    trunk/harbour/examples/hbsqlit2/hbsqlit2.hbc
    trunk/harbour/examples/hbsqlit2/hbsqlit2.hbp
    trunk/harbour/examples/superlib/superlib.hbc
    trunk/harbour/examples/superlib/superlib.hbp
    trunk/harbour/external/libhpdf/Makefile
    trunk/harbour/external/sqlite3/Makefile
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbver.ch
    trunk/harbour/source/main/harbour.c
    trunk/harbour/source/rtl/version.c
    trunk/harbour/source/vm/cmdarg.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug 23 11:58:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 23 11:58:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12289] trunk/harbour
Message-ID: <E1MfFT3-0001Vj-05@74yxhf1.ch3.sourceforge.com>

Revision: 12289
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12289&view=rev
Author:   vszakats
Date:     2009-08-23 15:58:51 +0000 (Sun, 23 Aug 2009)

Log Message:
-----------
2009-08-23 17:55 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * doc/linux1st.txt
    - Deleted Linux build instructions no more relevant.
    * Formatting. Probably this file should be moved into INSTALL.

  * doc/gmake.txt
    * Little updates.

  * harbour-win-spec
  * doc/gmake.txt
  * doc/linux1st.txt
  * doc/whatsnew.txt
  * harbour-wce-spec
  * INSTALL
  * bin/hb-mkdyn.sh
  * bin/postinst.cmd
  * bin/postinst.bat
  * bin/hb-func.sh
  * bin/postinst.sh
  * external/sqlite3/Makefile
  * external/libhpdf/Makefile
  * external/libpng/Makefile
  * mpkg_tgz.sh
  * harbour.spec
  * source/pp/hbpp.c
  * source/pp/Makefile
  * source/vm/Makefile
  * source/vm/cmdarg.c
  * source/vm/vmmt/Makefile
  * source/main/harbour.c
  * source/rtl/gtdos/Makefile
  * source/rtl/gtwin/Makefile
  * source/rtl/gtcrs/Makefile
  * source/rtl/gttrm/Makefile
  * source/rtl/Makefile
  * source/rtl/gtos2/Makefile
  * source/rtl/gtgui/Makefile
  * source/rtl/gtwvt/Makefile
  * source/rdd/Makefile
  * source/Makefile
  * contrib/hbodbc/Makefile
  * contrib/hbsqlit3/Makefile
  * contrib/hbblat/Makefile
  * contrib/hbqt/Makefile
  * contrib/hbxbp/Makefile
  * contrib/hbcurl/Makefile
  * contrib/gtqtc/Makefile
  * contrib/rddsql/sddodbc/Makefile
  * contrib/rddado/Makefile
  * contrib/gtwvg/Makefile
  * contrib/rddads/Makefile
  * contrib/hbfimage/Makefile
  * contrib/hbtip/Makefile
  * contrib/hbwin/Makefile
  * contrib/hbssl/Makefile
  * utils/hbmk2/hbmk2.pt_BR.po
  * utils/hbmk2/hbmk2.hu_HU.po
  * config/none.mk
  * config/global.mk
  * config/lib.mk
  * config/wce/mingw.mk
  * config/bin.mk
  * config/dir.mk
  * config/common/watcom.mk
  * config/win/msvc64.mk
  * config/win/iccia64.mk
  * config/win/mingw64.mk
  * config/win/gcc.mk
  * config/win/msvcia64.mk
  * config/win/pocc64.mk
  * config/header.mk
  * config/dyn.mk
  * config/doc.mk
    * HB_ARCHITECTURE -> HB_PLATFORM
    * hb_arch -> hb_plat (internal script variable)
    * ARCH_COMP -> PLAT_COMP (internal make variable)
    ; INCOMPATIBLE: Please update your environment, if you used this setting.
    ; NOTE: So now Harbour uses only two names for platforms: 'OS' and 'platform'.
            'Architecture' is nowhere used to refer to as an operating system
            anymore. 'Architecture' is only used to refer to CPU/hardware
            architecture.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/hb-mkdyn.sh
    trunk/harbour/bin/postinst.bat
    trunk/harbour/bin/postinst.cmd
    trunk/harbour/bin/postinst.sh
    trunk/harbour/config/bin.mk
    trunk/harbour/config/common/watcom.mk
    trunk/harbour/config/dir.mk
    trunk/harbour/config/doc.mk
    trunk/harbour/config/dyn.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/header.mk
    trunk/harbour/config/lib.mk
    trunk/harbour/config/none.mk
    trunk/harbour/config/wce/mingw.mk
    trunk/harbour/config/win/gcc.mk
    trunk/harbour/config/win/iccia64.mk
    trunk/harbour/config/win/mingw64.mk
    trunk/harbour/config/win/msvc64.mk
    trunk/harbour/config/win/msvcia64.mk
    trunk/harbour/config/win/pocc64.mk
    trunk/harbour/contrib/gtqtc/Makefile
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/hbblat/Makefile
    trunk/harbour/contrib/hbcurl/Makefile
    trunk/harbour/contrib/hbfimage/Makefile
    trunk/harbour/contrib/hbodbc/Makefile
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbsqlit3/Makefile
    trunk/harbour/contrib/hbssl/Makefile
    trunk/harbour/contrib/hbtip/Makefile
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbxbp/Makefile
    trunk/harbour/contrib/rddado/Makefile
    trunk/harbour/contrib/rddads/Makefile
    trunk/harbour/contrib/rddsql/sddodbc/Makefile
    trunk/harbour/doc/gmake.txt
    trunk/harbour/doc/linux1st.txt
    trunk/harbour/doc/whatsnew.txt
    trunk/harbour/external/libhpdf/Makefile
    trunk/harbour/external/libpng/Makefile
    trunk/harbour/external/sqlite3/Makefile
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/harbour.spec
    trunk/harbour/mpkg_tgz.sh
    trunk/harbour/source/Makefile
    trunk/harbour/source/main/harbour.c
    trunk/harbour/source/pp/Makefile
    trunk/harbour/source/pp/hbpp.c
    trunk/harbour/source/rdd/Makefile
    trunk/harbour/source/rtl/Makefile
    trunk/harbour/source/rtl/gtcrs/Makefile
    trunk/harbour/source/rtl/gtdos/Makefile
    trunk/harbour/source/rtl/gtgui/Makefile
    trunk/harbour/source/rtl/gtos2/Makefile
    trunk/harbour/source/rtl/gttrm/Makefile
    trunk/harbour/source/rtl/gtwin/Makefile
    trunk/harbour/source/rtl/gtwvt/Makefile
    trunk/harbour/source/vm/Makefile
    trunk/harbour/source/vm/cmdarg.c
    trunk/harbour/source/vm/vmmt/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.hu_HU.po
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug 23 12:15:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 23 12:16:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12290] trunk/harbour
Message-ID: <E1MfFjX-0001qB-4Z@74yxhf1.ch3.sourceforge.com>

Revision: 12290
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12290&view=rev
Author:   vszakats
Date:     2009-08-23 16:15:53 +0000 (Sun, 23 Aug 2009)

Log Message:
-----------
2009-08-23 18:15 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  - doc/linux1st.txt
  * doc/Makefile
  * INSTALL
    + Moved linux1st.txt content to INSTALL.

  * utils/hbmk2/hbmk2.prg
  * config/global.mk
    - Deleted some HB_ARCHITECTURE compatibility lines.
      Now only legacy hbmake sources keep referencing it.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.mk
    trunk/harbour/doc/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.prg

Removed Paths:
-------------
    trunk/harbour/doc/linux1st.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug 23 12:31:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 23 12:31:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12291] trunk/harbour
Message-ID: <E1MfFyE-00026O-Eu@74yxhf1.ch3.sourceforge.com>

Revision: 12291
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12291&view=rev
Author:   vszakats
Date:     2009-08-23 16:31:05 +0000 (Sun, 23 Aug 2009)

Log Message:
-----------
2009-08-23 18:30 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    ! Minor regression when adding HB_CPU detection for dos plat.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug 23 12:36:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 23 12:36:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12292] trunk/harbour
Message-ID: <E1MfG3p-0002Ca-5Y@74yxhf1.ch3.sourceforge.com>

Revision: 12292
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12292&view=rev
Author:   vszakats
Date:     2009-08-23 16:36:52 +0000 (Sun, 23 Aug 2009)

Log Message:
-----------
2009-08-23 18:36 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/globsh.mk
    ! Deleted double quotes from around $(MK) command on nt 
      shells.
      This had the side effect that GNU Make couldn't run the
      executable for recursion if it wasn't in the PATH.
      (so win-make.exe didn't work. Now it does.)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug 23 13:36:34 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 23 13:36:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12293] trunk/harbour
Message-ID: <E1MfGza-0004jb-Nb@d5vjzd1.ch3.sourceforge.com>

Revision: 12293
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12293&view=rev
Author:   vszakats
Date:     2009-08-23 17:36:32 +0000 (Sun, 23 Aug 2009)

Log Message:
-----------
2009-08-23 19:34 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  - doc/howtobsd.txt
  * doc/Makefile
  * INSTALL
    * Essence of the content moved to INSTALL.

  * config/none.mk
    + Added support to display the reason for the "skip".

  * external/sqlite3/Makefile
  * contrib/gtalleg/Makefile
    + Showing the reason why the libs were skipped.
      Experimental. This feature needs some more design
      to be consistent and helpful, it should be done while
      also standardizing our config methods.
      Current internal solution is also not terribly elegant,
      maybe it can be converted to a function call, but there
      may other solutions too.

  * doc/dirstruc.txt
    * Minor update.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/none.mk
    trunk/harbour/contrib/gtalleg/Makefile
    trunk/harbour/doc/Makefile
    trunk/harbour/doc/dirstruc.txt
    trunk/harbour/external/sqlite3/Makefile

Removed Paths:
-------------
    trunk/harbour/doc/howtobsd.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Aug 23 17:54:15 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Aug 23 17:54:22 2009
Subject: [Harbour] HBMK2 - Strange Behavior
Message-ID: <25107808.post@talk.nabble.com>


Hello Viktor

After compiling process, the linker command produces this log entry:

hbmk: Processing configuration: c:\harbour_dev\harbour\mingw\bin\hbmk.cfg        
hbmk: Linking... c:/dev_exes/vouch_mingw.exe                                     
hbmk: Linker command:                                                            
gcc.exe c:/dev_objs/mingw/vouch\VOUCH.o c:/dev_objs/mingw/vouch\A_ARRAY.o
c:/dev_objs/mingw/vouch\B_53.o c:/dev_objs/mingw/vouch\B_ABOUT.o
c:/dev_objs/mingw/vouch\B_ACHOIC.o c:/dev_objs/mingw/vouch\B_ADDSCR.o
c:/dev_objs/mingw/vouch\B_ADSEXP.o c:/dev_objs/mingw/vouch\B_AGENTS.o
c:/dev_objs/mingw/vouch\B_ARRAYS.o c:/dev_objs/mingw/vouch\B_ARREAD.o
c:/dev_objs/mingw/vouch\B_ARRMNG.o c:/dev_objs/mingw/vouch\B_ARVIEW.o
c:/dev_objs/mingw/vouch\B_AUTOCD.o c:/dev_objs/mingw/vouch\B_BACKUP.o
c:/dev_objs/mingw/vouch\B_BATCH.o c:/dev_objs/mingw/vouch\B_BNKMNG.o
c:/dev_objs/mingw/vouch\B_BRWARR.o c:/dev_objs/mingw/vouch\B_BRWATC.o
c:/dev_objs/mingw/vouch\B_BRWBRW.o c:/dev_objs/mingw/vouch\B_BRWCLR.o
c:/dev_objs/mingw/vouch\B_BRWCMP.o c:/dev_objs/mingw/vouch\B_BRWDBF.o
c:/dev_objs/mingw/vouch\B_BRWF06.o c:/dev_objs/mingw/vouch\B_BRWF36.o
c:/dev_objs/mingw/vouch\B_BRWGAR.o c:/dev_objs/mingw/vouch\B_BRWGRF.o
c:/dev_objs/mingw/vouch\B_BRWKEY.o c:/dev_objs/mingw/vouch\B_BRWOBJ.o
c:/dev_objs/mingw/vouch\B_BRWPRN.o c:/dev_objs/mingw/vouch\B_BRWRMS.o
c:/dev_objs/mingw/vouch\B_BRWSET.o c:/dev_objs/mingw/vouch\B_BRWSYS.o
c:/dev_objs/mingw/vouch\B_BRWTXT.o c:/dev_objs/mingw/vouch\B_BRWUDC.o
c:/dev_objs/mingw/vouch\B_BRWUTL.o c:/dev_objs/mingw/vouch\B_BUDGET.o
c:/dev_objs/mingw/vouch\B_CALEND.o c:/dev_objs/mingw/vouch\B_CALFLD.o
c:/dev_objs/mingw/vouch\B_CFGEXP.o c:/dev_objs/mingw/vouch\B_CFGLOD.o
c:/dev_objs/mingw/vouch\B_CHOICE.o c:/dev_objs/mingw/vouch\B_CMMNDS.o
c:/dev_objs/mingw/vouch\B_CNSLDT.o c:/dev_objs/mingw/vouch\B_COMMAN.o
c:/dev_objs/mingw/vouch\B_CONF01.o c:/dev_objs/mingw/vouch\B_CONFIG.o
c:/dev_objs/mingw/vouch\B_CUSPS.o c:/dev_objs/mingw/vouch\B_DBDIR.o
c:/dev_objs/mingw/vouch\B_DBFATT.o c:/dev_objs/mingw/vouch\B_DBFCHG.o
c:/dev_objs/mingw/vouch\B_DETAIL.o c:/dev_objs/mingw/vouch\B_DEVBOO.o
c:/dev_objs/mingw/vouch\B_DIALOG.o c:/dev_objs/mingw/vouch\B_DISKST.o
c:/dev_objs/mingw/vouch\B_DOCDOC.o c:/dev_objs/mingw/vouch\B_DOCTXT.o
c:/dev_objs/mingw/vouch\B_DOCUTL.o c:/dev_objs/mingw/vouch\B_DOSHEL.o
c:/dev_objs/mingw/vouch\B_DRAPE.o c:/dev_objs/mingw/vouch\B_EDITOR.o
c:/dev_objs/mingw/vouch\B_EDTALL.o c:/dev_objs/mingw/vouch\B_EMAIL.o
c:/dev_objs/mingw/vouch\B_EMPLOY.o c:/dev_objs/mingw/vouch\B_ENKORG.o
c:/dev_objs/mingw/vouch\B_EQUATN.o c:/dev_objs/mingw/vouch\B_ERROR.o
c:/dev_objs/mingw/vouch\B_EVENT.o c:/dev_objs/mingw/vouch\B_EXE0.o
c:/dev_objs/mingw/vouch\B_EXE1.o c:/dev_objs/mingw/vouch\B_EXE2.o
c:/dev_objs/mingw/vouch\B_EXECUT.o c:/dev_objs/mingw/vouch\B_EXEDLL.o
c:/dev_objs/mingw/vouch\B_EXEMOD.o c:/dev_objs/mingw/vouch\B_EXERSC.o
c:/dev_objs/mingw/vouch\B_EXESRL.o c:/dev_objs/mingw/vouch\B_EXPORT.o
c:/dev_objs/mingw/vouch\B_EXPRMT.o c:/dev_objs/mingw/vouch\B_FABRPT.o
c:/dev_objs/mingw/vouch\B_FILEPA.o c:/dev_objs/mingw/vouch\B_FILTER.o
c:/dev_objs/mingw/vouch\B_FONTS.o c:/dev_objs/mingw/vouch\B_FORMAT.o
c:/dev_objs/mingw/vouch\B_FUNCTN.o c:/dev_objs/mingw/vouch\B_GAUGE.o
c:/dev_objs/mingw/vouch\B_GETACH.o c:/dev_objs/mingw/vouch\B_GETPUT.o
c:/dev_objs/mingw/vouch\B_GETSOM.o c:/dev_objs/mingw/vouch\B_GETSTK.o
c:/dev_objs/mingw/vouch\B_GRCHAR.o c:/dev_objs/mingw/vouch\B_GRFV01.o
c:/dev_objs/mingw/vouch\B_GRID.o c:/dev_objs/mingw/vouch\B_HRULER.o
c:/dev_objs/mingw/vouch\B_IDXBAR.o c:/dev_objs/mingw/vouch\B_IMPORT.o
c:/dev_objs/mingw/vouch\B_INDEX.o c:/dev_objs/mingw/vouch\B_INET.o
c:/dev_objs/mingw/vouch\B_INITLZ.o c:/dev_objs/mingw/vouch\B_INKEYS.o
c:/dev_objs/mingw/vouch\B_JOBPRS.o c:/dev_objs/mingw/vouch\B_KEEPER.o
c:/dev_objs/mingw/vouch\B_LABELS.o c:/dev_objs/mingw/vouch\B_LDRBWR.o
c:/dev_objs/mingw/vouch\B_LICENS.o c:/dev_objs/mingw/vouch\B_LISTDR.o
c:/dev_objs/mingw/vouch\B_LLIBB.o c:/dev_objs/mingw/vouch\B_LOCKS.o
c:/dev_objs/mingw/vouch\B_LODDAT.o c:/dev_objs/mingw/vouch\B_LODFLD.o
c:/dev_objs/mingw/vouch\B_LOG.o c:/dev_objs/mingw/vouch\B_LUKCHK.o
c:/dev_objs/mingw/vouch\B_MACROS.o c:/dev_objs/mingw/vouch\B_MDLOCK.o
c:/dev_objs/mingw/vouch\B_MENU_Z.o c:/dev_objs/mingw/vouch\B_MENUTO.o
c:/dev_objs/mingw/vouch\B_MNGDAT.o c:/dev_objs/mingw/vouch\B_MOVEWN.o
c:/dev_objs/mingw/vouch\B_MSAGNT.o c:/dev_objs/mingw/vouch\B_MSGBOX.o
c:/dev_objs/mingw/vouch\B_MSWORD.o c:/dev_objs/mingw/vouch\B_NEWPRS.o
c:/dev_objs/mingw/vouch\B_NOTES.o c:/dev_objs/mingw/vouch\B_NUM2FG.o
c:/dev_objs/mingw/vouch\B_OBJECT.o c:/dev_objs/mingw/vouch\B_ORDERS.o
c:/dev_objs/mingw/vouch\B_ORGDTL.o c:/dev_objs/mingw/vouch\B_ORGNZN.o
c:/dev_objs/mingw/vouch\B_PAGER.o c:/dev_objs/mingw/vouch\B_PIKDAT.o
c:/dev_objs/mingw/vouch\B_PIKSYS.o c:/dev_objs/mingw/vouch\B_POPS.o
c:/dev_objs/mingw/vouch\B_POPUPS.o c:/dev_objs/mingw/vouch\B_PRGEXE.o
c:/dev_objs/mingw/vouch\B_PRGWRI.o c:/dev_objs/mingw/vouch\B_PRINTA.o
c:/dev_objs/mingw/vouch\B_PRINTX.o c:/dev_objs/mingw/vouch\B_PRINTZ.o
c:/dev_objs/mingw/vouch\B_PRNCOM.o c:/dev_objs/mingw/vouch\B_PROMPT.o
c:/dev_objs/mingw/vouch\B_PURBUK.o c:/dev_objs/mingw/vouch\B_QBM.o
c:/dev_objs/mingw/vouch\B_READER.o c:/dev_objs/mingw/vouch\B_REMIND.o
c:/dev_objs/mingw/vouch\B_RENUMB.o c:/dev_objs/mingw/vouch\B_REPLAC.o
c:/dev_objs/mingw/vouch\B_REPORT.o c:/dev_objs/mingw/vouch\B_RQUEST.o
c:/dev_objs/mingw/vouch\B_SAVENV.o c:/dev_objs/mingw/vouch\B_SCHEDL.o
c:/dev_objs/mingw/vouch\B_SCROLB.o c:/dev_objs/mingw/vouch\B_SDWBOX.o
c:/dev_objs/mingw/vouch\B_SEARCH.o c:/dev_objs/mingw/vouch\B_SELCTN.o
c:/dev_objs/mingw/vouch\B_SELREC.o c:/dev_objs/mingw/vouch\B_SEMA4.o
c:/dev_objs/mingw/vouch\B_SETS.o c:/dev_objs/mingw/vouch\B_SETS_Y.o
c:/dev_objs/mingw/vouch\B_SIZEWN.o c:/dev_objs/mingw/vouch\B_SLIDE.o
c:/dev_objs/mingw/vouch\B_SLRGEN.o c:/dev_objs/mingw/vouch\B_SPEED.o
c:/dev_objs/mingw/vouch\B_SQL.o c:/dev_objs/mingw/vouch\B_STDLGR.o
c:/dev_objs/mingw/vouch\B_STOCKS.o c:/dev_objs/mingw/vouch\B_SUBSET.o
c:/dev_objs/mingw/vouch\B_TAXRTN.o c:/dev_objs/mingw/vouch\B_TB2HTM.o
c:/dev_objs/mingw/vouch\B_TDS.o c:/dev_objs/mingw/vouch\B_TITLE.o
c:/dev_objs/mingw/vouch\B_TMPLAT.o c:/dev_objs/mingw/vouch\B_TREE.o
c:/dev_objs/mingw/vouch\B_TRIGNO.o c:/dev_objs/mingw/vouch\B_UPDATE.o
c:/dev_objs/mingw/vouch\B_UPDFRM.o c:/dev_objs/mingw/vouch\B_UPLOAD.o
c:/dev_objs/mingw/vouch\B_USERS.o c:/dev_objs/mingw/vouch\B_USRDBF.o
c:/dev_objs/mingw/vouch\B_V32PRN.o c:/dev_objs/mingw/vouch\B_VGACLR.o
c:/dev_objs/mingw/vouch\B_VRULER.o c:/dev_objs/mingw/vouch\B_WAITON.o
c:/dev_objs/mingw/vouch\B_WEBUTL.o c:/dev_objs/mingw/vouch\B_WHNVLD.o
c:/dev_objs/mingw/vouch\B_WVT.o c:/dev_objs/mingw/vouch\B_WVTDLG.o
c:/dev_objs/mingw/vouch\B_YEAR.o c:/dev_objs/mingw/vouch\BROWS_DI.o
c:/dev_objs/mingw/vouch\C_CHGATR.o c:/dev_objs/mingw/vouch\C_CREATE.o
c:/dev_objs/mingw/vouch\C_DVMENU.o c:/dev_objs/mingw/vouch\C_MAKPRG.o
c:/dev_objs/mingw/vouch\C_PRSFMT.o c:/dev_objs/mingw/vouch\C_SAVPRG.o
c:/dev_objs/mingw/vouch\CL_BRWIX.o c:/dev_objs/mingw/vouch\CL_DPRNT.o
c:/dev_objs/mingw/vouch\CL_EDIT.o c:/dev_objs/mingw/vouch\CL_PDF.o
c:/dev_objs/mingw/vouch\CL_PRINT.o c:/dev_objs/mingw/vouch\CL_RPDGN.o
c:/dev_objs/mingw/vouch\CL_RPGNR.o c:/dev_objs/mingw/vouch\CL_STACK.o
c:/dev_objs/mingw/vouch\CL_STKNN.o c:/dev_objs/mingw/vouch\F6_KEYS.o
c:/dev_objs/mingw/vouch\FA_ACCNT.o c:/dev_objs/mingw/vouch\FA_AGING.o
c:/dev_objs/mingw/vouch\FA_BKMRG.o c:/dev_objs/mingw/vouch\FA_BOOK2.o
c:/dev_objs/mingw/vouch\FA_BOOKS.o c:/dev_objs/mingw/vouch\FA_DEPRI.o
c:/dev_objs/mingw/vouch\FA_FINAL.o c:/dev_objs/mingw/vouch\FA_FNLNW.o
c:/dev_objs/mingw/vouch\FA_MENU.o c:/dev_objs/mingw/vouch\FA_MULTI.o
c:/dev_objs/mingw/vouch\FA_QUICK.o c:/dev_objs/mingw/vouch\FA_RCNSL.o
c:/dev_objs/mingw/vouch\FA_SELCT.o c:/dev_objs/mingw/vouch\FA_SINGL.o
c:/dev_objs/mingw/vouch\FA_TRIAL.o c:/dev_objs/mingw/vouch\FA_VOUCH.o
c:/dev_objs/mingw/vouch\G_POPDAT.o c:/dev_objs/mingw/vouch\GN_ASMBL.o
c:/dev_objs/mingw/vouch\GN_BANKS.o c:/dev_objs/mingw/vouch\GN_CARGO.o
c:/dev_objs/mingw/vouch\GN_CLUBS.o c:/dev_objs/mingw/vouch\GN_COURR.o
c:/dev_objs/mingw/vouch\GN_DAIRY.o c:/dev_objs/mingw/vouch\GN_DVLOP.o
c:/dev_objs/mingw/vouch\GN_EXPRT.o c:/dev_objs/mingw/vouch\GN_HOTEL.o
c:/dev_objs/mingw/vouch\GN_HSPTL.o c:/dev_objs/mingw/vouch\GN_ISO.o
c:/dev_objs/mingw/vouch\GN_KITTY.o c:/dev_objs/mingw/vouch\GN_N1MKT.o
c:/dev_objs/mingw/vouch\GN_N2MKT.o c:/dev_objs/mingw/vouch\GN_NTMKT.o
c:/dev_objs/mingw/vouch\GN_PPUMP.o c:/dev_objs/mingw/vouch\GN_PRDTN.o
c:/dev_objs/mingw/vouch\GN_SCHOL.o c:/dev_objs/mingw/vouch\GN_SHARE.o
c:/dev_objs/mingw/vouch\GN_SLRNW.o c:/dev_objs/mingw/vouch\GN_TRNSP.o
c:/dev_objs/mingw/vouch\GN_XCHNG.o c:/dev_objs/mingw/vouch\HB_CHG2B.o
c:/dev_objs/mingw/vouch\MV_RPRT1.o c:/dev_objs/mingw/vouch\R_SPENCE.o
c:/dev_objs/mingw/vouch\RP_DESGN.o c:/dev_objs/mingw/vouch\RP_GNRTR.o
c:/dev_objs/mingw/vouch\RP_INVIC.o c:/dev_objs/mingw/vouch\RP_STOCK.o
c:/dev_objs/mingw/vouch\SAV_ARRY.o c:/dev_objs/mingw/vouch\SAV_COLR.o
c:/dev_objs/mingw/vouch\SC_DESGN.o c:/dev_objs/mingw/vouch\SC_FIELD.o
c:/dev_objs/mingw/vouch\SC_MENU.o c:/dev_objs/mingw/vouch\SC_OUTPT.o
c:/dev_objs/mingw/vouch\SC_PRINT.o c:/dev_objs/mingw/vouch\SC_PRPTY.o
c:/dev_objs/mingw/vouch\SC_UTLTY.o c:/dev_objs/mingw/vouch\SRVR_DTA.o
c:/dev_objs/mingw/vouch\SRVR_MRG.o c:/dev_objs/mingw/vouch\SRVR_PRD.o
c:/dev_objs/mingw/vouch\SRVR_QRY.o c:/dev_objs/mingw/vouch\ST_SETUP.o
c:/dev_objs/mingw/vouch\ST_VOUCH.o c:/dev_objs/mingw/vouch\STD_VOCH.o
c:/dev_objs/mingw/vouch\TSTPDF.o c:/dev_objs/mingw/vouch\V_CLCLTR.o
c:/dev_objs/mingw/vouch\V_DEL_FL.o c:/dev_objs/mingw/vouch\V_GEN_01.o
c:/dev_objs/mingw/vouch\V_GENERL.o c:/dev_objs/mingw/vouch\V_HELP.o
c:/dev_objs/mingw/vouch\V_KRYPT.o c:/dev_objs/mingw/vouch\V_LOGOS.o
c:/dev_objs/mingw/vouch\V_PASWRD.o c:/dev_objs/mingw/vouch\V_PROFIL.o
c:/dev_objs/mingw/vouch\V_TIMES.o c:/dev_objs/mingw/vouch\V_UNQNUM.o
c:/dev_objs/mingw/vouch\B_Ocx.o c:/dev_objs/mingw/vouch\FR_RPORT.o
c:/dev_objs/mingw/vouch\FastRepV.o c:/dev_objs/mingw/vouch\FastRepH.o
c:/dev_objs/mingw/vouch\cj_calndr.o c:/dev_objs/mingw/vouch\xb_brows.o
c:/dev_objs/mingw/vouch\b_wvg.o c:/dev_objs/mingw/vouch\vou_brws.o
c:/dev_objs/mingw/vouch\VOUCH32.o c:/dev_objs/mingw/vouch\ActivLbl.o
c:/dev_objs/mingw/vouch\TxText.o c:/dev_objs/mingw/vouch\FastRepo.o
c:/dev_objs/mingw/vouch\Calendar.o c:/dev_objs/mingw/vouch\CJReport.o
c:/dev_objs/mingw/vouch\FuncList.o c:/dev_objs/mingw/vouch\tprinter.o
c:/dev_objs/mingw/vouch\_hbmkaut.o  c:/dev_objs/mingw/vouch\version.reso
c:/dev_objs/mingw/vouch\vouchsrv.reso c:/dev_objs/mingw/vouch\txtext.reso
c:/dev_objs/mingw/vouch\abs.reso  -mwindows -lv32lib -lfreewin -lhbwin
-lhbtip -lhbmzip -lhbziparc -lhbnf -lxhb -lmapi32 -lwininet -lrasapi32
-ltapi32 -lgtwvg -lhbwin -lhbextern -lhbdebug -lhbvmmt -lhbrtl -lhblang
-lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lgtwvg -lhbrdd
-lhbusrrdd -lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt -lhbuddall -lrddnsx
-lhbrtl -lhbvmmt -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib
-lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32
-lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm -lmapi32
-limm32 -lmsimg32 -lwininet  -oc:/dev_exes/vouch_mingw.exe
-LC:/harbour_dev/harbour/mingw/lib -Lc:/dev_libs/harbour/mingw


But I cannot see vouch_mingw.exe in the destination folder.
The same happens with MSVC. 
The strange thing is :

I copy any exe as vouch_mingw.exe in the destination folder.
Issue hbmk2 which produces above log entry.
For a moment I can see that vouch_mingw.exe changes its size and time-stamp 
and then disappears.

What I am doing wrong ?

Here is my vouch.hbm:

#
#    Vouch Project File for HBMK2
#

-trace

-inc 
-gui
-mt
-gtwvg
-d__VOUCH__ -d__WVT__ -d__oHARBOUR__ -d__OCX__ -d__MT__ -d__MW_PURE__


#    Working Folder to Retain Object Files
#
-workdir=c:\dev_objs\${hb_comp}\vouch
#-workdir=c:\dev_objs


#    Executable Name
#
-oc:\dev_exes\vouch_${hb_comp}.exe 


#    Header Paths 
#
-ic:\dev_sources\vouch\include
-ic:\dev_sources\cachemgr\include
-ic:\dev_sources\v32lib\include
-ic:\dev_sources\freewin\include
-ic:\harbour\contrib\gtwvg
-ic:\harbour\contrib\xhb


#    Library Paths
#
-L{bcc}c:\bcc55\lib
-L{bcc}c:\bcc55\lib\psdk
-L{bcc}c:\dev_libs\harbour\bcc
-L{bcc}c:\dev_sources\dev_winlibs

-L{msvc}c:\dev_libs\harbour\msvc

-L{mingw}c:\dev_libs\harbour\mingw


#    Libraries
#
-lv32lib
-lfreewin

-l{allwin}hbwin
-lhbtip
-lhbmzip
-lhbziparc
-lhbnf
-lxhb

-l{bcc}mapi32x
-l{bcc}hhctrl
-l{bcc}wininet

-l{msvc}mapi32
-l{msvc}wininet
-l{msvc}rasapi32
-l{msvc}tapi32

-l{mingw}mapi32
-l{mingw}wininet
-l{mingw}rasapi32
-l{mingw}tapi32


#    Compiler Flags
#
-cflag=-D__VOUCH__


#    Source Files
#
c:\dev_sources\vouch\source\VOUCH.PRG
c:\dev_sources\vouch\source\A_ARRAY.PRG
c:\dev_sources\vouch\source\B_53.PRG
c:\dev_sources\vouch\source\B_ABOUT.PRG
c:\dev_sources\vouch\source\B_ACHOIC.PRG
c:\dev_sources\vouch\source\B_ADDSCR.PRG
c:\dev_sources\vouch\source\B_ADSEXP.PRG
c:\dev_sources\vouch\source\B_AGENTS.PRG
c:\dev_sources\vouch\source\B_ARRAYS.PRG
c:\dev_sources\vouch\source\B_ARREAD.PRG
c:\dev_sources\vouch\source\B_ARRMNG.PRG
c:\dev_sources\vouch\source\B_ARVIEW.PRG
c:\dev_sources\vouch\source\B_AUTOCD.PRG
c:\dev_sources\vouch\source\B_BACKUP.PRG
c:\dev_sources\vouch\source\B_BATCH.PRG
c:\dev_sources\vouch\source\B_BNKMNG.PRG
c:\dev_sources\vouch\source\B_BRWARR.PRG
c:\dev_sources\vouch\source\B_BRWATC.PRG
c:\dev_sources\vouch\source\B_BRWBRW.PRG
c:\dev_sources\vouch\source\B_BRWCLR.PRG
c:\dev_sources\vouch\source\B_BRWCMP.PRG
c:\dev_sources\vouch\source\B_BRWDBF.PRG
c:\dev_sources\vouch\source\B_BRWF06.PRG
c:\dev_sources\vouch\source\B_BRWF36.PRG
c:\dev_sources\vouch\source\B_BRWGAR.PRG
c:\dev_sources\vouch\source\B_BRWGRF.PRG
c:\dev_sources\vouch\source\B_BRWKEY.PRG
c:\dev_sources\vouch\source\B_BRWOBJ.PRG
c:\dev_sources\vouch\source\B_BRWPRN.PRG
c:\dev_sources\vouch\source\B_BRWRMS.PRG
c:\dev_sources\vouch\source\B_BRWSET.PRG
c:\dev_sources\vouch\source\B_BRWSYS.PRG
c:\dev_sources\vouch\source\B_BRWTXT.PRG
c:\dev_sources\vouch\source\B_BRWUDC.PRG
c:\dev_sources\vouch\source\B_BRWUTL.PRG
c:\dev_sources\vouch\source\B_BUDGET.PRG
c:\dev_sources\vouch\source\B_CALEND.PRG
c:\dev_sources\vouch\source\B_CALFLD.PRG
c:\dev_sources\vouch\source\B_CFGEXP.PRG
c:\dev_sources\vouch\source\B_CFGLOD.PRG
c:\dev_sources\vouch\source\B_CHOICE.PRG
c:\dev_sources\vouch\source\B_CMMNDS.PRG
c:\dev_sources\vouch\source\B_CNSLDT.PRG
c:\dev_sources\vouch\source\B_COMMAN.PRG
c:\dev_sources\vouch\source\B_CONF01.PRG
c:\dev_sources\vouch\source\B_CONFIG.PRG
c:\dev_sources\vouch\source\B_CUSPS.PRG
c:\dev_sources\vouch\source\B_DBDIR.PRG
c:\dev_sources\vouch\source\B_DBFATT.PRG
c:\dev_sources\vouch\source\B_DBFCHG.PRG
c:\dev_sources\vouch\source\B_DETAIL.PRG
c:\dev_sources\vouch\source\B_DEVBOO.PRG
c:\dev_sources\vouch\source\B_DIALOG.PRG
c:\dev_sources\vouch\source\B_DISKST.PRG
c:\dev_sources\vouch\source\B_DOCDOC.PRG
c:\dev_sources\vouch\source\B_DOCTXT.PRG
c:\dev_sources\vouch\source\B_DOCUTL.PRG
c:\dev_sources\vouch\source\B_DOSHEL.PRG
c:\dev_sources\vouch\source\B_DRAPE.PRG
c:\dev_sources\vouch\source\B_EDITOR.PRG
c:\dev_sources\vouch\source\B_EDTALL.PRG
c:\dev_sources\vouch\source\B_EMAIL.PRG
c:\dev_sources\vouch\source\B_EMPLOY.PRG
c:\dev_sources\vouch\source\B_ENKORG.PRG
c:\dev_sources\vouch\source\B_EQUATN.PRG
c:\dev_sources\vouch\source\B_ERROR.PRG
c:\dev_sources\vouch\source\B_EVENT.PRG
c:\dev_sources\vouch\source\B_EXE0.PRG
c:\dev_sources\vouch\source\B_EXE1.PRG
c:\dev_sources\vouch\source\B_EXE2.PRG
c:\dev_sources\vouch\source\B_EXECUT.PRG
c:\dev_sources\vouch\source\B_EXEDLL.PRG
c:\dev_sources\vouch\source\B_EXEMOD.PRG
c:\dev_sources\vouch\source\B_EXERSC.PRG
c:\dev_sources\vouch\source\B_EXESRL.PRG
c:\dev_sources\vouch\source\B_EXPORT.PRG
c:\dev_sources\vouch\source\B_EXPRMT.PRG
c:\dev_sources\vouch\source\B_FABRPT.PRG
c:\dev_sources\vouch\source\B_FILEPA.PRG
c:\dev_sources\vouch\source\B_FILTER.PRG
c:\dev_sources\vouch\source\B_FONTS.PRG
c:\dev_sources\vouch\source\B_FORMAT.PRG
c:\dev_sources\vouch\source\B_FUNCTN.PRG
c:\dev_sources\vouch\source\B_GAUGE.PRG
c:\dev_sources\vouch\source\B_GETACH.PRG
c:\dev_sources\vouch\source\B_GETPUT.PRG
c:\dev_sources\vouch\source\B_GETSOM.PRG
c:\dev_sources\vouch\source\B_GETSTK.PRG
c:\dev_sources\vouch\source\B_GRCHAR.PRG
c:\dev_sources\vouch\source\B_GRFV01.PRG
c:\dev_sources\vouch\source\B_GRID.PRG
c:\dev_sources\vouch\source\B_HRULER.PRG
c:\dev_sources\vouch\source\B_IDXBAR.PRG
c:\dev_sources\vouch\source\B_IMPORT.PRG
c:\dev_sources\vouch\source\B_INDEX.PRG
c:\dev_sources\vouch\source\B_INET.PRG
c:\dev_sources\vouch\source\B_INITLZ.PRG
c:\dev_sources\vouch\source\B_INKEYS.PRG
c:\dev_sources\vouch\source\B_JOBPRS.PRG
c:\dev_sources\vouch\source\B_KEEPER.PRG
c:\dev_sources\vouch\source\B_LABELS.PRG
c:\dev_sources\vouch\source\B_LDRBWR.PRG
c:\dev_sources\vouch\source\B_LICENS.PRG
c:\dev_sources\vouch\source\B_LISTDR.PRG
c:\dev_sources\vouch\source\B_LLIBB.PRG
c:\dev_sources\vouch\source\B_LOCKS.PRG
c:\dev_sources\vouch\source\B_LODDAT.PRG
c:\dev_sources\vouch\source\B_LODFLD.PRG
c:\dev_sources\vouch\source\B_LOG.PRG
c:\dev_sources\vouch\source\B_LUKCHK.PRG
c:\dev_sources\vouch\source\B_MACROS.PRG
c:\dev_sources\vouch\source\B_MDLOCK.PRG
c:\dev_sources\vouch\source\B_MENU_Z.PRG
c:\dev_sources\vouch\source\B_MENUTO.PRG
c:\dev_sources\vouch\source\B_MNGDAT.PRG
c:\dev_sources\vouch\source\B_MOVEWN.PRG
c:\dev_sources\vouch\source\B_MSAGNT.PRG
c:\dev_sources\vouch\source\B_MSGBOX.PRG
c:\dev_sources\vouch\source\B_MSWORD.PRG
c:\dev_sources\vouch\source\B_NEWPRS.PRG
c:\dev_sources\vouch\source\B_NOTES.PRG
c:\dev_sources\vouch\source\B_NUM2FG.PRG
c:\dev_sources\vouch\source\B_OBJECT.PRG
c:\dev_sources\vouch\source\B_ORDERS.PRG
c:\dev_sources\vouch\source\B_ORGDTL.PRG
c:\dev_sources\vouch\source\B_ORGNZN.PRG
c:\dev_sources\vouch\source\B_PAGER.PRG
c:\dev_sources\vouch\source\B_PIKDAT.PRG
c:\dev_sources\vouch\source\B_PIKSYS.PRG
c:\dev_sources\vouch\source\B_POPS.PRG
c:\dev_sources\vouch\source\B_POPUPS.PRG
c:\dev_sources\vouch\source\B_PRGEXE.PRG
c:\dev_sources\vouch\source\B_PRGWRI.PRG
c:\dev_sources\vouch\source\B_PRINTA.PRG
c:\dev_sources\vouch\source\B_PRINTX.PRG
c:\dev_sources\vouch\source\B_PRINTZ.PRG
c:\dev_sources\vouch\source\B_PRNCOM.PRG
c:\dev_sources\vouch\source\B_PROMPT.PRG
c:\dev_sources\vouch\source\B_PURBUK.PRG
c:\dev_sources\vouch\source\B_QBM.PRG
c:\dev_sources\vouch\source\B_READER.PRG
c:\dev_sources\vouch\source\B_REMIND.PRG
c:\dev_sources\vouch\source\B_RENUMB.PRG
c:\dev_sources\vouch\source\B_REPLAC.PRG
c:\dev_sources\vouch\source\B_REPORT.PRG
c:\dev_sources\vouch\source\B_RQUEST.PRG
c:\dev_sources\vouch\source\B_SAVENV.PRG
c:\dev_sources\vouch\source\B_SCHEDL.PRG
c:\dev_sources\vouch\source\B_SCROLB.PRG
c:\dev_sources\vouch\source\B_SDWBOX.PRG
c:\dev_sources\vouch\source\B_SEARCH.PRG
c:\dev_sources\vouch\source\B_SELCTN.PRG
c:\dev_sources\vouch\source\B_SELREC.PRG
c:\dev_sources\vouch\source\B_SEMA4.PRG
c:\dev_sources\vouch\source\B_SETS.PRG
c:\dev_sources\vouch\source\B_SETS_Y.PRG
c:\dev_sources\vouch\source\B_SIZEWN.PRG
c:\dev_sources\vouch\source\B_SLIDE.PRG
c:\dev_sources\vouch\source\B_SLRGEN.PRG
c:\dev_sources\vouch\source\B_SPEED.PRG
c:\dev_sources\vouch\source\B_SQL.PRG
c:\dev_sources\vouch\source\B_STDLGR.PRG
c:\dev_sources\vouch\source\B_STOCKS.PRG
c:\dev_sources\vouch\source\B_SUBSET.PRG
c:\dev_sources\vouch\source\B_TAXRTN.PRG
c:\dev_sources\vouch\source\B_TB2HTM.PRG
c:\dev_sources\vouch\source\B_TDS.PRG
c:\dev_sources\vouch\source\B_TITLE.PRG
c:\dev_sources\vouch\source\B_TMPLAT.PRG
c:\dev_sources\vouch\source\B_TREE.PRG
c:\dev_sources\vouch\source\B_TRIGNO.PRG
c:\dev_sources\vouch\source\B_UPDATE.PRG
c:\dev_sources\vouch\source\B_UPDFRM.PRG
c:\dev_sources\vouch\source\B_UPLOAD.PRG
c:\dev_sources\vouch\source\B_USERS.PRG
c:\dev_sources\vouch\source\B_USRDBF.PRG
c:\dev_sources\vouch\source\B_V32PRN.PRG
c:\dev_sources\vouch\source\B_VGACLR.PRG
c:\dev_sources\vouch\source\B_VRULER.PRG
c:\dev_sources\vouch\source\B_WAITON.PRG
c:\dev_sources\vouch\source\B_WEBUTL.PRG
c:\dev_sources\vouch\source\B_WHNVLD.PRG
c:\dev_sources\vouch\source\B_WVT.PRG
c:\dev_sources\vouch\source\B_WVTDLG.PRG
c:\dev_sources\vouch\source\B_YEAR.PRG
c:\dev_sources\vouch\source\BROWS_DI.PRG
c:\dev_sources\vouch\source\C_CHGATR.PRG
c:\dev_sources\vouch\source\C_CREATE.PRG
c:\dev_sources\vouch\source\C_DVMENU.PRG
c:\dev_sources\vouch\source\C_MAKPRG.PRG
c:\dev_sources\vouch\source\C_PRSFMT.PRG
c:\dev_sources\vouch\source\C_SAVPRG.PRG
c:\dev_sources\vouch\source\CL_BRWIX.PRG
c:\dev_sources\vouch\source\CL_DPRNT.PRG
c:\dev_sources\vouch\source\CL_EDIT.PRG
c:\dev_sources\vouch\source\CL_PDF.PRG
c:\dev_sources\vouch\source\CL_PRINT.PRG
c:\dev_sources\vouch\source\CL_RPDGN.PRG
c:\dev_sources\vouch\source\CL_RPGNR.PRG
c:\dev_sources\vouch\source\CL_STACK.PRG
c:\dev_sources\vouch\source\CL_STKNN.PRG
c:\dev_sources\vouch\source\F6_KEYS.PRG
c:\dev_sources\vouch\source\FA_ACCNT.PRG
c:\dev_sources\vouch\source\FA_AGING.PRG
c:\dev_sources\vouch\source\FA_BKMRG.PRG
c:\dev_sources\vouch\source\FA_BOOK2.PRG
c:\dev_sources\vouch\source\FA_BOOKS.PRG
c:\dev_sources\vouch\source\FA_DEPRI.PRG
c:\dev_sources\vouch\source\FA_FINAL.PRG
c:\dev_sources\vouch\source\FA_FNLNW.PRG
c:\dev_sources\vouch\source\FA_MENU.PRG
c:\dev_sources\vouch\source\FA_MULTI.PRG
c:\dev_sources\vouch\source\FA_QUICK.PRG
c:\dev_sources\vouch\source\FA_RCNSL.PRG
c:\dev_sources\vouch\source\FA_SELCT.PRG
c:\dev_sources\vouch\source\FA_SINGL.PRG
c:\dev_sources\vouch\source\FA_TRIAL.PRG
c:\dev_sources\vouch\source\FA_VOUCH.PRG
c:\dev_sources\vouch\source\G_POPDAT.PRG
c:\dev_sources\vouch\source\GN_ASMBL.PRG
c:\dev_sources\vouch\source\GN_BANKS.PRG
c:\dev_sources\vouch\source\GN_CARGO.PRG
c:\dev_sources\vouch\source\GN_CLUBS.PRG
c:\dev_sources\vouch\source\GN_COURR.PRG
c:\dev_sources\vouch\source\GN_DAIRY.PRG
c:\dev_sources\vouch\source\GN_DVLOP.PRG
c:\dev_sources\vouch\source\GN_EXPRT.PRG
c:\dev_sources\vouch\source\GN_HOTEL.PRG
c:\dev_sources\vouch\source\GN_HSPTL.PRG
c:\dev_sources\vouch\source\GN_ISO.PRG
c:\dev_sources\vouch\source\GN_KITTY.PRG
c:\dev_sources\vouch\source\GN_N1MKT.PRG
c:\dev_sources\vouch\source\GN_N2MKT.PRG
c:\dev_sources\vouch\source\GN_NTMKT.PRG
c:\dev_sources\vouch\source\GN_PPUMP.PRG
c:\dev_sources\vouch\source\GN_PRDTN.PRG
c:\dev_sources\vouch\source\GN_SCHOL.PRG
c:\dev_sources\vouch\source\GN_SHARE.PRG
c:\dev_sources\vouch\source\GN_SLRNW.PRG
c:\dev_sources\vouch\source\GN_TRNSP.PRG
c:\dev_sources\vouch\source\GN_XCHNG.PRG
c:\dev_sources\vouch\source\HB_CHG2B.PRG
c:\dev_sources\vouch\source\MV_RPRT1.PRG
c:\dev_sources\vouch\source\R_SPENCE.PRG
c:\dev_sources\vouch\source\RP_DESGN.PRG
c:\dev_sources\vouch\source\RP_GNRTR.PRG
c:\dev_sources\vouch\source\RP_INVIC.PRG
c:\dev_sources\vouch\source\RP_STOCK.PRG
c:\dev_sources\vouch\source\SAV_ARRY.PRG
c:\dev_sources\vouch\source\SAV_COLR.PRG
c:\dev_sources\vouch\source\SC_DESGN.PRG
c:\dev_sources\vouch\source\SC_FIELD.PRG
c:\dev_sources\vouch\source\SC_MENU.PRG
c:\dev_sources\vouch\source\SC_OUTPT.PRG
c:\dev_sources\vouch\source\SC_PRINT.PRG
c:\dev_sources\vouch\source\SC_PRPTY.PRG
c:\dev_sources\vouch\source\SC_UTLTY.PRG
c:\dev_sources\vouch\source\SRVR_DTA.PRG
c:\dev_sources\vouch\source\SRVR_MRG.PRG
c:\dev_sources\vouch\source\SRVR_PRD.PRG
c:\dev_sources\vouch\source\SRVR_QRY.PRG
c:\dev_sources\vouch\source\ST_SETUP.PRG
c:\dev_sources\vouch\source\ST_VOUCH.PRG
c:\dev_sources\vouch\source\STD_VOCH.PRG
c:\dev_sources\vouch\source\TSTPDF.PRG
c:\dev_sources\vouch\source\V_CLCLTR.PRG
c:\dev_sources\vouch\source\V_DEL_FL.PRG
c:\dev_sources\vouch\source\V_GEN_01.PRG
c:\dev_sources\vouch\source\V_GENERL.PRG
c:\dev_sources\vouch\source\V_HELP.PRG
c:\dev_sources\vouch\source\V_KRYPT.PRG
c:\dev_sources\vouch\source\V_LOGOS.PRG
c:\dev_sources\vouch\source\V_PASWRD.PRG
c:\dev_sources\vouch\source\V_PROFIL.PRG
c:\dev_sources\vouch\source\V_TIMES.PRG
c:\dev_sources\vouch\source\V_UNQNUM.PRG
c:\dev_sources\vouch\source\B_Ocx.prg
c:\dev_sources\vouch\source\FR_RPORT.PRG
c:\dev_sources\vouch\source\FastRepV.prg
C:\dev_sources\vouch\source\FastRepH.prg
C:\dev_sources\vouch\source\cj_calndr.prg
C:\dev_sources\vouch\source\xb_brows.prg
C:\dev_sources\vouch\source\b_wvg.prg
C:\dev_sources\vouch\source\vou_brws.prg

C:\dev_sources\vouch\source\VOUCH32.PRG

c:\dev_sources\cachemgr\source\ActivLbl.prg
c:\dev_sources\cachemgr\source\TxText.prg
c:\dev_sources\cachemgr\source\FastRepo.prg
c:\dev_sources\cachemgr\source\Calendar.prg
c:\dev_sources\cachemgr\source\CJReport.prg
c:\dev_sources\cachemgr\source\FuncList.prg

C:\dev_sources\vouch\source\tprinter.c

c:\dev_sources\dev_resources\version.rc
c:\dev_sources\dev_resources\vouchsrv.res
c:\dev_sources\dev_resources\txtext.res
c:\dev_sources\dev_resources\abs.res



And here is the m.bat which I call in dos-console on XP:

@echo off
hbmk2 @vouch.hbm > log-%HB_COMPILER%.log


Help is appreciated.

Regards
Pritpal Bedi
-- 
View this message in context: http://www.nabble.com/HBMK2---Strange-Behavior-tp25107808p25107808.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sun Aug 23 18:30:03 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug 23 18:30:13 2009
Subject: [Harbour] HBMK2 - Strange Behavior
In-Reply-To: <25107808.post@talk.nabble.com>
References: <25107808.post@talk.nabble.com>
Message-ID: <F328B1DA-198E-4ECA-806C-2E938646FA25@syenar.hu>

Hi Pritpal,

Strange indeed. Couldn't reproduce here using your script
(BTW thanks for the complete set of information), except
that I commented libs and used one simple local source file.

There is only one location in hbmk2 which tries to delete
the target executable, but that could only happen in
non-incremental mode for static libs or when using -rebuild.
And even these happen _before_ linking.

Are you sure there is no linking error? Everything indicates
that the .exes are removed by the linkers themselves after they
sensed some errors. If this is the case, there should be some
sort of error msg shown form these tools.

To rule out hbmk2, you can tempy add to hbmk2.prg these lines:
STATIC FUNCTION FERASE( n )
    HB_SYMBOL_UNUSED( n )
    RETURN 0
If it solves the problem, we can continue investigating.

Brgds,
Viktor

On 2009.08.23., at 11:54, Pritpal Bedi wrote:

>
> Hello Viktor
>
> After compiling process, the linker command produces this log entry:
>
> hbmk: Processing configuration: c:\harbour_dev\harbour\mingw\bin 
> \hbmk.cfg
> hbmk: Linking... c:/dev_exes/vouch_mingw.exe
> hbmk: Linker command:
> gcc.exe c:/dev_objs/mingw/vouch\VOUCH.o c:/dev_objs/mingw/vouch 
> \A_ARRAY.o
> c:/dev_objs/mingw/vouch\B_53.o c:/dev_objs/mingw/vouch\B_ABOUT.o
> c:/dev_objs/mingw/vouch\B_ACHOIC.o c:/dev_objs/mingw/vouch\B_ADDSCR.o
> c:/dev_objs/mingw/vouch\B_ADSEXP.o c:/dev_objs/mingw/vouch\B_AGENTS.o
> c:/dev_objs/mingw/vouch\B_ARRAYS.o c:/dev_objs/mingw/vouch\B_ARREAD.o
> c:/dev_objs/mingw/vouch\B_ARRMNG.o c:/dev_objs/mingw/vouch\B_ARVIEW.o
> c:/dev_objs/mingw/vouch\B_AUTOCD.o c:/dev_objs/mingw/vouch\B_BACKUP.o
> c:/dev_objs/mingw/vouch\B_BATCH.o c:/dev_objs/mingw/vouch\B_BNKMNG.o
> c:/dev_objs/mingw/vouch\B_BRWARR.o c:/dev_objs/mingw/vouch\B_BRWATC.o
> c:/dev_objs/mingw/vouch\B_BRWBRW.o c:/dev_objs/mingw/vouch\B_BRWCLR.o
> c:/dev_objs/mingw/vouch\B_BRWCMP.o c:/dev_objs/mingw/vouch\B_BRWDBF.o
> c:/dev_objs/mingw/vouch\B_BRWF06.o c:/dev_objs/mingw/vouch\B_BRWF36.o
> c:/dev_objs/mingw/vouch\B_BRWGAR.o c:/dev_objs/mingw/vouch\B_BRWGRF.o
> c:/dev_objs/mingw/vouch\B_BRWKEY.o c:/dev_objs/mingw/vouch\B_BRWOBJ.o
> c:/dev_objs/mingw/vouch\B_BRWPRN.o c:/dev_objs/mingw/vouch\B_BRWRMS.o
> c:/dev_objs/mingw/vouch\B_BRWSET.o c:/dev_objs/mingw/vouch\B_BRWSYS.o
> c:/dev_objs/mingw/vouch\B_BRWTXT.o c:/dev_objs/mingw/vouch\B_BRWUDC.o
> c:/dev_objs/mingw/vouch\B_BRWUTL.o c:/dev_objs/mingw/vouch\B_BUDGET.o
> c:/dev_objs/mingw/vouch\B_CALEND.o c:/dev_objs/mingw/vouch\B_CALFLD.o
> c:/dev_objs/mingw/vouch\B_CFGEXP.o c:/dev_objs/mingw/vouch\B_CFGLOD.o
> c:/dev_objs/mingw/vouch\B_CHOICE.o c:/dev_objs/mingw/vouch\B_CMMNDS.o
> c:/dev_objs/mingw/vouch\B_CNSLDT.o c:/dev_objs/mingw/vouch\B_COMMAN.o
> c:/dev_objs/mingw/vouch\B_CONF01.o c:/dev_objs/mingw/vouch\B_CONFIG.o
> c:/dev_objs/mingw/vouch\B_CUSPS.o c:/dev_objs/mingw/vouch\B_DBDIR.o
> c:/dev_objs/mingw/vouch\B_DBFATT.o c:/dev_objs/mingw/vouch\B_DBFCHG.o
> c:/dev_objs/mingw/vouch\B_DETAIL.o c:/dev_objs/mingw/vouch\B_DEVBOO.o
> c:/dev_objs/mingw/vouch\B_DIALOG.o c:/dev_objs/mingw/vouch\B_DISKST.o
> c:/dev_objs/mingw/vouch\B_DOCDOC.o c:/dev_objs/mingw/vouch\B_DOCTXT.o
> c:/dev_objs/mingw/vouch\B_DOCUTL.o c:/dev_objs/mingw/vouch\B_DOSHEL.o
> c:/dev_objs/mingw/vouch\B_DRAPE.o c:/dev_objs/mingw/vouch\B_EDITOR.o
> c:/dev_objs/mingw/vouch\B_EDTALL.o c:/dev_objs/mingw/vouch\B_EMAIL.o
> c:/dev_objs/mingw/vouch\B_EMPLOY.o c:/dev_objs/mingw/vouch\B_ENKORG.o
> c:/dev_objs/mingw/vouch\B_EQUATN.o c:/dev_objs/mingw/vouch\B_ERROR.o
> c:/dev_objs/mingw/vouch\B_EVENT.o c:/dev_objs/mingw/vouch\B_EXE0.o
> c:/dev_objs/mingw/vouch\B_EXE1.o c:/dev_objs/mingw/vouch\B_EXE2.o
> c:/dev_objs/mingw/vouch\B_EXECUT.o c:/dev_objs/mingw/vouch\B_EXEDLL.o
> c:/dev_objs/mingw/vouch\B_EXEMOD.o c:/dev_objs/mingw/vouch\B_EXERSC.o
> c:/dev_objs/mingw/vouch\B_EXESRL.o c:/dev_objs/mingw/vouch\B_EXPORT.o
> c:/dev_objs/mingw/vouch\B_EXPRMT.o c:/dev_objs/mingw/vouch\B_FABRPT.o
> c:/dev_objs/mingw/vouch\B_FILEPA.o c:/dev_objs/mingw/vouch\B_FILTER.o
> c:/dev_objs/mingw/vouch\B_FONTS.o c:/dev_objs/mingw/vouch\B_FORMAT.o
> c:/dev_objs/mingw/vouch\B_FUNCTN.o c:/dev_objs/mingw/vouch\B_GAUGE.o
> c:/dev_objs/mingw/vouch\B_GETACH.o c:/dev_objs/mingw/vouch\B_GETPUT.o
> c:/dev_objs/mingw/vouch\B_GETSOM.o c:/dev_objs/mingw/vouch\B_GETSTK.o
> c:/dev_objs/mingw/vouch\B_GRCHAR.o c:/dev_objs/mingw/vouch\B_GRFV01.o
> c:/dev_objs/mingw/vouch\B_GRID.o c:/dev_objs/mingw/vouch\B_HRULER.o
> c:/dev_objs/mingw/vouch\B_IDXBAR.o c:/dev_objs/mingw/vouch\B_IMPORT.o
> c:/dev_objs/mingw/vouch\B_INDEX.o c:/dev_objs/mingw/vouch\B_INET.o
> c:/dev_objs/mingw/vouch\B_INITLZ.o c:/dev_objs/mingw/vouch\B_INKEYS.o
> c:/dev_objs/mingw/vouch\B_JOBPRS.o c:/dev_objs/mingw/vouch\B_KEEPER.o
> c:/dev_objs/mingw/vouch\B_LABELS.o c:/dev_objs/mingw/vouch\B_LDRBWR.o
> c:/dev_objs/mingw/vouch\B_LICENS.o c:/dev_objs/mingw/vouch\B_LISTDR.o
> c:/dev_objs/mingw/vouch\B_LLIBB.o c:/dev_objs/mingw/vouch\B_LOCKS.o
> c:/dev_objs/mingw/vouch\B_LODDAT.o c:/dev_objs/mingw/vouch\B_LODFLD.o
> c:/dev_objs/mingw/vouch\B_LOG.o c:/dev_objs/mingw/vouch\B_LUKCHK.o
> c:/dev_objs/mingw/vouch\B_MACROS.o c:/dev_objs/mingw/vouch\B_MDLOCK.o
> c:/dev_objs/mingw/vouch\B_MENU_Z.o c:/dev_objs/mingw/vouch\B_MENUTO.o
> c:/dev_objs/mingw/vouch\B_MNGDAT.o c:/dev_objs/mingw/vouch\B_MOVEWN.o
> c:/dev_objs/mingw/vouch\B_MSAGNT.o c:/dev_objs/mingw/vouch\B_MSGBOX.o
> c:/dev_objs/mingw/vouch\B_MSWORD.o c:/dev_objs/mingw/vouch\B_NEWPRS.o
> c:/dev_objs/mingw/vouch\B_NOTES.o c:/dev_objs/mingw/vouch\B_NUM2FG.o
> c:/dev_objs/mingw/vouch\B_OBJECT.o c:/dev_objs/mingw/vouch\B_ORDERS.o
> c:/dev_objs/mingw/vouch\B_ORGDTL.o c:/dev_objs/mingw/vouch\B_ORGNZN.o
> c:/dev_objs/mingw/vouch\B_PAGER.o c:/dev_objs/mingw/vouch\B_PIKDAT.o
> c:/dev_objs/mingw/vouch\B_PIKSYS.o c:/dev_objs/mingw/vouch\B_POPS.o
> c:/dev_objs/mingw/vouch\B_POPUPS.o c:/dev_objs/mingw/vouch\B_PRGEXE.o
> c:/dev_objs/mingw/vouch\B_PRGWRI.o c:/dev_objs/mingw/vouch\B_PRINTA.o
> c:/dev_objs/mingw/vouch\B_PRINTX.o c:/dev_objs/mingw/vouch\B_PRINTZ.o
> c:/dev_objs/mingw/vouch\B_PRNCOM.o c:/dev_objs/mingw/vouch\B_PROMPT.o
> c:/dev_objs/mingw/vouch\B_PURBUK.o c:/dev_objs/mingw/vouch\B_QBM.o
> c:/dev_objs/mingw/vouch\B_READER.o c:/dev_objs/mingw/vouch\B_REMIND.o
> c:/dev_objs/mingw/vouch\B_RENUMB.o c:/dev_objs/mingw/vouch\B_REPLAC.o
> c:/dev_objs/mingw/vouch\B_REPORT.o c:/dev_objs/mingw/vouch\B_RQUEST.o
> c:/dev_objs/mingw/vouch\B_SAVENV.o c:/dev_objs/mingw/vouch\B_SCHEDL.o
> c:/dev_objs/mingw/vouch\B_SCROLB.o c:/dev_objs/mingw/vouch\B_SDWBOX.o
> c:/dev_objs/mingw/vouch\B_SEARCH.o c:/dev_objs/mingw/vouch\B_SELCTN.o
> c:/dev_objs/mingw/vouch\B_SELREC.o c:/dev_objs/mingw/vouch\B_SEMA4.o
> c:/dev_objs/mingw/vouch\B_SETS.o c:/dev_objs/mingw/vouch\B_SETS_Y.o
> c:/dev_objs/mingw/vouch\B_SIZEWN.o c:/dev_objs/mingw/vouch\B_SLIDE.o
> c:/dev_objs/mingw/vouch\B_SLRGEN.o c:/dev_objs/mingw/vouch\B_SPEED.o
> c:/dev_objs/mingw/vouch\B_SQL.o c:/dev_objs/mingw/vouch\B_STDLGR.o
> c:/dev_objs/mingw/vouch\B_STOCKS.o c:/dev_objs/mingw/vouch\B_SUBSET.o
> c:/dev_objs/mingw/vouch\B_TAXRTN.o c:/dev_objs/mingw/vouch\B_TB2HTM.o
> c:/dev_objs/mingw/vouch\B_TDS.o c:/dev_objs/mingw/vouch\B_TITLE.o
> c:/dev_objs/mingw/vouch\B_TMPLAT.o c:/dev_objs/mingw/vouch\B_TREE.o
> c:/dev_objs/mingw/vouch\B_TRIGNO.o c:/dev_objs/mingw/vouch\B_UPDATE.o
> c:/dev_objs/mingw/vouch\B_UPDFRM.o c:/dev_objs/mingw/vouch\B_UPLOAD.o
> c:/dev_objs/mingw/vouch\B_USERS.o c:/dev_objs/mingw/vouch\B_USRDBF.o
> c:/dev_objs/mingw/vouch\B_V32PRN.o c:/dev_objs/mingw/vouch\B_VGACLR.o
> c:/dev_objs/mingw/vouch\B_VRULER.o c:/dev_objs/mingw/vouch\B_WAITON.o
> c:/dev_objs/mingw/vouch\B_WEBUTL.o c:/dev_objs/mingw/vouch\B_WHNVLD.o
> c:/dev_objs/mingw/vouch\B_WVT.o c:/dev_objs/mingw/vouch\B_WVTDLG.o
> c:/dev_objs/mingw/vouch\B_YEAR.o c:/dev_objs/mingw/vouch\BROWS_DI.o
> c:/dev_objs/mingw/vouch\C_CHGATR.o c:/dev_objs/mingw/vouch\C_CREATE.o
> c:/dev_objs/mingw/vouch\C_DVMENU.o c:/dev_objs/mingw/vouch\C_MAKPRG.o
> c:/dev_objs/mingw/vouch\C_PRSFMT.o c:/dev_objs/mingw/vouch\C_SAVPRG.o
> c:/dev_objs/mingw/vouch\CL_BRWIX.o c:/dev_objs/mingw/vouch\CL_DPRNT.o
> c:/dev_objs/mingw/vouch\CL_EDIT.o c:/dev_objs/mingw/vouch\CL_PDF.o
> c:/dev_objs/mingw/vouch\CL_PRINT.o c:/dev_objs/mingw/vouch\CL_RPDGN.o
> c:/dev_objs/mingw/vouch\CL_RPGNR.o c:/dev_objs/mingw/vouch\CL_STACK.o
> c:/dev_objs/mingw/vouch\CL_STKNN.o c:/dev_objs/mingw/vouch\F6_KEYS.o
> c:/dev_objs/mingw/vouch\FA_ACCNT.o c:/dev_objs/mingw/vouch\FA_AGING.o
> c:/dev_objs/mingw/vouch\FA_BKMRG.o c:/dev_objs/mingw/vouch\FA_BOOK2.o
> c:/dev_objs/mingw/vouch\FA_BOOKS.o c:/dev_objs/mingw/vouch\FA_DEPRI.o
> c:/dev_objs/mingw/vouch\FA_FINAL.o c:/dev_objs/mingw/vouch\FA_FNLNW.o
> c:/dev_objs/mingw/vouch\FA_MENU.o c:/dev_objs/mingw/vouch\FA_MULTI.o
> c:/dev_objs/mingw/vouch\FA_QUICK.o c:/dev_objs/mingw/vouch\FA_RCNSL.o
> c:/dev_objs/mingw/vouch\FA_SELCT.o c:/dev_objs/mingw/vouch\FA_SINGL.o
> c:/dev_objs/mingw/vouch\FA_TRIAL.o c:/dev_objs/mingw/vouch\FA_VOUCH.o
> c:/dev_objs/mingw/vouch\G_POPDAT.o c:/dev_objs/mingw/vouch\GN_ASMBL.o
> c:/dev_objs/mingw/vouch\GN_BANKS.o c:/dev_objs/mingw/vouch\GN_CARGO.o
> c:/dev_objs/mingw/vouch\GN_CLUBS.o c:/dev_objs/mingw/vouch\GN_COURR.o
> c:/dev_objs/mingw/vouch\GN_DAIRY.o c:/dev_objs/mingw/vouch\GN_DVLOP.o
> c:/dev_objs/mingw/vouch\GN_EXPRT.o c:/dev_objs/mingw/vouch\GN_HOTEL.o
> c:/dev_objs/mingw/vouch\GN_HSPTL.o c:/dev_objs/mingw/vouch\GN_ISO.o
> c:/dev_objs/mingw/vouch\GN_KITTY.o c:/dev_objs/mingw/vouch\GN_N1MKT.o
> c:/dev_objs/mingw/vouch\GN_N2MKT.o c:/dev_objs/mingw/vouch\GN_NTMKT.o
> c:/dev_objs/mingw/vouch\GN_PPUMP.o c:/dev_objs/mingw/vouch\GN_PRDTN.o
> c:/dev_objs/mingw/vouch\GN_SCHOL.o c:/dev_objs/mingw/vouch\GN_SHARE.o
> c:/dev_objs/mingw/vouch\GN_SLRNW.o c:/dev_objs/mingw/vouch\GN_TRNSP.o
> c:/dev_objs/mingw/vouch\GN_XCHNG.o c:/dev_objs/mingw/vouch\HB_CHG2B.o
> c:/dev_objs/mingw/vouch\MV_RPRT1.o c:/dev_objs/mingw/vouch\R_SPENCE.o
> c:/dev_objs/mingw/vouch\RP_DESGN.o c:/dev_objs/mingw/vouch\RP_GNRTR.o
> c:/dev_objs/mingw/vouch\RP_INVIC.o c:/dev_objs/mingw/vouch\RP_STOCK.o
> c:/dev_objs/mingw/vouch\SAV_ARRY.o c:/dev_objs/mingw/vouch\SAV_COLR.o
> c:/dev_objs/mingw/vouch\SC_DESGN.o c:/dev_objs/mingw/vouch\SC_FIELD.o
> c:/dev_objs/mingw/vouch\SC_MENU.o c:/dev_objs/mingw/vouch\SC_OUTPT.o
> c:/dev_objs/mingw/vouch\SC_PRINT.o c:/dev_objs/mingw/vouch\SC_PRPTY.o
> c:/dev_objs/mingw/vouch\SC_UTLTY.o c:/dev_objs/mingw/vouch\SRVR_DTA.o
> c:/dev_objs/mingw/vouch\SRVR_MRG.o c:/dev_objs/mingw/vouch\SRVR_PRD.o
> c:/dev_objs/mingw/vouch\SRVR_QRY.o c:/dev_objs/mingw/vouch\ST_SETUP.o
> c:/dev_objs/mingw/vouch\ST_VOUCH.o c:/dev_objs/mingw/vouch\STD_VOCH.o
> c:/dev_objs/mingw/vouch\TSTPDF.o c:/dev_objs/mingw/vouch\V_CLCLTR.o
> c:/dev_objs/mingw/vouch\V_DEL_FL.o c:/dev_objs/mingw/vouch\V_GEN_01.o
> c:/dev_objs/mingw/vouch\V_GENERL.o c:/dev_objs/mingw/vouch\V_HELP.o
> c:/dev_objs/mingw/vouch\V_KRYPT.o c:/dev_objs/mingw/vouch\V_LOGOS.o
> c:/dev_objs/mingw/vouch\V_PASWRD.o c:/dev_objs/mingw/vouch\V_PROFIL.o
> c:/dev_objs/mingw/vouch\V_TIMES.o c:/dev_objs/mingw/vouch\V_UNQNUM.o
> c:/dev_objs/mingw/vouch\B_Ocx.o c:/dev_objs/mingw/vouch\FR_RPORT.o
> c:/dev_objs/mingw/vouch\FastRepV.o c:/dev_objs/mingw/vouch\FastRepH.o
> c:/dev_objs/mingw/vouch\cj_calndr.o c:/dev_objs/mingw/vouch\xb_brows.o
> c:/dev_objs/mingw/vouch\b_wvg.o c:/dev_objs/mingw/vouch\vou_brws.o
> c:/dev_objs/mingw/vouch\VOUCH32.o c:/dev_objs/mingw/vouch\ActivLbl.o
> c:/dev_objs/mingw/vouch\TxText.o c:/dev_objs/mingw/vouch\FastRepo.o
> c:/dev_objs/mingw/vouch\Calendar.o c:/dev_objs/mingw/vouch\CJReport.o
> c:/dev_objs/mingw/vouch\FuncList.o c:/dev_objs/mingw/vouch\tprinter.o
> c:/dev_objs/mingw/vouch\_hbmkaut.o  c:/dev_objs/mingw/vouch 
> \version.reso
> c:/dev_objs/mingw/vouch\vouchsrv.reso c:/dev_objs/mingw/vouch 
> \txtext.reso
> c:/dev_objs/mingw/vouch\abs.reso  -mwindows -lv32lib -lfreewin -lhbwin
> -lhbtip -lhbmzip -lhbziparc -lhbnf -lxhb -lmapi32 -lwininet -lrasapi32
> -ltapi32 -lgtwvg -lhbwin -lhbextern -lhbdebug -lhbvmmt -lhbrtl - 
> lhblang
> -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lgtwvg - 
> lhbrdd
> -lhbusrrdd -lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt -lhbuddall - 
> lrddnsx
> -lhbrtl -lhbvmmt -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre - 
> lhbzlib
> -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32
> -lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm -lmapi32
> -limm32 -lmsimg32 -lwininet  -oc:/dev_exes/vouch_mingw.exe
> -LC:/harbour_dev/harbour/mingw/lib -Lc:/dev_libs/harbour/mingw
>
>
> But I cannot see vouch_mingw.exe in the destination folder.
> The same happens with MSVC.
> The strange thing is :
>
> I copy any exe as vouch_mingw.exe in the destination folder.
> Issue hbmk2 which produces above log entry.
> For a moment I can see that vouch_mingw.exe changes its size and  
> time-stamp
> and then disappears.
>
> What I am doing wrong ?
>
> Here is my vouch.hbm:
>
> #
> #    Vouch Project File for HBMK2
> #
>
> -trace
>
> -inc
> -gui
> -mt
> -gtwvg
> -d__VOUCH__ -d__WVT__ -d__oHARBOUR__ -d__OCX__ -d__MT__ -d__MW_PURE__
>
>
> #    Working Folder to Retain Object Files
> #
> -workdir=c:\dev_objs\${hb_comp}\vouch
> #-workdir=c:\dev_objs
>
>
> #    Executable Name
> #
> -oc:\dev_exes\vouch_${hb_comp}.exe
>
>
> #    Header Paths
> #
> -ic:\dev_sources\vouch\include
> -ic:\dev_sources\cachemgr\include
> -ic:\dev_sources\v32lib\include
> -ic:\dev_sources\freewin\include
> -ic:\harbour\contrib\gtwvg
> -ic:\harbour\contrib\xhb
>
>
> #    Library Paths
> #
> -L{bcc}c:\bcc55\lib
> -L{bcc}c:\bcc55\lib\psdk
> -L{bcc}c:\dev_libs\harbour\bcc
> -L{bcc}c:\dev_sources\dev_winlibs
>
> -L{msvc}c:\dev_libs\harbour\msvc
>
> -L{mingw}c:\dev_libs\harbour\mingw
>
>
> #    Libraries
> #
> -lv32lib
> -lfreewin
>
> -l{allwin}hbwin
> -lhbtip
> -lhbmzip
> -lhbziparc
> -lhbnf
> -lxhb
>
> -l{bcc}mapi32x
> -l{bcc}hhctrl
> -l{bcc}wininet
>
> -l{msvc}mapi32
> -l{msvc}wininet
> -l{msvc}rasapi32
> -l{msvc}tapi32
>
> -l{mingw}mapi32
> -l{mingw}wininet
> -l{mingw}rasapi32
> -l{mingw}tapi32
>
>
> #    Compiler Flags
> #
> -cflag=-D__VOUCH__
>
>
> #    Source Files
> #
> c:\dev_sources\vouch\source\VOUCH.PRG
> c:\dev_sources\vouch\source\A_ARRAY.PRG
> c:\dev_sources\vouch\source\B_53.PRG
> c:\dev_sources\vouch\source\B_ABOUT.PRG
> c:\dev_sources\vouch\source\B_ACHOIC.PRG
> c:\dev_sources\vouch\source\B_ADDSCR.PRG
> c:\dev_sources\vouch\source\B_ADSEXP.PRG
> c:\dev_sources\vouch\source\B_AGENTS.PRG
> c:\dev_sources\vouch\source\B_ARRAYS.PRG
> c:\dev_sources\vouch\source\B_ARREAD.PRG
> c:\dev_sources\vouch\source\B_ARRMNG.PRG
> c:\dev_sources\vouch\source\B_ARVIEW.PRG
> c:\dev_sources\vouch\source\B_AUTOCD.PRG
> c:\dev_sources\vouch\source\B_BACKUP.PRG
> c:\dev_sources\vouch\source\B_BATCH.PRG
> c:\dev_sources\vouch\source\B_BNKMNG.PRG
> c:\dev_sources\vouch\source\B_BRWARR.PRG
> c:\dev_sources\vouch\source\B_BRWATC.PRG
> c:\dev_sources\vouch\source\B_BRWBRW.PRG
> c:\dev_sources\vouch\source\B_BRWCLR.PRG
> c:\dev_sources\vouch\source\B_BRWCMP.PRG
> c:\dev_sources\vouch\source\B_BRWDBF.PRG
> c:\dev_sources\vouch\source\B_BRWF06.PRG
> c:\dev_sources\vouch\source\B_BRWF36.PRG
> c:\dev_sources\vouch\source\B_BRWGAR.PRG
> c:\dev_sources\vouch\source\B_BRWGRF.PRG
> c:\dev_sources\vouch\source\B_BRWKEY.PRG
> c:\dev_sources\vouch\source\B_BRWOBJ.PRG
> c:\dev_sources\vouch\source\B_BRWPRN.PRG
> c:\dev_sources\vouch\source\B_BRWRMS.PRG
> c:\dev_sources\vouch\source\B_BRWSET.PRG
> c:\dev_sources\vouch\source\B_BRWSYS.PRG
> c:\dev_sources\vouch\source\B_BRWTXT.PRG
> c:\dev_sources\vouch\source\B_BRWUDC.PRG
> c:\dev_sources\vouch\source\B_BRWUTL.PRG
> c:\dev_sources\vouch\source\B_BUDGET.PRG
> c:\dev_sources\vouch\source\B_CALEND.PRG
> c:\dev_sources\vouch\source\B_CALFLD.PRG
> c:\dev_sources\vouch\source\B_CFGEXP.PRG
> c:\dev_sources\vouch\source\B_CFGLOD.PRG
> c:\dev_sources\vouch\source\B_CHOICE.PRG
> c:\dev_sources\vouch\source\B_CMMNDS.PRG
> c:\dev_sources\vouch\source\B_CNSLDT.PRG
> c:\dev_sources\vouch\source\B_COMMAN.PRG
> c:\dev_sources\vouch\source\B_CONF01.PRG
> c:\dev_sources\vouch\source\B_CONFIG.PRG
> c:\dev_sources\vouch\source\B_CUSPS.PRG
> c:\dev_sources\vouch\source\B_DBDIR.PRG
> c:\dev_sources\vouch\source\B_DBFATT.PRG
> c:\dev_sources\vouch\source\B_DBFCHG.PRG
> c:\dev_sources\vouch\source\B_DETAIL.PRG
> c:\dev_sources\vouch\source\B_DEVBOO.PRG
> c:\dev_sources\vouch\source\B_DIALOG.PRG
> c:\dev_sources\vouch\source\B_DISKST.PRG
> c:\dev_sources\vouch\source\B_DOCDOC.PRG
> c:\dev_sources\vouch\source\B_DOCTXT.PRG
> c:\dev_sources\vouch\source\B_DOCUTL.PRG
> c:\dev_sources\vouch\source\B_DOSHEL.PRG
> c:\dev_sources\vouch\source\B_DRAPE.PRG
> c:\dev_sources\vouch\source\B_EDITOR.PRG
> c:\dev_sources\vouch\source\B_EDTALL.PRG
> c:\dev_sources\vouch\source\B_EMAIL.PRG
> c:\dev_sources\vouch\source\B_EMPLOY.PRG
> c:\dev_sources\vouch\source\B_ENKORG.PRG
> c:\dev_sources\vouch\source\B_EQUATN.PRG
> c:\dev_sources\vouch\source\B_ERROR.PRG
> c:\dev_sources\vouch\source\B_EVENT.PRG
> c:\dev_sources\vouch\source\B_EXE0.PRG
> c:\dev_sources\vouch\source\B_EXE1.PRG
> c:\dev_sources\vouch\source\B_EXE2.PRG
> c:\dev_sources\vouch\source\B_EXECUT.PRG
> c:\dev_sources\vouch\source\B_EXEDLL.PRG
> c:\dev_sources\vouch\source\B_EXEMOD.PRG
> c:\dev_sources\vouch\source\B_EXERSC.PRG
> c:\dev_sources\vouch\source\B_EXESRL.PRG
> c:\dev_sources\vouch\source\B_EXPORT.PRG
> c:\dev_sources\vouch\source\B_EXPRMT.PRG
> c:\dev_sources\vouch\source\B_FABRPT.PRG
> c:\dev_sources\vouch\source\B_FILEPA.PRG
> c:\dev_sources\vouch\source\B_FILTER.PRG
> c:\dev_sources\vouch\source\B_FONTS.PRG
> c:\dev_sources\vouch\source\B_FORMAT.PRG
> c:\dev_sources\vouch\source\B_FUNCTN.PRG
> c:\dev_sources\vouch\source\B_GAUGE.PRG
> c:\dev_sources\vouch\source\B_GETACH.PRG
> c:\dev_sources\vouch\source\B_GETPUT.PRG
> c:\dev_sources\vouch\source\B_GETSOM.PRG
> c:\dev_sources\vouch\source\B_GETSTK.PRG
> c:\dev_sources\vouch\source\B_GRCHAR.PRG
> c:\dev_sources\vouch\source\B_GRFV01.PRG
> c:\dev_sources\vouch\source\B_GRID.PRG
> c:\dev_sources\vouch\source\B_HRULER.PRG
> c:\dev_sources\vouch\source\B_IDXBAR.PRG
> c:\dev_sources\vouch\source\B_IMPORT.PRG
> c:\dev_sources\vouch\source\B_INDEX.PRG
> c:\dev_sources\vouch\source\B_INET.PRG
> c:\dev_sources\vouch\source\B_INITLZ.PRG
> c:\dev_sources\vouch\source\B_INKEYS.PRG
> c:\dev_sources\vouch\source\B_JOBPRS.PRG
> c:\dev_sources\vouch\source\B_KEEPER.PRG
> c:\dev_sources\vouch\source\B_LABELS.PRG
> c:\dev_sources\vouch\source\B_LDRBWR.PRG
> c:\dev_sources\vouch\source\B_LICENS.PRG
> c:\dev_sources\vouch\source\B_LISTDR.PRG
> c:\dev_sources\vouch\source\B_LLIBB.PRG
> c:\dev_sources\vouch\source\B_LOCKS.PRG
> c:\dev_sources\vouch\source\B_LODDAT.PRG
> c:\dev_sources\vouch\source\B_LODFLD.PRG
> c:\dev_sources\vouch\source\B_LOG.PRG
> c:\dev_sources\vouch\source\B_LUKCHK.PRG
> c:\dev_sources\vouch\source\B_MACROS.PRG
> c:\dev_sources\vouch\source\B_MDLOCK.PRG
> c:\dev_sources\vouch\source\B_MENU_Z.PRG
> c:\dev_sources\vouch\source\B_MENUTO.PRG
> c:\dev_sources\vouch\source\B_MNGDAT.PRG
> c:\dev_sources\vouch\source\B_MOVEWN.PRG
> c:\dev_sources\vouch\source\B_MSAGNT.PRG
> c:\dev_sources\vouch\source\B_MSGBOX.PRG
> c:\dev_sources\vouch\source\B_MSWORD.PRG
> c:\dev_sources\vouch\source\B_NEWPRS.PRG
> c:\dev_sources\vouch\source\B_NOTES.PRG
> c:\dev_sources\vouch\source\B_NUM2FG.PRG
> c:\dev_sources\vouch\source\B_OBJECT.PRG
> c:\dev_sources\vouch\source\B_ORDERS.PRG
> c:\dev_sources\vouch\source\B_ORGDTL.PRG
> c:\dev_sources\vouch\source\B_ORGNZN.PRG
> c:\dev_sources\vouch\source\B_PAGER.PRG
> c:\dev_sources\vouch\source\B_PIKDAT.PRG
> c:\dev_sources\vouch\source\B_PIKSYS.PRG
> c:\dev_sources\vouch\source\B_POPS.PRG
> c:\dev_sources\vouch\source\B_POPUPS.PRG
> c:\dev_sources\vouch\source\B_PRGEXE.PRG
> c:\dev_sources\vouch\source\B_PRGWRI.PRG
> c:\dev_sources\vouch\source\B_PRINTA.PRG
> c:\dev_sources\vouch\source\B_PRINTX.PRG
> c:\dev_sources\vouch\source\B_PRINTZ.PRG
> c:\dev_sources\vouch\source\B_PRNCOM.PRG
> c:\dev_sources\vouch\source\B_PROMPT.PRG
> c:\dev_sources\vouch\source\B_PURBUK.PRG
> c:\dev_sources\vouch\source\B_QBM.PRG
> c:\dev_sources\vouch\source\B_READER.PRG
> c:\dev_sources\vouch\source\B_REMIND.PRG
> c:\dev_sources\vouch\source\B_RENUMB.PRG
> c:\dev_sources\vouch\source\B_REPLAC.PRG
> c:\dev_sources\vouch\source\B_REPORT.PRG
> c:\dev_sources\vouch\source\B_RQUEST.PRG
> c:\dev_sources\vouch\source\B_SAVENV.PRG
> c:\dev_sources\vouch\source\B_SCHEDL.PRG
> c:\dev_sources\vouch\source\B_SCROLB.PRG
> c:\dev_sources\vouch\source\B_SDWBOX.PRG
> c:\dev_sources\vouch\source\B_SEARCH.PRG
> c:\dev_sources\vouch\source\B_SELCTN.PRG
> c:\dev_sources\vouch\source\B_SELREC.PRG
> c:\dev_sources\vouch\source\B_SEMA4.PRG
> c:\dev_sources\vouch\source\B_SETS.PRG
> c:\dev_sources\vouch\source\B_SETS_Y.PRG
> c:\dev_sources\vouch\source\B_SIZEWN.PRG
> c:\dev_sources\vouch\source\B_SLIDE.PRG
> c:\dev_sources\vouch\source\B_SLRGEN.PRG
> c:\dev_sources\vouch\source\B_SPEED.PRG
> c:\dev_sources\vouch\source\B_SQL.PRG
> c:\dev_sources\vouch\source\B_STDLGR.PRG
> c:\dev_sources\vouch\source\B_STOCKS.PRG
> c:\dev_sources\vouch\source\B_SUBSET.PRG
> c:\dev_sources\vouch\source\B_TAXRTN.PRG
> c:\dev_sources\vouch\source\B_TB2HTM.PRG
> c:\dev_sources\vouch\source\B_TDS.PRG
> c:\dev_sources\vouch\source\B_TITLE.PRG
> c:\dev_sources\vouch\source\B_TMPLAT.PRG
> c:\dev_sources\vouch\source\B_TREE.PRG
> c:\dev_sources\vouch\source\B_TRIGNO.PRG
> c:\dev_sources\vouch\source\B_UPDATE.PRG
> c:\dev_sources\vouch\source\B_UPDFRM.PRG
> c:\dev_sources\vouch\source\B_UPLOAD.PRG
> c:\dev_sources\vouch\source\B_USERS.PRG
> c:\dev_sources\vouch\source\B_USRDBF.PRG
> c:\dev_sources\vouch\source\B_V32PRN.PRG
> c:\dev_sources\vouch\source\B_VGACLR.PRG
> c:\dev_sources\vouch\source\B_VRULER.PRG
> c:\dev_sources\vouch\source\B_WAITON.PRG
> c:\dev_sources\vouch\source\B_WEBUTL.PRG
> c:\dev_sources\vouch\source\B_WHNVLD.PRG
> c:\dev_sources\vouch\source\B_WVT.PRG
> c:\dev_sources\vouch\source\B_WVTDLG.PRG
> c:\dev_sources\vouch\source\B_YEAR.PRG
> c:\dev_sources\vouch\source\BROWS_DI.PRG
> c:\dev_sources\vouch\source\C_CHGATR.PRG
> c:\dev_sources\vouch\source\C_CREATE.PRG
> c:\dev_sources\vouch\source\C_DVMENU.PRG
> c:\dev_sources\vouch\source\C_MAKPRG.PRG
> c:\dev_sources\vouch\source\C_PRSFMT.PRG
> c:\dev_sources\vouch\source\C_SAVPRG.PRG
> c:\dev_sources\vouch\source\CL_BRWIX.PRG
> c:\dev_sources\vouch\source\CL_DPRNT.PRG
> c:\dev_sources\vouch\source\CL_EDIT.PRG
> c:\dev_sources\vouch\source\CL_PDF.PRG
> c:\dev_sources\vouch\source\CL_PRINT.PRG
> c:\dev_sources\vouch\source\CL_RPDGN.PRG
> c:\dev_sources\vouch\source\CL_RPGNR.PRG
> c:\dev_sources\vouch\source\CL_STACK.PRG
> c:\dev_sources\vouch\source\CL_STKNN.PRG
> c:\dev_sources\vouch\source\F6_KEYS.PRG
> c:\dev_sources\vouch\source\FA_ACCNT.PRG
> c:\dev_sources\vouch\source\FA_AGING.PRG
> c:\dev_sources\vouch\source\FA_BKMRG.PRG
> c:\dev_sources\vouch\source\FA_BOOK2.PRG
> c:\dev_sources\vouch\source\FA_BOOKS.PRG
> c:\dev_sources\vouch\source\FA_DEPRI.PRG
> c:\dev_sources\vouch\source\FA_FINAL.PRG
> c:\dev_sources\vouch\source\FA_FNLNW.PRG
> c:\dev_sources\vouch\source\FA_MENU.PRG
> c:\dev_sources\vouch\source\FA_MULTI.PRG
> c:\dev_sources\vouch\source\FA_QUICK.PRG
> c:\dev_sources\vouch\source\FA_RCNSL.PRG
> c:\dev_sources\vouch\source\FA_SELCT.PRG
> c:\dev_sources\vouch\source\FA_SINGL.PRG
> c:\dev_sources\vouch\source\FA_TRIAL.PRG
> c:\dev_sources\vouch\source\FA_VOUCH.PRG
> c:\dev_sources\vouch\source\G_POPDAT.PRG
> c:\dev_sources\vouch\source\GN_ASMBL.PRG
> c:\dev_sources\vouch\source\GN_BANKS.PRG
> c:\dev_sources\vouch\source\GN_CARGO.PRG
> c:\dev_sources\vouch\source\GN_CLUBS.PRG
> c:\dev_sources\vouch\source\GN_COURR.PRG
> c:\dev_sources\vouch\source\GN_DAIRY.PRG
> c:\dev_sources\vouch\source\GN_DVLOP.PRG
> c:\dev_sources\vouch\source\GN_EXPRT.PRG
> c:\dev_sources\vouch\source\GN_HOTEL.PRG
> c:\dev_sources\vouch\source\GN_HSPTL.PRG
> c:\dev_sources\vouch\source\GN_ISO.PRG
> c:\dev_sources\vouch\source\GN_KITTY.PRG
> c:\dev_sources\vouch\source\GN_N1MKT.PRG
> c:\dev_sources\vouch\source\GN_N2MKT.PRG
> c:\dev_sources\vouch\source\GN_NTMKT.PRG
> c:\dev_sources\vouch\source\GN_PPUMP.PRG
> c:\dev_sources\vouch\source\GN_PRDTN.PRG
> c:\dev_sources\vouch\source\GN_SCHOL.PRG
> c:\dev_sources\vouch\source\GN_SHARE.PRG
> c:\dev_sources\vouch\source\GN_SLRNW.PRG
> c:\dev_sources\vouch\source\GN_TRNSP.PRG
> c:\dev_sources\vouch\source\GN_XCHNG.PRG
> c:\dev_sources\vouch\source\HB_CHG2B.PRG
> c:\dev_sources\vouch\source\MV_RPRT1.PRG
> c:\dev_sources\vouch\source\R_SPENCE.PRG
> c:\dev_sources\vouch\source\RP_DESGN.PRG
> c:\dev_sources\vouch\source\RP_GNRTR.PRG
> c:\dev_sources\vouch\source\RP_INVIC.PRG
> c:\dev_sources\vouch\source\RP_STOCK.PRG
> c:\dev_sources\vouch\source\SAV_ARRY.PRG
> c:\dev_sources\vouch\source\SAV_COLR.PRG
> c:\dev_sources\vouch\source\SC_DESGN.PRG
> c:\dev_sources\vouch\source\SC_FIELD.PRG
> c:\dev_sources\vouch\source\SC_MENU.PRG
> c:\dev_sources\vouch\source\SC_OUTPT.PRG
> c:\dev_sources\vouch\source\SC_PRINT.PRG
> c:\dev_sources\vouch\source\SC_PRPTY.PRG
> c:\dev_sources\vouch\source\SC_UTLTY.PRG
> c:\dev_sources\vouch\source\SRVR_DTA.PRG
> c:\dev_sources\vouch\source\SRVR_MRG.PRG
> c:\dev_sources\vouch\source\SRVR_PRD.PRG
> c:\dev_sources\vouch\source\SRVR_QRY.PRG
> c:\dev_sources\vouch\source\ST_SETUP.PRG
> c:\dev_sources\vouch\source\ST_VOUCH.PRG
> c:\dev_sources\vouch\source\STD_VOCH.PRG
> c:\dev_sources\vouch\source\TSTPDF.PRG
> c:\dev_sources\vouch\source\V_CLCLTR.PRG
> c:\dev_sources\vouch\source\V_DEL_FL.PRG
> c:\dev_sources\vouch\source\V_GEN_01.PRG
> c:\dev_sources\vouch\source\V_GENERL.PRG
> c:\dev_sources\vouch\source\V_HELP.PRG
> c:\dev_sources\vouch\source\V_KRYPT.PRG
> c:\dev_sources\vouch\source\V_LOGOS.PRG
> c:\dev_sources\vouch\source\V_PASWRD.PRG
> c:\dev_sources\vouch\source\V_PROFIL.PRG
> c:\dev_sources\vouch\source\V_TIMES.PRG
> c:\dev_sources\vouch\source\V_UNQNUM.PRG
> c:\dev_sources\vouch\source\B_Ocx.prg
> c:\dev_sources\vouch\source\FR_RPORT.PRG
> c:\dev_sources\vouch\source\FastRepV.prg
> C:\dev_sources\vouch\source\FastRepH.prg
> C:\dev_sources\vouch\source\cj_calndr.prg
> C:\dev_sources\vouch\source\xb_brows.prg
> C:\dev_sources\vouch\source\b_wvg.prg
> C:\dev_sources\vouch\source\vou_brws.prg
>
> C:\dev_sources\vouch\source\VOUCH32.PRG
>
> c:\dev_sources\cachemgr\source\ActivLbl.prg
> c:\dev_sources\cachemgr\source\TxText.prg
> c:\dev_sources\cachemgr\source\FastRepo.prg
> c:\dev_sources\cachemgr\source\Calendar.prg
> c:\dev_sources\cachemgr\source\CJReport.prg
> c:\dev_sources\cachemgr\source\FuncList.prg
>
> C:\dev_sources\vouch\source\tprinter.c
>
> c:\dev_sources\dev_resources\version.rc
> c:\dev_sources\dev_resources\vouchsrv.res
> c:\dev_sources\dev_resources\txtext.res
> c:\dev_sources\dev_resources\abs.res
>
>
>
> And here is the m.bat which I call in dos-console on XP:
>
> @echo off
> hbmk2 @vouch.hbm > log-%HB_COMPILER%.log
>
>
> Help is appreciated.
>
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://www.nabble.com/HBMK2---Strange-Behavior-tp25107808p25107808.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Sun Aug 23 19:12:11 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Aug 23 19:12:17 2009
Subject: [Harbour] HBMK2 - Strange Behavior
In-Reply-To: <F328B1DA-198E-4ECA-806C-2E938646FA25@syenar.hu>
References: <25107808.post@talk.nabble.com>
	<F328B1DA-198E-4ECA-806C-2E938646FA25@syenar.hu>
Message-ID: <25108396.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> Are you sure there is no linking error? Everything indicates
> that the .exes are removed by the linkers themselves after they
> sensed some errors. If this is the case, there should be some
> sort of error msg shown form these tools.
> 

Now I know what are the errors.
Infact the above process do not record link errors in the 
log file and on a console of 25x80 these are scrolled so fast that 
you cannot catch-up. Is there a way to get those errors also logged to
log file ?

Then I increased the console's buffer to 500 from 25 and then I could 
visualize what these errors are.

Thanks for your patience for analysing my script.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HBMK2---Strange-Behavior-tp25107808p25108396.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sun Aug 23 19:33:40 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Aug 23 19:33:51 2009
Subject: [Harbour] HBMK2 - Strange Behavior
In-Reply-To: <25108396.post@talk.nabble.com>
References: <25107808.post@talk.nabble.com>
	<F328B1DA-198E-4ECA-806C-2E938646FA25@syenar.hu>
	<25108396.post@talk.nabble.com>
Message-ID: <2233705B-0502-477A-87E3-853EB40D219A@syenar.hu>

> Now I know what are the errors.
> Infact the above process do not record link errors in the
> log file and on a console of 25x80 these are scrolled so fast that
> you cannot catch-up. Is there a way to get those errors also logged to
> log file ?

Yes of course, just use the regular method shown for
Harbour builds in INSTALL doc examples.

It's '> log.txt 2>&1' but rather check it for yourself.

Or create batch file:
--- log.bat
%* > log.txt 2>&1
---

And use:
log hbmk2 ...

Both stdout and stderr output will be in log.txt

> Then I increased the console's buffer to 500 from 25 and then I could
> visualize what these errors are.

You can use -beep option, which will double beep on errors
and single beep when everything is OK. Notice you won't
hear the beep if your redirect the output, like above.

And there is also -pause option, which will wait for a key
in case of error, so you can read it from the console.
For -pause to work you need to override gt to native console
gt because hbmk2 default gtcgi doesn't support keyboard:
--hb:gtwin -pause (on Windows)

> Thanks for your patience for analysing my script.

You're welcome!

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Aug 23 20:04:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 23 20:04:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12294] trunk/harbour
Message-ID: <E1MfN2d-00046R-ST@dn4whf1.ch3.sourceforge.com>

Revision: 12294
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12294&view=rev
Author:   vszakats
Date:     2009-08-24 00:04:06 +0000 (Mon, 24 Aug 2009)

Log Message:
-----------
2009-08-24 02:03 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    + Will now show the autodetected compiler path.

  * utils/hbmk2/hbmk2.prg
    ! Fixed to not pass bogus resource source files to linker when
      resource compiling isn't supported on given compiler (win/icc).

  * config/common/watcom.mk
    ! Fixed double .exe extension (regression).

  * contrib/hbqt/Makefile
  * contrib/hbxbp/Makefile
  * contrib/gtqtc/Makefile
    + Experimental changes:
      Now showing reason why library was skipped.
      Configuration also works a little differently:
        HB_INC_QT should either be set to the header dir,
        or set to 'no' which will disables any autodetection
        (on *nix systems). This method replaces HB_HAVE_QT=no
        setting and leaves only one setting to control QT
        lib building. Experimental, probably the control
        method should be further tuned.
      Possible log messages:
        - component not found
        - component location not set
        - deselected
        - platform not supported
        - compiler not supported
        - (...) not supported
        + not necessary
      NOTE: I've used 3.81 'if/else if' structure here.
    % Streamlined the way darwin autodetection is solved.
      (not yet tested)

  * contrib/hbfbird/Makefile
  * contrib/hbfimage/Makefile
    % Optimized prerequisit check by using $(filter)

  * config/win/icc.mk
    ! Changed to use xilink instead of using the compiler for
      linking. This syncs it with msvc and hbmk2, and it also
      fixes .dll creation.
    + Added /nologo.

  * config/global.mk
  * config/wce/poccarm.mk
  * config/wce/msvcarm.mk
  * config/win/xcc.mk
  * config/win/pocc.mk
  * config/win/bcc.mk
  * config/win/watcom.mk
  * config/win/icc.mk
  * config/win/msvc.mk
  * config/rules.mk
  * config/os2/watcom.mk
    % Optimized OBJ_DYN_POSTFIX variable to be an internal one,
      it doesn't need to be set in compiler .mk file anymore.
      If there is any extra C compiler flag set for dynamic mode,
      it will be set automatically.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/common/watcom.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/config/rules.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/config/win/icc.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/config/win/pocc.mk
    trunk/harbour/config/win/watcom.mk
    trunk/harbour/config/win/xcc.mk
    trunk/harbour/contrib/gtqtc/Makefile
    trunk/harbour/contrib/hbfbird/Makefile
    trunk/harbour/contrib/hbfimage/Makefile
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbxbp/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sun Aug 23 21:24:27 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Aug 23 21:24:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12295] trunk/harbour
Message-ID: <E1MfOIN-0003s8-Qt@74yxhf1.ch3.sourceforge.com>

Revision: 12295
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12295&view=rev
Author:   druzus
Date:     2009-08-24 01:24:26 +0000 (Mon, 24 Aug 2009)

Log Message:
-----------
2009-08-24 03:24 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/globsh.mk
    ! added missing command separator

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Sun Aug 23 21:56:09 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Aug 23 21:56:15 2009
Subject: [Harbour] Error in HBXBP and HBQT examples
Message-ID: <133778360908231856y6b297248qe82c1d929ff03004@mail.gmail.com>

>From a time ago  I get this warnings when compiling
hbqt and hbxbp samples , and when I try to execute the samples
exit with an extrange error

aplicattion could not be initialized correctly



any idea

Bruno

///////////////////////////////////////////////////////////////////////////

               5 dirs   8.786.337.792 bytes libres

C:\harbour_svn\contrib\hbqt\tests>hbmk2 demoqt
hbmk2: Processing local make script: hbmk.hbm
hbmk2: Processing configuration: c:\harbour\bin\hbmk.cfg
Harbour 2.0.0beta2 (Rev. 12295)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'demoqt.prg'...
Lines 750, Functions/Procedures 20
Generating C source output to 'demoqt.c'... Done.
Info: resolving QByteArray::shared_null        by linking to
__imp___ZN10QByteArray11shared_nullE (
uto-import)
Info: resolving QListData::shared_null       by linking to
__imp___ZN9QListData11shared_nullE (auto
import)
Info: resolving QObject::staticMetaObject       by linking to
__imp___ZN7QObject16staticMetaObjectE
(auto-import)
Info: resolving QAction::staticMetaObject       by linking to
__imp___ZN7QAction16staticMetaObjectE
(auto-import)
Info: resolving QVariant::handler      by linking to
__imp___ZN8QVariant7handlerE (auto-import)
Info: resolving QString::codecForCStrings       by linking to
__imp___ZN7QString16codecForCStringsE
(auto-import)
Info: resolving QTextCodec::cftr       by linking to
__imp___ZN10QTextCodec4cftrE (auto-import)
Info: resolving QString::shared_null       by linking to
__imp___ZN7QString11shared_nullE (auto-imp
rt)
Info: resolving vtable for QBitmapby linking to __imp___ZTV7QBitmap
(auto-import)
Info: resolving QWidget::staticMetaObject       by linking to
__imp___ZN7QWidget16staticMetaObjectE
(auto-import)
Info: resolving QMainWindow::staticMetaObject        by linking to
__imp___ZN11QMainWindow16staticM
taObjectE (auto-import)
Info: resolving QTableView::staticMetaObject        by linking to
__imp___ZN10QTableView16staticMet
ObjectE (auto-import)
Info: resolving QAbstractItemModel::staticMetaObject        by linking to
__imp___ZN18QAbstractItem
odel16staticMetaObjectE (auto-import)
C:\mingw\BIN\..\lib\gcc\mingw32\3.4.5\..\..\..\..\mingw32\bin\ld.exe:
warning: auto-importing has b
en activated without --enable-auto-import specified on the command line.
This should work unless it involves constant data structures referencing
symbols from auto-imported
DLLs.

C:\harbour_svn\contrib\hbqt\tests>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090823/2aba4a39/attachment.html
From vszakats at users.sourceforge.net  Sun Aug 23 22:04:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 23 22:04:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12296] trunk/harbour
Message-ID: <E1MfOvT-0006N1-T3@d5vjzd1.ch3.sourceforge.com>

Revision: 12296
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12296&view=rev
Author:   vszakats
Date:     2009-08-24 02:04:50 +0000 (Mon, 24 Aug 2009)

Log Message:
-----------
2009-08-24 04:01 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/Makefile
  * contrib/gtqtc/Makefile
    ! Fixed prev change after testing.

  * ChangeLog
    ! Missed item from recent entry:
      * config/global.mk
        * Changed HB_INSTALL_PREFIX macros to lowercase:
          {hb_top}, {hb_comp}, {hb_plat}, {hb_cpu}

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtqtc/Makefile
    trunk/harbour/contrib/hbqt/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Mon Aug 24 03:13:13 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Aug 24 03:13:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <BDD73FF0-2CF2-4532-8735-CDD230A08A2D@syenar.hu>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>	<4A8FAB7C.4020800@libero.it>	<E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>	<4A8FB9EE.1020600@libero.it>	<7FDDDFE7-84E4-44C6-9925-69CEE5374629@syenar.hu>	<4A8FF48E.1080000@libero.it>	<E7EDE37B-7D99-4CAC-8C4E-196EAC2CD527@syenar.hu>	<4A900139.7000205@libero.it>	<B9FA2A50-B6F9-4919-8FDC-116330E3BF80@syenar.hu>	<4A9012DC.4020806@libero.it>
	<BDD73FF0-2CF2-4532-8735-CDD230A08A2D@syenar.hu>
Message-ID: <4A923D89.8000107@libero.it>

Hi Viktor,

sorry, not enough, it still dies :(

Maurilio.


Viktor Szak?ts wrote:
> Hi Maurilio,
> 
> One idea to try, after I did some test on MS-DOS.
> (there it run, but __dyn__.tmp was left empty at the end)
> 
> Try using echo.exe from GNU tools. This may force calling
> an external process for each iteration. Rename echo.exe
> to os2-echo.exe and replace echo with os2-echo in Makefile.
> 
> This fixed it for MS-DOS.
> 
> Brgds,
> Viktor
> 
> On 2009.08.22., at 5:46, Maurilio Longo wrote:
> 
>> Here we go:
>>
>> (E:\harbour\make)make
>> make: *** [all] Segmentation fault (core dumped)
>>
>> or
>>
>> SYS0008: There is not enough memory available to process this command.
>> All available memory is in use.
>> make: *** wait: Interrupted system call.  Stop.
>> make: *** Waiting for unfinished jobs....
>> make: *** wait: Interrupted system call.  Stop.
>>
>> And this one with a complete freeze of the shell.
>>
>>
>> It works for lists which end at the 'k' letter, though...
>>
>> Maurilio.
>>
>>
>>
>> -- 
>> __________
>> |  |  | |__| Maurilio Longo
>> |_|_|_|____| farmaconsult s.r.l.
>>
>> 
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From bedipritpal at hotmail.com  Mon Aug 24 03:38:20 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Aug 24 03:38:28 2009
Subject: [Harbour] HBMK2 - Strange Behavior
In-Reply-To: <2233705B-0502-477A-87E3-853EB40D219A@syenar.hu>
References: <25107808.post@talk.nabble.com>
	<F328B1DA-198E-4ECA-806C-2E938646FA25@syenar.hu>
	<25108396.post@talk.nabble.com>
	<2233705B-0502-477A-87E3-853EB40D219A@syenar.hu>
Message-ID: <25111800.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> Yes of course, just use the regular method shown for
> Harbour builds in INSTALL doc examples.
> 
> It's '> log.txt 2>&1' but rather check it for yourself.
> 
> Or create batch file:
> --- log.bat
> %* > log.txt 2>&1
> ---
> 
> And use:
> log hbmk2 ...
> 
> Both stdout and stderr output will be in log.txt
> 
>> Then I increased the console's buffer to 500 from 25 and then I could
>> visualize what these errors are.
> 
> You can use -beep option, which will double beep on errors
> and single beep when everything is OK. Notice you won't
> hear the beep if your redirect the output, like above.
> 
> And there is also -pause option, which will wait for a key
> in case of error, so you can read it from the console.
> For -pause to work you need to override gt to native console
> gt because hbmk2 default gtcgi doesn't support keyboard:
> --hb:gtwin -pause (on Windows)
> 

Now I think I am begining to understand hbmk2 more closely. Nice features.

BTW I get these unresolved externals in MINGW build, MSVC and BCC is ok.

C:/harbour_dev/harbour/mingw/lib/libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x9
8): undefined reference to `HB_FUN_HB_UNZIPOPEN'
C:/harbour_dev/harbour/mingw/lib/libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0xa
8): undefined reference to `HB_FUN_HB_UNZIPGLOBALINFO'
C:/harbour_dev/harbour/mingw/lib/libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0xb
8): undefined reference to `HB_FUN_HB_UNZIPCLOSE'
C:/harbour_dev/harbour/mingw/lib/libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0xe
8): undefined reference to `HB_FUN_HB_UNZIPFILEFIRST'
C:/harbour_dev/harbour/mingw/lib/libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0xf
8): undefined reference to `HB_FUN_HB_UNZIPFILEINFO'
C:/harbour_dev/harbour/mingw/lib/libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x1
28): undefined reference to `HB_FUN_HB_UNZIPFILENEXT'
C:/harbour_dev/harbour/mingw/lib/libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x1
e8): undefined reference to `HB_FUN_HB_ZIPOPEN'
C:/harbour_dev/harbour/mingw/lib/libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x2
78): undefined reference to `HB_FUN_HB_ZIPFILECREATE'
C:/harbour_dev/harbour/mingw/lib/libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x2
a8): undefined reference to `HB_FUN_HB_ZIPFILEWRITE'
C:/harbour_dev/harbour/mingw/lib/libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x2
c8): undefined reference to `HB_FUN_HB_ZIPFILECLOSE'
C:/harbour_dev/harbour/mingw/lib/libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x2
e8): undefined reference to `HB_FUN_HB_ZIPCLOSE'
C:/harbour_dev/harbour/mingw/lib/libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x3
18): undefined reference to `HB_FUN_HB_UNZIPEXTRACTCURRENTFILE'
C:/harbour_dev/harbour/mingw/lib/libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x3
58): undefined reference to `HB_FUN_HB_ZIPDELETEFILE'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1

Are these functions disabled for MINGW?
Is there any alternatives to above functions ?
If not, I am afraid it may stop my experiments with GTWVG and HBXBP together
as all will be tested under production-like environments.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HBMK2---Strange-Behavior-tp25107808p25111800.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Aug 24 04:30:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 24 04:30:42 2009
Subject: [Harbour] HBMK2 - Strange Behavior
In-Reply-To: <25111800.post@talk.nabble.com>
References: <25107808.post@talk.nabble.com>
	<F328B1DA-198E-4ECA-806C-2E938646FA25@syenar.hu>
	<25108396.post@talk.nabble.com>
	<2233705B-0502-477A-87E3-853EB40D219A@syenar.hu>
	<25111800.post@talk.nabble.com>
Message-ID: <6A5B671F-CC59-4385-9EBA-95604B75DD5E@syenar.hu>

> Now I think I am begining to understand hbmk2 more closely. Nice  
> features.
>
> BTW I get these unresolved externals in MINGW build, MSVC and BCC is  
> ok.
>
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x9
> 8): undefined reference to `HB_FUN_HB_UNZIPOPEN'
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0xa
> 8): undefined reference to `HB_FUN_HB_UNZIPGLOBALINFO'
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0xb
> 8): undefined reference to `HB_FUN_HB_UNZIPCLOSE'
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0xe
> 8): undefined reference to `HB_FUN_HB_UNZIPFILEFIRST'
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0xf
> 8): undefined reference to `HB_FUN_HB_UNZIPFILEINFO'
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x1
> 28): undefined reference to `HB_FUN_HB_UNZIPFILENEXT'
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x1
> e8): undefined reference to `HB_FUN_HB_ZIPOPEN'
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x2
> 78): undefined reference to `HB_FUN_HB_ZIPFILECREATE'
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x2
> a8): undefined reference to `HB_FUN_HB_ZIPFILEWRITE'
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x2
> c8): undefined reference to `HB_FUN_HB_ZIPFILECLOSE'
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x2
> e8): undefined reference to `HB_FUN_HB_ZIPCLOSE'
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x3
> 18): undefined reference to `HB_FUN_HB_UNZIPEXTRACTCURRENTFILE'
> C:/harbour_dev/harbour/mingw/lib/ 
> libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x3
> 58): undefined reference to `HB_FUN_HB_ZIPDELETEFILE'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
>
> Are these functions disabled for MINGW?

No. [why would they be?]

> Is there any alternatives to above functions ?
> If not, I am afraid it may stop my experiments with GTWVG and HBXBP  
> together
> as all will be tested under production-like environments.

Some gcc ports (like mingw) are sensitive to lib ordering.

Try moving line -lhbmzip below -lhbziparc.

Brgds,
Viktor

From bedipritpal at hotmail.com  Mon Aug 24 04:32:24 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Aug 24 04:32:30 2009
Subject: [Harbour] HBMK2 - Strange Behavior
In-Reply-To: <25111800.post@talk.nabble.com>
References: <25107808.post@talk.nabble.com>
	<F328B1DA-198E-4ECA-806C-2E938646FA25@syenar.hu>
	<25108396.post@talk.nabble.com>
	<2233705B-0502-477A-87E3-853EB40D219A@syenar.hu>
	<25111800.post@talk.nabble.com>
Message-ID: <25112364.post@talk.nabble.com>


Hi


Pritpal Bedi wrote:
> 
> C:/harbour_dev/harbour/mingw/lib/libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x9
> 8): undefined reference to `HB_FUN_HB_UNZIPOPEN'
> C:/harbour_dev/harbour/mingw/lib/libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0xa
> 

I had build Harbour with make clean then make install.
But it probably did not cleaned or rebuilt hbmzip.lib.
I stayed at hbmzip folder and issued clean then install commands.
Strangly above unresolved externals disappered and I now see
my Vouch_mingw.exe in ../dev_exes.

Please ignore prev message but must give thought why clean 
Harbour build missed it.

Regards
Pritpal Bedi

NEW ISSUE: I cannot see any images|icons embeeded in the exe.
Resource commands are same for all compilers and I can see those
icons in vouch_msvc.exe and vouch_bcc.exe.



-- 
View this message in context: http://www.nabble.com/HBMK2---Strange-Behavior-tp25107808p25112364.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Aug 24 04:34:53 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Aug 24 04:34:58 2009
Subject: [Harbour] HBMK2 - Strange Behavior
In-Reply-To: <6A5B671F-CC59-4385-9EBA-95604B75DD5E@syenar.hu>
References: <25107808.post@talk.nabble.com>
	<F328B1DA-198E-4ECA-806C-2E938646FA25@syenar.hu>
	<25108396.post@talk.nabble.com>
	<2233705B-0502-477A-87E3-853EB40D219A@syenar.hu>
	<25111800.post@talk.nabble.com>
	<6A5B671F-CC59-4385-9EBA-95604B75DD5E@syenar.hu>
Message-ID: <25112386.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> Some gcc ports (like mingw) are sensitive to lib ordering.
> 
> Try moving line -lhbmzip below -lhbziparc.
> 

You are right. It was ordering issue.
Is this issue true with .res and/or .rc's also ?

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/HBMK2---Strange-Behavior-tp25107808p25112386.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Aug 24 04:44:34 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 24 04:44:43 2009
Subject: [Harbour] HBMK2 - Strange Behavior
In-Reply-To: <25112364.post@talk.nabble.com>
References: <25107808.post@talk.nabble.com>
	<F328B1DA-198E-4ECA-806C-2E938646FA25@syenar.hu>
	<25108396.post@talk.nabble.com>
	<2233705B-0502-477A-87E3-853EB40D219A@syenar.hu>
	<25111800.post@talk.nabble.com> <25112364.post@talk.nabble.com>
Message-ID: <B5C6A41C-3D79-45CE-B330-6F0798913766@syenar.hu>

> Pritpal Bedi wrote:
>>
>> C:/harbour_dev/harbour/mingw/lib/ 
>> libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0x9
>> 8): undefined reference to `HB_FUN_HB_UNZIPOPEN'
>> C:/harbour_dev/harbour/mingw/lib/ 
>> libhbziparc.a(hbziparc.o):hbziparc.c:(.data+0xa
>>
>
> I had build Harbour with make clean then make install.
> But it probably did not cleaned or rebuilt hbmzip.lib.
> I stayed at hbmzip folder and issued clean then install commands.
> Strangly above unresolved externals disappered and I now see
> my Vouch_mingw.exe in ../dev_exes.

Hm, my tip is still the ordering, I can reproduce your
exact error by swapping libs= lines in contrib/hbziparc/hbziparc.hbc,
with correctly built libs. Anyhow, good that it worked out
and thank you for the feedback.

> NEW ISSUE: I cannot see any images|icons embeeded in the exe.
> Resource commands are same for all compilers and I can see those
> icons in vouch_msvc.exe and vouch_bcc.exe.

I'd guess it's a dir issue. Resource compilers don't work exactly
the same way for all compilers when it comes to deciding how they
calculate final path for referenced from .rc files objects.
I've been struggling with these when implementing -icon option.

Try with -resflag=-v (with mingw), to see what windres does.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 24 06:03:42 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 24 06:03:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <4A923D89.8000107@libero.it>
References: <E1MeZLL-0006EJ-PP@74yxhf1.ch3.sourceforge.com>	<4A8FA3E9.6050105@libero.it>	<38A5CA5D-46E1-4377-9964-823AC1942716@syenar.hu>	<4A8FAB7C.4020800@libero.it>	<E565545D-7E40-4386-821A-98E767DA44A4@syenar.hu>	<4A8FB9EE.1020600@libero.it>	<7FDDDFE7-84E4-44C6-9925-69CEE5374629@syenar.hu>	<4A8FF48E.1080000@libero.it>	<E7EDE37B-7D99-4CAC-8C4E-196EAC2CD527@syenar.hu>	<4A900139.7000205@libero.it>	<B9FA2A50-B6F9-4919-8FDC-116330E3BF80@syenar.hu>	<4A9012DC.4020806@libero.it>
	<BDD73FF0-2CF2-4532-8735-CDD230A08A2D@syenar.hu>
	<4A923D89.8000107@libero.it>
Message-ID: <456977DC-00E9-4212-ADD3-5F4B57681638@syenar.hu>

Hi Maurilio,

> Hi Viktor,
>
> sorry, not enough, it still dies :(

Thank you for the feedback.

Another idea is to iterate through DYNDIRLIST variable
items and pick filelist via 'for' (rather than using
already assembled list by make internals) and do something
like this:

--- in config/os2/gcc.mk [ typed without running it ]
define dyn_objects
    for %f in ( $(TOP)$(ROOT)$(dir)/$(OBJ_DIR)/*$(OBJ_DYN_PREFIX)$ 
(OBJ_EXT) ) do @$(ECHO) $(ECHOQUOTE)INPUT(%f)$(ECHOQUOTE) >> __dyn__.tmp
endef
define create_dynlib
    $(if $(wildcard __dyn__.tmp),@$(RM) __dyn__.tmp,)
    $(foreach dir,$(DYNDIRLIST),$(dyn_objects))
    $(DY) ...
endef
---

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Aug 24 06:42:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 24 06:42:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12297] trunk/harbour
Message-ID: <E1MfX0c-0005ZT-Bt@74yxhf1.ch3.sourceforge.com>

Revision: 12297
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12297&view=rev
Author:   vszakats
Date:     2009-08-24 10:42:41 +0000 (Mon, 24 Aug 2009)

Log Message:
-----------
2009-08-24 12:41 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbcurl/hbcurl.c
  * contrib/hbcurl/hbcurls/Makefile
  * contrib/hbcurl/Makefile
  - contrib/hbcurl/hbcurlm.c
    - Deleted two wrappers belonging to share/multi interfaces.
    * Moved two legacy functions back to main source.
    - Deleted hbcurlm.c which caused doubly defined symbols
      when built with pocc. It was caused by some curl header
      features most probably.

  * config/global.mk
    * Comment update in config var planning section.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/contrib/hbcurl/Makefile
    trunk/harbour/contrib/hbcurl/hbcurl.c
    trunk/harbour/contrib/hbcurl/hbcurls/Makefile

Removed Paths:
-------------
    trunk/harbour/contrib/hbcurl/hbcurlm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Aug 24 07:34:32 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 24 07:34:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <456977DC-00E9-4212-ADD3-5F4B57681638@syenar.hu>
References: <4A8FB9EE.1020600@libero.it>
	<7FDDDFE7-84E4-44C6-9925-69CEE5374629@syenar.hu>
	<4A8FF48E.1080000@libero.it>
	<E7EDE37B-7D99-4CAC-8C4E-196EAC2CD527@syenar.hu>
	<4A900139.7000205@libero.it>
	<B9FA2A50-B6F9-4919-8FDC-116330E3BF80@syenar.hu>
	<4A9012DC.4020806@libero.it>
	<BDD73FF0-2CF2-4532-8735-CDD230A08A2D@syenar.hu>
	<4A923D89.8000107@libero.it>
	<456977DC-00E9-4212-ADD3-5F4B57681638@syenar.hu>
Message-ID: <20090824113432.GA9881@uran.home.aster.pl>

On Mon, 24 Aug 2009, Szak?ts Viktor wrote:
>> sorry, not enough, it still dies :(
> Thank you for the feedback.
> Another idea is to iterate through DYNDIRLIST variable
> items and pick filelist via 'for' (rather than using
> already assembled list by make internals) and do something
> like this:
> --- in config/os2/gcc.mk [ typed without running it ]
> define dyn_objects
>    for %f in ( $(TOP)$(ROOT)$(dir)/$(OBJ_DIR)/*$(OBJ_DYN_PREFIX)$(OBJ_EXT) 
> ) do @$(ECHO) $(ECHOQUOTE)INPUT(%f)$(ECHOQUOTE) >> __dyn__.tmp
> endef
> define create_dynlib
>    $(if $(wildcard __dyn__.tmp),@$(RM) __dyn__.tmp,)
>    $(foreach dir,$(DYNDIRLIST),$(dyn_objects))
>    $(DY) ...
> endef
> ---

It will not work. David already made such tests.
The problem is in OS2 GNU make port. It has limited total size of
resolved command for given action and when this limit is exceed
then it corrupts internal memory and usually GPFs.
See the note about using wordlist in config/common/watcom.mk.
GNU make evaluates all functions creating full list of commands
to execute before it starts to execute the 1-st command. It doesn't
mater how you create such list (which functions you will use) but
important is only total length. As long as it's not fixed in OS2
GNU make port then you cannot create such long command but I do
not know if it's a know bug reported to GNU make authors. Maybe
we should ask about it.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Aug 24 07:35:58 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 24 07:36:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12298] trunk/harbour
Message-ID: <E1MfXqA-0006em-IV@74yxhf1.ch3.sourceforge.com>

Revision: 12298
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12298&view=rev
Author:   druzus
Date:     2009-08-24 11:35:57 +0000 (Mon, 24 Aug 2009)

Log Message:
-----------
2009-08-24 13:35 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbexprb.c
    * minor modification

  * harbour/source/common/expropt2.c
    + added compile time optimization for expression like ("alias")->var
      and ("alias")->(<exp>)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbexprb.c
    trunk/harbour/source/common/expropt2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Aug 24 07:42:34 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 24 07:42:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <20090824113432.GA9881@uran.home.aster.pl>
References: <4A8FB9EE.1020600@libero.it>
	<7FDDDFE7-84E4-44C6-9925-69CEE5374629@syenar.hu>
	<4A8FF48E.1080000@libero.it>
	<E7EDE37B-7D99-4CAC-8C4E-196EAC2CD527@syenar.hu>
	<4A900139.7000205@libero.it>
	<B9FA2A50-B6F9-4919-8FDC-116330E3BF80@syenar.hu>
	<4A9012DC.4020806@libero.it>
	<BDD73FF0-2CF2-4532-8735-CDD230A08A2D@syenar.hu>
	<4A923D89.8000107@libero.it>
	<456977DC-00E9-4212-ADD3-5F4B57681638@syenar.hu>
	<20090824113432.GA9881@uran.home.aster.pl>
Message-ID: <34CD27C1-EDB3-485C-9696-EED079DBB54A@syenar.hu>

> On Mon, 24 Aug 2009, Szak?ts Viktor wrote:
>>> sorry, not enough, it still dies :(
>> Thank you for the feedback.
>> Another idea is to iterate through DYNDIRLIST variable
>> items and pick filelist via 'for' (rather than using
>> already assembled list by make internals) and do something
>> like this:
>> --- in config/os2/gcc.mk [ typed without running it ]
>> define dyn_objects
>>   for %f in ( $(TOP)$(ROOT)$(dir)/$(OBJ_DIR)/*$(OBJ_DYN_PREFIX)$ 
>> (OBJ_EXT)
>> ) do @$(ECHO) $(ECHOQUOTE)INPUT(%f)$(ECHOQUOTE) >> __dyn__.tmp
>> endef
>> define create_dynlib
>>   $(if $(wildcard __dyn__.tmp),@$(RM) __dyn__.tmp,)
>>   $(foreach dir,$(DYNDIRLIST),$(dyn_objects))
>>   $(DY) ...
>> endef
>> ---
>
> It will not work. David already made such tests.
> The problem is in OS2 GNU make port. It has limited total size of
> resolved command for given action and when this limit is exceed
> then it corrupts internal memory and usually GPFs.
> See the note about using wordlist in config/common/watcom.mk.
> GNU make evaluates all functions creating full list of commands
> to execute before it starts to execute the 1-st command. It doesn't
> mater how you create such list (which functions you will use) but
> important is only total length. As long as it's not fixed in OS2
> GNU make port then you cannot create such long command but I do
> not know if it's a know bug reported to GNU make authors. Maybe
> we should ask about it.

I haven't seen any fixed OS/2 related bugs in make ChangeLog
since 3.81. But maybe such fix exist outside the official tree.
So even OS/2 build of unstable-3.81.90 may not solve a problem,
anyhow if someone has such build it could be tested.

[ I didn't check make pending bug list though. ]

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Aug 24 08:13:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 24 08:13:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12299] trunk/harbour
Message-ID: <E1MfYQ0-0008J5-5H@3kljzd1.ch3.sourceforge.com>

Revision: 12299
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12299&view=rev
Author:   vszakats
Date:     2009-08-24 12:12:59 +0000 (Mon, 24 Aug 2009)

Log Message:
-----------
2009-08-24 14:09 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    * Cleaned examples.
      - Arranged them by host platform
      - Fixed a few examples (DJGPP on NT missed HB_PLATFORM)
      - Moved 'set HB_COMPILE' to make cmdline.
      - Consistency changes.
      - Deleted empty 'rem' lines.
      - Moved log redirection from each example to general NOTE.
      - Moved %1 %2 from example to general NOTE.
      - Added generic *nix section.
      - Added information about possible cross-build targets.
    ; Hopefully they are much cleaner now. In fact most information
      deal with how to setup the compiler.

  * config/global.mk
    + Added link to GNU Make free book.
    % path checking functions rearranged, so now it can be indented.
    + Added log header line.
    ! Fixed to display only the first autodetect location.

  * bin/postinst.cmd
  * bin/postinst.bat
  * bin/hb-func.sh
    * Wording: 'Generating' -> 'Making'
    * 'Harbour Make (hbmk2)' -> 'hbmk2' in generated hbmk.cfg.

  * utils/hbmk2/hbmk2.prg
    * Wording: 'Generating' -> 'Creating'

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/bin/postinst.bat
    trunk/harbour/bin/postinst.cmd
    trunk/harbour/config/global.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From qiinfo at ig.com.br  Mon Aug 24 08:24:06 2009
From: qiinfo at ig.com.br (Rossine)
Date: Mon Aug 24 08:24:10 2009
Subject: [Harbour] error with 12299
Message-ID: <25115125.post@talk.nabble.com>


Hello,

I seek this erro with 12299

[ERROR]
ilink32.exe -q -Gn -C -aa -Tpd -Gi -x  c0d32.obj @__dyn__.tmp
Error: Unresolved external '_hb_compIdentifierNew' referenced from
C:\HARBOUR\SO
URCE\MACRO\OBJ\WIN\BCC\MACROB_DYN.OBJ
mingw32-make[3]: *** [harbour-20-bcc.dll] Error 2
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [dynlib.inst] Error 2
mingw32-make: *** [source.inst] Error 2
[ENDERROR]

Best Regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/error-with-12299-tp25115125p25115125.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Aug 24 08:31:47 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Aug 24 08:31:54 2009
Subject: [Harbour] poccarm new warning
Message-ID: <18d502870908240531jf8a1f7ambb498605eaf651f8@mail.gmail.com>

../../../hbproces.c(953): warning #2115: Local 'ulErrSize' is
initialized but never used.
../../../hbproces.c(953): warning #2115: Local 'ulOutSize' is
initialized but never used.
../../../hbproces.c(951): warning #2115: Local 'phStdin' is
initialized but never used.

After that I also get:

polink.exe /nologo /dll
/out:"..\..\..\..\..\bin\wce\poccarm\harbour-20-wce-arm.dll"
/implib:"../../../../../lib/wce/poccarm/harbour-20-wce-arm.lib"
@__dyn__.tmp coredll.lib ws2.lib corelibc.lib
POLINK: error: Unresolved external symbol 'hb_compIdentifierNew'.

Brgds,
Viktor
From vszakats at users.sourceforge.net  Mon Aug 24 08:46:22 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 24 08:46:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12300] trunk/harbour
Message-ID: <E1MfYwI-00086j-U7@74yxhf1.ch3.sourceforge.com>

Revision: 12300
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12300&view=rev
Author:   vszakats
Date:     2009-08-24 12:46:22 +0000 (Mon, 24 Aug 2009)

Log Message:
-----------
2009-08-24 14:46 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  - config/os2echo.exe
  * config/globsh.mk
  * config/readme.txt
    - Deleted. It didn't solve any problems.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/globsh.mk
    trunk/harbour/config/readme.txt

Removed Paths:
-------------
    trunk/harbour/config/os2echo.exe


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Mon Aug 24 08:50:43 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 24 08:50:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12301] trunk/harbour
Message-ID: <E1MfZ0V-0008Ci-HS@74yxhf1.ch3.sourceforge.com>

Revision: 12301
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12301&view=rev
Author:   druzus
Date:     2009-08-24 12:50:42 +0000 (Mon, 24 Aug 2009)

Log Message:
-----------
2009-08-24 14:50 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbmacro.h
  * harbour/source/macro/macro.yyc
  * harbour/source/macro/macro.y
    * hb_macroIdentNew() made public

  * harbour/include/hbexprb.c
    ! use hb_macroIdentNew() instead of hb_compIdentifierNew()
      in code compiled for macrocompiler

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbexprb.c
    trunk/harbour/include/hbmacro.h
    trunk/harbour/source/macro/macro.y
    trunk/harbour/source/macro/macro.yyc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Aug 24 09:09:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 24 09:09:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <20090824113432.GA9881@uran.home.aster.pl>
References: <4A8FB9EE.1020600@libero.it>
	<7FDDDFE7-84E4-44C6-9925-69CEE5374629@syenar.hu>
	<4A8FF48E.1080000@libero.it>
	<E7EDE37B-7D99-4CAC-8C4E-196EAC2CD527@syenar.hu>
	<4A900139.7000205@libero.it>
	<B9FA2A50-B6F9-4919-8FDC-116330E3BF80@syenar.hu>
	<4A9012DC.4020806@libero.it>
	<BDD73FF0-2CF2-4532-8735-CDD230A08A2D@syenar.hu>
	<4A923D89.8000107@libero.it>
	<456977DC-00E9-4212-ADD3-5F4B57681638@syenar.hu>
	<20090824113432.GA9881@uran.home.aster.pl>
Message-ID: <13C51DAF-0B94-4937-85ED-6DB65627374F@syenar.hu>

>> define create_dynlib
>>   $(if $(wildcard __dyn__.tmp),@$(RM) __dyn__.tmp,)
>>   $(foreach dir,$(DYNDIRLIST),$(dyn_objects))
>>   $(DY) ...
>> endef
>> ---
>
> It will not work. David already made such tests.
> The problem is in OS2 GNU make port. It has limited total size of
> resolved command for given action and when this limit is exceed
> then it corrupts internal memory and usually GPFs.
> See the note about using wordlist in config/common/watcom.mk.
> GNU make evaluates all functions creating full list of commands
> to execute before it starts to execute the 1-st command. It doesn't
> mater how you create such list (which functions you will use) but
> important is only total length. As long as it's not fixed in OS2
> GNU make port then you cannot create such long command but I do
> not know if it's a know bug reported to GNU make authors. Maybe
> we should ask about it.

What may work is to generate a small .bat file with one 'for' line
for each DYNDIRLIST item, and calling this .bat to generate generate
the .tmp file.

Brgds,
Viktor

From qiinfo at ig.com.br  Mon Aug 24 09:15:00 2009
From: qiinfo at ig.com.br (Rossine)
Date: Mon Aug 24 09:15:07 2009
Subject: [Harbour] error with 12299
In-Reply-To: <25115125.post@talk.nabble.com>
References: <25115125.post@talk.nabble.com>
Message-ID: <25115917.post@talk.nabble.com>


Hello,

Work?s fine now :)

Thank yopu very much,

Rossine.

-- 
View this message in context: http://www.nabble.com/error-with-12299-tp25115125p25115917.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Aug 24 09:28:37 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Aug 24 09:28:45 2009
Subject: [Harbour] poccarm more problems
Message-ID: <18d502870908240628n17237ec9h20668207f1cb23a1@mail.gmail.com>

../../../disk.c(217): warning #2115: Local 'sRoot' is initialized but
never used.
../../../disk.c(218): warning #2115: Local 'sVolName' is initialized
but never used.

! Making shared version of Harbour binaries...
POLINK: error: Unresolved external symbol 'hb_wctomb'.
POLINK: fatal error: 1 unresolved external(s).
hbmk2: Error: Running linker. 1
POLINK: error: Unresolved external symbol 'hb_wctomb'.
POLINK: fatal error: 1 unresolved external(s).
hbmk2: Error: Running linker. 1
POLINK: error: Unresolved external symbol 'hb_wctomb'.
POLINK: fatal error: 1 unresolved external(s).
hbmk2: Error: Running linker. 1

This is an old one, actually, first reported in April.

If no one is interested in poccarm, I think we should remove support,
as it's just
in the way, it's a waste of time. Any opinions?

Brgds,
Viktor
From qiinfo at ig.com.br  Mon Aug 24 10:28:12 2009
From: qiinfo at ig.com.br (Rossine)
Date: Mon Aug 24 10:28:18 2009
Subject: [Harbour] This is possible with harbour ?
Message-ID: <25117049.post@talk.nabble.com>


Hello,

You can use this example below with harbour ?

[CODE]
Procedure Main( sMsg )

   LOCAL sText, sPPed, asPPed, oInterpreter, oErr, xResult, bDefErrBlock :=
ErrorBlock()

   TRY
      oInterpreter := TInterpreter():New()

      oInterpreter:AddLine( "/* Sample Script for embedded PP "   )
      oInterpreter:AddLine( " have fun... */"                     )
      oInterpreter:AddLine( ""                                    )
      oInterpreter:AddLine( "Procedure Test( cMacroVar, xValue )" )
      oInterpreter:AddLine( ""                                    )
      oInterpreter:AddLine( "   Local cVar := 'Hi There'"         )
      oInterpreter:AddLine( ""                                    )
      oInterpreter:AddLine( "   &cMacroVar := xValue"             )
      oInterpreter:AddLine( ""                                    )
      oInterpreter:AddLine( "   ? cVar, &cMacroVar, ;"            )
      oInterpreter:AddLine( "     xValue"                         )
      oInterpreter:AddLine( ""                                    )
      oInterpreter:AddLine( "   WHILE Inkey() == 0 // WAIT"       )
      oInterpreter:AddLine( "   ENDDO"                            )
      oInterpreter:AddLine( ""                                    )
      oInterpreter:AddLine( "RETURN LastKey()"                    )

      // Will automatically perform a ::Compile() first.
      xResult := oInterpreter:Run( "Param1", "Param2" )

      IF xResult:ClassName == "ERROR"
         Eval( bDefErrBlock, xResult )
      ELSE
         Alert( xResult )
      ENDIF
   CATCH oErr
      Eval( bDefErrBlock, oErr )
   END

   TRY
      sText := "/* Sample Script for embedded PP     " + Chr(10)
      sText += " have fun... */                      " + Chr(10)
      sText += "                                     " + Chr(10)
      sText += "Procedure Test( cMacroVar, xValue )  " + Chr(10)
      sText += "                                     " + Chr(10)
      sText += "   Local cVar := 'Hi There'          " + Chr(10)
      sText += "                                     " + Chr(10)
      sText += "   &cMacroVar := xValue              " + Chr(10)
      sText += "                                     " + Chr(10)
      sText += "   ? cVar, &cMacroVar,  ;            " + Chr(10)
      sText += "     xValue                          " + Chr(10)
      sText += "                                     " + Chr(10)
      sText += "   WHILE Inkey() == 0 // WAIT        " + Chr(10)
      sText += "   ENDDO                             " + Chr(10)
      sText += "                                     " + Chr(10)
      sText += "RETURN LastKey()                     "

      xResult := PP_RunText( sText, .T., { "Private_1", 1000 } )

      IF xResult:ClassName == "ERROR"
         Eval( bDefErrBlock, xResult )
      ELSE
         Alert( xResult )
      ENDIF
   CATCH oErr
      Eval( bDefErrBlock, oErr )
   END

   //OR ...
   TRY
      sPPed := PP_PreProText( sText )
      xResult := PP_RunText( sPPed, .F., { "Private_2", 2000 } )

      IF xResult:ClassName == "ERROR"
         Eval( bDefErrBlock, xResult )
      ELSE
         Alert( xResult )
      ENDIF
   CATCH oErr
      Eval( bDefErrBlock, oErr )
   END

   //OR ...
   TRY
      asPPed := {}
      PP_PreProText( sText, asPPed )

      xResult := PP_RunArray( asPPed, { "Private_3", 3000 } )

      IF xResult:ClassName == "ERROR"
         Eval( bDefErrBlock, xResult )
      ELSE
         Alert( xResult )
      ENDIF
   CATCH oErr
      Eval( bDefErrBlock, oErr )
   END

   // Now let's have some real fun...
   IF sMsg == "Recursively running self"
      Alert( "Let's STOP this madness..." )
      RETURN "Stopped"
   ENDIF

   TRY
      //PP_Run( "prgscrpt.prg", { "Recursively running self" } )
      xResult := oInterpreter:RunFile( "prgscrpt.prg", { "Recursively
running self" }, ".pp", .F. ) // Output PreProcessed extension .pp wirhout
blanks.

      IF xResult:ClassName == "ERROR"
         Eval( bDefErrBlock, xResult )
      ELSE
         Alert( xResult )
      ENDIF
   CATCH oErr
      Eval( bDefErrBlock, oErr )
   END

RETURN
[ENDCODE]

Regards,

Rossine.

-- 
View this message in context: http://www.nabble.com/This-is-possible-with-harbour---tp25117049p25117049.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Mon Aug 24 10:38:05 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 24 10:38:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12302] trunk/harbour
Message-ID: <E1MfagP-0002Gj-GO@dn4whf1.ch3.sourceforge.com>

Revision: 12302
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12302&view=rev
Author:   druzus
Date:     2009-08-24 14:37:58 +0000 (Mon, 24 Aug 2009)

Log Message:
-----------
2009-08-24 16:37 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/global.mk
    ! fixed MinGW cross build autodetection
      TOFIX: find_in_path_par do not work for paths separated by spaces
             due to $(substpat) trick

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Aug 24 10:45:16 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 24 10:45:24 2009
Subject: [Harbour] Re: poccarm more problems
In-Reply-To: <18d502870908240628n17237ec9h20668207f1cb23a1@mail.gmail.com>
References: <18d502870908240628n17237ec9h20668207f1cb23a1@mail.gmail.com>
Message-ID: <C3B9F720-F732-4314-AC0C-93D2596EF8A0@syenar.hu>

> ! Making shared version of Harbour binaries...
> POLINK: error: Unresolved external symbol 'hb_wctomb'.
> POLINK: fatal error: 1 unresolved external(s).
> hbmk2: Error: Running linker. 1
> POLINK: error: Unresolved external symbol 'hb_wctomb'.
> POLINK: fatal error: 1 unresolved external(s).
> hbmk2: Error: Running linker. 1
> POLINK: error: Unresolved external symbol 'hb_wctomb'.
> POLINK: fatal error: 1 unresolved external(s).
> hbmk2: Error: Running linker. 1
>
> This is an old one, actually, first reported in April.

Here the problem is that hb_wctomb() isn't HB_EXPORTed
from wce harbour.dll, only provided in hbcommon.lib as
public function.

Now, I'm not sure which is the better solution:
Adding HB_EXPORT to these functions to be published from
wce .dlls or link hbcommon.lib from hbmk2 in wce shared mode?

Or something completely different?

Brgds,
Viktor

From maurilio.longo at libero.it  Mon Aug 24 11:02:22 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Aug 24 11:02:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12244] trunk/harbour
In-Reply-To: <20090824113432.GA9881@uran.home.aster.pl>
References: <4A8FB9EE.1020600@libero.it>	<7FDDDFE7-84E4-44C6-9925-69CEE5374629@syenar.hu>	<4A8FF48E.1080000@libero.it>	<E7EDE37B-7D99-4CAC-8C4E-196EAC2CD527@syenar.hu>	<4A900139.7000205@libero.it>	<B9FA2A50-B6F9-4919-8FDC-116330E3BF80@syenar.hu>	<4A9012DC.4020806@libero.it>	<BDD73FF0-2CF2-4532-8735-CDD230A08A2D@syenar.hu>	<4A923D89.8000107@libero.it>	<456977DC-00E9-4212-ADD3-5F4B57681638@syenar.hu>
	<20090824113432.GA9881@uran.home.aster.pl>
Message-ID: <4A92AB7E.202@libero.it>

Hi Przemyslaw,

Przemyslaw Czerpak wrote:
> It will not work. David already made such tests.
> The problem is in OS2 GNU make port. It has limited total size of
> resolved command for given action and when this limit is exceed
> then it corrupts internal memory and usually GPFs.
> See the note about using wordlist in config/common/watcom.mk.
> GNU make evaluates all functions creating full list of commands
> to execute before it starts to execute the 1-st command. It doesn't
> mater how you create such list (which functions you will use) but
> important is only total length. As long as it's not fixed in OS2
> GNU make port then you cannot create such long command but I do
> not know if it's a know bug reported to GNU make authors. Maybe
> we should ask about it.
> 

But if I execute a make --dry-run it runs through all dirs spitting out
correct commands.

So the problem should not to be inside make code but ( maybe inside C RTL?);
anyway, I've asked to the latest porter if he can help me solve this problem,
let's see if we can solve it in some way without introducing more hacks.

Thanks.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at users.sourceforge.net  Mon Aug 24 11:11:49 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 24 11:11:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12303] trunk/harbour
Message-ID: <E1MfbD3-0003IN-4S@dn4whf1.ch3.sourceforge.com>

Revision: 12303
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12303&view=rev
Author:   druzus
Date:     2009-08-24 15:11:39 +0000 (Mon, 24 Aug 2009)

Log Message:
-----------
2009-08-24 17:10 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-mkdyn.sh
  * harbour/bin/postinst.sh
    ! fixed win and wce cross builds when GCC cross build tools are not
      in PATH

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-mkdyn.sh
    trunk/harbour/bin/postinst.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Aug 24 11:15:30 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 24 11:15:36 2009
Subject: [Harbour] Re: poccarm more problems
In-Reply-To: <C3B9F720-F732-4314-AC0C-93D2596EF8A0@syenar.hu>
References: <18d502870908240628n17237ec9h20668207f1cb23a1@mail.gmail.com>
	<C3B9F720-F732-4314-AC0C-93D2596EF8A0@syenar.hu>
Message-ID: <20090824151530.GA1638@uran.home.aster.pl>

On Mon, 24 Aug 2009, Szak?ts Viktor wrote:
> Here the problem is that hb_wctomb() isn't HB_EXPORTed
> from wce harbour.dll, only provided in hbcommon.lib as
> public function.
> Now, I'm not sure which is the better solution:
> Adding HB_EXPORT to these functions to be published from
> wce .dlls or link hbcommon.lib from hbmk2 in wce shared mode?

The second version is the shortest way to create broken binaries.
_NEVER_ suggest anything like that because int the worst case you
can even create binaries with two HVM stacks taken from repeated
HBVM static library.
Please add export attribute to these functions.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Aug 24 11:20:35 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 24 11:20:43 2009
Subject: [Harbour] Re: poccarm more problems
In-Reply-To: <20090824151530.GA1638@uran.home.aster.pl>
References: <18d502870908240628n17237ec9h20668207f1cb23a1@mail.gmail.com>
	<C3B9F720-F732-4314-AC0C-93D2596EF8A0@syenar.hu>
	<20090824151530.GA1638@uran.home.aster.pl>
Message-ID: <070FD908-FAB1-4496-A8B7-82EBDCBD7094@syenar.hu>

>> Now, I'm not sure which is the better solution:
>> Adding HB_EXPORT to these functions to be published from
>> wce .dlls or link hbcommon.lib from hbmk2 in wce shared mode?
>
> The second version is the shortest way to create broken binaries.
> _NEVER_ suggest anything like that because int the worst case you
> can even create binaries with two HVM stacks taken from repeated
> HBVM static library.
> Please add export attribute to these functions.

Okay, thanks for input, the fix is in the queue already, will commit
soon.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Aug 24 11:42:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 24 11:43:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12304] trunk/harbour
Message-ID: <E1MfbhC-0004T6-Jt@3kljzd1.ch3.sourceforge.com>

Revision: 12304
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12304&view=rev
Author:   vszakats
Date:     2009-08-24 15:42:57 +0000 (Mon, 24 Aug 2009)

Log Message:
-----------

2009-08-24 17:40 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
  * INSTALL
    + Added poccarm and pocc64 autodetection.
    + Added iccia64 autodetection.
    + Added watcom target platform detection on all host platforms.
    + Added djgpp autodetection under win hosts.
    % Simplified INSTALL examples accordingly.
      Actually it's so simple now that only 'make' should be
      issue after setting up the compiler according to compiler
      docs. It's very rare that HB_COMPILER or HB_PLATFORM should
      be specified now on non-*nix platforms.
    * Minor formatting.
    - Deleted debug $(info) line.

  * utils/hbmk2/hbmk2.hu_HU.po
  * utils/hbmk2/hbmk2.prg
    ! Fixed to not initialize HB_DYN_INSTALL location to central lib
      dir in case there was a plat/comp specific lib dir found.
      I can't remember why this was done this way, but now it doesn't
      seem to be necessary and it can just cause problems, as central
      lib may contain some overlapping lib name (leftovers from other
      'install' sessions) causing trouble for linkers. It also cleaner
      this way.
    ! Added '(internal)' text to Harbour command -trace output.
    ! Changed harbour.exe path in internal command trace/error output
      to use the same base dir as hbmk2 itself. In cross-compile
      situations this is more accurate. Since harbour.exe shouldn't
      necessarily exist, I've put harbour.exe path in paranthesis
      to suggest it's not a real path.
    ; NOTE: Actually now hbmk2 autodetection code is lagging behind
            GNU Make, so hbmk may need to get a bigger internal revision
            sooner or later to catch up. It currently cannot switch
            platforms based on detected situation, also the embedded
            and normal tool installation should be merged, plus
            autodetection added for *nix platforms.

  * include/hbwince.h
  * include/hbdef.h
    ! Added HB_EXPORT to some WinCE function, because they are needed
      to successfully link shared final executable for non-mingw
      wce compilers (poccarm and msvcarm). (in mingw we automatically
      export all 'extern' functions, so this isn't a problem)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.mk
    trunk/harbour/include/hbdefs.h
    trunk/harbour/include/hbwince.h
    trunk/harbour/utils/hbmk2/hbmk2.hu_HU.po
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 24 11:47:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 24 11:47:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12305] trunk/harbour
Message-ID: <E1Mfblp-0004YK-FB@3kljzd1.ch3.sourceforge.com>

Revision: 12305
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12305&view=rev
Author:   vszakats
Date:     2009-08-24 15:47:44 +0000 (Mon, 24 Aug 2009)

Log Message:
-----------
2009-08-24 17:47 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.pt_BR.po
    + Updated translation.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From abe.buch at att.net  Mon Aug 24 11:54:18 2009
From: abe.buch at att.net (AbeB)
Date: Mon Aug 24 11:54:23 2009
Subject: [Harbour] WinCe Fonts/Console
Message-ID: <1251129258014-3504287.post@n2.nabble.com>


Font Sizeing is broken on Wce/Mingwarm. won't change size. and the default
size is unreadable.
Please, Please all of you gurus, let's make Harbour THE program for Wince. I
wish I could help here, but the best I can do is Testing/Reporting.
Thanks
Abe
-- 
View this message in context: http://n2.nabble.com/WinCe-Fonts-Console-tp3504287p3504287.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Mon Aug 24 12:00:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 24 12:00:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12306] trunk/harbour
Message-ID: <E1Mfby7-0004yI-NK@3kljzd1.ch3.sourceforge.com>

Revision: 12306
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12306&view=rev
Author:   vszakats
Date:     2009-08-24 16:00:26 +0000 (Mon, 24 Aug 2009)

Log Message:
-----------
2009-08-24 17:58 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    % Further simplified quick start instructions.
      - Deleted HB_COMPILER from non-*nix build cmds.
      * Replaced HB_COMPILER with HB_PLATFORM on *nix platforms.
    + Replaced cross-platform scenario list with a complete 
      host platform/shell vs. target platform/compiler 
      compatibility matrix.
      Feel free to correct/verify/extend it.
      It's quite scary so I added it as last section.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 24 12:23:05 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 24 12:23:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12307] trunk/harbour
Message-ID: <E1MfcK1-0005Wk-1P@dn4whf1.ch3.sourceforge.com>

Revision: 12307
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12307&view=rev
Author:   vszakats
Date:     2009-08-24 16:22:59 +0000 (Mon, 24 Aug 2009)

Log Message:
-----------
2009-08-24 18:19 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Improvements. (f.e. moved non-*nix sections to top of
      quick instruction list as *nix users tend to know these
      things already)

    ; NOTE: Is anyone interested in proofreading it or just plain 
            giving some feeback? It's great that I update this doc,
            but I still had no feedback whether is it suitable for 
            any purpose, or useful for anyone. Anything missing, 
            incomprehensible, or god forbid: useful.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 24 12:32:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 24 12:33:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12308] trunk/harbour
Message-ID: <E1MfcTa-00063S-3a@dn4whf1.ch3.sourceforge.com>

Revision: 12308
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12308&view=rev
Author:   vszakats
Date:     2009-08-24 16:32:53 +0000 (Mon, 24 Aug 2009)

Log Message:
-----------
2009-08-24 18:32 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    % Added all/clean/install as .PHONY targets.
    ! Fixed one error message. (had mistyped HB_ARCHITECTURE)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vailtom at gmail.com  Mon Aug 24 12:36:22 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Mon Aug 24 12:36:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12307] trunk/harbour
In-Reply-To: <E1MfcK1-0005Wk-1P@dn4whf1.ch3.sourceforge.com>
References: <E1MfcK1-0005Wk-1P@dn4whf1.ch3.sourceforge.com>
Message-ID: <531d7a750908240936tb6b36ag3e0016545e6e7a7@mail.gmail.com>

Hi Viktor!

I found the information clear and very useful. I am very grateful for
your efforts to keep this information updated, because they are
fundamental to all who wish to start with the Harbor.

Here in Brazil I always encouraging everyone who begin to read and
test the instructions in this file, because they save you hours of
research and avoids repeated several questions from the list about
these issues.

Regards,
Vailton Renato
From abe.buch at att.net  Mon Aug 24 12:47:22 2009
From: abe.buch at att.net (AbeB)
Date: Mon Aug 24 12:47:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12307] trunk/harbour
In-Reply-To: <E1MfcK1-0005Wk-1P@dn4whf1.ch3.sourceforge.com>
References: <E1MfcK1-0005Wk-1P@dn4whf1.ch3.sourceforge.com>
Message-ID: <1251132442969-3504686.post@n2.nabble.com>


Thanks Viktor. very clear now.
Regards,
Abe


vszakats wrote:
> 
> Revision: 12307
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12307&view=rev
> Author:   vszakats
> Date:     2009-08-24 16:22:59 +0000 (Mon, 24 Aug 2009)
> 
> Log Message:
> -----------
> 2009-08-24 18:19 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * INSTALL
>     + Improvements. (f.e. moved non-*nix sections to top of
>       quick instruction list as *nix users tend to know these
>       things already)
> 
>     ; NOTE: Is anyone interested in proofreading it or just plain 
>             giving some feeback? It's great that I update this doc,
>             but I still had no feedback whether is it suitable for 
>             any purpose, or useful for anyone. Anything missing, 
>             incomprehensible, or god forbid: useful.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/INSTALL
> 
> 
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-12307-trunk-harbour-tp3504545p3504686.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From vszakats at users.sourceforge.net  Mon Aug 24 13:05:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 24 13:05:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12309] trunk/harbour
Message-ID: <E1Mfcyg-00059V-3p@74yxhf1.ch3.sourceforge.com>

Revision: 12309
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12309&view=rev
Author:   vszakats
Date:     2009-08-24 17:05:05 +0000 (Mon, 24 Aug 2009)

Log Message:
-----------
2009-08-24 19:04 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/dosecho.exe
    ! Replaced it with a different build which is coming from
      a known location, the DJGPP package, where also the other
      included .exe came from. This is an inferior build, but
      for our purposes it will do.

  * INSTALL
  * config/global.mk
    * Minor.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/dosecho.exe
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 24 13:10:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 24 13:10:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12310] trunk/harbour
Message-ID: <E1Mfd3Q-0005GD-OG@74yxhf1.ch3.sourceforge.com>

Revision: 12310
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12310&view=rev
Author:   vszakats
Date:     2009-08-24 17:09:59 +0000 (Mon, 24 Aug 2009)

Log Message:
-----------
2009-08-24 19:09 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    * Minor.

  - config/readme.txt
  + doc/bintools.txt
    * Renamed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL

Added Paths:
-----------
    trunk/harbour/doc/bintools.txt

Removed Paths:
-------------
    trunk/harbour/config/readme.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Aug 24 13:34:41 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 24 13:34:49 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12303] trunk/harbour
In-Reply-To: <E1MfbCv-0003IC-MQ@dn4whf1.ch3.sourceforge.com>
References: <E1MfbCv-0003IC-MQ@dn4whf1.ch3.sourceforge.com>
Message-ID: <437FE425-2E03-4DDC-B279-EB368101A6B8@syenar.hu>

Hi Przemek,

Did you try latest harbour dynamic lib integration into GNU Make
on *nix systems?

Maybe I missed something for *nix platforms, but for non-*nix
it seems to work okay. In GNU make it can work also for platforms
which need different compiler settings for dlls and it also
works for all shells, which means it also works in cross-build
scenarios.

If this works well, we may not need to make them in postinst
phase. We'd still need however the link creation logic at
postinst, but that's sh specific anyway.

Brgds,
Viktor

On 2009.08.24., at 5:11, druzus@users.sourceforge.net wrote:

> Revision: 12303
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12303&view=rev
> Author:   druzus
> Date:     2009-08-24 15:11:39 +0000 (Mon, 24 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-24 17:10 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/bin/hb-mkdyn.sh
>  * harbour/bin/postinst.sh
>    ! fixed win and wce cross builds when GCC cross build tools are not
>      in PATH
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/bin/hb-mkdyn.sh
>    trunk/harbour/bin/postinst.sh
>
> Modified: trunk/harbour/ChangeLog
> ===================================================================
> --- trunk/harbour/ChangeLog	2009-08-24 14:37:58 UTC (rev 12302)
> +++ trunk/harbour/ChangeLog	2009-08-24 15:11:39 UTC (rev 12303)
> @@ -17,6 +17,12 @@
>    past entries belonging to author(s): Viktor Szakats.
> */
>
> +2009-08-24 17:10 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> +  * harbour/bin/hb-mkdyn.sh
> +  * harbour/bin/postinst.sh
> +    ! fixed win and wce cross builds when GCC cross build tools are  
> not
> +      in PATH
> +
> 2009-08-24 16:37 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/config/global.mk
>     ! fixed MinGW cross build autodetection
>
> Modified: trunk/harbour/bin/hb-mkdyn.sh
> ===================================================================
> --- trunk/harbour/bin/hb-mkdyn.sh	2009-08-24 14:37:58 UTC (rev 12302)
> +++ trunk/harbour/bin/hb-mkdyn.sh	2009-08-24 15:11:39 UTC (rev 12303)
> @@ -14,6 +14,7 @@
>
> # HB_PLATFORM=""
> # HB_CCPREFIX=""
> +# HB_CCPATH=""
>
> if [ -n "${HB_PLATFORM}" ]
> then
> @@ -111,7 +112,7 @@
>                 d="${f##*/}"
>                 mkdir $d
>                 cd $d
> -                ${HB_CCPREFIX}ar -x "${f}" || exit 1
> +                ${HB_CCPATH}${HB_CCPREFIX}ar -x "${f}" || exit 1
>                 cd ..
>                 ;;
>             *)
> @@ -139,7 +140,7 @@
>         SYSLIBS="-luser32 -lws2_32 -ladvapi32 -lgdi32"
>     fi
>     # -Wl,--output-def,testdll.def,--out-implib,libtestdll.a
> -    ${HB_CCPREFIX}gcc -shared -o "${FULLNAME}" $OBJLST $ 
> {linker_options} ${HB_USER_DFLAGS} ${SYSLIBS} ${HB_DLLIBS} && \
> +    ${HB_CCPATH}${HB_CCPREFIX}gcc -shared -o "${FULLNAME}" $OBJLST $ 
> {linker_options} ${HB_USER_DFLAGS} ${SYSLIBS} ${HB_DLLIBS} && \
>         cd "${dir}" && \
>         rm -f "${DSTDIR}${FULLNAME}" && \
>         mv -f "${OTMPDIR}/${FULLNAME}" "${DSTDIR}${FULLNAME}"
> @@ -147,7 +148,7 @@
>     #FULLNAME="${BASE}-${VERSION}${SLIB_EXT}"
>     #FULLNAME="${BASE}{SLIB_EXT}.${VERSION}"
>     FULLNAME="${LIB_NAME}${SLIB_EXT}"
> -    ${HB_CCPREFIX}gcc -shared -fPIC -o "${FULLNAME}" $OBJLST $ 
> {linker_options} ${HB_USER_DFLAGS} && \
> +    ${HB_CCPATH}${HB_CCPREFIX}gcc -shared -fPIC -o "${FULLNAME}"  
> $OBJLST ${linker_options} ${HB_USER_DFLAGS} && \
>         cd "${dir}" && \
>         mv -f "${OTMPDIR}/${FULLNAME}" "${DSTDIR}${FULLNAME}"
> fi
>
> Modified: trunk/harbour/bin/postinst.sh
> ===================================================================
> --- trunk/harbour/bin/postinst.sh	2009-08-24 14:37:58 UTC (rev 12302)
> +++ trunk/harbour/bin/postinst.sh	2009-08-24 15:11:39 UTC (rev 12303)
> @@ -52,8 +52,9 @@
>     if [ -n "${HB_TOOLS_PREF}" ]; then
>         hb_mkdyn="${HB_BIN_INSTALL}/${HB_TOOLS_PREF}-mkdyn"
>         rm -f "${hb_mkdyn}"
> -        sed -e "s/^# HB_PLATFORM=\"\"\$/HB_PLATFORM=\"${HB_PLATFORM} 
> \"/g" \
> -            -e "s/^# HB_CCPREFIX=\"\"\$/[ -n \"\${HB_CCPREFIX}\" ]  
> || HB_CCPREFIX=\"${HB_CCPREFIX}\"/g" \
> +        sed -e "s!^# HB_PLATFORM=\"\"\$!HB_PLATFORM=\"${HB_PLATFORM} 
> \"!g" \
> +            -e "s!^# HB_CCPREFIX=\"\"\$![ -n \"\${HB_CCPREFIX}\" ]  
> || HB_CCPREFIX=\"${HB_CCPREFIX}\"!g" \
> +            -e "s!^# HB_CCPATH=\"\"\$![ -n \"\${HB_CCPATH}\" ] ||  
> HB_CCPATH=\"${HB_CCPATH}\"!g" \
>             "${hb_root}/bin/hb-mkdyn.sh" > "${hb_mkdyn}" && \
>         chmod 755 "${hb_mkdyn}"
>     elif [ "$HB_COMPILER" = "icc" ]; then
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.

From harbour.01 at syenar.hu  Mon Aug 24 13:34:48 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 24 13:34:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12307] trunk/harbour
In-Reply-To: <531d7a750908240936tb6b36ag3e0016545e6e7a7@mail.gmail.com>
References: <E1MfcK1-0005Wk-1P@dn4whf1.ch3.sourceforge.com>
	<531d7a750908240936tb6b36ag3e0016545e6e7a7@mail.gmail.com>
Message-ID: <AE553E09-0A0C-439F-B399-3F81CD7CAE3B@syenar.hu>

Thank you Vailton and Abeb,

Please feel to comment on it anytime. It's one thing if
I understand it, and it's another whether someone with zero
knowledge of Harbour (or of building tools from source)
understands it. Glitches are also possible of course.

Brgds,
Viktor

On 2009.08.24., at 6:36, Vailton Renato wrote:

> Hi Viktor!
>
> I found the information clear and very useful. I am very grateful for
> your efforts to keep this information updated, because they are
> fundamental to all who wish to start with the Harbor.
>
> Here in Brazil I always encouraging everyone who begin to read and
> test the instructions in this file, because they save you hours of
> research and avoids repeated several questions from the list about
> these issues.
>
> Regards,
> Vailton Renato
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From arcadia2 at sbcglobal.net  Mon Aug 24 13:50:02 2009
From: arcadia2 at sbcglobal.net (bill robertson)
Date: Mon Aug 24 13:50:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12307] trunk/harbour
References: <E1MfcK1-0005Wk-1P@dn4whf1.ch3.sourceforge.com>
Message-ID: <C7491D8EFC6D4C1AA318615F2D329A84@billws>

Hi Viktor,

I find the information in install comprehensible and useful!

----- Original Message ----- 
From: <vszakats@users.sourceforge.net>
To: <harbour@harbour-project.org>
Sent: Monday, August 24, 2009 12:23 PM
Subject: [Harbour] SF.net SVN: harbour-project:[12307] trunk/harbour


> Revision: 12307
> 
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12307&view=rev
> Author:   vszakats
> Date:     2009-08-24 16:22:59 +0000 (Mon, 24 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-24 18:19 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>  * INSTALL
>    + Improvements. (f.e. moved non-*nix sections to top of
>      quick instruction list as *nix users tend to know these
>      things already)
>
>    ; NOTE: Is anyone interested in proofreading it or just plain
>            giving some feeback? It's great that I update this doc,
>            but I still had no feedback whether is it suitable for
>            any purpose, or useful for anyone. Anything missing,
>            incomprehensible, or god forbid: useful.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/INSTALL
>
>
> This was sent by the SourceForge.net collaborative development platform, 
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From harbour.01 at syenar.hu  Mon Aug 24 14:09:21 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 24 14:09:31 2009
Subject: [Harbour] OS/2 question
Message-ID: <91C37485-F06D-4AA8-8A90-B1A42FCA8628@syenar.hu>

Hi Maurilio,

Do .bat files work under OS/2? Can they be executed like
OS/2? Are there any differences compared to .cmd files?

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug 24 14:13:00 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 24 14:13:06 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <11010132970.20090822184639@tlen.pl>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
	<14464984.20090821152825@tlen.pl>
	<20090821134502.GA1678@uran.home.aster.pl>
	<11010132970.20090822184639@tlen.pl>
Message-ID: <20090824181300.GA14328@uran.home.aster.pl>

[sobota, 22 sierpieï¿½ 2009], JarosÅ‚aw KÄ…dzioÅ‚a napisa³(a):

Hi,

> I've use modificated wcecon.prg from harbour/tests :
> +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
> #include "hbgtinfo.ch"
> proc main()
>    altd()
>    REQUEST HB_CODEPAGE_PL852
>    cls

remove it, it will only force unnecessary console creation which
will be overwritten in a while.

>    hb_setCodePage( "PL852" )
>    hb_setTermCP( "PL852" )   
>    hb_gtInfo( HB_GTI_RESIZEMODE, HB_GTI_RESIZEMODE_ROWS )
>    SetMode(40,25)

Maybe try to set sth smaller, i.e.
     SetMode(32,16)


>    For  i = 6 To 18
>     hb_gtInfo( HB_GTI_FONTSIZE, i )
>     ? "Fontsize"
>     ? Str(i) + "Test : abcdefgh ABCDEFGH" 
>     ? "Test : "Ä„Ä†Ä˜ÅÅƒÃ“ÅšÅ¹Å»Ä…Ä‡Ä™Å‚Å„Ã³Å›ÅºÅ¼" // polish characters like in attachment
>     ? "rows =", ltrim( str( maxrow() + 1 ) )
>     ? "cols =", ltrim( str( maxcol() + 1 ) )
>     inkey( 0 )
>     clear
>    Next 
>    Quit
> +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
> 1.I don't see any difference between each size from 6 to 18 (see
> attachment).

So probably default font "Courier New" exists only in given size
try to use different font, i.e. "system", "times", "arial", ...
Check which fonts you have installed.
It's also possible that the size is not accepted without given width
so you can try to change both, i.e.
      hb_gtInfo( HB_GTI_FONTWIDTH, i / 2 )
      hb_gtInfo( HB_GTI_FONTSIZE, i )
AFAIR in Windows CP also reduce font selection and has very high
priority. By default it OEM_CHARSET=255, you can try to change it
to DEFAULT_CHARSET=1 or ANSI_CHARSET=0 before you try to select font,
i.e.:
      hb_gtInfo( HB_GTI_CODEPAGE, 1 )
or:
      hb_gtInfo( HB_GTI_CODEPAGE, 0 )

> 2.App's window is not on 'full screen'

It does not have to. It depends on font high/width and number of
rows and cols.

> 3.Windows Keyboard is visible on bottom of screen

AFAIK it depends on WinCE settings.

> 4.In string "Test : abcdefgh ABCDEFGH" char 'H' is cut

Probably console window is bigger then your screen.

> 5.Not exists any kerning

Such things depends on selected font.

best regards,
Przemek
From mbelgrano at deltain.it  Mon Aug 24 15:39:09 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Aug 24 15:39:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12307] trunk/harbour
In-Reply-To: <E1MfcK1-0005Wk-1P@dn4whf1.ch3.sourceforge.com>
References: <E1MfcK1-0005Wk-1P@dn4whf1.ch3.sourceforge.com>
Message-ID: <609353e70908241239i4924224ey31c9dd555349f8bd@mail.gmail.com>

I made a suggestion ,thanks to a Italian user that have tried

better describe when typically is need each component
 For example MSYS and Cygwin shells
In windows platform download location of component (like ads,mysql)

describe Cross-building is different from cross compilation by hbmk2
when typically is need cross building
Cross building is without sample
Describe Microsoft Visual c++ Express not available for Windows CE ARM

Give the actual order of importance of c compiler for windows platform
Mingw,Microsoft

Very compliment to Viktor for this very good work

2009/8/24  <vszakats@users.sourceforge.net>:
> Revision: 12307
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12307&view=rev
> Author: ? vszakats
> Date: ? ? 2009-08-24 16:22:59 +0000 (Mon, 24 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-24 18:19 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
> ?* INSTALL
> ? ?+ Improvements. (f.e. moved non-*nix sections to top of
> ? ? ?quick instruction list as *nix users tend to know these
> ? ? ?things already)
>
> ? ?; NOTE: Is anyone interested in proofreading it or just plain
> ? ? ? ? ? ?giving some feeback? It's great that I update this doc,
> ? ? ? ? ? ?but I still had no feedback whether is it suitable for
> ? ? ? ? ? ?any purpose, or useful for anyone. Anything missing,
> ? ? ? ? ? ?incomprehensible, or god forbid: useful.
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/INSTALL
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Aug 24 16:18:05 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 24 16:18:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12307] trunk/harbour
In-Reply-To: <609353e70908241239i4924224ey31c9dd555349f8bd@mail.gmail.com>
References: <E1MfcK1-0005Wk-1P@dn4whf1.ch3.sourceforge.com>
	<609353e70908241239i4924224ey31c9dd555349f8bd@mail.gmail.com>
Message-ID: <867C9165-AE3B-4ADD-A0BA-1CB32D4C217C@syenar.hu>

> I made a suggestion ,thanks to a Italian user that have tried
>
> better describe when typically is need each component
> For example MSYS and Cygwin shells

It's a simple user option, and it's listed as 'generally
not recommended'. Again some user prefer sh shells on
Windows, some not, INSTALL doc doesn't want to be the
judge or the teacher here. For sure native shells are
better tested, sh shell is tested for gcc, but should
work in theory with all compilers.

> In windows platform download location of component (like ads,mysql)

Well, here I don't want to compete Google, but such recommended
list could be useful indeed given someone wants to keep it up
to date.

> describe Cross-building is different from cross compilation by hbmk2

INSTALL is about building Harbour itself. hbmk2 is about building
your own apps. Cross building is the same for both. They are
not fully synced now, but the idea is the same, configuration
is same for the most part.

> when typically is need cross building
> Cross building is without sample

Not true. There are several cross-build samples since the
very beginning. I've added a few quite exotic ones just today.
All of them are not listed of course, these are examples,
but probably it's possibly enough to get the idea. Almost all
of them are listed for Windows host though.

> Describe Microsoft Visual c++ Express not available for Windows CE ARM

That's not true either, I've added examples describing
this scenario about a week ago. It needs some
Pocket-whatever-PC package from MS website. I've installed
it long ago, forgot the link, but it's probably easy to
find on MS website, it was also free. Look at the PATH for
a clue in examples about exact package name.

> Give the actual order of importance of c compiler for windows platform
> Mingw,Microsoft

I think this is subject to a different document. INSTALL just
describes how to do it, but it's not the point to influence
users.

Such document would probably be interesting, but I won't write
one, as this would just start the usual flame war when it comes
to tool preferences.

Probably everyone knows my tool choices. Lately watcom stepped
up a bit due to being nice cross-platform tool, but I still
wouldn't choose it for production.

> Very compliment to Viktor for this very good work

Thank you.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug 24 16:24:33 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 24 16:24:39 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12303] trunk/harbour
In-Reply-To: <437FE425-2E03-4DDC-B279-EB368101A6B8@syenar.hu>
References: <E1MfbCv-0003IC-MQ@dn4whf1.ch3.sourceforge.com>
	<437FE425-2E03-4DDC-B279-EB368101A6B8@syenar.hu>
Message-ID: <20090824202433.GA8820@uran.home.aster.pl>

On Mon, 24 Aug 2009, Szak?ts Viktor wrote:
> Did you try latest harbour dynamic lib integration into GNU Make
> on *nix systems?
> Maybe I missed something for *nix platforms, but for non-*nix
> it seems to work okay. In GNU make it can work also for platforms
> which need different compiler settings for dlls and it also
> works for all shells, which means it also works in cross-build
> scenarios.
> If this works well, we may not need to make them in postinst
> phase. We'd still need however the link creation logic at
> postinst, but that's sh specific anyway.

I tried it. Just a few notes after testing some builds.
1. in native Linux build 'lib' prefix is missing in library name
2. shared libraries do not contain GTCRS and GTSLN
3. they are not linked with system libraries
4. in Linux builds shared libraries are not created for suncc and icc
5. in mingw cross builds harbour-20.a and harbourmt-20.a without lib
   prefix are created. Additionally they are not necessary for mingw
   because it can create import library for harbour*.dll online.
   The same problem is with MinGWCE builds.
6. bcc builds fails when sh shell is used due to forward slashes
   instead of backslashes in file names
7. I do not see any easy way to include some other libraries
   in custom builds, i.e. for my won use I used to create shared
   libraries with some contrib ones like hbct and some of my own
   like dbrmap.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Aug 24 16:45:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 24 16:45:33 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12303] trunk/harbour
In-Reply-To: <20090824202433.GA8820@uran.home.aster.pl>
References: <E1MfbCv-0003IC-MQ@dn4whf1.ch3.sourceforge.com>
	<437FE425-2E03-4DDC-B279-EB368101A6B8@syenar.hu>
	<20090824202433.GA8820@uran.home.aster.pl>
Message-ID: <D03DA80C-67B4-450B-BC47-FBA442B0BBFB@syenar.hu>

>> If this works well, we may not need to make them in postinst
>> phase. We'd still need however the link creation logic at
>> postinst, but that's sh specific anyway.
>
> I tried it. Just a few notes after testing some builds.
> 1. in native Linux build 'lib' prefix is missing in library name

Easy to solve.

> 2. shared libraries do not contain GTCRS and GTSLN

Probably also. I'll have to check.

> 3. they are not linked with system libraries

Could you fix this. I have no idea what's this all about still.

> 4. in Linux builds shared libraries are not created for suncc and icc

I didn't add support until I knew the issue with Linux ones.
If that's alright, it's pretty much copy/paste.

> 5. in mingw cross builds harbour-20.a and harbourmt-20.a without lib
>   prefix are created. Additionally they are not necessary for mingw
>   because it can create import library for harbour*.dll online.
>   The same problem is with MinGWCE builds.

I'll check. I opted to create implibs for mingw also. I know it's
not necessary. We can probably delete them if that's an issue.

> 6. bcc builds fails when sh shell is used due to forward slashes
>   instead of backslashes in file names

Yeah. Noticed it, however I tested under msys, and it broke
in a very strange way. If you can pls fix it in bcc.mk.

> 7. I do not see any easy way to include some other libraries
>   in custom builds, i.e. for my won use I used to create shared
>   libraries with some contrib ones like hbct and some of my own
>   like dbrmap.

Generally I find this a very bad idea. IMO harbour dll should
provide some well described set of functionality, otherwise
they aren't replacable / etctec. Instead we should rather think
about adding dll support for each contrib individually. I didn't
think about this yet though, since this is very new topic.

Anyhow with hb-mkdyn.sh such customized dynlibs can be created,
but that doesn't seem to be the job of our GNU Make system IMO.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Aug 24 18:47:36 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 24 18:47:48 2009
Subject: [Harbour] To Przemek: dos echo.exe
Message-ID: <1A8DA4A4-296E-4DD1-B70A-9A7A0284FEE5@syenar.hu>

Hi Przemek,

Could you provide the binary/source links for
the config/dj-echo.exe program you've recently
uploaded?

I've replaced it with the std DJGPP one, but it
doesn't work in some cases, so I'd revert to yours
(which seemed better anyway), I'd just like to add
binary and source links to the readme.txt to make
everyone happy.

Thanks in advance.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Aug 24 19:10:33 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Aug 24 19:10:40 2009
Subject: [Harbour] To Przemek: dos echo.exe
In-Reply-To: <1A8DA4A4-296E-4DD1-B70A-9A7A0284FEE5@syenar.hu>
References: <1A8DA4A4-296E-4DD1-B70A-9A7A0284FEE5@syenar.hu>
Message-ID: <20090824231033.GA2254@uran.home.aster.pl>

On Tue, 25 Aug 2009, Szak?ts Viktor wrote:
> Could you provide the binary/source links for
> the config/dj-echo.exe program you've recently
> uploaded?
> I've replaced it with the std DJGPP one, but it
> doesn't work in some cases, so I'd revert to yours
> (which seemed better anyway), I'd just like to add
> binary and source links to the readme.txt to make
> everyone happy.

It's inside DJGPP port of sh-utils-2.0.11.
You can find it in shl2011[bs].zip at DJGPP site.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Aug 24 19:16:31 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 24 19:16:40 2009
Subject: [Harbour] To Przemek: dos echo.exe
In-Reply-To: <20090824231033.GA2254@uran.home.aster.pl>
References: <1A8DA4A4-296E-4DD1-B70A-9A7A0284FEE5@syenar.hu>
	<20090824231033.GA2254@uran.home.aster.pl>
Message-ID: <3E1DFFE3-E2C6-40F1-8404-DDDA1643A14D@syenar.hu>

Got it, thank you.

Brgds,
Viktor

On 2009.08.25., at 1:10, Przemyslaw Czerpak wrote:

> On Tue, 25 Aug 2009, Szak?ts Viktor wrote:
>> Could you provide the binary/source links for
>> the config/dj-echo.exe program you've recently
>> uploaded?
>> I've replaced it with the std DJGPP one, but it
>> doesn't work in some cases, so I'd revert to yours
>> (which seemed better anyway), I'd just like to add
>> binary and source links to the readme.txt to make
>> everyone happy.
>
> It's inside DJGPP port of sh-utils-2.0.11.
> You can find it in shl2011[bs].zip at DJGPP site.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at users.sourceforge.net  Mon Aug 24 19:56:02 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 24 19:56:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12311] trunk/harbour
Message-ID: <E1MfjOM-0007HE-KQ@d5vjzd1.ch3.sourceforge.com>

Revision: 12311
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12311&view=rev
Author:   druzus
Date:     2009-08-24 23:56:00 +0000 (Mon, 24 Aug 2009)

Log Message:
-----------
2009-08-25 01:55 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbzlib.h
  * harbour/include/hbregex.h
  * harbour/source/rtl/hbsocket.c
  * harbour/config/win/xcc.mk
  * harbour/source/Makefile
  * harbour/contrib/rddsql/sddmy/mysqldd.c
  * harbour/contrib/rddsql/sddpg/pgsqldd.c
  * harbour/contrib/rddsql/sddfb/fbirddd.c
  * harbour/contrib/rddsql/sddodbc/odbcdd.c
  * harbour/contrib/hbwin/hbwinole.h
    ! fixed XCC builds

  * harbour/source/rtl/sha1.c
    * added ugly hack as workaround for bugs in XCC preprocessor

  * harbour/config/win/bcc.mk
    ! fixed BCC DLL building in POSIX shells

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/config/win/xcc.mk
    trunk/harbour/contrib/hbwin/hbwinole.h
    trunk/harbour/contrib/rddsql/sddfb/fbirddd.c
    trunk/harbour/contrib/rddsql/sddmy/mysqldd.c
    trunk/harbour/contrib/rddsql/sddodbc/odbcdd.c
    trunk/harbour/contrib/rddsql/sddpg/pgsqldd.c
    trunk/harbour/include/hbregex.h
    trunk/harbour/include/hbzlib.h
    trunk/harbour/source/Makefile
    trunk/harbour/source/rtl/hbsocket.c
    trunk/harbour/source/rtl/sha1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Aug 24 20:04:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 24 20:04:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12312] trunk/harbour
Message-ID: <E1MfjWC-00028L-65@dn4whf1.ch3.sourceforge.com>

Revision: 12312
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12312&view=rev
Author:   vszakats
Date:     2009-08-25 00:04:06 +0000 (Tue, 25 Aug 2009)

Log Message:
-----------
2009-08-25 02:02 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * doc/bintools.txt
  * config/dosecho.exe
    ! Restored previous version. (new one gave error on some watcom lines f.e.)
    + Added binary+source links.

  * INSTALL
    + Some minor clarifications.
    * 'NT system required' changed 'XP system recommended' for win hosts.
    + Added shell requirement for HB_BUILD_PKG.
    % Simplified os2/watcom on linux example.

  * bin/postinst.cmd
    + Some cleanup/sync with postinst.bat.

  * source/Makefile
    ! Possible fix: Emptying DYNDIRLIST_BASE on dos targets
      to save envvar space.

  * source/Makefile
  * config/lib.mk
    + Added gtcrs and gtsln to dynlib obj list for *nix targets.

  * config/global.mk
    + Added Harbour version number to log header.
    ! Fixed to use short pkg name based on target platform
      no host platform (=dos).

  * config/bsd/gcc.mk
  * config/hpux/gcc.mk
  * config/darwin/icc.mk
  * config/linux/icc.mk
  * config/linux/sunpro.mk
  * config/sunos/gcc.mk
  * config/sunos/sunpro.mk
    + Added dynamic library generation to rest of targets.
    ; Please review, especially sunos/sunpro as it had some
      .sh tricks which I couldn't replicate.

  * config/bsd/global.mk
  * config/hpux/global.mk
  * config/darwin/global.mk
  * config/linux/global.mk
  * config/sunos/global.mk
    ! Setting DYN_PREF to 'lib'.

  * config/wce/mingwarm.mk
  * config/win/mingw.mk
    - Disabled import libs. [They aren't necessary with mingw.]

  * config/darwin/icc.mk
    * Changed to use libtool instead of xiar.
      (blind sync with darwin/gcc)

  * config/dos/djgpp.mk
  * config/common/watcom.mk
  * config/win/bcc.mk
  * config/os2/gcc.mk
    ! Fixed to use $(ECHOQUOTE) in all $(ECHO) calls.

  * config/win/bcc.mk
    ! Fixed use fixed backslashes regardless of shell in scripts.

  * config/dyn.mk
    ! Fixed to use $(LIB_PREF) as implib name prefix.
    % Minor opt in IMP_NAME forming.

  * config/rules.mk
    % Readded $(HB_INC_COMPILE) to be always on cmdline, to
      better balance between cmdline and envvar space. (dos)

  * config/instsh.mk
    % Don't display useless '! Nothing to install' message
      when there was no file to install. (could happen with
      mingw dynamic lib install where implib is empty because
      we don't generate one).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/postinst.cmd
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/bsd/global.mk
    trunk/harbour/config/common/watcom.mk
    trunk/harbour/config/darwin/global.mk
    trunk/harbour/config/darwin/icc.mk
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/dosecho.exe
    trunk/harbour/config/dyn.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/hpux/global.mk
    trunk/harbour/config/instsh.mk
    trunk/harbour/config/lib.mk
    trunk/harbour/config/linux/global.mk
    trunk/harbour/config/linux/icc.mk
    trunk/harbour/config/linux/sunpro.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/rules.mk
    trunk/harbour/config/sunos/gcc.mk
    trunk/harbour/config/sunos/global.mk
    trunk/harbour/config/sunos/sunpro.mk
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/doc/bintools.txt
    trunk/harbour/source/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From april_white at sympatico.ca  Mon Aug 24 20:44:07 2009
From: april_white at sympatico.ca (April White)
Date: Mon Aug 24 20:44:15 2009
Subject: [Harbour] re. note in source/rtl/gete.c
Message-ID: <BLU0-SMTP11A5F0721B07617C79E569EFF80@phx.gbl>

Viktor, the note within this source file is:

/* NOTE: Harbour extended version of GETENV(). The 2nd parameter
         can be used to specify a default value, returned if the
         requested envvar doesn't exist.
         3rd, optional logical parameter can specify wether to
         apply automatic codepage conversion (to the codepage
         specified by Set( _SET_OSCODEPAGE ) on the returned value.
         The default is .T.
         [vszakats] */

If the envvar is not found and the second paramater is passed, it is 
returned without codepage conversion.

Either the note or the code is incorrect.

I've correcting the doc/en-en/misc.txt file GETENV/GETE entries and 
adding HB_GETENV.

April

-- 
We could learn a lot from crayons:
some are sharp, some are pretty, some are dull, some have weird names,
and all are different colors but they all have to learn to live in the
same box.

From harbour.01 at syenar.hu  Mon Aug 24 20:50:54 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Aug 24 20:51:02 2009
Subject: [Harbour] re. note in source/rtl/gete.c
In-Reply-To: <BLU0-SMTP11A5F0721B07617C79E569EFF80@phx.gbl>
References: <BLU0-SMTP11A5F0721B07617C79E569EFF80@phx.gbl>
Message-ID: <13A7F046-C8FF-430D-9A17-6B8CD98E3C43@syenar.hu>

Hi April,

In most cases the default passed by the application
is already using the CP from the application so converting
it could easily result in double conversion.

I'll change 'on the returned value' to 'onto the
retrieved envvar value', plus correct some typos.

Thank you for the note.

Brgds,
Viktor

On 2009.08.25., at 2:44, April White wrote:

> Viktor, the note within this source file is:
>
> /* NOTE: Harbour extended version of GETENV(). The 2nd parameter
>        can be used to specify a default value, returned if the
>        requested envvar doesn't exist.
>        3rd, optional logical parameter can specify wether to
>        apply automatic codepage conversion (to the codepage
>        specified by Set( _SET_OSCODEPAGE ) on the returned value.
>        The default is .T.
>        [vszakats] */
>
> If the envvar is not found and the second paramater is passed, it is  
> returned without codepage conversion.
>
> Either the note or the code is incorrect.
>
> I've correcting the doc/en-en/misc.txt file GETENV/GETE entries and  
> adding HB_GETENV.
>
> April
>
> -- 
> We could learn a lot from crayons:
> some are sharp, some are pretty, some are dull, some have weird names,
> and all are different colors but they all have to learn to live in the
> same box.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Mon Aug 24 21:23:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Aug 24 21:23:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12313] trunk/harbour
Message-ID: <E1Mfkke-0008I1-1d@3kljzd1.ch3.sourceforge.com>

Revision: 12313
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12313&view=rev
Author:   vszakats
Date:     2009-08-25 01:23:07 +0000 (Tue, 25 Aug 2009)

Log Message:
-----------
2009-08-25 03:20 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * bin/postinst.bat
    + Reworked to work better in cross-build/cross-shell scenarios.

  * config/common/watcom.mk
    ! Use envvars to pass parameter either if shell is dos or target.
      This fixes dos/watcom builds under non-dos shells.

  * source/dynlib/mt/Makefile
  * source/dynlib/Makefile
  * config/none.mk
    ! Fixed the way these dynamic lib targets are skipped.

  * package/mpkg_win.nsi
    * Changed to also work on trees using short names.
      (only 'ChangeLog' is a problem here).
      Maybe it's time to rename to CHANGES. It causing too much
      headache.

  * bin/postinst.cmd
    * Sync with .bat.

  * config/global.mk
    + Exporting HB_SHELL for postinst scripts.
    ! Fixed HB_PKGNAME assembly for dos targets.
    ! Typo in comment.

  * config/win/bcc.mk
    ! Deleted dbl quotes from tlib commands as it totally confused it
      under msys shell.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/bin/postinst.cmd
    trunk/harbour/config/common/watcom.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/none.mk
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/package/mpkg_win.nsi
    trunk/harbour/source/dynlib/Makefile
    trunk/harbour/source/dynlib/mt/Makefile
    trunk/harbour/source/rtl/gete.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From kadziola at tlen.pl  Tue Aug 25 01:15:43 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Tue Aug 25 01:15:53 2009
Subject: [Harbour] WinCe Fonts/Console
In-Reply-To: <1251129258014-3504287.post@n2.nabble.com>
References: <1251129258014-3504287.post@n2.nabble.com>
Message-ID: <1093123885.20090825071543@tlen.pl>

Hi Abeb,


A> Font Sizeing is broken on Wce/Mingwarm. won't change size. and the default
A> size is unreadable.
A> Please, Please all of you gurus, let's make Harbour THE program for Wince. I
A> wish I could help here, but the best I can do is Testing/Reporting.

We invite You to thread 'OLE in WINCE'  - Fri, 21 Aug 2009.

-- 
Regards,
 Jaroslaw Kadziola

From maurilio.longo at libero.it  Tue Aug 25 03:08:05 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Aug 25 03:08:18 2009
Subject: [Harbour] OS/2 question
In-Reply-To: <91C37485-F06D-4AA8-8A90-B1A42FCA8628@syenar.hu>
References: <91C37485-F06D-4AA8-8A90-B1A42FCA8628@syenar.hu>
Message-ID: <4A938DD5.3080205@libero.it>

Viktor,

.bat files are executed by OS/2 command.com (that is they start the dos
emulator) and as such they have the same limits/capabilities of a real dos
batch file.

I'd like to find a way to fix make, though, since this would keep all the
other possibilities, like the -j n switch which really makes building a lot
faster.

Best regards.

Maurilio.


Viktor Szak?ts wrote:
> Hi Maurilio,
> 
> Do .bat files work under OS/2? Can they be executed like
> OS/2? Are there any differences compared to .cmd files?
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Aug 25 03:16:20 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 25 03:16:29 2009
Subject: [Harbour] OS/2 question
In-Reply-To: <4A938DD5.3080205@libero.it>
References: <91C37485-F06D-4AA8-8A90-B1A42FCA8628@syenar.hu>
	<4A938DD5.3080205@libero.it>
Message-ID: <B96A8B1F-C6CE-4572-9DE8-A12523EC163D@syenar.hu>

Hi Maurilio,

> Viktor,
>
> .bat files are executed by OS/2 command.com (that is they start the  
> dos
> emulator) and as such they have the same limits/capabilities of a  
> real dos
> batch file.

Is this done in smooth way? so that I may integrate postinst.cmd
functionality into postinst.bat for OS/2? We don't need special
capabilities there (just echo, copy, cd, if, calling zip). In fact
dos mode would be better, since dos is already supported in this
file, so we wouldn't have to maintain the same code for 3 different
cmd processors, just 2.

Second question:
Can you force execution of .bat file to be executed by OS/2 shell,
by issuing: 'CMD.EXE /C hello.bat' ?

> I'd like to find a way to fix make, though, since this would keep  
> all the
> other possibilities, like the -j n switch which really makes  
> building a lot
> faster.

Of course, that would be very nice.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Aug 25 03:18:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 25 03:18:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12314] trunk/harbour
Message-ID: <E1MfqIg-0006m3-Mf@3kljzd1.ch3.sourceforge.com>

Revision: 12314
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12314&view=rev
Author:   vszakats
Date:     2009-08-25 07:18:37 +0000 (Tue, 25 Aug 2009)

Log Message:
-----------
2009-08-25 09:18 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Mentioning dosemu.

  * bin/postinst.bat
    + dos shell flavour zip creation.

  * config/global.mk
    + Added make platform detection.
    + Changed 'dos shell on win platform' warning to be based on make
      platform.
    + Not showing 'dos make on win platform' warning when doing DJGPP
      build because this is the right (and only) way in case of this
      compiler.

  * config/globsh.mk
    + Added command line length limit details for dos shell.
    + Added command line length limit for OS/2. Copied from other .mk file.

  * config/dirsh.mk
  * config/instsh.mk
    - Deleted comments 'We have to use script to overcome the DOS limit of max 128 characters'
      from all places.

  * config/dos/djgpp.mk
    + Will now error if trying to use other than DJGPP make
      to built with this compiler.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/postinst.bat
    trunk/harbour/config/dirsh.mk
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/globsh.mk
    trunk/harbour/config/instsh.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Aug 25 03:44:16 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 25 03:44:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12315] trunk/harbour
Message-ID: <E1MfqhU-0004VJ-Ar@dn4whf1.ch3.sourceforge.com>

Revision: 12315
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12315&view=rev
Author:   vszakats
Date:     2009-08-25 07:44:14 +0000 (Tue, 25 Aug 2009)

Log Message:
-----------
2009-08-25 09:43 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed silly regression in 2009-08-23 15:56 which cause RTE on
      startup if no comp/plat were specced.

  * utils/hbmk2/hbmk2.prg
  * config/wce/poccarm.mk
  * config/wce/msvcarm.mk
  * config/win/xcc.mk
  * config/win/pocc.mk
  * config/win/icc.mk
  * config/win/pocc64.mk
  * config/win/msvc.mk
    ! Changed to use '-' option prefix instead of '/' to make them
      work under sh (msys) shells.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/icc.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/config/win/pocc.mk
    trunk/harbour/config/win/pocc64.mk
    trunk/harbour/config/win/xcc.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Tue Aug 25 03:52:13 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Aug 25 03:52:26 2009
Subject: [Harbour] OS/2 question
In-Reply-To: <B96A8B1F-C6CE-4572-9DE8-A12523EC163D@syenar.hu>
References: <91C37485-F06D-4AA8-8A90-B1A42FCA8628@syenar.hu>	<4A938DD5.3080205@libero.it>
	<B96A8B1F-C6CE-4572-9DE8-A12523EC163D@syenar.hu>
Message-ID: <4A93982D.5020505@libero.it>

Viktor Szak?ts wrote:
> Hi Maurilio,
> 
>> Viktor,
>>
>> .bat files are executed by OS/2 command.com (that is they start the dos
>> emulator) and as such they have the same limits/capabilities of a real
>> dos
>> batch file.
> 
> Is this done in smooth way? so that I may integrate postinst.cmd
> functionality into postinst.bat for OS/2? We don't need special
> capabilities there (just echo, copy, cd, if, calling zip). In fact
> dos mode would be better, since dos is already supported in this
> file, so we wouldn't have to maintain the same code for 3 different
> cmd processors, just 2.
> 

I think you should integrate NT/XP .cmd batch files with OS/2 ones, this way
they are executed by the native shell on both platforms.

Anyway, if you call a .bat file, a dos window gets opened and it executes its
autoexec.bat and then the .bat you passed it.

BUT, the environment of the cmd.exe process is NOT inherited by the
command.com one, so all variables like HB_... or the ones created by make are
not visible inside command.exe environment.

AND, you cannot start a .bat file from a path which is not fully 8.3 (for
example I have my svn copy on \repository\harbour and from such a path no .bat
file can be executed).

> Second question:
> Can you force execution of .bat file to be executed by OS/2 shell,
> by issuing: 'CMD.EXE /C hello.bat' ?
> 

Yes, but with the limits I wrote above.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From e.m.giordano at emagsoftware.it  Tue Aug 25 04:07:45 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Tue Aug 25 04:07:52 2009
Subject: [Harbour] Are they expected?
Message-ID: <20018319685241A8901E9FDD1BEB4C3D@emag>

hbmk2: Warning: File cannot be found: \utils\hbrun\hbrun.hbp
hbmk2: Error: No source files were specified.
hbmk2: Warning: File cannot be found: \utils\hbmk2\hbmk2.hbp
hbmk2: Error: No source files were specified.
hbmk2: Warning: File cannot be found: \utils\hbtest\hbtest.hbp
hbmk2: Error: No source files were specified.
hbmk2: Warning: File cannot be found: \utils\hbi18n\hbi18n.hbp
hbmk2: Error: No source files were specified.
hbmk2: Warning: File cannot be found: \utils\hbformat\hbformat.hbp
hbmk2: Error: No source files were specified.
! Making hbrun with application icon...
hbmk2: Warning: File cannot be found: \utils\hbrun\hbrun.hbp
hbmk2: Error: No source files were specified.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Tue Aug 25 04:16:13 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 25 04:16:21 2009
Subject: [Harbour] OS/2 question
In-Reply-To: <4A93982D.5020505@libero.it>
References: <91C37485-F06D-4AA8-8A90-B1A42FCA8628@syenar.hu>	<4A938DD5.3080205@libero.it>
	<B96A8B1F-C6CE-4572-9DE8-A12523EC163D@syenar.hu>
	<4A93982D.5020505@libero.it>
Message-ID: <87A42739-18FF-436F-A58B-C71A6A3DD0B4@syenar.hu>

>> Is this done in smooth way? so that I may integrate postinst.cmd
>> functionality into postinst.bat for OS/2? We don't need special
>> capabilities there (just echo, copy, cd, if, calling zip). In fact
>> dos mode would be better, since dos is already supported in this
>> file, so we wouldn't have to maintain the same code for 3 different
>> cmd processors, just 2.
>>
>
> I think you should integrate NT/XP .cmd batch files with OS/2 ones,  
> this way
> they are executed by the native shell on both platforms.

We wouldn't gain much with this for now. The batch has to
work with MS-DOS, too. But it's a possibility to keep in
mind for the future, it could turn out useful.

> Anyway, if you call a .bat file, a dos window gets opened and it  
> executes its
> autoexec.bat and then the .bat you passed it.
>
> BUT, the environment of the cmd.exe process is NOT inherited by the
> command.com one, so all variables like HB_... or the ones created by  
> make are
> not visible inside command.exe environment.
>
> AND, you cannot start a .bat file from a path which is not fully 8.3  
> (for
> example I have my svn copy on \repository\harbour and from such a  
> path no .bat
> file can be executed).
>
>> Second question:
>> Can you force execution of .bat file to be executed by OS/2 shell,
>> by issuing: 'CMD.EXE /C hello.bat' ?
>>
>
> Yes, but with the limits I wrote above.

Thank you very much. So this is not the way to go.
(I have one more copy trick in mind here though.)

Maybe it's possible to move more functionality on the GNU Make
level to get rid of these bloody batches. It's a real pain to
update them :(

BTW, does postinst.cmd work as expected? You reported some
problems earlier. (double %s in generated .cfg, copy errors)

Brgds,
Viktor

From maurilio.longo at libero.it  Tue Aug 25 04:32:50 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Aug 25 04:33:01 2009
Subject: [Harbour] OS/2 question
In-Reply-To: <87A42739-18FF-436F-A58B-C71A6A3DD0B4@syenar.hu>
References: <91C37485-F06D-4AA8-8A90-B1A42FCA8628@syenar.hu>	<4A938DD5.3080205@libero.it>	<B96A8B1F-C6CE-4572-9DE8-A12523EC163D@syenar.hu>	<4A93982D.5020505@libero.it>
	<87A42739-18FF-436F-A58B-C71A6A3DD0B4@syenar.hu>
Message-ID: <4A93A1B2.8000805@libero.it>

Viktor Szak?ts wrote:
> 
> BTW, does postinst.cmd work as expected? You reported some
> problems earlier. (double %s in generated .cfg, copy errors)
> 

I don't know since the building process does not complete right now

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Aug 25 04:41:06 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 25 04:41:14 2009
Subject: [Harbour] OS/2 question
In-Reply-To: <4A93A1B2.8000805@libero.it>
References: <91C37485-F06D-4AA8-8A90-B1A42FCA8628@syenar.hu>	<4A938DD5.3080205@libero.it>	<B96A8B1F-C6CE-4572-9DE8-A12523EC163D@syenar.hu>	<4A93982D.5020505@libero.it>
	<87A42739-18FF-436F-A58B-C71A6A3DD0B4@syenar.hu>
	<4A93A1B2.8000805@libero.it>
Message-ID: <C91ECB82-8C55-4507-8679-63B5E4995C88@syenar.hu>

> Viktor Szak?ts wrote:
>>
>> BTW, does postinst.cmd work as expected? You reported some
>> problems earlier. (double %s in generated .cfg, copy errors)
>>
>
> I don't know since the building process does not complete right now

Disappointing.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Aug 25 04:52:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 25 04:53:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12316] trunk/harbour
Message-ID: <E1Mfrlv-0000BE-A0@3kljzd1.ch3.sourceforge.com>

Revision: 12316
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12316&view=rev
Author:   vszakats
Date:     2009-08-25 08:52:54 +0000 (Tue, 25 Aug 2009)

Log Message:
-----------
2009-08-25 10:51 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * bin/postinst.bat
    ! Fixed to work without HB_TOP value. Regression after recent change.

  * contrib/rddsql/sddmy/mysqldd.c
  * contrib/rddsql/sddpg/pgsqldd.c
  * contrib/hbbtree/hb_btree.h
  * contrib/hbbtree/hb_btree.c
  * source/vm/macro.c
  * source/vm/hvm.c
  * source/common/expropt2.c
  * source/compiler/complex.c
    ! Fixed MSVC warnings.
      Please review me, especially the date related ones in core.
    * LONG -> long in hb_compExprReduceTimeStampPut().
    ; NOTE: Number of MSVC (32-bit) -W4 warnings are reduced to 280,
            all of them in RDD code. (plus just few more here and there)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/postinst.bat
    trunk/harbour/contrib/hbbtree/hb_btree.c
    trunk/harbour/contrib/hbbtree/hb_btree.h
    trunk/harbour/contrib/rddsql/sddmy/mysqldd.c
    trunk/harbour/contrib/rddsql/sddpg/pgsqldd.c
    trunk/harbour/source/common/expropt2.c
    trunk/harbour/source/compiler/complex.c
    trunk/harbour/source/vm/hvm.c
    trunk/harbour/source/vm/macro.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Aug 25 06:26:02 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 25 06:26:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12314] trunk/harbour
In-Reply-To: <E1MfqIg-0006m3-Mf@3kljzd1.ch3.sourceforge.com>
References: <E1MfqIg-0006m3-Mf@3kljzd1.ch3.sourceforge.com>
Message-ID: <20090825102602.GA11138@uran.home.aster.pl>

On Tue, 25 Aug 2009, vszakats@users.sourceforge.net wrote:

Hi Viktor,

>   * config/dos/djgpp.mk
>     + Will now error if trying to use other than DJGPP make
>       to built with this compiler.

Can you explain why you explicitly broken DOS sh builds.
There are also Linux DJGPP builds. I haven't tried them but
you also broke it.

>  * config/win/bcc.mk
>    ! Deleted dbl quotes from tlib commands as it totally confused it
>      under msys shell.

I have not idea if you tested above modification but it has to
break POSIX shells builds because non quoted '\' are characters
so BCC builds creates now:
   ..........libwinbcchbcommon.lib
instead of:
   ..\..\..\..\..\lib\win\bcc\hbcommon.lib

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Aug 25 06:50:03 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 25 06:50:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12317] trunk/harbour
Message-ID: <E1MftbH-00078H-3k@c3vjzd1.ch3.sourceforge.com>

Revision: 12317
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12317&view=rev
Author:   druzus
Date:     2009-08-25 10:49:57 +0000 (Tue, 25 Aug 2009)

Log Message:
-----------
2009-08-25 12:49 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/hvm.c
  * harbour/source/common/expropt2.c
    * cleaned casting in date and timestamp math operations to use exactly
      the same conversions in all places in compiled and HVM

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/common/expropt2.c
    trunk/harbour/source/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Aug 25 06:50:13 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 25 06:50:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12314] trunk/harbour
In-Reply-To: <20090825102602.GA11138@uran.home.aster.pl>
References: <E1MfqIg-0006m3-Mf@3kljzd1.ch3.sourceforge.com>
	<20090825102602.GA11138@uran.home.aster.pl>
Message-ID: <FBCD4BCB-C349-40B1-8D84-058091A15E01@syenar.hu>

> Hi Viktor,
>
>>  * config/dos/djgpp.mk
>>    + Will now error if trying to use other than DJGPP make
>>      to built with this compiler.
>
> Can you explain why you explicitly broken DOS sh builds.
> There are also Linux DJGPP builds. I haven't tried them but
> you also broke it.

Intentionally of course.

No, simply because I didn't know these tools exist.
It good news they do, and the fix is very simple, the
condition has to be change from != dos to == win. Well,
not exactly, because DJGPP build is broken when run from msys.
You should try because it does it quite strangely
("Bad command or filename" + "No command seen." when using
dj-make). So it rather should be 'HOST_PLAT == win and
MAKE_PLAT != dos'. Unless you have better idea.

>> * config/win/bcc.mk
>>   ! Deleted dbl quotes from tlib commands as it totally confused it
>>     under msys shell.
>
> I have not idea if you tested above modification but it has to
> break POSIX shells builds because non quoted '\' are characters
> so BCC builds creates now:
>   ..........libwinbcchbcommon.lib
> instead of:
>   ..\..\..\..\..\lib\win\bcc\hbcommon.lib

I've tested it with msys. It produces quite strange
results with dbl quotes using msys + mingw32-make:
---
tlib.exe /P64  "..\..\..\..\..\lib\win\bcc\hbcplr.lib" -+complex.obj
TLIB 4.5 ....
Warning: unknown command line switch 'm' ignored
Warning: unknown command line switch '1' ignored
Warning: 'evl' not found in library
Warning: 'sys' not found in library
Warning: '.0' not found in library
Warning: 'hbcplr' not found in library
Warning: 'complex' not found in library
---

I've tested further and removing /P64 switch also
fixes it, although this option is needed. How to
pass it then?

[ it does show the first warnings everytime you pass
any "/" prefixed switches, even /?. ]

Any ideas?

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Aug 25 07:22:12 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 25 07:22:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12314] trunk/harbour
In-Reply-To: <FBCD4BCB-C349-40B1-8D84-058091A15E01@syenar.hu>
References: <E1MfqIg-0006m3-Mf@3kljzd1.ch3.sourceforge.com>
	<20090825102602.GA11138@uran.home.aster.pl>
	<FBCD4BCB-C349-40B1-8D84-058091A15E01@syenar.hu>
Message-ID: <20090825112212.GA22162@uran.home.aster.pl>

On Tue, 25 Aug 2009, Szak?ts Viktor wrote:
> No, simply because I didn't know these tools exist.
> It good news they do, and the fix is very simple, the
> condition has to be change from != dos to == win. Well,
> not exactly, because DJGPP build is broken when run from msys.
> You should try because it does it quite strangely
> ("Bad command or filename" + "No command seen." when using
> dj-make). So it rather should be 'HOST_PLAT == win and
> MAKE_PLAT != dos'. Unless you have better idea.

And you still do not want to allow bash.exe from DJGPP to use
as base shell in windows. BTW DJGPP supports nearly full POSIX
environment and DJGPP users quite often use full DJGPP installation.
Not all features are available when you use DJGPP with DOS/Win
shells.
Please remove it at all. If you want you can document that some
combinations of GNU make and MSys was not working in your test
environment but as long as you do not know what is the reason
do not try to block things which can work for other people.
BTW It's highly possible that you have the same problems with as /P64
    in TLIB so if you find the reason and solution you will resolve
    also this problem.

>>> * config/win/bcc.mk
>>>   ! Deleted dbl quotes from tlib commands as it totally confused it
>>>     under msys shell.
>>
>> I have not idea if you tested above modification but it has to
>> break POSIX shells builds because non quoted '\' are characters
>> so BCC builds creates now:
>>   ..........libwinbcchbcommon.lib
>> instead of:
>>   ..\..\..\..\..\lib\win\bcc\hbcommon.lib
>
> I've tested it with msys. It produces quite strange
> results with dbl quotes using msys + mingw32-make:
> ---
> tlib.exe /P64  "..\..\..\..\..\lib\win\bcc\hbcplr.lib" -+complex.obj
> TLIB 4.5 ....
> Warning: unknown command line switch 'm' ignored
> Warning: unknown command line switch '1' ignored
> Warning: 'evl' not found in library
> Warning: 'sys' not found in library
> Warning: '.0' not found in library
> Warning: 'hbcplr' not found in library
> Warning: 'complex' not found in library
> ---
> I've tested further and removing /P64 switch also
> fixes it, although this option is needed. How to
> pass it then?
>
> [ it does show the first warnings everytime you pass
> any "/" prefixed switches, even /?. ]

It's probably side effect of MSYS feature used to translated *nix like
paths to DOS ones.
You can try to disable it but I do not know if it's possible - you should
look at MSys documentation.
Maybe it's possible to disable it selectively using quoting, i.e.
"/P64" or '/P64'.
Or maybe helps moving this switch after library name. You have to try in
real environment.
TLIB does not support '-' as option marker so we cannot use the simplest
solution with -P64.
Anyhow I'm surprised that
   tlib.exe /P64  ..\..\..\..\..\lib\win\bcc\hbcplr.lib -+complex.obj
with single backslashes and without quoting was working. It suggest
serious problem with your local MSys copy. AFAIR \ escaping was fully
functional in MSys when I was using it few years ago.

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Aug 25 09:14:34 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 25 09:14:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12318] trunk/harbour
Message-ID: <E1Mfvr8-00057n-Sj@dn4whf1.ch3.sourceforge.com>

Revision: 12318
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12318&view=rev
Author:   vszakats
Date:     2009-08-25 13:14:33 +0000 (Tue, 25 Aug 2009)

Log Message:
-----------
2009-08-25 15:13 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added DJGPP cross-builds to support matrix.
    + Added DJGPP bash.exe to the shell mix.
    + Added OS/2 bash.exe to the shell mix.
    ; NOTE: djgpp build fails here when using bash too
            (I've used a Windows machine to test), see below.

  * ChangeLog
    * Updating pending item status.

  * contrib/hbbtree/hb_btree.c
    ! Added TOFIX about bad bug. (hitting win64, maybe more)
      Reported on the list a while ago.

  * utils/hbmk2/hbmk2.prg
    - Deleted HB_CCPATH support for *nix based gcc/icc compilers.
      To be in sync with GNU Make files.
    + Added HB_CCPATH support for os2 and dos.
    + Added HB_CCPREFIX and HB_CCPOSTFIX support for dos/djgpp to
      support cross-builds.
    + Using host dependent executable extension for compiler
      tools in dos/djgpp to support cross-builds.

  * config/wce/mingwarm.mk
  * config/win/mingw.mk
    + Added HB_CCPOSTFIX support. Now in sync with rest of gcc
      family compilers in GNU Make and with hbmk2.

  * config/win/cygwin.mk
    + Added HB_CCPATH, HB_CCPREFIX, HB_CCPOSTFIX support.
      To be in sync with rest of gcc family compiler in GNU Make
      and with hbmk2.

  * config/dos/djgpp.mk
    + Added HB_CCPATH, HB_CCPREFIX, HB_CCPOSTFIX support for
      dos/djgpp.
    ! Fixed to only give error when using non-DOS build of
      GNU Make on a Windows host.
    ; NOTE: Tried the bld process with bash.sh, and it starts
            when using nativ DOS make.exe, but it fails also
            with 'Bad command or file name' and 'No command name seen.'
            when building hbcommon lib. Same effect when using
            msys. So I conclude our djgpp make files are broken
            for POSIX shells, I hope someone else can also do
            tests.

  * config/os2/gcc.mk
    + Added HB_CCPATH support.
      To be in sync with rest of gcc family compiler in GNU Make
      and with hbmk2.

  * config/win/bcc.mk
    ! Readded dbl quotes around tlib filename. This breaks tlib
      on msys shells. The real problem is caused by /P64 option.
      Fix unknown, besides avoiding msys shell+bcc target
      combination.

  * contrib/hbfbird/Makefile
    * Indented/rearranged.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/config/win/cygwin.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/contrib/hbbtree/hb_btree.c
    trunk/harbour/contrib/hbfbird/Makefile
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Aug 25 09:29:18 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 25 09:29:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12318] trunk/harbour
In-Reply-To: <E1Mfvr8-00057n-Sj@dn4whf1.ch3.sourceforge.com>
References: <E1Mfvr8-00057n-Sj@dn4whf1.ch3.sourceforge.com>
Message-ID: <B30236C8-01A6-4F37-865A-72ABE720DEC8@syenar.hu>

>  * config/dos/djgpp.mk
>    + Added HB_CCPATH, HB_CCPREFIX, HB_CCPOSTFIX support for
>      dos/djgpp.
>    ! Fixed to only give error when using non-DOS build of
>      GNU Make on a Windows host.
>    ; NOTE: Tried the bld process with bash.sh, and it starts
>            when using nativ DOS make.exe, but it fails also
>            with 'Bad command or file name' and 'No command name seen.'
>            when building hbcommon lib. Same effect when using
>            msys. So I conclude our djgpp make files are broken
>            for POSIX shells, I hope someone else can also do
>            tests.

Problem happens in sh version of dirbase rules when
using dos based make:

--- after removing '@' chars from (all four) sh/dirbase lines:
[ -d "obj/dos/djgpp" ] || mkdir -p obj/dos/djgpp
Bad command or file name
No command name seen.
---

Brgds,
Viktor

From druzus at users.sourceforge.net  Tue Aug 25 10:49:45 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 25 10:49:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12319] trunk/harbour
Message-ID: <E1MfxLF-0003R6-I0@c3vjzd1.ch3.sourceforge.com>

Revision: 12319
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12319&view=rev
Author:   druzus
Date:     2009-08-25 14:49:44 +0000 (Tue, 25 Aug 2009)

Log Message:
-----------
2009-08-25 16:49 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/linux/sunpro.mk
    ! fixed dynamic library creation - @<filename> is not supported by
      SunPRO C compiler, because it's ported only to POSIX environments
      then we can simply pass file list as shell arguments

  * harbour/include/hbrdddbf.h
  * harbour/source/rdd/dbf1.c
  * harbour/source/rdd/dbffpt/dbffpt1.c
    * cleaned memo block size decoding.

  * harbour/include/hbvmpub.h
    + added new internal macro HB_ITEM_PUT_LONGRAW()
  * harbour/source/vm/hvm.c
  * harbour/source/vm/itemapi.c
    * use HB_ITEM_PUT_LONGRAW()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/linux/sunpro.mk
    trunk/harbour/include/hbrdddbf.h
    trunk/harbour/include/hbvmpub.h
    trunk/harbour/source/rdd/dbf1.c
    trunk/harbour/source/rdd/dbffpt/dbffpt1.c
    trunk/harbour/source/vm/hvm.c
    trunk/harbour/source/vm/itemapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From marcosgambeta at uol.com.br  Tue Aug 25 10:54:31 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Tue Aug 25 10:54:40 2009
Subject: [Harbour] My tests with Qt 4.5.2 and MSVC 2008 (Express Edition)
Message-ID: <4A93FB27.7070408@uol.com.br>

Hi,

Qt 4.5.2 source code compiled with Microsoft Visual C++ 2008 (Express 
Edition):

Tutorial
http://www.pc-maniac.com/?p=59

Qt 4.5.2 source code
ftp://ftp.qt.nokia.com/qt/source/qt-win-opensource-src-4.5.2.zip

The process take some hours (use a fast machine).

Some binaries:

My bin folder (without debug dlls):
http://www.4shared.com/file/127603694/52d2c2b1/qt452_bin_msvc.html

My lib folder (without debug libs):
http://www.4shared.com/file/127604004/1a4a3df3/qt452_lib_msvc.html

demoqt.exe (work)
http://www.4shared.com/file/127607819/61468e59/demoqt.html

demoxbp.exe (don't work - stop with a runtime error)
http://www.4shared.com/file/127607906/e920c8be/demoxbp.html


Regards,
Marcos Gambeta

From vailtom at gmail.com  Tue Aug 25 10:57:43 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Aug 25 10:57:48 2009
Subject: [Harbour] My tests with Qt 4.5.2 and MSVC 2008 (Express Edition)
In-Reply-To: <4A93FB27.7070408@uol.com.br>
References: <4A93FB27.7070408@uol.com.br>
Message-ID: <531d7a750908250757u21f60d16xa48be57b3e0140d5@mail.gmail.com>

How long it took to build Marcos?! The link that you mention it went
from 2 to 3 days of waiting ...
=O
From marcosgambeta at uol.com.br  Tue Aug 25 11:13:27 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Tue Aug 25 11:13:34 2009
Subject: [Harbour] My tests with Qt 4.5.2 and MSVC 2008 (Express Edition)
In-Reply-To: <531d7a750908250757u21f60d16xa48be57b3e0140d5@mail.gmail.com>
References: <4A93FB27.7070408@uol.com.br>
	<531d7a750908250757u21f60d16xa48be57b3e0140d5@mail.gmail.com>
Message-ID: <4A93FF97.7000002@uol.com.br>

Vailton Renato escreveu:
> How long it took to build Marcos?! The link that you mention it went
> from 2 to 3 days of waiting ...

My development machine is
AMD Sempron(tm) Processor 2800+ 1.60 GHz
Windows Vista SP2 - 2 GB RAM

The process take 7 hours (+/-).


Regards,
Marcos Gambeta

From druzus at acn.waw.pl  Tue Aug 25 11:17:17 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 25 11:17:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12318] trunk/harbour
In-Reply-To: <B30236C8-01A6-4F37-865A-72ABE720DEC8@syenar.hu>
References: <E1Mfvr8-00057n-Sj@dn4whf1.ch3.sourceforge.com>
	<B30236C8-01A6-4F37-865A-72ABE720DEC8@syenar.hu>
Message-ID: <20090825151717.GA11436@uran.home.aster.pl>

On Tue, 25 Aug 2009, Szak?ts Viktor wrote:
>>  * config/dos/djgpp.mk
>>    + Added HB_CCPATH, HB_CCPREFIX, HB_CCPOSTFIX support for
>>      dos/djgpp.
>>    ! Fixed to only give error when using non-DOS build of
>>      GNU Make on a Windows host.
>>    ; NOTE: Tried the bld process with bash.sh, and it starts
>>            when using nativ DOS make.exe, but it fails also
>>            with 'Bad command or file name' and 'No command name seen.'
>>            when building hbcommon lib. Same effect when using
>>            msys. So I conclude our djgpp make files are broken
>>            for POSIX shells, I hope someone else can also do
>>            tests.
> Problem happens in sh version of dirbase rules when
> using dos based make:
> --- after removing '@' chars from (all four) sh/dirbase lines:
> [ -d "obj/dos/djgpp" ] || mkdir -p obj/dos/djgpp
> Bad command or file name
> No command name seen.

I've just downloaded current SVN to host where I make DJGPP builds
using DOSEMU + FREEDOS + DJGPP evenv with bash and file+sh utils
and it cleanly compiles the Harbour code with the following well
known warnings:
   ../../../hbproces.c: In function `hb_fsProcessOpen':
   ../../../hbproces.c:776: warning: unused variable `TODO'
   ../../../hbproces.c: In function `hb_fsProcessValue':
   ../../../hbproces.c:873: warning: unused variable `TODO'
   ../../../hbproces.c: In function `hb_fsProcessClose':
   ../../../hbproces.c:933: warning: unused variable `TODO'

so for me it works without any problems.

best regards,
Przemek
From kadziola at tlen.pl  Tue Aug 25 11:19:30 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Tue Aug 25 11:19:38 2009
Subject: [Harbour] Attachment's size
Message-ID: <79671411.20090825171930@tlen.pl>

Hi,

How is attachment's upper limit size ?

-- 
Regards,
Jaroslaw Kadziola


From vszakats at users.sourceforge.net  Tue Aug 25 11:34:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 25 11:34:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12320] trunk/harbour
Message-ID: <E1Mfy2g-0001pT-Su@dn4whf1.ch3.sourceforge.com>

Revision: 12320
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12320&view=rev
Author:   vszakats
Date:     2009-08-25 15:34:21 +0000 (Tue, 25 Aug 2009)

Log Message:
-----------
2009-08-25 17:32 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    + Added dos/djgpp autodetection for *nix platforms.

  * contrib/hbfbird/Makefile
    + Extended autodetection and feedback. Experimenting.

  * config/globsh.mk
    + Added web links to DJGPP FAQ instead of binary FAQ package.

  * contrib/hbqt/Makefile
  * contrib/hbfbird/Makefile
  * contrib/gtqtc/Makefile
  * source/Makefile
  * config/global.mk
    * HB_OS_UNIX GNU Make var renamed to HB_PLATFORM_UNIX.
      Content is now non-empty or empty (was yes or no).

  * config/sunos/sunpro.mk
    + Changes made to config/linux/sunpro.mk applied here also.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/config/globsh.mk
    trunk/harbour/config/sunos/sunpro.mk
    trunk/harbour/contrib/gtqtc/Makefile
    trunk/harbour/contrib/hbfbird/Makefile
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/source/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Aug 25 12:08:19 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Aug 25 12:08:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12318] trunk/harbour
In-Reply-To: <20090825151717.GA11436@uran.home.aster.pl>
References: <E1Mfvr8-00057n-Sj@dn4whf1.ch3.sourceforge.com>
	<B30236C8-01A6-4F37-865A-72ABE720DEC8@syenar.hu>
	<20090825151717.GA11436@uran.home.aster.pl>
Message-ID: <18d502870908250908o4e1694b8yf8fa38e277c9477e@mail.gmail.com>

>> Problem happens in sh version of dirbase rules when
>> using dos based make:
>> --- after removing '@' chars from (all four) sh/dirbase lines:
>> [ -d "obj/dos/djgpp" ] || mkdir -p obj/dos/djgpp
>> Bad command or file name
>> No command name seen.
>
> I've just downloaded current SVN to host where I make DJGPP builds
> using DOSEMU + FREEDOS + DJGPP evenv with bash and file+sh utils
> and it cleanly compiles the Harbour code with the following well
> known warnings:
> ? ../../../hbproces.c: In function `hb_fsProcessOpen':
> ? ../../../hbproces.c:776: warning: unused variable `TODO'
> ? ../../../hbproces.c: In function `hb_fsProcessValue':
> ? ../../../hbproces.c:873: warning: unused variable `TODO'
> ? ../../../hbproces.c: In function `hb_fsProcessClose':
> ? ../../../hbproces.c:933: warning: unused variable `TODO'
>
> so for me it works without any problems.

Here's my full output plus some extra info:
---
sh-2.05b$ echo $BASH_VERSION
2.05b.0(1)-release
sh-2.05b$ echo $PATH
c:/devl/djgpp204/bin
sh-2.05b$ uname -a
MS-DOS RED 5 50 i786 unknown
sh-2.05b$ make
! Building Harbour 2.0.0beta2 from source - http://www.harbour-project.org
! MAKE: c:/devl/djgpp204/bin/make.exe 3.81   C:\WINDOWS\SYSTEM32\COMMAND.COM
! HB_HOST_PLAT: win (x86)  HB_SHELL: sh
! HB_PLATFORM: dos (x86) (autodetected)
! HB_COMPILER: djgpp (autodetected: /devl/djgpp204/bin/)
! HB_INSTALL_PREFIX automatically set to: c:/work/harbour/harbour
make.exe[2]: Nothing to be done for `all'.
make.exe[1]: Nothing to be done for `all'.
Bad command or file name
No command name seen.
make.exe[2]: *** [dirbase] Error -1
make.exe[1]: *** [common] Error 2
make.exe: *** [source] Error 2
sh-2.05b$
---

Here the list of DJGPP tools downloaded:
---
curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2/djdev204.zip
curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2/readme.1st
curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/bnu219b.zip
curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/bsn23b.zip
curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/fil41b.zip
curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/flx254b.zip
curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/gdb64b.zip
curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/gcc441b.zip
curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/gpp441b.zip
curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/mak381b.zip
curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/bsh205bbr2.zip
curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/shl2011b.zip
curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2tk/pdcur34a.zip
curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2tk/allegro/all422a.zip
curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2tk/allegro/all422b.zip
---

What could be the problem? And again msys does the same, the
only common thing between these two is DOS make.exe. Which
is the same as on SVN.

Brgds,
Viktor
From vszakats at users.sourceforge.net  Tue Aug 25 12:26:22 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 25 12:26:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12321] trunk/harbour
Message-ID: <E1Mfyqk-0005ur-0f@c3vjzd1.ch3.sourceforge.com>

Revision: 12321
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12321&view=rev
Author:   vszakats
Date:     2009-08-25 16:26:15 +0000 (Tue, 25 Aug 2009)

Log Message:
-----------
2009-08-25 18:25 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    + Added SVN revision detection and display in log header.
      Will kick in only if svn is installed. For non-live SVN
      sandboxes (exported/nightly/other dl) it will display
      'exported'. It will also show if there was any local
      modifications done by appending an 'M' to revno.
    * TOFIX -> NOTE

  * source/Makefile
    % Minor to recent.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/source/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Aug 25 13:18:02 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 25 13:18:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12318] trunk/harbour
In-Reply-To: <18d502870908250908o4e1694b8yf8fa38e277c9477e@mail.gmail.com>
References: <E1Mfvr8-00057n-Sj@dn4whf1.ch3.sourceforge.com>
	<B30236C8-01A6-4F37-865A-72ABE720DEC8@syenar.hu>
	<20090825151717.GA11436@uran.home.aster.pl>
	<18d502870908250908o4e1694b8yf8fa38e277c9477e@mail.gmail.com>
Message-ID: <20090825171802.GA10490@uran.home.aster.pl>

On Tue, 25 Aug 2009, Szak?ts Viktor wrote:
> > I've just downloaded current SVN to host where I make DJGPP builds
> > using DOSEMU + FREEDOS + DJGPP evenv with bash and file+sh utils
> > and it cleanly compiles the Harbour code with the following well
> > known warnings:
> > ? ../../../hbproces.c: In function `hb_fsProcessOpen':
> > ? ../../../hbproces.c:776: warning: unused variable `TODO'
> > ? ../../../hbproces.c: In function `hb_fsProcessValue':
> > ? ../../../hbproces.c:873: warning: unused variable `TODO'
> > ? ../../../hbproces.c: In function `hb_fsProcessClose':
> > ? ../../../hbproces.c:933: warning: unused variable `TODO'
> >
> > so for me it works without any problems.
> Here's my full output plus some extra info:
> ---
> sh-2.05b$ echo $BASH_VERSION
> 2.05b.0(1)-release
> sh-2.05b$ echo $PATH
> c:/devl/djgpp204/bin
> sh-2.05b$ uname -a
> MS-DOS RED 5 50 i786 unknown
> sh-2.05b$ make
> ! Building Harbour 2.0.0beta2 from source - http://www.harbour-project.org
> ! MAKE: c:/devl/djgpp204/bin/make.exe 3.81   C:\WINDOWS\SYSTEM32\COMMAND.COM
> ! HB_HOST_PLAT: win (x86)  HB_SHELL: sh
> ! HB_PLATFORM: dos (x86) (autodetected)
> ! HB_COMPILER: djgpp (autodetected: /devl/djgpp204/bin/)
> ! HB_INSTALL_PREFIX automatically set to: c:/work/harbour/harbour
> make.exe[2]: Nothing to be done for `all'.
> make.exe[1]: Nothing to be done for `all'.
> Bad command or file name
> No command name seen.
> make.exe[2]: *** [dirbase] Error -1
> make.exe[1]: *** [common] Error 2
> make.exe: *** [source] Error 2
> sh-2.05b$
> ---
> 
> Here the list of DJGPP tools downloaded:
> ---
> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2/djdev204.zip
> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2/readme.1st
> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/bnu219b.zip
> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/bsn23b.zip

You do not need bison. It's necessary only if you want to modify
grammar rules yourself.

> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/fil41b.zip
> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/flx254b.zip

You do not need flex at all.

> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/gdb64b.zip

It's optional.

> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/gcc441b.zip
> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/gpp441b.zip

gpp is optional.

> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/mak381b.zip
> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/bsh205bbr2.zip
> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/shl2011b.zip
> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2tk/pdcur34a.zip

curses are optional too.

> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2tk/allegro/all422a.zip
> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2tk/allegro/all422b.zip

allegro is optional.

You do not have text utils.
Look for txt*b.zip

> What could be the problem? And again msys does the same, the
> only common thing between these two is DOS make.exe. Which
> is the same as on SVN.

I have no idea. I'm using similar tools though in a little bit
different versions anyhow it should not be reason of problems
you have so I guess it's sth local to your installation.
It works for me and I've just rebuild Harbour in WinXP using DJGPP
with DJGPP bash port as base shell without any problems.
Then I rebuilt it using MSys as base shell and HB_COMPILER=djgpp
to force DJGPP instead of automatically detected MinGW which seems
to be chosen unconditionally for MSys even if GCC is not installed
at all. Of course I had to add PATH to GJGPP bin after MSys system
directories to not "hide" original MSys GNU tools and before (if any)
MinGW bin. It also works if I remove from config/dos/djgpp.mk:
   ifeq ($(HB_HOST_PLAT),win)
      ifneq ($(HB_MAKE_PLAT),dos)
         $(error ! Error: You must use DJGPP provided GNU Make on Windows hosts)
      endif
   endif
which blocks using such configuration.
The only one problem is with libhpdf which is not compiled but I had no
time to look for details. I added -k option to make and it finished the
process without any other problems.
In summary the problem you had seems to be local to your system
configuration only. Maybe you are using some mixed GNU tools compiled
for different environment? It's hard to guess for me.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Aug 25 13:50:02 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 25 13:50:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12318] trunk/harbour
In-Reply-To: <20090825171802.GA10490@uran.home.aster.pl>
References: <E1Mfvr8-00057n-Sj@dn4whf1.ch3.sourceforge.com>
	<B30236C8-01A6-4F37-865A-72ABE720DEC8@syenar.hu>
	<20090825151717.GA11436@uran.home.aster.pl>
	<18d502870908250908o4e1694b8yf8fa38e277c9477e@mail.gmail.com>
	<20090825171802.GA10490@uran.home.aster.pl>
Message-ID: <48B531E4-8E37-402E-A607-9ED32AE992E3@syenar.hu>

Hi Przemek,

>> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2/djdev204.zip
>> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2/readme.1st
>> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/bnu219b.zip
>> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/bsn23b.zip
>
> You do not need bison. It's necessary only if you want to modify
> grammar rules yourself.
>
>> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/fil41b.zip
>> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/flx254b.zip
>
> You do not need flex at all.

I know, but wanted to give it a shot once to test bison/flex
rules after reworking .mk files. (I didn't manage with them BTW)

>> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/gdb64b.zip
>
> It's optional.

I know.

>> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/gcc441b.zip
>> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/gpp441b.zip
>
> gpp is optional.

Sure, I know. Got it to do C++ testing in the future, plus
we may have C++ only contribs in the future which also work
with dos.

>> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/mak381b.zip
>> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/bsh205bbr2.zip
>> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2gnu/shl2011b.zip
>> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2tk/pdcur34a.zip
>
> curses are optional too.

I'm testing builds and Harbour make system, so it's required for me.

>> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2tk/allegro/all422a.zip
>> curl -O ftp://ftp.delorie.com/pub/djgpp/beta/v2tk/allegro/all422b.zip
>
> allegro is optional.

See above.

> You do not have text utils.
> Look for txt*b.zip

Thanks. I've added it. [I didn't fix the failure]

Sorry I've sent my full updated list of DJGPP tools
to give an idea of my exact environment, it has grown
compared to initial minimal download a few month ago,
hence it has all these optional components.

bash + shell tools are also optional.

>> What could be the problem? And again msys does the same, the
>> only common thing between these two is DOS make.exe. Which
>> is the same as on SVN.
>
> I have no idea. I'm using similar tools though in a little bit
> different versions anyhow it should not be reason of problems
> you have so I guess it's sth local to your installation.
> It works for me and I've just rebuild Harbour in WinXP using DJGPP
> with DJGPP bash port as base shell without any problems.
> Then I rebuilt it using MSys as base shell and HB_COMPILER=djgpp
> to force DJGPP instead of automatically detected MinGW which seems
> to be chosen unconditionally for MSys even if GCC is not installed
> at all. Of course I had to add PATH to GJGPP bin after MSys system
> directories to not "hide" original MSys GNU tools and before (if any)
> MinGW bin. It also works if I remove from config/dos/djgpp.mk:
>   ifeq ($(HB_HOST_PLAT),win)
>      ifneq ($(HB_MAKE_PLAT),dos)
>         $(error ! Error: You must use DJGPP provided GNU Make on  
> Windows hosts)
>      endif
>   endif
> which blocks using such configuration.
> The only one problem is with libhpdf which is not compiled but I had  
> no
> time to look for details. I added -k option to make and it finished  
> the
> process without any other problems.

Yes, and that was exactly the reason I added above error message :)

For me the green light is on when it can build without -i or -k.

libhpdf uses HB_INC_DEPEND var to point to external headers present
in embedded libharu dir. This causes a longer than usual cmdline,
which can make it break.

Notice that the problem can come up anytime with any other lib
which uses a little bit more command line length for whatever
reason in the future. Could be that user adds a few HB_USER_C|PRGFLAGS
and the build is instantly broken. Or user may set HB_BUILD_NAME
and it's broken because of extra '../'s added.
IOW: It's just a coincidence it works, it's pretty much on the edge,
it's very fragile. We are talking about a few bytes here, 126 chars
isn't that much. To make it stable without relying on DJGPP-specific
cmdline tricks, we'd need to make similar hacks as done for watcom,
like moving options to envvar or some disk file. Fact is that
djgpp.mk doesn't have proper support for 126 bytes cmdline now.

BTW a few month ago it worked because we didn't have HB_INC_DEPEND
yet then and obj dir level also wasn't present. Both of these added to
the overall cmdline lengths used. This puts a stress on some .mk
files we have.

> In summary the problem you had seems to be local to your system
> configuration only. Maybe you are using some mixed GNU tools compiled
> for different environment? It's hard to guess for me.

I'll make a few more rounds, but honestly I have not much
idea where to look at ATM.

If I empty the PATH (and BTW by full env besides NT system vars),
what else can mess it up...? Hm, we will see sooner or later.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 25 13:55:59 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 25 13:56:07 2009
Subject: [Harbour] workarea type int vs USHORT
Message-ID: <ABC0AC79-C4C8-4A33-AA1B-1BD0F2B7E879@syenar.hu>

Hi Przemek,

I see some places use an 'int' for workarea number, while
some others use USHORT.

Wouldn't it be a good time to change internal workarea
type also to int?

It would also help on a great portion of warnings.

I can help in the process.

Brgds,
Viktor

From druzus at users.sourceforge.net  Tue Aug 25 13:56:07 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 25 13:56:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12322] trunk/harbour
Message-ID: <E1Mg0Fb-000675-19@dn4whf1.ch3.sourceforge.com>

Revision: 12322
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12322&view=rev
Author:   druzus
Date:     2009-08-25 17:56:03 +0000 (Tue, 25 Aug 2009)

Log Message:
-----------
2009-08-25 19:55 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbvmpub.h
    ! fixed default size macro used in HB_ITEM_PUT_LONGRAW()

  * harbour/include/hbexprb.c
    * enable ("alias")-> optimization only when -ko harbour compiler
      option is used - it changes RT error.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbexprb.c
    trunk/harbour/include/hbvmpub.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Aug 25 14:01:47 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 25 14:01:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12323] trunk/harbour
Message-ID: <E1Mg0L5-0006Ih-2u@dn4whf1.ch3.sourceforge.com>

Revision: 12323
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12323&view=rev
Author:   druzus
Date:     2009-08-25 18:01:40 +0000 (Tue, 25 Aug 2009)

Log Message:
-----------
2009-08-25 20:01 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/utils/hbtest/rt_hvma.prg
    * use '#pragma' -ko- to test '("NOTHERE")->(Eof())' results

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbtest/rt_hvma.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Aug 25 14:04:43 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 25 14:04:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12318] trunk/harbour
In-Reply-To: <20090825171802.GA10490@uran.home.aster.pl>
References: <E1Mfvr8-00057n-Sj@dn4whf1.ch3.sourceforge.com>
	<B30236C8-01A6-4F37-865A-72ABE720DEC8@syenar.hu>
	<20090825151717.GA11436@uran.home.aster.pl>
	<18d502870908250908o4e1694b8yf8fa38e277c9477e@mail.gmail.com>
	<20090825171802.GA10490@uran.home.aster.pl>
Message-ID: <186A1EC9-A491-4693-885C-F5B061A043B6@syenar.hu>

> Then I rebuilt it using MSys as base shell and HB_COMPILER=djgpp
> to force DJGPP instead of automatically detected MinGW which seems
> to be chosen unconditionally for MSys even if GCC is not installed

djgpp is detected by looking for djasm[.exe], if that can't be
found it goes to look for gcc.exe and mingw is selected. (it's
never selected unconditionally)

Could it be you don't have djasm.exe? It's part of djdev204.zip.
Tell me if this is the case and I'll try to find some better
autodetection method.

> at all. Of course I had to add PATH to GJGPP bin after MSys system
> directories to not "hide" original MSys GNU tools and before (if any)
> MinGW bin. It also works if I remove from config/dos/djgpp.mk:

Yes, this is the way to do it, and did my testing with this way.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Tue Aug 25 14:11:06 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Tue Aug 25 14:12:21 2009
Subject: [Harbour] My tests with Qt 4.5.2 and Fedora 11
Message-ID: <005801ca25af$6b751460$425f3d20$@Bisz@t-online.hu>

Skipped content of type multipart/alternative-------------- next part --------------
System: Linux 2.6.29.6-217.2.8.fc11.i686.PAE #1 SMP Sat Aug 15 01:07:59 EDT 2009 i686
X Vendor: The X.Org Foundation
X Vendor Release: 10601901
Selinux: Enforcing
Accessibility: Disabled
GTK+ Theme: Nodoka
Icon Theme: Fedora
GTK+ Modules: canberra-gtk-module, pk-gtk-module, gnomebreakpad

Memory status: size: 82567168 vsize: 82567168 resident: 29921280 share: 20549632 rss: 29921280 rss_rlim: 18446744073709551615
CPU usage: start_time: 1251216426 rtime: 49 utime: 7 stime: 42 cutime:0 cstime: 1 timeout: 0 it_real_value: 0 frequency: 100

Backtrace was generated from '/home/Istvan/Download/harbour/contrib/hbxbp/tests/demoxbp'

[?1034h[Thread debugging using libthread_db enabled]
0x0045b424 in __kernel_vsyscall ()
#0  0x0045b424 in __kernel_vsyscall ()
#1  0x001b0e53 in __waitpid_nocancel () from /lib/libc.so.6
#2  0x00a0c8ff in g_spawn_sync () from /lib/libglib-2.0.so.0
#3  0x00a0cc0c in g_spawn_command_line_sync () from /lib/libglib-2.0.so.0
#4  0x087903cc in ?? () from /usr/lib/gtk-2.0/modules/libgnomebreakpad.so
#5  0x08790dc2 in ?? () from /usr/lib/gtk-2.0/modules/libgnomebreakpad.so
#6  <signal handler called>
#7  0x0045b424 in __kernel_vsyscall ()
#8  0x0013e7c1 in raise () from /lib/libc.so.6
#9  0x00140092 in abort () from /lib/libc.so.6
#10 0x0017cdad in __libc_message () from /lib/libc.so.6
#11 0x001832a1 in malloc_printerr () from /lib/libc.so.6
#12 0x04590e2d in hb_itemRelease () from /usr/lib/libharbour.so
#13 0x0807e25b in HbDbfModel::rowCount(QModelIndex const&) const ()
#14 0x01424e58 in QHeaderView::initializeSections() () from /usr/lib/libQtGui.so.4
#15 0x01424f8a in QHeaderView::reset() () from /usr/lib/libQtGui.so.4
#16 0x014107f8 in QAbstractItemView::qt_metacall(QMetaObject::Call, int, void**) () from /usr/lib/libQtGui.so.4
#17 0x0142539d in QHeaderView::qt_metacall(QMetaObject::Call, int, void**) () from /usr/lib/libQtGui.so.4
#18 0x00cd4c73 in QMetaObject::activate(QObject*, int, int, void**) () from /usr/lib/libQtCore.so.4
#19 0x00cd58d2 in QMetaObject::activate(QObject*, QMetaObject const*, int, void**) () from /usr/lib/libQtCore.so.4
#20 0x00d0e057 in QAbstractItemModel::modelReset() () from /usr/lib/libQtCore.so.4
#21 0x00cb8b7d in QAbstractItemModel::reset() () from /usr/lib/libQtCore.so.4
#22 0x080914aa in HB_FUN_QT_HBDBFMODEL_RESET ()
#23 0x045aef2f in hb_vmProc () from /usr/lib/libharbour.so
#24 0x0458102e in hb_vmExecute () from /usr/lib/libharbour.so
#25 0x045b200f in hb_vmDoBlock () from /usr/lib/libharbour.so
#26 0x04584fd2 in hb_vmSend () from /usr/lib/libharbour.so
#27 0x045ac90e in hb___msgEvalInline () from /usr/lib/libharbour.so
#28 0x04584fd2 in hb_vmSend () from /usr/lib/libharbour.so
#29 0x04583ed9 in hb_vmExecute () from /usr/lib/libharbour.so
#30 0x0807d43b in HB_FUN_XBPBROWSE_DOCONFIGURE ()
#31 0x04584fd2 in hb_vmSend () from /usr/lib/libharbour.so
#32 0x04583ed9 in hb_vmExecute () from /usr/lib/libharbour.so
#33 0x0807d8db in HB_FUN_XBPBROWSE_ROWCOUNT ()
#34 0x04584fd2 in hb_vmSend () from /usr/lib/libharbour.so
#35 0x04583ed9 in hb_vmExecute () from /usr/lib/libharbour.so
#36 0x0807d49b in HB_FUN_XBPBROWSE_SUPPLYINFO ()
#37 0x04584fd2 in hb_vmSend () from /usr/lib/libharbour.so
#38 0x04583ed9 in hb_vmExecute () from /usr/lib/libharbour.so
#39 0x045b200f in hb_vmDoBlock () from /usr/lib/libharbour.so
#40 0x04584fd2 in hb_vmSend () from /usr/lib/libharbour.so
#41 0x045ae8e3 in hb_vmEvalBlockV () from /usr/lib/libharbour.so
#42 0x0807e23f in HbDbfModel::rowCount(QModelIndex const&) const ()
#43 0x01424e58 in QHeaderView::initializeSections() () from /usr/lib/libQtGui.so.4
#44 0x01424f8a in QHeaderView::reset() () from /usr/lib/libQtGui.so.4
#45 0x01408149 in QAbstractItemView::setModel(QAbstractItemModel*) () from /usr/lib/libQtGui.so.4
#46 0x01425a1d in QHeaderView::setModel(QAbstractItemModel*) () from /usr/lib/libQtGui.so.4
#47 0x0143ca6b in QTableView::setModel(QAbstractItemModel*) () from /usr/lib/libQtGui.so.4
#48 0x080c80c7 in HB_FUN_QT_QABSTRACTITEMVIEW_SETMODEL ()
#49 0x045aef2f in hb_vmProc () from /usr/lib/libharbour.so
#50 0x0458102e in hb_vmExecute () from /usr/lib/libharbour.so
#51 0x045b200f in hb_vmDoBlock () from /usr/lib/libharbour.so
#52 0x04584fd2 in hb_vmSend () from /usr/lib/libharbour.so
#53 0x045ac90e in hb___msgEvalInline () from /usr/lib/libharbour.so
#54 0x04584fd2 in hb_vmSend () from /usr/lib/libharbour.so
#55 0x04583ed9 in hb_vmExecute () from /usr/lib/libharbour.so
#56 0x0807d4db in HB_FUN_XBPBROWSE_CREATE ()
#57 0x04584fd2 in hb_vmSend () from /usr/lib/libharbour.so
#58 0x04583ed9 in hb_vmExecute () from /usr/lib/libharbour.so
#59 0x0807817b in HB_FUN_BUILD_BROWSE ()
#60 0x045aef2f in hb_vmProc () from /usr/lib/libharbour.so
#61 0x04581328 in hb_vmExecute () from /usr/lib/libharbour.so
#62 0x0807875b in HB_FUN_BUILDADIALOG ()
#63 0x045aef2f in hb_vmProc () from /usr/lib/libharbour.so
#64 0x04581328 in hb_vmExecute () from /usr/lib/libharbour.so
#65 0x0807877b in HB_FUN_MAIN ()
#66 0x045aef2f in hb_vmProc () from /usr/lib/libharbour.so
#67 0x04571a17 in main () from /usr/lib/libharbour.so
#68 0x00129a66 in __libc_start_main () from /lib/libc.so.6
#69 0x080780c1 in _start ()

Thread 1 (Thread 0xb7f37780 (LWP 17721)):
#0  0x0045b424 in __kernel_vsyscall ()
No symbol table info available.
#1  0x001b0e53 in __waitpid_nocancel () from /lib/libc.so.6
No symbol table info available.
#2  0x00a0c8ff in g_spawn_sync () from /lib/libglib-2.0.so.0
No symbol table info available.
#3  0x00a0cc0c in g_spawn_command_line_sync () from /lib/libglib-2.0.so.0
No symbol table info available.
#4  0x087903cc in ?? () from /usr/lib/gtk-2.0/modules/libgnomebreakpad.so
No symbol table info available.
#5  0x08790dc2 in ?? () from /usr/lib/gtk-2.0/modules/libgnomebreakpad.so
No symbol table info available.
#6  <signal handler called>
No symbol table info available.
#7  0x0045b424 in __kernel_vsyscall ()
No symbol table info available.
#8  0x0013e7c1 in raise () from /lib/libc.so.6
No symbol table info available.
#9  0x00140092 in abort () from /lib/libc.so.6
No symbol table info available.
#10 0x0017cdad in __libc_message () from /lib/libc.so.6
No symbol table info available.
#11 0x001832a1 in malloc_printerr () from /lib/libc.so.6
No symbol table info available.
#12 0x04590e2d in hb_itemRelease () from /usr/lib/libharbour.so
No symbol table info available.
#13 0x0807e25b in HbDbfModel::rowCount(QModelIndex const&) const ()
No symbol table info available.
#14 0x01424e58 in QHeaderView::initializeSections() () from /usr/lib/libQtGui.so.4
No symbol table info available.
#15 0x01424f8a in QHeaderView::reset() () from /usr/lib/libQtGui.so.4
No symbol table info available.
#16 0x014107f8 in QAbstractItemView::qt_metacall(QMetaObject::Call, int, void**) () from /usr/lib/libQtGui.so.4
No symbol table info available.
#17 0x0142539d in QHeaderView::qt_metacall(QMetaObject::Call, int, void**) () from /usr/lib/libQtGui.so.4
No symbol table info available.
#18 0x00cd4c73 in QMetaObject::activate(QObject*, int, int, void**) () from /usr/lib/libQtCore.so.4
No symbol table info available.
#19 0x00cd58d2 in QMetaObject::activate(QObject*, QMetaObject const*, int, void**) () from /usr/lib/libQtCore.so.4
No symbol table info available.
#20 0x00d0e057 in QAbstractItemModel::modelReset() () from /usr/lib/libQtCore.so.4
No symbol table info available.
#21 0x00cb8b7d in QAbstractItemModel::reset() () from /usr/lib/libQtCore.so.4
No symbol table info available.
#22 0x080914aa in HB_FUN_QT_HBDBFMODEL_RESET ()
No symbol table info available.
#23 0x045aef2f in hb_vmProc () from /usr/lib/libharbour.so
No symbol table info available.
#24 0x0458102e in hb_vmExecute () from /usr/lib/libharbour.so
No symbol table info available.
#25 0x045b200f in hb_vmDoBlock () from /usr/lib/libharbour.so
No symbol table info available.
#26 0x04584fd2 in hb_vmSend () from /usr/lib/libharbour.so
No symbol table info available.
#27 0x045ac90e in hb___msgEvalInline () from /usr/lib/libharbour.so
No symbol table info available.
#28 0x04584fd2 in hb_vmSend () from /usr/lib/libharbour.so
No symbol table info available.
#29 0x04583ed9 in hb_vmExecute () from /usr/lib/libharbour.so
No symbol table info available.
#30 0x0807d43b in HB_FUN_XBPBROWSE_DOCONFIGURE ()
No symbol table info available.
#31 0x04584fd2 in hb_vmSend () from /usr/lib/libharbour.so
No symbol table info available.
#32 0x04583ed9 in hb_vmExecute () from /usr/lib/libharbour.so
No symbol table info available.
#33 0x0807d8db in HB_FUN_XBPBROWSE_ROWCOUNT ()
No symbol table info available.
#34 0x04584fd2 in hb_vmSend () from /usr/lib/libharbour.so
No symbol table info available.
#35 0x04583ed9 in hb_vmExecute () from /usr/lib/libharbour.so
No symbol table info available.
#36 0x0807d49b in HB_FUN_XBPBROWSE_SUPPLYINFO ()
No symbol table info available.
#37 0x04584fd2 in hb_vmSend () from /usr/lib/libharbour.so
No symbol table info available.
#38 0x04583ed9 in hb_vmExecute () from /usr/lib/libharbour.so
No symbol table info available.
#39 0x045b200f in hb_vmDoBlock () from /usr/lib/libharbour.so
No symbol table info available.
#40 0x04584fd2 in hb_vmSend () from /usr/lib/libharbour.so
No symbol table info available.
#41 0x045ae8e3 in hb_vmEvalBlockV () from /usr/lib/libharbour.so
No symbol table info available.
#42 0x0807e23f in HbDbfModel::rowCount(QModelIndex const&) const ()
No symbol table info available.
#43 0x01424e58 in QHeaderView::initializeSections() () from /usr/lib/libQtGui.so.4
No symbol table info available.
#44 0x01424f8a in QHeaderView::reset() () from /usr/lib/libQtGui.so.4
No symbol table info available.
#45 0x01408149 in QAbstractItemView::setModel(QAbstractItemModel*) () from /usr/lib/libQtGui.so.4
No symbol table info available.
#46 0x01425a1d in QHeaderView::setModel(QAbstractItemModel*) () from /usr/lib/libQtGui.so.4
No symbol table info available.
#47 0x0143ca6b in QTableView::setModel(QAbstractItemModel*) () from /usr/lib/libQtGui.so.4
No symbol table info available.
#48 0x080c80c7 in HB_FUN_QT_QABSTRACTITEMVIEW_SETMODEL ()
No symbol table info available.
#49 0x045aef2f in hb_vmProc () from /usr/lib/libharbour.so
No symbol table info available.
#50 0x0458102e in hb_vmExecute () from /usr/lib/libharbour.so
No symbol table info available.
#51 0x045b200f in hb_vmDoBlock () from /usr/lib/libharbour.so
No symbol table info available.
#52 0x04584fd2 in hb_vmSend () from /usr/lib/libharbour.so
No symbol table info available.
#53 0x045ac90e in hb___msgEvalInline () from /usr/lib/libharbour.so
No symbol table info available.
#54 0x04584fd2 in hb_vmSend () from /usr/lib/libharbour.so
No symbol table info available.
#55 0x04583ed9 in hb_vmExecute () from /usr/lib/libharbour.so
No symbol table info available.
#56 0x0807d4db in HB_FUN_XBPBROWSE_CREATE ()
No symbol table info available.
#57 0x04584fd2 in hb_vmSend () from /usr/lib/libharbour.so
No symbol table info available.
#58 0x04583ed9 in hb_vmExecute () from /usr/lib/libharbour.so
No symbol table info available.
#59 0x0807817b in HB_FUN_BUILD_BROWSE ()
No symbol table info available.
#60 0x045aef2f in hb_vmProc () from /usr/lib/libharbour.so
No symbol table info available.
#61 0x04581328 in hb_vmExecute () from /usr/lib/libharbour.so
No symbol table info available.
#62 0x0807875b in HB_FUN_BUILDADIALOG ()
No symbol table info available.
#63 0x045aef2f in hb_vmProc () from /usr/lib/libharbour.so
No symbol table info available.
#64 0x04581328 in hb_vmExecute () from /usr/lib/libharbour.so
No symbol table info available.
#65 0x0807877b in HB_FUN_MAIN ()
No symbol table info available.
#66 0x045aef2f in hb_vmProc () from /usr/lib/libharbour.so
No symbol table info available.
#67 0x04571a17 in main () from /usr/lib/libharbour.so
No symbol table info available.
#68 0x00129a66 in __libc_start_main () from /lib/libc.so.6
No symbol table info available.
#69 0x080780c1 in _start ()
No symbol table info available.
The program is running.  Quit anyway (and detach it)? (y or n) [answered Y; input not from terminal]
-------------- next part --------------
[Istvan@localhost tests]$ ./demoxbp
*** glibc detected *** /home/Istvan/Download/harbour/contrib/hbxbp/tests/demoxbp: free(): invalid pointer: 0x00c4b29c ***
======= Backtrace: =========
/lib/libc.so.6[0xcc22a1]
/usr/lib/libharbour.so(hb_itemRelease+0x3d)[0x9c4e2d]
/home/Istvan/Download/harbour/contrib/hbxbp/tests/demoxbp[0x807e25b]
/usr/lib/libQtGui.so.4(_ZN11QHeaderView18initializeSectionsEv+0x58)[0x68bee58]
/usr/lib/libQtGui.so.4(_ZN11QHeaderView5resetEv+0x2a)[0x68bef8a]
/usr/lib/libQtGui.so.4(_ZN17QAbstractItemView11qt_metacallEN11QMetaObject4CallEiPPv+0x378)[0x68aa7f8]
/usr/lib/libQtGui.so.4(_ZN11QHeaderView11qt_metacallEN11QMetaObject4CallEiPPv+0x3d)[0x68bf39d]
/usr/lib/libQtCore.so.4(_ZN11QMetaObject8activateEP7QObjectiiPPv+0x233)[0x401c73]
/usr/lib/libQtCore.so.4(_ZN11QMetaObject8activateEP7QObjectPKS_iPPv+0x52)[0x4028d2]
/usr/lib/libQtCore.so.4(_ZN18QAbstractItemModel10modelResetEv+0x37)[0x43b057]
/usr/lib/libQtCore.so.4(_ZN18QAbstractItemModel5resetEv+0x14d)[0x3e5b7d]
/home/Istvan/Download/harbour/contrib/hbxbp/tests/demoxbp[0x80914aa]
/usr/lib/libharbour.so(hb_vmProc+0xcf)[0x9e2f2f]
/usr/lib/libharbour.so(hb_vmExecute+0x3ae)[0x9b502e]
/usr/lib/libharbour.so[0x9e600f]
/usr/lib/libharbour.so(hb_vmSend+0xf2)[0x9b8fd2]
/usr/lib/libharbour.so[0x9e090e]
/usr/lib/libharbour.so(hb_vmSend+0xf2)[0x9b8fd2]
/usr/lib/libharbour.so(hb_vmExecute+0x3259)[0x9b7ed9]
/home/Istvan/Download/harbour/contrib/hbxbp/tests/demoxbp[0x807d43b]
/usr/lib/libharbour.so(hb_vmSend+0xf2)[0x9b8fd2]
/usr/lib/libharbour.so(hb_vmExecute+0x3259)[0x9b7ed9]
/home/Istvan/Download/harbour/contrib/hbxbp/tests/demoxbp[0x807d8db]
/usr/lib/libharbour.so(hb_vmSend+0xf2)[0x9b8fd2]
/usr/lib/libharbour.so(hb_vmExecute+0x3259)[0x9b7ed9]
/home/Istvan/Download/harbour/contrib/hbxbp/tests/demoxbp[0x807d49b]
/usr/lib/libharbour.so(hb_vmSend+0xf2)[0x9b8fd2]
/usr/lib/libharbour.so(hb_vmExecute+0x3259)[0x9b7ed9]
/usr/lib/libharbour.so[0x9e600f]
/usr/lib/libharbour.so(hb_vmSend+0xf2)[0x9b8fd2]
/usr/lib/libharbour.so(hb_vmEvalBlockV+0xc3)[0x9e28e3]
/home/Istvan/Download/harbour/contrib/hbxbp/tests/demoxbp[0x807e23f]
/usr/lib/libQtGui.so.4(_ZN11QHeaderView18initializeSectionsEv+0x58)[0x68bee58]
/usr/lib/libQtGui.so.4(_ZN11QHeaderView5resetEv+0x2a)[0x68bef8a]
/usr/lib/libQtGui.so.4(_ZN17QAbstractItemView8setModelEP18QAbstractItemModel+0x3f9)[0x68a2149]
/usr/lib/libQtGui.so.4(_ZN11QHeaderView8setModelEP18QAbstractItemModel+0x22d)[0x68bfa1d]
/usr/lib/libQtGui.so.4(_ZN10QTableView8setModelEP18QAbstractItemModel+0x3b)[0x68d6a6b]
/home/Istvan/Download/harbour/contrib/hbxbp/tests/demoxbp[0x80c80c7]
/usr/lib/libharbour.so(hb_vmProc+0xcf)[0x9e2f2f]
/usr/lib/libharbour.so(hb_vmExecute+0x3ae)[0x9b502e]
/usr/lib/libharbour.so[0x9e600f]
/usr/lib/libharbour.so(hb_vmSend+0xf2)[0x9b8fd2]
/usr/lib/libharbour.so[0x9e090e]
/usr/lib/libharbour.so(hb_vmSend+0xf2)[0x9b8fd2]
/usr/lib/libharbour.so(hb_vmExecute+0x3259)[0x9b7ed9]
/home/Istvan/Download/harbour/contrib/hbxbp/tests/demoxbp[0x807d4db]
/usr/lib/libharbour.so(hb_vmSend+0xf2)[0x9b8fd2]
/usr/lib/libharbour.so(hb_vmExecute+0x3259)[0x9b7ed9]
/home/Istvan/Download/harbour/contrib/hbxbp/tests/demoxbp[0x807817b]
/usr/lib/libharbour.so(hb_vmProc+0xcf)[0x9e2f2f]
/usr/lib/libharbour.so(hb_vmExecute+0x6a8)[0x9b5328]
/home/Istvan/Download/harbour/contrib/hbxbp/tests/demoxbp[0x807875b]
/usr/lib/libharbour.so(hb_vmProc+0xcf)[0x9e2f2f]
/usr/lib/libharbour.so(hb_vmExecute+0x6a8)[0x9b5328]
/home/Istvan/Download/harbour/contrib/hbxbp/tests/demoxbp[0x807877b]
/usr/lib/libharbour.so(hb_vmProc+0xcf)[0x9e2f2f]
/usr/lib/libharbour.so(main+0x27)[0x9a5a17]
/lib/libc.so.6(__libc_start_main+0xe6)[0xc68a66]
/home/Istvan/Download/harbour/contrib/hbxbp/tests/demoxbp[0x80780c1]
======= Memory map: ========
00101000-0010a000 r-xp 00000000 fd:00 206239     /usr/lib/libXcursor.so.1.0.2
0010a000-0010b000 rw-p 00008000 fd:00 206239     /usr/lib/libXcursor.so.1.0.2
0010d000-00112000 r-xp 00000000 fd:00 15090      /usr/lib/libgpm.so.2.1.0
00112000-00113000 rw-p 00004000 fd:00 15090      /usr/lib/libgpm.so.2.1.0
00113000-00129000 r-xp 00000000 fd:00 206214     /lib/libpthread-2.10.1.so
00129000-0012a000 ---p 00016000 fd:00 206214     /lib/libpthread-2.10.1.so
0012a000-0012b000 r--p 00016000 fd:00 206214     /lib/libpthread-2.10.1.so
0012b000-0012c000 rw-p 00017000 fd:00 206214     /lib/libpthread-2.10.1.so
0012c000-0012e000 rw-p 0012c000 00:00 0 
0012e000-00140000 r-xp 00000000 fd:00 206222     /lib/libz.so.1.2.3
00140000-00141000 rw-p 00011000 fd:00 206222     /lib/libz.so.1.2.3
00141000-00145000 r-xp 00000000 fd:00 206216     /lib/libgthread-2.0.so.0.2000.4
00145000-00146000 rw-p 00003000 fd:00 206216     /lib/libgthread-2.0.so.0.2000.4
00146000-0014d000 r-xp 00000000 fd:00 206215     /lib/librt-2.10.1.so
0014d000-0014e000 r--p 00006000 fd:00 206215     /lib/librt-2.10.1.so
0014e000-0014f000 rw-p 00007000 fd:00 206215     /lib/librt-2.10.1.so
0014f000-00152000 r-xp 00000000 fd:00 206226     /lib/libdl-2.10.1.so
00152000-00153000 r--p 00002000 fd:00 206226     /lib/libdl-2.10.1.so
00153000-00154000 rw-p 00003000 fd:00 206226     /lib/libdl-2.10.1.so
00154000-0017a000 r-xp 00000000 fd:00 56420      /lib/libm-2.10.1.so
0017a000-0017b000 r--p 00025000 fd:00 56420      /lib/libm-2.10.1.so
0017b000-0017c000 rw-p 00026000 fd:00 56420      /lib/libm-2.10.1.so
0017c000-001a2000 r-xp 00000000 fd:00 206223     /usr/lib/libpng12.so.0.37.0
001a2000-001a3000 rw-p 00025000 fd:00 206223     /usr/lib/libpng12.so.0.37.0
001a3000-001e3000 r-xp 00000000 fd:00 206213     /lib/libgobject-2.0.so.0.2000.4
001e3000-001e4000 rw-p 00040000 fd:00 206213     /lib/libgobject-2.0.so.0.2000.4
001e4000-001ed000 r-xp 00000000 fd:00 206236     /usr/lib/libXi.so.6.0.0
001ed000-001ee000 rw-p 00008000 fd:00 206236     /usr/lib/libXi.so.6.0.0
001ee000-001f6000 r-xp 00000000 fd:00 206228     /usr/lib/libXrender.so.1.3.0
001f6000-001f7000 rw-p 00007000 fd:00 206228     /usr/lib/libXrender.so.1.3.0
001f7000-001fe000 r-xp 00000000 fd:00 206237     /usr/lib/libXrandr.so.2.2.0
001fe000-001ff000 rw-p 00006000 fd:00 206237     /usr/lib/libXrandr.so.2.2.0
001ff000-00203000 r-xp 00000000 fd:00 206238     /usr/lib/libXfixes.so.3.1.0
00203000-00204000 rw-p 00003000 fd:00 206238     /usr/lib/libXfixes.so.3.1.0
00204000-00206000 r-xp 00000000 fd:00 206235     /usr/lib/libXinerama.so.1.0.0
00206000-00207000 rw-p 00001000 fd:00 206235     /usr/lib/libXinerama.so.1.0.0
00207000-00216000 r-xp 00000000 fd:00 206234     /usr/lib/libXext.so.6.4.0
00216000-00217000 rw-p 0000f000 fd:00 206234     /usr/lib/libXext.so.6.4.0
00217000-00219000 r-xp 00000000 fd:00 206224     /usr/lib/libXau.so.6.0.0
00219000-0021a000 rw-p 00001000 fd:00 206224     /usr/lib/libXau.so.6.0.0
0021a000-0021e000 r-xp 00000000 fd:00 206258     /lib/libcap.so.2.16
0021e000-0021f000 rw-p 00003000 fd:00 206258     /lib/libcap.so.2.16
0021f000-00220000 r-xp 0021f000 00:00 0          [vdso]
00220000-00251000 r-xp 00000000 fd:00 206221     /usr/lib/libfontconfig.so.1.4.1
00251000-00253000 rw-p 00030000 fd:00 206221     /usr/lib/libfontconfig.so.1.4.1
00253000-00292000 r-xp 00000000 fd:00 206259     /lib/libdbus-1.so.3.4.0
00292000-00293000 r--p 0003e000 fd:00 206259     /lib/libdbus-1.so.3.4.0
00293000-00294000 rw-p 0003f000 fd:00 206259     /lib/libdbus-1.so.3.4.0
00294000-002aa000 r-xp 00000000 fd:00 14555      /lib/libtinfo.so.5.7
002aa000-002ad000 rw-p 00015000 fd:00 14555      /lib/libtinfo.so.5.7
002af000-004d8000 r-xp 00000000 fd:00 269908     /usr/lib/libQtCore.so.4.5.2
004d8000-004de000 rw-p 00229000 fd:00 269908     /usr/lib/libQtCore.so.4.5.2
004de000-004df000 rw-p 004de000 00:00 0 
004df000-0056d000 r-xp 00000000 fd:00 206219     /usr/lib/libfreetype.so.6.3.20
0056d000-00571000 rw-p 0008e000 fd:00 206219     /usr/lib/libfreetype.so.6.3.20
00571000-0058c000 r-xp 00000000 fd:00 206225     /usr/lib/libxcb.so.1.1.0
0058c000-0058d000 rw-p 0001b000 fd:00 206225     /usr/lib/libxcb.so.1.1.0
0058d000-00591000 r-xp 00000000 fd:00 206257     /lib/libattr.so.1.1.0
00591000-00592000 rw-p 00003000 fd:00 206257     /lib/libattr.so.1.1.0
00592000-0069d000 r-xp 00000000 fd:00 156127     /usr/lib/libQtNetwork.so.4.5.2
0069d000-006a0000 rw-p 0010b000 fd:00 156127     /usr/lib/libQtNetwork.so.4.5.2
006a0000-00709000 r-xp 00000000 fd:00 155561     /usr/lib/libQtDBus.so.4.5.2
00709000-0070b000 rw-p 00069000 fd:00 155561     /usr/lib/libQtDBus.so.4.5.2
0070b000-0074b000 r-xp 00000000 fd:00 155549     /usr/lib/libQtXml.so.4.5.2
0074b000-0074d000 rw-p 0003f000 fd:00 155549     /usr/lib/libQtXml.so.4.5.2
0074d000-0076e000 r-xp 00000000 fd:00 13847      /lib/libncurses.so.5.7
0076e000-0076f000 rw-p 00021000 fd:00 13847      /lib/libncurses.so.5.7
0076f000-00771000 r-xp 00000000 fd:00 11863      /usr/lib/gconv/UTF-16.so
00771000-00772000 r--p 00001000 fd:00 11863      /usr/lib/gconv/UTF-16.so
00772000-00773000 rw-p 00002000 fd:00 11863      /usr/lib/gconv/UTF-16.so
00773000-00776000 r-xp 00000000 fd:00 206230     /lib/libgmodule-2.0.so.0.2000.4
00776000-00777000 rw-p 00002000 fd:00 206230     /lib/libgmodule-2.0.so.0.2000.4
00777000-00779000 r-xp 00000000 fd:00 206240     /usr/lib/libXcomposite.so.1.0.0
00779000-0077a000 rw-p 00001000 fd:00 206240     /usr/lib/libXcomposite.so.1.0.0
0077a000-0079a000 r-xp 00000000 fd:00 206210     /lib/ld-2.10.1.so
0079a000-0079b000 r--p 0001f000 fd:00 206210     /lib/ld-2.10.1.so
0079b000-0079c000 rw-p 00020000 fd:00 206210     /lib/ld-2.10.1.so
0079c000-00bfc000 r-xp 00000000 fd:00 206463     /usr/lib/harbour/libharbour-2.0.0.so
00bfc000-00c43000 rw-p 00460000 fd:00 206463     /usr/lib/harbour/libharbour-2.0.0.so
00c43000-00c52000 rw-p 00c43000 00:00 0 
00c52000-00dbd000 r-xp 00000000 fd:00 206211     /lib/libc-2.10.1.so
00dbd000-00dbf000 r--p 0016b000 fd:00 206211     /lib/libc-2.10.1.so
00dbf000-00dc0000 rw-p 0016d000 fd:00 206211     /lib/libc-2.10.1.so[Istvan@localhost tests]$ 
From harbour.01 at syenar.hu  Tue Aug 25 14:17:18 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 25 14:17:26 2009
Subject: [Harbour] My tests with Qt 4.5.2 and Fedora 11
In-Reply-To: <005801ca25af$6b751460$425f3d20$@Bisz@t-online.hu>
References: <005801ca25af$6b751460$425f3d20$@Bisz@t-online.hu>
Message-ID: <B9C23AA7-23ED-4158-A5EF-42B9ACC93A1F@syenar.hu>

Thank you for the backtrace.

It's clearly my patch with had a mistake. I'll commit the fix ASAP.

Brgds,
Viktor

On 2009.08.25., at 8:11, Bisz Istv?n wrote:

> Hi,
>
> My demoqt and demoxbp tests on Fedora 11 shows similar results with  
> Marcos results (demoqt runs; demoxbp crashes), see attachments  
> containing the demoxbp crash.
>
> The crash as I see appears in hb_itemRelease () with error message:  
> *** glibc detected *** /home/Istvan/Download/harbour/contrib/hbxbp/ 
> tests/demoxbp: free(): invalid pointer: 0x00c4b29c ***
> called from HbDbfModel::rowCount(QModelIndex const&) const ()
>
> Best regards,
> Istv?n Bisz
>
>
> <bugreport.txt><output.txt>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Tue Aug 25 14:19:10 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Aug 25 14:19:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12324] trunk/harbour
Message-ID: <E1Mg0bu-0002sq-JE@74yxhf1.ch3.sourceforge.com>

Revision: 12324
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12324&view=rev
Author:   vszakats
Date:     2009-08-25 18:19:09 +0000 (Tue, 25 Aug 2009)

Log Message:
-----------
2009-08-25 20:18 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_slots.cpp
    ! Fixed regression in 2009-08-22 22:33.

  * config/global.mk
    * Minor cosmetic.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Aug 25 14:44:18 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 25 14:44:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12318] trunk/harbour
In-Reply-To: <48B531E4-8E37-402E-A607-9ED32AE992E3@syenar.hu>
References: <E1Mfvr8-00057n-Sj@dn4whf1.ch3.sourceforge.com>
	<B30236C8-01A6-4F37-865A-72ABE720DEC8@syenar.hu>
	<20090825151717.GA11436@uran.home.aster.pl>
	<18d502870908250908o4e1694b8yf8fa38e277c9477e@mail.gmail.com>
	<20090825171802.GA10490@uran.home.aster.pl>
	<48B531E4-8E37-402E-A607-9ED32AE992E3@syenar.hu>
Message-ID: <20090825184417.GA27820@uran.home.aster.pl>

On Tue, 25 Aug 2009, Szak?ts Viktor wrote:

Hi Viktor,

>> The only one problem is with libhpdf which is not compiled but I had no
>> time to look for details. I added -k option to make and it finished the
>> process without any other problems.
> Yes, and that was exactly the reason I added above error message :)
> For me the green light is on when it can build without -i or -k.

Now we do not have any green light because you forbid anyone using
such configurations and this is in my opinion unacceptable.
And in this case the problem is with optional library which need
external dependencies so even now creates problem in systems where
it cannot be upgraded.

> libhpdf uses HB_INC_DEPEND var to point to external headers present
> in embedded libharu dir. This causes a longer than usual cmdline,
> which can make it break.

Exactly so it will also have problem in pure DOS.

> Notice that the problem can come up anytime with any other lib
> which uses a little bit more command line length for whatever
> reason in the future. Could be that user adds a few HB_USER_C|PRGFLAGS
> and the build is instantly broken. Or user may set HB_BUILD_NAME
> and it's broken because of extra '../'s added.
> IOW: It's just a coincidence it works, it's pretty much on the edge,
> it's very fragile. We are talking about a few bytes here, 126 chars
> isn't that much. To make it stable without relying on DJGPP-specific
> cmdline tricks, we'd need to make similar hacks as done for watcom,
> like moving options to envvar or some disk file. Fact is that
> djgpp.mk doesn't have proper support for 126 bytes cmdline now.

I do not understand why it's different for you then using pure command.com
which has the same limitation and why you want to forbid other users to use
his preferred configuration.

> BTW a few month ago it worked because we didn't have HB_INC_DEPEND
> yet then and obj dir level also wasn't present. Both of these added to
> the overall cmdline lengths used. This puts a stress on some .mk
> files we have.

Few days ago I was able to build Harbour using RH7.3 Now I have to make
manual modifications to make it working. I'm seriously afraid that I will
end with my own local Harbour configuration when we will have final GNU
make build system. At least I have to move to such configuration now.

Maybe new GNU make it's internally simpler - here I have doubts because
for me scripts are much easier to update then make files.
For sure many things are much easier for Windows users which have to set
less startup environment variables. But for me and any other users who
cannot update system tools and libraries to rebuild Harbour it strongly
reduced portability. I.e. I cannot touch QT in most of my systems because
it's basic KDE library so I cannot upgrade it to 4.5. Such upgrade is in
practice much harder then installing whole system from scratch with the
newest version which have QT4.5 (BTW not all popular distros already
supports it in official releases) and reconfiguring all existing services,
moving data files, etc. So for me number of environment variables is
systematically growing up because I had to exclude different libraries
enabled by automatic autodetection which check only if 3-rd header files
exists but without checking their version and if it's supported.
OK, I can leave with it. In most of cases I fully disable external libs
(HB_EXTERNALLIBS=no) and then only chose few contrib libraries using
HB_CONTRIBLIBS=... so it was not a big problem for me. But now I have
to to upgrade GNU make to version 3.81 in older systems and this is a
problem for me.
Probably I will have to invest some time for very simple alternative
make system which I can use with POSIX shells only and with most of
different *nixes without any limitations. Maybe it will be good to
bind it with automake/autoconf support.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Aug 25 15:52:22 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 25 15:52:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12318] trunk/harbour
In-Reply-To: <20090825184417.GA27820@uran.home.aster.pl>
References: <E1Mfvr8-00057n-Sj@dn4whf1.ch3.sourceforge.com>
	<B30236C8-01A6-4F37-865A-72ABE720DEC8@syenar.hu>
	<20090825151717.GA11436@uran.home.aster.pl>
	<18d502870908250908o4e1694b8yf8fa38e277c9477e@mail.gmail.com>
	<20090825171802.GA10490@uran.home.aster.pl>
	<48B531E4-8E37-402E-A607-9ED32AE992E3@syenar.hu>
	<20090825184417.GA27820@uran.home.aster.pl>
Message-ID: <9DB44D44-31BD-4450-B5C9-788A018F5EB2@syenar.hu>

Hi Przemek,

>>> The only one problem is with libhpdf which is not compiled but I  
>>> had no
>>> time to look for details. I added -k option to make and it  
>>> finished the
>>> process without any other problems.
>> Yes, and that was exactly the reason I added above error message :)
>> For me the green light is on when it can build without -i or -k.
>
> Now we do not have any green light because you forbid anyone using
> such configurations and this is in my opinion unacceptable.
> And in this case the problem is with optional library which need
> external dependencies so even now creates problem in systems where
> it cannot be upgraded.

Would you mind not using these words? "forbid", "explicitly break",
"don't want to allow". This is from you last three e-mails. I find
them outright offensive and even more untrue. Maybe you haven't noticed,
I've been working for the last several weeks/months on making the whole
Harbour build system more portable and to *allow more* combinations
to work with less maintenance (reducing parallel feature  
implementations).
So in fact the truth is the exact opposite you're trying to spit on
my face repeatedly. If that's what your recollection of my work done
here, I'm ready to stop NOW. You perfectly know I'm not even using
most of these platforms, shells and combinations, I'm just doing it for
challenge / fun (not even money before it comes up), whatever, to make
Harbour better at the end. The last thing I expect in return is such
words, which is only good to break down any of my enthusiasm towards
Harbour. God forbid sometimes some positive feedback would also come
good in this regard, but I'm getting used to not even getting a sole
'thank you' after weeks of piling .mk file and whatnot. Maybe what
I've done is pure crap, but I'd like to think it's not, since I
see the benefits. Polite corrections are welcome though.

So pls reconsider my intent before addressing me with such words.

And a few stats, maybe someone is interested, comparing 1.0.1
make system with current one:

1.0.1 Total size of source: 31.7MB, GNU Make files 150KB,
non-portable scripts: 250KB, non-GNU Make system: 171KB.
Total size of make files: 570KB.

2.0.0 current, total size of source: 49.3MB, GNU Make files 207KB,
non-portable scripts: 114KB, non-GNU Make: 0KB, hbmk2: 17KB.
Total size of make files: 338KB.

[ The reduction in _number of files_ is even bigger. ]

It clearly shows a more compact make system overall, with a clear
shift towards portable GNU Make, 1 make system instead of 1 +
several parallel non-portable ones, and much less non-portable
script files with parallel functionality. If you also consider
that Harbour source, number of libs and components have significantly
grown, the size of our make files are even proportionally smaller
than they were. Maybe it's also useful to see that now the
supported build combinations and features are much numerous than
before. Remember that in 1.0.x DOS just build barely started
to work and few real Harbour users could repeat this feat on
their own system.

To me these are great improvements for a project which claims to
have "portable" as one of it's main features.

I find Linux fanboys no better than Windows ones (even though
former usually comes with much higher expertise). Portability
is reached when the project can easily cross platform boundary
without excessive effort from the user side. For this reason
I'm similarly not a huge fan of using vbscript just as automake.
They are just proprietary tools, so they create problems for
portable projects. I know that platform differences can never
be washed away completely, but we shouldn't artificially make
things worse, unless there is a strong reason.

>> libhpdf uses HB_INC_DEPEND var to point to external headers present
>> in embedded libharu dir. This causes a longer than usual cmdline,
>> which can make it break.
>
> Exactly so it will also have problem in pure DOS.

It won't. Read my comments and FAQ links in globsh.mk about dos
shell limits for DJGPP. For watcom it's possible, but we're using
tricks to overcome it, so it has a better threshold here.

>> like moving options to envvar or some disk file. Fact is that
>> djgpp.mk doesn't have proper support for 126 bytes cmdline now.
>
> I do not understand why it's different for you then using pure  
> command.com
> which has the same limitation and why you want to forbid other users  
> to use
> his preferred configuration.

"Forbid". I don't even bother to read. Sorry.

>> BTW a few month ago it worked because we didn't have HB_INC_DEPEND
>> yet then and obj dir level also wasn't present. Both of these added  
>> to
>> the overall cmdline lengths used. This puts a stress on some .mk
>> files we have.
>
> Few days ago I was able to build Harbour using RH7.3 Now I have to  
> make
> manual modifications to make it working. I'm seriously afraid that I  
> will
> end with my own local Harbour configuration when we will have final  
> GNU
> make build system. At least I have to move to such configuration now.

This list is here to report such problems. Probably
there is solution for these ones, but without seeing them,
it quite difficult to fix them. The goal is to have it working.
Probably a surprise to hear, but true.

> Maybe new GNU make it's internally simpler - here I have doubts  
> because
> for me scripts are much easier to update then make files.

.sh scripts are non-portable unfortunately.

So if you're adding a .sh solution to address gcc only,
it may be useful, but will only cover a portion of our
complete tool matrix.

> For sure many things are much easier for Windows users which have to  
> set
> less startup environment variables. But for me and any other users who
> cannot update system tools and libraries to rebuild Harbour it  
> strongly
> reduced portability. I.e. I cannot touch QT in most of my systems  
> because
> it's basic KDE library so I cannot upgrade it to 4.5. Such upgrade  
> is in
> practice much harder then installing whole system from scratch with  
> the
> newest version which have QT4.5 (BTW not all popular distros already
> supports it in official releases) and reconfiguring all existing  
> services,
> moving data files, etc. So for me number of environment variables is
> systematically growing up because I had to exclude different libraries
> enabled by automatic autodetection which check only if 3-rd header  
> files
> exists but without checking their version and if it's supported.

I don't understand this. What is the actual problem we may be
able to solve in Harbour, or which I've "explicitly broken" lately?

[ we've decided to use QT 4.5 as a minimum because of licensing
reasons, I'm not sure Harbour can do much to push distros to include
it. No one complained when this decision was made, 4.5 release was
actually the starting point for the whole QT related development. ]

Your statement about "much easier for Windows users" is completely
misleading. While true, I'm also using Linux and Mac OS X and for me
using both of these is much simpler because I don't even have to
config everything every time and bother with launching scripts. In
fact huge part of the work was done to level features on *nix systems
and *nix shells.

Simple 'make' is just better and more standard than a multitude of
'./make_gnu_whatever.sh' scripts. And again former is portable,
latter isn't.

Trying to assemble a consistent INSTALL docs was a great experience
to see things from much more angle than just Linux or Windows.
Before these changes the methods used on different platforms were
so different, that it could be barely documented in a consistent
way.

I think everyone (including you) should understand that even if
Linux, Darwin, *nix are superior in many ways than Windows, plus
the whole free movement and all that vs evil Microsoft (which I
believe they are, although more and more weightless), both are
just platforms, and we must also support Windows. Windows is
crap but has many users. Harbour decided to deal with both worlds,
so we should act accordingly, even when it comes to support
systems like 'make'. You seem to prefer Linux and know it better,
for me they are equal, and happen to know Windows better (but
shifting away). It's personal thing though, since Harbour should
be multiplatform.

> OK, I can leave with it. In most of cases I fully disable external  
> libs
> (HB_EXTERNALLIBS=no) and then only chose few contrib libraries using
> HB_CONTRIBLIBS=... so it was not a big problem for me. But now I have
> to to upgrade GNU make to version 3.81 in older systems and this is a
> problem for me.

I've been posing this question a few times, left it pending for
days/weeks, got no answer, no fixes, made the step. BTW, I still
haven't started to exploit 3.81 syntax. Also notice that our .mk
files were broken on 3.80 even caused by some of your modifications,
and no one bothered to fix them, or offer solution or alternative.

AFAICS GNU Make is a much more portable tool than Harbour, so we're
safe to rely on it on all platforms we support. Could be that this
will need a make build from source on some rare/old/theoretical
systems, but it's still better to expect some extra work on these
systems (from presumably much more expert users) than requiring
extra work for 9x% users of Harbour and all developers.

> Probably I will have to invest some time for very simple alternative
> make system which I can use with POSIX shells only and with most of
> different *nixes without any limitations. Maybe it will be good to
> bind it with automake/autoconf support.

Saddest news I heard since long. Alternative make system?
I've been working for 1 year to get to only one make system,
and now you want to reintroduce a second one, and you can't
even tell why. I think I have to quite this project, probably
everyone will benefit.

Before I do, I'd like to ask you what is currently missing
from GNU make for you or *nix users. And also kindly ask
not to add another "POSIX" make system, mainly because "POSIX"
isn't portable on all platforms we aim to support. Next time
we will readd .bat files (well .bats for nt, .bats for Win9x,
.bats for dos and .cmds for OS/2) to build Harbour. Would be
quite bad.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 25 16:16:17 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 25 16:16:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12318] trunk/harbour
In-Reply-To: <20090825184417.GA27820@uran.home.aster.pl>
References: <E1Mfvr8-00057n-Sj@dn4whf1.ch3.sourceforge.com>
	<B30236C8-01A6-4F37-865A-72ABE720DEC8@syenar.hu>
	<20090825151717.GA11436@uran.home.aster.pl>
	<18d502870908250908o4e1694b8yf8fa38e277c9477e@mail.gmail.com>
	<20090825171802.GA10490@uran.home.aster.pl>
	<48B531E4-8E37-402E-A607-9ED32AE992E3@syenar.hu>
	<20090825184417.GA27820@uran.home.aster.pl>
Message-ID: <DEF128D1-F9A3-4755-9B59-85B0C21924E3@syenar.hu>

>> Yes, and that was exactly the reason I added above error message :)
>> For me the green light is on when it can build without -i or -k.
>
> Now we do not have any green light because you forbid anyone using
> such configurations and this is in my opinion unacceptable.
> And in this case the problem is with optional library which need
> external dependencies so even now creates problem in systems where
> it cannot be upgraded.

If someone wants to upgrade it:
export|set HB_INC_LIBHARU=<path_to_headers>

On *nix os, system version gets picked automatically
if installed (and if not overridden by above).

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Aug 25 17:13:12 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 25 17:13:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12318] trunk/harbour
In-Reply-To: <9DB44D44-31BD-4450-B5C9-788A018F5EB2@syenar.hu>
References: <E1Mfvr8-00057n-Sj@dn4whf1.ch3.sourceforge.com>
	<B30236C8-01A6-4F37-865A-72ABE720DEC8@syenar.hu>
	<20090825151717.GA11436@uran.home.aster.pl>
	<18d502870908250908o4e1694b8yf8fa38e277c9477e@mail.gmail.com>
	<20090825171802.GA10490@uran.home.aster.pl>
	<48B531E4-8E37-402E-A607-9ED32AE992E3@syenar.hu>
	<20090825184417.GA27820@uran.home.aster.pl>
	<9DB44D44-31BD-4450-B5C9-788A018F5EB2@syenar.hu>
Message-ID: <20090825211312.GA1248@uran.home.aster.pl>

On Tue, 25 Aug 2009, Szak?ts Viktor wrote:
> Would you mind not using these words? "forbid", "explicitly break",
> "don't want to allow". This is from you last three e-mails. I find
[...]

I have in mind exactly what I wrote and I do not plan to discuss
about it because it perfectly describes what you made:

,------------------------------------------------------------------------
| ifeq ($(HB_HOST_PLAT),win)
|    ifneq ($(HB_MAKE_PLAT),dos)
|       $(error ! Error: You must use DJGPP provided GNU Make on Windows hosts)
|    endif
| endif
`------------------------------------------------------------------------

For me this subject is closed.

I only want to ask you about two things in the future modifications so I will
not have to make manual modifications after each svn update. Keep at least
optional support for postinst.sh and hb* scripts. If you want you can disable
it from default builds. I only want to have an option to enable them without
modifying the code, i.e. using some envvars. If I will need sth else then
I'll ask.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Aug 25 17:18:17 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Aug 25 17:18:23 2009
Subject: [Harbour] workarea type int vs USHORT
In-Reply-To: <ABC0AC79-C4C8-4A33-AA1B-1BD0F2B7E879@syenar.hu>
References: <ABC0AC79-C4C8-4A33-AA1B-1BD0F2B7E879@syenar.hu>
Message-ID: <20090825211817.GB1248@uran.home.aster.pl>

On Tue, 25 Aug 2009, Szak?ts Viktor wrote:

Hi Viktor,

> I see some places use an 'int' for workarea number, while
> some others use USHORT.
> Wouldn't it be a good time to change internal workarea
> type also to int?
> It would also help on a great portion of warnings.
> I can help in the process.

It will also change memory alignment in some structures which
seems to have optimal alignment now so it should not be done
as separate modification.
In summary if we accept that we increase memory usage by ~25%
by Harbour applications then we can try to prepare list of such
modifications. It should also increase the speed on non x86
machines though probably with some small overhead for x86 code.
But there is also problem with Clipper compatibility. Such
modification increase differences between Harbour and Clipper
RDD header files so it's harder to port the code or use the
same code for Harbour and Clipper.
Please also remember that we have to look for whole code and
remove casting added in the past to pacify warnings. BTW it's
the reason why I do not like that such warnings are enabled in
MSVC builds because they forces casting and later any code
modifications are harder because casting have to be modified
or removed but this time we do not have any warnings to help
in such process when type is extended.

For me much more important is other problem in RDD code
and this is real problem not sth to pacify warnings.
Now it's possible that user code evaluated by RDD closes
workarea which is in used and then such workarea is accessed
by dummy pointer and we have GPF trap. You even exploited it
in the past by dbCloseAll() in EXIT PROCEDURE which was activated
RT error generated inside RDD code.
We can try to resolve this problem but we will have to redefine
RDD API usage and introduce workarea allocation/freeing. It means
that we will have to update whole RDD code to respect it and such
modification will have to be done also by developers of 3-rd party
RDD code. In practice it fully breaks backward compatibility but
allows to introduce automatic workarea destructors what nicely
resolves the problem. But I'm still not sure we should make it.
For sure it cannot be done as two-three months modifications committed
in small peaces as in build system. It has to be done locally well
tested and then send to SVN if possible in single commit. Next only
bug fixes if sth wrong will happen.

best regards,
Przemek
From Istvan.Bisz at t-online.hu  Tue Aug 25 17:32:24 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Tue Aug 25 17:32:44 2009
Subject: [Harbour] My tests with Qt 4.5.2 and Fedora 11
In-Reply-To: <B9C23AA7-23ED-4158-A5EF-42B9ACC93A1F@syenar.hu>
References: <005801ca25af$6b751460$425f3d20$@Bisz@t-online.hu>
	<B9C23AA7-23ED-4158-A5EF-42B9ACC93A1F@syenar.hu>
Message-ID: <000a01ca25cb$8993e400$9cbbac00$@Bisz@t-online.hu>

Hi Viktor,

After your commit the demoxbp starts running, thank you. Maybe the attached
output produced by the demoxbp can help for further debugging.

Best regards,
Istv?n Bisz

-----Original Message-----
From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
Sent: 2009. augusztus 25. 20:17
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] My tests with Qt 4.5.2 and Fedora 11

Thank you for the backtrace.

It's clearly my patch with had a mistake. I'll commit the fix ASAP.

Brgds,
Viktor

On 2009.08.25., at 8:11, Bisz Istv?n wrote:

> Hi,
>
> My demoqt and demoxbp tests on Fedora 11 shows similar results with  
> Marcos results (demoqt runs; demoxbp crashes), see attachments  
> containing the demoxbp crash.
>
> The crash as I see appears in hb_itemRelease () with error message:  
> *** glibc detected *** /home/Istvan/Download/harbour/contrib/hbxbp/ 
> tests/demoxbp: free(): invalid pointer: 0x00c4b29c ***
> called from HbDbfModel::rowCount(QModelIndex const&) const ()
>
> Best regards,
> Istv?n Bisz
>
>
> <bugreport.txt><output.txt>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour


-------------- next part --------------
[Istvan@localhost tests]$ hbmk2 demoxbp
hbmk2: Processing local make script: hbmk.hbm                                  
hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg                       
Harbour 2.0.0beta2 (Rev. 12324)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'demoxbp.prg'...
Lines 3323, Functions/Procedures 48
Generating C source output to 'demoxbp.c'... Done.
[Istvan@localhost tests]$ ./demoxbp
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
Unknown property focus-background-color
QFont::setPointSize: Point size <= 0 (0), must be greater than 0
[Istvan@localhost tests]$
From vouchcac at users.sourceforge.net  Tue Aug 25 17:41:14 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Aug 25 17:41:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12325] trunk/harbour
Message-ID: <E1Mg3lS-0004nG-PS@dn4whf1.ch3.sourceforge.com>

Revision: 12325
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12325&view=rev
Author:   vouchcac
Date:     2009-08-25 21:41:13 +0000 (Tue, 25 Aug 2009)

Log Message:
-----------
2009-08-25 14:37 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/tests/demoxbp.prg
    ! Fixed one warning which is discovered by Istv?\195?\161n Bisz.
      I was experimenting with other style sheet options.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Tue Aug 25 17:44:12 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Aug 25 17:44:17 2009
Subject: [Harbour] My tests with Qt 4.5.2 and Fedora 11
In-Reply-To: <000a01ca25cb$8993e400$9cbbac00$@Bisz@t-online.hu>
References: <005801ca25af$6b751460$425f3d20$@Bisz@t-online.hu>
	<B9C23AA7-23ED-4158-A5EF-42B9ACC93A1F@syenar.hu>
	<000a01ca25cb$8993e400$9cbbac00$@Bisz@t-online.hu>
Message-ID: <25142683.post@talk.nabble.com>


Hi


Bisz Istv?n wrote:
> 
> Unknown property focus-background-color
> 

Can you check after :

Revision: 12325 
         
http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12325&view=rev
Author:   vouchcac 
Date:     2009-08-25 21:41:13 +0000 (Tue, 25 Aug 2009) 



> QFont::setPointSize: Point size <= 0 (0), must be greater than 0
> [Istvan@localhost tests]$
> 

I am looking into this.
Thanks for pointing out abnormalities.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/My-tests-with-Qt-4.5.2-and-Fedora-11-tp25139484p25142683.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Aug 25 17:53:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 25 17:53:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12318] trunk/harbour
In-Reply-To: <20090825211312.GA1248@uran.home.aster.pl>
References: <E1Mfvr8-00057n-Sj@dn4whf1.ch3.sourceforge.com>
	<B30236C8-01A6-4F37-865A-72ABE720DEC8@syenar.hu>
	<20090825151717.GA11436@uran.home.aster.pl>
	<18d502870908250908o4e1694b8yf8fa38e277c9477e@mail.gmail.com>
	<20090825171802.GA10490@uran.home.aster.pl>
	<48B531E4-8E37-402E-A607-9ED32AE992E3@syenar.hu>
	<20090825184417.GA27820@uran.home.aster.pl>
	<9DB44D44-31BD-4450-B5C9-788A018F5EB2@syenar.hu>
	<20090825211312.GA1248@uran.home.aster.pl>
Message-ID: <5F5B2CA8-FDD5-4DAC-88EF-DB5F124E84A3@syenar.hu>

> On Tue, 25 Aug 2009, Szak?ts Viktor wrote:
>> Would you mind not using these words? "forbid", "explicitly break",
>> "don't want to allow". This is from you last three e-mails. I find
> [...]
>
> I have in mind exactly what I wrote and I do not plan to discuss
> about it because it perfectly describes what you made:
>
> ,------------------------------------------------------------------------
> | ifeq ($(HB_HOST_PLAT),win)
> |    ifneq ($(HB_MAKE_PLAT),dos)
> |       $(error ! Error: You must use DJGPP provided GNU Make on  
> Windows hosts)
> |    endif
> | endif
> ` 
> ------------------------------------------------------------------------
>
> For me this subject is closed.

If 3-5 lines of code you don't seem to like can nil hundred man-hours
of hard work and dedication and justify for you to keep offending fellow
developers, I suggest you look into these matters in a little more
far sighted way and much more respect.

Go and delete it if you're so offended by these and it's the topmost
pending issue for at the moment. BTW, if this is the only problem you
could find with all this rework, it may even be flattering in a sort
of weird way. But it's hugely disturbing and unwelcome not just on
this list but in any productive environment.

BTW, you seem to like proper fixes. Removing these few lines isn't one.
djgpp.mk should be fixed to work under discussed conditions. Now this
would be a real addition.

Probably I'd had done it myself, given a non-offending approach.

Subject closed from my side also.

> I only want to ask you about two things in the future modifications  
> so I will
> not have to make manual modifications after each svn update. Keep at  
> least
> optional support for postinst.sh and hb* scripts. If you want you  
> can disable
> it from default builds. I only want to have an option to enable them  
> without
> modifying the code, i.e. using some envvars. If I will need sth else  
> then
> I'll ask.

I don't plan to remove them. They'll stay because not everything
can be solved inside GNU Make, so such hook stays to be useful.
I've written at least two times recently that dynlib links should
be made in this phase. So the TODO in question won't be done as is.
My only goal is to move as much stuff from postinst level to GNU
Make level as possible and move as much preinst stuff to postinst
level as possible (pkg creation). This latter I don't how can be
done. Also would be great to somehow do away with OS/2 .cmd, but
maybe I'll just delete content.

What needs to be fixed though is dynamic lib creation. Now it's
redundant in postinst.

I'm not sure which hb* scripts do you mean. If dynamic libs
are no more generated @ postinst phase, hb-mkdyn.sh's really
falls out of the scope of Harbour (it's a generic script),
probably it should be integrated into hbmk script or hbmk2.

If you mean old hbmk script, I strongly suggest we discuss this
in more detail. hbmk2 is still no good? If not, why? I was
prepared for a huge amount of resistance when it comes to these
scripts, but now I simple cannot see any real reasons to keep
them, can be that I'm missing something. I've spent weeks to
implement hbmk script compatibility features (I never needed),
it would be a shame if this turns out to be a waste of time.
My goal was to replace hbmk, not to add yet another tool. Lots
of effort were made, and I'm ready to make some more to achieve
this, but I must know what's missing.

In my view 'hbmk2 -inc' is much superior than using GNU Make
+ hbcc, hbcmp, hblnk mashup, at least for 995 users out of 1000
out there.

Awaiting your comments.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 25 17:53:54 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 25 17:54:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12318] trunk/harbour
In-Reply-To: <48B531E4-8E37-402E-A607-9ED32AE992E3@syenar.hu>
References: <E1Mfvr8-00057n-Sj@dn4whf1.ch3.sourceforge.com>
	<B30236C8-01A6-4F37-865A-72ABE720DEC8@syenar.hu>
	<20090825151717.GA11436@uran.home.aster.pl>
	<18d502870908250908o4e1694b8yf8fa38e277c9477e@mail.gmail.com>
	<20090825171802.GA10490@uran.home.aster.pl>
	<48B531E4-8E37-402E-A607-9ED32AE992E3@syenar.hu>
Message-ID: <A37DB71C-72E5-44BB-8DA3-CEEF2BA2A6B1@syenar.hu>

>> In summary the problem you had seems to be local to your system
>> configuration only. Maybe you are using some mixed GNU tools compiled
>> for different environment? It's hard to guess for me.
>
> I'll make a few more rounds, but honestly I have not much
> idea where to look at ATM.
>
> If I empty the PATH (and BTW by full env besides NT system vars),
> what else can mess it up...? Hm, we will see sooner or later.

SHELL is set to C:\WINDOWS\SYSTEM32\command.com when launching
DJGPP make.exe from inside msys or DJGPP sh.

SHELL will only be set to ../sh.exe in the first make recursion.

If I set SHELL manually to sh.exe inside global.mk, the process
works (until known build errors that is).

So this seems to be a shell/make platform autodetection issue.

I don't feel like fixing this right now. I hope someone else
will do it, or maybe I'll make it later.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Aug 25 18:22:35 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 25 18:22:43 2009
Subject: [Harbour] workarea type int vs USHORT
In-Reply-To: <20090825211817.GB1248@uran.home.aster.pl>
References: <ABC0AC79-C4C8-4A33-AA1B-1BD0F2B7E879@syenar.hu>
	<20090825211817.GB1248@uran.home.aster.pl>
Message-ID: <D510F11E-BB21-4A43-BCD8-7D0CBFD96610@syenar.hu>

Hi Przemek,

>> I see some places use an 'int' for workarea number, while
>> some others use USHORT.
>> Wouldn't it be a good time to change internal workarea
>> type also to int?
>> It would also help on a great portion of warnings.
>> I can help in the process.
>
> It will also change memory alignment in some structures which
> seems to have optimal alignment now so it should not be done
> as separate modification.
> In summary if we accept that we increase memory usage by ~25%
> by Harbour applications then we can try to prepare list of such
> modifications. It should also increase the speed on non x86
> machines though probably with some small overhead for x86 code.

Well I'm not sure this sounds like a reasonable price
to pay to doing away with some warnings. To me it certainly
doesn't.

> But there is also problem with Clipper compatibility. Such
> modification increase differences between Harbour and Clipper
> RDD header files so it's harder to port the code or use the
> same code for Harbour and Clipper.
> Please also remember that we have to look for whole code and
> remove casting added in the past to pacify warnings. BTW it's
> the reason why I do not like that such warnings are enabled in
> MSVC builds because they forces casting and later any code
> modifications are harder because casting have to be modified
> or removed but this time we do not have any warnings to help
> in such process when type is extended.

I can understand this, but the question is for how long
do we want to use inconsistent types in our codebase
without settling it as "final"? Or if it's final, why not
settle these thing in a proper way. There probably is one.
I'm no fan of casting anything which suppresses useful
information, but I assume if we choose USHORT for internal
representation but publish ints in APIs, we must take
the burden of handling the difference in our code in some
ways. In such case it probably helps to introduce some
abstract types (in place of USHORT) to make spotting the
castings in code much easier (grep -R "( HBMYTYPE )").
Or to use some macros to guide us in the future.

For the passers by current situation may look like we're
waiting for something and internals are in a temporary
state to be fixed or waiting for further tweaks. Which
isn't true.

It's not just about MSVC; any other compiler may show these
(like icc), or any interested user may stress Harbour code
with local warnings settings and even go and try to "fix" them,
regardless of what we set as default for one specific compiler.

BTW, I'm not highly bothered by these warnings, especially
since I know the code is okay. The only downsides are that
it's more difficult to find real warnings amongst such
build log and someone may go and fix them wrongly. For
latter reason maybe it's better if you fix them in a way
which won't make future updates a bigger pain. Hm, like a
macro?

> For me much more important is other problem in RDD code
> and this is real problem not sth to pacify warnings.
> Now it's possible that user code evaluated by RDD closes
> workarea which is in used and then such workarea is accessed
> by dummy pointer and we have GPF trap. You even exploited it
> in the past by dbCloseAll() in EXIT PROCEDURE which was activated
> RT error generated inside RDD code.

Sure, I remember. Indeed more important, although it's
independent from above matter.

> We can try to resolve this problem but we will have to redefine
> RDD API usage and introduce workarea allocation/freeing. It means
> that we will have to update whole RDD code to respect it and such
> modification will have to be done also by developers of 3-rd party
> RDD code. In practice it fully breaks backward compatibility but
> allows to introduce automatic workarea destructors what nicely
> resolves the problem. But I'm still not sure we should make it.
> For sure it cannot be done as two-three months modifications committed
> in small peaces as in build system. It has to be done locally well
> tested and then send to SVN if possible in single commit. Next only
> bug fixes if sth wrong will happen.

I agree. As for the timing, we've already did this with GTs,
so to me it looks like a good time for the RDDs, too.

To me another real PITA is string/array size using ULONG.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Tue Aug 25 18:29:49 2009
From: Istvan.Bisz at t-online.hu (=?UTF-8?Q?Bisz_Istv=C3=A1n?=)
Date: Tue Aug 25 18:30:10 2009
Subject: [Harbour] My tests with Qt 4.5.2 and Fedora 11
In-Reply-To: <25142683.post@talk.nabble.com>
References: <005801ca25af$6b751460$425f3d20$@Bisz@t-online.hu>	<B9C23AA7-23ED-4158-A5EF-42B9ACC93A1F@syenar.hu>	<000a01ca25cb$8993e400$9cbbac00$@Bisz@t-online.hu>
	<25142683.post@talk.nabble.com>
Message-ID: <000901ca25d3$8ec82910$ac587b30$@Bisz@t-online.hu>

Hi Pritpal,

The 'Unknown property focus-background-color' disappeared, thank you.  
The ' QFont::setPointSize: Point size <= 0 (0), must be greater than 0' appears when the Font Dialog is selected.

Best regards,
Istv?n Bisz

-----Original Message-----
From: Pritpal Bedi [mailto:bedipritpal@hotmail.com] 
Sent: 2009. augusztus 25. 23:44
To: harbour@harbour-project.org
Subject: RE: [Harbour] My tests with Qt 4.5.2 and Fedora 11


Hi


Bisz Istv?n wrote:
> 
> Unknown property focus-background-color
> 

Can you check after :

Revision: 12325 
         
http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12325&view=rev
Author:   vouchcac 
Date:     2009-08-25 21:41:13 +0000 (Tue, 25 Aug 2009) 



> QFont::setPointSize: Point size <= 0 (0), must be greater than 0
> [Istvan@localhost tests]$
> 

I am looking into this.
Thanks for pointing out abnormalities.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/My-tests-with-Qt-4.5.2-and-Fedora-11-tp25139484p25142683.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.



From bedipritpal at hotmail.com  Tue Aug 25 18:35:17 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Aug 25 18:35:23 2009
Subject: [Harbour] My tests with Qt 4.5.2 and Fedora 11
In-Reply-To: <000901ca25d3$8ec82910$ac587b30$@Bisz@t-online.hu>
References: <005801ca25af$6b751460$425f3d20$@Bisz@t-online.hu>
	<B9C23AA7-23ED-4158-A5EF-42B9ACC93A1F@syenar.hu>
	<000a01ca25cb$8993e400$9cbbac00$@Bisz@t-online.hu>
	<25142683.post@talk.nabble.com>
	<000901ca25d3$8ec82910$ac587b30$@Bisz@t-online.hu>
Message-ID: <25143429.post@talk.nabble.com>


Hi


Bisz Istv?n wrote:
> 
> The ' QFont::setPointSize: Point size <= 0 (0), must be greater than 0'
> appears when the Font Dialog is selected.
> 

This is a real clue. I will look into this evening.

Can you debug one more catch:

1) Open task-manager like utility 
2) Run demoxbp
3) Scroll-up-down continuously in XbpBrowse()
4) Keep a watch onto memory usage of demoxbp.exe

In my experiments on XP I have found that it always go on increasing.

Any suggestions are welcome which may lead to the clue where 
memory leak is happening.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/My-tests-with-Qt-4.5.2-and-Fedora-11-tp25139484p25143429.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vouchcac at users.sourceforge.net  Tue Aug 25 18:50:46 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Aug 25 18:50:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12326] trunk/harbour
Message-ID: <E1Mg4qk-0005bB-Vn@c3vjzd1.ch3.sourceforge.com>

Revision: 12326
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12326&view=rev
Author:   vouchcac
Date:     2009-08-25 22:50:46 +0000 (Tue, 25 Aug 2009)

Log Message:
-----------
2009-08-25 15:48 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpfontdialog.prg
    ! Fixed warning about oFont:setPointSize() which cannot be less than 0.
      Discovered by Istv?\195?\161n Bisz.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbpfontdialog.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Aug 25 18:54:42 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 25 18:54:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12326] trunk/harbour
In-Reply-To: <E1Mg4qk-0005bB-Vn@c3vjzd1.ch3.sourceforge.com>
References: <E1Mg4qk-0005bB-Vn@c3vjzd1.ch3.sourceforge.com>
Message-ID: <16C43B58-495B-4631-AEAE-4CBC603C3E43@syenar.hu>

Hi Pritpal,

Please avoid using accented chars in ChangeLog (and any files in SVN),
as they will cause problems seen last year.

Unfortunately this rule should also be held for names, but what
can we do.

Brgds,
Viktor

On 2009.08.26., at 0:50, vouchcac@users.sourceforge.net wrote:

> Revision: 12326
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12326&view=rev
> Author:   vouchcac
> Date:     2009-08-25 22:50:46 +0000 (Tue, 25 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-25 15:48 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbxbp/xbpfontdialog.prg
>    ! Fixed warning about oFont:setPointSize() which cannot be less  
> than 0.
>      Discovered by Istv?\195?\161n Bisz.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbxbp/xbpfontdialog.prg
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Aug 25 18:55:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Aug 25 18:55:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12318] trunk/harbour
In-Reply-To: <A37DB71C-72E5-44BB-8DA3-CEEF2BA2A6B1@syenar.hu>
References: <E1Mfvr8-00057n-Sj@dn4whf1.ch3.sourceforge.com>
	<B30236C8-01A6-4F37-865A-72ABE720DEC8@syenar.hu>
	<20090825151717.GA11436@uran.home.aster.pl>
	<18d502870908250908o4e1694b8yf8fa38e277c9477e@mail.gmail.com>
	<20090825171802.GA10490@uran.home.aster.pl>
	<48B531E4-8E37-402E-A607-9ED32AE992E3@syenar.hu>
	<A37DB71C-72E5-44BB-8DA3-CEEF2BA2A6B1@syenar.hu>
Message-ID: <C3D8B4E3-8783-4F2E-87E2-9349C7D3A592@syenar.hu>

On 2009.08.25., at 11:53, Viktor Szak?ts wrote:

>>> In summary the problem you had seems to be local to your system
>>> configuration only. Maybe you are using some mixed GNU tools  
>>> compiled
>>> for different environment? It's hard to guess for me.
>>
>> I'll make a few more rounds, but honestly I have not much
>> idea where to look at ATM.
>>
>> If I empty the PATH (and BTW by full env besides NT system vars),
>> what else can mess it up...? Hm, we will see sooner or later.
>
> SHELL is set to C:\WINDOWS\SYSTEM32\command.com when launching
> DJGPP make.exe from inside msys or DJGPP sh.
>
> SHELL will only be set to ../sh.exe in the first make recursion.
>
> If I set SHELL manually to sh.exe inside global.mk, the process
> works (until known build errors that is).
>
> So this seems to be a shell/make platform autodetection issue.

Setting SHELL := /bin/sh after both HB_SHELL := sh lines seems
to fix the problem and according to gmake docs, this should work
on all platforms. Would it?

Brgds,
Viktor

From druzus at users.sourceforge.net  Tue Aug 25 20:35:00 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Aug 25 20:35:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12327] trunk/harbour
Message-ID: <E1Mg6Tc-0004hp-0v@3kljzd1.ch3.sourceforge.com>

Revision: 12327
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12327&view=rev
Author:   druzus
Date:     2009-08-26 00:34:58 +0000 (Wed, 26 Aug 2009)

Log Message:
-----------
2009-08-26 02:34 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapifs.h
  * harbour/source/rtl/filebuf.c
    + added hb_fileExists() and hb_fileDelete() functions
    + added support for alternative file IO API used in RDD code which
      can be implemented by 3-rd party developers and registered using
      hb_fileRegister() function.

  * harbour/source/rdd/dbf1.c
  * harbour/source/rdd/dbffpt/dbffpt1.c
  * harbour/source/rdd/dbfntx/dbfntx1.c
  * harbour/source/rdd/dbfnsx/dbfnsx1.c
  * harbour/source/rdd/dbfcdx/dbfcdx1.c
    * use hb_fileExist() and hb_fileDelete() functions for files accessed
      by hb_file*() API

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapifs.h
    trunk/harbour/source/rdd/dbf1.c
    trunk/harbour/source/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/source/rdd/dbffpt/dbffpt1.c
    trunk/harbour/source/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/source/rdd/dbfntx/dbfntx1.c
    trunk/harbour/source/rtl/filebuf.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From marcosgambeta at uol.com.br  Tue Aug 25 21:30:54 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Tue Aug 25 21:31:01 2009
Subject: [Harbour] My tests with Qt 4.5.2 and MSVC 2008 (Express Edition)
In-Reply-To: <4A93FB27.7070408@uol.com.br>
References: <4A93FB27.7070408@uol.com.br>
Message-ID: <4A94904E.3080505@uol.com.br>

Marcos Gambeta escreveu:
> 
> demoxbp.exe (don't work - stop with a runtime error)
> http://www.4shared.com/file/127607906/e920c8be/demoxbp.html
> 

After last changes, demoxbp.exe is working now.

http://www.4shared.com/file/127745326/42549204/demoxbp2.html


Regards,
Marcos Gambeta

From francek.prijatelj at siol.net  Tue Aug 25 23:14:06 2009
From: francek.prijatelj at siol.net (=?windows-1250?Q?FRAN=C8EK_PRIJATELJ?=)
Date: Tue Aug 25 23:14:13 2009
Subject: [Harbour] Binding generator for Qt
Message-ID: <4A94A87E.4060406@siol.net>

An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090826/2abf3db5/attachment.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: francek_prijatelj.vcf
Type: text/x-vcard
Size: 182 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090826/2abf3db5/francek_prijatelj.vcf
From bedipritpal at hotmail.com  Tue Aug 25 23:38:00 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Aug 25 23:38:05 2009
Subject: [Harbour] Binding generator for Qt
In-Reply-To: <4A94A87E.4060406@siol.net>
References: <4A94A87E.4060406@siol.net>
Message-ID: <25146030.post@talk.nabble.com>


Hi


Fran?ek Prijatelj wrote:
> 
> Nokia just announced a new open source software project providing Python
> bindings for the Qt framework.
> http://www.pyside.org /
> They are using  Binding Generator 
> http://www.pyside.org/home-binding/binding-generator/  ,
> which is using API Extractor 
> http://www.pyside.org/home-binding/api-extractor/ .
> 

I have gone through these pages quickly and have found,
at a first glance, Harbour-Qt source generation is very simple and 
very fast without the need of writing any XML backend. Infact,
Marcos was employing the similar technique before.

Though I have not dwelled deep into it.
It may be worth if someone comes out with enhanced usage 
of above famework for the benefit of Harbour.

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Binding-generator-for-Qt-tp25145870p25146030.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From kadziola at tlen.pl  Wed Aug 26 01:28:36 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Wed Aug 26 01:28:43 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <20090824181300.GA14328@uran.home.aster.pl>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
	<14464984.20090821152825@tlen.pl>
	<20090821134502.GA1678@uran.home.aster.pl>
	<11010132970.20090822184639@tlen.pl>
	<20090824181300.GA14328@uran.home.aster.pl>
Message-ID: <100391600.20090826072836@tlen.pl>

Hi,

W li?cie datowanym 24 sierpnia 2009 (20:13:00) mo?na przeczyta?:

PC> [sobota, 22 sierpie? 2009], Jaros?aw K?dzio?a napisa3(a):

PC> Hi,

>> I've use modificated wcecon.prg from harbour/tests :
>> +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
>> #include "hbgtinfo.ch"
>> proc main()
>>    altd()
>>    REQUEST HB_CODEPAGE_PL852
>>    cls

PC> remove it, it will only force unnecessary console creation which
PC> will be overwritten in a while.

Without 'cls' i get very little window in the middle of screen
(see:  http://picasaweb.google.pl/jarek.kadziola/WCEHarbour#5374138184983947474 )

>>    hb_setCodePage( "PL852" )
>>    hb_setTermCP( "PL852" )   
>>    hb_gtInfo( HB_GTI_RESIZEMODE, HB_GTI_RESIZEMODE_ROWS )
>>    SetMode(40,25)

PC> Maybe try to set sth smaller, i.e.
PC>      SetMode(32,16)

Do nothing


PC> So probably default font "Courier New" exists only in given size
PC> try to use different font, i.e. "system", "times", "arial", ...
PC> Check which fonts you have installed.
PC> It's also possible that the size is not accepted without given width
PC> so you can try to change both, i.e.
PC>       hb_gtInfo( HB_GTI_FONTWIDTH, i / 2 )
PC>       hb_gtInfo( HB_GTI_FONTSIZE, i )
PC> AFAIR in Windows CP also reduce font selection and has very high
PC> priority. By default it OEM_CHARSET=255, you can try to change it
PC> to DEFAULT_CHARSET=1 or ANSI_CHARSET=0 before you try to select font,
PC> i.e.:
PC>       hb_gtInfo( HB_GTI_CODEPAGE, 1 )
PC> or:
PC>       hb_gtInfo( HB_GTI_CODEPAGE, 0 )


I've tried this code :

-------------------------------------------------------------
Proc main()
   Cls
   
   hb_gtInfo( HB_GTI_RESIZEMODE, HB_GTI_RESIZEMODE_ROWS )
   hb_gtInfo( HB_GTI_CODEPAGE, 0 )
   SetBlink(.F.)
   Set Color To 'N/W*'
   SetMode(40,25)
   hb_gtInfo( HB_GTI_FONTNAME, 'Tahoma' )
   SetCursor(1)
   SetCursor(0)
   For  i = 2 To 36 Step 2
     hb_gtInfo( HB_GTI_FONTWIDTH, i / 2 )
     hb_gtInfo( HB_GTI_FONTSIZE, i )    
     ?'Tahoma'
     ?'Width : ' + Str(i/2)
     ?'Size  : ' + Str(i)
     ?"1.abcdef" 
     ?"2.ABCDEF"     
     ?"3.abcdefgijklmn" 
     ?"4.ABCDEFGIJKLMN"     
     ?"5.abcdefgh" 
     ?"6.ABCDEFGH"
     inkey( 0 )
    clear
   Next 
  
  hb_gtInfo( HB_GTI_FONTNAME, 'Courier New' )
  For  i = 2 To 36 Step 2
     hb_gtInfo( HB_GTI_FONTWIDTH, i / 2 )
     hb_gtInfo( HB_GTI_FONTSIZE, i )    
     ?'Courier New'
     ?'Width : ' + Str(i/2)
     ?'Size  : ' + Str(i)
     ?"1.abcdef" 
     ?"2.ABCDEF"     
     ?"3.abcdefgijklmn" 
     ?"4.ABCDEFGIJKLMN"     
     ?"5.abcdefgh" 
     ?"6.ABCDEFGH"
     inkey( 0 )
    clear
   Next 
Quit

---------------------------------------------

See : http://picasaweb.google.pl/jarek.kadziola/WCEHarbour#5374138190588280050
(size : 4 , width : 2)
and then : http://picasaweb.google.pl/jarek.kadziola/WCEHarbour#5374138186915078306
size : 36, width : 18). The same picture, no difference.
The same picture for each 'i' variable.

The same results for 'Courier New' and 'Tahoma' fonts - two fonts on
my handheld.

>> 2.App's window is not on 'full screen'

PC> It does not have to. It depends on font high/width and number of
PC> rows and cols.

Not possible to move window 'wcecon' above top windows' beam.
Window comes back to primary position.


>> 4.In string "Test : abcdefgh ABCDEFGH" char 'H' is cut

PC> Probably console window is bigger then your screen.

See : http://picasaweb.google.pl/jarek.kadziola/WCEHarbour#5374138186497933314
when i'm "taking" window for top beam and
little move from right to left (refresh ??) then char 'H' is good


-- 
Regards,
 Jaroslaw Kadziola

From vszakats at users.sourceforge.net  Wed Aug 26 02:31:56 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 26 02:32:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12328] trunk/harbour
Message-ID: <E1MgC32-0003Un-6v@3kljzd1.ch3.sourceforge.com>

Revision: 12328
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12328&view=rev
Author:   vszakats
Date:     2009-08-26 06:31:55 +0000 (Wed, 26 Aug 2009)

Log Message:
-----------
2009-08-26 08:30 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * ChangeLog
  * config/global.mk
    ! Added 'SHELL := /bin/sh' lines after 'sh' HB_SHELL detection.
      Under certain circumstances SHELL will point to COMSPEC even
      when launched from bash shell (f.e. DJGPP GNU Make launched
      from DJGPP sh.exe running on Windows OS or using MSYS sh.exe).
      This seems to be a safe and often used solution on all platforms
      according to GNU Make docs '5.3.1 Choosing the Shell' section:
         http://www.gnu.org/software/make/manual/make.html
      Fix me if you find this wrong.

  * ChangeLog
    ! Stripped non-ASCII (accented) chars in recent entries.
      See: 2008-11-09 12:26 UTC+0100 Viktor Szakats

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Wed Aug 26 05:16:49 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Aug 26 05:16:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12329] trunk/harbour
Message-ID: <E1MgEcb-0005Og-IK@d5vjzd1.ch3.sourceforge.com>

Revision: 12329
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12329&view=rev
Author:   druzus
Date:     2009-08-26 09:16:48 +0000 (Wed, 26 Aug 2009)

Log Message:
-----------
2009-08-26 11:16 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/gtwvt/gtwvt.c
    ! fixed runtime font modification

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/gtwvt/gtwvt.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Aug 26 05:21:29 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug 26 05:21:36 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <100391600.20090826072836@tlen.pl>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
	<14464984.20090821152825@tlen.pl>
	<20090821134502.GA1678@uran.home.aster.pl>
	<11010132970.20090822184639@tlen.pl>
	<20090824181300.GA14328@uran.home.aster.pl>
	<100391600.20090826072836@tlen.pl>
Message-ID: <20090826092129.GA22748@uran.home.aster.pl>

[ï¿½roda, 26 sierpieï¿½ 2009], Jaroslaw Kadziola napisa³(a):
> PC> remove it, it will only force unnecessary console creation which
> PC> will be overwritten in a while.
> Without 'cls' i get very little window in the middle of screen
> (see:  http://picasaweb.google.pl/jarek.kadziola/WCEHarbour#5374138184983947474 )

Looks perfectly. This are your real customized settings for initial
font size 2 x 1 so here it works as expected.

> >>    hb_setCodePage( "PL852" )
> >>    hb_setTermCP( "PL852" )   
> >>    hb_gtInfo( HB_GTI_RESIZEMODE, HB_GTI_RESIZEMODE_ROWS )
> >>    SetMode(40,25)
> PC> Maybe try to set sth smaller, i.e.
> PC>      SetMode(32,16)
> Do nothing

I guess you are talking about font selection. SetMode() should work
though maybe the initial console window size was still bigger then
your screen dimensions and you couldn't see the difference.

> See : http://picasaweb.google.pl/jarek.kadziola/WCEHarbour#5374138190588280050
> (size : 4 , width : 2)
> and then : http://picasaweb.google.pl/jarek.kadziola/WCEHarbour#5374138186915078306
> size : 36, width : 18). The same picture, no difference.
> The same picture for each 'i' variable.
> The same results for 'Courier New' and 'Tahoma' fonts - two fonts on
> my handheld.

I cannot run MS-PocketPC emulator in my Linux box using WINE but
I can test desktop windows application using GTWVT console and
I confirm that font selection stop to work. It's working only
once at startup what you have seen when you comment CLS.
I looked at the code more carefully and I've found the reason in
hb_gt_wvt_ResetWindowSize() function:
   /*
    * set the font and get it's size to determine the size of the client area
    * for the required number of rows and columns .
    * No need to call hb_gt_wvt_GetFont() if font is already existant [prtpal 20081108]
    */
Pritpal the above is not true and broke runtime font modification.
Because current code is strongly different then the initial one
I'll update it instead of restoring original behavior to not force
multiple font selection.

> PC> It does not have to. It depends on font high/width and number of
> PC> rows and cols.
> Not possible to move window 'wcecon' above top windows' beam.
> Window comes back to primary position.

I cannot say it's your WinCE feature or some side effect of current console
window style. It was working for me in the initial version with PocketPC
emulator. Anyhow each time you are changing font then window is centered
by GTWVT code so maybe you wrote about this. Try to move some very small
window.

> PC> Probably console window is bigger then your screen.
> See : http://picasaweb.google.pl/jarek.kadziola/WCEHarbour#5374138186497933314
> when i'm "taking" window for top beam and
> little move from right to left (refresh ??) then char 'H' is good

Now I can see what you are talking about. This is bad side effect of wrong
font dimensions. Such things you should be able to tune using
HB_GTI_FONTWIDTH / HB_GTI_FONTSIZE of course it font has correct metrics.

I've just commited:
   2009-08-26 11:16 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
     * harbour/source/rtl/gtwvt/gtwvt.c
       ! fixed runtime font modification

so please try again.

best regards,
Przemek
From vszakats at users.sourceforge.net  Wed Aug 26 05:28:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 26 05:28:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12330] trunk/harbour
Message-ID: <E1MgEnQ-0000jf-V8@c3vjzd1.ch3.sourceforge.com>

Revision: 12330
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12330&view=rev
Author:   vszakats
Date:     2009-08-26 09:27:56 +0000 (Wed, 26 Aug 2009)

Log Message:
-----------

2009-08-26 11:18 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Documented HB_CCPATH, HB_CCPREFIX, HB_CCPOSTFIX config variables.

  * source/Makefile
  * config/lib.mk
    + Added gtxwc to Harbour dynamic libs on *nixes.

  * config/global.mk
    ! Always set HB_INC_INSTALL on sh shells to make postinst.sh
      happy.

  * config/linux/global.mk
  * config/linux/gcc.mk
  * config/linux/icc.mk
  * config/linux/sunpro.mk
    % Moved 'system' library name and path list forming logic to
      platform global.mk.
    ; TODO: Also for other platforms.

  * source/Makefile
    ! Fixed to use '-' separator between dynlib name and version
      on *nixes too, except on darwin, where it's a '.'.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.mk
    trunk/harbour/config/lib.mk
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/config/linux/global.mk
    trunk/harbour/config/linux/icc.mk
    trunk/harbour/config/linux/sunpro.mk
    trunk/harbour/source/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From kadziola at tlen.pl  Wed Aug 26 05:44:06 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Wed Aug 26 05:44:13 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <20090826092129.GA22748@uran.home.aster.pl>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
	<14464984.20090821152825@tlen.pl>
	<20090821134502.GA1678@uran.home.aster.pl>
	<11010132970.20090822184639@tlen.pl>
	<20090824181300.GA14328@uran.home.aster.pl>
	<100391600.20090826072836@tlen.pl>
	<20090826092129.GA22748@uran.home.aster.pl>
Message-ID: <5744001.20090826114406@tlen.pl>

Hi,


PC> I've just commited:
PC>    2009-08-26 11:16 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
PC>      * harbour/source/rtl/gtwvt/gtwvt.c
PC>        ! fixed runtime font modification

PC> so please try again.

At first one question : how can i build only this one library
(libgtwvt.a) ?

-- 
Regards,
 Jaroslaw Kadziola

From harbour.01 at syenar.hu  Wed Aug 26 05:52:19 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 26 05:52:30 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <5744001.20090826114406@tlen.pl>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
	<14464984.20090821152825@tlen.pl>
	<20090821134502.GA1678@uran.home.aster.pl>
	<11010132970.20090822184639@tlen.pl>
	<20090824181300.GA14328@uran.home.aster.pl>
	<100391600.20090826072836@tlen.pl>
	<20090826092129.GA22748@uran.home.aster.pl>
	<5744001.20090826114406@tlen.pl>
Message-ID: <0571C016-9318-4C2F-957D-B7243C9AA078@syenar.hu>

You can build all Harbour libraries or subdirs on all supported
platforms just the same way as you build full Harbour from root.
Just start GNU Make in the directory you want to rebuild:

C:\harbour\source\rtl\gtwvt> mingw32-make [clean] [install]

Brgds,
Viktor

On 2009.08.26., at 11:44, Jaroslaw Kadziola wrote:

> Hi,
>
>
> PC> I've just commited:
> PC>    2009-08-26 11:16 UTC+0200 Przemyslaw Czerpak (druzus/at/ 
> priv.onet.pl)
> PC>      * harbour/source/rtl/gtwvt/gtwvt.c
> PC>        ! fixed runtime font modification
>
> PC> so please try again.
>
> At first one question : how can i build only this one library
> (libgtwvt.a) ?
>
> -- 
> Regards,
> Jaroslaw Kadziola
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From itamarlins at bol.com.br  Wed Aug 26 05:58:12 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Wed Aug 26 06:00:00 2009
Subject: [Harbour] Re: My tests with Qt 4.5.2 and MSVC 2008 (Express Edition)
References: <4A93FB27.7070408@uol.com.br> <4A94904E.3080505@uol.com.br>
Message-ID: <h73122$ofv$1@ger.gmane.org>

Hi!
Not runing, because QTCore4.dll not found in box zip.

Thanks,
Itamar M. Lins Jr.

"Marcos Gambeta" <marcosgambeta@uol.com.br> 
escreveu na mensagem news:4A94904E.3080505@uol.com.br...
> Marcos Gambeta escreveu:
>>
>> demoxbp.exe (don't work - stop with a runtime error)
>> http://www.4shared.com/file/127607906/e920c8be/demoxbp.html
>>
>
> After last changes, demoxbp.exe is working now.
>
> http://www.4shared.com/file/127745326/42549204/demoxbp2.html
>
>
> Regards,
> Marcos Gambeta
> 



From itamarlins at bol.com.br  Wed Aug 26 06:07:35 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Wed Aug 26 06:09:26 2009
Subject: [Harbour] Re: My tests with Qt 4.5.2 and MSVC 2008 (Express Edition)
References: <4A93FB27.7070408@uol.com.br> <4A94904E.3080505@uol.com.br>
	<h73122$ofv$1@ger.gmane.org>
Message-ID: <h731jn$q92$1@ger.gmane.org>

Hi!
After, install dll, show this error:
Não foi possivel localizar  ponto de entrada do procedimento 
?removeAllEncodeQueryItems@QUrl@@QAXABVQByteArray@@@Z na biblioteca de 
vínculo dinâmico QtCore4.dll

Thanks,
Itamar M. Lins Jr. 



From dbtopas at dbtopas.lt  Wed Aug 26 06:11:33 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Aug 26 06:13:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12327] trunk/harbour
In-Reply-To: <E1Mg6Tc-0004hp-0v@3kljzd1.ch3.sourceforge.com>
References: <E1Mg6Tc-0004hp-0v@3kljzd1.ch3.sourceforge.com>
Message-ID: <4A950A55.5070106@dbtopas.lt>

Hi,


after a month break I'm back from N42.2217 E78.4485 and back on the 
list. I'll try to read mail and answer some questions.

> 2009-08-26 02:34 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/include/hbapifs.h
>   * harbour/source/rtl/filebuf.c
>     + added hb_fileExists() and hb_fileDelete() functions
>     + added support for alternative file IO API used in RDD code which
>       can be implemented by 3-rd party developers and registered using
>       hb_fileRegister() function.

Nice, simple and beautiful. Thank You. I guess the next step is move 
Harbour level file functions from hb_fs*() to hb_file*(). BTW, I guess 
some MT lock should be moved from s_file*() to hb_file*(). s_fileMtx and 
s_openFiles are static variable, and it is not possible to implement for 
example MT safe file close function for additional file protocols. 
Perhaps additional functions to insert/delete items into/from 
s_openFiles list is the best solution.


Regards,
Mindaugas
From kadziola at tlen.pl  Wed Aug 26 06:13:48 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Wed Aug 26 06:14:00 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <0571C016-9318-4C2F-957D-B7243C9AA078@syenar.hu>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
	<14464984.20090821152825@tlen.pl>
	<20090821134502.GA1678@uran.home.aster.pl>
	<11010132970.20090822184639@tlen.pl>
	<20090824181300.GA14328@uran.home.aster.pl>
	<100391600.20090826072836@tlen.pl>
	<20090826092129.GA22748@uran.home.aster.pl>
	<5744001.20090826114406@tlen.pl>
	<0571C016-9318-4C2F-957D-B7243C9AA078@syenar.hu>
Message-ID: <71427326.20090826121348@tlen.pl>

Hi,


VS> You can build all Harbour libraries or subdirs on all supported
VS> platforms just the same way as you build full Harbour from root.
VS> Just start GNU Make in the directory you want to rebuild:

VS> C:\harbour\source\rtl\gtwvt> mingw32-make [clean] [install]

Thanks - done.

'hbmk2 *.c -hblib -ogtwvt'  is the same result ?


-- 
Regards,
 Jaroslaw Kadziola

From harbour.01 at syenar.hu  Wed Aug 26 06:25:23 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 26 06:25:32 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <71427326.20090826121348@tlen.pl>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
	<14464984.20090821152825@tlen.pl>
	<20090821134502.GA1678@uran.home.aster.pl>
	<11010132970.20090822184639@tlen.pl>
	<20090824181300.GA14328@uran.home.aster.pl>
	<100391600.20090826072836@tlen.pl>
	<20090826092129.GA22748@uran.home.aster.pl>
	<5744001.20090826114406@tlen.pl>
	<0571C016-9318-4C2F-957D-B7243C9AA078@syenar.hu>
	<71427326.20090826121348@tlen.pl>
Message-ID: <FAFAF687-6FD9-4D02-8F16-55A7F5B978D1@syenar.hu>

> Hi,
>
>
> VS> You can build all Harbour libraries or subdirs on all supported
> VS> platforms just the same way as you build full Harbour from root.
> VS> Just start GNU Make in the directory you want to rebuild:
>
> VS> C:\harbour\source\rtl\gtwvt> mingw32-make [clean] [install]
>
> Thanks - done.
>
> 'hbmk2 *.c -hblib -ogtwvt'  is the same result ?

In this specific case it should be the same.

Generally however I don't recommend using hbmk2
this way to build core/contrib components.
It may miss important settings, and it may not work
the same for other libs or platforms.

Brgds,
Viktor

From sscc at mweb.co.za  Wed Aug 26 06:30:23 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Aug 26 06:30:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12327] trunk/harbour
In-Reply-To: <4A950A55.5070106@dbtopas.lt>
References: <E1Mg6Tc-0004hp-0v@3kljzd1.ch3.sourceforge.com>
	<4A950A55.5070106@dbtopas.lt>
Message-ID: <4A950EBF.4080907@mweb.co.za>

Mindaugas Kavaliauskas wrote:

> after a month break I'm back from N42.2217 E78.4485 and back on the 
> list. I'll try to read mail and answer some questions.

Wow, that is a remote part of the world! Did you camp at 4200m?

Regards
Alex



From kadziola at tlen.pl  Wed Aug 26 06:35:51 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Wed Aug 26 06:36:01 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <FAFAF687-6FD9-4D02-8F16-55A7F5B978D1@syenar.hu>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
	<14464984.20090821152825@tlen.pl>
	<20090821134502.GA1678@uran.home.aster.pl>
	<11010132970.20090822184639@tlen.pl>
	<20090824181300.GA14328@uran.home.aster.pl>
	<100391600.20090826072836@tlen.pl>
	<20090826092129.GA22748@uran.home.aster.pl>
	<5744001.20090826114406@tlen.pl>
	<0571C016-9318-4C2F-957D-B7243C9AA078@syenar.hu>
	<71427326.20090826121348@tlen.pl>
	<FAFAF687-6FD9-4D02-8F16-55A7F5B978D1@syenar.hu>
Message-ID: <1864690079.20090826123551@tlen.pl>

Hi,


>> Hi,
>>
>>
>> VS> You can build all Harbour libraries or subdirs on all supported
>> VS> platforms just the same way as you build full Harbour from root.
>> VS> Just start GNU Make in the directory you want to rebuild:
>>
>> VS> C:\harbour\source\rtl\gtwvt> mingw32-make [clean] [install]
>>
>> Thanks - done.
>>
>> 'hbmk2 *.c -hblib -ogtwvt'  is the same result ?

VS> In this specific case it should be the same.

VS> Generally however I don't recommend using hbmk2
VS> this way to build core/contrib components.
VS> It may miss important settings, and it may not work
VS> the same for other libs or platforms.

So second question : must i build full Harbour in this case ?

PC>    2009-08-26 11:16 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
PC>      * harbour/source/rtl/gtwvt/gtwvt.c
PC>        ! fixed runtime font modification

Or only gtwvt ?

-- 
Regards,
 Jaroslaw Kadziola

From marcosgambeta at uol.com.br  Wed Aug 26 06:42:28 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Wed Aug 26 06:42:32 2009
Subject: [Harbour] Re: My tests with Qt 4.5.2 and MSVC 2008 (Express
	Edition)
In-Reply-To: <h73122$ofv$1@ger.gmane.org>
References: <4A93FB27.7070408@uol.com.br> <4A94904E.3080505@uol.com.br>
	<h73122$ofv$1@ger.gmane.org>
Message-ID: <4A951194.9060307@uol.com.br>

Itamar Lins escreveu:
> Not runing, because QTCore4.dll not found in box zip.

DLL's are here:
http://www.4shared.com/file/127603694/52d2c2b1/qt452_bin_msvc.html

Copy the file demoxbp.exe to folder \harbour\contrib\hbxbp\tests.

The demo is dependent from file \harbour\tests\test.dbf.

Create a batch file to run the demo:

set PATH=C:\QtDlls;c:\windows;c:\windows\system32
demoxbp


Regards,
Marcos Gambeta

From harbour.01 at syenar.hu  Wed Aug 26 06:45:11 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 26 06:45:21 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <1864690079.20090826123551@tlen.pl>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
	<14464984.20090821152825@tlen.pl>
	<20090821134502.GA1678@uran.home.aster.pl>
	<11010132970.20090822184639@tlen.pl>
	<20090824181300.GA14328@uran.home.aster.pl>
	<100391600.20090826072836@tlen.pl>
	<20090826092129.GA22748@uran.home.aster.pl>
	<5744001.20090826114406@tlen.pl>
	<0571C016-9318-4C2F-957D-B7243C9AA078@syenar.hu>
	<71427326.20090826121348@tlen.pl>
	<FAFAF687-6FD9-4D02-8F16-55A7F5B978D1@syenar.hu>
	<1864690079.20090826123551@tlen.pl>
Message-ID: <A272DCE0-A474-4683-86C1-29106667691D@syenar.hu>

>>> VS> You can build all Harbour libraries or subdirs on all supported
>>> VS> platforms just the same way as you build full Harbour from root.
>>> VS> Just start GNU Make in the directory you want to rebuild:
>>>
>>> VS> C:\harbour\source\rtl\gtwvt> mingw32-make [clean] [install]
>>>
>>> Thanks - done.
>>>
>>> 'hbmk2 *.c -hblib -ogtwvt'  is the same result ?
>
> VS> In this specific case it should be the same.
>
> VS> Generally however I don't recommend using hbmk2
> VS> this way to build core/contrib components.
> VS> It may miss important settings, and it may not work
> VS> the same for other libs or platforms.
>
> So second question : must i build full Harbour in this case ?

No, it's enough to build this lib only, using GNU Make (not hbmk2).

Brgds,
Viktor

From dbtopas at dbtopas.lt  Wed Aug 26 06:44:49 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Aug 26 06:46:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12327] trunk/harbour
In-Reply-To: <4A950EBF.4080907@mweb.co.za>
References: <E1Mg6Tc-0004hp-0v@3kljzd1.ch3.sourceforge.com>	<4A950A55.5070106@dbtopas.lt>
	<4A950EBF.4080907@mweb.co.za>
Message-ID: <4A951221.9020603@dbtopas.lt>

Hi,


>> after a month break I'm back from N42.2217 E78.4485 and back on the 
>> list. I'll try to read mail and answer some questions.
> 
> Wow, that is a remote part of the world! Did you camp at 4200m?

The highest camping place was at 4150m. Highest peak reached at 4721m 
(coordinates above are for another peak at approx. 4300m). Some higher 
places was not visited because of huge amount of snow and avalanche danger.


Regards,
Mindaugas
From sscc at mweb.co.za  Wed Aug 26 06:50:04 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Aug 26 06:50:06 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <1864690079.20090826123551@tlen.pl>
References: <1871917516.20090821141159@tlen.pl>	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>	<411007996.20090821143028@tlen.pl>	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>	<14464984.20090821152825@tlen.pl>	<20090821134502.GA1678@uran.home.aster.pl>	<11010132970.20090822184639@tlen.pl>	<20090824181300.GA14328@uran.home.aster.pl>	<100391600.20090826072836@tlen.pl>	<20090826092129.GA22748@uran.home.aster.pl>	<5744001.20090826114406@tlen.pl>	<0571C016-9318-4C2F-957D-B7243C9AA078@syenar.hu>	<71427326.20090826121348@tlen.pl>	<FAFAF687-6FD9-4D02-8F16-55A7F5B978D1@syenar.hu>
	<1864690079.20090826123551@tlen.pl>
Message-ID: <4A95135C.6070401@mweb.co.za>

Jaroslaw Kadziola wrote:

> So second question : must i build full Harbour in this case ?
> 
> PC>    2009-08-26 11:16 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> PC>      * harbour/source/rtl/gtwvt/gtwvt.c
> PC>        ! fixed runtime font modification
> 
> Or only gtwvt ?

Just :

 > mingw32-make

in the root directory will only recompile things which depend on the changed 
code. If the change above is the only change then it will automatically update 
what you are trying to update manually by going to the gtwvt directory.

 > mingw32-make clean

will force a complete update, and should not generally be required after small 
code updates.

Regards
Alex
From kadziola at tlen.pl  Wed Aug 26 06:58:46 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Wed Aug 26 06:58:57 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <20090826092129.GA22748@uran.home.aster.pl>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
	<14464984.20090821152825@tlen.pl>
	<20090821134502.GA1678@uran.home.aster.pl>
	<11010132970.20090822184639@tlen.pl>
	<20090824181300.GA14328@uran.home.aster.pl>
	<100391600.20090826072836@tlen.pl>
	<20090826092129.GA22748@uran.home.aster.pl>
Message-ID: <813518256.20090826125846@tlen.pl>

Hi,


PC> I cannot say it's your WinCE feature or some side effect of current console
PC> window style. It was working for me in the initial version with PocketPC
PC> emulator. Anyhow each time you are changing font then window is centered
PC> by GTWVT code so maybe you wrote about this. Try to move some very small
PC> window.

Yes , window is centered each time when i'm changing font width/size
but not possible to move it to top of screen - only to bottom section
of top windows' beam.

>> PC> Probably console window is bigger then your screen.
>> See : http://picasaweb.google.pl/jarek.kadziola/WCEHarbour#5374138186497933314
>> when i'm "taking" window for top beam and
>> little move from right to left (refresh ??) then char 'H' is good

PC> Now I can see what you are talking about. This is bad side effect of wrong
PC> font dimensions. Such things you should be able to tune using
PC> HB_GTI_FONTWIDTH / HB_GTI_FONTSIZE of course it font has correct metrics.

PC> I've just commited:
PC>    2009-08-26 11:16 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
PC>      * harbour/source/rtl/gtwvt/gtwvt.c
PC>        ! fixed runtime font modification

Bingo! At last i see differences ! I'll upload any pictures to google
but later . Thanks a lot.

-- 
Regards,
 Jaroslaw Kadziola

From harbour.01 at syenar.hu  Wed Aug 26 07:03:29 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 26 07:03:37 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <4A95135C.6070401@mweb.co.za>
References: <1871917516.20090821141159@tlen.pl>	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>	<411007996.20090821143028@tlen.pl>	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>	<14464984.20090821152825@tlen.pl>	<20090821134502.GA1678@uran.home.aster.pl>	<11010132970.20090822184639@tlen.pl>	<20090824181300.GA14328@uran.home.aster.pl>	<100391600.20090826072836@tlen.pl>	<20090826092129.GA22748@uran.home.aster.pl>	<5744001.20090826114406@tlen.pl>	<0571C016-9318-4C2F-957D-B7243C9AA078@syenar.hu>	<71427326.20090826121348@tlen.pl>	<FAFAF687-6FD9-4D02-8F16-55A7F5B978D1@syenar.hu>
	<1864690079.20090826123551@tlen.pl> <4A95135C.6070401@mweb.co.za>
Message-ID: <967CD857-D04D-456F-A6EA-AB63B840BE9A@syenar.hu>

> Just :
>
> > mingw32-make
>
> in the root directory will only recompile things which depend on the  
> changed code. If the change above is the only change then it will  
> automatically update what you are trying to update manually by going  
> to the gtwvt directory.

That's true although it's faster to make a local
rebuild, plus it may be easier since you may
be already in the directory in question anyway.

All this is especially true if you want to make 'clean'
also. F.e. after doing some header changes, or other
reasons.

> > mingw32-make clean
>
> will force a complete update, and should not generally be required  
> after small code updates.

In this case local rebuild has a clear advantage.

Brgds,
Viktor

From kadziola at tlen.pl  Wed Aug 26 07:05:52 2009
From: kadziola at tlen.pl (Jaroslaw Kadziola)
Date: Wed Aug 26 07:06:03 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <967CD857-D04D-456F-A6EA-AB63B840BE9A@syenar.hu>
References: <1871917516.20090821141159@tlen.pl>
	<18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
	<14464984.20090821152825@tlen.pl>
	<20090821134502.GA1678@uran.home.aster.pl>
	<11010132970.20090822184639@tlen.pl>
	<20090824181300.GA14328@uran.home.aster.pl>
	<100391600.20090826072836@tlen.pl>
	<20090826092129.GA22748@uran.home.aster.pl>
	<5744001.20090826114406@tlen.pl>
	<0571C016-9318-4C2F-957D-B7243C9AA078@syenar.hu>
	<71427326.20090826121348@tlen.pl>
	<FAFAF687-6FD9-4D02-8F16-55A7F5B978D1@syenar.hu>
	<1864690079.20090826123551@tlen.pl> <4A95135C.6070401@mweb.co.za>
	<967CD857-D04D-456F-A6EA-AB63B840BE9A@syenar.hu>
Message-ID: <1226643447.20090826130552@tlen.pl>

Hi,
>> Just :
>>
>> > mingw32-make
>>
>> in the root directory will only recompile things which depend on the  
>> changed code. If the change above is the only change then it will  
>> automatically update what you are trying to update manually by going  
>> to the gtwvt directory.

VS> That's true although it's faster to make a local
VS> rebuild, plus it may be easier since you may
VS> be already in the directory in question anyway.

VS> All this is especially true if you want to make 'clean'
VS> also. F.e. after doing some header changes, or other
VS> reasons.

>> > mingw32-make clean
>>
>> will force a complete update, and should not generally be required  
>> after small code updates.

VS> In this case local rebuild has a clear advantage.

Thanks for clarifications once again.


-- 
Regards,
 Jaroslaw Kadziola

From vszakats at users.sourceforge.net  Wed Aug 26 07:05:59 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 26 07:06:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12331] trunk/harbour
Message-ID: <E1MgGKF-0005xm-Nk@74yxhf1.ch3.sourceforge.com>

Revision: 12331
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12331&view=rev
Author:   vszakats
Date:     2009-08-26 11:05:58 +0000 (Wed, 26 Aug 2009)

Log Message:
-----------
2009-08-26 12:28 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added new section: HOW TO DO A PARTIAL [RE]BUILD
      This wouldn't have been possible a week ago, the
      situation was so much different and complicated for
      various cases.
    ! Cleaned msys/cygwin/<DIR> references and NOTEs.

  * config/dyn.mk
  * config/bin.mk
  * config/global.mk
  + config/bsd/libs.mk
  * config/bsd/gcc.mk
  + config/hpux/libs.mk
  * config/hpux/gcc.mk
  + config/darwin/libs.mk
  * config/darwin/gcc.mk
  * config/darwin/icc.mk
  + config/linux/libs.mk
  * config/linux/global.mk
  + config/sunos/libs.mk
  * config/sunos/gcc.mk
  * config/sunos/sunpro.mk
    % Moved "system" library logic to compiler libs.mk files
      for all *nix compilers.

  * config/dos/djgpp.mk
  * config/global.mk
    * DJGPP with win-based make messages converted to a warning
      and moved next to the other similar warning detecting
      another non-ideal combination.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/bin.mk
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/darwin/icc.mk
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/dyn.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/linux/global.mk
    trunk/harbour/config/sunos/gcc.mk
    trunk/harbour/config/sunos/sunpro.mk

Added Paths:
-----------
    trunk/harbour/config/bsd/libs.mk
    trunk/harbour/config/darwin/libs.mk
    trunk/harbour/config/hpux/libs.mk
    trunk/harbour/config/linux/libs.mk
    trunk/harbour/config/sunos/libs.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Aug 26 07:13:25 2009
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Aug 26 07:13:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12327] trunk/harbour
In-Reply-To: <4A950A55.5070106@dbtopas.lt>
References: <E1Mg6Tc-0004hp-0v@3kljzd1.ch3.sourceforge.com>
	<4A950A55.5070106@dbtopas.lt>
Message-ID: <20090826111325.GA3395@uran.home.aster.pl>

On Wed, 26 Aug 2009, Mindaugas Kavaliauskas wrote:

Hi,

> after a month break I'm back from N42.2217 E78.4485 and back on the list. 

Wow, Issyk-kul?

> I'll try to read mail and answer some questions.
>> 2009-08-26 02:34 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>>   * harbour/include/hbapifs.h
>>   * harbour/source/rtl/filebuf.c
>>     + added hb_fileExists() and hb_fileDelete() functions
>>     + added support for alternative file IO API used in RDD code which
>>       can be implemented by 3-rd party developers and registered using
>>       hb_fileRegister() function.
> Nice, simple and beautiful. Thank You. I guess the next step is move 

thanks,

> Harbour level file functions from hb_fs*() to hb_file*().

yes, but 1-st I plan to make some tests with it and implement some
simple demonstration servers. It's also possible that I'll move this
whole logic into hb_fs*() API. I haven't decided yet. Real life tests
should give some answers. It will be also necessary to extend method
list. Now only few ones are supported.

> BTW, I guess some 
> MT lock should be moved from s_file*() to hb_file*(). s_fileMtx and 
> s_openFiles are static variable, and it is not possible to implement for 
> example MT safe file close function for additional file protocols. Perhaps 
> additional functions to insert/delete items into/from s_openFiles list is 
> the best solution.

It's not necessary. Look at the code.
Now s_fileMtx is used for two different things.
1. to protect standard HB_FILE handlers in s_openFiles list so they are
   MT safe.
2. to protect s_pFileTypes/s_iFileTypes in hb_fileRegister() function
   to make runtime file type registration MT safe though I do not know
   if it's really necessary because in most of cases new file IO API
   will be registered by startup code. Though maybe it will be usable
   if we add unregister function.
Any other alternative IO API may use or not internal mutexes. It depends
on their internal implementation, i.e. you can very easy implement pure
redirector to hb_fs*() functions without any additional functionality with
very simple HB_FILE structure which is not stored in any list, i.e.
look at code below. I've just written it as example without any tests
so it's possible it has some typos but it should show the main idea.
It does not use any mutexes but it's fully MT safe though on POSIX
systems it restores known problem with synchronization of aliased areas.

best regards,
Przemek




/* demonstration code for alternative RDD IO API */

/* I haven't tested it but it should be fully functional and MT safe
 * alternative IO API for RDD system [druzus]
 */

/* this has to be declared before hbapifs.h is included */
#define _HB_FILE_IMPLEMENTATION_

#include "hbapi.h"
#include "hbapifs.h"
#include "hbinit.h"

/* file name prefix used by this file IO implementation */
#define FILE_PREXIF     "net:"
#define FILE_PREXIF_LEN strlen( FILE_PREXIF )


typedef struct _HB_FILE
{
   const HB_FILE_FUNCS * pFuncs;
   HB_FHANDLE hFile;
}
HB_FILE;

static PHB_FILE hb_fileNew( HB_FHANDLE hFile );

static BOOL s_fileAccept( const char * pFilename )
{
   return hb_strnicmp( pFilename, FILE_PREXIF, FILE_PREXIF_LEN ) == 0;
}

static BOOL s_fileExists( const char * pFilename, char * pRetPath )
{
   return hb_spFileExists( pFilename + FILE_PREXIF_LEN, pRetPath );
}

static BOOL s_fileDelete( const char * pFilename )
{
   return hb_fsDelete( pFilename + FILE_PREXIF_LEN );
}

static PHB_FILE s_fileOpen( const char * pFilename, const char * pDefExt,
                            USHORT uiExFlags, const char * pPaths,
                            PHB_ITEM pError )
{
   HB_FHANDLE hFile;

   hFile = hb_fsExtOpen( pFilename + FILE_PREXIF_LEN, pDefExt, uiExFlags,
                         pPaths, pError );
   if( hFile != FS_ERROR )
      return hb_fileNew( hFile );
   else
      return NULL;
}

static void s_fileClose( PHB_FILE pFile )
{
   hb_fsClose( pFile->hFile );
   hb_xfree( pFile );
}

static BOOL s_fileLock( PHB_FILE pFile, HB_FOFFSET ulStart,
                        HB_FOFFSET ulLen, int iType )
{
   return hb_fsLockLarge( pFile->hFile, ulStart, ulLen, ( USHORT ) iType );
}

static ULONG s_fileReadAt( PHB_FILE pFile, void * buffer,
                           ULONG ulSize, HB_FOFFSET llOffset )
{
   return hb_fsReadAt( pFile->hFile, buffer, ulSize, llOffset );
}

static ULONG s_fileWriteAt( PHB_FILE pFile, const void * buffer,
                            ULONG ulSize, HB_FOFFSET llOffset )
{
   return hb_fsWriteAt( pFile->hFile, buffer, ulSize, llOffset );
}

static BOOL s_fileTruncAt( PHB_FILE pFile, HB_FOFFSET llOffset )
{
   return hb_fsTruncAt( pFile->hFile, llOffset );
}

static HB_FOFFSET s_fileSize( PHB_FILE pFile )
{
   return hb_fsSeekLarge( pFile->hFile, 0, FS_END );
}

static void s_fileCommit( PHB_FILE pFile )
{
   hb_fsCommit( pFile->hFile );
}

static HB_FHANDLE s_fileHandle( PHB_FILE pFile )
{
   return pFile ? pFile->hFile : FS_ERROR;
}

const HB_FILE_FUNCS s_fileFuncs =
{
   s_fileAccept,
   s_fileExists,
   s_fileDelete,
   s_fileOpen,
   s_fileClose,
   s_fileLock,
   s_fileReadAt,
   s_fileWriteAt,
   s_fileTruncAt,
   s_fileSize,
   s_fileCommit,
   s_fileHandle
};

static PHB_FILE hb_fileNew( HB_FHANDLE hFile )
{
   PHB_FILE pFile = ( PHB_FILE ) hb_xgrab( sizeof( HB_FILE ) );

   pFile->pFuncs = &s_fileFuncs;
   pFile->hFile = hFile;

   return pFile;
}

HB_CALL_ON_STARTUP_BEGIN( _hb_file_io_init_ )
   hb_fileRegister( &s_fileFuncs );
HB_CALL_ON_STARTUP_END( _hb_file_io_init_ )

#if defined( HB_PRAGMA_STARTUP )
   #pragma startup _hb_file_io_init_
#elif defined( HB_MSC_STARTUP )
   #if defined( HB_OS_WIN_64 )
      #pragma section( HB_MSC_START_SEGMENT, long, read )
   #endif
   #pragma data_seg( HB_MSC_START_SEGMENT )
   static HB_$INITSYM hb_vm_auto_hb_file_io_init_ = _hb_file_io_init_;
   #pragma data_seg()
#endif
From vszakats at users.sourceforge.net  Wed Aug 26 07:17:29 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 26 07:17:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12332] trunk/harbour
Message-ID: <E1MgGVN-0006CV-Dn@74yxhf1.ch3.sourceforge.com>

Revision: 12332
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12332&view=rev
Author:   vszakats
Date:     2009-08-26 11:17:28 +0000 (Wed, 26 Aug 2009)

Log Message:
-----------
2009-08-26 13:13 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/bsd/gcc.mk
  * config/darwin/gcc.mk
  * config/darwin/icc.mk
  * config/hpux/gcc.mk
  * config/sunos/gcc.mk
  * config/sunos/sunpro.mk
    + Added "system" libs to dynamic lib creation commands.
    ; TODO: There is one step left: To build system lib list
            also when dynamic libs are to be created.
            This will need some extra detection logic.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/darwin/icc.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/sunos/gcc.mk
    trunk/harbour/config/sunos/sunpro.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Aug 26 07:20:35 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 26 07:20:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12327] trunk/harbour
In-Reply-To: <4A951221.9020603@dbtopas.lt>
References: <E1Mg6Tc-0004hp-0v@3kljzd1.ch3.sourceforge.com>	<4A950A55.5070106@dbtopas.lt>
	<4A950EBF.4080907@mweb.co.za> <4A951221.9020603@dbtopas.lt>
Message-ID: <EFCF6C5D-70E0-48B0-8227-801CCA0DD5ED@syenar.hu>

Hi Mindaugas,

That's quite nice. Why peaks were these?

Brgds,
Viktor

On 2009.08.26., at 0:44, Mindaugas Kavaliauskas wrote:

> Hi,
>
>
>>> after a month break I'm back from N42.2217 E78.4485 and back on  
>>> the list. I'll try to read mail and answer some questions.
>> Wow, that is a remote part of the world! Did you camp at 4200m?
>
> The highest camping place was at 4150m. Highest peak reached at  
> 4721m (coordinates above are for another peak at approx. 4300m).  
> Some higher places was not visited because of huge amount of snow  
> and avalanche danger.
>
>
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Wed Aug 26 07:31:15 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Aug 26 07:31:44 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <813518256.20090826125846@tlen.pl>
References: <1871917516.20090821141159@tlen.pl>
	<411007996.20090821143028@tlen.pl> 
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com> 
	<14464984.20090821152825@tlen.pl>
	<20090821134502.GA1678@uran.home.aster.pl> 
	<11010132970.20090822184639@tlen.pl>
	<20090824181300.GA14328@uran.home.aster.pl> 
	<100391600.20090826072836@tlen.pl>
	<20090826092129.GA22748@uran.home.aster.pl> 
	<813518256.20090826125846@tlen.pl>
Message-ID: <609353e70908260431o726da9fene0c1a2ead25d4f24@mail.gmail.com>

I invite you post your screenshoot also on harbour project on facebook
http://www.facebook.com/group.php?gid=48795263775&ref=ts

i invite  everybody to join on harbour group on facebook


2009/8/26 Jaroslaw Kadziola <kadziola@tlen.pl>:
> Hi,
>
>
> PC> I cannot say it's your WinCE feature or some side effect of current console
> PC> window style. It was working for me in the initial version with PocketPC
> PC> emulator. Anyhow each time you are changing font then window is centered
> PC> by GTWVT code so maybe you wrote about this. Try to move some very small
> PC> window.
>
> Yes , window is centered each time when i'm changing font width/size
> but not possible to move it to top of screen - only to bottom section
> of top windows' beam.
>
>>> PC> Probably console window is bigger then your screen.
>>> See : http://picasaweb.google.pl/jarek.kadziola/WCEHarbour#5374138186497933314
>>> when i'm "taking" window for top beam and
>>> little move from right to left (refresh ??) then char 'H' is good
>
> PC> Now I can see what you are talking about. This is bad side effect of wrong
> PC> font dimensions. Such things you should be able to tune using
> PC> HB_GTI_FONTWIDTH / HB_GTI_FONTSIZE of course it font has correct metrics.
>
> PC> I've just commited:
> PC> ? ?2009-08-26 11:16 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> PC> ? ? ?* harbour/source/rtl/gtwvt/gtwvt.c
> PC> ? ? ? ?! fixed runtime font modification
>
> Bingo! At last i see differences ! I'll upload any pictures to google
> but later . Thanks a lot.
>
> --
> Regards,
> ?Jaroslaw Kadziola
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From dbtopas at dbtopas.lt  Wed Aug 26 07:41:28 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Aug 26 07:43:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12327] trunk/harbour
In-Reply-To: <EFCF6C5D-70E0-48B0-8227-801CCA0DD5ED@syenar.hu>
References: <E1Mg6Tc-0004hp-0v@3kljzd1.ch3.sourceforge.com>	<4A950A55.5070106@dbtopas.lt>	<4A950EBF.4080907@mweb.co.za>
	<4A951221.9020603@dbtopas.lt>
	<EFCF6C5D-70E0-48B0-8227-801CCA0DD5ED@syenar.hu>
Message-ID: <4A951F68.2070003@dbtopas.lt>

Hi,


> That's quite nice. Why peaks were these?

These are peaks with Lithuanian names in Tian Shan mountains: Akstinas, 
Zalgiris, Mazvydas, etc.



Regards,
Mindaugas
From druzus at users.sourceforge.net  Wed Aug 26 07:47:50 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Aug 26 07:47:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12333] trunk/harbour
Message-ID: <E1MgGyk-0003QW-Fh@c3vjzd1.ch3.sourceforge.com>

Revision: 12333
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12333&view=rev
Author:   druzus
Date:     2009-08-26 11:47:49 +0000 (Wed, 26 Aug 2009)

Log Message:
-----------
2009-08-26 13:47 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/filebuf.c
    * reverted the alternative IO API look up order
    * small modification

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/filebuf.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Wed Aug 26 07:46:50 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Aug 26 07:48:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12327] trunk/harbour
In-Reply-To: <20090826111325.GA3395@uran.home.aster.pl>
References: <E1Mg6Tc-0004hp-0v@3kljzd1.ch3.sourceforge.com>	<4A950A55.5070106@dbtopas.lt>
	<20090826111325.GA3395@uran.home.aster.pl>
Message-ID: <4A9520AA.9080703@dbtopas.lt>

Hi,


>> BTW, I guess some 
>> MT lock should be moved from s_file*() to hb_file*(). s_fileMtx and 
>> s_openFiles are static variable, and it is not possible to implement for 
>> example MT safe file close function for additional file protocols. Perhaps 
>> additional functions to insert/delete items into/from s_openFiles list is 
>> the best solution.
> 
> It's not necessary. Look at the code.
> Now s_fileMtx is used for two different things.
> 1. to protect standard HB_FILE handlers in s_openFiles list so they are
>    MT safe.
> 2. to protect s_pFileTypes/s_iFileTypes in hb_fileRegister() function
>    to make runtime file type registration MT safe though I do not know
>    if it's really necessary because in most of cases new file IO API
>    will be registered by startup code. Though maybe it will be usable
>    if we add unregister function.
> Any other alternative IO API may use or not internal mutexes. It depends
> on their internal implementation, i.e. you can very easy implement pure
> redirector to hb_fs*() functions without any additional functionality with
> very simple HB_FILE structure which is not stored in any list, i.e.
> look at code below. I've just written it as example without any tests
> so it's possible it has some typos but it should show the main idea.
> It does not use any mutexes but it's fully MT safe though on POSIX
> systems it restores known problem with synchronization of aliased areas.


Oh, yes.

Both general hb_file*() functions and a particular file protocol 
functions s_file*() is implemented in the same module, and it uses the 
same s_fileMtx for different purposes. This lead me to the wrong idea, 
that all file protocols should store open file structures in the same 
s_openFiles list. Now it is clear.


Regards,
Mindaugas

From dbtopas at dbtopas.lt  Wed Aug 26 08:10:54 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Aug 26 08:12:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12249] trunk/harbour
In-Reply-To: <E1MegLv-0007wf-1H@dn4whf1.ch3.sourceforge.com>
References: <E1MegLv-0007wf-1H@dn4whf1.ch3.sourceforge.com>
Message-ID: <4A95264E.2000203@dbtopas.lt>

Hi,


> 2009-08-21 19:19 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * contrib/hbwin/axcore.c
>     + __AXDOVERB(), a very important function for in-process active-x controls


There are a few things I do not like in this:

1) Passing of the message is not supported in this function. I 
understand that it could be a problem of missing agreement on passing C 
structures in Harbour level, but MSDN 
(http://msdn.microsoft.com/en-us/library/ms694508%28VS.85%29.aspx) says, 
that if message is not passed, C parameter should be set to NULL, but 
not a MSG structure stuffed with zero bytes:

"If an end user invokes a verb by some means other than selecting a 
command from a menu (say, by double-clicking or, more rarely, 
single-clicking an object), the object's container should pass a pointer 
to a Windows MSG structure containing the appropriate message. For 
example, if the end user invokes a verb by double-clicking the object, 
the container should pass a MSG structure containing WM_LBUTTONDBLCLK, 
WM_MBUTTONDBLCLK, or WM_RBUTTONDBLCLK. If the container passes no 
message, lpmsg should be set to NULL."


2) __AXDOVERB() calls GetClientSite method.
http://msdn.microsoft.com/en-us/library/ms692603%28VS.85%29.aspx says:

"Each time an object receives a call to IOleObject::GetClientSite, it 
must increase the reference count on ppClientSite. It is the caller's 
responsibility to call Release when it is done with ppClientSite."

I do not see Release() method call after DoVerb().


WARNING: I do not even know that client site is, so my remarks are based 
on docs only and could be erroneous.


Regards,
Mindaugas

From M.Horodyski at pzuzycie.com.pl  Wed Aug 26 11:04:02 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Aug 26 11:04:11 2009
Subject: [Harbour] My tests with Qt 4.5.2 and MSVC 2008 (Express Edition)
In-Reply-To: <4A94904E.3080505@uol.com.br>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950271A530@PINK.zycie.pzu>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 16113 bytes
Desc: Outlook.jpg
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090826/1b30d6cc/attachment.jpe
From M.Horodyski at pzuzycie.com.pl  Wed Aug 26 11:19:13 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Aug 26 11:19:21 2009
Subject: [Harbour] Re: My tests with Qt 4.5.2 and MSVC 2008 (Express
	Edition)
In-Reply-To: <h73122$ofv$1@ger.gmane.org>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C950271A532@PINK.zycie.pzu>

 

>-----Original Message-----
>From: Itamar Lins [mailto:itamarlins@bol.com.br] 
>Sent: Wednesday, August 26, 2009 11:58 AM
>To: harbour@harbour-project.org
>Subject: [Harbour] Re: My tests with Qt 4.5.2 and MSVC 2008 
>(Express Edition)
>
>Hi!
>Not runing, because QTCore4.dll not found in box zip.

Pls. copy it to qt\...\bin and try. Message is can't fount startup
point.

Regards,
Marek Horodyski
From vszakats at users.sourceforge.net  Wed Aug 26 12:00:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 26 12:00:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12334] trunk/harbour
Message-ID: <E1MgKuu-0006oe-QO@bj8yhf1.ch3.sourceforge.com>

Revision: 12334
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12334&view=rev
Author:   vszakats
Date:     2009-08-26 16:00:07 +0000 (Wed, 26 Aug 2009)

Log Message:
-----------
2009-08-26 17:55 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  + config/detfun.mk
  + config/detect.mk
  * config/global.mk
    + Added generic external component detection function.
    + Added central detection for optional external components
      used by Harbour core. These are: openssl, gpm, slang, curses, x11
      Easy to extend with new ones.
      The detection code will run once per make session and
      results can be used in all our make files by checking HB_HAS_*
      variable. If it's empty we cannot use the component, if
      it's not we can. In this case it contains dir where headers
      were located. It's possible that it's a list of paths.
      Users can control these components by using HB_INC_* variable
      the following way: if it's left empty, Harbour make system
      will automatically look into default locations, this usually
      works on *nix systems. If set to a path (or a list of paths),
      this list will be checked. Finally to explicitly disable a
      component, user can set the variable to 'no'.
      Following legacy control variables are yet understood, but
      the will be removed in the near future:
          HB_WITHOUT_GTCRS=yes is the same as HB_INC_CURSES=no
          HB_WITHOUT_SLANG=yes is the same as HB_INC_SLANG=no
          HB_WITHOUT_GTXWC=yes is the same as HB_INC_X11=no
      Notice that these settings aren't meant to allow user control
      of actual Harbour components (like gtxwc). If we need something
      like this, we can do it, but it wasn't the subject of this change.
      HB_GPM_MOUSE var is still set for compatibility with internals.
      NOTE: I've left verbose output on to see what's happening, this will
            tuned after testing.
    ; TODO: Remove reliance on legacy settings in our own codebase.
    ; TODO: Start using HB_HAS_* values for dynamic lib syslib list assembly
            and in GT Makefiles.

  * contrib/hbtip/hbtipssl/Makefile
  * contrib/hbtip/Makefile
  * contrib/hbssl/Makefile
    * HB_HAS_OPENSSL works a little differently now, not empty
      means 'yes', empty means 'no'.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/contrib/hbssl/Makefile
    trunk/harbour/contrib/hbtip/Makefile
    trunk/harbour/contrib/hbtip/hbtipssl/Makefile

Added Paths:
-----------
    trunk/harbour/config/detect.mk
    trunk/harbour/config/detfun.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Wed Aug 26 12:28:06 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Aug 26 12:28:08 2009
Subject: [Harbour] win_prt.c
Message-ID: <4A956296.4050606@mweb.co.za>

Hi Viktor

I see you made this change to win_prt.c in WIN_PORTREAD:

       lpBuffer = ( char * ) hb_xgrab( dwNumberOfBytesToRead + 1 );
and:
          if( ! hb_storclen_buffer( lpBuffer, dwNumberOfBytesRead, 2 ) )


where I originally coded something like:

       lpBuffer = ( char * ) hb_xgrab( dwNumberOfBytesToRead );
and:
       hb_storclen(lpBuffer, NumberOfBytesRead, 2);

You said in the ChangeLog:

     ! Fixed buffer sizes, after valgrind test.
       (off by one bugs. hb_storclen_buffer()/hb_retclen_buffer() need
       one byte extra above the size returned, in order to hold the
       EOS char)

The Clipper NG says:

      Since _storclen() allows you to specify an explicit logical length for
      the character value, the string you supply does not need to be
      null-terminated and may safely contain embedded null bytes.

How come we need to allocate a buffer bigger by 1? Is it because you wanted to 
use hb_storclen_buffer which does not need an hb_xfree and is a bit different 
from hb_storclen?

Regards
Alex
From Istvan.Bisz at t-online.hu  Wed Aug 26 12:31:01 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Wed Aug 26 12:31:13 2009
Subject: [Harbour] Linux build errors
Message-ID: <001801ca266a$99730000$cc590000$@Bisz@t-online.hu>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: b.log
Type: application/octet-stream
Size: 8795 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090826/e48ccd2e/b.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: e.log
Type: application/octet-stream
Size: 667 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090826/e48ccd2e/e.obj
From harbour.01 at syenar.hu  Wed Aug 26 12:40:49 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 26 12:40:59 2009
Subject: [Harbour] win_prt.c
In-Reply-To: <4A956296.4050606@mweb.co.za>
References: <4A956296.4050606@mweb.co.za>
Message-ID: <12349E8F-AC8E-47E4-84B8-217A85424566@syenar.hu>

Hi Alex,

> I see you made this change to win_prt.c in WIN_PORTREAD:
>
>      lpBuffer = ( char * ) hb_xgrab( dwNumberOfBytesToRead + 1 );
> and:
>         if( ! hb_storclen_buffer( lpBuffer, dwNumberOfBytesRead, 2 ) )
>
>
> where I originally coded something like:
>
>      lpBuffer = ( char * ) hb_xgrab( dwNumberOfBytesToRead );
> and:
>      hb_storclen(lpBuffer, NumberOfBytesRead, 2);
>
> You said in the ChangeLog:
>
>    ! Fixed buffer sizes, after valgrind test.
>      (off by one bugs. hb_storclen_buffer()/hb_retclen_buffer() need
>      one byte extra above the size returned, in order to hold the
>      EOS char)
>
> The Clipper NG says:
>
>     Since _storclen() allows you to specify an explicit logical  
> length for
>     the character value, the string you supply does not need to be
>     null-terminated and may safely contain embedded null bytes.
>
> How come we need to allocate a buffer bigger by 1? Is it because you  
> wanted to use hb_storclen_buffer which does not need an hb_xfree and  
> is a bit different from hb_storclen?

Yes, exactly.

Please remember that C level hb_* functions are never meant
to be fully Clipper compatible. They are usually similar, but
Harbour makes no guarantee they are same. The Clipper compatibility
functions are called the same as in Clipper: _*(), like _storc().

But, in this case the situation is less theoretic because
hb_storclen_buffer() doesn't have an equivalent in Clipper at
all. This is an optimized version of hb_storclen() and it will
require the allocation of the string buffer by the user (the
idea is that many times such buffer is already allocated in
some case anyway). Since this buffer will be used internally
by HVM as is, the extra 1 byte also needs to be allocated by
user, to make space for an EOS char.

[ The other important aspect of hb_storclen_buffer() usage
is that it may fail if the Harbour parameter wasn't passed by
ref. In this case the buffer should be freed by caller. ]

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Aug 26 12:43:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 26 12:43:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12335] trunk/harbour
Message-ID: <E1MgLao-00082i-Bv@d5vjzd1.ch3.sourceforge.com>

Revision: 12335
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12335&view=rev
Author:   vszakats
Date:     2009-08-26 16:43:24 +0000 (Wed, 26 Aug 2009)

Log Message:
-----------
2009-08-26 18:42 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/rtl/gtcrs/Makefile
  * source/rtl/gttrm/Makefile
  * source/rtl/gtsln/Makefile
    * Using HB_HAS_GPM instead of old HB_GPM_MOUSE.

  * config/bin.mk
  * config/dyn.mk
  * config/bsd/libs.mk
  * config/darwin/libs.mk
  * config/hpux/libs.mk
  * config/dos/djgpp.mk
  * config/win/mingw.mk
  * config/linux/libs.mk
  * config/os2/gcc.mk
  * config/sunos/libs.mk
    * Extended the way it's decided whether to include
      rtl external lib dependencies or not. Now binary specific
      logic was moved to bin.mk, and dynamic lib logic was added
      to dyn.mk.
      The flag is called HB_LINKING_RTL (not empty means yes).
    + Updated syslib list assembly parts to use HB_HAS_*
      autodetection variables instead of trying to find it out
      by other means.

  * config/global.mk
    + Adding gtcrs, gtsln, gtxwc to std liblist if required
      components are available. This means that it's now again
      possible to select these as build-time default GTs.
    * Updated comment for setting plans.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bin.mk
    trunk/harbour/config/bsd/libs.mk
    trunk/harbour/config/darwin/libs.mk
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/dyn.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/hpux/libs.mk
    trunk/harbour/config/linux/libs.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/sunos/libs.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/source/rtl/gtcrs/Makefile
    trunk/harbour/source/rtl/gtsln/Makefile
    trunk/harbour/source/rtl/gttrm/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Wed Aug 26 12:44:06 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Aug 26 12:44:13 2009
Subject: [Harbour] OpenOffice and Linux
Message-ID: <133778360908260944y7f5b1b91ke98454833afc9d83@mail.gmail.com>

Exists anyway to generate openoffice files ( calc and writer )

from harbour and linux ?

Thanks in advance

Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090826/80228ae3/attachment-0001.html
From vszakats at users.sourceforge.net  Wed Aug 26 12:55:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 26 12:55:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12336] trunk/harbour
Message-ID: <E1MgLmD-0008Li-Ux@d5vjzd1.ch3.sourceforge.com>

Revision: 12336
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12336&view=rev
Author:   vszakats
Date:     2009-08-26 16:55:12 +0000 (Wed, 26 Aug 2009)

Log Message:
-----------
2009-08-26 18:51 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/rtl/gtxwc/Makefile
  * source/rtl/gtcrs/Makefile
  * source/rtl/gtsln/Makefile
    + Changed to use HB_HAS_* values instead of doing autodetection
      locally.

  * source/rtl/gttrm/Makefile
    + Indenting.

  * config/global.mk
    + Added HB_LDFLAGS variable. Not yet used.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/source/rtl/gtcrs/Makefile
    trunk/harbour/source/rtl/gtsln/Makefile
    trunk/harbour/source/rtl/gttrm/Makefile
    trunk/harbour/source/rtl/gtxwc/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From abe.buch at att.net  Wed Aug 26 13:11:09 2009
From: abe.buch at att.net (AbeB)
Date: Wed Aug 26 13:11:16 2009
Subject: [Harbour] OLE in WINCE
In-Reply-To: <813518256.20090826125846@tlen.pl>
References: <18d502870908210516m1a6546nd660e62ad2e8d520@mail.gmail.com>
	<411007996.20090821143028@tlen.pl>
	<18d502870908210536o8ee63eck25123b2b8fd281c9@mail.gmail.com>
	<14464984.20090821152825@tlen.pl>
	<20090821134502.GA1678@uran.home.aster.pl>
	<11010132970.20090822184639@tlen.pl>
	<20090824181300.GA14328@uran.home.aster.pl>
	<100391600.20090826072836@tlen.pl>
	<20090826092129.GA22748@uran.home.aster.pl>
	<813518256.20090826125846@tlen.pl>
Message-ID: <1251306669214-3518090.post@n2.nabble.com>


Hi Jaroslaw,
I'm too struggling win WCE.

What I think is that Tahoma is not a fixed font. "Courier New" is. ( i tried
in is Word on the emulater).
A proportional spaced font will have the effect  you see.
But I tried to select "Courier New" but with weired effects.

I looked in gtwvt.c and I see that for lines like these

#if defined( HB_OS_WIN_CE )
            pWVT->FixedFont = FALSE;
#else
...
...

I'm wondering why.



Jaroslaw Kadziola wrote:
> 
> Hi,
> 
> 
> PC> I cannot say it's your WinCE feature or some side effect of current
> console
> PC> window style. It was working for me in the initial version with
> PocketPC
> PC> emulator. Anyhow each time you are changing font then window is
> centered
> PC> by GTWVT code so maybe you wrote about this. Try to move some very
> small
> PC> window.
> 
> Yes , window is centered each time when i'm changing font width/size
> but not possible to move it to top of screen - only to bottom section
> of top windows' beam.
> 
>>> PC> Probably console window is bigger then your screen.
>>> See :
>>> http://picasaweb.google.pl/jarek.kadziola/WCEHarbour#5374138186497933314
>>> when i'm "taking" window for top beam and
>>> little move from right to left (refresh ??) then char 'H' is good
> 
> PC> Now I can see what you are talking about. This is bad side effect of
> wrong
> PC> font dimensions. Such things you should be able to tune using
> PC> HB_GTI_FONTWIDTH / HB_GTI_FONTSIZE of course it font has correct
> metrics.
> 
> PC> I've just commited:
> PC>    2009-08-26 11:16 UTC+0200 Przemyslaw Czerpak
> (druzus/at/priv.onet.pl)
> PC>      * harbour/source/rtl/gtwvt/gtwvt.c
> PC>        ! fixed runtime font modification
> 
> Bingo! At last i see differences ! I'll upload any pictures to google
> but later . Thanks a lot.
> 
> -- 
> Regards,
>  Jaroslaw Kadziola
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://n2.nabble.com/OLE-in-WINCE-tp3488851p3518090.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From ice at extreme.hu  Wed Aug 26 13:27:17 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Aug 26 13:27:24 2009
Subject: [Harbour] Linux build errors
In-Reply-To: <001801ca266a$99730000$cc590000$@Bisz@t-online.hu>
References: <001801ca266a$99730000$cc590000$@Bisz@t-online.hu>
Message-ID: <alpine.GSO.2.00.0908261909060.17720@dawn.royalcomp.hu>

On Wed, 26 Aug 2009, Bisz Istv?n wrote:

 > The attachment contains the build results on CentOS 5.3. The build fails on
 > Fedora 11 also. On Vista Ultimate works perfectly. Please review.

same failure on solaris (so probably on all unixes):

suncc  -fast -xnolibmopt -xcode=pic32  -erroff=%none -o ../../../../../bin/sunos/sunpro/hbpp hbpp.o   -L../../../../../lib/sunos/sunpro  -lhbcommon -lhbnortl
cc: Warning: -xarch=native has been explicitly specified, or implicitly specified by a macro option, -xarch=native on this architecture implies -xarch=sparcvis which generates code that does not run on pre UltraSPARC processors
Undefined                       first referenced
 symbol                             in file
pow                                 ../../../../../lib/sunos/sunpro/libhbcommon.a(hbstr.o)
ld: fatal: Symbol referencing errors. No output written to ../../../../../bin/sunos/sunpro/hbpp
gmake[3]: *** [hbpp] Error 1



-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Wed Aug 26 13:38:25 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Aug 26 13:38:35 2009
Subject: [Harbour] Linux build errors
In-Reply-To: <alpine.GSO.2.00.0908261909060.17720@dawn.royalcomp.hu>
References: <001801ca266a$99730000$cc590000$@Bisz@t-online.hu>
	<alpine.GSO.2.00.0908261909060.17720@dawn.royalcomp.hu>
Message-ID: <43978EA5-6D08-4E65-A2D4-4FE9995DE161@syenar.hu>

I'm checking this.

Brgds,
Viktor

On 2009.08.26., at 7:27, Tamas TEVESZ wrote:

> On Wed, 26 Aug 2009, Bisz Istv?n wrote:
>
>> The attachment contains the build results on CentOS 5.3. The build  
>> fails on
>> Fedora 11 also. On Vista Ultimate works perfectly. Please review.
>
> same failure on solaris (so probably on all unixes):
>
> suncc  -fast -xnolibmopt -xcode=pic32  -erroff=%none - 
> o ../../../../../bin/sunos/sunpro/hbpp hbpp.o   -L../../../../../lib/ 
> sunos/sunpro  -lhbcommon -lhbnortl
> cc: Warning: -xarch=native has been explicitly specified, or  
> implicitly specified by a macro option, -xarch=native on this  
> architecture implies -xarch=sparcvis which generates code that does  
> not run on pre UltraSPARC processors
> Undefined                       first referenced
> symbol                             in file
> pow                                 ../../../../../lib/sunos/sunpro/ 
> libhbcommon.a(hbstr.o)
> ld: fatal: Symbol referencing errors. No output written  
> to ../../../../../bin/sunos/sunpro/hbpp
> gmake[3]: *** [hbpp] Error 1
>
>
>
> -- 
> [-]
>
> mkdir /nonexistent
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Wed Aug 26 13:53:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 26 13:53:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12337] trunk/harbour
Message-ID: <E1MgMgk-0001HF-3g@d5vjzd1.ch3.sourceforge.com>

Revision: 12337
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12337&view=rev
Author:   vszakats
Date:     2009-08-26 17:53:36 +0000 (Wed, 26 Aug 2009)

Log Message:
-----------
2009-08-26 19:52 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/lib.mk
    + Added hack to make hbpp hack (in  source/pp/Makefile) happy.
      Should fix missing 'pow' symbols reported on the list.

  * config/detect.mk
    ! Fixed gpm mouse detection prerequisites.
    ; TODO: Will need some more tweaking to make it clean, I'll do it
            a bit later.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/detect.mk
    trunk/harbour/config/lib.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From calimero22 at freemail.it  Wed Aug 26 13:54:25 2009
From: calimero22 at freemail.it (calimero22@freemail.it)
Date: Wed Aug 26 13:54:31 2009
Subject: [Harbour] OpenOffice and Linux
Message-ID: <20090826175425.C7683200CCD1@eva222.dadanet.it>

An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090826/a44277c1/attachment.html
From amigosam at adinet.com.uy  Wed Aug 26 14:57:52 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Wed Aug 26 14:58:23 2009
Subject: [Harbour] Re: Linux build errors
In-Reply-To: <43978EA5-6D08-4E65-A2D4-4FE9995DE161@syenar.hu>
References: <001801ca266a$99730000$cc590000$@Bisz@t-online.hu>	<alpine.GSO.2.00.0908261909060.17720@dawn.royalcomp.hu>
	<43978EA5-6D08-4E65-A2D4-4FE9995DE161@syenar.hu>
Message-ID: <h740jg$5co$1@ger.gmane.org>

I'm getting this on a clean Ubuntu installation...

! Installing ../../lib/linux/gcc/libhbcommon.a on /usr/local/lib/harbour
gcc  -I. -I../../../../../include  -Wall -W -O3   -onortl.o -c 
../../../nortl.c
ar   crs ../../../../../lib/linux/gcc/libhbnortl.a nortl.o || ( rm -f 
../../../../../lib/linux/gcc/libhbnortl.a && false )
! Installing ../../lib/linux/gcc/libhbnortl.a on /usr/local/lib/harbour
gcc  -I. -I../../../../../include  -Wall -W -O3   -ohbpp.o -c 
../../../hbpp.c
gcc  -Wall -W -O3 -o../../../../../bin/linux/gcc/hbpp hbpp.o 
-L../../../../../lib/linux/gcc  -lhbcommon -lhbnortl
../../../../../lib/linux/gcc/libhbcommon.a(hbstr.o): In function 
`hb_str2number':
hbstr.c:(.text+0x136b): undefined reference to `pow'
../../../../../lib/linux/gcc/libhbcommon.a(hbstr.o): In function 
`hb_numRound':
hbstr.c:(.text+0x16a0): undefined reference to `pow'
hbstr.c:(.text+0x16e8): undefined reference to `pow'
../../../../../lib/linux/gcc/libhbcommon.a(hbstr.o): In function 
`hb_numDecConv':
hbstr.c:(.text+0x1760): undefined reference to `pow'
hbstr.c:(.text+0x17b0): undefined reference to `pow'
collect2: ld devolvi? el estado de salida 1
make[3]: *** [hbpp] Error 1
rm hbpp.o
make[2]: *** [descend] Error 2
make[1]: *** [pp.inst] Error 2
make: *** [source.inst] Error 2


From ice at extreme.hu  Wed Aug 26 16:38:44 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Aug 26 16:38:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12337] trunk/harbour
In-Reply-To: <E1MgMgk-0001HF-3g@d5vjzd1.ch3.sourceforge.com>
References: <E1MgMgk-0001HF-3g@d5vjzd1.ch3.sourceforge.com>
Message-ID: <alpine.GSO.2.00.0908262139400.17720@dawn.royalcomp.hu>

On Wed, 26 Aug 2009, vszakats@users.sourceforge.net wrote:

 > Revision: 12337
 >           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12337&view=rev
 > Author:   vszakats
 > Date:     2009-08-26 17:53:36 +0000 (Wed, 26 Aug 2009)
 > 
 > Log Message:
 > -----------
 > 2009-08-26 19:52 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
 >   * config/lib.mk
 >     + Added hack to make hbpp hack (in  source/pp/Makefile) happy.

yup, this made it pass that.

now (still on sunos) slang is somehow picked up (there's no slang on 
sunos, at least not anywhere harbour could pick up from without 
being explicitly told):

! 'gtos2' library skipped 
suncc  -I. -I../../../../../../include  -fast -xnolibmopt -xcode=pic32  -erroff=%none   -o gtpca.o -c ../../../gtpca.c
cc: Warning: -xarch=native has been explicitly specified, or implicitly specified by a macro option, -xarch=native on this architecture implies -xarch=sparcvis which generates code that does not run on pre UltraSPARC processors
ar   cr ../../../../../../lib/sunos/sunpro/libgtpca.a gtpca.o || ( rm -f ../../../../../../lib/sunos/sunpro/libgtpca.a && false )
suncc  -I. -I../../../../../../include  -fast -xnolibmopt -xcode=pic32  -erroff=%none  -I/usr/include  -o gtsln.o -c ../../../gtsln.c
cc: Warning: -xarch=native has been explicitly specified, or implicitly specified by a macro option, -xarch=native on this architecture implies -xarch=sparcvis which generates code that does not run on pre UltraSPARC processors
"../../../gtsln.h", line 71: cannot find include file: <slang.h>
"../../../gtsln.c", line 135: warning: implicit function declaration: SLsignal

thanks,

-- 
[-]

mkdir /nonexistent
From ice at extreme.hu  Wed Aug 26 17:28:25 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Aug 26 17:28:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12337] trunk/harbour
In-Reply-To: <alpine.GSO.2.00.0908262139400.17720@dawn.royalcomp.hu>
References: <E1MgMgk-0001HF-3g@d5vjzd1.ch3.sourceforge.com>
	<alpine.GSO.2.00.0908262139400.17720@dawn.royalcomp.hu>
Message-ID: <alpine.GSO.2.00.0908262326360.17720@dawn.royalcomp.hu>

On Wed, 26 Aug 2009, Tamas TEVESZ wrote:

 > yup, this made it pass that.
 > 
 > now (still on sunos) slang is somehow picked up (there's no slang on 
 > sunos, at least not anywhere harbour could pick up from without 
 > being explicitly told):

i should add that it seems it's not the detection magic, as it 
apparently knows no slang when building starts:

! Building Harbour 2.0.0beta2 from source - http://www.harbour-project.org
! MAKE: gmake 3.81 /bin/sh   
! HB_INSTALL_PREFIX: /tmp/hb
! HB_HOST_PLAT: sunos  HB_SHELL: sh
! HB_PLATFORM: sunos (autodetected)
! HB_COMPILER: sunpro (autodetected: /usr/bin/)
! Component: OpenSSL not found
! Component: GPM not found
! Component: slang not found
! Component: curses found in /usr/include
! Component: X11 found in /usr/include

so it creeps in somewhere later.

 > 
 > ! 'gtos2' library skipped 
 > suncc  -I. -I../../../../../../include  -fast -xnolibmopt -xcode=pic32  -erroff=%none   -o gtpca.o -c ../../../gtpca.c
 > cc: Warning: -xarch=native has been explicitly specified, or implicitly specified by a macro option, -xarch=native on this architecture implies -xarch=sparcvis which generates code that does not run on pre UltraSPARC processors
 > ar   cr ../../../../../../lib/sunos/sunpro/libgtpca.a gtpca.o || ( rm -f ../../../../../../lib/sunos/sunpro/libgtpca.a && false )
 > suncc  -I. -I../../../../../../include  -fast -xnolibmopt -xcode=pic32  -erroff=%none  -I/usr/include  -o gtsln.o -c ../../../gtsln.c
 > cc: Warning: -xarch=native has been explicitly specified, or implicitly specified by a macro option, -xarch=native on this architecture implies -xarch=sparcvis which generates code that does not run on pre UltraSPARC processors
 > "../../../gtsln.h", line 71: cannot find include file: <slang.h>
 > "../../../gtsln.c", line 135: warning: implicit function declaration: SLsignal
 > 
 > thanks,
 > 
 > 

-- 
[-]

mkdir /nonexistent
From vszakats at users.sourceforge.net  Wed Aug 26 19:41:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Aug 26 19:41:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12338] trunk/harbour
Message-ID: <E1MgS7M-0001DT-AT@d5vjzd1.ch3.sourceforge.com>

Revision: 12338
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12338&view=rev
Author:   vszakats
Date:     2009-08-26 23:41:27 +0000 (Wed, 26 Aug 2009)

Log Message:
-----------
2009-08-27 01:40 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/bsd/gcc.mk
  * config/darwin/gcc.mk
  * config/darwin/icc.mk
  * config/hpux/gcc.mk
  * config/linux/gcc.mk
  * config/linux/icc.mk
  * config/linux/sunpro.mk
  * config/sunos/gcc.mk
  * config/sunos/sunpro.mk
    + Added system lib paths to DFLAGS. This caused dynlib link
      error with X11 lib on Darwin.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/darwin/icc.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/config/linux/icc.mk
    trunk/harbour/config/linux/sunpro.mk
    trunk/harbour/config/sunos/gcc.mk
    trunk/harbour/config/sunos/sunpro.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Wed Aug 26 21:47:42 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Aug 26 21:47:48 2009
Subject: [Harbour] OpenOffice and Linux
In-Reply-To: <20090826175425.C7683200CCD1@eva222.dadanet.it>
References: <20090826175425.C7683200CCD1@eva222.dadanet.it>
Message-ID: <133778360908261847r7bf1d3c7v4d1323d654b90681@mail.gmail.com>

I am looking for same code used in OLE in windows
and Openoffice , may be nothing exist like this in Linux anda HArbour ?

Bruno

2009/8/26 <calimero22@freemail.it>

>
> If your work is simple, try to export your data in text mode, and then
> import them in writer or calc.
> Giovanni
>
>
> Exists anyway to generate openoffice files ( calc and writer )
>
> from harbour and linux ?
>
> Thanks in advance
>
> Bruno
>
>
> --- Dada Music Movement <http://www.dada.it/>, tutta la musica che vuoi!
> ---
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090826/3a7381bf/attachment.html
From ice at extreme.hu  Wed Aug 26 22:06:13 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Wed Aug 26 22:06:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12337] trunk/harbour
In-Reply-To: <alpine.GSO.2.00.0908262326360.17720@dawn.royalcomp.hu>
References: <E1MgMgk-0001HF-3g@d5vjzd1.ch3.sourceforge.com>
	<alpine.GSO.2.00.0908262139400.17720@dawn.royalcomp.hu>
	<alpine.GSO.2.00.0908262326360.17720@dawn.royalcomp.hu>
Message-ID: <alpine.GSO.2.00.0908270325180.17720@dawn.royalcomp.hu>

On Wed, 26 Aug 2009, Tamas TEVESZ wrote:

 >  > now (still on sunos) slang is somehow picked up (there's no slang on 
 >  > sunos, at least not anywhere harbour could pick up from without 
 >  > being explicitly told):
 > 
 > i should add that it seems it's not the detection magic, as it 
 > apparently knows no slang when building starts:

fwiw this seems to be a pasto, with the following having fixed it
here, as in still builds on linux, with slang picked up, compiled 
and linked fine; also builds on sunos, with slang properly skipped -- 
though this is just the result of an incremental build over a 
previously failed one, with a full build still running (it'll take a 
good several more hours to finish).

Index: source/rtl/gtsln/Makefile
===================================================================
--- source/rtl/gtsln/Makefile	(revision 12338)
+++ source/rtl/gtsln/Makefile	(working copy)
@@ -17,9 +17,9 @@
 # LDFLAGS := -L/usr/local/lib $(LDFLAGS)
 # LDFLAGS := -L/usr/lib/slang -L/usr/local/lib -L/usr/local/lib/slang $(LDFLAGS)
 
-ifneq ($(HB_HAS_CURSES),)
+ifneq ($(HB_HAS_SLANG),)
 
-   HB_CFLAGS += $(foreach d,$(HB_HAS_CURSES),-I$(d))
+   HB_CFLAGS += $(foreach d,$(HB_HAS_SLANG),-I$(d))
 
    ifneq ($(HB_HAS_GPM),)
       HB_CFLAGS += -DHB_HAS_GPM


on a slightly related note, while here, how about replacing some magic 
constants with standard macros:

Index: source/rtl/gtsln/mousesln.c
===================================================================
--- source/rtl/gtsln/mousesln.c	(revision 12338)
+++ source/rtl/gtsln/mousesln.c	(working copy)
@@ -354,9 +354,9 @@
 #ifdef HB_GPM_NOICE_DISABLE
       int iNull, iErr;
 
-      iErr = dup( 2 );
+      iErr = dup( STDERR_FILENO );
       iNull = open( "/dev/null", O_RDWR );
-      dup2( iNull, 2 );
+      dup2( iNull, STDERR_FILENO );
       close( iNull );
 #endif
       Conn.eventMask = GPM_MOVE | GPM_UP | GPM_DOWN | GPM_DRAG | GPM_DOUBLE;
@@ -390,7 +390,7 @@
          hb_gt_sln_mouse_FixTrash();
       }
 #ifdef HB_GPM_NOICE_DISABLE
-      dup2( iErr, 2 );
+      dup2( iErr, STDERR_FILENO );
       close( iErr );
 #endif
    }


-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Thu Aug 27 02:23:32 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 27 02:23:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12337] trunk/harbour
In-Reply-To: <alpine.GSO.2.00.0908270325180.17720@dawn.royalcomp.hu>
References: <E1MgMgk-0001HF-3g@d5vjzd1.ch3.sourceforge.com>
	<alpine.GSO.2.00.0908262139400.17720@dawn.royalcomp.hu>
	<alpine.GSO.2.00.0908262326360.17720@dawn.royalcomp.hu>
	<alpine.GSO.2.00.0908270325180.17720@dawn.royalcomp.hu>
Message-ID: <119ABFBE-F28E-4A40-9738-9A08B7F34ED2@syenar.hu>

>> i should add that it seems it's not the detection magic, as it
>> apparently knows no slang when building starts:
>
> fwiw this seems to be a pasto, with the following having fixed it
> here, as in still builds on linux, with slang picked up, compiled
> and linked fine; also builds on sunos, with slang properly skipped --
> though this is just the result of an incremental build over a
> previously failed one, with a full build still running (it'll take a
> good several more hours to finish).
>
> Index: source/rtl/gtsln/Makefile
> ===================================================================
> --- source/rtl/gtsln/Makefile	(revision 12338)
> +++ source/rtl/gtsln/Makefile	(working copy)
> @@ -17,9 +17,9 @@
> # LDFLAGS := -L/usr/local/lib $(LDFLAGS)
> # LDFLAGS := -L/usr/lib/slang -L/usr/local/lib -L/usr/local/lib/ 
> slang $(LDFLAGS)
>
> -ifneq ($(HB_HAS_CURSES),)
> +ifneq ($(HB_HAS_SLANG),)
>
> -   HB_CFLAGS += $(foreach d,$(HB_HAS_CURSES),-I$(d))
> +   HB_CFLAGS += $(foreach d,$(HB_HAS_SLANG),-I$(d))

Good catch! Thank you. I was watching this code, but couldn't see :)

> -      iErr = dup( 2 );
> +      iErr = dup( STDERR_FILENO );
>       iNull = open( "/dev/null", O_RDWR );
> -      dup2( iNull, 2 );
> +      dup2( iNull, STDERR_FILENO );
>       close( iNull );
> #endif
>       Conn.eventMask = GPM_MOVE | GPM_UP | GPM_DOWN | GPM_DRAG |  
> GPM_DOUBLE;
> @@ -390,7 +390,7 @@
>          hb_gt_sln_mouse_FixTrash();
>       }
> #ifdef HB_GPM_NOICE_DISABLE
> -      dup2( iErr, 2 );
> +      dup2( iErr, STDERR_FILENO );
>       close( iErr );
> #endif
>    }

I'll commit it.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Aug 27 02:28:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 02:28:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12339] trunk/harbour
Message-ID: <E1MgYT5-00028f-NN@d5vjzd1.ch3.sourceforge.com>

Revision: 12339
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12339&view=rev
Author:   vszakats
Date:     2009-08-27 06:28:18 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 08:27 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/detfun.mk
  * config/detect.mk
    + Added positive platform/compiler filters.
    + Simplified internal platform/compiler filter syntax, now it's
      one unified list where compiler/platform can be mixed and
      negative filters can be passed by using '!' char prefix.
    ! In comment text.

  * source/rtl/gtsln/Makefile
    ! Fixed silly copy-paste mistake in recent autodetection changes.
      Thanks to Tamas Tevesz for spotting it.

  * source/rtl/gtsln/mousesln.c
    * Using macros instead of a constants.
      (2 -> STDERR_FILENO)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/detect.mk
    trunk/harbour/config/detfun.mk
    trunk/harbour/source/rtl/gtsln/Makefile
    trunk/harbour/source/rtl/gtsln/mousesln.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 27 02:40:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 02:40:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12340] trunk/harbour
Message-ID: <E1MgYea-0002Pq-Av@d5vjzd1.ch3.sourceforge.com>

Revision: 12340
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12340&view=rev
Author:   vszakats
Date:     2009-08-27 06:40:11 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 08:39 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/detfun.mk
    + Accept 'yes' for HB_INC_* variables. Same meaning as leaving 
      it empty.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/detfun.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 27 02:46:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 02:46:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12341] trunk/harbour
Message-ID: <E1MgYkv-0002ZF-8B@d5vjzd1.ch3.sourceforge.com>

Revision: 12341
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12341&view=rev
Author:   vszakats
Date:     2009-08-27 06:46:44 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 08:45 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * mpkg_deb.sh
  * mpkg_tgz.sh
  * bin/hb-func.sh
  * harbour.spec
    + HB_GPM_MOUSE -> HB_INC_GPM and HB_HAS_GPM depending on whether
      it's a config var or a reaction to config (in postinst)
      I've left some value in hbmk script which may need further
      attention.
      I didn't test these changes, please do.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/harbour.spec
    trunk/harbour/mpkg_deb.sh
    trunk/harbour/mpkg_tgz.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 27 03:06:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 03:06:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12342] trunk/harbour
Message-ID: <E1MgZ4P-00033B-Sg@d5vjzd1.ch3.sourceforge.com>

Revision: 12342
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12342&view=rev
Author:   vszakats
Date:     2009-08-27 07:06:52 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 09:04 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * mpkg_deb.sh
  * bin/hb-func.sh
  * harbour.spec
  * mpkg_tgz.sh
    * HB_WITHOUT_GTCRS -> HB_INC_CURSES
    * HB_WITHOUT_GTSLN -> HB_INC_SLANG
    * HB_WITHOUT_X11   -> HB_INC_X11
    * HB_GPM_MOUSE     -> HB_INC_MOUSE (in few remaining hbmk script places)
    ; NOTE: After all this cleanup/leveling is done, probably
            HB_INC_* variables will be changed to more standard
            HB_WITH_* format. First I want to finish this part.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/harbour.spec
    trunk/harbour/mpkg_deb.sh
    trunk/harbour/mpkg_tgz.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 27 03:42:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 03:42:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12343] trunk/harbour
Message-ID: <E1MgZct-0000to-Fr@3kljzd1.ch3.sourceforge.com>

Revision: 12343
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12343&view=rev
Author:   vszakats
Date:     2009-08-27 07:42:30 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 09:40 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/gtalleg/Makefile
  * contrib/hbfbird/Makefile
  * contrib/hbfimage/Makefile
  * contrib/rddsql/sddfb/Makefile
    % Changed to use detfun.mk for external component detection.

  * config/detfun.mk
  * config/detect.mk
    + Separate platform and compiler filters.
    + Added new verbosity level (shows successful detection location)
    + Returns error text in _DET_RES_TEST variable.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/detect.mk
    trunk/harbour/config/detfun.mk
    trunk/harbour/contrib/gtalleg/Makefile
    trunk/harbour/contrib/hbfbird/Makefile
    trunk/harbour/contrib/hbfimage/Makefile
    trunk/harbour/contrib/rddsql/sddfb/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 27 03:48:31 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 03:48:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12344] trunk/harbour
Message-ID: <E1MgZih-00011U-8u@3kljzd1.ch3.sourceforge.com>

Revision: 12344
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12344&view=rev
Author:   vszakats
Date:     2009-08-27 07:48:30 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 09:48 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/gtalleg/Makefile
    * Minor cleanup.

  * contrib/hbssl/Makefile
    ! Fixed to use HB_HAS_OPENSSL to form -I options.
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtalleg/Makefile
    trunk/harbour/contrib/hbssl/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 27 03:50:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 03:50:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12345] trunk/harbour
Message-ID: <E1MgZke-00014x-36@3kljzd1.ch3.sourceforge.com>

Revision: 12345
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12345&view=rev
Author:   vszakats
Date:     2009-08-27 07:50:31 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 09:50 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/detect.mk
    % Deleted compatibility input and output vars.

  * ChangeLog
    + Items marked done.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/detect.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Thu Aug 27 06:35:59 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Thu Aug 27 06:36:08 2009
Subject: [Harbour] Are they expected?
References: <20018319685241A8901E9FDD1BEB4C3D@emag>
Message-ID: <A1E1FDB3FA094F1CBB04E306023A9A16@emag>


-----Messaggio Originale----- 
Da: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
A: "Harbour Project Developers Mailing List" <harbour@harbour-project.org>
Data invio: marted? 25 agosto 2009 10.07
Oggetto: [Harbour] Are they expected?


> hbmk2: Warning: File cannot be found: \utils\hbrun\hbrun.hbp
> hbmk2: Error: No source files were specified.
> hbmk2: Warning: File cannot be found: \utils\hbmk2\hbmk2.hbp
> hbmk2: Error: No source files were specified.
> hbmk2: Warning: File cannot be found: \utils\hbtest\hbtest.hbp
> hbmk2: Error: No source files were specified.
> hbmk2: Warning: File cannot be found: \utils\hbi18n\hbi18n.hbp
> hbmk2: Error: No source files were specified.
> hbmk2: Warning: File cannot be found: \utils\hbformat\hbformat.hbp
> hbmk2: Error: No source files were specified.
> ! Making hbrun with application icon...
> hbmk2: Warning: File cannot be found: \utils\hbrun\hbrun.hbp
> hbmk2: Error: No source files were specified.

It's ok now, many thanks.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Thu Aug 27 07:17:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 07:17:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12346] trunk/harbour
Message-ID: <E1MgczE-0007ND-2b@dn4whf1.ch3.sourceforge.com>

Revision: 12346
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12346&view=rev
Author:   vszakats
Date:     2009-08-27 11:17:45 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 13:15 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * mpkg_deb.sh
    * HB_WITHOUT_ADS -> HB_INC_ADS
    * HB_WITHOUT_ODBC -> HB_INC_ODBC
    ; Please verify these changes.

  * contrib/gtalleg/Makefile
  * contrib/hbmysql/Makefile
  * contrib/hbodbc/Makefile
  * contrib/hbsqlit3/Makefile
  * contrib/hbfbird/Makefile
  * contrib/hbcurl/hbcurls/Makefile
  * contrib/hbcurl/Makefile
  * contrib/rddsql/sddmy/Makefile
  * contrib/rddsql/sddpg/Makefile
  * contrib/rddsql/sddfb/Makefile
  * contrib/rddsql/sddodbc/Makefile
  * contrib/hbhpdf/Makefile
  * contrib/hbpgsql/Makefile
  * contrib/rddads/Makefile
  * contrib/hbfimage/Makefile
  * contrib/hbgd/Makefile
  * contrib/hbtip/Makefile
    + Using new central detection function instead of replicating
      in in every contrib. The "side effect" is that now precise
      instructions will be shown if a given contrib isn't included in a build.
      Code is much cleaner/simpler/shorter now.
    ; It's possible that I made some mistakes along the line,
      plus report if anything is wrongly detected.
    * external component names converted to all lowercase.
    ; QT will be done in next commit.

  * config/detfun.mk
  * config/detect.mk
    + Added usage instructions (moved parts from detect.mk to detfun.mk).
    * Moved help to detfun.mk.
    + Added HB_INC_* 'force' option.
    + Now clearing _DET_* vars on exit.
    * external component names converted to all lowercase.

  * config/global.mk
    + Updated plans.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/detect.mk
    trunk/harbour/config/detfun.mk
    trunk/harbour/config/global.mk
    trunk/harbour/contrib/gtalleg/Makefile
    trunk/harbour/contrib/hbcurl/Makefile
    trunk/harbour/contrib/hbcurl/hbcurls/Makefile
    trunk/harbour/contrib/hbfbird/Makefile
    trunk/harbour/contrib/hbfimage/Makefile
    trunk/harbour/contrib/hbgd/Makefile
    trunk/harbour/contrib/hbhpdf/Makefile
    trunk/harbour/contrib/hbmysql/Makefile
    trunk/harbour/contrib/hbodbc/Makefile
    trunk/harbour/contrib/hbpgsql/Makefile
    trunk/harbour/contrib/hbsqlit3/Makefile
    trunk/harbour/contrib/hbtip/Makefile
    trunk/harbour/contrib/rddads/Makefile
    trunk/harbour/contrib/rddsql/sddfb/Makefile
    trunk/harbour/contrib/rddsql/sddmy/Makefile
    trunk/harbour/contrib/rddsql/sddodbc/Makefile
    trunk/harbour/contrib/rddsql/sddpg/Makefile
    trunk/harbour/mpkg_deb.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 27 08:00:30 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 08:00:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12347] trunk/harbour
Message-ID: <E1MgdeY-0000Uf-0P@bj8yhf1.ch3.sourceforge.com>

Revision: 12347
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12347&view=rev
Author:   vszakats
Date:     2009-08-27 12:00:28 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 13:59 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/Makefile
  * contrib/hbxbp/Makefile
  * contrib/gtqtc/Makefile
    + QT detection is now also based on detfun.mk.
    * hbxbp changed a little, but the logic is basically the same.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtqtc/Makefile
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbxbp/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 27 08:03:10 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 08:03:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12348] trunk/harbour
Message-ID: <E1Mgdh8-0000Yx-EQ@bj8yhf1.ch3.sourceforge.com>

Revision: 12348
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12348&view=rev
Author:   vszakats
Date:     2009-08-27 12:03:09 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 14:02 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/Makefile
    ! Fix to prev. (uploaded version from wrong local machine)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 27 08:18:30 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 08:18:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12349] trunk/harbour
Message-ID: <E1Mgdvy-0000wp-CQ@bj8yhf1.ch3.sourceforge.com>

Revision: 12349
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12349&view=rev
Author:   vszakats
Date:     2009-08-27 12:18:29 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 14:18 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * external/libhpdf/Makefile
    + Using new central detection function.
      HB_WITH_LIBHPDF -> HB_INC_LIBHARU.

  * contrib/hbhpdf/Makefile
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbhpdf/Makefile
    trunk/harbour/external/libhpdf/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 27 08:30:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 08:30:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12350] trunk/harbour
Message-ID: <E1Mge7Y-0001FE-L3@bj8yhf1.ch3.sourceforge.com>

Revision: 12350
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12350&view=rev
Author:   vszakats
Date:     2009-08-27 12:30:27 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 14:30 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/Makefile
  * source/rtl/gtgui/Makefile
  * source/rtl/gtwvt/Makefile
    % Simplified inclusion logic.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/source/rtl/gtgui/Makefile
    trunk/harbour/source/rtl/gtwvt/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Thu Aug 27 10:36:50 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Thu Aug 27 10:36:58 2009
Subject: [Harbour] several build failures
Message-ID: <alpine.GSO.2.00.0908271530270.17720@dawn.royalcomp.hu>


hi,

#1

linux, sunpro:

! Building Harbour 2.0.0beta2 from source - http://www.harbour-project.org
! MAKE: make 3.81 /bin/sh   
! HB_INSTALL_PREFIX: /tmp/hbcc
! HB_HOST_PLAT: linux  HB_SHELL: sh
! HB_PLATFORM: linux (autodetected)
! HB_COMPILER: sunpro 
! Component: 'openssl' found in /usr/include
! Component: 'gpm' found in /usr/include
! Component: 'slang' found in /usr/include
! Component: 'curses' found in /usr/include
! Component: 'x11' found in /usr/include
! REVISION: 12350
[...]
../../../../../bin/linux/sunpro/harbour ../../../tpostgre.prg  -i../../../../../include -n1 -q0 -w3 -es2 -kmo -l  
suncc  -I. -I../../../../../include  -fast -xnolibmopt -KPIC  -erroff=%none  -I/usr/include/postgresql  -o tpostgre.o -c tpostgre.c
../../../../../bin/linux/sunpro/harbour ../../../pgrdd.prg  -i../../../../../include -n1 -q0 -w3 -es2 -kmo -l  
suncc  -I. -I../../../../../include  -fast -xnolibmopt -KPIC  -erroff=%none  -I/usr/include/postgresql  -o pgrdd.o -c pgrdd.c
ar   crs ../../../../../lib/linux/sunpro/libhbpgsql.a postgres.o tpostgre.o pgrdd.o || ( rm -f ../../../../../lib/linux/sunpro/libhbpgsql.a && false )
suncc  -I. -I../../../../../include  -fast -xnolibmopt -KPIC  -erroff=%none  -I/usr/include/qt4 -I/usr/include/qt4/Qt -I/usr/include/qt4/QtCore -I/usr/include/qt4/QtGui -I/usr/include/qt4/QtNetwork -I/usr/include/qt4/QtWebKit  -o moc_slots.o -c ../../../moc_slots.cpp
cc: No valid input files specified, no output generated
make[3]: *** [moc_slots.o] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [hbqt] Error 2
make: *** [contrib] Error 2

this looks as if suncc, when facing c++ code, didn't automagically 
know to treat is as c++ (like gcc does, for the most part). using 
HB_BUILD_MODE=cpp (ie. sunCC instead of suncc), it builds.

using gcc 4.3.3, it too builds, in both c and cpp modes.

granted, this is not core (yet), but maybe there's a way around this 
(maybe in a similar way as external/libhpdf/ explicitly switches to 
c mode).

#2

another linux, gcc 3.4.6 (version might be important) (centos 4.8):

! Building Harbour 2.0.0beta2 from source - http://www.harbour-project.org
! MAKE: make 3.81 /bin/sh   
! HB_INSTALL_PREFIX: /tmp/hb
! HB_HOST_PLAT: linux  HB_SHELL: sh
! HB_PLATFORM: linux (autodetected)
! HB_COMPILER: gcc (autodetected: /usr/bin/gcc /usr/bin/gcc /usr/bin/)
! Component: 'openssl' found in /usr/include
! Component: 'gpm' not found
! Component: 'slang' found in /usr/include/slang
! Component: 'curses' found in /usr/include
! Component: 'x11' found in /usr/include
! REVISION: 12350
[...]
../../../../../bin/linux/gcc/harbour ../../../dbgbrwsr.prg  -i../../../../../include -n1 -q0 -w3 -es2 -kmo -l
gcc  -I. -I../../../../../include  -Wall -W -O3  -fPIC -fPIC  -odbgbrwsr.o -c dbgbrwsr.c
ar   crs ../../../../../lib/linux/gcc/libhbdebug.a dbgentry.o dbgmenu.o dbghelp.o dbgtinp.o dbgtmenu.o dbgtmitm.o dbgtwin.o debugger.o dbgtarr.o dbgthsh.o dbgtobj.o tbrwtext.o dbgwa.o dbgbrwsr.o || ( rm -f ../../../../../lib/linux/gcc/libhbdebug.a && false )
gcc -shared -fPIC -L/usr/X11R6/lib  -o ../../../../../lib/linux/gcc/libharbour-2.0.0.so @__dyn__.tmp -lncurses -lslang -lX11 -lrt -ldl -lm
gcc: @__dyn__.tmp: No such file or directory
make[3]: *** [libharbour-2.0.0.so] Error 1
make[2]: *** [descend] Error 2

this looks as if this gcc didn't understand @<file> (indeed, it's not 
in the manpage, whereas it is for gcc4.3.3). does this happen for 
other gcc3 (or even gcc2) platforms? os/2 people?

slightly related, i've recently started seeing stuff like this:

gcc  -I. -I../../../../../include  -Wall -W -O3  -fPIC -fPIC  -oerrintlo.o -c ../../../errintlo.c

note double "-fPIC -fPIC". i'm not seeing anything of the sorts with 
sunpro. now it probably won't bite anything unix, but if it manifests 
itself on platforms where argument space is precious, it might be a 
problem.


-- 
[-]

mkdir /nonexistent
From vszakats at users.sourceforge.net  Thu Aug 27 11:24:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 11:24:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12351] trunk/harbour
Message-ID: <E1MggqJ-0006Oj-6e@dn4whf1.ch3.sourceforge.com>

Revision: 12351
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12351&view=rev
Author:   vszakats
Date:     2009-08-27 15:24:16 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 17:21 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/linux/sunpro.mk
  * config/sunos/sunpro.mk
    + Added HB_CCPATH, HB_CCPREFIX and HB_CCPOSTFIX support for CC and LD.
    - Deleted HB_CCPREFIX from linux/sunpro AR command.

  * config/global.mk
    * Updated comments.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/config/linux/sunpro.mk
    trunk/harbour/config/sunos/sunpro.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Thu Aug 27 11:40:51 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug 27 11:41:29 2009
Subject: [Harbour] ActiveX
Message-ID: <4A96A903.7050808@mweb.co.za>

Hi

I have done some testing of HWGUI and yesterday's Harbour compiled with hbmk2 
and MSVC 2008 with indifferent results.

If I run "Test MSCal" then the calendar control appears, and all the events 
occur nicely, however when I shut the app down Windows Vista reports that the 
App has "stopped working".

Shutting the app without starting any ActiveX controls exits fine.

If I run "Test BPTI" (an EFT ocx which I can supply if anyone wants it) then I 
get a clipper error :

Error BASE/3012  Failed to obtain connection point: __AXREGISTERHANDLER

I did some digging with MessageBox and a local copy of axcore.c and the OLE 
error is 0x80040200 (CONNECT_E_NOCONNECTION), MSDN says:

"CONNECT_E_NOCONNECTION Error

The CONNECT_E_NOCONNECTION error is returned when AtlAdvise() calls the 
IConnectionPointContainer::FindConnectionPoint() method and fails. The ATL 
implementation of the IConnectionPointContainerImpl::FindConnectionPoint() 
function looks in the connection point map for the event interface and returns 
this error if it doesn't find it."

I am able to use this BPTI control with an old version of HWGUI. The current 
version also "stops working" on shut down, but works until that point - but that 
is another story.

The test is as small as I can make it, and requires HWGUI which is not ideal. 
Feel free to ignore :)

Regards
Alex


#include "hbclass.ch"
#include "windows.ch"
#include "guilib.ch"


function main()

     local oMainWindow
     local oMSCAL
     local oBPTI

     INIT WINDOW oMainWindow MAIN TITLE "Hello ActiveX"  ;
             AT 200, 0 SIZE 420, 300

     MENU OF oMainWindow
         MENU TITLE "&File"
             MENUITEM "Test &MSCal" ACTION { || oMSCAL := HWGActiveX():New( 
oMainWindow, "MSCAL.Calendar", 0, 0, 300, 300 ) }
             MENUITEM "&Change Date" ACTION { || oMSCAL:NextDay() }
             SEPARATOR
             MENUITEM "Test &BPTI" ACTION { || oBPTI := HWGActiveX():New( 
oMainWindow, "BPTI.CoBpTiX1", 0, 0, 300, 300 ) }
             SEPARATOR
             MENUITEM "E&xit" ACTION { || EndWindow() }
         ENDMENU
     ENDMENU

     ACTIVATE WINDOW oMainWindow

     oMSCAL := nil
     oBPTI := nil

return nil


CLASS HWGActiveX FROM HControl

     CLASS VAR winclass INIT "ACTIVEX"

     DATA oOLE INIT NIL

     METHOD New
     METHOD Event

     ERROR HANDLER OnError

ENDCLASS


METHOD New( oWnd, cProgId, nTop, nLeft, nWidth, nHeight ) CLASS HWGActiveX

     local nStyle
     local hWnd

     nStyle := WS_CHILD + WS_VISIBLE + WS_CLIPCHILDREN
     //Super:New( oWnd, , nStyle, nLeft, nTop, nWidth, nHeight )
     WIN_AxInit()
     hWnd := WAPI_CreateWindowEX( 0, "AtlAxWin", cProgId, nStyle, nLeft, nTop, 
nWidth, nHeight, WIN_N2P( oWnd:handle ), 0 )
     ::oOLE := WIN_AxGetControl( hWnd, { | event, ... | ::Event( event, ... ) } )

return self


METHOD Event( event, ... ) CLASS HWGActiveX

     MsgInfo( HB_ValToStr( event ) )

return NIL


I changed axcore.c so I could see lOleError:

char * WIN_OLEErrorText( HRESULT lOleError )
{

    static char errormsg[100];
    switch( lOleError )
    {
       case S_OK:                    return "S_OK";
       case CO_E_CLASSSTRING:        return "CO_E_CLASSSTRING";
       case OLE_E_WRONGCOMPOBJ:      return "OLE_E_WRONGCOMPOBJ";
       case REGDB_E_CLASSNOTREG:     return "REGDB_E_CLASSNOTREG";
       case REGDB_E_WRITEREGDB:      return "REGDB_E_WRITEREGDB";
       case E_OUTOFMEMORY:           return "E_OUTOFMEMORY";
       case E_INVALIDARG:            return "E_INVALIDARG";
       case E_UNEXPECTED:            return "E_UNEXPECTED";
       case DISP_E_UNKNOWNNAME:      return "DISP_E_UNKNOWNNAME";
       case DISP_E_UNKNOWNLCID:      return "DISP_E_UNKNOWNLCID";
       case DISP_E_BADPARAMCOUNT:    return "DISP_E_BADPARAMCOUNT";
       case DISP_E_BADVARTYPE:       return "DISP_E_BADVARTYPE";
       case DISP_E_EXCEPTION:        return "DISP_E_EXCEPTION";
       case DISP_E_MEMBERNOTFOUND:   return "DISP_E_MEMBERNOTFOUND";
       case DISP_E_NONAMEDARGS:      return "DISP_E_NONAMEDARGS";
       case DISP_E_OVERFLOW:         return "DISP_E_OVERFLOW";
       case DISP_E_PARAMNOTFOUND:    return "DISP_E_PARAMNOTFOUND";
       case DISP_E_TYPEMISMATCH:     return "DISP_E_TYPEMISMATCH";
       case DISP_E_UNKNOWNINTERFACE: return "DISP_E_UNKNOWNINTERFACE";
       case DISP_E_PARAMNOTOPTIONAL: return "DISP_E_PARAMNOTOPTIONAL";
       default:
	  {
		 sprintf( errormsg, "%x", lOleError );
	  	 return errormsg;
	  }
    }
}

HB_FUNC( __AXREGISTERHANDLER )  /* ( pDisp, bHandler ) --> pSink */
{
    IDispatch * pDisp = hb_oleParam( 1 );

    if( pDisp )
    {
       PHB_ITEM pItemBlock = hb_param( 2, HB_IT_BLOCK | HB_IT_SYMBOL | HB_IT_HASH );

       if( pItemBlock )
       {
          IConnectionPointContainer*  pCPC = NULL;
          IConnectionPoint*           pCP = NULL;
          HRESULT                     lOleError;

          lOleError = HB_VTBL( pDisp )->QueryInterface( HB_THIS_( pDisp ) 
HB_ID_REF( IID_IConnectionPointContainer ), ( void** ) ( void* ) &pCPC );
MessageBox(NULL, WIN_OLEErrorText( lOleError ), "QueryInterface"
, MB_OK);
          if( lOleError == S_OK )
          {
             lOleError = HB_VTBL( pCPC )->FindConnectionPoint( HB_THIS_( pCPC ) 
HB_ID_REF( IID_IDispatch ), &pCP );
MessageBox(NULL, WIN_OLEErrorText( lOleError ), "FindConnectionPoint"
, MB_OK);
             if( lOleError == S_OK )
             {
                DWORD dwCookie = 0;
                ISink * pSink;

                pSink = ( ISink* ) hb_xgrab( sizeof( ISink ) );    /* TODO: 
GlobalAlloc/Free GMEM_FIXED ??? */

                pSink->lpVtbl = ( IDispatchVtbl * ) &ISink_Vtbl;
                pSink->count = 1; /* 1 for Harbour collectible pointer 
[Mindaugas] */
                pSink->pItemHandler = hb_itemNew( pItemBlock );
                lOleError = HB_VTBL( pCP )->Advise( HB_THIS_( pCP ) ( IUnknown* 
) pSink, &dwCookie );
                pSink->pConnectionPoint = pCP;
                pSink->dwCookie = dwCookie;

                hb_oleItemPut( hb_stackReturnItem(), ( IDispatch* ) pDisp );
             }
             HB_VTBL( pCPC )->Release( HB_THIS( pCPC ) );
          }

          hb_oleSetError( lOleError );
          if( lOleError != S_OK )
             hb_errRT_BASE_SubstR( EG_ARG, 3012, "Failed to obtain connection 
point", HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
       }
       else
          hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 
HB_ERR_ARGS_BASEPARAMS );
    }
}
From ice at extreme.hu  Thu Aug 27 11:43:18 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Thu Aug 27 11:43:26 2009
Subject: [Harbour] several build failures
In-Reply-To: <alpine.GSO.2.00.0908271530270.17720@dawn.royalcomp.hu>
References: <alpine.GSO.2.00.0908271530270.17720@dawn.royalcomp.hu>
Message-ID: <alpine.GSO.2.00.0908271742060.17720@dawn.royalcomp.hu>

On Thu, 27 Aug 2009, Tamas TEVESZ wrote:

 > this looks as if suncc, when facing c++ code, didn't automagically 
 > know to treat is as c++ (like gcc does, for the most part). using 
 > HB_BUILD_MODE=cpp (ie. sunCC instead of suncc), it builds.
 > 
 > using gcc 4.3.3, it too builds, in both c and cpp modes.
 > 
 > granted, this is not core (yet), but maybe there's a way around this 
 > (maybe in a similar way as external/libhpdf/ explicitly switches to 
 > c mode).

indeed this fixes at least the compilation phase. can't test the 
result, though, as i'm hitting something in hbmk2 now...

Index: contrib/hbqt/Makefile
===================================================================
--- contrib/hbqt/Makefile	(revision 12350)
+++ contrib/hbqt/Makefile	(working copy)
@@ -6,6 +6,10 @@
 
 include $(TOP)$(ROOT)config/global.mk
 
+ifeq ($(HB_COMPILER),sunpro)
+   HB_BUILD_MODE=cpp
+endif
+
 ifeq ($(HB_QT_STATIC),)
    LIBNAME := hbqt
 else


-- 
[-]

mkdir /nonexistent
From sscc at mweb.co.za  Thu Aug 27 11:45:55 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Aug 27 11:46:06 2009
Subject: [Harbour] ActiveX
In-Reply-To: <4A96A903.7050808@mweb.co.za>
References: <4A96A903.7050808@mweb.co.za>
Message-ID: <4A96AA33.4020103@mweb.co.za>

Alex Strickland wrote:

Damn, I left this out of cut and paste:

METHOD OnError() CLASS HWGActiveX

return HB_ExecFromArray( ::oOLE, __GetMessage(), HB_AParams() )

Regards
Alex

From harbour.01 at syenar.hu  Thu Aug 27 12:03:34 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 27 12:03:49 2009
Subject: [Harbour] several build failures
In-Reply-To: <alpine.GSO.2.00.0908271530270.17720@dawn.royalcomp.hu>
References: <alpine.GSO.2.00.0908271530270.17720@dawn.royalcomp.hu>
Message-ID: <2A911950-FD73-4E2A-8FDC-77EA767AF759@syenar.hu>

Hi,

> #1
>
> suncc  -I. -I../../../../../include  -fast -xnolibmopt -KPIC  - 
> erroff=%none  -I/usr/include/qt4 -I/usr/include/qt4/Qt -I/usr/ 
> include/qt4/QtCore -I/usr/include/qt4/QtGui -I/usr/include/qt4/ 
> QtNetwork -I/usr/include/qt4/QtWebKit  -o moc_slots.o -c ../../../ 
> moc_slots.cpp
> cc: No valid input files specified, no output generated
> make[3]: *** [moc_slots.o] Error 1
> make[2]: *** [descend] Error 2
> make[1]: *** [hbqt] Error 2
> make: *** [contrib] Error 2
>
> this looks as if suncc, when facing c++ code, didn't automagically
> know to treat is as c++ (like gcc does, for the most part). using
> HB_BUILD_MODE=cpp (ie. sunCC instead of suncc), it builds.
>
> using gcc 4.3.3, it too builds, in both c and cpp modes.
>
> granted, this is not core (yet), but maybe there's a way around this
> (maybe in a similar way as external/libhpdf/ explicitly switches to
> c mode).

Is this a new error after latest changes?

We can either force .cpp mode, or introduce cpp compiler name macro
and add simple logic to use it rules.mk. [ if this is a new problem ]
Probably latter would be cleaner, dunno why it wasn't done till
now.

> #2
>
> another linux, gcc 3.4.6 (version might be important) (centos 4.8):
>
> ! Building Harbour 2.0.0beta2 from source - http://www.harbour-project.org
> ! MAKE: make 3.81 /bin/sh
> ! HB_INSTALL_PREFIX: /tmp/hb
> ! HB_HOST_PLAT: linux  HB_SHELL: sh
> ! HB_PLATFORM: linux (autodetected)
> ! HB_COMPILER: gcc (autodetected: /usr/bin/gcc /usr/bin/gcc /usr/bin/)
> ! Component: 'openssl' found in /usr/include
> ! Component: 'gpm' not found
> ! Component: 'slang' found in /usr/include/slang
> ! Component: 'curses' found in /usr/include
> ! Component: 'x11' found in /usr/include
> ! REVISION: 12350
> [...]
> ../../../../../bin/linux/gcc/harbour ../../../dbgbrwsr.prg  - 
> i../../../../../include -n1 -q0 -w3 -es2 -kmo -l
> gcc  -I. -I../../../../../include  -Wall -W -O3  -fPIC -fPIC  - 
> odbgbrwsr.o -c dbgbrwsr.c
> ar   crs ../../../../../lib/linux/gcc/libhbdebug.a dbgentry.o  
> dbgmenu.o dbghelp.o dbgtinp.o dbgtmenu.o dbgtmitm.o dbgtwin.o  
> debugger.o dbgtarr.o dbgthsh.o dbgtobj.o tbrwtext.o dbgwa.o  
> dbgbrwsr.o || ( rm -f ../../../../../lib/linux/gcc/libhbdebug.a &&  
> false )
> gcc -shared -fPIC -L/usr/X11R6/lib  -o ../../../../../lib/linux/gcc/ 
> libharbour-2.0.0.so @__dyn__.tmp -lncurses -lslang -lX11 -lrt -ldl -lm
> gcc: @__dyn__.tmp: No such file or directory
> make[3]: *** [libharbour-2.0.0.so] Error 1
> make[2]: *** [descend] Error 2

Here it works (latest ubuntu), but we can change it if this isn't
portable enough. We can use the other method also used in mingw.mk.
Could you give it a try? (INPUT(<filename>) in disk file and omitting
'@' from cmdline). Or we can just plain pass the list of objects.
On most *nixes this should not be a problem.

> this looks as if this gcc didn't understand @<file> (indeed, it's not
> in the manpage, whereas it is for gcc4.3.3). does this happen for
> other gcc3 (or even gcc2) platforms? os/2 people?

Okay, if we have the best solution we can apply it to all gcc.mk
files.

> slightly related, i've recently started seeing stuff like this:
>
> gcc  -I. -I../../../../../include  -Wall -W -O3  -fPIC -fPIC  - 
> oerrintlo.o -c ../../../errintlo.c
>
> note double "-fPIC -fPIC". i'm not seeing anything of the sorts with
> sunpro. now it probably won't bite anything unix, but if it manifests
> itself on platforms where argument space is precious, it might be a
> problem.

No idea yet, plus couldn't replicate it, but I'll look further.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Aug 27 12:20:35 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 12:20:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12352] trunk/harbour
Message-ID: <E1MghiF-0003UB-E1@3kljzd1.ch3.sourceforge.com>

Revision: 12352
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12352&view=rev
Author:   vszakats
Date:     2009-08-27 16:20:34 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 18:20 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/linux/sunpro.mk
    + Setting CXX for linux/sunpro.mk to make it build .cpp files
      without forcing cpp mode explicitly. (suncc seems to do nothing
      with .cpp input files.)
      Same fix for sunos/sunpro?

  * config/rules.mk
    + Added option to override C++ compiler tool name with
      $(CXX) variable.

  * external/sqlite3/Makefile
  * external/libpng/Makefile
    * Formatting/cleanup.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/linux/sunpro.mk
    trunk/harbour/config/rules.mk
    trunk/harbour/external/libpng/Makefile
    trunk/harbour/external/sqlite3/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 27 12:37:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 12:37:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12353] trunk/harbour
Message-ID: <E1Mghyk-0003rs-9m@3kljzd1.ch3.sourceforge.com>

Revision: 12353
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12353&view=rev
Author:   vszakats
Date:     2009-08-27 16:37:37 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 18:37 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/bsd/gcc.mk
  * config/hpux/gcc.mk
  * config/linux/gcc.mk
  * config/linux/icc.mk
  * config/sunos/gcc.mk
    * Changed to use different method to pass object file list to gcc.
      Previous method (@<filename>) only works in 4.x (?) gcc versions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/config/linux/icc.mk
    trunk/harbour/config/sunos/gcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Thu Aug 27 13:14:03 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Thu Aug 27 13:14:27 2009
Subject: [Harbour] several build failures
In-Reply-To: <2A911950-FD73-4E2A-8FDC-77EA767AF759@syenar.hu>
References: <alpine.GSO.2.00.0908271530270.17720@dawn.royalcomp.hu>
	<2A911950-FD73-4E2A-8FDC-77EA767AF759@syenar.hu>
Message-ID: <alpine.GSO.2.00.0908271818490.17720@dawn.royalcomp.hu>

On Thu, 27 Aug 2009, Viktor Szak?ts wrote:

 > > suncc  -I. -I../../../../../include  -fast -xnolibmopt -KPIC  -erroff=%none
 > > -I/usr/include/qt4 -I/usr/include/qt4/Qt -I/usr/include/qt4/QtCore
 > > -I/usr/include/qt4/QtGui -I/usr/include/qt4/QtNetwork
 > > -I/usr/include/qt4/QtWebKit  -o moc_slots.o -c ../../../moc_slots.cpp
 > > cc: No valid input files specified, no output generated
 > > make[3]: *** [moc_slots.o] Error 1
 > > make[2]: *** [descend] Error 2
 > > make[1]: *** [hbqt] Error 2
 > > make: *** [contrib] Error 2
 > > 
 > > this looks as if suncc, when facing c++ code, didn't automagically
 > > know to treat is as c++ (like gcc does, for the most part). using
 > > HB_BUILD_MODE=cpp (ie. sunCC instead of suncc), it builds.
 > > 
 > > using gcc 4.3.3, it too builds, in both c and cpp modes.
 > > 
 > > granted, this is not core (yet), but maybe there's a way around this
 > > (maybe in a similar way as external/libhpdf/ explicitly switches to
 > > c mode).
 > 
 > Is this a new error after latest changes?

don't know, haven't built on linux (where there's qt) in a while. i'll 
check out an older version to see, any particular recommendations 
(before revision this-and-that)?

 > > ../../../../../lib/linux/gcc/libharbour-2.0.0.so @__dyn__.tmp -lncurses
 > > -lslang -lX11 -lrt -ldl -lm
 > > gcc: @__dyn__.tmp: No such file or directory
 > > make[3]: *** [libharbour-2.0.0.so] Error 1
 > > make[2]: *** [descend] Error 2
 > 
 > Here it works (latest ubuntu), but we can change it if this isn't

yes, newer gccs work. don't have exact versions, though, 

 > portable enough. We can use the other method also used in mingw.mk. 
 > Could you give it a try? (INPUT(<filename>) in disk file and 
 > omitting '@' from cmdline).

i see you've committed it in the meantime. that works, yes, but

 > Or we can just plain pass the list of objects. On most *nixes this 
 > should not be a problem.

i'd still vote for this, though. no particular reason, just gives me a 
warmer fuzzier feeling. whatever. just don't break not even gcc2, 
please ;)

this however surfaced another issue:

ar   crs ../../../../../lib/linux/gcc/libhbdebug.a dbgentry.o dbgmenu.o dbghelp.o dbgtinp.o dbgtmenu.o dbgtmitm.o dbgtwin.o debugger.o dbgtarr.o dbgthsh.o dbgtobj.o tbrwtext.o dbgwa.o dbgbrwsr.o || ( rm -f ../../../../../lib/linux/gcc/libhbdebug.a && false )
gcc -shared -fPIC -L/usr/X11R6/lib  -o ../../../../../lib/linux/gcc/libharbour-2.0.0.so __dyn__.tmp -lncurses -lslang -lX11 -lrt -ldl -lm
/usr/bin/ld: cannot find -lX11
collect2: ld returned 1 exit status

this is because the x11 libs are not in /usr/X11R6/lib but in 
/usr/X11R6/lib64 (this being redhat, where "/usr/lib" is not always 
the native isa, but always 32bits, whereas on debian /usr/lib is 
always native, and you have /usr/lib32 for compat stuff; ditto for 
/lib{,64} and the other similar dirs).

as a quick fix i've applied 

--- config/linux/libs.mk        (revision 12353)
+++ config/linux/libs.mk        (working copy)
@@ -40,7 +40,7 @@
    endif
    ifneq ($(HB_HAS_X11),)
       SYSLIBS += X11
-    # SYSLIBPATHS += /usr/X11R6/lib64
+      SYSLIBPATHS += /usr/X11R6/lib64
       SYSLIBPATHS += /usr/X11R6/lib
    endif
    ifneq ($(HB_HAS_GPM),)

this, but i really doubt this is the proper way.

 > > this looks as if this gcc didn't understand @<file> (indeed, it's not
 > > in the manpage, whereas it is for gcc4.3.3). does this happen for
 > > other gcc3 (or even gcc2) platforms? os/2 people?
 > 
 > Okay, if we have the best solution we can apply it to all gcc.mk
 > files.
 > 
 > > slightly related, i've recently started seeing stuff like this:
 > > 
 > > gcc  -I. -I../../../../../include  -Wall -W -O3  -fPIC -fPIC  -oerrintlo.o
 > > -c ../../../errintlo.c
 > > 
 > > note double "-fPIC -fPIC". i'm not seeing anything of the sorts with
 > > sunpro. now it probably won't bite anything unix, but if it manifests
 > > itself on platforms where argument space is precious, it might be a
 > > problem.
 > 
 > No idea yet, plus couldn't replicate it, but I'll look further.

uh. i don't see anything special in my env or anything, it's just so:

$ svn diff
$ env | fgrep HB
$ env | fgrep FLA
$ make
! Building Harbour 2.0.0beta2 from source - http://www.harbour-project.org
! MAKE: make 3.81 /bin/sh   
! HB_HOST_PLAT: linux  HB_SHELL: sh
! HB_PLATFORM: linux (autodetected)
! HB_COMPILER: gcc (autodetected: /usr/bin/gcc /usr/bin/X11/gcc /usr/X11R6/bin/gcc /usr/bin/)
! Component: 'openssl' found in /usr/include
! Component: 'gpm' found in /usr/include
! Component: 'slang' found in /usr/include
! Component: 'curses' found in /usr/include
! Component: 'x11' found in /usr/include
! HB_INSTALL_PREFIX automatically set to: /usr/local
! REVISION: 12352
make[2]: Nothing to be done for `all'.
make[1]: Nothing to be done for `all'.
gcc  -I. -I../../../../../include  -Wall -W -O3  -fPIC -fPIC  -c ../../../expropt1.c -oexpropt1.o

this on ubuntu 9.04 x64, with no configuration out of the ordinary, as 
far as i can tell, and also on centos 4.8, with definitely no 
configuration out of the ordinary (very fresh install, and i don't 
know red hat enough to screw it up anyway :).

-- 
[-]

mkdir /nonexistent
From vszakats at users.sourceforge.net  Thu Aug 27 13:17:29 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 13:17:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12354] trunk/harbour
Message-ID: <E1MgibJ-0001hA-7o@dn4whf1.ch3.sourceforge.com>

Revision: 12354
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12354&view=rev
Author:   vszakats
Date:     2009-08-27 17:16:44 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 19:15 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/rules.mk
    ! Mistake slipped in.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/rules.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Aug 27 13:49:39 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 27 13:49:50 2009
Subject: [Harbour] several build failures
In-Reply-To: <alpine.GSO.2.00.0908271818490.17720@dawn.royalcomp.hu>
References: <alpine.GSO.2.00.0908271530270.17720@dawn.royalcomp.hu>
	<2A911950-FD73-4E2A-8FDC-77EA767AF759@syenar.hu>
	<alpine.GSO.2.00.0908271818490.17720@dawn.royalcomp.hu>
Message-ID: <99874922-39B2-4A04-91E5-9D0F2AA61E70@syenar.hu>

>>> using gcc 4.3.3, it too builds, in both c and cpp modes.
>>>
>>> granted, this is not core (yet), but maybe there's a way around this
>>> (maybe in a similar way as external/libhpdf/ explicitly switches to
>>> c mode).
>>
>> Is this a new error after latest changes?
>
> don't know, haven't built on linux (where there's qt) in a while. i'll
> check out an older version to see, any particular recommendations
> (before revision this-and-that)?

Perhaps r12086 (2009-08-12 14:36) would be interesting to check.

I used to build linux/sunpro, but don't remember such error.

Moreover it's quite interesting that the suncc command is executed,
but it's just silently doing nothing.

>>> ../../../../../lib/linux/gcc/libharbour-2.0.0.so @__dyn__.tmp - 
>>> lncurses
>>> -lslang -lX11 -lrt -ldl -lm
>>> gcc: @__dyn__.tmp: No such file or directory
>>> make[3]: *** [libharbour-2.0.0.so] Error 1
>>> make[2]: *** [descend] Error 2
>>
>> Here it works (latest ubuntu), but we can change it if this isn't
>
> yes, newer gccs work. don't have exact versions, though,

Okay, I've changed back all gccs to use to older safe method.
Should be okay, if not shout.

>> portable enough. We can use the other method also used in mingw.mk.
>> Could you give it a try? (INPUT(<filename>) in disk file and
>> omitting '@' from cmdline).
>
> i see you've committed it in the meantime. that works, yes, but
>
>> Or we can just plain pass the list of objects. On most *nixes this
>> should not be a problem.
>
> i'd still vote for this, though. no particular reason, just gives me a
> warmer fuzzier feeling. whatever. just don't break not even gcc2,
> please ;)

Would have preferred to do this, but I have no information
on *nix cmdline size limits. Currently we'd need 30-32K,
and may go up to 40K on the mid run.

Found this:
http://www.in-ulm.de/~mascheck/various/argmax/

But for me it's difficult to conclude anything close to
real life.

If you *nix gurus think such is okay to do, I will do it,
it would even make rules simpler.

> this however surfaced another issue:
>
> ar   crs ../../../../../lib/linux/gcc/libhbdebug.a dbgentry.o  
> dbgmenu.o dbghelp.o dbgtinp.o dbgtmenu.o dbgtmitm.o dbgtwin.o  
> debugger.o dbgtarr.o dbgthsh.o dbgtobj.o tbrwtext.o dbgwa.o  
> dbgbrwsr.o || ( rm -f ../../../../../lib/linux/gcc/libhbdebug.a &&  
> false )
> gcc -shared -fPIC -L/usr/X11R6/lib  -o ../../../../../lib/linux/gcc/ 
> libharbour-2.0.0.so __dyn__.tmp -lncurses -lslang -lX11 -lrt -ldl -lm
> /usr/bin/ld: cannot find -lX11
> collect2: ld returned 1 exit status
>
> this is because the x11 libs are not in /usr/X11R6/lib but in
> /usr/X11R6/lib64 (this being redhat, where "/usr/lib" is not always
> the native isa, but always 32bits, whereas on debian /usr/lib is
> always native, and you have /usr/lib32 for compat stuff; ditto for
> /lib{,64} and the other similar dirs).

Yes, this has never been solved on the GNU Make level, the
64-bit flavor lib dir is sitting there commented since ages.

To solve this we can jump into detecting *nix (Linux?) ISA
to the extent we have enough information to decide on this.
If this information is there, it's easy to solve. But may
this isn't such easy.

The existing hbmk[2] logic here is to simply check for presence
of 64-bit dir and add it before regular dir if exist. Even lazier
solution is to always add the 64-bit dir, which I guess will be
ignored anyway by linker, if not there. For some reason though
this hasn't been done this way.

Choice is up to *nix gurus. I'd go for the simplest which
works w/o side-effects.

> as a quick fix i've applied
>
> --- config/linux/libs.mk        (revision 12353)
> +++ config/linux/libs.mk        (working copy)
> @@ -40,7 +40,7 @@
>    endif
>    ifneq ($(HB_HAS_X11),)
>       SYSLIBS += X11
> -    # SYSLIBPATHS += /usr/X11R6/lib64
> +      SYSLIBPATHS += /usr/X11R6/lib64
>       SYSLIBPATHS += /usr/X11R6/lib
>    endif
>    ifneq ($(HB_HAS_GPM),)
>
> this, but i really doubt this is the proper way.

We're on the same page. Well, I tend to think this is alright,
but maybe an extra existence check would be needed. Anyone?

>>> note double "-fPIC -fPIC". i'm not seeing anything of the sorts with
>>> sunpro. now it probably won't bite anything unix, but if it  
>>> manifests
>>> itself on platforms where argument space is precious, it might be a
>>> problem.
>>
>> No idea yet, plus couldn't replicate it, but I'll look further.
>
> uh. i don't see anything special in my env or anything, it's just so:

Not wanted to imply that.

> $ svn diff
> $ env | fgrep HB
> $ env | fgrep FLA
> $ make
> ! Building Harbour 2.0.0beta2 from source - http://www.harbour-project.org
> ! MAKE: make 3.81 /bin/sh
> ! HB_HOST_PLAT: linux  HB_SHELL: sh
> ! HB_PLATFORM: linux (autodetected)
> ! HB_COMPILER: gcc (autodetected: /usr/bin/gcc /usr/bin/X11/gcc /usr/ 
> X11R6/bin/gcc /usr/bin/)
> ! Component: 'openssl' found in /usr/include
> ! Component: 'gpm' found in /usr/include
> ! Component: 'slang' found in /usr/include
> ! Component: 'curses' found in /usr/include
> ! Component: 'x11' found in /usr/include
> ! HB_INSTALL_PREFIX automatically set to: /usr/local
> ! REVISION: 12352
> make[2]: Nothing to be done for `all'.
> make[1]: Nothing to be done for `all'.
> gcc  -I. -I../../../../../include  -Wall -W -O3  -fPIC -fPIC  - 
> c ../../../expropt1.c -oexpropt1.o
>
> this on ubuntu 9.04 x64, with no configuration out of the ordinary, as
> far as i can tell, and also on centos 4.8, with definitely no
> configuration out of the ordinary (very fresh install, and i don't
> know red hat enough to screw it up anyway :).

x64 is the key. The one I have is x86 only.
I tried to emulate -fPIC usage on windows after your mail, but there
there wasn't a problem, I'll recheck on Ubuntu ASAP.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Aug 27 14:09:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 14:09:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12355] trunk/harbour
Message-ID: <E1MgjPc-0005q8-R1@3kljzd1.ch3.sourceforge.com>

Revision: 12355
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12355&view=rev
Author:   vszakats
Date:     2009-08-27 18:09:27 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 20:03 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/linux/libs.mk
    ! Deleted some stuff left when doing the copy from
      global.mk (yesterday).
      Should fix double -fPIC switches seen on 64-bit Linux builds.

  * config/linux/libs.mk
    + Adding /usr/X11R6/lib64 to sys lib path list on 64-bit systems.
      If you find this wrong, please tell, we can tweak conditions.

  * config/bsd/gcc.mk
  * config/darwin/gcc.mk
  * config/hpux/gcc.mk
  * config/linux/gcc.mk
  * config/sunos/gcc.mk
    * Changed to just plain pass list of obj on cmdline in dynamic
      lib creation rule. Should be safe on these OSes according to this doc:
         http://www.in-ulm.de/~mascheck/various/argmax/
      (we need about 31-32KB of cmdline at this moment)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/config/linux/libs.mk
    trunk/harbour/config/sunos/gcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Thu Aug 27 14:13:41 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Aug 27 14:14:07 2009
Subject: [Harbour] The mingw-w64 project For Windows 64-bit and 32-bit
	operating systems
Message-ID: <609353e70908271113k4619704asce29ef6d38816078@mail.gmail.com>

The mingw-w64 project is a complete run time environment for gcc to
support binaries native to Windows 64-bit and 32-bit operating systems

This project is a good alternative to VisualStudio C++ for x64. It's
also an alternative to the "original" MinGW. The project maintainers
are very responsive, and the hot patches are typically applied
quickly. Great thanks!
posted by?ivmai?1 days ago

http://sourceforge.net/projects/mingw-w64/

Any experiences using harbour?

--
Massimo Belgrano
From vszakats at users.sourceforge.net  Thu Aug 27 14:15:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 14:15:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12356] trunk/harbour
Message-ID: <E1MgjVm-0005xo-HK@3kljzd1.ch3.sourceforge.com>

Revision: 12356
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12356&view=rev
Author:   vszakats
Date:     2009-08-27 18:15:49 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 20:15 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/bsd/gcc.mk
  * config/hpux/gcc.mk
    ! Restored cmdline lenght saver trick for BSD and HPUX after 
      giving this http://www.in-ulm.de/~mascheck/various/argmax/ 
      a bit more careful read.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/hpux/gcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Aug 27 14:17:54 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Aug 27 14:18:03 2009
Subject: [Harbour] The mingw-w64 project For Windows 64-bit and 32-bit
	operating systems
In-Reply-To: <609353e70908271113k4619704asce29ef6d38816078@mail.gmail.com>
References: <609353e70908271113k4619704asce29ef6d38816078@mail.gmail.com>
Message-ID: <6B19F3A2-9FA8-47A8-9679-EF58C3E227BA@syenar.hu>

We fully support it since long. In the first unified release
the whole package was bundled with Harbour, since it was left
out because of huge bloat, and replaced with install
instructions.

Brgds,
Viktor

On 2009.08.27., at 8:13, Massimo Belgrano wrote:

> The mingw-w64 project is a complete run time environment for gcc to
> support binaries native to Windows 64-bit and 32-bit operating systems
>
> This project is a good alternative to VisualStudio C++ for x64. It's
> also an alternative to the "original" MinGW. The project maintainers
> are very responsive, and the hot patches are typically applied
> quickly. Great thanks!
> posted by ivmai 1 days ago
>
> http://sourceforge.net/projects/mingw-w64/
>
> Any experiences using harbour?
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From ice at extreme.hu  Thu Aug 27 14:51:11 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Thu Aug 27 14:51:19 2009
Subject: [Harbour] several build failures
In-Reply-To: <99874922-39B2-4A04-91E5-9D0F2AA61E70@syenar.hu>
References: <alpine.GSO.2.00.0908271530270.17720@dawn.royalcomp.hu>
	<2A911950-FD73-4E2A-8FDC-77EA767AF759@syenar.hu>
	<alpine.GSO.2.00.0908271818490.17720@dawn.royalcomp.hu>
	<99874922-39B2-4A04-91E5-9D0F2AA61E70@syenar.hu>
Message-ID: <alpine.GSO.2.00.0908272012310.17720@dawn.royalcomp.hu>

On Thu, 27 Aug 2009, Viktor Szak?ts wrote:

 > > > > using gcc 4.3.3, it too builds, in both c and cpp modes.
 > > > > 
 > > > > granted, this is not core (yet), but maybe there's a way around this
 > > > > (maybe in a similar way as external/libhpdf/ explicitly switches to
 > > > > c mode).
 > > > 
 > > > Is this a new error after latest changes?
 > > 
 > > don't know, haven't built on linux (where there's qt) in a while. i'll
 > > check out an older version to see, any particular recommendations
 > > (before revision this-and-that)?
 > 
 > Perhaps r12086 (2009-08-12 14:36) would be interesting to check.

nope, doesn't work. also tried r12087 (an arbitrary revision), no joy 
there either. fails at the same place (ie. very first qt source file).

 > > > Or we can just plain pass the list of objects. On most *nixes this
 > > > should not be a problem.
 > > 
 > > i'd still vote for this, though. no particular reason, just gives me a
 > > warmer fuzzier feeling. whatever. just don't break not even gcc2,
 > > please ;)
 > 
 > Would have preferred to do this, but I have no information
 > on *nix cmdline size limits. Currently we'd need 30-32K,
 > and may go up to 40K on the mid run.

ouch.

 > Found this:
 > http://www.in-ulm.de/~mascheck/various/argmax/

based on this, if you do not want to deviate the various gcc.mks from 
each other much, please stick with the tempfile method for the time 
being. if you prefer separating by platform, whatever suits you.

 > To solve this we can jump into detecting *nix (Linux?) ISA
 > to the extent we have enough information to decide on this.
 > If this information is there, it's easy to solve. But may
 > this isn't such easy.
 > 
 > The existing hbmk[2] logic here is to simply check for presence
 > of 64-bit dir and add it before regular dir if exist. Even lazier
 > solution is to always add the 64-bit dir, which I guess will be
 > ignored anyway by linker, if not there. For some reason though
 > this hasn't been done this way.
 > 
 > Choice is up to *nix gurus. I'd go for the simplest which
 > works w/o side-effects.

this (just prepending lib64) probably works fine. i don't know any 
other system besides redhat to work like this, anyway. we should 
probably wait for przemek to chime in, though, just to err on the safe 
side.

 > > uh. i don't see anything special in my env or anything, it's just so:
 > 
 > Not wanted to imply that.

you should have. although not in this particular case, these small 
things noone thinks of are oftentimes the problem. especially with me 
on the other side ;)

 > > this on ubuntu 9.04 x64, with no configuration out of the ordinary, as
 > > far as i can tell, and also on centos 4.8, with definitely no
 > > configuration out of the ordinary (very fresh install, and i don't
 > > know red hat enough to screw it up anyway :).
 > 
 > x64 is the key. The one I have is x86 only.

oki, so i'll run x86 builds too, every now and then.

 > I tried to emulate -fPIC usage on windows after your mail, but there
 > there wasn't a problem, I'll recheck on Ubuntu ASAP.

and one of these commits fixed it too.

thanks!

-- 
[-]

mkdir /nonexistent
From vszakats at users.sourceforge.net  Thu Aug 27 14:57:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 14:57:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12357] trunk/harbour
Message-ID: <E1MgkA4-0004et-CZ@dn4whf1.ch3.sourceforge.com>

Revision: 12357
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12357&view=rev
Author:   vszakats
Date:     2009-08-27 18:57:07 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 20:53 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added new HB_INC_* values to the list. Added more
      information on them. Described 'no' option.
    + Added info on passing these config vars through cmdline.

  * config/global.mk
    + Added support to override some vars even if passed via
      make commandline.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Aug 27 15:20:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 15:20:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12358] trunk/harbour
Message-ID: <E1MgkWP-0007HE-RM@3kljzd1.ch3.sourceforge.com>

Revision: 12358
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12358&view=rev
Author:   vszakats
Date:     2009-08-27 19:20:32 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 21:20 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * external/libhpdf/Makefile
    ! Fixed typo in recent rework, causing embedded libpng
      component not being detected.

  * config/global.mk
    ! Reverted override support. This will need 3.81.90,
      in 3.81 override and export keywords don't mix tool
      well together, or I'm missing something, it could be.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/external/libhpdf/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Aug 27 15:38:19 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Aug 27 15:38:25 2009
Subject: [Harbour] ActiveX
In-Reply-To: <4A96A903.7050808@mweb.co.za>
References: <4A96A903.7050808@mweb.co.za>
Message-ID: <25178548.post@talk.nabble.com>


Hello Alex


Alex Strickland wrote:
> 
> error is 0x80040200 (CONNECT_E_NOCONNECTION), MSDN says:
> 
> "CONNECT_E_NOCONNECTION Error
> 
> The CONNECT_E_NOCONNECTION error is returned when AtlAdvise() calls the 
> IConnectionPointContainer::FindConnectionPoint() method and fails. The ATL 
> implementation of the IConnectionPointContainerImpl::FindConnectionPoint() 
> function looks in the connection point map for the event interface and
> returns 
> this error if it doesn't find it."
> 

Now I remember why I used another appproach to detect the 
Connection Point in GTWVG. I believe some OLE's are misaligned 
( I have few ) which do not confirm to FindConnectionPoint() method.
I had to enumerate all entry points and then Advise() if one is matching.
I struggled onto this point so many days.

Mindaugas is the right person to extend on this subject.

Regards
Pritpal Bedi


-- 
View this message in context: http://www.nabble.com/ActiveX-tp25174725p25178548.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Thu Aug 27 15:41:23 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Aug 27 15:41:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12359] trunk/harbour
Message-ID: <E1MgkqZ-0004IC-Db@74yxhf1.ch3.sourceforge.com>

Revision: 12359
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12359&view=rev
Author:   druzus
Date:     2009-08-27 19:41:22 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-27 21:41 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/filebuf.c
    ! added missing static in declaration

  * harbour/source/rdd/dbffpt/dbffpt1.c
    ! fixed default memo extension in non workarea methods

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rdd/dbffpt/dbffpt1.c
    trunk/harbour/source/rtl/filebuf.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Thu Aug 27 16:17:18 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Thu Aug 27 16:17:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12352] trunk/harbour
In-Reply-To: <E1MghiF-0003UB-E1@3kljzd1.ch3.sourceforge.com>
References: <E1MghiF-0003UB-E1@3kljzd1.ch3.sourceforge.com>
Message-ID: <alpine.GSO.2.00.0908272208060.17720@dawn.royalcomp.hu>

On Thu, 27 Aug 2009, vszakats@users.sourceforge.net wrote:

 > Revision: 12352

 > 2009-08-27 18:20 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
 >   * config/linux/sunpro.mk
 >     + Setting CXX for linux/sunpro.mk to make it build .cpp files
 >       without forcing cpp mode explicitly. (suncc seems to do nothing
 >       with .cpp input files.)
 >       Same fix for sunos/sunpro?

it would seem that it is necessary, thanks.

-- 
[-]

mkdir /nonexistent
From vszakats at users.sourceforge.net  Thu Aug 27 18:53:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Aug 27 18:53:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12360] trunk/harbour
Message-ID: <E1Mgnq8-0003xd-DB@c3vjzd1.ch3.sourceforge.com>

Revision: 12360
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12360&view=rev
Author:   vszakats
Date:     2009-08-27 22:53:07 +0000 (Thu, 27 Aug 2009)

Log Message:
-----------
2009-08-28 00:51 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * config/rules.mk
  * config/dos/djgpp.mk
  * config/common/watcom.mk
  * config/os2/gcc.mk
    + Finished support for HB_LDFLAGS variable (to hold Makefile
      local extra linker options). We don't use this feature yet.

  * config/sunos/sunpro.mk
    + Setting CXX for sunos/sunpro.mk to make it build .cpp files
      without forcing cpp mode explicitly. (suncc seems to do nothing
      with .cpp input files.)

  * config/bsd/libs.mk
  * config/hpux/libs.mk
  * config/darwin/libs.mk
  * config/sunos/libs.mk
    - Deleted commented /usr/X11R6/lib64 lib dir. It's a Linux
      distro specific thing.

  * config/linux/libs.mk
    + Added comment for /usr/X11R6/lib64

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/bsd/libs.mk
    trunk/harbour/config/common/watcom.mk
    trunk/harbour/config/darwin/libs.mk
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/hpux/libs.mk
    trunk/harbour/config/linux/libs.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/rules.mk
    trunk/harbour/config/sunos/libs.mk
    trunk/harbour/config/sunos/sunpro.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Thu Aug 27 19:56:13 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Thu Aug 27 19:56:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12360] trunk/harbour
In-Reply-To: <E1Mgnq8-0003xd-DB@c3vjzd1.ch3.sourceforge.com>
References: <E1Mgnq8-0003xd-DB@c3vjzd1.ch3.sourceforge.com>
Message-ID: <alpine.GSO.2.00.0908280141380.17720@dawn.royalcomp.hu>

On Thu, 27 Aug 2009, vszakats@users.sourceforge.net wrote:

 >   * config/sunos/libs.mk
 >     - Deleted commented /usr/X11R6/lib64 lib dir. It's a Linux
 >       distro specific thing.

almost there.

still centos 4.8, x64, having slang and ncurses (+devel stuff) 
installed, but no gpm devel installed (deliberately).

these are apparently picked up fine, and build goes all well:

! Building Harbour 2.0.0beta2 from source - http://www.harbour-project.org
! MAKE: make 3.81 /bin/sh   
! HB_HOST_PLAT: linux  HB_SHELL: sh
! HB_PLATFORM: linux (autodetected)
! HB_COMPILER: gcc (autodetected: /usr/bin/gcc /usr/bin/gcc /usr/bin/)
! Component: 'openssl' found in /usr/include
! Component: 'gpm' not found
! Component: 'slang' found in /usr/include/slang
! Component: 'curses' found in /usr/include
! Component: 'x11' found in /usr/include
! HB_INSTALL_PREFIX automatically set to: /usr/local
! REVISION: 12360

install not so much, as it wants to link against gpm:

! 'sqlite3' library skipped (not supported or disabled)
./bin/postinst.sh
Making /usr/local/bin/hbmk.cfg... 
Making /usr/local/bin/hb-build... 
Creating links...
Making libharbour-2.0.0.so...
/usr/bin/ld: cannot find -lgpm
collect2: ld returned 1 exit status
Making libharbourmt-2.0.0.so...
/usr/bin/ld: cannot find -lgpm
collect2: ld returned 1 exit status

exact same thing happens on ubuntu 9.04/x64 (there i have a whole lots 
more stuff picked up by the build, but otherwise using the same 
configuration, ie. no explicit configuration of any sorts, just 
whatever autodet picks up).

-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Fri Aug 28 02:12:49 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 28 02:12:55 2009
Subject: [Harbour] mingw64 4.5.0 warnings
Message-ID: <18d502870908272312j1ec6cdafub1724b5fb3677986@mail.gmail.com>

New ones:

x86_64-w64-mingw32-gcc  -I. -I../../../../../include  -Wall -W -O3
-fomit-frame-pointer   -ohbsocket.o -c ../../../hbsocket.c
../../../hbsocket.c: In function 'hb_socketSelectRD':
../../../hbsocket.c:1317:7: warning: comparison between signed and
unsigned integer expressions
../../../hbsocket.c: In function 'hb_socketSelectWR':
../../../hbsocket.c:1365:7: warning: comparison between signed and
unsigned integer expressions
../../../hbsocket.c: In function 'hb_socketSelectWRE':
../../../hbsocket.c:1416:7: warning: comparison between signed and
unsigned integer expressions
../../../hbsocket.c:1419:7: warning: comparison between signed and
unsigned integer expressions
../../../hbsocket.c: In function 'hb_socketSelect':
../../../hbsocket.c:2470:16: warning: comparison between signed and
unsigned integer expressions

Old ones:

April, could you check this one?:

x86_64-w64-mingw32-gcc  -I. -I../../../../../include  -Wall -W -O3
-fomit-frame-pointer   -ohb_btree.o -c ../../../hb_btree.c
../../../hb_btree.c: In function 'Grow':
../../../hb_btree.c:740:23: warning: cast from pointer to integer of
different size

x86_64-w64-mingw32-gcc  -I. -I../../../../../include  -Wall -W -O3
-fomit-frame-pointer   -owin_dll.o -c ../../../win_dll.c
../../../win_dll.c: In function 'DllExec':
../../../win_dll.c:509:45: warning: cast from pointer to integer of
different size
../../../win_dll.c:603:31: warning: cast to pointer from integer of
different size
../../../win_dll.c:672:19: warning: cast to pointer from integer of
different size
../../../win_dll.c:689:21: warning: cast to pointer from integer of
different size

x86_64-w64-mingw32-gcc  -I. -I../../../../../include  -Wall -W -O3
-fomit-frame-pointer  -IC:\devl\Firebird-2.1.2-x64\include
-ofirebird.o -c ../../../firebird.c
../../../firebird.c: In function 'HB_FUN_FBCREATEDB':
../../../firebird.c:84:29: warning: initialization makes integer from
pointer without a cast
../../../firebird.c:85:29: warning: initialization makes integer from
pointer without a cast
../../../firebird.c: In function 'HB_FUN_FBCONNECT':
../../../firebird.c:112:23: warning: initialization makes integer from
pointer without a cast
../../../firebird.c:140:18: warning: cast to pointer from integer of
different size
../../../firebird.c: In function 'HB_FUN_FBCLOSE':
../../../firebird.c:146:23: warning: cast from pointer to integer of
different size
../../../firebird.c: In function 'HB_FUN_FBSTARTTRANSACTION':
../../../firebird.c:169:23: warning: cast from pointer to integer of
different size
../../../firebird.c:170:26: warning: initialization makes integer from
pointer without a cast
../../../firebird.c:176:18: warning: cast to pointer from integer of
different size
../../../firebird.c: In function 'HB_FUN_FBCOMMIT':
../../../firebird.c:181:26: warning: cast from pointer to integer of
different size
../../../firebird.c: In function 'HB_FUN_FBROLLBACK':
../../../firebird.c:192:26: warning: cast from pointer to integer of
different size
../../../firebird.c: In function 'HB_FUN_FBEXECUTE':
../../../firebird.c:203:25: warning: cast from pointer to integer of
different size
../../../firebird.c:204:28: warning: initialization makes integer from
pointer without a cast
../../../firebird.c:212:15: warning: cast from pointer to integer of
different size
../../../firebird.c: In function 'HB_FUN_FBQUERY':
../../../firebird.c:246:29: warning: cast from pointer to integer of
different size
../../../firebird.c:247:32: warning: initialization makes integer from
pointer without a cast
../../../firebird.c:250:31: warning: initialization makes integer from
pointer without a cast
../../../firebird.c:267:15: warning: cast from pointer to integer of
different size
../../../firebird.c:372:35: warning: cast to pointer from integer of
different size
../../../firebird.c:376:38: warning: cast to pointer from integer of
different size
../../../firebird.c: In function 'HB_FUN_FBFETCH':
../../../firebird.c:392:30: warning: cast from pointer to integer of
different size
../../../firebird.c: In function 'HB_FUN_FBFREE':
../../../firebird.c:416:30: warning: cast from pointer to integer of
different size
../../../firebird.c:418:31: warning: cast from pointer to integer of
different size
../../../firebird.c: In function 'HB_FUN_FBGETBLOB':
../../../firebird.c:610:25: warning: cast from pointer to integer of
different size
../../../firebird.c:611:28: warning: initialization makes integer from
pointer without a cast
../../../firebird.c:612:34: warning: initialization makes integer from
pointer without a cast
../../../firebird.c:621:15: warning: cast from pointer to integer of
different size

x86_64-w64-mingw32-gcc  -I. -I../../../../../../include  -Wall -W -O3
-fomit-frame-pointer  -IC:\devl\Firebird-2.1.2-x64\include
-ofbirddd.o -c ../../../fbirddd.c
../../../fbirddd.c: In function 'fbConnect':
../../../fbirddd.c:166:26: warning: initialization makes integer from
pointer without a cast
../../../fbirddd.c:194:31: warning: cast to pointer from integer of
different size
../../../fbirddd.c: In function 'fbOpen':
../../../fbirddd.c:219:30: warning: initialization makes integer from
pointer without a cast
../../../fbirddd.c:220:29: warning: initialization makes integer from
pointer without a cast
../../../fbirddd.c:410:19: warning: cast to pointer from integer of
different size
../../../fbirddd.c:411:20: warning: cast to pointer from integer of
different size
../../../fbirddd.c: In function 'fbClose':
../../../fbirddd.c:447:31: warning: cast from pointer to integer of
different size
../../../fbirddd.c:457:28: warning: cast from pointer to integer of
different size
../../../fbirddd.c: In function 'fbGoTo':
../../../fbirddd.c:477:31: warning: cast from pointer to integer of
different size
../../../fbirddd.c:478:27: warning: cast from pointer to integer of
different size

Brgds,
Viktor
From vszakats at users.sourceforge.net  Fri Aug 28 02:54:25 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 28 02:54:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12361] trunk/harbour
Message-ID: <E1MgvLt-00021f-4N@bj8yhf1.ch3.sourceforge.com>

Revision: 12361
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12361&view=rev
Author:   vszakats
Date:     2009-08-28 06:54:23 +0000 (Fri, 28 Aug 2009)

Log Message:
-----------
2009-08-28 08:53 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * bin/hb-func.sh
    ! Fixed recent mistake in gpm detection at postinst (now redundant)
      dynlib generation phase.

  * source/rtl/fssize.c
    ! Fixed warnings shown by mingw64 4.5.0.

  * config/detfun.mk
    + Now accepting HB_WITH_* control variables in place of HB_INC_* once.
      If HB_WITH_* is set it overrides HB_INC_*. Experimental yet.
    * Minor in comments.

  * config/detect.mk
    * Minor correction for conf.mk inclusion.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/config/detect.mk
    trunk/harbour/config/detfun.mk
    trunk/harbour/source/rtl/fssize.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Aug 28 02:54:47 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Aug 28 02:54:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12360] trunk/harbour
In-Reply-To: <alpine.GSO.2.00.0908280141380.17720@dawn.royalcomp.hu>
References: <E1Mgnq8-0003xd-DB@c3vjzd1.ch3.sourceforge.com>
	<alpine.GSO.2.00.0908280141380.17720@dawn.royalcomp.hu>
Message-ID: <18d502870908272354t11a5ddc7td6fa082c69a0480e@mail.gmail.com>

> install not so much, as it wants to link against gpm:
>
> ! 'sqlite3' library skipped (not supported or disabled)
> ./bin/postinst.sh
> Making /usr/local/bin/hbmk.cfg...
> Making /usr/local/bin/hb-build...
> Creating links...
> Making libharbour-2.0.0.so...
> /usr/bin/ld: cannot find -lgpm
> collect2: ld returned 1 exit status
> Making libharbourmt-2.0.0.so...
> /usr/bin/ld: cannot find -lgpm
> collect2: ld returned 1 exit status
>
> exact same thing happens on ubuntu 9.04/x64 (there i have a whole lots
> more stuff picked up by the build, but otherwise using the same
> configuration, ie. no explicit configuration of any sorts, just
> whatever autodet picks up).

Thanks. It was a small mistake in updating postinst script logic.
I'll fix it, anyhow it'd probably be time to remove it, since now it's
superseded by GNU Make dynlib generation.

Brgds,
Viktor
From sscc at mweb.co.za  Fri Aug 28 04:20:46 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Aug 28 04:20:56 2009
Subject: [Harbour] ActiveX
In-Reply-To: <25178548.post@talk.nabble.com>
References: <4A96A903.7050808@mweb.co.za> <25178548.post@talk.nabble.com>
Message-ID: <4A97935E.2030800@mweb.co.za>

Pritpal Bedi wrote:

> Now I remember why I used another appproach to detect the 
> Connection Point in GTWVG. I believe some OLE's are misaligned 
> ( I have few ) which do not confirm to FindConnectionPoint() method.
> I had to enumerate all entry points and then Advise() if one is matching.
> I struggled onto this point so many days.

Hi Pritpal

Yes, I see that you have a loop, and I wondered why. I find this COM code 
impossible to read, and I have done enough coding in C++ Builder to not be a 
complete C/C++ moron (well maybe close :).

Regards
Alex

From maurilio.longo at libero.it  Fri Aug 28 04:49:47 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Aug 28 04:49:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12355] trunk/harbour
In-Reply-To: <E1MgjPc-0005q8-R1@3kljzd1.ch3.sourceforge.com>
References: <E1MgjPc-0005q8-R1@3kljzd1.ch3.sourceforge.com>
Message-ID: <4A979A2B.20606@libero.it>

Viktor,

no solution from last porter of gnu make under OS/2.

It seems to me that the problem is in make, thought, which does not take into
account the maximum command line of the system on which it is running;

Right now we reach a maximum of 32Kb but it could be even longer and fail on
more platforms.

So, is there a way to write current .mk file so that they don't exceed the
smallest command line available? (in other words, remove the foreach that
seems to be the principal cause of growing command line requirements?).

Best regards.

Maurilio.


vszakats@users.sourceforge.net wrote:
> Revision: 12355
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12355&view=rev
> Author:   vszakats
> Date:     2009-08-27 18:09:27 +0000 (Thu, 27 Aug 2009)
> 
> Log Message:
> -----------
> 2009-08-27 20:03 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * config/linux/libs.mk
>     ! Deleted some stuff left when doing the copy from
>       global.mk (yesterday).
>       Should fix double -fPIC switches seen on 64-bit Linux builds.
> 
>   * config/linux/libs.mk
>     + Adding /usr/X11R6/lib64 to sys lib path list on 64-bit systems.
>       If you find this wrong, please tell, we can tweak conditions.
> 
>   * config/bsd/gcc.mk
>   * config/darwin/gcc.mk
>   * config/hpux/gcc.mk
>   * config/linux/gcc.mk
>   * config/sunos/gcc.mk
>     * Changed to just plain pass list of obj on cmdline in dynamic
>       lib creation rule. Should be safe on these OSes according to this doc:
>          http://www.in-ulm.de/~mascheck/various/argmax/
>       (we need about 31-32KB of cmdline at this moment)
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/config/bsd/gcc.mk
>     trunk/harbour/config/darwin/gcc.mk
>     trunk/harbour/config/hpux/gcc.mk
>     trunk/harbour/config/linux/gcc.mk
>     trunk/harbour/config/linux/libs.mk
>     trunk/harbour/config/sunos/gcc.mk
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From info at fsgiudice.com  Fri Aug 28 06:47:40 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Aug 28 06:48:08 2009
Subject: [Harbour] Error building demowvg.prg
Message-ID: <4A97B5CC.7010200@fsgiudice.com>

Hi All,

I have an error building demowvg.
environment is mingw / windows vista

current SVN with clean rebuild

built with hbmk2 demowvg.prg -trace > a.log 2>&1

The a.log contains:

hbmk2: Processing local make script: hbmk.hbm 

hbmk2: Processing configuration: j:\cvs\harbour_mingw\bin\hbmk.cfg 

hbmk2: Harbour compiler command (internal): 

(j:\cvs\harbour_mingw\bin\harbour.exe) -n2 demowvg.prg 
-ij:/cvs/harbour_mingw/include -i.. -i../../hbwin
Harbour 2.0.0beta2 (Rev. 12360)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'demowvg.prg'...

100
[snip]

Lines 7055, Functions/Procedures 73
Generating C source output to 'demowvg.c'... Done.
hbmk2: C compiler command: 

gcc.exe -c -O3 -march=i586 -mtune=pentiumpro -fomit-frame-pointer 
-Ij:/cvs/harbour_mingw/include -I.. -I../../hbwin demowvg.c 
k:\temp\hbmk_o7sz5d.c
hbmk2: Linker command: 

gcc.exe demowvg.o hbmk_o7sz5d.o    -mwindows -lhbwin -lgtwvg -lhbextern 
-lhbdebug -lhbvmmt -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd 
-lgtwin -lgtwvt -lgtgui -lgtwvg -lhbrdd -lhbusrrdd -lhbhsx -lhbsix 
-lrddntx -lrddcdx -lrddfpt -lhbuddall -lrddnsx -lhbrtl -lhbvmmt 
-lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib -lkernel32 
-luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 
-lshell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm -lmapi32 -limm32 
-lmsimg32 -lwininet  -odemowvg.exe -Lj:/cvs/harbour_mingw/lib/win/mingw
j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgtoolb.o):wvgtoolb.c:(.data+0x348): 
undefined reference to `HB_FUN_WAPI_IMAGELIST_CREATE'
j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgtoolb.o):wvgtoolb.c:(.data+0x458): 
undefined reference to `HB_FUN_WAPI_IMAGELIST_DESTROY'
j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgtoolb.o):wvgtoolb.c:(.data+0x578): 
undefined reference to `HB_FUN_WAPI_IMAGELIST_ADDMASKED'
j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgtoolb.o):wvgtoolb.c:(.data+0x588): 
undefined reference to `HB_FUN_WAPI_IMAGELIST_ADD'
j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgax.o):wvgax.c:(.data+0x68): 
undefined reference to `HB_FUN_WIN_OLEAUTO'
j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgax.o):wvgax.c:(.data+0x348): 
undefined reference to `HB_FUN_WIN_AXINIT'
j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgax.o):wvgax.c:(.data+0x368): 
undefined reference to `HB_FUN_WIN_N2P'
j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgax.o):wvgax.c:(.data+0x3d8): 
undefined reference to `HB_FUN_WIN_P2N'
j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgax.o):wvgax.c:(.data+0x3e8): 
undefined reference to `HB_FUN___AXGETCONTROL'
j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgax.o):wvgax.c:(.data+0x408): 
undefined reference to `HB_FUN___AXDOVERB'
j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgwnd.o):wvgwnd.c:(.data+0xe58): 
undefined reference to `HB_FUN_WIN_N2P'
j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgdatar.o):wvgdatar.c:(.data+0x248): 
undefined reference to `HB_FUN_WAPI_SETSCROLLPOS'
j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgsink.o):wvgsink.c:(.text+0x25b): 
undefined reference to `hb_oleParam'
j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgsink.o):wvgsink.c:(.text+0x628): 
undefined reference to `hb_oleVariantToItem'
j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgsink.o):wvgsink.c:(.text+0x662): 
undefined reference to `hb_oleVariantToItem'
j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgsink.o):wvgsink.c:(.text+0x6a6): 
undefined reference to `hb_oleItemToVariant'
j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgsink.o):wvgsink.c:(.text+0x6d0): 
undefined reference to `hb_oleVariantUpdate'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1 

gcc.exe demowvg.o hbmk_o7sz5d.o    -mwindows -lhbwin -lgtwvg -lhbextern 
-lhbdebug -lhbvmmt -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd 
-lgtwin -lgtwvt -lgtgui -lgtwvg -lhbrdd -lhbusrrdd -lhbhsx -lhbsix 
-lrddntx -lrddcdx -lrddfpt -lhbuddall -lrddnsx -lhbrtl -lhbvmmt 
-lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib -lkernel32 
-luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 
-lshell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm -lmapi32 -limm32 
-lmsimg32 -lwininet  -odemowvg.exe -Lj:/cvs/harbour_mingw/lib/win/mingw

Best Regards,
Francesco
From harbour.01 at syenar.hu  Fri Aug 28 06:54:54 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug 28 06:55:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12355] trunk/harbour
In-Reply-To: <4A979A2B.20606@libero.it>
References: <E1MgjPc-0005q8-R1@3kljzd1.ch3.sourceforge.com>
	<4A979A2B.20606@libero.it>
Message-ID: <2E19DF15-26F6-4F54-8952-0AC6DE4000DB@syenar.hu>

Hi Maurilio,

> no solution from last porter of gnu make under OS/2.
>
> It seems to me that the problem is in make, thought, which does not  
> take into
> account the maximum command line of the system on which it is running;
>
> Right now we reach a maximum of 32Kb but it could be even longer and  
> fail on
> more platforms.
>
> So, is there a way to write current .mk file so that they don't  
> exceed the
> smallest command line available? (in other words, remove the foreach  
> that
> seems to be the principal cause of growing command line  
> requirements?).

Fighting this problem is the biggest challenge on all platforms/shells,
most of the hacks and rule duplications target just that. It's hard
(probably impossible) to find a generic solution to this. [ reasons:
a) some operations cannot be split into multiple commands, like link,
and usually splitting to multiple commands is inefficient. b) some
tools/shells don't support script files or we don't know how (* here
there is room for more research, volunteers are welcome, f.e. for
DJGPP), plus using script files hides important information from
output log, so should be avoided if possible. ]

Because all above tricks have limitations, we only use them where
possible and if absolutely required. So it's not generic.

[ maybe some things could be done to support that in more generic way
however in Harbour, maybe I'll do something if I find
time/intention. ]

In case of dynlib creation, it's a link command, which cannot be split,
so we must resort to a dynamically created script file.

We need a new technique for OS/2 to send a make var value into
a disk file. Question how, since no known methods work. I cannot
work from make documentation as OS/2 make has undocumented bugs
/ limits. Here we stand now.

It would help to see what is exactly executed on OS/2, using what
system / RTL lib calls, and/or experimenting with different tricks,
until one works. If that's not possible, we may try to employ
some dirty hacks.

One dirty hack is to pass DYNDIRLIST var (which is no bigger
than 512 bytes) to a dynamically generated OS/2 .cmd file, which
.cmd file would then pick the object list by using 'for' command
on each DYNDIRLIST item, in sync with the wildcard logic used in
dyn.mk 'ALL_OBJS := ...' line.

This solution is dirty (mainly) because it will duplicate central
make logic in .cmd batch language, and they will have to be kept
in sync. For me this is too high price to pay for this feature,
unless kept up to date by OS/2 users themselves.

Maybe there are other, better solutions.

Brgds,
Viktor

From info at fsgiudice.com  Fri Aug 28 07:06:19 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Aug 28 07:06:28 2009
Subject: [Harbour] Error building demowvg.prg
In-Reply-To: <4A97B5CC.7010200@fsgiudice.com>
References: <4A97B5CC.7010200@fsgiudice.com>
Message-ID: <4A97BA2B.7060205@fsgiudice.com>

Other infos:

I built SVN using this settings:

--------
set HB_COMPILER=mingw

set HB_DIR_GD=j:\lib\gd
set HB_DIR_FREEIMAGE=j:\lib\freeimage
set HB_DIR_FIREBIRD=J:\Firebird\Firebird_2_1
set HB_DIR_CURL=j:\lib\curl
set HB_DIR_OPENSSL=j:\lib\openssl
set HB_DIR_QT=D:\Qt\2009.03\qt

set HB_DIR_BLAT=j:\lib\blat

set HB_BUILD_DLL=no
set HB_BUILD_IMPLIB=yes

set HB_INC_GD=%HB_DIR_GD%\include
set HB_INC_FREEIMAGE=%HB_DIR_FREEIMAGE%\Source
set HB_INC_FIREBIRD=%HB_DIR_FIREBIRD%\include
set HB_INC_CURL=%HB_DIR_CURL%\include\curl
set HB_INC_OPENSSL=%HB_DIR_OPENSSL%\inc32\openssl
set HB_INC_QT=%HB_DIR_QT%\include

set HB_USER_CFLAGS=-DHB_LEGACY_OFF -DHB_FM_STATISTICS_OFF 
-DHB_FM_DLMT_ALLOC -DHB_GC_AUTO
SET HB_USER_PRGFLAGS=-DHB_HASH_MSG_ITEMS

set HB_BUILD_DEBUG=no

set HB_INSTALL_PREFIX=j:\cvs\harbour_%HB_COMPILER%
--------

other tests are built correctly.

TIA

Best Regards,
Francesco


Il 28/08/2009 12.47, Francesco Saverio Giudice ha scritto:
> Hi All,
> 
> I have an error building demowvg.
> environment is mingw / windows vista
> 
> current SVN with clean rebuild
> 
> built with hbmk2 demowvg.prg -trace > a.log 2>&1
> 
> The a.log contains:
> 
> hbmk2: Processing local make script: hbmk.hbm
> hbmk2: Processing configuration: j:\cvs\harbour_mingw\bin\hbmk.cfg
> hbmk2: Harbour compiler command (internal):
> (j:\cvs\harbour_mingw\bin\harbour.exe) -n2 demowvg.prg 
> -ij:/cvs/harbour_mingw/include -i.. -i../../hbwin
> Harbour 2.0.0beta2 (Rev. 12360)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'demowvg.prg'...
> 
> 100
> [snip]
> 
> Lines 7055, Functions/Procedures 73
> Generating C source output to 'demowvg.c'... Done.
> hbmk2: C compiler command:
> gcc.exe -c -O3 -march=i586 -mtune=pentiumpro -fomit-frame-pointer 
> -Ij:/cvs/harbour_mingw/include -I.. -I../../hbwin demowvg.c 
> k:\temp\hbmk_o7sz5d.c
> hbmk2: Linker command:
> gcc.exe demowvg.o hbmk_o7sz5d.o    -mwindows -lhbwin -lgtwvg -lhbextern 
> -lhbdebug -lhbvmmt -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd 
> -lgtwin -lgtwvt -lgtgui -lgtwvg -lhbrdd -lhbusrrdd -lhbhsx -lhbsix 
> -lrddntx -lrddcdx -lrddfpt -lhbuddall -lrddnsx -lhbrtl -lhbvmmt 
> -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib -lkernel32 
> -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 
> -lshell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm -lmapi32 -limm32 
> -lmsimg32 -lwininet  -odemowvg.exe -Lj:/cvs/harbour_mingw/lib/win/mingw
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgtoolb.o):wvgtoolb.c:(.data+0x348): 
> undefined reference to `HB_FUN_WAPI_IMAGELIST_CREATE'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgtoolb.o):wvgtoolb.c:(.data+0x458): 
> undefined reference to `HB_FUN_WAPI_IMAGELIST_DESTROY'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgtoolb.o):wvgtoolb.c:(.data+0x578): 
> undefined reference to `HB_FUN_WAPI_IMAGELIST_ADDMASKED'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgtoolb.o):wvgtoolb.c:(.data+0x588): 
> undefined reference to `HB_FUN_WAPI_IMAGELIST_ADD'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgax.o):wvgax.c:(.data+0x68): 
> undefined reference to `HB_FUN_WIN_OLEAUTO'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgax.o):wvgax.c:(.data+0x348): 
> undefined reference to `HB_FUN_WIN_AXINIT'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgax.o):wvgax.c:(.data+0x368): 
> undefined reference to `HB_FUN_WIN_N2P'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgax.o):wvgax.c:(.data+0x3d8): 
> undefined reference to `HB_FUN_WIN_P2N'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgax.o):wvgax.c:(.data+0x3e8): 
> undefined reference to `HB_FUN___AXGETCONTROL'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgax.o):wvgax.c:(.data+0x408): 
> undefined reference to `HB_FUN___AXDOVERB'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgwnd.o):wvgwnd.c:(.data+0xe58): 
> undefined reference to `HB_FUN_WIN_N2P'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgdatar.o):wvgdatar.c:(.data+0x248): 
> undefined reference to `HB_FUN_WAPI_SETSCROLLPOS'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgsink.o):wvgsink.c:(.text+0x25b): 
> undefined reference to `hb_oleParam'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgsink.o):wvgsink.c:(.text+0x628): 
> undefined reference to `hb_oleVariantToItem'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgsink.o):wvgsink.c:(.text+0x662): 
> undefined reference to `hb_oleVariantToItem'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgsink.o):wvgsink.c:(.text+0x6a6): 
> undefined reference to `hb_oleItemToVariant'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgsink.o):wvgsink.c:(.text+0x6d0): 
> undefined reference to `hb_oleVariantUpdate'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> gcc.exe demowvg.o hbmk_o7sz5d.o    -mwindows -lhbwin -lgtwvg -lhbextern 
> -lhbdebug -lhbvmmt -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd 
> -lgtwin -lgtwvt -lgtgui -lgtwvg -lhbrdd -lhbusrrdd -lhbhsx -lhbsix 
> -lrddntx -lrddcdx -lrddfpt -lhbuddall -lrddnsx -lhbrtl -lhbvmmt 
> -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre -lhbzlib -lkernel32 
> -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 
> -lshell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm -lmapi32 -limm32 
> -lmsimg32 -lwininet  -odemowvg.exe -Lj:/cvs/harbour_mingw/lib/win/mingw
> 
> Best Regards,
> Francesco
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
From fernando_athayde at yahoo.com.br  Fri Aug 28 07:10:48 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Fri Aug 28 07:10:53 2009
Subject: [Harbour] msvc + harbour
Message-ID: <260929.24005.qm@web52206.mail.re2.yahoo.com>

if i mistake the name of propriert, an application simply frozen, don't call error
ony happens in MSCV with BCC function normally

ex:
CLASS test
   DATA testdata

   METHOD new()
ENDCLASS

METHOD new() CLASS test
   ::testdataX := 1
RETURN Nil

MSVC + harbour + Hwgui

Best regards,
Fernando


      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090828/8986711b/attachment.html
From harbour.01 at syenar.hu  Fri Aug 28 07:39:13 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug 28 07:39:23 2009
Subject: [Harbour] Error building demowvg.prg
In-Reply-To: <4A97B5CC.7010200@fsgiudice.com>
References: <4A97B5CC.7010200@fsgiudice.com>
Message-ID: <C29A1933-4813-4225-80AF-7008B9257F34@syenar.hu>

Hi,

It's lib ordering problem, regression after deleting
lib grouping from link commands all over Harbour.

I'll try to do a fix, or maybe I'll just readd grouping
if I can't solve it.

Brgds,
Viktor

On 2009.08.28., at 0:47, Francesco Saverio Giudice wrote:

> Hi All,
>
> I have an error building demowvg.
> environment is mingw / windows vista
>
> current SVN with clean rebuild
>
> built with hbmk2 demowvg.prg -trace > a.log 2>&1
>
> The a.log contains:
>
> hbmk2: Processing local make script: hbmk.hbm
> hbmk2: Processing configuration: j:\cvs\harbour_mingw\bin\hbmk.cfg
> hbmk2: Harbour compiler command (internal):
> (j:\cvs\harbour_mingw\bin\harbour.exe) -n2 demowvg.prg -ij:/cvs/ 
> harbour_mingw/include -i.. -i../../hbwin
> Harbour 2.0.0beta2 (Rev. 12360)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'demowvg.prg'...
>
> 100
> [snip]
>
> Lines 7055, Functions/Procedures 73
> Generating C source output to 'demowvg.c'... Done.
> hbmk2: C compiler command:
> gcc.exe -c -O3 -march=i586 -mtune=pentiumpro -fomit-frame-pointer - 
> Ij:/cvs/harbour_mingw/include -I.. -I../../hbwin demowvg.c k:\temp 
> \hbmk_o7sz5d.c
> hbmk2: Linker command:
> gcc.exe demowvg.o hbmk_o7sz5d.o    -mwindows -lhbwin -lgtwvg - 
> lhbextern -lhbdebug -lhbvmmt -lhbrtl -lhblang -lhbcpage -lgtcgi - 
> lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lgtwvg -lhbrdd -lhbusrrdd - 
> lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt -lhbuddall -lrddnsx - 
> lhbrtl -lhbvmmt -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre - 
> lhbzlib -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool - 
> lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr - 
> lwinmm -lmapi32 -limm32 -lmsimg32 -lwininet  -odemowvg.exe -Lj:/cvs/ 
> harbour_mingw/lib/win/mingw
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgtoolb.o):wvgtoolb.c: 
> (.data+0x348): undefined reference to `HB_FUN_WAPI_IMAGELIST_CREATE'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgtoolb.o):wvgtoolb.c: 
> (.data+0x458): undefined reference to `HB_FUN_WAPI_IMAGELIST_DESTROY'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgtoolb.o):wvgtoolb.c: 
> (.data+0x578): undefined reference to  
> `HB_FUN_WAPI_IMAGELIST_ADDMASKED'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgtoolb.o):wvgtoolb.c: 
> (.data+0x588): undefined reference to `HB_FUN_WAPI_IMAGELIST_ADD'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgax.o):wvgax.c:(.data 
> +0x68): undefined reference to `HB_FUN_WIN_OLEAUTO'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgax.o):wvgax.c:(.data 
> +0x348): undefined reference to `HB_FUN_WIN_AXINIT'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgax.o):wvgax.c:(.data 
> +0x368): undefined reference to `HB_FUN_WIN_N2P'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgax.o):wvgax.c:(.data 
> +0x3d8): undefined reference to `HB_FUN_WIN_P2N'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgax.o):wvgax.c:(.data 
> +0x3e8): undefined reference to `HB_FUN___AXGETCONTROL'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgax.o):wvgax.c:(.data 
> +0x408): undefined reference to `HB_FUN___AXDOVERB'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgwnd.o):wvgwnd.c: 
> (.data+0xe58): undefined reference to `HB_FUN_WIN_N2P'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgdatar.o):wvgdatar.c: 
> (.data+0x248): undefined reference to `HB_FUN_WAPI_SETSCROLLPOS'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgsink.o):wvgsink.c: 
> (.text+0x25b): undefined reference to `hb_oleParam'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgsink.o):wvgsink.c: 
> (.text+0x628): undefined reference to `hb_oleVariantToItem'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgsink.o):wvgsink.c: 
> (.text+0x662): undefined reference to `hb_oleVariantToItem'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgsink.o):wvgsink.c: 
> (.text+0x6a6): undefined reference to `hb_oleItemToVariant'
> j:/cvs/harbour_mingw/lib/win/mingw/libgtwvg.a(wvgsink.o):wvgsink.c: 
> (.text+0x6d0): undefined reference to `hb_oleVariantUpdate'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> gcc.exe demowvg.o hbmk_o7sz5d.o    -mwindows -lhbwin -lgtwvg - 
> lhbextern -lhbdebug -lhbvmmt -lhbrtl -lhblang -lhbcpage -lgtcgi - 
> lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lgtwvg -lhbrdd -lhbusrrdd - 
> lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt -lhbuddall -lrddnsx - 
> lhbrtl -lhbvmmt -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre - 
> lhbzlib -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool - 
> lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr - 
> lwinmm -lmapi32 -limm32 -lmsimg32 -lwininet  -odemowvg.exe -Lj:/cvs/ 
> harbour_mingw/lib/win/mingw
>
> Best Regards,
> Francesco
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Fri Aug 28 07:59:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Aug 28 08:00:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12362] trunk/harbour
Message-ID: <E1Mh07a-000464-7h@d5vjzd1.ch3.sourceforge.com>

Revision: 12362
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12362&view=rev
Author:   vszakats
Date:     2009-08-28 11:59:57 +0000 (Fri, 28 Aug 2009)

Log Message:
-----------
2009-08-28 14:00 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    * Updated Ubuntu external pkg list.
    + Added slang to darwin external pkg list.

  * config/darwin/libs.mk
    + Added two syslib paths required for slang (gtsln).

  * utils/hbmk2/hbmk2.prg
    ! Fixed to add user GTs before the list of user libs.
      This is to ensure proper linkage with linkers which need
      this (mingw f.e. and all which used lib grouping switches
      before they were removed from hbmk2/make in Harbour)

  * config/bin.mk
  * config/dyn.mk
    + Added new HB_LINKING_VMMT variable, which is set to non-empty
      if hbvmmt is to be linked. It makes it possible to add
      MT dependent libs to sys lib list, if needed.

  * config/linux/libs.mk
    + Adding pthread lib when HB_LINKING_VMMT is set. This isn't
      needed on my *nix systems (Ubuntu and Darwin), but was used
      for all platforms in postinst.sh dynlib creation logic, so
      please speak up if we should add this lib to other *nix 
      platforms, or we can delete it from Linux.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/bin.mk
    trunk/harbour/config/darwin/libs.mk
    trunk/harbour/config/dyn.mk
    trunk/harbour/config/linux/libs.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Fri Aug 28 10:38:37 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Aug 28 10:40:20 2009
Subject: [Harbour] mingw64 4.5.0 warnings
In-Reply-To: <18d502870908272312j1ec6cdafub1724b5fb3677986@mail.gmail.com>
References: <18d502870908272312j1ec6cdafub1724b5fb3677986@mail.gmail.com>
Message-ID: <4A97EBED.2070400@dbtopas.lt>

Hi,

> x86_64-w64-mingw32-gcc  -I. -I../../../../../../include  -Wall -W -O3
> -fomit-frame-pointer  -IC:\devl\Firebird-2.1.2-x64\include
> -ofbirddd.o -c ../../../fbirddd.c
> ../../../fbirddd.c: In function 'fbConnect':
> ../../../fbirddd.c:166:26: warning: initialization makes integer from
> pointer without a cast

#if defined(_LP64) || defined(__LP64__) || defined(__arch64__)
typedef unsigned int    FB_API_HANDLE;
#else
typedef void*           FB_API_HANDLE;
#endif
typedef FB_API_HANDLE isc_db_handle;

What is correct way to initialize handler?

isc_db_handle  db = NULL;  // wrong on 64bits
isc_db_handle  db = 0;     // wrong on 32bits


Regards,
Mindaugas
From harbour.01 at syenar.hu  Fri Aug 28 10:56:02 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug 28 10:56:10 2009
Subject: [Harbour] mingw64 4.5.0 warnings
In-Reply-To: <4A97EBED.2070400@dbtopas.lt>
References: <18d502870908272312j1ec6cdafub1724b5fb3677986@mail.gmail.com>
	<4A97EBED.2070400@dbtopas.lt>
Message-ID: <6515D37D-7570-4E97-8A79-EFD659FCCC16@syenar.hu>

Hi Mindaugas,

> #if defined(_LP64) || defined(__LP64__) || defined(__arch64__)

or:

#if defined( HB_ARCH_64BIT )

> typedef unsigned int    FB_API_HANDLE;
> #else
> typedef void*           FB_API_HANDLE;
> #endif
> typedef FB_API_HANDLE isc_db_handle;
>
> What is correct way to initialize handler?
>
> isc_db_handle  db = NULL;  // wrong on 64bits
> isc_db_handle  db = 0;     // wrong on 32bits

Probably some clever macros :) Maybe there is something
already defined in FB headers. After all they should also
need something like this.

Brgds,
Viktor

From sscc at mweb.co.za  Fri Aug 28 11:20:45 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Aug 28 11:20:55 2009
Subject: [Harbour] ActiveX
In-Reply-To: <25178548.post@talk.nabble.com>
References: <4A96A903.7050808@mweb.co.za> <25178548.post@talk.nabble.com>
Message-ID: <4A97F5CD.3040707@mweb.co.za>

Pritpal Bedi wrote:

> Now I remember why I used another appproach to detect the 
> Connection Point in GTWVG. I believe some OLE's are misaligned 
> ( I have few ) which do not confirm to FindConnectionPoint() method.
> I had to enumerate all entry points and then Advise() if one is matching.
> I struggled onto this point so many days.

I tried the code below, on the assumption that if GetConnectionInterface 
succeeds then that will set a pointer to the correct ConnectionPoint, but I fear 
I am a bit naive.

Advise fails with 80040202, CONNECT_E_CANNOTCONNECT.

Regards
Alex


char * WIN_OLEErrorText( HRESULT lOleError )
{

    static char errormsg[100];
    switch( lOleError )
    {
       case S_OK:                    return "S_OK";
       case CO_E_CLASSSTRING:        return "CO_E_CLASSSTRING";
       case OLE_E_WRONGCOMPOBJ:      return "OLE_E_WRONGCOMPOBJ";
       case REGDB_E_CLASSNOTREG:     return "REGDB_E_CLASSNOTREG";
       case REGDB_E_WRITEREGDB:      return "REGDB_E_WRITEREGDB";
       case E_OUTOFMEMORY:           return "E_OUTOFMEMORY";
       case E_INVALIDARG:            return "E_INVALIDARG";
       case E_UNEXPECTED:            return "E_UNEXPECTED";
       case DISP_E_UNKNOWNNAME:      return "DISP_E_UNKNOWNNAME";
       case DISP_E_UNKNOWNLCID:      return "DISP_E_UNKNOWNLCID";
       case DISP_E_BADPARAMCOUNT:    return "DISP_E_BADPARAMCOUNT";
       case DISP_E_BADVARTYPE:       return "DISP_E_BADVARTYPE";
       case DISP_E_EXCEPTION:        return "DISP_E_EXCEPTION";
       case DISP_E_MEMBERNOTFOUND:   return "DISP_E_MEMBERNOTFOUND";
       case DISP_E_NONAMEDARGS:      return "DISP_E_NONAMEDARGS";
       case DISP_E_OVERFLOW:         return "DISP_E_OVERFLOW";
       case DISP_E_PARAMNOTFOUND:    return "DISP_E_PARAMNOTFOUND";
       case DISP_E_TYPEMISMATCH:     return "DISP_E_TYPEMISMATCH";
       case DISP_E_UNKNOWNINTERFACE: return "DISP_E_UNKNOWNINTERFACE";
       case DISP_E_PARAMNOTOPTIONAL: return "DISP_E_PARAMNOTOPTIONAL";
       default:
	  {
		 sprintf( errormsg, "%x", lOleError );
	  	 return errormsg;
	  }
    }
}

HB_FUNC( __AXREGISTERHANDLER )  /* ( pDisp, bHandler ) --> pSink */
{
    IDispatch * pDisp = hb_oleParam( 1 );

    if( pDisp )
    {
       PHB_ITEM pItemBlock = hb_param( 2, HB_IT_BLOCK | HB_IT_SYMBOL | HB_IT_HASH );

       if( pItemBlock )
       {
          IConnectionPointContainer*  pCPC = NULL;
          IConnectionPoint*           pCP = NULL;
          HRESULT                     lOleError;

          lOleError = HB_VTBL( pDisp )->QueryInterface( HB_THIS_( pDisp ) 
HB_ID_REF( IID_IConnectionPointContainer ), ( void** ) ( void* ) &pCPC );
MessageBox(NULL, WIN_OLEErrorText( lOleError ), "QueryInterface"
, MB_OK);
          if( lOleError == S_OK )
          {
             lOleError = HB_VTBL( pCPC )->FindConnectionPoint( HB_THIS_( pCPC ) 
HB_ID_REF( IID_IDispatch ), &pCP );
MessageBox(NULL, WIN_OLEErrorText( lOleError ), "FindConnectionPoint"
, MB_OK);
             if( lOleError == S_OK )
             {
                DWORD dwCookie = 0;
                ISink * pSink;

                pSink = ( ISink* ) hb_xgrab( sizeof( ISink ) );    /* TODO: 
GlobalAlloc/Free GMEM_FIXED ??? */

                pSink->lpVtbl = ( IDispatchVtbl * ) &ISink_Vtbl;
                pSink->count = 1; /* 1 for Harbour collectible pointer 
[Mindaugas] */
                pSink->pItemHandler = hb_itemNew( pItemBlock );
                lOleError = HB_VTBL( pCP )->Advise( HB_THIS_( pCP ) ( IUnknown* 
) pSink, &dwCookie );
                pSink->pConnectionPoint = pCP;
                pSink->dwCookie = dwCookie;

                hb_oleItemPut( hb_stackReturnItem(), ( IDispatch* ) pDisp );
             }
				// Try and enumerate the connection points
             if( lOleError != S_OK )
			{
			   IEnumConnectionPoints*      pECP = NULL;
			   IID                         iid;

                lOleError = HB_VTBL( pCPC )->EnumConnectionPoints( HB_THIS_( 
pCPC ) &pECP );
MessageBox(NULL, WIN_OLEErrorText( lOleError ), "EnumConnectionPoints"
, MB_OK);
                if( lOleError == S_OK )
			   {
                   do
                   {
                      lOleError = HB_VTBL( pECP )->Next( HB_THIS_( pECP ) 1, 
&pCP, NULL );
MessageBox(NULL, WIN_OLEErrorText( lOleError ), "Next"
, MB_OK);
                      if( lOleError == S_OK )
                      {
                         lOleError = HB_VTBL( pCP )->GetConnectionInterface( 
HB_THIS_( pCP ) &iid);
MessageBox(NULL, WIN_OLEErrorText( lOleError ), "GetConnectionInterface"
, MB_OK);
                         if( lOleError == S_OK )
                         {

                            DWORD dwCookie = 0;
                            ISink * pSink;

                            pSink = ( ISink* ) hb_xgrab( sizeof( ISink ) ); 
/* TODO: GlobalAlloc/Free GMEM_FIXED ??? */

                            pSink->lpVtbl = ( IDispatchVtbl * ) &ISink_Vtbl;
                            pSink->count = 1; /* 1 for Harbour collectible 
pointer [Mindaugas] */
                            pSink->pItemHandler = hb_itemNew( pItemBlock );
                            lOleError = HB_VTBL( pCP )->Advise( HB_THIS_( pCP ) 
( IUnknown* ) pSink, &dwCookie );
MessageBox(NULL, WIN_OLEErrorText( lOleError ), "Advise"
, MB_OK);
                            pSink->pConnectionPoint = pCP;
                            pSink->dwCookie = dwCookie;

                            hb_oleItemPut( hb_stackReturnItem(), ( IDispatch* ) 
pDisp );
			               break;
						}
                      }
                   } while( lOleError == S_OK );
                   HB_VTBL( pECP )->Release( HB_THIS( pECP ) );
			   }
			}
             HB_VTBL( pCPC )->Release( HB_THIS( pCPC ) );
          }

          hb_oleSetError( lOleError );
MessageBox(NULL, WIN_OLEErrorText( lOleError ), "Finally"
, MB_OK);
          if( lOleError != S_OK )
             hb_errRT_BASE_SubstR( EG_ARG, 3012, "Failed to obtain connection 
point", HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
       }
       else
          hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 
HB_ERR_ARGS_BASEPARAMS );
    }
}

From info at fsgiudice.com  Fri Aug 28 11:59:55 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Aug 28 12:00:19 2009
Subject: [Harbour] Error building demowvg.prg
In-Reply-To: <C29A1933-4813-4225-80AF-7008B9257F34@syenar.hu>
References: <4A97B5CC.7010200@fsgiudice.com>
	<C29A1933-4813-4225-80AF-7008B9257F34@syenar.hu>
Message-ID: <4A97FEFB.40606@fsgiudice.com>

Hi Viktor,

Il 28/08/2009 13.39, Viktor Szak?ts ha scritto:
> Hi,
> 
> It's lib ordering problem, regression after deleting
> lib grouping from link commands all over Harbour.
> 
> I'll try to do a fix, or maybe I'll just readd grouping
> if I can't solve it.
> 
> Brgds,
> Viktor
> 
I confirm it works after your Revision 12362.
Thank you.

There are some problems in demowvg / demoxbp related to ActiveX, but I 
suppose are related to current changes on ActiveX code I have seen.

Best Regards,
Francesco

From info at fsgiudice.com  Fri Aug 28 14:04:31 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Aug 28 14:05:02 2009
Subject: [Harbour] Error in HB_INETSERVER() parameters
Message-ID: <4A981C2F.60800@fsgiudice.com>

Hi,

there is an error in parameters handling, because inet.txt doc says that:

hb_InetServer( port [, cBindAddr [, nListenLimit]]  ) --> SOCKET

but internally function will check only 2 params and 2nd parameter as 
socket that it could reuse.

so I have changed line 994 in source\rtl\hbinet.c from:

    if( ! HB_ISNUM( 1 ) || ( socket == NULL && ! HB_ISNIL( 2 )) )
    {
       hb_inetErrRT();
       return;
    }

to

    if( ! HB_ISNUM( 1 ) || ( socket == NULL && ! ( HB_ISNIL( 2 ) || 
HB_ISCHAR( 2 ) ) ) || ( ! HB_ISNIL( 3 ) && ! HB_ISNUM( 3 ) ) )
    {
       hb_inetErrRT();
       return;
    }

and now it correct handles parameters (also if I not checked too much 
with other existent applications). Now could anyone check me if this is 
correct? If yes, how change inet.txt doc description? is it correct to 
write:

hb_InetServer( port [, SOCKET | cBindAddr [, nListenLimit]]  ) --> SOCKET
and describing in text that only if SOCKET is not passed as second 
parameter nListenLimit is used (notation doubt) ?

Best Regards,
Francesco
From info at fsgiudice.com  Fri Aug 28 15:17:56 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Fri Aug 28 15:18:05 2009
Subject: [Harbour] building httpadv.prg in tip tests using ssl support
Message-ID: <4A982D64.60003@fsgiudice.com>

Hi Viktor,
as in subject.

I'm trying to build it but I got that ssl lib is not found.
I'm using mingw but I see that there is no libssl.a, what I have to 
download to add it ?

this is trace of hbmk2:

J:\cvs\harbourSVN_trunk\contrib\hbtip\tests>hbmk2 httpadv.prg 
hbmkssl.hbm -trace

hbmk2: Processing configuration: j:\cvs\harbour_mingw\bin\hbmk.cfg 

hbmk2: Harbour compiler command (internal): 

(j:\cvs\harbour_mingw\bin\harbour.exe) -n2 httpadv.prg 
-ij:/cvs/harbour_mingw/include -i.. -i../../hbssl
Harbour 2.0.0beta2 (Rev. 12362)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'httpadv.prg'...

Lines 57, Functions/Procedures 1
Generating C source output to 'httpadv.c'... Done.
hbmk2: C compiler command: 

gcc.exe -c -O3 -march=i586 -mtune=pentiumpro -fomit-frame-pointer 
-Ij:/cvs/harbour_mingw/include -I.. -I../../hbssl httpadv.c 
k:\temp\hbmk_mvv8sb.c
hbmk2: Linker command: 

gcc.exe httpadv.o hbmk_mvv8sb.o    -mconsole -lhbtipssl -lhbssl -lssl 
-lssl32 -lcrypto -leay32 -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang 
-lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd 
-lhbusrrdd -lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt -lhbuddall 
-lrddnsx -lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre 
-lhbzlib -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool 
-lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm 
-lmapi32 -limm32 -lmsimg32 -lwininet  -ohttpadv.exe 
-Lj:/cvs/harbour_mingw/lib/win/mingw
k:/hb-1.1.0dev/mingw/bin/../lib/gcc/mingw32/4.3.3/../../../../mingw32/bin/ld.exe: 
cannot find -lssl
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1 

gcc.exe httpadv.o hbmk_mvv8sb.o    -mconsole -lhbtipssl -lhbssl -lssl 
-lssl32 -lcrypto -leay32 -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang 
-lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd 
-lhbusrrdd -lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt -lhbuddall 
-lrddnsx -lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lhbpcre 
-lhbzlib -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool 
-lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm 
-lmapi32 -limm32 -lmsimg32 -lwininet  -ohttpadv.exe 
-Lj:/cvs/harbour_mingw/lib/win/mingw

Best Regards,
Francesco
From harbour.01 at syenar.hu  Fri Aug 28 19:30:00 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Aug 28 19:30:15 2009
Subject: [Harbour] building httpadv.prg in tip tests using ssl support
In-Reply-To: <4A982D64.60003@fsgiudice.com>
References: <4A982D64.60003@fsgiudice.com>
Message-ID: <2A3F70D4-ECBF-4B14-B7DA-DFE3B5EBC75B@syenar.hu>

Hi Francesco,

> I'm trying to build it but I got that ssl lib is not found.
> I'm using mingw but I see that there is no libssl.a, what I have to  
> download to add it ?

In a recent ChangeLog I've linked an OpenSSL binary package for
Windows, you can also find it from openssl.org (they're finally
offering such thing).

Personally I used to build OpenSSL from source in static mode,
so I don't have any experience first hand about above pkg, but
it has mingw libs too, and static and dyn versions for msvc.

There is also usual chaos regarding lib names. The ones currently
included in hbssl.hbc are the default static lib names generated
if you build OpenSSL from source (speaking about Windows now).
If you use other bin pkgs, or dll implib version, you'll have to
adjust these names. For dll versions, probably even some macros
need to be defined when you build hbssl, I didn't explore this
yet, the name of the macro is OPENSSL_OPT_WINDLL.

Probably we should have a HB_OPENSSL_STATIC flag for hbssl lib
to control that and also lib name to some extent. The .dll
method could be setup pretty much universally. The implibs
are already generated in HB_BUILD_IMPLIB mode.

Please feel free to experiment. Maybe I'll make some steps
into above directions.

Brgds,
Viktor

> this is trace of hbmk2:
>
> J:\cvs\harbourSVN_trunk\contrib\hbtip\tests>hbmk2 httpadv.prg  
> hbmkssl.hbm -trace
>
> hbmk2: Processing configuration: j:\cvs\harbour_mingw\bin\hbmk.cfg
> hbmk2: Harbour compiler command (internal):
> (j:\cvs\harbour_mingw\bin\harbour.exe) -n2 httpadv.prg -ij:/cvs/ 
> harbour_mingw/include -i.. -i../../hbssl
> Harbour 2.0.0beta2 (Rev. 12362)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'httpadv.prg'...
>
> Lines 57, Functions/Procedures 1
> Generating C source output to 'httpadv.c'... Done.
> hbmk2: C compiler command:
> gcc.exe -c -O3 -march=i586 -mtune=pentiumpro -fomit-frame-pointer - 
> Ij:/cvs/harbour_mingw/include -I.. -I../../hbssl httpadv.c k:\temp 
> \hbmk_mvv8sb.c
> hbmk2: Linker command:
> gcc.exe httpadv.o hbmk_mvv8sb.o    -mconsole -lhbtipssl -lhbssl - 
> lssl -lssl32 -lcrypto -leay32 -lhbextern -lhbdebug -lhbvm -lhbrtl - 
> lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui - 
> lhbrdd -lhbusrrdd -lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt - 
> lhbuddall -lrddnsx -lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp - 
> lhbcommon -lhbpcre -lhbzlib -lkernel32 -luser32 -lgdi32 -ladvapi32 - 
> lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 - 
> loleaut32 -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32 -lwininet  - 
> ohttpadv.exe -Lj:/cvs/harbour_mingw/lib/win/mingw
> k:/hb-1.1.0dev/mingw/bin/../lib/gcc/mingw32/4.3.3/../../../../ 
> mingw32/bin/ld.exe: cannot find -lssl
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> gcc.exe httpadv.o hbmk_mvv8sb.o    -mconsole -lhbtipssl -lhbssl - 
> lssl -lssl32 -lcrypto -leay32 -lhbextern -lhbdebug -lhbvm -lhbrtl - 
> lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui - 
> lhbrdd -lhbusrrdd -lhbhsx -lhbsix -lrddntx -lrddcdx -lrddfpt - 
> lhbuddall -lrddnsx -lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp - 
> lhbcommon -lhbpcre -lhbzlib -lkernel32 -luser32 -lgdi32 -ladvapi32 - 
> lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 - 
> loleaut32 -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32 -lwininet  - 
> ohttpadv.exe -Lj:/cvs/harbour_mingw/lib/win/mingw
>
> Best Regards,
> Francesco
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sat Aug 29 05:21:46 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 29 05:21:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12363] trunk/harbour
Message-ID: <E1MhK82-0003o7-Na@3kljzd1.ch3.sourceforge.com>

Revision: 12363
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12363&view=rev
Author:   vszakats
Date:     2009-08-29 09:21:45 +0000 (Sat, 29 Aug 2009)

Log Message:
-----------
2009-08-29 11:21 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbssl/bio.c
    - Disabled feature which doesn't seem to be exported via
      implibs.

  + contrib/hbssl/hbssls.hbc
  + contrib/hbssl/hbssls
  + contrib/hbssl/hbssls/Makefile
  * contrib/hbssl/hbssl.hbc
  * contrib/hbssl/Makefile
    * Default hbssl lib is now created to link dynamically (on Windows).
    + Added static build of hbssl by the name hbssls, with new .hbc
      file linking to static OpenSSL libs.

  * contrib/hbssl/Makefile
  + contrib/hbssl/hbssls.hbc
  * contrib/hbssl/hbssl.hbc

  * bin/hb-func.sh
    - Commented creation of dynamic libs. Now it's done on GNU Make
      level.

  * config/os2/gcc.mk
    - Disabled os2/gcc .dll creation. If someone comes up with a working
      solution we can readd it, but in current form it just broke os2/gcc
      target with no short-term hope for a solution.

  * source/common/hbver.c
    + Added "Embarcadero" to Borland C compiler name.
      Borrowed from xhb / Andi Jahja
    + Readded also "Borland" to both Embarcadero and CodeGear compiler
      names. Probably for most ppl "Borland" tells a hell lot more than
      these names which keep changing every second year.

  * contrib/gtwvg/Makefile
  * contrib/hbtip/Makefile
  * contrib/hbtip/hbtipssl/Makefile
    * Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/hbssl/Makefile
    trunk/harbour/contrib/hbssl/bio.c
    trunk/harbour/contrib/hbssl/hbssl.hbc
    trunk/harbour/contrib/hbtip/Makefile
    trunk/harbour/contrib/hbtip/hbtipssl/Makefile
    trunk/harbour/source/common/hbver.c

Added Paths:
-----------
    trunk/harbour/contrib/hbssl/hbssls/
    trunk/harbour/contrib/hbssl/hbssls/Makefile
    trunk/harbour/contrib/hbssl/hbssls.hbc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Aug 29 05:38:37 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 29 05:38:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12364]
	trunk/harbour/ChangeLog
Message-ID: <E1MhKOL-00049Y-Hh@3kljzd1.ch3.sourceforge.com>

Revision: 12364
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12364&view=rev
Author:   vszakats
Date:     2009-08-29 09:38:36 +0000 (Sat, 29 Aug 2009)

Log Message:
-----------
(deleted some extra lines from last changelog entry)

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sat Aug 29 06:43:33 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Aug 29 06:43:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12365] trunk/harbour
Message-ID: <E1MhLPB-0005NG-0y@bj8yhf1.ch3.sourceforge.com>

Revision: 12365
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12365&view=rev
Author:   druzus
Date:     2009-08-29 10:43:31 +0000 (Sat, 29 Aug 2009)

Log Message:
-----------
2009-08-29 12:43 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbcomp.h
  * harbour/include/hbcompdf.h
  * harbour/source/compiler/hbmain.c
  * harbour/source/compiler/cmdcheck.c
  * harbour/source/compiler/hbcomp.c
  * harbour/source/compiler/genc.c
  * harbour/source/compiler/harbour.yyc
  * harbour/source/compiler/harbour.y
  * harbour/source/compiler/hbdbginf.c
  * harbour/source/compiler/genhrb.c
  * harbour/source/compiler/gencobj.c
    - removed old "AutoOpen" code used for @<name>.clp, SET PROCEDURE TO ...
      and DO <func> [ WITH <args,...> ] statements
      It was neither Clipper compatible not working correctly in some cases.
    + added new code for multi .prg module compilation into single unit
      with support for multiple file wide declarations just like Cipper
      does doe @.clp files and SET PROCEDURE TO / DO ... [ WITH ... ]
    % cleaned redundant code used in harbour compiler to execute grammar
      parser with different conditions. Now it's much shorter and simpler
      and hb_compparse() is called only from one place.
    ! fixed possible multiple declarations in symbol table for ANNOUNCE
      function
    % rewritten C code generation to increase speed and make it independent
      from some internal compiler structures. Now it's shorter and faster
      but it strongly uses scope attributes in symbol table so they have
      to be properly set during compilation and new code for .c file
      generation should help in their validation.
    % few other optimizations and cleanups

      Now Harbour can compile code like:
         /*** t01.prg ***/
         static s_var := "main sVar"
         proc main()
            ? procname(), "->", sVar
            do t02
         return

         /*** t02.prg ***/
         static s_var := "t02 sVar"
         proc t02()
            ? procname(), "->", sVar
         return

      by simpe:
         harbour -n -w -es2 t01
      or using tst.clp:
         t01
         t02
      and:
         harbour -n -w -es2 @tst
      in both cases it works just like Clipper. Please note that in the
      second version generated file inherits (like in Clipper) name from
      .clp file and is called "tst.c". The .clp file name is also used
      as module handler signature.

      TODO: add support for multiple static functions with the same name
            but coming from different .prg modules compiled into single
            unit using @.clp files or SET PROCEDURE TO / DO ... [ WITH ... ]
            In above modifications I already implemented it partially but
            I haven't made one very important extension which strongly
            interacts with symbol table usage during compilation and can
            be source of really bad problems if I made sth wrong so I plan
            to finish when above changes will have been tested.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbcomp.h
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/source/compiler/cmdcheck.c
    trunk/harbour/source/compiler/genc.c
    trunk/harbour/source/compiler/gencobj.c
    trunk/harbour/source/compiler/genhrb.c
    trunk/harbour/source/compiler/harbour.y
    trunk/harbour/source/compiler/harbour.yyc
    trunk/harbour/source/compiler/hbcomp.c
    trunk/harbour/source/compiler/hbdbginf.c
    trunk/harbour/source/compiler/hbmain.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Sat Aug 29 07:12:03 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sat Aug 29 07:12:29 2009
Subject: [Harbour] Harbour under OS/2 - eCS
Message-ID: <4A990D03.8080909@mail.udg.mx>

Build tests with current Harbour

  * $Id: ChangeLog 12363 2009-08-29 09:21:45Z vszakats $
  2009-08-29 11:21 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)

gcc335: build fine
openwatcom 1.8: fail
gcc433: fail

Descriptions are below

David Macias

gcc335:
======

! Building Harbour 2.0.0beta2 from source - http://www.harbour-project.org
! MAKE: make 3.81 E:\OS2\CMD.EXE
! HB_HOST_PLAT: os2 (x86)  HB_SHELL: os2
! HB_PLATFORM: os2 (x86) (autodetected)
! HB_COMPILER: gcc (autodetected: E:/usr/bin/)
! Component: 'openssl' not found
! Component: 'gpm' not supported on os2 platform
! Component: 'slang' not found
! Component: 'curses' not supported on os2 platform
! Component: 'x11' not found
! HB_INSTALL_PREFIX automatically set to: E:\harbour909\harbour


[E:\harbour909\harbour]make > make_gnu.log
../../../gtstd.c: In function `hb_gt_std_ReadKey':
../../../gtstd.c:412: warning: unused variable `TODO'
../../../sqlite3.c: In function `sqlite3_os_init':
../../../sqlite3.c:20847: warning: initialization from incompatible 
pointer type


OpenWatcom 1.8:
==============

! Building Harbour 2.0.0beta2 from source - http://www.harbour-project.org
! MAKE: make 3.81 E:\OS2\CMD.EXE
! HB_HOST_PLAT: os2 (x86)  HB_SHELL: os2
! HB_PLATFORM: os2 (x86) (autodetected)
! HB_COMPILER: watcom (autodetected: E:/WATCOM/BINP/wpp386.exe 
E:/WATCOM/BINW/)
! Component: 'openssl' not supported with watcom compiler
! Component: 'gpm' not supported on os2 platform
! Component: 'slang' not found
! Component: 'curses' not supported on os2 platform
! Component: 'x11' not found
! HB_INSTALL_PREFIX automatically set to: E:\harbour909\harbour


[E:\harbour909\harbour]make > make_ow.log
make[3]: spawnvpe: environment space might be exhausted
make[3]: execvp: E:\OS2\CMD.EXE: Invalid argument
make[3]: spawn: Invalid argument
make[2]: *** [descend] Error 2
make[1]: *** [dynlib] Error 2
make: *** [source] Error 2

Last segment in make_ow.log:
---------------------------------
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include    -fo=tbrwtext.obj  tbrwtext.c
../../../../../bin/os2/watcom/harbour.exe ../../../dbgwa.prg 
-i../../../../../include -n1 -q0 -w3 -es2 -kmo -l
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include    -fo=dbgwa.obj  dbgwa.c
../../../../../bin/os2/watcom/harbour.exe ../../../dbgbrwsr.prg 
-i../../../../../include -n1 -q0 -w3 -es2 -kmo -l
wpp386  -zq -bt=os2 -w3 -5r -fp5 -onaehtr -s -ei -zp4 -zt0 -oi+ -i. 
-i../../../../../include    -fo=dbgbrwsr.obj  dbgbrwsr.c
for %f in ( *.obj ) do @echo -+%f >> __lib__.tmp
wlib -q -p=64 -c -n  @__lib__.tmp
---------------------------------

Last library: hbdebug.lib


gcc433:
======

Local changes in gcc.mk and using OpenWatcom Wl.exe as linker

! Building Harbour 2.0.0beta2 from source - http://www.harbour-project.org
! MAKE: make 3.81 E:\OS2\CMD.EXE
! HB_HOST_PLAT: os2 (x86)  HB_SHELL: os2
! HB_PLATFORM: os2 (x86) (autodetected)
! HB_COMPILER: gcc (autodetected: E:/usr/local433/bin/gcc.exe E:/usr/bin/)
! Component: 'openssl' not found
! Component: 'gpm' not supported on os2 platform
! Component: 'slang' not found
! Component: 'curses' not supported on os2 platform
! Component: 'x11' not found
! HB_INSTALL_PREFIX automatically set to: E:\harbour909\harbour


[E:\harbour909\harbour]make > make_gnu433.log
emxomfar: Symbol multiply defined: _hb_pp_init
weakld: E:\harbour909\harbour\lib\os2\gcc\hbpp.lib(hbpp.o) - error: 
Duplicate symbol '_hb_verSvnID' ('_hb_verSvnID').
weakld: E:\harbour909\harbour\source\main\obj\os2\gcc\harbour.o - error: 
Symbol previosly defined in this module.
weakld: info: fFlags new 0x0201  fFlags old 0x0001 (PUBLIC).
weakld: E:\harbour909\harbour\lib\os2\gcc\hbpp.lib: error: Failed when 
reading module at offset 29e80.
emxomfld: weak prelinker failed. (rc=-1)
make[3]: *** [harbour.exe] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [main] Error 2
make: *** [source] Error 2


Last segment in make_gnu433.log
-------------------
gcc  -I. -I../../../../../include -Zomf -Wall -W -O3   -oharbour.o -c 
../../../harbour.c
gcc -Zomf -Wall -W -O3 -o ..\..\..\..\..\bin\os2\gcc\harbour.exe 
harbour.o  -L../../../../../lib/os2/gcc   -lhbcplr -lhbpp -lhbcommon 
-lhbnortl
-------------------

From druzus at users.sourceforge.net  Sat Aug 29 07:33:24 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Aug 29 07:33:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12366] trunk/harbour
Message-ID: <E1MhMBQ-0003oA-46@c3vjzd1.ch3.sourceforge.com>

Revision: 12366
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12366&view=rev
Author:   druzus
Date:     2009-08-29 11:33:22 +0000 (Sat, 29 Aug 2009)

Log Message:
-----------
2009-08-29 13:33 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbcomp.h
  * harbour/source/compiler/hbmain.c
    ! fixed typo in -m parameter handling
    ! fixed old memory leak exploited by compile time error in code with
      static variables

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbcomp.h
    trunk/harbour/source/compiler/hbmain.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Sat Aug 29 10:39:49 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sat Aug 29 10:39:57 2009
Subject: [Harbour] build failure: harbour: double free or corruption
Message-ID: <alpine.GSO.2.00.0908291513560.17720@dawn.royalcomp.hu>


hi,

linux (ubuntu 9.04: gcc 4.3.3, glibc 2.9), x64
linux (centos 4.8: gcc 3.4.6, glibc 2.3.4), x64
linux (debian etch: 4.3.2, glibc 2.7), x86

the same on all of them. works on solaris 10 Generic_141414-09, sun c 
5.9, sparcv9, but then again solaris libc is probably more forgiving.

this exceprt is from linux (ubuntu 9.04: gcc 4.3.3, glibc 2.9), x64 
this one (the others are available, if needed):

$ make
! Building Harbour 2.0.0beta2 from source - http://www.harbour-project.org
! MAKE: make 3.81 /bin/sh   
! HB_HOST_PLAT: linux  HB_SHELL: sh
! HB_PLATFORM: linux (autodetected)
! HB_COMPILER: gcc (autodetected: /usr/bin/gcc /usr/bin/X11/gcc /usr/X11R6/bin/gcc /usr/bin/gcc /usr/bin/X11/gcc /usr/X11R6/bin/gcc /usr/bin/)
! Component: 'openssl' found in /usr/include
! Component: 'gpm' found in /usr/include
! Component: 'slang' found in /usr/include
! Component: 'curses' found in /usr/include
! Component: 'x11' found in /usr/include
! HB_INSTALL_PREFIX automatically set to: /usr/local
! REVISION: 12366
make[2]: Nothing to be done for `all'.
make[1]: Nothing to be done for `all'.
make[3]: `../../../../../lib/linux/gcc/libhbcommon.a' is up to date.
make[3]: `../../../../../lib/linux/gcc/libhbnortl.a' is up to date.
make[3]: `../../../../../lib/linux/gcc/libhbpp.a' is up to date.
make[3]: `../../../../../lib/linux/gcc/libhbcplr.a' is up to date.
make[3]: `../../../../../bin/linux/gcc/harbour' is up to date.
../../../../../bin/linux/gcc/harbour ../../../listbox.prg  -i../../../../../include -n1 -q0 -w3 -es2 -kmo -l -gc3 
*** glibc detected *** ../../../../../bin/linux/gcc/harbour: double free or corruption (!prev): 0x0000000000abfa40 ***
======= Backtrace: =========
/lib/libc.so.6[0x2b6e5bcdbcb8]
/lib/libc.so.6(cfree+0x76)[0x2b6e5bcde276]
../../../../../bin/linux/gcc/harbour[0x401a69]
../../../../../bin/linux/gcc/harbour[0x401cf5]
../../../../../bin/linux/gcc/harbour[0x41e551]
../../../../../bin/linux/gcc/harbour[0x40829d]
../../../../../bin/linux/gcc/harbour[0x4016eb]
/lib/libc.so.6(__libc_start_main+0xe6)[0x2b6e5bc825a6]
../../../../../bin/linux/gcc/harbour[0x401599]
======= Memory map: ========
00400000-0046d000 r-xp 00000000 08:03 6768980                            /home/ice/w/xhb/harbour-build/bin/linux/gcc/harbour
0066d000-00674000 r--p 0006d000 08:03 6768980                            /home/ice/w/xhb/harbour-build/bin/linux/gcc/harbour
00674000-006a3000 rw-p 00074000 08:03 6768980                            /home/ice/w/xhb/harbour-build/bin/linux/gcc/harbour
00a54000-00af9000 rw-p 00a54000 00:00 0                                  [heap]
2b6e5b7be000-2b6e5b7de000 r-xp 00000000 08:03 2965580                    /lib/ld-2.9.so
2b6e5b7de000-2b6e5b7e2000 rw-p 2b6e5b7de000 00:00 0 
2b6e5b9dd000-2b6e5b9de000 r--p 0001f000 08:03 2965580                    /lib/ld-2.9.so
2b6e5b9de000-2b6e5b9df000 rw-p 00020000 08:03 2965580                    /lib/ld-2.9.so
2b6e5b9df000-2b6e5ba63000 r-xp 00000000 08:03 2965752                    /lib/libm-2.9.so
2b6e5ba63000-2b6e5bc62000 ---p 00084000 08:03 2965752                    /lib/libm-2.9.so
2b6e5bc62000-2b6e5bc63000 r--p 00083000 08:03 2965752                    /lib/libm-2.9.so
2b6e5bc63000-2b6e5bc64000 rw-p 00084000 08:03 2965752                    /lib/libm-2.9.so
2b6e5bc64000-2b6e5bdcc000 r-xp 00000000 08:03 2965744                    /lib/libc-2.9.so
2b6e5bdcc000-2b6e5bfcc000 ---p 00168000 08:03 2965744                    /lib/libc-2.9.so
2b6e5bfcc000-2b6e5bfd0000 r--p 00168000 08:03 2965744                    /lib/libc-2.9.so
2b6e5bfd0000-2b6e5bfd1000 rw-p 0016c000 08:03 2965744                    /lib/libc-2.9.so
2b6e5bfd1000-2b6e5bfd8000 rw-p 2b6e5bfd1000 00:00 0 
2b6e5c000000-2b6e5c021000 rw-p 2b6e5c000000 00:00 0 
2b6e5c021000-2b6e60000000 ---p 2b6e5c021000 00:00 0 
2b6e60000000-2b6e60016000 r-xp 00000000 08:03 2965643                    /lib/libgcc_s.so.1
2b6e60016000-2b6e60216000 ---p 00016000 08:03 2965643                    /lib/libgcc_s.so.1
2b6e60216000-2b6e60217000 r--p 00016000 08:03 2965643                    /lib/libgcc_s.so.1
2b6e60217000-2b6e60218000 rw-p 00017000 08:03 2965643                    /lib/libgcc_s.so.1
7fff4f2d7000-7fff4f2ec000 rw-p 7ffffffea000 00:00 0                      [stack]
7fff4f3ff000-7fff4f400000 r-xp 7fff4f3ff000 00:00 0                      [vdso]
ffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]
make[3]: *** [listbox.c] Aborted
make[3]: *** Deleting file `listbox.c'
make[2]: *** [descend] Error 2
make[1]: *** [rtl] Error 2
make: *** [source] Error 2

-- 
[-]

mkdir /nonexistent
From vszakats at users.sourceforge.net  Sat Aug 29 13:09:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Aug 29 13:09:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12367] trunk/harbour
Message-ID: <E1MhRQK-0003EY-FE@dn4whf1.ch3.sourceforge.com>

Revision: 12367
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12367&view=rev
Author:   vszakats
Date:     2009-08-29 17:09:05 +0000 (Sat, 29 Aug 2009)

Log Message:
-----------
2009-08-29 19:05 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/pp/hbpp.c
    + Added command to HB_DYNLIB guard.

  * source/pp/Makefile
    ! Deleted wildcard check before hbpp obj deletion. It's wrong
      because hbpp obj isn't there when the rule is validated, so
      the deletion would never take place. (For some reason it was
      still deleted on some platforms though - apparently not on
      OS/2 GNU Make.). Anyhow addition of $(wildcard) call at this
      spot was not critical anyway. See: 2009-08-22 11:59

  * utils/hbmk2/hbmk2.prg
    ! Fixed checking wrong dependencies when non-.prg extension was
      used for .prg source files in incremental mode.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/pp/Makefile
    trunk/harbour/source/pp/hbpp.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Aug 29 15:50:44 2009
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Aug 29 15:50:53 2009
Subject: [Harbour] build failure: harbour: double free or corruption
In-Reply-To: <alpine.GSO.2.00.0908291513560.17720@dawn.royalcomp.hu>
References: <alpine.GSO.2.00.0908291513560.17720@dawn.royalcomp.hu>
Message-ID: <BE2C070F-3EE4-4F03-9DA7-ED34A290DDBD@syenar.hu>

Hi all,

I'm getting GPF in harbour.exe when trying a default BCC build,
it stops when compiling memoedit.prg.

Brgds,
Viktor

On 2009.08.29., at 4:39, Tamas TEVESZ wrote:

>
> hi,
>
> linux (ubuntu 9.04: gcc 4.3.3, glibc 2.9), x64
> linux (centos 4.8: gcc 3.4.6, glibc 2.3.4), x64
> linux (debian etch: 4.3.2, glibc 2.7), x86
>
> the same on all of them. works on solaris 10 Generic_141414-09, sun c
> 5.9, sparcv9, but then again solaris libc is probably more forgiving.
>
> this exceprt is from linux (ubuntu 9.04: gcc 4.3.3, glibc 2.9), x64
> this one (the others are available, if needed):
>
> $ make
> ! Building Harbour 2.0.0beta2 from source - http://www.harbour-project.org
> ! MAKE: make 3.81 /bin/sh
> ! HB_HOST_PLAT: linux  HB_SHELL: sh
> ! HB_PLATFORM: linux (autodetected)
> ! HB_COMPILER: gcc (autodetected: /usr/bin/gcc /usr/bin/X11/gcc /usr/ 
> X11R6/bin/gcc /usr/bin/gcc /usr/bin/X11/gcc /usr/X11R6/bin/gcc /usr/ 
> bin/)
> ! Component: 'openssl' found in /usr/include
> ! Component: 'gpm' found in /usr/include
> ! Component: 'slang' found in /usr/include
> ! Component: 'curses' found in /usr/include
> ! Component: 'x11' found in /usr/include
> ! HB_INSTALL_PREFIX automatically set to: /usr/local
> ! REVISION: 12366
> make[2]: Nothing to be done for `all'.
> make[1]: Nothing to be done for `all'.
> make[3]: `../../../../../lib/linux/gcc/libhbcommon.a' is up to date.
> make[3]: `../../../../../lib/linux/gcc/libhbnortl.a' is up to date.
> make[3]: `../../../../../lib/linux/gcc/libhbpp.a' is up to date.
> make[3]: `../../../../../lib/linux/gcc/libhbcplr.a' is up to date.
> make[3]: `../../../../../bin/linux/gcc/harbour' is up to date.
> ../../../../../bin/linux/gcc/harbour ../../../listbox.prg  - 
> i../../../../../include -n1 -q0 -w3 -es2 -kmo -l -gc3
> *** glibc detected *** ../../../../../bin/linux/gcc/harbour: double  
> free or corruption (!prev): 0x0000000000abfa40 ***
> ======= Backtrace: =========
> /lib/libc.so.6[0x2b6e5bcdbcb8]
> /lib/libc.so.6(cfree+0x76)[0x2b6e5bcde276]
> ../../../../../bin/linux/gcc/harbour[0x401a69]
> ../../../../../bin/linux/gcc/harbour[0x401cf5]
> ../../../../../bin/linux/gcc/harbour[0x41e551]
> ../../../../../bin/linux/gcc/harbour[0x40829d]
> ../../../../../bin/linux/gcc/harbour[0x4016eb]
> /lib/libc.so.6(__libc_start_main+0xe6)[0x2b6e5bc825a6]
> ../../../../../bin/linux/gcc/harbour[0x401599]
> ======= Memory map: ========
> 00400000-0046d000 r-xp 00000000 08:03  
> 6768980                            /home/ice/w/xhb/harbour-build/bin/ 
> linux/gcc/harbour
> 0066d000-00674000 r--p 0006d000 08:03  
> 6768980                            /home/ice/w/xhb/harbour-build/bin/ 
> linux/gcc/harbour
> 00674000-006a3000 rw-p 00074000 08:03  
> 6768980                            /home/ice/w/xhb/harbour-build/bin/ 
> linux/gcc/harbour
> 00a54000-00af9000 rw-p 00a54000 00:00  
> 0                                  [heap]
> 2b6e5b7be000-2b6e5b7de000 r-xp 00000000 08:03  
> 2965580                    /lib/ld-2.9.so
> 2b6e5b7de000-2b6e5b7e2000 rw-p 2b6e5b7de000 00:00 0
> 2b6e5b9dd000-2b6e5b9de000 r--p 0001f000 08:03  
> 2965580                    /lib/ld-2.9.so
> 2b6e5b9de000-2b6e5b9df000 rw-p 00020000 08:03  
> 2965580                    /lib/ld-2.9.so
> 2b6e5b9df000-2b6e5ba63000 r-xp 00000000 08:03  
> 2965752                    /lib/libm-2.9.so
> 2b6e5ba63000-2b6e5bc62000 ---p 00084000 08:03  
> 2965752                    /lib/libm-2.9.so
> 2b6e5bc62000-2b6e5bc63000 r--p 00083000 08:03  
> 2965752                    /lib/libm-2.9.so
> 2b6e5bc63000-2b6e5bc64000 rw-p 00084000 08:03  
> 2965752                    /lib/libm-2.9.so
> 2b6e5bc64000-2b6e5bdcc000 r-xp 00000000 08:03  
> 2965744                    /lib/libc-2.9.so
> 2b6e5bdcc000-2b6e5bfcc000 ---p 00168000 08:03  
> 2965744                    /lib/libc-2.9.so
> 2b6e5bfcc000-2b6e5bfd0000 r--p 00168000 08:03  
> 2965744                    /lib/libc-2.9.so
> 2b6e5bfd0000-2b6e5bfd1000 rw-p 0016c000 08:03  
> 2965744                    /lib/libc-2.9.so
> 2b6e5bfd1000-2b6e5bfd8000 rw-p 2b6e5bfd1000 00:00 0
> 2b6e5c000000-2b6e5c021000 rw-p 2b6e5c000000 00:00 0
> 2b6e5c021000-2b6e60000000 ---p 2b6e5c021000 00:00 0
> 2b6e60000000-2b6e60016000 r-xp 00000000 08:03  
> 2965643                    /lib/libgcc_s.so.1
> 2b6e60016000-2b6e60216000 ---p 00016000 08:03  
> 2965643                    /lib/libgcc_s.so.1
> 2b6e60216000-2b6e60217000 r--p 00016000 08:03  
> 2965643                    /lib/libgcc_s.so.1
> 2b6e60217000-2b6e60218000 rw-p 00017000 08:03  
> 2965643                    /lib/libgcc_s.so.1
> 7fff4f2d7000-7fff4f2ec000 rw-p 7ffffffea000 00:00  
> 0                      [stack]
> 7fff4f3ff000-7fff4f400000 r-xp 7fff4f3ff000 00:00  
> 0                      [vdso]
> ffffffffff600000-ffffffffff601000 r-xp 00000000 00:00  
> 0                  [vsyscall]
> make[3]: *** [listbox.c] Aborted
> make[3]: *** Deleting file `listbox.c'
> make[2]: *** [descend] Error 2
> make[1]: *** [rtl] Error 2
> make: *** [source] Error 2
>
> -- 
> [-]
>
> mkdir /nonexistent
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From elart at elart.it  Sat Aug 29 15:57:49 2009
From: elart at elart.it (elart)
Date: Sat Aug 29 15:58:16 2009
Subject: [Harbour] build failure: harbour: double free or corruption
In-Reply-To: <BE2C070F-3EE4-4F03-9DA7-ED34A290DDBD@syenar.hu>
References: <alpine.GSO.2.00.0908291513560.17720@dawn.royalcomp.hu>
	<BE2C070F-3EE4-4F03-9DA7-ED34A290DDBD@syenar.hu>
Message-ID: <4A99883D.2040209@elart.it>

On 08/29/2009 09:50 PM, Viktor Szak?ts wrote:
> Hi all,
>
> I'm getting GPF in harbour.exe when trying a default BCC build,
> it stops when compiling memoedit.prg.
>
> Brgds,
> Viktor
>
> On 2009.08.29., at 4:39, Tamas TEVESZ wrote:
>

Same here on Ubuntu 9.04 32 bits


gcc  -I. -I../../../../../include  -Wall -W -O3   -oadir.o -c adir.c
../../../../../bin/linux/gcc/harbour ../../../alert.prg 
-i../../../../../include -n1 -q0 -w3 -es2 -kmo -l -gc3
*** glibc detected *** ../../../../../bin/linux/gcc/harbour: double free 
or corruption (!prev): 0x08d956d8 ***
======= Backtrace: =========
/lib/tls/i686/cmov/libc.so.6[0x400d9604]
/lib/tls/i686/cmov/libc.so.6(cfree+0x96)[0x400db5b6]
../../../../../bin/linux/gcc/harbour[0x804939e]
../../../../../bin/linux/gcc/harbour[0x804958c]
../../../../../bin/linux/gcc/harbour[0x804fc27]
../../../../../bin/linux/gcc/harbour[0x80510fe]
../../../../../bin/linux/gcc/harbour[0x804900e]
/lib/tls/i686/cmov/libc.so.6(__libc_start_main+0xe5)[0x40080775]
../../../../../bin/linux/gcc/harbour[0x8048ec1]
======= Memory map: ========
08048000-080b4000 r-xp 00000000 08:01 7077893 
/home/danilo/src/harbour/bin/linux/gcc/harbour
080b4000-080b5000 r--p 0006b000 08:01 7077893 
/home/danilo/src/harbour/bin/linux/gcc/harbour
080b5000-080d4000 rw-p 0006c000 08:01 7077893 
/home/danilo/src/harbour/bin/linux/gcc/harbour
08d83000-08da4000 rw-p 00000000 00:00 0          [heap]
40000000-4001c000 r-xp 00000000 08:01 9013300    /lib/ld-2.9.so
4001c000-4001d000 r--p 0001b000 08:01 9013300    /lib/ld-2.9.so
4001d000-4001e000 rw-p 0001c000 08:01 9013300    /lib/ld-2.9.so
4001e000-4001f000 r-xp 00000000 00:00 0          [vdso]
4001f000-40022000 rw-p 00000000 00:00 0
40022000-4002f000 r-xp 00000000 08:01 9011253    /lib/libgcc_s.so.1
4002f000-40030000 r--p 0000c000 08:01 9011253    /lib/libgcc_s.so.1
40030000-40031000 rw-p 0000d000 08:01 9011253    /lib/libgcc_s.so.1
40044000-40068000 r-xp 00000000 08:01 9044094 
/lib/tls/i686/cmov/libm-2.9.so
40068000-40069000 r--p 00023000 08:01 9044094 
/lib/tls/i686/cmov/libm-2.9.so
40069000-4006a000 rw-p 00024000 08:01 9044094 
/lib/tls/i686/cmov/libm-2.9.so
4006a000-401c6000 r-xp 00000000 08:01 9044006 
/lib/tls/i686/cmov/libc-2.9.so
401c6000-401c7000 ---p 0015c000 08:01 9044006 
/lib/tls/i686/cmov/libc-2.9.so
401c7000-401c9000 r--p 0015c000 08:01 9044006 
/lib/tls/i686/cmov/libc-2.9.so
401c9000-401ca000 rw-p 0015e000 08:01 9044006 
/lib/tls/i686/cmov/libc-2.9.so
401ca000-401ce000 rw-p 00000000 00:00 0
40200000-40221000 rw-p 00000000 00:00 0
40221000-40300000 ---p 00000000 00:00 0
bfdcd000-bfde2000 rw-p 00000000 00:00 0          [stack]
make[3]: *** [alert.c] Aborted
make[3]: *** Deleting file `alert.c'
make[2]: *** [descend] Error 2
make[1]: *** [rtl] Error 2
make: *** [source] Error 2

From e.m.giordano at emagsoftware.it  Sat Aug 29 18:22:15 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Aug 29 18:22:24 2009
Subject: [Harbour] Error building latest SVN
Message-ID: <1ADAA3F4649C4FA3BEE8776C8F6C7065@emag>

../../../../../bin/win/bcc/harbour.exe 
./../../checkbox.prg  -i../../../../../include -n1 -q0 -w3 -es2 -kmo -l -gc3
mingw32-make[3]: *** [checkbox.c] Error -1073741819
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [rtl.inst] Error 2
mingw32-make: *** [source.inst] Error 2

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Sun Aug 30 02:47:24 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 30 02:47:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12368] trunk/harbour
Message-ID: <E1MheCC-0000mo-LY@3kljzd1.ch3.sourceforge.com>

Revision: 12368
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12368&view=rev
Author:   vszakats
Date:     2009-08-30 06:47:23 +0000 (Sun, 30 Aug 2009)

Log Message:
-----------
2009-08-30 08:47 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added sqlite3 and allegro package names for Ubuntu.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Aug 30 02:54:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Aug 30 02:54:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12369] trunk/harbour/INSTALL
Message-ID: <E1MheJH-0000xG-PW@3kljzd1.ch3.sourceforge.com>

Revision: 12369
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12369&view=rev
Author:   vszakats
Date:     2009-08-30 06:54:43 +0000 (Sun, 30 Aug 2009)

Log Message:
-----------
minor typo

Modified Paths:
--------------
    trunk/harbour/INSTALL


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sun Aug 30 04:29:20 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Aug 30 04:29:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12370] trunk/harbour
Message-ID: <E1Mhfmq-0002r5-Vn@3kljzd1.ch3.sourceforge.com>

Revision: 12370
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12370&view=rev
Author:   druzus
Date:     2009-08-30 08:29:20 +0000 (Sun, 30 Aug 2009)

Log Message:
-----------
2009-08-30 10:29 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/pp/Makefile
  * harbour/source/main/Makefile
    ! hacked the order of linked library list to resolve problem with
      potential cross references between libraries on platforms which do
      not support library grouping

  * harbour/source/nortl/nortl.c
    ! added missing include hbmemory.ch

  * harbour/source/compiler/hbmain.c
    ! added protection against multiple init function freeing

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/compiler/hbmain.c
    trunk/harbour/source/main/Makefile
    trunk/harbour/source/nortl/nortl.c
    trunk/harbour/source/pp/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sun Aug 30 05:41:44 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Aug 30 05:41:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12371] trunk/harbour
Message-ID: <E1Mhguu-0004IR-6E@3kljzd1.ch3.sourceforge.com>

Revision: 12371
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12371&view=rev
Author:   druzus
Date:     2009-08-30 09:41:43 +0000 (Sun, 30 Aug 2009)

Log Message:
-----------
2009-08-30 11:41 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/compiler/hbmain.c
    ! cleaned error messages to simulate Clipper behavior

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/compiler/hbmain.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sun Aug 30 06:03:41 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Aug 30 06:04:08 2009
Subject: [Harbour] Will hbmk2 be renamed to hbmk?
Message-ID: <609353e70908300303g40a8478bg55aea79283531b86@mail.gmail.com>

Will hbmk2 be renamed to hbmk?

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090830/87f70a75/attachment.html
From dmacias at mail.udg.mx  Sun Aug 30 07:09:15 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Aug 30 07:09:32 2009
Subject: [Harbour] Harbour under OS/2 - eCS 12370
Message-ID: <4A9A5DDB.8020602@mail.udg.mx>

Build tests with current Harbour

  * $Id: ChangeLog 12370 2009-08-30 08:29:20Z druzus $
  2009-08-30 10:29 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)


gcc335: build fine
openwatcom 1.8: fail
gcc433: build fine (was failing)

Descriptions are below

David Macias


OpenWatcom 1.8:
==============

[E:\harbour909\harbour]make > make_ow.log
make[3]: spawnvpe: environment space might be exhausted
make[3]: execvp: E:\OS2\CMD.EXE: Invalid argument
make[3]: spawn: Invalid argument
make[2]: *** [descend] Error 2
make[1]: *** [dynlib] Error 2
make: *** [source] Error 2

It fail due source\Makefile:
    DIRS += 
dynlib{codepage,common,hbextern,hbpcre,hbzlib,lang,macro,pp,rdd,rtl,vm}

Excluding dynlib rest build fine


From e.m.giordano at emagsoftware.it  Sun Aug 30 08:49:57 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Aug 30 08:50:04 2009
Subject: [Harbour] Error building latest SVN
References: <1ADAA3F4649C4FA3BEE8776C8F6C7065@emag>
Message-ID: <EA6619581C164B0BA2CB27BE18A367EA@emag>


-----Messaggio Originale----- 
Da: "Enrico Maria Giordano" <e.m.giordano@emagsoftware.it>
A: "Harbour Project Developers Mailing List" <harbour@harbour-project.org>
Data invio: domenica 30 agosto 2009 0.22
Oggetto: [Harbour] Error building latest SVN


> ../../../../../bin/win/bcc/harbour.exe 
> /../../checkbox.prg  -i../../../../../include -n1 -q0 -w3 -es2 -kmo -l -gc3
> mingw32-make[3]: *** [checkbox.c] Error -1073741819
> mingw32-make[2]: *** [descend] Error 2
> mingw32-make[1]: *** [rtl.inst] Error 2
> mingw32-make: *** [source.inst] Error 2

It's ok now, thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vouchcac at users.sourceforge.net  Sun Aug 30 20:22:52 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Aug 30 20:22:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12372] trunk/harbour
Message-ID: <E1Mhufc-0008JT-Kc@74yxhf1.ch3.sourceforge.com>

Revision: 12372
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12372&view=rev
Author:   vouchcac
Date:     2009-08-31 00:22:51 +0000 (Mon, 31 Aug 2009)

Log Message:
-----------
2009-08-30 17:15 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/gtwvg/gtwvg.c
    ! A small fix in caret handelling. Under certain circumstances, 
      when other modal consoles are opened, HideCaret() is issued multiple
      time and hence caret is diappeared. For normal console it was ok.

  * contrib/gtwvg/wvgsink.c
    ! Some optimizations and formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/contrib/gtwvg/wvgsink.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sun Aug 30 20:24:34 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Aug 30 20:24:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12373] trunk/harbour
Message-ID: <E1MhuhG-0008LG-AC@74yxhf1.ch3.sourceforge.com>

Revision: 12373
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12373&view=rev
Author:   vouchcac
Date:     2009-08-31 00:24:33 +0000 (Mon, 31 Aug 2009)

Log Message:
-----------
2009-08-30 17:25 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbwin/wapi_winuser.c
    + Added two more functions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_winuser.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sun Aug 30 20:35:13 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Aug 30 20:35:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12374] trunk/harbour
Message-ID: <E1MhurZ-0000A4-RB@74yxhf1.ch3.sourceforge.com>

Revision: 12374
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12374&view=rev
Author:   vouchcac
Date:     2009-08-31 00:35:12 +0000 (Mon, 31 Aug 2009)

Log Message:
-----------
2009-08-30 17:30 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_slots.cpp
    ! Completely reworked events management. It now supports multi-threads.

  * contrib/hbxbp/xbpbrowse.prg
  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbpgeneric.prg
    ! Reworked event management to support multi threads.

  * contrib/hbxbp/tests/demoxbp.prg
    ! Demonstrated the MT support. Click on <Dialogs> on main menu and play
      with more than one dialog.

  /*  Still there are few glitches in MT mode and I do request Przemek to 
      look into the code and suggest us what else is required. 
   */

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From francek.prijatelj at siol.net  Mon Aug 31 01:23:26 2009
From: francek.prijatelj at siol.net (=?windows-1250?Q?FRAN=C8EK_PRIJATELJ?=)
Date: Mon Aug 31 01:23:36 2009
Subject: [Harbour] Error building HbQt
Message-ID: <4A9B5E4E.5070306@siol.net>

Hi

When I build Harbour with msvc , *.cpp files from HbQt are compiled 
wiith mingw g++
with msvc parameters, while *.c files are correctly compiled with cl.exe.

Sample:

! Building Harbour 2.0.0beta2 from source - http://www.harbour-project.org
! MAKE: mingw32-make 3.81 sh.exe clean install i
! HB_INSTALL_PREFIX: C:\HRB\msvc_D_Tr
! HB_BIN_INSTALL: C:\HRB\msvc_D_Tr\bin
! HB_LIB_INSTALL: C:\HRB\msvc_D_Tr\lib
! HB_INC_INSTALL: C:\HRB\msvc_D_Tr\include
! HB_DOC_INSTALL: C:\HRB\msvc_D_Tr\doc
! HB_BUILD_MODE: cpp
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
! HB_PLATFORM: win (x86)
! HB_COMPILER: msvc


cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 
-EHs-c- -MT    -Foexpropt1.obj -c ../../../expropt1.c
expropt1.c

.
.     (corectly compiled with msvc)
.
.
g++  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 
-EHs-c- -MT   -IC:\Qt\2009.03\qt_msvc\include 
-IC:\Qt\2009.03\qt_msvc\include/Qt 
-IC:\Qt\2009.03\qt_msvc\include/QtCore 
-IC:\Qt\2009.03\qt_msvc\include/QtGui 
-IC:\Qt\2009.03\qt_msvc\include/QtNetwork 
-IC:\Qt\2009.03\qt_msvc\include/QtWebKit  -Fomoc_slots.obj -c 
../../../moc_slots.cpp
cc1plus.exe: error: invalid option argument `-Ot2b1'
cc1plus.exe: error: to generate dependencies you must specify either -M 
or -MM
.
.   (errors)
.
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 
-EHs-c- -MT   -IC:\Qt\2009.03\qt_msvc\include 
-IC:\Qt\2009.03\qt_msvc\include/Qt 
-IC:\Qt\2009.03\qt_msvc\include/QtCore 
-IC:\Qt\2009.03\qt_msvc\include/QtGui 
-IC:\Qt\2009.03\qt_msvc\include/QtNetwork 
-IC:\Qt\2009.03\qt_msvc\include/QtWebKit  -FoTQAbstractButton.obj -c 
TQAbstractButton.c
TQAbstractButton.c
.
.
.    (*.c files genereted form *.prg  compiled corectls)

.


I regulary make msvc and mingw builds.
Mingw build is OK

BRGS

Fran?ek

-------------- next part --------------
A non-text attachment was scrubbed...
Name: francek_prijatelj.vcf
Type: text/x-vcard
Size: 182 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090831/b5a1aff1/francek_prijatelj.vcf
From info at fsgiudice.com  Mon Aug 31 03:00:53 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Aug 31 03:01:02 2009
Subject: [Harbour] building httpadv.prg in tip tests using ssl support
In-Reply-To: <2A3F70D4-ECBF-4B14-B7DA-DFE3B5EBC75B@syenar.hu>
References: <4A982D64.60003@fsgiudice.com>
	<2A3F70D4-ECBF-4B14-B7DA-DFE3B5EBC75B@syenar.hu>
Message-ID: <4A9B7525.7080107@fsgiudice.com>

Hi Viktor,

Il 29/08/2009 1.30, Viktor Szak?ts ha scritto:
> In a recent ChangeLog I've linked an OpenSSL binary package for
> Windows, you can also find it from openssl.org (they're finally
> offering such thing).
> 
> Personally I used to build OpenSSL from source in static mode,
> so I don't have any experience first hand about above pkg, but
> it has mingw libs too, and static and dyn versions for msvc.
> 
> There is also usual chaos regarding lib names. The ones currently
> included in hbssl.hbc are the default static lib names generated
> if you build OpenSSL from source (speaking about Windows now).
> If you use other bin pkgs, or dll implib version, you'll have to
> adjust these names. For dll versions, probably even some macros
> need to be defined when you build hbssl, I didn't explore this
> yet, the name of the macro is OPENSSL_OPT_WINDLL.
> 
> Probably we should have a HB_OPENSSL_STATIC flag for hbssl lib
> to control that and also lib name to some extent. The .dll
> method could be setup pretty much universally. The implibs
> are already generated in HB_BUILD_IMPLIB mode.
> 
> Please feel free to experiment. Maybe I'll make some steps
> into above directions.
> 

Ok, I will try, thank you.

Best Regards,
Francesco

From druzus at users.sourceforge.net  Mon Aug 31 06:42:04 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 31 06:42:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12375] trunk/harbour
Message-ID: <E1Mi4Kq-0002t3-Kw@dn4whf1.ch3.sourceforge.com>

Revision: 12375
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12375&view=rev
Author:   druzus
Date:     2009-08-31 10:42:03 +0000 (Mon, 31 Aug 2009)

Log Message:
-----------
2009-08-31 12:41 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rdd/dbf1.c
  * harbour/source/rdd/sdf1.c
  * harbour/source/rdd/delim1.c
    * minor extension in default alias settings

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rdd/dbf1.c
    trunk/harbour/source/rdd/delim1.c
    trunk/harbour/source/rdd/sdf1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From itamarlins at bol.com.br  Mon Aug 31 07:13:23 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Mon Aug 31 07:15:19 2009
Subject: [Harbour] Off Topic. LetoDb Request.
Message-ID: <h7gbb5$r7i$1@ger.gmane.org>

Hi!
Anybody of the group LetoDB can updated it ?
To be compiling with the new harbour function hb_socket... for exemple.

TIA,
Itamar M. Lins Jr. 



From snaiperis at users.sourceforge.net  Mon Aug 31 08:59:59 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Mon Aug 31 09:00:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12376] trunk/harbour
Message-ID: <E1Mi6UJ-0002A6-Vd@c3vjzd1.ch3.sourceforge.com>

Revision: 12376
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12376&view=rev
Author:   snaiperis
Date:     2009-08-31 12:59:59 +0000 (Mon, 31 Aug 2009)

Log Message:
-----------
2009-08-31 16:00 UTC+0300 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/rddsql/sddfb/fbirddd.c
    * fixed 64bits compile warnings

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddfb/fbirddd.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Mon Aug 31 09:03:12 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Aug 31 09:04:48 2009
Subject: [Harbour] mingw64 4.5.0 warnings
In-Reply-To: <6515D37D-7570-4E97-8A79-EFD659FCCC16@syenar.hu>
References: <18d502870908272312j1ec6cdafub1724b5fb3677986@mail.gmail.com>	<4A97EBED.2070400@dbtopas.lt>
	<6515D37D-7570-4E97-8A79-EFD659FCCC16@syenar.hu>
Message-ID: <4A9BCA10.1030406@dbtopas.lt>

Hi,


>> What is correct way to initialize handler?
>>
>> isc_db_handle  db = NULL;  // wrong on 64bits
>> isc_db_handle  db = 0;     // wrong on 32bits
> 
> Probably some clever macros :) Maybe there is something
> already defined in FB headers. After all they should also
> need something like this.

I've tried change to
   isc_db_handle  db = ( isc_db_handle ) 0;

I hope it fixes warning "initialization makes integer from pointer 
without a cast".

"cast to pointer from integer of different size" is more tricky. Changed 
to double type cast via numeric of pointer size:
    pArea->pStmt = ( void* ) ( HB_PTRDIFF ) pStmt;

Please test.



Regards,
Mindaugas

From carozodequilmes at gmail.com  Mon Aug 31 09:43:54 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Mon Aug 31 09:44:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12374] trunk/harbour
In-Reply-To: <E1MhurZ-0000A4-RB@74yxhf1.ch3.sourceforge.com>
References: <E1MhurZ-0000A4-RB@74yxhf1.ch3.sourceforge.com>
Message-ID: <578c73340908310643i6a655cfrca8dc8ac9f9299b2@mail.gmail.com>

Hi Pritpal !!!!

Congratulations !!! this reworked is a great job !

MT support work very fine in my hbqtcommand project (Open Source in Planned
stage)

Very Thanks

CdQ


On Sun, Aug 30, 2009 at 9:35 PM, <vouchcac@users.sourceforge.net> wrote:

> Revision: 12374
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12374&view=rev
> Author:   vouchcac
> Date:     2009-08-31 00:35:12 +0000 (Mon, 31 Aug 2009)
>
> Log Message:
> -----------
> 2009-08-30 17:30 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbqt/hbqt_slots.cpp
>    ! Completely reworked events management. It now supports multi-threads.
>
>  * contrib/hbxbp/xbpbrowse.prg
>  * contrib/hbxbp/xbpdialog.prg
>  * contrib/hbxbp/xbpgeneric.prg
>    ! Reworked event management to support multi threads.
>
>  * contrib/hbxbp/tests/demoxbp.prg
>    ! Demonstrated the MT support. Click on <Dialogs> on main menu and play
>      with more than one dialog.
>
>  /*  Still there are few glitches in MT mode and I do request Przemek to
>      look into the code and suggest us what else is required.
>   */
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
>    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
>    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
>    trunk/harbour/contrib/hbxbp/xbpdialog.prg
>    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
QAC (I want something comfortable !!!) - Incremental Compilation with all
MiniGUIs versions
QAC (Quiero Algo C?modo !!!) - Compilaci?n Incremental con todas las
versiones de MiniGUI

Download: www.CarozoDeQuilmes.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090831/5515643b/attachment-0001.html
From druzus at users.sourceforge.net  Mon Aug 31 09:46:37 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 31 09:46:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12377] trunk/harbour
Message-ID: <E1Mi7DR-0007Sw-Fz@74yxhf1.ch3.sourceforge.com>

Revision: 12377
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12377&view=rev
Author:   druzus
Date:     2009-08-31 13:46:36 +0000 (Mon, 31 Aug 2009)

Log Message:
-----------
2009-08-31 15:46 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/detect.mk
  * harbour/source/rtl/Makefile
  * harbour/source/rtl/hbsocket.c
    + added support for TCPIP in DOS builds using WATTCP/WATT-32 library.
      The latest release of Watt-32 is available at
      http://www.bgnett.no/~giva/

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/detect.mk
    trunk/harbour/source/rtl/Makefile
    trunk/harbour/source/rtl/hbsocket.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From carozodequilmes at gmail.com  Mon Aug 31 10:00:44 2009
From: carozodequilmes at gmail.com (CarozoDeQuilmes)
Date: Mon Aug 31 10:00:50 2009
Subject: [Harbour] HbQt Static and Dynamic
Message-ID: <578c73340908310700we64c422ga27639405bc97e77@mail.gmail.com>

Hi Viktor / Pritpal

I use Dynamic HbQt Library and Static HbQt Library in my project with great
success, but I need make HbQt Static library and HbQt Dynamic library
simultaneously, because I need test any change in HbQt source in both cases

I ask: Is possible add some environment var (like HB_QT_STATIC) with default
"NO" that make both libaries (instead of just only one library) ???

Thanks in advance
CdQ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090831/3c4c64a1/attachment.html
From druzus at users.sourceforge.net  Mon Aug 31 10:04:53 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 31 10:04:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12378] trunk/harbour
Message-ID: <E1Mi7V7-0007uF-DJ@74yxhf1.ch3.sourceforge.com>

Revision: 12378
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12378&view=rev
Author:   druzus
Date:     2009-08-31 14:04:52 +0000 (Mon, 31 Aug 2009)

Log Message:
-----------
2009-08-31 16:04 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/Makefile
    ! updated to work with new component detection syntax

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Mon Aug 31 10:21:46 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 31 10:21:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12379] trunk/harbour
Message-ID: <E1Mi7lS-0008PJ-6b@74yxhf1.ch3.sourceforge.com>

Revision: 12379
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12379&view=rev
Author:   druzus
Date:     2009-08-31 14:21:45 +0000 (Mon, 31 Aug 2009)

Log Message:
-----------
2009-08-31 16:21 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/net.c
    ! fixed DJGPP compilation when MAXGETHOSTNAME is not defined in
      header files

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rtl/net.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Mon Aug 31 10:44:07 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 31 10:44:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12380] trunk/harbour
Message-ID: <E1Mi875-0005DK-Mr@bj8yhf1.ch3.sourceforge.com>

Revision: 12380
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12380&view=rev
Author:   druzus
Date:     2009-08-31 14:44:06 +0000 (Mon, 31 Aug 2009)

Log Message:
-----------
2009-08-31 16:43 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/dos/djgpp.mk
    ! added watt library to linked library list when TCP support is
      enabled in DOS builds
      TODO: make the same for watcom builds - I would like to leave it
            for Viktor because I'm not sure where exactly I should add it
            for new watcom .mk files to not break Viktor's build concept.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/dos/djgpp.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Mon Aug 31 11:18:03 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Aug 31 11:19:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12003] trunk/harbour
In-Reply-To: <E1Ma4Na-0007rA-1C@3kljzd1.ch3.sourceforge.com>
References: <E1Ma4Na-0007rA-1C@3kljzd1.ch3.sourceforge.com>
Message-ID: <4A9BE9AB.5080504@dbtopas.lt>

> 2009-08-09 11:07 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
>   * source/rtl/rat.c
>     ! HB_RAT() fixed to not ignore nEnd parameter if it's out of bound.
>       In such case it will now return zero ("not found").
>       Mindaugas, please verify if this is what you proposed.

Hi,

yes. Thank You.

Regards,
Mindaugas
From toninhofwi at yahoo.com.br  Mon Aug 31 13:24:38 2009
From: toninhofwi at yahoo.com.br (ToninhoFWi)
Date: Mon Aug 31 13:22:12 2009
Subject: [Harbour] BCC 6.2 is out
Message-ID: <el1o951omvch9ud9hpsuu1ol1d80qob174@4ax.com>

Hi friends,

Bcc 6.2 is out. 

Now it is called Embarcadero C++ 6.20 (http://www.embarcadero.com/)

I do a complete test with latest SVN with success.

Regards,

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From mbelgrano at deltain.it  Mon Aug 31 13:45:23 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Aug 31 13:45:50 2009
Subject: [Harbour] BCC 6.2 is out
In-Reply-To: <el1o951omvch9ud9hpsuu1ol1d80qob174@4ax.com>
References: <el1o951omvch9ud9hpsuu1ol1d80qob174@4ax.com>
Message-ID: <609353e70908311045k6aac8b58rc7025223d5cc7ce6@mail.gmail.com>

will works hbqt?is free or commercial?
planed 64 bit support?

2009/8/31 ToninhoFWi <toninhofwi@yahoo.com.br>

> Hi friends,
>
> Bcc 6.2 is out.
>
> Now it is called Embarcadero C++ 6.20 (http://www.embarcadero.com/)
>
> I do a complete test with latest SVN with success.
>
> Regards,
>
> Toninho.
>
> __________________________________________________
> Fa?a liga??es para outros computadores com o novo Yahoo! Messenger
> http://br.beta.messenger.yahoo.com/
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20090831/75710694/attachment.html
From francek.prijatelj at siol.net  Mon Aug 31 14:48:20 2009
From: francek.prijatelj at siol.net (=?windows-1250?Q?FRAN=C8EK_PRIJATELJ?=)
Date: Mon Aug 31 14:48:29 2009
Subject: [Harbour] Error compiling .cpp files
Message-ID: <4A9C1AF4.6070608@siol.net>

Hi

Building Harbour with msvc , *.cpp files from HbQt are compiled
with mingw g++ (with msvc flags), while *.c files are correctly
compiled with cl.exe.

Sample:

! Building Harbour 2.0.0beta2 from source - http://www.harbour-project.org
! MAKE: mingw32-make 3.81 sh.exe clean install i
! HB_INSTALL_PREFIX: C:\HRB\msvc_D_Tr
! HB_BIN_INSTALL: C:\HRB\msvc_D_Tr\bin
! HB_LIB_INSTALL: C:\HRB\msvc_D_Tr\lib
! HB_INC_INSTALL: C:\HRB\msvc_D_Tr\include
! HB_DOC_INSTALL: C:\HRB\msvc_D_Tr\doc
! HB_BUILD_MODE: cpp
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
! HB_PLATFORM: win (x86)
! HB_COMPILER: msvc


cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT    -Foexpropt1.obj -c ../../../expropt1.c
expropt1.c
.
.
.
g++  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -IC:\Qt\2009.03\qt_msvc\include
-IC:\Qt\2009.03\qt_msvc\include/Qt
-IC:\Qt\2009.03\qt_msvc\include/QtCore
-IC:\Qt\2009.03\qt_msvc\include/QtGui
-IC:\Qt\2009.03\qt_msvc\include/QtNetwork
-IC:\Qt\2009.03\qt_msvc\include/QtWebKit  -Fomoc_slots.obj -c
../../../moc_slots.cpp
cc1plus.exe: error: invalid option argument `-Ot2b1'
cc1plus.exe: error: to generate dependencies you must specify either -M
or -MM
.
.
.
cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1
-EHs-c- -MT   -IC:\Qt\2009.03\qt_msvc\include
-IC:\Qt\2009.03\qt_msvc\include/Qt
-IC:\Qt\2009.03\qt_msvc\include/QtCore
-IC:\Qt\2009.03\qt_msvc\include/QtGui
-IC:\Qt\2009.03\qt_msvc\include/QtNetwork
-IC:\Qt\2009.03\qt_msvc\include/QtWebKit  -FoTQAbstractButton.obj -c
TQAbstractButton.c
TQAbstractButton.c
.
.
.



BRGS

Fran?ek

-------------- next part --------------
A non-text attachment was scrubbed...
Name: francek_prijatelj.vcf
Type: text/x-vcard
Size: 182 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20090831/b30858a0/francek_prijatelj.vcf
From toninhofwi at yahoo.com.br  Mon Aug 31 15:28:57 2009
From: toninhofwi at yahoo.com.br (ToninhoFWi)
Date: Mon Aug 31 15:28:40 2009
Subject: [Harbour] BCC 6.2 is out
In-Reply-To: <609353e70908311045k6aac8b58rc7025223d5cc7ce6@mail.gmail.com>
References: <el1o951omvch9ud9hpsuu1ol1d80qob174@4ax.com>
	<609353e70908311045k6aac8b58rc7025223d5cc7ce6@mail.gmail.com>
Message-ID: <q09o955s8u05km2gs7vp3v8s1n90u1r9eo@4ax.com>

Hi Massimo.

>will works hbqt?
I don't use qt

>is free or commercial?
commercial

>planed 64 bit support?
I don't know, maybe there are any information in the Embarcadero home
page.

Regards,

Toninho.

__________________________________________________
Faça ligações para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 
From druzus at users.sourceforge.net  Mon Aug 31 16:09:47 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 31 16:09:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12381] trunk/harbour
Message-ID: <E1MiDCF-0002vf-Ar@dn4whf1.ch3.sourceforge.com>

Revision: 12381
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12381&view=rev
Author:   druzus
Date:     2009-08-31 20:09:46 +0000 (Mon, 31 Aug 2009)

Log Message:
-----------
2009-08-31 22:09 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rdd/sdf1.c
  * harbour/source/rdd/delim1.c
  * harbour/source/rdd/dbf1.c
    ! fixed typo in recent modification

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/source/rdd/dbf1.c
    trunk/harbour/source/rdd/delim1.c
    trunk/harbour/source/rdd/sdf1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Mon Aug 31 18:56:46 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Aug 31 18:56:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12382] trunk/harbour
Message-ID: <E1MiFnq-00085E-JY@d5vjzd1.ch3.sourceforge.com>

Revision: 12382
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12382&view=rev
Author:   druzus
Date:     2009-08-31 22:56:45 +0000 (Mon, 31 Aug 2009)

Log Message:
-----------
2009-09-01 00:56 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/harbour.spec
  * harbour/harbour-win-spec
  * harbour/harbour-wce-spec
  * harbour/bin/hb-func.sh
  * harbour/contrib/Makefile
  + harbour/contrib/hbnetio
  + harbour/contrib/hbnetio/netio.h
  + harbour/contrib/hbnetio/netiomt.prg
  + harbour/contrib/hbnetio/netiocli.c
  + harbour/contrib/hbnetio/netiosrv.c
  + harbour/contrib/hbnetio/Makefile
    + added new library: HBNETIO.
      It implements alternative RDD IO API which uses own TCP/IP sockets
      to exchange data between client and server.
      This library contains client and server code and is fully MT safe.
      On client side it's enough to execute:
         NETIO_CONNECT( [<cServer>], [<cPort>], [<nTimeOut>] ) -> <lOK>
      function to register alternative NETIO RDD API and set default
      server address and port.
         <cServer>  - server addres       (default 127.0.0.1)
         <cPort>    - server port         (default 2941)
         <nTimeOut> - connection timeout  (default -1 - not timeout)
      Above settings are thread local and parameters of the 1-st successful
      connection are used as default values for each new thread.
      After registering NETIO client by above function each file starting
      "net:" prefix is automatically redirected to given NETIO server, i.e.
         use "net:mytable"
      It's also possible to pass NETIO server and port as part of file name,
      i.e.:
         use "net:192.168.0.1:10005:mytable"
      On the server side the following functions are available:
      create NETIO listen socket:
         NETIO_LISTEN( [<nPort>], [<cAddress>], [<cRootDir>] )
                                                -> <pListenSocket> | NIL
      accept new connection on NETIO listen socket:
         NETIO_ACCEPT( <pListenSocket> [, <nTimeOut>] )
                                                -> <pConnectionSocket> | NIL
      start connection server:
         NETIO_SERVER( <pConnectionSocket> ) -> NIL
      stop connection accepting or connection server:
         NETIO_SERVERSTOP( <pListenSocket> | <pConnectionSocket>, <lStop> )
                                                -> NIL
      activate MT NETIO server (it needs MT HVM):
         NETIO_MTSERVER( [<nPort>], [<cAddress>] ) -> <pListenSocket> | NIL

      To create NETIO server is enough to compile and link with MT HVM
      this code:

         proc main()
            local pListenSocket

            pListenSocket := netio_mtserver()
            if empty( pListenSocket )
               ? "Cannot start server."
            else
               wait "Press any key to stop NETIO server."
               netio_serverstop( pListenSocket )
               pListenSocket := NIL
            endif
         return

      NETIO works with all core RDDs (DBF, DBFFPT, DBFBLOB, DBFNTX, DBFCDX,
      DBFNSX, SDF, DELIM) and any other RDD which inherits from above or
      use standard RDD IO API (hb_file*() functions).
      Without touching even single line in RDD code it gives the same
      functionality as REDBFCDX in xHarbour but for all RDDs.
      It's possible that such direct TCP/IP connection is faster then
      file server protocols especially if they need more then one IP frame
      to exchange data so it's one of the reason to use it in such cases.
      Please make real speed tests.
      The second reason to use NETIO server is resolving problem with
      concurrent access to the same files using Harbour applications
      compiled for different platforms, i.e. DOS, LINUX, Windows and OS2.
      It's very hard to configure all client stations to use correct
      locking system. NETIO fully resolves this problem so it can be
      interesting alternative also for MS-Windows users only if they
      do not want to play with oplocks setting on each station.
      I'm interesting in user opinions about real life NETIO usage.

      Have a fun with this new toy ;-)

  + harbour/contrib/hbnetio/tests
  + harbour/contrib/hbnetio/tests/netiotst.prg
  + harbour/contrib/hbnetio/tests/netiotst.hbp
  + harbour/contrib/hbnetio/tests/data
    + added simple test code for NETIO. It activates NETIO MT server
      and then connects to this server to create and browse table with
      memo file and production index with few tags.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/contrib/Makefile
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/harbour.spec

Added Paths:
-----------
    trunk/harbour/contrib/hbnetio/
    trunk/harbour/contrib/hbnetio/Makefile
    trunk/harbour/contrib/hbnetio/netio.h
    trunk/harbour/contrib/hbnetio/netiocli.c
    trunk/harbour/contrib/hbnetio/netiomt.prg
    trunk/harbour/contrib/hbnetio/netiosrv.c
    trunk/harbour/contrib/hbnetio/tests/
    trunk/harbour/contrib/hbnetio/tests/data/
    trunk/harbour/contrib/hbnetio/tests/netiotst.hbp
    trunk/harbour/contrib/hbnetio/tests/netiotst.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From info at fsgiudice.com  Mon Aug 31 19:11:59 2009
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Mon Aug 31 19:12:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12382] trunk/harbour
In-Reply-To: <E1MiFnq-00085E-JY@d5vjzd1.ch3.sourceforge.com>
References: <E1MiFnq-00085E-JY@d5vjzd1.ch3.sourceforge.com>
Message-ID: <4A9C58BF.8020405@fsgiudice.com>

Hi Przemek,

Il 01/09/2009 0.56, druzus@users.sourceforge.net ha scritto:
>     + added new library: HBNETIO.
[snip]

> 
>       Have a fun with this new toy ;-)
Wow!
Another great piece of code!
No words again apart a *big thank you*!


Best Regards,
Francesco
From amigosam at adinet.com.uy  Mon Aug 31 19:57:55 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Mon Aug 31 19:58:28 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12382] trunk/harbour
In-Reply-To: <E1MiFnq-00085E-JY@d5vjzd1.ch3.sourceforge.com>
References: <E1MiFnq-00085E-JY@d5vjzd1.ch3.sourceforge.com>
Message-ID: <h7ho25$c0s$1@ger.gmane.org>

druzus@users.sourceforge.net escribi?:
>       It's possible that such direct TCP/IP connection is faster then
>       file server protocols especially if they need more then one IP frame
>       to exchange data so it's one of the reason to use it in such cases.
>       Please make real speed tests.
>       The second reason to use NETIO server is resolving problem with
>       concurrent access to the same files using Harbour applications
>       compiled for different platforms, i.e. DOS, LINUX, Windows and OS2.
>       It's very hard to configure all client stations to use correct
>       locking system. NETIO fully resolves this problem so it can be
>       interesting alternative also for MS-Windows users only if they
>       do not want to play with oplocks setting on each station.
>       I'm interesting in user opinions about real life NETIO usage.
> 

Really fantastic !!!
Third reason to use NETIO: you don't have to share your dbf's folder, so 
nobody can open your dbfs with excel or other program than yours.
Big security improvement !
Will test it as soon as I find some free time...

Thank you very much !
Angel

From bedipritpal at hotmail.com  Mon Aug 31 20:06:56 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Aug 31 20:07:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12382] trunk/harbour
In-Reply-To: <4A9C58BF.8020405@fsgiudice.com>
References: <E1MiFnq-00085E-JY@d5vjzd1.ch3.sourceforge.com>
	<4A9C58BF.8020405@fsgiudice.com>
Message-ID: <25232376.post@talk.nabble.com>


Hello Przemek


Francesco Saverio Giudice wrote:
> 
> Wow!
> Another great piece of code!
> No words again apart a *big thank you*!
> 

+100000000000000000

Really no words to express...

Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12382--trunk-harbour-tp25231702p25232376.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From abe.buch at att.net  Mon Aug 31 21:42:38 2009
From: abe.buch at att.net (Abeb)
Date: Mon Aug 31 21:42:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12382] trunk/harbour
In-Reply-To: <E1MiFnq-00085E-JY@d5vjzd1.ch3.sourceforge.com>
References: <E1MiFnq-00085E-JY@d5vjzd1.ch3.sourceforge.com>
Message-ID: <25233147.post@talk.nabble.com>


Wow Wee. Thanks a Zillion.

Will this work on Wince too, so we have a client/server solution for Wince?

Thanks
Abe

 

druzus wrote:
> 
> Revision: 12382
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12382&view=rev
> Author:   druzus
> Date:     2009-08-31 22:56:45 +0000 (Mon, 31 Aug 2009)
> 
> Log Message:
> -----------
> 2009-09-01 00:56 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/harbour.spec
>   * harbour/harbour-win-spec
>   * harbour/harbour-wce-spec
>   * harbour/bin/hb-func.sh
>   * harbour/contrib/Makefile
>   + harbour/contrib/hbnetio
>   + harbour/contrib/hbnetio/netio.h
>   + harbour/contrib/hbnetio/netiomt.prg
>   + harbour/contrib/hbnetio/netiocli.c
>   + harbour/contrib/hbnetio/netiosrv.c
>   + harbour/contrib/hbnetio/Makefile
>     + added new library: HBNETIO.
>       It implements alternative RDD IO API which uses own TCP/IP sockets
>       to exchange data between client and server.
>       This library contains client and server code and is fully MT safe.
>       On client side it's enough to execute:
>          NETIO_CONNECT( [<cServer>], [<cPort>], [<nTimeOut>] ) -> <lOK>
>       function to register alternative NETIO RDD API and set default
>       server address and port.
>          <cServer>  - server addres       (default 127.0.0.1)
>          <cPort>    - server port         (default 2941)
>          <nTimeOut> - connection timeout  (default -1 - not timeout)
>       Above settings are thread local and parameters of the 1-st
> successful
>       connection are used as default values for each new thread.
>       After registering NETIO client by above function each file starting
>       "net:" prefix is automatically redirected to given NETIO server,
> i.e.
>          use "net:mytable"
>       It's also possible to pass NETIO server and port as part of file
> name,
>       i.e.:
>          use "net:192.168.0.1:10005:mytable"
>       On the server side the following functions are available:
>       create NETIO listen socket:
>          NETIO_LISTEN( [<nPort>], [<cAddress>], [<cRootDir>] )
>                                                 -> <pListenSocket> | NIL
>       accept new connection on NETIO listen socket:
>          NETIO_ACCEPT( <pListenSocket> [, <nTimeOut>] )
>                                                 -> <pConnectionSocket> |
> NIL
>       start connection server:
>          NETIO_SERVER( <pConnectionSocket> ) -> NIL
>       stop connection accepting or connection server:
>          NETIO_SERVERSTOP( <pListenSocket> | <pConnectionSocket>, <lStop>
> )
>                                                 -> NIL
>       activate MT NETIO server (it needs MT HVM):
>          NETIO_MTSERVER( [<nPort>], [<cAddress>] ) -> <pListenSocket> |
> NIL
> 
>       To create NETIO server is enough to compile and link with MT HVM
>       this code:
> 
>          proc main()
>             local pListenSocket
> 
>             pListenSocket := netio_mtserver()
>             if empty( pListenSocket )
>                ? "Cannot start server."
>             else
>                wait "Press any key to stop NETIO server."
>                netio_serverstop( pListenSocket )
>                pListenSocket := NIL
>             endif
>          return
> 
>       NETIO works with all core RDDs (DBF, DBFFPT, DBFBLOB, DBFNTX,
> DBFCDX,
>       DBFNSX, SDF, DELIM) and any other RDD which inherits from above or
>       use standard RDD IO API (hb_file*() functions).
>       Without touching even single line in RDD code it gives the same
>       functionality as REDBFCDX in xHarbour but for all RDDs.
>       It's possible that such direct TCP/IP connection is faster then
>       file server protocols especially if they need more then one IP frame
>       to exchange data so it's one of the reason to use it in such cases.
>       Please make real speed tests.
>       The second reason to use NETIO server is resolving problem with
>       concurrent access to the same files using Harbour applications
>       compiled for different platforms, i.e. DOS, LINUX, Windows and OS2.
>       It's very hard to configure all client stations to use correct
>       locking system. NETIO fully resolves this problem so it can be
>       interesting alternative also for MS-Windows users only if they
>       do not want to play with oplocks setting on each station.
>       I'm interesting in user opinions about real life NETIO usage.
> 
>       Have a fun with this new toy ;-)
> 
>   + harbour/contrib/hbnetio/tests
>   + harbour/contrib/hbnetio/tests/netiotst.prg
>   + harbour/contrib/hbnetio/tests/netiotst.hbp
>   + harbour/contrib/hbnetio/tests/data
>     + added simple test code for NETIO. It activates NETIO MT server
>       and then connects to this server to create and browse table with
>       memo file and production index with few tags.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/bin/hb-func.sh
>     trunk/harbour/contrib/Makefile
>     trunk/harbour/harbour-wce-spec
>     trunk/harbour/harbour-win-spec
>     trunk/harbour/harbour.spec
> 
> Added Paths:
> -----------
>     trunk/harbour/contrib/hbnetio/
>     trunk/harbour/contrib/hbnetio/Makefile
>     trunk/harbour/contrib/hbnetio/netio.h
>     trunk/harbour/contrib/hbnetio/netiocli.c
>     trunk/harbour/contrib/hbnetio/netiomt.prg
>     trunk/harbour/contrib/hbnetio/netiosrv.c
>     trunk/harbour/contrib/hbnetio/tests/
>     trunk/harbour/contrib/hbnetio/tests/data/
>     trunk/harbour/contrib/hbnetio/tests/netiotst.hbp
>     trunk/harbour/contrib/hbnetio/tests/netiotst.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://www.nabble.com/SF.net-SVN%3A-harbour-project%3A-12382--trunk-harbour-tp25231702p25233147.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.


From harbour@matrixlist.com  Sun Apr  1 05:25:04 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Sun Apr  1 04:25:04 2001
Subject: [Harbour] Changelog 2001-04-01 12:20 GMT+3
Message-ID: <33906802.20010401122338@belacy.belgorod.su>

2001-04-01 12:20 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * source/rdd/dbfntx/dbfntx1.c
     * ntxOrderListRebuild() mostly completed


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Sun Apr  1 09:14:02 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Sun Apr  1 08:14:02 2001
Subject: [Harbour] Re: Can't compile gtsln ( Marek )
In-Reply-To: <002001c0ba10$b63f03c0$2cb472c3@map>
References: <LOBBKAFMMFGJIKLMEPAKOEMCDKAA.Ron@Profit-Master.com>
 <031101c0b915$43ccf050$f003a8c0@ksoft20000507>
 <002701c0b949$47248220$921a5e18@bh>
 <183299901.20010331145457@belacy.belgorod.su>
 <002001c0ba10$b63f03c0$2cb472c3@map>
Message-ID: <772762355.20010401161128@belacy.belgorod.su>

On  Saturday, March 31, 2001, 22:29 Marek Paliwoda <paliwoda@inetia.pl> wrote:

...
MP> A simple fix, which should be enough, is below :
MP> ( replace lines in  gtsln from line 1030 to 1043
MP>   or simply add a conditional directive )
...
MP> If this will work could You update a CVS ? I would be appreciate.

 It is compiled Ok now, I uploaded it:

2001-04-01 15:45 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * source/rtl/gtsln/gtsln.c
     ! minor fix, provided by Marek Paliwoda 


 But representation of national letters isn't changed.
 As before, I can input them, but they are showed as pseudo-graphics.

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Sun Apr  1 10:43:01 2001
From: harbour@matrixlist.com (April)
Date: Sun Apr  1 09:43:01 2001
Subject: [Harbour] changelog: 2001-04-01 15:46 GMT+6 April White <awhite@mail.rosecom.ca>
Message-ID: <3AC731AC.F2116255@mail.rosecom.ca>

2001-04-01 15:46 GMT+6 April White <awhite@mail.rosecom.ca>
   * doc/en/hb_api.txt
      ! removed duplicate copies of:
          hb_pcount(), hb_ret(), hb_retc(), hb_retclen(), hb_retds(),
          hb_retd(), hb_retdl(), hb_retl(), hb_retnd(), hb_retni(),
          hb_retnl(), hb_retnlen(), hb_retndlen(), hb_retnilen(),
          hb_retnllen(), hb_reta()
      ! added a note to the description of each of the above that
        explains what happens when HB_API_MACROS is defined (each
        is replaced with a macro expression)

      * hb_pcount() entry
        ! corrected typo,

   * source/compiler/genc.c:
     ! correct comment 'the the'
     ! wrapped assignment within while() loop with brackets to eliminate
       a warning in djgpp

From harbour@matrixlist.com  Sun Apr  1 12:56:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Sun Apr  1 11:56:02 2001
Subject: [Harbour] Changelog 2001-04-01 12:20 GMT+3
In-Reply-To: <33906802.20010401122338@belacy.belgorod.su>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEOEDKAA.Ron@Profit-Master.com>

Alexander,

Big thanks for all your work.

> 2001-04-01 12:20 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
>    * source/rdd/dbfntx/dbfntx1.c
>      * ntxOrderListRebuild() mostly completed
> 
> 
> Best regards,
>  Alexander
> http://members.xoom.com/alkresin/


From harbour@matrixlist.com  Sun Apr  1 13:13:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Sun Apr  1 12:13:02 2001
Subject: [Harbour] Unlimited File Handles
In-Reply-To: <034701c0ba0a$7f1d4d80$f003a8c0@ksoft20000507>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEOFDKAA.Ron@Profit-Master.com>

Horacio,

First, thanks for your corrections.

I think that if we make sure that ALL file access routines use EITHER native
handles, OR Win32 handles based on ONE #ifdef, we should be OK.

Ron

> The compatibility using the same set of routines could be achieved if
> internally in Harbour we could have extra space for marking a
> Win32 handle.
>
> If Harbour FHANLDE could have space to store the type of handle plus the
> hanlde itself it is easy to do the task.
> The problem is that the size of a Win32 handle is 4 bytes (it is
> defined as
> a void* ). Have you any ideas on this?
>
> If this is not possible, the idea to have a separate set of functions with
> macros to activate them on compile should work fine .
>
> > Are we able to replace all the file system
> > calls a programmer may have made using a normal handle?
> The functions that receive a handle and aren't Win32 compatible yet are:
> hb_fsIsDevice, hb_fsSetDevMode.
> The others unchanged functions in filesys do not use a handle and could be
> changed later or not.
>
> Horacio


From harbour@matrixlist.com  Sun Apr  1 15:07:02 2001
From: harbour@matrixlist.com (Marek Paliwoda)
Date: Sun Apr  1 14:07:02 2001
Subject: [Harbour] Re: Can't compile gtsln ( Marek )
References: <LOBBKAFMMFGJIKLMEPAKOEMCDKAA.Ron@Profit-Master.com>
 <031101c0b915$43ccf050$f003a8c0@ksoft20000507>
 <002701c0b949$47248220$921a5e18@bh>
 <183299901.20010331145457@belacy.belgorod.su>
 <002001c0ba10$b63f03c0$2cb472c3@map>
 <772762355.20010401161128@belacy.belgorod.su>
Message-ID: <003501c0bad6$aeba8180$5ab572c3@map>

Alexander,

>  But representation of national letters isn't changed.
>  As before, I can input them, but they are showed as pseudo-graphics.

See gtsln.txt for details.

You have to set HRBNATIONCHARS environment variable properly.

My regards
Marek Paliwoda

BTW
Sorry for my very poor and funny english.







From harbour@matrixlist.com  Sun Apr  1 17:16:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Sun Apr  1 16:16:02 2001
Subject: [Harbour] Unlimited File Handles
References: <LOBBKAFMMFGJIKLMEPAKGEOFDKAA.Ron@Profit-Master.com>
Message-ID: <003001c0bae9$792bbdf0$921a5e18@bh>

Ron:
But shouldn't a Windows app taking advantage of the new Win32 HANDLEs *be
able* to still do a standard fopen, even if it needs to be called something
else?
I guess this comes down to:  are there functions that people may have
called, passing an old standard handle, that we won't be able to override?
Is there an issue with perhaps libraries that expect a file handle, that now
become unusable?
It's not a problem for me personally, but we have to be sure it's a complete
fix or the resulting bugs will be very difficult for people to figure out.

Brian

----- Original Message -----
From: "Ron Pinkas" <Ron@Profit-Master.com>
To: <harbour@matrixlist.com>
Sent: Sunday, April 01, 2001 9:09 AM
Subject: RE: [Harbour] Unlimited File Handles


> Horacio,
>
> First, thanks for your corrections.
>
> I think that if we make sure that ALL file access routines use EITHER
native
> handles, OR Win32 handles based on ONE #ifdef, we should be OK.
>
> Ron
>
> > The compatibility using the same set of routines could be achieved if
> > internally in Harbour we could have extra space for marking a
> > Win32 handle.
> >
> > If Harbour FHANLDE could have space to store the type of handle plus the
> > hanlde itself it is easy to do the task.
> > The problem is that the size of a Win32 handle is 4 bytes (it is
> > defined as
> > a void* ). Have you any ideas on this?
> >
> > If this is not possible, the idea to have a separate set of functions
with
> > macros to activate them on compile should work fine .
> >
> > > Are we able to replace all the file system
> > > calls a programmer may have made using a normal handle?
> > The functions that receive a handle and aren't Win32 compatible yet are:
> > hb_fsIsDevice, hb_fsSetDevMode.
> > The others unchanged functions in filesys do not use a handle and could
be
> > changed later or not.
> >
> > Horacio
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@matrixlist.com  Sun Apr  1 23:49:00 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Sun Apr  1 22:49:00 2001
Subject: [Harbour] Unlimited File Handles
In-Reply-To: <003001c0bae9$792bbdf0$921a5e18@bh>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEOJDKAA.Ron@Profit-Master.com>

Brian,

> But shouldn't a Windows app taking advantage of the new Win32 HANDLEs *be
> able* to still do a standard fopen, even if it needs to be called
> something
> else?
> I guess this comes down to:  are there functions that people may have
> called, passing an old standard handle, that we won't be able to override?
> Is there an issue with perhaps libraries that expect a file
> handle, that now
> become unusable?
> It's not a problem for me personally, but we have to be sure it's
> a complete
> fix or the resulting bugs will be very difficult for people to figure out.
>
> Brian

I don't think this will be an issue, but... we can provide a #define to
disable the non-standard support, or provide an alternate naming for each of
the versions like win32_* and std_* with macros that resolve the standard
calls to either version.

Ron


From harbour@matrixlist.com  Mon Apr  2 00:03:01 2001
From: harbour@matrixlist.com (=?iso-8859-1?Q?Pedro_El=EDas_Chanis?=)
Date: Sun Apr  1 23:03:01 2001
Subject: [Harbour] unsuscribed
Message-ID: <001401c0bb32$10208720$0f842ec8@pechanis>

This is a multi-part message in MIME format.

------=_NextPart_000_0011_01C0BAF7.624129A0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

No more messages


------=_NextPart_000_0011_01C0BAF7.624129A0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 5.50.4134.100" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>No more messages</FONT></DIV>
<DIV>&nbsp;</DIV></BODY></HTML>

------=_NextPart_000_0011_01C0BAF7.624129A0--


From harbour@matrixlist.com  Mon Apr  2 03:03:02 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Mon Apr  2 02:03:02 2001
Subject: [Harbour] Re: Can't compile gtsln ( Marek )
In-Reply-To: <003501c0bad6$aeba8180$5ab572c3@map>
References: <LOBBKAFMMFGJIKLMEPAKOEMCDKAA.Ron@Profit-Master.com>
 <031101c0b915$43ccf050$f003a8c0@ksoft20000507>
 <002701c0b949$47248220$921a5e18@bh>
 <183299901.20010331145457@belacy.belgorod.su>
 <002001c0ba10$b63f03c0$2cb472c3@map>
 <772762355.20010401161128@belacy.belgorod.su>
 <003501c0bad6$aeba8180$5ab572c3@map>
Message-ID: <793847249.20010402094957@belacy.belgorod.su>

Marek,

MP> See gtsln.txt for details.
MP> You have to set HRBNATIONCHARS environment variable properly.

 Ok, now I read it. But I didn't understand, how to set
 HRBNATIONCHARS.
 You write there:

"An environment variable HRBNATIONCHARS should contain a list of character
pairs. A first character from each pair sholud be a character from a lower
128 bytes of ASCII table, which should be pressed after a Dead Key was
pressed, to get a desired national character. The second character is a
national character itself. Those pairs should be defined even if a Dead
key is not used (because a terminal supports other method of entering
national characters - for example ALTR+letter)."

 Where can I find the table of such pairs ?
 With my localized Linux distributive ( Black Cat 6.2 ) I don't need
 to use any special keys to input every letter. I have there
 'CtrlR-ShiftR' combination, which switch On/Off input mode. So I
 press CtrlR-ShiftR and then input Russian letter in a normal way,
 without pressing additional keys every time. This works on a Linux
 text console and with some properly configured telnet programs.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Mon Apr  2 05:13:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Mon Apr  2 04:13:01 2001
Subject: [Harbour] hb_dynsymFindName bug
Message-ID: <000901c0bb4d$a2fb54b0$921a5e18@bh>

I posted the bug months ago that functions like Select(cStr) fail if cStr
has trailing spaces.
Since my apps store lots of things in databases for runtime configurability,
this occurs a lot. (Surely I'm not alone).

The discussion at the time centered around whether hb_dynsymFindName's speed
would suffer if it took the time to trim every symbol it processed, and no
changes were made.

Today I resolved to at least fix it in the Select function itself, even
though this clearly is the wrong place because there are other functions
that may pass along padded strings.
I traced through the code and checked out hb_dynsymFindName itself (I wasn't
familiar with Harbour's low-level code before).  It already has a loop to
upper every char!!

      while( iLen-- )
      {
         char cChar = *szName++;
         *pDest++ = ( cChar >= 'a' && cChar <= 'z' ) ? cChar - ( 'a' - 'A' )
: cChar;
      }

How bad would it be if another ternary operation tested for space chars and
replaced with a NULL?
         *pDest++ =  ( cChar >= 'a' && cChar <= 'z' ) ? cChar - ( 'a' -
'A' ) :  (cChar == ' ' ? '\0':  cChar);

Since the result is passed to hb_dynsymFind which uses strcmp, the first
NULL would terminate the string, right?
Is this safe enough of a fix, or should I find all higher level functions
that call hb_dynsymFindName and trim those?
Does anyone who knows this code know if there's a test  handy to see if
there's a perceptible performance hit?
I rebuilt my primary app with this change and it has no noticeable problems.

Thanks!
Brian Hays



From harbour@matrixlist.com  Mon Apr  2 05:22:02 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Mon Apr  2 04:22:02 2001
Subject: [Harbour] Fw: Function still missing with latest build !(Brain ,See This)
Message-ID: <002c01c0bb4e$1767dda0$dad4d7c8@luizguim>

Brian

See Below

> Hi
> I also got unresolved externals with the last build.
> 
> Error: Unresolved external '_hb_gcLockItem' referenced from
> C:\HARBOUR\LIB\RDDADS.LIB|adsfunc
> Error: Unresolved external '_hb_gcUnlockItem' referenced from
> C:\HARBOUR\LIB\RDDADS.LIB|adsfunc
> 
> Thank you
> 
> Juergen

Regards

Luiz Rafael Culik


From harbour@matrixlist.com  Mon Apr  2 06:12:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Mon Apr  2 05:12:02 2001
Subject: [Harbour] hb_dynsymFindName bug
In-Reply-To: <000901c0bb4d$a2fb54b0$921a5e18@bh>
Message-ID: <000901c0bb54$281e5f60$0f2aa8c0@antonio>

Brian,

It seems ok to me. Just one NULL.

Antonio

> How bad would it be if another ternary operation tested for space 
> chars and replaced with a NULL?



From harbour@matrixlist.com  Mon Apr  2 06:52:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Mon Apr  2 05:52:02 2001
Subject: [Harbour] Fw: Function still missing with latest build !(Brain ,See This)
References: <002c01c0bb4e$1767dda0$dad4d7c8@luizguim>
Message-ID: <001301c0bb5b$63c6b9c0$921a5e18@bh>

Luiz:
Juergen's "latest build" was not the current CVS.  This was fixed soon after
Ryszard removed hb_gclockItem.

Brian

----- Original Message -----
From: "Luiz Rafael Culik Guimaraes" <culik@nh.conex.com.br>
To: <harbour@matrixlist.com>
Sent: Monday, April 02, 2001 1:20 AM
Subject: [Harbour] Fw: Function still missing with latest build !(Brain ,See
This)


> Brian
>
> See Below
>
> > Hi
> > I also got unresolved externals with the last build.
> >
> > Error: Unresolved external '_hb_gcLockItem' referenced from
> > C:\HARBOUR\LIB\RDDADS.LIB|adsfunc
> > Error: Unresolved external '_hb_gcUnlockItem' referenced from
> > C:\HARBOUR\LIB\RDDADS.LIB|adsfunc
> >
> > Thank you
> >
> > Juergen
>
> Regards
>
> Luiz Rafael Culik
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@matrixlist.com  Mon Apr  2 06:54:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Mon Apr  2 05:54:01 2001
Subject: [Harbour] hb_dynsymFindName bug
References: <000901c0bb54$281e5f60$0f2aa8c0@antonio>
Message-ID: <001901c0bb5b$bbd684b0$921a5e18@bh>

Antonio:
I'm not sure what you meant by "Just one NULL".
Was that an observation or a suggestion to change the code to only set one
char to NULL?

Brian

----- Original Message -----
From: "Antonio Linares" <alinares@fivetech.com>
To: <harbour@matrixlist.com>
Sent: Monday, April 02, 2001 2:06 AM
Subject: RE: [Harbour] hb_dynsymFindName bug


> Brian,
>
> It seems ok to me. Just one NULL.
>
> Antonio
>
> > How bad would it be if another ternary operation tested for space
> > chars and replaced with a NULL?
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@matrixlist.com  Mon Apr  2 06:59:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Mon Apr  2 05:59:02 2001
Subject: [Harbour] hb_dynsymFindName bug
In-Reply-To: <001901c0bb5b$bbd684b0$921a5e18@bh>
Message-ID: <000601c0bb5a$f28c36e0$0f2aa8c0@antonio>

Brian,

> I'm not sure what you meant by "Just one NULL".
> Was that an observation or a suggestion to change the code to only set one
> char to NULL?

Yes, though I think that will not do a big difference.


Antonio



From harbour@matrixlist.com  Mon Apr  2 11:50:04 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr  2 10:50:04 2001
Subject: [Harbour] 'contrib' app hooks into harbour
In-Reply-To: <3AC69BC2.C351F018@mail.rosecom.ca>
References: <200103280328_MC2-CA56-EDDD@compuserve.com> <200103291551.f2TFpEk17102@smtp.parrett.net>
 <200103301755.f2UHtws17966@smtp.parrett.net>
Message-ID: <200104021446.f32Ekmn10383@smtp.parrett.net>

** Reply to message from April <awhite@mail.rosecom.ca> on Sat, 31 Mar
2001 22:08:51 -0500

> Before I go further, I'd like a suggestion on a destination for such a
> file.

I think that it would be best to add these macros to include/hbinit.h.

> I know that there is a contrib dir, but there is also a source\contrib.
> What is the intent of this second dir?

If you have a source/contrib directory, it just means that you aren't
including the -p option when you run 'cvs checkout' or 'cvs update'. The
-p option prunes empty directories, which is why some directories
include a file named 'empty' to avoid getting pruned.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr  2 12:11:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr  2 11:11:02 2001
Subject: [Harbour] init & exit procs...
In-Reply-To: <3AC6AD12.2F337392@mail.rosecom.ca>
Message-ID: <200104021507.f32F7in12668@smtp.parrett.net>

** Reply to message from April <awhite@mail.rosecom.ca> on Sat, 31 Mar
2001 23:22:42 -0500

> 3. Is there a need for the hb_vm_auto_SymbolInit_*** symbol to be
> unique? As far as I can tell, it is created from the source filename 
> for a static constructor function.  Might it be enough to merge the 
> name of the init and exit procs together?  I am looking at this as 
> a means to replace the third #define needed to create a unique 
> hb_vm_auto_SymbolInit_*** symbol name.

I just looked at source/rtl/w32/rsxnt/*.c and discovered that all of
the hb_vm_auto_Symbol_Init_* symbols use the main part of the file name
for the * part, so that should be safe. (I just got carried away when I
came up with the two-leveled macros - Sorry!)
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr  2 12:28:02 2001
From: harbour@matrixlist.com (Claudia Moroder)
Date: Mon Apr  2 11:28:02 2001
Subject: [Harbour] dbfntx question and bug (?) in common/expropt1.c
Message-ID: <001301c0bb89$c72861c0$30cdf2c2@moroder>

Hello,

I did give a look at  rdd/dbfntx/dbfmtx1.c and find a few thing I think are
not ok.

at Line 166 a long value is assigned to the variable K that is a int. It may
be that the long value will never be bigger than 2^15, but i think its safer
to never assing longs to ints.

at line 284 the variable i should be a USHORT. I find no reason why the
vaiable i in this functions is a signed int and not a USHORT.

Why does CurKey and uiKeys have different types, is there a reasson to let
CurKey be signed . They are compared many times, so they should be of the
same type.

In common/expropt1.c at line 123 a int is assigned to a unsigned char.

I used lclint to find this warnings. I know, there are few people that use
this tool, but I think it would not be a bad idea to cleanup all the
assignments and compares between differently typed variables using this
tool.

Bye

Andreas Moroder


From harbour@matrixlist.com  Mon Apr  2 12:43:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr  2 11:43:02 2001
Subject: [Harbour] 'contrib' app hooks into harbour
In-Reply-To: <200104021446.f32Ekmn10383@smtp.parrett.net>
References: <200103280328_MC2-CA56-EDDD@compuserve.com> <200103291551.f2TFpEk17102@smtp.parrett.net>
 <200103301755.f2UHtws17966@smtp.parrett.net> <3AC69BC2.C351F018@mail.rosecom.ca>
Message-ID: <200104021539.f32Fdmn15812@smtp.parrett.net>

** Reply to message from "David G. Holm" <dholm@jsd-llc.com> on Mon, 2
Apr 2001 10:49:15 -0400

> The -p option prunes empty directories

Whoops! It's the -P option (upper case) that prunes empty directories!
Sorry...
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr  2 12:46:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Mon Apr  2 11:46:01 2001
Subject: [Harbour] hb_dynsymFindName bug
In-Reply-To: <000901c0bb4d$a2fb54b0$921a5e18@bh>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEONDKAA.Ron@Profit-Master.com>

Brian,

I think Antonio suggest this:


   while( iLen-- )
   {
      char cChar = *szName++;

      if( cChar >= 'a' && cChar <= 'z' )
      {
         *pDest++ = cChar - ( 'a' - 'A' );
      }
      else if( cChar == ' ' || cChar == '\t' )
      {
         *pDest++ = '\0';
         break;
      }
      else
      {
         *pDest++ = cChar;
      }
   }

It will be slightly faster because it is likely that multiple WS follows,
which need not be processed.

Ron


From harbour@matrixlist.com  Mon Apr  2 13:18:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Mon Apr  2 12:18:02 2001
Subject: [Harbour] hb_dynsymFindName bug
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEONDKAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKMEONDKAA.Ron@Profit-Master.com>

The ++ can be removed just before the break:

           *pDest = '\0';

Ron

From harbour@matrixlist.com  Mon Apr  2 13:50:03 2001
From: harbour@matrixlist.com (Marek Paliwoda)
Date: Mon Apr  2 12:50:03 2001
Subject: [Harbour] Re: Can't compile gtsln ( Marek )
References: <LOBBKAFMMFGJIKLMEPAKOEMCDKAA.Ron@Profit-Master.com>
 <031101c0b915$43ccf050$f003a8c0@ksoft20000507>
 <002701c0b949$47248220$921a5e18@bh>
 <183299901.20010331145457@belacy.belgorod.su>
 <002001c0ba10$b63f03c0$2cb472c3@map>
 <772762355.20010401161128@belacy.belgorod.su>
 <003501c0bad6$aeba8180$5ab572c3@map>
 <793847249.20010402094957@belacy.belgorod.su>
Message-ID: <003001c0bb95$0a145600$79b572c3@map>

Alexander,

>  Ok, now I read it. But I didn't understand, how to set  HRBNATIONCHARS.
>
> .... snip ...
>
>  Where can I find the table of such pairs ?

You have to construct this list yourself !

I assume You are using a latin keyboard (I mean with latin letters on it),
not a special Russian one (with Cyrillic letters). If so, to enter a *Russian*
letter You have to switch to a proper mode and press a *latin* letter which
corresponds to a Russian letter. This generates a keycode which is a high
ASCII code. Am I right ? If no, gtsln will not handle Russian language at all.
But if I am right, HRBNATIONCHARS should be a list of such pairs (I mean
latin letter and a coresponding Russian letter)

>  With my localized Linux distributive ( Black Cat 6.2 ) I don't need
>  to use any special keys to input every letter. I have there
>  'CtrlR-ShiftR' combination, which switch On/Off input mode. So I
>  press CtrlR-ShiftR and then input Russian letter in a normal way,
>  without pressing additional keys every time.

This simply means You don not need to define HRBNATIONDEADKEY
variable !.   You have a better solution on your local Linux box.

But suppose You are working remotely with Harbour application using
wyse60 terminal, where your CtrlR-ShiftR combination will not work (sorry,
that's true). In this case You can use HRBNATIONDEADKEY to define that
"additional key" which will help You enter nation chars, alhough You have to
press it "every time". This is a cost, but I think it's better to have
possibility to enter them, than to not have.

Regards
Marek Paliwoda




From harbour@matrixlist.com  Mon Apr  2 14:53:02 2001
From: harbour@matrixlist.com (Bryan-TheBS-Smith)
Date: Mon Apr  2 13:53:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your
 permission
Message-ID: <3AC8A90F.51854319@theseus.com>

[Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT
your permission

[ ELUG/LEAP/FLU NOTE:  If you agree with this document, please
forward this to all you know.  Please take care to _avoid_
crosspostings for the sanity of others.  ;-PPP ]


USING A PASSPORT.COM-ENABLED SERVICE WILL DUAL-COPYRIGHT/LICENSE
YOUR ORIGINAL WORK

I just want to throw this out for *OFF-LIST* discussion.  I am
currently writing an article on the new licensing agreement at
Microsoft's Passport.COM.  What most people don't realize is that if
you use MSN, Hotmail, Expedia and, in some cases, just MS
IE/Outlook, you have _already_agreed_ to this license.  Why?  In the
case of MSN, Hotmail and Expedia, your passwords are stored on
Passport.COM (remember when Microsoft went down in late 1999 because
of their expiration of Passport.COM?).  I am still researching the
depth of Passport.COM's interaction with MS IE itself (seperate from
these services), and other Microsoft and non-Microsoft,
Internet-enabled software.

The problem?  In a nutshell, any outgoing information, software
and/or services of your original copyright/license/IP are "dual
copyrighted/licensed" to Microsoft c/o this new agreement.  This can
be _very_dangerous_ from the standpoint of free software
development.  Worse yet is the fact that no one currently knows to
what extent the Passport.COM licensing agreement applies, but it
seems all MSN, Hotmail and Expedia users are subject to it, possibly
all users of MS IE as well.


GPL DOES NOT OVERRIDE YOUR COPYRIGHTS (NOR YOUR ABILITY TO ASSIGN
THEM TO OTHERS)

Now you may think the GPL (and/or other GNU licensed works like the
LGPL, FDL, etc...) protects your work.  What you may not realize is
that Copyright Law is the _ultimate_ law.  The software that cracked
the encryption (really "uglification") and revealed the follies of
popular "Internet Filtering" software were perfect examples.  The
software was released GPL, but then revoked later.  How?  Because
the creators ultimately have "all rights reserved" to their
copyright, and can revoke any license at any time (like they did
when the popular filtering software vendors bought the rights).  As
such, when you post, upload or otherwise

Now one way you can "protect" your free software/works from being
submissive to this "hole" in Copyright Law is to assign all rights
to the Free Software Foundation.  In fact, this is exactly what the
FSF recommends you do with any GNU licensed work.  If you have not
done so already, consider doing this with any GPL, LGPL, FDL or
other GNU-licensed work that you do not plan to "dual-license"
yourself or other entity.


IS THIS AN "ANAL" STANCE?  MICROSOFT "REALITY CHECK":

Now before you think I'm going off an being "anal" on this, or
screaming "the sky is falling," realize the following:

1.  Many companies are looking for new avenues of revenue and the
"total forfeit" or "dual-copyright/licensure" of your
copyright/licenses/IP is nothing new.

2.  Microsoft (among others, even non-Windows vendors) have been
shown time and time again to be all for #1, and abusing the rights
of others in the name of profits.

3.  *BIG ONE*:  Anyone who has interviewed with Microsoft, or
visited the Microsoft campus knows that Microsoft's future goals
_include_ the revenue stream of _charging_you_ to even see your own
data!

4.  *ANOTHER*:  Microsoft has identified "dual-copyright/licensure"
as a key method to "bypassing" the "GPL virus."

5.  *MOST IMPORTANTLY*:  Microsoft is currently the biggest lobbyist
of the US government, and expends the most in legal costs of any
American company.  Lawyers are difference between something just
being just "unethical and not legally binding" and "unethical but
quite legal binding and quite enforcable."

#5 is what makes the Passport.COM licensing agreement the most
scary, even though it is nothing new in some circles.


WHAT SHOULD THE FREE SOFTWARE COMMUNITY DO TO COMBAT THIS?

Other than avoiding these services and any other that use
Passport.COM (which will only get harder and harder as .NET makes it
presence), there are some _real_issues_ to doing _anything_ on the
Internet that will require our action.  At least two key issues need
to be addressed (with possible solutions):

1.  "Identify" users who are using these services when they contact
your web site, archive, CVS repository, etc...  They need not only
be informed of these issues -- but they need to "sign" a "counter
agreement" that they agree to the policies of our site, archive,
repository, etc... which either "prohibit" uploading from services
where there is such an agreement and/or somehow put the
responsibility on the consumer and/or service to NOT allow such
"dual-copyright/licensure" rights to be applicable to those original
works.  "Identification" is where the difficulty may come in, but
searching for a cookie or other known "resource" on the client
system should provide us with a good indicator that the client is
using these services.  Our service then will "redirect" them to the
proper page with the agreement (and kick them off if they do not).

2.  Draft new licenses, or create "addendeum" to existing licenses
that explicitly target these other agreements and render them either
null and void, or somehow limit their application to our projects. 
This will be most difficult as the creators of these "agreements"
have been smart enough to make their copyright/licensure
"non-exclusive" -- which allows the creation of a
"dual-copyrighted/licensed" version they can use (whereas an
"exclusive" agreement would not hold up in court).

Again, these are serious issues that need to be addressed ASAP.  I
hope the free software community pulls together and does its due
dillengence to combatting this serious violation of our IP and our
ability to control who, what and how it is copyrighted and/or
licensed.


LINKS TO MORE INFORMATION:

As a follow-up, please take the time to read the following URLs:

Microsoft Passport.COM terms of use:
http://www.passport.com/Consumer/TermsOfUse.asp

The Register.COM article:
http://www.theregister.co.uk/content/4/18002.html

Troubleshooters.COM new copyright and other articles:
http://www.troubleshooters.com/cpyright.htm
http://www.troubleshooters.com/tpromag/200104/200104.htm#_new_copyright
http://www.troubleshooters.com/tpromag/200104/200104.htm#_three_articles

LEAP Thread (first article in thread):
http://lists.leap-cf.org/pipermail/leaplist/2001-April/011248.html


-- Bryan "TheBS" Smith
   OSS/GNU/Linux Participant, Advocate, Packager and Developer

--
Bryan "TheBS" Smith          chat:thebs413 @AOL/MSN/Yahoo
Engineer      mailto:b.j.smith@ieee.org,thebs@theseus.com
*********************************************************
"Never apply a Star Trek solution to a Babylon 5 problem"
                                    -- Nicholas C. Weaver
_______________________________________________
LeapList mailing list
LeapList@lists.leap-cf.org
http://www.matrixlist.com/mailman/listinfo/leaplist


From harbour@matrixlist.com  Mon Apr  2 15:43:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr  2 14:43:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <3AC8A90F.51854319@theseus.com>
Message-ID: <200104021840.f32Ie1n08187@smtp.parrett.net>

** Reply to message from Bryan-TheBS-Smith <thebs@theseus.com> on Mon,
02 Apr 2001 12:30:07 -0400

> I just want to throw this out for *OFF-LIST* discussion.

The off-topic discussion location for Harbour is the Harbour-Talk
mailing list at harbourtalk@matrixlist.com (just for future reference).
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr  2 15:47:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Mon Apr  2 14:47:02 2001
Subject: [Harbour] DBFCDX
Message-ID: <3AC88E3A.11463.313A1F@localhost>

Good Afternoon,

  Did DBSEEK() work with DBFCDX, I really have strange 
behaviour !!

  If not where can I read about function that are ready to used with 
DBFCDX !

  Thank you,

  Sylvain 


     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Mon Apr  2 17:06:01 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Mon Apr  2 16:06:01 2001
Subject: [Harbour] DBFCDX
In-Reply-To: <3AC88E3A.11463.313A1F@localhost>
Message-ID: <3AC8A207.9679.7E941B@localhost>

Good Afternoon,

  If you open a database with more than one index the controlling 
index will be the latest one

  Ex:  use File index index1,index2

  The controling order will be index2 !

  SET ORDER to didn't work !

  INDEXORD() isn't updated (always return 0)

  If you need more information let me know !

  Thank you,

  P.S.: is it the right place to send that kind of message ?
           I really don't want to bother you guys !

  Sylvain



> Good Afternoon,
> 
>   Did DBSEEK() work with DBFCDX, I really have strange 
> behaviour !!
> 
>   If not where can I read about function that are ready to used with 
> DBFCDX !
> 
>   Thank you,
> 
>   Sylvain 
> 
> 
>      Sylvain Robert
>      srobert@logava.com
> 
>      Les Logiciels Avantage
>      www.logava.com
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 
> 
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Mon Apr  2 17:25:04 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Mon Apr  2 16:25:04 2001
Subject: [Harbour] hb_dynsymFindName bug
References: <LOBBKAFMMFGJIKLMEPAKGEONDKAA.Ron@Profit-Master.com>
Message-ID: <004701c0bbb3$cf452850$921a5e18@bh>

But I had the impression from Victor's original comments, as well as the
note in the code, that this kind of "breaking out" the logic will be much
slower than the inline ternary operation.
This is where I need to yield those of you who live-and-breathe C code to
help with an opinion.

If we presume that most symbols are not padded (I'd guess 99.5%), then if
the inline code is faster it's probably better -- there's no need to
optimize the NULL.



----- Original Message -----
From: "Ron Pinkas" <Ron@Profit-Master.com>
To: <harbour@matrixlist.com>
Sent: Monday, April 02, 2001 8:46 AM
Subject: RE: [Harbour] hb_dynsymFindName bug


> Brian,
>
> I think Antonio suggest this:
>
>
>    while( iLen-- )
>    {
>       char cChar = *szName++;
>
>       if( cChar >= 'a' && cChar <= 'z' )
>       {
>          *pDest++ = cChar - ( 'a' - 'A' );
>       }
>       else if( cChar == ' ' || cChar == '\t' )
>       {
>          *pDest++ = '\0';
>          break;
>       }
>       else
>       {
>          *pDest++ = cChar;
>       }
>    }
>
> It will be slightly faster because it is likely that multiple WS follows,
> which need not be processed.
>
> Ron
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@matrixlist.com  Mon Apr  2 18:44:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr  2 17:44:01 2001
Subject: [Harbour] DBFCDX
In-Reply-To: <3AC8A207.9679.7E941B@localhost>
References: <3AC88E3A.11463.313A1F@localhost>
Message-ID: <200104022141.f32Lf2a01528@smtp.parrett.net>

** Reply to message from "Sylvain Robert " <srobert@logava.com> on Mon,
2 Apr 2001 16:00:07 -0400

> P.S.: is it the right place to send that kind of message ?

Either here on on the HarbourUsers mailing list
(harbourusers@matrixlist.com) is fine. You may want to use the
HarbourUsers mailing list, because it has a lot less traffic than the
developers mailing list.

>            I really don't want to bother you guys !

Bug reports are not a bother. We *want* to get bug reports!
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr  2 20:05:03 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Mon Apr  2 19:05:03 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <3AC8A90F.51854319@theseus.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEPADKAA.Ron@Profit-Master.com>

Hi All,

I would like to thank Bryan for pointing out an outrageous initiative of
Microsoft. I was literally SHOCKED to read the following on the "Microsoft
Passport Web Site Terms of Use and Notices" Page.

--------------------
LICENSE TO MICROSOFT

By posting messages, uploading files, inputting data, submitting any
feedback or suggestions, or engaging in any other form of communication with
or through the Passport Web Site, you warrant and represent that you own or
otherwise control the rights necessary to do so and you are granting
Microsoft and its affiliated companies permission to:


Use, modify, copy, distribute, transmit, publicly display, publicly perform,
reproduce, publish, sublicense, create derivative works from, transfer, or
sell any such communication.
Sublicense to third parties the unrestricted right to exercise any of the
foregoing rights granted with respect to the communication.
Publish your name in connection with any such communication.
The foregoing grants shall include the right to exploit any proprietary
rights in such communication, including but not limited to rights under
copyright, trademark, service mark or patent laws under any relevant
jurisdiction. No compensation will be paid with respect to Microsoft's use
of the materials contained within such communication. Microsoft is under no
obligation to post or use any materials you may provide and may remove such
materials at any time in Microsoft's sole discretion.
--------------------

This must be, *by* *far*, the most outrageous, cannibalizing, and
frightening, legal text I have ever read.

The above essentially gives Microsoft the right to use/sell/license any
material you electronically transferred by means related to their passport
service (at the very least, all email messages from any hotmail or msn email
account)!!!

We should all make sure we fight this outrageous conduct.

Ron

Ron


From harbour@matrixlist.com  Mon Apr  2 20:54:01 2001
From: harbour@matrixlist.com (April)
Date: Mon Apr  2 19:54:01 2001
Subject: [Harbour] 'prune dirs - was 'contrib' app hooks into harbour
References: <200103280328_MC2-CA56-EDDD@compuserve.com> <200103291551.f2TFpEk17102@smtp.parrett.net>
 <200103301755.f2UHtws17966@smtp.parrett.net> <3AC69BC2.C351F018@mail.rosecom.ca> <200104021539.f32Fdmn15812@smtp.parrett.net>
Message-ID: <3AC91210.8E3190B8@mail.rosecom.ca>

"David G. Holm" wrote:

> It's the -P option (upper case) that prunes empty directories!

Sounds like a wonderful option.  Should this be a standard option I can
put into
me checkout batch file?

Thank you David.

April


From harbour@matrixlist.com  Mon Apr  2 21:03:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr  2 20:03:02 2001
Subject: [Harbour] 'prune dirs - was 'contrib' app hooks into harbour
In-Reply-To: <3AC91210.8E3190B8@mail.rosecom.ca>
References: <200103280328_MC2-CA56-EDDD@compuserve.com> <200103291551.f2TFpEk17102@smtp.parrett.net>
 <200103301755.f2UHtws17966@smtp.parrett.net> <3AC69BC2.C351F018@mail.rosecom.ca>
 <200104021539.f32Fdmn15812@smtp.parrett.net>
Message-ID: <200104022359.f32NxFa15585@smtp.parrett.net>

** Reply to message from April <awhite@mail.rosecom.ca> on Mon, 02 Apr
2001 19:58:08 -0400

> Sounds like a wonderful option.  Should this be a standard option I can
> put into me checkout batch file?

Yes. Here's my 4NT CHECKOUT.BTM batch file:

pushd
cdd "%HOMEDRIVE%%HOMEPATH%"
@REM - Now using a public key - Echo Enter your SourceForge password:
cvs checkout -A -P harbour>&checkout.cvs
list checkout.cvs
popd

And my 4NT UPDATE.BTM batch file:

@REM - Now using a public key - Echo Enter your SourceForge password to
do a CVS update:
cvs update -P -d -A>&update.cvs
list update.cvs


The -A option resets any and all sticky flags and the -d option tells
cvs update to build directories the same way that cvs checkout does by
default.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr  2 21:09:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr  2 20:09:01 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEPADKAA.Ron@Profit-Master.com>
References: <3AC8A90F.51854319@theseus.com>
Message-ID: <200104030006.f33068a16019@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon, 2
Apr 2001 16:09:07 -0700

> We should all make sure we fight this outrageous conduct.

So don't use services such as Hotmail, MSN, Passport, Yahoo!, Lycos,
and their ilk. "Fighting" is rather *pointless* if one doesn't even
*use* those services. In any case, *nothing* in those terms has *any*
affect on Harbour, the Harbour Project, or the Harbour license.

And besides, Microsoft is simply following in Yahoo!'s footsteps here.
And Yahoo! was simply following in Compuserve's footsteps. I don't see
anything more onerous in Microsoft's terms than there is in Yahoo!'s
terms. Sure, Yahoo! added a clarification about what their terms are
meant to cover after a public furor erupted, but Yahoo! did not change
their terms. The only thing that Yahoo!'s clarification does is explain
what they intend the terms of their copyright claims term to cover,
attempts to reassure people that Yahoo! is not attempting to lay claim
to their members' intellectual property, and explains why Yahoo! felt
they needed to add the copyright claims term.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr  2 22:38:03 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Mon Apr  2 21:38:03 2001
Subject: [Harbour] Fw: HARBOUR-project : Error DBF/1001  Open error: Arbeider.dbf
Message-ID: <001801c0bbde$db816cc0$5fd4d7c8@luizguim>


 Hi All,

 I've tried to start using Harbour, but I'm probably forgetting something,
 because I can't open a simple file.
 The code compiled with Clipper 5.3b and linked with Blinker works fine.

 But with BLD_B32 from Harbour I get the following Error

 Error DBF/1001  Open error: Arbeider.dbf
 Called from DBUSEAREA(0)
 Called from TEST(5)

 Can anyone give me a hint, what I'm doing wrong ?

 Didier


 PROCEDURE Test

 SET DEFAULT TO C:\Malmar\Topcapi
 DBUseArea (.T.,"DBFNTX","Arbeider","Arbeider",.T.)

 GOTO TOP
 DO WHILE .NOT. EOF()
 ? Arb, ArbNaam
 SKIP
 ENDDO

 RETURN
 ---------------------------------------------------------------------------
 --------------------
 Harbour Compiler 0.36  (Build 36) (2001.02.20) (Flex)
 Copyright 1999-2000, http://www.harbour-project.org
 Compiling 'test.prg'...
 Lines 15, Functions/Procedures 1
 Generating C source output to 'test.c'... Done.
 Borland C++ 5.5 for Win32 Copyright (c) 1993, 2000 Borland
 test.c:
 Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
 ---------------------------------------------------------------------------
-
 ---------------------




From harbour@matrixlist.com  Mon Apr  2 23:08:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Mon Apr  2 22:08:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104030006.f33068a16019@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKMEPBDKAA.Ron@Profit-Master.com>

David,

> > We should all make sure we fight this outrageous conduct.
>
> So don't use services such as Hotmail, MSN, Passport, Yahoo!, Lycos,
> and their ilk. "Fighting" is rather *pointless* if one doesn't even
> *use* those services. In any case, *nothing* in those terms has *any*
> affect on Harbour, the Harbour Project, or the Harbour license.

While most developers use direct CVS access, it is possible that one or more
of our contributors will upload some original work, by means of email to
this list. If such contributor was to use a service such as MSN or HotMail,
such upload is (by means of the passport terms) subject to the terms I
quoted, and thus it does affect Harbour.

> And besides, Microsoft is simply following in Yahoo!'s footsteps here.
> And Yahoo! was simply following in Compuserve's footsteps. I don't see
> anything more onerous in Microsoft's terms than there is in Yahoo!'s
> terms.

I'm not familiar with Yahoo's or CompuServe's terms. Regardless, such terms
are outrageous, to the point it might even be illegal. It would be the
equivalent of the Phone Company, informing you (in fine print) that by using
your phone to communicate, you grant them the right to use the information
extracted from your conversation, in any way they find profitable.

>        Sure, Yahoo! added a clarification about what their terms are
> meant to cover after a public furor erupted, but Yahoo! did not change
> their terms. The only thing that Yahoo!'s clarification does is explain
> what they intend the terms of their copyright claims term to cover,
> attempts to reassure people that Yahoo! is not attempting to lay claim
> to their members' intellectual property, and explains why Yahoo! felt
> they needed to add the copyright claims term.

I find absolutely no excuse to allow such ridiculous "agreements". Next
thing we know, the Post Office, UPS, FedEx, Phone Companies, and anyone
else, involved in the transformation of information, will claim the freedom
to use any IP extracted from the information it transports.

This is very dangerous, and should be objected to, by more than simply
avoiding such service. I was using the passport related services, and never
knew of these outrageous terms. Further, this agreement allows Microsoft to
change the terms at any given time, without even informing its users of such
change. One is expected to initiate a regular review of the terms to learn
of such possible change:

"
MODIFICATION OF THESE TERMS OF USE

Microsoft reserves the right to change the terms, conditions, and notices
under which the Passport Web Site and services are offered. You are
responsible for regularly reviewing these terms and conditions. Continued
use of the Passport Web Site or services after any such changes shall
constitute your consent to such changes.
"

Ron


From harbour@matrixlist.com  Tue Apr  3 01:53:10 2001
From: harbour@matrixlist.com (Phil Barnett)
Date: Tue Apr  3 00:53:10 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104030006.f33068a16019@smtp.parrett.net>
References: <LOBBKAFMMFGJIKLMEPAKKEPADKAA.Ron@Profit-Master.com>
Message-ID: <3AC91EBC.32125.169CA906@localhost>

On 2 Apr 2001, at 20:08, David G. Holm wrote:

> In any case, *nothing* in those terms has *any*
> affect on Harbour, the Harbour Project, or the Harbour license.

I think you are wrong.

Legally, if you post your own code to the Harbour Project via any of 
a number of discussed Microsoft licensed products, you forfiet 
exclusive copyright to your work.

.NET is coming. No doubt about it. It's the biggest land grab in the 
history of the internet.

Now that UCITA is in place in two states (and Microsoft gleefully 
licenses their products in Maryland), you can't reverse engineer 
their software.

So, not only can they make it impossible to defend against IP 
grab, but your data in their file format is also a hostage.

Maybe that doesn't matter to you, but it sure does to me. Starting 
last night, I'll be migrating away from anything that has the 
Microsoft name on it at my house.

I think you underestimate what Microsoft is attempting to do here.

Let me quote another scenario as presented earlier today in 
another mailing list...

...ALL SOFTWARE/DOCUMENTATION THAT PASSES 
THROUGH MICROSOFT SERVICES ARE NOW DUAL-LICENSED 

I mean, can you imagine if someone was contributing to a GPL 
project and was using Passport.COM just to store their 
passwords?  Being subject to the Passport.COM agreement is 
more encompassing than you think!  And the GPL doesn't protect 
you from giving away your copyright -- your copyrights are always 
reserved and the Passport.COM agreement lays claim to that 
copyright WITH YOUR IMPLICIT PERMISSION.

So, essentially, anything that someone contributes while using any 
portion of the Passport.COM service should be considered "dual-
licensed" -- one license as the contributer wanted, and one for 
Microsoft.  Sad, but true in the way I read it.  

- TheBS  


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@matrixlist.com  Tue Apr  3 03:14:02 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Tue Apr  3 02:14:02 2001
Subject: [Harbour] Re: [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEPADKAA.Ron@Profit-Master.com>
References: <LOBBKAFMMFGJIKLMEPAKKEPADKAA.Ron@Profit-Master.com>
Message-ID: <105232521.20010403101131@belacy.belgorod.su>

Ron, guys,
 aren't you think that it is 1 April joke ?

RP> By posting messages, uploading files, inputting data, submitting any
RP> feedback or suggestions, or engaging in any other form of communication with
RP> or through the Passport Web Site, you warrant and represent that you own or
RP> otherwise control the rights necessary to do so and you are granting
RP> Microsoft and its affiliated companies permission to:

RP> Use, modify, copy, distribute, transmit, publicly display, publicly perform,
RP> reproduce, publish, sublicense, create derivative works from, transfer, or
RP> sell any such communication.
RP> Sublicense to third parties the unrestricted right to exercise any of the
RP> foregoing rights granted with respect to the communication.
RP> Publish your name in connection with any such communication.
RP> The foregoing grants shall include the right to exploit any proprietary
RP> rights in such communication, including but not limited to rights under
RP> copyright, trademark, service mark or patent laws under any relevant
RP> jurisdiction. No compensation will be paid with respect to Microsoft's use
RP> of the materials contained within such communication. Microsoft is under no
RP> obligation to post or use any materials you may provide and may remove such
RP> materials at any time in Microsoft's sole discretion.

 The above seems so absurd that I can't find other explanation.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Tue Apr  3 03:50:03 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr  3 02:50:03 2001
Subject: [Harbour] Re: [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <105232521.20010403101131@belacy.belgorod.su>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEPCDKAA.Ron@Profit-Master.com>

Alexander

> Ron, guys,
>  aren't you think that it is 1 April joke ?

I wish, but it doesn't seem so!

> ...
>
>  The above seems so absurd that I can't find other explanation.

I know it seems absurd, but go to www.passport.com and attempt to open a new
account, then click the "Terms of Use" link at the bottom.

I personally verified this :-(

Ron


From harbour@matrixlist.com  Tue Apr  3 03:54:02 2001
From: harbour@matrixlist.com (Phil Barnett)
Date: Tue Apr  3 02:54:02 2001
Subject: [Harbour] Re: [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEPCDKAA.Ron@Profit-Master.com>
References: <105232521.20010403101131@belacy.belgorod.su>
Message-ID: <3AC93B35.17402.170BE2E6@localhost>

On 2 Apr 2001, at 23:54, Ron Pinkas wrote:

> Alexander
> 
> > Ron, guys,
> >  aren't you think that it is 1 April joke ?
> 
> I wish, but it doesn't seem so!
> 
> > ...
> >
> >  The above seems so absurd that I can't find other explanation.
> 
> I know it seems absurd, but go to www.passport.com and attempt to open a new
> account, then click the "Terms of Use" link at the bottom.
> 
> I personally verified this :-(

It's real.


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@matrixlist.com  Tue Apr  3 04:09:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Tue Apr  3 03:09:02 2001
Subject: [Harbour] Re: [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <105232521.20010403101131@belacy.belgorod.su>; from alex@belacy.belgorod.su on Tue, Apr 03, 2001 at 10:11:31AM +0400
References: <LOBBKAFMMFGJIKLMEPAKKEPADKAA.Ron@Profit-Master.com> <105232521.20010403101131@belacy.belgorod.su>
Message-ID: <20010403080821.P13639@hagbard.davep.org>

On Tue, Apr 03, 2001 at 10:11:31AM +0400, Alexander S.Kresin wrote:
> Ron, guys,
>  aren't you think that it is 1 April joke ?

Considering that I first saw it last Friday (March 30th) it seems unlikely.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Tue Apr  3 07:53:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Tue Apr  3 06:53:02 2001
Subject: [Harbour] DBFCDX
In-Reply-To: <200104022141.f32Lf2a01528@smtp.parrett.net>
References: <3AC8A207.9679.7E941B@localhost>
Message-ID: <3AC9720E.11822.107E63@localhost>

David,

> Either here on on the HarbourUsers mailing list
> (harbourusers@matrixlist.com) is fine. You may want to use the
> HarbourUsers mailing list, because it has a lot less traffic than the
> developers mailing list.
> Bug reports are not a bother. We *want* to get bug reports!

  So I choose the right one to give feedback about my test. I know 
that harbour is a free project and most of my contribution will be on 
testing Harbour. I began to translate from Clipper and Fivewin to 
Harbour and FWH and what I need for now is a rock solid 
DBFCDX RDD I know I can use ADS but it's not what I will include 
in our first Harbour+FWH commercial product that's why I'll focus on 
the RDD. I have a complete accounting package to translate with a 
lot of Windows API, it will be a great challenge to do so.

  Again thank's a lot to all the Harbour crew !

  Sylvain 

From harbour@matrixlist.com  Tue Apr  3 11:01:01 2001
From: harbour@matrixlist.com (Norberto Lara)
Date: Tue Apr  3 10:01:01 2001
Subject: [Harbour] alpha .37 and digital mars C
References: <3AC8A207.9679.7E941B@localhost> <3AC9720E.11822.107E63@localhost>
Message-ID: <001401c0bc47$20db5980$080000bc@terminalx>

Hi to all

Harbour works with digital mars c++ , http://stanford.esuccess.com/protools/
, and about release .37?

Thanks
Norberto


From harbour@matrixlist.com  Tue Apr  3 14:35:03 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr  3 13:35:03 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKMEPBDKAA.Ron@Profit-Master.com>
References: <200104030006.f33068a16019@smtp.parrett.net>
Message-ID: <200104031731.f33HVsP01838@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon, 2
Apr 2001 19:11:54 -0700

> While most developers use direct CVS access, it is possible that one or more
> of our contributors will upload some original work, by means of email to
> this list. If such contributor was to use a service such as MSN or HotMail,
> such upload is (by means of the passport terms) subject to the terms I
> quoted, and thus it does affect Harbour.

No, because the terms only apply to the communication itself and do not
extend to what is *being* communicated.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr  3 14:41:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr  3 13:41:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <3AC91EBC.32125.169CA906@localhost>
References: <LOBBKAFMMFGJIKLMEPAKKEPADKAA.Ron@Profit-Master.com> <200104030006.f33068a16019@smtp.parrett.net>
Message-ID: <200104031737.f33HbgP02395@smtp.parrett.net>

** Reply to message from "Phil Barnett" <midnight@the-oasis.net> on
Tue, 3 Apr 2001 00:52:12 -0400

> Legally, if you post your own code to the Harbour Project via any of 
> a number of discussed Microsoft licensed products, you forfiet 
> exclusive copyright to your work.

That is simply not true. Microsoft's collective/joint copyright only
extends to the communication itself, not to the contents of the
communication.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr  3 14:53:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr  3 13:53:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104031731.f33HVsP01838@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKMEPFDKAA.Ron@Profit-Master.com>

David,

> > While most developers use direct CVS access, it is possible
> that one or more
> > of our contributors will upload some original work, by means of email to
> > this list. If such contributor was to use a service such as MSN
> or HotMail,
> > such upload is (by means of the passport terms) subject to the terms I
> > quoted, and thus it does affect Harbour.
>
> No, because the terms only apply to the communication itself and do not
> extend to what is *being* communicated.

Did you read the terms???

"
By posting messages, uploading files, inputting data, submitting any
   ^^^^^^^ ^^^^^^^^  ^^^^^^^^^ ^^^^^
feedback or suggestions, or engaging in any other form of communication with
                            ^^^^^^^^ ^^ ^^^ ^^^^^ ^^^^ ^^ ^^^^^^^^^^^^^
or through the Passport Web Site ... you are granting Microsoft and its
                                     ^^^ ^^^ ^^^^^^^^ ^^^^^^^^^
affiliated companies permission to:

Use, modify, copy, distribute, transmit, publicly display, publicly perform,
^^^  ^^^^^^  ^^^^  ^^^^^^^^^^
reproduce, publish, sublicense, create derivative works from, transfer, or
                                ^^^^^^ ^^^^^^^^^^ ^^^^^
sell any such communication.
^^^^
...

The foregoing grants shall include the right to exploit any proprietary
                           ^^^^^^^ ^^^ ^^^^^ ^^ ^^^^^^^ ^^^ ^^^^^^^^^^^
rights in such communication, including but not limited to rights under
^^^^^^ ^^ ^^^^ ^^^^^^^^^^^^^
copyright, trademark, service mark or patent laws under any relevant
jurisdiction.
"

Ron


From harbour@matrixlist.com  Tue Apr  3 14:53:08 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr  3 13:53:08 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <3AC91EBC.32125.169CA906@localhost>
References: <LOBBKAFMMFGJIKLMEPAKKEPADKAA.Ron@Profit-Master.com> <200104030006.f33068a16019@smtp.parrett.net>
Message-ID: <200104031749.f33HndP03277@smtp.parrett.net>

** Reply to message from "Phil Barnett" <midnight@the-oasis.net> on
Tue, 3 Apr 2001 00:52:12 -0400

> Let me quote another scenario as presented earlier today in 
> another mailing list...
> 
> ...ALL SOFTWARE/DOCUMENTATION THAT PASSES 
> THROUGH MICROSOFT SERVICES ARE NOW DUAL-LICENSED

The only problem is that the quoted statement is not from Microsoft's
terms and is based on false assumptions resulting from an incorrect
reading of Microsoft's terms. First off, nowhere in the entire terms of
agreement does Microsoft make any claims of copyright ownership on any
communications that traverse their service.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr  3 14:55:03 2001
From: harbour@matrixlist.com (Norberto Lara)
Date: Tue Apr  3 13:55:03 2001
Subject: [Harbour] alpha .37 and digital mars C
References: <3AC8A207.9679.7E941B@localhost> <3AC9720E.11822.107E63@localhost> <001401c0bc47$20db5980$080000bc@terminalx>
Message-ID: <002f01c0bc67$c50ed1b0$080000bc@terminalx>

Sorry, the URL to Mars C is http://www.digitalmars.com/ .


Norberto

----- Original Message -----
From: "Norberto Lara" <nnsystem@zaz.com.br>
To: <harbour@matrixlist.com>
Sent: Tuesday, April 03, 2001 11:03 AM
Subject: [Harbour] alpha .37 and digital mars C


> Hi to all
>
> Harbour works with digital mars c++ ,
http://stanford.esuccess.com/protools/
> , and about release .37?
>
> Thanks
> Norberto
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@matrixlist.com  Tue Apr  3 14:58:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr  3 13:58:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104031737.f33HbgP02395@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEPGDKAA.Ron@Profit-Master.com>

> > Legally, if you post your own code to the Harbour Project via any of
> > a number of discussed Microsoft licensed products, you forfiet
> > exclusive copyright to your work.
>
> That is simply not true. Microsoft's collective/joint copyright only
> extends to the communication itself, not to the contents of the
> communication.

What do you mean by that?

Why would it cover "any other form of communication", and "include the right
to exploit any proprietary rights in such communication, including but not
limited to rights under copyright, trademark, service mark or patent laws
under any relevant jurisdiction"???

I can't understand how can you read it to say anything other than what it
clearly says: What ever you communicate, we have the right to exploit in any
damn way we please!!!

Ron


From harbour@matrixlist.com  Tue Apr  3 14:59:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr  3 13:59:01 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKMEPBDKAA.Ron@Profit-Master.com>
References: <200104030006.f33068a16019@smtp.parrett.net>
Message-ID: <200104031755.f33HtTP03747@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon, 2
Apr 2001 19:11:54 -0700

> While most developers use direct CVS access, it is possible that one or more
> of our contributors will upload some original work, by means of email to
> this list. If such contributor was to use a service such as MSN or HotMail,
> such upload is (by means of the passport terms) subject to the terms I
> quoted, and thus it does affect Harbour.

Here's the first paragraph from the licensing terms section:

> By posting messages, uploading files, inputting data, submitting any
> feedback or suggestions, or engaging in any other form of communication
> with or through the Passport Web Site, you warrant and represent that
> you own or otherwise control the rights necessary to do so and you are
> granting Microsoft and its affiliated companies permission to:

Notice the part about "communication with or through the Passport Web
Site"? CVS communications do *not* go through the Passport Web Site,
even if you are using MSN or Hotmail, and are therefore exempt from the
licensing claim.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr  3 15:00:04 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr  3 14:00:04 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104031749.f33HndP03277@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEPGDKAA.Ron@Profit-Master.com>

> > Let me quote another scenario as presented earlier today in 
> > another mailing list...
> > 
> > ...ALL SOFTWARE/DOCUMENTATION THAT PASSES 
> > THROUGH MICROSOFT SERVICES ARE NOW DUAL-LICENSED
> 
> The only problem is that the quoted statement is not from Microsoft's
> terms and is based on false assumptions resulting from an incorrect
> reading of Microsoft's terms. First off, nowhere in the entire terms of
> agreement does Microsoft make any claims of copyright ownership on any
> communications that traverse their service.

"in any other form of communication with or through the Passport Web Site"
                                    ^^^^ ^^ ^^^^^^^
You should re-read the terms.


From harbour@matrixlist.com  Tue Apr  3 15:02:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr  3 14:02:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKMEPFDKAA.Ron@Profit-Master.com>
References: <200104031731.f33HVsP01838@smtp.parrett.net>
Message-ID: <200104031758.f33HwVP04000@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Tue, 3
Apr 2001 10:56:45 -0700

> Did you read the terms???

I sure did. Did you notice that Microsoft is not claiming any Copyright
ownership? This is just one of the false claims made by the original
poster on this subject that do not hold up under scrutiny.

> > any such communication.

Do you not understand what "any such communicaton" means? Perhaps you
ought to run the entire Passport Terms of Use by your Copyright Lawyer
and see what he has to say about it?
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr  3 15:12:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr  3 14:12:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104031755.f33HtTP03747@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKCEPHDKAA.Ron@Profit-Master.com>

> Notice the part about "communication with or through the Passport Web
> Site"? CVS communications do *not* go through the Passport Web Site,
> even if you are using MSN or Hotmail, and are therefore exempt from the
> licensing claim.

David, you have not paid any attention to what both me and Phil, tried to
explain:

<<< RP:
While most developers use direct CVS access, it is possible that one or more
of our contributors will upload some original work, by means of email to
                    ^^^^ ^^^^^^ ^^^^ ^^^^^^^^ ^^^^  ^^ ^^^^^ ^^ ^^^^^
this list. If such contributor was to use a service such as MSN or HotMail,
           ^^                         ^^^                   ^^^    ^^^^^^^
such upload is (by means of the passport terms) subject to the terms I
^^^^ ^^^^^^ ^^
quoted, and thus it does affect Harbour.
>>>

<<< PB:
So, essentially, anything that someone contributes while using any
                                       ^^^^^^^^^^^ ^^^^^ ^^^^^ ^^^
portion of the Passport.COM service should be considered "dual-
^^^^^^^ ^^ ^^^ ^^^^^^^^^^^^ ^^^^^^^
licensed"
>>>

Ron


From harbour@matrixlist.com  Tue Apr  3 15:18:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr  3 14:18:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEPGDKAA.Ron@Profit-Master.com>
References: <200104031749.f33HndP03277@smtp.parrett.net>
Message-ID: <200104031815.f33IF3P05374@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Tue, 3
Apr 2001 11:04:27 -0700

> You should re-read the terms.

You should re-read them yourself. For starters, the terms are limited
to communications that are made directly with the Passport Web Site...
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr  3 15:29:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr  3 14:29:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEPHDKAA.Ron@Profit-Master.com>
References: <200104031755.f33HtTP03747@smtp.parrett.net>
Message-ID: <200104031825.f33IPTP06159@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Tue, 3
Apr 2001 11:16:11 -0700

> David, you have not paid any attention to what both me and Phil, tried to
> explain:

OK, let's *pretend* that your interpretation is correct. Does it have
any bearing on Harbour? No! Because if your interpretation of the
Passport Terms of Use is correct, then posting any part of Harbour to a
Passport Web Site would be in violation of the Harbour License, which is
a violation of the Passport Terms of Use, which require that you have
the appropriate rights to anything that you post to the Passport Web
Site.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr  3 16:21:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr  3 15:21:01 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104031825.f33IPTP06159@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEPIDKAA.Ron@Profit-Master.com>

> OK, let's *pretend* that your interpretation is correct. Does it have
> any bearing on Harbour? No! Because if your interpretation of the
> Passport Terms of Use is correct, then posting any part of Harbour to a
> Passport Web Site would be in violation of the Harbour License, which is
> a violation of the Passport Terms of Use, which require that you have
> the appropriate rights to anything that you post to the Passport Web
> Site.

The terms say "with or through", please not the OR THROUGH. *Any* email sent
by an MSN or HotMail subscriber is subject to these terms.



From harbour@matrixlist.com  Tue Apr  3 16:23:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr  3 15:23:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104031815.f33IF3P05374@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEPIDKAA.Ron@Profit-Master.com>

> > You should re-read the terms.
>
> You should re-read them yourself. For starters, the terms are limited
> to communications that are made directly with the Passport Web Site...

Here is the text:

"
By posting messages, uploading files, inputting data, submitting any
feedback or suggestions, or engaging in any other form of communication with
or through the Passport Web Site
^^ ^^^^^^^
"


From harbour@matrixlist.com  Tue Apr  3 16:53:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Tue Apr  3 15:53:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104031825.f33IPTP06159@smtp.parrett.net>; from dholm@jsd-llc.com on Tue, Apr 03, 2001 at 02:27:35PM -0400
References: <200104031755.f33HtTP03747@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKCEPHDKAA.Ron@Profit-Master.com> <200104031825.f33IPTP06159@smtp.parrett.net>
Message-ID: <20010403204721.G13639@hagbard.davep.org>

On Tue, Apr 03, 2001 at 02:27:35PM -0400, David G. Holm wrote:

> OK, let's *pretend* that your interpretation is correct. Does it have any
> bearing on Harbour? No! Because if your interpretation of the Passport
> Terms of Use is correct, then posting any part of Harbour to a Passport
> Web Site would be in violation of the Harbour License, which is a
> violation of the Passport Terms of Use, which require that you have the
> appropriate rights to anything that you post to the Passport Web Site.

My reading of this is that it can only have an effect if the copyright
holder of a given work is the one who places the work in a situation that is
affected by this. So, given the possibility of dual-licensing-by-default
(I'm playing along with your pretending here) due to the reading of the T&C
that has been posted, how would posting part of harbour to a Passport web
site be in violation of the harbour licence?

A copyright holder can't violate their own licence because the licence
doesn't really affect them.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Tue Apr  3 17:02:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr  3 16:02:01 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEPIDKAA.Ron@Profit-Master.com>
References: <200104031825.f33IPTP06159@smtp.parrett.net>
Message-ID: <200104031958.f33JwMP13992@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Tue, 3
Apr 2001 12:25:26 -0700

> > OK, let's *pretend* that your interpretation is correct. Does it have
> > any bearing on Harbour? No! Because if your interpretation of the
> > Passport Terms of Use is correct, then posting any part of Harbour to a
> > Passport Web Site would be in violation of the Harbour License, which is
> > a violation of the Passport Terms of Use, which require that you have
> > the appropriate rights to anything that you post to the Passport Web
> > Site.
> 
> The terms say "with or through", please not the OR THROUGH. *Any* email sent
> by an MSN or HotMail subscriber is subject to these terms.

*Only* if you use web mail. Which means that if you send any Harbour
source code that is not public domain via MSN or HotMail email, then you
are in violation of the Harbour License, which would make Microsoft a
contributory violator should they attempt to claim that such an illegal
communication were to fall under the terms of their license. You are
simply making a mountain out of a molehill.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr  3 17:06:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr  3 16:06:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEPIDKAA.Ron@Profit-Master.com>
References: <200104031815.f33IF3P05374@smtp.parrett.net>
Message-ID: <200104032003.f33K3BP14399@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Tue, 3
Apr 2001 12:27:28 -0700

> > > You should re-read the terms.
> >
> > You should re-read them yourself. For starters, the terms are limited
> > to communications that are made directly with the Passport Web Site...
> 
> Here is the text:
> 
> "
> By posting messages, uploading files, inputting data, submitting any
> feedback or suggestions, or engaging in any other form of communication with
> or through the Passport Web Site
> ^^ ^^^^^^^
> "

And just how, exactly, does that conflict with what I posted? In order
for a communication to be "made with or through the Passport Web Site",
said communication has to be directly involved with said web site. In
other words, the communication has to, at a minimum, be sent *to* the
web site.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr  3 17:11:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr  3 16:11:01 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <20010403204721.G13639@hagbard.davep.org>
References: <200104031755.f33HtTP03747@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKCEPHDKAA.Ron@Profit-Master.com>
 <200104031825.f33IPTP06159@smtp.parrett.net> <200104031825.f33IPTP06159@smtp.parrett.net>
 ; from dholm@jsd-llc.com on Tue, Apr 03, 2001 at 02:27:35PM -0400
Message-ID: <200104032007.f33K7cP14735@smtp.parrett.net>

** Reply to message from Dave Pearson <davep@davep.org> on Tue, 3 Apr
2001 20:47:21 +0100

> how would posting part of harbour to a Passport web
> site be in violation of the harbour licence?

Because the Harbour License includes the GNU Public License and the
Passport Terms of Use claims rights that are not permitted by the GNU
Public License.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr  3 17:25:03 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Tue Apr  3 16:25:03 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104032007.f33K7cP14735@smtp.parrett.net>; from dholm@jsd-llc.com on Tue, Apr 03, 2001 at 04:10:06PM -0400
References: <200104031755.f33HtTP03747@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKCEPHDKAA.Ron@Profit-Master.com> <200104031825.f33IPTP06159@smtp.parrett.net> <200104031825.f33IPTP06159@smtp.parrett.net> <20010403204721.G13639@hagbard.davep.org> <200104032007.f33K7cP14735@smtp.parrett.net>
Message-ID: <20010403212431.K13639@hagbard.davep.org>

On Tue, Apr 03, 2001 at 04:10:06PM -0400, David G. Holm wrote:
> ** Reply to message from Dave Pearson <davep@davep.org> on Tue, 3 Apr
> 2001 20:47:21 +0100
> 
> > how would posting part of harbour to a Passport web site be in violation
> > of the harbour licence?
> 
> Because the Harbour License includes the GNU Public License and the
> Passport Terms of Use claims rights that are not permitted by the GNU
> Public License.

The original message on the subject seemed to be pointing out that the
Passport T&C affected the copyright holder of a given work. You, for
example, as a copyright holder of a file that is part of harbour can do what
the hell you like with that file, it's your copyright. This includes making
it available to someone under a totally different licence that has nothing
to do with harbour and nothing to do with the GPL.

The concern, as I read it, is that if a copyright holder transmitted part of
a GPLd work via such a service they would, because they have agreed to the
T&C, unwittingly grant Microsoft a licence to use the code as they see fit
without the GPL ever getting involved.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Tue Apr  3 17:52:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr  3 16:52:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEPHDKAA.Ron@Profit-Master.com>
References: <200104031755.f33HtTP03747@smtp.parrett.net>
Message-ID: <200104032048.f33KmWP18596@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Tue, 3
Apr 2001 11:16:11 -0700

> David, you have not paid any attention to what both me and Phil, tried to
> explain:

Just because someone disagrees with you does not mean that they haven't
paid any attention to what you are trying to explain. And I would have
thought that my efforts to correct what I believe to be erroneous
interpretations and/or assumptions on your part are more than sufficient
evidence that I *have* been paying attention to what both you and Phil
have been trying to explain. I just happen to disagree with your
explanations...
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr  3 20:09:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr  3 19:09:01 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104032048.f33KmWP18596@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEPKDKAA.Ron@Profit-Master.com>

> > David, you have not paid any attention to what both me and
> Phil, tried to
> > explain:
>
> Just because someone disagrees with you does not mean that they haven't
> paid any attention to what you are trying to explain. And I would have
> thought that my efforts to correct what I believe to be erroneous
> interpretations and/or assumptions on your part are more than sufficient
> evidence that I *have* been paying attention to what both you and Phil
> have been trying to explain. I just happen to disagree with your
> explanations...

My very first reply to your message on this subject was:

"
While most developers use direct CVS access, it is possible that one or more
of our contributors will upload some original work, by means of email to
this list. If such contributor was to use a service such as MSN or HotMail,
such upload is (by means of the passport terms) subject to the terms I
quoted, and thus it does affect Harbour.
"

Please note it talks about *"original work"* uploaded by means of *MSN* or
*HotMail *email* accounts.

Your multiple replies have all seem to ignore the above completely. The core
of the concern from my first message, was regarding "original work" where
the contributor can NOT be in violation of Harbour License, because it is,
HIS OWN ORIGINAL WORK! Such contributor has every right to license it to
Microsoft, or anyone else, under ANY terms he chooses.

Yet in your replies you ignored my qualifications for the concern, and
answered claims I never made like:

----
DGH> "CVS communications do *not* go through the Passport Web Site"
----

My message clearly *excluded* direct CVS from the concern, and rather
concentrated on EMAIL uploads, specifically using MSN and/or HotMail email
accounts!

----
DGH> OK, let's *pretend* that your interpretation is correct. Does it have
DGH> any bearing on Harbour? No! Because if your interpretation of the
DGH> Passport Terms of Use is correct, then posting any part of Harbour to a
DGH> Passport Web Site would be in violation of the Harbour License, which
is
DGH> a violation of the Passport Terms of Use, which require that you have
DGH> the appropriate rights to anything that you post to the Passport Web
DGH> Site.
----

Again you missed 2 facts from my first reply:

1. My message said noting about posting to passport web site, but rather it
talked about email upload using email account which uses passport.com
services.

2. You did not pay attention to the qualification, "original work". Dual
Licensing of such original work can not be in violation of the Harbour
License.

Finally, you made some very questionable statements, and ignored my request
for clarification, like:

----
DGH> No, because the terms only apply to the communication itself and do not
DGH> extend to what is *being* communicated.
----

and,

----
DGH> That is simply not true. Microsoft's collective/joint copyright only
DGH> extends to the communication itself, not to the contents of the
DGH> communication.
----

To which I replied:

----
RP> What do you mean by that?

RP> Why would it cover "any other form of communication", and "include the
right
RP> to exploit any proprietary rights in such communication, including but
not
RP> limited to rights under copyright, trademark, service mark or patent
laws
RP> under any relevant jurisdiction"???

RP> I can't understand how can you read it to say anything other than what
it
RP> clearly says: What ever you communicate, we have the right to exploit in
any
RP> damn way we please!!!
----

You have completely ignored my questions, yet you repeatedly insisted that
it does not affect Harbour.

For the record, I must warn anyone against trusting your understanding of
this serious issue.

Ron


From harbour@matrixlist.com  Tue Apr  3 20:18:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr  3 19:18:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEPKDKAA.Ron@Profit-Master.com>
References: <200104032048.f33KmWP18596@smtp.parrett.net>
Message-ID: <200104032314.f33NEhP30885@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Tue, 3
Apr 2001 16:12:51 -0700

> Yet in your replies you ignored my qualifications for the concern,

No, I did not. Let me repeat what I've said before: MSN email does not
communicate with or through the Passport Web Site, with the possible
exception of if you are using Web Mail.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr  3 20:48:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr  3 19:48:01 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEPKDKAA.Ron@Profit-Master.com>
References: <200104032048.f33KmWP18596@smtp.parrett.net>
Message-ID: <200104032344.f33NiUP00895@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Tue, 3
Apr 2001 16:12:51 -0700

> Please note it talks about *"original work"* uploaded by means of *MSN* or
> *HotMail *email* accounts.
> 
> Your multiple replies have all seem to ignore the above completely.

Only in your mind. MSN and HotMail email does *not* communicate "with
or through the Passport Web Site", with the possible exception of using
Web Mail, and in order to qualify for the Microsoft license claims, the
communication *must* be with the *Passport* web site, like it states in
the terms of use.

> My message clearly *excluded* direct CVS from the concern, and rather
> concentrated on EMAIL uploads, specifically using MSN and/or HotMail email
> accounts!

Well, forgive me for misunderstanding what you wrote. Why don't you
jump up and down all over me for that? Oh wait! You already did!

> Again you missed 2 facts from my first reply:
> 
> 1. My message said noting about posting to passport web site, but rather it
> talked about email upload using email account which uses passport.com
> services.

It is *irrelevant* whether or not your message said anything about
posting to the passport web site, because the *only* things that qualify
for the Microsoft license claims are communications that are "with or
through the Passport Web Site".

> 2. You did not pay attention to the qualification, "original work". Dual
> Licensing of such original work can not be in violation of the Harbour
> License.

Well it *certainly* wasn't clear to me that you were talking about
original work and it seemed to me that you were claiming that if
*anybody* posted even a *snippet* of Harbour via MSN or Hotmail that
Harbour in it's *entirety* was compromised, which *most* definitely is
*not* the case!

> Finally, you made some very questionable statements, and ignored my request
> for clarification, like:

In *your* opinion.

> You have completely ignored my questions,

That is an outright *lie*! I have only ignored a *few* of your
questions, such as the one that was *obviously* a rhetorical question,
seeing as how it included, "I can't understand how can you read it to
say anything other than what it clearly says." And past experience has
demonstrated that it is pointless to try to discuss matters with you
once you have reached this fevered state of mind.

> For the record, I must warn anyone against trusting your understanding of
> this serious issue.

"For the record?" Sheesh! Get over yourself, man!
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr  3 22:07:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr  3 21:07:01 2001
Subject: [Harbour] ChangeLog 2001-04-03 21:00 UTC-0400 David G. Holm
Message-ID: <200104040103.f3413YP07130@smtp.parrett.net>

2001-04-03 21:00 UTC-0400 David G. Holm <dholm@jsd-llc.com>

  * contrib/libmisc/fileread.prg
    * Donated to the public domain.

  * doc/hdr_tpl.txt
  * source/rtl/devoutp.prg
  * source/rtl/inkey.c
  * source/rtl/maxrow.c
  * source/rtl/round.c
  * source/rtl/scroll.c
  * source/rtl/set.c
  * source/rtl/valtostr.c
  * source/rtl/gtpca/gtpca.c
    * Replaced the old license with a new license that is derived
      from the Guile 1.4 license (the old license was based on an
      older version of Guile) in the header template and in files
      where I was listed as the primary or only copyright holder.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr  3 22:23:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr  3 21:23:01 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104032344.f33NiUP00895@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKCEPMDKAA.Ron@Profit-Master.com>

> > Your multiple replies have all seem to ignore the above completely.
>
> Only in your mind. MSN and HotMail email does *not* communicate "with
> or through the Passport Web Site", with the possible exception of using
> Web Mail, and in order to qualify for the Microsoft license claims, the
> communication *must* be with the *Passport* web site, like it states in
> the terms of use.

Both MSN and HotMail utilize the passport.com services for authentication.
Please note the Passport Terms of Use *start* as follows:

"
The Microsoft Passport Web Site is comprised of a Web site and its
associated services and is operated by Microsoft Corporation ("Microsoft").
"

Please note "and its associated services". I am fairly confident that
HotMail emails are subject to the passport terms, because they rely on
passport authentication services.

BTW, what do you mean by "with the possible exception of using Web Mail"?
The HotMail service is by definition WebMail, is it not?

> > My message clearly *excluded* direct CVS from the concern, and rather
> > concentrated on EMAIL uploads, specifically using MSN and/or
> HotMail email
> > accounts!
>
> Well, forgive me for misunderstanding what you wrote. Why don't you
> jump up and down all over me for that? Oh wait! You already did!

Sorry that's how you feel. I had the impression you did not pay attention to
both mine and Phil's explanations, you said you did, so I simply pointed
what you missed.

> It is *irrelevant* whether or not your message said anything about
> posting to the passport web site, because the *only* things that qualify
> for the Microsoft license claims are communications that are "with or
> through the Passport Web Site".

Are you convinced that HotMail emails are not subject to these terms? If you
are, I'll greatly appreciate an explanation, of why do you consider a
service, which *relies* on Passport services, and where the Passport.com
"Terms of Use" explicitly states that Passport services are considered part
of the Passport Web Site, excluded from these "Terms of Use"?

> > 2. You did not pay attention to the qualification, "original work". Dual
> > Licensing of such original work can not be in violation of the Harbour
> > License.
>
> Well it *certainly* wasn't clear to me that you were talking about
> original work and it seemed to me that you were claiming that if
> *anybody* posted even a *snippet* of Harbour via MSN or Hotmail that
> Harbour in it's *entirety* was compromised, which *most* definitely is
> *not* the case!

This is why I got the impression you were not paying full attention. If you
re-read my original reply:

RP> While most developers use direct CVS access, it is possible that one or
more
RP> of our contributors will upload some original work, by means of email to
RP> this list. If such contributor was to use a service such as MSN or
HotMail,
RP> such upload is (by means of the passport terms) subject to the terms I
RP> quoted, and thus it does affect Harbour.

You should notice it clearly states "original work", it does NOT mention
"anybody", and it does NOT talk about the entirety of Harbour.

> > You have completely ignored my questions,
>
> That is an outright *lie*! I have only ignored a *few* of your
> questions, such as the one that was *obviously* a rhetorical question,
> seeing as how it included, "I can't understand how can you read it to
> say anything other than what it clearly says." And past experience has
> demonstrated that it is pointless to try to discuss matters with you
> once you have reached this fevered state of mind.

David, I did list the specific questions you ignored. Most important was the
question regarding this:

DGH> That is simply not true. Microsoft's collective/joint copyright only
DGH> extends to the communication itself, not to the contents of the
DGH> communication

I still am puzzled, what do you mean by the above?

> > For the record, I must warn anyone against trusting your
> understanding of
> > this serious issue.
>
> "For the record?" Sheesh! Get over yourself, man!

How does one get over himself, and what purpose does it have in the context
of this discussion?

Ron


From harbour@matrixlist.com  Tue Apr  3 23:46:02 2001
From: harbour@matrixlist.com (Phil Barnett)
Date: Tue Apr  3 22:46:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <20010403212431.K13639@hagbard.davep.org>
References: <200104031755.f33HtTP03747@smtp.parrett.net> <200104032007.f33K7cP14735@smtp.parrett.net> <20010403212431.K13639@hagbard.davep.org>
Message-ID: <01040322452202.09013@hp.barnett.home.com>

On Tuesday 03 April 2001 04:24 pm, you wrote:

> The concern, as I read it, is that if a copyright holder transmitted
> part of a GPLd work via such a service they would, because they have
> agreed to the T&C, unwittingly grant Microsoft a licence to use the
> code as they see fit without the GPL ever getting involved.

Bingo.

From harbour@matrixlist.com  Wed Apr  4 00:04:03 2001
From: harbour@matrixlist.com (Phil Barnett)
Date: Tue Apr  3 23:04:03 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104032007.f33K7cP14735@smtp.parrett.net>
References: <200104031755.f33HtTP03747@smtp.parrett.net> <200104031825.f33IPTP06159@smtp.parrett.net> <200104032007.f33K7cP14735@smtp.parrett.net>
Message-ID: <01040323035703.09013@hp.barnett.home.com>

On Tuesday 03 April 2001 04:10 pm, you wrote:
> ** Reply to message from Dave Pearson <davep@davep.org> on Tue, 3 Apr
> 2001 20:47:21 +0100
>
> > how would posting part of harbour to a Passport web
> > site be in violation of the harbour licence?
>
> Because the Harbour License includes the GNU Public License and the
> Passport Terms of Use claims rights that are not permitted by the GNU
> Public License.

The GPL does not prevent an original author from granting Microsoft 
rights via a click through license nor a terms of use license.

This new licensing landgrab is not just limited to passport.com and 
hotmail. This license is attached to the Hailstorm and .NET initiatives. 
It's going to be real pervasive soon. Microsoft has promised .NET 
extension for Linux. Think about that.

It's a lot more pervasive and a lot more nasty than you are making it. We 
(LEAP members) are in conversations with FSF and Eric Raymond about this 
issue. I have forwarded a copy of the license to the legal department at 
work to see how they feel about it.

For now, it's best to know about it and be aware, but current opinion 
runs counter to what you are saying. It is a threat to GPL code and it 
appears to be specifically designed to be such a threat.

Who owns your data?

From harbour@matrixlist.com  Wed Apr  4 01:02:03 2001
From: harbour@matrixlist.com (Phil Barnett)
Date: Wed Apr  4 00:02:03 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <01040323035703.09013@hp.barnett.home.com>
References: <200104031755.f33HtTP03747@smtp.parrett.net> <200104032007.f33K7cP14735@smtp.parrett.net> <01040323035703.09013@hp.barnett.home.com>
Message-ID: <01040400015504.09013@hp.barnett.home.com>

On Tuesday 03 April 2001 11:03 pm, you wrote:

> It's a lot more pervasive and a lot more nasty than you are making it.
> We (LEAP members) are in conversations with FSF and Eric Raymond about
> this issue. I have forwarded a copy of the license to the legal
> department at work to see how they feel about it.
>
> For now, it's best to know about it and be aware, but current opinion
> runs counter to what you are saying. It is a threat to GPL code and it
> appears to be specifically designed to be such a threat.
>
> Who owns your data?

How about this?

************************

It goes beyond passport and hotmail, folks!

You don't have to use Hotmail or Passport to have MS own EVERYTHING you 
do. You just have to use Windows XP, which is claiming to be Microsoft's 
next "gotta have it" OS.

------------

>From the Microsoft White Paper on Hailstorm
( http://www.microsoft.com/net/hailstorm.asp )

Windows XP will integrate the Windows authentication system with the 
Passport authentication system, so a user can log onto Windows XP a 
single time and also be logged onto Passport and therefore be able to 
receive HailStorm services without an additional logon process.

------------

Hmmm, so now you have to also be sure not
to use Windows XP for anything involving
intellectual property!....

Steve

From harbour@matrixlist.com  Wed Apr  4 03:07:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Wed Apr  4 02:07:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEPMDKAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Tue, Apr 03, 2001 at 06:26:57PM -0700
References: <200104032344.f33NiUP00895@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKCEPMDKAA.Ron@Profit-Master.com>
Message-ID: <20010404070439.O13639@hagbard.davep.org>

On Tue, Apr 03, 2001 at 06:26:57PM -0700, Ron Pinkas wrote:

> Both MSN and HotMail utilize the passport.com services for authentication.

Correct me if I'm wrong but that is optional. I needed to create a hotmail
account to test some stuff regarding NetMeeting last week. I was asked if I
wanted to create a passport account, I said no (before this news broke, I
must be clairvoyant). The software still seems to offer the change to create
a passport account, I've still not used it.

> BTW, what do you mean by "with the possible exception of using Web Mail"?
> The HotMail service is by definition WebMail, is it not?

These days HotMail is also used as a directory service for NetMeeting.

> Are you convinced that HotMail emails are not subject to these terms? If
> you are, I'll greatly appreciate an explanation, of why do you consider a
> service, which *relies* on Passport services, and where the Passport.com
> "Terms of Use" explicitly states that Passport services are considered
> part of the Passport Web Site, excluded from these "Terms of Use"?

Can you show how HotMail relies on Passport? My experience last week
suggested otherwise. It suggested that it was optional.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Wed Apr  4 03:28:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr  4 02:28:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <20010404070439.O13639@hagbard.davep.org>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEPODKAA.Ron@Profit-Master.com>

> Correct me if I'm wrong but that is optional. I needed to create a hotmail
> account to test some stuff regarding NetMeeting last week. I was
> asked if I
> wanted to create a passport account, I said no (before this news broke, I
> must be clairvoyant). The software still seems to offer the
> change to create
> a passport account, I've still not used it.

Good for you. I was not aware of it being optional.

> Can you show how HotMail relies on Passport? My experience last week
> suggested otherwise. It suggested that it was optional.

Well as implied by your statement above, HotMail does rely on Passport when
authenticating all accounts that did NOT refuse the Passport option.

Ron


From harbour@matrixlist.com  Wed Apr  4 03:55:04 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Wed Apr  4 02:55:04 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEPODKAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Tue, Apr 03, 2001 at 11:31:44PM -0700
References: <20010404070439.O13639@hagbard.davep.org> <LOBBKAFMMFGJIKLMEPAKIEPODKAA.Ron@Profit-Master.com>
Message-ID: <20010404074639.T13639@hagbard.davep.org>

On Tue, Apr 03, 2001 at 11:31:44PM -0700, Ron Pinkas wrote:

> > Correct me if I'm wrong but that is optional. I needed to create a
> > hotmail account to test some stuff regarding NetMeeting last week. I was
> > asked if I wanted to create a passport account, I said no (before this
> > news broke, I must be clairvoyant). The software still seems to offer
> > the change to create a passport account, I've still not used it.
> 
> Good for you. I was not aware of it being optional.

"Good for you"? Huh? Anyway, I gather you weren't aware that it might be
optional, either that or you knew that it wasn't and I'm mistaken about what
I read when I did the test last week. If you know that it isn't (as your
previous text suggested) I'd like to hear about it so I can kill the account
I created and stay away from it.

> > Can you show how HotMail relies on Passport? My experience last week
> > suggested otherwise. It suggested that it was optional.
> 
> Well as implied by your statement above, HotMail does rely on Passport
> when authenticating all accounts that did NOT refuse the Passport option.

IOW it's optional, right? You were suggesting that anyone with a HotMail
account fell into this.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Wed Apr  4 04:00:04 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Wed Apr  4 03:00:04 2001
Subject: [Harbour] Re: [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <20010404070439.O13639@hagbard.davep.org>
References: <200104032344.f33NiUP00895@smtp.parrett.net>
 <LOBBKAFMMFGJIKLMEPAKCEPMDKAA.Ron@Profit-Master.com>
 <20010404070439.O13639@hagbard.davep.org>
Message-ID: <537643533.20010404105531@belacy.belgorod.su>

On 04.04.2001 10:04, Dave Pearson <davep@davep.org> wrote:

DP> Correct me if I'm wrong but that is optional. I needed to create a hotmail
DP> account to test some stuff regarding NetMeeting last week. I was asked if I
DP> wanted to create a passport account, I said no (before this news broke, I
DP> must be clairvoyant). The software still seems to offer the change to create
DP> a passport account, I've still not used it.

 This is a quote from Passport Q&A on www.passport.com :

"If you have an MSN Hotmail or MSN.com account, you already have a
Passport."


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Wed Apr  4 04:10:03 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Wed Apr  4 03:10:03 2001
Subject: [Harbour] Re: [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <537643533.20010404105531@belacy.belgorod.su>; from alex@belacy.belgorod.su on Wed, Apr 04, 2001 at 10:55:31AM +0400
References: <200104032344.f33NiUP00895@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKCEPMDKAA.Ron@Profit-Master.com> <20010404070439.O13639@hagbard.davep.org> <537643533.20010404105531@belacy.belgorod.su>
Message-ID: <20010404080905.W13639@hagbard.davep.org>

On Wed, Apr 04, 2001 at 10:55:31AM +0400, Alexander S.Kresin wrote:
> On 04.04.2001 10:04, Dave Pearson <davep@davep.org> wrote:
> 
> DP> Correct me if I'm wrong but that is optional. I needed to create a hotmail
> DP> account to test some stuff regarding NetMeeting last week. I was asked if I
> DP> wanted to create a passport account, I said no (before this news broke, I
> DP> must be clairvoyant). The software still seems to offer the change to create
> DP> a passport account, I've still not used it.
> 
>  This is a quote from Passport Q&A on www.passport.com :
> 
> "If you have an MSN Hotmail or MSN.com account, you already have a
> Passport."

Which is really odd, because the creation process I went thru last week said
that passport was optional and that's what I experienced. That is, it asked
me if I wanted a passport, I refused. I never saw any T&C and never gave
them permission to opt me into a service such as this.

Somebody is mistaken or something less than honest is happening here.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Wed Apr  4 04:11:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Wed Apr  4 03:11:01 2001
Subject: [Harbour] __ClsNew GPFs
Message-ID: <000901c0bcd7$373562d0$921a5e18@bh>

JF:

I have a situation where __ClsNew will gpf reliably (I love that phrase!),
but under different ciircumstances the exact same code runs fine.  I've been
able to determine that the gpf depends on the circumstances when the class
was First Created.  If the original class object gets created somewhere
else, then the problem window runs fine.  But if the problem window is the
first window to come up that uses that class, __ClsNew gpfs.

Here's the real situation:
The TGroup class for GroupBox controls is used on our data entry screens.
We have a screen designer where users can "paint" their own screens.  If I
run the app and go straight to ScrnDsgn, when it tries to create the TGroup
class to put the group boxes on the window, it gpfs (it seems to go into an
infinite loop for a moment first).
But if I first open one of my data entry screens that has a TGroup object on
it, that class is initialized, the controls get built, and all is well. I
then go to ScrnDsgn, and it is able to create the TGroup objects with no
problem!!!
(BTW, I can create them successfully in ScrnDsgn before other controls, but
they need to be created last for other reasons).

So I need to determine what is different about the stack or other memory
environment issues to figure out why it blows.  Then next thing I will do is
put a trace after every line in the clsNew C code to see where it really
blows up.  Do you have any better ideas on how to attack this?

I've fumbled with TurboDebugger but been unable to get it to work (the app
terminates on startup).  Has anyone been able to get a C source-code level
debugger to be useful under windows for an FWH app?
HB_TRACE is very useful, but it can take a long time to examine all the
right things to chase a blow up.
Is there another tool out there that I'm not aware of that can help in
chasing down gpfs?  I've been creating all these .TDS files and never gotten
any use out of them ... ;-)

Thanks,
Brian Hays



From harbour@matrixlist.com  Wed Apr  4 04:13:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr  4 03:13:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <20010404074639.T13639@hagbard.davep.org>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEPPDKAA.Ron@Profit-Master.com>

> > Good for you. I was not aware of it being optional.
>
> "Good for you"? Huh?

"Good for you" is used in the US to acknowledge positive news.

> Anyway, I gather you weren't aware that it might be
> optional, either that or you knew that it wasn't and I'm mistaken
> about what
> I read when I did the test last week. If you know that it isn't (as your
> previous text suggested) I'd like to hear about it so I can kill
> the account
> I created and stay away from it.

As I said, I was not aware that using Passport might be optional (for
HotMail subscribers). When I opened an HotMail account, I don't recall it
was being an option. I speculate that the bulk majority of HotMail
subscribers DO have Passports.

> > > Can you show how HotMail relies on Passport? My experience last week
> > > suggested otherwise. It suggested that it was optional.
> >
> > Well as implied by your statement above, HotMail does rely on Passport
> > when authenticating all accounts that did NOT refuse the
> Passport option.
>
> IOW it's optional, right? You were suggesting that anyone with a HotMail
> account fell into this.

Based on your experience we can assume that at least some of HotMail
subscribers may NOT be covered by Passport "Terms of Use". My expressed
concern obviously is with those that do rely on MS Passport in one way or
another, for transmitting emails that might include IP they own.

Ron


From harbour@matrixlist.com  Wed Apr  4 04:34:04 2001
From: harbour@matrixlist.com (Guy Roussin)
Date: Wed Apr  4 03:34:04 2001
Subject: [Harbour] running dbu ...
Message-ID: <3ACACE29.394D4826@teledetection.fr>

Hello,

Now, when i run dbu (compiled with last cvs, simplex, bcc55) i get this error :
Unrecoverable error 9006: hb_xgrab can't allocate memory
Called from XARRAY_DIR(2958)
Called from DBU(674)


Guy Roussin

From harbour@matrixlist.com  Wed Apr  4 05:05:03 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Wed Apr  4 04:05:03 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEPPDKAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Wed, Apr 04, 2001 at 12:17:05AM -0700
References: <20010404074639.T13639@hagbard.davep.org> <LOBBKAFMMFGJIKLMEPAKIEPPDKAA.Ron@Profit-Master.com>
Message-ID: <20010404084347.Y13639@hagbard.davep.org>

On Wed, Apr 04, 2001 at 12:17:05AM -0700, Ron Pinkas wrote:
> > > Good for you. I was not aware of it being optional.
> >
> > "Good for you"? Huh?
> 
> "Good for you" is used in the US to acknowledge positive news.

I'd always got the impression that it carried the same degree of sarcasm
when uttered by a USian as it does when uttered over here. Live and learn...

> As I said, I was not aware that using Passport might be optional (for
> HotMail subscribers). When I opened an HotMail account, I don't recall it
> was being an option. I speculate that the bulk majority of HotMail
> subscribers DO have Passports.

When did you last open a HotMail account? How long as the passport service
been in operation?

> > IOW it's optional, right? You were suggesting that anyone with a HotMail
> > account fell into this.
> 
> Based on your experience we can assume that at least some of HotMail
> subscribers may NOT be covered by Passport "Terms of Use". My expressed
> concern obviously is with those that do rely on MS Passport in one way or
> another, for transmitting emails that might include IP they own.

I wasn't disagreeing with or speaking about the IP angle, I was simply
pointing out that my experience last week suggested that your observation
that anyone with a Hotmail account might be affected by this.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Wed Apr  4 05:14:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Wed Apr  4 04:14:02 2001
Subject: [Harbour] ADS and scopes
Message-ID: <000901c0bce0$0c873e60$921a5e18@bh>

Here's a little warning/observation for those of us using ADS:

ADS is optimized for Filters -- that's the mindset of the developers.  And
they've done a great job.
Those of us who are used to the scope optimization features in Comix were in
for a shock: Getting a count of the 26 keys in a scope within a database of
300,000 records took 10 seconds on Novell -- even with the Remote Server.
Load that into your vertical scrollbar routine and see who hits the red
switch first!
The recommended way of dealing with this is to change your Scope code to
filter expressions instead.

Since I didn't want to rewrite all my browses and coordinate the other
filters that were applied as well as scopes, I re-wrote the adsKeyCount()
function.
When asked to RESPECT_SCOPES, my new wrapper goes to top of scope and skips
to count -- 0.01 seconds for those 26 records, even with the Local Server.
They definitely optimized the Skip when no
data is accessed.

Moral of the story: Try to write code for AOFs (Optimized Filters) to
optimize data access with ADS, not scopes.
The common usage of a scope is fine; go top, skip while !eof, go bottom all
work fine so it's OK to use it.
But there is one other unusual glitch to avoid if you have large databases:
The Scope is handle on the Client, not the Remote Server where the Filter is
handled.  If skipping through a scoped set and the last record of that set
does NOT pass the filter test, the server will skip over it and continue
examining all records until it finds one that passes the test--even though
it's beyond the scope.  Moral:  Build the scope conditions into the filter
instead.  It will be fast and well optimized.

Brian Hays
P.S. For those Vertical scrollbars, be sure to use AdsGetRelKeyPos() and
AdsSetRelKeyPos().  I can grab the thumb and drag it anywhere in that
300,000 record database.  When I drop the thumb the browse paints in a
second.
It would be a good idea to add these functions to the standard RDD--get or
set a relative position between 0 and 1....


From harbour@matrixlist.com  Wed Apr  4 05:18:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr  4 04:18:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <20010404084347.Y13639@hagbard.davep.org>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEAADLAA.Ron@Profit-Master.com>

> When did you last open a HotMail account? How long as the passport service
> been in operation?

I can't be sure, but seems like mid 2000.

> I wasn't disagreeing with or speaking about the IP angle, I was simply
> pointing out that my experience last week suggested that your observation
> that anyone with a Hotmail account might be affected by this.

My concern was with those covered by the Passport "Terms of Use" agreement.
HotMail and MSN subscribers are just some examples of those likely to be
covered. FWIW, many transaction on msdn.microsoft.com, like ordering beta
CDs, etc. REQUIRE Passport account too.

Ron



From harbour@matrixlist.com  Wed Apr  4 05:22:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Wed Apr  4 04:22:01 2001
Subject: [Harbour] CHANGELOG: 2001-04-04 01:20 UTC-0800
Message-ID: <001701c0bce1$2b140650$921a5e18@bh>

2001-04-04 01:20 UTC-0800 Brian Hays <bhays@abacuslaw.com>
   * source/vm/dynsym.c
      * added test for spaces to hb_dynsymFindName so
        padded symbols are found now.
        A few tests indicated NO speed loss
        (Thanks, Ron, I used yours when the speed test
         showed no difference)

   * contrib/rdd_ads/ads1.c
      * Fixed bug in GetValue where child areas returned blank fields

   * contrib/rdd_ads/adsfunc.c
      * rewrote adsGetKeyCount to walk the scope by hand


Brian Hays



From harbour@matrixlist.com  Wed Apr  4 05:23:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr  4 04:23:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEAADLAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEAADLAA.Ron@Profit-Master.com>

> > When did you last open a HotMail account? How long as the
> passport service
> > been in operation?
>
> I can't be sure, but seems like mid 2000.

That answered your first question. I don't know when was Passport first in
operation.


From harbour@matrixlist.com  Wed Apr  4 13:29:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr  4 12:29:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEPMDKAA.Ron@Profit-Master.com>
References: <200104032344.f33NiUP00895@smtp.parrett.net>
Message-ID: <200104041626.f34GQ8e01095@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Tue, 3
Apr 2001 18:26:57 -0700

> BTW, what do you mean by "with the possible exception of using Web Mail"?
> The HotMail service is by definition WebMail, is it not?

Perhaps so, but I don't use HotMail. In any case, you kept referring to
*both* MSN *and* HotMail and MSN is *not* by definition WebMail.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr  4 13:34:02 2001
From: harbour@matrixlist.com (Mark W. Schumann)
Date: Wed Apr  4 12:34:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104041626.f34GQ8e01095@smtp.parrett.net>; from dholm@jsd-llc.com on Wed, Apr 04, 2001 at 12:28:46PM -0400
References: <200104032344.f33NiUP00895@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKCEPMDKAA.Ron@Profit-Master.com> <200104041626.f34GQ8e01095@smtp.parrett.net>
Message-ID: <20010404123448.A11149@columbus.private.underflap.com>

On Wed, Apr 04, 2001 at 12:28:46PM -0400, David G. Holm wrote:
> ** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Tue, 3
> Apr 2001 18:26:57 -0700
> 
> > BTW, what do you mean by "with the possible exception of using Web Mail"?
> > The HotMail service is by definition WebMail, is it not?
> 
> Perhaps so, but I don't use HotMail. In any case, you kept referring to
> *both* MSN *and* HotMail and MSN is *not* by definition WebMail.

Hi, gang.  Delurking for a minute.

By any normal definition, MSN is not part of something you'd call the
"Passport Website."

But I seem to recall someone posting here that according to the license
that MS is publishing, the "Passport Website" includes a lot of things
that don't run over HTTP and wouldn't normally be called a "website."

I think it might be one of those things where words mean what lawyers
say they mean, not what you and I might consider normal definitions.

I'll go back to lurking now.


From harbour@matrixlist.com  Wed Apr  4 13:35:04 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr  4 12:35:04 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEPMDKAA.Ron@Profit-Master.com>
References: <200104032344.f33NiUP00895@smtp.parrett.net>
Message-ID: <200104041631.f34GVLe01493@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Tue, 3
Apr 2001 18:26:57 -0700

> Both MSN and HotMail utilize the passport.com services for authentication.
> Please note the Passport Terms of Use *start* as follows:
> 
> "
> The Microsoft Passport Web Site is comprised of a Web site and its
> associated services and is operated by Microsoft Corporation ("Microsoft").
> "
> 
> Please note "and its associated services". I am fairly confident that
> HotMail emails are subject to the passport terms, because they rely on
> passport authentication services.

Please not what it says in the "License to Microsoft" section of the
Passport Terms of Use:

> By posting messages, uploading files, inputting data, submitting any
> feedback or suggestions, or engaging in any other form of communication
> with or through the Passport Web Site, you warrant and represent that
> you own or otherwise control the rights necessary to do so and you are
> granting Microsoft and its affiliated companies permission to:

There is no mention of "services". There is only mention of
communication with or through the Passport Web Site. Passport
authentication does not involve sending the communication to or through
the Passport Web Site, so the license terms clearly do not apply to MSN
email sent using the user's email program.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr  4 13:39:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr  4 12:39:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <01040323035703.09013@hp.barnett.home.com>
References: <200104031755.f33HtTP03747@smtp.parrett.net> <200104031825.f33IPTP06159@smtp.parrett.net>
 <200104032007.f33K7cP14735@smtp.parrett.net> <200104032007.f33K7cP14735@smtp.parrett.net>
Message-ID: <200104041635.f34GZRe01949@smtp.parrett.net>

** Reply to message from Phil Barnett <midnight@the-oasis.net> on Tue,
3 Apr 2001 23:03:57 -0400

> For now, it's best to know about it and be aware, but current opinion 
> runs counter to what you are saying. It is a threat to GPL code and it 
> appears to be specifically designed to be such a threat.

If this turns out to be the case, then you certainly can't credit
Microsoft with coming up with this, because Yahoo! had such terms first.
So why is there no LEAP furor over the Yahoo! terms of use? (Remember,
Yahoo!'s "clarification" did *not* actually *change* their terms of use,
which are the same as they were when the hubub over their change in
terms first came up.)
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr  4 13:41:03 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr  4 12:41:03 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <01040400015504.09013@hp.barnett.home.com>
References: <200104031755.f33HtTP03747@smtp.parrett.net> <200104032007.f33K7cP14735@smtp.parrett.net>
 <01040323035703.09013@hp.barnett.home.com> <01040323035703.09013@hp.barnett.home.com>
Message-ID: <200104041637.f34Gbve02167@smtp.parrett.net>

** Reply to message from Phil Barnett <midnight@the-oasis.net> on Wed,
4 Apr 2001 00:01:55 -0400

> Windows XP will integrate the Windows authentication system with the 
> Passport authentication system, so a user can log onto Windows XP a 
> single time and also be logged onto Passport and therefore be able to 
> receive HailStorm services without an additional logon process.
> 
> ------------
> 
> Hmmm, so now you have to also be sure not
> to use Windows XP for anything involving
> intellectual property!....

Oh, please! This is complete and utter *nonsense*! You guys need to
reread the Passport Terms of Use. The mere act of using Passport
authentication (which is just a login shortcut) does *not* activate the
"License to Microsoft" terms, which only apply to communications that
get sent to or through the Passport Web Site.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr  4 13:45:03 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr  4 12:45:03 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEPODKAA.Ron@Profit-Master.com>
References: <20010404070439.O13639@hagbard.davep.org>
Message-ID: <200104041641.f34GfLe02448@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Tue, 3
Apr 2001 23:31:44 -0700

> HotMail does rely on Passport when authenticating all accounts that did NOT refuse the Passport option.

So now that it is *obvious* that HotMail does not actually *send* email
to or through the Passport Web Site and merely uses it to authenticate
the user, it is *clear* that the "License to Microsoft" terms of the
Passport Terms of Use agreement do *not* apply to email sent via MSN
*or* HotMail, regardless of the means used to send such email.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr  4 13:48:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr  4 12:48:02 2001
Subject: [Harbour] ADS and scopes
In-Reply-To: <000901c0bce0$0c873e60$921a5e18@bh>
Message-ID: <200104041644.f34Gike02755@smtp.parrett.net>

** Reply to message from "Brian Hays" <bhays@abacuslaw.com> on Wed, 4
Apr 2001 01:20:03 -0700

> Here's a little warning/observation for those of us using ADS:

Thanks for that information. I've not run into any performance problems
with ADS scopes yet, but now I'll know where to look if I do...
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr  4 14:11:03 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr  4 13:11:03 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104041641.f34GfLe02448@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKMEADDLAA.Ron@Profit-Master.com>

David,

> > HotMail does rely on Passport when authenticating all accounts
> that did NOT refuse the Passport option.
>
> So now that it is *obvious* that HotMail does not actually *send* email
> to or through the Passport Web Site and merely uses it to authenticate
> the user, it is *clear* that the "License to Microsoft" terms of the
> Passport Terms of Use agreement do *not* apply to email sent via MSN
> *or* HotMail, regardless of the means used to send such email.

Obvious? How is that obvious?

You are entitled to your opinion, but I believe you are being naive. If the
first paragraph of the Passport "Terms of Use" agreement reads:

"
The Microsoft Passport Web Site is comprised of a Web site and its
associated services and is operated by Microsoft Corporation ("Microsoft").
"

To me it seems perfectly clear that Microsoft considers *any* *and* *all*
Passport services an integral part of the Passport web site. I am also
confident, this language was inserted specifically to DO cover all
communications authenticated by passport (OR ELSE WHY WOULD THEY CLAIM SUCH
SERVICES ARE INTEGRAL PART OF THE WEB SITE?).

I don't suppose you know exactly what information is sent "to or through"
the passport web site (and /or its related services) do you? Authentication
services are not explicitly EXCLUDED from this agreement, right? What makes
you so confident then?

Ron


From harbour@matrixlist.com  Wed Apr  4 14:29:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Wed Apr  4 13:29:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKMEADDLAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Wed, Apr 04, 2001 at 10:14:35AM -0700
References: <200104041641.f34GfLe02448@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKMEADDLAA.Ron@Profit-Master.com>
Message-ID: <20010404182801.H25493@hagbard.davep.org>

On Wed, Apr 04, 2001 at 10:14:35AM -0700, Ron Pinkas wrote:

> I don't suppose you know exactly what information is sent "to or through"
> the passport web site (and /or its related services) do you?
> Authentication services are not explicitly EXCLUDED from this agreement,
> right? What makes you so confident then?

David seems to be saying that, even if the passport site is (for example)
used to provide auth information to your POP3/IMAP/SMTP service it doesn't
follow that any email that flows between you and your POP3/IMAP/SMTP server
then falls within the Passport T&C because that data didn't travel via
passport. This seems like a reasonable reading of the situation.

I would assume that his confidence isn't shaken because nobody has
demonstrated that the T&C say otherwise or that the passport service can and
will in some way "tunnel" said POP3/IMAP/SMTP connection via it's site.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Wed Apr  4 14:37:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr  4 13:37:01 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKMEADDLAA.Ron@Profit-Master.com>
References: <200104041641.f34GfLe02448@smtp.parrett.net>
Message-ID: <200104041733.f34HXMe06604@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Wed, 4
Apr 2001 10:14:35 -0700

> Obvious? How is that obvious?

You have direct evidence from a person (Dave Pearson) who has a HotMail
account, but does not use any Passport services.

> You are entitled to your opinion, but I believe you are being naive. If the
> first paragraph of the Passport "Terms of Use" agreement reads:
> 
> "
> The Microsoft Passport Web Site is comprised of a Web site and its
> associated services and is operated by Microsoft Corporation ("Microsoft").
> "

So? It is still *only* communciations with or through Passport that
fall under the "License to Microsoft" terms of the Passport Terms of
Use, even with the above definition of "Passport Web Site". And seeing
as how those services do *not* include MSN's or HotMail's mail servers,
there is *no* way that MSN or HotMail is subject to those terms.

If you don't believe me that it is *obvious* that the only
communication between HotMail and Passport is the user authentication,
then just go ahead and look at the full headers of any email from
"Alejandro de Garate" <alex_degarate@hotmail.com>. You will see *no*
mention of Passport.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr  4 14:38:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr  4 13:38:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <20010404182801.H25493@hagbard.davep.org>
References: <200104041641.f34GfLe02448@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKMEADDLAA.Ron@Profit-Master.com>
 <LOBBKAFMMFGJIKLMEPAKMEADDLAA.Ron@Profit-Master.com> ; from Ron@Profit-Master.com on Wed, Apr 04, 2001 at 10:14:35AM -0700
Message-ID: <200104041735.f34HZ6e06735@smtp.parrett.net>

** Reply to message from Dave Pearson <davep@davep.org> on Wed, 4 Apr
2001 18:28:01 +0100

> I would assume that his confidence isn't shaken because nobody has
> demonstrated that the T&C say otherwise or that the passport service can and
> will in some way "tunnel" said POP3/IMAP/SMTP connection via it's site.

You got it!
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr  4 14:41:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr  4 13:41:01 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <01040323035703.09013@hp.barnett.home.com>
References: <200104031755.f33HtTP03747@smtp.parrett.net> <200104031825.f33IPTP06159@smtp.parrett.net>
 <200104032007.f33K7cP14735@smtp.parrett.net> <200104032007.f33K7cP14735@smtp.parrett.net>
Message-ID: <200104041737.f34Hbwe06973@smtp.parrett.net>

** Reply to message from Phil Barnett <midnight@the-oasis.net> on Tue,
3 Apr 2001 23:03:57 -0400

> For now, it's best to know about it and be aware, but current opinion 
> runs counter to what you are saying. It is a threat to GPL code and it 
> appears to be specifically designed to be such a threat.

Specifically designed to be a threat to GPL code? Oh, please! If things
are as LEAP claims, then the threat is not so much to GPL code, which is
distributed freely, as it is to commercial software that happens to
traverse the Passport Web Site. If Microsoft were to claim that GPL code
that traverses the Passport Web Site is theirs to do with as they
please, then the only real harm done would be to the egos of the
authors, whereas if Microsoft were to claim that commercial software
that traverses the Passport Web Site is theirs to do with as they
please, then there could be substantial financial repercussions to the
original developer of said software.

But Passport is an authentication service and there is no need to send
an entire email message to or through Passport to authenticate the user
who is sending the email. And if you look at the Received: headers in a
hotmail email, you will find that the email did *not* traverse Passport.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr  4 14:53:02 2001
From: harbour@matrixlist.com (Norberto Lara)
Date: Wed Apr  4 13:53:02 2001
Subject: [Harbour] Error in build classes
References: <200104041644.f34Gike02755@smtp.parrett.net>
Message-ID: <000901c0bd30$ac89dd50$080000bc@terminalx>

Hi

I am converting my classes of fivewin 2.1 to fivewin for harbour and receive
the errros :

.....

DATA cCargo AS STRING INIT [] --> parse error
DATA nTimeout AS NUMBER --> parse error
....
ENDCLASS --> parse error on endif ?????
.....
METHOD x CLASS y --> parse error at ____
...
METHOD x CLASS y
.....
LOCAL n := 0 --> LOCAL declaration follows executable statment


This code works ok with clipper 5.3b and fivewin 2.1.

Thanks
Norberto


From harbour@matrixlist.com  Wed Apr  4 15:37:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr  4 14:37:02 2001
Subject: [Harbour] Error in build classes
In-Reply-To: <000901c0bd30$ac89dd50$080000bc@terminalx>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEAFDLAA.Ron@Profit-Master.com>

Norberto,

You need to change AS NUMBER to AS NUMERIC and change Method X Class Y to
Method X() Class Y.

This will compile:

//------------------------------
#include "hbclass.ch"

CLASS y

   DATA cCargo AS STRING INIT []
   DATA nTimeout AS NUMERIC

ENDCLASS

METHOD x() CLASS y

   LOCAL n := 0

RETURN n
//------------------------------

Antonio might need to add a #translate AS NUMBER => AS NUMERIC

J.F. need to look at METHOD <cMethod> CLASS <cClass> syntax.

Ron

> Hi
>
> I am converting my classes of fivewin 2.1 to fivewin for harbour
> and receive
> the errros :
>
> .....
>
> DATA cCargo AS STRING INIT [] --> parse error
> DATA nTimeout AS NUMBER --> parse error
> ....
> ENDCLASS --> parse error on endif ?????
> .....
> METHOD x CLASS y --> parse error at ____
> ...
> METHOD x CLASS y
> .....
> LOCAL n := 0 --> LOCAL declaration follows executable statment
>
>
> This code works ok with clipper 5.3b and fivewin 2.1.
>
> Thanks
> Norberto


From harbour@matrixlist.com  Wed Apr  4 16:32:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr  4 15:32:02 2001
Subject: [Harbour] running dbu ...
In-Reply-To: <3ACACE29.394D4826@teledetection.fr>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEAGDLAA.Ron@Profit-Master.com>

Hi Guy,

I tried with Clipper 5.2 DBU sources as well as Clipper 5.3 and in both
cases DBU opens, but then when pressing ENTER the "Open data file..." Dialog
opens, but does NOT highlight any file as it does in Clipper.

Pressing one more ENTER does activate the highlight and navigation.

Pressing ENTER on a file name does forward the File Name to the left side
(File) and highlights the "Ok" Button, but, pressing ENTER will produce an
"Error DBF/1022 Lock Required" Dialog.

Pressing ENTER on the "Quit"  Button produces this:

----------------------------------------es
Total memory allocated: 101318 bytes (2564 blocks)--
WARNING! Memory allocated but not released: 40 bytes (1 blocks)
source\vm\fm.c:425: HB_TR_ERROR Block 1 (size 40) MULTIBOX(384)
Called from SET_VIEW(247

Are you able to open any DBF without modifying sources of DBU?

Ron

> Hello,
>
> Now, when i run dbu (compiled with last cvs, simplex, bcc55) i
> get this error :
> Unrecoverable error 9006: hb_xgrab can't allocate memory
> Called from XARRAY_DIR(2958)
> Called from DBU(674)


From harbour@matrixlist.com  Wed Apr  4 16:57:02 2001
From: harbour@matrixlist.com (Norberto Lara)
Date: Wed Apr  4 15:57:02 2001
Subject: [Harbour] Error in build classes
References: <LOBBKAFMMFGJIKLMEPAKEEAFDLAA.Ron@Profit-Master.com>
Message-ID: <000901c0bd41$ebbba100$080000bc@terminalx>

Ron,

Thanks, AS NUMERIC works ok, but AS STRING receive the error, you test with
last harbour version ? (.36)
ENDCLASS receive error too.

Norberto

----- Original Message -----
From: "Ron Pinkas" <Ron@Profit-Master.com>
To: <harbour@matrixlist.com>
Sent: Wednesday, April 04, 2001 3:41 PM
Subject: RE: [Harbour] Error in build classes


> Norberto,
>
> You need to change AS NUMBER to AS NUMERIC and change Method X Class Y to
> Method X() Class Y.
>
> This will compile:
>
> //------------------------------
> #include "hbclass.ch"
>
> CLASS y
>
>    DATA cCargo AS STRING INIT []
>    DATA nTimeout AS NUMERIC
>
> ENDCLASS
>
> METHOD x() CLASS y
>
>    LOCAL n := 0
>
> RETURN n
> //------------------------------
>
> Antonio might need to add a #translate AS NUMBER => AS NUMERIC
>
> J.F. need to look at METHOD <cMethod> CLASS <cClass> syntax.
>
> Ron
>
> > Hi
> >
> > I am converting my classes of fivewin 2.1 to fivewin for harbour
> > and receive
> > the errros :
> >
> > .....
> >
> > DATA cCargo AS STRING INIT [] --> parse error
> > DATA nTimeout AS NUMBER --> parse error
> > ....
> > ENDCLASS --> parse error on endif ?????
> > .....
> > METHOD x CLASS y --> parse error at ____
> > ...
> > METHOD x CLASS y
> > .....
> > LOCAL n := 0 --> LOCAL declaration follows executable statment
> >
> >
> > This code works ok with clipper 5.3b and fivewin 2.1.
> >
> > Thanks
> > Norberto
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@matrixlist.com  Wed Apr  4 16:59:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr  4 15:59:01 2001
Subject: [Harbour] running dbu ...
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEAGDLAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEAGDLAA.Ron@Profit-Master.com>

Guy,

My problem was with memvars matching field names (state) not prefixed with
M->. I added -V to compile switches and now I am able to open files, browse,
etc., and I don't experience the ERROR you reported.

Ron

> Hi Guy,
>
> I tried with Clipper 5.2 DBU sources as well as Clipper 5.3 and in both
> cases DBU opens, but then when pressing ENTER the "Open data
> file..." Dialog
> opens, but does NOT highlight any file as it does in Clipper.
>
> Pressing one more ENTER does activate the highlight and navigation.
>
> Pressing ENTER on a file name does forward the File Name to the left side
> (File) and highlights the "Ok" Button, but, pressing ENTER will produce an
> "Error DBF/1022 Lock Required" Dialog.
>
> Pressing ENTER on the "Quit"  Button produces this:
>
> ----------------------------------------es
> Total memory allocated: 101318 bytes (2564 blocks)--
> WARNING! Memory allocated but not released: 40 bytes (1 blocks)
> source\vm\fm.c:425: HB_TR_ERROR Block 1 (size 40) MULTIBOX(384)
> Called from SET_VIEW(247
>
> Are you able to open any DBF without modifying sources of DBU?
>
> Ron
>
> > Hello,
> >
> > Now, when i run dbu (compiled with last cvs, simplex, bcc55) i
> > get this error :
> > Unrecoverable error 9006: hb_xgrab can't allocate memory
> > Called from XARRAY_DIR(2958)
> > Called from DBU(674)


From harbour@matrixlist.com  Wed Apr  4 17:03:02 2001
From: harbour@matrixlist.com (Alex Schaft)
Date: Wed Apr  4 16:03:02 2001
Subject: [Harbour] Error in build classes
References: <LOBBKAFMMFGJIKLMEPAKEEAFDLAA.Ron@Profit-Master.com> <000901c0bd41$ebbba100$080000bc@terminalx>
Message-ID: <006601c0bd41$e69014e0$c801010a@schaft.co.za>

Try AS CHARACTER.

HTH,
Alex

----- Original Message -----
From: "Norberto Lara" <nnsystem@zaz.com.br>
To: <harbour@matrixlist.com>
Sent: Wednesday, April 04, 2001 10:00 PM
Subject: Re: [Harbour] Error in build classes


> Ron,
>
> Thanks, AS NUMERIC works ok, but AS STRING receive the error, you test
with
> last harbour version ? (.36)
> ENDCLASS receive error too.
>
> Norberto
>
> ----- Original Message -----
> From: "Ron Pinkas" <Ron@Profit-Master.com>
> To: <harbour@matrixlist.com>
> Sent: Wednesday, April 04, 2001 3:41 PM
> Subject: RE: [Harbour] Error in build classes
>
>
> > Norberto,
> >
> > You need to change AS NUMBER to AS NUMERIC and change Method X Class Y
to
> > Method X() Class Y.
> >
> > This will compile:
> >
> > //------------------------------
> > #include "hbclass.ch"
> >
> > CLASS y
> >
> >    DATA cCargo AS STRING INIT []
> >    DATA nTimeout AS NUMERIC
> >
> > ENDCLASS
> >
> > METHOD x() CLASS y
> >
> >    LOCAL n := 0
> >
> > RETURN n
> > //------------------------------
> >
> > Antonio might need to add a #translate AS NUMBER => AS NUMERIC
> >
> > J.F. need to look at METHOD <cMethod> CLASS <cClass> syntax.
> >
> > Ron
> >
> > > Hi
> > >
> > > I am converting my classes of fivewin 2.1 to fivewin for harbour
> > > and receive
> > > the errros :
> > >
> > > .....
> > >
> > > DATA cCargo AS STRING INIT [] --> parse error
> > > DATA nTimeout AS NUMBER --> parse error
> > > ....
> > > ENDCLASS --> parse error on endif ?????
> > > .....
> > > METHOD x CLASS y --> parse error at ____
> > > ...
> > > METHOD x CLASS y
> > > .....
> > > LOCAL n := 0 --> LOCAL declaration follows executable statment
> > >
> > >
> > > This code works ok with clipper 5.3b and fivewin 2.1.
> > >
> > > Thanks
> > > Norberto
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@matrixlist.com
> > http://www.matrixlist.com/mailman/listinfo/harbour
> >
> > Thank you for participating in The Harbour Project.  Be sure to check
> > http://www.Harbour-Project.org
> >
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>
>


From harbour@matrixlist.com  Wed Apr  4 17:05:03 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr  4 16:05:03 2001
Subject: [Harbour] Error in build classes
In-Reply-To: <000901c0bd41$ebbba100$080000bc@terminalx>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEAHDLAA.Ron@Profit-Master.com>

Norberto,

My sample DOSE compile (as is) here, no problem with the latest CVS code
(2001-04-04 01:20 UTC-0800 Brian Hays <bhays@abacuslaw.com>)

I tried both Flex and SimpLex without any problem

Ron

> Ron,
>
> Thanks, AS NUMERIC works ok, but AS STRING receive the error, you
> test with
> last harbour version ? (.36)
> ENDCLASS receive error too.
>
> Norberto
>
> ----- Original Message -----
> From: "Ron Pinkas" <Ron@Profit-Master.com>
> To: <harbour@matrixlist.com>
> Sent: Wednesday, April 04, 2001 3:41 PM
> Subject: RE: [Harbour] Error in build classes
>
>
> > Norberto,
> >
> > You need to change AS NUMBER to AS NUMERIC and change Method X
> Class Y to
> > Method X() Class Y.
> >
> > This will compile:
> >
> > //------------------------------
> > #include "hbclass.ch"
> >
> > CLASS y
> >
> >    DATA cCargo AS STRING INIT []
> >    DATA nTimeout AS NUMERIC
> >
> > ENDCLASS
> >
> > METHOD x() CLASS y
> >
> >    LOCAL n := 0
> >
> > RETURN n
> > //------------------------------
> >
> > Antonio might need to add a #translate AS NUMBER => AS NUMERIC
> >
> > J.F. need to look at METHOD <cMethod> CLASS <cClass> syntax.
> >
> > Ron
> >
> > > Hi
> > >
> > > I am converting my classes of fivewin 2.1 to fivewin for harbour
> > > and receive
> > > the errros :
> > >
> > > .....
> > >
> > > DATA cCargo AS STRING INIT [] --> parse error
> > > DATA nTimeout AS NUMBER --> parse error
> > > ....
> > > ENDCLASS --> parse error on endif ?????
> > > .....
> > > METHOD x CLASS y --> parse error at ____
> > > ...
> > > METHOD x CLASS y
> > > .....
> > > LOCAL n := 0 --> LOCAL declaration follows executable statment
> > >
> > >
> > > This code works ok with clipper 5.3b and fivewin 2.1.
> > >
> > > Thanks
> > > Norberto
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@matrixlist.com
> > http://www.matrixlist.com/mailman/listinfo/harbour
> >
> > Thank you for participating in The Harbour Project.  Be sure to check
> > http://www.Harbour-Project.org
> >
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@matrixlist.com  Wed Apr  4 17:10:03 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr  4 16:10:03 2001
Subject: [Harbour] Error in build classes
In-Reply-To: <000901c0bd41$ebbba100$080000bc@terminalx>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEAHDLAA.Ron@Profit-Master.com>

Norberto,

You must be using FWH!!!

I posted some fix for FWH which fixes this problem, because of conflict with
#DEFINEs that Antonio has for formal parameters to DLL calls.

I'm not sure why Antonio, did not include this safe fix (Antonio?).

In your case you may avoid the error by using [AS String] instead of [AS
STRING] (because #define is case sensitive).

Ron

> Ron,
>
> Thanks, AS NUMERIC works ok, but AS STRING receive the error, you
> test with
> last harbour version ? (.36)
> ENDCLASS receive error too.
>
> Norberto


From harbour@matrixlist.com  Wed Apr  4 17:39:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr  4 16:39:01 2001
Subject: [Harbour] FiveWin corrections (Antonio, FW Users)
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEAIDLAA.Ron@Profit-Master.com>

This is a multi-part message in MIME format.

------=_NextPart_000_000E_01C0BD0D.17ECE700
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Antonio, FW Users,

Here is a fixed fw*\include\dll.ch and a file called fw_ntype.prg

Steps:

1. Rename \include\dll.ch to dll.old
2. Copy attached dll.new to \include\dll.ch
3. Copy attached fw_ntype.prg to \source\function
4. compile \source\function\fw_ntype.prg with /n, and add fw_ntype.obj to
five[h].lib

With this correction, DLL calls can use either "int" or "_int" and "double"
or "_double", and *no* longer require the types to be in UPPERCASE!

And most of all with this fix, FW[H] users are no longer restricted from
using currently reserved words:

   VOID
   BYTE
   CHAR
   WORD
   _INT
   BOOL
   HDC
   LONG
   STRING
   LPSTR
   PTR
   _DOUBLE
   DWORD

To demonstrate the problem just try this:

//-----------------------------------------------
#include "fivewin.ch"

Procedure Main()

   LOCAL STRING // Parse error even with Clipper!!!

RETURN
//-----------------------------------------------

Before my fix you can't use any Variable Named (case sensitive) as one of
the above FW Reserved Words. After my fix this is no longer a problem.

Antonio, this is the 3rd. time (I hope last) I forward this fix...

Ron

------=_NextPart_000_000E_01C0BD0D.17ECE700
Content-Type: application/octet-stream;
	name="fw_ntype.prg"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="fw_ntype.prg"

//-----------------------------------------------------------------------=
-----//

FUNCTION FW_cType2nType( cType )

   cType :=3D Upper( cType )

   DO CASE
      CASE cType =3D=3D 'VOID'
         RETURN 0

      CASE cType =3D=3D 'BYTE'
         RETURN 1

      CASE cType =3D=3D 'CHAR'
         RETURN 2

   #ifndef __XPP__
      CASE cType =3D=3D 'WORD'
         RETURN 3

      CASE cType =3D=3D '_INT'
         RETURN 4

      CASE cType =3D=3D 'INT'
         RETURN 4
   #else
      CASE cType =3D=3D 'WORD'
         RETURN 7

      CASE cType =3D=3D '_INT'
         RETURN 7

      CASE cType =3D=3D 'INT'
         RETURN 7
   #endif

      CASE cType =3D=3D 'BOOL'
         RETURN 5

      CASE cType =3D=3D 'HDC'
         RETURN 6

      CASE cType =3D=3D 'LONG'
         RETURN 7

      CASE cType =3D=3D 'STRING'
         RETURN 8

      CASE cType =3D=3D 'LPSTR'
         RETURN 9

      CASE cType =3D=3D 'PTR'
         RETURN 10

      CASE cType =3D=3D '_DOUBLE'
         RETURN 11

      CASE cType =3D=3D 'DOUBLE'
         RETURN 11

      CASE cType =3D=3D 'DWORD'
         RETURN 12
   ENDCASE

RETURN 0

//-----------------------------------------------------------------------=
-----//

------=_NextPart_000_000E_01C0BD0D.17ECE700
Content-Type: application/octet-stream;
	name="DLL.new"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="DLL.new"

// Copyright FiveTech 1993-8

#ifndef _DLL_CH
   #define _DLL_CH

   /*
   #ifndef _C_TYPES
      #define _C_TYPES
      #define VOID     0
      #define BYTE     1
      #define CHAR     2

      #ifdef __CLIPPER__
         #define WORD     3
         #define _INT     4         // conflicts with Clipper Int()
      #else
         #define WORD     7
         #define _INT     7
      #endif

      #define BOOL     5
      #define HDC      6
      #define LONG     7
      #define STRING   8
      #define LPSTR    9
      #define PTR     10
      #define _DOUBLE 11         // conflicts with BORDER DOUBLE
      #define DWORD   12
   #endif
   */

   #translate NOREF([@]<x>) =3D> <x>

   #ifndef __HARBOUR__
      #ifndef __XPP__
         #ifndef __CLIPPER__
            #define __CLIPPER__
         #endif
      #endif
   #endif

   #ifndef __CLIPPER__
      #translate DLL32 =3D> DLL
   #endif

   =
//-----------------------------------------------------------------------=
-----//

   #xcommand DLL [<static:STATIC>] FUNCTION <FuncName>( [ <uParam1> AS =
<type1> ] ;
                                                   [, <uParamN> AS =
<typeN> ] ) ;
          AS <return> [<pascal:PASCAL>] [ FROM <SymName> ] LIB =
<*DllName*> ;
   =3D> ;
        [<static>] function <FuncName>( [NOREF(<uParam1>)] =
[,NOREF(<uParamN>)] ) ;;
           local hDLL :=3D If( ValType( <DllName> ) =3D=3D "N", =
<DllName>, LoadLibrary( <(DllName)> ) ) ;;
           local uResult ;;
           local cFarProc ;;
           if Abs( hDLL ) > 32 ;;
              cFarProc =3D GetProcAddress( hDLL,;
              If( [ Empty( <SymName> ) =3D=3D ] .t., <(FuncName)>, =
<SymName> ),;
              [<.pascal.>], FW_cType2nType(<"return">) =
[,FW_cType2nType(<"type1">)] [,FW_cType2nType(<"typeN">)] ) ;;
              uResult =3D CallDLL( cFarProc [,<uParam1>] [,<uParamN>] ) =
;;
              If( ValType( <DllName> ) =3D=3D "N",, FreeLibrary( hDLL ) =
) ;;
           else ;;
              MsgAlert( "Error code: " + LTrim( Str( hDLL ) ) + " =
loading " + <DllName> ) ;;
           end ;;
      return uResult

   =
//-----------------------------------------------------------------------=
-----//

   #xcommand DLL32 [<static:STATIC>] FUNCTION <FuncName>( [ <uParam1> AS =
<type1> ] ;
                                                   [, <uParamN> AS =
<typeN> ] ) ;
          AS <return> [<pascal:PASCAL>] [ FROM <SymName> ] LIB =
<*DllName*> ;
   =3D> ;
        [<static>] function <FuncName>( [NOREF(<uParam1>)] =
[,NOREF(<uParamN>)] ) ;;
           local hDLL :=3D If( ValType( <DllName> ) =3D=3D "N", =
<DllName>, LoadLib32( <(DllName)> ) ) ;;
           local uResult ;;
           local cFarProc ;;
           if Abs( hDLL ) <=3D 32 ;;
              MsgAlert( "Error code: " + LTrim( Str( hDLL ) ) + " =
loading " + <DllName> ) ;;
           else ;;
              cFarProc =3D GetProc32( hDLL,;
              If( [ Empty( <SymName> ) =3D=3D ] .t., <(FuncName)>, =
<SymName> ),;
              [<.pascal.>], FW_nType(<"return">) [,FW_nType(<"type1">)] =
[,FW_nType(<"typeN">)] ) ;;
              uResult =3D CallDLL32( cFarProc [,<uParam1>] [,<uParamN>] =
) ;;
              If( ValType( <DllName> ) =3D=3D "N",, FreeLib32( hDLL ) ) =
;;
           end ;;
        return uResult

   =
//-----------------------------------------------------------------------=
-----//
#endif

------=_NextPart_000_000E_01C0BD0D.17ECE700--


From harbour@matrixlist.com  Wed Apr  4 17:50:03 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Wed Apr  4 16:50:03 2001
Subject: [Harbour] FiveWin corrections (Antonio, FW Users)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEAIDLAA.Ron@Profit-Master.com>
Message-ID: <NCBBJKNMIDPJNLJCHCHIIEIHGBAA.harbour@winfakt.com>

Ron,


> Here is a fixed fw*\include\dll.ch and a file called fw_ntype.prg
Thanks!

Antonio, please add this in standard FW[H] Libs.

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)

From harbour@matrixlist.com  Wed Apr  4 18:16:01 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Wed Apr  4 17:16:01 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104041733.f34HXMe06604@smtp.parrett.net>; from dholm@jsd-llc.com on Wed, Apr 04, 2001 at 01:35:59PM -0400
References: <200104041641.f34GfLe02448@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKMEADDLAA.Ron@Profit-Master.com> <200104041733.f34HXMe06604@smtp.parrett.net>
Message-ID: <20010404210337.N25493@hagbard.davep.org>

On Wed, Apr 04, 2001 at 01:35:59PM -0400, David G. Holm wrote:
> ** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Wed, 4
> Apr 2001 10:14:35 -0700
> 
> > Obvious? How is that obvious?
> 
> You have direct evidence from a person (Dave Pearson) who has a HotMail
> account, but does not use any Passport services.

Does not *knowingly* use. You've got to allow for stupidity (I failed to
comprehend the options I was given) or gullibility (there is a conspiracy
and I can't see it) on my part. :)

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Wed Apr  4 19:32:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr  4 18:32:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104041733.f34HXMe06604@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEAJDLAA.Ron@Profit-Master.com>

> > Obvious? How is that obvious?
>
> You have direct evidence from a person (Dave Pearson) who has a HotMail
> account, but does not use any Passport services.

*That* makes it obvious, that ALL or even MOST HotMail Subscribers, are not
"infected" with Passport services, while using their email account?

Are you suggesting that no HotMail Subscriber is using Passport services
while using their email account?

> > "
> > The Microsoft Passport Web Site is comprised of a Web site and its
> > associated services and is operated by Microsoft Corporation
> ("Microsoft").
> > "
>
> So? It is still *only* communciations with or through Passport that
> fall under the "License to Microsoft" terms of the Passport Terms of
> Use, even with the above definition of "Passport Web Site". And seeing
> as how those services do *not* include MSN's or HotMail's mail servers,
> there is *no* way that MSN or HotMail is subject to those terms.

You allow yourself to state with such conviction legal views, that [good]
attorneys would not dare express. It is dangerous for you to do that,
because individuals following your advice might get hurt. Better safe than
sorry!

> If you don't believe me that it is *obvious* that the only
> communication between HotMail and Passport is the user authentication,
> then just go ahead and look at the full headers of any email from
> "Alejandro de Garate" <alex_degarate@hotmail.com>. You will see *no*
> mention of Passport.

David, Passport services are proprietary, and are not part of POP3
protocols, so lack of trace information in email headers should not be
surprising. Such Headers do not show that authentication process took place
at all, right?

You are in no position to determine what takes place between the HotMail
Servers, and the Passport Servers, BEFORE such email is forwarded to its
final destination, using standard protocols.

The very fact that the HotMail User was LOGGED-IN (by Passport) while
sending his email messages (which is a must, in my case) might very well be
considered "to or through", by MS lawyers.

Please remember you are trying to make logical analysis of actions by people
who have determined it is their right to "exploit" your IP, just because it
traveled through their web site (and related services). This is like trying
to find logic in the actions of a mad man. Your chances of understanding
such minds are not something I would bet on.

Ron


From harbour@matrixlist.com  Wed Apr  4 20:53:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr  4 19:53:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEAJDLAA.Ron@Profit-Master.com>
References: <200104041733.f34HXMe06604@smtp.parrett.net>
Message-ID: <200104042350.f34No9e06682@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Wed, 4
Apr 2001 15:35:57 -0700

> David, Passport services are proprietary, and are not part of POP3
> protocols, so lack of trace information in email headers should not be
> surprising. Such Headers do not show that authentication process took place
> at all, right?

How on *earth* can you even *imagine* that MSN or HotMail is going to
send an entire email message, that it is about to send via it's *own*
mail server, to Passport services in order to authenticate that the
sender is who he or she claims to be? Have you no clue as to how user
authentication works? (Apparently *not*, seeing as how you keep claiming
that just because MSN or HotMail use Passport to authenticate their
users, any emails that their users send is covered by the License to
Microsoft section of the Passport Terms of Use, even though such an
email *clearly* fails the qualifications listed in the very *first*
paragraph under said section.)
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr  4 20:58:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr  4 19:58:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEAJDLAA.Ron@Profit-Master.com>
References: <200104041733.f34HXMe06604@smtp.parrett.net>
Message-ID: <200104042354.f34NsEe07150@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Wed, 4
Apr 2001 15:35:57 -0700

> You are in no position to determine what takes place between the HotMail
> Servers, and the Passport Servers, BEFORE such email is forwarded to its
> final destination, using standard protocols.

Any person who understands how email and authentication services work
in general is *indeed* in a position to determine what takes place
between the HotMail and Passport servers as part of the Passport
authentication. Your claims that HotMail is sending the email in its
entirety to Passport as part of a user authentication protocol, just so
that Microsoft can steal the senders intellectual property is utterly
ludicrous.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr  4 20:59:11 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr  4 19:59:11 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEAJDLAA.Ron@Profit-Master.com>
References: <200104041733.f34HXMe06604@smtp.parrett.net>
Message-ID: <200104042355.f34Ntpe07415@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Wed, 4
Apr 2001 15:35:57 -0700

> The very fact that the HotMail User was LOGGED-IN (by Passport) while
> sending his email messages (which is a must, in my case) might very well be
> considered "to or through", by MS lawyers.

This is *clearly* a situation that the "License to Microsoft" part of
the Passport Terms of Use does *not* cover.

> Please remember you are trying to make logical analysis of actions by people
> who have determined it is their right to "exploit" your IP

That is just your baseless interpretation of the motivations behind the
real reason why the Passport Terms of Use have a License to Microsoft
section, which neither of us knows for sure.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr  4 22:22:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr  4 21:22:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104042350.f34No9e06682@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEALDLAA.Ron@Profit-Master.com>

> > David, Passport services are proprietary, and are not part of POP3
> > protocols, so lack of trace information in email headers should not be
> > surprising. Such Headers do not show that authentication
> process took place
> > at all, right?
>
> How on *earth* can you even *imagine* that MSN or HotMail is going to
> send an entire email message, that it is about to send via it's *own*
> mail server, to Passport services in order to authenticate that the
> sender is who he or she claims to be? Have you no clue as to how user
> authentication works? (Apparently *not*, seeing as how you keep claiming
> that just because MSN or HotMail use Passport to authenticate their
> users, any emails that their users send is covered by the License to
> Microsoft section of the Passport Terms of Use, even though such an
> email *clearly* fails the qualifications listed in the very *first*
> paragraph under said section.)

I'm not imagining anything, I simply pointed out that email headers have
nothing to do with the passport service, as you erroneously suggested I
check.

The difference between us is that I never claimed that such email *are*
covered, I'm expressed concern they *might*! It is you who claims to know it
for sure!

All your "*obvious*" "*clearly*" and the like, are nothing more than an
unjustified, and arrogant, display of lack of willingness, to competently
evaluate a serious concern.

Ron


From harbour@matrixlist.com  Wed Apr  4 22:34:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr  4 21:34:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104042354.f34NsEe07150@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEAMDLAA.Ron@Profit-Master.com>

> > You are in no position to determine what takes place between the HotMail
> > Servers, and the Passport Servers, BEFORE such email is forwarded to its
> > final destination, using standard protocols.
>
> Any person who understands how email and authentication services work
> in general is *indeed* in a position to determine what takes place
> between the HotMail and Passport servers as part of the Passport
> authentication. Your claims that HotMail is sending the email in its
> entirety to Passport as part of a user authentication protocol, just so
> that Microsoft can steal the senders intellectual property is utterly
> ludicrous.

Please don't misquote me! I never claimed that "HotMail is sending the email
in its
entirety to Passport as part of a user authentication protocol"! Nor did I
ever claim "just so
that Microsoft can steal the senders intellectual property"!

What is ludicrous is that even after reading a "Terms of Use" Agreement that
explicitly grants Microsoft the right to "exploit" your IP just because it
traveled through their web site, you could  dismiss any such concern.

Ron


From harbour@matrixlist.com  Wed Apr  4 22:40:04 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr  4 21:40:04 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104042355.f34Ntpe07415@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEAMDLAA.Ron@Profit-Master.com>

> > The very fact that the HotMail User was LOGGED-IN (by Passport) while
> > sending his email messages (which is a must, in my case) might
> very well be
> > considered "to or through", by MS lawyers.
>
> This is *clearly* a situation that the "License to Microsoft" part of
> the Passport Terms of Use does *not* cover.

Or, so you claim.

> > Please remember you are trying to make logical analysis of
> actions by people
> > who have determined it is their right to "exploit" your IP
>
> That is just your baseless interpretation of the motivations behind the
> real reason why the Passport Terms of Use have a License to Microsoft
> section, which neither of us knows for sure.

What on earth could justify, everyone giving away, any and all IP they own,
by mere transmitting such IP through the Passport web site?

What in your mind could be "the real reason" which will justify the
inclusion of such outrageous text into ANY web site, or information
transport service, usage agreement?

Ron


From harbour@matrixlist.com  Wed Apr  4 23:00:03 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr  4 22:00:03 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEAMDLAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEANDLAA.Ron@Profit-Master.com>

FWIW,

The passport "Terms of Use" agreement (
http://www.passport.com/Consumer/TermsOfUse.asp )has been modified and the
"License to Microsoft" section has been *removed*, and replaced with this:

------------------------------------------------------------
"
MICROSOFT'S RIGHT TO USE FEEDBACK OR SUGGESTIONS YOU SUBMIT

By submitting any feedback or suggestions to Microsoft concerning the
Passport Web Site or the Passport Service, you warrant and represent that
you own or otherwise control the rights necessary to do so and you are
granting Microsoft and its affiliated companies permission to:


Use, modify, copy, distribute, transmit, publicly display, publicly perform,
reproduce, publish, sublicense, create derivative works from, transfer, or
sell any such feedback or suggestions; and
Sublicense to third parties the unrestricted right to exercise any of the
foregoing rights granted with respect to the feedback or suggestions.
The foregoing grants shall include the right to exploit any proprietary
rights in such feedback or suggestions, including but not limited to rights
under copyright, trademark, service mark or patent laws under any relevant
jurisdiction. No compensation will be paid with respect to Microsoft's use
of the materials contained within such feedback or suggestions. Microsoft is
under no obligation to post or use any materials you may provide and may
remove such materials at any time in Microsoft's sole discretion.

This section is inapplicable to any personally identifiable information that
you provide in connection with your registration for the Passport
Service(s). For terms and conditions governing use of such information and
for more information on how the Passport Service works, please refer to the
Passport Privacy Statement at
http://www.passport.com/Consumer/PrivacyPolicy.asp. This privacy statement
is controlling and overrides any conflicting language contained in these
Terms of Use concerning use of such information.

This section also is inapplicable to any documents, information, or other
data that you upload, transmit or otherwise submit to or through any
Passport-Enabled Properties. Please refer to the terms and conditions for
such Passport-Enabled Properties to determine the rights of the web site or
service provider to such documents, information and/or data.
"
-------------------------------------------------------------

It might have been a prank after all!

I'm satisfied this prove that the text that raised my concern, NEVER should
have belonged in such agreement after all.

I doubt such text exists in Yahoo's or any other legitimate User Agreement
anywhere.

Regardless, the following still exists and is still a cause for some
concern:

"
MODIFICATION OF THESE TERMS OF USE

Microsoft reserves the right to change the terms, conditions, and notices
under which the Passport Web Site and Passport Services are offered. You are
responsible for regularly reviewing these terms and conditions. Continued
use of the Passport Web Site or Passport Services after any such changes
shall constitute your consent to such changes.
"

While I seriously doubt that such text can find its way back again into this
document, and even more, that MS will attempt to capitalize on such change,
technically, we DO allow them ANY CHANGE every time we send a message
(utilizing Passport authentication service) without prior inspection of the
terms at that point in time.

Ron


From harbour@matrixlist.com  Thu Apr  5 02:32:03 2001
From: harbour@matrixlist.com (Phil Barnett)
Date: Thu Apr  5 01:32:03 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104041635.f34GZRe01949@smtp.parrett.net>
References: <200104031755.f33HtTP03747@smtp.parrett.net> <200104032007.f33K7cP14735@smtp.parrett.net> <200104041635.f34GZRe01949@smtp.parrett.net>
Message-ID: <01040501314900.12306@hp.barnett.home.com>

On Wednesday 04 April 2001 12:38 pm, you wrote:
> ** Reply to message from Phil Barnett <midnight@the-oasis.net> on Tue,
> 3 Apr 2001 23:03:57 -0400
>
> > For now, it's best to know about it and be aware, but current opinion
> > runs counter to what you are saying. It is a threat to GPL code and
> > it appears to be specifically designed to be such a threat.
>
> If this turns out to be the case, then you certainly can't credit
> Microsoft with coming up with this, because Yahoo! had such terms
> first. So why is there no LEAP furor over the Yahoo! terms of use?
> (Remember, Yahoo!'s "clarification" did *not* actually *change* their
> terms of use, which are the same as they were when the hubub over their
> change in terms first came up.)

Well, to start off with, Microsoft already has a long track record of 
stealing other people/companies IP. It doesn't matter who thought it up. 
The biggest and most pervasive bully on the block is now using the 
tactic. Perhaps you trust Microsoft. I don't. My feelings about any other 
company don't enter into it. How any other company used this ability has 
little to do with how Microsoft will use it.

I think Microsoft is a heartless and ruthless company that will stop at 
nothing to get an advantage. When I read in their own words that I am 
agreeing to give them a dual license to everything I transmit through 
their system, which includes passport, hotmail, hailstorm,.NET and 
Windows XP, I take it at face value that their intent is to rip me off 
like they have so many other companies/people.

I think Microsoft is a company that has taken a huge hit in the stock 
market and will stop at nothing to get back their market position. I 
think they are panicked over what the GPL is doing to them. I think that 
Microsoft has stolen most of their good ideas from others and I doubt 
that they have any intention of stopping that tactic now.

From harbour@matrixlist.com  Thu Apr  5 03:00:05 2001
From: harbour@matrixlist.com (Phil Barnett)
Date: Thu Apr  5 02:00:05 2001
Subject: [Harbour] Fwd: [LeapList] Fwd: Re: Microsoft Passport "Agreement Between User and Microsoft Corporation"
Message-ID: <01040501594400.12355@hp.barnett.home.com>


----------  Forwarded Message  ----------
Subject: [LeapList] Fwd: Re: Microsoft Passport "Agreement Between User 
and Microsoft Corporation"
Date: Wed, 4 Apr 2001 22:24:45 -0400
From: Steve Litt <slitt@troubleshooters.com>
To: leaplist@lists.leap-cf.org


Here's what RMS said after reading the Passport license

----------  Forwarded Message  ----------
Subject: Re: Microsoft Passport "Agreement Between User and Microsoft
 Corporation" Date: Tue, 3 Apr 2001 06:58:07 -0600 (MDT)
From: Richard Stallman <rms@gnu.org>
To: slitt@troubleshooters.com


These are pretty nasty, but if you upload a copy of GNU Emacs,
Microsoft will be unable to claim that you gave them any permission
which is not in the GPL.  The reason is that you have no legal right
to give them such permission.  Any permission running from you would
be void, just as void as if you signed a specific contract with
Microsoft.

However, every free software author should be careful never to post
the software *himself* on Microsoft Passport.

-------------------------------------------------------

--
Steve Litt
Webmaster, Troubleshooters.Com
http://www.troubleshooters.com
slitt@troubleshooters.com
(Legal Disclaimer) Follow these suggestions at your own risk.




_______________________________________________
LeapList mailing list
LeapList@lists.leap-cf.org
http://www.matrixlist.com/mailman/listinfo/leaplist

-------------------------------------------------------

From harbour@matrixlist.com  Thu Apr  5 05:04:02 2001
From: harbour@matrixlist.com (Guy Roussin)
Date: Thu Apr  5 04:04:02 2001
Subject: [Harbour] running dbu ...
References: <LOBBKAFMMFGJIKLMEPAKOEAGDLAA.Ron@Profit-Master.com>
Message-ID: <3ACC267B.28AB89BD@teledetection.fr>

Sorry Ron, i make a clean and rebuild harbour and now dbu works fine ...

Ron Pinkas wrote:
> 
> Guy,
> 
> My problem was with memvars matching field names (state) not prefixed with
> M->. I added -V to compile switches and now I am able to open files, browse,
> etc., and I don't experience the ERROR you reported.
> 
> Ron
> 
> > Hi Guy,
> >
> > I tried with Clipper 5.2 DBU sources as well as Clipper 5.3 and in both
> > cases DBU opens, but then when pressing ENTER the "Open data
> > file..." Dialog
> > opens, but does NOT highlight any file as it does in Clipper.
> >
> > Pressing one more ENTER does activate the highlight and navigation.
> >
> > Pressing ENTER on a file name does forward the File Name to the left side
> > (File) and highlights the "Ok" Button, but, pressing ENTER will produce an
> > "Error DBF/1022 Lock Required" Dialog.
> >
> > Pressing ENTER on the "Quit"  Button produces this:
> >
> > ----------------------------------------es
> > Total memory allocated: 101318 bytes (2564 blocks)--
> > WARNING! Memory allocated but not released: 40 bytes (1 blocks)
> > source\vm\fm.c:425: HB_TR_ERROR Block 1 (size 40) MULTIBOX(384)
> > Called from SET_VIEW(247
> >
> > Are you able to open any DBF without modifying sources of DBU?
> >
> > Ron
> >
> > > Hello,
> > >
> > > Now, when i run dbu (compiled with last cvs, simplex, bcc55) i
> > > get this error :
> > > Unrecoverable error 9006: hb_xgrab can't allocate memory
> > > Called from XARRAY_DIR(2958)
> > > Called from DBU(674)
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
Guy Roussin
UMR Cemagref-ENGREF Structures et Systmes Spatiaux
Maison de la Tldtection en Languedoc Roussillon
500, rue J.F. Breton
34093 MONTPELLIER Cedex 5

tl: 04.67.54.87.46 fax: 04.67.54.87.00
mailto:guy.roussin@teledetection.fr

From harbour@matrixlist.com  Thu Apr  5 06:15:03 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr  5 05:15:03 2001
Subject: [Harbour] FiveWin corrections (Antonio, FW Users)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEAIDLAA.Ron@Profit-Master.com>
Message-ID: <000501c0bdb0$32ca8200$0f2aa8c0@antonio>

Ron,

Your fix is a very good one but it may break existing
code, this is why we have decided not to include it
by now.

Thanks!

Antonio



From harbour@matrixlist.com  Thu Apr  5 11:24:02 2001
From: harbour@matrixlist.com (Norberto Lara)
Date: Thu Apr  5 10:24:02 2001
Subject: [Harbour] FiveWin corrections (Antonio, FW Users)
References: <000501c0bdb0$32ca8200$0f2aa8c0@antonio>
Message-ID: <000901c0bddc$9e833e70$080000bc@terminalx>

HI

    I solve the errors with :

    AS STRING --> AS String
    METHOD  x ----> METHOD x()
    NUMBER ----> NUMERIC

    but now i have the new one :

        CLASS XXXXXX FROM YYYYY

        EXPORT: <<<<<<<<<< ERROR HERE <<<

 Thanks
Norberto

----- Original Message ----- 
From: "Antonio Linares" <alinares@fivetech.com>
To: <harbour@matrixlist.com>
Sent: Thursday, April 05, 2001 6:10 AM
Subject: RE: [Harbour] FiveWin corrections (Antonio, FW Users)


> Ron,
> 
> Your fix is a very good one but it may break existing
> code, this is why we have decided not to include it
> by now.
> 
> Thanks!
> 
> Antonio
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 


From harbour@matrixlist.com  Thu Apr  5 11:49:02 2001
From: harbour@matrixlist.com (Norberto Lara)
Date: Thu Apr  5 10:49:02 2001
Subject: [Harbour] FiveWin corrections (Antonio, FW Users)
References: <000501c0bdb0$32ca8200$0f2aa8c0@antonio> <000901c0bddc$9e833e70$080000bc@terminalx>
Message-ID: <000901c0bde0$208847a0$080000bc@terminalx>

Hi

Another one :

    ::super in  any class is translate to ppo to ::::super , and receive
parse error.

Norberto


----- Original Message -----
From: "Norberto Lara" <nnsystem@zaz.com.br>
To: <harbour@matrixlist.com>
Sent: Thursday, April 05, 2001 11:27 AM
Subject: Re: [Harbour] FiveWin corrections (Antonio, FW Users)


> HI
>
>     I solve the errors with :
>
>     AS STRING --> AS String
>     METHOD  x ----> METHOD x()
>     NUMBER ----> NUMERIC
>
>     but now i have the new one :
>
>         CLASS XXXXXX FROM YYYYY
>
>         EXPORT: <<<<<<<<<< ERROR HERE <<<
>
>  Thanks
> Norberto
>
> ----- Original Message -----
> From: "Antonio Linares" <alinares@fivetech.com>
> To: <harbour@matrixlist.com>
> Sent: Thursday, April 05, 2001 6:10 AM
> Subject: RE: [Harbour] FiveWin corrections (Antonio, FW Users)
>
>
> > Ron,
> >
> > Your fix is a very good one but it may break existing
> > code, this is why we have decided not to include it
> > by now.
> >
> > Thanks!
> >
> > Antonio
> >
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@matrixlist.com
> > http://www.matrixlist.com/mailman/listinfo/harbour
> >
> > Thank you for participating in The Harbour Project.  Be sure to check
> > http://www.Harbour-Project.org
> >
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@matrixlist.com  Thu Apr  5 12:01:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr  5 11:01:02 2001
Subject: [Harbour] FiveWin corrections (Antonio, FW Users)
In-Reply-To: <000901c0bde0$208847a0$080000bc@terminalx>
Message-ID: <000301c0bde0$a7896fe0$0f2aa8c0@antonio>

Norberto,

Are you using FWH header files ?

regards,

Antonio

> Another one :
> 
>     ::super in  any class is translate to ppo to ::::super , and receive
> parse error.



From harbour@matrixlist.com  Thu Apr  5 13:07:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr  5 12:07:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEAMDLAA.Ron@Profit-Master.com>
References: <200104042354.f34NsEe07150@smtp.parrett.net>
Message-ID: <200104051603.f35G3pe06229@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Wed, 4
Apr 2001 18:37:29 -0700

> Please don't misquote me!

In order for something to be a misquote, it first has to be a quote.
All of my quotes from your messages have been exact copies of what you
wrote, with either the addition of block quote marks or quotation marks.

> I never claimed that "HotMail is sending the email in its
> entirety to Passport as part of a user authentication protocol"!

Then how can you claim that the "License to Microsoft" part of the
Passport Terms of Use applies to HotMail email when that section clearly
states that it *only* applies to communications with or through Passport?

> Nor did I ever claim "just so that Microsoft can steal the senders intellectual property"!

But you did claim that '...you are trying to make logical analysis of
actions by people who have determined it is their right to "exploit"
your IP, just because it traveled through their web site (and related
services).' In the context of this discussion, there is little
difference between "exploit" (the word you used) and "steal" (the word I
used).

> What is ludicrous is that even after reading a "Terms of Use" Agreement that
> explicitly grants Microsoft the right to "exploit" your IP just because it
> traveled through their web site, you could  dismiss any such concern.

No, what is ludicrous is that *you* claim that a communication that
*fails* to qualify under the very first paragraph of the "License to
Microsoft" section of the Passport Terms of Use agreement can somehow be
cover by said section anyway.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr  5 13:11:02 2001
From: harbour@matrixlist.com (Mark W. Schumann)
Date: Thu Apr  5 12:11:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104051603.f35G3pe06229@smtp.parrett.net>; from dholm@jsd-llc.com on Thu, Apr 05, 2001 at 12:06:24PM -0400
References: <200104042354.f34NsEe07150@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKEEAMDLAA.Ron@Profit-Master.com> <200104051603.f35G3pe06229@smtp.parrett.net>
Message-ID: <20010405121126.A16475@columbus.private.underflap.com>

On Thu, Apr 05, 2001 at 12:06:24PM -0400, David G. Holm wrote:
> ** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Wed, 4
> Apr 2001 18:37:29 -0700
> 
> > Please don't misquote me!
> 
> In order for something to be a misquote, it first has to be a quote.
> All of my quotes from your messages have been exact copies of what you
> wrote, with either the addition of block quote marks or quotation marks.
> 
> > I never claimed that "HotMail is sending the email in its
> > entirety to Passport as part of a user authentication protocol"!
> 
> Then how can you claim that the "License to Microsoft" part of the
> Passport Terms of Use applies to HotMail email when that section clearly
> states that it *only* applies to communications with or through Passport?

Yoo hoo.

Heads up.

Policy change.

See http://slashdot.org and follow the obvious links.

-- 
"Dawn?  I hardly ever stay up that late." --Keith Lynch in
                                       <97hmtc$lam$1@saltmine.radix.net>

From harbour@matrixlist.com  Thu Apr  5 13:25:04 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr  5 12:25:04 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEAMDLAA.Ron@Profit-Master.com>
References: <200104042355.f34Ntpe07415@smtp.parrett.net>
Message-ID: <200104051621.f35GLpe07801@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Wed, 4
Apr 2001 18:44:27 -0700

> What on earth could justify, everyone giving away, any and all IP they own,
> by mere transmitting such IP through the Passport web site?

How about somebody being stupid enough to do so after having been
warned that doing so will result in just that? I happen to agree with
you that people should be wary of what they send to or through Passport.
I just disagree with some of your far-reaching claims of what might
qualify as having been sent to or through Passport.

> What in your mind could be "the real reason" which will justify the
> inclusion of such outrageous text into ANY web site, or information
> transport service, usage agreement?

Like I've stated more than once before, Yahoo! has similar terms, but
they added a "clarification" after the internet exploded with outrage
over these terms being applied to GeoCities. This "clarification"
appeared to appease just about everyone, because the furor died down,
even though Yahoo! didn't actually *change* their terms with the
addition of their "clarification" (they just added the text "Yahoo does
not claim ownership of the Content..." at the start of the paragraph).
You can read Yahoo!'s GeCities terms of service at
http://docs.yahoo.com/info/terms/geoterms.html and you can read the
standard Yahoo! terms of service at http://docs.yahoo.com/info/terms/
(yes, Microsoft's wording is more "severe", but I do believe that
Microsoft's reasons for including the "License to Microsoft" section are
similar to Yahoo!'s reasons for their license terms).
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr  5 13:34:12 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr  5 12:34:12 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEALDLAA.Ron@Profit-Master.com>
References: <200104042350.f34No9e06682@smtp.parrett.net>
Message-ID: <200104051630.f35GUue08686@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Wed, 4
Apr 2001 18:26:05 -0700

> I'm not imagining anything, I simply pointed out that email headers have
> nothing to do with the passport service, as you erroneously suggested I
> check.

I never suggested that passport authentication would show up in an
email header, making your claim that this is what I suggested false. I
was countering your claim that the email *could* have actually been sent
by or through the Passport service. The proof that it did not is the
lack of a "Received:" header identifying a Passport SMTP server.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr  5 13:48:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr  5 12:48:01 2001
Subject: [Harbour] FiveWin corrections (Antonio, FW Users)
In-Reply-To: <000501c0bdb0$32ca8200$0f2aa8c0@antonio>
References: <LOBBKAFMMFGJIKLMEPAKKEAIDLAA.Ron@Profit-Master.com>
Message-ID: <200104051644.f35Gibe09936@smtp.parrett.net>

** Reply to message from "Antonio Linares" <alinares@fivetech.com> on
Thu, 5 Apr 2001 11:10:03 +0200

> Your fix is a very good one but it may break existing
> code, this is why we have decided not to include it
> by now.

Shouldn't you at least include Ron's fix as an optional include file in
FwH and document why it's there, so that FwC users that move to FwH and
encounter this type of breakage have a ready solution?
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr  5 14:13:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Thu Apr  5 13:13:02 2001
Subject: [Harbour] FiveWin corrections (Antonio, FW Users)
In-Reply-To: <000501c0bdb0$32ca8200$0f2aa8c0@antonio>
Message-ID: <LOBBKAFMMFGJIKLMEPAKCEBADLAA.Ron@Profit-Master.com>

Antonio,

I hate to disagree but I must.

There is no way this will break any existing code. This could only effect FW
users that for some *strange* reason, use these constant #defines in *OTHER*
contexts!!!

I find this extremely hard to believe.

OTOH, EVERY FWH user will have the reserved words problem, as soon as they
try to use AS ... and EVERY FW[H] is subject to this problem when using
these reserved words in ANY context, other than numeric constants!!!

I think it would be a mistake not to include this fix, because all one has
to do if he was subject to a problem, is UN-COMMENT the #defines in DLL.ch,
or better yet create his properly name spaced constant defines:

#define MY_VOID  0
#define MY_BYTE  1

Etc, etc.

Ron

> Ron,
>
> Your fix is a very good one but it may break existing
> code, this is why we have decided not to include it
> by now.
>
> Thanks!
>
> Antonio


From harbour@matrixlist.com  Thu Apr  5 14:17:01 2001
From: harbour@matrixlist.com (Norberto Lara)
Date: Thu Apr  5 13:17:01 2001
Subject: [Harbour] FiveWin corrections (Antonio, FW Users)
References: <000301c0bde0$a7896fe0$0f2aa8c0@antonio>
Message-ID: <000c01c0bdf4$c8e49f70$080000bc@terminalx>

Antonio,

Yes, include fivewin.ch.

Norberto

----- Original Message -----
From: "Antonio Linares" <alinares@fivetech.com>
To: <harbour@matrixlist.com>
Sent: Thursday, April 05, 2001 11:56 AM
Subject: RE: [Harbour] FiveWin corrections (Antonio, FW Users)


> Norberto,
>
> Are you using FWH header files ?
>
> regards,
>
> Antonio
>
> > Another one :
> >
> >     ::super in  any class is translate to ppo to ::::super , and receive
> > parse error.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@matrixlist.com  Thu Apr  5 14:48:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Thu Apr  5 13:48:02 2001
Subject: [Harbour] Codebase RDD
Message-ID: <3ACC75D4.28736.1900380@localhost>

Good Afternoon,

  I'm in contact with sequiter software (codebase) codebase is a 
RDD library (Royalty free).

  See: http://www.sequiter.com/products/   for more information

  Before doing the necessary interface for that tool's did anyone    
already did it ?

  If not, I'm waiting for my demo and will do the job !, Do the Harbour 
crew are interested to have the source of the wrapper one it's done 
?

  Thank you,

  Sylvain 

From harbour@matrixlist.com  Thu Apr  5 15:03:02 2001
From: harbour@matrixlist.com (Norberto Lara)
Date: Thu Apr  5 14:03:02 2001
Subject: [Harbour] FiveWin corrections (Antonio, FW Users)
References: <000301c0bde0$a7896fe0$0f2aa8c0@antonio> <000c01c0bdf4$c8e49f70$080000bc@terminalx>
Message-ID: <000701c0bdfb$36f59900$080000bc@terminalx>

Hi to all,

I have one doubts : harbour or fivewin + harbour should not be 100%
compatible with clipper , why all these differences .

I will have to have a code separated for each version.



Very thanks

Norberto



From harbour@matrixlist.com  Thu Apr  5 15:09:02 2001
From: harbour@matrixlist.com (Bill Smith)
Date: Thu Apr  5 14:09:02 2001
Subject: [Harbour] Re:"Dual-copyright/licensing" of your IP withOUT your permission
References: <3AC8A90F.51854319@theseus.com>
Message-ID: <008f01c0bdfb$b1c9b080$deccefd1@K6BW>

A quote from Today's Wired News:

MS and Its Terms of Embarrassment
Responding to heavy criticism, Microsoft says the terms of use on its
Passport service are outdated, to be ignored, and will soon be changed. But
does that mean the software company doesn't want to own you? By Farhad
Manjoo.

I don't agree the company wants to own everyone.  Other companies have been
much, much worse.

Bill


From harbour@matrixlist.com  Thu Apr  5 16:20:03 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Thu Apr  5 15:20:03 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104051621.f35GLpe07801@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEBCDLAA.Ron@Profit-Master.com>

David,

As we know this concern is now mute, due to MS correction of the terms
but...

> > What on earth could justify, everyone giving away, any and all
> IP they own,
> > by mere transmitting such IP through the Passport web site?
>
> How about somebody being stupid enough to do so after having been
> warned that doing so will result in just that? I happen to agree with
> you that people should be wary of what they send to or through Passport.
> I just disagree with some of your far-reaching claims of what might
> qualify as having been sent to or through Passport.

So taking such gross advantage over stupidity and naivety is justified in
your opinion?
Due to the far reaching cannibalizing qualities of these terms, no such
concern is far reaching!

> > What in your mind could be "the real reason" which will justify the
> > inclusion of such outrageous text into ANY web site, or information
> > transport service, usage agreement?
>
> Like I've stated more than once before, Yahoo! has similar terms, but
> they added a "clarification" after the internet exploded with outrage
> over these terms being applied to GeoCities. This "clarification"
> appeared to appease just about everyone, because the furor died down,
> even though Yahoo! didn't actually *change* their terms with the
> addition of their "clarification" (they just added the text "Yahoo does
> not claim ownership of the Content..." at the start of the paragraph).
> You can read Yahoo!'s GeCities terms of service at
> http://docs.yahoo.com/info/terms/geoterms.html and you can read the
> standard Yahoo! terms of service at http://docs.yahoo.com/info/terms/
> (yes, Microsoft's wording is more "severe", but I do believe that
> Microsoft's reasons for including the "License to Microsoft" section are
> similar to Yahoo!'s reasons for their license terms).

1. You didn't answer the question!

2. I can't believe you find this:

----------------------------------------
7. CONTENT SUBMITTED TO YAHOO GEOCITIES
Yahoo does not claim ownership of the Content you place on your Yahoo
GeoCities Site. By submitting Content to Yahoo for inclusion on your Yahoo
GeoCities Site, you grant Yahoo the world-wide, royalty-free, and
non-exclusive license to reproduce, modify, adapt and publish the Content
*solely*
for the purpose of displaying, distributing and promoting your Yahoo
GeoCities Site on Yahoo's Internet properties. This license exists only for
as long as you continue to be a Yahoo GeoCities homesteader and shall be
terminated at the time your Yahoo GeoCities Site is terminated.
---------------------------------------

Even remotely comparable to this:

--------------------
LICENSE TO MICROSOFT

By posting messages, uploading files, inputting data, submitting any
feedback or suggestions, or engaging in any other form of communication with
or through the Passport Web Site, you warrant and represent that you own or
otherwise control the rights necessary to do so and you are granting
Microsoft and its affiliated companies permission to:


Use, modify, copy, distribute, transmit, publicly display, publicly perform,
reproduce, publish, sublicense, create derivative works from, transfer, or
sell any such communication.
Sublicense to third parties the unrestricted right to exercise any of the
foregoing rights granted with respect to the communication.
Publish your name in connection with any such communication.
The foregoing grants shall include the right to exploit any proprietary
rights in such communication, including but not limited to rights under
copyright, trademark, service mark or patent laws under any relevant
jurisdiction. No compensation will be paid with respect to Microsoft's use
of the materials contained within such communication. Microsoft is under no
obligation to post or use any materials you may provide and may remove such
materials at any time in Microsoft's sole discretion.
--------------------

???

Ron


From harbour@matrixlist.com  Thu Apr  5 16:46:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Thu Apr  5 15:46:01 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104051603.f35G3pe06229@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEBCDLAA.Ron@Profit-Master.com>

David,

> > Please don't misquote me!
>
> In order for something to be a misquote, it first has to be a quote.
> All of my quotes from your messages have been exact copies of what you
> wrote, with either the addition of block quote marks or quotation marks.

While not using quotation marks, you have attributed to me claims I never
made.

> > I never claimed that "HotMail is sending the email in its
> > entirety to Passport as part of a user authentication protocol"!
>
> Then how can you claim that the "License to Microsoft" part of the
> Passport Terms of Use applies to HotMail email when that section clearly
> states that it *only* applies to communications with or through Passport?

1. As I explained you were in NO position to decide what information *might*
be traveling between HotMail and Passport servers *before* such email is
sent. Inspecting such email headers for making such determination would be a
plain waste of time.

2. I clearly stated that the lawyers who wrote this outrageous text, might
consider the Passport LOG-IN status, and the authentication process "to or
through", because, their seek mind can claim that the message could not have
been sent without such authentication, so it became part of the process by
which the message was sent, thus "through"!

> > Nor did I ever claim "just so that Microsoft can steal the
> senders intellectual property"!
>
> But you did claim that '...you are trying to make logical analysis of
> actions by people who have determined it is their right to "exploit"
> your IP, just because it traveled through their web site (and related
> services).' In the context of this discussion, there is little
> difference between "exploit" (the word you used) and "steal" (the word I
> used).

You see how you don't pay attention, exploit was NOT a word I used, it was
direct quote from the outrageous text, you apparently didn't bother fully
reading. It was NOT my interpretation, the quoted "Terms of Use",
*explicitly* states MS rights to exploit your IP once it traveled to or
through passport:

"
The foregoing grants shall include the right to exploit any proprietary
                                                ^^^^^^^
rights in such communication, including but not limited to rights under
copyright, trademark, service mark or patent laws under any relevant
jurisdiction.
"

Since the "Terms of Use" used the term "exploit", which you equate with
"steal", do you now agree that this text allows MS to "steal" your IP?

> > What is ludicrous is that even after reading a "Terms of Use"
> Agreement that
> > explicitly grants Microsoft the right to "exploit" your IP just
> because it
> > traveled through their web site, you could  dismiss any such concern.
>
> No, what is ludicrous is that *you* claim that a communication that
> *fails* to qualify under the very first paragraph of the "License to
> Microsoft" section of the Passport Terms of Use agreement can somehow be
> cover by said section anyway.

I will re-state that you are in NO position to decide what "*fails*" to
qualify in that complex legal scheme. Anyone who would have trusted your
advice would be jeopardizing their IP rights.

Ron


From harbour@matrixlist.com  Thu Apr  5 17:03:12 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr  5 16:03:12 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEBCDLAA.Ron@Profit-Master.com>
References: <200104051621.f35GLpe07801@smtp.parrett.net>
Message-ID: <200104051959.f35Jxae27845@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Thu, 5
Apr 2001 12:23:59 -0700

> 1. You didn't answer the question!

I explained what I thought was the real reason for those terms in one
of the first few messages in which I mentioned the Yahoo! terms of
service. In other words, I answered that question before you asked it
and I saw no need to go dig it up and repost it, just because you
forgot, overlooked, or ignored it.

> 2. I can't believe you find this:
> ...
> Even remotely comparable to this:

The only significant difference is that Yahoo! includes the text
"*solely*
for the purpose of displaying, distributing and promoting your Yahoo
GeoCities Site on Yahoo's Internet properties," which was not in their
original terms. Yahoo! / GeoCities wasn't out to exploit anyone's
intellectual property then and neither was Microsoft now, as is
evidenced by both rewording the terms once they realized how easily
misunderstood the original terms were.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr  5 17:07:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr  5 16:07:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEBCDLAA.Ron@Profit-Master.com>
References: <200104051603.f35G3pe06229@smtp.parrett.net>
Message-ID: <200104052004.f35K3xe28273@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Thu, 5
Apr 2001 12:50:24 -0700

> Anyone who would have trusted your advice would be jeopardizing their IP rights.

You have the *gall* to say that after Microsoft rewords their terms of
use, thus demonstrating that my interpretation was correct all along?
Sheesh!
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr  5 17:09:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr  5 16:09:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEBCDLAA.Ron@Profit-Master.com>
References: <200104051603.f35G3pe06229@smtp.parrett.net>
Message-ID: <200104052005.f35K5ne28436@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Thu, 5
Apr 2001 12:50:24 -0700

> You see how you don't pay attention, exploit was NOT a word I used,

The section of text that I quoted from your message that included
"exploit" was YOUR ORIGINAL text, not your quoting of some other text.
The only word in that text that was quoted was "exploit" and putting
quotation marks around a *single* word in an otherwise *original* text
does *not* constitute quoting from another source.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr  5 17:14:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr  5 16:14:02 2001
Subject: [Harbour] FiveWin corrections (Antonio, FW Users)
In-Reply-To: <000701c0bdfb$36f59900$080000bc@terminalx>
Message-ID: <000901c0be0c$42318340$0f2aa8c0@antonio>

Norberto,

That is not the case. You have been using FW Objects engine 
specific features that are not 100% compatible with Harbour.

If you use generic OOP features -like the ones used by FW classes-
you will find all that all your source code is 100% compatible
with Harbour and FWH.

Antonio

> I have one doubts : harbour or fivewin + harbour should not be 100%
> compatible with clipper , why all these differences .
> I will have to have a code separated for each version.



From harbour@matrixlist.com  Thu Apr  5 17:24:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr  5 16:24:02 2001
Subject: [Harbour] FiveWin corrections (Antonio, FW Users)
In-Reply-To: <200104051644.f35Gibe09936@smtp.parrett.net>
Message-ID: <000a01c0be0d$aa9c5bc0$0f2aa8c0@antonio>

David,

We have a lot of implemented functions in FW (ODBC32, 
RAS32, NETAPI32, REGISTRY, etc...) using the FW 
(Microsoft official) "thunking" system that are working ok.

We do provide a top layer command (DLL32 FUNCTION ...) that works ok,
but we have noticed that some users prefeer the under-laying accesed
functions. In other words... they don't use the preprocessor. They 
directly call the functions.

If we change the way those functions work, then we will break a lot
of users code. 

We have been providing tech support for years... I tell you: a change
like that will bring a really tech support nightmare.

Antonio

> Shouldn't you at least include Ron's fix as an optional include file in
> FwH and document why it's there, so that FwC users that move to FwH and
> encounter this type of breakage have a ready solution?



From harbour@matrixlist.com  Thu Apr  5 17:27:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr  5 16:27:02 2001
Subject: [Harbour] FiveWin corrections (Antonio, FW Users)
In-Reply-To: <000a01c0be0d$aa9c5bc0$0f2aa8c0@antonio>
References: <200104051644.f35Gibe09936@smtp.parrett.net>
Message-ID: <200104052023.f35KNee30046@smtp.parrett.net>

** Reply to message from "Antonio Linares" <alinares@fivetech.com> on
Thu, 5 Apr 2001 22:19:07 +0200

> In other words... they don't use the preprocessor. They 
> directly call the functions.

That does make a *big* difference!

> If we change the way those functions work, then we will break a lot
> of users code.

I appreciate the explanation, Antonio.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr  5 17:58:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Thu Apr  5 16:58:02 2001
Subject: [Harbour] Codebase RDD
References: <3ACC75D4.28736.1900380@localhost>
Message-ID: <006201c0be13$ad790720$2400a8c0@local>

Sylvain:
Are you sure they will give away the data engine free?  Last I saw that
*was* their product, so I'm surprised they would let us use it.  Or is it
that someone could buy Codebase and distribute the necessary DLLs for free?

I haven't noticed any msgs regarding anyone working on an RDD for it.  Do
you use it in your 16-bit apps?

Brian

----- Original Message -----
From: Sylvain Robert <srobert@logava.com>
To: <harbour@matrixlist.com>
Sent: Thursday, April 05, 2001 10:40 AM
Subject: [Harbour] Codebase RDD


> Good Afternoon,
>
>   I'm in contact with sequiter software (codebase) codebase is a
> RDD library (Royalty free).
>
>   See: http://www.sequiter.com/products/   for more information
>
>   Before doing the necessary interface for that tool's did anyone
> already did it ?
>
>   If not, I'm waiting for my demo and will do the job !, Do the Harbour
> crew are interested to have the source of the wrapper one it's done
> ?
>
>   Thank you,
>
>   Sylvain
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>



From harbour@matrixlist.com  Thu Apr  5 18:15:04 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Thu Apr  5 17:15:04 2001
Subject: [Harbour] FiveWin corrections (Antonio, FW Users)
In-Reply-To: <000a01c0be0d$aa9c5bc0$0f2aa8c0@antonio>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEBEDLAA.Ron@Profit-Master.com>

Antonio,

> We do provide a top layer command (DLL32 FUNCTION ...) that works ok,
> but we have noticed that some users prefeer the under-laying accesed
> functions. In other words... they don't use the preprocessor. They
> directly call the functions.
>
> If we change the way those functions work, then we will break a lot
> of users code.

But my fix did NOT change the under-laying accessed functions at all!

I only ADDED one function that's only intercepting the parameters when one
is using the top layer command.

Can you please explain how will my fix affect direct calls to
GetProcAddress() or GetProc32()?

Do you mean that if someone call those functions directly, and used your
constant #defines it will now fail? (with a very clear message!)

This could easily be addressed by having those #defines available in an
OPTIONAL #include CTYPES.ch with a warning to those who insist on using it!

I think you should compare this slight and rare inconvenience, with the fact
that EVERY FW[H] use:

1. Can NEVER use a class named STRING.
2. Can NEVER use a property or method named STRING.
3. Can NEVER use a function named STRING.
4. Can NEVER use a MEMVAR or LOCAL or STATIC named STRING.
5. Can never use a FIELD named STRING.

And this is just a quick list, just with STRING, but the above is also true
for all the other C types #defines. And this will be reported as a very
strange PARSE ERROR which the normal user might have no clue why.

> We have been providing tech support for years... I tell you: a change
> like that will bring a really tech support nightmare.

This can easily be explained just ONCE, to possible current users who took
responsibility for such possible inconvenience when they bypassed your
interface and directly call low level function.

Ron


From harbour@matrixlist.com  Thu Apr  5 19:49:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Thu Apr  5 18:49:02 2001
Subject: [Harbour] FiveWin corrections (Antonio, FW Users)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEBEDLAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEBFDLAA.Ron@Profit-Master.com>

This is a multi-part message in MIME format.

------=_NextPart_000_0002_01C0BDE8.7EA24540
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Ok, the following will fix the problem WITHOUT effecting even those that
call GetProc*() directly, and WITHOUT even modifying your DLL.ch :-)

Steps:

1. Add #include "FixTypes.ch" ABOVE #include "FiveWin.ch"
2. Compile and ADD the attached C2nType.prg to FIVE[H].lib

Antonio, do you now agree this can NOT break ANY existing code?

Ron

------=_NextPart_000_0002_01C0BDE8.7EA24540
Content-Type: application/octet-stream;
	name="c2ntype.prg"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="c2ntype.prg"

//-----------------------------------------------------------------------=
-----//
FUNCTION cType2nType( cType )

   cType :=3D Upper( cType )

   DO CASE
      CASE cType =3D=3D 'VOID'
         RETURN 0

      CASE cType =3D=3D 'BYTE'
         RETURN 1

      CASE cType =3D=3D 'CHAR'
         RETURN 2

   #ifdef __CLIPPER__
      CASE cType =3D=3D 'WORD'
         RETURN 3

      CASE cType =3D=3D '_INT'
         RETURN 4

      CASE cType =3D=3D 'INT'
         RETURN 4
   #else
      CASE cType =3D=3D 'WORD'
         RETURN 7

      CASE cType =3D=3D '_INT'
         RETURN 7

      CASE cType =3D=3D 'INT'
         RETURN 7
   #endif

      CASE cType =3D=3D 'BOOL'
         RETURN 5

      CASE cType =3D=3D 'HDC'
         RETURN 6

      CASE cType =3D=3D 'LONG'
         RETURN 7

      CASE cType =3D=3D 'STRING'
         RETURN 8

      CASE cType =3D=3D 'LPSTR'
         RETURN 9

      CASE cType =3D=3D 'PTR'
         RETURN 10

      CASE cType =3D=3D '_DOUBLE'
         RETURN 11

      CASE cType =3D=3D 'DOUBLE'
         RETURN 11

      CASE cType =3D=3D 'DWORD'
         RETURN 12
   ENDCASE

RETURN 0

//-----------------------------------------------------------------------=
-----//

------=_NextPart_000_0002_01C0BDE8.7EA24540
Content-Type: application/octet-stream;
	name="FixTypes.ch"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="FixTypes.ch"

#ifndef FIX_CTYPES

   #define FIX_C_TYPES

   /* To trick DLL.ch to NOT #define C TYPES constants. */
   #define _C_TYPES

   #translate GetProcAddress( <hDLL>, <SymName>, [<pascal>], ;
                 <return:VOID, BYTE, CHAR, WORD, _INT, INT, BOOL, HDC, =
LONG, STRING, LPSTR, PTR, _DOUBLE, DOUBLE, DWORD> ;
                 [,<type:VOID, BYTE, CHAR, WORD, _INT, INT, BOOL, HDC, =
LONG, STRING, LPSTR, PTR, _DOUBLE, DOUBLE, DWORD >] ) =3D> ;
              GetProcAddress( <hDLL>, <SymName>, <pascal>, cType2nType( =
#<return> ) [, cType2nType( #<type> ) ] )

   #translate GetProc32( <hDLL>, <SymName>, [<pascal>], ;
                 <return:VOID, BYTE, CHAR, WORD, _INT, INT, BOOL, HDC, =
LONG, STRING, LPSTR, PTR, _DOUBLE, DOUBLE, DWORD> ;
                 [,<type:VOID, BYTE, CHAR, WORD, _INT, INT, BOOL, HDC, =
LONG, STRING, LPSTR, PTR, _DOUBLE, DOUBLE, DWORD >] ) =3D> ;
              GetProc32( <hDLL>, <SymName>, <pascal>, cType2nType( =
#<return> ) [, cType2nType( #<type> ) ] )

#endif


------=_NextPart_000_0002_01C0BDE8.7EA24540--


From harbour@matrixlist.com  Thu Apr  5 20:00:03 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Thu Apr  5 19:00:03 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <200104052004.f35K3xe28273@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAEBGDLAA.Ron@Profit-Master.com>

> > Anyone who would have trusted your advice would be jeopardizing
> their IP rights.
>
> You have the *gall* to say that after Microsoft rewords their terms of
> use, thus demonstrating that my interpretation was correct all along?
> Sheesh!

Microsoft rewording their terms, demonstrate that *your* interpration was
correct?

I would think it demonstrates they realized the immense problem with the
prior text, thus demonstrating that concerns such as I (and many others)
expressed, were indeed justified and warrant ed the correction.

BTW, I have no clue what you mean by Sheesh!

Ron


From harbour@matrixlist.com  Thu Apr  5 21:20:03 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Thu Apr  5 20:20:03 2001
Subject: [Harbour] FiveWin corrections (Antonio, FW Users)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEBFDLAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEBHDLAA.Ron@Profit-Master.com>

> Steps:
>
> 1. Add #include "FixTypes.ch" ABOVE #include "FiveWin.ch"
> 2. Compile and ADD the attached C2nType.prg to FIVE[H].lib

0. Copy attached (to original message) FixTypes.ch to
\FW*\include\FixTypes.ch
   and c2nType.prg to \FW*\source\function\c2ntype.prg.


From harbour@matrixlist.com  Fri Apr  6 06:42:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Fri Apr  6 05:42:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKAEBGDLAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Thu, Apr 05, 2001 at 04:04:31PM -0700
References: <200104052004.f35K3xe28273@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKAEBGDLAA.Ron@Profit-Master.com>
Message-ID: <20010406100654.W25493@hagbard.davep.org>

On Thu, Apr 05, 2001 at 04:04:31PM -0700, Ron Pinkas wrote:

> > > Anyone who would have trusted your advice would be jeopardizing their
> > > IP rights.
> >
> > You have the *gall* to say that after Microsoft rewords their terms of
> > use, thus demonstrating that my interpretation was correct all along?
> > Sheesh!
> 
> Microsoft rewording their terms, demonstrate that *your* interpration was
> correct?
> 
> I would think it demonstrates they realized the immense problem with the
> prior text, thus demonstrating that concerns such as I (and many others)
> expressed, were indeed justified and warrant ed the correction.

Such a demonstration is actually in keeping with David's and most of your
reading of the initial wording. The change doesn't, however, demonstrate
that the motivation of the author of the text was the one that most people
were working with. Furthermore, application of Hanlon's Razor would err on
the side of David's reading.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Fri Apr  6 07:31:01 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Fri Apr  6 06:31:01 2001
Subject: [Harbour] Set Path ( David )
Message-ID: <652853197.20010406142813@belacy.belgorod.su>

How the value of hb_set.HB_SET_PATH, which is set by SET PATH
statement can be retrieved from C module ( for using it in
hb_dbfOpen(), for example ) ?

  

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Fri Apr  6 07:59:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Fri Apr  6 06:59:02 2001
Subject: [Harbour] Codebase RDD
In-Reply-To: <006201c0be13$ad790720$2400a8c0@local>
Message-ID: <3ACD6665.27886.27BFC8@localhost>

Brian,

  I didn't say that they will give away the data engine *free* !

  I said that there is no Royalty to paid when you link it in your EXE !

  See their website they have a lot of goodies including cient/server 
solution !

  Codebase is an inexpensive product and if I have to buy it to start 
Harbour test I'll do so !

  I never used it, but I follow their progression since 84 !

 Sylvain 

  Sylvain


     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Fri Apr  6 08:18:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Fri Apr  6 07:18:02 2001
Subject: [Harbour] Codebase RDD
In-Reply-To: <006201c0be13$ad790720$2400a8c0@local>
Message-ID: <3ACD6C62.31425.3F257E@localhost>

Brian and All,

  If we need to put Harbour to test we need a RDD, Codebase is a 
LIB like DBFCDX that you can link in your APP no DLL and that's 
why I choose it. I really want to put HARBOUR to test rapidly, I have 
10 in house application that are intensively use every day on all 
Windows platform (95,98,ME,NT,2000). 

  I really think that Clipper user are ready to pay 395.00 to be able 
to deliver 32 bit application and the way codebase work is a natural 
for me (and I hope for all clipper user).

  My opinion is that paying 395.00 to be able to deliver ROCK 
SOLID 32 bit app is really cheaper than buying Delphi or Xbase++.

 Am I the only one that is wating for a RDD solution like Clipper 
have to begin using Harbour extensively ?. I really think that Harbour 
is my future and if Harbour crew don't have to focus on RDD for 
short term goal it's an advantage for all of us. Codebase can be a 
cross platform solution and for me it's an ideal match with Harbour.

  Thank you,

  Sylvain 
  

From harbour@matrixlist.com  Fri Apr  6 09:31:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Fri Apr  6 08:31:02 2001
Subject: [Harbour] Codebase RDD
In-Reply-To: <3ACD6C62.31425.3F257E@localhost>; from srobert@logava.com on Fri, Apr 06, 2001 at 07:12:34AM -0400
References: <006201c0be13$ad790720$2400a8c0@local> <3ACD6C62.31425.3F257E@localhost>
Message-ID: <20010406124759.Z25493@hagbard.davep.org>

On Fri, Apr 06, 2001 at 07:12:34AM -0400, Sylvain Robert  wrote:

>  Am I the only one that is wating for a RDD solution like Clipper have to
> begin using Harbour extensively ?. I really think that Harbour is my
> future and if Harbour crew don't have to focus on RDD for short term goal
> it's an advantage for all of us. 

It's actually a disadvantage if you think about it. That doesn't mean it
isn't a useful and valid solution for people wishing to do things with
harbour, but something that means that free software RDDs don't need to be
written can't really be seen as a general advantage.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Fri Apr  6 10:29:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Fri Apr  6 09:29:02 2001
Subject: [Harbour] Codebase RDD
In-Reply-To: <20010406124759.Z25493@hagbard.davep.org>
References: <3ACD6C62.31425.3F257E@localhost>; from srobert@logava.com on Fri, Apr 06, 2001 at 07:12:34AM -0400
Message-ID: <3ACD8A4E.14317.B409F7@localhost>

Dave,

> It's actually a disadvantage if you think about it. That doesn't mean it
> isn't a useful and valid solution for people wishing to do things with
> harbour, but something that means that free software RDDs don't need to be
> written can't really be seen as a general advantage.

 I understand your point of vue and I really didn't wanted to say that 
the Harbour crew don't have to write a free RDD if you take it that 
way I apologized for my bad english ! I only say that for me a 
Clipperheads since Clipper Winter85 codebase is a suitable 
solution even if I have to pay 395 for it.

Codebase is a third party lib that we are comfortable to use like the 
other one and it's more natural than ADS DLL (for us). And for 
multiuser setup it's easier.

 You know Dave I'm not a C guru and I really want to point that if 
Harbour crew give us the chance to use now  a RDD Lib
that work like clipper (installation and deployment point of vue) I'm 
sure we will have more People who will migrate from Clipper to 
Harbour.

 I'm not the better person to do the wrapper for Codebase, and if 
someone who already did that kind of job want to do it I give my 
place right now ! I'm clipperhead and very comfortable with Harbour 
syntax and flexibilty !

 Sorry if sometimes I don't use the right words to express myself !

  Sylvain 





From harbour@matrixlist.com  Fri Apr  6 11:31:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Fri Apr  6 10:31:02 2001
Subject: [Harbour] Codebase RDD
In-Reply-To: <3ACD8A4E.14317.B409F7@localhost>; from srobert@logava.com on Fri, Apr 06, 2001 at 09:20:14AM -0400
References: <3ACD6C62.31425.3F257E@localhost>; <20010406124759.Z25493@hagbard.davep.org> <3ACD8A4E.14317.B409F7@localhost>
Message-ID: <20010406150840.E25493@hagbard.davep.org>

On Fri, Apr 06, 2001 at 09:20:14AM -0400, Sylvain Robert  wrote:
> 
> > It's actually a disadvantage if you think about it. That doesn't mean it
> > isn't a useful and valid solution for people wishing to do things with
> > harbour, but something that means that free software RDDs don't need to
> > be written can't really be seen as a general advantage.
> 
>  I understand your point of vue and I really didn't wanted to say that the
> Harbour crew don't have to write a free RDD if you take it that way I
> apologized for my bad english ! 

If that's the case I'll apologise for my bad English (comprehension). <g>

>                                 I only say that for me a Clipperheads
> since Clipper Winter85 codebase is a suitable solution even if I have to
> pay 395 for it.

No doubt, and no disagreement here. If interfaces to other database layers,
both "natural" and "unnatural" (in Clipper programmer terms), are developed
for harbour then that's all the better.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Fri Apr  6 12:08:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Fri Apr  6 11:08:02 2001
Subject: [Harbour] Codebase RDD
In-Reply-To: <20010406150840.E25493@hagbard.davep.org>
References: <3ACD8A4E.14317.B409F7@localhost>; from srobert@logava.com on Fri, Apr 06, 2001 at 09:20:14AM -0400
Message-ID: <3ACDA0B5.22218.10B905F@localhost>

Dave,

> If that's the case I'll apologise for my bad English (comprehension). <g>

  The important thing is that we came to the same conclusion ! ;)

  Harbour crew want people to use and test the project, and the fact 
that ADS solution already work (free local server) is fine. But in real 
life we need a multiuser (lan) solution and Codebase offer that and 
as I said no need for extra DLL and so on . If the Harbour crew give 
us the opportunity to use tool that will satisfy our short term's need I 
think it's a real benefit for all of us and it will also put pressure down 
for the crew who are working on those part's and more people will 
be able to test Harbour actively !

 I really have a high respect to the Harbour crew and I really don't 
have the pretension to tell them what they have to do, but if 
someone told me that I have to pay for Harbour I'll do it with no 
doubt. Paying between 700 to 1500 to made professionnal 
software that will be distribute for over 10,000 copy is not a 
problem. And I think that paying the same price for a professional 
tools that I will use internally isn't also a problem !

  It was a pleasure to exchange point of vue with you Dave and I 
hope other people will jump in !

  Sylvain 


     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Fri Apr  6 12:39:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr  6 11:39:02 2001
Subject: [Harbour] Set Path ( David )
In-Reply-To: <652853197.20010406142813@belacy.belgorod.su>
Message-ID: <200104061535.f36FZfa13065@smtp.parrett.net>

** Reply to message from "Alexander S.Kresin" <alex@belacy.belgorod.su>
on Fri, 6 Apr 2001 14:28:13 +0400

> How the value of hb_set.HB_SET_PATH, which is set by SET PATH
> statement can be retrieved from C module ( for using it in
> hb_dbfOpen(), for example ) ?

Just include the "hbset.h" file and then access hb_set.HB_SET_PATH as
you would any other string. For example:

#include <hbset.h>
...
   strcpy( buffer, hb_set.HB_SET_PATH );
...
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr  6 14:13:02 2001
From: harbour@matrixlist.com (Brian Dukes)
Date: Fri Apr  6 13:13:02 2001
Subject: [Harbour] Codebase RDD
In-Reply-To: <3ACC75D4.28736.1900380@localhost>
References: <3ACC75D4.28736.1900380@localhost>
Message-ID: <5vtrctg7rt1njdsnhdmt69u6fqu8tt82oc@4ax.com>

On Thu, 5 Apr 2001 13:40:36 -0400,  "Sylvain Robert " <srobert@logava.com>
wrote:

<DELURK>

>  I'm in contact with sequiter software (codebase) codebase is a 
>RDD library (Royalty free).

Wow this brings back some memories... i've spent a few years working with
CodeBase both the C and the C++ version a couple of years ago.. very nice it
is too!

>  If not, I'm waiting for my demo and will do the job !, Do the Harbour 
>crew are interested to have the source of the wrapper one it's done 

If i'm not mistaken CodeBase is commercial software.   Though the runtime
licence is "Royalty Free"... I guess it could be possible to make an RDD
abstraction to call the appropriate CodeBase calls.. so any Harbour
Developer could link against Harbour and CodeBase to produce a CodeBase
app..

In fact, it just so happens I have a registered copy of CodeBase v6.2 here.

Bri.
-- 
Brian Dukes - email: bdukes@yellowthingy.co.uk
              http://www.yellowthingy.co.uk/
              ICQ: 14502575
Shh! Be vewy, vewy qwiewet!  I'm hunting wuntime ewwors

From harbour@matrixlist.com  Fri Apr  6 14:16:01 2001
From: harbour@matrixlist.com (Brian Dukes)
Date: Fri Apr  6 13:16:01 2001
Subject: [Harbour] Codebase RDD
In-Reply-To: <006201c0be13$ad790720$2400a8c0@local>
References: <3ACC75D4.28736.1900380@localhost> <006201c0be13$ad790720$2400a8c0@local>
Message-ID: <17urct0urv4n4675dv4934barljld2htc2@4ax.com>

On Thu, 5 Apr 2001 14:02:08 -0700,  "Brian Hays" <bhays@abacuslaw.com>
wrote:

<DELURK again>

>Sylvain:
>Are you sure they will give away the data engine free?  Last I saw that
>*was* their product, so I'm surprised they would let us use it.  Or is it
>that someone could buy Codebase and distribute the necessary DLLs for free?

No.. the data engine is NOT free ... the license allows you to distribute
your developed apps with CodeBase data engine *bound* into it (either as a
LIB or a DLL) with no additional charge payable to sequiter (i.e. The
Runtime is Royalty Free).  

This is my understanding of it from 2 years ago,  it may have changed since
then.

Brian.
-- 
Brian Dukes - email: bdukes@yellowthingy.co.uk
              http://www.yellowthingy.co.uk/
              ICQ: 14502575
Shh! Be vewy, vewy qwiewet!  I'm hunting wuntime ewwors

From harbour@matrixlist.com  Fri Apr  6 14:58:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Fri Apr  6 13:58:02 2001
Subject: [Harbour] Codebase RDD
In-Reply-To: <5vtrctg7rt1njdsnhdmt69u6fqu8tt82oc@4ax.com>
References: <3ACC75D4.28736.1900380@localhost>
Message-ID: <3ACDC8BE.28298.1A7F917@localhost>

> On Thu, 5 Apr 2001 13:40:36 -0400,  "Sylvain Robert " <srobert@logava.com>
> wrote:
Brian,

> Wow this brings back some memories... i've spent a few years working with
> CodeBase both the C and the C++ version a couple of years ago.. very nice it
> is too!
 Yeap ! and I also think it's a very nice product !


> If i'm not mistaken CodeBase is commercial software.   Though the runtime
> licence is "Royalty Free"...

  Yes you are right !

> I guess it could be possible to make an RDD
> abstraction to call the appropriate CodeBase calls.. so any Harbour
> Developer could link against Harbour and CodeBase to produce a CodeBase
> app..

 Not really It must be a RDD replacement Think about the Browse ! 
or other function related to database ! if you want to attrack Clipper 
heads to Harbour give them the same rules and feeling that Clipper 
gives . And I also think that for a C guru it won't be so long to right 
the wrapper, correct me If i'm wrong !

  Thank's for coming in Brian it's really appreciated !
  
  Sylvain 

From harbour@matrixlist.com  Fri Apr  6 15:12:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Fri Apr  6 14:12:02 2001
Subject: [Harbour] Codebase RDD
References: <3ACD8A4E.14317.B409F7@localhost>; from srobert@logava.com on Fri, Apr 06, 2001 at 09:20:14AM -0400 <3ACDA0B5.22218.10B905F@localhost>
Message-ID: <005401c0bec6$052d97d0$921a5e18@bh>

Sylvain:
Have you actually used Codebase yet?

We tried it a few years ago -- I'm sure it's a much-improved product by
now -- and found it lacking features we were used to  in Comix.  It required
quite a bit of work to try to accommodate our application's logic.  (We
eventually dropped that project for other reasons).
It may not be as easy a wrapper as it seems.

The only "unnatural" issues I see with ADS right now are that DLLs have to
be installed at each station (we were able to avoid that until now, but hey
everybody else has to do it), and the issue regarding progress displays
while indexing that need a second thread--which I think will get resolved
reasonably.  Otherwise straight RDD calls are very well supported, so you
might check it out at least in the meantime.

Brian



From harbour@matrixlist.com  Fri Apr  6 15:30:03 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Fri Apr  6 14:30:03 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <20010406100654.W25493@hagbard.davep.org>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEBKDLAA.Ron@Profit-Master.com>

Dave,

> > Microsoft rewording their terms, demonstrate that *your*
> interpration was
> > correct?
> >
> > I would think it demonstrates they realized the immense problem with the
> > prior text, thus demonstrating that concerns such as I (and many others)
> > expressed, were indeed justified and warrant ed the correction.
>
> Such a demonstration is actually in keeping with David's and most of your
> reading of the initial wording. The change doesn't, however, demonstrate
> that the motivation of the author of the text was the one that most people
> were working with. Furthermore, application of Hanlon's Razor would err on
> the side of David's reading.

I never speculated as to the Malice-to-Stupidity Ratio behind the original
Passport Terms of Use text.

When X claim he/they have the "right to exploit any proprietary rights in
*my communication, including but not limited to rights under copyright,
trademark, service mark or patent laws under any relevant jurisdiction" just
because he/they own the medium through which I communicated my IP to others,
I am NOT the least if they are evil, or plain stupid.

*my replaced <such> in the original text.

My argument with David did not focus on motives, but rather scope.

Whether the MS attorney[s] that developed this text is/are more stupid than
evil, or not, would have NO clear impact on the scope *he/she/they* intended
for the document.

Finally, none of us can tell for sure, what were the intentions, in the mind
of who ever wrote that absurd text.

Ron


From harbour@matrixlist.com  Fri Apr  6 15:48:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Fri Apr  6 14:48:02 2001
Subject: [Harbour] Codebase RDD
In-Reply-To: <005401c0bec6$052d97d0$921a5e18@bh>
Message-ID: <3ACDD601.24463.1DBCB90@localhost>

Brian,

> Have you actually used Codebase yet?
 No not really but a lot of people who are writing software in C and 
C++ who read data from our Accounting package used it and I 
assist some of them and I was surprise by it !

 
> The only "unnatural" issues I see with ADS right now are that DLLs have to
> be installed at each station (we were able to avoid that until now, but hey
> everybody else has to do it), and the issue regarding progress displays
> while indexing that need a second thread--which I think will get resolved
> reasonably.  Otherwise straight RDD calls are very well supported, so you
> might check it out at least in the meantime.
 
  What about 2 software using ADS on the same machine but using 
different version ! ;) You know What I mean, it's not necessary to 
deploy the DLL on each station Loading it manually from a server 
before using it can be done (if it's the same rules as standard DLL).

  Sylvain 


     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Fri Apr  6 16:42:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Fri Apr  6 15:42:02 2001
Subject: [Harbour] Codebase RDD
In-Reply-To: <3ACDC8BE.28298.1A7F917@localhost>; from srobert@logava.com on Fri, Apr 06, 2001 at 01:46:38PM -0400
References: <3ACC75D4.28736.1900380@localhost> <5vtrctg7rt1njdsnhdmt69u6fqu8tt82oc@4ax.com> <3ACDC8BE.28298.1A7F917@localhost>
Message-ID: <20010406204141.N25493@hagbard.davep.org>

On Fri, Apr 06, 2001 at 01:46:38PM -0400, Sylvain Robert  wrote:

> > I guess it could be possible to make an RDD abstraction to call the
> > appropriate CodeBase calls.. so any Harbour Developer could link against
> > Harbour and CodeBase to produce a CodeBase app..
> 
>  Not really It must be a RDD replacement Think about the Browse ! 

That's exactly what Brian is suggesting.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Fri Apr  6 16:47:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Fri Apr  6 15:47:02 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEBKDLAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Fri, Apr 06, 2001 at 11:33:36AM -0700
References: <20010406100654.W25493@hagbard.davep.org> <LOBBKAFMMFGJIKLMEPAKGEBKDLAA.Ron@Profit-Master.com>
Message-ID: <20010406204600.O25493@hagbard.davep.org>

On Fri, Apr 06, 2001 at 11:33:36AM -0700, Ron Pinkas wrote:
> Dave,
> 
> > Such a demonstration is actually in keeping with David's and most of
> > your reading of the initial wording. The change doesn't, however,
> > demonstrate that the motivation of the author of the text was the one
> > that most people were working with. Furthermore, application of Hanlon's
> > Razor would err on the side of David's reading.
> 
> I never speculated as to the Malice-to-Stupidity Ratio behind the original
> Passport Terms of Use text.

Perhaps you didn't, but there has been speculation regarding that issue. I'm
simply pointing out that stupidity before malice suggests that David's
reading is as valid as anyone's in the light of their change.

> Whether the MS attorney[s] that developed this text is/are more stupid
> than evil, or not, would have NO clear impact on the scope *he/she/they*
> intended for the document.

I think you'll find it would have a large impact on the scope they intended.
Perhaps you meant that it wouldn't impact on the practical result?

> Finally, none of us can tell for sure, what were the intentions, in the
> mind of who ever wrote that absurd text.

The whole thread has been about speculation of intent and scope.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Fri Apr  6 17:31:01 2001
From: harbour@matrixlist.com (Przemyslaw Czerpak)
Date: Fri Apr  6 16:31:01 2001
Subject: [Harbour] Codebase RDD
In-Reply-To: <005401c0bec6$052d97d0$921a5e18@bh>
References: <3ACD8A4E.14317.B409F7@localhost>; <3ACDA0B5.22218.10B905F@localhost> <005401c0bec6$052d97d0$921a5e18@bh>
Message-ID: <20010406223037.A1064@uran.rcsoft.pl>

On Fri, 06 Apr 2001, Brian Hays wrote:
> We tried it a few years ago -- I'm sure it's a much-improved product by
> now -- and found it lacking features we were used to  in Comix.  It required
> quite a bit of work to try to accommodate our application's logic.  (We
> eventually dropped that project for other reasons).
> It may not be as easy a wrapper as it seems.

FalgShip has such wrapper for CodeBase distributed as C/FS source
(free to use with FS).

regards
Przemek

From harbour@matrixlist.com  Fri Apr  6 19:03:03 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Fri Apr  6 18:03:03 2001
Subject: [Harbour] [LeapList] [Copyright/Licensing] "Dual-copyright/licensing" of your IP withOUT your permission
References: <LOBBKAFMMFGJIKLMEPAKAEBGDLAA.Ron@Profit-Master.com>
Message-ID: <000b01c0bee5$7b5489e0$2ed4d7c8@luizguim>

Dear Friends

When you stop to discuss the way that microsoft posses your information when
you use thier services.

We has many issues that need to be finish in Harbour. I thibnk that we
should redirect this thread to the procecutor of the Microsoft monopoly case

Regards

Luiz Rafael Culik


From harbour@matrixlist.com  Sat Apr  7 11:22:08 2001
From: harbour@matrixlist.com (Sylvain Larche)
Date: Sat Apr  7 10:22:08 2001
Subject: [Harbour] Compiler warning
Message-ID: <NEBBINIBMLBIAINPBEPLMEEFCAAA.slarche@videotron.ca>

Here is a sample code that give some compiler warning that should no
happpen?

#INCLUDE "Test.ch"

#DEFINE dcPumpPLogic 1
#DEFINE dlPumpIsMPD  2

*------------------------------------------------------------------------

FUNCTION Test()
  LOCAL laClient AS ARRAY   := Array( 20, 2 )
  LOCAL i        AS NUMERIC

  PRIVATE vaPump AS ARRAY   := {}

  aAdd( vaPump, { "1", .T. } )
  aAdd( vaPump, { "2", .F. } )
  aAdd( vaPump, { "3", .F. } )
  aAdd( vaPump, { "4", .T. } )

  FOR i := 1 TO 20
      laClient[ i, dnClientNo   ] := ""
      laClient[ i, dnClientName ] := ""

  NEXT i

RETURN( NIL )


*------------------------------------------------------------------------

FUNCTION IsPumpMPD( pnLPump )    // Is Multi-Produce Dispenser ie :
H1..n
 *-----------------------------------------------------------------------

  LOCAL lcLPump  AS STRING  := PadL( pnLPump, 2, "0" )
  LOCAL lnPos    AS NUMERIC

  lnPos := aScan( vaPump, { |a| a[ dcPumpPLogic ] == lcLPump } )

RETURN( vaPump[ lnPos, dlPumpIsMPD ] )





/*

TEST.CH
-----------------------
#INCLUDE "MyVar.ch"

#DEFINE dnClientNo    1
#DEFINE dnClientName  2


MyVar.ch
-----------------------
// This is all the private and public variable for the apps.

MEMVAR  vaPump




Compile using the following.
harbour test /n /m /w3

Harbour Compiler 0.36  (Build 36) (2001.02.20) (Flex)
Copyright 1999-2000, http://www.harbour-project.org
Compiling 'test.prg'...
test.prg(34) Warning W0019  Variable 'VAPUMP' used but never initialized

test.prg(36) Warning W0019  Variable 'VAPUMP' used but never initialized

Warning W0003  Variable: 'LCLPUMP' declared but not used in function:
'ISPUMPMPD(31)'
Lines 57, Functions/Procedures 2
Generating C source output to 'test.c'... Done.

*/

Sylvain Larche
IoSys Technologie
iosys.videotron.ca


From harbour@matrixlist.com  Sat Apr  7 11:38:01 2001
From: harbour@matrixlist.com (April)
Date: Sat Apr  7 10:38:01 2001
Subject: [Harbour] Codebase RDD - why?
References: <3ACD8A4E.14317.B409F7@localhost>; <3ACDA0B5.22218.10B905F@localhost> <005401c0bec6$052d97d0$921a5e18@bh> <20010406223037.A1064@uran.rcsoft.pl>
Message-ID: <3ACF2781.FE7BDD4F@mail.rosecom.ca>

I am very curious as to why this is considered 'good'?  I am not trying to be
abrasive or confrontational, but:

I had the (mis)fortune of using CodeBase with C so that the C app could seamlessly
work with the Clipper databases of our system.  When we started migrating to
Win32, we adopted CodeBase for Win32 for backwards compatability.

To me CodeBase remains a Clipper style DBF system, just like Harbour.  To write a
PRG to access a CodeBase dbf is the same as accessing clipper and/or harbour.

I believe that there are some custom datatypes available within CodeBase - never
used them - but does that warrant pursing an interface to a Clipper compatible
product?

Just my $0.02 worth

April



From harbour@matrixlist.com  Sat Apr  7 14:33:01 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Sat Apr  7 13:33:01 2001
Subject: [Harbour] Changelog 2001-07-01 21:20 GMT+3
Message-ID: <127976504.20010407211819@belacy.belgorod.su>

2001-07-01 21:20 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
    Changes, provided by  Marek Paliwoda.
    *doc/en/gtslang.txt
    *source/rtl/gtsln/gtsln.c
    *source/rtl/gtsln/kbsln.c
    *source/rtl/gtsln/keytrans.c
      ! Fixed a bug with processing '.' key
      * Added support for an Alt emulation using Meta key (which is
        an ESC key as in most Linux applications).


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Sat Apr  7 17:36:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Sat Apr  7 16:36:01 2001
Subject: [Harbour] ChangeLog 2001-03-24 02:20 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <3ACF2781.FE7BDD4F@mail.rosecom.ca>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAEBODLAA.Ron@Profit-Master.com>

2001-03-24 02:20 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * source/compiler/hbpcode.c
     ! Fixed some StrongType logic.

   * source/compiler/genc.c
   * source/rdd/dbf1.c
   * source/rtl/gtapi.c
   * source/vm/hvm.c
     ! Corrected Compiler warnings.

   * source/compiler/harbour.c
   * include/hbcomp.h
     * Minor formatting.


/* Thanks to warnings reported by Sylvain */ 


From harbour@matrixlist.com  Sun Apr  8 05:07:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Sun Apr  8 04:07:02 2001
Subject: [Harbour] ChangeLog 2001-04-03 21:00 UTC-0400 David G. Holm
In-Reply-To: <200104040103.f3413YP07130@smtp.parrett.net>; from dholm@jsd-llc.com on Tue, Apr 03, 2001 at 09:06:11PM -0400
References: <200104040103.f3413YP07130@smtp.parrett.net>
Message-ID: <20010408090449.W25493@hagbard.davep.org>

On Tue, Apr 03, 2001 at 09:06:11PM -0400, David G. Holm wrote:

>   * doc/hdr_tpl.txt
>   [SNIP]
>     * Replaced the old license with a new license that is derived
>       from the Guile 1.4 license (the old license was based on an
>       older version of Guile) in the header template and in files
>       where I was listed as the primary or only copyright holder.

I was thinking of updating the FAQ today to clear up some of the old
language that spoke of the GPL and the harbour exception as a "placeholder"
until the project had decided upon a final licence. I just realised that I'm
not sure how I should be updating it.

We now appear to have two different licences at play in harbour and it also
seems that the default template (presumably the hint to developers of new
files that they should ideally use that licence) has been modified to
suggest the more verbose version is "the" licence for harbour.

I'm unsure how to best document the fact that the number of licence styles
has multiplied. I'm also unsure how to best document what *the* licence is
seeing as how there didn't appear to be any agreement.

Advice from the copyright holders would be appreciated at this point.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Sun Apr  8 10:25:04 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Sun Apr  8 09:25:04 2001
Subject: [Harbour] utils/hbmake and {M,m}akefile
Message-ID: <20010408132307.Y25493@hagbard.davep.org>

It seems to me that the file "makefile" in utils/hbmake should actually be
called "Makefile" (remember, cases matters on some file systems). Could the
author of hbmake fix this?

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Sun Apr  8 10:26:01 2001
From: harbour@matrixlist.com (Brian Dukes)
Date: Sun Apr  8 09:26:01 2001
Subject: [Harbour] Codebase RDD
In-Reply-To: <20010406204141.N25493@hagbard.davep.org>
References: <3ACC75D4.28736.1900380@localhost> <5vtrctg7rt1njdsnhdmt69u6fqu8tt82oc@4ax.com> <3ACDC8BE.28298.1A7F917@localhost> <20010406204141.N25493@hagbard.davep.org>
Message-ID: <4dp0dtsql3fmgjkget566srq94vsq001pk@4ax.com>

On Fri, 6 Apr 2001 20:41:41 +0100,  Dave Pearson <davep@davep.org> wrote:

>On Fri, Apr 06, 2001 at 01:46:38PM -0400, Sylvain Robert  wrote:
>
>> > I guess it could be possible to make an RDD abstraction to call the
>> > appropriate CodeBase calls.. so any Harbour Developer could link against
>> > Harbour and CodeBase to produce a CodeBase app..
>> 
>>  Not really It must be a RDD replacement Think about the Browse ! 
>
>That's exactly what Brian is suggesting.

hehe, thanks Dave, I had to re-read my comments over again just to make
sure, i'd typed what I thought i'd typed!!

The nice thing about CodeBase, is that when you purchase a copy you get the
source code, which allows you to compile with a variety of compilers, 16/32
LIB or DLL, DOS or Windows ... and I do also believe there is some Unix
version of it too (though, if memory serves me correct, its not the same
physical code).

If a Harbour RDD interface (for want of a better word), was to be developed;
then it would still be possible to maintain alot of the "openness" of
Harbour, and not lokc yourself down to Win-32 or something like that.

Its perhaps something to be considered,  but not to replace a full-blown
effort to have a Harbour RDD for NTX/CDX,etc.

Bri.

-- 
Brian Dukes - email: bdukes@yellowthingy.co.uk
              http://www.yellowthingy.co.uk/
              ICQ: 14502575
Shh! Be vewy, vewy qwiewet!  I'm hunting wuntime ewwors

From harbour@matrixlist.com  Sun Apr  8 10:33:02 2001
From: harbour@matrixlist.com (Brian Dukes)
Date: Sun Apr  8 09:33:02 2001
Subject: [Harbour] Codebase RDD - why?
In-Reply-To: <3ACF2781.FE7BDD4F@mail.rosecom.ca>
References: <3ACD8A4E.14317.B409F7@localhost>; <3ACDA0B5.22218.10B905F@localhost> <005401c0bec6$052d97d0$921a5e18@bh> <20010406223037.A1064@uran.rcsoft.pl> <3ACF2781.FE7BDD4F@mail.rosecom.ca>
Message-ID: <7np0dtsjvvih1u4m800ml4949o33oq4jff@4ax.com>

On Sat, 07 Apr 2001 10:43:13 -0400,  April <awhite@mail.rosecom.ca> wrote:

>I am very curious as to why this is considered 'good'?  I am not trying to be
>abrasive or confrontational, but:
>
>I had the (mis)fortune of using CodeBase with C so that the C app could seamlessly
>work with the Clipper databases of our system.  When we started migrating to
>Win32, we adopted CodeBase for Win32 for backwards compatability.
>
>To me CodeBase remains a Clipper style DBF system, just like Harbour.  To write a
>PRG to access a CodeBase dbf is the same as accessing clipper and/or harbour.
>
>I believe that there are some custom datatypes available within CodeBase - never
>used them - but does that warrant pursing an interface to a Clipper compatible
>product?

April,
I think the point that Sylvian was trying to makem is that CodeBase has been
developed over the past 10+yrs, is well tested and from what I can tell
fairly well engineered.... If a Harbour "interface RDD" were constructed for
it, then Harbour would have a very strong DBFCDX RDD, at a relatively cheap
cost (in terms of Harbour team development efforts, and in terms of physical
Harbour user costs in buying the RDD).

Remember, Harbour is a 100% clipper compatible product, it should be able to
access DBF's and NTX's and CDX's ... etc!  Sylvian's point was this codebase
tool could be taken very quickly and integrated very quickly... which I must
agree, is quite probably true.  But, I don't think (and from comments from
others here), it should detract from the main focus of writing a Harbour RDD
that does just the same as codebase!!

Bri

-- 
Brian Dukes - email: bdukes@yellowthingy.co.uk
              http://www.yellowthingy.co.uk/
              ICQ: 14502575
Shh! Be vewy, vewy qwiewet!  I'm hunting wuntime ewwors

From harbour@matrixlist.com  Sun Apr  8 15:05:04 2001
From: harbour@matrixlist.com (April)
Date: Sun Apr  8 14:05:04 2001
Subject: [Harbour] Codebase RDD - why?
References: <3ACD8A4E.14317.B409F7@localhost>; <3ACDA0B5.22218.10B905F@localhost> <005401c0bec6$052d97d0$921a5e18@bh> <20010406223037.A1064@uran.rcsoft.pl> <3ACF2781.FE7BDD4F@mail.rosecom.ca> <7np0dtsjvvih1u4m800ml4949o33oq4jff@4ax.com>
Message-ID: <3AD0A99D.2E196B3D@mail.rosecom.ca>

Brian Dukes wrote:

> Remember, Harbour is a 100% clipper compatible product, it should be able to
> access DBF's and NTX's and CDX's ... etc!  Sylvian's point was this codebase
> tool could be taken very quickly and integrated very quickly... which I must
> agree, is quite probably true.  But, I don't think (and from comments from
> others here), it should detract from the main focus of writing a Harbour RDD
> that does just the same as codebase!!

I see your & Sylvian's point.  Would this not make a 'freeware' product have a
dependancy on a commercial product.  I guess that having an RDD layer talk to
the codebase library (either static or dynamic) would save a lot of work in the
NTX area, but what are the licensing implications of it?

I guess if I, as a developer, purchased codebase, I could distribute the library
(as previously stated).  So the financial burden would be on me, and there would
(or should) be no conflict of the harbour licensing and the codebase licensing.

Thanks.
April


From harbour@matrixlist.com  Sun Apr  8 15:13:02 2001
From: harbour@matrixlist.com (Brian Dukes)
Date: Sun Apr  8 14:13:02 2001
Subject: [Harbour] Codebase RDD - why?
In-Reply-To: <3AD0A99D.2E196B3D@mail.rosecom.ca>
References: <3ACD8A4E.14317.B409F7@localhost>; <3ACDA0B5.22218.10B905F@localhost> <005401c0bec6$052d97d0$921a5e18@bh> <20010406223037.A1064@uran.rcsoft.pl> <3ACF2781.FE7BDD4F@mail.rosecom.ca> <7np0dtsjvvih1u4m800ml4949o33oq4jff@4ax.com> <3AD0A99D.2E196B3D@mail.rosecom.ca>
Message-ID: <f4a1dt4te6c8hdrcgbejui66gfe713cg6v@4ax.com>

On Sun, 08 Apr 2001 14:10:38 -0400,  April <awhite@mail.rosecom.ca> wrote:

>I see your & Sylvian's point.  Would this not make a 'freeware' product have a
>dependancy on a commercial product.  I guess that having an RDD layer talk to
>the codebase library (either static or dynamic) would save a lot of work in the
>NTX area, but what are the licensing implications of it?

Ok, yes it does save alot of development work (in the first instance);
though I think the general concensus is that Harbour should have its own
coded and supported RDD's for NTX/CDX .. which I would agree with.

And yes it does make an application developed in such away depend upon a
commercial product.. but in just the same way that when folks develop
CA-Clipper applications, and chose to use Six or Comix as their RDD's, they
chose not to take the "standard" RDD's that came with Clipper, but chose
independant commercial ones over it.

>
>I guess if I, as a developer, purchased codebase, I could distribute the library
>(as previously stated).  So the financial burden would be on me, and there would
>(or should) be no conflict of the harbour licensing and the codebase licensing.

You don't distribute the library (only as a DLL if thats your preferred
method).  As a developer you will link against CodeBase and bind it into
your application.   And yes, you're exactly right, the financial burden
would be on you.. not your users as CodeBase is run-time royalty free!

As for conflicts in licensing, i've no idea.. I would expect not, as I
wouldn't expect the harbour licence(s) to inhibit you the developer from
linking against any other 3rd party product.

Bri.

-- 
Brian Dukes - email: bdukes@yellowthingy.co.uk
              http://www.yellowthingy.co.uk/
              ICQ: 14502575
Shh! Be vewy, vewy qwiewet!  I'm hunting wuntime ewwors

From harbour@matrixlist.com  Sun Apr  8 16:13:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Sun Apr  8 15:13:02 2001
Subject: [Harbour] Codebase RDD - why?
In-Reply-To: <3AD0A99D.2E196B3D@mail.rosecom.ca>; from awhite@mail.rosecom.ca on Sun, Apr 08, 2001 at 02:10:38PM -0400
References: <3ACD8A4E.14317.B409F7@localhost>; <3ACDA0B5.22218.10B905F@localhost> <005401c0bec6$052d97d0$921a5e18@bh> <20010406223037.A1064@uran.rcsoft.pl> <3ACF2781.FE7BDD4F@mail.rosecom.ca> <7np0dtsjvvih1u4m800ml4949o33oq4jff@4ax.com> <3AD0A99D.2E196B3D@mail.rosecom.ca>
Message-ID: <20010408201248.B25357@hagbard.davep.org>

On Sun, Apr 08, 2001 at 02:10:38PM -0400, April wrote:

> I see your & Sylvian's point. Would this not make a 'freeware' product
> have a dependancy on a commercial product. 

If it was offered as the only method of getting a working RDD, yes, that
would be the case. That, however, isn't what is being suggested.

Even if it was, because this is free software, anyone who cares enough to
write the code could break such a dependency.

>                                            I guess that having an RDD
> layer talk to the codebase library (either static or dynamic) would save a
> lot of work in the NTX area, but what are the licensing implications of
> it?

It wouldn't save any work.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Sun Apr  8 17:45:03 2001
From: harbour@matrixlist.com (Phil Barnett)
Date: Sun Apr  8 16:45:03 2001
Subject: [Harbour] Codebase RDD - why?
In-Reply-To: <3AD0A99D.2E196B3D@mail.rosecom.ca>
Message-ID: <3AD09561.20397.3AD3C48@localhost>

On 8 Apr 2001, at 14:10, April wrote:

> I see your & Sylvian's point.  Would this not make a 'freeware' product have a
> dependancy on a commercial product.  I guess that having an RDD layer talk to
> the codebase library (either static or dynamic) would save a lot of work in the
> NTX area, but what are the licensing implications of it?

No different than ADS Client/Server, And I see nothing wrong with a 
future DB-2, Oracle, Sybase, Informix if someone goes to the 
trouble to make it.


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@matrixlist.com  Sun Apr  8 20:27:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Sun Apr  8 19:27:02 2001
Subject: [Harbour] ChangeLog 2001-04-03 21:00 UTC-0400 David G. Holm
In-Reply-To: <20010408090449.W25493@hagbard.davep.org>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOECBDLAA.Ron@Profit-Master.com>

2001-04-08 16:15 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * include/hberrors.h
     ! Corrected typo.

   * source/compiler/harbour.sly
   * source/compiler/harbour.y
     ! Corrected few incorrect "Unreachable code warnings".
     ! Corrected hb_compPushLine() in RECOVER and RECOVERUSING

   * source/compiler/harbour.c
   * source/compiler/hbpcode.c
     ! Improved Strong Type logic.

/* FWIW, compiling PP.prg (6117 lines of NON strong typed code, with intense
variable manipulations)
   using -W3 produces only 17 warnings, all are correct as far as static
checking goes. */


From harbour@matrixlist.com  Mon Apr  9 07:44:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Mon Apr  9 06:44:02 2001
Subject: [Harbour] Codebase RDD
In-Reply-To: <4dp0dtsql3fmgjkget566srq94vsq001pk@4ax.com>
References: <20010406204141.N25493@hagbard.davep.org>
Message-ID: <3AD157B9.18567.1DE2F1@localhost>

Brian,
> 
> hehe, thanks Dave, I had to re-read my comments over again just to make
> sure, i'd typed what I thought i'd typed!!

  Sorry My fault, ;(

> 
> The nice thing about CodeBase, is that when you purchase a copy you get the
> source code, which allows you to compile with a variety of compilers, 16/32
> LIB or DLL, DOS or Windows ... and I do also believe there is some Unix
> version of it too (though, if memory serves me correct, its not the same
> physical code).

  If you want a list of all platform they work on follow this link:

  http://www.sequiter.com/products/techstats.htm


> Its perhaps something to be considered,  but not to replace a full-blown
> effort to have a Harbour RDD for NTX/CDX,etc.

  Complety agree and that's what I point earlier in my message !

  Sylvain 


     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Mon Apr  9 07:54:01 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Mon Apr  9 06:54:01 2001
Subject: [Harbour] Codebase RDD - why?
In-Reply-To: <3AD0A99D.2E196B3D@mail.rosecom.ca>
Message-ID: <3AD1593F.32182.23D607@localhost>

April,
 
> I see your & Sylvian's point.  Would this not make a 'freeware' product have a
> dependancy on a commercial product.  I guess that having an RDD layer talk to
> the codebase library (either static or dynamic) would save a lot of work in the
> NTX area, but what are the licensing implications of it?
> I guess if I, as a developer, purchased codebase, I could distribute the library
> (as previously stated).  So the financial burden would be on me, and there would
> (or should) be no conflict of the harbour licensing and the codebase licensing.
> 

  Codebase is like any other third party for clipper and I don't see 
any problem using it with a Free compiler. At the moment you buy 
your original license you can use it as part of your software like 
Comix.

 
  Sylvain 






     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Mon Apr  9 08:27:02 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Mon Apr  9 07:27:02 2001
Subject: [Harbour] Codebase RDD - why?
In-Reply-To: <3AD1593F.32182.23D607@localhost>
Message-ID: <NCBBJKNMIDPJNLJCHCHIAEKHGBAA.harbour@winfakt.com>

Sylvain,

I've just downloaded the Codebase demo's.
It looks very good! ;-))
And my tests run fast!

So, actualy, this is the same as ADS, only from another vendor?

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)

From harbour@matrixlist.com  Mon Apr  9 08:54:01 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Mon Apr  9 07:54:01 2001
Subject: [Harbour] Codebase RDD - why?
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIAEKHGBAA.harbour@winfakt.com>
References: <3AD1593F.32182.23D607@localhost>
Message-ID: <3AD16793.1956.5BD09A@localhost>

Patrick,

> I've just downloaded the Codebase demo's.
> It looks very good! ;-))
> And my tests run fast!

  Yes really fast ins't !
 
> So, actualy, this is the same as ADS, only from another vendor?

  Did ADS can run on Linux,Unix,Mac etc... ?

  Codebase can be integrate in our application no Extra DLL, and 
review the cost on their site about the Client/server solution !!

  Codebase is more like COMIX for clipper !

 Sylvain 

> 
> Regards,
> 
> Patrick Mast
> www.Patrick.Be.kz (By Bekz.net)
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Mon Apr  9 09:24:01 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Mon Apr  9 08:24:01 2001
Subject: [Harbour] Codebase RDD - why?
In-Reply-To: <3AD16793.1956.5BD09A@localhost>
Message-ID: <NCBBJKNMIDPJNLJCHCHIOEKHGBAA.harbour@winfakt.com>

Sylvain,


> > So, actualy, this is the same as ADS, only from another vendor?
>Did ADS can run on Linux,Unix,Mac etc... ?
They are working on it now.

>Codebase can be integrate in our application no Extra DLL, and
>review the cost on their site about the Client/server solution !!
Does the Codebase licence give us the permission to integrate the Codebase
source code into Harbour?
Who's gonna make the "Codebase for Harbour"?

Maybe we can contact the Sequiter people to help us?

>Codebase is more like COMIX for clipper!
What do you want to say??

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)


From harbour@matrixlist.com  Mon Apr  9 11:04:01 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Mon Apr  9 10:04:01 2001
Subject: [Harbour] Codebase RDD - why?
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIOEKHGBAA.harbour@winfakt.com>
References: <3AD16793.1956.5BD09A@localhost>
Message-ID: <3AD18743.2706.D79A31@localhost>

Patrick,

> >Did ADS can run on Linux,Unix,Mac etc... ?
> They are working on it now.
  Nice to know !

> 
> >Codebase can be integrate in our application no Extra DLL, and
> >review the cost on their site about the Client/server solution !!
> Does the Codebase licence give us the permission to integrate the Codebase
> source code into Harbour?

  I'm pretty sure that you can't integrated the source code of the 
codebase.lib in Harbour, but I'm sure that you can distribute the 
layer for codebase that the Harbour crew can made !. And in my 
point of vue Sequiter software people will be grateful for that the 
most compiler used their lib the more developper that will buy thier 
license !

> Who's gonna make the "Codebase for Harbour"?
 That's the real question !. If it's involved to many C coding I'm not 
the better one ! ;(. I'll begin to review how ADS as been integrated 
to harbour shortly !

> 
> Maybe we can contact the Sequiter people to help us?

 This is the Email of the guy who I wrote to !
  ksawyer@codebase.com

 
> >Codebase is more like COMIX for clipper!
> What do you want to say??

 I just want to say that Codebase is more natural for me than using 
external DLL.Codebase have the 2 options DLL or static library.

But as Brian suggest I dowloaded ADS local server last week and 
I'll give it a try until the Harbour crew decide what they want to do 
with Codebase !

  Best Regards,

  Sylvain 
 



From harbour@matrixlist.com  Mon Apr  9 11:07:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr  9 10:07:02 2001
Subject: [Harbour] Codebase RDD - why?
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIAEKHGBAA.harbour@winfakt.com>
References: <3AD1593F.32182.23D607@localhost>
Message-ID: <200104091403.f39E3XP16020@smtp.parrett.net>

** Reply to message from "Patrick Mast" <harbour@winfakt.com> on Mon, 9
Apr 2001 13:26:25 +0200

> So, actualy, this is the same as ADS, only from another vendor?

Similar to, perhaps, but hardly same as!
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr  9 11:14:01 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Mon Apr  9 10:14:01 2001
Subject: [Harbour] Codebase RDD - why?
In-Reply-To: <200104091403.f39E3XP16020@smtp.parrett.net>
Message-ID: <NCBBJKNMIDPJNLJCHCHIGEKJGBAA.harbour@winfakt.com>

David,

> > So, actualy, this is the same as ADS, only from another vendor?
> Similar to, perhaps, but hardly same as!
Do you mean this good or bad?

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)

From harbour@matrixlist.com  Mon Apr  9 11:26:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr  9 10:26:02 2001
Subject: [Harbour] Codebase RDD - why?
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIGEKJGBAA.harbour@winfakt.com>
References: <200104091403.f39E3XP16020@smtp.parrett.net>
Message-ID: <200104091422.f39EMVP17995@smtp.parrett.net>

** Reply to message from "Patrick Mast" <harbour@winfakt.com> on Mon, 9
Apr 2001 16:13:40 +0200

> > > So, actualy, this is the same as ADS, only from another vendor?
> > Similar to, perhaps, but hardly same as!
> Do you mean this good or bad?

That was just a statement of fact, not a value judgement. They are
completely different products for doing the same thing: Interfacing
programs to database files.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr  9 11:33:02 2001
From: harbour@matrixlist.com (Bill Schuler)
Date: Mon Apr  9 10:33:02 2001
Subject: [Harbour] Codebase RDD - why?
Message-ID: <60026F9F4AE1D41180E600508B550E29178606@postal.extendsys.com>

Just an FYI for everyone.  Our developers are working on a Linux version of
Advantage today.  We are planning on having beta in July and release 6-8
weeks after. 
 
Bill Schuler
Advantage Product Manager
Phone (800)235-7576 ext. 6051
      (208)322-7575 ext. 6051
Fax   (208)327-5006
bills@extendsys.com
5777 N. Meeker Ave. 
Boise, ID 83711
http://www.advantagedatabase.com
http://solutions.advantagedatabase.com






From harbour@matrixlist.com  Mon Apr  9 12:40:03 2001
From: harbour@matrixlist.com (Alejandro de Garate)
Date: Mon Apr  9 11:40:03 2001
Subject: [Harbour] terms of use
Message-ID: <F310k84FTA7OIkUqLpH00002e5e@hotmail.com>

Hi
I been outside for a small holidays and I worry about the MS license
issues.
I am a Hotmail Web mail user for almost two years. Last year, perhaps
in the first quarter (I don't remember well) I receive an advice or
notificacion about Hotmail was improving his authentication system
and so they will use a unique login system (Passport) for all his
service.
As far I remember there was no choice in accept/refuse this service
(but I could be wrong).

Reading the login html page that I use for access the web mail, the
login form is sending to passport.com
I don't know for POP3 mail's service.

I know it is my fault not putting proper attention, but usually one
read the license terms the first time and not anymore, and give it
a common sense read not a lawyer interpretation.

I think that those terms aren't the same when I suscribe the service.

Hope this can't cause any troubles.
regards
Alejandro


_________________________________________________________________________
Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com.


From harbour@matrixlist.com  Mon Apr  9 14:04:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr  9 13:04:02 2001
Subject: [Harbour] New Harbour License
In-Reply-To: <20010408090449.W25493@hagbard.davep.org>
References: <200104040103.f3413YP07130@smtp.parrett.net> <200104040103.f3413YP07130@smtp.parrett.net>
 ; from dholm@jsd-llc.com on Tue, Apr 03, 2001 at 09:06:11PM -0400
Message-ID: <200104091700.f39H0jP01347@smtp.parrett.net>

** Reply to message from Dave Pearson <davep@davep.org> on Sun, 8 Apr
2001 09:04:49 +0100

> Advice from the copyright holders would be appreciated at this point.

*The* current primary Harbour License is described in doc/license.txt
(which is duplicated in doc/en/license.txt). The current license was
adopted from the then-current Guile license. Not all source code
includes the exception text. Some code is public domain.

I placed the proposed revised license in my source files and in
hdr_tpl.txt, because I believe that it should be adapted as the primary
license, because the Guile license has changed. By the way, my use of
the updated license text does not multiply the number of Harbour
Licenses, it merely increments the number.

In order for the new text that is based on the Guile 1.4 license to
become the new Harbour License in doc/license.txt, it needs to be
approved by all of the copyright holders that reference the license.txt
file (the Harbour Exception only applies to files that include it
directly or reference the license.txt file). The following authors
reference the license.txt file (many more authors include the exception
in the source code - I can provide a list if desired):

 Alejandro de Garate <alex_degarate@hotmail.com>
 David G. Holm <dholm@jsd-llc.com>
 Eddie Runia <eddie@runia.com>
 Felipe G. Coury <fcoury@flexsys-ci.com>
 Jf. Lefebvre <jfl@mafact.com> and Ra. Cuylen <rac@mafact.com>
 Jon Berg <jmberg@pnh10.med.navy.mil>
 Jose Gimenez (JFG) <jfgimenez@wanadoo.es>
 Jose Lalin <dezac@corevia.com>
 Luiz Rafael Culik <culik@sl.conex.net>
 Matthew Hamilton <mhamilton@bunge.com.au>
 Maurilio Longo <maurilio.longo@libero.it>
 Paul Tucker <ptucker@sympatico.ca>
 Ron Pinkas <Ron@Profit-Master.com>
 Victor Szakats <info@szelvesz.hu>

And I hereby grant my approval for the new Harbour License text.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr  9 16:12:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Mon Apr  9 15:12:02 2001
Subject: [Harbour] ChanLog 2001-04-09 11:50 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <60026F9F4AE1D41180E600508B550E29178606@postal.extendsys.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAECGDLAA.Ron@Profit-Master.com>

2001-04-09 11:50 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * include/hberrors.h
   * source/compiler/hbgenerr.c
     + Added #define HB_COMP_WARN_PARAM_SUSPECT 18 -> "4Suspecious
parameter: %s expected: \'%s\'"

   * include/hbcomp.h
     + Added extern PCOMDECLARED  hb_comp_pReleaseDeclared;

   * source/compiler/harbour.c
     + Added static void hb_compDeclaredInit( void ) initializes declaration
of standard functions;

   * source/compiler/genc.c
     * Changed release code from hb_comp_pFirstDeclared to
hb_comp_pReleaseDeclared.

   * source/compiler/hbpcode.c
     * Many refinements.


Implementation of standard function declarations is ready, definitions
themselves have to be completed. I will greatly appreciate any help, from
anyone willing to enter standard functions declarations into the ready
structure.

Here is what it looks like:

//---------------------------------------//

void hb_compDeclaredInit( void )
{
  /*
    \x5c -> ByRef    (+60)             '-'  -> NIL
    \x7a -> Optional (+90)             'U'  -> Undefined

    ' '  -> AnyType                    'A'  -> Array
                   'B'  -> Array
    'A'  -> Array of AnyType           'a'  -> Array of Arrays
         'b'  -> Array of Blocks
    \x7a -> Optional AnyType           \x9b -> Optional Array
\x9c -> Optional Block
    \x94 -> Optional Array of AnyType  \xb5 -> Optional Array of Arrays
\xb6 -> Optional Array of Blocks

    'C'  -> Character/String           'D'  -> Date
                    'L'  -> Logical
    'c'  -> Array of Strings           'd'  -> Array of Dates
          'l'  -> Array of Logicals
    \x9d -> Optional Character         \x9e -> Optional Date
\xa6 -> Optional Logical
    \xb7 -> Optional Array of Strings  \xb8 -> Optional Array of Dates
\xc0 -> Optional Array of Logicals

    'N'  -> Numeric                    'O'  -> Object
                  'S'  -> Class
    'n'  -> Array of Numerics          'o'  -> Array of Objects
        's'  -> Array of Classes
    \xa8 -> Optional Numeric           \xa9 -> Optional Object
\xad -> Optional Class
    \xc2 -> Optional Array of Numerics \xc3 -> Optional Array of Objects
\xc7 -> Optional Array of Classes

                                Name        Ret  Param Types              #
of Prams  Class  Param Classes  Next
                                ----------  ---  -----------------------  --
--------  -----  -------------  ------ */
   static COMDECLARED s_001 = { "AADD"    , ' ', "A "                   , 2
, NULL , NULL         , NULL   };
   static COMDECLARED s_002 = { "ABS"     , 'N', "N"                    , 1
, NULL , NULL         , &s_001 };
   static COMDECLARED s_003 = { "ACHOICE" , 'N', "NNNNc\x7a\x9d\xa8\xa8", 9
, NULL , NULL         , &s_002 };

   hb_comp_pFirstDeclared   = &s_003; /* Change to BOTTOM item. */
   hb_comp_pLastDeclared    = &s_001;
   hb_comp_pReleaseDeclared = &s_001;
}
//---------------------------------------//

Please ignore the "Class" and "Param Classes" columns (use NULL) and don't
declare class related functions.

If anyone is ready to volunteer, just let me know, so we don't duplicate
efforts.

Ron


From harbour@matrixlist.com  Mon Apr  9 16:29:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Mon Apr  9 15:29:01 2001
Subject: [Harbour] CHANGELOG: 2001-04-09 12:30 UTC-0800
Message-ID: <000901c0c12c$26293350$921a5e18@bh>

2001-04-09 12:30 UTC-0800 Brian Hays <bhays@abacuslaw.com>
   * contrib/rdd_ads/ads1.c
      * added scope optimization to DBOI_KEYCOUNT


Brian Hays
Abacus Data Systems, Inc.



From harbour@matrixlist.com  Mon Apr  9 17:18:02 2001
From: harbour@matrixlist.com (Timur Khusainov)
Date: Mon Apr  9 16:18:02 2001
Subject: [Harbour] clippper tools
References: <000901c0c12c$26293350$921a5e18@bh>
Message-ID: <001801c0c133$15b7bdf0$9599e6c3@homercv2zejwvn>

Hi,

I've read somewhere in harbour documentation that support for clipper tools
compability was planed in harbour project. But I hardly find a few of code
for this purpose at harbour's ftp. Could anybody say anything about these
plans and what is going to be done this way.

Best wishes,
Timur Khusainov


From harbour@matrixlist.com  Mon Apr  9 17:33:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr  9 16:33:02 2001
Subject: [Harbour] clippper tools
In-Reply-To: <001801c0c133$15b7bdf0$9599e6c3@homercv2zejwvn>
References: <000901c0c12c$26293350$921a5e18@bh>
Message-ID: <200104092029.f39KTDP23067@smtp.parrett.net>

** Reply to message from "Timur Khusainov" <timur4work@yahoo.com> on
Mon, 9 Apr 2001 23:23:52 +0300

> I've read somewhere in harbour documentation that support for clipper tools
> compability was planed in harbour project. But I hardly find a few of code
> for this purpose at harbour's ftp. Could anybody say anything about these
> plans and what is going to be done this way.

We need volunteers to develop the code needed for Clipper Tools
compatibility.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr  9 17:48:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Mon Apr  9 16:48:02 2001
Subject: [Harbour] ChanLog 2001-04-09 11:50 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKAECGDLAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Mon, Apr 09, 2001 at 12:15:30PM -0700
References: <60026F9F4AE1D41180E600508B550E29178606@postal.extendsys.com> <LOBBKAFMMFGJIKLMEPAKAECGDLAA.Ron@Profit-Master.com>
Message-ID: <20010409214704.F25357@hagbard.davep.org>

On Mon, Apr 09, 2001 at 12:15:30PM -0700, Ron Pinkas wrote:
> 2001-04-09 11:50 UTC-0800 Ron Pinkas <ron@profit-master.com>
>    * include/hberrors.h
>    * source/compiler/hbgenerr.c
>      + Added #define HB_COMP_WARN_PARAM_SUSPECT 18 -> "4Suspecious
> parameter: %s expected: \'%s\'"

Should that actually read "Suspicious"?

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Mon Apr  9 18:17:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Mon Apr  9 17:17:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-09 02:20 UTC-0800
Message-ID: <001101c0c13b$44ceab00$921a5e18@bh>

2001-04-09 02:20 UTC-0800 Brian Hays <bhays@abacuslaw.com>
   * source/compiler/genc.c
     * Posted a fix from Ron to pDeclared handling


Brian Hays




From harbour@matrixlist.com  Mon Apr  9 19:54:02 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Mon Apr  9 18:54:02 2001
Subject: [Harbour] New Harbour License
References: <200104040103.f3413YP07130@smtp.parrett.net> <200104040103.f3413YP07130@smtp.parrett.net> ; from dholm@jsd-llc.com on Tue, Apr 03, 2001 at 09:06:11PM -0400 <200104091700.f39H0jP01347@smtp.parrett.net>
Message-ID: <004901c0c148$0d9be320$85d4d7c8@luizguim>

David

> And I hereby grant my approval for the new Harbour License text.

You have my aproval for the new Harbour Licence.This new one should exist
when we started

Regards

Luiz Rafael Culik




From harbour@matrixlist.com  Mon Apr  9 19:54:20 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Mon Apr  9 18:54:20 2001
Subject: [Harbour] Codebase RDD - why?
References: <60026F9F4AE1D41180E600508B550E29178606@postal.extendsys.com>
Message-ID: <004b01c0c148$1837f3a0$85d4d7c8@luizguim>

Bill


> Just an FYI for everyone.  Our developers are working on a Linux version
of
> Advantage today.  We are planning on having beta in July and release 6-8
> weeks after.

This is an greate notice. Btw , it will support all functions of the Windows
Version


Regards

Luiz Rafael Culik


From harbour@matrixlist.com  Tue Apr 10 00:01:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Mon Apr  9 23:01:02 2001
Subject: [Harbour] REPLACE rounding
Message-ID: <000701c0c16a$fc4246f0$2400a8c0@local>

Here's an interesting difference between the ADS rdd and Clipper/Harbour:
If a Numeric field has no decimals, but a REPLACE puts a value that does,
ADS truncates the decimals, but Clipper and the Harbour DBF rdd ROUNDS!

local aStruct := { { "CHARACTER", "C", 25, 0 }, ;
                      { "NUMERIC",   "N",  8, 0 }, ;
                      { "DOUBLE",    "N",  8, 2 }, ;
                      { "DATE",      "D",  8, 0 }, ;
                      { "NOTE",      "M", 10, 0 }, ;
                      { "LOGICAL",   "L",  1, 0 } }
dbCreate("testrep", aStruct)

REPLACE NUMERIC WITH 5.9
? Numeric

...ADS prints 5, DBF prints 6.

I see that our dbf1.c does some explicit rounding in PutValue, so we should
make it the same.
This goes on my to-do list but it will be a while before I get to it...

Brian



From harbour@matrixlist.com  Tue Apr 10 00:25:04 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Mon Apr  9 23:25:04 2001
Subject: [Harbour] dbfcdx1.c WARNINGS
In-Reply-To: <000701c0c16a$fc4246f0$2400a8c0@local>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAECIDLAA.Ron@Profit-Master.com>

Horacio ?

Warning W8012 source\rdd\dbfcdx\dbfcdx1.c 1235: Comparing signed and
unsigned values in function hb_cdxKeyCompare
Warning W8012 source\rdd\dbfcdx\dbfcdx1.c 2111: Comparing signed and
unsigned values in function hb_cdxTagTagLoad
Warning W8012 source\rdd\dbfcdx\dbfcdx1.c 3006: Comparing signed and
unsigned values in function hb_cdxIndexPageRead
Warning W8012 source\rdd\dbfcdx\dbfcdx1.c 3013: Comparing signed and
unsigned values in function hb_cdxIndexPageWrite
Warning W8008 source\rdd\dbfcdx\dbfcdx1.c 3678: Condition is always false in
function hb_cdxOrderCreate
Warning W8066 source\rdd\dbfcdx\dbfcdx1.c 3679: Unreachable code in function
hb_cdxOrderCreate
Warning W8008 source\rdd\dbfcdx\dbfcdx1.c 3680: Condition is always false in
function hb_cdxOrderCreate
Warning W8066 source\rdd\dbfcdx\dbfcdx1.c 3681: Unreachable code in function
hb_cdxOrderCreate
Warning W8066 source\rdd\dbfcdx\dbfcdx1.c 4295: Unreachable code in function
hb_cdxSeek
Warning W8012 source\rdd\dbfcdx\dbfcdx1.c 4317: Comparing signed and
unsigned values in function hb_cdxGoTo
Warning W8012 source\rdd\dbfcdx\dbfcdx1.c 4343: Comparing signed and
unsigned values in function hb_cdxGoTo
Warning W8004 source\rdd\dbfcdx\dbfcdx1.c 4435: 'uiTag' is assigned a value
that is never used in function hb_cdxGoHot


From harbour@matrixlist.com  Tue Apr 10 00:45:03 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Mon Apr  9 23:45:03 2001
Subject: [Harbour] ChangeLog 2001-04-09 22:40 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKAECIDLAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKECIDLAA.Ron@Profit-Master.com>

2001-04-09 22:40 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * source/compiler/hbgenerr.c
     * Corrected spelling for suspicious.

   * source/compiler/hbpcode.c
     * Commented one debung printf()

   * include/hbcomp.h
     + Added extern PCOMCLASS hb_comp_pReleaseClass

   * source/compiler/genc.c
     + Added logic to release declared classes after compilation.

   * source/compiler/harbour.c
     + Added logic for standard classes declaration to hb_compDeclaredInit()
     + Added ERROR class declaration and started GET class declaration


From harbour@matrixlist.com  Tue Apr 10 01:05:03 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 10 00:05:03 2001
Subject: [Harbour] Looking for HELP
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKAECIDLAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEECJDLAA.Ron@Profit-Master.com>

Dear Friends,

I need help with a task which does NOT require any C coding skills, but
requires competence and time. As you might know I have completed the system
that allows us to declare Functions and Classes in Harbour.

Such declaration includes:

   Function Name
   Return Type
   Parameters Type (required and optionals)
   No of Parameters
   Class ( if the return type is 'S' for class )
   Parameters Classes ( for each parameter of type 'S' )

Method declarations use the exact same format. Class declaration simply list
its methods. Properties are just parameterLESS methods.

I now have completed the system that allows us to BURN-INto the C code, the
STANDARD Functions and Classes of Harbour.

This is where I need your assistance. Few of you had expressed interest in
contributing but did not know where to start. This task could provide a
great starting point, as it does NOT require 'C' knowledge, just competence
and common sense.

Here is an example of what the ERROR class looks like:

  /*                                     Name            Ret  Param Types
# of Prams  Class   Param Classes  Next
                                         --------------  ---  --------------
---------  ----------  ------  -------------  ------------   */
   static COMDECLARED s_ERROR_01    = { "ARGS"         , 'A', NULL
, 0         , NULL  , NULL         , NULL           };
   static COMDECLARED s_ERROR_02    = { "CANDEFAULT"   , 'B', NULL
, 0         , NULL  , NULL         , &s_ERROR_01    };
   static COMDECLARED s_ERROR_03    = { "CANRETRY"     , 'B', NULL
, 0         , NULL  , NULL         , &s_ERROR_02    };
   static COMDECLARED s_ERROR_04    = { "CANSUBSTITUTE", 'B', NULL
, 0         , NULL  , NULL         , &s_ERROR_03    };
   static COMDECLARED s_ERROR_05    = { "CARGO"        , ' ', NULL
, 0         , NULL  , NULL         , &s_ERROR_04    };
   static COMDECLARED s_ERROR_06    = { "DESCRIPTION"  , 'S', NULL
, 0         , NULL  , NULL         , &s_ERROR_05    };
   static COMDECLARED s_ERROR_07    = { "FILENAME"     , 'S', NULL
, 0         , NULL  , NULL         , &s_ERROR_06    };
   static COMDECLARED s_ERROR_08    = { "GENCODE"      , 'N', NULL
, 0         , NULL  , NULL         , &s_ERROR_07    };
   static COMDECLARED s_ERROR_09    = { "OPERATION"    , 'S', NULL
, 0         , NULL  , NULL         , &s_ERROR_08    };
   static COMDECLARED s_ERROR_10    = { "OSCODE"       , 'N', NULL
, 0         , NULL  , NULL         , &s_ERROR_09    };
   static COMDECLARED s_ERROR_11    = { "SEVERITY"     , 'N', NULL
, 0         , NULL  , NULL         , &s_ERROR_10    };
   static COMDECLARED s_ERROR_12    = { "SUBCODE"      , 'N', NULL
, 0         , NULL  , NULL         , &s_ERROR_11    };
   static COMDECLARED s_ERROR_13    = { "SUBSYSTEM"    , 'S', NULL
, 0         , NULL  , NULL         , &s_ERROR_12    };
   static COMDECLARED s_ERROR_14    = { "TRIES"        , 'N', NULL
, 0         , NULL  , NULL         , &s_ERROR_13    };

Please let me know if interested...

Ron


From harbour@matrixlist.com  Tue Apr 10 04:20:03 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Tue Apr 10 03:20:03 2001
Subject: [Harbour] Looking for HELP
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEECJDLAA.Ron@Profit-Master.com>
Message-ID: <NCBBJKNMIDPJNLJCHCHIMEKOGBAA.harbour@winfakt.com>

Ron,


> I need help with a task which does NOT require any C coding skills, but
> requires competence and time. As you might know I have completed 
> the system
> that allows us to declare Functions and Classes in Harbour.
[SNIP]

Sorry, but I don't understand what we nee do do?

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)

From harbour@matrixlist.com  Tue Apr 10 06:12:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Tue Apr 10 05:12:02 2001
Subject: [Harbour] Looking for HELP
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEECJDLAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Mon, Apr 09, 2001 at 09:09:21PM -0700
References: <LOBBKAFMMFGJIKLMEPAKAECIDLAA.Ron@Profit-Master.com> <LOBBKAFMMFGJIKLMEPAKEECJDLAA.Ron@Profit-Master.com>
Message-ID: <20010410100845.K25357@hagbard.davep.org>

On Mon, Apr 09, 2001 at 09:09:21PM -0700, Ron Pinkas wrote:

> I need help with a task which does NOT require any C coding skills, but
> requires competence and time. As you might know I have completed the
> system that allows us to declare Functions and Classes in Harbour.
>
> [SNIP]

Perhaps it's just me but I can't actually see in that text what it is you're
saying needs to be done, to what, and why. Was there something missing from
that text?

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Tue Apr 10 06:12:15 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Tue Apr 10 05:12:15 2001
Subject: [Harbour] New Harbour License
In-Reply-To: <200104091700.f39H0jP01347@smtp.parrett.net>; from dholm@jsd-llc.com on Mon, Apr 09, 2001 at 01:03:26PM -0400
References: <200104040103.f3413YP07130@smtp.parrett.net> <200104040103.f3413YP07130@smtp.parrett.net> <20010408090449.W25493@hagbard.davep.org> <200104091700.f39H0jP01347@smtp.parrett.net>
Message-ID: <20010410100724.J25357@hagbard.davep.org>

On Mon, Apr 09, 2001 at 01:03:26PM -0400, David G. Holm wrote:

> I placed the proposed revised license in my source files and in
> hdr_tpl.txt, because I believe that it should be adapted as the primary
> license, because the Guile license has changed. 

Agreed. So it would make sense for the FAQ to mention that we currently have
two exceptions, one being more verbose than the other, but the intent of
both of them being the same? Further, it should say they we are attempting
to phase out the old version of the exception in an effort to clear up
confusion as to what the exception was telling people?

>                                                 By the way, my use of the
> updated license text does not multiply the number of Harbour Licenses, it
> merely increments the number.

Multiplying and incrementing aren't the same thing? Hmm, they were when I
was at school.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Tue Apr 10 07:02:04 2001
From: harbour@matrixlist.com (Martin Vogel)
Date: Tue Apr 10 06:02:04 2001
Subject: [Harbour] clippper tools
References: <000901c0c12c$26293350$921a5e18@bh> <200104092029.f39KTDP23067@smtp.parrett.net>
Message-ID: <3AD2DA44.B3327733@urz.uni-heidelberg.de>

> > I've read somewhere in harbour documentation that support for clipper tools
> > compability was planed in harbour project. But I hardly find a few of code
> > for this purpose at harbour's ftp. Could anybody say anything about these
> > plans and what is going to be done this way.
> 
> We need volunteers to develop the code needed for Clipper Tools
> compatibility.

I have finished the string functions but I still need some time to test them (lot of work in my
"real" job at the moment). Is it possible to have a CVS account so that I can upload the files after
testing (my sourceforge account name is "mbirdyg") ? 
And should I put the files in contrib/libct ? If so, I need to replace some files of the current
contrib/libct. How can this be done ?

Regards Martin

From harbour@matrixlist.com  Tue Apr 10 10:32:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr 10 09:32:02 2001
Subject: [Harbour] New Harbour License
In-Reply-To: <20010410100724.J25357@hagbard.davep.org>
References: <200104040103.f3413YP07130@smtp.parrett.net> <200104040103.f3413YP07130@smtp.parrett.net>
 <20010408090449.W25493@hagbard.davep.org> <200104091700.f39H0jP01347@smtp.parrett.net>
 <200104091700.f39H0jP01347@smtp.parrett.net> ; from dholm@jsd-llc.com on Mon, Apr 09, 2001 at 01:03:26PM -0400
Message-ID: <200104101329.f3ADT0P27410@smtp.parrett.net>

** Reply to message from Dave Pearson <davep@davep.org> on Tue, 10 Apr
2001 10:07:24 +0100

> Agreed. So it would make sense for the FAQ to mention that we currently have
> two exceptions, one being more verbose than the other, but the intent of
> both of them being the same? Further, it should say they we are attempting
> to phase out the old version of the exception in an effort to clear up
> confusion as to what the exception was telling people?

Sounds good to me.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 10 12:41:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 10 11:41:01 2001
Subject: [Harbour] Looking for HELP
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIMEKOGBAA.harbour@winfakt.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIECMDLAA.Ron@Profit-Master.com>

Patrick,

> > I need help with a task which does NOT require any C coding skills, but
> > requires competence and time. As you might know I have completed
> > the system
> > that allows us to declare Functions and Classes in Harbour.
> [SNIP]
>
> Sorry, but I don't understand what we nee do?

We need to complete the list of standard functions, as well as standard
classes methods and vars. I started the lists, they exists in a function
called hb_compDeclaredInit() in source\compiler\harbour.c.

I listed 2 samples showing what the lists look like, so prospect volunteers
may see it doesn't require 'C' coding skills, rather a "fill in the blanks
approach". No CVS access or 'C' knowledge needed, and I'll gladly help and
coordinate this effort, just contact me directly.

Again here is the started functions list:

   /*                           Name        Ret  Param Types              #
of Prams  Class  Param Classes  Next
                                ----------  ---  -----------------------  --
--------  -----  -------------  ------ */
   static COMDECLARED s_001 = { "AADD"    , ' ', "A "                   , 2
, NULL , NULL         , NULL   };
   static COMDECLARED s_002 = { "ABS"     , 'N', "N"                    , 1
, NULL , NULL         , &s_001 };
   static COMDECLARED s_003 = { "ACHOICE" , 'N', "NNNNc\x7a\x9d\xa8\xa8", 9
, NULL , NULL         , &s_002 };

So if X wanted to help, he could see (from NG) that the next line should be
for ACLONE() and should look like this:

   static COMDECLARED s_004 = { "ACLONE"  , 'A', "A"                    , 1
, NULL , NULL         , &s_003 };

That's because the s_0004 is a sequential counter (next to s_0003), "ACLONE"
is the next function alphabetically, it returns a value of type 'A' (Array),
it accepts only 1 parameter of type 'A', it does NOT get any class parameter
and does NOT return a class value (NULL, NULL), and finally the &s_003 is
also a sequential counter pointing to the line just above.

The "funny" '\x7a' etc, are simply values extracted from this table:

  /*
    \x5c -> ByRef    (+60)             '-'  -> NIL
    \x7a -> Optional (+90)             'U'  -> Undefined

    ' '  -> AnyType                    'A'  -> Array
                   'B'  -> Array
    'A'  -> Array of AnyType           'a'  -> Array of Arrays
         'b'  -> Array of Blocks
    \x7a -> Optional AnyType           \x9b -> Optional Array
\x9c -> Optional Block
    \x94 -> Optional Array of AnyType  \xb5 -> Optional Array of Arrays
\xb6 -> Optional Array of Blocks

    'C'  -> Character/String           'D'  -> Date
                    'L'  -> Logical
    'c'  -> Array of Strings           'd'  -> Array of Dates
          'l'  -> Array of Logicals
    \x9d -> Optional Character         \x9e -> Optional Date
\xa6 -> Optional Logical
    \xb7 -> Optional Array of Strings  \xb8 -> Optional Array of Dates
\xc0 -> Optional Array of Logicals

    'N'  -> Numeric                    'O'  -> Object
                  'S'  -> Class
    'n'  -> Array of Numerics          'o'  -> Array of Objects
        's'  -> Array of Classes
    \xa8 -> Optional Numeric           \xa9 -> Optional Object
\xad -> Optional Class
    \xc2 -> Optional Array of Numerics \xc3 -> Optional Array of Objects
\xc7 -> Optional Array of Classes
   */

It lists all the possible descriptors of types, a Function may receive as
Parameter, or return as the Return Value. For example the table above will
show that an OPTIONAL DATE parameter is represented as '\x9e'.

Because this is so structured multiple volunteers can work concurrently by
splitting the list alphabetically.

Hope this answered your question.

Ron


From harbour@matrixlist.com  Tue Apr 10 14:49:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr 10 13:49:02 2001
Subject: [Harbour] clippper tools
In-Reply-To: <3AD2DA44.B3327733@urz.uni-heidelberg.de>
References: <000901c0c12c$26293350$921a5e18@bh> <200104092029.f39KTDP23067@smtp.parrett.net>
Message-ID: <200104101745.f3AHjEP20833@smtp.parrett.net>

** Reply to message from Martin Vogel
<martin.vogel@urz.uni-heidelberg.de> on Tue, 10 Apr 2001 12:02:44 +0200

> I have finished the string functions but I still need some time to test them (lot of work in my
> "real" job at the moment). Is it possible to have a CVS account so that I can upload the files after
> testing (my sourceforge account name is "mbirdyg") ? 

You are now a Harbour Project Developer. You'll need to switch from the
anonymous :pserver: access method to the passworded :ext: access method.
If you run into any problems with the switch, ask for help here on the
list. Several of us have gone through this process with varying degrees
of initial success...

> And should I put the files in contrib/libct ? If so, I need to replace some files of the current
> contrib/libct. How can this be done ?

Yes, the files should go in contrib/libct. To replace any existing
files, run 'cvs update', then copy your new files into your local
contrib/libct directory, run 'cvs add' for any new files (but not for
replacement files), then run 'cvs commit'. The commit will add the new
files and replace the existing files.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 10 15:03:01 2001
From: harbour@matrixlist.com (Martin Vogel)
Date: Tue Apr 10 14:03:01 2001
Subject: [Harbour] clippper tools
References: <000901c0c12c$26293350$921a5e18@bh> <200104092029.f39KTDP23067@smtp.parrett.net> <200104101745.f3AHjEP20833@smtp.parrett.net>
Message-ID: <3AD34B12.9D827F78@urz.uni-heidelberg.de>

"David G. Holm" schrieb:

> You are now a Harbour Project Developer. You'll need to switch from the
> anonymous :pserver: access method to the passworded :ext: access method.
> If you run into any problems with the switch, ask for help here on the
> list. Several of us have gone through this process with varying degrees
> of initial success...
 
Ok, I'll give it a try...

> Yes, the files should go in contrib/libct. To replace any existing
> files, run 'cvs update', then copy your new files into your local
> contrib/libct directory, run 'cvs add' for any new files (but not for
> replacement files), then run 'cvs commit'. The commit will add the new
> files and replace the existing files.

Ok, but I have also rewritten some of the existing functions in C, and they are now coded in a
different 
file...should we remove the "old" files from CVS (since some functions may be duplicated) and how
can this be done ?

Thanks David for your help !

Regards

Martin

From harbour@matrixlist.com  Tue Apr 10 15:11:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr 10 14:11:02 2001
Subject: [Harbour] clippper tools
In-Reply-To: <3AD34B12.9D827F78@urz.uni-heidelberg.de>
References: <000901c0c12c$26293350$921a5e18@bh> <200104092029.f39KTDP23067@smtp.parrett.net>
 <200104101745.f3AHjEP20833@smtp.parrett.net>
Message-ID: <200104101806.f3AI6xP23046@smtp.parrett.net>

** Reply to message from Martin Vogel
<martin.vogel@urz.uni-heidelberg.de> on Tue, 10 Apr 2001 20:04:02 +0200

> Ok, but I have also rewritten some of the existing functions in C, and they are now coded in a different 
> file...should we remove the "old" files from CVS (since some functions may be duplicated) and how
> can this be done ?

To remove a file, first delete it from your local directory, then use
the command 'cvs remove <cFilename>'. This marks the file for removal.
The file doesn't get removed from CVS until you run 'cvs commit'. This
lets you run any number of add and/or remove commands before committing
the changes.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 10 17:19:02 2001
From: harbour@matrixlist.com (JF Lefebvre)
Date: Tue Apr 10 16:19:02 2001
Subject: [Harbour] RON : Problem compiling with MSVC
Message-ID: <200104102017.f3AKHqm30102@ev6.be.wanadoo.com>

Hi Ron,

Here is the error message (in fact just a subset :-(( ) I received 
when compiling with you last modifs ... Any Idea ?

source\compiler\harbour.c(925) : error C2440: 'initializing' : cannot 
convert from 'char [3]' to 'unsigned char *'
        Types pointed to are unrelated; conversion requires 
reinterpret_cast, C-style cast or function-style cast
source\compiler\harbour.c(925) : error C2440: 'initializing' : cannot 
convert from 'const int' to 'unsigned char *'
        Conversion from integral type to pointer type requires 
reinterpret_cast, C-style cast or function-style cast
source\compiler\harbour.c(926) : error C2440: 'initializing' : cannot 
convert from 'char [2]' to 'unsigned char *'
        Types pointed to are unrelated; conversion requires 
reinterpret_cast, C-style cast or function-style cast
source\compiler\harbour.c(926) : error C2440: 'initializing' : cannot 
convert from 'const int' to 'unsigned char *'
        Conversion from integral type to pointer type requires 
reinterpret_cast, C-style cast or function-style cast
source\compiler\harbour.c(926) : error C2440: 'initializing' : cannot 
convert from 'struct _COMDECLARED *' to 'struct _COMCLASS *'
        Types pointed to are unrelated; conversion requires 
reinterpret_cast, C-style cast or function-style cast
...

the lines are all like ;

  /*                        Name        Ret  Param Types              # of P */
                             ----------  ---  -----------------------  ------
  static COMDECLARED s_001 = { "AADD"    , ' ', "A "  , 2 ...
  static COMDECLARED s_002 = { "ABS"     , 'N', "N"   , 1 ...


Best regards,

J. Lefebvre,
Bruxelles,
Belgium


From harbour@matrixlist.com  Tue Apr 10 18:09:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr 10 17:09:02 2001
Subject: [Harbour] RON : Problem compiling with MSVC
In-Reply-To: <200104102017.f3AKHqm30102@ev6.be.wanadoo.com>
Message-ID: <200104102105.f3AL5Nm08859@smtp.parrett.net>

** Reply to message from "JF Lefebvre" <jfl@wanadoo.be> on Tue, 10 Apr
2001 22:18:11 +0200

> Here is the error message (in fact just a subset :-(( ) I received 
> when compiling with you last modifs ... Any Idea ?

Some of the types that COMDECLARED was declared with do not match the
types that are being used to initialize this. Standard C doesn't care
one whit, but this is one of the things that C++ gets pedantic over.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 10 18:48:01 2001
From: harbour@matrixlist.com (Diethelm Guallar, Gonzalo)
Date: Tue Apr 10 17:48:01 2001
Subject: [Harbour] clippper tools
Message-ID: <01Apr10.174928clt.117399@vpn.sonda.com>

> To remove a file, first delete it from your local directory, then use
> the command 'cvs remove <cFilename>'. This marks the file for removal.
> The file doesn't get removed from CVS until you run 'cvs commit'. This
> lets you run any number of add and/or remove commands before 
> committing the changes.

Better yet, do a

  cvs rm -f <file_name>

That removes it from CVS and from your local file system.


-- 
Gonzalo A. Diethelm
gonzalo.diethelm@sonda.com

From harbour@matrixlist.com  Tue Apr 10 19:03:03 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Tue Apr 10 18:03:03 2001
Subject: [Harbour] Looking for HELP
References: <LOBBKAFMMFGJIKLMEPAKEECJDLAA.Ron@Profit-Master.com>
Message-ID: <001101c0c209$fe0e0600$7bd4d7c8@luizguim>

Ron



> Dear Friends,
>
> I need help with a task which does NOT require any C coding skills, but
> requires competence and time. As you might know I have completed the
system
> that allows us to declare Functions and Classes in Harbour.

I can help if you think that my Prg programming skills is good

Regards

Luiz Rafael Culik


From harbour@matrixlist.com  Tue Apr 10 20:21:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 10 19:21:01 2001
Subject: [Harbour] RON : Problem compiling with MSVC
In-Reply-To: <200104102017.f3AKHqm30102@ev6.be.wanadoo.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOECODLAA.Ron@Profit-Master.com>

> Hi Ron,
>
> Here is the error message (in fact just a subset :-(( ) I received
> when compiling with you last modifs ... Any Idea ?

Fixed, sorry for the trouble. I normally use BCC 5.5 which does NOT produce
even type conversion warnings, on such code.

Ron


From harbour@matrixlist.com  Tue Apr 10 20:21:14 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 10 19:21:14 2001
Subject: [Harbour] ChangeLog 2001-04-10 16:20 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <001101c0c209$fe0e0600$7bd4d7c8@luizguim>
Message-ID: <LOBBKAFMMFGJIKLMEPAKMECODLAA.Ron@Profit-Master.com>

2001-04-10 16:20 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * include/hbcomp.h
     * Changed order of COMDECLARED elements to be more intuitive for static
initialization.

   * source/compiler/harbour.c
   * source/compiler/hbpcode.c
     ! Added type casting needed for C++ compilers.


From harbour@matrixlist.com  Tue Apr 10 20:29:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 10 19:29:02 2001
Subject: [Harbour] Looking for HELP
In-Reply-To: <001101c0c209$fe0e0600$7bd4d7c8@luizguim>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGECPDLAA.Ron@Profit-Master.com>

Luiz,

> I can help if you think that my Prg programming skills is good

Thanks for your offer. Of course I trust your programming skills.

I have simplified the structure of the list a bit. Here is what it looks
like:

   /*              Name        Ret  # of Prams  Param Types
Ret Class  Param Classes  Next
                   ----------  ---  ----------  ----------------------------
--  ---------  -------------  ------ */
   _DECL s_001 = { "AADD"    , ' ', 2         , (BYTE*)"A "
, NULL     , NULL         , NULL   };
   _DECL s_002 = { "ABS"     , 'N', 1         , (BYTE*)"N"
, NULL     , NULL         , &s_001 };
   _DECL s_003 = { "ACHOICE" , 'N', 9         ,
(BYTE*)"NNNNc\x7a\x9d\xa8\xa8", NULL     , NULL         , &s_002 };

   /* TODO: Rest of Standard Functions. */

And for Classes:

  /*                      Name             Ret  # of Prams  Param Types
Ret Class  Param Classes  Next
                          ---------------  ---  ----------  ----------------
----  ---------  -------------  --------------- */
   _DECL s_ERROR_01   = { "ARGS"         , 'A', 0         , (BYTE*)NULL
, NULL     , NULL         , NULL            };
   _DECL s_ERROR_02   = { "CANDEFAULT"   , 'B', 0         , (BYTE*)NULL
, NULL     , NULL         , &s_ERROR_01     };
   _DECL s_ERROR_03   = { "CANRETRY"     , 'B', 0         , (BYTE*)NULL
, NULL     , NULL         , &s_ERROR_02     };
   _DECL s_ERROR_04   = { "CANSUBSTITUTE", 'B', 0         , (BYTE*)NULL
, NULL     , NULL         , &s_ERROR_03     };
   _DECL s_ERROR_05   = { "CARGO"        , ' ', 0         , (BYTE*)NULL
, NULL     , NULL         , &s_ERROR_04     };
   _DECL s_ERROR_06   = { "DESCRIPTION"  , 'S', 0         , (BYTE*)NULL
, NULL     , NULL         , &s_ERROR_05     };
   _DECL s_ERROR_07   = { "FILENAME"     , 'S', 0         , (BYTE*)NULL
, NULL     , NULL         , &s_ERROR_06     };
   _DECL s_ERROR_08   = { "GENCODE"      , 'N', 0         , (BYTE*)NULL
, NULL     , NULL         , &s_ERROR_07     };
   _DECL s_ERROR_09   = { "OPERATION"    , 'S', 0         , (BYTE*)NULL
, NULL     , NULL         , &s_ERROR_08     };
   _DECL s_ERROR_10   = { "OSCODE"       , 'N', 0         , (BYTE*)NULL
, NULL     , NULL         , &s_ERROR_09     };
   _DECL s_ERROR_11   = { "SEVERITY"     , 'N', 0         , (BYTE*)NULL
, NULL     , NULL         , &s_ERROR_10     };
   _DECL s_ERROR_12   = { "SUBCODE"      , 'N', 0         , (BYTE*)NULL
, NULL     , NULL         , &s_ERROR_11     };
   _DECL s_ERROR_13   = { "SUBSYSTEM"    , 'S', 0         , (BYTE*)NULL
, NULL     , NULL         , &s_ERROR_12     };
   _DECL s_ERROR_14   = { "TRIES"        , 'N', 0         , (BYTE*)NULL
, NULL     , NULL         , &s_ERROR_13     };

  /*                      Name             Ret  # of Prams  Param Types
Ret Class  Param Classes  Next
                          ---------------  ---  ----------  ----------------
----  ---------  -------------  --------------- */
   _DECL s_GET_01     = { "ASSIGN"       , ' ', 0         , (BYTE*)NULL
, NULL     , NULL         , NULL            };
   _DECL s_GET_02     = { "COLORDISP"    , 'S', 1         , (BYTE*)"\x9d"
, &s_GET   , NULL         , &s_GET_01       };

   /* TODO: finish GET Class, and add definitions for TBCOLUMN and TBROWSE.
*/

Could you start with finishing the Classes?

Ron


From harbour@matrixlist.com  Tue Apr 10 20:56:01 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Tue Apr 10 19:56:01 2001
Subject: [Harbour] Looking for HELP
References: <LOBBKAFMMFGJIKLMEPAKGECPDLAA.Ron@Profit-Master.com>
Message-ID: <001501c0c219$c34abd00$dfd4d7c8@luizguim>

Ron

Param Types
> Ret Class  Param Classes  Next
>                           ---------------  ---  ----------  --------------
--
> ----  ---------  -------------  --------------- */
>    _DECL s_GET_01     = { "ASSIGN"       , ' ', 0         , (BYTE*)NULL
> , NULL     , NULL         , NULL            };
>    _DECL s_GET_02     = { "COLORDISP"    , 'S', 1         , (BYTE*)"\x9d"
> , &s_GET   , NULL         , &s_GET_01       };
>
>    /* TODO: finish GET Class, and add definitions for TBCOLUMN and
TBROWSE.
> */
>
> Could you start with finishing the Classes?

Sure. I can send you this list with all classes, this Weekend(friday) Im a
Bit busy during the week,since I have to finish an product until
thursday(4/12/2001) witch will be presented in an Important fair (FIMEC)

Ill also add some declaration to some contrib functions if you dont mind

Regards

Luiz Rafael Culik


From harbour@matrixlist.com  Wed Apr 11 03:32:02 2001
From: harbour@matrixlist.com (JF Lefebvre)
Date: Wed Apr 11 02:32:02 2001
Subject: [Harbour] RON : Problem compiling with MSVC
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOECODLAA.Ron@Profit-Master.com>
References: <200104102017.f3AKHqm30102@ev6.be.wanadoo.com>
Message-ID: <200104110631.f3B6VJm04844@ev6.be.wanadoo.com>

Ron

Thankx Ron,

> > Hi Ron,
> >
> > Here is the error message (in fact just a subset :-(( ) I received
> > when compiling with you last modifs ... Any Idea ?
> 
> Fixed, sorry for the trouble. I normally use BCC 5.5 which does NOT
> produce even type conversion warnings, on such code.

No problem, I really would like to use BC5.5 but I must use Msvc 
actually for some internal reason :-((((.
> Ron
> 


Best regards,

J. Lefebvre,
Bruxelles,
Belgium


From harbour@matrixlist.com  Wed Apr 11 12:16:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr 11 11:16:02 2001
Subject: [Harbour] New Harbour License
In-Reply-To: <004901c0c148$0d9be320$85d4d7c8@luizguim>
References: <200104040103.f3413YP07130@smtp.parrett.net> <200104040103.f3413YP07130@smtp.parrett.net>
 ; from dholm@jsd-llc.com on Tue, Apr 03, 2001 at 09:06:11PM -0400 <200104091700.f39H0jP01347@smtp.parrett.net>
Message-ID: <200104111512.f3BFCum29812@smtp.parrett.net>

** Reply to message from "Luiz Rafael Culik Guimaraes"
<culik@nh.conex.com.br> on Mon, 9 Apr 2001 19:47:48 -0300

> You have my aproval for the new Harbour Licence.This new one should exist
> when we started

That's 2 out of 14, so far. Anybody else?

Luiz, the following source modules have your primary copyright and the
old exception. I understand that you are quite busy right now, but when
you get some free time, would you mind updating them with the new
license? (Or, if you don't mind, I could do it for you.)

> SOURCE\LANG\MSGPT.C: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> CONTRIB\LIBNF\MOUSE.C:   Copyright 2000  Luiz Rafael Culik <Culik@sl.conex.net>
> CONTRIB\LIBNF\GETVER.C:   Copyright 2000  Luiz Rafael Culik <Culik@sl.conex.net>
> CONTRIB\LIBNF\GETVID.C:   Copyright 2000  Luiz Rafael Culik <Culik@sl.conex.net>
> CONTRIB\HBZLIB\ZIPFILE2.C: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> CONTRIB\HBZLIB\ZLIBAPI1.C: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> CONTRIB\HBZLIB\ZIPFILE.C: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> CONTRIB\PDFLIB\PDFHBDOC.C: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> SOURCE\DEBUG\DBGTOBJ.PRG: * Copyright 2001 Luiz Rafael Culik <culik@sl.conex.net>
> SOURCE\DEBUG\DBGTARR.PRG: * Copyright 2001 Luiz Rafael Culik <culik@sl.conex.net>
> SOURCE\RDD\DBUPDAT.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> SOURCE\RDD\DBLIST.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> SOURCE\RTL\TLABEL.PRG: * Copyright 2000 Luiz Rafael Culik <Culik@sl.conex.net>
> SOURCE\RTL\TYPEFILE.PRG: * Copyright 2000 Luiz Rafael Culik <Culik@sl.conex.net>
> SOURCE\RTL\TREPORT.PRG: * Copyright 2000 Luiz Rafael Culik <Culik@sl.conex.net>
> UTILS\HBDOC\GENNG.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> UTILS\HBDOC\FT_FUNCS.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> UTILS\HBDOC\NG.PRG: * Copyright 2000 Luiz Rafael Culik <Culik@sl.conex.net>
> UTILS\HBDOC\RTF.PRG: * Copyright 2000 Luiz Rafael Culik <Culik@sl.conex.net>
> UTILS\HBDOC\GENHTM.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> UTILS\HBDOC\GENRTF.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> UTILS\HBDOC\OS2.PRG: * Copyright 2000 Luiz Rafael Culik <Culik@sl.conex.net>
> UTILS\HBDOC\FCLASS1.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> UTILS\HBDOC\HBDOC.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> UTILS\HBDOC\GENCHM.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> UTILS\HBDOC\GENHPC.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> UTILS\HBDOC\GENOS2.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> UTILS\HBDOC\HTML.PRG: * Copyright 2000 Luiz Rafael Culik <Culik@sl.conex.net>
> UTILS\HBDOC\GENPDF1.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> UTILS\HBDOC\FFILE1.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> UTILS\HBDOC\GENTRF.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> UTILS\HBDOC\TROFF.PRG: * Copyright 2000 Luiz Rafael Culik <Culik@sl.conex.net>
> UTILS\HBDOC\GENASC.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> UTILS\HBMAKE\CHECKS.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> UTILS\HBMAKE\FCLASS1.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> UTILS\HBMAKE\FFILE1.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> UTILS\HBMAKE\FT_FUNCS.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> UTILS\HBMAKE\HBMAKE.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> UTILS\HBMAKE\RADIOS.PRG: * Copyright 2000 Luiz Rafael Culik <culik@sl.conex.net>
> CONTRIB\LIBMISC\NCONVERT.PRG: * Copyright 1999 Luiz Rafael Culik <Culik@sl.conex.net>
> CONTRIB\HBZLIB\TZIPFILE.PRG: * Copyright 2000 Luiz Rafael Culik
<culik@sl.conex.net>
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr 11 12:36:02 2001
From: harbour@matrixlist.com (Idea Software)
Date: Wed Apr 11 11:36:02 2001
Subject: [Harbour] Harbour on PocketPC?
Message-ID: <003e01c0c29d$b1a4de80$0200a8c0@Roberto>

Messaggio in formato MIME composto da pi parti.

------=_NextPart_000_003B_01C0C2AE.74537B20
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Is someone working on pocketpc version of harbour?

Thx in advance,
Roberto Parisi

------=_NextPart_000_003B_01C0C2AE.74537B20
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 5.50.4522.1800" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>Is someone working on pocketpc version =
of=20
harbour?</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Thx in advance,</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>Roberto =
Parisi</FONT></DIV></BODY></HTML>

------=_NextPart_000_003B_01C0C2AE.74537B20--


From harbour@matrixlist.com  Wed Apr 11 12:49:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr 11 11:49:02 2001
Subject: [Harbour] Harbour on PocketPC?
In-Reply-To: <003e01c0c29d$b1a4de80$0200a8c0@Roberto>
Message-ID: <200104111545.f3BFjCm00839@smtp.parrett.net>

** Reply to message from "Idea Software" <ideasoftware@isw.it> on Wed,
11 Apr 2001 17:40:09 +0200

> Is someone working on pocketpc version of harbour?

Pocket PCs run Windows CE, so shouldn't the Windows versions of Harbour
run on them without having to specifically target the Pocket PC?
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr 11 13:17:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr 11 12:17:02 2001
Subject: [Harbour] New Harbour License
In-Reply-To: <200104111512.f3BFCum29812@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEDCDLAA.Ron@Profit-Master.com>

David,

> > You have my aproval for the new Harbour Licence.This new one
> should exist
> > when we started
>
> That's 2 out of 14, so far. Anybody else?

You have my permission to change my copyrighted files to the new version of
the Harbour Exception.

Ron


From harbour@matrixlist.com  Wed Apr 11 13:21:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr 11 12:21:01 2001
Subject: [Harbour] New Harbour License
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEDCDLAA.Ron@Profit-Master.com>
References: <200104111512.f3BFCum29812@smtp.parrett.net>
Message-ID: <200104111617.f3BGHv904230@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Wed, 11 Apr 2001 09:20:46 -0700

> You have my permission to change my copyrighted files to the new version of
> the Harbour Exception.

Thanks, Ron.

We still need approval from the following people:

 Alejandro de Garate <alex_degarate@hotmail.com>
 Eddie Runia <eddie@runia.com>
 Felipe G. Coury <fcoury@flexsys-ci.com>
 Jf. Lefebvre <jfl@mafact.com> and Ra. Cuylen <rac@mafact.com>
 Jon Berg <jmberg@pnh10.med.navy.mil>
 Jose Gimenez (JFG) <jfgimenez@wanadoo.es>
 Jose Lalin <dezac@corevia.com>
 Matthew Hamilton <mhamilton@bunge.com.au>
 Maurilio Longo <maurilio.longo@libero.it>
 Paul Tucker <ptucker@sympatico.ca>
 Victor Szakats <info@szelvesz.hu>
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr 11 14:24:02 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Wed Apr 11 13:24:02 2001
Subject: [Harbour] Harbour on PocketPC?
In-Reply-To: <003e01c0c29d$b1a4de80$0200a8c0@Roberto>
Message-ID: <NCBBJKNMIDPJNLJCHCHICEMCGBAA.harbour@winfakt.com>

Roberto,

>Is someone working on pocketpc version of harbour?
No, not yet.
Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)

From harbour@matrixlist.com  Wed Apr 11 14:24:15 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Wed Apr 11 13:24:15 2001
Subject: [Harbour] New Harbour License
In-Reply-To: <200104111617.f3BGHv904230@smtp.parrett.net>
Message-ID: <NCBBJKNMIDPJNLJCHCHIEEMCGBAA.harbour@winfakt.com>

David,

> We still need approval from the following people:
>  Eddie Runia <eddie@runia.com>
Eddie is not working with computers anymore.

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)

From harbour@matrixlist.com  Wed Apr 11 16:42:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Wed Apr 11 15:42:01 2001
Subject: [Harbour] New Harbour License
References: <200104111512.f3BFCum29812@smtp.parrett.net> <200104111617.f3BGHv904230@smtp.parrett.net>
Message-ID: <007c01c0c2c0$5b4e6e70$921a5e18@bh>

David:
Even though I'm not on the invitation list,
you have my permission to change any copyright references to me to the new
version of the Harbour Exception ;-).

I've mostly modified existing files, but there were one or two files that
I've added and therefore had the full copyright.  There are a few references
to my name for bits and pieces.
Do we care about any of the DOCs files *.txt?
I'll be happy to change the files in contrib/rdd_ads.

Brian

> We still need approval from the following people:
>
>  Alejandro de Garate <alex_degarate@hotmail.com>
>  Eddie Runia <eddie@runia.com>
>  Felipe G. Coury <fcoury@flexsys-ci.com>
>  Jf. Lefebvre <jfl@mafact.com> and Ra. Cuylen <rac@mafact.com>
>  Jon Berg <jmberg@pnh10.med.navy.mil>
>  Jose Gimenez (JFG) <jfgimenez@wanadoo.es>
>  Jose Lalin <dezac@corevia.com>
>  Matthew Hamilton <mhamilton@bunge.com.au>
>  Maurilio Longo <maurilio.longo@libero.it>
>  Paul Tucker <ptucker@sympatico.ca>
>  Victor Szakats <info@szelvesz.hu>
> --
> David G. Holm, Set Captain and all around



From harbour@matrixlist.com  Wed Apr 11 16:57:56 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr 11 15:57:56 2001
Subject: [Harbour] New Harbour License
In-Reply-To: <007c01c0c2c0$5b4e6e70$921a5e18@bh>
References: <200104111512.f3BFCum29812@smtp.parrett.net> <200104111617.f3BGHv904230@smtp.parrett.net>
Message-ID: <200104111953.f3BJrr927411@smtp.parrett.net>

** Reply to message from "Brian Hays" <bhays@abacuslaw.com> on Wed, 11
Apr 2001 12:48:18 -0700

> Even though I'm not on the invitation list,

The list is just the names of people who have references license.txt
instead of copying the full text of the license with exception. Each of
those authors must provide permission before I can change the exception
in the license.txt file.

> Do we care about any of the DOCs files *.txt?

I haven't looked at them, but other than hdr_tpl.txt and eventually
license.txt, I can't imagine any reason for them to include the Harbour
Exception...

> I'll be happy to change the files in contrib/rdd_ads.

Thanks.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr 11 16:59:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr 11 15:59:01 2001
Subject: [Harbour] New Harbour License
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIEEMCGBAA.harbour@winfakt.com>
References: <200104111617.f3BGHv904230@smtp.parrett.net>
Message-ID: <200104111954.f3BJsn927512@smtp.parrett.net>

** Reply to message from "Patrick Mast" <harbour@winfakt.com> on Wed,
11 Apr 2001 19:23:02 +0200

> Eddie is not working with computers anymore.

Does that just mean that he isn't programming, but can still be reached
via email, or that he doesn't have a computer and can't even be reached
via email?
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr 11 17:32:02 2001
From: harbour@matrixlist.com (Diethelm Guallar, Gonzalo)
Date: Wed Apr 11 16:32:02 2001
Subject: [Harbour] New Harbour License
Message-ID: <01Apr11.163339clt.117434@vpn.sonda.com>

> Even though I'm not on the invitation list,
> you have my permission to change any copyright references to 
> me to the new
> version of the Harbour Exception ;-).

Same thing here... I haven't done anything with Harbour
for quite some time, but having contributed some of the
original work (the GNU Make system comes to mind), it
is just possible my name appears somewhere. I hereby
transfer all my rights to David, Dave and/or Phil to
do as they please with any of the files I originally
contributed to Harbour (if any!).

Thanks,


-- 
Gonzalo A. Diethelm
gonzalo.diethelm@sonda.com

From harbour@matrixlist.com  Wed Apr 11 19:00:05 2001
From: harbour@matrixlist.com (harbour@matrixlist.com)
Date: Wed Apr 11 18:00:05 2001
Subject: [Harbour] New Harbour License
Message-ID: <OF856AAEEC.9358CC96-ONCA256A2B.00789FE9@cor.bmi.bunge.com.au>

On 12/04/2001 02:20:46 AM harbour-admin wrote:

>David,
>
>> > You have my aproval for the new Harbour Licence.This new one
>> should exist
>> > when we started
>>
>> That's 2 out of 14, so far. Anybody else?
>
>You have my permission to change my copyrighted files to the new version
of
>the Harbour Exception.

If there arae still any files with my name attached, you can go ahead and
modify 'em.

Mabster


From harbour@matrixlist.com  Wed Apr 11 20:10:03 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr 11 19:10:03 2001
Subject: [Harbour] New Harbour License
In-Reply-To: <OF856AAEEC.9358CC96-ONCA256A2B.00789FE9@cor.bmi.bunge.com.au>
Message-ID: <200104112306.f3BN6E914121@smtp.parrett.net>

** Reply to message from mhamilton@bunge.com.au on Thu, 12 Apr 2001
07:57:49 +1000

> If there arae still any files with my name attached, you can go ahead and
> modify 'em.

Much appreciated, as there are indeed such files.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr 11 21:18:03 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Wed Apr 11 20:18:03 2001
Subject: [Harbour] New Harbour License
References: <200104040103.f3413YP07130@smtp.parrett.net> <200104040103.f3413YP07130@smtp.parrett.net> ; from dholm@jsd-llc.com on Tue, Apr 03, 2001 at 09:06:11PM -0400 <200104091700.f39H0jP01347@smtp.parrett.net> <200104111512.f3BFCum29812@smtp.parrett.net>
Message-ID: <005601c0c2e6$0c069b00$97d4d7c8@luizguim>

David


>
> > You have my aproval for the new Harbour Licence.This new one should
exist
> > when we started
>
> That's 2 out of 14, so far. Anybody else?
>
> Luiz, the following source modules have your primary copyright and the
> old exception. I understand that you are quite busy right now, but when
> you get some free time, would you mind updating them with the new
> license? (Or, if you don't mind, I could do it for you.)

I can do this in the weekend , but if you have free time, please do

Regards

Luiz Rafael Culik



From harbour@matrixlist.com  Thu Apr 12 02:13:02 2001
From: harbour@matrixlist.com (Jan-Dirk Schuitemaker)
Date: Thu Apr 12 01:13:02 2001
Subject: Betr.: [Harbour] Harbour on PocketPC?
Message-ID: <sad5554b.045@mail.hrs.getronics.com>

Roberto,

Clipper works on a pocket pc if you have a dos-emulator installed on it.

Please check these sites for dos-emulators:

1. http://www.pocketdos.com/=20
2. http://www.xt-ce.com/=20

Regards,

Jan-Dirk Schuitemaker


>>> ideasoftware@isw.it 11-04-01 17:40 >>>
Is someone working on pocketpc version of harbour?

Thx in advance,
Roberto Parisi


From harbour@matrixlist.com  Thu Apr 12 03:23:04 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Thu Apr 12 02:23:04 2001
Subject: [Harbour] New Harbour License
In-Reply-To: <200104111954.f3BJsn927512@smtp.parrett.net>
Message-ID: <NCBBJKNMIDPJNLJCHCHIMEMIGBAA.harbour@winfakt.com>

David,

> > Eddie is not working with computers anymore.
> Does that just mean that he isn't programming, but can still be reached
> via email, or that he doesn't have a computer and can't even be reached
> via email?
He cannot be reached via eMail anymore.
He does not have a computer anymore.

That's what he told me on the phone. I also don't have his phone Nr, he
called me.

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)


From harbour@matrixlist.com  Thu Apr 12 03:30:03 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Thu Apr 12 02:30:03 2001
Subject: [Harbour] COPY TO bug
Message-ID: <001401c0c31a$e35e7bc0$921a5e18@bh>

Harrier:

Copy TO should do a Go Top by default unless the REST or WHILE clauses are
used, instead, it starts at the current record....

Brian Hays



From harbour@matrixlist.com  Thu Apr 12 03:42:02 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Thu Apr 12 02:42:02 2001
Subject: [Harbour] New Harbour License
References: <LOBBKAFMMFGJIKLMEPAKEEDCDLAA.Ron@Profit-Master.com>
Message-ID: <3AD54DF3.42255C83@libero.it>

And my permission too.

regards.


Ron Pinkas ha scritto:

> David,
>
> > > You have my aproval for the new Harbour Licence.This new one
> > should exist
> > > when we started
> >
> > That's 2 out of 14, so far. Anybody else?
>
> You have my permission to change my copyrighted files to the new version of
> the Harbour Exception.
>
> Ron
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Thu Apr 12 04:53:02 2001
From: harbour@matrixlist.com (Chen Kedem)
Date: Thu Apr 12 03:53:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-12 10:42 UTC+0300 Chen Kedem
Message-ID: <3AD55E8C.12CC@synel.co.il>

2001-04-12 10:42 UTC+0300 Chen Kedem <niki@actcom.co.il>
   * source/rtl/tone.c
   * source/rtl/gtos2/mouseos2.c
   * source/rtl/lang/msghe862.c
   * source/rtl/lang/msghewin.c
    * Replaced the old license with a new license

--------------------------------
David,
You have my aproval for the new Harbour Licence.

Btw, next time you touch doc/hdr_tpl.txt you can update one more
place (line#67) 2000 --> 2001

Also doc/license.txt, doc/en/license.txt contain the old version
and probably should get changed as well.


  Chen.

From harbour@matrixlist.com  Thu Apr 12 05:58:02 2001
From: harbour@matrixlist.com (Lorenzo Fiorini)
Date: Thu Apr 12 04:58:02 2001
Subject: [Harbour] Just a test please ignore
Message-ID: <001101c0c32e$7986e750$0701a8c0@teamwork.lan>



From harbour@matrixlist.com  Thu Apr 12 06:25:04 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr 12 05:25:04 2001
Subject: [Harbour] New Harbour License
In-Reply-To: <3AD54DF3.42255C83@libero.it>
Message-ID: <000701c0c331$a78ca4c0$0f2aa8c0@antonio>

> And my permission too.

Same here! :-)


Antonio


From harbour@matrixlist.com  Thu Apr 12 06:28:01 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr 12 05:28:01 2001
Subject: [Harbour] Harbour on PocketPC?
In-Reply-To: <200104111545.f3BFjCm00839@smtp.parrett.net>
Message-ID: <000801c0c332$139532e0$0f2aa8c0@antonio>

David,

> Pocket PCs run Windows CE, so shouldn't the Windows versions of Harbour
> run on them without having to specifically target the Pocket PC?

As far as I know, 
Windows CE has many differences from standard Windows.

(at least, it requires different Windows import libraries,
compilers and required compile flags...)

regards,

Antonio


From harbour@matrixlist.com  Thu Apr 12 06:42:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr 12 05:42:02 2001
Subject: [Harbour] RE: ALASKA 1.6
In-Reply-To: <001901c0c206$fcc47660$2bb0f5cd@don>
Message-ID: <000b01c0c334$13df7060$0f2aa8c0@antonio>

Don,

> I do extensive append from delimited / sdf and copy to delimited / sdf
> processing.  Is this fully fuctional in harbour?

I don't know it for sure. I may ask the Harbour developers
mail list and tell you what they answer.

But, I do believe that it may be easier if you download
Harbour from our site and just do some simple tests.

regards,

Antonio Linares
www.fivetech.com



From harbour@matrixlist.com  Thu Apr 12 11:13:01 2001
From: harbour@matrixlist.com (Juan Agustin Barriga)
Date: Thu Apr 12 10:13:01 2001
Subject: [Harbour] COPY TO bug
References: <001401c0c31a$e35e7bc0$921a5e18@bh>
Message-ID: <002501c0c35a$52c2e070$c06410ac@jharrier>

I will look at it.

Harrier
----- Original Message -----
From: "Brian Hays" <bhays@abacuslaw.com>
To: "harbour dev list" <harbour@matrixlist.com>
Sent: Thursday, April 12, 2001 2:36 AM
Subject: [Harbour] COPY TO bug


> Harrier:
>
> Copy TO should do a Go Top by default unless the REST or WHILE clauses are
> used, instead, it starts at the current record....
>
> Brian Hays
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@matrixlist.com  Thu Apr 12 12:00:04 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr 12 11:00:04 2001
Subject: [Harbour] New Harbour License
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIMEMIGBAA.harbour@winfakt.com>
References: <200104111954.f3BJsn927512@smtp.parrett.net>
Message-ID: <200104121456.f3CEuU914519@smtp.parrett.net>

** Reply to message from "Patrick Mast" <harbour@winfakt.com> on Thu,
12 Apr 2001 08:22:48 +0200

> He cannot be reached via eMail anymore.
> He does not have a computer anymore.
> [and he can't be reached via phone either]

Well then, if we get permission from everybody else, then I guess we
can create an old_lic.txt file with the old license and change Eddie's
references from license.txt to old_lic.txt...
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr 12 12:02:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr 12 11:02:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-12 10:42 UTC+0300 Chen Kedem
In-Reply-To: <3AD55E8C.12CC@synel.co.il>
Message-ID: <200104121458.f3CEwE914698@smtp.parrett.net>

** Reply to message from Chen Kedem <niki@synel.co.il> on Thu, 12 Apr
2001 10:51:40 +0300

> Also doc/license.txt, doc/en/license.txt contain the old version
> and probably should get changed as well.

I can't legally change them until I get permission from the people that
I listed. Thanks for providing yours.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr 12 12:09:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr 12 11:09:02 2001
Subject: [Harbour] New Harbour License
In-Reply-To: <000701c0c331$a78ca4c0$0f2aa8c0@antonio>
References: <3AD54DF3.42255C83@libero.it>
Message-ID: <200104121505.f3CF5V915387@smtp.parrett.net>

** Reply to message from "Antonio Linares" <alinares@fivetech.com> on Thu, 12 Apr 2001 11:19:19 +0200

> > And my permission too.
> 
> Same here! :-)

Thanks, Antonio.

We still need permission from:

 Alejandro de Garate <alex_degarate@hotmail.com>
 Felipe G. Coury <fcoury@flexsys-ci.com>
 Jf. Lefebvre <jfl@mafact.com> and Ra. Cuylen <rac@mafact.com>
 Jon Berg <jmberg@pnh10.med.navy.mil>
 Jose Gimenez (JFG) <jfgimenez@wanadoo.es>
 Jose Lalin <dezac@corevia.com>
 Paul Tucker <ptucker@sympatico.ca>
 Victor Szakats <info@szelvesz.hu>

Anyone I haven't heard from by next week, I'll write to privately.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr 12 12:18:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr 12 11:18:02 2001
Subject: [Harbour] New Harbour License
In-Reply-To: <005601c0c2e6$0c069b00$97d4d7c8@luizguim>
References: <200104040103.f3413YP07130@smtp.parrett.net> <200104040103.f3413YP07130@smtp.parrett.net>
 ; from dholm@jsd-llc.com on Tue, Apr 03, 2001 at 09:06:11PM -0400 <200104091700.f39H0jP01347@smtp.parrett.net>
 <200104111512.f3BFCum29812@smtp.parrett.net>
Message-ID: <200104121514.f3CFE1916222@smtp.parrett.net>

** Reply to message from "Luiz Rafael Culik Guimaraes"
<culik@nh.conex.com.br> on Wed, 11 Apr 2001 21:16:18 -0300

> I can do this in the weekend , but if you have free time, please do

I'll convert the ones that are in the source and contrib hierarchies,
leaving the ones in the utils hierarchy for you to convert.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr 12 15:26:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr 12 14:26:02 2001
Subject: [Harbour] ChangeLog 2001-04-12 14:20 UTC-0400 David G. Holm
Message-ID: <200104121822.f3CIM7903564@smtp.parrett.net>

2001-04-12 14:20 UTC-0400 David G. Holm <dholm@jsd-llc.com>

  * doc/hdr_tpl.txt
    * Changed the year in the partial copyright template to 2001.

  * contrib/hbzlib/hbzip.h
  * contrib/hbzlib/tzipfile.prg
  * contrib/hbzlib/zipfile.c
  * contrib/hbzlib/zipfile2.c
  * contrib/hbzlib/zlibapi1.c
  * contrib/libmisc/nconvert.prg
  * contrib/libnf/getver.c
  * contrib/libnf/getvid.c
  * contrib/libnf/mouse.c
  * contrib/pdflib/pdfhbdoc.c
  * source/debug/dbgtarr.prg
  * source/debug/dbgtobj.prg
  * source/lang/msgpt.c
  * source/rdd/dblist.prg
  * source/rdd/dbupdat.prg
  * source/rtl/tlabel.prg
  * source/rtl/treport.prg
  * source/rtl/typefile.prg
    * Replaced the old license with the new license with permission
      from Luiz Rafael Culik Guimaraes <culik@nh.conex.com.br>

  * source/rtl/abs.c
  * source/rtl/gete.c
  * source/rtl/math.c
  * source/rtl/minmax.c
  * source/rtl/mod.c
  * source/rtl/padc.c
  * source/rtl/padl.c
  * source/rtl/padr.c
    * Replaced the old license with the new license with permission
      from Matthew "Mabster" Hamilton <mhamilton@bunge.com.au>

  * contrib/hb_struc/hbstruc.prg
  * source/compiler/harbour.slx
  * source/compiler/simplex.c
  * source/macro/macro.slx
  * source/macro/maxroslx.c
    * Replaced the old license with the new license with permission
      from Ron Pinkas <Ron@Profit-Master.com>

  * include/hbtrace.c
  * source/common/hbtrace.c
  * source/rtl/trace.c
  * source/rtl/gtcrs/gtcrs.c
    * Replaced the old license with the new license with permission
      from Diethelm Guallar, Gonzalo <Gonzalo.Diethelm@sonda.com>

  * contrib/msql/dbf2msql.prg
  * contrib/msql/msql.c
  * contrib/msql/msql.ch
  * contrib/msql/test.prg
  * contrib/msql/tmsql.prg
  * contrib/mysql/dbf2mysql.prg
  * contrib/mysql/mysql.c
  * contrib/mysql/mysql.ch
  * contrib/mysql/test.prg
  * contrib/mysql/tmysql.prg
  * contrib/mysql/tsqlbrw.prg
  * source/debug/tbrwtext.prg
  * source/lang/msgit.c
  * source/rtl/memoedit.prg
  * source/rtl/teditor.prg
  * source/rtl/ttextlin.prg
  * source/rtl/gtos2/gtos2.c
    * Replaced the old license with the new license with permission
      from Maurilio Longo <maurilio.longo@libero.it>

  * source/rtl/teditorl.c
    * Replaced the old license with the new license with permission
      from Matthew "Mabster" Hamilton <mhamilton@bunge.com.au>
      and Antonio Linares <alinares@fivetech.com>
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr 12 15:33:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr 12 14:33:02 2001
Subject: [Harbour] ChangeLog 2001-04-12 14:20 UTC-0400 David G. Holm
In-Reply-To: <200104121822.f3CIM7903564@smtp.parrett.net>
Message-ID: <000701c0c37e$32041d80$0f2aa8c0@antonio>

David,

Thanks a lot for all the work you are doing
building Harbour,


Antonio



From harbour@matrixlist.com  Thu Apr 12 15:59:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr 12 14:59:02 2001
Subject: [Harbour] ChangeLog 2001-04-12 15:00 UTC-0400 David G. Holm
Message-ID: <200104121855.f3CIt7907263@smtp.parrett.net>

2001-04-12 15:00 UTC-0400 David G. Holm <dholm@jsd-llc.com>

  * source/compiler/genc.c
  * source/compiler/genhrb.c
  * source/compiler/genjava.c
  * source/compiler/genobj.c
  * source/compiler/harbour.c
  * source/compiler/harbour.l
  * source/compiler/harbour.sly
  * source/compiler/harbour.y
    * Replaced spurious ", with one exception:" text in source code
      that does not include the Harbour Exception with ".".

  * contrib/odbc/odbc.c
  * include/hbapi.h
  * include/hbapierr.h
  * include/hbapiitm.h
  * include/hbclass.ch
  * include/hbcomp.h
  * include/hbinit.h
  * include/hbpcode.h
  * include/hbstack.h
  * include/hbvm.h
  * source/debug/dbgmenu.prg
  * source/debug/dbgtmenu.prg
  * source/debug/dbgtmitm.prg
  * source/debug/dbgtwin.prg
  * source/debug/debugger.prg
  * source/macro/macro.l
  * source/macro/macro.y
  * source/rtl/at.c
  * source/rtl/browse.prg
  * source/rtl/chrasc.c
  * source/rtl/console.c
  * source/rtl/dates.c
  * source/rtl/dateshb.c
  * source/rtl/empty.c
  * source/rtl/errorapi.c
  * source/rtl/errorsys.prg
  * source/rtl/getsys.prg
  * source/rtl/is.c
  * source/rtl/left.c
  * source/rtl/len.c
  * source/rtl/rat.c
  * source/rtl/replic.c
  * source/rtl/right.c
  * source/rtl/saverest.c
  * source/rtl/setcurs.c
  * source/rtl/shadow.c
  * source/rtl/space.c
  * source/rtl/str.c
  * source/rtl/strcase.c
  * source/rtl/strings.c
  * source/rtl/strtran.c
  * source/rtl/stuff.c
  * source/rtl/substr.c
  * source/rtl/tbcolumn.prg
  * source/rtl/tbrowse.prg
  * source/rtl/tclass.prg
  * source/rtl/terror.prg
  * source/rtl/tgetlist.prg
  * source/rtl/trim.c
  * source/rtl/valtype.c
  * source/vm/arrays.c
  * source/vm/arrayshb.c
  * source/vm/borinit.c
  * source/vm/classes.c
  * source/vm/dynsym.c
  * source/vm/estack.c
  * source/vm/extend.c
  * source/vm/fm.c
  * source/vm/hvm.c
  * source/vm/initexit.c
  * source/vm/itemapi.c
  * source/vm/maindll.c
  * source/vm/mainstd.c
  * source/vm/mainwin.c
  * source/vm/pcount.c
  * source/vm/proc.c
  * tests/testop.prg
    * Replaced the old license with the new license with permission
      from Antonio Linares <alinares@fivetech.com>
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr 12 16:14:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr 12 15:14:02 2001
Subject: [Harbour] ChangeLog 2001-04-12 15:15 UTC-0400 David G. Holm
Message-ID: <200104121910.f3CJAW908859@smtp.parrett.net>

2001-04-12 15:15 UTC-0400 David G. Holm <dholm@jsd-llc.com>

  * include/fileio.ch
  * include/filesys.api
  * include/hbapifs.h
  * include/hbset.h
  * include/hbver.h
  * include/set.ch
  * source/compiler/fixflex.c
  * source/rtl/gtpca/kbdos2.gcc
    * Replaced the old license with the new license in more files
      where I was listed as the primary or only copyright holder.

  * source/vm/borsym.asm
  * source/vm/startup.asm
  * source/vm/symbols.asm
    * Replaced the old license with the new license with permission
      from Antonio Linares <alinares@fivetech.com>
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr 12 18:36:02 2001
From: harbour@matrixlist.com (=?iso-8859-1?Q?Horacio_Rold=E1n?=)
Date: Thu Apr 12 17:36:02 2001
Subject: [Harbour] New Harbour License
References: <200104040103.f3413YP07130@smtp.parrett.net> <200104040103.f3413YP07130@smtp.parrett.net> ; from dholm@jsd-llc.com on Tue, Apr 03, 2001 at 09:06:11PM -0400 <200104091700.f39H0jP01347@smtp.parrett.net> <200104111512.f3BFCum29812@smtp.parrett.net> <200104121514.f3CFE1916222@smtp.parrett.net>
Message-ID: <038901c0c398$75c899a0$f003a8c0@ksoft20000507>

David,
Wouldn't it be usefull having the Harbour License versioned?

In that case the programs could have the header as "covered by Harbour
License version n or later...", and if in the future the group wants to
update the license it will be an easier job.

regards
Horacio





From harbour@matrixlist.com  Thu Apr 12 18:40:03 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr 12 17:40:03 2001
Subject: [Harbour] New Harbour License
In-Reply-To: <038901c0c398$75c899a0$f003a8c0@ksoft20000507>
Message-ID: <000a01c0c398$5cd3bec0$0f2aa8c0@antonio>

Horacio,

Very good idea!

> Wouldn't it be usefull having the Harbour License versioned?
> 
> In that case the programs could have the header as "covered by Harbour
> License version n or later...", and if in the future the group wants to
> update the license it will be an easier job.




From harbour@matrixlist.com  Thu Apr 12 20:51:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Thu Apr 12 19:51:01 2001
Subject: [Harbour] RE: ALASKA 1.6
In-Reply-To: <000b01c0c334$13df7060$0f2aa8c0@antonio>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEDKDLAA.Ron@Profit-Master.com>

Antonio,

It seems you are not getting my private messages.

I sent multiple messages with my 2nd proposal, for the problem with FW[H]
Reserved Words in DLL.ch. I found away to fix it WITHOUT affecting EVEN
those that call GetProc*() DIRECTLY, but I got NO reply.

Did you get my code?

Here it is again:

#ifndef FIX_CTYPES

   #define FIX_C_TYPES

   /* To trick DLL.ch to NOT #define C TYPES constants. */
   #define _C_TYPES

   #translate GetProcAddress( <hDLL>, <SymName>, [<pascal>], ;
                 <return:VOID, BYTE, CHAR, WORD, _INT, INT, BOOL, HDC, LONG,
STRING, LPSTR, PTR, _DOUBLE, DOUBLE, DWORD> ;
                 [,<type:VOID, BYTE, CHAR, WORD, _INT, INT, BOOL, HDC, LONG,
STRING, LPSTR, PTR, _DOUBLE, DOUBLE, DWORD >] ) => ;
              GetProcAddress( <hDLL>, <SymName>, <pascal>, cType2nType(
#<return> ) [, cType2nType( #<type> ) ] )

   #translate GetProc32( <hDLL>, <SymName>, [<pascal>], ;
                 <return:VOID, BYTE, CHAR, WORD, _INT, INT, BOOL, HDC, LONG,
STRING, LPSTR, PTR, _DOUBLE, DOUBLE, DWORD> ;
                 [,<type:VOID, BYTE, CHAR, WORD, _INT, INT, BOOL, HDC, LONG,
STRING, LPSTR, PTR, _DOUBLE, DOUBLE, DWORD >] ) => ;
              GetProc32( <hDLL>, <SymName>, <pascal>, cType2nType(
#<return> ) [, cType2nType( #<type> ) ] )

#endif

This will work for EVERYONE, even if they call GetProc*() directly. It
allows Upper or Lower Case, _int or int, and _word or word :-)

Please let me know what you think...

Ron


From harbour@matrixlist.com  Thu Apr 12 21:11:01 2001
From: harbour@matrixlist.com (Tom Bokma)
Date: Thu Apr 12 20:11:01 2001
Subject: [Harbour] HarbourTalk -- confirmation of subscription -- request 123935
Message-ID: <046801c0c3b7$5e854e40$a0748418@a2000.nl>

This is a multi-part message in MIME format.

------=_NextPart_000_0465_01C0C3C8.21EC8C80
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

ok

------=_NextPart_000_0465_01C0C3C8.21EC8C80
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META content=3D"text/html; charset=3Diso-8859-1" =
http-equiv=3DContent-Type>
<META content=3D"MSHTML 5.00.2614.3500" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>ok</FONT></DIV></BODY></HTML>

------=_NextPart_000_0465_01C0C3C8.21EC8C80--


From harbour@matrixlist.com  Thu Apr 12 22:20:03 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Thu Apr 12 21:20:03 2001
Subject: [Harbour] New Harbour License
References: <200104040103.f3413YP07130@smtp.parrett.net> <200104040103.f3413YP07130@smtp.parrett.net> ; from dholm@jsd-llc.com on Tue, Apr 03, 2001 at 09:06:11PM -0400 <200104091700.f39H0jP01347@smtp.parrett.net> <200104111512.f3BFCum29812@smtp.parrett.net> <200104121514.f3CFE1916222@smtp.parrett.net>
Message-ID: <004001c0c3b7$f9f3a660$bad4d7c8@luizguim>

David
> > I can do this in the weekend , but if you have free time, please do
> 
> I'll convert the ones that are in the source and contrib hierarchies,
> leaving the ones in the utils hierarchy for you to convert.


Ok.Thanks for the help

Regards

Luiz Rafael Culik




From harbour@matrixlist.com  Fri Apr 13 02:53:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Fri Apr 13 01:53:02 2001
Subject: [Harbour] COPY TO bugs
Message-ID: <002201c0c3de$f13a74f0$921a5e18@bh>

Harrier:

COPY TO  with the FIELDS clause creates blank records of the full structure,
with all fields blank.

Is there something that needs to be happening in the target rdd for this to
work right (IOW, is this something I should fix on the ADS side)?

Brian Hays



From harbour@matrixlist.com  Fri Apr 13 02:54:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Fri Apr 13 01:54:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-12 10:56 UTC-0800
Message-ID: <002a01c0c3df$0a84e9e0$921a5e18@bh>

2001-04-12 10:56 UTC-0800 Brian Hays <bhays@abacuslaw.com>
   * contrib/rdd_ads/ads1.c
      * Fixed ordName/dbOrderInfo: it returned blank for any
         order if in natural order when called

   * contrib/rdd_ads/adsmgmnt.c
   * contrib/rdd_ads/testmg.prg
      * changed licensing comment at top


Brian Hays
Abacus Data Systems, Inc.



From harbour@matrixlist.com  Fri Apr 13 04:47:03 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Fri Apr 13 03:47:03 2001
Subject: [Harbour] Might someone tell harbour it's 2001?
Message-ID: <20010413084620.O25357@hagbard.davep.org>

,----
| Harbour Compiler 0.36  (Build 36) (2001.02.20) (Flex)
| Copyright 1999-2000, http://www.harbour-project.org
`----

That copyright year probably wants updating to reflect that it's now 2001.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Fri Apr 13 08:45:03 2001
From: harbour@matrixlist.com (Phil Barnett)
Date: Fri Apr 13 07:45:03 2001
Subject: [Harbour] New Harbour License
In-Reply-To: <200104121505.f3CF5V915387@smtp.parrett.net>
References: <000701c0c331$a78ca4c0$0f2aa8c0@antonio>
Message-ID: <3AD6AE49.6420.69FB939@localhost>

On 12 Apr 2001, at 11:07, David G. Holm wrote:

> ** Reply to message from "Antonio Linares" <alinares@fivetech.com> on Thu, 12 Apr 2001 11:19:19 +0200
> 
> > > And my permission too.
> > 
> > Same here! :-)
> 
> Thanks, Antonio.
> 
> We still need permission from:
> 
>  Alejandro de Garate <alex_degarate@hotmail.com>
>  Felipe G. Coury <fcoury@flexsys-ci.com>
>  Jf. Lefebvre <jfl@mafact.com> and Ra. Cuylen <rac@mafact.com>
>  Jon Berg <jmberg@pnh10.med.navy.mil>
>  Jose Gimenez (JFG) <jfgimenez@wanadoo.es>
>  Jose Lalin <dezac@corevia.com>
>  Paul Tucker <ptucker@sympatico.ca>
>  Victor Szakats <info@szelvesz.hu>
> 
> Anyone I haven't heard from by next week, I'll write to privately.

Would you like me to do that?


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@matrixlist.com  Fri Apr 13 08:45:22 2001
From: harbour@matrixlist.com (Juan Agustin Barriga)
Date: Fri Apr 13 07:45:22 2001
Subject: [Harbour] COPY TO bug
References: <001401c0c31a$e35e7bc0$921a5e18@bh>
Message-ID: <003001c0c35d$f296fc50$c06410ac@jharrier>

This is a multi-part message in MIME format.

------=_NextPart_000_002D_01C0C33C.61C30A00
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

FIXED!
            someone please upload it to the CVS. I also noticed that
RDDCPY.C is still there, somebody delete it from the CVS tree, it's code is
now on dbcmd.c

Regards
Harrier

----- Original Message -----
From: "Brian Hays" <bhays@abacuslaw.com>
To: "harbour dev list" <harbour@matrixlist.com>
Sent: Thursday, April 12, 2001 2:36 AM
Subject: [Harbour] COPY TO bug


> Harrier:
>
> Copy TO should do a Go Top by default unless the REST or WHILE clauses are
> used, instead, it starts at the current record....
>
> Brian Hays
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>

------=_NextPart_000_002D_01C0C33C.61C30A00
Content-Type: application/octet-stream;
	name="dbcmd.c"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="dbcmd.c"

/*=0A=
 * $Id: dbcmd.c,v 1.163 2001/03/27 08:22:30 horacioroldan Exp $=0A=
 */=0A=
=0A=
/*=0A=
 * Harbour Project source code:=0A=
 * Base RDD module=0A=
 *=0A=
 * Copyright 1999 Bruno Cantero <bruno@issnet.net>=0A=
 * www - http://www.harbour-project.org=0A=
 *=0A=
 * This program is free software; you can redistribute it and/or modify=0A=
 * it under the terms of the GNU General Public License as published by=0A=
 * the Free Software Foundation; either version 2 of the License, or=0A=
 * (at your option) any later version, with one exception:=0A=
 *=0A=
 * The exception is that if you link the Harbour Runtime Library (HRL)=0A=
 * and/or the Harbour Virtual Machine (HVM) with other files to produce=0A=
 * an executable, this does not by itself cause the resulting executable=0A=
 * to be covered by the GNU General Public License. Your use of that=0A=
 * executable is in no way restricted on account of linking the HRL=0A=
 * and/or HVM code into it.=0A=
 *=0A=
 * This program is distributed in the hope that it will be useful,=0A=
 * but WITHOUT ANY WARRANTY; without even the implied warranty of=0A=
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the=0A=
 * GNU General Public License for more details.=0A=
 *=0A=
 * You should have received a copy of the GNU General Public License=0A=
 * along with this program; if not, write to the Free Software=0A=
 * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA (or visit=0A=
 * their web site at http://www.gnu.org/).=0A=
 *=0A=
 */=0A=
=0A=
#include <ctype.h>=0A=
#include "hbvm.h"=0A=
#include "hbstack.h"=0A=
#include "hbapifs.h"=0A=
#include "hbset.h"=0A=
#include "hbapierr.h"=0A=
#include "hbapilng.h"=0A=
#include "hbapiitm.h"=0A=
#include "hbrddwrk.h"=0A=
=0A=
=0A=
typedef struct _AREANODE=0A=
{=0A=
   void * pArea;               /* WorkAreas with different sizes */=0A=
   struct _AREANODE * pPrev;   /* Prev WorkArea in the list */=0A=
   struct _AREANODE * pNext;   /* Next WorkArea in the list */=0A=
} AREANODE;=0A=
=0A=
typedef AREANODE * LPAREANODE;=0A=
=0A=
=0A=
=0A=
extern HB_FUNC( _DBF );=0A=
extern HB_FUNC( _SDF );=0A=
extern HB_FUNC( _DELIM );=0A=
extern HB_FUNC( RDDSYS );=0A=
=0A=
static char * s_szDefDriver =3D NULL;    /* Default RDD name */=0A=
static USHORT s_uiCurrArea =3D 1;        /* Selectd area */=0A=
static LPRDDNODE s_pRddList =3D NULL;    /* Registered RDD's */=0A=
static BOOL s_bNetError =3D FALSE;       /* Error on Networked =
environments */=0A=
=0A=
static LPAREANODE s_pWorkAreas =3D NULL; /* WorkAreas */=0A=
static LPAREANODE s_pCurrArea =3D NULL;  /* Pointer to a selectd and =
valid area */=0A=
=0A=
/*=0A=
 * -- DEFAULT METHODS --=0A=
 */=0A=
=0A=
/*=0A=
 * Empty method.=0A=
 */=0A=
static ERRCODE hb_waNull( AREAP pArea )=0A=
{=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_waNull(%p)", pArea));=0A=
   HB_SYMBOL_UNUSED( pArea );=0A=
=0A=
   return SUCCESS;=0A=
}=0A=
=0A=
/*=0A=
 * Raise a runtime error if an method is not defined.=0A=
 */=0A=
static ERRCODE hb_waUnsupported( AREAP pArea )=0A=
{=0A=
   PHB_ITEM pError;=0A=
=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_waUnsupported(%p)", pArea));=0A=
=0A=
   pError =3D hb_errNew();=0A=
   hb_errPutGenCode( pError, EG_UNSUPPORTED );=0A=
   hb_errPutDescription( pError, hb_langDGetErrorDesc( EG_UNSUPPORTED ) =
);=0A=
   SELF_ERROR( pArea, pError );=0A=
   hb_errRelease( pError );=0A=
=0A=
   return FAILURE;=0A=
}=0A=
=0A=
/*=0A=
 * The default virtual method table for all WorkAreas.=0A=
 */=0A=
static RDDFUNCS waTable =3D { hb_waBof,=0A=
                            hb_waEof,=0A=
                            hb_waFound,=0A=
                            hb_waGoBottom,=0A=
                            hb_waGoTo,=0A=
                            hb_waGoToId,=0A=
                            hb_waGoTop,=0A=
                            hb_waSeek,=0A=
                            hb_waSkip,=0A=
                            hb_waSkipFilter,=0A=
                            hb_waSkipRaw,=0A=
                            hb_waAddField,=0A=
                            hb_waAppend,=0A=
                            hb_waCreateFields,=0A=
                            hb_waDeleteRec,=0A=
                            hb_waDeleted,=0A=
                            hb_waFieldCount,=0A=
                            hb_waFieldDisplay,=0A=
                            hb_waFieldInfo,=0A=
                            hb_waFieldName,=0A=
                            hb_waFlush,=0A=
                            hb_waGetRec,=0A=
                            hb_waGetValue,=0A=
                            hb_waGetVarLen,=0A=
                            hb_waGoCold,=0A=
                            hb_waGoHot,=0A=
                            hb_waPutRec,=0A=
                            hb_waPutValue,=0A=
                            hb_waRecall,=0A=
                            hb_waRecCount,=0A=
                            hb_waRecInfo,=0A=
                            hb_waRecNo,=0A=
                            hb_waSetFieldExtent,=0A=
                            hb_waAlias,=0A=
                            hb_waClose,=0A=
                            hb_waCreate,=0A=
                            hb_waInfo,=0A=
                            hb_waNewArea,=0A=
                            hb_waOpen,=0A=
                            hb_waRelease,=0A=
                            hb_waStructSize,=0A=
                            hb_waSysName,=0A=
                            hb_waEval,=0A=
                            hb_waPack,=0A=
                            hb_waPackRec,=0A=
                            hb_waSort,=0A=
                            hb_waTrans,=0A=
                            hb_waTransRec,=0A=
                            hb_waZap,=0A=
                            hb_waChildEnd,=0A=
                            hb_waChildStart,=0A=
                            hb_waChildSync,=0A=
                            hb_waSyncChildren,=0A=
                            hb_waClearRel,=0A=
                            hb_waForceRel,=0A=
                            hb_waRelArea,=0A=
                            hb_waRelEval,=0A=
                            hb_waRelText,=0A=
                            hb_waSetRel,=0A=
                            hb_waOrderListAdd,=0A=
                            hb_waOrderListClear,=0A=
                            hb_waOrderListDelete,=0A=
                            hb_waOrderListFocus,=0A=
                            hb_waOrderListRebuild,=0A=
                            hb_waOrderCondition,=0A=
                            hb_waOrderCreate,=0A=
                            hb_waOrderDestroy,=0A=
                            hb_waOrderInfo,=0A=
                            hb_waClearFilter,=0A=
                            hb_waClearLocate,=0A=
                            hb_waClearScope,=0A=
                            hb_waCountScope,=0A=
                            hb_waFilterText,=0A=
                            hb_waScopeInfo,=0A=
                            hb_waSetFilter,=0A=
                            hb_waSetLocate,=0A=
                            hb_waSetScope,=0A=
                            hb_waSkipScope,=0A=
                            hb_waCompile,=0A=
                            hb_waError,=0A=
                            hb_waEvalBlock,=0A=
                            hb_waRawLock,=0A=
                            hb_waLock,=0A=
                            hb_waUnLock,=0A=
                            hb_waCloseMemFile,=0A=
                            hb_waCreateMemFile,=0A=
                            hb_waGetValueFile,=0A=
                            hb_waOpenMemFile,=0A=
                            hb_waPutValueFile,=0A=
                            hb_waReadDBHeader,=0A=
                            hb_waWriteDBHeader,=0A=
                            hb_rddExit,=0A=
                            hb_rddDrop,=0A=
                            hb_rddExists,=0A=
                            hb_waWhoCares=0A=
                           };=0A=
=0A=
=0A=
=0A=
/*=0A=
 * -- BASIC RDD METHODS --=0A=
 */=0A=
=0A=
/*=0A=
 * Force link the built-in RDD's.=0A=
 */=0A=
static void hb_rddCheck( void )=0A=
{=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddCheck()"));=0A=
=0A=
   if( !s_szDefDriver )=0A=
   {=0A=
      s_szDefDriver =3D ( char * ) hb_xgrab( 1 );=0A=
      s_szDefDriver[ 0 ] =3D '\0';=0A=
=0A=
      /* Force link the built-in RDD's */=0A=
      HB_FUNCNAME( _DBF )();=0A=
      HB_FUNCNAME( _SDF )();=0A=
      HB_FUNCNAME( _DELIM )();=0A=
      HB_FUNCNAME( RDDSYS )();=0A=
   }=0A=
}=0A=
=0A=
/*=0A=
 * Closes all WorkAreas.=0A=
 */=0A=
static void hb_rddCloseAll( void )=0A=
{=0A=
   int nCycl =3D 0;=0A=
   LPAREANODE pAreaNode;=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddCloseAll()"));=0A=
=0A=
   while( nCycl < 2 )=0A=
   {=0A=
      pAreaNode =3D s_pWorkAreas;=0A=
      while( pAreaNode )=0A=
      {=0A=
         s_pCurrArea =3D pAreaNode;=0A=
         pAreaNode =3D pAreaNode->pNext;=0A=
         if( ( !nCycl && ( ( AREAP ) s_pCurrArea->pArea )->lpdbRelations =
) ||=0A=
             ( nCycl && s_pCurrArea->pArea ) )=0A=
         {=0A=
            SELF_CLOSE( ( AREAP ) s_pCurrArea->pArea );=0A=
            SELF_RELEASE( ( AREAP ) s_pCurrArea->pArea );=0A=
            // hb_xfree( s_pCurrArea->pArea );=0A=
            s_pCurrArea->pArea =3D NULL;=0A=
         }=0A=
         if( nCycl =3D=3D 1 )=0A=
            hb_xfree( s_pCurrArea );=0A=
      }=0A=
      nCycl ++;=0A=
   }=0A=
=0A=
   s_uiCurrArea =3D 1;=0A=
   s_pCurrArea =3D NULL;=0A=
   s_pWorkAreas =3D NULL;=0A=
}=0A=
=0A=
/*=0A=
 * Find a RDD node.=0A=
 */=0A=
static LPRDDNODE hb_rddFindNode( char * szDriver, USHORT * uiIndex )=0A=
{=0A=
   LPRDDNODE pRddNode;=0A=
   USHORT uiCount;=0A=
=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddFindNode(%s, %p)", szDriver, uiIndex));=0A=
=0A=
   uiCount =3D 0;=0A=
   pRddNode =3D s_pRddList;=0A=
   while( pRddNode )=0A=
   {=0A=
      if( strcmp( pRddNode->szName, szDriver ) =3D=3D 0 ) /* Matched RDD =
*/=0A=
      {=0A=
         if( uiIndex )=0A=
            * uiIndex =3D uiCount;=0A=
         return pRddNode;=0A=
      }=0A=
      pRddNode =3D pRddNode->pNext;=0A=
      uiCount++;=0A=
   }=0A=
   if( uiIndex )=0A=
      * uiIndex =3D 0;=0A=
   return NULL;=0A=
}=0A=
=0A=
/*=0A=
 * Register a RDD driver.=0A=
 */=0A=
static int hb_rddRegister( char * szDriver, USHORT uiType )=0A=
{=0A=
   LPRDDNODE pRddNode, pRddNewNode;=0A=
   PHB_DYNS pGetFuncTable;=0A=
   char * szGetFuncTable;=0A=
   USHORT uiFunctions;=0A=
=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddRegister(%s, %hu)", szDriver, uiType));=0A=
=0A=
   if( hb_rddFindNode( szDriver, NULL ) )    /* Duplicated RDD */=0A=
      return 1;=0A=
=0A=
   szGetFuncTable =3D ( char * ) hb_xgrab( strlen( szDriver ) + 14 );=0A=
   strcpy( szGetFuncTable, szDriver );=0A=
   strcat( szGetFuncTable, "_GETFUNCTABLE" );=0A=
   pGetFuncTable =3D hb_dynsymFindName( szGetFuncTable );=0A=
   hb_xfree( szGetFuncTable );=0A=
   if( !pGetFuncTable )=0A=
      return 2;              /* Not valid RDD */=0A=
=0A=
   /* Create a new RDD node */=0A=
   pRddNewNode =3D ( LPRDDNODE ) hb_xgrab( sizeof( RDDNODE ) );=0A=
   memset( pRddNewNode, 0, sizeof( RDDNODE ) );=0A=
=0A=
   /* Fill the new RDD node */=0A=
   strncpy( pRddNewNode->szName, szDriver, =
HARBOUR_MAX_RDD_DRIVERNAME_LENGTH );=0A=
   pRddNewNode->uiType =3D uiType;=0A=
=0A=
   /* Call <szDriver>_GETFUNCTABLE() */=0A=
   hb_vmPushSymbol( pGetFuncTable->pSymbol );=0A=
   hb_vmPushNil();=0A=
   hb_vmPushPointer( ( void * ) &uiFunctions );=0A=
   hb_vmPushPointer( ( void * ) &pRddNewNode->pTable );=0A=
   hb_vmDo( 2 );=0A=
   if ( hb_parni( -1 ) !=3D SUCCESS )=0A=
   {=0A=
      hb_xfree( pRddNewNode );         /* Delete de new RDD node */=0A=
      return 3;                        /* Invalid FUNCTABLE */=0A=
   }=0A=
=0A=
   if( !s_pRddList )                   /* First RDD node */=0A=
      s_pRddList =3D pRddNewNode;=0A=
   else=0A=
   {=0A=
      pRddNode =3D s_pRddList;=0A=
      while( pRddNode->pNext )=0A=
         pRddNode =3D pRddNode->pNext;   /* Locate the last RDD node */=0A=
      pRddNode->pNext =3D pRddNewNode;   /* Add the new RDD node */=0A=
   }=0A=
   return 0;                           /* Ok */=0A=
}=0A=
=0A=
/*=0A=
 * Find a WorkArea by the alias.=0A=
 */=0A=
static USHORT hb_rddSelect( char * szAlias )=0A=
{=0A=
   PHB_DYNS pSymAlias;=0A=
=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddSelect(%s)", szAlias));=0A=
=0A=
   pSymAlias =3D hb_dynsymFindName( szAlias );=0A=
   if( pSymAlias && pSymAlias->hArea )=0A=
      return ( USHORT ) pSymAlias->hArea;=0A=
   else=0A=
      return 0;=0A=
}=0A=
=0A=
/*=0A=
 * Return thne next free WorkArea for later use.=0A=
 */=0A=
static void hb_rddSelectFirstAvailable( void )=0A=
{=0A=
   LPAREANODE pAreaNode;=0A=
=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddSelectFirstAvailable()"));=0A=
=0A=
   s_uiCurrArea =3D 1;=0A=
   pAreaNode =3D s_pWorkAreas;=0A=
   while( pAreaNode )=0A=
   {=0A=
      if( ( ( AREAP ) pAreaNode->pArea )->uiArea > s_uiCurrArea )=0A=
         break;=0A=
      else if( ( ( AREAP ) pAreaNode->pArea )->uiArea =3D=3D =
s_uiCurrArea )=0A=
         s_uiCurrArea++;=0A=
      pAreaNode =3D pAreaNode->pNext;=0A=
   }=0A=
   s_pCurrArea =3D NULL;   /* Selected WorkArea must be created */=0A=
}=0A=
=0A=
/*=0A=
 * pTable - a table in new RDDNODE that will be filled=0A=
 * pSubTable - a table with a list of supported functions=0A=
 * pSuperTable - a current table in a RDDNODE=0A=
 * szDrvName - a driver name that will be inherited=0A=
*/=0A=
ERRCODE hb_rddInherit( PRDDFUNCS pTable, PRDDFUNCS pSubTable, PRDDFUNCS =
pSuperTable, BYTE * szDrvName )=0A=
{=0A=
   char * szSuperName;=0A=
   LPRDDNODE pRddNode;=0A=
   USHORT uiCount;=0A=
   DBENTRYP_V * pFunction, * pSubFunction;=0A=
=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddInherit(%p, %p, %p, %s)", pTable, =
pSubTable, pSuperTable, szDrvName));=0A=
=0A=
   if( !pTable )=0A=
      return FAILURE;=0A=
=0A=
   /* Copy the pSuperTable into pTable */=0A=
   if( !szDrvName || ( uiCount =3D strlen( ( const char * ) szDrvName ) =
) =3D=3D 0 )=0A=
   {=0A=
      /* no name for inherited driver - use the default one */=0A=
      memcpy( pTable, &waTable, sizeof( RDDFUNCS ) );=0A=
      memcpy( pSuperTable, &waTable, sizeof( RDDFUNCS ) );=0A=
   }=0A=
   else=0A=
   {=0A=
      szSuperName =3D ( char * ) hb_xgrab( uiCount + 1 );=0A=
      hb_strncpyUpper( szSuperName, ( char * ) szDrvName, uiCount );=0A=
      pRddNode =3D hb_rddFindNode( szSuperName, NULL );=0A=
      hb_xfree( szSuperName );=0A=
      if( !pRddNode )=0A=
         return FAILURE;=0A=
      memcpy( pTable, &pRddNode->pTable, sizeof( RDDFUNCS ) );=0A=
      memcpy( pSuperTable, &pRddNode->pTable, sizeof( RDDFUNCS ) );=0A=
   }=0A=
=0A=
   /* Copy the non NULL entries from pSubTable into pTable */=0A=
   pFunction =3D ( DBENTRYP_V * ) pTable;=0A=
   pSubFunction =3D ( DBENTRYP_V * ) pSubTable;=0A=
   for( uiCount =3D 0; uiCount < RDDFUNCSCOUNT; uiCount++ )=0A=
   {=0A=
      if( * pSubFunction )=0A=
         * pFunction =3D * pSubFunction;=0A=
      pFunction ++;=0A=
      pSubFunction ++;=0A=
   }=0A=
   return SUCCESS;=0A=
}=0A=
=0A=
/*=0A=
 * Closes and releases the current WorkArea preparing it=0A=
 * to be used with a new database.=0A=
 */=0A=
void hb_rddReleaseCurrentArea( void )=0A=
{=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddReleaseCurrentArea()"));=0A=
   SELF_CLOSE( ( AREAP ) s_pCurrArea->pArea );=0A=
   SELF_RELEASE( ( AREAP ) s_pCurrArea->pArea );=0A=
=0A=
   if( s_pWorkAreas =3D=3D s_pCurrArea )=0A=
   {=0A=
      s_pWorkAreas =3D s_pCurrArea->pNext;=0A=
      if( s_pWorkAreas )=0A=
         s_pWorkAreas->pPrev =3D NULL;=0A=
   }=0A=
   else=0A=
   {=0A=
      if( s_pCurrArea->pPrev )=0A=
         s_pCurrArea->pPrev->pNext =3D s_pCurrArea->pNext;=0A=
      if( s_pCurrArea->pNext )=0A=
         s_pCurrArea->pNext->pPrev =3D s_pCurrArea->pPrev;=0A=
   }=0A=
=0A=
   hb_xfree( s_pCurrArea );=0A=
   s_pCurrArea =3D NULL;=0A=
}=0A=
=0A=
/*=0A=
 * Prepares a new WorkArea node.=0A=
 */=0A=
LPAREANODE hb_rddNewAreaNode( LPRDDNODE pRddNode, USHORT uiRddID )=0A=
{=0A=
   LPAREANODE pCurrArea;=0A=
   USHORT uiSize;=0A=
=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddNewAreaNode(%p %d)", pRddNode,uiRddID));=0A=
   pCurrArea =3D ( LPAREANODE ) hb_xgrab( sizeof( AREANODE ) );=0A=
   if( pRddNode->uiAreaSize =3D=3D 0 ) /* Calculate the size of WorkArea =
*/=0A=
   {=0A=
      pCurrArea->pArea =3D ( AREAP ) hb_xgrab( sizeof( AREA ) );=0A=
      memset( pCurrArea->pArea, 0, sizeof( AREA ) );=0A=
      ( ( AREAP ) pCurrArea->pArea )->lprfsHost =3D &pRddNode->pTable;=0A=
=0A=
      /* Need more space? */=0A=
      SELF_STRUCTSIZE( ( AREAP ) pCurrArea->pArea, &uiSize );=0A=
      if( uiSize > sizeof( AREA ) )   /* Size of Area changed */=0A=
      {=0A=
         pCurrArea->pArea =3D ( AREAP ) hb_xrealloc( pCurrArea->pArea, =
uiSize );=0A=
         memset( pCurrArea->pArea, 0, uiSize );=0A=
         ( ( AREAP ) pCurrArea->pArea )->lprfsHost =3D &pRddNode->pTable;=0A=
      }=0A=
=0A=
      pRddNode->uiAreaSize =3D uiSize;  /* Update the size of WorkArea */=0A=
   }=0A=
   else=0A=
   {=0A=
      pCurrArea->pArea =3D ( AREAP ) hb_xgrab( pRddNode->uiAreaSize );=0A=
      memset( pCurrArea->pArea, 0, pRddNode->uiAreaSize );=0A=
      ( ( AREAP ) pCurrArea->pArea )->lprfsHost =3D &pRddNode->pTable;=0A=
   }=0A=
=0A=
   ( ( AREAP ) pCurrArea->pArea )->rddID =3D uiRddID;=0A=
=0A=
   pCurrArea->pPrev =3D NULL;=0A=
   pCurrArea->pNext =3D NULL;=0A=
=0A=
   SELF_NEW( ( AREAP ) pCurrArea->pArea );=0A=
   return pCurrArea;=0A=
}=0A=
=0A=
/*=0A=
 * Insert the new WorkArea node=0A=
 */=0A=
USHORT hb_rddInsertAreaNode( char *szDriver )=0A=
{=0A=
   USHORT uiRddID;=0A=
   LPRDDNODE pRddNode;=0A=
   LPAREANODE pAreaNode;=0A=
=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddInsertAreaNode(%s)", szDriver));=0A=
   pRddNode =3D hb_rddFindNode( szDriver, &uiRddID );=0A=
   if( !pRddNode )=0A=
      return FALSE;=0A=
=0A=
   s_pCurrArea =3D hb_rddNewAreaNode( pRddNode, uiRddID );=0A=
   if( !s_pWorkAreas )=0A=
      s_pWorkAreas =3D s_pCurrArea;  /* The new WorkArea node is the =
first */=0A=
   else=0A=
   {=0A=
      pAreaNode =3D s_pWorkAreas;=0A=
      while( pAreaNode )=0A=
      {=0A=
         if( ( ( AREAP ) pAreaNode->pArea )->uiArea > s_uiCurrArea )=0A=
         {=0A=
            /* Insert the new WorkArea node */=0A=
            s_pCurrArea->pPrev =3D pAreaNode->pPrev;=0A=
            s_pCurrArea->pNext =3D pAreaNode;=0A=
            pAreaNode->pPrev =3D s_pCurrArea;=0A=
            if( s_pCurrArea->pPrev )=0A=
               s_pCurrArea->pPrev->pNext =3D s_pCurrArea;=0A=
            else=0A=
               s_pWorkAreas =3D s_pCurrArea;=0A=
            break;=0A=
         }=0A=
         if( pAreaNode->pNext )=0A=
            pAreaNode =3D pAreaNode->pNext;=0A=
         else=0A=
         {=0A=
            /* Append the new WorkArea node */=0A=
            pAreaNode->pNext =3D s_pCurrArea;=0A=
            s_pCurrArea->pPrev =3D pAreaNode;=0A=
            break;=0A=
         }=0A=
      }=0A=
   }=0A=
   return TRUE;=0A=
}=0A=
=0A=
/*=0A=
 * Find a field.=0A=
 */=0A=
static USHORT hb_rddFieldIndex( AREAP pArea, char * szName )=0A=
{=0A=
   USHORT uiCount;=0A=
   LPFIELD pField;=0A=
=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddFieldIndex(%s)", szName));=0A=
   uiCount =3D 0;=0A=
   pField =3D pArea->lpFields;=0A=
   while( pField )=0A=
   {=0A=
      ++uiCount;=0A=
      if( strcmp( szName, ( ( PHB_DYNS ) pField->sym )->pSymbol->szName =
) =3D=3D 0 )=0A=
         return uiCount;=0A=
      pField =3D pField->lpfNext;=0A=
   }=0A=
   return 0;=0A=
}=0A=
=0A=
/*=0A=
 * -- FUNCTIONS ACCESSED FROM VIRTUAL MACHINE --=0A=
 */=0A=
=0A=
/*=0A=
 * Return the current WorkArea number.=0A=
 */=0A=
int  hb_rddGetCurrentWorkAreaNumber( void )=0A=
{=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddGetCurrentWorkAreaNumber()"));=0A=
=0A=
   return s_uiCurrArea;=0A=
}=0A=
=0A=
/*=0A=
 * Select a WorkArea by the number.=0A=
 */=0A=
ERRCODE hb_rddSelectWorkAreaNumber( int iArea )=0A=
{=0A=
   LPAREANODE pAreaNode;=0A=
=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddSelectWorkAreaNumber(%d)", iArea));=0A=
=0A=
   s_uiCurrArea =3D iArea;=0A=
=0A=
   pAreaNode =3D s_pWorkAreas;=0A=
   while( pAreaNode )=0A=
   {=0A=
      if( ( ( AREAP ) pAreaNode->pArea )->uiArea =3D=3D s_uiCurrArea )=0A=
      {=0A=
         s_pCurrArea =3D pAreaNode; /* Select a valid WorkArea */=0A=
         return SUCCESS;=0A=
      }=0A=
      pAreaNode =3D pAreaNode->pNext;=0A=
   }=0A=
   s_pCurrArea =3D NULL;            /* Selected WorkArea is closed */=0A=
   return FAILURE;=0A=
}=0A=
=0A=
/*=0A=
 * Select a WorkArea by the symbol name.=0A=
 */=0A=
ERRCODE hb_rddSelectWorkAreaSymbol( PHB_SYMB pSymAlias )=0A=
{=0A=
   ERRCODE bResult;=0A=
   char * szName;=0A=
=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddSelectWorkAreaSymbol(%p)", pSymAlias));=0A=
=0A=
   if( pSymAlias->pDynSym->hArea )=0A=
      bResult =3D hb_rddSelectWorkAreaNumber( pSymAlias->pDynSym->hArea =
);=0A=
   else=0A=
   {=0A=
      szName =3D pSymAlias->pDynSym->pSymbol->szName;=0A=
=0A=
      if( strlen( szName ) =3D=3D 1 && toupper( szName[ 0 ] ) >=3D 'A' =
&& toupper( szName[ 0 ] ) <=3D 'K' )=0A=
         bResult =3D hb_rddSelectWorkAreaNumber( toupper( szName[ 0 ] ) =
- 'A' + 1 );=0A=
      else=0A=
      {=0A=
         /*=0A=
          * generate an error with retry possibility=0A=
          * (user created error handler can open a missing database)=0A=
          */=0A=
         USHORT uiAction =3D E_RETRY;=0A=
         HB_ITEM_PTR pError;=0A=
=0A=
         pError =3D hb_errRT_New( ES_ERROR, NULL, EG_NOALIAS, =
EDBCMD_NOALIAS,=0A=
                                NULL, pSymAlias->szName, 0, EF_CANRETRY =
);=0A=
=0A=
         bResult =3D FAILURE;=0A=
         while( uiAction =3D=3D E_RETRY )=0A=
         {=0A=
            uiAction =3D hb_errLaunch( pError );=0A=
            if( uiAction =3D=3D E_RETRY )=0A=
               if( pSymAlias->pDynSym->hArea )=0A=
               {=0A=
                  bResult =3D hb_rddSelectWorkAreaNumber( =
pSymAlias->pDynSym->hArea );=0A=
                  uiAction =3D E_DEFAULT;=0A=
               }=0A=
         }=0A=
         hb_errRelease( pError );=0A=
      }=0A=
   }=0A=
   return bResult;=0A=
}=0A=
=0A=
/*=0A=
 * Select a WorkArea by the name.=0A=
 */=0A=
ERRCODE hb_rddSelectWorkAreaAlias( char * szName )=0A=
{=0A=
   ERRCODE bResult;=0A=
   ULONG ulLen;=0A=
   PHB_DYNS pSymArea;=0A=
   USHORT uiAction;=0A=
   HB_ITEM_PTR pError;=0A=
=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddSelectWorkAreaAlias(%s)", szName));=0A=
=0A=
   ulLen =3D strlen( szName );=0A=
   if( ulLen >=3D 1 && toupper( szName[ 0 ] ) > '0' && toupper( szName[ =
0 ] ) <=3D '9' )=0A=
      bResult =3D hb_rddSelectWorkAreaNumber( atoi( szName ) );=0A=
   else if( ulLen =3D=3D 1 && toupper( szName[ 0 ] ) >=3D 'A' && =
toupper( szName[ 0 ] ) <=3D 'K' )=0A=
      bResult =3D hb_rddSelectWorkAreaNumber( toupper( szName[ 0 ] ) - =
'A' + 1 );=0A=
   else=0A=
   {=0A=
      pSymArea =3D hb_dynsymFindName( szName );=0A=
      if( pSymArea && pSymArea->hArea )=0A=
         bResult =3D hb_rddSelectWorkAreaNumber( pSymArea->hArea );=0A=
      else=0A=
      {=0A=
         /*=0A=
          * generate an error with retry possibility=0A=
          * (user created error handler can open a missing database)=0A=
          */=0A=
         uiAction =3D E_RETRY;=0A=
         pError =3D hb_errRT_New( ES_ERROR, NULL, EG_NOALIAS, =
EDBCMD_NOALIAS,=0A=
                                NULL, szName, 0, EF_CANRETRY );=0A=
=0A=
         bResult =3D FAILURE;=0A=
         while( uiAction =3D=3D E_RETRY )=0A=
         {=0A=
            uiAction =3D hb_errLaunch( pError );=0A=
            if( uiAction =3D=3D E_RETRY )=0A=
            {=0A=
               pSymArea =3D hb_dynsymFindName( szName );=0A=
               if( pSymArea && pSymArea->hArea )=0A=
               {=0A=
                  bResult =3D hb_rddSelectWorkAreaNumber( =
pSymArea->hArea );=0A=
                  uiAction =3D E_DEFAULT;=0A=
               }=0A=
            }=0A=
         }=0A=
         hb_errRelease( pError );=0A=
      }=0A=
   }=0A=
=0A=
   return bResult;=0A=
}=0A=
=0A=
/*=0A=
 *  Function for getting current workarea pointer=0A=
 */=0A=
void * hb_rddGetCurrentWorkAreaPointer( void )=0A=
{=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddGetCurrentWorkAreaPointer()"));=0A=
=0A=
   return s_pCurrArea->pArea;=0A=
}=0A=
=0A=
/*=0A=
 * Obtain the current value of a field.=0A=
 */=0A=
ERRCODE hb_rddGetFieldValue( HB_ITEM_PTR pItem, PHB_SYMB pFieldSymbol )=0A=
{=0A=
   ERRCODE bSuccess;=0A=
   USHORT uiAction;=0A=
   HB_ITEM_PTR pError;=0A=
=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddGetFieldValue(%p, %p)", pItem, =
pFieldSymbol));=0A=
=0A=
   bSuccess =3D hb_rddFieldGet( pItem, pFieldSymbol );=0A=
   if( bSuccess =3D=3D FAILURE )=0A=
   {=0A=
      /*=0A=
       * generate an error with retry possibility=0A=
       * (user created error handler can make this field accessible)=0A=
       */=0A=
      uiAction =3D E_RETRY;=0A=
      pError =3D hb_errRT_New( ES_ERROR, NULL, EG_NOVAR, EDBCMD_NOVAR,=0A=
                             NULL, pFieldSymbol->szName, 0, EF_CANRETRY =
);=0A=
=0A=
      while( uiAction =3D=3D E_RETRY )=0A=
      {=0A=
         uiAction =3D hb_errLaunch( pError );=0A=
         if( uiAction =3D=3D E_RETRY )=0A=
         {=0A=
            bSuccess =3D hb_rddFieldGet( pItem, pFieldSymbol );=0A=
            if( bSuccess =3D=3D SUCCESS )=0A=
               uiAction =3D E_DEFAULT;=0A=
         }=0A=
      }=0A=
      hb_errRelease( pError );=0A=
   }=0A=
   return bSuccess;=0A=
}=0A=
=0A=
/*=0A=
 * Assign a value to a field.=0A=
 */=0A=
ERRCODE hb_rddPutFieldValue( HB_ITEM_PTR pItem, PHB_SYMB pFieldSymbol )=0A=
{=0A=
   ERRCODE bSuccess;=0A=
   USHORT uiAction;=0A=
   HB_ITEM_PTR pError;=0A=
=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddPutFieldValue(%p, %p)", pItem, =
pFieldSymbol));=0A=
=0A=
   bSuccess =3D hb_rddFieldPut( pItem, pFieldSymbol );=0A=
   if( bSuccess =3D=3D FAILURE )=0A=
   {=0A=
      /*=0A=
       * generate an error with retry possibility=0A=
       * (user created error handler can make this field accessible)=0A=
       */=0A=
      uiAction =3D E_RETRY;=0A=
      pError =3D hb_errRT_New( ES_ERROR, NULL, EG_NOVAR, EDBCMD_NOVAR,=0A=
                             NULL, pFieldSymbol->szName, 0, EF_CANRETRY =
);=0A=
=0A=
      while( uiAction =3D=3D E_RETRY )=0A=
      {=0A=
         uiAction =3D hb_errLaunch( pError );=0A=
         if( uiAction =3D=3D E_RETRY )=0A=
         {=0A=
            bSuccess =3D hb_rddFieldPut( pItem, pFieldSymbol );=0A=
            if( bSuccess =3D=3D SUCCESS )=0A=
               uiAction =3D E_DEFAULT;=0A=
         }=0A=
      }=0A=
      hb_errRelease( pError );=0A=
   }=0A=
   return bSuccess;=0A=
}=0A=
=0A=
/*=0A=
 * Assign a value to a field.=0A=
 */=0A=
ERRCODE hb_rddFieldPut( HB_ITEM_PTR pItem, PHB_SYMB pFieldSymbol )=0A=
{=0A=
   LPFIELD pField;=0A=
   USHORT uiField;=0A=
=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddFieldPut(%p, %p)", pItem, =
pFieldSymbol));=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      uiField =3D 1;=0A=
      pField =3D ( ( AREAP ) s_pCurrArea->pArea )->lpFields;=0A=
      while( pField )=0A=
      {=0A=
         if( ( PHB_DYNS ) pField->sym =3D=3D pFieldSymbol->pDynSym )=0A=
         {=0A=
            SELF_PUTVALUE( ( AREAP ) s_pCurrArea->pArea, uiField, pItem =
);=0A=
            return SUCCESS;=0A=
         }=0A=
         pField =3D pField->lpfNext;=0A=
         uiField++;=0A=
      }=0A=
   }=0A=
   return FAILURE;=0A=
}=0A=
=0A=
/*=0A=
 * Obtain the current value of a field.=0A=
 */=0A=
ERRCODE hb_rddFieldGet( HB_ITEM_PTR pItem, PHB_SYMB pFieldSymbol )=0A=
{=0A=
   LPFIELD pField;=0A=
   USHORT uiField;=0A=
=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddFieldGet(%p, %p)", pItem, =
pFieldSymbol));=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      uiField =3D 1;=0A=
      pField =3D ( ( AREAP ) s_pCurrArea->pArea )->lpFields;=0A=
      while( pField )=0A=
      {=0A=
         if( ( PHB_DYNS ) pField->sym =3D=3D pFieldSymbol->pDynSym )=0A=
         {=0A=
            SELF_GETVALUE( ( AREAP ) s_pCurrArea->pArea, uiField, pItem =
);=0A=
            return SUCCESS;=0A=
         }=0A=
         pField =3D pField->lpfNext;=0A=
         uiField++;=0A=
      }=0A=
   }=0A=
   return FAILURE;=0A=
}=0A=
=0A=
/*=0A=
 * Shutdown the RDD system.=0A=
 */=0A=
void hb_rddShutDown( void )=0A=
{=0A=
   LPRDDNODE pRddNode;=0A=
=0A=
   HB_TRACE(HB_TR_DEBUG, ("hb_rddShutDown()"));=0A=
=0A=
   hb_rddCloseAll();=0A=
   if( s_szDefDriver )=0A=
      hb_xfree( s_szDefDriver );=0A=
=0A=
   while( s_pRddList )=0A=
   {=0A=
      pRddNode =3D s_pRddList;=0A=
      s_pRddList =3D s_pRddList->pNext;=0A=
      if ( pRddNode->pTable.exit !=3D NULL )=0A=
        SELF_EXIT( pRddNode );=0A=
      hb_xfree( pRddNode );=0A=
   }=0A=
}=0A=
=0A=
/*=0A=
 * -- HARBOUR FUNCTIONS --=0A=
 */=0A=
=0A=
HB_FUNC( AFIELDS )=0A=
{=0A=
   PHB_ITEM pName, pType, pLen, pDec, pItem;=0A=
   USHORT uiFields, uiArrayLen, uiCount;=0A=
=0A=
   if( !s_pCurrArea )=0A=
   {=0A=
      hb_retni( 0 );=0A=
      return;=0A=
   }=0A=
=0A=
   pName =3D hb_param( 1, HB_IT_ARRAY );=0A=
   pType =3D hb_param( 2, HB_IT_ARRAY );=0A=
   pLen =3D hb_param( 3, HB_IT_ARRAY );=0A=
   pDec =3D hb_param( 4, HB_IT_ARRAY );=0A=
   if( !pName && !pType && !pLen && !pDec )=0A=
   {=0A=
      hb_retni( 0 );=0A=
      return;=0A=
   }=0A=
=0A=
   uiArrayLen =3D 0;=0A=
   pItem =3D hb_itemNew( NULL );=0A=
   SELF_FIELDCOUNT( ( AREAP ) s_pCurrArea->pArea, &uiFields );=0A=
   if( pName )=0A=
   {=0A=
      uiArrayLen =3D ( USHORT ) hb_arrayLen( pName );=0A=
      if( uiArrayLen > uiFields )=0A=
         uiArrayLen =3D uiFields;=0A=
      for( uiCount =3D 1; uiCount <=3D uiArrayLen; uiCount++ )=0A=
      {=0A=
         SELF_FIELDINFO( ( AREAP ) s_pCurrArea->pArea, uiCount, =
DBS_NAME, pItem );=0A=
         hb_arraySet( pName, uiCount, pItem );=0A=
      }=0A=
   }=0A=
   if( pType )=0A=
   {=0A=
      uiArrayLen =3D ( USHORT ) hb_arrayLen( pType );=0A=
      if( uiArrayLen > uiFields )=0A=
         uiArrayLen =3D uiFields;=0A=
      for( uiCount =3D 1; uiCount <=3D uiArrayLen; uiCount++ )=0A=
      {=0A=
         SELF_FIELDINFO( ( AREAP ) s_pCurrArea->pArea, uiCount, =
DBS_TYPE, pItem );=0A=
         hb_arraySet( pType, uiCount, pItem );=0A=
      }=0A=
   }=0A=
   if( pLen )=0A=
   {=0A=
      uiArrayLen =3D ( USHORT ) hb_arrayLen( pLen );=0A=
      if( uiArrayLen > uiFields )=0A=
         uiArrayLen =3D uiFields;=0A=
      for( uiCount =3D 1; uiCount <=3D uiArrayLen; uiCount++ )=0A=
      {=0A=
         SELF_FIELDINFO( ( AREAP ) s_pCurrArea->pArea, uiCount, DBS_LEN, =
pItem );=0A=
         hb_arraySet( pLen, uiCount, pItem );=0A=
      }=0A=
   }=0A=
   if( pDec )=0A=
   {=0A=
      uiArrayLen =3D ( USHORT ) hb_arrayLen( pDec );=0A=
      if( uiArrayLen > uiFields )=0A=
         uiArrayLen =3D uiFields;=0A=
      for( uiCount =3D 1; uiCount <=3D uiArrayLen; uiCount++ )=0A=
      {=0A=
         SELF_FIELDINFO( ( AREAP ) s_pCurrArea->pArea, uiCount, DBS_DEC, =
pItem );=0A=
         hb_arraySet( pDec, uiCount, pItem );=0A=
      }=0A=
   }=0A=
=0A=
   hb_itemRelease( pItem );=0A=
   hb_retni( uiArrayLen );=0A=
}=0A=
=0A=
HB_FUNC( ALIAS )=0A=
{=0A=
   USHORT uiArea;=0A=
   LPAREANODE pAreaNode;=0A=
   char * szAlias;=0A=
=0A=
   uiArea =3D hb_parni( 1 );=0A=
   uiArea =3D uiArea ? uiArea : s_uiCurrArea;=0A=
   pAreaNode =3D s_pWorkAreas;=0A=
   while( pAreaNode )=0A=
   {=0A=
      if( ( ( AREAP ) pAreaNode->pArea )->uiArea =3D=3D uiArea )=0A=
      {=0A=
         if( ( ( AREAP ) pAreaNode->pArea )->atomAlias &&=0A=
             ( ( PHB_DYNS ) ( ( AREAP ) pAreaNode->pArea )->atomAlias =
)->hArea )=0A=
         {=0A=
            szAlias =3D ( char * ) hb_xgrab( =
HARBOUR_MAX_RDD_ALIAS_LENGTH + 1 );=0A=
            SELF_ALIAS( ( AREAP ) pAreaNode->pArea, ( BYTE * ) szAlias );=0A=
            hb_retc( szAlias );=0A=
            hb_xfree( szAlias );=0A=
            return;=0A=
         }=0A=
         break;=0A=
      }=0A=
      pAreaNode =3D pAreaNode->pNext;=0A=
   }=0A=
   hb_retc( "" );=0A=
}=0A=
=0A=
HB_FUNC( DBEVAL )=0A=
{=0A=
   DBEVALINFO pEvalInfo;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      pEvalInfo.itmBlock =3D hb_param( 1, HB_IT_BLOCK );=0A=
      if( !pEvalInfo.itmBlock )=0A=
      {=0A=
         hb_errRT_DBCMD( EG_ARG, EDBCMD_EVAL_BADPARAMETER, NULL, =
"DBEVAL" );=0A=
         return;=0A=
      }=0A=
=0A=
      pEvalInfo.dbsci.itmCobFor =3D hb_param( 2, HB_IT_BLOCK );=0A=
      if( !pEvalInfo.dbsci.itmCobFor && !ISNIL( 2 ) )=0A=
      {=0A=
         hb_errRT_DBCMD( EG_ARG, EDBCMD_EVAL_BADPARAMETER, NULL, =
"DBEVAL" );=0A=
         return;=0A=
      }=0A=
=0A=
      pEvalInfo.dbsci.itmCobWhile =3D hb_param( 3, HB_IT_BLOCK );=0A=
      if( !pEvalInfo.dbsci.itmCobWhile && !ISNIL( 3 ) )=0A=
      {=0A=
         hb_errRT_DBCMD( EG_ARG, EDBCMD_EVAL_BADPARAMETER, NULL, =
"DBEVAL" );=0A=
         return;=0A=
      }=0A=
=0A=
      pEvalInfo.dbsci.lNext =3D hb_param( 4, HB_IT_NUMERIC );=0A=
      if( !pEvalInfo.dbsci.lNext && !ISNIL( 4 ) )=0A=
      {=0A=
         hb_errRT_DBCMD( EG_ARG, EDBCMD_EVAL_BADPARAMETER, NULL, =
"DBEVAL" );=0A=
         return;=0A=
      }=0A=
=0A=
      pEvalInfo.dbsci.itmRecID =3D hb_param( 5, HB_IT_NUMERIC );=0A=
      if( !pEvalInfo.dbsci.itmRecID && !ISNIL( 5 ) )=0A=
      {=0A=
         hb_errRT_DBCMD( EG_ARG, EDBCMD_EVAL_BADPARAMETER, NULL, =
"DBEVAL" );=0A=
         return;=0A=
      }=0A=
=0A=
      pEvalInfo.dbsci.fRest =3D hb_param( 6, HB_IT_LOGICAL );=0A=
      if( !pEvalInfo.dbsci.fRest && !ISNIL( 6 ) )=0A=
      {=0A=
         hb_errRT_DBCMD( EG_ARG, EDBCMD_EVAL_BADPARAMETER, NULL, =
"DBEVAL" );=0A=
         return;=0A=
      }=0A=
=0A=
      SELF_DBEVAL( ( AREAP ) s_pCurrArea->pArea, &pEvalInfo );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBEVAL" );=0A=
}=0A=
=0A=
HB_FUNC( DBF )=0A=
{=0A=
   LPAREANODE pAreaNode =3D s_pWorkAreas;=0A=
   char * szAlias;=0A=
=0A=
   while( pAreaNode )=0A=
   {=0A=
      if( ( ( AREAP ) pAreaNode->pArea )->uiArea =3D=3D s_uiCurrArea )=0A=
      {=0A=
         if( ( ( AREAP ) pAreaNode->pArea )->atomAlias &&=0A=
             ( ( PHB_DYNS ) ( ( AREAP ) pAreaNode->pArea )->atomAlias =
)->hArea )=0A=
         {=0A=
            szAlias =3D ( char * ) hb_xgrab( =
HARBOUR_MAX_RDD_ALIAS_LENGTH + 1 );=0A=
            SELF_ALIAS( ( AREAP ) pAreaNode->pArea, ( BYTE * ) szAlias );=0A=
            hb_retc( szAlias );=0A=
            hb_xfree( szAlias );=0A=
            return;=0A=
         }=0A=
         break;=0A=
      }=0A=
      pAreaNode =3D pAreaNode->pNext;=0A=
   }=0A=
   hb_retc( "" );=0A=
}=0A=
=0A=
HB_FUNC( BOF )=0A=
{=0A=
   BOOL bBof =3D TRUE;=0A=
=0A=
   if( s_pCurrArea )=0A=
      SELF_BOF( ( AREAP ) s_pCurrArea->pArea, &bBof );=0A=
   hb_retl( bBof );=0A=
}=0A=
=0A=
HB_FUNC( DBAPPEND )=0A=
{=0A=
   BOOL bUnLockAll;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      bUnLockAll =3D ISLOG( 1 ) ? hb_parl( 1 ) : TRUE;=0A=
      s_bNetError =3D FALSE;=0A=
      SELF_APPEND( ( AREAP ) s_pCurrArea->pArea, bUnLockAll );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBAPPEND" );=0A=
}=0A=
=0A=
HB_FUNC( DBCLEARFILTER )=0A=
{=0A=
   if( s_pCurrArea )=0A=
      SELF_CLEARFILTER( ( AREAP ) s_pCurrArea->pArea );=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBCLEARFILTER" =
);=0A=
}=0A=
=0A=
HB_FUNC( DBCLOSEALL )=0A=
{=0A=
   hb_rddCloseAll();=0A=
}=0A=
=0A=
HB_FUNC( DBCLOSEAREA )=0A=
{=0A=
   if( s_pCurrArea )=0A=
      hb_rddReleaseCurrentArea();=0A=
}=0A=
=0A=
HB_FUNC( DBCOMMIT )=0A=
{=0A=
   if( s_pCurrArea )=0A=
      SELF_FLUSH( ( AREAP ) s_pCurrArea->pArea );=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBCOMMIT" );=0A=
}=0A=
=0A=
HB_FUNC( DBCOMMITALL )=0A=
{=0A=
   LPAREANODE pAreaNode;=0A=
=0A=
   pAreaNode =3D s_pWorkAreas;=0A=
   while( pAreaNode )=0A=
   {=0A=
      SELF_FLUSH( ( AREAP ) pAreaNode->pArea );=0A=
      pAreaNode =3D pAreaNode->pNext;=0A=
   }=0A=
}=0A=
=0A=
HB_FUNC( __DBCONTINUE )=0A=
{=0A=
   if( !s_pCurrArea )=0A=
   {=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBCONTINUE" );=0A=
      return;=0A=
   }=0A=
=0A=
   if( !( ( AREAP ) s_pCurrArea->pArea )->dbsi.itmCobFor )=0A=
      return;=0A=
=0A=
   ( ( AREAP ) s_pCurrArea->pArea )->fFound =3D FALSE;=0A=
   SELF_SKIP( ( AREAP ) s_pCurrArea->pArea, 1 );=0A=
   if( ( ( AREAP ) s_pCurrArea->pArea )->fEof )=0A=
      return;=0A=
=0A=
   ( ( AREAP ) s_pCurrArea->pArea )->fFound =3D hb_itemGetL( =
hb_vmEvalBlock( ( ( AREAP ) s_pCurrArea->pArea )->dbsi.itmCobFor ) );=0A=
   while( !( ( AREAP ) s_pCurrArea->pArea )->fEof && !( ( AREAP ) =
s_pCurrArea->pArea )->fFound )=0A=
   {=0A=
      SELF_SKIP( ( AREAP ) s_pCurrArea->pArea, 1 );=0A=
      ( ( AREAP ) s_pCurrArea->pArea )->fFound =3D hb_itemGetL( =
hb_vmEvalBlock( ( ( AREAP ) s_pCurrArea->pArea )->dbsi.itmCobFor ) );=0A=
   }=0A=
}=0A=
=0A=
HB_FUNC( DBCREATE )=0A=
{=0A=
   char * szDriver, * szFileName;=0A=
   char cDriverBuffer[ HARBOUR_MAX_RDD_DRIVERNAME_LENGTH ];=0A=
   char szAlias[ HARBOUR_MAX_RDD_ALIAS_LENGTH + 1 ];=0A=
   char szSavedFileName[ _POSIX_PATH_MAX + 1 ];=0A=
   USHORT uiSize, uiLen, uiPrevArea;=0A=
   DBOPENINFO pInfo;=0A=
   PHB_FNAME pFileName;=0A=
   PHB_ITEM pStruct, pFieldDesc, pFileExt;=0A=
   BOOL bOpen;=0A=
=0A=
   hb_retl( FALSE );=0A=
   szFileName =3D hb_parc( 1 );=0A=
   pStruct =3D hb_param( 2 , HB_IT_ARRAY );=0A=
   if( pStruct )=0A=
      uiLen =3D ( USHORT ) hb_arrayLen( pStruct );=0A=
   else=0A=
      uiLen =3D 0;=0A=
=0A=
   if( ( strlen( szFileName ) =3D=3D 0 ) || !pStruct || uiLen =3D=3D 0 )=0A=
   {=0A=
      hb_errRT_DBCMD( EG_ARG, EDBCMD_DBCMDBADPARAMETER, NULL, "DBCREATE" =
);=0A=
      return;=0A=
   }=0A=
=0A=
   for( uiSize =3D 0; uiSize < uiLen; uiSize++ )=0A=
   {=0A=
      pFieldDesc =3D hb_arrayGetItemPtr( pStruct, uiSize + 1 );=0A=
      if( hb_arrayLen( pFieldDesc ) < 4 )=0A=
      {=0A=
         hb_errRT_DBCMD( EG_ARG, EDBCMD_DBCMDBADPARAMETER, NULL, =
"DBCREATE" );=0A=
         return;=0A=
      }=0A=
=0A=
      /* Validate items types of fields */=0A=
      if( !( hb_arrayGetType( pFieldDesc, 1 ) & HB_IT_STRING ) ||=0A=
          !( hb_arrayGetType( pFieldDesc, 2 ) & HB_IT_STRING ) ||=0A=
          !( hb_arrayGetType( pFieldDesc, 3 ) & HB_IT_NUMERIC ) ||=0A=
          !( hb_arrayGetType( pFieldDesc, 4 ) & HB_IT_NUMERIC ) )=0A=
      {=0A=
         hb_errRT_DBCMD( EG_ARG, EDBCMD_DBCMDBADPARAMETER, NULL, =
"DBCREATE" );=0A=
         return;=0A=
      }=0A=
   }=0A=
=0A=
   uiPrevArea =3D s_uiCurrArea;=0A=
   if( !ISLOG( 4 ) )=0A=
   {=0A=
      bOpen =3D FALSE;=0A=
      hb_rddSelectFirstAvailable();=0A=
   }=0A=
   else=0A=
   {=0A=
      bOpen =3D TRUE;=0A=
      if( hb_parl( 4 ) )=0A=
         hb_rddSelectFirstAvailable();=0A=
      else if( s_pCurrArea )                  /* If current WorkArea is =
used then close it */=0A=
         hb_rddReleaseCurrentArea();=0A=
   }=0A=
=0A=
   hb_rddCheck();=0A=
   uiLen =3D ( USHORT ) hb_parclen( 3 );=0A=
   if( uiLen > 0 )=0A=
   {=0A=
      if( uiLen > HARBOUR_MAX_RDD_DRIVERNAME_LENGTH )=0A=
         uiLen =3D HARBOUR_MAX_RDD_DRIVERNAME_LENGTH;=0A=
=0A=
      hb_strncpyUpper( cDriverBuffer, hb_parc( 3 ), uiLen );=0A=
      szDriver =3D cDriverBuffer;=0A=
   }=0A=
   else=0A=
      szDriver =3D s_szDefDriver;=0A=
=0A=
   pFileName =3D hb_fsFNameSplit( szFileName );=0A=
   strncpy( szAlias, hb_parc( 5 ), HARBOUR_MAX_RDD_ALIAS_LENGTH );=0A=
   uiLen =3D strlen( szAlias );=0A=
   if( uiLen =3D=3D 0 )=0A=
      strncpy( szAlias, pFileName->szName, HARBOUR_MAX_RDD_ALIAS_LENGTH =
);=0A=
   else if( uiLen =3D=3D 1 )=0A=
   {=0A=
      /* Alias with a single letter. Only are valid 'L' and > 'M' */=0A=
      if( toupper( szAlias[ 0 ] ) < 'N' && toupper( szAlias[ 0 ] ) !=3D =
'L' )=0A=
      {=0A=
         hb_xfree( pFileName );=0A=
         hb_errRT_DBCMD( EG_DUPALIAS, EDBCMD_DUPALIAS, NULL, "DBCREATE" =
);=0A=
         return;=0A=
      }=0A=
   }=0A=
=0A=
   /* Create a new WorkArea node */=0A=
   if( !hb_rddInsertAreaNode( szDriver ) )=0A=
   {=0A=
      hb_errRT_DBCMD( EG_ARG, EDBCMD_BADPARAMETER, NULL, "DBCREATE" );=0A=
      return;=0A=
   }=0A=
=0A=
   szFileName =3D ( char * ) hb_xgrab( _POSIX_PATH_MAX + 1 );=0A=
   strncpy( szFileName, hb_parc( 1 ), _POSIX_PATH_MAX );=0A=
   if( !pFileName->szExtension )=0A=
   {=0A=
      pFileExt =3D hb_itemPutC( NULL, "" );=0A=
      SELF_INFO( ( AREAP ) s_pCurrArea->pArea, DBI_TABLEEXT, pFileExt );=0A=
      strncat( szFileName, hb_itemGetCPtr( pFileExt ), _POSIX_PATH_MAX -=0A=
               strlen( szFileName ) );=0A=
      hb_itemRelease( pFileExt );=0A=
   }=0A=
   hb_xfree( pFileName );=0A=
=0A=
   /* Save filename for later use */=0A=
   strcpy( szSavedFileName, szFileName );=0A=
=0A=
   /* Fill pInfo structure */=0A=
   pInfo.uiArea =3D s_uiCurrArea;=0A=
   pInfo.abName =3D ( BYTE * ) szFileName;=0A=
   pInfo.atomAlias =3D ( BYTE * ) szAlias;=0A=
   pInfo.fShared =3D FALSE;=0A=
   pInfo.fReadonly =3D FALSE;=0A=
=0A=
   ( ( AREAP ) s_pCurrArea->pArea )->atomAlias =3D hb_dynsymGet( ( char =
* ) szAlias );=0A=
   ( ( PHB_DYNS ) ( ( AREAP ) s_pCurrArea->pArea )->atomAlias )->hArea =
=3D s_uiCurrArea;=0A=
   ( ( AREAP ) s_pCurrArea->pArea )->uiArea =3D s_uiCurrArea;=0A=
=0A=
   if( SELF_CREATEFIELDS( ( AREAP ) s_pCurrArea->pArea, pStruct ) =3D=3D =
FAILURE )=0A=
   {=0A=
      hb_xfree( szFileName );=0A=
      hb_rddReleaseCurrentArea();=0A=
      hb_errRT_DBCMD( EG_ARG, EDBCMD_BADPARAMETER, NULL, "DBCREATE" );=0A=
      return;=0A=
   }=0A=
=0A=
   if( SELF_CREATE( ( AREAP ) s_pCurrArea->pArea, &pInfo ) =3D=3D =
FAILURE )=0A=
   {=0A=
      hb_xfree( szFileName );=0A=
      hb_rddReleaseCurrentArea();=0A=
      hb_errRT_DBCMD( EG_ARG, EDBCMD_BADPARAMETER, NULL, "DBCREATE" );=0A=
      return;=0A=
   }=0A=
=0A=
   if( !bOpen )=0A=
   {=0A=
      hb_xfree( szFileName );=0A=
      hb_rddReleaseCurrentArea();=0A=
      hb_rddSelectWorkAreaNumber( uiPrevArea );=0A=
   }=0A=
   else=0A=
   {=0A=
      USHORT uiAreaSize, uiRddID;=0A=
      struct _RDDFUNCS * lprfsHost =3D ( ( AREAP ) s_pCurrArea->pArea =
)->lprfsHost;=0A=
      uiRddID =3D ( ( AREAP ) s_pCurrArea->pArea )->rddID;=0A=
      SELF_STRUCTSIZE( ( AREAP ) s_pCurrArea->pArea, &uiAreaSize );=0A=
      /* Close and release WorkArea */=0A=
      SELF_CLOSE( ( AREAP ) s_pCurrArea->pArea );=0A=
      SELF_RELEASE( ( AREAP ) s_pCurrArea->pArea );=0A=
=0A=
      /* Prepare WorkArea and open it */=0A=
      s_pCurrArea->pArea =3D ( AREAP ) hb_xgrab( uiAreaSize );=0A=
      memset( s_pCurrArea->pArea, 0, uiAreaSize );=0A=
      ( ( AREAP ) s_pCurrArea->pArea )->lprfsHost =3D lprfsHost;=0A=
      ( ( AREAP ) s_pCurrArea->pArea )->rddID =3D uiRddID;=0A=
      SELF_NEW( ( AREAP ) s_pCurrArea->pArea );=0A=
      pInfo.abName =3D ( BYTE * )  hb_xgrab( _POSIX_PATH_MAX + 1 );=0A=
      strcpy( ( char * ) pInfo.abName, szSavedFileName );=0A=
      pInfo.fShared =3D !hb_set.HB_SET_EXCLUSIVE;=0A=
      ( ( AREAP ) s_pCurrArea->pArea )->uiArea =3D s_uiCurrArea;=0A=
      if( SELF_OPEN( ( AREAP ) s_pCurrArea->pArea, &pInfo ) =3D=3D =
FAILURE )=0A=
         hb_rddReleaseCurrentArea();=0A=
      else=0A=
         hb_retl( TRUE );=0A=
   }=0A=
}=0A=
=0A=
HB_FUNC( DBDELETE )=0A=
{=0A=
   if( s_pCurrArea )=0A=
      SELF_DELETE( ( AREAP ) s_pCurrArea->pArea );=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBDELETE" );=0A=
}=0A=
=0A=
HB_FUNC( DBFILTER )=0A=
{=0A=
   PHB_ITEM pFilter;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      pFilter =3D hb_itemPutC( NULL, "" );=0A=
      SELF_FILTERTEXT( ( AREAP ) s_pCurrArea->pArea, pFilter );=0A=
      hb_retc( hb_itemGetCPtr( pFilter ) );=0A=
      hb_itemRelease( pFilter );=0A=
   }=0A=
   else=0A=
      hb_retc( "" );=0A=
}=0A=
=0A=
HB_FUNC( DBGOBOTTOM )=0A=
{=0A=
   if( s_pCurrArea )=0A=
      SELF_GOBOTTOM( ( AREAP ) s_pCurrArea->pArea );=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBGOBOTTOM" );=0A=
}=0A=
=0A=
HB_FUNC( DBGOTO )=0A=
{=0A=
   PHB_ITEM pItem;=0A=
=0A=
   if( !s_pCurrArea )=0A=
   {=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBGOTO" );=0A=
      return;=0A=
   }=0A=
=0A=
   pItem =3D hb_param( 1, HB_IT_ANY );=0A=
   if( !pItem )=0A=
      hb_errRT_DBCMD( EG_ARG, EDBCMD_NOVAR, NULL, "DBGOTO" );=0A=
   else=0A=
      SELF_GOTOID( ( AREAP ) s_pCurrArea->pArea, pItem );=0A=
}=0A=
=0A=
HB_FUNC( DBGOTOP )=0A=
{=0A=
   if( s_pCurrArea )=0A=
      SELF_GOTOP( ( AREAP ) s_pCurrArea->pArea );=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBGOTOP" );=0A=
}=0A=
=0A=
HB_FUNC( __DBLOCATE )=0A=
{=0A=
   PHB_ITEM pFor, pNewFor, pWhile, pNext, pRecord, pRest, pNewRest;=0A=
   DBSCOPEINFO pScopeInfo;=0A=
   ULONG lNext;=0A=
   BOOL bFor, bWhile;=0A=
=0A=
   if( !s_pCurrArea )=0A=
   {=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EG_NOTABLE, NULL, "__DBLOCATE" );=0A=
      return;=0A=
   }=0A=
=0A=
   memset( &pScopeInfo, 0, sizeof( DBSCOPEINFO ) );=0A=
   pFor =3D hb_param( 1, HB_IT_BLOCK );=0A=
   pWhile =3D hb_param( 2, HB_IT_BLOCK );=0A=
   pNext =3D hb_param( 3, HB_IT_NUMERIC );=0A=
   pRecord =3D hb_param( 4, HB_IT_NUMERIC );=0A=
   pRest =3D hb_param( 5, HB_IT_LOGICAL );=0A=
   pNewRest =3D NULL;=0A=
   if( pWhile )=0A=
   {=0A=
      pNewRest =3D hb_itemPutL( NULL, TRUE );=0A=
      pScopeInfo.fRest =3D pNewRest;=0A=
   }=0A=
   if( !pFor )=0A=
      pNewFor =3D hb_itemPutL( NULL, TRUE );=0A=
   else=0A=
      pNewFor =3D hb_itemNew( pFor );=0A=
   pScopeInfo.itmCobFor =3D pNewFor;=0A=
   if( !pRest )=0A=
   {=0A=
      pNewRest =3D hb_itemPutL( pNewRest, FALSE );=0A=
      pScopeInfo.fRest =3D pNewRest;=0A=
   }=0A=
   SELF_SETLOCATE( ( AREAP ) s_pCurrArea->pArea, &pScopeInfo );=0A=
   ( ( AREAP ) s_pCurrArea->pArea )->fFound =3D FALSE;=0A=
   if( pRecord )=0A=
   {=0A=
      SELF_GOTOID( ( AREAP ) s_pCurrArea->pArea, pRecord );=0A=
      if( ( ( AREAP ) s_pCurrArea->pArea )->fEof )=0A=
         return;=0A=
      if( hb_itemType( pWhile ) =3D=3D HB_IT_BLOCK )=0A=
         bWhile =3D hb_itemGetL( hb_vmEvalBlock( pWhile ) );=0A=
      else=0A=
         bWhile =3D TRUE;=0A=
      if( hb_itemType( pNewFor ) =3D=3D HB_IT_BLOCK )=0A=
      {=0A=
         bFor =3D hb_itemGetL( hb_vmEvalBlock( pNewFor ) );=0A=
         ( ( AREAP ) s_pCurrArea->pArea )->fFound =3D ( bWhile && bFor );=0A=
      }=0A=
      else=0A=
         ( ( AREAP ) s_pCurrArea->pArea )->fFound =3D ( bWhile && =
hb_itemGetL( pNewFor ) );=0A=
   }=0A=
   else if( pNext )=0A=
   {=0A=
      lNext =3D hb_parnl( 3 );=0A=
      if( ( ( AREAP ) s_pCurrArea->pArea )->fEof || lNext <=3D 0 )=0A=
         return;=0A=
      if( hb_itemType( pWhile ) =3D=3D HB_IT_BLOCK )=0A=
         bWhile =3D hb_itemGetL( hb_vmEvalBlock( pWhile ) );=0A=
      else=0A=
         bWhile =3D TRUE;=0A=
      if( hb_itemType( pNewFor ) =3D=3D HB_IT_BLOCK )=0A=
         bFor =3D hb_itemGetL( hb_vmEvalBlock( pNewFor ) );=0A=
      else=0A=
         bFor =3D hb_itemGetL( pNewFor );=0A=
      while( !( ( AREAP ) s_pCurrArea->pArea )->fEof && lNext-- > 0 && =
bWhile && !bFor )=0A=
      {=0A=
         SELF_SKIP( ( AREAP ) s_pCurrArea->pArea, 1 );=0A=
         if( hb_itemType( pWhile ) =3D=3D HB_IT_BLOCK )=0A=
            bWhile =3D hb_itemGetL( hb_vmEvalBlock( pWhile ) );=0A=
         else=0A=
            bWhile =3D TRUE;=0A=
         if( hb_itemType( pNewFor ) =3D=3D HB_IT_BLOCK )=0A=
            bFor =3D hb_itemGetL( hb_vmEvalBlock( pNewFor ) );=0A=
         else=0A=
            bFor =3D hb_itemGetL( pNewFor );=0A=
      }=0A=
      ( ( AREAP ) s_pCurrArea->pArea )->fFound =3D bFor;=0A=
   }=0A=
   else if( hb_itemGetL( pRest ) )=0A=
   {=0A=
      if( ( ( AREAP ) s_pCurrArea->pArea )->fEof )=0A=
         return;=0A=
      if( hb_itemType( pWhile ) =3D=3D HB_IT_BLOCK )=0A=
         bWhile =3D hb_itemGetL( hb_vmEvalBlock( pWhile ) );=0A=
      else=0A=
         bWhile =3D TRUE;=0A=
      if( hb_itemType( pNewFor ) =3D=3D HB_IT_BLOCK )=0A=
         bFor =3D hb_itemGetL( hb_vmEvalBlock( pNewFor ) );=0A=
      else=0A=
         bFor =3D hb_itemGetL( pNewFor );=0A=
      while( !( ( AREAP ) s_pCurrArea->pArea )->fEof && bWhile && !bFor )=0A=
      {=0A=
         SELF_SKIP( ( AREAP ) s_pCurrArea->pArea, 1 );=0A=
         if( hb_itemType( pWhile ) =3D=3D HB_IT_BLOCK )=0A=
            bWhile =3D hb_itemGetL( hb_vmEvalBlock( pWhile ) );=0A=
         else=0A=
            bWhile =3D TRUE;=0A=
         if( hb_itemType( pNewFor ) =3D=3D HB_IT_BLOCK )=0A=
            bFor =3D hb_itemGetL( hb_vmEvalBlock( pNewFor ) );=0A=
         else=0A=
            bFor =3D hb_itemGetL( pNewFor );=0A=
      }=0A=
      ( ( AREAP ) s_pCurrArea->pArea )->fFound =3D bFor;=0A=
   }=0A=
   else=0A=
   {=0A=
      SELF_GOTOP( ( AREAP ) s_pCurrArea->pArea );=0A=
      if( ( ( AREAP ) s_pCurrArea->pArea )->fEof )=0A=
         return;=0A=
      if( hb_itemType( pNewFor ) =3D=3D HB_IT_BLOCK )=0A=
         bFor =3D hb_itemGetL( hb_vmEvalBlock( pNewFor ) );=0A=
      else=0A=
         bFor =3D hb_itemGetL( pNewFor );=0A=
      while( !( ( AREAP ) s_pCurrArea->pArea )->fEof && !bFor )=0A=
      {=0A=
         SELF_SKIP( ( AREAP ) s_pCurrArea->pArea, 1 );=0A=
         if( hb_itemType( pNewFor ) =3D=3D HB_IT_BLOCK )=0A=
            bFor =3D hb_itemGetL( hb_vmEvalBlock( pNewFor ) );=0A=
         else=0A=
            bFor =3D hb_itemGetL( pNewFor );=0A=
      }=0A=
      ( ( AREAP ) s_pCurrArea->pArea )->fFound =3D bFor;=0A=
   }=0A=
=0A=
   /* Release items */=0A=
   hb_itemRelease( pNewFor );=0A=
   hb_itemRelease( pNewRest );=0A=
}=0A=
=0A=
HB_FUNC( __DBSETLOCATE )=0A=
{=0A=
   PHB_ITEM pLocate;=0A=
   DBSCOPEINFO pScopeInfo;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      pLocate =3D hb_param( 1, HB_IT_BLOCK );=0A=
      if( pLocate )=0A=
      {=0A=
         memset( &pScopeInfo, 0, sizeof( DBSCOPEINFO ) );=0A=
         pScopeInfo.itmCobFor =3D pLocate;=0A=
         SELF_SETLOCATE( ( AREAP ) s_pCurrArea->pArea, &pScopeInfo );=0A=
      }=0A=
   }=0A=
}=0A=
=0A=
HB_FUNC( __DBPACK )=0A=
{=0A=
   PHB_ITEM pBlock, pEvery;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      /*=0A=
       * Additional feature: __dbPack( [<bBlock>, [<nEvery>] )=0A=
       * Code Block to execute for every record.=0A=
       */=0A=
      pBlock =3D hb_param( 1, HB_IT_BLOCK );=0A=
      if( pBlock )=0A=
      {=0A=
         hb_itemRelease( ( ( AREAP ) s_pCurrArea->pArea )->valResult );=0A=
         ( ( AREAP ) s_pCurrArea->pArea )->valResult =3D =
hb_itemArrayNew( 2 );=0A=
         hb_arraySet( ( ( AREAP ) s_pCurrArea->pArea )->valResult, 1, =
pBlock );=0A=
         pEvery =3D hb_param( 2, HB_IT_ANY );=0A=
         if( pEvery && HB_IS_NUMERIC( pEvery ) )=0A=
            hb_arraySet( ( ( AREAP ) s_pCurrArea->pArea )->valResult, 2, =
pEvery );=0A=
      }=0A=
      else=0A=
         hb_itemClear( ( ( AREAP ) s_pCurrArea->pArea )->valResult );=0A=
      SELF_PACK( ( AREAP ) s_pCurrArea->pArea );=0A=
      if( pBlock )=0A=
         hb_itemClear( ( ( AREAP ) s_pCurrArea->pArea )->valResult );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "__DBPACK" );=0A=
}=0A=
=0A=
HB_FUNC( DBRECALL )=0A=
{=0A=
   if( s_pCurrArea )=0A=
      SELF_RECALL( ( AREAP ) s_pCurrArea->pArea );=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBRECALL" );=0A=
}=0A=
=0A=
HB_FUNC( DBRLOCK )=0A=
{=0A=
   DBLOCKINFO dbLockInfo;=0A=
=0A=
   dbLockInfo.fResult =3D FALSE;=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      dbLockInfo.itmRecID =3D hb_param( 1, HB_IT_ANY );=0A=
      if( !dbLockInfo.itmRecID || !HB_IS_NUMERIC( dbLockInfo.itmRecID ) )=0A=
         dbLockInfo.uiMethod =3D DBLM_EXCLUSIVE;=0A=
      else=0A=
         dbLockInfo.uiMethod =3D DBLM_MULTIPLE;=0A=
      SELF_LOCK( ( AREAP ) s_pCurrArea->pArea, &dbLockInfo );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBRLOCK" );=0A=
=0A=
   hb_retl( dbLockInfo.fResult );=0A=
}=0A=
=0A=
HB_FUNC( DBRLOCKLIST )=0A=
{=0A=
   PHB_ITEM pList;=0A=
=0A=
   pList =3D hb_itemArrayNew( 0 );=0A=
   if( s_pCurrArea )=0A=
      SELF_INFO( ( AREAP ) s_pCurrArea->pArea, DBI_GETLOCKARRAY, pList );=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBRLOCKLIST" );=0A=
=0A=
   hb_itemRelease( hb_itemReturn( pList ) );=0A=
}=0A=
=0A=
HB_FUNC( DBRUNLOCK )=0A=
{=0A=
   if( s_pCurrArea )=0A=
      SELF_UNLOCK( ( AREAP ) s_pCurrArea->pArea, hb_parnl( 1 ) );=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBRUNLOCK" );=0A=
}=0A=
=0A=
HB_FUNC( DBSEEK )=0A=
{=0A=
   PHB_ITEM pKey;=0A=
   BOOL bSoftSeek, bFindLast;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      if( !ISNIL( 1 ) )=0A=
      {=0A=
         pKey =3D hb_param( 1, HB_IT_ANY );=0A=
         bSoftSeek =3D ISLOG( 2 ) ? hb_parl( 2 ) : =
hb_set.HB_SET_SOFTSEEK;=0A=
         bFindLast =3D ISLOG( 3 ) ? hb_parl( 3 ) : FALSE;=0A=
         if( SELF_SEEK( ( AREAP ) s_pCurrArea->pArea, bSoftSeek, pKey, =
bFindLast ) =3D=3D SUCCESS )=0A=
         {=0A=
            hb_retl( ( ( AREAP ) s_pCurrArea->pArea )->fFound );=0A=
            return;=0A=
         }=0A=
      }=0A=
      else=0A=
         hb_errRT_DBCMD( EG_ARG, EDBCMD_SEEK_BADPARAMETER, NULL, =
"DBSEEK" );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBSEEK" );=0A=
=0A=
   hb_retl( FALSE );=0A=
}=0A=
=0A=
HB_FUNC( DBSELECTAREA )=0A=
{=0A=
   USHORT uiNewArea;=0A=
   char * szAlias;=0A=
   LPAREANODE pAreaNode;=0A=
   ULONG ulLen;=0A=
=0A=
   if( ISCHAR( 1 ) )=0A=
   {=0A=
      szAlias =3D hb_parc( 1 );=0A=
      ulLen =3D strlen( szAlias );=0A=
      if( ulLen >=3D 1 && szAlias[ 0 ] >=3D '0' && szAlias[ 0 ] <=3D '9' =
)=0A=
         uiNewArea =3D atoi( szAlias );=0A=
      else if( ulLen =3D=3D 1 && toupper( szAlias[ 0 ] ) >=3D 'A' && =
toupper( szAlias[ 0 ] ) <=3D 'K' )=0A=
         uiNewArea =3D toupper( szAlias[ 0 ] ) - 'A' + 1;=0A=
      else=0A=
      {=0A=
         if( ( uiNewArea =3D hb_rddSelect( szAlias ) ) =3D=3D 0 )=0A=
         {=0A=
            hb_errRT_BASE( EG_NOALIAS, EDBCMD_NOALIAS, NULL, szAlias, 0 =
);=0A=
            return;=0A=
         }=0A=
      }=0A=
   }=0A=
   else=0A=
      uiNewArea =3D hb_parni( 1 );=0A=
=0A=
   if( uiNewArea =3D=3D 0 )=0A=
      hb_rddSelectFirstAvailable();=0A=
   else=0A=
      s_uiCurrArea =3D uiNewArea;=0A=
=0A=
   pAreaNode =3D s_pWorkAreas;=0A=
   while( pAreaNode )=0A=
   {=0A=
      if( ( ( AREAP ) pAreaNode->pArea )->uiArea =3D=3D s_uiCurrArea )=0A=
      {=0A=
         s_pCurrArea =3D pAreaNode; /* Select a valid WorkArea */=0A=
         return;=0A=
      }=0A=
      pAreaNode =3D pAreaNode->pNext;=0A=
   }=0A=
   s_pCurrArea =3D NULL; /* Selected WorkArea is closed */=0A=
}=0A=
=0A=
HB_FUNC( __DBSETFOUND )=0A=
{=0A=
   PHB_ITEM pFound;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      pFound =3D hb_param( 1, HB_IT_LOGICAL );=0A=
      if( pFound )=0A=
         ( ( AREAP ) s_pCurrArea->pArea )->fFound =3D hb_itemGetL( =
pFound );=0A=
   }=0A=
}=0A=
=0A=
HB_FUNC( DBSKIP )=0A=
{=0A=
   if( s_pCurrArea )=0A=
      SELF_SKIP( ( AREAP ) s_pCurrArea->pArea, ISNUM( 1 ) ? hb_parnl( 1 =
) : 1 );=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBSKIP" );=0A=
}=0A=
=0A=
HB_FUNC( DBSETFILTER )=0A=
{=0A=
   PHB_ITEM pBlock, pText;=0A=
   DBFILTERINFO pFilterInfo;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      pBlock =3D hb_param( 1, HB_IT_BLOCK );=0A=
      if( pBlock )=0A=
      {=0A=
         pText =3D hb_param( 2, HB_IT_STRING );=0A=
         pFilterInfo.itmCobExpr =3D pBlock;=0A=
         if( pText )=0A=
            pFilterInfo.abFilterText =3D pText;=0A=
         else=0A=
            pFilterInfo.abFilterText =3D hb_itemPutC( NULL, "" );=0A=
         SELF_SETFILTER( ( AREAP ) s_pCurrArea->pArea, &pFilterInfo );=0A=
         if( !pText )=0A=
            hb_itemRelease( pFilterInfo.abFilterText );=0A=
      }=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBSETFILTER" );=0A=
}=0A=
=0A=
HB_FUNC( DBSTRUCT )=0A=
{=0A=
   PHB_ITEM pItem, pData;=0A=
   USHORT uiFields, uiCount;=0A=
=0A=
   hb_arrayNew( &hb_stack.Return, 0 );=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      SELF_FIELDCOUNT( ( AREAP ) s_pCurrArea->pArea, &uiFields );=0A=
      pData =3D hb_itemNew( NULL );=0A=
      pItem =3D hb_itemNew( NULL );=0A=
      for( uiCount =3D 1; uiCount <=3D uiFields; uiCount++ )=0A=
      {=0A=
         hb_arrayNew( pItem, 4 );=0A=
         SELF_FIELDINFO( ( AREAP ) s_pCurrArea->pArea, uiCount, =
DBS_NAME, pData );=0A=
         hb_arraySet( pItem, 1, pData );=0A=
         SELF_FIELDINFO( ( AREAP ) s_pCurrArea->pArea, uiCount, =
DBS_TYPE, pData );=0A=
         hb_arraySet( pItem, 2, pData );=0A=
         SELF_FIELDINFO( ( AREAP ) s_pCurrArea->pArea, uiCount, DBS_LEN, =
pData );=0A=
         hb_arraySet( pItem, 3, pData );=0A=
         SELF_FIELDINFO( ( AREAP ) s_pCurrArea->pArea, uiCount, DBS_DEC, =
pData );=0A=
         hb_arraySet( pItem, 4, pData );=0A=
         hb_arrayAdd( &hb_stack.Return, pItem );=0A=
      }=0A=
      hb_itemRelease( pItem );=0A=
      hb_itemRelease( pData );=0A=
   }=0A=
}=0A=
=0A=
HB_FUNC( DBTABLEEXT )=0A=
{=0A=
   LPRDDNODE pRddNode;=0A=
   AREAP pTempArea;=0A=
   USHORT uiSize, uiRddID;=0A=
   PHB_ITEM pItem;=0A=
=0A=
   if( !s_pCurrArea )=0A=
   {=0A=
      hb_rddCheck();=0A=
      pRddNode =3D hb_rddFindNode( s_szDefDriver, &uiRddID );=0A=
      if( !pRddNode )=0A=
      {=0A=
         hb_retc( "" );=0A=
         return;=0A=
      }=0A=
      uiSize =3D sizeof( AREA );    /* Default Size Area */=0A=
      pTempArea =3D ( AREAP ) hb_xgrab( uiSize );=0A=
      memset( pTempArea, 0, uiSize );=0A=
      pTempArea->lprfsHost =3D &pRddNode->pTable;=0A=
=0A=
      /* Need more space? */=0A=
      SELF_STRUCTSIZE( ( AREAP ) pTempArea, &uiSize );=0A=
      if( uiSize > sizeof( AREA ) )   /* Size of Area changed */=0A=
      {=0A=
         pTempArea =3D ( AREAP ) hb_xrealloc( pTempArea, uiSize );=0A=
         memset( pTempArea, 0, uiSize );=0A=
         pTempArea->lprfsHost =3D &pRddNode->pTable;=0A=
      }=0A=
=0A=
      pRddNode->uiAreaSize =3D uiSize; /* Update the size of WorkArea */=0A=
      pTempArea->rddID =3D uiRddID;=0A=
=0A=
      if( SELF_NEW( ( AREAP ) pTempArea ) =3D=3D FAILURE )=0A=
         hb_retc( "" );=0A=
      else=0A=
      {=0A=
         pItem =3D hb_itemPutC( NULL, "" );=0A=
         SELF_INFO( ( AREAP ) pTempArea, DBI_TABLEEXT, pItem );=0A=
         hb_retc( hb_itemGetCPtr( pItem ) );=0A=
         hb_itemRelease( pItem );=0A=
         SELF_RELEASE( pTempArea );=0A=
      }=0A=
   }=0A=
   else=0A=
   {=0A=
      pItem =3D hb_itemPutC( NULL, "" );=0A=
      SELF_INFO( ( AREAP ) s_pCurrArea->pArea, DBI_TABLEEXT, pItem );=0A=
      hb_retc( hb_itemGetCPtr( pItem ) );=0A=
      hb_itemRelease( pItem );=0A=
   }=0A=
}=0A=
=0A=
HB_FUNC( DBUNLOCK )=0A=
{=0A=
   if( s_pCurrArea )=0A=
      SELF_UNLOCK( ( AREAP ) s_pCurrArea->pArea, 0 );=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBUNLOCK" );=0A=
}=0A=
=0A=
HB_FUNC( DBUNLOCKALL )=0A=
{=0A=
   LPAREANODE pTempArea;=0A=
=0A=
   pTempArea =3D s_pWorkAreas;=0A=
   while( pTempArea )=0A=
   {=0A=
      SELF_UNLOCK( ( AREAP ) pTempArea->pArea, 0 );=0A=
      pTempArea =3D pTempArea->pNext;=0A=
   }=0A=
}=0A=
=0A=
HB_FUNC( DBUSEAREA )=0A=
{=0A=
   char * szDriver, * szFileName;=0A=
   USHORT uiLen;=0A=
   DBOPENINFO pInfo;=0A=
   PHB_FNAME pFileName;=0A=
   PHB_ITEM pFileExt;=0A=
   char szDriverBuffer[ HARBOUR_MAX_RDD_DRIVERNAME_LENGTH + 1 ];=0A=
   char szAlias[ HARBOUR_MAX_RDD_ALIAS_LENGTH + 1 ];=0A=
=0A=
   s_bNetError =3D FALSE;=0A=
=0A=
   /* New area? */=0A=
   if( hb_parl( 1 ) )=0A=
      hb_rddSelectFirstAvailable();=0A=
   else if( s_pCurrArea )                 /* If current WorkArea is in =
use then close it */=0A=
      hb_rddReleaseCurrentArea();=0A=
=0A=
   hb_rddCheck();=0A=
   uiLen =3D ( USHORT ) hb_parclen( 2 );=0A=
   if( uiLen > 0 )=0A=
   {=0A=
      if( uiLen > HARBOUR_MAX_RDD_DRIVERNAME_LENGTH )=0A=
         uiLen =3D HARBOUR_MAX_RDD_DRIVERNAME_LENGTH;=0A=
=0A=
      hb_strncpyUpper( szDriverBuffer, hb_parc( 2 ), uiLen );=0A=
      szDriver =3D szDriverBuffer;=0A=
   }=0A=
   else=0A=
      szDriver =3D s_szDefDriver;=0A=
=0A=
   szFileName =3D hb_parc( 3 );=0A=
   if( strlen( szFileName ) =3D=3D 0 )=0A=
   {=0A=
      hb_errRT_DBCMD( EG_ARG, EDBCMD_USE_BADPARAMETER, NULL, "DBUSEAREA" =
);=0A=
      return;=0A=
   }=0A=
=0A=
   pFileName =3D hb_fsFNameSplit( szFileName );=0A=
   strncpy( szAlias, hb_parc( 4 ), HARBOUR_MAX_RDD_ALIAS_LENGTH );=0A=
   uiLen =3D strlen( szAlias );=0A=
   if( uiLen =3D=3D 0 )=0A=
      strncpy( szAlias, pFileName->szName, HARBOUR_MAX_RDD_ALIAS_LENGTH =
);=0A=
   else if( uiLen =3D=3D 1 )=0A=
   {=0A=
      /* Alias with a single letter. Only are valid 'L' and > 'M' */=0A=
      if( toupper( szAlias[ 0 ] ) < 'N' && toupper( szAlias[ 0 ] ) !=3D =
'L' )=0A=
      {=0A=
         hb_xfree( pFileName );=0A=
         hb_errRT_DBCMD( EG_DUPALIAS, EDBCMD_DUPALIAS, NULL, "DBUSEAREA" =
);=0A=
         return;=0A=
      }=0A=
   }=0A=
=0A=
   /* Create a new WorkArea node */=0A=
   if( !hb_rddInsertAreaNode( szDriver ) )=0A=
   {=0A=
      hb_errRT_DBCMD( EG_ARG, EDBCMD_BADPARAMETER, NULL, "DBUSEAREA" );=0A=
      return;=0A=
   }=0A=
=0A=
   szFileName =3D ( char * ) hb_xgrab( _POSIX_PATH_MAX + 1 );=0A=
   strncpy( szFileName, hb_parc( 3 ), _POSIX_PATH_MAX );=0A=
   if( !pFileName->szExtension )=0A=
   {=0A=
      pFileExt =3D hb_itemPutC( NULL, "" );=0A=
      SELF_INFO( ( AREAP ) s_pCurrArea->pArea, DBI_TABLEEXT, pFileExt );=0A=
      strncat( szFileName, hb_itemGetCPtr( pFileExt ), _POSIX_PATH_MAX -=0A=
               strlen( szFileName ) );=0A=
      hb_itemRelease( pFileExt );=0A=
   }=0A=
   hb_xfree( pFileName );=0A=
=0A=
   /* Fill pInfo structure */=0A=
   pInfo.uiArea =3D s_uiCurrArea;=0A=
   pInfo.abName =3D ( BYTE * ) szFileName;=0A=
   pInfo.atomAlias =3D ( BYTE * ) szAlias;=0A=
   pInfo.fShared =3D ISLOG( 5 ) ? hb_parl( 5 ) : =
!hb_set.HB_SET_EXCLUSIVE;=0A=
   pInfo.fReadonly =3D ISLOG( 6 ) ? hb_parl( 6 ) : FALSE;=0A=
=0A=
   ( ( AREAP ) s_pCurrArea->pArea )->uiArea =3D s_uiCurrArea;=0A=
=0A=
   /* Open file */=0A=
   if( SELF_OPEN( ( AREAP ) s_pCurrArea->pArea, &pInfo ) =3D=3D FAILURE )=0A=
   {=0A=
      s_bNetError =3D TRUE;           /* Temp fix! What about other =
types of errors? */=0A=
      hb_xfree( pInfo.abName );=0A=
      hb_rddReleaseCurrentArea();=0A=
      return;=0A=
   }=0A=
   hb_xfree( szFileName );=0A=
}=0A=
=0A=
HB_FUNC( __DBZAP )=0A=
{=0A=
   if( s_pCurrArea )=0A=
      SELF_ZAP( ( AREAP ) s_pCurrArea->pArea );=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "__DBZAP" );=0A=
}=0A=
=0A=
HB_FUNC( DELETED )=0A=
{=0A=
   BOOL bDeleted =3D FALSE;=0A=
=0A=
   if( s_pCurrArea )=0A=
      SELF_DELETED( ( AREAP ) s_pCurrArea->pArea, &bDeleted );=0A=
   hb_retl( bDeleted );=0A=
}=0A=
=0A=
HB_FUNC( EOF )=0A=
{=0A=
   BOOL bEof =3D TRUE;=0A=
=0A=
   if( s_pCurrArea )=0A=
      SELF_EOF( ( AREAP ) s_pCurrArea->pArea, &bEof );=0A=
   hb_retl( bEof );=0A=
}=0A=
=0A=
HB_FUNC( FCOUNT )=0A=
{=0A=
   USHORT uiFields =3D 0;=0A=
=0A=
   if( s_pCurrArea )=0A=
      SELF_FIELDCOUNT( ( AREAP ) s_pCurrArea->pArea, &uiFields );=0A=
   hb_retni( uiFields );=0A=
}=0A=
=0A=
HB_FUNC( FIELDGET )=0A=
{=0A=
   PHB_ITEM pItem;=0A=
   USHORT uiField, uiFields;=0A=
=0A=
   pItem =3D hb_itemNew( NULL );=0A=
   uiField =3D hb_parni( 1 );=0A=
=0A=
   if( s_pCurrArea && uiField )=0A=
   {=0A=
      if( SELF_FIELDCOUNT( ( AREAP ) s_pCurrArea->pArea, &uiFields ) =
=3D=3D SUCCESS &&=0A=
          uiField > 0 && uiField <=3D uiFields )=0A=
         SELF_GETVALUE( ( AREAP ) s_pCurrArea->pArea, uiField, pItem );=0A=
   }=0A=
=0A=
   hb_itemRelease( hb_itemReturn( pItem ) );=0A=
}=0A=
=0A=
HB_FUNC( FIELDNAME )=0A=
{=0A=
   char * szName;=0A=
   USHORT uiFields, uiIndex;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      uiIndex =3D hb_parni( 1 );=0A=
      if( SELF_FIELDCOUNT( ( AREAP ) s_pCurrArea->pArea, &uiFields ) =
=3D=3D SUCCESS &&=0A=
          uiIndex > 0 && uiIndex <=3D uiFields )=0A=
      {=0A=
         szName =3D ( char * ) hb_xgrab( =
HARBOUR_MAX_RDD_FIELDNAME_LENGTH + 1 );=0A=
         SELF_FIELDNAME( ( AREAP ) s_pCurrArea->pArea, hb_parni( 1 ), =
szName );=0A=
         hb_retc( szName );=0A=
         hb_xfree( szName );=0A=
         return;=0A=
      }=0A=
      hb_errRT_DBCMD( EG_ARG, EDBCMD_FIELDNAME_BADPARAMETER, NULL, =
"FIELDNAME" );=0A=
   }=0A=
   hb_retc( "" );=0A=
}=0A=
=0A=
HB_FUNC( FIELDPOS )=0A=
{=0A=
   char szName[ HARBOUR_MAX_RDD_FIELDNAME_LENGTH ];=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      hb_strncpyUpper( szName, hb_parc( 1 ), hb_parclen( 1 ) );=0A=
      hb_retni( hb_rddFieldIndex( ( AREAP ) s_pCurrArea->pArea, szName ) =
);=0A=
   }=0A=
   else=0A=
      hb_retni( 0 );=0A=
}=0A=
=0A=
HB_FUNC( FIELDPUT )=0A=
{=0A=
   USHORT uiIndex;=0A=
   PHB_ITEM pItem;=0A=
=0A=
   uiIndex =3D hb_parni( 1 );=0A=
   if( s_pCurrArea && uiIndex )=0A=
   {=0A=
      pItem =3D hb_param( 2, HB_IT_ANY );=0A=
      if( SELF_PUTVALUE( ( AREAP ) s_pCurrArea->pArea, uiIndex, pItem ) =
=3D=3D SUCCESS )=0A=
         hb_itemReturn( pItem );=0A=
   }=0A=
}=0A=
=0A=
HB_FUNC( FLOCK )=0A=
{=0A=
   DBLOCKINFO dbLockInfo;=0A=
=0A=
   dbLockInfo.fResult =3D FALSE;=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      dbLockInfo.uiMethod =3D DBLM_FILE;=0A=
      SELF_LOCK( ( AREAP ) s_pCurrArea->pArea, &dbLockInfo );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "FLOCK" );=0A=
=0A=
   hb_retl( dbLockInfo.fResult );=0A=
}=0A=
=0A=
HB_FUNC( FOUND )=0A=
{=0A=
   BOOL bFound =3D FALSE;=0A=
=0A=
   if( s_pCurrArea )=0A=
      SELF_FOUND( ( AREAP ) s_pCurrArea->pArea, &bFound );=0A=
   hb_retl( bFound );=0A=
}=0A=
=0A=
HB_FUNC( HEADER )=0A=
{=0A=
   PHB_ITEM pRecSize;=0A=
=0A=
   if( !s_pCurrArea )=0A=
      hb_retni( 0 );=0A=
   else=0A=
   {=0A=
      pRecSize =3D hb_itemNew( NULL );=0A=
      SELF_INFO( ( AREAP ) s_pCurrArea->pArea, DBI_GETHEADERSIZE, =
pRecSize );=0A=
      hb_itemRelease( hb_itemReturn( pRecSize ) );=0A=
   }=0A=
}=0A=
=0A=
HB_FUNC( INDEXORD )=0A=
{=0A=
   DBORDERINFO pInfo;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      pInfo.itmResult =3D hb_itemPutNI( NULL, 0 );=0A=
      pInfo.itmOrder =3D NULL;=0A=
      SELF_ORDINFO( ( AREAP ) s_pCurrArea->pArea, DBOI_NUMBER, &pInfo );=0A=
      hb_retni( hb_itemGetNI( pInfo.itmResult ) );=0A=
      hb_itemRelease( pInfo.itmResult );=0A=
   }=0A=
   else=0A=
      hb_retni( 0 );=0A=
}=0A=
=0A=
/* Same as RECCOUNT() */=0A=
HB_FUNC( LASTREC )=0A=
{=0A=
   ULONG ulRecCount =3D 0;=0A=
=0A=
   if( s_pCurrArea )=0A=
      SELF_RECCOUNT( ( AREAP ) s_pCurrArea->pArea, &ulRecCount );=0A=
   hb_retnl( ulRecCount );=0A=
}=0A=
=0A=
HB_FUNC( LOCK )=0A=
{=0A=
   DBLOCKINFO dbLockInfo;=0A=
=0A=
   dbLockInfo.fResult =3D FALSE;=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      dbLockInfo.uiMethod =3D DBLM_FILE;=0A=
      SELF_LOCK( ( AREAP ) s_pCurrArea->pArea, &dbLockInfo );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "LOCK" );=0A=
=0A=
   hb_retl( dbLockInfo.fResult );=0A=
}=0A=
=0A=
HB_FUNC( LUPDATE )=0A=
{=0A=
   if( !s_pCurrArea )=0A=
      hb_itemPutDS( &hb_stack.Return, "" );=0A=
   else=0A=
      SELF_INFO( ( AREAP ) s_pCurrArea->pArea, DBI_LASTUPDATE, =
&hb_stack.Return );=0A=
}=0A=
=0A=
HB_FUNC( NETERR )=0A=
{=0A=
   if( ISLOG( 1 ) )=0A=
      s_bNetError =3D hb_parl( 1 );=0A=
=0A=
   hb_retl( s_bNetError );=0A=
}=0A=
=0A=
HB_FUNC( ORDBAGEXT )=0A=
{=0A=
   DBORDERINFO pInfo;=0A=
   LPRDDNODE pRddNode;=0A=
   AREAP pTempArea;=0A=
   USHORT uiSize, uiRddID;=0A=
=0A=
   pInfo.itmOrder =3D NULL;=0A=
   if( !s_pCurrArea )=0A=
   {=0A=
      hb_rddCheck();=0A=
      pRddNode =3D hb_rddFindNode( s_szDefDriver, &uiRddID );=0A=
      if( !pRddNode )=0A=
      {=0A=
         hb_retc( "" );=0A=
         return;=0A=
      }=0A=
      uiSize =3D sizeof( AREA );         /* Default Size Area */=0A=
      pTempArea =3D ( AREAP ) hb_xgrab( uiSize );=0A=
      memset( pTempArea, 0, uiSize );=0A=
      pTempArea->lprfsHost =3D &pRddNode->pTable;=0A=
=0A=
      /* Need more space? */=0A=
      SELF_STRUCTSIZE( ( AREAP ) pTempArea, &uiSize );=0A=
      if( uiSize > sizeof( AREA ) )   /* Size of Area changed */=0A=
      {=0A=
         pTempArea =3D ( AREAP ) hb_xrealloc( pTempArea, uiSize );=0A=
         memset( pTempArea, 0, uiSize );=0A=
         pTempArea->lprfsHost =3D &pRddNode->pTable;=0A=
      }=0A=
=0A=
      pRddNode->uiAreaSize =3D uiSize;  /* Update the size of WorkArea */=0A=
      pTempArea->rddID =3D uiRddID;=0A=
=0A=
      if( SELF_NEW( ( AREAP ) pTempArea ) =3D=3D FAILURE )=0A=
         hb_retc( "" );=0A=
      else=0A=
      {=0A=
         pInfo.itmResult =3D hb_itemPutC( NULL, "" );=0A=
         SELF_ORDINFO( pTempArea, DBOI_BAGEXT, &pInfo );=0A=
         hb_retc( hb_itemGetCPtr( pInfo.itmResult ) );=0A=
         hb_itemRelease( pInfo.itmResult );=0A=
         SELF_RELEASE( pTempArea );=0A=
      }=0A=
   }=0A=
   else=0A=
   {=0A=
      pInfo.itmResult =3D hb_itemPutC( NULL, "" );=0A=
      SELF_ORDINFO( ( AREAP ) s_pCurrArea->pArea, DBOI_BAGEXT, &pInfo );=0A=
      hb_retc( hb_itemGetCPtr( pInfo.itmResult ) );=0A=
      hb_itemRelease( pInfo.itmResult );=0A=
   }=0A=
}=0A=
=0A=
HB_FUNC( ORDBAGNAME )=0A=
{=0A=
   DBORDERINFO pOrderInfo;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      if ( ISNUM(1) || ISNIL(1) )=0A=
      {=0A=
         if ( hb_parnl(1) =3D=3D 0 || ISNIL(1) )          /* if NIL or =
ask for 0, use current order  */=0A=
            pOrderInfo.itmOrder  =3D NULL;=0A=
         else=0A=
            pOrderInfo.itmOrder =3D hb_param( 1, HB_IT_NUMERIC );=0A=
=0A=
      }else=0A=
      {=0A=
         pOrderInfo.itmOrder =3D hb_param( 1, HB_IT_STRING );=0A=
         if( !pOrderInfo.itmOrder )=0A=
         {=0A=
            hb_errRT_DBCMD( EG_ARG, EDBCMD_REL_BADPARAMETER, NULL, =
"ORDBAGNAME" );=0A=
            return;=0A=
         }=0A=
      }=0A=
      pOrderInfo.itmResult =3D hb_itemPutC( NULL, "" );=0A=
      SELF_ORDINFO( ( AREAP ) s_pCurrArea->pArea, DBOI_BAGNAME, =
&pOrderInfo );=0A=
      hb_retc( hb_itemGetCPtr( pOrderInfo.itmResult ) );=0A=
      hb_itemRelease( pOrderInfo.itmResult );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "ORDBAGNAME" );=0A=
}=0A=
=0A=
HB_FUNC( ORDCONDSET )=0A=
{=0A=
   LPDBORDERCONDINFO lpdbOrdCondInfo;=0A=
   char * szFor;=0A=
   ULONG ulLen;=0A=
   PHB_ITEM pItem;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      lpdbOrdCondInfo =3D ( LPDBORDERCONDINFO ) hb_xgrab( sizeof( =
DBORDERCONDINFO ) );=0A=
      szFor =3D hb_parc( 1 );=0A=
      ulLen =3D strlen( szFor );=0A=
      if( ulLen )=0A=
      {=0A=
         lpdbOrdCondInfo->abFor =3D ( BYTE * ) hb_xgrab( ulLen + 1 );=0A=
         strcpy( ( char * ) lpdbOrdCondInfo->abFor, szFor );=0A=
      }=0A=
      else=0A=
         lpdbOrdCondInfo->abFor =3D NULL;=0A=
=0A=
      pItem =3D hb_param( 2, HB_IT_BLOCK );=0A=
      if( pItem )=0A=
      {=0A=
         lpdbOrdCondInfo->itmCobFor =3D hb_itemNew( NULL );=0A=
         hb_itemCopy( lpdbOrdCondInfo->itmCobFor, pItem );=0A=
      }=0A=
      else=0A=
         lpdbOrdCondInfo->itmCobFor =3D NULL;=0A=
      if( ISLOG( 3 ) )=0A=
         lpdbOrdCondInfo->fAll =3D hb_parl( 3 );=0A=
      else=0A=
         lpdbOrdCondInfo->fAll =3D TRUE;=0A=
=0A=
      pItem =3D hb_param( 4, HB_IT_BLOCK );=0A=
      if( pItem )=0A=
      {=0A=
         lpdbOrdCondInfo->itmCobWhile =3D hb_itemNew( NULL );=0A=
         hb_itemCopy( lpdbOrdCondInfo->itmCobWhile, pItem );=0A=
      }=0A=
      else=0A=
         lpdbOrdCondInfo->itmCobWhile =3D NULL;=0A=
=0A=
      pItem =3D hb_param( 5, HB_IT_BLOCK );=0A=
      if( pItem )=0A=
      {=0A=
         lpdbOrdCondInfo->itmCobEval =3D hb_itemNew( NULL );=0A=
         hb_itemCopy( lpdbOrdCondInfo->itmCobEval, pItem );=0A=
      }=0A=
      else=0A=
         lpdbOrdCondInfo->itmCobEval =3D NULL;=0A=
=0A=
      lpdbOrdCondInfo->lStep =3D hb_parnl( 6 );=0A=
      lpdbOrdCondInfo->lStartRecno =3D hb_parnl( 7 );=0A=
      lpdbOrdCondInfo->lNextCount =3D hb_parnl( 8 );=0A=
      lpdbOrdCondInfo->lRecno =3D hb_parnl( 9 );=0A=
      lpdbOrdCondInfo->fRest =3D hb_parl( 10 );=0A=
      lpdbOrdCondInfo->fDescending =3D hb_parl( 11 );=0A=
      lpdbOrdCondInfo->fAdditive =3D hb_parl( 12 );=0A=
      lpdbOrdCondInfo->fScoped =3D hb_parl( 13 );=0A=
      lpdbOrdCondInfo->fCustom =3D hb_parl( 14 );=0A=
      lpdbOrdCondInfo->fNoOptimize =3D hb_parl( 15 );=0A=
=0A=
      if( !lpdbOrdCondInfo->itmCobWhile )=0A=
         lpdbOrdCondInfo->fRest =3D TRUE;=0A=
      if( lpdbOrdCondInfo->lNextCount || lpdbOrdCondInfo->lRecno || =
lpdbOrdCondInfo->fRest )=0A=
         lpdbOrdCondInfo->fAll =3D FALSE;=0A=
=0A=
      hb_retl( SELF_ORDSETCOND( ( AREAP ) s_pCurrArea->pArea, =
lpdbOrdCondInfo ) =3D=3D SUCCESS );=0A=
   }=0A=
   else=0A=
      hb_retl( FALSE );=0A=
}=0A=
=0A=
HB_FUNC( ORDCREATE )=0A=
{=0A=
   DBORDERCREATEINFO dbOrderInfo;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      dbOrderInfo.abBagName =3D ( BYTE * ) hb_parc( 1 );=0A=
      dbOrderInfo.atomBagName =3D ( BYTE * ) hb_parc( 2 );=0A=
      dbOrderInfo.abExpr =3D hb_param( 3, HB_IT_STRING );=0A=
      if( ( ( strlen( ( char * ) dbOrderInfo.abBagName ) =3D=3D 0 ) &&=0A=
            ( strlen( ( char * ) dbOrderInfo.atomBagName ) =3D=3D 0 ) ) =
||=0A=
          !dbOrderInfo.abExpr )=0A=
      {=0A=
         hb_errRT_DBCMD( EG_ARG, EDBCMD_REL_BADPARAMETER, NULL, =
"ORDCREATE" );=0A=
         return;=0A=
      }=0A=
      dbOrderInfo.itmCobExpr =3D hb_param( 4, HB_IT_BLOCK );=0A=
      if( ISLOG( 5 ) )=0A=
         dbOrderInfo.fUnique =3D hb_parl( 5 );=0A=
      else=0A=
         dbOrderInfo.fUnique =3D hb_set.HB_SET_UNIQUE;=0A=
      SELF_ORDCREATE( ( AREAP ) s_pCurrArea->pArea, &dbOrderInfo );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "ORDCREATE" );=0A=
}=0A=
=0A=
HB_FUNC( ORDDESTROY )=0A=
{=0A=
   DBORDERINFO pOrderInfo;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      pOrderInfo.itmOrder =3D hb_param( 1, HB_IT_STRING );=0A=
      if( !pOrderInfo.itmOrder )=0A=
         pOrderInfo.itmOrder =3D hb_param( 1, HB_IT_NUMERIC );=0A=
      pOrderInfo.atomBagName =3D hb_param( 2, HB_IT_STRING );=0A=
      SELF_ORDDESTROY( ( AREAP ) s_pCurrArea->pArea, &pOrderInfo );=0A=
   }=0A=
}=0A=
=0A=
HB_FUNC( ORDFOR )=0A=
{=0A=
   DBORDERINFO pOrderInfo;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      if ( ISNUM(1) || ISNIL(1) )=0A=
      {=0A=
         if ( hb_parnl(1) =3D=3D 0 || ISNIL(1) )          /* if NIL or =
ask for 0, use current order  */=0A=
            pOrderInfo.itmOrder  =3D NULL;=0A=
         else=0A=
            pOrderInfo.itmOrder =3D hb_param( 1, HB_IT_NUMERIC );=0A=
=0A=
      }else=0A=
      {=0A=
         pOrderInfo.itmOrder =3D hb_param( 1, HB_IT_STRING );=0A=
         if( !pOrderInfo.itmOrder )=0A=
         {=0A=
            hb_errRT_DBCMD( EG_ARG, EDBCMD_REL_BADPARAMETER, NULL, =
"ORDFOR" );=0A=
            return;=0A=
         }=0A=
      }=0A=
=0A=
      pOrderInfo.atomBagName =3D hb_param( 2, HB_IT_STRING );=0A=
      pOrderInfo.itmResult =3D hb_itemPutC( NULL, "" );=0A=
      SELF_ORDINFO( ( AREAP ) s_pCurrArea->pArea, DBOI_CONDITION, =
&pOrderInfo );=0A=
      hb_retc( hb_itemGetCPtr( pOrderInfo.itmResult ) );=0A=
      hb_itemRelease( pOrderInfo.itmResult );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "ORDFOR" );=0A=
}=0A=
=0A=
HB_FUNC( ORDKEY )=0A=
{=0A=
   DBORDERINFO pOrderInfo;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      if ( ISNUM(1) || ISNIL(1) )=0A=
      {=0A=
         if ( hb_parnl(1) =3D=3D 0 || ISNIL(1) )          /* if NIL or =
ask for 0, use current order  */=0A=
            pOrderInfo.itmOrder  =3D NULL;=0A=
         else=0A=
            pOrderInfo.itmOrder =3D hb_param( 1, HB_IT_NUMERIC );=0A=
=0A=
      }else=0A=
      {=0A=
         pOrderInfo.itmOrder =3D hb_param( 1, HB_IT_STRING );=0A=
         if( !pOrderInfo.itmOrder )=0A=
         {=0A=
            hb_errRT_DBCMD( EG_ARG, EDBCMD_REL_BADPARAMETER, NULL, =
"ORDKEY" );=0A=
            return;=0A=
         }=0A=
      }=0A=
=0A=
      pOrderInfo.atomBagName =3D hb_param( 2, HB_IT_STRING );=0A=
      pOrderInfo.itmResult =3D hb_itemPutC( NULL, "" );=0A=
      SELF_ORDINFO( ( AREAP ) s_pCurrArea->pArea, DBOI_EXPRESSION, =
&pOrderInfo );=0A=
      hb_retc( hb_itemGetCPtr( pOrderInfo.itmResult ) );=0A=
      hb_itemRelease( pOrderInfo.itmResult );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "ORDKEY" );=0A=
}=0A=
=0A=
#ifdef HB_COMPAT_C53=0A=
=0A=
HB_FUNC( ORDKEYNO )=0A=
{=0A=
   DBORDERINFO pOrderInfo;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      pOrderInfo.itmOrder =3D hb_param( 1, HB_IT_STRING );=0A=
      if( !pOrderInfo.itmOrder )=0A=
         pOrderInfo.itmOrder =3D hb_param( 1, HB_IT_NUMERIC );=0A=
      pOrderInfo.atomBagName =3D hb_param( 2, HB_IT_STRING );=0A=
      /* Either or both may be NIL */=0A=
=0A=
      pOrderInfo.itmResult =3D hb_itemPutNL( NULL, 0 );=0A=
      SELF_ORDINFO( ( AREAP ) s_pCurrArea->pArea, DBOI_POSITION, =
&pOrderInfo );=0A=
      hb_retnl( hb_itemGetNL( pOrderInfo.itmResult ) );=0A=
      hb_itemRelease( pOrderInfo.itmResult );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "ORDKEYNO" );=0A=
=0A=
}=0A=
#endif=0A=
=0A=
HB_FUNC( ORDLISTADD )=0A=
{=0A=
   DBORDERINFO pOrderInfo;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      pOrderInfo.atomBagName =3D hb_param( 1, HB_IT_STRING );=0A=
      pOrderInfo.itmOrder =3D hb_param( 2, HB_IT_STRING );=0A=
      if( !pOrderInfo.atomBagName )=0A=
      {=0A=
         hb_errRT_DBCMD( EG_ARG, EDBCMD_REL_BADPARAMETER, NULL, =
"ORDLISTADD" );=0A=
         return;=0A=
      }=0A=
      SELF_ORDLSTADD( ( AREAP ) s_pCurrArea->pArea, &pOrderInfo );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "ORDLISTADD" );=0A=
}=0A=
=0A=
HB_FUNC( ORDLISTCLEAR )=0A=
{=0A=
   if( s_pCurrArea )=0A=
      SELF_ORDLSTCLEAR( ( AREAP ) s_pCurrArea->pArea );=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "ORDLISTCLEAR" );=0A=
}=0A=
=0A=
HB_FUNC( ORDLISTREBUILD )=0A=
{=0A=
   if( s_pCurrArea )=0A=
      SELF_ORDLSTREBUILD( ( AREAP ) s_pCurrArea->pArea );=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "ORDLISTREBUILD" =
);=0A=
}=0A=
=0A=
HB_FUNC( ORDNAME )=0A=
{=0A=
   DBORDERINFO pOrderInfo;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      if ( ISNUM(1) || ISNIL(1) )=0A=
      {=0A=
         if ( hb_parnl(1) =3D=3D 0 || ISNIL(1) )          /* if NIL or =
ask for 0, use current order  */=0A=
            pOrderInfo.itmOrder  =3D NULL;=0A=
         else=0A=
            pOrderInfo.itmOrder =3D hb_param( 1, HB_IT_NUMERIC );=0A=
=0A=
      }else=0A=
      {=0A=
         hb_errRT_DBCMD( EG_ARG, EDBCMD_REL_BADPARAMETER, NULL, =
"ORDNAME" );=0A=
         return;=0A=
      }=0A=
=0A=
      pOrderInfo.atomBagName =3D hb_param( 2, HB_IT_STRING );=0A=
      pOrderInfo.itmResult =3D hb_itemPutC( NULL, "" );=0A=
      SELF_ORDINFO( ( AREAP ) s_pCurrArea->pArea, DBOI_NAME, &pOrderInfo =
);=0A=
      hb_retc( hb_itemGetCPtr( pOrderInfo.itmResult ) );=0A=
      hb_itemRelease( pOrderInfo.itmResult );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "ORDNAME" );=0A=
}=0A=
=0A=
HB_FUNC( ORDNUMBER )=0A=
{=0A=
   DBORDERINFO pOrderInfo;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      pOrderInfo.itmOrder =3D hb_param( 1, HB_IT_STRING );=0A=
      pOrderInfo.atomBagName =3D hb_param( 2, HB_IT_STRING );=0A=
      if( !pOrderInfo.itmOrder && ! ISNIL(1))=0A=
      {=0A=
         hb_errRT_DBCMD( EG_ARG, EDBCMD_REL_BADPARAMETER, NULL, =
"ORDNUMBER" );=0A=
         return;=0A=
      }=0A=
      pOrderInfo.itmResult =3D hb_itemPutNI( NULL, 0 );=0A=
      SELF_ORDINFO( ( AREAP ) s_pCurrArea->pArea, DBOI_NUMBER, =
&pOrderInfo );=0A=
      hb_retni( hb_itemGetNI( pOrderInfo.itmResult ) );=0A=
      hb_itemRelease( pOrderInfo.itmResult );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "ORDNUMBER" );=0A=
}=0A=
=0A=
HB_FUNC( ORDSETFOCUS )=0A=
{=0A=
   DBORDERINFO pInfo;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      pInfo.itmOrder =3D hb_param( 1, HB_IT_STRING );=0A=
      if( !pInfo.itmOrder )=0A=
         pInfo.itmOrder =3D hb_param( 1, HB_IT_NUMERIC );=0A=
      pInfo.atomBagName =3D hb_param( 2, HB_IT_STRING );=0A=
      pInfo.itmResult =3D hb_itemPutC( NULL, "" );=0A=
      SELF_ORDLSTFOCUS( ( AREAP ) s_pCurrArea->pArea, &pInfo );=0A=
      hb_retc( hb_itemGetCPtr( pInfo.itmResult ) );=0A=
      hb_itemRelease( pInfo.itmResult );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "ORDSETFOCUS" );=0A=
}=0A=
=0A=
=0A=
HB_FUNC( RDDLIST )=0A=
{=0A=
   USHORT uiType;=0A=
   PHB_ITEM pName;=0A=
   LPRDDNODE pRddNode;=0A=
=0A=
   hb_rddCheck();=0A=
   hb_arrayNew( &hb_stack.Return, 0 );=0A=
   pName =3D hb_itemNew( NULL );=0A=
   pRddNode =3D s_pRddList;=0A=
   uiType =3D hb_parni( 1 );       /* 0 all types of RDD's */=0A=
   while( pRddNode )=0A=
   {=0A=
      if( ( uiType =3D=3D 0 ) || ( pRddNode->uiType =3D=3D uiType ) )=0A=
         hb_arrayAdd( &hb_stack.Return, hb_itemPutC( pName, =
pRddNode->szName ) );=0A=
      pRddNode =3D pRddNode->pNext;=0A=
   }=0A=
   hb_itemRelease( pName );=0A=
}=0A=
=0A=
HB_FUNC( RDDNAME )=0A=
{=0A=
   char * pBuffer;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      pBuffer =3D ( char * ) hb_xgrab( HARBOUR_MAX_RDD_DRIVERNAME_LENGTH =
+ 1 );=0A=
      pBuffer[ 0 ] =3D '\0';=0A=
      SELF_SYSNAME( ( AREAP ) s_pCurrArea->pArea, ( BYTE * ) pBuffer );=0A=
      hb_retc( pBuffer );=0A=
      hb_xfree( pBuffer );=0A=
   }=0A=
   else=0A=
   {=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "RDDNAME" );=0A=
      hb_retc( "" );=0A=
   }=0A=
}=0A=
=0A=
HB_FUNC( RDDREGISTER )=0A=
{=0A=
   USHORT uiLen;=0A=
   char szDriver[ HARBOUR_MAX_RDD_DRIVERNAME_LENGTH + 1 ];=0A=
=0A=
   hb_rddCheck();=0A=
=0A=
   uiLen =3D ( USHORT ) hb_parclen( 1 );=0A=
   if( uiLen > 0 )=0A=
   {=0A=
      if( uiLen > HARBOUR_MAX_RDD_DRIVERNAME_LENGTH )=0A=
         uiLen =3D HARBOUR_MAX_RDD_DRIVERNAME_LENGTH;=0A=
=0A=
      hb_strncpyUpper( szDriver, hb_parc( 1 ), uiLen );=0A=
      /*=0A=
       * hb_rddRegister returns:=0A=
       *=0A=
       * 0: Ok, RDD registered=0A=
       * 1: RDD already registerd=0A=
       * > 1: error=0A=
       */=0A=
      if( hb_rddRegister( szDriver, hb_parni( 2 ) ) > 1 )=0A=
         hb_errInternal( HB_EI_RDDINVALID, NULL, NULL, NULL );=0A=
   }=0A=
}=0A=
=0A=
/* Same as LASTREC() */=0A=
HB_FUNC( RECCOUNT )=0A=
{=0A=
   ULONG ulRecCount =3D 0;=0A=
=0A=
   if( s_pCurrArea )=0A=
      SELF_RECCOUNT( ( AREAP ) s_pCurrArea->pArea, &ulRecCount );=0A=
   hb_retnl( ulRecCount );=0A=
}=0A=
=0A=
HB_FUNC( RECNO )=0A=
{=0A=
   PHB_ITEM pRecNo;=0A=
=0A=
   pRecNo =3D hb_itemPutNL( NULL, 0 );=0A=
   if( s_pCurrArea )=0A=
      SELF_RECNO( ( AREAP ) s_pCurrArea->pArea, pRecNo );=0A=
   hb_itemRelease( hb_itemReturn( pRecNo ) );=0A=
}=0A=
=0A=
HB_FUNC( RECSIZE )=0A=
{=0A=
   PHB_ITEM pRecSize;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      pRecSize =3D hb_itemNew( NULL );=0A=
      SELF_INFO( ( AREAP ) s_pCurrArea->pArea, DBI_GETRECSIZE, pRecSize =
);=0A=
      hb_itemRelease( hb_itemReturn( pRecSize ) );=0A=
   }=0A=
   else=0A=
      hb_retni( 0 );=0A=
}=0A=
=0A=
HB_FUNC( RLOCK )=0A=
{=0A=
   DBLOCKINFO dbLockInfo;=0A=
=0A=
   dbLockInfo.fResult =3D FALSE;=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      dbLockInfo.uiMethod =3D DBLM_EXCLUSIVE;=0A=
      SELF_LOCK( ( AREAP ) s_pCurrArea->pArea, &dbLockInfo );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "RLOCK" );=0A=
=0A=
   hb_retl( dbLockInfo.fResult );=0A=
}=0A=
=0A=
HB_FUNC( SELECT )=0A=
{=0A=
   char * szAlias;=0A=
   ULONG ulLen;=0A=
=0A=
   szAlias =3D hb_parc( 1 );=0A=
   ulLen =3D strlen( szAlias );=0A=
=0A=
   if( ulLen =3D=3D 1 && toupper( szAlias[ 0 ] ) >=3D 'A' && toupper( =
szAlias[ 0 ] ) <=3D 'K' )=0A=
      hb_retni( toupper( szAlias[ 0 ] ) - 'A' + 1 );=0A=
   else if( ulLen > 0 )=0A=
      hb_retni( hb_rddSelect( szAlias ) );=0A=
   else=0A=
      hb_retni( s_uiCurrArea );=0A=
}=0A=
=0A=
HB_FUNC( USED )=0A=
{=0A=
   hb_retl( s_pCurrArea !=3D NULL );=0A=
}=0A=
=0A=
/* NOTE: Same as dbSetDriver() and rddSetDefault(), but doesn't=0A=
         throw any error if the driver doesn't exist, this is=0A=
         required in the RDDSYS INIT function, since it's not guaranteed=0A=
         that the RDD is already registered at that point. [vszakats] */=0A=
=0A=
HB_FUNC( __RDDSETDEFAULT )=0A=
{=0A=
   USHORT uiLen;=0A=
=0A=
   hb_rddCheck();=0A=
   hb_retc( s_szDefDriver );=0A=
=0A=
   uiLen =3D ( USHORT ) hb_parclen( 1 );=0A=
   if( uiLen > 0 )=0A=
   {=0A=
      if( uiLen > HARBOUR_MAX_RDD_DRIVERNAME_LENGTH )=0A=
         uiLen =3D HARBOUR_MAX_RDD_DRIVERNAME_LENGTH;=0A=
=0A=
      s_szDefDriver =3D ( char * ) hb_xrealloc( s_szDefDriver, uiLen + 1 =
);=0A=
      hb_strncpyUpper( s_szDefDriver, hb_parc( 1 ), uiLen );=0A=
   }=0A=
}=0A=
=0A=
HB_FUNC( RDDSETDEFAULT )=0A=
{=0A=
   USHORT uiLen;=0A=
   char szNewDriver[ HARBOUR_MAX_RDD_DRIVERNAME_LENGTH ];=0A=
=0A=
   hb_rddCheck();=0A=
   hb_retc( s_szDefDriver );=0A=
=0A=
   uiLen =3D ( USHORT ) hb_parclen( 1 );=0A=
   if( uiLen > 0 )=0A=
   {=0A=
      if( uiLen > HARBOUR_MAX_RDD_DRIVERNAME_LENGTH )=0A=
         uiLen =3D HARBOUR_MAX_RDD_DRIVERNAME_LENGTH;=0A=
=0A=
      hb_strncpyUpper( szNewDriver, hb_parc( 1 ), uiLen );=0A=
=0A=
      if( !hb_rddFindNode( szNewDriver, NULL ) )=0A=
      {=0A=
         hb_errRT_DBCMD( EG_ARG, EDBCMD_BADPARAMETER, NULL, =
"RDDSETDEFAULT" );=0A=
         return;=0A=
      }=0A=
=0A=
      s_szDefDriver =3D ( char * ) hb_xrealloc( s_szDefDriver, uiLen + 1 =
);=0A=
      strcpy( s_szDefDriver, szNewDriver );=0A=
   }=0A=
}=0A=
=0A=
HB_FUNC( DBSETDRIVER )=0A=
{=0A=
   USHORT uiLen;=0A=
   char szNewDriver[ HARBOUR_MAX_RDD_DRIVERNAME_LENGTH ];=0A=
=0A=
   hb_rddCheck();=0A=
   hb_retc( s_szDefDriver );=0A=
=0A=
   uiLen =3D ( USHORT ) hb_parclen( 1 );=0A=
   if( uiLen > 0 )=0A=
   {=0A=
      if( uiLen > HARBOUR_MAX_RDD_DRIVERNAME_LENGTH )=0A=
         uiLen =3D HARBOUR_MAX_RDD_DRIVERNAME_LENGTH;=0A=
=0A=
      hb_strncpyUpper( szNewDriver, hb_parc( 1 ), uiLen );=0A=
=0A=
      if( !hb_rddFindNode( szNewDriver, NULL ) )=0A=
      {=0A=
         hb_errRT_DBCMD( EG_ARG, EDBCMD_BADPARAMETER, NULL, =
"DBSETDRIVER" );=0A=
         return;=0A=
      }=0A=
=0A=
      s_szDefDriver =3D ( char * ) hb_xrealloc( s_szDefDriver, uiLen + 1 =
);=0A=
      strcpy( s_szDefDriver, szNewDriver );=0A=
   }=0A=
}=0A=
=0A=
HB_FUNC( ORDSCOPE )=0A=
{=0A=
   PHB_ITEM pScopeValue;=0A=
   DBORDSCOPEINFO sInfo;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      if( !ISNUM( 1 ) || (!ISNIL(2) && !( ISCHAR(2) || ISNUM(2) || =
ISDATE(2) || ISLOG(2) )))=0A=
      {=0A=
         hb_errRT_DBCMD( EG_ARG, EDBCMD_REL_BADPARAMETER, NULL, =
"ORDSCOPE" );=0A=
         return;=0A=
      }=0A=
      sInfo.nScope =3D hb_parni( 1 );=0A=
      pScopeValue =3D hb_itemPutC( NULL, "" );=0A=
=0A=
      SELF_SCOPEINFO( ( AREAP ) s_pCurrArea->pArea, sInfo.nScope, =
pScopeValue );=0A=
      hb_retc( hb_itemGetCPtr( pScopeValue ) );=0A=
      hb_itemRelease( pScopeValue );=0A=
=0A=
      if( hb_pcount() > 1 )=0A=
      {=0A=
         if ( ISNIL( 2 ) )                /* explicitly passed NIL, =
clear it */=0A=
            sInfo.scopeValue =3D NULL;=0A=
         else=0A=
            sInfo.scopeValue =3D (BYTE*) (ISCHAR( 2 ) ? hb_parc( 2 ) :=0A=
                                       (ISDATE( 2 ) ? hb_pards( 2 ) : =
hb_parc( 2 ) ) ) ;=0A=
         /* this is a temp fix until we decide if the item should be =
passed down or "parsed" here */=0A=
=0A=
=0A=
         SELF_SETSCOPE( ( AREAP ) s_pCurrArea->pArea, (LPDBORDSCOPEINFO) =
&sInfo );=0A=
      }else=0A=
         sInfo.scopeValue =3D NULL;=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "ORDSCOPE" );=0A=
}=0A=
=0A=
HB_FUNC( DBRELATION )  /* (<nRelation>) --> cLinkExp */=0A=
{=0A=
   char cExprBuff[ 256 ];  /*TODO: Correct buffer size initialization =
??*/=0A=
=0A=
   cExprBuff[ 0 ] =3D 0;=0A=
   if( s_pCurrArea )=0A=
      SELF_RELTEXT( ( AREAP ) s_pCurrArea->pArea, hb_parni(1), =
&cExprBuff ) ;=0A=
=0A=
   hb_retc(cExprBuff);=0A=
}=0A=
=0A=
HB_FUNC( DBRSELECT )  /* (<nRelation>) --> nWorkArea */=0A=
{=0A=
   USHORT uiWorkArea =3D 0;=0A=
   if( s_pCurrArea )=0A=
      SELF_RELAREA( ( AREAP ) s_pCurrArea->pArea, hb_parni(1), =
&uiWorkArea );=0A=
=0A=
   hb_retni( uiWorkArea );=0A=
}=0A=
=0A=
HB_FUNC( DBCLEARRELATION )=0A=
{=0A=
   if( s_pCurrArea )=0A=
      SELF_CLEARREL( ( AREAP ) s_pCurrArea->pArea );=0A=
}=0A=
=0A=
HB_FUNC( DBSETRELATION )=0A=
{=0A=
   char * szAlias;=0A=
   DBRELINFO dbRelations;=0A=
   LPAREANODE s_pArea, pAreaNode;=0A=
   USHORT uiChildArea;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      szAlias =3D NULL;=0A=
      s_pArea =3D NULL;=0A=
=0A=
      if( hb_pcount() < 2 || ( !( hb_parinfo( 1 ) & HB_IT_NUMERIC ) &&=0A=
          ( hb_parinfo( 1 ) !=3D HB_IT_STRING ) ) ||=0A=
          !( ISNIL( 4 ) || ISLOG( 4 ) )  )=0A=
      {=0A=
         hb_errRT_DBCMD( EG_ARG, EDBCMD_REL_BADPARAMETER, NULL, =
"DBSETRELATION" );=0A=
         return;=0A=
      }=0A=
=0A=
      if( hb_parinfo( 1 ) & HB_IT_NUMERIC )=0A=
         uiChildArea =3D hb_parni( 1 );=0A=
      else=0A=
      {=0A=
         szAlias =3D hb_parc( 1 );=0A=
         if( ( uiChildArea =3D hb_rddSelect( szAlias ) ) =3D=3D 0 )=0A=
         {=0A=
            hb_errRT_BASE( EG_NOALIAS, EDBCMD_NOALIAS, NULL, szAlias, 0 =
);=0A=
            return;=0A=
         }=0A=
      }=0A=
=0A=
      pAreaNode =3D s_pWorkAreas;=0A=
      while( pAreaNode )=0A=
      {=0A=
         if( ( ( AREAP ) pAreaNode->pArea )->uiArea =3D=3D uiChildArea )=0A=
         {=0A=
            s_pArea =3D pAreaNode; /* Select a valid WorkArea */=0A=
            break;=0A=
         }=0A=
         pAreaNode =3D pAreaNode->pNext;=0A=
      }=0A=
      if( !s_pArea )=0A=
      {=0A=
         hb_errRT_BASE( EG_NOALIAS, EDBCMD_NOALIAS, NULL, szAlias, 0 );=0A=
         return;=0A=
      }=0A=
=0A=
      dbRelations.lpaChild =3D ( AREAP ) s_pArea->pArea;=0A=
      dbRelations.itmCobExpr =3D hb_itemNew( hb_param( 2, HB_IT_BLOCK ) =
);=0A=
      dbRelations.abKey =3D hb_itemNew( hb_param( 3, HB_IT_STRING ) );=0A=
      dbRelations.isScoped =3D ( hb_pcount() > 3 )? hb_parl( 4 ):0;=0A=
      dbRelations.lpdbriNext =3D NULL;=0A=
=0A=
      SELF_SETREL( ( AREAP ) s_pCurrArea->pArea, &dbRelations );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBSETRELATION" =
);=0A=
}=0A=
=0A=
=0A=
HB_FUNC( __DBARRANGE )=0A=
{=0A=
   USHORT uiNewArea, uiCount;=0A=
   ULONG ulSize;=0A=
   char * szFieldLine, * szFieldName, * szPos;=0A=
   PHB_ITEM pStruct, pFields;=0A=
   DBSORTINFO dbSortInfo;=0A=
   LPAREANODE pAreaNode;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      memset( &dbSortInfo, 0, sizeof( DBSORTINFO ) );=0A=
      dbSortInfo.dbtri.uiFlags =3D DBTF_PUTREC;=0A=
      uiNewArea =3D hb_parni( 1 );=0A=
=0A=
      /* Fields structure of source WorkArea */=0A=
      pStruct =3D hb_param( 2 , HB_IT_ARRAY );=0A=
      if( pStruct )=0A=
      {=0A=
         dbSortInfo.dbtri.uiItemCount =3D ( USHORT ) hb_arrayLen( =
pStruct );=0A=
         if( dbSortInfo.dbtri.uiItemCount > 0 )=0A=
         {=0A=
            pFields =3D hb_itemNew( NULL );=0A=
            dbSortInfo.dbtri.lpTransItems =3D ( LPDBTRANSITEM )=0A=
                                            hb_xgrab( =
dbSortInfo.dbtri.uiItemCount *=0A=
                                                      sizeof( =
DBTRANSITEM ) );=0A=
            for( uiCount =3D 0; uiCount < dbSortInfo.dbtri.uiItemCount; =
uiCount++ )=0A=
            {=0A=
               if( hb_arrayGet( pStruct, uiCount + 1, pFields ) && =
HB_IS_ARRAY( pFields ) &&=0A=
                   ( USHORT ) hb_arrayLen( pFields ) > 0 )=0A=
               {=0A=
                  dbSortInfo.dbtri.lpTransItems[ uiCount ].uiSource =3D=0A=
                                 hb_rddFieldIndex( ( AREAP ) =
s_pCurrArea->pArea,=0A=
                                                    hb_arrayGetCPtr( =
pFields, 1 ) );=0A=
                  dbSortInfo.dbtri.lpTransItems[ uiCount ].uiDest =3D=0A=
                                 dbSortInfo.dbtri.lpTransItems[ uiCount =
].uiSource;=0A=
               }=0A=
               else=0A=
               {=0A=
                  hb_xfree( dbSortInfo.dbtri.lpTransItems );=0A=
                  dbSortInfo.dbtri.uiItemCount =3D 0;=0A=
                  break;=0A=
               }=0A=
            }=0A=
            hb_itemRelease( pFields );=0A=
         }=0A=
      }=0A=
      else=0A=
         return;=0A=
=0A=
      /* Invalid fields structure? */=0A=
      if( dbSortInfo.dbtri.uiItemCount =3D=3D 0 )=0A=
         return;=0A=
=0A=
      dbSortInfo.dbtri.dbsci.itmCobFor =3D hb_param( 3, HB_IT_BLOCK );=0A=
      dbSortInfo.dbtri.dbsci.lpstrFor =3D NULL;=0A=
      dbSortInfo.dbtri.dbsci.itmCobWhile =3D hb_param( 4, HB_IT_BLOCK );=0A=
      dbSortInfo.dbtri.dbsci.lpstrWhile =3D NULL;=0A=
      dbSortInfo.dbtri.dbsci.lNext =3D hb_param( 5, HB_IT_NUMERIC );=0A=
      dbSortInfo.dbtri.dbsci.itmRecID =3D hb_param( 6, HB_IT_NUMERIC );=0A=
      dbSortInfo.dbtri.dbsci.fRest =3D hb_param( 7, HB_IT_LOGICAL );=0A=
      dbSortInfo.dbtri.dbsci.fIgnoreFilter =3D =
dbSortInfo.dbtri.dbsci.fLast =3D=0A=
      dbSortInfo.dbtri.dbsci.fIgnoreDuplicates =3D FALSE;=0A=
      dbSortInfo.dbtri.dbsci.fIncludeDeleted =3D TRUE;=0A=
=0A=
      pFields =3D hb_param( 8, HB_IT_ARRAY );=0A=
      if( pFields )=0A=
         dbSortInfo.uiItemCount =3D ( USHORT ) hb_arrayLen( pFields );=0A=
      else=0A=
         dbSortInfo.uiItemCount =3D 0;=0A=
      if( dbSortInfo.uiItemCount > 0 )=0A=
      {=0A=
         dbSortInfo.lpdbsItem =3D ( LPDBSORTITEM ) hb_xgrab( =
dbSortInfo.uiItemCount * sizeof( DBSORTITEM ) );=0A=
         ulSize =3D 0;=0A=
         for( uiCount =3D 1; uiCount <=3D dbSortInfo.uiItemCount; =
uiCount++ )=0A=
         {=0A=
            if( hb_arrayGetCLen( pFields, uiCount ) > ulSize )=0A=
               ulSize =3D hb_arrayGetCLen( pFields, uiCount );=0A=
         }=0A=
         szFieldLine =3D ( char * ) hb_xgrab( ulSize + 1 );=0A=
         for( uiCount =3D 0; uiCount < dbSortInfo.uiItemCount; uiCount++ =
)=0A=
         {=0A=
            dbSortInfo.lpdbsItem[ uiCount ].uiFlags =3D 0;=0A=
            hb_strncpyUpper( szFieldLine, hb_arrayGetCPtr( pFields, =
uiCount + 1 ),=0A=
                             hb_arrayGetCLen( pFields, uiCount + 1 ) );=0A=
            szPos =3D strchr( szFieldLine, '/' );=0A=
            if( szPos )=0A=
            {=0A=
               if( * ( szPos + 1 ) =3D=3D 'D' )=0A=
                  dbSortInfo.lpdbsItem[ uiCount ].uiFlags |=3D =
SF_DESCEND;=0A=
               else if( * ( szPos + 1 ) =3D=3D 'C' )=0A=
               {=0A=
                  dbSortInfo.lpdbsItem[ uiCount ].uiFlags |=3D SF_CASE;=0A=
                  dbSortInfo.lpdbsItem[ uiCount ].uiFlags |=3D SF_ASCEND;=0A=
               }=0A=
               else=0A=
                  dbSortInfo.lpdbsItem[ uiCount ].uiFlags |=3D SF_ASCEND;=0A=
               if( * ( szPos + 1 ) !=3D 0 && ( ( * ( szPos + 2 ) =3D=3D =
'C' ) ||=0A=
                   ( * ( szPos + 2 ) !=3D 0 && * ( szPos + 3 ) =3D=3D =
'C' ) ) )=0A=
                  dbSortInfo.lpdbsItem[ uiCount ].uiFlags |=3D SF_CASE;=0A=
               * szPos =3D 0;=0A=
            }=0A=
            else=0A=
               dbSortInfo.lpdbsItem[ uiCount ].uiFlags |=3D SF_ASCEND;=0A=
            szFieldName =3D szFieldLine;=0A=
            while( szFieldName[ 0 ] =3D=3D ' ' )=0A=
               szFieldName++;=0A=
            ulSize =3D strlen( szFieldName );=0A=
            while( ulSize > 1 && szFieldName[ ulSize - 1 ] =3D=3D ' ' )=0A=
            {=0A=
               ulSize --;=0A=
               szFieldName[ ulSize ] =3D 0;=0A=
            }=0A=
            dbSortInfo.lpdbsItem[ uiCount ].uiField =3D=0A=
                        hb_rddFieldIndex( ( AREAP ) s_pCurrArea->pArea, =
szFieldName );=0A=
=0A=
            /* Field not found */=0A=
            if( dbSortInfo.lpdbsItem[ uiCount ].uiField =3D=3D 0 )=0A=
            {=0A=
               hb_xfree( dbSortInfo.lpdbsItem );=0A=
               dbSortInfo.lpdbsItem =3D NULL;=0A=
               break;=0A=
            }=0A=
         }=0A=
         hb_xfree( szFieldLine );=0A=
      }=0A=
      else=0A=
         return;=0A=
=0A=
      /* Fields not found? */=0A=
      if( dbSortInfo.lpdbsItem =3D=3D NULL )=0A=
         return;=0A=
=0A=
      dbSortInfo.dbtri.lpaSource =3D ( AREAP ) s_pCurrArea->pArea;=0A=
      dbSortInfo.dbtri.lpaDest =3D NULL;=0A=
      pAreaNode =3D s_pWorkAreas;=0A=
      while( pAreaNode )=0A=
      {=0A=
         if( ( ( AREAP ) pAreaNode->pArea )->uiArea =3D=3D uiNewArea )=0A=
         {=0A=
            dbSortInfo.dbtri.lpaDest =3D ( AREAP ) pAreaNode->pArea;=0A=
            break;=0A=
         }=0A=
         pAreaNode =3D pAreaNode->pNext;=0A=
      }=0A=
=0A=
      SELF_SORT( ( AREAP ) s_pCurrArea->pArea, &dbSortInfo );=0A=
=0A=
      /* Free items */=0A=
      if( dbSortInfo.lpdbsItem )=0A=
         hb_xfree( dbSortInfo.lpdbsItem );=0A=
      if( dbSortInfo.dbtri.uiItemCount > 0 )=0A=
         hb_xfree( dbSortInfo.dbtri.lpTransItems );=0A=
   }=0A=
}=0A=
=0A=
#ifdef HB_COMPAT_C53=0A=
HB_FUNC( DBINFO )=0A=
{=0A=
   PHB_ITEM pType, pInfo;=0A=
   BOOL bDeleteItem;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      pType =3D hb_param( 1 , HB_IT_NUMERIC );=0A=
      if( pType )=0A=
      {=0A=
         pInfo =3D hb_param( 2 , HB_IT_ANY );=0A=
         if( !pInfo )=0A=
         {=0A=
            pInfo =3D hb_itemNew( NULL );=0A=
            bDeleteItem =3D TRUE;=0A=
         }=0A=
         else=0A=
            bDeleteItem =3D FALSE;=0A=
         SELF_INFO( ( AREAP ) s_pCurrArea->pArea, hb_itemGetNI( pType ), =
pInfo );=0A=
         hb_itemReturn( pInfo );=0A=
         if( bDeleteItem )=0A=
            hb_itemRelease( pInfo );=0A=
         return;=0A=
      }=0A=
      hb_errRT_DBCMD( EG_ARG, EDBCMD_DBINFOBADPARAMETER, NULL, "DBINFO" =
);=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBINFO" );=0A=
}=0A=
=0A=
HB_FUNC( DBORDERINFO )=0A=
{=0A=
   PHB_ITEM pType, pInfo;=0A=
   BOOL bDeleteItem;=0A=
   DBORDERINFO pOrderInfo;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      pType =3D hb_param( 1 , HB_IT_NUMERIC );=0A=
      if( pType )=0A=
      {=0A=
=0A=
         pOrderInfo.atomBagName =3D hb_param( 2, HB_IT_STRING );=0A=
         /* atomBagName may be NIL */=0A=
         pOrderInfo.itmOrder =3D hb_param( 3, HB_IT_STRING );=0A=
         if( !pOrderInfo.itmOrder )=0A=
            pOrderInfo.itmOrder =3D hb_param( 3, HB_IT_NUMERIC );=0A=
=0A=
         /*  TODO: 4TH parameter is not supported in current ads code or =
the structure */=0A=
         pInfo =3D hb_param( 4 , HB_IT_ANY );  /* Set new value */=0A=
         if( !pInfo )=0A=
         {=0A=
            pInfo =3D hb_itemNew( NULL );=0A=
            bDeleteItem =3D TRUE;=0A=
         }=0A=
         else=0A=
            bDeleteItem =3D FALSE;=0A=
=0A=
         pOrderInfo.itmResult =3D hb_itemNew( NULL );=0A=
         SELF_ORDINFO( ( AREAP ) s_pCurrArea->pArea, hb_itemGetNI( pType =
), &pOrderInfo );=0A=
         hb_itemReturn(  pOrderInfo.itmResult );=0A=
         hb_itemRelease( pOrderInfo.itmResult );=0A=
=0A=
         if( bDeleteItem )=0A=
            hb_itemRelease( pInfo );=0A=
         return;=0A=
      }=0A=
      hb_errRT_DBCMD( EG_ARG, EDBCMD_DBCMDBADPARAMETER, NULL, =
"DBORDERINFO" );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBORDERINFO" );=0A=
}=0A=
=0A=
HB_FUNC( DBFIELDINFO )=0A=
{=0A=
   PHB_ITEM pType, pInfo;=0A=
   USHORT uiFields, uiIndex;=0A=
   BOOL bDeleteItem;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      pType =3D hb_param( 1 , HB_IT_NUMERIC );=0A=
      uiIndex =3D hb_parni( 2 );=0A=
      if( pType &&=0A=
          SELF_FIELDCOUNT( ( AREAP ) s_pCurrArea->pArea, &uiFields ) =
=3D=3D SUCCESS &&=0A=
          uiIndex > 0 && uiIndex <=3D uiFields )=0A=
      {=0A=
         pInfo =3D hb_param( 3 , HB_IT_ANY );=0A=
         if( !pInfo )=0A=
         {=0A=
            pInfo =3D hb_itemNew( NULL );=0A=
            bDeleteItem =3D TRUE;=0A=
         }=0A=
         else=0A=
            bDeleteItem =3D FALSE;=0A=
         SELF_FIELDINFO( ( AREAP ) s_pCurrArea->pArea, uiIndex, =
hb_itemGetNI( pType ), pInfo );=0A=
         hb_itemReturn( pInfo );=0A=
         if( bDeleteItem )=0A=
            hb_itemRelease( pInfo );=0A=
         return;=0A=
      }=0A=
      hb_errRT_DBCMD( EG_ARG, EDBCMD_DBCMDBADPARAMETER, NULL, =
"DBFIELDINFO" );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBFIELDINFO" );=0A=
}=0A=
=0A=
HB_FUNC( DBRECORDINFO )=0A=
{=0A=
   PHB_ITEM pType, pRecNo, pInfo;=0A=
   BOOL bDeleteItem;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      pType =3D hb_param( 1 , HB_IT_NUMERIC );=0A=
      pRecNo =3D hb_param( 2 , HB_IT_NUMERIC );=0A=
      if( pType )=0A=
      {=0A=
         pInfo =3D hb_param( 3 , HB_IT_ANY );=0A=
         if( !pInfo )=0A=
         {=0A=
            pInfo =3D hb_itemNew( NULL );=0A=
            bDeleteItem =3D TRUE;=0A=
         }=0A=
         else=0A=
            bDeleteItem =3D FALSE;=0A=
         SELF_RECINFO( ( AREAP ) s_pCurrArea->pArea, pRecNo, =
hb_itemGetNI( pType ), pInfo );=0A=
         hb_itemReturn( pInfo );=0A=
         if( bDeleteItem )=0A=
            hb_itemRelease( pInfo );=0A=
         return;=0A=
      }=0A=
      hb_errRT_DBCMD( EG_ARG, EDBCMD_INFOBADPARAMETER, NULL, =
"DBRECORDINFO" );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBRECORDINFO" );=0A=
}=0A=
=0A=
HB_FUNC( DBFILEGET )=0A=
{=0A=
   PHB_ITEM pFileName, pMode;=0A=
   char szFileName[ _POSIX_PATH_MAX + 1 ];=0A=
   USHORT uiFields, uiIndex;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      uiIndex =3D hb_parni( 1 );=0A=
      pFileName =3D hb_param( 2 , HB_IT_STRING );=0A=
      pMode =3D hb_param( 3 , HB_IT_NUMERIC );=0A=
      if( pFileName && pMode &&=0A=
          SELF_FIELDCOUNT( ( AREAP ) s_pCurrArea->pArea, &uiFields ) =
=3D=3D SUCCESS &&=0A=
          uiIndex > 0 && uiIndex <=3D uiFields )=0A=
      {=0A=
         strncpy( szFileName, hb_itemGetCPtr( pFileName ), =
_POSIX_PATH_MAX );=0A=
         hb_retl( SELF_GETVALUEFILE( ( AREAP ) s_pCurrArea->pArea, =
uiIndex, szFileName,=0A=
                                     hb_itemGetNI( pMode ) ) );=0A=
         return;=0A=
      }=0A=
      hb_errRT_DBCMD( EG_ARG, EDBCMD_DBFILEGETBADPARAMETER, NULL, =
"DBFILEGET" );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBFILEGET" );=0A=
=0A=
   hb_retl( FALSE );=0A=
}=0A=
=0A=
HB_FUNC( DBFILEPUT )=0A=
{=0A=
   PHB_ITEM pFileName;=0A=
   char szFileName[ _POSIX_PATH_MAX + 1 ];=0A=
   USHORT uiFields, uiIndex;=0A=
=0A=
   if( s_pCurrArea )=0A=
   {=0A=
      uiIndex =3D hb_parni( 1 );=0A=
      pFileName =3D hb_param( 2 , HB_IT_STRING );=0A=
      if( pFileName &&=0A=
          SELF_FIELDCOUNT( ( AREAP ) s_pCurrArea->pArea, &uiFields ) =
=3D=3D SUCCESS &&=0A=
          uiIndex > 0 && uiIndex <=3D uiFields )=0A=
      {=0A=
         strncpy( szFileName, hb_itemGetCPtr( pFileName ), =
_POSIX_PATH_MAX );=0A=
         hb_retl( SELF_PUTVALUEFILE( ( AREAP ) s_pCurrArea->pArea, =
uiIndex, szFileName ) );=0A=
         return;=0A=
      }=0A=
      hb_errRT_DBCMD( EG_ARG, EDBCMD_DBFILEPUTBADPARAMETER, NULL, =
"DBFILEPUT" );=0A=
   }=0A=
   else=0A=
      hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBFILEPUT" );=0A=
=0A=
   hb_retl( FALSE );=0A=
}=0A=
#endif=0A=
=0A=
/*******************************************/=0A=
/* here we have the NEW Database level functions DBDROP & DBEXISTS */=0A=
HB_FUNC( DBDROP )=0A=
{=0A=
  PHB_ITEM   pFileName;=0A=
  PHB_ITEM   pDriverName;=0A=
  LPRDDNODE  pRDDNode;=0A=
  USHORT     uiRddID;=0A=
  char      *szDriver;=0A=
=0A=
  if ( ISCHAR( 2 ) ) /* we have a VIA RDD parameter */=0A=
    szDriver =3D hb_parc( 2 );=0A=
  else=0A=
    szDriver =3D s_szDefDriver;=0A=
  pRDDNode =3D hb_rddFindNode( szDriver, &uiRddID );  // find the RDD=0A=
=0A=
  if ( !pRDDNode )=0A=
  {=0A=
    hb_errRT_DBCMD( EG_ARG, EDBCMD_EVAL_BADPARAMETER, NULL, "DBDROP" );=0A=
    return;=0A=
  }=0A=
  if ( SELF_DROP( pRDDNode, hb_param( 1, HB_IT_STRING )) =3D=3D 0 )=0A=
   hb_retl( TRUE );=0A=
  else=0A=
   hb_retl( FALSE );=0A=
}=0A=
=0A=
HB_FUNC( DBEXISTS )=0A=
{=0A=
  PHB_ITEM   pFileName;=0A=
  PHB_ITEM   pDriverName;=0A=
  LPRDDNODE  pRDDNode;=0A=
  USHORT     uiRddID;=0A=
  char * szDriver, * szFileName, * szIndexName;=0A=
=0A=
  if ( ISCHAR( 3 ) ) /* we have a VIA RDD parameter */=0A=
    szDriver =3D hb_parc( 3 );=0A=
  else=0A=
    szDriver =3D s_szDefDriver;=0A=
  pRDDNode =3D hb_rddFindNode( szDriver, &uiRddID );  // find the RDD=0A=
=0A=
  if ( !pRDDNode )=0A=
  {=0A=
    hb_errRT_DBCMD( EG_ARG, EDBCMD_EVAL_BADPARAMETER, NULL, "DBDROP" );=0A=
    return;=0A=
  }=0A=
=0A=
  if ( SELF_EXISTS( pRDDNode,=0A=
                    ISCHAR( 1 ) ? hb_param( 1, HB_IT_STRING ) : NULL,=0A=
                    ISCHAR( 2 ) ? hb_param( 2, HB_IT_STRING ) : NULL ))=0A=
    hb_retl( TRUE );=0A=
  else=0A=
    hb_retl( FALSE );=0A=
}=0A=
=0A=
/*******************************************/=0A=
/* as we are in C, the code is upside down,=0A=
   find __SBAPP & __DBCOPY at the bottom=0A=
=0A=
   create a new AREANODE and open it's Area=0A=
   If the file exists it will be deteted & a new one created=0A=
*/=0A=
static LPAREANODE GetTheOtherArea( char *szDriver, char * szFileName, =
BOOL createIt )=0A=
{=0A=
  LPAREANODE pAreaNode;=0A=
  LPRDDNODE  pRDDNode;=0A=
  PHB_ITEM   tableItem, pFileExt;=0A=
  USHORT     uiRddID;=0A=
  PHB_FNAME  pFileName;=0A=
  DBOPENINFO pInfo;=0A=
=0A=
  pRDDNode =3D hb_rddFindNode( szDriver, &uiRddID );  // find the RDD=0A=
=0A=
  if ( !pRDDNode )=0A=
  {=0A=
    hb_errRT_DBCMD( EG_ARG, EDBCMD_EVAL_BADPARAMETER, NULL, "DBAPP" );=0A=
    return NULL;=0A=
  }=0A=
=0A=
/* Fill pInfo structure */=0A=
  memset( &pInfo, 0, sizeof(DBOPENINFO) );=0A=
  pInfo.uiArea =3D uiRddID;=0A=
  pInfo.abName =3D ( BYTE * )  hb_xgrab( _POSIX_PATH_MAX + 1 );=0A=
  strcpy( ( char * ) pInfo.abName, szFileName );=0A=
  pInfo.atomAlias =3D ( BYTE * ) "__TMPAREA";=0A=
  pInfo.fShared =3D !hb_set.HB_SET_EXCLUSIVE;=0A=
  pInfo.fReadonly =3D FALSE;=0A=
=0A=
/* get the new area node */=0A=
    pAreaNode =3D  hb_rddNewAreaNode( pRDDNode, uiRddID );=0A=
=0A=
/* check the extension */=0A=
    pFileName =3D hb_fsFNameSplit( szFileName );=0A=
    if( !pFileName->szExtension )=0A=
    {=0A=
       pFileExt =3D hb_itemPutC( NULL, "" );=0A=
       SELF_INFO( ( AREAP ) pAreaNode->pArea, DBI_TABLEEXT, pFileExt );=0A=
       strncat( (char *) pInfo.abName, hb_itemGetCPtr( pFileExt ), =
_POSIX_PATH_MAX -=0A=
                strlen( (char *) pInfo.abName ) );=0A=
       hb_itemRelease( pFileExt );=0A=
    }=0A=
    hb_xfree( pFileName );=0A=
=0A=
  if ( createIt )=0A=
  {=0A=
    PHB_ITEM pFieldArray, pItem, pData;=0A=
    USHORT uiFields, uiCount;=0A=
=0A=
/* get the table structure */=0A=
    pFieldArray =3D hb_itemNew( NULL );=0A=
    SELF_FIELDCOUNT( ( AREAP ) s_pCurrArea->pArea, &uiFields );=0A=
    hb_arrayNew( pFieldArray, 0 );=0A=
    pData =3D hb_itemNew( NULL );=0A=
    pItem =3D hb_itemNew( NULL );=0A=
    for( uiCount =3D 1; uiCount <=3D uiFields; uiCount++ )=0A=
    {=0A=
      hb_arrayNew( pItem, 4 );=0A=
      SELF_FIELDINFO( ( AREAP ) s_pCurrArea->pArea, uiCount, DBS_NAME, =
pData );=0A=
      hb_arraySet( pItem, 1, pData );=0A=
      SELF_FIELDINFO( ( AREAP ) s_pCurrArea->pArea, uiCount, DBS_TYPE, =
pData );=0A=
      hb_arraySet( pItem, 2, pData );=0A=
      SELF_FIELDINFO( ( AREAP ) s_pCurrArea->pArea, uiCount, DBS_LEN, =
pData );=0A=
      hb_arraySet( pItem, 3, pData );=0A=
      SELF_FIELDINFO( ( AREAP ) s_pCurrArea->pArea, uiCount, DBS_DEC, =
pData );=0A=
      hb_arraySet( pItem, 4, pData );=0A=
      hb_arrayAdd( pFieldArray, pItem );=0A=
    }=0A=
    hb_itemRelease( pItem );=0A=
    hb_itemRelease( pData );=0A=
=0A=
/* check for table existence and if true, drop it */=0A=
    tableItem =3D hb_itemNew( NULL );=0A=
    hb_itemPutCL( tableItem, szFileName, strlen(szFileName) );=0A=
    if( SELF_EXISTS( pRDDNode, tableItem, NULL ))=0A=
      SELF_DROP( pRDDNode, tableItem );=0A=
    hb_itemRelease( tableItem );=0A=
=0A=
/* now create a new table based on the current Area's record layout */=0A=
    ( ( AREAP ) pAreaNode->pArea )->atomAlias =3D hb_dynsymGet( ( char * =
) pInfo.atomAlias );=0A=
    if( SELF_CREATEFIELDS( ( AREAP ) pAreaNode->pArea, pFieldArray ) =
=3D=3D FAILURE )=0A=
    {=0A=
      SELF_RELEASE( ( AREAP ) pAreaNode->pArea );=0A=
      hb_xfree( pInfo.abName );=0A=
      hb_xfree( pAreaNode );=0A=
      hb_errRT_DBCMD( EG_ARG, EDBCMD_BADPARAMETER, NULL, "DBAPP" );=0A=
      return NULL;=0A=
    }=0A=
=0A=
    if( SELF_CREATE( ( AREAP ) pAreaNode->pArea, &pInfo ) =3D=3D FAILURE =
)=0A=
    {=0A=
      SELF_RELEASE( ( AREAP ) pAreaNode->pArea );=0A=
      hb_xfree( pInfo.abName );=0A=
      hb_xfree( pAreaNode );=0A=
      hb_errRT_DBCMD( EG_ARG, EDBCMD_BADPARAMETER, NULL, "DBAPP" );=0A=
      return NULL;=0A=
    }=0A=
    hb_itemRelease( pFieldArray );=0A=
    SELF_CLOSE( ( AREAP ) pAreaNode->pArea );=0A=
    SELF_RELEASE( ( AREAP ) pAreaNode->pArea );=0A=
    hb_xfree( pAreaNode );=0A=
=0A=
/* get a new area node for this AREA */=0A=
    pAreaNode =3D  hb_rddNewAreaNode( pRDDNode, uiRddID );=0A=
  }=0A=
=0A=
/* open it */=0A=
  if( SELF_OPEN( ( AREAP ) pAreaNode->pArea, &pInfo ) =3D=3D FAILURE )=0A=
  {=0A=
    SELF_RELEASE( ( AREAP ) pAreaNode->pArea );=0A=
    hb_xfree( pInfo.abName );=0A=
    hb_xfree( pAreaNode );=0A=
    hb_errRT_DBCMD( EG_OPEN, 0, NULL, "DBAPP" ); // Could not open it=0A=
    return NULL;=0A=
  }=0A=
  hb_xfree( pInfo.abName );=0A=
  return pAreaNode;=0A=
}=0A=
=0A=
// check if the field is on the Fields Array=0A=
static BOOL IsFieldIn( char * fieldName, PHB_ITEM pFields )=0A=
{=0A=
  USHORT i, uiFields =3D ( USHORT ) hb_arrayLen( pFields );=0A=
  for ( i=3D0; i<uiFields; i++ )=0A=
  {=0A=
    PHB_ITEM pField =3D pFields->item.asArray.value->pItems + i;=0A=
    if ( strcmp( fieldName, (char *)pField->item.asString.value ) =3D=3D =
0 )=0A=
      return TRUE;=0A=
  }=0A=
  return FALSE;=0A=
}=0A=
=0A=
// move the Field Data between areas by name=0A=
static void rddMoveFields( AREAP pAreaFrom, AREAP pAreaTo, PHB_ITEM =
pFields )=0A=
{=0A=
  USHORT   i;=0A=
  PHB_ITEM fieldValue;=0A=
=0A=
  fieldValue =3D hb_itemNew( NULL );=0A=
  for ( i=3D0 ; i<pAreaFrom->uiFieldCount; i++ )=0A=
  {=0A=
    // list or field in the list?=0A=
    if ( !pFields || IsFieldIn( (( PHB_DYNS )(pAreaFrom->lpFields + =
i)->sym )->pSymbol->szName,  pFields ))=0A=
    {=0A=
      SELF_GETVALUE( pAreaFrom, i+1, fieldValue );=0A=
      SELF_PUTVALUE( pAreaTo, i+1, fieldValue );=0A=
    }=0A=
  }=0A=
  hb_itemRelease( fieldValue );=0A=
}=0A=
=0A=
// move the records filtering if apropiate=0A=
static ERRCODE rddMoveRecords( char *cAreaFrom, char *cAreaTo, PHB_ITEM =
pFields,=0A=
                               PHB_ITEM pFor, PHB_ITEM pWhile, LONG =
lNext,=0A=
                               ULONG lRec, BOOL bRest, char *cDriver )=0A=
{=0A=
  char     * szFileName, * szDriver;=0A=
  LONG       toGo=3DlNext;=0A=
  BOOL       bFor, bWhile;=0A=
  BOOL       keepGoing=3DTRUE;=0A=
  AREAP      pAreaFrom;=0A=
  AREAP      pAreaTo;=0A=
  DBEVALINFO pEvalInfo;=0A=
  LPAREANODE pAreaRelease=3DNULL;=0A=
  LPAREANODE s_pCurrAreaSaved=3Ds_pCurrArea;=0A=
=0A=
  HB_SYMBOL_UNUSED( bRest );=0A=
=0A=
  if ( !s_pCurrArea )  // We need a current Area to APPEND TO or FROM=0A=
  {=0A=
     hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBAPP" );=0A=
     return EG_NOTABLE;=0A=
  }=0A=
=0A=
  // get the RDD Driver to use for the "other" Area=0A=
  if( cDriver )=0A=
     szDriver =3D cDriver;=0A=
  else=0A=
     szDriver =3D s_szDefDriver;=0A=
=0A=
  if( !cAreaFrom && ! cAreaTo )         // File is needed=0A=
  {=0A=
     hb_errRT_DBCMD( EG_ARG, EDBCMD_EVAL_BADPARAMETER, NULL, "DBAPP" );=0A=
     return EG_ARG;=0A=
  }=0A=
=0A=
  if ( cAreaTo ) // it's a COPY TO=0A=
  {=0A=
    pAreaRelease =3D GetTheOtherArea( szDriver, cAreaTo, TRUE );=0A=
    pAreaTo =3D (AREAP) pAreaRelease->pArea;=0A=
  }=0A=
  else=0A=
    pAreaTo =3D (AREAP) s_pCurrArea->pArea;=0A=
=0A=
=0A=
  if ( cAreaFrom ) // it's an APPEND FROM=0A=
  {                // make it current=0A=
    pAreaRelease =3D s_pCurrArea =3D GetTheOtherArea( szDriver, =
cAreaFrom, FALSE );=0A=
    pAreaFrom =3D  (AREAP) pAreaRelease->pArea;=0A=
  }=0A=
  else=0A=
    pAreaFrom =3D (AREAP) s_pCurrArea->pArea;=0A=
=0A=
  // or one or the other but necer none=0A=
  if ( !pAreaRelease )  // We need another Area to APPEND TO=0A=
  {=0A=
     hb_errRT_DBCMD( EG_NOTABLE, EDBCMD_NOTABLE, NULL, "DBAPP" );=0A=
     return EG_NOTABLE;=0A=
  }=0A=
=0A=
  if ( lRec > 0 )                 // only one record=0A=
    SELF_GOTO( pAreaFrom, lRec ); // go there=0A=
  else=0A=
  {=0A=
    if( !pWhile && !bRest )    // this two stay current=0A=
      SELF_GOTOP( pAreaFrom ); // else start from the top=0A=
  }=0A=
=0A=
  // move those records assuming we are positioned on one.=0A=
  while( keepGoing )=0A=
  {=0A=
    keepGoing =3D FALSE;=0A=
    if( !pAreaFrom->fEof ) // until eof or an evaluation failed=0A=
    {=0A=
       if( pWhile )=0A=
          bWhile =3D hb_itemGetL( hb_vmEvalBlock( pWhile ) );=0A=
       else=0A=
          bWhile =3D TRUE;=0A=
=0A=
       if( pFor )=0A=
          bFor =3D hb_itemGetL( hb_vmEvalBlock( pFor ) );=0A=
       else=0A=
          bFor =3D TRUE;=0A=
=0A=
      if( bWhile && bFor && (!lNext || toGo > 0 )) // candidate?=0A=
      {=0A=
        PHB_ITEM lpFields =3D pFields ? =
pFields->item.asArray.value->ulLen ? pFields : NULL : NULL;=0A=
        SELF_APPEND( ( AREAP ) pAreaTo, FALSE );   // put a new one on =
TO Area=0A=
        rddMoveFields( pAreaFrom, pAreaTo, lpFields ); // move the data=0A=
        if ( lRec =3D=3D 0 ) // only one record?=0A=
          keepGoing =3D TRUE;=0A=
        else=0A=
          continue;=0A=
      }=0A=
      toGo--;                     // one less to go=0A=
      SELF_SKIP( pAreaFrom, 1L ); // get the next one=0A=
    }=0A=
  }=0A=
=0A=
  s_pCurrArea =3D s_pCurrAreaSaved;  // set current WorkArea to initial =
state=0A=
=0A=
  // Close the File=0A=
  SELF_CLOSE( ( AREAP ) pAreaRelease->pArea );=0A=
  SELF_RELEASE( ( AREAP ) pAreaRelease->pArea );=0A=
  hb_xfree( pAreaRelease );=0A=
=0A=
  return SUCCESS;=0A=
}=0A=
=0A=
HB_FUNC( __DBAPP )=0A=
{=0A=
  if( ISCHAR( 1 ) )=0A=
  {=0A=
    rddMoveRecords(  hb_parc( 1 ),                /* File From */=0A=
                     NULL,                        /* TO current area */=0A=
                     hb_param( 2, HB_IT_ARRAY ),  /* Fields */=0A=
                     hb_param( 3, HB_IT_BLOCK ),  /* For */=0A=
                     hb_param( 4, HB_IT_BLOCK ),  /* While */=0A=
                     hb_parnl( 5 ),               /* Next */ /* Defaults =
to zero on bad type */=0A=
                     hb_parnl( 6 ),               /* Record */ /* =
Defaults to zero on bad type */=0A=
                     hb_parl( 7 ),                /* Rest */ /* Defaults =
to zero on bad type */=0A=
                     ISCHAR( 8 ) ? hb_parc( 8 ) : NULL ); /* RDD */=0A=
  }=0A=
}=0A=
=0A=
HB_FUNC( __DBCOPY )=0A=
{=0A=
  if( ISCHAR( 1 ) )=0A=
  {=0A=
    rddMoveRecords(  NULL,                        /* fro CURRENT Area */=0A=
                     hb_parc( 1 ),                /* To File */=0A=
                     hb_param( 2, HB_IT_ARRAY ),  /* Fields */=0A=
                     hb_param( 3, HB_IT_BLOCK ),  /* For */=0A=
                     hb_param( 4, HB_IT_BLOCK ),  /* While */=0A=
                     hb_parnl( 5 ),               /* Next */ /* Defaults =
to zero on bad type */=0A=
                     hb_parnl( 6 ),               /* Record */ /* =
Defaults to zero on bad type */=0A=
                     hb_parl( 7 ),                /* Rest */ /* Defaults =
to zero on bad type */=0A=
                     ISCHAR( 8 ) ? hb_parc( 8 ) : NULL ); /* RDD */=0A=
  }=0A=
}=0A=
=0A=
=0A=

------=_NextPart_000_002D_01C0C33C.61C30A00--


From harbour@matrixlist.com  Fri Apr 13 10:53:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Fri Apr 13 09:53:02 2001
Subject: [Harbour] Codebase 6.5
Message-ID: <3AD6C9ED.2056.8C57B8@localhost>

Good Morning,

  I bought Codebase 6.5 this morning, and I'll begin learning C with 
the project of adding Codebase 6.5 as native RDD for Harbour. I 
really don't know how much time it will take because I have to learn

    1- C language 
    2- Harbour Structure
    3- Codebase Structure

 And I have to work besides that ! ;)

 If someone can give me,guideline,clue,reading to do or anything 
that can help me with this task it will be appreciate !

  Sylvain 

From harbour@matrixlist.com  Fri Apr 13 11:00:03 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 13 10:00:03 2001
Subject: [Harbour] COPY TO bug
In-Reply-To: <003001c0c35d$f296fc50$c06410ac@jharrier>
Message-ID: <001101c0c421$38930d20$0f2aa8c0@antonio>

Hi Harrier,

Thanks a lot!

Don't you have CVS access yet ?

Antonio

> FIXED!
> someone please upload it to the CVS. I also noticed that
> RDDCPY.C is still there, somebody delete it from the CVS tree, 
> it's code is now on dbcmd.c



From harbour@matrixlist.com  Fri Apr 13 11:01:03 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 13 10:01:03 2001
Subject: [Harbour] Codebase 6.5
In-Reply-To: <3AD6C9ED.2056.8C57B8@localhost>
Message-ID: <001201c0c421$700f7540$0f2aa8c0@antonio>

Sylvain,

Excellent!!!

I guess you may use Alexander's ADS Harbour RDD as a skeleton 
to implement the CodeBase RDD for Harbour.

Antonio

>   I bought Codebase 6.5 this morning, and I'll begin learning C with 
> the project of adding Codebase 6.5 as native RDD for Harbour. I 
> really don't know how much time it will take because I have to learn
> 
>     1- C language 
>     2- Harbour Structure
>     3- Codebase Structure
> 
>  And I have to work besides that ! ;)
> 
>  If someone can give me,guideline,clue,reading to do or anything 
> that can help me with this task it will be appreciate !
> 
>   Sylvain 



From harbour@matrixlist.com  Fri Apr 13 11:05:04 2001
From: harbour@matrixlist.com (Bill Schuler)
Date: Fri Apr 13 10:05:04 2001
Subject: [Harbour] Codebase 6.5
Message-ID: <6FB4AC5552001344AF68C910629275BD06111A@fleegle.extendedsystems.com>

I am not sure of this.  The agreement that we made with the Harbour
community was that our source and template would not be used to generate a
competitive product.  

-----Original Message-----
From: Antonio Linares [mailto:alinares@fivetech.com]
Sent: Friday, April 13, 2001 7:56 AM
To: harbour@matrixlist.com
Subject: RE: [Harbour] Codebase 6.5


Sylvain,

Excellent!!!

I guess you may use Alexander's ADS Harbour RDD as a skeleton 
to implement the CodeBase RDD for Harbour.

Antonio

>   I bought Codebase 6.5 this morning, and I'll begin learning C with 
> the project of adding Codebase 6.5 as native RDD for Harbour. I 
> really don't know how much time it will take because I have to learn
> 
>     1- C language 
>     2- Harbour Structure
>     3- Codebase Structure
> 
>  And I have to work besides that ! ;)
> 
>  If someone can give me,guideline,clue,reading to do or anything 
> that can help me with this task it will be appreciate !
> 
>   Sylvain 


_______________________________________________
Harbour mailing list
Harbour@matrixlist.com
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org

From harbour@matrixlist.com  Fri Apr 13 11:19:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 13 10:19:02 2001
Subject: [Harbour] Codebase 6.5
In-Reply-To: <6FB4AC5552001344AF68C910629275BD06111A@fleegle.extendedsystems.com>
Message-ID: <001301c0c423$fd6aaca0$0f2aa8c0@antonio>

Bill,

Sorry, I didn't meant to start a competition...

I call it freedom :-)  The more choices Harbour offers,
more and more Harbour users will arrive.

Besides that, as far as I understand it, The Harbour ADS RDD
skeleton is an Alexander Kresin copyrighted work.

Antonio

> I am not sure of this.  The agreement that we made with the Harbour
> community was that our source and template would not be used to generate a
> competitive product.



From harbour@matrixlist.com  Fri Apr 13 11:33:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Fri Apr 13 10:33:02 2001
Subject: [Harbour] Codebase 6.5
In-Reply-To: <6FB4AC5552001344AF68C910629275BD06111A@fleegle.extendedsystems.com>
Message-ID: <3AD6D308.5617.AFECC4@localhost>

Bill,

> I am not sure of this.  The agreement that we made with the Harbour
> community was that our source and template would not be used to generate a
> competitive product.  

  Do you mean that you give source code to help Harbour crew 
addind ADS compatibility ?

  If so be sure that I'll respect that fact and I'll do it from scratch and 
only use source template included with Codebase !

  I really don't want to disturb the peace on the list and as I already 
write to you by private Email I have a HIGH respect for Extended 
system People and product !

  Best regards,

  Sylvain 

  Best regards,




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Fri Apr 13 11:34:01 2001
From: harbour@matrixlist.com (Bill Schuler)
Date: Fri Apr 13 10:34:01 2001
Subject: [Harbour] Codebase 6.5
Message-ID: <6FB4AC5552001344AF68C910629275BD06111C@fleegle.extendedsystems.com>

I understand what you are saying, I hope you understand our point of view.
We provided Alexander, Brian and Phil the source code to our Advantage RDD
under an NDA (Non Disclosure Agreement).  We are in the business of selling
our server software and have put any years of development and large amounts
money into it.  Is it right to take our technology and use it to build an
RDD that would be used to market/sale a competitive software package?  Would
you want someone to take your source code to build a product that would
compete against you? 

-----Original Message-----
From: Antonio Linares [mailto:alinares@fivetech.com]
Sent: Friday, April 13, 2001 8:14 AM
To: harbour@matrixlist.com
Subject: RE: [Harbour] Codebase 6.5


Bill,

Sorry, I didn't meant to start a competition...

I call it freedom :-)  The more choices Harbour offers,
more and more Harbour users will arrive.

Besides that, as far as I understand it, The Harbour ADS RDD
skeleton is an Alexander Kresin copyrighted work.

Antonio

> I am not sure of this.  The agreement that we made with the Harbour
> community was that our source and template would not be used 
to generate a
> competitive product.


_______________________________________________
Harbour mailing list
Harbour@matrixlist.com
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org

From harbour@matrixlist.com  Fri Apr 13 11:44:02 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Fri Apr 13 10:44:02 2001
Subject: [Harbour] Codebase 6.5
In-Reply-To: <6FB4AC5552001344AF68C910629275BD06111C@fleegle.extendedsystems.com>
Message-ID: <NCBBJKNMIDPJNLJCHCHIKENKGBAA.harbour@winfakt.com>

Bill,

But is does not mean that we cannot make a Codebase RDD connection. Not?

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)

> -----Oorspronkelijk bericht-----
> Van: harbour-admin@matrixlist.com
> [mailto:harbour-admin@matrixlist.com]Namens Bill Schuler
> Verzonden: vrijdag 13 april 2001 16:30
> Aan: 'harbour@matrixlist.com'
> Onderwerp: RE: [Harbour] Codebase 6.5
>
>
> I understand what you are saying, I hope you understand our point of view.
> We provided Alexander, Brian and Phil the source code to our Advantage RDD
> under an NDA (Non Disclosure Agreement).  We are in the business
> of selling
> our server software and have put any years of development and
> large amounts
> money into it.  Is it right to take our technology and use it to build an
> RDD that would be used to market/sale a competitive software
> package?  Would
> you want someone to take your source code to build a product that would
> compete against you?
>
> -----Original Message-----
> From: Antonio Linares [mailto:alinares@fivetech.com]
> Sent: Friday, April 13, 2001 8:14 AM
> To: harbour@matrixlist.com
> Subject: RE: [Harbour] Codebase 6.5
>
>
> Bill,
>
> Sorry, I didn't meant to start a competition...
>
> I call it freedom :-)  The more choices Harbour offers,
> more and more Harbour users will arrive.
>
> Besides that, as far as I understand it, The Harbour ADS RDD
> skeleton is an Alexander Kresin copyrighted work.
>
> Antonio
>
> > I am not sure of this.  The agreement that we made with the Harbour
> > community was that our source and template would not be used
> to generate a
> > competitive product.
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>
>


From harbour@matrixlist.com  Fri Apr 13 11:46:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 13 10:46:02 2001
Subject: [Harbour] Codebase 6.5
In-Reply-To: <6FB4AC5552001344AF68C910629275BD06111C@fleegle.extendedsystems.com>
Message-ID: <001401c0c427$bd4d43e0$0f2aa8c0@antonio>

Bill,

> We are in the business of selling our server software and have put 
> many years of development and large amounts money into it.

As you may know my company, FiveTech, has developed and sells
a GUI for Clipper, Xbase++ and Harbour for years.

I publically invited John Skelton (Clip4Win) here to join us
to turn Harbour into the best Clipper compatible compiler ever 
known.

I am sure much more GUIs will arrive, and we are not scared about
that. We do know we will have a market share based on the amount
of users that do love our GUI solution.

Software industry has been suffering too many years from
Microsoft uggly attitude and dirty competence. Lets contribute to
show the world there are other ways to build software.

Antonio 

> Is it right to take our technology and use it to build an
> RDD that would be used to market/sale a competitive software 
> package?  Would
> you want someone to take your source code to build a product that would
> compete against you? 
> 
> -----Original Message-----
> From: Antonio Linares [mailto:alinares@fivetech.com]
> Sent: Friday, April 13, 2001 8:14 AM
> To: harbour@matrixlist.com
> Subject: RE: [Harbour] Codebase 6.5
> 
> 
> Bill,
> 
> Sorry, I didn't meant to start a competition...
> 
> I call it freedom :-)  The more choices Harbour offers,
> more and more Harbour users will arrive.
> 
> Besides that, as far as I understand it, The Harbour ADS RDD
> skeleton is an Alexander Kresin copyrighted work.
> 
> Antonio
> 
> > I am not sure of this.  The agreement that we made with the Harbour
> > community was that our source and template would not be used 
> to generate a
> > competitive product.
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 


From harbour@matrixlist.com  Fri Apr 13 12:37:02 2001
From: harbour@matrixlist.com (Bill Schuler)
Date: Fri Apr 13 11:37:02 2001
Subject: [Harbour] Codebase 6.5
Message-ID: <6FB4AC5552001344AF68C910629275BD061560@fleegle.extendedsystems.com>

Antonio, this is all still a question.  I am not sure what information would
be provided from Alexander if any.  His template may not give away any of
our "trade secrets".  This is all still a question.  For that reason I
stated, I am not sure about this.  I would love to close my eyes and say
that we all should play nice together. You are right, it would make the
world a lot better .  Since we are dealing with the human species that is
not the case.  Not everyone out there looks at this the same way you and I
do.  There are developers in this world who would and will do anything they
can to make a buck. For this reason I have to make sure that our technology
is protected.  It is not a matter of ugly attitude it is business. 

Like you I have also worked and am still working with competitor. Brian of
GrafxSoft has a competitive product in the C/S world, yet we refer customers
to one another and he is even going to sale our software. On the other hand
I would not do this with another competitor who comes from the Clipper world
and know they would use every piece of information they could against us.
Once again, I hope you understand it is NOT personal it is business.  

 


-----Original Message-----
From: Antonio Linares [mailto:alinares@fivetech.com]
Sent: Friday, April 13, 2001 8:41 AM
To: harbour@matrixlist.com
Subject: RE: [Harbour] Codebase 6.5


Bill,

> We are in the business of selling our server software and have put 
> many years of development and large amounts money into it.

As you may know my company, FiveTech, has developed and sells
a GUI for Clipper, Xbase++ and Harbour for years.

I publically invited John Skelton (Clip4Win) here to join us
to turn Harbour into the best Clipper compatible compiler ever 
known.

I am sure much more GUIs will arrive, and we are not scared about
that. We do know we will have a market share based on the amount
of users that do love our GUI solution.

Software industry has been suffering too many years from
Microsoft uggly attitude and dirty competence. Lets contribute to
show the world there are other ways to build software.

Antonio 

> Is it right to take our technology and use it to build an
> RDD that would be used to market/sale a competitive software 
> package?  Would
> you want someone to take your source code to build a product 
that would
> compete against you? 
> 
> -----Original Message-----
> From: Antonio Linares [mailto:alinares@fivetech.com]
> Sent: Friday, April 13, 2001 8:14 AM
> To: harbour@matrixlist.com
> Subject: RE: [Harbour] Codebase 6.5
> 
> 
> Bill,
> 
> Sorry, I didn't meant to start a competition...
> 
> I call it freedom :-)  The more choices Harbour offers,
> more and more Harbour users will arrive.
> 
> Besides that, as far as I understand it, The Harbour ADS RDD
> skeleton is an Alexander Kresin copyrighted work.
> 
> Antonio
> 
> > I am not sure of this.  The agreement that we made with the Harbour
> > community was that our source and template would not be used 
> to generate a
> > competitive product.
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 

_______________________________________________
Harbour mailing list
Harbour@matrixlist.com
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org

From harbour@matrixlist.com  Fri Apr 13 12:45:04 2001
From: harbour@matrixlist.com (Bill Schuler)
Date: Fri Apr 13 11:45:04 2001
Subject: [Harbour] Codebase 6.5
Message-ID: <6FB4AC5552001344AF68C910629275BD061125@fleegle.extendedsystems.com>

I just read my own message again.  I am sorry for the lack of sentence
structure and grammar.  But the point should be clear.  

-----Original Message-----
From: Bill Schuler 
Sent: Friday, April 13, 2001 9:33 AM
To: 'harbour@matrixlist.com'
Subject: RE: [Harbour] Codebase 6.5


Antonio, this is all still a question.  I am not sure what 
information would
be provided from Alexander if any.  His template may not give 
away any of
our "trade secrets".  This is all still a question.  For that reason I
stated, I am not sure about this.  I would love to close my eyes and say
that we all should play nice together. You are right, it would make the
world a lot better .  Since we are dealing with the human 
species that is
not the case.  Not everyone out there looks at this the same 
way you and I
do.  There are developers in this world who would and will do 
anything they
can to make a buck. For this reason I have to make sure that 
our technology
is protected.  It is not a matter of ugly attitude it is business. 

Like you I have also worked and am still working with 
competitor. Brian of
GrafxSoft has a competitive product in the C/S world, yet we 
refer customers
to one another and he is even going to sale our software. On 
the other hand
I would not do this with another competitor who comes from the 
Clipper world
and know they would use every piece of information they could 
against us.
Once again, I hope you understand it is NOT personal it is business.  

 


-----Original Message-----
From: Antonio Linares [mailto:alinares@fivetech.com]
Sent: Friday, April 13, 2001 8:41 AM
To: harbour@matrixlist.com
Subject: RE: [Harbour] Codebase 6.5


Bill,

> We are in the business of selling our server software and have put 
> many years of development and large amounts money into it.

As you may know my company, FiveTech, has developed and sells
a GUI for Clipper, Xbase++ and Harbour for years.

I publically invited John Skelton (Clip4Win) here to join us
to turn Harbour into the best Clipper compatible compiler ever 
known.

I am sure much more GUIs will arrive, and we are not scared about
that. We do know we will have a market share based on the amount
of users that do love our GUI solution.

Software industry has been suffering too many years from
Microsoft uggly attitude and dirty competence. Lets contribute to
show the world there are other ways to build software.

Antonio 

> Is it right to take our technology and use it to build an
> RDD that would be used to market/sale a competitive software 
> package?  Would
> you want someone to take your source code to build a product 
that would
> compete against you? 
> 
> -----Original Message-----
> From: Antonio Linares [mailto:alinares@fivetech.com]
> Sent: Friday, April 13, 2001 8:14 AM
> To: harbour@matrixlist.com
> Subject: RE: [Harbour] Codebase 6.5
> 
> 
> Bill,
> 
> Sorry, I didn't meant to start a competition...
> 
> I call it freedom :-)  The more choices Harbour offers,
> more and more Harbour users will arrive.
> 
> Besides that, as far as I understand it, The Harbour ADS RDD
> skeleton is an Alexander Kresin copyrighted work.
> 
> Antonio
> 
> > I am not sure of this.  The agreement that we made with the Harbour
> > community was that our source and template would not be used 
> to generate a
> > competitive product.
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 

_______________________________________________
Harbour mailing list
Harbour@matrixlist.com
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org
_______________________________________________
Harbour mailing list
Harbour@matrixlist.com
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org

From harbour@matrixlist.com  Fri Apr 13 12:46:02 2001
From: harbour@matrixlist.com (Alejandro de Garate)
Date: Fri Apr 13 11:46:02 2001
Subject: [Harbour] new license
Message-ID: <F164mQ1WE9ql2RkeS8Y00000a17@hotmail.com>

David:
You have my aproval for the new Harbour licence. Sorry by the delay
Alejandro
_________________________________________________________________________
Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com.


From harbour@matrixlist.com  Fri Apr 13 12:48:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 13 11:48:02 2001
Subject: [Harbour] Codebase 6.5
In-Reply-To: <6FB4AC5552001344AF68C910629275BD061560@fleegle.extendedsystems.com>
Message-ID: <001501c0c430$51cc6d40$0f2aa8c0@antonio>

Bill,

I do understand and respect your point of view.


Antonio


From harbour@matrixlist.com  Fri Apr 13 13:19:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Fri Apr 13 12:19:02 2001
Subject: [Harbour] RE: ALASKA 1.6
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEDKDLAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAEDPDLAA.Ron@Profit-Master.com>

> This will work for EVERYONE, even if they call GetProc*() directly. It
> allows Upper or Lower Case, _int or int, and _word or word :-)

Should read:

   allows Upper or Lower Case, _int or int, and double or _double

Ron





From harbour@matrixlist.com  Fri Apr 13 13:25:04 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Fri Apr 13 12:25:04 2001
Subject: [Harbour] Re: Codebase 6.5
In-Reply-To: <6FB4AC5552001344AF68C910629275BD06111C@fleegle.extendedsystems.com>
References: <6FB4AC5552001344AF68C910629275BD06111C@fleegle.extendedsystems.com>
Message-ID: <2310467864.20010413202330@belacy.belgorod.su>

On  Friday, April 13, 2001, 18:29 Bill Schuler <bills@extendsys.com> wrote:

BS> I understand what you are saying, I hope you understand our point of view.
BS> We provided Alexander, Brian and Phil the source code to our Advantage RDD
BS> under an NDA (Non Disclosure Agreement).

 I don't sure what are you mean by 'source code to our Advantage RDD'
 ? What I got ( I'm really much obliged for it ) is two packages:
  1) ace32dlls - client API dlls, which are opened for free download
  now,
  2) ace32sdk - few help files about API and ace.h - header file for
  the ACE, which is included now to the Harbour distribution with your
  permission.
  As far as I understand, these files are available for all ADS
  registered users ( how could they write client side apps without
  knowledge of API ? ) and doesn't include any trade secrets.
  Please, correct me, if I'm wrong.
  

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Fri Apr 13 13:40:04 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Fri Apr 13 12:40:04 2001
Subject: [Harbour] COPY TO bug
In-Reply-To: <003001c0c35d$f296fc50$c06410ac@jharrier>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEDPDLAA.Ron@Profit-Master.com>

2001-04-13 09:40 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * source/compiler/harbour.c
     + Added TODO comment.

   * source/rdd/dbcmd.c
      Posted COPY TO fix for Harrier (default to TOP if REST or WHILE not
provided)


From harbour@matrixlist.com  Fri Apr 13 13:54:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Fri Apr 13 12:54:02 2001
Subject: [Harbour] Codebase 6.5
In-Reply-To: <6FB4AC5552001344AF68C910629275BD06111C@fleegle.extendedsystems.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKCEEADLAA.Ron@Profit-Master.com>

Dear Bill,

> I understand what you are saying, I hope you understand our point of view.
> We provided Alexander, Brian and Phil the source code to our Advantage RDD
> under an NDA (Non Disclosure Agreement).

Could you please clarify.

Did you provide Alexander, Brian, or Phil, the source code for your Clipper
RDD?

If not, could you please explain, which source did you provide, that relates
to Harbour's RDD, as opposed to ADS as the backend of ANY implementation.

BTW, it seems very odd that Phil will agree to accept any code under NDA,
knowing that such code will be used in an Open Source Project, where such
NDA can never be enforced, and is actually in conflict with such project
License Agreement.

I'm confident this is a small misunderstanding, and you can rest assured, no
one here will knowingly violate your trust.

Ron



From harbour@matrixlist.com  Fri Apr 13 16:34:06 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Fri Apr 13 15:34:06 2001
Subject: [Harbour] Codebase 6.5
In-Reply-To: <6FB4AC5552001344AF68C910629275BD06111A@fleegle.extendedsystems.com>; from bills@extendsys.com on Fri, Apr 13, 2001 at 08:00:32AM -0600
References: <6FB4AC5552001344AF68C910629275BD06111A@fleegle.extendedsystems.com>
Message-ID: <20010413202845.A5860@hagbard.davep.org>

On Fri, Apr 13, 2001 at 08:00:32AM -0600, Bill Schuler wrote:

> I am not sure of this. The agreement that we made with the Harbour
> community was that our source and template would not be used to generate a
> competitive product.

Where can we find such an agreement with the "harbour community" and who
exactly is the "harbour community"?

I'm worried and concerned that a free software project has apparently
compromised itself by making agreements with makers of non-free software
such that it inhibits the freedom to write code.

Perhaps you'd be kind enough to clarify what you're saying here?

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Fri Apr 13 16:34:26 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Fri Apr 13 15:34:26 2001
Subject: [Harbour] Codebase 6.5
In-Reply-To: <6FB4AC5552001344AF68C910629275BD06111C@fleegle.extendedsystems.com>; from bills@extendsys.com on Fri, Apr 13, 2001 at 08:29:44AM -0600
References: <6FB4AC5552001344AF68C910629275BD06111C@fleegle.extendedsystems.com>
Message-ID: <20010413203154.B5860@hagbard.davep.org>

On Fri, Apr 13, 2001 at 08:29:44AM -0600, Bill Schuler wrote:

> I understand what you are saying, I hope you understand our point of view.
> We provided Alexander, Brian and Phil the source code to our Advantage RDD
> under an NDA (Non Disclosure Agreement). We are in the business of selling
> our server software and have put any years of development and large
> amounts money into it. Is it right to take our technology and use it to
> build an RDD that would be used to market/sale a competitive software
> package? Would you want someone to take your source code to build a
> product that would compete against you?

The harbour ADS RDD, which is in the contrib section of harbour, is
copyright Alexander Kresin and is licenced under the GPL plus harbour
exception. Are you contesting Alexander's copyright? Are you really
suggesting that this item of free software can't actually be licenced as
free software?

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Fri Apr 13 21:25:03 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 13 20:25:03 2001
Subject: [Harbour] New Harbour License
In-Reply-To: <3AD6AE49.6420.69FB939@localhost>
References: <000701c0c331$a78ca4c0$0f2aa8c0@antonio> <200104121505.f3CF5V915387@smtp.parrett.net>
Message-ID: <200104140021.f3E0Kv906724@smtp.parrett.net>

** Reply to message from "Phil Barnett" <midnight@the-oasis.net> on
Fri, 13 Apr 2001 07:44:09 -0400

> > Anyone I haven't heard from by next week, I'll write to privately.
> 
> Would you like me to do that?

Thank you, I would greatly appreciate that!
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 13 23:54:02 2001
From: harbour@matrixlist.com (Phil Barnett)
Date: Fri Apr 13 22:54:02 2001
Subject: [Harbour] Codebase 6.5
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEEADLAA.Ron@Profit-Master.com>
References: <6FB4AC5552001344AF68C910629275BD06111C@fleegle.extendedsystems.com>
Message-ID: <3AD78372.7068.9E06334@localhost>

On 13 Apr 2001, at 9:58, Ron Pinkas wrote:

> Dear Bill,
> 
> > I understand what you are saying, I hope you understand our point of view.
> > We provided Alexander, Brian and Phil the source code to our Advantage RDD
> > under an NDA (Non Disclosure Agreement).
> 
> Could you please clarify.
> 
> Did you provide Alexander, Brian, or Phil, the source code for your Clipper
> RDD?

I never got it.


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@matrixlist.com  Sat Apr 14 02:51:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Sat Apr 14 01:51:02 2001
Subject: [Harbour] Eval Stack ReAlloc bugs revealed (JF, Ryszard, Antonio)
Message-ID: <000901c0c4a7$c56f4480$921a5e18@bh>

When our full FWH app got bigger and started having memory problems, the
first thing we were suspicious of was the dynamic stack.  But when we tried
to allocate a bigger stack and avoid the reallocation, nothing changed, and
we embarked on chasing every goose in North America.

But Sid had a wonderful moment of inspiration and traced stack activity
until he nailed down what was wrong.

In fact, with the stack bumped up from 200 to 620, we get no reallocations,
and the GPFs (most of which happened in __ClsNew) go away.

Before, a particularly complex routine would trigger over 20 stack
reallocations.  The app would continue for a bit, then gpf.

The reason we didn't catch this simple fix the first 3 times we tried it is
a mystery to me that I REALLY would appreciate an answer to if anyone has
any ideas:
At the top of estack .c is:
#if !defined( STACK_INITHB_ITEMS )
#define STACK_INITHB_ITEMS      200        // now 620 for me!
#endif

We changed the 200 to much higher values, and nothing changed.  So Sid
commented out the #if!defined test, and now it works!  But I have searched
my entire hard drive *.* for other references to STACK_INITHB_ITEMS, and it
is not defined ANYWHERE!  So why won't changing the value here take effect?
If there's a detail to Borland C 5.5 directives that I missed, please tell
me!

Anyway, it is apparent that stack reallocations are not fully stable.  If
anyone has ideas how to trace exactly what goes wrong at what times, I'll be
happy to donate my time and app to better identify the problem.


Brian Hays



From harbour@matrixlist.com  Sat Apr 14 03:25:04 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Sat Apr 14 02:25:04 2001
Subject: [Harbour] Eval Stack ReAlloc bugs revealed
Message-ID: <000b01c0c4ac$8a0b9dd0$921a5e18@bh>

An addendum:
To run stable, there's one other thing we have to do.  At startup, we have a
function that initializes all our GUI classes by calling the class function:
TWINDOW()
TCONTROL()
TMDIFRAME()
... etc.

Without this, __ClsNew() gets called in the middle of the complex routine (a
screen designer) and gpfs.

Brian Hays



From harbour@matrixlist.com  Sat Apr 14 05:15:03 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Sat Apr 14 04:15:03 2001
Subject: [Harbour] Eval Stack ReAlloc bugs revealed (JF, Ryszard, Antonio)
In-Reply-To: <000901c0c4a7$c56f4480$921a5e18@bh>
Message-ID: <000701c0c4ba$45422da0$0f2aa8c0@antonio>

Brian,

So you say that removing these two lines,
the stack is working ok ?

#if !defined( STACK_INITHB_ITEMS )      <<<<
#define STACK_INITHB_ITEMS      200
#endif                                  <<<<


Antonio



From harbour@matrixlist.com  Sat Apr 14 11:14:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Sat Apr 14 10:14:02 2001
Subject: [Harbour] Eval Stack ReAlloc bugs revealed (JF, Ryszard, Antonio)
References: <000701c0c4ba$45422da0$0f2aa8c0@antonio>
Message-ID: <000d01c0c4ed$f91eea60$921a5e18@bh>

Removing the directives AND bumping it to a larger number to avoid any
reallocations:
#define STACK_INITHB_ITEMS      620

Brian

----- Original Message -----
From: "Antonio Linares" <alinares@fivetech.com>
To: <harbour@matrixlist.com>
Sent: Saturday, April 14, 2001 1:09 AM
Subject: RE: [Harbour] Eval Stack ReAlloc bugs revealed (JF, Ryszard,
Antonio)


> Brian,
>
> So you say that removing these two lines,
> the stack is working ok ?
>
> #if !defined( STACK_INITHB_ITEMS )      <<<<
> #define STACK_INITHB_ITEMS      200
> #endif                                  <<<<
>
>
> Antonio
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@matrixlist.com  Sat Apr 14 12:37:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Sat Apr 14 11:37:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-14 08:40 UTC-0800
Message-ID: <00d001c0c4f9$9dc09a40$921a5e18@bh>

2001-04-14 08:40 UTC-0800 Brian Hays <bhays@abacuslaw.com>
   - source/rdd/rddcopy.c
      removed per Harrier--code was integrated into dbcmd.c


Brian Hays



From harbour@matrixlist.com  Sat Apr 14 18:44:02 2001
From: harbour@matrixlist.com (=?iso-8859-1?Q?Horacio_Rold=E1n?=)
Date: Sat Apr 14 17:44:02 2001
Subject: [Harbour] Borland C help!
Message-ID: <040601c0c52b$d2194170$f003a8c0@ksoft20000507>

Hi guys, I'm fixing some warnings of dbfcdx but I'm stuck with one of them.
The compiler complains about "Comparing signed and unsigned values" with two
vars defined as ULONG and USHORT.

I wrote this simple program to test it:

------------------------------
#include <stdio.h>
int main ()
{
  unsigned long uiVar1 = 1;
  unsigned short usVar2 = 2;
  if  ( uiVar1 < 0 )
    printf("Var1 < 0\n");
  if  ( usVar2 < 0 )
    printf("Var2 < 0\n");
  if  (uiVar1 < usVar2)
    printf("uiVar1 < uiVar2\n");
  if  (uiVar1 > usVar2)
    printf("uiVar1 > uiVar2\n");
  return 0;
}
---------------------------
bcc32 %cflags% pp.c
Borland C++ 5.5 for Win32 Copyright (c) 1993, 2000 Borland
pp.c:
Warning W8008 pp.c 9: Condition is always false in function main
Warning W8008 pp.c 9: Condition is always false in function main
Warning W8066 pp.c 10: Unreachable code in function main
Warning W8012 pp.c 11: Comparing signed and unsigned values in function main
Warning W8012 pp.c 13: Comparing signed and unsigned values in function main
Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
--------------------------

Note that line 7 is not complaining about the < 0 test and line 11 and 13
complains about signed and unsigned. (it's like uiVar is signed)

But if I change the definition of uiVar to :
unsigned int uiVar1 = 1;
the compilers add the following warning:
Warning W8008 pp.c 7: Condition is always false in function main
Warning W8008 pp.c 7: Condition is always false in function main
Warning W8066 pp.c 8: Unreachable code in function main

With this it says in line 7 and 9 that the vars are unsigned, but the
warnings in lines 11 and 13 about mixing signed and unsigned values ARE
still there !

Is it BCC specific or not?

Do you have some hints? or am I missing something ?


regards
Horacio


From harbour@matrixlist.com  Sun Apr 15 01:17:02 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Sun Apr 15 00:17:02 2001
Subject: [Harbour] Changelog 2001-04-15 00:05 GMT -3
Message-ID: <001301c0c562$f725f260$9cd4d7c8@luizguim>

    *Changelog
       *Renamed to ChangeLog.010 and started an new one
     *utils/hbdoc/*.prg
      utils/hbdoc/*.ch
        *updated to the new licence

Regards

Luiz Rafael Culik


From harbour@matrixlist.com  Sun Apr 15 03:52:03 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Sun Apr 15 02:52:03 2001
Subject: [Harbour] Borland C help!
In-Reply-To: <040601c0c52b$d2194170$f003a8c0@ksoft20000507>; from horacioroldan@usa.net on Sat, Apr 14, 2001 at 06:42:32PM -0300
References: <040601c0c52b$d2194170$f003a8c0@ksoft20000507>
Message-ID: <20010415071821.F5860@hagbard.davep.org>

On Sat, Apr 14, 2001 at 06:42:32PM -0300, Horacio Rold=E1n wrote:

> Hi guys, I'm fixing some warnings of dbfcdx but I'm stuck with one of
> them. The compiler complains about "Comparing signed and unsigned values"
> with two vars defined as ULONG and USHORT.

If you really do need to compare such different types then you can remove
the warning by casting.

>=20
> I wrote this simple program to test it:
>=20
> ------------------------------
> #include <stdio.h>
> int main ()
> {
>   unsigned long uiVar1 =3D 1;
>   unsigned short usVar2 =3D 2;
>   if  ( uiVar1 < 0 )
>     printf("Var1 < 0\n");
>   if  ( usVar2 < 0 )
>     printf("Var2 < 0\n");
>   if  (uiVar1 < usVar2)
>     printf("uiVar1 < uiVar2\n");
>   if  (uiVar1 > usVar2)
>     printf("uiVar1 > uiVar2\n");
>   return 0;
> }
> ---------------------------
> bcc32 %cflags% pp.c
> Borland C++ 5.5 for Win32 Copyright (c) 1993, 2000 Borland
> pp.c:
> Warning W8008 pp.c 9: Condition is always false in function main
> Warning W8008 pp.c 9: Condition is always false in function main
> Warning W8066 pp.c 10: Unreachable code in function main
> Warning W8012 pp.c 11: Comparing signed and unsigned values in function m=
ain
> Warning W8012 pp.c 13: Comparing signed and unsigned values in function m=
ain
> Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
> --------------------------
>=20
> Note that line 7 is not complaining about the < 0 test and line 11 and 13
> complains about signed and unsigned. (it's like uiVar is signed)

Actually, the warnings don't match useful lines in your example code. Did
you modify the example code after copying those warnings? I would guess that
the warning of signed and signed comes from the compiler auto-casting the
unsigned long down to a signed int or signed short or something like that.
You might want to consult your compiler's manual to see what it does in
these situations.

> But if I change the definition of uiVar to :
> unsigned int uiVar1 =3D 1;
> the compilers add the following warning:
> Warning W8008 pp.c 7: Condition is always false in function main
> Warning W8008 pp.c 7: Condition is always false in function main
> Warning W8066 pp.c 8: Unreachable code in function main

These errors make sense because you're testing to see if unsigned values are
less then zero which they obviously can't be.

> With this it says in line 7 and 9 that the vars are unsigned, but the
> warnings in lines 11 and 13 about mixing signed and unsigned values ARE
> still there !

Again, you're comparing different types of different sizes without actually
doing any casting. Chances are that you're falling foul of some auto-casting
rule that casts to a signed type.

> Is it BCC specific or not?

Most likely.

> Do you have some hints? or am I missing something ?

First I'd ask if it's actually necessary to compare values of such differing
types. Second, if it is necessary, use casting to say exactly what you mean
in the code.

--=20
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Sun Apr 15 11:23:02 2001
From: harbour@matrixlist.com (=?iso-8859-1?Q?Horacio_Rold=E1n?=)
Date: Sun Apr 15 10:23:02 2001
Subject: [Harbour] Borland C help!
References: <040601c0c52b$d2194170$f003a8c0@ksoft20000507> <20010415071821.F5860@hagbard.davep.org>
Message-ID: <000401c0c5b7$8268d7d0$f003a8c0@ksoft20000507>

Thanks, Dave.
>>Actually, the warnings don't match useful lines in your example code. Did
>>you modify the example code after copying those warnings?
Sorry, my fault. It's missing one blank line at the top!

>>These errors make sense because you're testing to see if unsigned values
are
>>less then zero which they obviously can't be.
The "< 0" test that I did was to test the compiler warnings especifically
(to see if the compiler print the warnings).
I still don't understand why if the variable is defined as "unsigned long"
it doesn't print any warning about the "<0", but if I define the variable as
"unsigned int" it does.

>>Chances are that you're falling foul of some auto-casting
>>rule that casts to a signed type.
I think that you are right here but I think that is not the expected
behavior. I believed that an unsigned short would be expanded as unsigned
long to compare with another unsigned long, but it seems to be expanded as a
signed long or something. I'll better do the castings.

>>First I'd ask if it's actually necessary to compare values of such
differing
>>types. Second, if it is necessary, use casting to say exactly what you
mean
>>in the code.
The types are in the structs of the dbfcdx defined by Bruno. The compare is
safe as far as I see. I was looking to change the types definitions but I
posponed that to double check for side effects not desired.


Thanks


----- Original Message -----
From: "Dave Pearson" <davep@davep.org>
To: <harbour@lists.harbour-project.org>
Sent: Sunday, April 15, 2001 3:18 AM
Subject: Re: [Harbour] Borland C help!


On Sat, Apr 14, 2001 at 06:42:32PM -0300, Horacio Roldn wrote:

> Hi guys, I'm fixing some warnings of dbfcdx but I'm stuck with one of
> them. The compiler complains about "Comparing signed and unsigned values"
> with two vars defined as ULONG and USHORT.

If you really do need to compare such different types then you can remove
the warning by casting.

>
> I wrote this simple program to test it:
>
> ------------------------------
> #include <stdio.h>
> int main ()
> {
>   unsigned long uiVar1 = 1;
>   unsigned short usVar2 = 2;
>   if  ( uiVar1 < 0 )
>     printf("Var1 < 0\n");
>   if  ( usVar2 < 0 )
>     printf("Var2 < 0\n");
>   if  (uiVar1 < usVar2)
>     printf("uiVar1 < uiVar2\n");
>   if  (uiVar1 > usVar2)
>     printf("uiVar1 > uiVar2\n");
>   return 0;
> }
> ---------------------------
> bcc32 %cflags% pp.c
> Borland C++ 5.5 for Win32 Copyright (c) 1993, 2000 Borland
> pp.c:
> Warning W8008 pp.c 9: Condition is always false in function main
> Warning W8008 pp.c 9: Condition is always false in function main
> Warning W8066 pp.c 10: Unreachable code in function main
> Warning W8012 pp.c 11: Comparing signed and unsigned values in function
main
> Warning W8012 pp.c 13: Comparing signed and unsigned values in function
main
> Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
> --------------------------
>
> Note that line 7 is not complaining about the < 0 test and line 11 and 13
> complains about signed and unsigned. (it's like uiVar is signed)

Actually, the warnings don't match useful lines in your example code. Did
you modify the example code after copying those warnings? I would guess that
the warning of signed and signed comes from the compiler auto-casting the
unsigned long down to a signed int or signed short or something like that.
You might want to consult your compiler's manual to see what it does in
these situations.

> But if I change the definition of uiVar to :
> unsigned int uiVar1 = 1;
> the compilers add the following warning:
> Warning W8008 pp.c 7: Condition is always false in function main
> Warning W8008 pp.c 7: Condition is always false in function main
> Warning W8066 pp.c 8: Unreachable code in function main

These errors make sense because you're testing to see if unsigned values are
less then zero which they obviously can't be.

> With this it says in line 7 and 9 that the vars are unsigned, but the
> warnings in lines 11 and 13 about mixing signed and unsigned values ARE
> still there !

Again, you're comparing different types of different sizes without actually
doing any casting. Chances are that you're falling foul of some auto-casting
rule that casts to a signed type.

> Is it BCC specific or not?

Most likely.

> Do you have some hints? or am I missing something ?

First I'd ask if it's actually necessary to compare values of such differing
types. Second, if it is necessary, use casting to say exactly what you mean
in the code.

--
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/
_______________________________________________
Harbour mailing list
Harbour@matrixlist.com
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org



From harbour@matrixlist.com  Sun Apr 15 15:36:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Sun Apr 15 14:36:01 2001
Subject: [Harbour] Borland C help!
References: <040601c0c52b$d2194170$f003a8c0@ksoft20000507> <20010415071821.F5860@hagbard.davep.org>
Message-ID: <001101c0c5db$c456b3a0$921a5e18@bh>

Dave:
Do you have any ideas why the #if !defined in estack.c ignores changes to
the value for STACK_INITHB_ITEMS?

#if !defined( STACK_INITHB_ITEMS )
#define STACK_INITHB_ITEMS      200        // change to 600 is ignored
#endif

Brian

----- Original Message -----
From: "Dave Pearson" <davep@davep.org>
To: <harbour@lists.harbour-project.org>
Sent: Saturday, April 14, 2001 11:18 PM
Subject: Re: [Harbour] Borland C help!


On Sat, Apr 14, 2001 at 06:42:32PM -0300, Horacio Roldn wrote:

> Hi guys, I'm fixing some warnings of dbfcdx but I'm stuck with one of
> them. The compiler complains about "Comparing signed and unsigned values"
> with two vars defined as ULONG and USHORT.

If you really do need to compare such different types then you can remove
the warning by casting.

>
> I wrote this simple program to test it:
>
> ------------------------------
> #include <stdio.h>
> int main ()
> {
>   unsigned long uiVar1 = 1;
>   unsigned short usVar2 = 2;
>   if  ( uiVar1 < 0 )
>     printf("Var1 < 0\n");
>   if  ( usVar2 < 0 )
>     printf("Var2 < 0\n");
>   if  (uiVar1 < usVar2)
>     printf("uiVar1 < uiVar2\n");
>   if  (uiVar1 > usVar2)
>     printf("uiVar1 > uiVar2\n");
>   return 0;
> }
> ---------------------------
> bcc32 %cflags% pp.c
> Borland C++ 5.5 for Win32 Copyright (c) 1993, 2000 Borland
> pp.c:
> Warning W8008 pp.c 9: Condition is always false in function main
> Warning W8008 pp.c 9: Condition is always false in function main
> Warning W8066 pp.c 10: Unreachable code in function main
> Warning W8012 pp.c 11: Comparing signed and unsigned values in function
main
> Warning W8012 pp.c 13: Comparing signed and unsigned values in function
main
> Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
> --------------------------
>
> Note that line 7 is not complaining about the < 0 test and line 11 and 13
> complains about signed and unsigned. (it's like uiVar is signed)

Actually, the warnings don't match useful lines in your example code. Did
you modify the example code after copying those warnings? I would guess that
the warning of signed and signed comes from the compiler auto-casting the
unsigned long down to a signed int or signed short or something like that.
You might want to consult your compiler's manual to see what it does in
these situations.

> But if I change the definition of uiVar to :
> unsigned int uiVar1 = 1;
> the compilers add the following warning:
> Warning W8008 pp.c 7: Condition is always false in function main
> Warning W8008 pp.c 7: Condition is always false in function main
> Warning W8066 pp.c 8: Unreachable code in function main

These errors make sense because you're testing to see if unsigned values are
less then zero which they obviously can't be.

> With this it says in line 7 and 9 that the vars are unsigned, but the
> warnings in lines 11 and 13 about mixing signed and unsigned values ARE
> still there !

Again, you're comparing different types of different sizes without actually
doing any casting. Chances are that you're falling foul of some auto-casting
rule that casts to a signed type.

> Is it BCC specific or not?

Most likely.

> Do you have some hints? or am I missing something ?

First I'd ask if it's actually necessary to compare values of such differing
types. Second, if it is necessary, use casting to say exactly what you mean
in the code.

--
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/
_______________________________________________
Harbour mailing list
Harbour@matrixlist.com
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org



From harbour@matrixlist.com  Sun Apr 15 16:21:01 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Sun Apr 15 15:21:01 2001
Subject: [Harbour] Borland C help!
In-Reply-To: <001101c0c5db$c456b3a0$921a5e18@bh>
Message-ID: <000301c0c5e0$62372060$0f2aa8c0@antonio>

Brian,

I have been doing some tests here and it works ok.

I really don't know what may have happened.


Antonio

> Do you have any ideas why the #if !defined in estack.c ignores changes to
> the value for STACK_INITHB_ITEMS?
> 
> #if !defined( STACK_INITHB_ITEMS )
> #define STACK_INITHB_ITEMS      200        // change to 600 is ignored
> #endif



From harbour@matrixlist.com  Sun Apr 15 16:33:02 2001
From: harbour@matrixlist.com (Biju George George)
Date: Sun Apr 15 15:33:02 2001
Subject: [Harbour] About Harbor Porject
Message-ID: <3ADA8697.D5A6AD0E@emirates.net.ae>

Sir, I am very intresting to know about the open source code clipper
developments
Please help in this reagres

Thanks and regds
Biju


From harbour@matrixlist.com  Sun Apr 15 17:20:02 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Sun Apr 15 16:20:02 2001
Subject: [Harbour] About Harbor Porject
References: <3ADA8697.D5A6AD0E@emirates.net.ae>
Message-ID: <006401c0c5e9$88e90bc0$a0d4d7c8@luizguim>

Dear Friend


> Sir, I am very intresting to know about the open source code clipper
> developments
> Please help in this reagres

Development Status. Alpha .36
Compiler supported Bcc32/MSVC/DJGPP/RSXNT/GCC
Platform supported Win32,Dos32,Linux

What more you like to know

Regards

Luiz Rafael Culik


From harbour@matrixlist.com  Sun Apr 15 20:14:02 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Sun Apr 15 19:14:02 2001
Subject: [Harbour] Looking for HELP
Message-ID: <001b01c0c601$bffa6920$edd4d7c8@luizguim>

Ron.

Here is the declaration for the GET class.

Btw , does the Exported and Protected data be listed

Regards

Luiz Rafael Culik

Below the list
   _DECL s_GET_01     = { "ASSIGN"       , 'S', 0         , (BYTE*)NULL
, NULL     , NULL         , NULL            };
   _DECL s_GET_02     = { "COLORDISP"    , 'S', 1         , (BYTE*)"\x9d"
, &s_GET   , NULL         , &s_GET_01       };

  _DECL s_GET_03     = { "DISPLAY"       , 'S', 1         , (BYTE*)"\xa6"
, &s_GET   , NULL         , &s_GET_02       };
  _DECL s_GET_04     = { "KILLFOCUS"     , 'S', 0       , (BYTE*)NULL 
, &s_GET   , NULL         , &s_GET_03       };
  _DECL s_GET_05     = { "PARSEPICT"     , 'C', 1       , (BYTE*)"C"
, &s_GET   , NULL         , &s_GET_04       };
  _DECL s_GET_06     = { "RESET"         , 'S', 0           , (BYTE*)NULL
, &s_GET   , NULL         , &s_GET_05       };
  _DECL s_GET_07     = { "SETFOCUS"      , 'S', 0           , (BYTE*)NULL
, &s_GET   , NULL         , &s_GET_06       };
  _DECL s_GET_08     = { "UNDO"         , 'S', 0           , (BYTE*)NULL
, &s_GET   , NULL         , &s_GET_07       };
  _DECL s_GET_09     = { "UNTRANSFORM"  , 'S', 1           , (BYTE*)"\x9d"
, &s_GET   , NULL         , &s_GET_08       };
  _DECL s_GET_10     = { "UPDATEBUFFER"  , 'S', 0           , (BYTE*)NULL
, &s_GET   , NULL         , &s_GET_09       };
  _DECL s_GET_11     = { "VARGET"  , ' ', 0           , (BYTE*)NULL
, &s_GET   , NULL         , &s_GET_10       };
  _DECL s_GET_12     = { "VARPUT"  , ' ', 1           , (BYTE*)" "
, &s_GET   , NULL         , &s_GET_11       };
  _DECL s_GET_13     = { "END"  , 'S', 0           , (BYTE*)NULL
, &s_GET   , NULL         , &s_GET_12       };
  _DECL s_GET_14     = { "HOME"  , 'S', 0           , (BYTE*)NULL
, &s_GET   , NULL         , &s_GET_13       };
  _DECL s_GET_15     = { "LEFT"  , 'S', 1           , (BYTE*)"\xa6"
, &s_GET   , NULL         , &s_GET_14       };
  _DECL s_GET_16     = { "RIGHT"  , 'S', 1           , (BYTE*)"\xa6"
, &s_GET   , NULL         , &s_GET_15       };

  _DECL s_GET_17     = { "TODECPOS"  , ' ', 0           , (BYTE*)"L"
, &s_GET   , NULL         , &s_GET_16       };
                                                                       
  _DECL s_GET_18     = { "WORDLEFT"  , 'S', 1           , (BYTE*)"\xa6"
, &s_GET   , NULL         , &s_GET_17       };

  _DECL s_GET_19     = { "WORDRIGHT"  , 'S', 1           , (BYTE*)"\xa6"
, &s_GET   , NULL         , &s_GET_18       };
  _DECL s_GET_20     = { "BACKSPACE"  , 'S', 1           , (BYTE*)"\xa6"
, &s_GET   , NULL         , &s_GET_19       };
  _DECL s_GET_21     = { "DELETE"  , 'S', 1           , (BYTE*)"\xa6"
, &s_GET   , NULL         , &s_GET_20       };
  _DECL s_GET_22     = { "DELEND"  , 'S', 0           , (BYTE*)NULL
, &s_GET   , NULL         , &s_GET_21       };
  _DECL s_GET_23     = { "DELLEFT"  , 'S', 0           , (BYTE*)NULL
, &s_GET   , NULL         , &s_GET_22       };
  _DECL s_GET_24     = { "DELRIGHT"  , 'S', 0           , (BYTE*)NULL
, &s_GET   , NULL         , &s_GET_23       };
  _DECL s_GET_25     = { "DELWORDLEFT"  , 'S', 0           , (BYTE*)NULL
, &s_GET   , NULL         , &s_GET_24       };

  _DECL s_GET_26     = { "DELWORDRIGHT"  , 'S', 0           , (BYTE*)NULL
, &s_GET   , NULL         , &s_GET_25       };

  _DECL s_GET_27     = { "INSERT"  , 'S', 1           , (BYTE*)"C"
, &s_GET   , NULL         , &s_GET_26       };

  _DECL s_GET_28     = { "OVERSTRIKE"  , 'S', 1           , (BYTE*)"C"
, &s_GET   , NULL         , &s_GET_27       };
  _DECL s_GET_29     = { "DELETEALL"  , 'S', 0           , (BYTE*)NULL
, &s_GET   , NULL         , &s_GET_28       };
  _DECL s_GET_30     = { "ISEDITABLE"  , 'L', 1           , (BYTE*)"N"
, &s_GET   , NULL         , &s_GET_29       };
  _DECL s_GET_31     = { "INPUT"  , 'C', 0           , (BYTE*)"C"
, &s_GET   , NULL         , &s_GET_30       };
  _DECL s_GET_32     = { "PUTMASK"  , 'C', 2           , (BYTE*)"CL"
, &s_GET   , NULL         , &s_GET_31       };
  _DECL s_GET_33     = { "HASSCROLL"  , 'L', 0           , (BYTE*)NULL
, &s_GET   , NULL         , &s_GET_32       };


From harbour@matrixlist.com  Mon Apr 16 03:25:04 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Mon Apr 16 02:25:04 2001
Subject: [Harbour] Borland C help!
In-Reply-To: <001101c0c5db$c456b3a0$921a5e18@bh>; from bhays@abacuslaw.com on Sun, Apr 15, 2001 at 11:42:04AM -0700
References: <040601c0c52b$d2194170$f003a8c0@ksoft20000507> <20010415071821.F5860@hagbard.davep.org> <001101c0c5db$c456b3a0$921a5e18@bh>
Message-ID: <20010416071121.P5860@hagbard.davep.org>

On Sun, Apr 15, 2001 at 11:42:04AM -0700, Brian Hays wrote:
> Dave:
> Do you have any ideas why the #if !defined in estack.c ignores changes to
> the value for STACK_INITHB_ITEMS?
> 
> #if !defined( STACK_INITHB_ITEMS )
> #define STACK_INITHB_ITEMS      200        // change to 600 is ignored
> #endif

I don't understand your question. What do you mean by "ignores changes"?

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Mon Apr 16 04:05:03 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Mon Apr 16 03:05:03 2001
Subject: [Harbour] Eval Stack ReAlloc bugs revealed
Message-ID: <005801c0c644$64cc4bc0$921a5e18@bh>

Antonio, JF, et al.:

I have to apologize.
I was sure I had duplicated what Sid had told me twice, but apparently what
I reported as the "addendum" is the whole fix.  I don't have any evidence
right now that stack re-allocations cause a problem--but it's still a
suspect.

There is no mystery about the #if !defined( STACK_INITHB_ITEMS )
the fact is, bumping it to 620 DID eliminate any calls for reallocation (in
hb_StackPush), but that did not remove our gpfs.
What DID remove the gpfs is making sure that absolutely ALL GUI classes are
created at startup in my InitAllClasses function.  This eliminates calls to
__ClsNew later.  In my previous test, TSplitter had not been included, and I
gpf'ed in __ClsNew(). When TSplitter got added to the list in
InitAllClasses, I don't gpf.

So this is what has been confirmed:  __ClsNew will gpf if it is called to
create any of the controls inherited from my TWindow class AFTER my
ScreenDesigner routine has executed.   (There are other places in the app
that have gpfs, but this is the most obvious and easily reproduced).
Here's what's suspicious about these circumstances:
1) The ScreenDesigner does cause 20 stack reallocs with default settings.
Though it is a significant routine, this seems excessive.  I doubt that
functions+parameters are called 400 deep (20x20 items per realloc).
2) It will always blow up in ClsNew if a TWindow-derived class is created
later.  All these classes have a long list of inherited DATA and METHODs, so
ClsNew has a lot of work to do. The uiLimit was over 1400 for one class to
loop its Methods.  Other smaller non-window classes *can* be initialized
without error.

I am embarking on a test of regular stack dumps to see where exactly it
tries to go so deep.

Brian Hays



From harbour@matrixlist.com  Mon Apr 16 04:53:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Mon Apr 16 03:53:02 2001
Subject: [Harbour] Looking for HELP
In-Reply-To: <001b01c0c601$bffa6920$edd4d7c8@luizguim>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEEIDLAA.Ron@Profit-Master.com>

Luiz

> Here is the declaration for the GET class.

Thanks a lot!

> Btw , does the Exported and Protected data be listed

Yes.

Ron


From harbour@matrixlist.com  Mon Apr 16 05:29:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Mon Apr 16 04:29:02 2001
Subject: [Harbour] Borland C help!
References: <040601c0c52b$d2194170$f003a8c0@ksoft20000507> <20010415071821.F5860@hagbard.davep.org> <001101c0c5db$c456b3a0$921a5e18@bh> <20010416071121.P5860@hagbard.davep.org>
Message-ID: <006401c0c650$33b9ecc0$921a5e18@bh>

> I don't understand your question. What do you mean by "ignores changes"?

Sorry, Dave.  I had posted an earlier msg that explained it, but, as
described in my last msg, the observation was erroneous.  It had seemed like
the #if !defined ... in estack was performing as if the constant *had* been
defined before, even though no other references could be found.  In fact, it
works as advertised.

Brian


From harbour@matrixlist.com  Mon Apr 16 10:19:02 2001
From: harbour@matrixlist.com (Timur Khusainov)
Date: Mon Apr 16 09:19:02 2001
Subject: [Harbour] clippper tools
References: <000901c0c12c$26293350$921a5e18@bh> <200104092029.f39KTDP23067@smtp.parrett.net> <200104101745.f3AHjEP20833@smtp.parrett.net>
Message-ID: <002401c0c678$cdeab4a0$8799e6c3@homercv2zejwvn>

I would very appreciate if anybody tell me where I can find these string
clipper tools functions.

> ** Reply to message from Martin Vogel
> <martin.vogel@urz.uni-heidelberg.de> on Tue, 10 Apr 2001 12:02:44 +0200
>
> > I have finished the string functions but I still need some time to test
them (lot of work in my
> > "real" job at the moment). Is it possible to have a CVS account so that
I can upload the files after
> > testing (my sourceforge account name is "mbirdyg") ?
>
> You are now a Harbour Project Developer. ...


From harbour@matrixlist.com  Mon Apr 16 11:06:02 2001
From: harbour@matrixlist.com (Juan Agustin Barriga)
Date: Mon Apr 16 10:06:02 2001
Subject: [Harbour] COPY TO bugs
References: <002201c0c3de$f13a74f0$921a5e18@bh>
Message-ID: <00b201c0c67e$0eeebdc0$c06410ac@jharrier>

Maybe there is some ignorance in my part here!, COPY TO is creating an EXACT
clone of the source file, and then it is moving only the fields on the
FIELDS clause.  I have just made a test with Clipper and SURE IT's WRONG!.
So, I'll make the necesary corrections...

Regards
Harrier

----- Original Message -----
From: "Brian Hays" <bhays@abacuslaw.com>
To: "harbour dev list" <harbour@matrixlist.com>
Sent: Friday, April 13, 2001 1:59 AM
Subject: [Harbour] COPY TO bugs


> Harrier:
>
> COPY TO  with the FIELDS clause creates blank records of the full
structure,
> with all fields blank.
>
> Is there something that needs to be happening in the target rdd for this
to
> work right (IOW, is this something I should fix on the ADS side)?
>
> Brian Hays
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@matrixlist.com  Mon Apr 16 11:53:02 2001
From: harbour@matrixlist.com (Juan Agustin Barriga)
Date: Mon Apr 16 10:53:02 2001
Subject: [Harbour] COPY TO bugs
References: <002201c0c3de$f13a74f0$921a5e18@bh>
Message-ID: <00dd01c0c684$a8b76d70$c06410ac@jharrier>

This is a multi-part message in MIME format.

------=_NextPart_000_00DA_01C0C663.1DD6EB20
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

After some swetting, here it is. Now the TO table is created only with the
FIELDS (if any). Hope it works fine now. My fault for not being a
ClipperHead!

Please upload to CVS due to the fact I am not in there (yet).

Regards
Harrier

----- Original Message -----
From: "Brian Hays" <bhays@abacuslaw.com>
To: "harbour dev list" <harbour@matrixlist.com>
Sent: Friday, April 13, 2001 1:59 AM
Subject: [Harbour] COPY TO bugs


> Harrier:
>
> COPY TO  with the FIELDS clause creates blank records of the full
structure,
> with all fields blank.
>
> Is there something that needs to be happening in the target rdd for this
to
> work right (IOW, is this something I should fix on the ADS side)?
>
> Brian Hays
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>

------=_NextPart_000_00DA_01C0C663.1DD6EB20
Content-Type: application/x-zip-compressed;
	name="dbcmd.zip"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="dbcmd.zip"

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

------=_NextPart_000_00DA_01C0C663.1DD6EB20--


From harbour@matrixlist.com  Mon Apr 16 12:03:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr 16 11:03:02 2001
Subject: [Harbour] Borland C help!
In-Reply-To: <040601c0c52b$d2194170$f003a8c0@ksoft20000507>
Message-ID: <200104161458.f3GEwr901005@smtp.parrett.net>

** Reply to message from Horacio_Rold=E1n <horacioroldan@usa.net> on Sat,
14 Apr 2001 18:42:32 -0300

With GCC, I only get a warning about line 8, due to the limited range
of variable.

> The compiler complains about "Comparing signed and unsigned values" with t=
wo
> vars defined as ULONG and USHORT.

With BCC32, the unsigned short variable is incorrectly promoted to long
before the comparison, instead of getting promoted to unsigned long.

> But if I change the definition of uiVar to :
> unsigned int uiVar1 =3D 1;

And now with BCC32, the unsigned short is incorrectly promoted to int
before the comparison, instead of getting promoted to unsigned int. (GCC
still only warns about line 8.)

> Is it BCC specific or not?

It appears to be a compiler bug specific to Borland C 5.5 (and possibly
earlier, but not as early as Borland C 3.1, which correctly promotes the
unsigned short variable to unsigned long or unsigned int for the
comparisons).
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr 16 12:08:03 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr 16 11:08:03 2001
Subject: [Harbour] clippper tools
In-Reply-To: <002401c0c678$cdeab4a0$8799e6c3@homercv2zejwvn>
References: <000901c0c12c$26293350$921a5e18@bh> <200104092029.f39KTDP23067@smtp.parrett.net>
 <200104101745.f3AHjEP20833@smtp.parrett.net>
Message-ID: <200104161504.f3GF4G901532@smtp.parrett.net>

** Reply to message from "Timur Khusainov" <timur4work@yahoo.com> on
Mon, 16 Apr 2001 16:26:10 +0300

> I would very appreciate if anybody tell me where I can find these string
> clipper tools functions.

They are not available yet, because Martin is still working on them.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr 16 13:11:02 2001
From: harbour@matrixlist.com (=?iso-8859-1?Q?Horacio_Rold=E1n?=)
Date: Mon Apr 16 12:11:02 2001
Subject: [Harbour] Borland C help!
References: <200104161458.f3GEwr901005@smtp.parrett.net>
Message-ID: <002801c0c68f$ae039ff0$f003a8c0@ksoft20000507>

David, thanks a lot!
The bugs in a compiler sometimes get one crazy.

I remember years ago, with BCC (don't remember if it was 3.1 or 2) the
pre-increment operator sometimes was compiled as a post-increment. It was
dificult to trace that and since then I got used to split operations
(avoiding the use of the return value of the increment).

BTW, is there a list of known bugs for compilers on the net?

regards
Horacio
----- Original Message -----
From: "David G. Holm" <dholm@jsd-llc.com>
To: <harbour@matrixlist.com>
Sent: Monday, April 16, 2001 12:01 PM
Subject: Re: [Harbour] Borland C help!


** Reply to message from Horacio_Roldn <horacioroldan@usa.net> on Sat,
14 Apr 2001 18:42:32 -0300

With GCC, I only get a warning about line 8, due to the limited range
of variable.

> The compiler complains about "Comparing signed and unsigned values" with
two
> vars defined as ULONG and USHORT.

With BCC32, the unsigned short variable is incorrectly promoted to long
before the comparison, instead of getting promoted to unsigned long.

> But if I change the definition of uiVar to :
> unsigned int uiVar1 = 1;

And now with BCC32, the unsigned short is incorrectly promoted to int
before the comparison, instead of getting promoted to unsigned int. (GCC
still only warns about line 8.)

> Is it BCC specific or not?

It appears to be a compiler bug specific to Borland C 5.5 (and possibly
earlier, but not as early as Borland C 3.1, which correctly promotes the
unsigned short variable to unsigned long or unsigned int for the
comparisons).
--
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.
_______________________________________________
Harbour mailing list
Harbour@matrixlist.com
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org



From harbour@matrixlist.com  Mon Apr 16 13:34:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr 16 12:34:02 2001
Subject: [Harbour] Borland C help!
In-Reply-To: <002801c0c68f$ae039ff0$f003a8c0@ksoft20000507>
References: <200104161458.f3GEwr901005@smtp.parrett.net>
Message-ID: <200104161630.f3GGUT912013@smtp.parrett.net>

** Reply to message from Horacio_Rold=E1n <horacioroldan@usa.net> on Mon,
16 Apr 2001 13:09:55 -0300

> BTW, is there a list of known bugs for compilers on the net?

I don't know of any, but you might try searching at
http://www.google.com/
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr 16 15:42:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Mon Apr 16 14:42:01 2001
Subject: [Harbour] CHANGELOG: 2001-04-16 11:45 UTC-0800
Message-ID: <003501c0c6a5$c71305b0$921a5e18@bh>

2001-04-16 11:45 UTC-0800 Brian Hays <bhays@abacuslaw.com>
   * source/rdd/dbcmd.c
      Uploaded Harrier's fix for COPY TO ... FIELDS
   * include/hbmemory.ch
   * source/vm/fm.c
      + added HB_MEM_STACK_TOP     1005
      Total items currently on the stack
      This is useful in stack debugging; shows the actual TopOffset
      even after allocations have been made and items popped off.


Brian Hays



From harbour@matrixlist.com  Mon Apr 16 18:36:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Mon Apr 16 17:36:01 2001
Subject: [Harbour] ChangeLog 2001-04-16 14:40 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <003501c0c6a5$c71305b0$921a5e18@bh>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEELDLAA.Ron@Profit-Master.com>

2001-04-16 14:40 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * source/compiler/harbour.c
     + Added all GET Methods definitions (still need Exported Vars ) -
Thanks to Luiz.
     + Added TBCOLUMN definitions - Thanks to Luiz.

   * source/rtl/tget.prg
     ! Corrected :ToDecPos to return SELF as in Clipper (after verifying
there was NO Low-Level Code conflict).


From harbour@matrixlist.com  Mon Apr 16 18:45:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Mon Apr 16 17:45:02 2001
Subject: [Harbour] Looking for HELP
In-Reply-To: <001b01c0c601$bffa6920$edd4d7c8@luizguim>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEEMDLAA.Ron@Profit-Master.com>

Luiz,

Thanks a LOT for your work. I did post it.

BTW, can you please keep the spacing consistent, so all columns will be
JUSTIFIED. Use this line as the template:

 _DECL s_GET_01      = { "ASSIGN"       , ' ', 0         , (BYTE*)NULL
, NULL     , NULL         , NULL            };

Or even BETTER, you may work with harbour.c DIRECTLY, and just keep the code
formatted the same way :-)

Ron

> Here is the declaration for the GET class.
>
> Btw , does the Exported and Protected data be listed
>
> Regards
>
> Luiz Rafael Culik


From harbour@matrixlist.com  Mon Apr 16 18:50:11 2001
From: harbour@matrixlist.com (harbour@matrixlist.com)
Date: Mon Apr 16 17:50:11 2001
Subject: [Harbour] Seeking for software development projects
Message-ID: <200104162149.BAA11452@mail.sura.ru>

Dear Sir:

I am the head of a group of software developers. We are seeking for software
development projects that we could implement. 

Our offshore location alllows us to charge only 10 dollars per hour. Nonetheless, 
we provide competitive quality and reasonably short development terms. 

Our fields of development include Web sites, e-commerce systems, Internet programming
and many more. You can assess our vast knowledge and expertise by looking at the 
brief summary of skills in the enclosure in the end of this letter.

We have already worked on telecommute basis and can provide you with our references and
previous projects.

If interested, please send your offers and inquiries to MineevMax@yahoo.com

Sincerely yours,
Mineev, Max N.

Enclosure.

Brief summary of our skills and expertise.


Hardware:      PC

Operating
systems:       MS Windows 3.x/95/98/2000/NT, MS DOS, Linux

DBMS:          SQL Server, FoxPro, Interbase, MS Access, Oracle

Languages:     C/C++, Pascal, Java, SQL, Basic, Prolog,
               Assembler
Internet
technologies:  HTML/DHTML, XML, JavaScript, VBScript, ASP,
               SSI, Windows Sockets, ColdFusion, CGI, Perl,
               PHP
Other
technologies:  COM/OLE, ActiveX, ODBC, DAO, ADO, WinAPI

Software:      MS Visual C++, C++ Builder, Borland C++,
               Delphi, Borland Pascal, MS Visual J++,
               JBuilder, Visual Basic, VBA, PhotoShop,
               Turbo Assembler, IIS, MS Office


From harbour@matrixlist.com  Mon Apr 16 19:48:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Mon Apr 16 18:48:01 2001
Subject: [Harbour] COPY TO bugs
Message-ID: <006301c0c6c8$1b0d4ff0$921a5e18@bh>

Harrier:
In my tests, the FIELDS clause creates a bad table with no header with
dbfcdx, and fails using ADS reporting an error in the field definition.

Brian Hays



From harbour@matrixlist.com  Mon Apr 16 22:41:01 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Mon Apr 16 21:41:01 2001
Subject: [Harbour] Looking for HELP
References: <LOBBKAFMMFGJIKLMEPAKGEEMDLAA.Ron@Profit-Master.com>
Message-ID: <002f01c0c6df$86ed9e20$79d4d7c8@luizguim>

Ron
> Luiz,
>
> Thanks a LOT for your work. I did post it.
>
> BTW, can you please keep the spacing consistent, so all columns will be
> JUSTIFIED. Use this line as the template:
>
>  _DECL s_GET_01      = { "ASSIGN"       , ' ', 0         , (BYTE*)NULL
> , NULL     , NULL         , NULL            };

Sure. Ill use this template

> Or even BETTER, you may work with harbour.c DIRECTLY, and just keep the
code
> formatted the same way :-)

Ok

Regards

Luiz Rafael Culik


From harbour@matrixlist.com  Mon Apr 16 22:57:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Mon Apr 16 21:57:01 2001
Subject: [Harbour] ORDCONDSET bugs -- all rdd authors note!
Message-ID: <000d01c0c6e2$93ebb320$921a5e18@bh>

There was a bug in ORDCONDSET() in dbcmd.c that resulted from confusion over
two members of the   _DBORDERCONDINFO structure:  fScoped and fUseCurrent.
I'm guessing that fUseCurrent got added to the structure later, someone not
realizing that fScoped was trying to serve its purpose.

fScoped was receiving the 13th parameter to ORDCONDSET(), but RDD_ADS was
using fUseCurrent.  (The bug was that, after doing an index with a FOR
condition, all subsequent indexes were created from that limited data set!)

fUseCurrent is the better name, as the flag in question determines if a
SUBINDEX uses the existing Index as well as any scope that may be set.  I've
changed OrdCondSet() to assign the 13th parameter to fUseCurrent instead so
it gets cleared on subsequent calls.  I'll post that fix after any feedback
on this topic.

A second issue is the structure itself.  Is there a purpose to fScoped I
don't know about, or should we remove it from _DBORDERCONDINFO in
hbapirdd.h?


Brian Hays



From harbour@matrixlist.com  Tue Apr 17 03:08:01 2001
From: harbour@matrixlist.com (=?iso-8859-1?Q?Horacio_Rold=E1n?=)
Date: Tue Apr 17 02:08:01 2001
Subject: [Harbour] ChangeLog 2001-04-17 02:50 GMT-3 Horacio Roldan <horacioroldan@usa.net>
Message-ID: <001c01c0c704$8ac6b9d0$f003a8c0@ksoft20000507>

2001-04-17 02:50 GMT-3 Horacio Roldan <horacioroldan@usa.net>
   *source/rdd/dbfcdx/dbfcdx1.c
     * fixed some warnings
     * fixed bug with pathname in hb_cdxOrderCreate

Ron, sorry the delayin the answer!
 
 regards
horacio
 


From harbour@matrixlist.com  Tue Apr 17 11:32:02 2001
From: harbour@matrixlist.com (Juan Agustin Barriga)
Date: Tue Apr 17 10:32:02 2001
Subject: [Harbour] COPY TO bugs
References: <006301c0c6c8$1b0d4ff0$921a5e18@bh>
Message-ID: <000a01c0c74a$e4b924a0$c06410ac@jharrier>

This is a multi-part message in MIME format.

------=_NextPart_000_0007_01C0C729.53F75AC0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Brian,
            I have just tried with DBFCDX and it "seems" to work fine... So
it does with the default RDD and my own one. Maybe I sent a wrong copy of
dbcmd.c??? Here it goes again.

Regards
Harrier

----- Original Message -----
From: "Brian Hays" <bhays@abacuslaw.com>
To: "harbour dev list" <harbour@matrixlist.com>
Sent: Monday, April 16, 2001 6:53 PM
Subject: [Harbour] COPY TO bugs


> Harrier:
> In my tests, the FIELDS clause creates a bad table with no header with
> dbfcdx, and fails using ADS reporting an error in the field definition.
>
> Brian Hays
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>

------=_NextPart_000_0007_01C0C729.53F75AC0
Content-Type: application/x-zip-compressed;
	name="dbcmd.zip"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="dbcmd.zip"

UEsDBBQAAAAIAIpTkSqLOTf66kQAAAWIAQAHAAAAZGJjbWQuY+w9a3PbOJLf/SswuZ1ESuRXsrd7
E8fekyXKVq0su/RI1nt35aJE2OKFIll82NFk8t+vGy8CJCVBSWpvZmpYNbFINhrdjX6hAXAOX+6R
l+RPfe8t8WbzpXcwbz2S44Pjv7whr4+Ojg+P3hy+/is5+o+3r1+/fXNEFlHizv0oiQLPDYnzKSZ/
gvaHe3uHDM+lm8yiPCE3SfS/dJ6RFG7mlMwjj77F9+duSsmo2yXLyMsDCo/waSeKV4n/sMjI8U8/
/UTOkzyMSMcNM5pE5N0Mb//TT9OQZgfw3xk2eXp6IvtkkWXx28NDuDlY8J73Y97zQZQ8COyThZ8S
ePyQuEsCP+8TSoGw++zJTegJWUU5mQMvCfX8NEv8WZ5R4mfEDb3DKEFC/fsV4oFneejRhGQLSoC0
ZUqie3ZzMZySCxrSxA3ITT4L/DkZ+HMaAq8udI1P0gX1yIzhwRY9pGEsaCC9CBC7mR+FJ4T68D4h
jzRJ4Z68ln0IhC0SJYik4WZIeUKiGNs1gdwVCdysaNoiT4CKRCEl9NOcMrC3SiTaQ5RJtgB8/j0T
RuCHH1mXcjBHeZj5SyRhlrjJijQuR4MmohEi0mHf+0mWgxiu3PnCh64bl++vmoISxti9H1DoL8IR
8fI55XiAGjrPM3cWAIcZDpgXAVgYZSA0kHxKg3sYpRwkir0lNM2DzA8ftHZMtBGZobaBCJi4t4zO
AblFmhErk7KbIZICJUrGD4EK8uSusFNQj3kGmEFo7nwOo5ZhQxQY0sLkMBpokgHmme4DFiDNzw7W
qGSheR52iIgWUUzFsGQgvyBAzoDS+zxoIQoAJh/6k8vr6YS0h7fkQ3s0ag8ntydM2BG8pY+Uo/KX
ceADZtC1BIxqBTQjhitn1LmEJu3z/qA/uQXFIr3+ZOiMx6R3PSJtctMeTfqd6aA9IjfT0c312Dkg
ZEzZECCCDWp/zywHVNujmesHqWQc5E1SoC7wyMJ9xIGcU/8RaHNBTvFqu0Ex4QYRSJvpVKYJ8gQV
GDQGFD/xwYZB4hVTw+aFtbVIP5wftMhf/vrvoLBpStqPoH4ddzlLfO8Bfl61ydHr4zc/tch03CYN
YOrRT/1MWLGfkCc6Iyl2BuOkOaOHMEcHdNgUfIN//Dc/nAc5qMK7ebaK6cHirHj0bDF7XB4snhlP
0sydfyw/dGP/Pq1Agl+swtEkqXkahA81T/2s0n3ieU8J639vDwn26D0BJc3Bqd+1R057eN119j7v
EUIeI98DgcTthLonxLwOX5IPUfIRX6V8xMCb3oN1guWk/s9g4iAbgCtjRnw3CX084Tjwp0IkLQSc
arah+ZB+ykRz/Lm2+RciW50UnGqIBjfa+709QEWTkFye3/Wmw06D3HXPe6R5Un0+7tY/7zqD/lXd
GwiL49sxvtmDsc9A5+cQ1ICC9C79uUvvuwlYSkJOyXA6GJwI6cJzF1whi6mhC04aOBKtp+PL69EE
Wud+J08SxvspOVZDBK3HNIBYCdaH74qWgxtAx9hP7+KR5w1QVGa/I/oAD5mbBdgXqdb6/Pp6AA1n
Q5o5SRIhxb32YOycFP3y5+BFAeYJxgWw0PDRT6JwCZrBkBW0qLEAYgplkuQYGqazoDfT+BdMoFJF
PmYY6CdckkpJhB55dAO/kInIbPb3SdfptaeDCThOcLvdMTzSUx9nGYNrXVJwvt7BnkaKMxp1kI7F
7O7JHeZB0GDqdcMthjS5FYEaTEbtjtNgP0BLzqcXLdJ4VrT6MW4+a/FGTVAS3mZ8e3V+PbibDqdj
p9uQKEGF4HVCsxwUbDztdMCpn+x9kaSOXB9TE5KIwE7ZcID3hEDMGcCghMEXbAGi+AZ+pmGax3GU
QOSqZesGaOxPnCsSszHnhG3kVcdYYhnbxlKnABjoHtKnBhcGv7/JMwgcHYi5DQHaIs4FyGc8vbkB
c3C6pATepek88VkmVDSBt4EbPnQvhA4jUKOCSKAaO4PeHUjleiQGoCWp1LsagYZB9tvQ3mmD1Gv3
B9ORow0S5miesO5HkVWJweHJCcZYF/ICpf7GKIFVolsZQ9SfMPBT8pkP2Xl039ojGy4G5VhBsVhq
AXcRnUdZFi2tQCeRJVjfrutJFFvAQWLz0Qbso2+FDcB6fgD+xRJ45D5ZQLY9r+fTwIbvdhxTq7Hp
gO5klKFNLcC7oMcZHdG5NawNEaz7DmbUtsBdP40Dd2UL3g/vbdSKwQ4hkNrABnm6sNFAmtmJCwDf
u0Fu0zcDTQY0tLKATmSlMhfRZWQjf/CadgwBoC1DgBCcmR2grZ4AqOWwA+TQBm5MM6YhDuRuViS0
A9+1sapOEKU2YuLGagFoyTjETxaxtkNex1bKJsKcjSxZ0j6GWYAN8Cq1tEoH0jcb1YTZlSWYna6P
IWWxAJvAFNxGIRicXc//dG0iUmfhg97aRQQEHWeuFUMceBVayQjAGHxipUsdUCXMmyxAe1Eyp3ag
AGWp8gBpqU0AOYH5nJ0HsSPzOvFogjMviPm7gDOh7dKAB+ldWvSieW6jw6rBiM5y3yoEsSadKPR8
VqCxbWDrFRl0Fwt5kU3mwMAtPSmTu3XKx6AH0dyObAY9nkexFTBGR1tgTrCt7iJSS3GwSGmb/9LM
WhQAa8sbptX2QlvGfmAVX9gM0QIOPMd5EFlFGUj+B3aQlmDT0BKQ5R1XdNmzY54bmj28zGgtwTHH
sEcus0tL8BF1ve75JfxrpZQfsIhsDZ94kBP6240I4LqJxXyU40szGzf7YRF13ISmmyC/sOKlKmWd
t8f9Disa1hezWDgtVoLQe2f7fshrfUadgVV/OcGdBZ1/bPAn26taqkHzmazt+PcN8oNZ7Wzi88+C
s3IhtCErpE2k4NND4s4a5FhUXcrw/0WOyP9Aoxf/ffSCd0dYGXAjq6K+zDnBesqwfeXIom9DdWS+
ZJXfdS9F+XfNa1kDFq+/FOUgZqjphoKPPhAI28ZCoz4WfpiRsLOaByCEI4ZeK5KyutUw8qgsLG4a
Nom+GLknSOpoQ6B/R16b46aQQ896EVeKQLQuwJrihURASKmKa5Jb7UX93j/jCwEFGCoZqBkn9flz
gne8cNnUO4GGvI65fxbE3gxyNrZklALUL7+Ylib5BmR1CBQ3xGCIiMJhZ3A9drYRcVJtN3IGTnvX
loeHzFJwCbxhAV4DISroBdgXU7RCw07RDg1ctf0WHUo0vP2rV0L/8d/KCgZ/WKnqi8eVNYLCiHp+
iEuNbLEElMOwn2LRg2s5wg5ZHVkuw/zMHUlLrqy8JLnfDz36SVpYgQJXTZR6CnBgAjOzrSVwve8f
0xbhRfCid9GpND2BVhm17Jrbmli9OdGMVAEYNopjB2nxfBkXEPtn6c9s1q16ByWDoT2CP+A5r9xs
vuALQIWf1DQcURYSItpVSO60EIt6K0rihgxJoSEagwWhhpULlEqJ1tCiU8FlJ3ouaY1c6xKa4zFJ
GLqDrpWPnIRdrzW5P1nFdL3KtPgv+qR4xzWU7u1wTGJIp3p5OGcFffZKdVJ5o3rDx8xz2SieIp8p
3iIvax6SrkfrsqkUsChD9H0oaFynzOPAxxS/pC5C4sccpcnHuggPahrQsKEr5Sty/GfhS1CJ41Wj
hEtXYQXmZlWwZ3cXzgQD8qR9PnCeCei4RBcQ463CdLVkrIOJlBEVSz/S6dW9ZgmPibtpCuZ1aUUd
V7OjTCxRCknu8ec8NwclDemTcnFC0ppKMakWamcI1v+ZRvcsCxHvOJlLukxp1tCxtMhRqx5eUNPD
LSuYUNVQA7IP2RhpCKu+pkUu26Pz6+no7qr9jztAcdcd9d87I8yU7gbO8GJyKUdHRyPs61RoqyKo
g6nTO4n8zBjmRlNQBrJ4XN7k6WK8Ws4iSKCMwQE3w58Xo8uhh37QKD0Sq8sYnsUGiSZ5rlljGUUt
vMFYXFKsx2U3amCqJVSJMHOM3ST0G2Qfwi/54VQu/pq+vtBKXS+ahaqxjQVYFSJe7QASpZ9vyjs+
dBz9kOupkrNo/kXP9tUGg2Y9kp6fpFkNAcbWhLLLpAFuFdIy0LVBkVTioggmesjaEHI4kbx8wfeV
uLXklrGbNHMsbc9bZzIsiAmZH62VOUdz/ZHtayklPWr/i9gW5+LKhBHFRMjgPp1vDdHCGFvJ0Jf1
eUgCg2BvbKKLwPljysMKa6fW9SWidd5V9K/8ZtEA8m51s3+24HmlqaYNyVyzAmroC9GErCcA7FG2
CHFsYPDYFlIlUFyI51sv89TMKbU5GeedKXP70fUDtGVzflY/G7OVaglzMTWrzZ43zsjqp2PSlPj8
qZh06FMtOWPKffbrzOxcM6gZ3H+U9ofC3wXt6elavPpzkf6VuK2dGX7hgqrZJ1TskoLMRY34Mgcb
x52mLOR6hrkJN70PJic2kYbSoNnYsj2dckPnPfylHms2zmfllmzDnMt3qkX3RO2LIfcyioiWMU2K
tnNgAvfXqd5d2feeyEcf0aYYLM9l+c4xgzA/XFAsgHl7wJu24wf0rc9fNciN2mMSi+RJeyLZKT2U
lLbI+e3EMegRZqAcDgPGNyfcOqzmVvCoe+4MJ6Pbm7v3KBwZcFtCxvLexrIkpz/GOAsT/zHnJRnW
2DSYU1wZpS0ZwU1Po7b+7HF1w93wzEPrA8s2EIv2PCLw8Kmk98svpKHNBWWODA4c1CQr0mhN3moy
p5s3EBBGXCHQryk9kKqyT+QmbLk5CXeYqzAHqSLP7IQgnovtR0ayyLVBZpd6K12GFk2/6L5bcqBp
zroZhJTTK71aCK9FYjqNY8zENEQtHY8SYUshUki0TKE6N9LQ8emR1rWaJhTEq9dceSRmzd2VNYg/
rYyBlnt89WDsgONLRZPDiE+qCfilxKd4BiNaai6vqt3KbtkQGibdFJA8kGkmXQsq+2DQoNG6kUAi
JW/eKTY619PhRL149aoa/UxHoo/HS4PussPhMAWEFqB0fHrZYu0WTlkOhtQu4TsuUiZp6fxVqIoT
ClMCPJ4g9q1H4iCBJ8MLBifPhWjhyuxFS1vEdo4OR4sYdynw17TmiQnZufi5W81TOkizHHhqlh4N
p2HWDU2sem2pgtXIPorn0IztWtdqk7XeSuDTemPNTKylt8UcYiudpbfr8eLbguZqn5plb6rk1pVl
ldLeMF1EtWVKp3QU5zlc87QcmGuQ2J/EPWhdsUwlAPCk363LpSU9Zr6A+45scgCdgB9j8qPHwr/s
XnQrVFpnvaHTUFdk0V5qkxrlZXmui1RqFdeOG8zzQM40ERPmhUqO3HVKzaop3RdmU09PKQzwok8J
jVH5KTcyMviKXeJSSnKfXkZszl4JKfqq3JCCg2IniNLYndO/FRkGcwTjyWjamYz7/3Q29djCigsT
oRFKxbOzChe867EQK6MZgn74wDN8jkBK10bA8CwIonmdDMt0kS0Cr4H/RllzJF+kzOs1TxoKE8w0
9raoXq2Hs9TDWgLstHFz02+XExfSNjwJc0Cn0hWJskbZsWvxoOKc5Tt8ydR86HzY3CvDI9dLCken
PG4/TGmSqaKS4XGZwzVqPhwaAbi/5RlvUTjnvtX0uCfc3dZOzr62olGiQ9aLOBnS125KtGUB+bkK
C8rDVvNolUTjGSVRMtE9eU0gKsJPTQe12cH6/ILb1qRuhPjJXKwSJOqoW8W6JFV1lRxit7b+XUo6
Gj4iqr/rda/wp/yqyYDMUo1KQdY0kTXVQs102DKm0ggYsNsTMn5ZpmUmcq3OqCNapxoGqFEzI5WF
93Jhq0Tx1hoYv0wCK2PKD5XYjWmFoA28bR5/Ozmwv/qsCXIEp7r4f4/799fXvcVhEY9+Ms6ztYq6
lF6sqik/DW56fWfQhXkeYrJb7VddSlcnS0ekZn2fgUvxYPjiR3fYS2ntHMaY4bx6VVpp11f85dob
egFV228KPPtn6WqJPkCsfsmlOqN+xC8h+VJPBckCXxDfm7XXmqL7/j5fN+pfAyltNv91uqQ3ur4i
7/ujybQ9IFftzmV/6JT2rqlqfc1sOMyXM7l2j4v2YtAvaNbhoBJyyAB3meuuxVGU4gWXugfVGOZl
5pqVGp1osxTLm5RpRsZ84Z4/c5X8lpWFEno+A2L41ywx+Jwxpqya16lEp++2zrBuQUBzX2ZIL6RQ
1PdB8Hy1spTT8qtciOFP1ZaUbc51wwKDumpXGiADmGOpR85A1h4XXas9KV+xxorudhWSy97oA/Bo
sbbKJnRJtp6N2Dc4GHeGa9xdsUSn4rCv7FCvnGtrdnF3FcJdeZ1PkKPStXrL2ICHMVItJYsqcl3D
kjdUs1fhV8UWlcJRHuNCZRblsriMb/im1CY5OyUv2i82ALwDgL+/MJbQrDheg26fdWeUv7XIr9kN
Kpe6XpIH9lEO3GUSilPjrIgIWpmsSBylqT/zAz9bGY0aOSSCaq2MN4NptRfgU0AUQU4Birv0oXn4
oGqRev6im6KKuW1ZaHXuRs5kdKvlBJf81PndzWRknDznV+kM+Whyh8fIiTPmp7h5dZ6dGx9etwf9
9hh+d887V111r5FWf3EMmtrICAvTVad312kPGcmyVsmvYkhLFX2inGXBtWJ7fRKuiYhzOnDzcL5o
mMfT1cVrIxvxF4DbTVJdn2uk9X3stXQZKiG+1lCB09Jm7edi3Rl9DVLPVJT7swjfVp6XsdmozzLr
fO50cD28IHkwoHxlwdyRkZTLne1iDWKdbezisjm15WwVsTCKyGnFA7KumYYxgLMt/pC8ONrmDn96
saP3d7PI11xy4fI1ur6zn/6uTroy9RcjTdbsmKkuIqoWcstMgjOIitnuYJw6gt9cJNkYQv5lQeJ3
Exkqfn43BVXXDprKr28MMHU6rF+7hhXybUEG/10bZYhaJsbdGQ80Y1/Bk/PcJ2DPRT5ivpu0WM19
uXamqzaefstUVyKpmeuWi9YaM9ezzPXNmfojHujDlQWjUGMGzgvxEQZ2+K9hxrN+RpctbfrCAMdi
024pmo7z+Zym6XcOlCZ1fNsQm9hw0nSKpKwkJUpZGcwFW++ottJiadFQOQZzEl043d097nZ3u3Q/
Uv4JPjZW+E1EimiCwuMqd7ve1+7iaN+3R5qbxbsae9UukYZr0rPIxC0cquZxdnGlFn7U9GVfpRlG
d7qKGJvB9WuLhzMqrGSzHzOSZGVhyuTboB8PIa+15JR/e22tod/kv2ZDN6n7BkMHRH8Y+h+Gvrtm
GN39lg29YHZXGy+vthD95Bt/tN2SVfdWRlxaIDTtUPRK5EZ7oq1+bNu2VlrLIbXLOcTQHF4kX7Ni
c3paMghRQ1mvhWzTwc108r49mG7ZZdeSrApZlVWyvmBOjHx447oQv0QnxVbJSiWmWgr/yrSyCK3/
f0qI3f+hhKCEF85vXAnHizzzoieuhniYK12lQGFlgy3CdQGufBaouqFmuwopXMU0jL8ovtigMoqa
z2wQc2un8Z5jE6qQaof2dL3beMou1c/rFTelLQjsGGN5E9YB/eRneJqR75pXA8M/vPqP/qRoUmhA
wUrpnfZRjf19ecZUW2uWq8mX8sPMbWbdYzk2xSdteXoR4zFT+IMfYyRxl86FMtb4gRQVtp0k7ooB
G18EkHuH6k0ax5FmeLLzqGCRK59gCv+NxXLVgp0DdZcNctzi3uwOPw9/K5rG4oRsAfa6FoxXcguo
N7VQwLEB9ec6KL71ipH3/DmehEEK2C/shP1APF/BcyFQorZIMF/AaPLhF8sytQMXTG3YmLK9/ttc
zHM5eBorsSjPE93panRo5w2BCFe8UO0KbW/o7c5I0ZVSchOxBJAYSicajrUTDaday8p5BmJ43UIi
/WHvervP5R/gJN3z8R2exq7zvpLtMZurcktRDUvghTtlshXfRyC7ypa3+x3JdnJ7YyFb7n4sZYuc
foVoWbPfkWQHznC7YHUfvU2uFedlJ1fW7Hck167T2S5XFiK3yHWPt0L3XUw/NcgiNmgCabL8q4jb
uAojo3ZR90nE2ujar1+ZR95PVJSRCxniEwtyWU69Ej/+Jn+8Le30Iv/C/VC53ADGG2uja4PHzSJ1
tr5oiVcp07dH1KxZvfls4JZH/Nec2Sx/DISNrvwOiLGThV9MixnQJiJxy6M4idwk5kcG1MV1bd7Y
8F6d3qwF0HIWfmnTD2M36277yRRdz56VVb977sD0Seo+v0NjJjF+lhI/4WkxjVSwB362ZJ+yrE8t
zwfXnb+bbuyHmrY1uriQhUBW6GP/g4X26EIV/pDqu/N2FwwVsoyJo0qEzzhHzwxBm1IuDrYoSrxZ
OveRnk4068lCZDkB3sxMGQUmrv3xsD9gH2L5dbH4Ad1Jff5uzyRHorH55tfDZiB2lddMPYbTK2fU
72xhkSPQmPu/9p60uakkye/8inJvBNhgDmPomYU2HbYk04oWkleSZ+jt7SCepSekQEgaSeYYmv++
lZl1ZB3v0AFtM6gjaEuvXlZVVmZWVlYej67UGkL6+qozv8erzc/AYFN8fHWmOGinC3f9ftTza7Se
1yvHjYL5EQA2uR//usnhdkPtCw+UZh4KMEpz5jUTGW+zhQmU2J2I+h6O1N0HTq1JKVR3YlpITPv5
mp7a3/WT/wD95KRl6BLLhV2cTAcSFkXswK9RxUQorMm3C3kMIfKzwnhX6N9cDjk+O6s1q+5wKH/2
8XhcQk2yjeUM6h0puvBsIM8BJNjG9PWJmh29FKuPxqdIgyqaJet6i5KE+o7Ikkqjdtw+rTekiNTo
yl0n1r7o2uHpNgbO+ouOvtWpHTeMVjwMTOOx9m0IDc+fKwGK5boIQLZevKh3S+HutCFPrF8Hazio
GMLwAcNYdhzRBufa+GxDYa3Zo4Ts4dN4BbhoNbv15nmNIz7X1L4OEqkLpisElmrstvj+Teo2/Iix
54GDr8VABliZzREtlDjh1/pZkVTRW5W/E2f0VAOhutkglaXnebpsYBLLd29N9YQyQ/Axpsav6K4E
ynEOoEeWHnNIwqtg9ipg57PP7RJI17BIkL0Y/oZCCxTqpFv06PHJJRR1/b1EwtY/7LtKGQnfCjQn
56VO8i7t65H8Ll6dtTr1l6/Ojru/AADW3kn1AgZHZc+F6GLADTaqnrTkZkemETKLCLrhO4VRw50w
m7K9+aPaVfpqHqpD7lPbmhJCpEZAPQt7D4s6CPKjWgKLUXMK6lm7ourENVOIrMs13VpzIk43z/Ss
2/t7iH7xgVV9eDybGbHJBP7nn/JkpqDJv9X7QWK5gkMY/ptxCCPSzBOtyvCtkpZgXi/8+ycajv7u
Z/Oyy0dYRvRIPgND89lyvmsXWsFz9HhAjYtTC25Pdv1ojbPoSmgQmafR+7fFPyCYNcFa9unbhYDK
xliwfkBXCsZfT+1KbPZwobTrkDborzcV4XW67XrzufDKIBRBeLgxhEMGwZg/VgPxKAri6y+SsHfX
WhgJ92Bs2HpHHSiMZUqPEmWLf3QYslAHPyGs4hYRxhFpUPx8omibji/cLFamF8HCqhw1SwQfyBMy
COP0RwtKUbccypFhALQkYyd2J0/pFuwGaW7KzDwljMfEIghelG+HTKJS02e+HOOPSiQotyPWXRe+
ZPxTh35GSme73bdbhhy22uAs3Zm0PUfuayEduI0dxx+l3bvb1GBxCl86s/Fo6W4JtKvp7O5qg2fj
fAzjzN3u3VWy246f/dnfZaL9mnFbX+ASnduIQN3HgUsBkAcFh6MSKEKs2TgV43S5TOf3RGsy/gjV
w1U6gVuNW5im8Zm49eKWK3ZZ3J9ShVQQobjV9IMMnQY7Rwg2Lrm015O3LOa5L9mq52du/Jr9YT2p
dt+rRRDLEoOyjdjTzzrFyjqsokCsrTs4WljUtBfTMQNa10AYuR8AufsvWxrecegTS8ouTEJRPWut
VdpzwNnlsrKrJ8gmhqeQMjf21ZP6Kzy/1l52rdrKJAdMKlkGk1KHkAppRua1cIp3LZEYiKH6aPob
+vf87oi0LTFG14rc4EwAubTTSaLyFpt87IrebFUQ5/yw74kvBQ+LV+B5AF6UCuDl3CSmxfsHc+cf
3vDj8+TC0BOz3jqHCdXQGKC9tsr6bhoOOpIuU/dEr56006Q/BaFjnsHD4oMh73uo4zPRAdpJdsxF
b455vagPY2CPIK0YTgbCNSuRuRFZnZw1i3jAHH8yI2qGzGoeitIC9UN8OXHlTbfQEE5kfD3nuUOq
6bbHa7RXPxyY6eM5+rLjSqSNC22TDFEIJTTEK5Ma+7bgWSaLyd201hB1nsEyL8/5UHLSpUbJxc7K
IvW+yjfN001H0iStXs5u9aTONBqVSNiOAQaGwf/8lBCBEk89GpuzTjgaQ9KD/egrKyyrHEiwxCUX
Vhz51BZLFZqH9ewtqpTOI+xuyvYJDnTf32b9vu1mBjqgxPM9uad0at1XtZeVxnlHnofKIyV7KxZM
WIKVb21RSZ9i0eImTxxqkx+cq408cY2uVUn71uiaeyFETUut8aY3QtRVzJnAufuz5tBTrPRcxqWM
WpZUZqm7rlRTC7dzBdeR8nj3HNNbl6k1g4u4/mmBRa5Us73unrdOWt1u60WpFdWNv8qa6s6ig+62
wjWlEBY9iS1fl0GXeZs/i+AIAlmabkwJOQVnD4YrIyquODoMhmC1Ot1WvfAG3vgkhyg9K0kEsuVX
ogDZU7D8cD/aaFXY1Q9j6+lczrCZvqc/0BcQf/gAVx/ttDed9/GPxZLawV841upJpyJFLt2rmLLx
+IgSV43NdS3dlGAP5G24MdE9DyZvJ5lHdHrLv2lH7CS755PS4mPmO5JGvWJnoS9m1OF0Fng0HsY9
/hTynaYZzo+zwMvOeBG6XnZ6AQVLUY43SzR4V47btlaQN7QgZxsetDXYNB5/Dq2YIIqdGb/vVnRX
2ANji+AVjPwiqDRFOxTuBqzeY0IFx1lqxvr3fedmr+y0STuvdYk4ixUUA1P1s8ItsjUb4KIqAgrv
sUvKPf2+nu4azgLCtyGqSwdArrq8UaQHGpnDLRYCd3POviU3gDJ0NQMlcgfChqPoK3M8nxhEhxAz
RmXgmWGJldZ0V1gH7QtL5sJ66rnTXBO0Mwl/0EY/Irqyqcc1Mlw37cnY3rKIlcjmzz8VqJ+iSae/
GSISaxOPN5wIEPOSfmV1Hxlcg7t38WIMyM5GCDjuSowV1nGPEestpFh/LUUkO390RcWaiyo2EQrh
0MqsrpYCK/D9hd4IXb52+6Ht0WXz7xuAgnSFefc7s37rzMo5csXzpfhSPHzNmebLs8q3SI/w7/3b
QhnVlBMameZVt9be5vQce0r7TWi4MCen0HZBFdkRYpYxAp7lWytVWffC870CpNtHaGUd24IaRMaZ
lU2QPpueJYVx4vDRfHaMxOhhGEluH6L60vnHEtjkKQqP+/0R5KFLxmKQJnC9/kT21L84S4CKf//p
AoE/25d/ThD+sz8sN0Bh2X4qKKp4ORXph7R3uaR7/xQaS4kEh9N75gV9IzRbLYp5lhe47BBpMY9I
HlUZiVc769n3DL9ivgM0bTx0gA15loUVIO8DEvRcOeUh5h1sPQytsPRBdFH7m+Ri2dF2KPNgzxNo
64/34b6B6Uur4A4GMFaRyzRfc5WQrYADVtlEPcrZwki2ENmlWTlyBdCuVVicT67BmpqWQsamFmvq
KjZctT3iaNG0+ytKzv4FhMNZ6W6/ow1OZ1DnhrBMccXejcZiRy4kFMid2KvgJe+xRayZwyOsweXo
RbocTmGTlfN9EV6UunSf8+aL80a3ftZwww0Bg4U7hgW6PZpUa4lrfEOwS9PI0sXJoFHvmIg6tv1j
5jn4baZSzgXC84GaRS61l/Wne4777q8YlbGv+twSE+hJchw5m4/5Dmr4ru48gq7zJueb3HlT06KZ
D41J78BoLRvPl7qOcH2nVouoIb+mH7FfukfqTAfLTppKveQCKg00Ek0GubyOXKtyCBwwHmQ7PvRT
gv/lx4xBmHBguU/zcGD4+gS+Ms+HTuu0CxPkgPQMLKBDF9AhAnJCANRslDJYK1xChjGYIsMbnUci
qYQZVgTj2NLnBI4skRN9nrml513xwpyznM7gmb4A3IrsMgAd0WUugnzybdQqXcCQJmLjSCblEeAI
B+bnXxA5maqcIkCayuudyi/HbUbIer1sAoOhH2smYoV7vFwBANst3uN4pUNpHKrZ4/zsVeqBjvR0
ZWe6JI/XlTE7Zhblcdzho1V5XI/6oHwaH0XWW6YAT2STZUxAVhMOcMh8DNn0RFgwM+AlIsITdIir
ZdeWUTRoQh0erMZVPvV7g+cZzjRZsSZ8Dnyq0WAg1otXJ5LRPTQwpC2+iVqRGvWr5cxw+8Z7+BKF
ISN2kdPWuU1qwV06pAQu5ahlg4/9DS+anGfG4qLps4LdaOgYovgu4TvMgbmtlAJTxi4nd/zzF26y
Dq3LPAmqbol19wg5kKgy083yptOGla6mDO14RxYs8k4ra8LalsUDRxO3Beh4TiZs2CCV1ar2YYZm
K+yAtcReu5F61QxCckFf1BAsYugTmDdz3lWUluV2KKwZrUzeEjCj2b4cMKhSxibma++ZgzXQohJ7
TX2lm5kehXzEQ2qsLzEHfTVZeiUFbUZrlsV6qGw6eMK6CSruMum9uUdnE7VNFRKtcv5cN0Gz/OBw
7XI3vQzQwvEwzGgxyE+mqjKv6h/jqVQddChUPgrJbaPUyzhVDnLI7Wqq04NYww36VqmJS/X9cMt9
U/LeUl0fbrlrym9bqutHeQ2P+/0Ye8Ry4YqIyHCbBY9Zt/7+qeP+NJ/HCg3InwkhUny9RSy4jB+G
vKzlNexFZgvB6wfQcywWSEGhPCoZWZ7iYZzda8dm+o+yIvfbNr/HtTWTS0Jf0NC5DQt2S31MDiUB
kxQ2OnYUQIM0kRVsEg80Me+p+BK3lXnqBpHc9Esl8CiZZiq1w7fTeSoWs6SX/uxF6sSDgtgwbvqD
oGMA/vbMQ4zYoz7x4XRAOJFH2clrU7pc+PpEBprkb2OpJDgY8UciyuJNrII6am+SaNgGLNrnSHWB
avn5DDNsYJl1NfHwRMD6DwJ4GGJjUTwWSXlBKQFVx4+p3o5XpAL5spHh2QsgdqURH5TV61XwBTX1
G+cJNz0cEyXGcOIwbdQFouScVzL1Zs68/LTz5uxL7K0bbbWpYFNlMtNOSw8y8sbZLQWecCmQeea3
C86XNmPGjNu8+Xrd8YYZuePkVNwMgMVZscwm2VB1uddMMKVC4J+aXnWf5VNtBZmzVki3BW9FU1TC
A9xa3kOKi0TvKUCWQ57tciXzUEjVwv9k54kZTTDMPyNTzDAnaO+Geb5Chhh95U574ZXLEOOSCctF
8TA/RYz7nuIF4VrvcnPExHOZ8Xw6OTnEOPYisojb9yVHZpn3FbPmxpW5g1w/k82j75lsrmcmm5BI
xHVJZVOCvr9cLpvD77lsDMQvmsvm9CrnnlHX0FBEgF1Dw9cn+aH8YaoaBepHF9SPgt1ow4vFtwg5
qWEkOjGByAAcwy23InVtlBFAU7SrI6HjOSMV2T0ombL7Dzvin8NkKZKL6eVSTKWyMrcZGVN4ffGz
o7RoAuEr6hw08jMROILBgehucv7F0f8el7tdke2+ggeYGlF4xMD8BF7K9qpEx5InSCqchAJTSAQG
NM1pqO/5+e98eDU/uX1tleT2tTLJ7WuR5Pa1MLn9KdrP9WA8y71wcrxmjmd9OzwNjWp02QfO+AD2
81rGrcPTcNCm4KsqTFFgxbeFcIfxS20+a6ml6PaBOr8+JrgPjVOsQvel4uj0V3a3wI8GFMuxSVHc
z6V8x6ylIlgnPK/6B+Hw4GuvheqTfvqhxHWPahmu0hfGP/Vq8E9fY/j/ZF+jGWcpV75ObvCWVQfE
zgtalXS3G6nMgmosnlI8V6VAYs/MHhA8jFvBC/RUO72oxmoeOz5XZohh/hR8QepfDpXRYEOzRYDb
P0qQ2jA8L3t6LmJ2yA781rNRcJE2vDBFu5FwitZO45yjwt0d56zWbYiV81CMK/4S8fuXPK6Kij5q
7irsVrzmBgAYFi1fOx57MxIqw9MwLp0UAh0cfV2HcN+n+rR+VfypT9f1pnb8hXROFidzRCaC9KQR
RLHuwt17rPZifuWD+qV2XI15yLTTHt7B5Fw0ioCnROR6QAHK1iD03FbwA6dBw73avu2AS5DcDdi8
EKXzerNae9lqVy2pyy/aMaisS5CNOHDjiuRhvFnXp3FuNdcvtOZ9NP+Z9DAaO3IQ5RDUqkP4wwls
EvpsFRWt6ngOw/GHm3uN4jUtKWoxg6wUzvIk3K5VSMPYg+OYwXvjuNOVj4wIVn63crG0e0gZVdoA
L1RfLGTOJ+Cc5j7itPFdBJIIXFcCNs7PqsduMr4ssaK4BdLMhk4cxo7FprGSDAFio7HsB+D9QTdB
42rzMbMKZMae7FgphuyexkMSb+h1JFn85Pg58xyJiB6xFX8SeJYtcuLLogl0eI3dSvDz3bfku29J
+lRcQ+eSbKUiauEXvurg+JdIPYGkTagn8HFZTUE7WmTqCqKsusDGtq7PyYqoWFmFykLNOngpq0OF
ewG3BzmbAcrsksroaCB2lR/+AZaSoii8g2gMHjYeaj/9A3V77Lxk2gIHyfbydyE3s2TxBtMDABcv
UuNHMMXdxQnekB87AbsDeVqviHmdR16L+t2z/IyamDKYqizEiAc+bVwRAIy/Pznjj6ha3NgjmSFu
5rHU4LK3KBHa5w7wSzIMOUvftB2WYZvY6PJ4J9r+aSApxFp6rYdnjyErrWa1Yy3pjTPFkvA7suV4
1r+Q46tMJ32jrRkzrs7b4gQUimzH3kx+9nrBDTgcC9dZ9F4ftjF4xvEZyu8VhC06SWxQrcAmEXni
Dfbus0QlV2G3oUy5QjC+BTeSCj0Odt8fWjy8NXNMJH4032Qb5mJRPWQ3K4EAnmFmmGkREYb0K1OY
ezaYTJf2gknzcXC5yw44h+yAEwMxoILM5rTDkk4WdK7etPd1IobwR1tEuJcFbX2UI6DNkK7HUkBv
j7c4fUhgtY3ZA5zNJq9G4sw9aDruLNOZQcaEvBae5rRO5st22ptMnXf+lvcOOKRqy5J95e95r4Q9
/HdOc52S2LDHwYO81lA/MZ30R5PXzjsHee9Qjqd3qfPGw7w3MCNV32l/mNe+crlYTt867R/ltW9O
W7Pl6K0x+Kp3HjNNDNWmXM7IlTkKq34SybwFhrS2GYsZe0RdlBB8zGovmIlH605SV4Cttkh98vdz
96YG5xi3r2blQQBVpc0rDet9H39UFsvWCicI1vpecnGSvA69n2J6g/OapKL8Fx9mvKjDWq1cPMzS
yWES8J9WVJjCEJ+CKbDrXFuLEiDYdAwQv1RqZBpx69a6Z4KSJQOFi1EnWLjcZst80hhbcKCD88no
X5cO0z/O0gYy32OubefN+v+cu9ZuM+ESJm/TQTYDrXE2YPj2+K1ak7TY+m3js/rax9EyZ9F1Ts/B
my4jR5Rjf2R67RSKiv0Bw7XzkH3aam+M6O9GEfhcd6OIpIRVDCJboOavZE3BI3q33mpee3uKXiKP
h3+tbS4sv/MwfK47D0tK+DZ5uPbyrC1V+G+BifUaSfT/12jQTweA2Urrxdlx91Xl8WHA2s3Wxsz9
DWpCUqrURhiXIKXJxXQ5FG+Tj+IiRUEj5UhZ8mw2Ih5EK5MnBOEU7jBg47DUCR1fRdpsUoU5SZ7/
BRaUgUuPkNjzuBr351qTIrOWPpMoiwguk2Z8anYOnqoNE8UbyGGFpjKnSU1rDXxjHY1ebGHh+YA/
h0teadSOHa+dTJ8xmgm2z5+LGv5WRo7dZY29XTs5rzeqK4xevfH1xq86jM3g+631l1buNmDz8BLZ
5/FQZF1VDeubuHDOum0mJ96/To/aZP0zdTCo9WKYcrv7F+GrzPZVrGDFXLQ38MLOVq9CV+wrR54W
rR6BYgbUynknSqJlqXNtBT9bt19LrV9Tzq0r4uSOjbgr1p3KirUVSOYLUoumCU0vlmDa1SovI2A8
k6E+Ew7A+sGYgMeYp/MNhQXXBXlYIicmrJdd2tg1OPNiloshv1CJAyHUOA1R6EAvQhVoFA9EMh7b
eHM57lu6FpPOseR4OGsGoCsrDZ7ukaTesut4r+qH6i/nEmaYn+7QoccZBeJZ0F7EnIsC5mDrJlAO
CCoW6g4rF0azznTym2LJQC1FyTDQajQ3k52WzukEKVGOxK3/e3DLYcnOb50y0aHs3lKPL2TN2BOd
a8B5FHVtXYPvFKp/iIzFyJ7P/uK0a88lO1oFI8iq5aTEWiEZVoRBiYNycz7xsMkrnPPJj2L1sj3x
+luEg3b6WsoQueSkiiyemAa25YMnovVmHxZFtqLmad8+PniCj5KxJMH+R9OEtXgGbTDFhfmNZw5y
RxJOBqTZQ7y/fqazF9GHaLE+kW9NkvEubIK1OqCu3vzHcaNe1RRo/+XUxkK+VGyXF/GlY7UMCV7F
kC8J3VoznfDIplJw6O8CC13RDJqFOqXqxozcEcHmuw1xhLaRyUDASHQ6brRntlxuf4F4TjWu7QRz
irJR31+5xFVhfam/NqZv7SJRHSy64m30PMNRUEIlp0pKTokUjesvVLDEEkphrRI1VsA3G5HZsBxg
JHwjdUoMiOAVt3iGi+zzjk3KY9aIU9/OkeFFksFynWtPjCTuX3TSJYl/KY0h1RyObqki4nblnnZx
uRT9abqY3FqqocnPcjifvpftP9I+AxY0iJrqU+411VykH+QWsy+fQNLIhX17nv7rcgTprUYTfE1u
IVLjEvVmvSsGl5Me1KmEQp2THqSWlJrzZLoUry/l6UvuPXYvhGEkSw0BMlP6m6LsAhvIf2bT0WR5
T/z+bvHv5E2yXPyBVywGka9gH5PHlWrt9Pi8EZ5LDLF6uozBe88LbdQkeq0UHXcGga4917F8XhAn
deRo2KHK5L6SrTcFqmnRqgibtiR9X14/jeum39Z6RhRXg6PMNWDDVEkWWfQuf58EixnhJzvSyH5T
mG3RWelSJuntUasOKfFastlGiRPLexD2v5PmN0yabJ2vB2GC6Q2KW4eaPTr8/yMZX5JJDY20tg72
ovRtHFVv1LWcwESlqjk+3EOrvimK91Df1sm2+m9ItGC+gCux/Htvy/Z/nFQZ8z/O+d4EERNY9FQb
hrY8o65qTSYkjdQi7Z33v+/0xDfTDDMvb519SPKAskWE2fbgnLvrnvbZGuibV6jUSWYB7yOVyvTD
bDzqjZbjj2KWLBZS7ZLN90UPSi87ycHpQ1NecJwWXZpGXtkF49vtPbGryy/C6HRi056q+ekAyfns
Kqp0gPQXrHKoBQr/sbHK+SsNVyRiqbKPConT0Vi8lzpx2hv1U60hw7qIxXB6Oe6Dq4/CVn/6fgLX
zz/ITuT3H8QwpRS0N2w3RFW1LhJWoWVSRYAaKpRcuXDvDj67OM5bky1dBhiOdPdQycXH4HkElCVx
ufvTRBJuAmeAZ/KQdfeZ6DVGkze1DzNACBImStMehCyAAfV38fDxj3LPhLe7rWrriahM53OoGXhB
5lXM5TCajJajZDz6N0IWP/+sPKwYGDIGPzCbZI6BptGtvSy0MBlRciD3sJumI6SeG8KytXkSokYf
pjMwM+HpKVz9wzwpOyOYyWozYp3s8RlR/lH+zJ0V+rrYVS/h1KLfKPZnCdQzv5+IQQJJUJl6NIKD
MrCyO8IB/s+k2TH4rgxH4z48KrF9WoMHF3uqB+EFQ/pi+icpg/BKaEf7uIwk59I+fNO/0HQjmcIX
do68q0zhRy0Z2f9IsA0bv0mq3OKe7axWKTVLYyYXAxYKW6OsfT7uXpNfxVfYWzsPftzQcyUK0qo/
DC2LSDEYkVUDVnj6AUXZmSQ3urHhSl4JliMpEweWEyyzlS0FKz8X8rc3kWkLUVwSljVHJVcPJY/Q
N1ypDOpmsujeeJYg2sSRKwCZ8HsaeW3khfYZ8/ww9GVQYX52ZBxQcmFqsUdgBAGYcSCjhYk29hXP
Q7HHMtJL2fLkQQwChMbOR02qK+oISa0cFe4RaC03EM3hSWyq34TSy3F3gLzqcgc7bj43ZzK/FDkr
6ymskZyuYQRPHAIJcKVGlO7br3SRD1/PpsS87MSHJQ2wUgNl8Raw43Vk32rL60znSzr3iazC5/Ak
d0fT6btuWnCYwMumGjEdOtShG9/rXyzno3uXo9Nx8nqBVyJdzG3brlV064KK2ULVcsA80raOw3Qg
FtPLeS+NpfIi3Bh4yBDC5NuV6+Vl3NUvRKRBZC71JWRPoJtL1yaDLhoNMMoYiN52kgvuWd4GMjO5
5oeZF3L0CfoYz7rzZLKAjqhCBZwiupJqO0hKe87bRZ+hcc7IncvtlYDaj6UsNkB/hl5B2QesoGzu
qGI1ZunzyR+uUkJwRZ9jBjvNcLqrO1gK1mRHv0kqSofoa9d5EsNFJuWY9zxyoE8wUFGw4L+bAf8h
UdEhnjkqXp3hxUppuddaboZgUz+Gct4fhItOnxXmWsUUEsUDWxl9wbg++z8Edg4RX7mh8RnKZ9py
qHBF04PYO74ORR93/O63oW908itEszfiGWK0IqR+gQJ0E9L0Bp5UZ8kvC4Wlr257vQTv9i8WvZFS
nXgSLEfT8ZIiZAAZz+SIw5RKuV2yxESz/EwMeZ26KYXy2zf9MvOPM/1is0feTnuYCtNC+XFVKG6C
HADxNw1CHjnrleNGMYj668l0nlJJdwkqq1kjYRyfD6t6CabNZJnCjmi9PPLem/TGl/3UVsdx01rx
7VnN8+95KkdYmYR1XFLJ8FnRT8CRAe8BH0hGK775xNUh0NpRPBmVAnVB2rCjWoKjH/g6ZLjRk5bs
SbLcWvLxvjJ2fVcee/t9hSPY7vmwKathBTuzGW4JMBHZKQQ/BIgMh1jViZ87r6RCtCpSYqvtboha
r/c2m2F4C8jON9nbPtOtxF6BTlGM5jsxNQLPUgJdj3pDf2S37t/y2+P5CN8poTHeFrox9S03qVvV
WyGtiPK4/fNIdKDCVqdSa1aDnds4J8V6rkR6LtAfSwylcmxl5fpQjuPzKaVJiS11FsPbDqgVUpcH
dZc/e8hw6ppSzSd8QQPjvx9yQHtbII3oetw2dO5xpovgGHY3Ry2zXgCjWQZzmykrJGut7mokdkSE
dFnDO3dcUEb28pqSegh70W7VK8/Iv9AZhHp0Vz7KGE3ARfqVu8FKxCD/UbQuJdYAgOacblY8vvkI
c+Bq+wv66w2mUF7GM816ikT+mI+Cc22Azui5yCoc4XEoQy/xrp/pEzkDMeyzP+0o+M5sOi972lFa
mkFe9imHDV37d2YCDtTU8SzRp/vctX6aA4COzA7a/oq7BG0QLKOY+GPP7sVd8o1vE9QfZKKWGmwJ
A7UetGfblCSGDgSLEoTBUFKWSVa1O65mlPicmS6GXdiShdh3WoIwt31W8oSXH4UuShioZ07AHkZ/
iswDKp67KLYupFEKwcwwGfMSbQrQjorZzCJRBg/WNtNay+Yr3HynwiHKYKt2X3SOsGKF2IyhG5hM
6FGr4ozVGIJ0CTm/AWCFD8qV8YEdKXg/7sc1zL93JtrKuHmGRzY0Tmx+GWQAuv4INiJ6DRoXm4T9
b0r+jP43SAQgUI7x19yUR7FOoqHbmTlfhWa6CACXzkp3EabhoGkIcjZ61P1F4Csp2JxGtH8vLmcz
KREpxKF3SVlEErm592C3mM6pxoxXbFyNK5Avjzz5QqV50qWYpO/hKvzSBXB1hU7W+vrh8vHhrJJx
IUNYRXMviEBk5aVR8F4oyLvgrspfIPTkvxkyz0iSrQo+F6or/bCsajnpl13bWHz57T9Wx5Wlo7bi
0bmwQ/K8CgWTQwFyeO0VFEM6RWg1ZW6vvbqSzbkGGVvlXBeq76JbUYI3k3UxxPhrKuk8zjpQxDdV
6a8/x8glK8Mvet2uObvk6PaWdrfKLh5Yf6dr1J7b0lCWWU5H41RlXXmhXYhVhJh+9LvAXJwvX8nj
8S8QSKUzaYi8bbGQt/KKkwthR5bBUEGqoxemvGfAMnHmMx3InYzevprbp7qP2mVLwtnDXESp2Ugm
8dfLY5e5rQIiaQKLtQN9lN7J2DgcVsr8eLyMuN7zLrjW3JQUYWduTPh0y9uShXlDMIRGa51Q+7Pz
HNa7vjzns9F/GvfIZd2Ee7bHAXIgORwgn26dAzTMLA7QiY7v3y7/uQ/pIDDQ7H0qhsk7KnzbrP1T
VJNlciG3ZzFO36Vjk5JhIdmr2m6diZvyj9rLeqfbcRL4qKfEeYbxhMt6/HeKYNVPbHo3qZXIv9T+
qPgPPqbOrmJg/NzW+YsQOypa0QYE7oGxRE8wEf+oH2OyCGuxUaYTDcXwYs8c+swCsjZOQC400kOm
973I5Ei1ayHu3xcD2UbnrzCj3zGggL+ItwrIsib5IiuqBtbEhNNYov+su0PWgka7Zg460Cuad5EH
sBhSBN3VRVaRnFb08/WI5TZbh9uOeIJvKC0IuE9FhxtS0eE3TUUOGdGiMkK6ISIfjVhwo/g5j9TE
ExpALpSHHpTA+KygCBVgnkOzcaJdWaYmCyCVZA5Bp6Kyj0uDdt/RQlzOFhANDAG/OC1cu1evOifH
ZyBXIU6k0jr7Tai8NhfT5XL69gbEqsqF7kEqCKEiiQd4SS5BTimJjtqTj8HV6cZimSxHPTqD1xfq
dt84ig30Df6+ox+pPf2T5aPRvt3sS7oXQvbsXTE6evBUjH7SL8u/lfsYEaLXq4StYEDhv/TtvWSB
07iHxm25p8NBEnxiRkR/SHDgl/V2tssns0vz2yNgBlZnOR9NXhMw4cXfESmbszdIRfWTOlVT1iQp
Q6RasQTeB6O7iZGBjEnTWTqhNEWgegDcul6hcUo5kBYQBP9+NB7DXUdfCgy4GbipgE0nqYLeh4VW
S8cCcaTe1B2mLSgVAT3oZbQCgcUGaZmGK09Q68vMZY5H+2RKVyaOpYIwxvP9PknsGt14x+UvvHeK
6T9d8V49aZ3Vml6G4CsrAiWHehLQ+D8QkZzCApNBw7vaMeFR+JRHRlkUKO2U0vFqJweORXqSXKgT
A0s+CrNSfp+xcwzCjVRN5gBdRZl1J8WPjn5lPf7w6lX3BRLPD7btoCMho8czJGdh1fuc1HaqbTtN
+tPJ+CO7HZIofJ2S3AO+SAADE1g+tblydwtFG8oBhMjDqi+WOhAqyU2Am35YppMFJADQMN0z2GBx
Cl86s/FouRugRFv/9K+QMbdmIJJI+aQEi2ELawfMygItonfwvlcKZUfEw0HtZdeyHYODh69EDlwL
Qm+Jo+cwBBEew+5qoOZjamDGgDuHq2EYCuIM9bNmRZ0Hl6NZc68WXtnbBu4Rqvqw/B+cWgh+5MhO
vswOjaEICy9hGewcE+76B+6nevI2Q7UzHRMcjBPKGQKrEB19nusBb3dm371bE7ASoWrYEPlv9Yjd
XVyL6m9NqcHv7pq5h1Pfu/tsrGHcEbuqs7sHe/LB4uNbcOiadT6+vZiOdfrpfb0ECxFJCeTijVb+
ET/Xr3pdhOMB3uqo+hGEdgZRd9nB6D7q8iDSboOeu7+dle354XZ7btSaJTs+3G7H1VqlZMePctph
mvNQGtimn12B4909sKbBQ92l3UBAtSWhgUpdCukpQQEEhXx+KQm3P5/OWLojoyPlMCnbGhq7XKvi
ypySvPYnI2xhP4qfvDgsfvwR8QO/HWsGPpwGgJPJ9L2rFBNqwG7U12cS7fkC6y/143nam877Ypx8
nF4aLBX5e3INRA6q/3Ei5QZG2oaqjGnqo4dK9SKldvI63HfEP54VTo/rjfN2zZOOOmtODXM/5M1A
UyLb7px9M/Jcw3AerpG1jmusgc5qXFM9JOWjR1eg+NYxo0D7aowlDWqoshO1yk11VdRkTFwrMYmn
JqN8gkxkAHcjpVmfaNTRlmAZOoETy3pU8mlTNEToI4c6IrQBY8fzl08KcIqsYFo28N9TE78RoQ6g
jbwRqeZmMGRCuC/eTpWFnUweuL1cpMv3qewJ1nAhLj6KiQSjLQDvpiNMx/xCvkgKkUYVwj6dT6Vo
Zz90p0XmHAEGncHRAQzTtET7icoIeUOwr5m7ljHxCLDxmMGAaz72quIGXZOPxMBYbprg+6gsV7RF
wI8/KzlUVuFkXTLlcrSCSukIK30ru8sRO7ojdTyGDCMsnKuoXYv6wZ07sRc+W5JxhInb0iMR2igX
YEFapmC8AuQkM6lejOR+qwmk1m5XwEajaKRNL+ldsWfnwn6IEUnhtTJ7YTrn72OY+b7AXDUYR14I
ivLaQHkFZaO6gKhvM0Sd0xSp1tzxhOZ6azFHePRZTp9Pj8Y6+AKh0+cCh02h9d6jN2k6ez6VGD7S
JkDiKPwYcoj93kU3p+oJmIzIhFV7l4y1+5NvWVPrfqSliJtZTqvKneRd2j9iPyBLghXltxcnrcar
8yYkfN8lpOFWoNnGuYNGbvsnWFEgAbqjhUkkCSnxas2q6LaAGU/brReGSWMSs/iC0tlMlfizL6rd
BMekj95wd6KWWo4HKi0OlE/0D1Mwc/6gTamw51iiwA7Y9UnPkoG9ZM2+XlHwdgxnUP05xRfCJjaV
IwVyQ2duiULMOJ+NoHXshwxN8nWDIlxLLark4IZRM7suDCWHOZkqadobJxKNJEh1Q5YjiywqZqLy
TTRYJwIvG7otM0FOrBJAYHpmRmctToBxWIKbpxZOF5zgdpFx9hzILNDqM1+88K1YWJo7IVxINqWJ
pm9N2cL7gKBN3kAkleaM2Mw5QxXjgeQsGjL32U7JRAioXyujQr2YiwyckOQeuEZQTIQ8hIUbJmlP
/jWRz4ykcObpiYoJvRkIiq8jIHB8sDVQoJm/bjhPsBjDTGmHRIi0h7e6LWf/Rjik1r2eAlbmqUUv
TYaMuZQqBSSBkqqqK9Skl+/Bli/1fU4prMsz1qfqDSPt5TvzpRjAr2hqnM5uWCmotvnpwm70yWJx
+Rb2eXVxOJsuRuByQUdp+f97N0wEpdmymHZlf3PcQWmGeoB3nw1q0wHxyiWmJ07lV6h6OxEp3I5R
atxBIrsh1Go1iVyPCFPcn5Nnq1GW5Qamx3j3FjbDk/G098a+aHUo36PVwHFSpSiHp6kbuWOT8uT0
iC/l9EcwnN7Qb9UQA7aA8P4dyo8j1VFQL4gyEYO9ZNIf9aU69rMCYJBF5EHME5xvQGLq22WB5DC7
XLKbQLkAcmM+pu2PPt4ZgBG5gWilLyOwVMjhWTCWvez+4fHTzwxHnKRc12QPmb2ppKWJSigvrCsV
4OvuXV0U0f1g1+BftFiAoHk95YzV+bV+5kzzoKE52VwPySUhoaY17BvCE9m+WkUXhYvUSH2bEFCO
QKWHBsaVCjbxaWUMLEpHtjH0lXPad6U5UV7uOTf2gneUNUIaaVTJTeWr57rTYHrJM+16BZTMfSys
mPBPCtDjzNZZ8BfpNqlBKNy8QH7zISGf8ZEQJDGb+Ld5mKvVfIahA4fKhrTPg+OLX/dzdKnXp/MS
7/qptuhdEgr5b0PVuMchDuXbKD5u34c/VVUlJPl/p/MpMPtF0sc6oSXg/xiFT4u5eQ+yg7/FiQC3
xQ3ga1r8u3Dy88NX7ZqD6X3hVIAwPgfEjWrqytRdRJtyfxaV83a71uySzpOPoWw2kSrraTGNfCfu
HPj/WcR94/8BUEsBAhQAFAAAAAgAilORKos5N/rqRAAABYgBAAcAAAAAAAAAAQAgALaBAAAAAGRi
Y21kLmNQSwUGAAAAAAEAAQA1AAAAD0UAAAAA

------=_NextPart_000_0007_01C0C729.53F75AC0--


From harbour@matrixlist.com  Tue Apr 17 13:04:02 2001
From: harbour@matrixlist.com (Martin Vogel)
Date: Tue Apr 17 12:04:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-17 17:55 CET Martin Vogel <vogel@inttec.de>
Message-ID: <000501c0c758$9a1b3e20$20cbce81@martinvogel>

2001-04-17 17:55 CET Martin Vogel <vogel@inttec.de>
   + contrib/libct/ct.ch
   + contrib/libct/ct.h
   + contrib/libct/ctset.c
   + contrib/libct/ctset.h
   + contrib/libct/ctstr.c
   + contrib/libct/ctstr.h
   * contrib/libct/Makefile
     + added ctset.c
     + added ctstr.c
   * contrib/libct/makefile.vc
     + added ctset.c
     + added ctstr.c
   * contrib/libct/makefile.bc
     + added ctset.c
     + added ctstr.c




From harbour@matrixlist.com  Tue Apr 17 13:44:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 17 12:44:02 2001
Subject: [Harbour] ChangeLog 2001-04-17 02:50 GMT-3 Horacio Roldan <horacioroldan@usa.net>
In-Reply-To: <001c01c0c704$8ac6b9d0$f003a8c0@ksoft20000507>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEFADLAA.Ron@Profit-Master.com>

Horacio,

> 2001-04-17 02:50 GMT-3 Horacio Roldan <horacioroldan@usa.net>
>    *source/rdd/dbfcdx/dbfcdx1.c
>      * fixed some warnings
>      * fixed bug with pathname in hb_cdxOrderCreate

BIG, thank you.

Ron

From harbour@matrixlist.com  Tue Apr 17 13:53:02 2001
From: harbour@matrixlist.com (Martin Vogel)
Date: Tue Apr 17 12:53:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-17 18:40 CET Martin Vogel <vogel@inttec.de>
Message-ID: <000101c0c75f$55a3e9c0$63cbce81@martinvogel>

2001-04-17 18:40 CET Martin Vogel <vogel@inttec.de>
   * contrib/libct/readme.txt
     + Added paragraph for enhancements over original CT3 library
   
   + contrib/libct/addascii.c
   
   * contrib/libct/Makefile
     + added addascii.c
   
   * contrib/libct/makefile.vc
     + added addascii.c
   
   * contrib/libct/makefile.bc
     + added addascii.c
   
   + contrib/libct/tests
   + contrib/libct/tests/Makefile
   + contrib/libct/tests/csetref.prg
   + contrib/libct/tests/csetatmu.prg
   + contrib/libct/tests/setatlik.prg
   + contrib/libct/tests/addascii.prg




From harbour@matrixlist.com  Tue Apr 17 13:56:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 17 12:56:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-17 17:55 CET Martin Vogel <vogel@inttec.de>
In-Reply-To: <000501c0c758$9a1b3e20$20cbce81@martinvogel>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAEFBDLAA.Ron@Profit-Master.com>

> 2001-04-17 17:55 CET Martin Vogel <vogel@inttec.de>
>    + contrib/libct/ct.ch
>    + contrib/libct/ct.h
>    + contrib/libct/ctset.c
>    + contrib/libct/ctset.h
>    + contrib/libct/ctstr.c
>    + contrib/libct/ctstr.h
>    * contrib/libct/Makefile
>      + added ctset.c
>      + added ctstr.c
>    * contrib/libct/makefile.vc
>      + added ctset.c
>      + added ctstr.c
>    * contrib/libct/makefile.bc
>      + added ctset.c
>      + added ctstr.c

Thanks Martin! 

BTW, could you please post a quick list of the Functions now implemented?

From harbour@matrixlist.com  Tue Apr 17 14:06:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Tue Apr 17 13:06:01 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)
Message-ID: <002f01c0c761$92e4b0b0$921a5e18@bh>

OK, I finally resolved the issue to a small test.
Bottom line: You cannot aClone an array with self-references.

The following test will gpf in Harbour as it gets into hb_arrayClone and
spins in a circle for a bit.  It will also generate an error in Clipper, but
not a reported gpf--a tall callstack gets written to stdErr.

So apparently my routines that seemed to set up the problem are adding
values to classdatas or datas that end up with circular references.  It's a
bit more insipid than this little test because down deep a subarray has a
subarray that has a reference to something 8 levels above.

Since it is possible for a valid circular reference to exist in an array, is
there chance we want to complicate hb_arrayClone to catch these? It could
copy a subarray once, and have any subsequent references point back to the
first copy instead ?   Since this is all happening in the guts of our OOPs
engine, it may be a significant problem in having a fully robust classes
engine.

FUNCTION test ()
local aTmp
aTmp := {1,2,3,4}
aTmp[4] := aTmp
? "before clone", seconds()
aTmp2 := aclone(aTmp)
? "after clone", seconds(), aTmp2[1],aTmp2[2],aTmp2[3],aTmp2[4]
?

RETURN Nil

Brian Hays



From harbour@matrixlist.com  Tue Apr 17 14:18:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Tue Apr 17 13:18:02 2001
Subject: [Harbour] HB_TRACE
Message-ID: <003701c0c763$329a0be0$921a5e18@bh>

Would it be possible to have a switch for HB_TRACE so that it is NOT
buffered, and instead writes and *closes* the output file (if going to
file)??   It wasn't until I replaced these traces with a different function
that I was able to trace the gpfs.  That cost me more than a bottleful of
midnight oil ....


Brian Hays



From harbour@matrixlist.com  Tue Apr 17 14:20:03 2001
From: harbour@matrixlist.com (=?iso-8859-1?Q?Ignacio_Ortiz_de_Z=FA=F1iga?=)
Date: Tue Apr 17 13:20:03 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)
In-Reply-To: <002f01c0c761$92e4b0b0$921a5e18@bh>
Message-ID: <ANEEJCPNEPCPMGBDJOOECEJDCCAA.ignacio@ozs.com>

Brian,

Great news!!! I am sure it has been a horrible nightmare for you. Great job.

Regards,

Ignacio Ortiz de Ziga
Email: ignacio@ozs.com
Phone Email: ignaciosms@ozs.com
http://www.ozs.com

-----Mensaje original-----
De: harbour-admin@matrixlist.com [mailto:harbour-admin@matrixlist.com]En
nombre de Brian Hays
Enviado el: martes, 17 de abril de 2001 19:12
Para: harbour dev list
CC: Sid Saylors
Asunto: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)


OK, I finally resolved the issue to a small test.
Bottom line: You cannot aClone an array with self-references.

The following test will gpf in Harbour as it gets into hb_arrayClone and
spins in a circle for a bit.  It will also generate an error in Clipper, but
not a reported gpf--a tall callstack gets written to stdErr.

So apparently my routines that seemed to set up the problem are adding
values to classdatas or datas that end up with circular references.  It's a
bit more insipid than this little test because down deep a subarray has a
subarray that has a reference to something 8 levels above.

Since it is possible for a valid circular reference to exist in an array, is
there chance we want to complicate hb_arrayClone to catch these? It could
copy a subarray once, and have any subsequent references point back to the
first copy instead ?   Since this is all happening in the guts of our OOPs
engine, it may be a significant problem in having a fully robust classes
engine.

FUNCTION test ()
local aTmp
aTmp := {1,2,3,4}
aTmp[4] := aTmp
? "before clone", seconds()
aTmp2 := aclone(aTmp)
? "after clone", seconds(), aTmp2[1],aTmp2[2],aTmp2[3],aTmp2[4]
?

RETURN Nil

Brian Hays


_______________________________________________
Harbour mailing list
Harbour@matrixlist.com
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org



From harbour@matrixlist.com  Tue Apr 17 14:33:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 17 13:33:02 2001
Subject: [Harbour] ChangeLog 2001-04-17 10:35 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <ANEEJCPNEPCPMGBDJOOECEJDCCAA.ignacio@ozs.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAEFCDLAA.Ron@Profit-Master.com>

2001-04-17 10:35 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * source/vm/arrays.c
     ! Fixed GPF when aCloning an Array with circular references to itself.

From harbour@matrixlist.com  Tue Apr 17 14:35:04 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr 17 13:35:04 2001
Subject: [Harbour] HB_TRACE
In-Reply-To: <003701c0c763$329a0be0$921a5e18@bh>
Message-ID: <200104171731.f3HHVLG04819@smtp.parrett.net>

** Reply to message from "Brian Hays" <bhays@abacuslaw.com> on Tue, 17
Apr 2001 10:24:02 -0700

> Would it be possible to have a switch for HB_TRACE so that it is NOT
> buffered, and instead writes and *closes* the output file (if going to
> file)??

Adding fflush( s_fp ) followed by close( dup( fileno( s_fp ))) to
hb_tr_trace() function inside an if( s_flush ) block should do the
trick. And in hb_tr_level(), add a check for the environment variable
HB_TR_FLUSH and if it exists, then set s_flush to a non-zero value,
otherwise zero s_flush.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 17 14:36:01 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Tue Apr 17 13:36:01 2001
Subject: [Harbour] ChangeLog 2001-04-17 10:35 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKAEFCDLAA.Ron@Profit-Master.com>
Message-ID: <NCBBJKNMIDPJNLJCHCHIMEPNGBAA.harbour@winfakt.com>

Ron,

> 2001-04-17 10:35 UTC-0800 Ron Pinkas <ron@profit-master.com>
>    * source/vm/arrays.c
>      ! Fixed GPF when aCloning an Array with circular references 
> to itself.

Thanks for the quick fix!! ;-))

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)

From harbour@matrixlist.com  Tue Apr 17 15:54:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Tue Apr 17 14:54:01 2001
Subject: [Harbour] ChangeLog 2001-04-17 10:35 UTC-0800 Ron Pinkas <ron@profit-master.com>
References: <LOBBKAFMMFGJIKLMEPAKAEFCDLAA.Ron@Profit-Master.com>
Message-ID: <001101c0c770$8d22da30$2400a8c0@local>

Ron:
Thanks, but that only fixes the fairly superficial problem of an array that
literally references itself.
In the classes, the recursive reference is apparently 8 levels deep.

Brian

----- Original Message -----
From: Ron Pinkas <Ron@Profit-Master.com>
To: <harbour@matrixlist.com>
Sent: Tuesday, April 17, 2001 10:36 AM
Subject: [Harbour] ChangeLog 2001-04-17 10:35 UTC-0800 Ron Pinkas
<ron@profit-master.com>


> 2001-04-17 10:35 UTC-0800 Ron Pinkas <ron@profit-master.com>
>    * source/vm/arrays.c
>      ! Fixed GPF when aCloning an Array with circular references to
itself.
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>



From harbour@matrixlist.com  Tue Apr 17 17:06:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr 17 16:06:02 2001
Subject: [Harbour] __dbDelim()
Message-ID: <200104172002.f3HK24G21579@smtp.parrett.net>

I've started work on a PRG implementation of __dbDelim() (which is used
for the COPY ... TO ... DELIMITED ... command).
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 17 17:15:03 2001
From: harbour@matrixlist.com (Martin Vogel)
Date: Tue Apr 17 16:15:03 2001
Subject: [Harbour] CHANGELOG: 2001-04-17 21:30 CET Martin Vogel <vogel@inttec.de>
Message-ID: <000001c0c77b$7ed70720$37cbce81@martinvogel>

2001-04-17 21:30 CET Martin Vogel <vogel@inttec.de>
   + contrib/libct/atnum.c
     + AFTERATNUM() function
     + BEFORATNUM() function
     + ATNUM()      function

   * contrib/libct/Makefile
     * changed library name to libct
     + added atnum.c
   * contrib/libct/makefile.bc
     * changed library name to libct
     + added atnum.c
   * contrib/libct/makefile.vc
     * changed library name to libct
     + added atnum.c

   + contrib/libct/tests/afteratn.prg
   + contrib/libct/tests/atnum.prg
   + contrib/libct/tests/beforatn.prg

   * contrib/libct/tests/Makefile
     + added afteratn.prg
     + added atnum.prg
     + added beforatn.prg

   * contrib/libct/ct.ch
     * error correction



From harbour@matrixlist.com  Tue Apr 17 17:31:03 2001
From: harbour@matrixlist.com (Martin Vogel)
Date: Tue Apr 17 16:31:03 2001
Subject: [Harbour] CHANGELOG: 2001-04-17 17:55 CET Martin Vogel <vogel@inttec.de>
Message-ID: <002d01c0c77d$b6e0d040$37cbce81@martinvogel>

Ron,

>BTW, could you please post a quick list of the Functions now implemented?


Victor and Phil have written:
checksum, chareven, charmix, charodd, colorton, crypt, center, csetcurs,
csetkey, enhanced, standard, ltoc, restgets, savegets, screenmix, posupper,
numtoken, token

and I have posted now
csetref, csetatmupa, setatlike, addascii, afteratnum, atnum, beforatnum

and a small (maybe stupid) test program for every function in the
contrib\libct\tests subdirectory.
I have also rewritten some of Victor and Phil's functions (e.g. the token
function) and
I'm gonna post these and the other files I have step by step in the next
days (I first
have to do some cleanup work - and yes, if anybody speaking a better english
than me could perhaps go through the documentation of the functions and
correct it ?!)

I will also CVS a function status list for libct. Give me a day or two and I
compile one.

Regards

Martin



From harbour@matrixlist.com  Tue Apr 17 17:35:04 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr 17 16:35:04 2001
Subject: [Harbour] Provlem with FIELDGET and numeric fields
Message-ID: <200104172031.f3HKVbG24500@smtp.parrett.net>

I'm not sure if this is a generic FIELDGET problem or specific to the
ADS RDD, which is the only RDD that I've currently tested this with. The
problem is that FIELDGET on a numeric field sets the display width to 20
instead of setting it to the field width.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 17 19:13:01 2001
From: harbour@matrixlist.com (JF Lefebvre)
Date: Tue Apr 17 18:13:01 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)
In-Reply-To: <002f01c0c761$92e4b0b0$921a5e18@bh>
Message-ID: <200104172212.f3HMCW903497@ev6.be.wanadoo.com>

To all,

I just sended a new arrays.c to Bryan to let him test it agains 
__clsNew. I modified hb_arrayClone() so as it accept any level of 
self reference without cycling (I hope).

I will not be able to work on the problem till tomorrow night, so now, 
I cross all my fingers ;-)))

Have a good night,


Best regards,

J. Lefebvre,
Bruxelles,
Belgium


From harbour@matrixlist.com  Tue Apr 17 19:46:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Tue Apr 17 18:46:02 2001
Subject: [Harbour] Provlem with FIELDGET and numeric fields
References: <200104172031.f3HKVbG24500@smtp.parrett.net>
Message-ID: <007401c0c790$f1563270$2400a8c0@local>

David:
Aaahhh, my favorite topic!  We still have that little space buglet when
macro-expanding str()...

The rddads function adsGetValue() is what returns the field's data.  For
numerics it returns in pItem:

         if( pField->uiDec )
            hb_itemPutNDLen( pItem, atof( pBuffer ),
                             ( int ) pField->uiLen - ( ( int ) pField->uiDec
+ 1 ),
                             ( int ) pField->uiDec );
         else
            hb_itemPutNLLen( pItem, atol( pBuffer ), ( int )
pField->uiLen );

The concept of a "display width" was new to me when we discussed that other
issue.  I've never seen anything in the code that actually sets it.  Should
that be the responsibility of hb_itemPutNLLen()?
>From here it goes back to the FieldGet function in dbcmd.c.  Perhaps that's
a better central spot for it.

Is this the "length" member of the union in the HB_ITEM structure?

Brian

----- Original Message -----
From: David G. Holm <dholm@jsd-llc.com>
To: <Harbour@matrixlist.com>
Sent: Tuesday, April 17, 2001 1:33 PM
Subject: [Harbour] Provlem with FIELDGET and numeric fields


> I'm not sure if this is a generic FIELDGET problem or specific to the
> ADS RDD, which is the only RDD that I've currently tested this with. The
> problem is that FIELDGET on a numeric field sets the display width to 20
> instead of setting it to the field width.
> --
> David G. Holm, Set Captain and all around
> Harbour Project Clipper Compatibility fanatic.
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>



From harbour@matrixlist.com  Tue Apr 17 21:00:04 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Tue Apr 17 20:00:04 2001
Subject: [Harbour] Alltrim and Trim Bugs and chr(0)
Message-ID: <008901c0c79b$2f71a850$2400a8c0@local>

The Trim functions return a chr(0) instead of an empty string:

cStr := " "  // <<<  This can be empty OR spaces
? asc(trim(cStr)), asc(alltrim(cStr))  

These print Zero !!


Brian Hays



From harbour@matrixlist.com  Tue Apr 17 21:18:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Tue Apr 17 20:18:02 2001
Subject: [Harbour] Alltrim and Trim Bugs and chr(0)
References: <008901c0c79b$2f71a850$2400a8c0@local>
Message-ID: <00aa01c0c79d$b9931170$2400a8c0@local>

Sorry, please ignore this for now.  The asc() values are the same as clipper
here, but we are getting some string functions that are literally returning
a chr(0) instead of an empty string.  I'll confirm asap....
Brian

----- Original Message -----
From: Brian Hays <bhays@abacuslaw.com>
To: harbour dev list <harbour@matrixlist.com>
Sent: Tuesday, April 17, 2001 5:04 PM
Subject: [Harbour] Alltrim and Trim Bugs and chr(0)


> The Trim functions return a chr(0) instead of an empty string:
>
> cStr := " "  // <<<  This can be empty OR spaces
> ? asc(trim(cStr)), asc(alltrim(cStr))
>
> These print Zero !!
>
>
> Brian Hays
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>



From harbour@matrixlist.com  Tue Apr 17 23:33:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 17 22:33:02 2001
Subject: [Harbour] ChangeLog 2001-04-17 19:30 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <00aa01c0c79d$b9931170$2400a8c0@local>
Message-ID: <LOBBKAFMMFGJIKLMEPAKMEFGDLAA.Ron@Profit-Master.com>

2001-04-17 19:30 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * include/hbapi.h
     + Added typedef struct HB_NESTED_CLONED
     * Changed declaration of hb_arrayClone to hb_arrayClone( PHB_ITEM
pArray, PHB_NESTED_CLONED pClonedList, BOOL *bCyclic )

   * source/vm/arrays.c
     ! Fixed hb_arrayClone() to correctly clone any array including RELATIVE
Cyclic Referencing of any level.

   * source/vm/arrayshb.c
   * source/vm/classes.c
   * source/vm/hvm.c
     * Changed calls to hb_arrayClone() to pass 2 additional NULLs as 2nd.
and 3rd. parameters.


From harbour@matrixlist.com  Wed Apr 18 03:59:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr 18 02:59:02 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)
In-Reply-To: <200104172212.f3HMCW903497@ev6.be.wanadoo.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKMEFIDLAA.Ron@Profit-Master.com>

J.F.,

> I just sended a new arrays.c to Bryan to let him test it agains
> __clsNew. I modified hb_arrayClone() so as it accept any level of
> self reference without cycling (I hope).
>
> I will not be able to work on the problem till tomorrow night, so now,
> I cross all my fingers ;-)))

Brian forwarded me your changed arrays.c, because he knew I was already
working on a more complete correction (to my original fix), before you sent
him your version.

Since your version was not complete, I posted the version of arrays.c that I
completed. It should clone even relative cyclic references.

Consider this:

//-------------------------------------------------------------------------/
/
Procedure Main

   local aTmp, aTmp2

   aTmp := { 1, {2, 2}, {3, 3, 3}, {4, 4, 4, 4} }

   aTmp[2][2] := aTmp
   aTmp[3][3] := aTmp[2]
   aTmp[4][4] := aTmp[3]

   ? Len( aTmp ), aTmp[2][2][1], aTmp[3][3][1],aTmp[4][4][1], aTmp[4][1]

   aTmp2 := aclone(aTmp )

   aSize( aTmp, 0 )

   ? Len( aTmp2 ), aTmp2[2][2][1], aTmp2[3][3][1],aTmp2[4][4][1],
aTmp2[4][1]

RETURN
//-------------------------------------------------------------------------/
/

Ron


From harbour@matrixlist.com  Wed Apr 18 04:12:02 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Wed Apr 18 03:12:02 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)
References: <002f01c0c761$92e4b0b0$921a5e18@bh>
Message-ID: <3ADD3DFF.FDD78427@libero.it>

Brian,

as a side note, I've just compiled your little test with Xbase++ 1.6 and it dies
as well :-) and without any stack trace.

regards.



Brian Hays ha scritto:

> OK, I finally resolved the issue to a small test.
> Bottom line: You cannot aClone an array with self-references.
>
> The following test will gpf in Harbour as it gets into hb_arrayClone and
> spins in a circle for a bit.  It will also generate an error in Clipper, but
> not a reported gpf--a tall callstack gets written to stdErr.
>
> So apparently my routines that seemed to set up the problem are adding
> values to classdatas or datas that end up with circular references.  It's a
> bit more insipid than this little test because down deep a subarray has a
> subarray that has a reference to something 8 levels above.
>
> Since it is possible for a valid circular reference to exist in an array, is
> there chance we want to complicate hb_arrayClone to catch these? It could
> copy a subarray once, and have any subsequent references point back to the
> first copy instead ?   Since this is all happening in the guts of our OOPs
> engine, it may be a significant problem in having a fully robust classes
> engine.
>
> FUNCTION test ()
> local aTmp
> aTmp := {1,2,3,4}
> aTmp[4] := aTmp
> ? "before clone", seconds()
> aTmp2 := aclone(aTmp)
> ? "after clone", seconds(), aTmp2[1],aTmp2[2],aTmp2[3],aTmp2[4]
> ?
>
> RETURN Nil
>
> Brian Hays
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Wed Apr 18 04:26:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr 18 03:26:01 2001
Subject: [Harbour] ChangeLog 2001-04-17 23:55 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <3ADD3DFF.FDD78427@libero.it>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEFJDLAA.Ron@Profit-Master.com>

2001-04-17 23:55 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * include/hbapi.h
     * Removed 3rd parameter from declaration of hb_arrayClone().

   * source/vm/arrays.c
     ! Optimized and improved hb_arrayClone().

   * source/vm/arrayshb.c
   * source/vm/classes.c
   * source/vm/hvm.c
     * Changed calls to hb_arrayClone() to remove no longer needed, 3rd
parameter.


From harbour@matrixlist.com  Wed Apr 18 04:30:05 2001
From: harbour@matrixlist.com (harbour@matrixlist.com)
Date: Wed Apr 18 03:30:05 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKMEFIDLAA.Ron@Profit-Master.com>
References: <200104172212.f3HMCW903497@ev6.be.wanadoo.com>
Message-ID: <3ADD5E38.21471.4030EDD@localhost>

Thanks Ron,

I see your post this morning, no problem at all.

Does Brian confirmed it solve the problem ?

See you,

> J.F.,
> 
>... 
> Brian forwarded me your changed arrays.c, because he knew I was
> already working on a more complete correction (to my original fix),
> before you sent him your version.
> 
> Since your version was not complete, I posted the version of arrays.c
> that I completed. It should clone even relative cyclic references.
> 
> Consider this:
> 
> //--------------------------------------------------------------------
> -----/ / Procedure Main
> 
>    local aTmp, aTmp2
> 
>    aTmp := { 1, {2, 2}, {3, 3, 3}, {4, 4, 4, 4} }
> 
>    aTmp[2][2] := aTmp
>    aTmp[3][3] := aTmp[2]
>    aTmp[4][4] := aTmp[3]
> 
>    ? Len( aTmp ), aTmp[2][2][1], aTmp[3][3][1],aTmp[4][4][1],
>    aTmp[4][1]
> 
>    aTmp2 := aclone(aTmp )
> 
>    aSize( aTmp, 0 )
> 
>    ? Len( aTmp2 ), aTmp2[2][2][1], aTmp2[3][3][1],aTmp2[4][4][1],
> aTmp2[4][1]
> 
> RETURN
> //--------------------------------------------------------------------
> -----/ /


Best regards,

J. Lefebvre <jflefebv@mafact.com>
Mafact SA/NV
Belgium
(See us at http://www.mafact.com)
jflefebv@mafact.com


From harbour@matrixlist.com  Wed Apr 18 04:48:02 2001
From: harbour@matrixlist.com (Marek Horodyski)
Date: Wed Apr 18 03:48:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-17 17:55 CET Martin Vogel <vogel@inttec.de>
References: <002d01c0c77d$b6e0d040$37cbce81@martinvogel>
Message-ID: <060701c0c7db$e3ffa0c0$1321000a@altkomhomar>

----- Original Message -----
From: "Martin Vogel" <martin.vogel@urz.uni-heidelberg.de>
To: <harbour@matrixlist.com>
Sent: Tuesday, April 17, 2001 10:33 PM
Subject: Re: [Harbour] CHANGELOG: 2001-04-17 17:55 CET Martin Vogel
<vogel@inttec.de>


> Ron,
>
> >BTW, could you please post a quick list of the Functions now implemented?
>
>
> Victor and Phil have written:
> checksum, chareven, charmix, charodd, colorton, crypt, center, csetcurs,
> csetkey, enhanced, standard, ltoc, restgets, savegets, screenmix,
posupper,
> numtoken, token
>
> and I have posted now
> csetref, csetatmupa, setatlike, addascii, afteratnum, atnum, beforatnum
>
Martin, you are great ( Victor and Phil too :). I'm ejojed, and waiting to
functions from NN*() series [NnetWhoAmi(), NNetSemOpn() and similary]. I'm
dont know C :( .

Regards,
Marek Horodyski


From harbour@matrixlist.com  Wed Apr 18 04:50:03 2001
From: harbour@matrixlist.com (Marek Horodyski)
Date: Wed Apr 18 03:50:03 2001
Subject: [Harbour] [harbour-pl] Error 9002.
Message-ID: <060901c0c7dc$31bbd5e0$1321000a@altkomhomar>

Nobody read HarbourUsers, so I wriete this hier :-((.

After run my aplication, I have an error :

C:\HARBOUR\HARBOUR\HOMAR\EXE>homar.exe

Unrecoverable error 9002: No ERRORBLOCK() for error
Called from RDDINIT(61)


This is source :
 ANNOUNCE RDDSYS
  INIT PROCEDURE RddInit
  REQUEST DBFNTX 
  REQUEST DBFCDX
  rddSetDefault( "DBFCDX" ) // in this line (61) is error.
  RETURN

Harbour 0.36 - bcc32 version.

What I can do ?

Regards,
Marek Horodyski






From harbour@matrixlist.com  Wed Apr 18 05:06:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr 18 04:06:01 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)
In-Reply-To: <3ADD5E38.21471.4030EDD@localhost>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEFKDLAA.Ron@Profit-Master.com>

> Thanks Ron,
>
> I see your post this morning, no problem at all.
>
> Does Brian confirmed it solve the problem ?
>
> See you,

We should know soon...

BTW, in Clipper aClone() does NOT process objects, it only process PURE
Arrays.

I'm not sure if this restriction is only applicable to the high level? Is
there any arrayClone() low level in Clipper? If so is it restricted too?

I think we should only apply this restriction at ACLONE() (Harbour Level),
and add OCLONE() which is NOT restricted.

It seems hb_arrayCopy() already has such restriction, but I think this
should be moved to OCOPY() which means we should also add a NON restricted
version, OCOPY().

Finally, once all is clear with last changes to hb_arrayClone(), we should
also copy the relative cyclic logic of hb_arrayClone() to hb_arrayCopy().

Any input...

Ron


From harbour@matrixlist.com  Wed Apr 18 05:06:21 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Wed Apr 18 04:06:21 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)
References: <002f01c0c761$92e4b0b0$921a5e18@bh> <3ADD3DFF.FDD78427@libero.it>
Message-ID: <001f01c0c7df$57a41760$921a5e18@bh>

I knew there was a reason I chose Harbour ;-)

Brian

----- Original Message -----
From: "Maurilio Longo" <maurilio.longo@libero.it>
To: <harbour@matrixlist.com>
Sent: Wednesday, April 18, 2001 12:10 AM
Subject: Re: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)


> Brian,
>
> as a side note, I've just compiled your little test with Xbase++ 1.6 and
it dies
> as well :-) and without any stack trace.
>



From harbour@matrixlist.com  Wed Apr 18 05:10:04 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Wed Apr 18 04:10:04 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)
References: <LOBBKAFMMFGJIKLMEPAKEEFKDLAA.Ron@Profit-Master.com>
Message-ID: <3ADD4BA7.FB243B9B@libero.it>

Ron,

acopy() copies only first level of an array (t does not copy subarrays), so it
should have not this kind of problems with circular references.

regards.


Ron Pinkas ha scritto:

> > Thanks Ron,
> >
> > I see your post this morning, no problem at all.
> >
> > Does Brian confirmed it solve the problem ?
> >
> > See you,
>
> We should know soon...
>
> BTW, in Clipper aClone() does NOT process objects, it only process PURE
> Arrays.
>
> I'm not sure if this restriction is only applicable to the high level? Is
> there any arrayClone() low level in Clipper? If so is it restricted too?
>
> I think we should only apply this restriction at ACLONE() (Harbour Level),
> and add OCLONE() which is NOT restricted.
>
> It seems hb_arrayCopy() already has such restriction, but I think this
> should be moved to OCOPY() which means we should also add a NON restricted
> version, OCOPY().
>
> Finally, once all is clear with last changes to hb_arrayClone(), we should
> also copy the relative cyclic logic of hb_arrayClone() to hb_arrayCopy().
>
> Any input...
>
> Ron
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Wed Apr 18 05:22:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Wed Apr 18 04:22:02 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)
References: <002f01c0c761$92e4b0b0$921a5e18@bh>
Message-ID: <003401c0c7e1$8acf14d0$921a5e18@bh>

Ron:
Thanks a lot for the post!
So far everything seems to work great.  We'll do a lot of testing tomorrow
to make sure.


Brian


From harbour@matrixlist.com  Wed Apr 18 05:26:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr 18 04:26:02 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)
In-Reply-To: <3ADD4BA7.FB243B9B@libero.it>
Message-ID: <LOBBKAFMMFGJIKLMEPAKCEFLDLAA.Ron@Profit-Master.com>

Maurilio,

> acopy() copies only first level of an array (t does not copy
> subarrays), so it
> should have not this kind of problems with circular references.

I don't think so, consider this:

a1 := { 1, 2, 3}
a1[3] := a1

a2 := Array( Len( a1 ) )
aCopy( a1, a2 )

Wouldn't you expect that the relative self reference be duplicated? I think
that a2[3] should equal a2 and not a1 and this can easily be achieved.

Ron



From harbour@matrixlist.com  Wed Apr 18 05:36:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr 18 04:36:01 2001
Subject: [Harbour] ChangeLog 2001-04-18 01:30 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <003401c0c7e1$8acf14d0$921a5e18@bh>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEFLDLAA.Ron@Profit-Master.com>

2001-04-18 01:30 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * source/vm/arrays.c
     ! Corrected a minor typo, that could cause some un-released memory on
some occasions.


From harbour@matrixlist.com  Wed Apr 18 05:36:21 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Wed Apr 18 04:36:21 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)
References: <LOBBKAFMMFGJIKLMEPAKCEFLDLAA.Ron@Profit-Master.com>
Message-ID: <3ADD51CB.565AA9F0@libero.it>

Ron,

this is clipper 5.2 norton guide text about acopy():

Description

    ACOPY() is an array function that copies elements from the <aSource>
    array to the <aTarget> array.  The <aTarget> array must already exist
    and be large enough to hold the copied elements.  If the <aSource> array
    has more elements, some elements will not be copied.

    ACOPY() copies values of all data types including NIL and code blocks.
    If an element of the <aSource> array is a subarray, the corresponding
    element in the <aTarget> array will contain a reference to the subarray.
    Thus, ACOPY() will not create a complete duplicate of a multidimensional
    array.  To do this, use the ACLONE() function.


I really don't know if a2[3] should point to a2 or to a1 (I'd say a1) but maybe
it would be better to test it in real clipper.

regards.



Ron Pinkas ha scritto:

> Maurilio,
>
> > acopy() copies only first level of an array (t does not copy
> > subarrays), so it
> > should have not this kind of problems with circular references.
>
> I don't think so, consider this:
>
> a1 := { 1, 2, 3}
> a1[3] := a1
>
> a2 := Array( Len( a1 ) )
> aCopy( a1, a2 )
>
> Wouldn't you expect that the relative self reference be duplicated? I think
> that a2[3] should equal a2 and not a1 and this can easily be achieved.
>
> Ron
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Wed Apr 18 05:42:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr 18 04:42:02 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEFLDLAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAEFMDLAA.Ron@Profit-Master.com>

> Maurilio,
>
> > acopy() copies only first level of an array (t does not copy
> > subarrays), so it
> > should have not this kind of problems with circular references.
>
> I don't think so, consider this:
>
> a1 := { 1, 2, 3}
> a1[3] := a1
>
> a2 := Array( Len( a1 ) )
> aCopy( a1, a2 )
>
> Wouldn't you expect that the relative self reference be
> duplicated? I think
> that a2[3] should equal a2 and not a1 and this can easily be achieved.

Just to clarify, I know that Clipper does NOT work as I suggest (and would
expect) but the fact that such logic is also missing from aClone() (which
was supposed to have such) suggests to me this is a BUG (omission) rather
than intended behavior.

The question would be should we bother correct it, and if so protect it with
#ifndef STRICT...?

Ron


From harbour@matrixlist.com  Wed Apr 18 05:50:03 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Wed Apr 18 04:50:03 2001
Subject: [Harbour] ChangeLog 2001-04-17 23:55 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEFJDLAA.Ron@Profit-Master.com>
Message-ID: <000901c0c7e3$ceb13f00$0f2aa8c0@antonio>

Ron,

Superb!!!

Thanks, Master!

Antonio

> 2001-04-17 23:55 UTC-0800 Ron Pinkas <ron@profit-master.com>
>    * include/hbapi.h
>      * Removed 3rd parameter from declaration of hb_arrayClone().
> 
>    * source/vm/arrays.c
>      ! Optimized and improved hb_arrayClone().
> 
>    * source/vm/arrayshb.c
>    * source/vm/classes.c
>    * source/vm/hvm.c
>      * Changed calls to hb_arrayClone() to remove no longer needed, 3rd
> parameter.
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 


From harbour@matrixlist.com  Wed Apr 18 06:54:02 2001
From: harbour@matrixlist.com (John Skelton)
Date: Wed Apr 18 05:54:02 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF,
 Antonio)
Message-ID: <200104180552_MC2-CCD4-F71B@compuserve.com>

Ron,

> I know that Clipper does NOT work as I suggest

:-)

For ACopy() I think we should not change it from what Clipper does.
For your sample a2[3] would be a1, not a2, even though that's not
intuitive to a beginner.  People rapidly discover that AClone() is
often what they want.

> such logic is also missing from aClone() (which was supposed to
> have such) suggests to me this is a BUG (omission) rather
> than intended behavior.

I agree that AClone() was supposed to work with any nested/cyclic
arrays, and I also think it's a bug that it does not.

> should we bother correct it, and if so protect it with
> #ifndef STRICT...?

I think yes & yes - for AClone().

Actually, I really mean no. :-)  I recommend leaving AClone() with
Clipper's limitation (bug) and instead add (say) XClone() which fixes
the bug and also handles all data types it can, no matter how
nested/complex.  I'm not sure what should happen with a FIELD; just
use/return it, I suppose.

Add a note to AClone()'s doc that it keeps Clipper's behaviour but
that XClone() exists. :-)

An object is slightly problematic.  Clearly it can be cloned but this
can break an OO design - e.g. if it's a singleton.  This is probably
best ignored^H^H^H^H^H^H^H left to the developer to deal with, i.e.
XClone() would not know whether an object is meant to be a singleton
so would clone it.

John.

From harbour@matrixlist.com  Wed Apr 18 07:34:02 2001
From: harbour@matrixlist.com (Phil Barnett)
Date: Wed Apr 18 06:34:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-17 17:55 CET Martin Vogel <vogel@inttec.de>
In-Reply-To: <060701c0c7db$e3ffa0c0$1321000a@altkomhomar>
Message-ID: <3ADD3550.16135.160FAB90@localhost>

On 18 Apr 2001, at 9:16, Marek Horodyski wrote:

> Martin, you are great ( Victor and Phil too :). I'm ejojed, and
> waiting to functions from NN*() series [NnetWhoAmi(), NNetSemOpn()
> and similary]. I'm dont know C :( . 

Unfortunately, these are Netware 3 native functions only. They don't 
work in Windows 9x or NT server areas, and don't work in Netware 
4 and 5 unless you turn on Bindery Emulation.

As such, they become much less useful as years pass.


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@matrixlist.com  Wed Apr 18 10:00:03 2001
From: harbour@matrixlist.com (Marek Horodyski)
Date: Wed Apr 18 09:00:03 2001
Subject: [Harbour] CHANGELOG: 2001-04-17 17:55 CET Martin Vogel <vogel@inttec.de>
References: <3ADD3550.16135.160FAB90@localhost>
Message-ID: <072101c0c807$91720970$1321000a@altkomhomar>

----- Original Message -----
From: "Phil Barnett" <midnight@the-oasis.net>
To: <harbour@matrixlist.com>
Sent: Wednesday, April 18, 2001 12:33 PM
Subject: Re: [Harbour] CHANGELOG: 2001-04-17 17:55 CET Martin Vogel
<vogel@inttec.de>


> On 18 Apr 2001, at 9:16, Marek Horodyski wrote:
>
> > Martin, you are great ( Victor and Phil too :). I'm ejojed, and
> > waiting to functions from NN*() series [NnetWhoAmi(), NNetSemOpn()
> > and similary]. I'm dont know C :( .
>
> Unfortunately, these are Netware 3 native functions only. They don't
> work in Windows 9x or NT server areas, and don't work in Netware
> 4 and 5 unless you turn on Bindery Emulation.
>
> As such, they become much less useful as years pass.
>

Just, I'm don't so happy as before :-(. In Clipper I use :
If  NNetwork()
    User := NNetName( NNetAdr()) + '\' + NNetStaID()
Else
    User := NetName()
End

and similary. I'm must to walk round it /oh, my poor english/.

Regards,
Marek Horodyski


From harbour@matrixlist.com  Wed Apr 18 11:00:03 2001
From: harbour@matrixlist.com (Martin Vogel)
Date: Wed Apr 18 10:00:03 2001
Subject: [Harbour] CHANGELOG: 2001-04-18 15:50 CET Martin Vogel <vogel@inttec.de>
Message-ID: <3ADD9E0D.1A8CD05@urz.uni-heidelberg.de>

2001-04-18 15:50 CET Martin Vogel <vogel@inttec.de>
   * contrib/libct/makefile.bc
     ! Corrected a typo

Regards

Martin

From harbour@matrixlist.com  Wed Apr 18 12:12:02 2001
From: harbour@matrixlist.com (Juan Agustin Barriga)
Date: Wed Apr 18 11:12:02 2001
Subject: [Harbour] Provlem with FIELDGET and numeric fields
References: <200104172031.f3HKVbG24500@smtp.parrett.net> <007401c0c790$f1563270$2400a8c0@local>
Message-ID: <004d01c0c819$9566e520$c06410ac@jharrier>

I have just applied the "new to me" hb_itemPutNDLen() and hb_itemPutNLLen()
on my RDD's GetField, and now the correct with/decimals are displayed on a
simple browse! This was NEVER posible in Clipper. Learn something every day.

Regards
Harrier

----- Original Message -----
From: "Brian Hays" <bhays@abacuslaw.com>
To: <harbour@matrixlist.com>
Sent: Tuesday, April 17, 2001 6:51 PM
Subject: Re: [Harbour] Provlem with FIELDGET and numeric fields


> David:
> Aaahhh, my favorite topic!  We still have that little space buglet when
> macro-expanding str()...
>
> The rddads function adsGetValue() is what returns the field's data.  For
> numerics it returns in pItem:
>
>          if( pField->uiDec )
>             hb_itemPutNDLen( pItem, atof( pBuffer ),
>                              ( int ) pField->uiLen - ( ( int )
pField->uiDec
> + 1 ),
>                              ( int ) pField->uiDec );
>          else
>             hb_itemPutNLLen( pItem, atol( pBuffer ), ( int )
> pField->uiLen );
>
> The concept of a "display width" was new to me when we discussed that
other
> issue.  I've never seen anything in the code that actually sets it.
Should
> that be the responsibility of hb_itemPutNLLen()?
> From here it goes back to the FieldGet function in dbcmd.c.  Perhaps
that's
> a better central spot for it.
>
> Is this the "length" member of the union in the HB_ITEM structure?
>
> Brian
>
> ----- Original Message -----
> From: David G. Holm <dholm@jsd-llc.com>
> To: <Harbour@matrixlist.com>
> Sent: Tuesday, April 17, 2001 1:33 PM
> Subject: [Harbour] Provlem with FIELDGET and numeric fields
>
>
> > I'm not sure if this is a generic FIELDGET problem or specific to the
> > ADS RDD, which is the only RDD that I've currently tested this with. The
> > problem is that FIELDGET on a numeric field sets the display width to 20
> > instead of setting it to the field width.
> > --
> > David G. Holm, Set Captain and all around
> > Harbour Project Clipper Compatibility fanatic.
> > _______________________________________________
> > Harbour mailing list
> > Harbour@matrixlist.com
> > http://www.matrixlist.com/mailman/listinfo/harbour
> >
> > Thank you for participating in The Harbour Project.  Be sure to check
> > http://www.Harbour-Project.org
> >
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@matrixlist.com  Wed Apr 18 12:45:03 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr 18 11:45:03 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF,  Antonio)
In-Reply-To: <200104180552_MC2-CCD4-F71B@compuserve.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAEFODLAA.Ron@Profit-Master.com>

John

> > should we bother correct it, and if so protect it with
> > #ifndef STRICT...?
>
> I think yes & yes - for AClone().
>
> Actually, I really mean no. :-)  I recommend leaving AClone() with
> Clipper's limitation (bug) and instead add (say) XClone() which fixes
> the bug and also handles all data types it can, no matter how
> nested/complex.  I'm not sure what should happen with a FIELD; just
> use/return it, I suppose.

I'm not sure we should leave the BUG, because it simply causes Clipper to
CRASH! I don't think this is a compatibility issue, as no one would want
their app to crash. Or better yet, Harbour should not be GPF Compatible with
Clipper, should it?

> An object is slightly problematic.  Clearly it can be cloned but this
> can break an OO design - e.g. if it's a singleton.  This is probably
> best ignored^H^H^H^H^H^H^H left to the developer to deal with, i.e.
> XClone() would not know whether an object is meant to be a singleton
> so would clone it.

What is a singleton object?

Ron


From harbour@matrixlist.com  Wed Apr 18 13:02:02 2001
From: harbour@matrixlist.com (Harbour)
Date: Wed Apr 18 12:02:02 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF,  Antonio)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKAEFODLAA.Ron@Profit-Master.com>
Message-ID: 00408200104182303598303943AJMF@andijahja.org

Reply message to "Ron Pinkas" <Ron@Profit-Master.com> :

>I'm not sure we should leave the BUG, because it simply causes Clipper to
>CRASH! I don't think this is a compatibility issue, as no one would want
>their app to crash. Or better yet, Harbour should not be GPF Compatible with
>Clipper, should it?

What a wiseman thought ;-)))))


From harbour@matrixlist.com  Wed Apr 18 14:28:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr 18 13:28:02 2001
Subject: [Harbour] ChangeLog 2001-04-17 17:15 UTC-0400 David G. Holm
Message-ID: <200104181724.f3IHOCQ26886@smtp.parrett.net>

2001-04-17 17:15 UTC-0400 David G. Holm <dholm@jsd-llc.com>

  * hb_slex.bc
  * hb_slex.vc
  * makefile.bc
  * makefile.vc
  * doc/funclist.txt
  * source/rtl/Makefile
  + source/rtl/dbdelim.prg
  * source/rtl/dummy.prg
    + Added __dbDelim() function for use by COPY TO DELIMITED.
      FIELD, NEXT, FOR, and WHILE clauses are implemented, but I
      don't know what the first and last two parameters are for.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr 18 14:42:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Wed Apr 18 13:42:02 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)
References: <200104180552_MC2-CCD4-F71B@compuserve.com>
Message-ID: <004401c0c82f$98a3bea0$2400a8c0@local>

John:
I disagree on creating a separate xClone().
The only reason I can see is to avoid writing new code for Harbour that
works but ends up blowing up if run under Clipper.  The circumstances would
be so rare for this to be an issue, I don't see it worth the hassle for all
concerned of adding a note in AClone's docs to tell people to use XClone
instead. Chances are that anyone running into the issue will not have seen
such a note in recent history, and not have a clue why it's just GPFing in
the first place.
I don't see any problem with just fixing aClone to truly clone any array.

I agree that aCopy should behave as currently documented.

Brian

----- Original Message -----
From: John Skelton <John_Skelton@compuserve.com>
To: <harbour@matrixlist.com>
Sent: Wednesday, April 18, 2001 2:52 AM
Subject: RE: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)


Ron,

> I know that Clipper does NOT work as I suggest

:-)

For ACopy() I think we should not change it from what Clipper does.
For your sample a2[3] would be a1, not a2, even though that's not
intuitive to a beginner.  People rapidly discover that AClone() is
often what they want.

> such logic is also missing from aClone() (which was supposed to
> have such) suggests to me this is a BUG (omission) rather
> than intended behavior.

I agree that AClone() was supposed to work with any nested/cyclic
arrays, and I also think it's a bug that it does not.

> should we bother correct it, and if so protect it with
> #ifndef STRICT...?

I think yes & yes - for AClone().

Actually, I really mean no. :-)  I recommend leaving AClone() with
Clipper's limitation (bug) and instead add (say) XClone() which fixes
the bug and also handles all data types it can, no matter how
nested/complex.  I'm not sure what should happen with a FIELD; just
use/return it, I suppose.

Add a note to AClone()'s doc that it keeps Clipper's behaviour but
that XClone() exists. :-)

An object is slightly problematic.  Clearly it can be cloned but this
can break an OO design - e.g. if it's a singleton.  This is probably
best ignored^H^H^H^H^H^H^H left to the developer to deal with, i.e.
XClone() would not know whether an object is meant to be a singleton
so would clone it.

John.
_______________________________________________
Harbour mailing list
Harbour@matrixlist.com
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org




From harbour@matrixlist.com  Wed Apr 18 14:46:01 2001
From: harbour@matrixlist.com (John Skelton)
Date: Wed Apr 18 13:46:01 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF,
 Antonio)
Message-ID: <200104181344_MC2-CCF4-65B2@compuserve.com>

Ron,

> I'm not sure we should leave the BUG, because it simply causes Clipper =
to
> CRASH!

I would hope for UE 650 (or whatever is the number for stack overflow).

> I don't think this is a compatibility issue, as no one would want
> their app to crash.

Probably true.  But not always, e.g. one sample in C4W deliberately
causes stack overflow to demo what happens in MrDebug-4-Win.  Your
fix if applied to Clipper would break that sample!

> Harbour should not be GPF Compatible with Clipper, should it?

It's debatable.  E.g. the above.

> What is a singleton object?

The case where only one (of whatever class it is) should exist.  In
that case, attempting to create another may raise an error or it may
return the original object (depends on the OOP system).  I think
usually you get the latter behaviour.

John.

From harbour@matrixlist.com  Wed Apr 18 15:10:04 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Wed Apr 18 14:10:04 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)
In-Reply-To: <200104181344_MC2-CCF4-65B2@compuserve.com>; from John_Skelton@compuserve.com on Wed, Apr 18, 2001 at 01:44:27PM -0400
References: <200104181344_MC2-CCF4-65B2@compuserve.com>
Message-ID: <20010418190908.C11475@hagbard.davep.org>

On Wed, Apr 18, 2001 at 01:44:27PM -0400, John Skelton wrote:
> Ron,
> 
> > I don't think this is a compatibility issue, as no one would want
> > their app to crash.
> 
> Probably true. But not always, e.g. one sample in C4W deliberately causes
> stack overflow to demo what happens in MrDebug-4-Win. Your fix if applied
> to Clipper would break that sample!

Considering that this is a fix to harbour, not to Clipper, I think there's a
lot of merit in what Ron is saying. It seems to me that ACLONE() in harbour
should work and work well and shouldn't be bug compatible with CA-Clipper.

> > Harbour should not be GPF Compatible with Clipper, should it?
> 
> It's debatable.  E.g. the above.

I think your example will only have merit when there's a port of
MrDebug-4-Win for Harbour. Or, failing that, find a better method of
reproducing said error to demonstrate MrDebug-4-Win. ;>

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Wed Apr 18 15:22:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr 18 14:22:02 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)
In-Reply-To: <20010418190908.C11475@hagbard.davep.org>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEFPDLAA.Ron@Profit-Master.com>

> I think your example will only have merit when there's a port of
> MrDebug-4-Win for Harbour. Or, failing that, find a better method of
> reproducing said error to demonstrate MrDebug-4-Win. ;>

Indeed!

Self Recursion Function Call will reproduce the stack overflow error. I
suspect that's indeed how John does that, and NOT by cloning a self
referencing array.

I doubt this fix will have ANY impact on said, John's demo.

Ron


From harbour@matrixlist.com  Wed Apr 18 16:47:01 2001
From: harbour@matrixlist.com (JF Lefebvre)
Date: Wed Apr 18 15:47:01 2001
Subject: [Harbour] __ClsNew
In-Reply-To: <003e01c0c777$0a2ab2e0$2400a8c0@local>
Message-ID: <200104172028.f3HKSa920737@ev6.be.wanadoo.com>

Brian,


Whouawww, very good job, I must say, I'm impressed.


> ...

<FontFamily><param>Times New Roman</param><bigger>>The first question that pops up is: Is it really necessary to 
>CLONE the classDatas arrays?

>If instead an array assignment works (copying the address 
>essentially), then the problem is avoided efficiently.


Yes, I think I could avoid the use of aClone.



>Otherwise, it looks like hb_arrayClone will need to track all 
>array references in the recursion tree to avoid cyclical 
>references.


I will see how to resolve the problem of __clsNew without 
touching hb_arrayClone.

<nofill>
Best regards,

J. Lefebvre,
Bruxelles,
Belgium


From harbour@matrixlist.com  Wed Apr 18 16:50:03 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr 18 15:50:03 2001
Subject: [Harbour] ChangeLog 2001-04-17 17:15 UTC-0400 David G. Holm
In-Reply-To: <200104181724.f3IHOCQ26886@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEGBDLAA.Ron@Profit-Master.com>

David,

>     + Added __dbDelim() function for use by COPY TO DELIMITED.
>       FIELD, NEXT, FOR, and WHILE clauses are implemented, but I
>       don't know what the first and last two parameters are for.

>From Clipper\include\std.ch

#command COPY [TO <(file)>] [DELIMITED [WITH <*delim*>]]                ;
         [FIELDS <fields,...>]                                          ;
         [FOR <for>]                                                    ;
         [WHILE <while>]                                                ;
         [NEXT <next>]                                                  ;
         [RECORD <rec>]                                                 ;
         [<rest:REST>]                                                  ;
         [ALL]                                                          ;
                                                                        ;
      => __dbDelim(                                                     ;
                        .T., <(file)>, <(delim)>, { <(fields)> },       ;
                        <{for}>, <{while}>, <next>, <rec>, <.rest.>     ;
                      )

#command APPEND [FROM <(file)>] [DELIMITED [WITH <*delim*>]]            ;
         [FIELDS <fields,...>]                                          ;
         [FOR <for>]                                                    ;
         [WHILE <while>]                                                ;
         [NEXT <next>]                                                  ;
         [RECORD <rec>]                                                 ;
         [<rest:REST>]                                                  ;
         [ALL]                                                          ;
                                                                        ;
      => __dbDelim(                                                     ;
                       .F., <(file)>, <(delim)>, { <(fields)> },        ;
                       <{for}>, <{while}>, <next>, <rec>, <.rest.>      ;
                     )

This suggests that the FIRST parameter indicates whether to:
 
   1. EXPORT from the Current Table TO some Newly Created File (.T.)
   2. APPEND from Existing External file INTO Current Table (.F.)

This also suggests that the LAST 2 parameters are:

   #8: Specific RECORD NUMBER to Export/Append.
   #9: Copy REST of records from current Record pointer to EOF (.T.)
   /* It seems this is only applicable to Export (1st == .T.) */

Ron   

From harbour@matrixlist.com  Wed Apr 18 16:59:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr 18 15:59:02 2001
Subject: [Harbour] __ClsNew
In-Reply-To: <200104172028.f3HKSa920737@ev6.be.wanadoo.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEGBDLAA.Ron@Profit-Master.com>

J.F.,

>> ...
>> The first question that pops up is:
>> Is it really necessary to CLONE the classDatas arrays?
>>
>> If instead an array assignment works (copying the address
>> essentially), then the problem is avoided efficiently.

> Yes, I think I could avoid the use of aClone.

Great, because it seems it is NOT needed for FW apps, or else Clipper + FW
would have been broken the same way!

>> Otherwise, it looks like hb_arrayClone will need to track all
>> array references in the recursion tree to avoid cyclical
>> references.

> I will see how to resolve the problem of __clsNew without touching
hb_arrayClone.

You do NOT need to worry about cloning arrays with cyclical references any
more :-), because hb_arrayClone() SHOULD now be able clone ANY ARRAY,
regardless of any complex Cycling References.

I would just check why did Brian's FW Application which should use SHARED
Class Vars, ended-up using hb_arrayClone() by means of classes.c, where
appears to not be needed.

Ron


From harbour@matrixlist.com  Wed Apr 18 17:04:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr 18 16:04:02 2001
Subject: [Harbour] ChangeLog 2001-04-17 17:15 UTC-0400 David G. Holm
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEGBDLAA.Ron@Profit-Master.com>
References: <200104181724.f3IHOCQ26886@smtp.parrett.net>
Message-ID: <200104182000.f3IK0JQ11017@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Wed,
18 Apr 2001 12:53:30 -0700

> From Clipper\include\std.ch

Thanks, Ron!

> This suggests that the FIRST parameter indicates whether to:
>  
>    1. EXPORT from the Current Table TO some Newly Created File (.T.)
>    2. APPEND from Existing External file INTO Current Table (.F.)

Yes.

> This also suggests that the LAST 2 parameters are:
> 
>    #8: Specific RECORD NUMBER to Export/Append.

Yes.

>    #9: Copy REST of records from current Record pointer to EOF (.T.)

Yes.

>    /* It seems this is only applicable to Export (1st == .T.) */

Are you sure? Both the COPY TO and APPEND FROM translations populate
the <rest> parameter if the keyword REST is present. But then again, the
5.3 paper documentation for APPEND FROM doesn't mention REST at all.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr 18 17:40:02 2001
From: harbour@matrixlist.com (Martin Vogel)
Date: Wed Apr 18 16:40:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-18 22:30 CET Martin Vogel <vogel@inttec.de>
Message-ID: <001001c0c848$5764d3c0$1bcbce81@martinvogel>

2001-04-18 22:30 CET Martin Vogel <vogel@inttec.de>
   + contrib/libct/ctflist.txt
     ! function status list, only functions in the CVS are marked 'R' or 'S'
!

   + contrib/libct/atadjust.c
     ! ATADJUST() function

   * contrib/libct/Makefile
     + added atadjust.c

   * contrib/libct/makefile.bc
     + added atadjust.c

   * contrib/libct/makefile.vc
     + added atadjust.c

   + contrib/libct/tests/atadjust.prg
     ! added tests for ATADJUST() function

   * contrib/libct/tests/Makefile
     + added atadjust.prg




From harbour@matrixlist.com  Wed Apr 18 18:03:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Wed Apr 18 17:03:01 2001
Subject: [Harbour] COPY TO
Message-ID: <000701c0c84b$a1415650$2400a8c0@local>

Harrier:

I still have errors using the Fields clause:
   Use test excl
   copy fields last, first to xx

creates bad files using DBF or DBFCDX, and has a critical error using ADS.

I'm using the current CVS, which is the same as the last file you sent as a
zip.

Is it possible there's a missing piece in a file other than dbcmd.c?

Has anyone else tried this clause with COPY TO?

Brian



From harbour@matrixlist.com  Wed Apr 18 18:41:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr 18 17:41:01 2001
Subject: [Harbour] ChangeLog 2001-04-18 17:40 UTC-0400 David G. Holm
Message-ID: <200104182137.f3ILbGQ21032@smtp.parrett.net>

2001-04-18 17:40 UTC-0400 David G. Holm <dholm@jsd-llc.com>

  * source/rdd/dbf1.c
    % Changed two (unsigned chr *) type overrides to (BYTE *),
      because the function called requires a BYTE * parameter
      when used with C++.

  * source/rtl/gtos2/gtos2.c
    % Changed two (void *) type overrides to (PPVOID), because
      the function called requires a PPVOID parameter when used
      with C++.
    % Added definition for KBDTRF_EXTENDED_CODE when using VAC++.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr 18 18:57:02 2001
From: harbour@matrixlist.com (Andrzej P. Wozniak)
Date: Wed Apr 18 17:57:02 2001
Subject: Hello Andi, was Re: [Harbour] ClsNew gpfs...
References: <LOBBKAFMMFGJIKLMEPAKAEFODLAA.Ron@Profit-Master.com> 00408200104182303598303943AJMF@andijahja.org
Message-ID: <2da401c0c852$5b15c240$3b0db33e@chello.pl>

----- Original Message ----- 
From: "Harbour" <harbour@link.net.id>
To: <harbour@matrixlist.com>
Sent: Wednesday, April 18, 2001 6:04 PM
Subject: Re: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)


Hey, people, did you see it:

Received: from andijahja (ip30-143.cbn.net.id [202.158.30.143])
               ^^^^^^^^^
 by smtp1.cbn.net.id (Postfix) with SMTP id 34E0553519
 for <harbour@matrixlist.com>; Wed, 18 Apr 2001 23:01:08 +0700 (JAVT)
X-Mailer: AJMF GUI Version 2.0 - 16  April 2001
X-C-Compiler: BCC 5.5.1
X-Harbour-Version: Harbour 0.36
X-Country: Indonesia
X-City: Jakarta
X-HTTP: http://www.geocities.com/siliconvalley/4231/index.html
X-Clipper: Clipper 5.2e
X-Note: This mailer is a project built with Harbour compiler
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Andi, will we always have to read all the headers to know it is your mail?
Nice to read you again :-)

-- 
Regards from the Harbour mirror in Poland
Andrzej P. Wozniak
alias@polnet.cc   harbour@harbour.pl.eu.org





From harbour@matrixlist.com  Wed Apr 18 19:16:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Wed Apr 18 18:16:01 2001
Subject: [Harbour] ChangeLog 2001-04-17 17:15 UTC-0400 David G. Holm
References: <200104181724.f3IHOCQ26886@smtp.parrett.net> <200104182000.f3IK0JQ11017@smtp.parrett.net>
Message-ID: <002701c0c855$e3e47730$2400a8c0@local>

David & Ron:

APPEND FROM doesn't work on an open workarea; it has to open the file--so
REST is meaningless.

Brian

----- Original Message -----
From: David G. Holm <dholm@jsd-llc.com>
To: <harbour@matrixlist.com>
Sent: Wednesday, April 18, 2001 1:02 PM
Subject: Re: [Harbour] ChangeLog 2001-04-17 17:15 UTC-0400 David G. Holm


> ** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Wed,
> 18 Apr 2001 12:53:30 -0700
>
> > From Clipper\include\std.ch
>
> Thanks, Ron!
>
> > This suggests that the FIRST parameter indicates whether to:
> >
> >    1. EXPORT from the Current Table TO some Newly Created File (.T.)
> >    2. APPEND from Existing External file INTO Current Table (.F.)
>
> Yes.
>
> > This also suggests that the LAST 2 parameters are:
> >
> >    #8: Specific RECORD NUMBER to Export/Append.
>
> Yes.
>
> >    #9: Copy REST of records from current Record pointer to EOF (.T.)
>
> Yes.
>
> >    /* It seems this is only applicable to Export (1st == .T.) */
>
> Are you sure? Both the COPY TO and APPEND FROM translations populate
> the <rest> parameter if the keyword REST is present. But then again, the
> 5.3 paper documentation for APPEND FROM doesn't mention REST at all.
> --
> David G. Holm, Set Captain and all around
> Harbour Project Clipper Compatibility fanatic.
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>



From harbour@matrixlist.com  Wed Apr 18 19:23:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr 18 18:23:02 2001
Subject: [Harbour] ChangeLog 2001-04-17 17:15 UTC-0400 David G. Holm
In-Reply-To: <002701c0c855$e3e47730$2400a8c0@local>
References: <200104181724.f3IHOCQ26886@smtp.parrett.net> <200104182000.f3IK0JQ11017@smtp.parrett.net>
Message-ID: <200104182219.f3IMJ2Q24735@smtp.parrett.net>

** Reply to message from "Brian Hays" <bhays@abacuslaw.com> on Wed, 18 Apr 2001 15:21:18 -0700

> APPEND FROM doesn't work on an open workarea; it has to open the file--so
> REST is meaningless.

Are you sure? I would have thought that the following two lines did different things:

    APPEND RECORD 5 FROM TABLE         // Appends only record 5.

    APPPEND RECORD 5 REST FROM TABLE   // Appends from record 5 to EOF().

I guess I should test it in Clipper, eh?
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr 18 19:31:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr 18 18:31:01 2001
Subject: [Harbour] ChangeLog 2001-04-17 17:15 UTC-0400 David G. Holm
In-Reply-To: <200104182219.f3IMJ2Q24735@smtp.parrett.net>
References: <200104181724.f3IHOCQ26886@smtp.parrett.net> <200104182000.f3IK0JQ11017@smtp.parrett.net>
 <002701c0c855$e3e47730$2400a8c0@local>
Message-ID: <200104182227.f3IMRJQ25544@smtp.parrett.net>

** Reply to message from "David G. Holm" <dholm@jsd-llc.com> on Wed, 18
Apr 2001 18:21:16 -0400

And I was wrong, wrong, wrong! The PPO file shows that the last
parameter gets set to .F. for the first command and .T. for the second
command, but the __dbCopy() function obviously ignores the lRest
parameter when there is an nRecord parameter, because only record 5 gets
imported in both cases.

> I would have thought that the following two lines did different things:
> 
>     APPEND RECORD 5 FROM TABLE         // Appends only record 5.
> 
>     APPPEND RECORD 5 REST FROM TABLE   // Appends from record 5 to EOF().
> 
> I guess I should test it in Clipper, eh?
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Wed Apr 18 19:37:01 2001
From: harbour@matrixlist.com (Paul Tucker)
Date: Wed Apr 18 18:37:01 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF,   Antonio)
References: <200104181344_MC2-CCF4-65B2@compuserve.com>
Message-ID: <008101c0c857$eed39ed0$b6122a0a@chasechevy>

John,

The minute Mr-Debug comes out with a version for Harbour, your example might
make sense... <g>

Paul

----- Original Message -----
From: "John Skelton" <John_Skelton@compuserve.com>
To: <harbour@matrixlist.com>
Sent: Wednesday, April 18, 2001 1:44 PM
Subject: RE: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)


Ron,

> I'm not sure we should leave the BUG, because it simply causes Clipper to
> CRASH!

I would hope for UE 650 (or whatever is the number for stack overflow).

> I don't think this is a compatibility issue, as no one would want
> their app to crash.

Probably true.  But not always, e.g. one sample in C4W deliberately
causes stack overflow to demo what happens in MrDebug-4-Win.  Your
fix if applied to Clipper would break that sample!

> Harbour should not be GPF Compatible with Clipper, should it?

It's debatable.  E.g. the above.

> What is a singleton object?

The case where only one (of whatever class it is) should exist.  In
that case, attempting to create another may raise an error or it may
return the original object (depends on the OOP system).  I think
usually you get the latter behaviour.

John.



From harbour@matrixlist.com  Wed Apr 18 22:14:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Wed Apr 18 21:14:01 2001
Subject: [Harbour] ChangeLog 2001-04-18 21:15 UTC-0400 David G. Holm
Message-ID: <200104190110.f3J1AlQ07851@smtp.parrett.net>

2001-04-18 21:15 UTC-0400 David G. Holm <dholm@jsd-llc.com>

  * source/rtl/dbdelim.prg
    * Completed the code needed for COPY TO DELIMITED

  * source/rtl/errorsys.prg
    + Temporarily added a QOUT() ahead of displaying the error
      message in DEFERROR(), because unless the screen has been
      scrolled while the program was running, the DOS prompt will
      overwrite the first line of the error trace after quitting.

  * source/rtl/langapi.c
    + Added Harbour methods to get language specific error messages
      and language specific general messages.

  * tests/Makefile
  + tests/delimtst.prg
    + New module to test COPY TO DELIMITED and APPEND FROM DELIMITED.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr 19 01:10:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Thu Apr 19 00:10:02 2001
Subject: [Harbour] ClsNew gpfs -- final answer
Message-ID: <003b01c0c887$74902dc0$921a5e18@bh>

JF:
Ron's fix seems to be working great as far as the Class Initialization gpfs
are concerned. I will try to do some explicit tests this weekend to exercise
the new hb_arrayClone directly to confirm.

A question about the line in classes.c that led to the problem:
            /* CLASS DATA Not Shared ( new array, new value ) */
            pNewCls->pClassDatas  = hb_arrayClone( pSprCls->pClassDatas,
NULL );

Since these ClassDatas are not shared, should this line just be an
assignment and not an aClone?

Brian Hays



From harbour@matrixlist.com  Thu Apr 19 02:10:03 2001
From: harbour@matrixlist.com (JF Lefebvre)
Date: Thu Apr 19 01:10:03 2001
Subject: [Harbour] ClsNew gpfs -- final answer
In-Reply-To: <003b01c0c887$74902dc0$921a5e18@bh>
Message-ID: <200104190509.f3J59X903771@ev6.be.wanadoo.com>

Hi Brian

> Ron's fix seems to be working great as far as the Class Initialization
> gpfs are concerned. I will try to do some explicit tests this weekend to
> exercise the new hb_arrayClone directly to confirm.

Very good news :-)
 
> A question about the line in classes.c that led to the problem:
>             /* CLASS DATA Not Shared ( new array, new value ) */
>             pNewCls->pClassDatas  = hb_arrayClone( pSprCls->pClassDatas,
> NULL );
> 
> Since these ClassDatas are not shared, should this line just be an
> assignment and not an aClone?

No, it _must_ be an aClone. If you only do an assignement, you 
will in fact use the same pointer for the two array, then sharing it 
between the super class and the subclass. 

Cheer JF,


Best regards,

J. Lefebvre,
Bruxelles,
Belgium


From harbour@matrixlist.com  Thu Apr 19 02:21:02 2001
From: harbour@matrixlist.com (JF Lefebvre)
Date: Thu Apr 19 01:21:02 2001
Subject: [Harbour] __ClsNew
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEGBDLAA.Ron@Profit-Master.com>
References: <200104172028.f3HKSa920737@ev6.be.wanadoo.com>
Message-ID: <200104190520.f3J5KF905948@ev6.be.wanadoo.com>

Hi Ron

> >> ...
> >> The first question that pops up is:
> >> Is it really necessary to CLONE the classDatas arrays?
> >>
> >> If instead an array assignment works (copying the address
> >> essentially), then the problem is avoided efficiently.
> 
> > Yes, I think I could avoid the use of aClone.

Finally, aCloning the array with your last improvement is the better 
way I finded to do the job here.
 
> Great, because it seems it is NOT needed for FW apps, or else Clipper + FW
> would have been broken the same way!

Yes ... and ... No. It could be interesting to recheck the Classes 
preprocessor commands because Class data are normaly shared 
by default using FW syntax. Using classy one, they are Not 
Shared till the explicit word SHARED is used when declaring them.
 
> >> Otherwise, it looks like hb_arrayClone will need to track all
> >> array references in the recursion tree to avoid cyclical
> >> references.
>
> > I will see how to resolve the problem of __clsNew without touching
> hb_arrayClone.

Trying to do so, I discovered I was just rewriting some specific to 
classes arrayClone with the ability to work on self reference so ... I 
decided to revisit hb_arrayClone() at the same time you do and you 
now the end of the storie.  
 
> You do NOT need to worry about cloning arrays with cyclical references any
> more :-), because hb_arrayClone() SHOULD now be able clone ANY ARRAY,
> regardless of any complex Cycling References.

A really great news, thanks.
 
> I would just check why did Brian's FW Application which should use SHARED
> Class Vars, ended-up using hb_arrayClone() by means of classes.c, where
> appears to not be needed.

Either their is a bug within hbclass.ch or he used the Classy 
syntax in place of the FW one so using the NOT SHARED class 
data by default. (Brian ??? could you check that ? )

Best regards,

J. Lefebvre,
Bruxelles,
Belgium


From harbour@matrixlist.com  Thu Apr 19 03:32:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Thu Apr 19 02:32:02 2001
Subject: [Harbour] __ClsNew
References: <200104172028.f3HKSa920737@ev6.be.wanadoo.com> <200104190520.f3J5KF905948@ev6.be.wanadoo.com>
Message-ID: <004501c0c89b$50a54b70$921a5e18@bh>

>
> Either their is a bug within hbclass.ch or he used the Classy
> syntax in place of the FW one so using the NOT SHARED class
> data by default. (Brian ??? could you check that ? )
>

JF:
All the classes are the FW standard syntax, but I do not have any #defines
explicitly declaring "FW style" for the classes.

HB_CLS_FWO is not defined in any of the FWH or my headers. The classes that
would blow up had no classdatas of their own, they just inherit from the
Control and Window classes.
I will try to trace which classdatas are involved.  Remember, it's still a
mystery why one routine causes the circular references in the first place.
There are other blow ups and array handling errors in running the app, so
there seems to be a lurking problem still.  A quick look at the classes
makes me suspicious of aDots, an array of window objects that probably have
a reference to their owner....


BTW, I saw this comment:
/* #define HB_CLS_ALLOWCLASS */ /* Work in progress, don't define it now */

I do have two classes that declare this to access a database field called
CLASS as an ivar--it is needed and does work.  Should I remove the "Work in
progress" comment? (and replace with an example of where it's needed?)

Brian


From harbour@matrixlist.com  Thu Apr 19 04:36:01 2001
From: harbour@matrixlist.com (harbour@matrixlist.com)
Date: Thu Apr 19 03:36:01 2001
Subject: [Harbour] __ClsNew
In-Reply-To: <004501c0c89b$50a54b70$921a5e18@bh>
Message-ID: <3ADEB11D.29821.92F134C@localhost>

Brian,

> >
> > Either their is a bug within hbclass.ch or he used the Classy
> > syntax in place of the FW one so using the NOT SHARED class
> > data by default. (Brian ??? could you check that ? )
> >
> 
> JF:
> All the classes are the FW standard syntax, but I do not have any
> #defines explicitly declaring "FW style" for the classes.

You don't need to do it but if you want to explicitly restrict the 
classes to FW syntax only.
 
> HB_CLS_FWO is not defined in any of the FWH or my headers. The classes
> that would blow up had no classdatas of their own, they just inherit
> from the Control and Window classes. I will try to trace which
> classdatas are involved.

if you use the keyword CLASSDATA ... to define your class data 
var, you will see that even adding the keyword SHARED is not 
keeped in account. I will have a look this WE to be sure there is no 
bug within the OO system.

>  Remember, it's still a mystery why one
> routine causes the circular references in the first place. There are
> other blow ups and array handling errors in running the app, so there
> seems to be a lurking problem still.  A quick look at the classes
> makes me suspicious of aDots, an array of window objects that probably
> have a reference to their owner....

Humm, whilst you don't aClone it it should work ...
 
> 
> BTW, I saw this comment:
> /* #define HB_CLS_ALLOWCLASS */ /* Work in progress, don't define it
> now */

Arghhh, absolutely don't uncomment this line !!!!

I'm always trying to allow the message Class to work as with 
classy, where it return a class object. Actually, as a compatibility 
issue with classy, it return just Self, allowing the Classy syntax 
::Class:MyClassVar to work as the FW one ::MyClassVar. 

The idea I follow is the same as with Classy, where each class 
creation store a MetaClass Object wich could be accessed by the 
keyword ::Class from each object. We could then store within the 
MetaClass all the Class Data and also add the feature of Class 
Method. So like I wrote... (Lot of) Work in progress :-((((
 
> I do have two classes that declare this to access a database field
> called CLASS as an ivar--it is needed and does work.  Should I remove
> the "Work in progress" comment? (and replace with an example of where
> it's needed?)

No thanks, this is really work in progress ... :-)

Best regards,

J. Lefebvre <jflefebv@mafact.com>
Mafact SA/NV
Belgium
(See us at http://www.mafact.com)
jflefebv@mafact.com


From harbour@matrixlist.com  Thu Apr 19 04:49:03 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Thu Apr 19 03:49:03 2001
Subject: [Harbour] Memoedit question
In-Reply-To: <003b01c0c887$74902dc0$921a5e18@bh>
References: <003b01c0c887$74902dc0$921a5e18@bh>
Message-ID: <1937498195.20010419104826@belacy.belgorod.su>

 Is there any reason, why terminating key is Alt-W, not Ctrl-W ?
 
 Now I can't force terminating of Memoedit from user function.
 If I do
   Return K_ESC,
   lKeepGoing is set to .F. in super method, not in native - and
   terminating doesn't occurs.

Best regards,
 Alexander



From harbour@matrixlist.com  Thu Apr 19 05:27:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Thu Apr 19 04:27:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-19 01:30 UTC-0800
Message-ID: <006201c0c8ab$64ba55f0$921a5e18@bh>

2001-04-19 01:30 UTC-0800 Brian Hays <bhays@abacuslaw.com>
   * source/rdd/dbcmd.c
      * Harrier's latest fix for __dbCopy, plus my HB_TRACE addition

   * contrib/rdd_ads/adsfunc.c
      + added AdsIsServerLoaded(), AdsApplicationExit ()

   * source/rtl/memoline.c
      * fixed bug where chr(0) was returned if source was
         an empty string.

   * source/common/hbtrace.c
      * added support for HB_TR_FLUSH Environment variable per
         David's guidance.  (Thanks, David!)
            SET HB_TR_FLUSH=1
         ...Will cause all HB_TRACE calls to flush to disk (when
         redirecting to file) so you can trace right up to a line
         that gpfs and not lose buffered output.


Brian Hays



From harbour@matrixlist.com  Thu Apr 19 05:51:02 2001
From: harbour@matrixlist.com (John Skelton)
Date: Thu Apr 19 04:51:02 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF,
 Antonio)
Message-ID: <200104190449_MC2-CD01-B54C@compuserve.com>

Brian,

> not have a clue why it's just GPFing

It should _not_ GPF.  It doesn't [1] under Clipper.

Harbour probably GPFs because something may well be wrong in the stack
realloc code (or in code relying on it not working the way it does).

IAC, I would think we want an XClone() so that not just arrays can
be cloned.  Existing code will not be using AClone() in such a way as
to cause the stack error (or GPF), so staying compatible can't break
code.  Being different _can_ break code, rare though that looks.
New code which doesn't have to work with Clipper may as well use
XClone().  Any new code which does need to work with Clipper will not
be so easy if AClone() is different.

BTW, a GPF looks like it points to an underlying Harbour error that
is the real thing that could do with fixing.  I wonder what/where...

[1] not in my experience.  I got stack overflow, correctly diagnosed,
IIRC. [2]

[2] It's a _long_ time since I wrote TC_Clone() [the XClone() in
TopClass, as included with Clip-4-Win] - around 1992 it appears - so
the "IIRC" looks optimistic. ;-)

John.

From harbour@matrixlist.com  Thu Apr 19 06:03:02 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Thu Apr 19 05:03:02 2001
Subject: [Harbour] Memoedit question
References: <003b01c0c887$74902dc0$921a5e18@bh> <1937498195.20010419104826@belacy.belgorod.su>
Message-ID: <3ADEA979.6C329AFF@libero.it>

Alexander,

it is Alt-W since at the .prg code level you cannot distinguish Ctrl-W
from Ctrl-End.

This is a TODO: I think; maybe we could directly call console C code from
TEditor, but, at present time there is  this little incompatibility.

If you have any idea I'd like to hear it.

Maurilio.

PS: If you are subclassing TEditor you can change this, of course (I tend
to use F2 or Ctrl-S to save).


"Alexander S.Kresin" ha scritto:

>  Is there any reason, why terminating key is Alt-W, not Ctrl-W ?
>
>  Now I can't force terminating of Memoedit from user function.
>  If I do
>    Return K_ESC,
>    lKeepGoing is set to .F. in super method, not in native - and
>    terminating doesn't occurs.
>
> Best regards,
>  Alexander
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Thu Apr 19 07:13:02 2001
From: harbour@matrixlist.com (John Skelton)
Date: Thu Apr 19 06:13:02 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF,
 Antonio)
Message-ID: <200104190610_MC2-CCFC-A187@compuserve.com>

Dave,

> It seems to me that ACLONE() in harbour should work and work well
> and shouldn't be bug compatible with CA-Clipper.

Whatever people want is fine by me.  We're sort of assuming it _is_
a bug (i.e. unintentional) in Clipper.

> > > Harbour should not be GPF Compatible with Clipper, should it?
> > =

> > It's debatable.  E.g. the above.

> I think your example will only have merit

You appear to have missed the point: it was an example about a generic
issue.  The particular example is not important; the generic issue may
well be.  What I really said was that if code in Clipper would result
in a runtime error then surely Harbour should generally do the same.
Separately, a GPF looks inappropriate for almost anything.  OK, it's
easy to think of counter examples, but I thought the main issue was
to retain compatibility, generally even in cases which are marginal.
The AClone() "bug" [1] may be one of those, it may not be.

[1] I do myself regard it as a bug, but I'm not at all sure all
Clipper users do.  I wrote a fix, partly ASM and using Clipper
internals, to make a fully working TC_Clone().  I would have donated
it but Harbour does not have any of the internals and 16-bit MASM code
isn't portable at all. :-(

John.

From harbour@matrixlist.com  Thu Apr 19 07:31:01 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Thu Apr 19 06:31:01 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)
In-Reply-To: <200104190610_MC2-CCFC-A187@compuserve.com>; from John_Skelton@compuserve.com on Thu, Apr 19, 2001 at 06:10:04AM -0400
References: <200104190610_MC2-CCFC-A187@compuserve.com>
Message-ID: <20010419112713.Q11475@hagbard.davep.org>

On Thu, Apr 19, 2001 at 06:10:04AM -0400, John Skelton wrote:
> Dave,
> 
> > I think your example will only have merit
> 
> You appear to have missed the point: it was an example about a generic
> issue. The particular example is not important; the generic issue may well
> be. What I really said was that if code in Clipper would result in a
> runtime error then surely Harbour should generally do the same.

Possibly. It was agreed pretty early on that this is a debatable point and
needs to be looked at on a bug-per-bug basis. That is, yes, harbour should
generate RTEs where CA-Clipper would have apart from instances where said
RTE shouldn't really happen ("shouldn't" being measured by reading the docs
and/or reasonable programmer expectation).

Perhaps I missed the point of this instance but I thought the issue here was
that ACLONE(), in CA-Clipper, didn't like recursive arrays. It seems
reasonable that it should and so handling such arrays in harbour, instead of
throwing an error (which is what I thought CA-Clipper did, note that I've
not read back thru the thread or tested things here) seems like a perfectly
good thing to do.

> Separately, a GPF looks inappropriate for almost anything. 

No disagreement here. Harbour should never be responsible for a GPF. Harbour
should only ever throw a RTE or an IE.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Thu Apr 19 07:36:02 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Thu Apr 19 06:36:02 2001
Subject: [Harbour] Re: Memoedit question
In-Reply-To: <3ADEA979.6C329AFF@libero.it>
References: <003b01c0c887$74902dc0$921a5e18@bh>
 <1937498195.20010419104826@belacy.belgorod.su> <3ADEA979.6C329AFF@libero.it>
Message-ID: <15521078611.20010419143444@belacy.belgorod.su>

 Maurilio

ML> it is Alt-W since at the .prg code level you cannot distinguish Ctrl-W
ML> from Ctrl-End.

 Yes, now I understand. Probably, we could implement a function like
 Scankey() from Clipper Tools to differentiate these keys.
 
 But you missed second pat of my question:

>>  Now I can't force terminating of Memoedit from user function.
>>  If I do
>>    Return K_ESC,
>>    lKeepGoing is set to .F. in super method, not in native - and
>>    terminating doesn't occurs.

 Little sample:

#include "memoedit.ch"
#include "inkey.ch"

function main
local s := space(80)
  memoedit( s,0,0,1,79,.t.,"memofu" )
return

FUNCTION MEMOFU( nMode )
Local lKey := Lastkey()
   IF nMode == ME_UNKEY .OR. nMode == ME_UNKEYX
      IF lKey == -1
         Return K_ESC
      ENDIF
   ENDIF
Return ME_DEFAULT

Memoedit() should terminate when I press F2. In Clipper it works
right, in Harbour - no.

Best regards,
 Alexander



From harbour@matrixlist.com  Thu Apr 19 09:14:01 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Thu Apr 19 08:14:01 2001
Subject: [Harbour] Re: Memoedit question
References: <003b01c0c887$74902dc0$921a5e18@bh>
 <1937498195.20010419104826@belacy.belgorod.su> <3ADEA979.6C329AFF@libero.it> <15521078611.20010419143444@belacy.belgorod.su>
Message-ID: <3ADED625.AC803179@libero.it>

Alexander,

yes, it is a bug, I'm looking into it right now.

regards.



"Alexander S.Kresin" ha scritto:

>  Maurilio
>
> ML> it is Alt-W since at the .prg code level you cannot distinguish Ctrl-W
> ML> from Ctrl-End.
>
>  Yes, now I understand. Probably, we could implement a function like
>  Scankey() from Clipper Tools to differentiate these keys.
>
>  But you missed second pat of my question:
>
> >>  Now I can't force terminating of Memoedit from user function.
> >>  If I do
> >>    Return K_ESC,
> >>    lKeepGoing is set to .F. in super method, not in native - and
> >>    terminating doesn't occurs.
>
>  Little sample:
>
> #include "memoedit.ch"
> #include "inkey.ch"
>
> function main
> local s := space(80)
>   memoedit( s,0,0,1,79,.t.,"memofu" )
> return
>
> FUNCTION MEMOFU( nMode )
> Local lKey := Lastkey()
>    IF nMode == ME_UNKEY .OR. nMode == ME_UNKEYX
>       IF lKey == -1
>          Return K_ESC
>       ENDIF
>    ENDIF
> Return ME_DEFAULT
>
> Memoedit() should terminate when I press F2. In Clipper it works
> right, in Harbour - no.
>
> Best regards,
>  Alexander
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Thu Apr 19 09:47:00 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Thu Apr 19 08:47:00 2001
Subject: [Harbour] Re: Memoedit question
References: <003b01c0c887$74902dc0$921a5e18@bh>
 <1937498195.20010419104826@belacy.belgorod.su> <3ADEA979.6C329AFF@libero.it> <15521078611.20010419143444@belacy.belgorod.su> <3ADED625.AC803179@libero.it>
Message-ID: <3ADEDE23.D3A6CB07@libero.it>

Should be fixed now.

regards.


Maurilio Longo ha scritto:

> Alexander,
>
> yes, it is a bug, I'm looking into it right now.
>
> regards.
>
> "Alexander S.Kresin" ha scritto:
>
> >  Maurilio
> >
> > ML> it is Alt-W since at the .prg code level you cannot distinguish Ctrl-W
> > ML> from Ctrl-End.
> >
> >  Yes, now I understand. Probably, we could implement a function like
> >  Scankey() from Clipper Tools to differentiate these keys.
> >
> >  But you missed second pat of my question:
> >
> > >>  Now I can't force terminating of Memoedit from user function.
> > >>  If I do
> > >>    Return K_ESC,
> > >>    lKeepGoing is set to .F. in super method, not in native - and
> > >>    terminating doesn't occurs.
> >
> >  Little sample:
> >
> > #include "memoedit.ch"
> > #include "inkey.ch"
> >
> > function main
> > local s := space(80)
> >   memoedit( s,0,0,1,79,.t.,"memofu" )
> > return
> >
> > FUNCTION MEMOFU( nMode )
> > Local lKey := Lastkey()
> >    IF nMode == ME_UNKEY .OR. nMode == ME_UNKEYX
> >       IF lKey == -1
> >          Return K_ESC
> >       ENDIF
> >    ENDIF
> > Return ME_DEFAULT
> >
> > Memoedit() should terminate when I press F2. In Clipper it works
> > right, in Harbour - no.
> >
> > Best regards,
> >  Alexander
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@matrixlist.com
> > http://www.matrixlist.com/mailman/listinfo/harbour
> >
> > Thank you for participating in The Harbour Project.  Be sure to check
> > http://www.Harbour-Project.org
>
> --
>  __________
> |  |  | |__| md2520@mclink.it
> |_|_|_|____| Team OS/2 Italia
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Thu Apr 19 09:48:01 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Thu Apr 19 08:48:01 2001
Subject: [Harbour] CHANGELOG: 2001-04-19 14:43 GMT+2
Message-ID: <3ADEDE44.4DFE9BA5@libero.it>

2001-04-19 14:43 GMT+2 Maurilio Longo <maurilio.longo@libero.it>
   * source/rtl/teditor.prg
     ! fixed handling of K_ESC and K_ALT_W
   * source/rtl/memoedit.prg
      ! fixed handling of K_ESC and K_ALT_W

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Thu Apr 19 10:10:02 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Thu Apr 19 09:10:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-19 15:07 GMT+2
Message-ID: <3ADEE353.15C4F983@libero.it>

2001-04-19 15:07 GMT+2 Maurilio Longo <maurilio.longo@libero.it>
   * source/rtl/teditor.prg
     ! regression from previous fix


--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Thu Apr 19 12:23:02 2001
From: harbour@matrixlist.com (Harbour)
Date: Thu Apr 19 11:23:02 2001
Subject: [Harbour] Icon for Standard Harbour App ?
Message-ID: 00490200104192225208072031AJMF@andijahja.org

Hello,

This is far from technical issue.

AFAIK, other compiler, say Delphi, has a default icon for application
compiled. Shall Harbour have one too ?

( I know this won't be Clip*r compatible, if applied )

Andi Jahja


From harbour@matrixlist.com  Thu Apr 19 13:05:03 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr 19 12:05:03 2001
Subject: [Harbour] Re: Memoedit question
In-Reply-To: <15521078611.20010419143444@belacy.belgorod.su>
References: <003b01c0c887$74902dc0$921a5e18@bh> <1937498195.20010419104826@belacy.belgorod.su>
 <3ADEA979.6C329AFF@libero.it> <3ADEA979.6C329AFF@libero.it>
Message-ID: <200104191601.f3JG19Q07069@smtp.parrett.net>

** Reply to message from "Alexander S.Kresin" <alex@belacy.belgorod.su>
on Thu, 19 Apr 2001 14:34:44 +0400

> ML> it is Alt-W since at the .prg code level you cannot distinguish Ctrl-W
> ML> from Ctrl-End.
> 
>  Yes, now I understand. Probably, we could implement a function like
>  Scankey() from Clipper Tools to differentiate these keys.

If you change the MEMOEDIT INKEY() call(s) to use INKEY_RAW as the
second parameter, then you can distinguish *all* keys. But then you
can't use K_LEFT, etc., because the numeric keypad left arrow key will
return 293 and the cursor keypad left arrow key will return 805. You can
discover the various key codes by building tests/inkeytst, running
INKEYTST SKIP RAW, and push the various keys. One problem with doing
this is that the key codes will be unique to the IBM PC/Clone platform,
which could render MEMOEDIT non-functional when used on other platforms.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr 19 13:19:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr 19 12:19:02 2001
Subject: [Harbour] Icon for Standard Harbour App ?
In-Reply-To: 00490200104192225208072031AJMF@andijahja.org
Message-ID: <000701c0c8eb$9faf27e0$0f2aa8c0@antonio>

Andi,

As far as I know it, that is only a Windows issue
(probably a Linux, and other OS with GUI too...)
but not for console apps.

well... 32 bits console apps are a kind of Windows apps...
so maybe :-)

Antonio

> This is far from technical issue.
> 
> AFAIK, other compiler, say Delphi, has a default icon for application
> compiled. Shall Harbour have one too ?
> 
> ( I know this won't be Clip*r compatible, if applied )



From harbour@matrixlist.com  Thu Apr 19 14:01:01 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Thu Apr 19 13:01:01 2001
Subject: [Harbour] Re: CHANGELOG: 2001-04-19 14:43 GMT+2
In-Reply-To: <3ADEDE44.4DFE9BA5@libero.it>
References: <3ADEDE44.4DFE9BA5@libero.it>
Message-ID: <1977700010.20010419205912@belacy.belgorod.su>

 Maurilio,

ML> 2001-04-19 14:43 GMT+2 Maurilio Longo <maurilio.longo@libero.it>
ML>    * source/rtl/teditor.prg
ML>      ! fixed handling of K_ESC and K_ALT_W
ML>    * source/rtl/memoedit.prg
ML>       ! fixed handling of K_ESC and K_ALT_W

 Thanks, with K_ESC it is Ok now.
 But with K_ALT_W - not yet.

FUNCTION MEMOFU( nMode )
Local lKey := Lastkey()
   IF nMode == ME_UNKEY .OR. nMode == ME_UNKEYX
      IF lKey == -9
         MainMenu()
      ELSEIF lKey == K_F2
         Return K_ESC
      ELSEIF lKey == K_F3
         Return K_CTRL_W
      ENDIF
   ENDIF
Return ME_DEFAULT

 Pressing of F3 should terminate memoedit() with saving of buffer, but
 it isn't so in Harbour.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Thu Apr 19 15:24:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Thu Apr 19 14:24:01 2001
Subject: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF,  Antonio)
References: <200104190449_MC2-CD01-B54C@compuserve.com>
Message-ID: <006401c0c8fe$d1482af0$921a5e18@bh>

John:
I may have added a touch of confusion here with my original introduction
where I "genericized" the bottom line in saying "aClone" had a problem.
The problem (and Ron's fix) IS in the low-level C code for handling arrays
that is called from other C code without any reference to aClone itself
(hb_arrayClone()).

Clipper blowing its stack on this issue implies that they are *using* the
clipper stack for the recursive calls!! So yes, it traps the error when
DGROUP fills up.  (Ah, fond memories swell in my heart at the sound of that
segment)....

The Harbour recursion is purely in C, thus the GPF when it got out of
control.  The current fix truly clones any array, including any internal
references to any internal branches.
This capability is necessary for the extensions to OOPs we have and the
reliance on arrays for the implementation of objects.  So this part of the
fix needs to remain.

For the high-level aClone to have different behavior to support throwing an
error, someone has to make a significant effort to either duplicate the low
level code with a trap, or have all routines that might access arrays pass
down a parameter to tell it whether to throw an error on circular
references.  As Dave indicated, it comes down to a value judgment of whether
we need to be bug compatible on this point.  Though I agree we need to ask
the question (thanks!) I still think the value of the new behavior outweighs
the value of crash-compatibility on this one.

Brian


----- Original Message -----
From: "John Skelton" <John_Skelton@compuserve.com>
To: <harbour@matrixlist.com>
Sent: Thursday, April 19, 2001 1:49 AM
Subject: Re: [Harbour] ClsNew gpfs -- final answer (Ryszard, JF, Antonio)


Brian,

> not have a clue why it's just GPFing

It should _not_ GPF.  It doesn't [1] under Clipper.

Harbour probably GPFs because something may well be wrong in the stack
realloc code (or in code relying on it not working the way it does).

IAC, I would think we want an XClone() so that not just arrays can
be cloned.  Existing code will not be using AClone() in such a way as
to cause the stack error (or GPF), so staying compatible can't break
code.  Being different _can_ break code, rare though that looks.
New code which doesn't have to work with Clipper may as well use
XClone().  Any new code which does need to work with Clipper will not
be so easy if AClone() is different.

BTW, a GPF looks like it points to an underlying Harbour error that
is the real thing that could do with fixing.  I wonder what/where...

[1] not in my experience.  I got stack overflow, correctly diagnosed,
IIRC. [2]

[2] It's a _long_ time since I wrote TC_Clone() [the XClone() in
TopClass, as included with Clip-4-Win] - around 1992 it appears - so
the "IIRC" looks optimistic. ;-)

John.
_______________________________________________
Harbour mailing list
Harbour@matrixlist.com
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org



From harbour@matrixlist.com  Thu Apr 19 17:58:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr 19 16:58:01 2001
Subject: [Harbour] Provlem with FIELDGET and numeric fields
In-Reply-To: <007401c0c790$f1563270$2400a8c0@local>
References: <200104172031.f3HKVbG24500@smtp.parrett.net>
Message-ID: <200104192054.f3JKsbQ04173@smtp.parrett.net>

** Reply to message from "Brian Hays" <bhays@abacuslaw.com> on Tue, 17
Apr 2001 15:51:29 -0700

> The concept of a "display width" was new to me when we discussed that other
> issue.  I've never seen anything in the code that actually sets it.  Should
> that be the responsibility of hb_itemPutNLLen()?

Yes, it is.

> From here it goes back to the FieldGet function in dbcmd.c.  Perhaps that's
> a better central spot for it.

As it turns out, no changes are needed. What I thought was an error in
FIELDGET() turned out to be an incorrect memory. I had *thought* that
one of the fields in the database that I was testing was only 5 digits
wide and was shocked (*shocked*, I tell you) to see it get output as a
20 digit field (this was early on before I added the appropriate
trunctation of the various field types). As it turned out, when I
finally ran DBX on the database, the field actually *is* 20-digits!

And now that I've implemented the COPY TO SDF half or __dbSDF() and run
it on another test file, I can confirm that FIELDGET() does indeed set
the proper display properties. (I feel so *silly* now!)

> Is this the "length" member of the union in the HB_ITEM structure?

Yes.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr 19 18:12:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr 19 17:12:02 2001
Subject: [Harbour] ChangeLog 2001-04-19 17:10 UTC-0400 David G. Holm
Message-ID: <200104192108.f3JL8OQ05461@smtp.parrett.net>

2001-04-19 17:10 UTC-0400 David G. Holm <dholm@jsd-llc.com>

  * hb_slex.bc
  * hb_slex.vc
  * makefile.bc
  * makefile.vc
  * source/rtl/Makefile
  * source/rtl/dbdelim.prg
  + source/rtl/dbsdf.prg
  * tests/Makefile
  + tests/sdf_test.prg
    + Added __dbSDF() with support for COPY TO SDF.
    + Added dbdelim.obj to makefile.vc.
    * Fixed CVS ID header in dbdelim.prg.
    * Changed name of Export() function in dbdelim.prg to ExportVar()
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr 19 18:17:02 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Thu Apr 19 17:17:02 2001
Subject: [Harbour] Re: Memoedit question
References: <003b01c0c887$74902dc0$921a5e18@bh> <1937498195.20010419104826@belacy.belgorod.su>
 <3ADEA979.6C329AFF@libero.it> <3ADEA979.6C329AFF@libero.it> <200104191601.f3JG19Q07069@smtp.parrett.net>
Message-ID: <3ADF4F4B.6178651E@libero.it>

David,

I won't duplicate so much code from console.c and gtXXX.c only to be able to
know if user pressed K_CTRL_END or K_CTRL_W!

We need something more clever :-)

regards.


"David G. Holm" ha scritto:

> ** Reply to message from "Alexander S.Kresin" <alex@belacy.belgorod.su>
> on Thu, 19 Apr 2001 14:34:44 +0400
>
> > ML> it is Alt-W since at the .prg code level you cannot distinguish Ctrl-W
> > ML> from Ctrl-End.
> >
> >  Yes, now I understand. Probably, we could implement a function like
> >  Scankey() from Clipper Tools to differentiate these keys.
>
> If you change the MEMOEDIT INKEY() call(s) to use INKEY_RAW as the
> second parameter, then you can distinguish *all* keys. But then you
> can't use K_LEFT, etc., because the numeric keypad left arrow key will
> return 293 and the cursor keypad left arrow key will return 805. You can
> discover the various key codes by building tests/inkeytst, running
> INKEYTST SKIP RAW, and push the various keys. One problem with doing
> this is that the key codes will be unique to the IBM PC/Clone platform,
> which could render MEMOEDIT non-functional when used on other platforms.
> --
> David G. Holm, Set Captain and all around
> Harbour Project Clipper Compatibility fanatic.
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--

 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia





From harbour@matrixlist.com  Thu Apr 19 19:39:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr 19 18:39:02 2001
Subject: [Harbour] Re: Memoedit question
Message-ID: <200104192235.f3JMZ7Q13325@smtp.parrett.net>

** Reply to message from Maurilio Longo <maurilio.longo@libero.it> on
Thu, 19 Apr 2001 22:49:16 +0200

> We need something more clever :-)

I agree. How about a new INKEY_EXTENDED mode that would do most
translations, but would *not* map cursor keys to control codes. I might
even have time to implement that tomorrow.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr 19 20:23:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Thu Apr 19 19:23:02 2001
Subject: [Harbour] Re: Memoedit question
In-Reply-To: <3ADF4F4B.6178651E@libero.it>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEGMDLAA.Ron@Profit-Master.com>

Maurilio, David,

I think Inkey(), LastKey(), and NextKey(), should be extended to support
INKEY_HARBOUR constant, in addition to INKEY_RAW.

If INKEY_HARBOUR was requested, the Functions should return an Array that
represents a HKB_CLIPPER, HKB_ROOT, HKB_MOFIFER and HKB_RAW components.

HKB_CLIPPER - Should be derived from Clipper Inkey Value.
HKB_ROOT    - Should be derived from Clipper Inkey Value of any SINGLE Key.
HKB_MODIFER - Should be one of predefined constants that allow a function
like this:
              KeyState( HKB_CONTROL, nModifier ) -> TRUE|FALSE
HKB_RAW     - O/S dependant value


This should also support HKB_L_CONTROL, HKB_R_CONTROL, etc., etc..

So for example here are some sample values:

Ctrl + W   -> { 23, 87, HKB_L_CONTROL, x )

Ctrl + End -> { 23,  6, HKB_L_CONTROL, y )

Ron

> I won't duplicate so much code from console.c and gtXXX.c only to
> be able to
> know if user pressed K_CTRL_END or K_CTRL_W!
>
> We need something more clever :-)


From harbour@matrixlist.com  Fri Apr 20 00:24:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Thu Apr 19 23:24:02 2001
Subject: [Harbour] ClsNew gpfs -- final answer
Message-ID: <001101c0c94a$5035cd40$921a5e18@bh>

JF:
There was some confusion from the comment above this code:

> A question about the line in classes.c that led to the problem:
>             /* CLASS DATA Not Shared ( new array, new value ) */
>             pNewCls->pClassDatas  = hb_arrayClone( pSprCls->pClassDatas,
> NULL );
>
> Since these ClassDatas are not shared, should this line just be an
> assignment and not an aClone?

>>>No, it _must_ be an aClone. If you only do an assignement, you
>>>will in fact use the same pointer for the two array, then sharing it
>>>between the super class and the subclass.

In fact, these ARE shared FW-style CLASSDATAs.  The code currently Clones
all ClassDatas disregarding whether they are shared, then also has:
            pNewCls->uiDatasShared = pSprCls->uiDatasShared;
...apparently this is a flag for whether they are shared or not.  But if you
clone the array, how the heck do you keep them shared later????

So, shouldn't the flag be in an IF test, and an assignment done instead of a
clone for Shared??

Brian




Brian Hays
Abacus Data Systems, Inc.



From harbour@matrixlist.com  Fri Apr 20 03:50:03 2001
From: harbour@matrixlist.com (harbour@matrixlist.com)
Date: Fri Apr 20 02:50:03 2001
Subject: [Harbour] ClsNew gpfs -- final answer
In-Reply-To: <001101c0c94a$5035cd40$921a5e18@bh>
Message-ID: <3ADFF7BD.19253.35E460@localhost>

Hi Brian

> There was some confusion from the comment above this code:

Hummm, in fact even for me...
 
> > A question about the line in classes.c that led to the problem:
> >             /* CLASS DATA Not Shared ( new array, new value ) */
> >             pNewCls->pClassDatas  = hb_arrayClone(
> >             pSprCls->pClassDatas,
> > NULL );
> >
> > Since these ClassDatas are not shared, should this line just be an
> > assignment and not an aClone?
> 
> >>>No, it _must_ be an aClone. If you only do an assignement, you will
> >>>in fact use the same pointer for the two array, then sharing it
> >>>between the super class and the subclass.
> 
> In fact, these ARE shared FW-style CLASSDATAs.  The code currently
> Clones all ClassDatas disregarding whether they are shared, then also
> has:
>             pNewCls->uiDatasShared = pSprCls->uiDatasShared;
> ...apparently this is a flag for whether they are shared or not.  But
> if you clone the array, how the heck do you keep them shared later????

I must admit this is not clear, but it's correct (I had to reread 
carefully my code to be sure how it (should) work :-((((( ). Whether 
your classdata are shared or not, we always create a _copy_ of the 
superclass data. uiDataShared is not a flag but the number of 
Classdata stored within the current class (including new and 
herited, shared and not shared). The fact is that some (or all of the 
value) could be unusued.

We then store in the message pointer (s_pmethod) either the 
current class id or the superclass id depending if we want it Not 
shared or shared. (see hb___msgGetClsData(  ) and
hb___msgGetShrData(  ) )

So if we access the current copy of class data, it is not shared but 
became shared if we use the superclass array. In case of multiple 
level inheritance, we store the real super Class id.

So in your case, (all Class data shared by default for FW), this 
array is totally unusued. I will see if we could optimize this in case 
of all shared
 
> So, shouldn't the flag be in an IF test, and an assignment done
> instead of a clone for Shared??
> 

uiDatasShared is always != 0, and really it's name is not what it 
should be (uiClassdata) :-((((((.

I hope it's now a bit more clear :-)


Best regards,

J. Lefebvre <jflefebv@mafact.com>
Mafact SA/NV
Belgium
(See us at http://www.mafact.com)
jflefebv@mafact.com


From harbour@matrixlist.com  Fri Apr 20 03:54:03 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Fri Apr 20 02:54:03 2001
Subject: [Harbour] Re: Memoedit question
References: <LOBBKAFMMFGJIKLMEPAKGEGMDLAA.Ron@Profit-Master.com>
Message-ID: <3ADFDCF9.27C8AEA2@libero.it>

Ron, David and all,

in my opinion harbour keyboard buffer should not buffer already translated key
codes but raw scankeys.

Later when I call Inkey() or NextKey() or LastKey() I pass a parameter which
tells to the keryboard layer if I want a converted key code or a raw one.

So my code coudl be:

nKey = Inkey(0)
if nKey == K_CTRL_END
    lKCW := LastKey(, .T.) == 68 // or whatever is raw code for Ctrl-W
endif


regards.


Ron Pinkas ha scritto:

> Maurilio, David,
>
> I think Inkey(), LastKey(), and NextKey(), should be extended to support
> INKEY_HARBOUR constant, in addition to INKEY_RAW.
>
> If INKEY_HARBOUR was requested, the Functions should return an Array that
> represents a HKB_CLIPPER, HKB_ROOT, HKB_MOFIFER and HKB_RAW components.
>
> HKB_CLIPPER - Should be derived from Clipper Inkey Value.
> HKB_ROOT    - Should be derived from Clipper Inkey Value of any SINGLE Key.
> HKB_MODIFER - Should be one of predefined constants that allow a function
> like this:
>               KeyState( HKB_CONTROL, nModifier ) -> TRUE|FALSE
> HKB_RAW     - O/S dependant value
>
> This should also support HKB_L_CONTROL, HKB_R_CONTROL, etc., etc..
>
> So for example here are some sample values:
>
> Ctrl + W   -> { 23, 87, HKB_L_CONTROL, x )
>
> Ctrl + End -> { 23,  6, HKB_L_CONTROL, y )
>
> Ron
>
> > I won't duplicate so much code from console.c and gtXXX.c only to
> > be able to
> > know if user pressed K_CTRL_END or K_CTRL_W!
> >
> > We need something more clever :-)
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Fri Apr 20 03:58:01 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Fri Apr 20 02:58:01 2001
Subject: [Harbour] Re: CHANGELOG: 2001-04-19 14:43 GMT+2
References: <3ADEDE44.4DFE9BA5@libero.it> <1977700010.20010419205912@belacy.belgorod.su>
Message-ID: <3ADFDDC5.17821532@libero.it>

Alexander,

this is because your code returns K_CTRL_W which is _not_ processed by
TEditor class (or is handled like it were a K_CTRL_END).

You need to change your MEMOFU() this way:


FUNCTION MEMOFU( nMode )
Local lKey := Lastkey()
   IF nMode == ME_UNKEY .OR. nMode == ME_UNKEYX
      IF lKey == -9
         MainMenu()
      ELSEIF lKey == K_F2
         Return K_ESC
      ELSEIF lKey == K_F3
        #ifdef harbour
            Return K_ALT_W
        #else
         Return K_CTRL_W
        #endif
      ENDIF
   ENDIF
Return ME_DEFAULT


regards.


"Alexander S.Kresin" ha scritto:

>  Maurilio,
>
> ML> 2001-04-19 14:43 GMT+2 Maurilio Longo <maurilio.longo@libero.it>
> ML>    * source/rtl/teditor.prg
> ML>      ! fixed handling of K_ESC and K_ALT_W
> ML>    * source/rtl/memoedit.prg
> ML>       ! fixed handling of K_ESC and K_ALT_W
>
>  Thanks, with K_ESC it is Ok now.
>  But with K_ALT_W - not yet.
>
> FUNCTION MEMOFU( nMode )
> Local lKey := Lastkey()
>    IF nMode == ME_UNKEY .OR. nMode == ME_UNKEYX
>       IF lKey == -9
>          MainMenu()
>       ELSEIF lKey == K_F2
>          Return K_ESC
>       ELSEIF lKey == K_F3
>          Return K_CTRL_W
>       ENDIF
>    ENDIF
> Return ME_DEFAULT
>
>  Pressing of F3 should terminate memoedit() with saving of buffer, but
>  it isn't so in Harbour.
>
> Best regards,
>  Alexander
> http://members.xoom.com/alkresin/
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Fri Apr 20 05:05:03 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Fri Apr 20 04:05:03 2001
Subject: [Harbour] ClsNew gpfs -- final answer
References: <3ADFF7BD.19253.35E460@localhost>
Message-ID: <002701c0c971$7da90450$921a5e18@bh>

> 
> I hope it's now a bit more clear :-)
> 

Yes, thanks!

Brian


From harbour@matrixlist.com  Fri Apr 20 05:09:02 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Fri Apr 20 04:09:02 2001
Subject: [Harbour] Re: CHANGELOG: 2001-04-19 14:43 GMT+2
In-Reply-To: <3ADFDDC5.17821532@libero.it>
References: <3ADEDE44.4DFE9BA5@libero.it>
 <1977700010.20010419205912@belacy.belgorod.su> <3ADFDDC5.17821532@libero.it>
Message-ID: <18812616147.20010420120717@belacy.belgorod.su>

 Maurilio,

ML> this is because your code returns K_CTRL_W which is _not_ processed by
ML> TEditor class (or is handled like it were a K_CTRL_END).

 Sorry, I made a typo writing that message, in reality I used the
 K_ALT_W - and it doesn't work.

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Fri Apr 20 05:15:03 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Fri Apr 20 04:15:03 2001
Subject: [Harbour] Re: CHANGELOG: 2001-04-19 14:43 GMT+2
References: <3ADEDE44.4DFE9BA5@libero.it>
 <1977700010.20010419205912@belacy.belgorod.su> <3ADFDDC5.17821532@libero.it> <18812616147.20010420120717@belacy.belgorod.su>
Message-ID: <3ADFEFA8.4DC0C1FC@libero.it>

Alexander,

I'll look into it later today.

regards.


"Alexander S.Kresin" ha scritto:

>  Maurilio,
>
> ML> this is because your code returns K_CTRL_W which is _not_ processed by
> ML> TEditor class (or is handled like it were a K_CTRL_END).
>
>  Sorry, I made a typo writing that message, in reality I used the
>  K_ALT_W - and it doesn't work.
>
> Best regards,
>  Alexander
> http://members.xoom.com/alkresin/
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Fri Apr 20 05:18:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Fri Apr 20 04:18:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-19 01:30 UTC-0800
In-Reply-To: <006201c0c8ab$64ba55f0$921a5e18@bh>; from bhays@abacuslaw.com on Thu, Apr 19, 2001 at 01:33:21AM -0700
References: <006201c0c8ab$64ba55f0$921a5e18@bh>
Message-ID: <20010420091704.Q20026@hagbard.davep.org>

On Thu, Apr 19, 2001 at 01:33:21AM -0700, Brian Hays wrote:
> 2001-04-19 01:30 UTC-0800 Brian Hays <bhays@abacuslaw.com>
>    * source/common/hbtrace.c
>       * added support for HB_TR_FLUSH Environment variable per
>          David's guidance.  (Thanks, David!)
>             SET HB_TR_FLUSH=1
>          ...Will cause all HB_TRACE calls to flush to disk (when
>          redirecting to file) so you can trace right up to a line
>          that gpfs and not lose buffered output.

Might the above in some way be responsible for:

,----
| gcc -I. -I../../../../include -Wall -g  -c ../../hbtrace.c -ohbtrace.o
| ../../hbtrace.c: In function `hb_tr_trace':
| ../../hbtrace.c:213: warning: implicit declaration of function `close'
| ../../hbtrace.c:213: warning: implicit declaration of function `dup'
`----

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Fri Apr 20 05:39:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Fri Apr 20 04:39:02 2001
Subject: [Harbour] ChangeLog 2001-04-20 01:35 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <20010420091704.Q20026@hagbard.davep.org>
Message-ID: <LOBBKAFMMFGJIKLMEPAKMEGPDLAA.Ron@Profit-Master.com>

2001-04-20 01:35 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * hb_slex.bc
     * Synched with makefile.bc

   * source/common/hbtrace.c
     + Added missing #include <io.h>

   * include/hbapilng.h
   * source/rtl/langapi.c
     * Corrected declaration of hb_langDGetItem() (required for C++)

From harbour@matrixlist.com  Fri Apr 20 05:44:01 2001
From: harbour@matrixlist.com (harbour@matrixlist.com)
Date: Fri Apr 20 04:44:01 2001
Subject: [Harbour] ClsNew gpfs -- final answer
In-Reply-To: <002701c0c971$7da90450$921a5e18@bh>
Message-ID: <3AE0129F.19314.47EAE31@localhost>

Brian,

The fact you never use NonShared Classdata explain also why you 
could change the aClone by a simple copy without any problems.

> > 
> > I hope it's now a bit more clear :-)
> > 
> 
> Yes, thanks!

You are welcome :-))

Best regards,

J. Lefebvre <jflefebv@mafact.com>
Mafact SA/NV
Belgium
(See us at http://www.mafact.com)
jflefebv@mafact.com


From harbour@matrixlist.com  Fri Apr 20 05:57:01 2001
From: harbour@matrixlist.com (Martin Vogel)
Date: Fri Apr 20 04:57:01 2001
Subject: [Harbour] CHANGELOG: 2001-04-20 10:50 CET Martin Vogel <vogel@inttec.de>
Message-ID: <3ADFFA0A.208FB460@urz.uni-heidelberg.de>

2001-04-20 10:50 CET Martin Vogel <vogel@inttec.de>

  + contrib/libct/charevod.c
  - contrib/libct/ctchrevn.c
  - contrib/libct/ctchrodd.c
    ! CHAREVEN() & CHARODD() functions merged to one file, some
corrections

  * contrib/libct/Makefile
    * changed lib name to "ct3" again (sorry !)
    + added contrib/libct/charevod.c
    - removed contrib/libct/ctchrevn.c
    - removed contrib/libct/ctchrodd.c

  * contrib/libct/makefile.bc
    * changed lib name to "ct3" again (sorry !)
    + added contrib/libct/charevod.c
    - removed contrib/libct/ctchrevn.c
    - removed contrib/libct/ctchrodd.c

  * contrib/libct/makefile.vc
    * changed lib name to "ct3" again (sorry !)
    + added contrib/libct/charevod.c
    - removed contrib/libct/ctchrevn.c
    - removed contrib/libct/ctchrodd.c

  + contrib/libct/tests/chareven.prg
    ! Small test program for chareven()

  + contrib/libct/tests/charodd.prg
    ! Small test program for charodd()

  * contrib/libct/tests/Makefile
    + added contrib/libct/tests/chareven.prg
    + added contrib/libct/tests/charodd.prg

Regards

Martin

From harbour@matrixlist.com  Fri Apr 20 06:11:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Fri Apr 20 05:11:02 2001
Subject: [Harbour] ChangeLog 2001-04-20 01:35 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKMEGPDLAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Fri, Apr 20, 2001 at 01:42:57AM -0700
References: <20010420091704.Q20026@hagbard.davep.org> <LOBBKAFMMFGJIKLMEPAKMEGPDLAA.Ron@Profit-Master.com>
Message-ID: <20010420101037.S20026@hagbard.davep.org>

On Fri, Apr 20, 2001 at 01:42:57AM -0700, Ron Pinkas wrote:
> 2001-04-20 01:35 UTC-0800 Ron Pinkas <ron@profit-master.com>
> 
>    * source/common/hbtrace.c
>      + Added missing #include <io.h>

That's probably platform specific:

,----
| gcc -I. -I../../../../include -Wall -g  -c ../../hbtrace.c -ohbtrace.o
| ../../hbtrace.c:57: io.h: No such file or directory
`----

for example, dup() and close() are prototyped in unistd.h in glibc.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Fri Apr 20 06:13:02 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Fri Apr 20 05:13:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-20 11:09 GMT+2
Message-ID: <3ADFFD38.27E27EE@libero.it>

2001-04-20 11:09 GMT+2 Maurilio Longo <maurilio.longo@libero.it>
   * source/rtl/memoedit.prg
      ! fixed handling of K_ALT_W


--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Fri Apr 20 06:17:02 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Fri Apr 20 05:17:02 2001
Subject: [Harbour] hbmake no makefile available
Message-ID: <3ADFFE52.6B5CCBEE@libero.it>

Why?

cvs server: Updating harbour/utils/hbextern
cvs server: Updating harbour/utils/hbmake
cvs server: nothing known about harbour/utils/hbmake/Makefil
<<<<<<<<<<
U harbour/utils/hbmake/checkdef.ch
U harbour/utils/hbmake/checks.ch
U harbour/utils/hbmake/checks.prg
U harbour/utils/hbmake/fclass1.prg
U harbour/utils/hbmake/ffile1.prg
U harbour/utils/hbmake/ft_funcs.prg
U harbour/utils/hbmake/hbdocdef.ch

regards.

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Fri Apr 20 06:27:02 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Fri Apr 20 05:27:02 2001
Subject: [Harbour] hbzlib cvs error
Message-ID: <3AE00080.12263835@libero.it>

Same problem of hbmake

cvs server: Updating harbour/contrib/hbclip
cvs server: Updating harbour/contrib/hbzlib
cvs server: nothing known about harbour/contrib/hbzlib/Makefile
cvs server: nothing known about harbour/contrib/hbzlib/zipfile1.c
cvs server: nothing known about harbour/contrib/hbzlib/zlibapi.c
cvs server: Updating harbour/contrib/hbzlib/doc
cvs server: Updating harbour/contrib/libct
cvs server: Updating harbour/contrib/libct/tests

regards.

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Fri Apr 20 06:27:19 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Fri Apr 20 05:27:19 2001
Subject: [Harbour] harbour/doc/en cvs error
Message-ID: <3AE000B2.AEC81761@libero.it>

Another cvs error.

cvs server: Updating harbour/doc
cvs server: Updating harbour/doc/en
cvs server: nothing known about harbour/doc/en/hbapierr.txt
cvs server: nothing known about harbour/doc/en/hbapifs.txt
cvs server: Updating harbour/doc/es
cvs server: Updating harbour/include
cvs server: Updating harbour/lib


--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Fri Apr 20 07:55:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Fri Apr 20 06:55:02 2001
Subject: [Harbour] ChangeLog 2001-04-20 01:35 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <20010420101037.S20026@hagbard.davep.org>; from davep@davep.org on Fri, Apr 20, 2001 at 10:10:37AM +0100
References: <20010420091704.Q20026@hagbard.davep.org> <LOBBKAFMMFGJIKLMEPAKMEGPDLAA.Ron@Profit-Master.com> <20010420101037.S20026@hagbard.davep.org>
Message-ID: <20010420115401.U20026@hagbard.davep.org>

On Fri, Apr 20, 2001 at 10:10:37AM +0100, Dave Pearson wrote:
> On Fri, Apr 20, 2001 at 01:42:57AM -0700, Ron Pinkas wrote:
> > 2001-04-20 01:35 UTC-0800 Ron Pinkas <ron@profit-master.com>
> > 
> >    * source/common/hbtrace.c
> >      + Added missing #include <io.h>
> 
> That's probably platform specific:
> 
> ,----
> | gcc -I. -I../../../../include -Wall -g  -c ../../hbtrace.c -ohbtrace.o
> | ../../hbtrace.c:57: io.h: No such file or directory
> `----
> 
> for example, dup() and close() are prototyped in unistd.h in glibc.

Presumably something like the extensive incantation that can be found at the
start of rtl/filesys.c would be better suited to this situation? With that
in mind, might there be some use to having a header file (perhaps called
hbio.h) that does all this and then code that needs file IO type header
files can include that without the need to worry about cross-platform
issues?

Actually, thinking about it, is there a reason why the tracing code isn't
written to use hb_fsOpen() and hb_fsClose() and friends?

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Fri Apr 20 08:15:02 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Fri Apr 20 07:15:02 2001
Subject: [Harbour] hbmake no makefile available
References: <3ADFFE52.6B5CCBEE@libero.it>
Message-ID: <000f01c0c98b$255f17c0$12d4d7c8@luizguim>

This is a multi-part message in MIME format.

------=_NextPart_000_000C_01C0C971.E6138420
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit

Maurilio

Here is the make file

Id like to know what happened. Dave report that the file name was incorrect
, so then i rename to Makefile and use cvs update

Regards

Luiz Rafael Culik

------=_NextPart_000_000C_01C0C971.E6138420
Content-Type: application/octet-stream;
	name="Makefile"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
	filename="Makefile"

#
# $Id: makefile,v 1.1 2000/12/10 18:25:36 lculik Exp $
#

ifeq ($(HB_MAIN),)
    HB_MAIN = std
endif

ROOT = ../../

PRG_SOURCES=\
    hbmake.prg \
    fclass1.prg \
    ffile1.prg \
    ft_funcs.prg \
    radios.prg \
    checks.prg  \
    pickarry.prg \
    pickfile.prg \
    prb_stak.prg \

PRG_MAIN=hbmake.prg

LIBS=\
	debug \
	vm \
	rtl \
	rdd \
	rtl \
	vm \
	macro \
	pp \
	lang \
	common \

include $(TOP)$(ROOT)config/bin.cf


------=_NextPart_000_000C_01C0C971.E6138420--


From harbour@matrixlist.com  Fri Apr 20 08:29:02 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Fri Apr 20 07:29:02 2001
Subject: [Harbour] Re: CHANGELOG: 2001-04-20 11:09 GMT+2
In-Reply-To: <3ADFFD38.27E27EE@libero.it>
References: <3ADFFD38.27E27EE@libero.it>
Message-ID: <18224201464.20010420152021@belacy.belgorod.su>

On 20.04.2001 13:11, Maurilio Longo <maurilio.longo@libero.it> wrote:

ML> 2001-04-20 11:09 GMT+2 Maurilio Longo <maurilio.longo@libero.it>
ML>    * source/rtl/memoedit.prg
ML>       ! fixed handling of K_ALT_W

 Thanks, it's Ok now.
 I need it for a mySQL client which I'm writing now.

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Fri Apr 20 08:41:01 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Fri Apr 20 07:41:01 2001
Subject: [Harbour] hbmake no makefile available
References: <3ADFFE52.6B5CCBEE@libero.it> <000f01c0c98b$255f17c0$12d4d7c8@luizguim>
Message-ID: <3AE02006.A7C1860B@libero.it>

Luiz,

you have to add it to cvs tree. If I delete hbmake directory and then issue a
cvs update I have _no_ makefile.

regards.


Luiz Rafael Culik Guimaraes ha scritto:

> Maurilio
>
> Here is the make file
>
> Id like to know what happened. Dave report that the file name was incorrect
> , so then i rename to Makefile and use cvs update
>
> Regards
>
> Luiz Rafael Culik
>
>   ------------------------------------------------------------------------
>                Name: Makefile
>    Makefile    Type: tipo non specificato (application/octet-stream)
>            Encoding: 7bit

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Fri Apr 20 08:43:02 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Fri Apr 20 07:43:02 2001
Subject: [Harbour] Re: CHANGELOG: 2001-04-20 11:09 GMT+2
References: <3ADFFD38.27E27EE@libero.it> <18224201464.20010420152021@belacy.belgorod.su>
Message-ID: <3AE02070.51AE3C82@libero.it>

Alexander,

are you using my contrib\mysql class or are you writing everything from
scratch?

regards.


"Alexander S.Kresin" ha scritto:

> On 20.04.2001 13:11, Maurilio Longo <maurilio.longo@libero.it> wrote:
>
> ML> 2001-04-20 11:09 GMT+2 Maurilio Longo <maurilio.longo@libero.it>
> ML>    * source/rtl/memoedit.prg
> ML>       ! fixed handling of K_ALT_W
>
>  Thanks, it's Ok now.
>  I need it for a mySQL client which I'm writing now.
>
> Best regards,
>  Alexander
> http://members.xoom.com/alkresin/
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Fri Apr 20 09:52:02 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Fri Apr 20 08:52:02 2001
Subject: [Harbour] hbmake no makefile available
References: <3ADFFE52.6B5CCBEE@libero.it> <000f01c0c98b$255f17c0$12d4d7c8@luizguim> <3AE02006.A7C1860B@libero.it>
Message-ID: <005401c0c998$bbe605c0$18d4d7c8@luizguim>

Maurilio

> Luiz,
>
> you have to add it to cvs tree.
I can try to add again. but the error seens to be in the cvs server on the
attic dir

Regards

Luiz Rafael Culik


From harbour@matrixlist.com  Fri Apr 20 10:01:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 20 09:01:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-19 01:30 UTC-0800
In-Reply-To: <20010420091704.Q20026@hagbard.davep.org>
References: <006201c0c8ab$64ba55f0$921a5e18@bh> <006201c0c8ab$64ba55f0$921a5e18@bh>
 ; from bhays@abacuslaw.com on Thu, Apr 19, 2001 at 01:33:21AM -0700
Message-ID: <200104201257.f3KCvMQ02545@smtp.parrett.net>

** Reply to message from Dave Pearson <davep@davep.org> on Fri, 20 Apr
2001 09:17:04 +0100

> Might the above in some way be responsible for:

Not just might... The hbtrace.c source is missing a line:

#include <io.h>
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 20 10:05:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 20 09:05:02 2001
Subject: [Harbour] ChangeLog 2001-04-20 01:35 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <20010420115401.U20026@hagbard.davep.org>
References: <20010420091704.Q20026@hagbard.davep.org> <LOBBKAFMMFGJIKLMEPAKMEGPDLAA.Ron@Profit-Master.com>
 <20010420101037.S20026@hagbard.davep.org> <20010420101037.S20026@hagbard.davep.org>
 ; from davep@davep.org on Fri, Apr 20, 2001 at 10:10:37AM +0100
Message-ID: <200104201301.f3KD1UQ02978@smtp.parrett.net>

** Reply to message from Dave Pearson <davep@davep.org> on Fri, 20 Apr
2001 11:54:01 +0100

> Actually, thinking about it, is there a reason why the tracing code isn't
> written to use hb_fsOpen() and hb_fsClose() and friends?

Probably so that it can be used to debug *any* Harbour code,
*including* hb_fsOpen(), etc.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 20 10:12:01 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Fri Apr 20 09:12:01 2001
Subject: [Harbour] CHANGELOG: 2001-04-20 15:04 GMT+2
Message-ID: <3AE0356A.437E710B@libero.it>

2001-04-20 15:04 GMT+2 Maurilio Longo <maurilio.longo@libero.it>
   * source/rtl/memoedit.prg
      * simplified handling of keys and prevented infinite recursion
when a key not
        handled by TEditor was pressed inside a MemoEdit() window.
      * ME_TOGGLESCROLL is not handled since TEditor cannot handle such
a kind of "movement"
      * K_CTRL_T (delete word right) is not handled since TEditor is not
able to do it


--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Fri Apr 20 10:16:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 20 09:16:02 2001
Subject: [Harbour] ChangeLog 2001-04-20 01:35 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <20010420115401.U20026@hagbard.davep.org>
References: <20010420091704.Q20026@hagbard.davep.org> <LOBBKAFMMFGJIKLMEPAKMEGPDLAA.Ron@Profit-Master.com>
 <20010420101037.S20026@hagbard.davep.org> <20010420101037.S20026@hagbard.davep.org>
 ; from davep@davep.org on Fri, Apr 20, 2001 at 10:10:37AM +0100
Message-ID: <200104201312.f3KDCbQ03956@smtp.parrett.net>

** Reply to message from Dave Pearson <davep@davep.org> on Fri, 20 Apr
2001 11:54:01 +0100

> Presumably something like the extensive incantation that can be found at the
> start of rtl/filesys.c would be better suited to this situation? With that
> in mind, might there be some use to having a header file (perhaps called
> hbio.h) that does all this and then code that needs file IO type header
> files can include that without the need to worry about cross-platform
> issues?

That sounds like a good idea. The io.h file is currently included in
five (5) RTL source files and each source file uses a different method.
I'll volunteer to test this idea.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 20 10:20:03 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 20 09:20:03 2001
Subject: [Harbour] Re: Memoedit question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEGMDLAA.Ron@Profit-Master.com>
References: <3ADF4F4B.6178651E@libero.it>
Message-ID: <200104201316.f3KDG6Q04224@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Thu,
19 Apr 2001 16:26:52 -0700

INKEY_HARBOUR would have to be named INKEY_WINDOWS, because I don't see
any way of getting this to easily work with any GT subsystem other than
gtwin.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 20 10:34:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 20 09:34:01 2001
Subject: [Harbour] Re: Memoedit question
In-Reply-To: <3ADFDCF9.27C8AEA2@libero.it>
References: <LOBBKAFMMFGJIKLMEPAKGEGMDLAA.Ron@Profit-Master.com>
Message-ID: <200104201330.f3KDUEQ05594@smtp.parrett.net>

** Reply to message from Maurilio Longo <maurilio.longo@libero.it> on
Fri, 20 Apr 2001 08:53:45 +0200

> in my opinion harbour keyboard buffer should not buffer already translated key
> codes but raw scankeys.

But that still leaves the problem of platform differences between
native codes. For exmple, the native key code for Ctrl+W on gtsln is not
68, but 3. And the native key code for Ctrl+End on gtsln is going to be
an escape sequence, not a single code.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 20 11:01:01 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Fri Apr 20 10:01:01 2001
Subject: [Harbour] An small suggestion
Message-ID: <000b01c0c9a2$5b3ec860$73d4d7c8@luizguim>

Dear Friends

I have an suggestion to the __run() function.
Why not use winexec() insted of system() function when windows is running

Regards

Luiz Rafael Culik


From harbour@matrixlist.com  Fri Apr 20 11:01:19 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 20 10:01:19 2001
Subject: [Harbour] ChangeLog 2001-04-19 17:10 UTC-0400 David G. Holm
In-Reply-To: <200104192108.f3JL8OQ05461@smtp.parrett.net>
Message-ID: <200104201357.f3KDvTQ08450@smtp.parrett.net>

** Reply to message from "David G. Holm" <dholm@jsd-llc.com> on Thu, 19
Apr 2001 17:10:40 -0400

  * source/rtl/dummy.prg
    - Commented out dbSDF()
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 20 11:02:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Fri Apr 20 10:02:02 2001
Subject: [Harbour] ChangeLog 2001-04-20 01:35 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <200104201301.f3KD1UQ02978@smtp.parrett.net>; from dholm@jsd-llc.com on Fri, Apr 20, 2001 at 09:03:46AM -0400
References: <20010420091704.Q20026@hagbard.davep.org> <LOBBKAFMMFGJIKLMEPAKMEGPDLAA.Ron@Profit-Master.com> <20010420101037.S20026@hagbard.davep.org> <20010420101037.S20026@hagbard.davep.org> <20010420115401.U20026@hagbard.davep.org> <200104201301.f3KD1UQ02978@smtp.parrett.net>
Message-ID: <20010420150133.Z20026@hagbard.davep.org>

On Fri, Apr 20, 2001 at 09:03:46AM -0400, David G. Holm wrote:
> ** Reply to message from Dave Pearson <davep@davep.org> on Fri, 20 Apr
> 2001 11:54:01 +0100
> 
> > Actually, thinking about it, is there a reason why the tracing code isn't
> > written to use hb_fsOpen() and hb_fsClose() and friends?
> 
> Probably so that it can be used to debug *any* Harbour code,
> *including* hb_fsOpen(), etc.

Ahh, yes, good point. That could get a little, err, recursive.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Fri Apr 20 11:03:01 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Fri Apr 20 10:03:01 2001
Subject: [Harbour] Re: Memoedit question
References: <LOBBKAFMMFGJIKLMEPAKGEGMDLAA.Ron@Profit-Master.com> <200104201330.f3KDUEQ05594@smtp.parrett.net>
Message-ID: <3AE04167.15A46F7B@libero.it>

Yes David,

I wasn't clear enough.
Conversion from raw scancodes to harbour level keycodes stays inside gtXXX.c (we
already have all those conversions available).

When I call Inkey() function Inkey() code fetches first available scancode from
keyboard buffer and calls hb_gt_XXX() to convert it  to a harbour key code.

At this point I find out that I get a K_CTRL_END so I call LastKey(, .T.) and
LastKey() (since I passed .T. to its second parameter) gives me back the raw
scancode of last key (which is still available since keyboard buffer buffers
scancodes and not keycodes).

This raw scancode will be different for each platform but I will probably need to
have a raw scancode in a very limited set of occasions (like K_CTRL_W e K_CTRL_END
pair).


regards.


PS. We could also find out how many pairs of keys (like K_CTRL_W and K_CTRL_END) do
exists and create a few defines not compatible with clipper but available for
harbour developers.

Something like K_HRB_CTRL_W or K_HRB_CTRL_END which we use directly inside .prg code
to distringuish those pairs of keycodes (but I don't like this idea that much).




"David G. Holm" ha scritto:

> ** Reply to message from Maurilio Longo <maurilio.longo@libero.it> on
> Fri, 20 Apr 2001 08:53:45 +0200
>
> > in my opinion harbour keyboard buffer should not buffer already translated key
> > codes but raw scankeys.
>
> But that still leaves the problem of platform differences between
> native codes. For exmple, the native key code for Ctrl+W on gtsln is not
> 68, but 3. And the native key code for Ctrl+End on gtsln is going to be
> an escape sequence, not a single code.
> --
> David G. Holm, Set Captain and all around
> Harbour Project Clipper Compatibility fanatic.
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Fri Apr 20 11:03:26 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Fri Apr 20 10:03:26 2001
Subject: [Harbour] Re:  CHANGELOG: 2001-04-20 11:09 GMT+2
In-Reply-To: <3AE02070.51AE3C82@libero.it>
References: <3ADFFD38.27E27EE@libero.it>
 <18224201464.20010420152021@belacy.belgorod.su> <3AE02070.51AE3C82@libero.it>
Message-ID: <1224703645.20010420180016@belacy.belgorod.su>

 Maurilio,

ML> are you using my contrib\mysql class or are you writing everything from
ML> scratch?

 I'm using your functions set from mysql.c, but not the class, because
 usually I avoid using of OOP without special necessity.



Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Fri Apr 20 11:07:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 20 10:07:01 2001
Subject: [Harbour] An small suggestion
In-Reply-To: <000b01c0c9a2$5b3ec860$73d4d7c8@luizguim>
Message-ID: <200104201402.f3KE2kQ09009@smtp.parrett.net>

** Reply to message from "Luiz Rafael Culik Guimaraes"
<culik@nh.conex.com.br> on Fri, 20 Apr 2001 10:57:05 -0300

> Why not use winexec() insted of system() function when windows is running

What are the advantages of using winexec() instead of system()? Are
there any drawbacks to using winexec() instead of system()? Can
winexec() launch DOS programs?
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 20 11:09:01 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 20 10:09:01 2001
Subject: [Harbour] An small suggestion
In-Reply-To: <000b01c0c9a2$5b3ec860$73d4d7c8@luizguim>
Message-ID: <000001c0c9a2$99eb6640$0f2aa8c0@antonio>

Luiz,

__run() waits until the called app is finished.
WinExec() doesn't.

This is why FW provides a WaitRun() that does
wait.

Antonio

> I have an suggestion to the __run() function.
> Why not use winexec() insted of system() function when windows is running


From harbour@matrixlist.com  Fri Apr 20 11:15:03 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Fri Apr 20 10:15:03 2001
Subject: [Harbour] Re:  CHANGELOG: 2001-04-20 11:09 GMT+2
References: <3ADFFD38.27E27EE@libero.it>
 <18224201464.20010420152021@belacy.belgorod.su> <3AE02070.51AE3C82@libero.it> <1224703645.20010420180016@belacy.belgorod.su>
Message-ID: <3AE04413.87F6220C@libero.it>

Alexander,

:-( I was hoping to have found someone which could help me finish that class
:-)))

regards.

PS. I wrote that as a class since I find that a class is a lot more easy to
integrate inside something else (that is if someone decides to use that code
inside his/her own code).


"Alexander S.Kresin" ha scritto:

>  Maurilio,
>
> ML> are you using my contrib\mysql class or are you writing everything from
> ML> scratch?
>
>  I'm using your functions set from mysql.c, but not the class, because
>  usually I avoid using of OOP without special necessity.
>
> Best regards,
>  Alexander
> http://members.xoom.com/alkresin/
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Fri Apr 20 11:27:01 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 20 10:27:01 2001
Subject: [Harbour] An small suggestion
In-Reply-To: <200104201402.f3KE2kQ09009@smtp.parrett.net>
Message-ID: <000101c0c9a5$0b36c720$0f2aa8c0@antonio>

David,

> Can winexec() launch DOS programs?

Yes,

Antonio



From harbour@matrixlist.com  Fri Apr 20 11:39:02 2001
From: harbour@matrixlist.com (Martin Vogel)
Date: Fri Apr 20 10:39:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-20 16:30 CET Martin Vogel <vogel@inttec.de>
Message-ID: <3AE04A3C.20880BF@urz.uni-heidelberg.de>

2001-04-20 16:30 CET Martin Vogel <vogel@inttec.de>

  + contrib/libct/charop.c
    + charadd(), charand(), charor(), charxor(), charnot() and 
      (NEW!) charsub(), charshl(), charshr(), charrll() and charrlr()
functions

  * contrib/libct/Makefile
    + added contrib/libct/charop.c

  * contrib/libct/makefile.bc
    + added contrib/libct/charop.c

  * contrib/libct/makefile.vc
    + added contrib/libct/charop.c
 
  * contrib/libct/ctflist.txt
    * changed status of functions mentioned above

  * contrib/libct/readme.txt
    + added comments for new functions

  + contrib/libct/tests/charadd.prg
  + contrib/libct/tests/charand.prg
  + contrib/libct/tests/charor.prg
  + contrib/libct/tests/charnot.prg
  + contrib/libct/tests/charxor.prg
  + contrib/libct/tests/charsub.prg
  + contrib/libct/tests/charshl.prg
  + contrib/libct/tests/charshr.prg
  + contrib/libct/tests/charrll.prg
  + contrib/libct/tests/charrlr.prg
    ! small test programs for new functions 

  * contrib/libct/tests/Makefile
    + added contrib/libct/tests/charadd.prg
    + added contrib/libct/tests/charand.prg
    + added contrib/libct/tests/charor.prg
    + added contrib/libct/tests/charnot.prg
    + added contrib/libct/tests/charxor.prg
    + added contrib/libct/tests/charsub.prg
    + added contrib/libct/tests/charshl.prg
    + added contrib/libct/tests/charshr.prg
    + added contrib/libct/tests/charrll.prg
    + added contrib/libct/tests/charrlr.prg

Regards

Martin

From harbour@matrixlist.com  Fri Apr 20 11:50:04 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 20 10:50:04 2001
Subject: [Harbour] Messed up error handler code in disksphb.c
Message-ID: <200104201446.f3KEkBQ13385@smtp.parrett.net>

The following line is obviously wrong, but I can't figure out what it
*should* look like:

> if( hb_errRT_BASE_Ext1( EG_OPEN, 2018, NULL, NULL, 0, EF_CANDEFAULT | EF_CANRETRY ) == E_RETRY, 2, hb_paramError( 1 ), hb_paramError( 2 ) )

This is the error that compiling for dos/djgpp gives:

> gcc -I. -I../../../../include -Wall  -c ../../disksphb.c -odisksphb.o
> ../../disksphb.c: In function `HB_FUN_HB_DISKSPACE':
> ../../disksphb.c:107: too few arguments to function `hb_errRT_BASE_Ext1'
> ../../disksphb.c:107: warning: left-hand operand of comma expression has no effect
> ../../disksphb.c:107: warning: value computed is not used
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 20 11:55:02 2001
From: harbour@matrixlist.com (Stefanie Wrobel)
Date: Fri Apr 20 10:55:02 2001
Subject: AW: [Harbour] Messed up error handler code in disksphb.c
Message-ID: <117530BB4509D4118CEA0001020CFF20346399@SYS04>

hi there :-) does somebody know how I can leave this mailing list? :-)



-----Urspr=FCngliche Nachricht-----
Von: harbour-admin@matrixlist.com
[mailto:harbour-admin@matrixlist.com]Im Auftrag von David G. Holm
Gesendet: Freitag, 20. April 2001 16:48
An: Harbour@matrixlist.com
Betreff: [Harbour] Messed up error handler code in disksphb.c


The following line is obviously wrong, but I can't figure out what it
*should* look like:

> if( hb_errRT_BASE_Ext1( EG_OPEN, 2018, NULL, NULL, 0, EF_CANDEFAULT |
EF_CANRETRY ) =3D=3D E_RETRY, 2, hb_paramError( 1 ), hb_paramError( 2 ) =
)

This is the error that compiling for dos/djgpp gives:

> gcc -I. -I../../../../include -Wall  -c ../../disksphb.c -odisksphb.o
> ../../disksphb.c: In function `HB_FUN_HB_DISKSPACE':
> ../../disksphb.c:107: too few arguments to function =
`hb_errRT_BASE_Ext1'
> ../../disksphb.c:107: warning: left-hand operand of comma expression =
has
no effect
> ../../disksphb.c:107: warning: value computed is not used
--=20
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.
_______________________________________________
Harbour mailing list
Harbour@matrixlist.com
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org

From harbour@matrixlist.com  Fri Apr 20 12:01:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 20 11:01:02 2001
Subject: AW: [Harbour] Messed up error handler code in disksphb.c
In-Reply-To: <117530BB4509D4118CEA0001020CFF20346399@SYS04>
Message-ID: <200104201457.f3KEvBQ14706@smtp.parrett.net>

** Reply to message from Stefanie Wrobel
<Stefanie.Wrobel@techconsult.de> on Fri, 20 Apr 2001 16:57:48 +0200

> hi there :-) does somebody know how I can leave this mailing list? :-)

That information is provided in the headers of *every* message posted
to this list, so all you have to do is reveal all headers to find:

> List-Unsubscribe: <http://www.matrixlist.com/mailman/listinfo/harbour>,
> <mailto:harbour-request@matrixlist.com?subject=unsubscribe>
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 20 12:09:01 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Fri Apr 20 11:09:01 2001
Subject: [Harbour] Changelog 2001-04-20 19:00 GMT+3
Message-ID: <1318596015.20010420190613@belacy.belgorod.su>

2001-04-20 19:00 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * contrib/libmisc/dbftools.c
     * fieldtype() fixed accordingly to RDD changes
   * contrib/mysql/mysql.c
     * sqlConnect() fixed for version older than 3.22.34
     + added support for mysql_affected_rows() and mysql_field_count()
   * tests/db_brows.ch
   * tests/db_brows.prg
     * some improvements


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Fri Apr 20 13:51:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Fri Apr 20 12:51:02 2001
Subject: [Harbour] Re: Memoedit question
In-Reply-To: <200104201316.f3KDG6Q04224@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEHFDLAA.Ron@Profit-Master.com>

David,

> INKEY_HARBOUR would have to be named INKEY_WINDOWS, because I don't see
> any way of getting this to easily work with any GT subsystem other than
> gtwin.

Can you please explain?

I'm positive my proposal *is* platform INDEPENDENT.

We already extract ALL *logical* values needed for my proposal in order to
compile the Clipper INKEY code out of the RAW Scan Code, don't we?

I mean in order to convert Ctrl+W as well as Ctrl+End Scan Codes, into
INKEY=23 we *must* have determined ALL the Keys involved in generating the
given RAW Scan Code, right?

Currently PLATFORM dependant code already compile this information, what is
stopping us from simply *recording* in a standard structure/array these
values in a platform INDEPENDENT way such as I described?

For example, you stated that Ctrl+W on Windows produces a Scan Code of 68,
while on GTSLN its 3, yet under both those platforms our implementation will
yield INKEY=23, which means our platform specific code, in both instances
determined that [Ctrl] and [W] or [Ctrl] and [End] where involved in
generating the given scan code.

My proposal simply suggests we record into a GENERIC structure this
information in a platform independent way. Clipper already has INKEY codes
for all ROOT single keys. We simply have to agree on some generic values for
the different MODIFIERs, like L-Ctrl, R-Ctrl, L-Alt, R-Alt, L-Shift,
R-Shift, etc.

Hope I made my point clear.

Ron


From harbour@matrixlist.com  Fri Apr 20 14:10:04 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 20 13:10:04 2001
Subject: [Harbour] Re: Memoedit question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEHFDLAA.Ron@Profit-Master.com>
References: <200104201316.f3KDG6Q04224@smtp.parrett.net>
Message-ID: <200104201706.f3KH6HQ27428@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Fri,
20 Apr 2001 09:54:21 -0700

> For example, you stated that Ctrl+W on Windows produces a Scan Code of 68,
> while on GTSLN its 3,

I was thinking of Ctrl+C when I wrote 3. With GTSLN, pressing Ctrl+W
actually sends 23 (and only 23). Pressing Ctrl+End sends an escape
sequence. Unlike GTWIN, there is nothing that tells GTSLN explicitly
whether or not a [Ctrl], [Alt], or [Shift] key was pressed, much less
whether it was the [Left] or [Right] key.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 20 14:28:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Fri Apr 20 13:28:02 2001
Subject: [Harbour] Re: Memoedit question
In-Reply-To: <200104201706.f3KH6HQ27428@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEHGDLAA.Ron@Profit-Master.com>

David,

> > For example, you stated that Ctrl+W on Windows produces a Scan
> Code of 68,
> > while on GTSLN its 3,
>
> I was thinking of Ctrl+C when I wrote 3. With GTSLN, pressing Ctrl+W
> actually sends 23 (and only 23). Pressing Ctrl+End sends an escape
> sequence. Unlike GTWIN, there is nothing that tells GTSLN explicitly
> whether or not a [Ctrl], [Alt], or [Shift] key was pressed, much less
> whether it was the [Left] or [Right] key.

That's still OK, if we know that 23 on GTSLN is the representation for
[Ctrl] + [W], than we KNOW that [Ctrl] *was* pressed if we get 23, don't we?

The Scan Code does NOT need to explicitly indicate, that a Ctrl key was
pressed, we derive this knowledge from *whatever* information we get,
Escape, Sequence, Scan, Code, Reference Tables, or what ever is available on
the given platform.

Of course we all understand that not all platforms differentiate between
Left and Right Ctrl/Alt/Shift keys. We should still have generic values for
[Ctrl] as well as [R-Ctrl] and [L-Ctrl], etc., as long as KeyState(
HKB_CONTROL, x ) will yield TRUE for all 3 possible values of the Ctrl key.

Ron


From harbour@matrixlist.com  Fri Apr 20 14:29:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Fri Apr 20 13:29:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
Message-ID: <009301c0c9c0$586c99f0$921a5e18@bh>

When I check Memory(1001) to see how much memory is allocated, it indicates
that memory does get allocated and released.  I have a large complicated
window (using FWH) that allocates over 2MB when it comes up, and that is
apparently released by hb_gcAll() after it closes.

HOWEVER, the Win2K Taskmanager shows more memory being allocated, and almost
NONE released (less than 100K).   So the 2MB is allocated again when the
window is opened a second time.  This is also true with Win98's resource
monitor.
Apparently we are using the Borland memory functions; does anyone know if
there's an extra step required to fully free memory back to Windows?

Otherwise, we may need to change it to use Windows GlobalAlloc or some such.

I'll be studying my Borland docs tonight, but any help anyone can muster on
this critical issue will be *greatly* appreciated.

Brian Hays



From harbour@matrixlist.com  Fri Apr 20 14:34:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Fri Apr 20 13:34:01 2001
Subject: [Harbour] An small suggestion
References: <200104201402.f3KE2kQ09009@smtp.parrett.net>
Message-ID: <009401c0c9c0$ea6a4230$921a5e18@bh>

> ** Reply to message from "Luiz Rafael Culik Guimaraes"
> <culik@nh.conex.com.br> on Fri, 20 Apr 2001 10:57:05 -0300
>
> > Why not use winexec() insted of system() function when windows is
running
>
> What are the advantages of using winexec() instead of system()? Are
> there any drawbacks to using winexec() instead of system()? Can
> winexec() launch DOS programs?
> --
> David G. Holm, Set Captain and all around

FWIW, WinExec() is listed as a compatibility function for Win32.
As of Win95 the preferred call is  CreateProcess(), which has a lot of
flexibility and is how waiting for the process to terminate is implemented
in 32bit.

Brian




From harbour@matrixlist.com  Fri Apr 20 14:59:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Fri Apr 20 13:59:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <009301c0c9c0$586c99f0$921a5e18@bh>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEHHDLAA.Ron@Profit-Master.com>

Brian,

> HOWEVER, the Win2K Taskmanager shows more memory being allocated,
> and almost
> NONE released (less than 100K).   So the 2MB is allocated again when the
> window is opened a second time.  This is also true with Win98's resource
> monitor.
> Apparently we are using the Borland memory functions; does anyone know if
> there's an extra step required to fully free memory back to Windows?

We don't use Borland's memory functions, we use ANSI c memory functions.

> Otherwise, we may need to change it to use Windows GlobalAlloc or
> some such.

This reporting by Windows might be misleading. It is possible that Windows
for performance reasons, treats FREED memory as if it was reserved for the
application that originally allocated it, and later freed it. Which brings
to question why later allocation requests, still increase the reported
allocated memory.

> I'll be studying my Borland docs tonight, but any help anyone can
> muster on
> this critical issue will be *greatly* appreciated.

I think the simple and possibly the optimized solution is for the GC to NOT
release these Memory Blocks, instead maintain its own stack of available
blocks to be recycled, for later allocation requests (Ryszard?).

Ron



From harbour@matrixlist.com  Fri Apr 20 15:03:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 20 14:03:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <009301c0c9c0$586c99f0$921a5e18@bh>
Message-ID: <000301c0c9c3$433dc060$0f2aa8c0@antonio>

Brian,

> Otherwise, we may need to change it to use Windows GlobalAlloc or 
> some such.

As I have privately suggested you, I do believe it is a very 
interesting test to do. 

As far as I understand it, Harbour actual memory management goes
through Borland's RTL malloc(), etc. implementation. Windows API
GlobalAlloc(), etc. will avoid Borland's memory management code.

Besides this, as I have also commented you, we have observed that
Windows 2000 does free memory when the application gets iconized.
This may be a specific Win 32 bits API behavior.

In fact, we do know that Visual Basic apps behave the same way.
They don't free memory at all. It keeps growing and growing until 
you iconize them.

Antonio


From harbour@matrixlist.com  Fri Apr 20 15:13:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 20 14:13:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEHHDLAA.Ron@Profit-Master.com>
Message-ID: <000501c0c9c4$92de7780$0f2aa8c0@antonio>

Ron,

> We don't use Borland's memory functions, we use ANSI c memory functions.

We do use Borland RTL code. That is for sure.

> I think the simple and possibly the optimized solution is for the 
> GC to NOT
> release these Memory Blocks, instead maintain its own stack of available
> blocks to be recycled, for later allocation requests (Ryszard?).

No, no, no, please no!!! :-) Lets Windows do its job!!!

Harbour GC is working so nicely! Lets not turn it into
another Clipper GC alike...

Visual Basic apps behaves the same!!! They don't release
memory and memory consume grows incredibly!!!

I do believe the problem comes from the fact that we are
comparing 16 bits and 32 bits apps performance and behaviors. 
And 16 bits apps keep performing so nice... 
(nicer than 32 bits ones...)

Antonio


From harbour@matrixlist.com  Fri Apr 20 15:35:04 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Fri Apr 20 14:35:04 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
References: <LOBBKAFMMFGJIKLMEPAKGEHHDLAA.Ron@Profit-Master.com>
Message-ID: <00d401c0c9c9$92219de0$921a5e18@bh>

> This reporting by Windows might be misleading.

Unlikely: stress tests that repeat the operation eventually slow down the
machine and crash.


> I think the simple and possibly the optimized solution is for the GC to
NOT
> release these Memory Blocks, instead maintain its own stack of available
> blocks to be recycled, for later allocation requests (Ryszard?).
>
> Ron

Thanks, Ron.
Another issue: At what point does fragmentation become a critical issue
here?  Could small roadblocks be the reason things don't get released?

Brian




From harbour@matrixlist.com  Fri Apr 20 15:46:01 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 20 14:46:01 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <00d401c0c9c9$92219de0$921a5e18@bh>
Message-ID: <000d01c0c9c9$56877020$0f2aa8c0@antonio>

Brian,

> Unlikely: stress tests that repeat the operation eventually slow down the
> machine and crash.

My machine eventualy crashes even if I don't do any stress tests
or run a specific app... ;-)


(sorry... I couldn't resist it... <bg>)

just a joke...


Antonio


From harbour@matrixlist.com  Fri Apr 20 15:57:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Fri Apr 20 14:57:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
References: <000501c0c9c4$92de7780$0f2aa8c0@antonio>
Message-ID: <00dc01c0c9cc$938481e0$921a5e18@bh>

Antonio:

> Visual Basic apps behaves the same!!! They don't release
> memory and memory consume grows incredibly!!!
>
> I do believe the problem comes from the fact that we are
> comparing 16 bits and 32 bits apps performance and behaviors.

Surely you're not suggesting that it is OK to use memory like a VB app?

The whole reason I used FW is because my competitors were going out of
business trying to release commercial apps with VB.

As one of our political icons once almost said, "A memory is a terrible
thing to waste..."

Brian

P.S. Regarding Minimize: the Win2K taskmanager shows nothing released on the
Performance tab for overall MEM Usage.
On the Processes tab It DOES show mem usage for that process drop to an
impossibly low number: at startup, 12MB used, iconize, 200K used. Restore, 2
MB, then it starts jumping up in big chunks as you do things. So this is
probably showing the executable image getting swapped out, not freed memory
getting released.



From harbour@matrixlist.com  Fri Apr 20 16:06:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Fri Apr 20 15:06:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <000501c0c9c4$92de7780$0f2aa8c0@antonio>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEHIDLAA.Ron@Profit-Master.com>

Antonio,

> > We don't use Borland's memory functions, we use ANSI c memory functions.
>
> We do use Borland RTL code. That is for sure.

You mean that my MSVC built Harbour is using Borland RTL code ???

hb_xalloc(), and hb_xgrab() both use malloc(), which is listed as an ANSI C
function in my reference books.
hb_xrealloc() uses realloc() which again is listed as an ANSI C function in
my reference books.
hb_xfree() uses free() which too is listed as an ANSI C function in my
reference books.

Why do you think these are Borland functions?

> > I think the simple and possibly the optimized solution is for the
> > GC to NOT
> > release these Memory Blocks, instead maintain its own stack of available
> > blocks to be recycled, for later allocation requests (Ryszard?).
>
> No, no, no, please no!!! :-) Lets Windows do its job!!!
>
> Harbour GC is working so nicely! Lets not turn it into
> another Clipper GC alike...

I don't consider this a must, but I don't share your "fear"! This seems like
a very simple and logical addition. This by its very nature, can and should
be made (fairly simply) 100% reliable!

> Visual Basic apps behaves the same!!! They don't release
> memory and memory consume grows incredibly!!!

This should not be our model.

Ron


From harbour@matrixlist.com  Fri Apr 20 16:13:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Fri Apr 20 15:13:01 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
References: <000d01c0c9c9$56877020$0f2aa8c0@antonio>
Message-ID: <010e01c0c9ce$c2866f10$921a5e18@bh>

> My machine eventualy crashes even if I don't do any stress tests
> or run a specific app... ;-)
>
>
> (sorry... I couldn't resist it... <bg>)

I know.  The game is to get it to last a whole day so if the user turns it
off at night they never know the difference ;-)

Brian


From harbour@matrixlist.com  Fri Apr 20 16:17:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Fri Apr 20 15:17:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
References: <LOBBKAFMMFGJIKLMEPAKOEHIDLAA.Ron@Profit-Master.com>
Message-ID: <011801c0c9cf$5feacad0$921a5e18@bh>

> You mean that my MSVC built Harbour is using Borland RTL code ???

I think Antonio's point is that the dev. system's library supplies the
routines. ANSI C is a source and compliance issue; I'd bet Borland's
implementation is different than MS.

Is it possible to build a FW app with MSVC 6 ?

Brian


From harbour@matrixlist.com  Fri Apr 20 16:21:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 20 15:21:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <00dc01c0c9cc$938481e0$921a5e18@bh>
Message-ID: <001001c0c9ce$2b71d420$0f2aa8c0@antonio>

Brian,

> Surely you're not suggesting that it is OK to use memory like a VB app?

Of course not! :-)

What I am thinking is that we could write a small test that just
allocates big chunks of memory using malloc() and free() them
later on and see what the task manager reports... Same test could
be done using GlobalAlloc() and GlobalFree().

My question is if it is a Windows 32 bits API "feature" or a bug
hidden somewhere...

Antonio


From harbour@matrixlist.com  Fri Apr 20 16:23:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 20 15:23:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEHIDLAA.Ron@Profit-Master.com>
Message-ID: <001101c0c9ce$7f59a040$0f2aa8c0@antonio>

Ron,

> You mean that my MSVC built Harbour is using Borland RTL code ???

Yes! ;-P

You are learning from Dave, eh ? :-)

Antonio




From harbour@matrixlist.com  Fri Apr 20 16:24:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Fri Apr 20 15:24:01 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <010e01c0c9ce$c2866f10$921a5e18@bh>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEHJDLAA.Ron@Profit-Master.com>

Antonio, Brian,

> > My machine eventualy crashes even if I don't do any stress tests
> > or run a specific app... ;-)
> >
> >
> > (sorry... I couldn't resist it... <bg>)
>
> I know.  The game is to get it to last a whole day so if the user turns it
> off at night they never know the difference ;-)

Sorry to spoil the party, but I run my Windows 95, 98, Me, 2000, and NT 4,
literally for MONTHS without any problem, and I *do* use my machines
intensively.

I think the key is, in what you allow to be installed on your machines, and
many other factors, most within the user control.

I remember how Mac users used to joke about Windows GPF, and while I had
perfectly stable operations with my joked about applications like Corel
Draw, fairly frequently, I witnessed my PRINT provider having to reboot
their reliable Mac, using the preferred Adobe Illustrator etc.

Let's not get dragged to negativism, if we do OUR job right, our users are
likely to have reliable operations on their O/S of choice.

Ron


From harbour@matrixlist.com  Fri Apr 20 16:25:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 20 15:25:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEHIDLAA.Ron@Profit-Master.com>
References: <000501c0c9c4$92de7780$0f2aa8c0@antonio>
Message-ID: <200104201921.f3KJLJQ07611@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Fri,
20 Apr 2001 12:10:01 -0700

> > We do use Borland RTL code. That is for sure.
> 
> You mean that my MSVC built Harbour is using Borland RTL code ???

Oh, don't even *try* to pretend that you don't know that Antonio uses
Borland C...

> Why do you think these are Borland functions?

Only the overall behaviour of those functions is defined by ANSI. The
details of how the actual memory allocation is done is an implementation
detail that is up to each library supplier to determine.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 20 16:28:01 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 20 15:28:01 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <011801c0c9cf$5feacad0$921a5e18@bh>
Message-ID: <001201c0c9cf$18d37b60$0f2aa8c0@antonio>

Brian,

> Is it possible to build a FW app with MSVC 6 ?

I don't think so... :-(

Microsoft uses COFF (as far as I remember -I don't use MSVC-)
and Borland uses OMF.

hummmmm... Is there any utility to turn an OMF library
into a COFF one ?

Antonio


From harbour@matrixlist.com  Fri Apr 20 16:34:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Fri Apr 20 15:34:01 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <001101c0c9ce$7f59a040$0f2aa8c0@antonio>
Message-ID: <LOBBKAFMMFGJIKLMEPAKCEHKDLAA.Ron@Profit-Master.com>

Antonio,

> > You mean that my MSVC built Harbour is using Borland RTL code ???
>
> Yes! ;-P

Sorry, I really don't understand.

> You are learning from Dave, eh ? :-)

No, I hope not (in this context)(no offense to Dave). I stated once that we
are using ANSI C functions not Borland as you originally stated, yet you
replied that we use Borland "for sure". Since I really don't see how is that
possible, I had to be more specific.

I really don't understand, why you say we are using Borland memory
functions.

Ron


From harbour@matrixlist.com  Fri Apr 20 16:34:24 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 20 15:34:24 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEHJDLAA.Ron@Profit-Master.com>
Message-ID: <001301c0c9d0$06cc3280$0f2aa8c0@antonio>

Ron,

> Sorry to spoil the party, but I run my Windows 95, 98, Me, 2000, and NT 4,
> literally for MONTHS without any problem, and I *do* use my machines
> intensively.

Not everybody has the money for "Rolls Roice" PCs... ;-)

> I think the key is, in what you allow to be installed on your
> machines, and many other factors, most within the user control.

Even Microsoft has decided to move its entire OS to a virtual
machine (called NET or similar...) because they have no other way
to avoid those blue screens...

> Let's not get dragged to negativism, if we do OUR job right, our users are
> likely to have reliable operations on their O/S of choice.

Lets be reallistic. Windows is a work in progress, too.

Antonio



From harbour@matrixlist.com  Fri Apr 20 16:40:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 20 15:40:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEHKDLAA.Ron@Profit-Master.com>
Message-ID: <001501c0c9d0$e5410cc0$0f2aa8c0@antonio>

Ron,

> Sorry, I really don't understand.

As David has clearly explained it, malloc(), etc. source code
is implemented and written by each C compiler manufacturer.


Antonio



From harbour@matrixlist.com  Fri Apr 20 16:53:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Fri Apr 20 15:53:01 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <200104201921.f3KJLJQ07611@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEHLDLAA.Ron@Profit-Master.com>

David,

> > > We do use Borland RTL code. That is for sure.
> >
> > You mean that my MSVC built Harbour is using Borland RTL code ???
>
> Oh, don't even *try* to pretend that you don't know that Antonio uses
> Borland C...

I did not pretend, nor tried to pretend, anything. The only way *I* can
fully understand someone's input is to ask, instead of assume that I know
what he/she meant, when the information appears incorrect.

> > Why do you think these are Borland functions?
>
> Only the overall behaviour of those functions is defined by ANSI. The
> details of how the actual memory allocation is done is an implementation
> detail that is up to each library supplier to determine.

Yes, but Antonio, didn't say <<we use compiler dependant memory functions,
instead of directly call O/S memory function>>. Even after I tried to
clarify that we use ANSI defined functions, not a vendor specific function,
he still maintained *we* use Borland RTL "for sure". I respect Antonio too
much to assume I know what it means, when I simply can't understand it.

Ron


From harbour@matrixlist.com  Fri Apr 20 16:57:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Fri Apr 20 15:57:01 2001
Subject: [Harbour] Re: Memoedit question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEHGDLAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEHLDLAA.Ron@Profit-Master.com>

David,

Did you get my last clarification about INKEY?

Ron

> David,
> 
> > > For example, you stated that Ctrl+W on Windows produces a Scan
> > Code of 68,
> > > while on GTSLN its 3,
> >
> > I was thinking of Ctrl+C when I wrote 3. With GTSLN, pressing Ctrl+W
> > actually sends 23 (and only 23). Pressing Ctrl+End sends an escape
> > sequence. Unlike GTWIN, there is nothing that tells GTSLN explicitly
> > whether or not a [Ctrl], [Alt], or [Shift] key was pressed, much less
> > whether it was the [Left] or [Right] key.
> 
> That's still OK, if we know that 23 on GTSLN is the representation for
> [Ctrl] + [W], than we KNOW that [Ctrl] *was* pressed if we get 
> 23, don't we?
> 
> The Scan Code does NOT need to explicitly indicate, that a Ctrl key was
> pressed, we derive this knowledge from *whatever* information we get,
> Escape, Sequence, Scan, Code, Reference Tables, or what ever is 
> available on
> the given platform.
> 
> Of course we all understand that not all platforms differentiate between
> Left and Right Ctrl/Alt/Shift keys. We should still have generic 
> values for
> [Ctrl] as well as [R-Ctrl] and [L-Ctrl], etc., as long as KeyState(
> HKB_CONTROL, x ) will yield TRUE for all 3 possible values of the 
> Ctrl key.
> 
> Ron


From harbour@matrixlist.com  Fri Apr 20 17:07:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 20 16:07:01 2001
Subject: [Harbour] Re: Memoedit question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEHLDLAA.Ron@Profit-Master.com>
References: <LOBBKAFMMFGJIKLMEPAKIEHGDLAA.Ron@Profit-Master.com>
Message-ID: <200104202003.f3KK36Q12220@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Fri,
20 Apr 2001 13:00:55 -0700

> Did you get my last clarification about INKEY?

Yes, I got it, but still I'm not interested in going that route.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 20 17:24:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Fri Apr 20 16:24:01 2001
Subject: [Harbour] Re: Memoedit question
In-Reply-To: <200104202003.f3KK36Q12220@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEHMDLAA.Ron@Profit-Master.com>

David,

> > Did you get my last clarification about INKEY?
>
> Yes, I got it, but still I'm not interested in going that route.

I do.

I was (and still am) frustrated with Clipper's limitations in this area, for
as long as I can remember. It's time we have a more complete keyboard
interface, implemented in platform independent manner. For that to happen we
must define some platform *in*dependant, representation of what's missing in
Clipper.

It appears to me that a generic representation of root keys, plus generic
representation of modifiers, is the correct route.

Could you please explain what alternate route do you propose, and how will
it allow platform independent way of differentiating between Ctrl+W and
Cctrl+End as an example?

Ron


From harbour@matrixlist.com  Fri Apr 20 17:33:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 20 16:33:02 2001
Subject: [Harbour] Re: Memoedit question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEHMDLAA.Ron@Profit-Master.com>
References: <200104202003.f3KK36Q12220@smtp.parrett.net>
Message-ID: <200104202029.f3KKTiQ14798@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Fri,
20 Apr 2001 13:27:25 -0700

> Could you please explain what alternate route do you propose, and how will
> it allow platform independent way of differentiating between Ctrl+W and
> Cctrl+End as an example?

What part of "How about a new INKEY_EXTENDED mode that would do most
translations, but would *not* map cursor keys to control codes" did you
not understand?
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 20 17:45:03 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Fri Apr 20 16:45:03 2001
Subject: [Harbour] Re: Memoedit question
In-Reply-To: <200104202029.f3KKTiQ14798@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKCEHNDLAA.Ron@Profit-Master.com>

David,

> > Could you please explain what alternate route do you propose,
> and how will
> > it allow platform independent way of differentiating between Ctrl+W and
> > Cctrl+End as an example?
>
> What part of "How about a new INKEY_EXTENDED mode that would do most
> translations, but would *not* map cursor keys to control codes" did you
> not understand?

Apparently my understanding is seriously lacking. I'm sorry but I don't
understand your proposal.

My question is very specific:

How can you represent key combinations, MISSING in Clipper, in a platform
INDEPENDENT way, without "inventing" new representation conventions?

If you do suggest new extended GENERIC representation conventions, I did NOT
understand what they might be.

If you don't suggest new platform INDEPENDENT representations, for what's
currently missing in Clipper, then I think your proposal is lacking.

Could you please aim your explanation at an average understanding audience.

TIA

Ron


From harbour@matrixlist.com  Fri Apr 20 18:19:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 20 17:19:01 2001
Subject: [Harbour] Re: Memoedit question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEHNDLAA.Ron@Profit-Master.com>
References: <200104202029.f3KKTiQ14798@smtp.parrett.net>
Message-ID: <200104202115.f3KLF4Q18881@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Fri,
20 Apr 2001 13:49:16 -0700

The specific problem that occurred is that MEMOEDIT can't distinguish
between Ctrl+W and Ctrl+End, because Harbour's MEMOEDIT uses INKEY()
while Clipper's obviously does not. The specific problem that needs to
be solved is to allow MEMOEDIT to distinguish between Ctrl+W and
Ctrl+End and other Ctrl+cursor key combinations that Clipper mapped to
control key codes instead of assigning new key codes to.

I proposed a method that can be implemented *very* quickly: Add a new
INKEY mask named INKEY_EXTENDED that doesn't map control+cursor key
combinations to control key codes. The obvious implied consequence is
that those key combinations would get mapped to new key codes that are
not currently used by Clipper.

What those platform-independent key codes should be is an irrelevant
implementation detail at this stage. (But if I were to implement it, I
would choose codes within the context of Clipper's key codes originating
on the PC/DOS platform.)

One implementation detail that *is* relevant is that I would probably
have hb_gt_Inkey() assume that INKEY_EXTENDED was *always* in effect and
then have INKEY() translate to control codes, or not, as needed. This
way, if NEXTKEY() reports that the next key is 23, you can use
INKEY(,INKEY_EXTENDED) to read the key and find out if it was Ctrl+W
(23) or Ctrl+End (who's code value is irrelevant at this time).

See? Not only platform-independent, but *simple*.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 20 19:11:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 20 18:11:02 2001
Subject: [Harbour] ChangeLog 2001-04-20 18:05 UTC-0400 David G. Holm
Message-ID: <200104202207.f3KM7dQ23161@smtp.parrett.net>

2001-04-20 18:05 UTC-0400 David G. Holm <dholm@jsd-llc.com>

  + include/hb_io.h
  * source/common/hbtrace.c
  * source/rtl/console.c
  * source/rtl/dir.c
  * source/rtl/disksphb.c
  * source/rtl/filesys.c
  * source/rtl/gtapi.c
    + Instead of using #include <io.h> and/or messy #ifdef blocks to
      include <unistd.h> and/or <io.h>, just use #include "hb_io.h"
      (based on an idea from Dave Pearson).
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 20 19:14:01 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Fri Apr 20 18:14:01 2001
Subject: [Harbour] An small suggestion
References: <200104201402.f3KE2kQ09009@smtp.parrett.net> <009401c0c9c0$ea6a4230$921a5e18@bh>
Message-ID: <000401c0c9e7$4179bee0$65d4d7c8@luizguim>

Brian
> > --
> > David G. Holm, Set Captain and all around
>
> FWIW, WinExec() is listed as a compatibility function for Win32.
> As of Win95 the preferred call is  CreateProcess(), which has a lot of
> flexibility and is how waiting for the process to terminate is implemented
> in 32bit.

Ok. I agree with you on this point.

Btw , it is possible to have an Harbour level function call the compiler
ex: an call to __run under windows GUI., it load an copy of the system
command interpreter(in my case command.com) and them the program called.
It could some like HB_FUNC(HARBOUR)
What im suggesting is the same thing that was done to the hbrun

Regards

Luiz Rafael Culik


From harbour@matrixlist.com  Fri Apr 20 19:20:03 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 20 18:20:03 2001
Subject: [Harbour] ChangeLog 2001-04-20 18:15 UTC-0400 David G. Holm
Message-ID: <200104202216.f3KMGSQ23964@smtp.parrett.net>

2001-04-20 18:15 UTC-0400 David G. Holm <dholm@jsd-llc.com>

  * source/rtl/disksphb.c
    % Fixed errors in EG_OPEN error generation.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 20 20:18:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Fri Apr 20 19:18:02 2001
Subject: [Harbour] ChangeLog 2001-04-20 18:05 UTC-0400 David G. Holm
References: <200104202207.f3KM7dQ23161@smtp.parrett.net>
Message-ID: <001501c0c9f1$18bacad0$921a5e18@bh>

Thanks for finishing that up, David.  Your idea for flushing hb_trace works
great!

Brian

----- Original Message -----
From: "David G. Holm" <dholm@jsd-llc.com>
To: <Harbour@matrixlist.com>
Sent: Friday, April 20, 2001 3:09 PM
Subject: [Harbour] ChangeLog 2001-04-20 18:05 UTC-0400 David G. Holm


> 2001-04-20 18:05 UTC-0400 David G. Holm <dholm@jsd-llc.com>
>
>   + include/hb_io.h
>   * source/common/hbtrace.c
>   * source/rtl/console.c
>   * source/rtl/dir.c
>   * source/rtl/disksphb.c
>   * source/rtl/filesys.c
>   * source/rtl/gtapi.c
>     + Instead of using #include <io.h> and/or messy #ifdef blocks to
>       include <unistd.h> and/or <io.h>, just use #include "hb_io.h"
>       (based on an idea from Dave Pearson).
> --
> David G. Holm, Set Captain and all around
> Harbour Project Clipper Compatibility fanatic.
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@matrixlist.com  Sat Apr 21 02:52:01 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Sat Apr 21 01:52:01 2001
Subject: [Harbour] ChangeLog 2001-04-20 18:05 UTC-0400 David G. Holm
In-Reply-To: <200104202207.f3KM7dQ23161@smtp.parrett.net>; from dholm@jsd-llc.com on Fri, Apr 20, 2001 at 06:09:56PM -0400
References: <200104202207.f3KM7dQ23161@smtp.parrett.net>
Message-ID: <20010421065120.J20026@hagbard.davep.org>

On Fri, Apr 20, 2001 at 06:09:56PM -0400, David G. Holm wrote:
> 2001-04-20 18:05 UTC-0400 David G. Holm <dholm@jsd-llc.com>
> 
>   * source/rtl/gtapi.c
>     + Instead of using #include <io.h> and/or messy #ifdef blocks to
>       include <unistd.h> and/or <io.h>, just use #include "hb_io.h"
>       (based on an idea from Dave Pearson).

Things are happily building again over here on GNU/Linux. Thanks.

-- 
Dave Pearson:                   |     lbdb.el - LBDB interface.
http://www.davep.org/           |  sawfish.el - Sawfish mode.
Emacs:                          |  uptimes.el - Record emacs uptimes.
http://www.davep.org/emacs/     | quickurl.el - Recall lists of URLs.

From harbour@matrixlist.com  Sat Apr 21 04:31:03 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Sat Apr 21 03:31:03 2001
Subject: [Harbour] Coding style and goto
Message-ID: <000901c0ca35$da0015d0$921a5e18@bh>

__dbLocate was not releasing memory if the dataset was empty, due to classic
early return statements in the middle of nested "if"s.  Execution didn't get
to the hb_itemRelease at the end of the function.  The easy quick fix was to
replace each return with a goto to jump to the end.  One of many such blocks
is shown below.
I haven't written a GOTO in any language for 13 years (except for going to a
record!), but if it's ever defensible this is the kind of structure that
makes sense.  Is this an acceptable structure on all platforms and
religions, or should someone (okay, I volunteer) take the time to re-nest
and indent the gnarly blocks?
   ...
   else
   {
      SELF_GOTOP( ( AREAP ) s_pCurrArea->pArea );
      if( ( ( AREAP ) s_pCurrArea->pArea )->fEof )
         goto ExitLocate ;
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
      if( hb_itemType( pNewFor ) == HB_IT_BLOCK )
         bFor = hb_itemGetL( hb_vmEvalBlock( pNewFor ) );
      else
         bFor = hb_itemGetL( pNewFor );
      while( !( ( AREAP ) s_pCurrArea->pArea )->fEof && !bFor )
      {
         SELF_SKIP( ( AREAP ) s_pCurrArea->pArea, 1 );
         if( hb_itemType( pNewFor ) == HB_IT_BLOCK )
            bFor = hb_itemGetL( hb_vmEvalBlock( pNewFor ) );
         else
            bFor = hb_itemGetL( pNewFor );
      }
      ( ( AREAP ) s_pCurrArea->pArea )->fFound = bFor;
   }

ExitLocate :
   /* Release items */
   hb_itemRelease( pNewFor );
   hb_itemRelease( pNewRest );

Brian Hays
Abacus Data Systems, Inc.



From harbour@matrixlist.com  Sat Apr 21 09:18:02 2001
From: harbour@matrixlist.com (Marek Horodyski)
Date: Sat Apr 21 08:18:02 2001
Subject: [Harbour] MemoEdit
Message-ID: <023901c0ca5d$4222a570$1321000a@altkomhomar>

In my doesn't work instruction :

MemoEdit( 'Some Text', 7, 7, 20, 50, .f., .f.)

(Harbour 0.36, BCC32)

Regards,
Marek Horodyski



From harbour@matrixlist.com  Sat Apr 21 13:31:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Sat Apr 21 12:31:01 2001
Subject: [Harbour] Coding style and goto
In-Reply-To: <000901c0ca35$da0015d0$921a5e18@bh>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEIADLAA.Ron@Profit-Master.com>

Brian,

Wouldn't it be easier to simply copy the 2 hb_itemRelease() into the nested
if() with the early return statement?

> __dbLocate was not releasing memory if the dataset was empty, due
> to classic
> early return statements in the middle of nested "if"s.  Execution
> didn't get
> to the hb_itemRelease at the end of the function.  The easy quick
> fix was to
> replace each return with a goto to jump to the end.  One of many
> such blocks
> is shown below.
> I haven't written a GOTO in any language for 13 years (except for
> going to a
> record!), but if it's ever defensible this is the kind of structure that
> makes sense.  Is this an acceptable structure on all platforms and
> religions, or should someone (okay, I volunteer) take the time to re-nest
> and indent the gnarly blocks?

Ron


From harbour@matrixlist.com  Sat Apr 21 13:36:02 2001
From: harbour@matrixlist.com (Marek Paliwoda)
Date: Sat Apr 21 12:36:02 2001
Subject: [Harbour] Re: Memoedit question
References: <LOBBKAFMMFGJIKLMEPAKGEGMDLAA.Ron@Profit-Master.com>
 <200104201330.f3KDUEQ05594@smtp.parrett.net>
Message-ID: <001301c0ca81$3a163620$26b472c3@map>

Original from: "David G. Holm" <dholm@jsd-llc.com> To:
<harbour@matrixlist.com>
Sent: Friday, April 20, 2001 3:32 PM Subject: Re: [Harbour] Re: Memoedit
question


> ** Reply to message from Maurilio Longo <maurilio.longo@libero.it> on
> Fri, 20 Apr 2001 08:53:45 +0200
>
> > in my opinion harbour keyboard buffer should not buffer already 
> > translated key codes but raw scankeys.
>
> But that still leaves the problem of platform differences between
> native codes. For exmple, the native key code for Ctrl+W on gtsln is not
> 68, but 3. And the native key code for Ctrl+End on gtsln is going to be
> an escape sequence, not a single code.

David,

Unfortunatelly gtsln does not support INKEY_RAW currently.

Regards
Marek Paliwoda






From harbour@matrixlist.com  Sat Apr 21 17:14:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Sat Apr 21 16:14:02 2001
Subject: [Harbour] Coding style and goto
References: <LOBBKAFMMFGJIKLMEPAKGEIADLAA.Ron@Profit-Master.com>
Message-ID: <002c01c0caa0$7635f680$921a5e18@bh>

>
> Wouldn't it be easier to simply copy the 2 hb_itemRelease() into the
nested
> if() with the early return statement?

If it were one spot, yes, of course, but there are several such spots and
it's better to have the "recovery" code in one place. Otherwise there will
undoubtedly be another hb_itemRelease() added later that won't get to all
the spots ....

Brian


From harbour@matrixlist.com  Sat Apr 21 18:06:02 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Sat Apr 21 17:06:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-21 22:59 GMT+2
Message-ID: <3AE1F5F2.F3483ABC@libero.it>

2001-04-21 22:59 GMT+2 Maurilio Longo <maurilio.longo@libero.it>
   * source/rtl/memoedit.prg
      ! fixed error when UserFunction is a logical value.


--

 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia




From harbour@matrixlist.com  Sat Apr 21 18:07:04 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Sat Apr 21 17:07:04 2001
Subject: [Harbour] MemoEdit
References: <023901c0ca5d$4222a570$1321000a@altkomhomar>
Message-ID: <3AE1F639.55EAE373@libero.it>

Marek,

fixed in latest cvs code.

regards.


Marek Horodyski ha scritto:

> In my doesn't work instruction :
>
> MemoEdit( 'Some Text', 7, 7, 20, 50, .f., .f.)
>
> (Harbour 0.36, BCC32)
>
> Regards,
> Marek Horodyski
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--

 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Sun Apr 22 01:00:04 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Sun Apr 22 00:00:04 2001
Subject: [Harbour] hb_conOutErr and unreleased Memblocks
Message-ID: <000b01c0cae1$9e644e40$921a5e18@bh>

We apparently get unreleased blocks with a special problem reported in
hb_xexit,
source\vm\fm.c:442: HB_TR_ERROR Block 1 (size 0) (0)
source\vm\fm.c:442: HB_TR_ERROR Block 2 (size 0) (0)
source\vm\fm.c:442: HB_TR_ERROR Block 3 (size 0) (0)
...which are listed to the file setup as HB_TR_OUTPUT, but the other output
from hb_xexit goes to stdErr.

But with a Windows app I do not have a console window to see these.
Can or should hb_conOutErr  redirect output to the HB_TR_OUTPUT?  Is there a
mechanism for capturing hb_conOutErr  that I missed?  It's currently
worthless in Windows for critical debugging info to go to stdErr...

Also, is there a way to get stdOut or stdErr to a console window?  Antonio
once suggested to remove -Tpe  from the link line, but this does nothing for
me in Win2K.  Here is my current link line:

   $(BCDIR)\ilink32.exe -jobj -Gn -aa -Tpe -s @b32.bc

TIA!
Brian Hays



From harbour@matrixlist.com  Mon Apr 23 08:56:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Mon Apr 23 07:56:02 2001
Subject: [Harbour] FWH and Harbour, very close to be ready
In-Reply-To: <000b01c0cae1$9e644e40$921a5e18@bh>
Message-ID: <001701c0cbeb$7c2f4680$0f2aa8c0@antonio>

I reproduce here a private email between
Brian Hays, Sid, and us (hope you don't mind, Brian):

Antonio:

First results are *very* exciting!  So far, none of the scenarios produce
any stray :HandleEvent calls!!

I'll let you know what happens Monday as people bang on it all day.

Thanks so much!!!!

Brian

----- Original Message -----
From: "Antonio Linares" <alinares@fivetech.com>
To: "Sid Saylors" <saylors@home.com>; "Brian Hays" <bhays@abacuslaw.com>
Sent: Sunday, April 22, 2001 3:38 AM
Subject: little fix

> Brian, Sid,
>
> I have detected something that could help
> with the problems with HandleEvent.
>
> Please replace this module inside fivehc.lib
> and let me know if it works better now.
>
> Many thanks for your help,
>
> Antonio


From harbour@matrixlist.com  Mon Apr 23 09:39:02 2001
From: harbour@matrixlist.com (Harbour)
Date: Mon Apr 23 08:39:02 2001
Subject: [Harbour] FWH and Harbour, very close to be ready
In-Reply-To: <001701c0cbeb$7c2f4680$0f2aa8c0@antonio>
Message-ID: <00563200104231940377083707@smtp.andijahja.org>

Reply message to "Antonio Linares" <alinares@fivetech.com> :

Antonio,

Can I too have the fix ?

Thanks.

Andi

>I reproduce here a private email between
>Brian Hays, Sid, and us (hope you don't mind, Brian):
>
>Antonio:
>
>First results are *very* exciting!  So far, none of the scenarios produce
>any stray :HandleEvent calls!!
>
>I'll let you know what happens Monday as people bang on it all day.
>
>Thanks so much!!!!
>
>Brian
>
>----- Original Message -----
>From: "Antonio Linares" <alinares@fivetech.com>
>To: "Sid Saylors" <saylors@home.com>; "Brian Hays" <bhays@abacuslaw.com>
>Sent: Sunday, April 22, 2001 3:38 AM
>Subject: little fix
>
>> Brian, Sid,
>>
>> I have detected something that could help
>> with the problems with HandleEvent.
>>
>> Please replace this module inside fivehc.lib
>> and let me know if it works better now.
>>
>> Many thanks for your help,
>>
>> Antonio
>
>_______________________________________________
>Harbour mailing list
>Harbour@matrixlist.com
>http://www.matrixlist.com/mailman/listinfo/harbour
>
>Thank you for participating in The Harbour Project.  Be sure to check
>http://www.Harbour-Project.org
>
>



From harbour@matrixlist.com  Mon Apr 23 13:15:03 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Mon Apr 23 12:15:03 2001
Subject: [Harbour] FWH and Harbour, very close to be ready
In-Reply-To: <00563200104231940377083707@smtp.andijahja.org>
Message-ID: <000201c0cc0f$afbabb00$0f2aa8c0@antonio>

Andi,

We are emaling it to all the users list.

Antonio

> -----Mensaje original-----
> De: harbour-admin@matrixlist.com [mailto:harbour-admin@matrixlist.com]En
> nombre de Harbour
> Enviado el: lunes, 23 de abril de 2001 14:41
> Para: harbour@matrixlist.com
> Asunto: Re: [Harbour] FWH and Harbour, very close to be ready
>
>
> Reply message to "Antonio Linares" <alinares@fivetech.com> :
>
> Antonio,
>
> Can I too have the fix ?
>
> Thanks.
>
> Andi
>
> >I reproduce here a private email between
> >Brian Hays, Sid, and us (hope you don't mind, Brian):
> >
> >Antonio:
> >
> >First results are *very* exciting!  So far, none of the scenarios produce
> >any stray :HandleEvent calls!!
> >
> >I'll let you know what happens Monday as people bang on it all day.
> >
> >Thanks so much!!!!
> >
> >Brian
> >
> >----- Original Message -----
> >From: "Antonio Linares" <alinares@fivetech.com>
> >To: "Sid Saylors" <saylors@home.com>; "Brian Hays" <bhays@abacuslaw.com>
> >Sent: Sunday, April 22, 2001 3:38 AM
> >Subject: little fix
> >
> >> Brian, Sid,
> >>
> >> I have detected something that could help
> >> with the problems with HandleEvent.
> >>
> >> Please replace this module inside fivehc.lib
> >> and let me know if it works better now.
> >>
> >> Many thanks for your help,
> >>
> >> Antonio
> >
> >_______________________________________________
> >Harbour mailing list
> >Harbour@matrixlist.com
> >http://www.matrixlist.com/mailman/listinfo/harbour
> >
> >Thank you for participating in The Harbour Project.  Be sure to check
> >http://www.Harbour-Project.org
> >
> >
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>
>



From harbour@matrixlist.com  Mon Apr 23 13:22:02 2001
From: harbour@matrixlist.com (Marek Paliwoda)
Date: Mon Apr 23 12:22:02 2001
Subject: [Harbour] INKEY RAW question
Message-ID: <001f01c0cc11$94fa0ee0$1db572c3@map>

    Could anybody clarify me how INKEY RAW can be usefull considering
portability ? Are programs which use INKEY RAW portable ? I don't see
how they can be, keeping in mind that in some configurations they even
can't be available. 

Thanks in advance
Marek Paliwoda



From harbour@matrixlist.com  Mon Apr 23 13:37:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr 23 12:37:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <001f01c0cc11$94fa0ee0$1db572c3@map>
Message-ID: <200104231632.f3NGWsU32490@smtp.parrett.net>

** Reply to message from Marek Paliwoda <paliwoda@inetia.pl> on Mon, 23
Apr 2001 18:22:21 +0200

> Could anybody clarify me how INKEY RAW can be usefull considering
> portability ? Are programs which use INKEY RAW portable ? I don't see
> how they can be, keeping in mind that in some configurations they even
> can't be available.

INKEY_RAW is for primarily for those DOS, OS/2, and Windows users that
have a need to be able to distinguish between all keyboard keys and
don't care about portability.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr 23 15:06:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Mon Apr 23 14:06:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104231632.f3NGWsU32490@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEIKDLAA.Ron@Profit-Master.com>

Marek, David, All

As I have suggested, in my recent thread with David, we can *easily* provide
fully portable way to describe *any* key, or key combination.

I would strongly recommend, we should focus on the complete solution *now*,
rather than continue to add temporary patches.

All the logic to deduce *which* keys were pressed, is *already* present at
the platform dependant inkey() logic. All we have to do is agree on the
conventions for describing the most complete, portable, Harbour
representations. Once this is agreed the actual coding will be minimal and
trivial.

If David, does not have the time to this, I am willing to do it. I think it
can be done, in just few hours.

Ron

> > Could anybody clarify me how INKEY RAW can be usefull considering
> > portability ? Are programs which use INKEY RAW portable ? I don't see
> > how they can be, keeping in mind that in some configurations they even
> > can't be available.
>
> INKEY_RAW is for primarily for those DOS, OS/2, and Windows users that
> have a need to be able to distinguish between all keyboard keys and
> don't care about portability.


From harbour@matrixlist.com  Mon Apr 23 15:22:03 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr 23 14:22:03 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEIKDLAA.Ron@Profit-Master.com>
References: <200104231632.f3NGWsU32490@smtp.parrett.net>
Message-ID: <200104231818.f3NIIfU10148@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
23 Apr 2001 11:09:37 -0700

> If David, does not have the time to this,

It's not that I don't have time. It is that I am totally unwilling to
*waste* my time. Most people do *not* care if Ctrl was pressed with End
or if the left or right Ctrl key was used. What they want to know is
that Ctrl+End was pressed and not Ctrl+W. It is a *lot* simpler to add a
way to represent Ctrl+End as a code that is separate from Ctrl+W than it
is to add a new structure and adding code to non-Wintel platforms to
determine which codes correspond to which state keys.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr 23 15:42:02 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Mon Apr 23 14:42:02 2001
Subject: [Harbour] INKEY RAW question
References: <200104231632.f3NGWsU32490@smtp.parrett.net> <200104231818.f3NIIfU10148@smtp.parrett.net>
Message-ID: <3AE4774E.FDF0295D@libero.it>

David,

I agree with you, harbour will not be used to write games (where you need a
high level of detail) and we really need to distinguish very a few key
combinations.

regards.


"David G. Holm" ha scritto:

> ** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
> 23 Apr 2001 11:09:37 -0700
>
> > If David, does not have the time to this,
>
> It's not that I don't have time. It is that I am totally unwilling to
> *waste* my time. Most people do *not* care if Ctrl was pressed with End
> or if the left or right Ctrl key was used. What they want to know is
> that Ctrl+End was pressed and not Ctrl+W. It is a *lot* simpler to add a
> way to represent Ctrl+End as a code that is separate from Ctrl+W than it
> is to add a new structure and adding code to non-Wintel platforms to
> determine which codes correspond to which state keys.
> --
> David G. Holm, Set Captain and all around
> Harbour Project Clipper Compatibility fanatic.
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--

 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Mon Apr 23 15:46:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Mon Apr 23 14:46:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104231818.f3NIIfU10148@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKCEILDLAA.Ron@Profit-Master.com>

> Most people do *not* care if Ctrl was pressed with End
> or if the left or right Ctrl key was used. What they want to know is
> that Ctrl+End was pressed and not Ctrl+W.

I seriously doubt this assumption. I think most Clipper programmers, are
frustrated with the obvious weakness of INKEY to represent many common
keyboard input. For example:

   1. Differentiation between Arrow Keys and certain Ctrl Combinations.

   2. Differentiation between Ctrl + Left/Right Arrow Keys, and certain Ctrl
Combinations.

   3. Lack of support for Ctrl + Up/Down.

   4. Lack of support for Alt + Arrows/Home/End/PgUp/PgDn etc.

   5. Lack of support for Shift + Arrows/Home/End/PgUp/PgDn etc.

I will gladly *invest* my time, in addressing these and other obvious
weaknesses.

Ron


From harbour@matrixlist.com  Mon Apr 23 16:23:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr 23 15:23:01 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEILDLAA.Ron@Profit-Master.com>
References: <200104231818.f3NIIfU10148@smtp.parrett.net>
Message-ID: <200104231919.f3NJJbU16171@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
23 Apr 2001 11:49:55 -0700

> I seriously doubt this assumption. I think most Clipper programmers, are
> frustrated with the obvious weakness of INKEY to represent many common
> keyboard input. For example:

How can you say that you doubt my assumption when you then proceed to
confirm it in every last one of your examples?

>    1. Differentiation between Arrow Keys and certain Ctrl Combinations.
> 
>    2. Differentiation between Ctrl + Left/Right Arrow Keys, and certain Ctrl
> Combinations.

And how will providing different codes for arrow keys and Ctrl+arrow
keys not accomplish this?

>    3. Lack of support for Ctrl + Up/Down.
> 
>    4. Lack of support for Alt + Arrows/Home/End/PgUp/PgDn etc.
> 
>    5. Lack of support for Shift + Arrows/Home/End/PgUp/PgDn etc.

My INKEY_EXTENDED proposal *will* provide codes for *all* of these
keys, *without* having to deal with a complicated array structure and
having to explicitly check for *both* the scan code and the state code.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr 23 16:47:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Mon Apr 23 15:47:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104231919.f3NJJbU16171@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEIMDLAA.Ron@Profit-Master.com>

David,

> > I seriously doubt this assumption. I think most Clipper programmers, are
> > frustrated with the obvious weakness of INKEY to represent many common
> > keyboard input. For example:
>
> How can you say that you doubt my assumption when you then proceed to
> confirm it in every last one of your examples?

I never said your proposal will *not* address some important shortages. I
simply suggested a more complete solution.

> >    1. Differentiation between Arrow Keys and certain Ctrl Combinations.
> >
> >    2. Differentiation between Ctrl + Left/Right Arrow Keys, and
> certain Ctrl
> > Combinations.
>
> And how will providing different codes for arrow keys and Ctrl+arrow
> keys not accomplish this?
>
> >    3. Lack of support for Ctrl + Up/Down.
> >
> >    4. Lack of support for Alt + Arrows/Home/End/PgUp/PgDn etc.
> >
> >    5. Lack of support for Shift + Arrows/Home/End/PgUp/PgDn etc.
>
> My INKEY_EXTENDED proposal *will* provide codes for *all* of these
> keys, *without* having to deal with a complicated array structure and
> having to explicitly check for *both* the scan code and the state code.

BTW, although I don't find any documentation for these, I found the
following (with Clipper 5.2e):

       Alt  Ctl
       ---  ---
Up     408  397
Down   416  401
Right  413
Left   411
Home   407
End    415
PgUp   409
PgDn   417
Insert 418
Delete 419

Etc., etc., are these documented anywhere?

Here is my sample program:

Procedure Main()

   LOCAL nKey

   CLEAR SCREEN

   DO WHILE ( nKey := Inkey(0) ) != 27
      @ 10,10 SAY nKey
   ENDDO

RETURN

Ron


From harbour@matrixlist.com  Mon Apr 23 17:11:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr 23 16:11:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEIMDLAA.Ron@Profit-Master.com>
References: <200104231919.f3NJJbU16171@smtp.parrett.net>
Message-ID: <200104232006.f3NK6fU20520@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
23 Apr 2001 12:51:19 -0700

> BTW, although I don't find any documentation for these,

You might try looking in the obvious place: inkey.ch
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr 23 17:12:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr 23 16:12:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEIMDLAA.Ron@Profit-Master.com>
References: <200104231919.f3NJJbU16171@smtp.parrett.net>
Message-ID: <200104232008.f3NK8JU20712@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
23 Apr 2001 12:51:19 -0700

> I simply suggested a more complete solution.

How is having to check several values in an array a more complete
solution than checking a single value? No, Ron. Your solution is not
more complete. It is simply different and more complicated.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr 23 17:15:05 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Mon Apr 23 16:15:05 2001
Subject: [Harbour] Nice Harbour & FiveWin sample
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEIMDLAA.Ron@Profit-Master.com>
Message-ID: <NCBBJKNMIDPJNLJCHCHIEEEEGCAA.harbour@winfakt.com>

Hi,

I have made a "Harbour sample" section on the download page of
www.FiveWin.Be.kz page.
If someone has sample exe or prg files, please send them to me, I will put
them online.

Have a look at http://www.FiveWin.Be.kz/downloads.htm (bottom of the page)

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)


From harbour@matrixlist.com  Mon Apr 23 17:32:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Mon Apr 23 16:32:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104232006.f3NK6fU20520@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEINDLAA.Ron@Profit-Master.com>

> > BTW, although I don't find any documentation for these,
> 
> You might try looking in the obvious place: inkey.ch

Is this the only place that "documents" these?


From harbour@matrixlist.com  Mon Apr 23 17:45:04 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr 23 16:45:04 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEINDLAA.Ron@Profit-Master.com>
References: <200104232006.f3NK6fU20520@smtp.parrett.net>
Message-ID: <200104232041.f3NKfNU23922@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
23 Apr 2001 13:35:57 -0700

> Is this the only place that "documents" these?

As far as I can tell.

They are definitely not documented in Appendix C of the Clipper 5.3
Error Messages and Appendices manual. Or in the inkey codes section of
the Norton Guides.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr 23 17:46:01 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Mon Apr 23 16:46:01 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEIMDLAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Mon, Apr 23, 2001 at 12:51:19PM -0700
References: <200104231919.f3NJJbU16171@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKGEIMDLAA.Ron@Profit-Master.com>
Message-ID: <20010423214445.D28537@hagbard.davep.org>

On Mon, Apr 23, 2001 at 12:51:19PM -0700, Ron Pinkas wrote:

> BTW, although I don't find any documentation for these, I found the
> following (with Clipper 5.2e):
> 
>        Alt  Ctl
>        ---  ---
> Up     408  397
> Down   416  401
> Right  413
> Left   411
> Home   407
> End    415
> PgUp   409
> PgDn   417
> Insert 418
> Delete 419
> 
> Etc., etc., are these documented anywhere?

INKEY.CH is your friend:

,----
| davep@hagbard:/mnt/darwin/c/clipper/MASTER$grep -E "408|397|416|401|413|\
| > 411|407|415|409|417|418|419" INKEY.CH
| #define K_CTRL_UP         397   // * Ctrl-Up arrow
| #define K_CTRL_DOWN       401   // * Ctrl-Down arrow
| #define K_ALT_UP          408   // * Alt-Up arrow
| #define K_ALT_DOWN        416   // * Alt-Down arrow
| #define K_ALT_LEFT        411   // * Alt-Left arrow
| #define K_ALT_RIGHT       413   // * Alt-Right arrow
| #define K_ALT_HOME        407   // * Alt-Home
| #define K_ALT_END         415   // * Alt-End
| #define K_ALT_PGUP        409   // * Alt-PgUp
| #define K_ALT_PGDN        417   // * Alt-PgDn
| #define K_ALT_INS         418   // * Alt-Ins
| #define K_ALT_DEL         419   // * Alt-Del
`----

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Mon Apr 23 17:54:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Mon Apr 23 16:54:01 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104232008.f3NK8JU20712@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEIODLAA.Ron@Profit-Master.com>

David,

> > I simply suggested a more complete solution.
>
> How is having to check several values in an array a more complete
> solution than checking a single value? No, Ron. Your solution is not
> more complete. It is simply different and more complicated.

Are you asking or answering?

My proposal is indeed more complete, because it supports *any* possible key
combination, as oppose to *only* those you, or anyone else (arbitrarily)
decided are important enough.

My proposal outlined *one* way of representing *any* keyboard input in a
portable manner. If the group decides that such representation is
advantageous if expressed by a single value, we could easily agree on a
scheme that coded all possible values into single value. For example allow
up to 128 values (0-127) representing  each primary key on the keyboard,
allocating the next page (128-255) for SHIFTed values, next (256-383) for
ALTed values, next (384-511) for CONTROLed values, etc., etc..

I am not advocating *any* specific scheme, I advocate the general idea of
supporting *all* keys, and Key Combinations, *preferably* with the ability
to simply deduce if a specific modifier was used.

Ron


From harbour@matrixlist.com  Mon Apr 23 18:17:02 2001
From: harbour@matrixlist.com (Marek Paliwoda)
Date: Mon Apr 23 17:17:02 2001
Subject: [Harbour] INKEY RAW question
References: <200104231632.f3NGWsU32490@smtp.parrett.net>
Message-ID: <003801c0cc3a$98d15900$2c13a0d4@map>

David G. Holm wrote on Monday, April 23, 2001 6:35 PM


> INKEY_RAW is for primarily for those DOS, OS/2, and Windows users that
> have a need to be able to distinguish between all keyboard keys and
> don't care about portability.

Thanks David.

I felt the same but was not sure. And I am not sure if I should add
INKEY_RAW support to gtsln now.

Marek Paliwoda







--- 
najLepSzY pRoGraM antyWiruSowY naJswiEzszE bAzY wiRusoW 
codZieNnA akTualIzacjA wSzyStkO nA http://www.avp-promocja.kki.pl  
--- 


From harbour@matrixlist.com  Mon Apr 23 18:39:02 2001
From: harbour@matrixlist.com (Marek Paliwoda)
Date: Mon Apr 23 17:39:02 2001
Subject: [Harbour] INKEY RAW question
References: <LOBBKAFMMFGJIKLMEPAKGEIKDLAA.Ron@Profit-Master.com>
Message-ID: <002c01c0cc3a$913960c0$2c13a0d4@map>

Ron Pinkas wrote on Monday, April 23, 2001 8:09 PM


> Marek, David, All
>
> As I have suggested, in my recent thread with David, we can *easily* provide
> fully portable way to describe *any* key, or key combination.
>
> I would strongly recommend, we should focus on the complete solution *now*,
> rather than continue to add temporary patches.
>
> All the logic to deduce *which* keys were pressed, is *already* present at
> the platform dependant inkey() logic. All we have to do is agree on the
> conventions for describing the most complete, portable, Harbour
> representations. Once this is agreed the actual coding will be minimal and
> trivial.

Sorry Ron, If You think about a proposal You wrote about on Friday, April 20,
2001 1:26 AM,  You should know that it is rather impossible to do it in
environments other than Dos/Win, Os2 and X11 (native X11, not xterm).
Applications running in console or terminal mode under Unix OS should not
expect to get an information about keyboard modifiers at all. And this is true
even on linux console, although here You can get this information in *specific
situations* (the same apears to SCO console) (see gtsln).
This is why I don't like INKEY_HARBOUR. Even INKEY_RAW seems to me
as a not good solution (non portable !).
INKEY_EXTENDED ( David's proposal ) seems much better because it
allows to be the most portable way we can reach. And it could be extended
to support something like ALTL+A -> 1000, ALTR+A ->1001 ... ( but I don't
think this makes any sense)

Regards
Marek Paliwoda







--- 
najLepSzY pRoGraM antyWiruSowY naJswiEzszE bAzY wiRusoW 
codZieNnA akTualIzacjA wSzyStkO nA http://www.avp-promocja.kki.pl  
--- 


From harbour@matrixlist.com  Mon Apr 23 18:44:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr 23 17:44:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <003801c0cc3a$98d15900$2c13a0d4@map>
References: <200104231632.f3NGWsU32490@smtp.parrett.net>
Message-ID: <200104232140.f3NLeCU29102@smtp.parrett.net>

** Reply to message from "Marek Paliwoda" <paliwoda@kki.net.pl> on Mon,
23 Apr 2001 23:15:57 +0200

> I felt the same but was not sure. And I am not sure if I should add
> INKEY_RAW support to gtsln now.

I can't imagine anybody really wanting to use INKEY_RAW mode with
gtsln, because that would require that they decode escape sequences!
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr 23 20:23:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr 23 19:23:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEIODLAA.Ron@Profit-Master.com>
References: <200104232008.f3NK8JU20712@smtp.parrett.net>
Message-ID: <200104232318.f3NNIlU04735@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
23 Apr 2001 13:57:50 -0700

> ...as oppose to *only* those you, or anyone else (arbitrarily)
> decided are important enough.

That is an erroneous assumption on your part.

> My proposal outlined *one* way of representing *any* keyboard input in a
> portable manner.

And there is *nothing* preventing my proposal from being extended to do
the same, without going to the complexity of using arrays.

Have you looked at how INKEY_RAW works for Windows? Here's some sample
output from "INKEYTST SKIP RAW" (I added the comments):

> A keyboard key was pressed:         806 // Cursor Pad Up Arrow (CPUA)
> A keyboard key was pressed:        2321 // Left Ctrl
> A keyboard key was pressed:        2854 // Left Ctrl+CPUA
> A keyboard key was pressed:        8466 // Left Alt pressed
> A keyboard key was pressed:        8998 // Left Alt+CPUA
> A keyboard key was pressed:        8466 // Left Alt
> A keyboard key was pressed:       10513 // Left Alt+Left Ctrl
> A keyboard key was pressed:       11046 // Left Alt+Left Ctrl+CPUA
> A keyboard key was pressed:         294 // Numeric Pad Up Arrow (NPUA)
> A keyboard key was pressed:        4881 // Right Ctl
> A keyboard key was pressed:        4390 // Right Ctl+NPUA
> A keyboard key was pressed:       17170 // Right Alt
> A keyboard key was pressed:       16678 // Right Alt+NPUA
> A keyboard key was pressed:       17170 // Right Alt
> A keyboard key was pressed:       21265 // Right Alt+RightCtl
> A keyboard key was pressed:       20774 // Right Alt+RightCtl+NPUA

And this is very easy to decode, because here is how it was encoded:

> if( eventmask & INKEY_RAW )
> {
>    /* Pass along all virtual key codes with all
>       enhanced and state indicators accounted for */
>    wKey += 256;
>    if( dwState & ENHANCED_KEY ) wKey += 512;
>    if( dwState & SHIFT_PRESSED ) wKey += 1024;
>    if( dwState & LEFT_CTRL_PRESSED ) wKey += 2048;
>    if( dwState & RIGHT_CTRL_PRESSED ) wKey += 4096;
>    if( dwState & LEFT_ALT_PRESSED ) wKey += 8192;
>    if( dwState & RIGHT_ALT_PRESSED ) wKey += 16384;
>    ch = wKey;
>    #ifdef HB_DEBUG_KEYBOARD
>       fprintf( stdout, "7" );
>    #endif
> }

Yes, this particular method is platform-specific, because if you're
want that level of keyboard detail, you have little choice *but* to be
platform specific, because different platform provide differing levels
of detail for keyboard input. My point, however, is that this shows that
it is *not* necessary to go to the complexity of passing around arrays
in order to support a wide variety of key combinations.

> I am not advocating *any* specific scheme, I advocate the general idea of
> supporting *all* keys, and Key Combinations, *preferably* with the ability
> to simply deduce if a specific modifier was used.

I take it that this mean that you are no longer advocating your quite
specific scheme of using "an Array that represents a HKB_CLIPPER,
HKB_ROOT, HKB_MOFIFER and HKB_RAW components" and that you will support
a simpler scheme that meets your listed requirements that I quoted above?
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr 23 22:20:03 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Mon Apr 23 21:20:03 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104232318.f3NNIlU04735@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEIPDLAA.Ron@Profit-Master.com>

David,

> > I am not advocating *any* specific scheme, I advocate the
> general idea of
> > supporting *all* keys, and Key Combinations, *preferably* with
> the ability
> > to simply deduce if a specific modifier was used.
>
> I take it that this mean that you are no longer advocating your quite
> specific scheme of using "an Array that represents a HKB_CLIPPER,
> HKB_ROOT, HKB_MOFIFER and HKB_RAW components" and that you will support
> a simpler scheme that meets your listed requirements that I quoted above?

The array approach simply avoids the need to call NextKey/Inkey/Lastkey
*repeatedly* when the program requires the EXTENDED info for the *same*
input. I don't consider it critical, because the overall functionality,
currently missing, is far more important. Your original suggestion, did
*not* cover, *all* key combinations - this aspect is the *more* important
issue.

I still prefer the array approach, because I don't find it complex at all,
and it could cover all bases in a *single* call. When you claim it is
complex, do you address the implementation, the high-level functionality, or
maybe both?

I can prove it is not complex to implement, by implementing it complete in
just few hours. If its the high-level functionality you are concerned with,
do you consider dbStruct() too complex just because it returns an ARRAY of
ARRAYS with field info? Do you think calling dbStruct() repeatedly, with
different flags would have made it simpler?

I think Clipper programmers would not consider it complex at all. It has the
clear advantage, that most programmers can use the HARBOUR mode by default,
and use any of the components desired as needed, without requiring multiple
calls.

Ron


From harbour@matrixlist.com  Mon Apr 23 23:26:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr 23 22:26:01 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEIPDLAA.Ron@Profit-Master.com>
References: <200104232318.f3NNIlU04735@smtp.parrett.net>
Message-ID: <200104240222.f3O2McU20035@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
23 Apr 2001 18:23:43 -0700

> The array approach simply avoids the need to call NextKey/Inkey/Lastkey
> *repeatedly* when the program requires the EXTENDED info for the *same*
> input. I don't consider it critical, because the overall functionality,
> currently missing, is far more important.

The only time a programmer is going to switch between normal and
extended keyboard input modes is when the programmer wants most of the
key consolidation that the normal mode does (e.g., Up is the same as
Ctrl+E, etc.), but needs to know the difference between one or two
consolidated keys (e.g., between Ctrl+W and Ctrl+End). Calling LASTKEY()
with the extended input parameter for a few key codes can hardly be
called calling the keyboard input functions repeatedly for the same
input. And programmers that need to distinguish between all keys will
either set the global keyboard input mask to extended mode or always
call the keyboard functions with it and not bother switching between the
input modes.

> Your original suggestion, did *not* cover, *all* key combinations - this
> aspect is the *more* important issue.

You mean being able to distinguish between Left Ctrl+F1 and Right
Ctrl+F1 or being able to detect Shift+Ctrl+F1 or Left
Ctrl+Right+Alt+Left Shift+F1? If so, then you are correct, because I
seriously doubt that this is very high on anybody's priority list of the
functionality they would like to see added to Harbour as soon as
possible.

> I still prefer the array approach, because I don't find it complex at all,
> and it could cover all bases in a *single* call. When you claim it is
> complex, do you address the implementation, the high-level functionality, or
> maybe both?

Well, let's see here. If we take the array approach, then instead of
only having having the keyboard input functions return integer values,
we now have to deal with the them returning an array under some
circumstances and integers under others. You don't consider this to be
complicating things?

> I can prove it is not complex to implement, by implementing it complete in
> just few hours.

Please don't, as I am confident that you are the only person that
desires such a monstrosity.

> If its the high-level functionality you are concerned with,
> do you consider dbStruct() too complex just because it returns an ARRAY of
> ARRAYS with field info? Do you think calling dbStruct() repeatedly, with
> different flags would have made it simpler?

What exactly are you hoping to accomplish by inventing this nonsense
scenario that neither of us has suggested or implied? You want to return
an array for the extended mode, but an integer for the normal mode,
whereas I want to return an integer at all times. Try to stay on
subject, please!

> I think Clipper programmers would not consider it complex at all. It has the
> clear advantage, that most programmers can use the HARBOUR mode by default,
> and use any of the components desired as needed, without requiring multiple
> calls.

You may think that having to deal with functions that sometimes return
integers and sometimes return arrays is not complex, but I doubt very
much that you will find many Clipper or Harbour programmers that agree
with you.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 24 00:24:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Mon Apr 23 23:24:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104240222.f3O2McU20035@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEJADLAA.Ron@Profit-Master.com>

David,

> The only time a programmer is going to switch between normal and
> extended keyboard input modes is when the programmer wants most of the
> key consolidation that the normal mode does (e.g., Up is the same as
> Ctrl+E, etc.), but needs to know the difference between one or two
> consolidated keys (e.g., between Ctrl+W and Ctrl+End). Calling LASTKEY()
> with the extended input parameter for a few key codes can hardly be
> called calling the keyboard input functions repeatedly for the same
> input. And programmers that need to distinguish between all keys will
> either set the global keyboard input mask to extended mode or always
> call the keyboard functions with it and not bother switching between the
> input modes.

That's not accurate. There might also be the need to get the RAW code
sometimes. Regardless, any redundancy, frequent or not, is still a
redundancy.

> > Your original suggestion, did *not* cover, *all* key combinations - this
> > aspect is the *more* important issue.
>
> You mean being able to distinguish between Left Ctrl+F1 and Right
> Ctrl+F1 or being able to detect Shift+Ctrl+F1 or Left
> Ctrl+Right+Alt+Left Shift+F1? If so, then you are correct, because I
> seriously doubt that this is very high on anybody's priority list of the
> functionality they would like to see added to Harbour as soon as
> possible.

No, in your original proposal you addressed just a very limited issue.

> > I still prefer the array approach, because I don't find it
> complex at all,
> > and it could cover all bases in a *single* call. When you claim it is
> > complex, do you address the implementation, the high-level
> functionality, or
> > maybe both?
>
> Well, let's see here. If we take the array approach, then instead of
> only having having the keyboard input functions return integer values,
> we now have to deal with the them returning an array under some
> circumstances and integers under others. You don't consider this to be
> complicating things?

No true! One will only have to use *either* mode. There is no need to
switch, because the HARBOUR mode, *does* include the basic INKEY value. This
was the very reason for the array proposal, to begin with.

> > I can prove it is not complex to implement, by implementing it
> complete in
> > just few hours.
>
> Please don't, as I am confident that you are the only person that
> desires such a monstrosity.

I'll ask that we both wait, until others actually express their opinions. In
any event, before you could continue, it would be advisable to publish the
suggested extended values, don't you think?

> > If its the high-level functionality you are concerned with,
> > do you consider dbStruct() too complex just because it returns
> an ARRAY of
> > ARRAYS with field info? Do you think calling dbStruct() repeatedly, with
> > different flags would have made it simpler?
>
> What exactly are you hoping to accomplish by inventing this nonsense
> scenario that neither of us has suggested or implied? You want to return
> an array for the extended mode, but an integer for the normal mode,
> whereas I want to return an integer at all times. Try to stay on
> subject, please!

Why do you insist on getting personal? I did not invent anything! You
claimed my proposal was complex, I asked which aspect were you concerned
with, and attempted to address, what clearly was described as *possible*
concerns.

> > I think Clipper programmers would not consider it complex at
> all. It has the
> > clear advantage, that most programmers can use the HARBOUR mode
> by default,
> > and use any of the components desired as needed, without
> requiring multiple
> > calls.
>
> You may think that having to deal with functions that sometimes return
> integers and sometimes return arrays is not complex, but I doubt very
> much that you will find many Clipper or Harbour programmers that agree
> with you.

Functions that return different values, based on *optional* parameters are
quiet acceptable at the Clipper world.

You might be right, but it's premature of you to assume that you must know
the preferences of Harbour end-user programmers.

This is a personal choice issue, but should not be a personal issue between
us. I assume we are both qualified, opinionated individuals, and both of us
are entitled and even expected to have our different opinions. This does not
make neither of us right or wrong. Obviously this is a matter of personal
style, and not some absolute right/wrong. I suggest we let other express
their pinions, and proceed accordingly. As I said earlier, either solution
will be a positive step forward.

Ron


From harbour@matrixlist.com  Tue Apr 24 00:34:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr 23 23:34:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEJADLAA.Ron@Profit-Master.com>
References: <200104240222.f3O2McU20035@smtp.parrett.net>
Message-ID: <200104240330.f3O3U1U25162@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
23 Apr 2001 20:27:49 -0700

> No, in your original proposal you addressed just a very limited issue.

Nonsense.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 24 00:35:03 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr 23 23:35:03 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEJADLAA.Ron@Profit-Master.com>
References: <200104240222.f3O2McU20035@smtp.parrett.net>
Message-ID: <200104240331.f3O3VOU25258@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
23 Apr 2001 20:27:49 -0700

> I'll ask that we both wait, until others actually express their opinions.

But of course!

> In any event, before you could continue, it would be advisable to publish the
> suggested extended values, don't you think?

Why? Those are implementation details that are irrelevant to which
approach, array or integer, we take.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 24 00:54:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr 23 23:54:01 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEJADLAA.Ron@Profit-Master.com>
References: <200104240222.f3O2McU20035@smtp.parrett.net>
Message-ID: <200104240349.f3O3njU26368@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
23 Apr 2001 20:27:49 -0700

> Why do you insist on getting personal? I did not invent anything! You
> claimed my proposal was complex, I asked which aspect were you concerned
> with, and attempted to address, what clearly was described as *possible*
> concerns.

I did not get personal. I called your scenario nonsense, which does
*not* imply that you are nonsensical. And yes, you did invent a scenario
of multiple calls to dbStruct() with multiple flags, instead of just
asking me for a clearer explanation of why I consider your solution to
be complex. The only purpose that your invented scenario served was to
confuse the issue.

The reasons why I consider your proposal to be complex have less to do
with coding compmlexity than to do with use and understanding. It *is*
more difficult to deal with functions that return an array under some
circumstances, but an integer under others. It is made *more* complex by
virtue of being a family of functions that has returned an integer for
*decades*.

The optional second parameter to INKEY() is, in effect, a bit mask
value. Now all of a sudden, one particular bit value is going to result
in the return value being an array. It's easy enough to figure out if it
is used by itself, or if one *always* constructs the bit mask from it's
component manifest constants. But pity the poor soul that bypasses the
preprocessor and enters single numeric values for the bit masks. (This
complexity can be mitigated by using a *third* parameter for INKEY()
instead of using an INKEY_HARBOUR bit mask value for the second
parameter.)

And what about mouse input? Will that all be converted to arrays when
using the array method? Or will it continue to return integers, with the
consequence that user code has to check the type of the return value
before checking for mouse input?

Does this explain well enough where I'm coming from and why I'm
concerned about the added complexity of using an array return value
sometimes? It's a cascading complexity, the least of which is that it
will require modifying more Harbour RTL/VM source code than any proposal
which retains integer return values.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 24 00:57:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr 23 23:57:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEJADLAA.Ron@Profit-Master.com>
References: <200104240222.f3O2McU20035@smtp.parrett.net>
Message-ID: <200104240352.f3O3qvU26498@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
23 Apr 2001 20:27:49 -0700

> Functions that return different values, based on *optional* parameters are
> quiet acceptable at the Clipper world.

I've been forced to use them myself, but it doesn't change the fact
that it complicates things. And it's one thing when dealing with a new
user defined function, but quite another when dealing with a long
established run time library function.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 24 00:59:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr 23 23:59:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEJADLAA.Ron@Profit-Master.com>
References: <200104240222.f3O2McU20035@smtp.parrett.net>
Message-ID: <200104240354.f3O3siU26579@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
23 Apr 2001 20:27:49 -0700

> That's not accurate. There might also be the need to get the RAW code
> sometimes. Regardless, any redundancy, frequent or not, is still a
> redundancy.

And a *little* redundancy is *much* preferable to *complexity*.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 24 01:00:04 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr 24 00:00:04 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEJADLAA.Ron@Profit-Master.com>
References: <200104240222.f3O2McU20035@smtp.parrett.net>
Message-ID: <200104240355.f3O3tjU26647@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
23 Apr 2001 20:27:49 -0700

> You might be right, but it's premature of you to assume that you must know
> the preferences of Harbour end-user programmers.

You yourself made claims to know their preferences ("I think Clipper
programmers would not consider it complex at all."), so just what
exactly are you griping about?
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 24 01:07:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 24 00:07:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104240331.f3O3VOU25258@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEJBDLAA.Ron@Profit-Master.com>

David,

> > In any event, before you could continue, it would be advisable
> to publish the
> > suggested extended values, don't you think?
>
> Why? Those are implementation details that are irrelevant to which
> approach, array or integer, we take.

Because other list members may have very valid input about possible
suggested values.

Ron


From harbour@matrixlist.com  Tue Apr 24 01:17:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr 24 00:17:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEJADLAA.Ron@Profit-Master.com>
References: <200104240222.f3O2McU20035@smtp.parrett.net>
Message-ID: <200104240412.f3O4CeU28168@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
23 Apr 2001 20:27:49 -0700

> No true! One will only have to use *either* mode. There is no need to
> switch, because the HARBOUR mode, *does* include the basic INKEY value. This
> was the very reason for the array proposal, to begin with.

Even if one program only uses *one* mode and another program only uses
the *other* mode, the programmer will *still* "have to deal with
[INKEY() and friends] returning an array under some circumstances and
integers under others."
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 24 01:17:29 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 24 00:17:29 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104240355.f3O3tjU26647@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEJCDLAA.Ron@Profit-Master.com>

David,

> > You might be right, but it's premature of you to assume that
> you must know
> > the preferences of Harbour end-user programmers.
>
> You yourself made claims to know their preferences ("I think Clipper
> programmers would not consider it complex at all."), so just what
> exactly are you griping about?

Aren't you manipulating the facts? Didn't you *first* claim:

"I am confident that you are the only person that
desires such a monstrosity."

This is very definitive statement, is it not? In return I addressed your
claim of complexity with an "I think...".

Griping ???

Ron


From harbour@matrixlist.com  Tue Apr 24 01:20:04 2001
From: harbour@matrixlist.com (Phil Barnett)
Date: Tue Apr 24 00:20:04 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEJBDLAA.Ron@Profit-Master.com>
References: <200104240331.f3O3VOU25258@smtp.parrett.net>
Message-ID: <3AE4C692.32352.339F4467@localhost>

On 23 Apr 2001, at 21:10, Ron Pinkas wrote:

> David,
> 
> > > In any event, before you could continue, it would be advisable
> > to publish the
> > > suggested extended values, don't you think?
> >
> > Why? Those are implementation details that are irrelevant to which
> > approach, array or integer, we take.
> 
> Because other list members may have very valid input about possible
> suggested values.

Let's see some proposed sample code from both ideas.

For example, using either method, how would I code 
CTRL+ALT+ENTER on all platforms?


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@matrixlist.com  Tue Apr 24 01:36:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr 24 00:36:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEJBDLAA.Ron@Profit-Master.com>
References: <200104240331.f3O3VOU25258@smtp.parrett.net>
Message-ID: <200104240432.f3O4WAU29319@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
23 Apr 2001 21:10:56 -0700

> Because other list members may have very valid input about possible
> suggested values.

In my opinion, the values chosen for the INKEY_HARBOUR or
INKEY_EXTENDED mode should be based on adding fixed constants to the
scan code values for the keys on an IBM PC/clone keyboard. We have to
allow for the use of international characters, so the first offset value
is 256 (e.g, for "unshifted"). From that point on, the offset values can
be in increments of 128 (e.g., 384 for Alt, 512 for Ctrl, and 640 for
Shift). The codes for Alt, Ctrl, and Shift could be combined, although I
don't personally see a need for that.

This requires a minimum of translation in the GT keyboard driver and
moves all of the extended to normal mode translation to the INKEY()
family of functions. All platforms would map to the extended code set
and won't even know that there is a normal code set.

Aside from the control character set (0 through 31 and 127) and the
printable characters, there would be no convergence between the extended
and normal key codes (e.g., the normal code for Alt+A is 286, but the
extended code would be 414, if the Alt modifer is 384).

I don't think that there is any value in knowing if a cursor key was
pressed on the numeric key pad or the cursor key pad, but distinguishing
between the two can be done if others think that it is.

I am ambivalent as to whether or not the numeric key pad "/", "*", "-",
or "+" keys should only be distinguished from the regular keys the way
Clipper does (Ctrl and Alt only) or entirely (regular, shifted, ctrl,
and alt), but it can be done either way.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 24 01:43:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 24 00:43:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104240349.f3O3njU26368@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEJDDLAA.Ron@Profit-Master.com>

David,

> > Why do you insist on getting personal? I did not invent anything! You
> > claimed my proposal was complex, I asked which aspect were you concerned
> > with, and attempted to address, what clearly was described as *possible*
> > concerns.
>
> I did not get personal. I called your scenario nonsense, which does
> *not* imply that you are nonsensical. And yes, you did invent a scenario
> of multiple calls to dbStruct() with multiple flags, instead of just
> asking me for a clearer explanation of why I consider your solution to
> be complex. The only purpose that your invented scenario served was to
> confuse the issue.

That's why I got the feeling you were getting personal. You allowed yourself
to speculate that I "invented" scenarios to confuse the issue. In reality I
asked very simple questions, in an attempt to understand your concern. I am
confident that readers have no reason to believe that I *attributed* to you
any position with regard to my invented questions.

> The reasons why I consider your proposal to be complex have less to do
> with coding compmlexity than to do with use and understanding. It *is*
> more difficult to deal with functions that return an array under some
> circumstances, but an integer under others. It is made *more* complex by
> virtue of being a family of functions that has returned an integer for
> *decades*.

The suggested function does *not* return different values based on
"circumstances". Your description is extremely misleading. The suggested
function will return different values ONLY based on the REQUESTED return
value, much like the SET() function returns different values based on the
requested return value, as indicated by the provided parameter.

> The optional second parameter to INKEY() is, in effect, a bit mask
> value. Now all of a sudden, one particular bit value is going to result
> in the return value being an array. It's easy enough to figure out if it
> is used by itself, or if one *always* constructs the bit mask from it's
> component manifest constants. But pity the poor soul that bypasses the
> preprocessor and enters single numeric values for the bit masks. (This
> complexity can be mitigated by using a *third* parameter for INKEY()
> instead of using an INKEY_HARBOUR bit mask value for the second
> parameter.)

This 2nd parameter being or not being some BIT mask, has absolutely nothing
to do with the user perception. User simply sees a 2nd parameter which is a
CONSTANT, that based on your proposal will return 1 of 2(3?) possible return
values.

I don't understand your issue with the PP. Can you please explain? How is
this an issue for my proposal but not for yours?

> And what about mouse input? Will that all be converted to arrays when
> using the array method? Or will it continue to return integers, with the
> consequence that user code has to check the type of the return value
> before checking for mouse input?

Why is this an issue? Mouse input INKEY values, were defined by Clipper 5.3.
I assume we'll use the Clipper 5.3 conventions. The Array approach will
*consistently* report the Mouse Click *along* with the possible Modifiers
info. It is still possible we could be interested in SHIFT + Click for
example, right?

> Does this explain well enough where I'm coming from and why I'm
> concerned about the added complexity of using an array return value
> sometimes?

Thanks for sharing your concerns, I hope I addressed them in a way that
explains my bias.

> It's a cascading complexity, the least of which is that it
> will require modifying more Harbour RTL/VM source code than any proposal
> which retains integer return values.

That's absolutely FALSE. No RTL changes will be needed other than what's
needed by *either* approach!

Ron


From harbour@matrixlist.com  Tue Apr 24 01:46:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 24 00:46:01 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104240432.f3O4WAU29319@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEJDDLAA.Ron@Profit-Master.com>

> In my opinion, the values chosen for the INKEY_HARBOUR or
> INKEY_EXTENDED mode should be based on adding fixed constants to the
> scan code values for the keys on an IBM PC/clone keyboard. We have to
> allow for the use of international characters, so the first offset value
> is 256 (e.g, for "unshifted"). From that point on, the offset values can
> be in increments of 128 (e.g., 384 for Alt, 512 for Ctrl, and 640 for
> Shift). The codes for Alt, Ctrl, and Shift could be combined, although I
> don't personally see a need for that.
> 
> This requires a minimum of translation in the GT keyboard driver and
> moves all of the extended to normal mode translation to the INKEY()
> family of functions. All platforms would map to the extended code set
> and won't even know that there is a normal code set.
> 
> Aside from the control character set (0 through 31 and 127) and the
> printable characters, there would be no convergence between the extended
> and normal key codes (e.g., the normal code for Alt+A is 286, but the
> extended code would be 414, if the Alt modifer is 384).
> 
> I don't think that there is any value in knowing if a cursor key was
> pressed on the numeric key pad or the cursor key pad, but distinguishing
> between the two can be done if others think that it is.
> 
> I am ambivalent as to whether or not the numeric key pad "/", "*", "-",
> or "+" keys should only be distinguished from the regular keys the way
> Clipper does (Ctrl and Alt only) or entirely (regular, shifted, ctrl,
> and alt), but it can be done either way.

Thanks.

From harbour@matrixlist.com  Tue Apr 24 01:49:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 24 00:49:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104240432.f3O4WAU29319@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEJDDLAA.Ron@Profit-Master.com>

David,

How difficult will it be, to add support for the EXTENDED mode to
__Keyboard()?

Ron


From harbour@matrixlist.com  Tue Apr 24 01:50:04 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr 24 00:50:04 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <3AE4C692.32352.339F4467@localhost>
References: <200104240331.f3O3VOU25258@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKIEJBDLAA.Ron@Profit-Master.com>
Message-ID: <200104240446.f3O4kGU30062@smtp.parrett.net>

** Reply to message from "Phil Barnett" <midnight@the-oasis.net> on
Tue, 24 Apr 2001 00:19:30 -0400

> Let's see some proposed sample code from both ideas.
> For example, using either method, how would I code 
> CTRL+ALT+ENTER on all platforms?

For starters, I'm still not convinced that there is a need for
detecting multiple state code key presses, but my method can support it,
so I'll post some proposed sample Harbour code to deal with C+A+KP_ENTER.

First there would be a new "hbinkey.ch" file that *only* has codes for
the extended mode:

#define HB_INKEY_EXTENDED 512
#define HB_K_ALT 384
#define HB_K_CTRL 512
#define HB_K_SHIFT 640
#define HB_KP_ENTER 284

Then in your Harbour code, you could use:

looping := .T.
WHILE looping
   DO CASE nKey
   CASE nKey == 0
      // Do something while waiting for input.
      IdleTime()
   CASE nKey == HB_K_ESC
      // Deal with exit conditions.
      IF OkToExit()
         looping := .F.
      END IF
   CASE nKey == HB_K_ENTER + HB_K_CTRL + HB_K_ENTER
      // Deal with Ctrl+Alt+Enter
      HandleCAE()
   OTHERWISE
      // Not a valid key code
      Thud()
   END CASE
END WHILE
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 24 02:12:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr 24 01:12:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEJDDLAA.Ron@Profit-Master.com>
References: <200104240349.f3O3njU26368@smtp.parrett.net>
Message-ID: <200104240508.f3O58GU31144@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
23 Apr 2001 21:47:21 -0700

> The suggested function does *not* return different values based on
> "circumstances". Your description is extremely misleading. The suggested
> function will return different values ONLY based on the REQUESTED return
> value, much like the SET() function returns different values based on the
> requested return value, as indicated by the provided parameter.

The SET() function is a very good example of a function that returns
different values based on circumstances. For SET() those circumstances
are *always* the value of the first parameter to the SET() function
call. For INKEY(), those circumstances can be a single value or a
combination of values in the second parameter, or even a SET() value
(e.g., SET( _SET_EVENTMASK, INKEY_HARBOUR )).

> This 2nd parameter being or not being some BIT mask, has absolutely nothing
> to do with the user perception. User simply sees a 2nd parameter which is a
> CONSTANT, that based on your proposal will return 1 of 2(3?) possible return
> values.

A constant that can be nearly impossible to decipher. Quick, without
looking it up in INKEY.CH, what input does the following INKEY() call
accept?

   value := INKEY( 0.5, 273 )

> I don't understand your issue with the PP. Can you please explain? How is
> this an issue for my proposal but not for yours?

See the code above. I don't use code like that but based on the code
I've seen, there are a *lot* of Clipper developers that do. With your
proposal, I can't tell at a glance if value from the INKEY() expression
above will be an array or an integer. With my proposal, it will *always*
be an integer.

> > It's a cascading complexity, the least of which is that it
> > will require modifying more Harbour RTL/VM source code than any proposal
> > which retains integer return values.
> 
> That's absolutely FALSE. No RTL changes will be needed other than what's
> needed by *either* approach!

Are you trying to tell me that with your approach, you won't have to
modify each of the following functions in inkey.c to deal with integer
or array values and add new C-level interface functions to deal with the
array values?

HB_FUNC( HB_KEYPUT )
HB_FUNC( NEXTKEY )
HB_FUNC( LASTKEY )
HB_FUNC( INKEY )

With my approach, these Harbour-level functions do not need to be
changed and the only change needed for the C-level functions is to add
one function to map from extended codes to normal codes and add a few
simple if statements to determine whether or not to call it.

There is no basis for your apparent claim that your approach won't
require more code changes than my approach. And like I said, it is just
the start of the cascading complexity.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 24 02:18:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 24 01:18:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <3AE4C692.32352.339F4467@localhost>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEJEDLAA.Ron@Profit-Master.com>

Phil,

> Let's see some proposed sample code from both ideas.
>
> For example, using either method, how would I code
> CTRL+ALT+ENTER on all platforms?

   aKey := Inkey( , INKEY_HARBOUR )

   IF aKey[ HKB_ROOT ] == 13 .AND. KeyState( aKey[ HKB_MODIFIER ],
HKB_CONTROL + HKB_ALT )

Please note that the core of the difference is not on this issue.

I believe the core difference is that in my proposal, the extended mode will
return an array with the ORIGINAL Clipper INKEY code, in addition to the O/S
dependant RAW value, *as*well*as* the EXTENDED PORTABLE REPRESENTATION.

This in effect making the Harbour Mode, a *superset* which is fully backward
compatible, without having to alternate between the modes. This same
technique is very common for APIs which are extended to return MORE
information than originally designed.

The extended portable representation, whether separated to its components
or, pre-constructed, is far less of a concern for me.

Ron


From harbour@matrixlist.com  Tue Apr 24 02:21:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr 24 01:21:01 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEJDDLAA.Ron@Profit-Master.com>
References: <200104240432.f3O4WAU29319@smtp.parrett.net>
Message-ID: <200104240517.f3O5HBU31581@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
23 Apr 2001 21:53:16 -0700

> How difficult will it be, to add support for the EXTENDED mode to
> __Keyboard()?

Considering that the function only accepts a character string and is
therefor limited to values in the range from CHR(0) through CHR(255), no
changes are required to support extended mode, because even normal mode
doesn't allow stuffing of function keys, Alt keys, etc.

But if there is a desire to extend the function to allow that, I might
approach it by adding optional second and third parameters that would
take integer values or arrays of integer values to stuff into the
keyboard buffer ahead of and following the optional string parameter,
respectively.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 24 02:23:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 24 01:23:01 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104240446.f3O4kGU30062@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKCEJFDLAA.Ron@Profit-Master.com>

David,

> For starters, I'm still not convinced that there is a need for
> detecting multiple state code key presses, but my method can support it,
> so I'll post some proposed sample Harbour code to deal with C+A+KP_ENTER.

Why are you not convinced? Any reason for Harbour to be handicapped like
that?

Ron


From harbour@matrixlist.com  Tue Apr 24 02:31:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr 24 01:31:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEJFDLAA.Ron@Profit-Master.com>
References: <200104240446.f3O4kGU30062@smtp.parrett.net>
Message-ID: <200104240527.f3O5RDU32009@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
23 Apr 2001 22:26:28 -0700

> Why are you not convinced?

Because, so far, you're the only one saying that it's needed.

> Any reason for Harbour to be handicapped like that?

If it's not needed, it's not a handicap. If it's needed and my approach
is chosen, I'll support it.

Hopefully some of the other developers will have responded to our
technical details by the time I get back in to work tomorrow. Good
night, everyone!
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 24 03:11:02 2001
From: harbour@matrixlist.com (Andrzej P. Wozniak)
Date: Tue Apr 24 02:11:02 2001
Subject: [Harbour] INKEY RAW question
References: <LOBBKAFMMFGJIKLMEPAKGEIKDLAA.Ron@Profit-Master.com> <002c01c0cc3a$913960c0$2c13a0d4@map>
Message-ID: <000201c0cc85$16340b00$500db33e@chello.pl>

----- Original Message -----
From: "Marek Paliwoda" <paliwoda@kki.net.pl>
To: <harbour@matrixlist.com>
Sent: Monday, April 23, 2001 11:15 PM
Subject: Re: [Harbour] INKEY RAW question


>
> Ron Pinkas wrote on Monday, April 23, 2001 8:09 PM
> > Marek, David, All
> >
> > As I have suggested, in my recent thread with David, we can *easily*
> > provide fully portable way to describe *any* key, or key combination.
[...]
> INKEY_EXTENDED ( David's proposal ) seems much better because it
> allows to be the most portable way we can reach. And it could be extended
> to support something like ALTL+A -> 1000, ALTR+A ->1001 ... ( but I don't
> think this makes any sense)

But don't forget about languages other then English.
For example, Polish programmer's keyboard uses "AltRight" to have got all
the letters with "ogonki" ("   "). How can you differ
Alt+C for Clipper's "Cancel" from AltR+C for some Polish (or Czech) letter?
How are you going to solve native keyboard support now and Unicode support
in the future?
Maybe I am mixing some different problems, but all of them are about
keyboard input.

-- 
Regards from the Harbour mirror in Poland
Andrzej P. Wozniak
alias@polnet.cc   harbour@harbour.pl.eu.org




From harbour@matrixlist.com  Tue Apr 24 03:58:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Tue Apr 24 02:58:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEJEDLAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Mon, Apr 23, 2001 at 10:21:54PM -0700
References: <3AE4C692.32352.339F4467@localhost> <LOBBKAFMMFGJIKLMEPAKOEJEDLAA.Ron@Profit-Master.com>
Message-ID: <20010424070454.H28537@hagbard.davep.org>

On Mon, Apr 23, 2001 at 10:21:54PM -0700, Ron Pinkas wrote:
> Phil,
> 
> > Let's see some proposed sample code from both ideas.
> >
> > For example, using either method, how would I code
> > CTRL+ALT+ENTER on all platforms?
> 
>    aKey := Inkey( , INKEY_HARBOUR )
> 
>    IF aKey[ HKB_ROOT ] == 13 .AND. KeyState( aKey[ HKB_MODIFIER ],
> HKB_CONTROL + HKB_ALT )

A number of things spring to mind.

Firstly, if you're going to create an array you might as well create an
object.

Secondly, if extended behaviour that is in some way platform or environment
specific then shouldn't the programmer be using something that is platform
or environment specific?

Thirdly, if it's worth attempting to code up an extended keystroke
management facility isn't it better to implement it as a separate function
and keep the interface of INKEY() clean?

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Tue Apr 24 09:00:04 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Tue Apr 24 08:00:04 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104240446.f3O4kGU30062@smtp.parrett.net>; from dholm@jsd-llc.com on Tue, Apr 24, 2001 at 12:48:38AM -0400
References: <200104240331.f3O3VOU25258@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKIEJBDLAA.Ron@Profit-Master.com> <3AE4C692.32352.339F4467@localhost> <200104240446.f3O4kGU30062@smtp.parrett.net>
Message-ID: <20010424125537.A4029@hagbard.davep.org>

On Tue, Apr 24, 2001 at 12:48:38AM -0400, David G. Holm wrote:

>    CASE nKey == HB_K_ENTER + HB_K_CTRL + HB_K_ENTER

I've not thought it out all the way but I'm looking at the above and
wondering of simply adding the values will give a guaranteed unique
keystroke signature. Will it?

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Tue Apr 24 09:00:33 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Tue Apr 24 08:00:33 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104240222.f3O2McU20035@smtp.parrett.net>; from dholm@jsd-llc.com on Mon, Apr 23, 2001 at 10:25:00PM -0400
References: <200104232318.f3NNIlU04735@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKKEIPDLAA.Ron@Profit-Master.com> <200104240222.f3O2McU20035@smtp.parrett.net>
Message-ID: <20010424125819.B4029@hagbard.davep.org>

On Mon, Apr 23, 2001 at 10:25:00PM -0400, David G. Holm wrote:

> You mean being able to distinguish between Left Ctrl+F1 and Right Ctrl+F1
> or being able to detect Shift+Ctrl+F1 or Left Ctrl+Right+Alt+Left
> Shift+F1? If so, then you are correct, because I seriously doubt that this
> is very high on anybody's priority list of the functionality they would
> like to see added to Harbour as soon as possible.

In all fairness isn't this discussion supposed to be about "at all" rather
"as soon as possible"? That is, isn't the intended goal of the discussion
between Ron and yourself (and anyone else) one which will allow for a
flexible design in the long term?

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Tue Apr 24 10:32:02 2001
From: harbour@matrixlist.com (John Skelton)
Date: Tue Apr 24 09:32:02 2001
Subject: [Harbour] INKEY RAW question
Message-ID: <200104240930_MC2-CD8D-E218@compuserve.com>

Ron, David, et al,

In case an array may be returned, I suggest _not_ to use InKey() but
instead make a new API.  AInKey() might be its name.  At the C level
I suppose each element of the array would be a member of a struct
(each an integer, presumably).  Reasonably efficient and does not
impact on "normal" Harbour apps - which might link such that the low
level code was present but at least AInKey() would not be.

GUI apps likely don't want either AInKey() or InKey() to be linked
in, of course. ;-)

John.

From harbour@matrixlist.com  Tue Apr 24 12:31:01 2001
From: harbour@matrixlist.com (Ryszard Glab)
Date: Tue Apr 24 11:31:01 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <009301c0c9c0$586c99f0$921a5e18@bh>
Message-ID: <3AE5B8E0.6038.1BC20CE@localhost>

On 20 Apr 2001, at 10:35, Brian Hays wrote:

> HOWEVER, the Win2K Taskmanager shows more memory being allocated, and
> almost NONE released (less than 100K).   So the 2MB is allocated again
> when the window is opened a second time.  This is also true with Win98's
> resource monitor. Apparently we are using the Borland memory functions;
> does anyone know if there's an extra step required to fully free memory
> back to Windows?

  I believe that it is a poor Windows memory management. This is a 
problem with many applications.

> 
> Otherwise, we may need to change it to use Windows GlobalAlloc or some
> such.

  It is possible that Borland runtime is calling GlobalAlloc already then 
we can gain nothing with this change.

Regards, Ryszard

PS. Are all problems solved now after correcting hb_arrayclone bug?


From harbour@matrixlist.com  Tue Apr 24 12:34:02 2001
From: harbour@matrixlist.com (Ryszard Glab)
Date: Tue Apr 24 11:34:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEHHDLAA.Ron@Profit-Master.com>
References: <009301c0c9c0$586c99f0$921a5e18@bh>
Message-ID: <3AE5B9AA.16240.1BF362F@localhost>

On 20 Apr 2001, at 11:02, Ron Pinkas wrote:

> I think the simple and possibly the optimized solution is for the GC to
> NOT release these Memory Blocks, instead maintain its own stack of
> available blocks to be recycled, for later allocation requests (Ryszard?).

  The GC has nothing to do with memory allocations. It is a memory 
manager job - hb_xgrab/hb_xalloc in fm.c. Anyway I think that there is no 
need to duplicate a code that is already placed in standard malloc/free 
functions.

Regards, Ryszard

From harbour@matrixlist.com  Tue Apr 24 12:45:04 2001
From: harbour@matrixlist.com (Ryszard Glab)
Date: Tue Apr 24 11:45:04 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <20010424070454.H28537@hagbard.davep.org>
References: <LOBBKAFMMFGJIKLMEPAKOEJEDLAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Mon, Apr 23, 2001 at 10:21:54PM -0700
Message-ID: <3AE5BBF2.16931.1C82286@localhost>

On 24 Apr 2001, at 7:04, Dave Pearson wrote:

> Firstly, if you're going to create an array you might as well create an
> object.

  Both solutions (array/object) will be a horrible wasting of resources. 
With every call for INKEY() a new array/object will have to be created. 
Since most application are usually waiting in some input states then 
harbour application will be a memory eater, I think. 

 
> Secondly, if extended behaviour that is in some way platform or
> environment specific then shouldn't the programmer be using something that
> is platform or environment specific?
> 
> Thirdly, if it's worth attempting to code up an extended keystroke
> management facility isn't it better to implement it as a separate function
> and keep the interface of INKEY() clean?

  I agree here. INKEY() functionality shouldn't be changed. All 
additional tasks should be performed with other functions if needed.

Regards, Ryszard

From harbour@matrixlist.com  Tue Apr 24 13:41:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr 24 12:41:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <20010424125537.A4029@hagbard.davep.org>
References: <200104240331.f3O3VOU25258@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKIEJBDLAA.Ron@Profit-Master.com>
 <3AE4C692.32352.339F4467@localhost> <200104240446.f3O4kGU30062@smtp.parrett.net>
 <200104240446.f3O4kGU30062@smtp.parrett.net> ; from dholm@jsd-llc.com on Tue, Apr 24, 2001 at 12:48:38AM -0400
Message-ID: <200104241637.f3OGbZU10057@smtp.parrett.net>

** Reply to message from Dave Pearson <davep@davep.org> on Tue, 24 Apr
2001 12:55:37 +0100

> >    CASE nKey == HB_K_ENTER + HB_K_CTRL + HB_K_ENTER
> 
> I've not thought it out all the way but I'm looking at the above and
> wondering of simply adding the values will give a guaranteed unique
> keystroke signature. Will it?

It will, as long as there is attempt to discriminate between left and
right state keys...
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 24 13:44:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr 24 12:44:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104241637.f3OGbZU10057@smtp.parrett.net>
References: <200104240331.f3O3VOU25258@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKIEJBDLAA.Ron@Profit-Master.com>
 <3AE4C692.32352.339F4467@localhost> <200104240446.f3O4kGU30062@smtp.parrett.net>
 <200104240446.f3O4kGU30062@smtp.parrett.net> ; from dholm@jsd-llc.com on Tue, Apr 24, 2001 at 12:48:38AM -0400<20010424125537.A4029@hagbard.davep.org>
Message-ID: <200104241640.f3OGeMU10319@smtp.parrett.net>

** Reply to message from "David G. Holm" <dholm@jsd-llc.com> on Tue, 24
Apr 2001 12:39:55 -0400

What a difference a *no* makes:

> It will, as long as there is attempt to discriminate between left and
> right state keys...

Should read: "It will, as long as there is no attempt to discriminate
between left and right state keys..."
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 24 14:03:01 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Tue Apr 24 13:03:01 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <3AE5BBF2.16931.1C82286@localhost>; from rglab@imid.med.pl on Tue, Apr 24, 2001 at 05:46:26PM +0200
References: <LOBBKAFMMFGJIKLMEPAKOEJEDLAA.Ron@Profit-Master.com>; <20010424070454.H28537@hagbard.davep.org> <3AE5BBF2.16931.1C82286@localhost>
Message-ID: <20010424174456.I4029@hagbard.davep.org>

On Tue, Apr 24, 2001 at 05:46:26PM +0200, Ryszard Glab wrote:
> On 24 Apr 2001, at 7:04, Dave Pearson wrote:
> 
> > Firstly, if you're going to create an array you might as well create an
> > object.
> 
>   Both solutions (array/object) will be a horrible wasting of resources.
> With every call for INKEY() a new array/object will have to be created.
> Since most application are usually waiting in some input states then
> harbour application will be a memory eater, I think.

Yeah, I was hesitating to bring this point up too. What I was suggesting
though was that if something as "complex" as an array is going to be created
for each keystroke then the implementation might as well go the whole way
and use an object.

. o O ( In for a penny, in for a pound... )

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Tue Apr 24 14:13:01 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Tue Apr 24 13:13:01 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104241637.f3OGbZU10057@smtp.parrett.net>; from dholm@jsd-llc.com on Tue, Apr 24, 2001 at 12:39:55PM -0400
References: <200104240331.f3O3VOU25258@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKIEJBDLAA.Ron@Profit-Master.com> <3AE4C692.32352.339F4467@localhost> <200104240446.f3O4kGU30062@smtp.parrett.net> <200104240446.f3O4kGU30062@smtp.parrett.net> <20010424125537.A4029@hagbard.davep.org> <200104241637.f3OGbZU10057@smtp.parrett.net>
Message-ID: <20010424181150.K4029@hagbard.davep.org>

[Mistake noted and taken into account]

On Tue, Apr 24, 2001 at 12:39:55PM -0400, David G. Holm wrote:
> ** Reply to message from Dave Pearson <davep@davep.org> on Tue, 24 Apr
> 2001 12:55:37 +0100
> 
> > >    CASE nKey == HB_K_ENTER + HB_K_CTRL + HB_K_ENTER
> > 
> > I've not thought it out all the way but I'm looking at the above and
> > wondering of simply adding the values will give a guaranteed unique
> > keystroke signature. Will it?
> 
> It will, as long as there is attempt to discriminate between left and
> right state keys...

I was rather thinking about the combination of "real" keys by using addition
(I take it BTW that the second HB_K_ENTER in the above should have been
something like HB_K_DEL?).

What I had in mind is that:

  2 + 2 + 6 == 10
  1 + 3 + 6 == 10

imagine that "6" is a modifier key and "1", "2" and "3" are keys like ENTER,
DEL and friends. You're looking at two very different key combinations that
have the exact same signature.

Like I said, I've not thought it thru and tested it myself but I always get
this jittery feeling when addition is used to combine things to make a
supposedly unique signature.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Tue Apr 24 14:26:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Tue Apr 24 13:26:01 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <20010424181150.K4029@hagbard.davep.org>
References: <200104240331.f3O3VOU25258@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKIEJBDLAA.Ron@Profit-Master.com>
 <3AE4C692.32352.339F4467@localhost> <200104240446.f3O4kGU30062@smtp.parrett.net>
 <200104240446.f3O4kGU30062@smtp.parrett.net> <20010424125537.A4029@hagbard.davep.org>
 <200104241637.f3OGbZU10057@smtp.parrett.net> <200104241637.f3OGbZU10057@smtp.parrett.net>
 ; from dholm@jsd-llc.com on Tue, Apr 24, 2001 at 12:39:55PM -0400
Message-ID: <200104241721.f3OHLhU14283@smtp.parrett.net>

** Reply to message from Dave Pearson <davep@davep.org> on Tue, 24 Apr
2001 18:11:50 +0100

> > > >    CASE nKey == HB_K_ENTER + HB_K_CTRL + HB_K_ENTER
> ...
> (I take it BTW that the second HB_K_ENTER in the above should have been
> something like HB_K_DEL?).

Oh! I hadn't noticed the *typo* in my sample code. No *wonder* you were
wondering! The case was *supposed* to be:

    CASE nKey == HB_K_ENTER + HB_K_CTRL + HB_K_ALT

(The request was for an example of how one would test for the
Ctrl+Alt+Enter key combination.)

> You're looking at two very different key combinations that
> have the exact same signature.

Which isn't what I was trying to demonstrate, given that it is
physically impossible to generate such key combinations on PCs.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Tue Apr 24 14:31:01 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Tue Apr 24 13:31:01 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <3AE5B9AA.16240.1BF362F@localhost>
Message-ID: <000501c0cce3$672cb6c0$0f2aa8c0@antonio>

Ryszard,

> Anyway I think that there is no 
> need to duplicate a code that is already placed in standard malloc/free 
> functions.

I fully agree with you.

Antonio



From harbour@matrixlist.com  Tue Apr 24 14:48:02 2001
From: harbour@matrixlist.com (Sid Saylors)
Date: Tue Apr 24 13:48:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <000501c0cce3$672cb6c0$0f2aa8c0@antonio>
Message-ID: <LPEEJAJOBHBILNKJNKLBIEHPCAAA.saylors@home.com>

Antonio,

	i think in part the problem is that fwh is not releasing
resources,
	the way i tested for that was to run under win98 and bring
up the accessories\system tools\resource meter.
	when opening and closing windows and dialogs the % left
in GDI and System will go down and then hang...

Sid...



-----Original Message-----
From: harbour-admin@matrixlist.com
[mailto:harbour-admin@matrixlist.com]On Behalf Of Antonio Linares
Sent: Tuesday, April 24, 2001 10:24 AM
To: harbour@matrixlist.com
Subject: RE: [Harbour] Memory is not released to Windows (Ryszard ?)


Ryszard,

> Anyway I think that there is no 
> need to duplicate a code that is already placed in standard malloc/free 
> functions.

I fully agree with you.

Antonio


_______________________________________________
Harbour mailing list
Harbour@matrixlist.com
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org


From harbour@matrixlist.com  Tue Apr 24 15:02:08 2001
From: harbour@matrixlist.com (Marek Paliwoda)
Date: Tue Apr 24 14:02:08 2001
Subject: [Harbour] INKEY RAW question
References: <LOBBKAFMMFGJIKLMEPAKGEIKDLAA.Ron@Profit-Master.com>
 <002c01c0cc3a$913960c0$2c13a0d4@map> <000201c0cc85$16340b00$500db33e@chello.pl>
Message-ID: <008c01c0cce8$c1d1b940$20b572c3@map>

Andrzej P. Wozniak wrote on Tuesday, April 24, 2001 4:12 AM

> But don't forget about languages other then English.
> For example, Polish programmer's keyboard uses "AltRight" to have got all
> the letters with "ogonki" ("   "). How can you differ
> Alt+C for Clipper's "Cancel" from AltR+C for some Polish (or Czech) letter?
> How are you going to solve native keyboard support now and Unicode support
> in the future?

Currently exactly in the same way it is done in gtsln. Pressing AltR+national
letter (or whatever other cobination of keys) gives you a code from an upper
ASCII set. You don not need to know anything about keyboard modifiers like
ALTR. Or I am missing something obvoius.

Well, I am not familiar with Unicode and UTF-8 encoding but I think the
idea is the same, because UTF-8 uses sequences of *bytes* to code a national
chars. But I can be wrong here.

Regards
Marek Paliwoda







From harbour@matrixlist.com  Tue Apr 24 15:04:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Tue Apr 24 14:04:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <LPEEJAJOBHBILNKJNKLBIEHPCAAA.saylors@home.com>
Message-ID: <000601c0cce8$2b4205c0$0f2aa8c0@antonio>

Sid,

I don't agree with you. Here in our tests the resource meter
shows some decrease, from time to time, but suddenly recovers,
seems that Windows does it from time to time

Have you performed the same tests with your 16 bits app ?
You may be loosing resources for not released Windows GDI objects...

Antonio

> 	i think in part the problem is that fwh is not releasing
> resources,
> 	the way i tested for that was to run under win98 and bring
> up the accessories\system tools\resource meter.
> 	when opening and closing windows and dialogs the % left
> in GDI and System will go down and then hang...



From harbour@matrixlist.com  Tue Apr 24 15:06:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Tue Apr 24 14:06:01 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
References: <3AE5B8E0.6038.1BC20CE@localhost>
Message-ID: <004d01c0ccea$111cd650$921a5e18@bh>

Ryszard:
> PS. Are all problems solved now after correcting hb_arrayclone bug?

No. This fixed the gpfs in ClsNew, but we still have a problem with complex
array handling causing an array to become NIL.  It's been a few weeks since
I pursued that intensely, though, so I'll be reviewing it again in the next
couple of days.

There is an occasional gpf in dbCloseAll if relations have been set, but not
all the time and I haven't been able to nail it down yet. Adding a call to
HB_TRACE to check the area pointers
   s_pCurrArea = pAreaNode;
   pAreaNode = pAreaNode->pNext;
   HB_TRACE(HB_TR_ALWAYS, ("hb_rddCloseAll(%p %p %d)", s_pCurrArea ,
pAreaNode, nCycl));

...causes the gpf to Stop happening, of course. :-(

Still, I have our full-blown app up and running in our office: order entry,
calendaring, contact/sales management, report engine, document management,
etc., with 10 stations all day long using ADS -- and for the most part it's
running great!

Brian


From harbour@matrixlist.com  Tue Apr 24 16:31:01 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Tue Apr 24 15:31:01 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104241721.f3OHLhU14283@smtp.parrett.net>; from dholm@jsd-llc.com on Tue, Apr 24, 2001 at 01:24:06PM -0400
References: <200104240331.f3O3VOU25258@smtp.parrett.net> <LOBBKAFMMFGJIKLMEPAKIEJBDLAA.Ron@Profit-Master.com> <3AE4C692.32352.339F4467@localhost> <200104240446.f3O4kGU30062@smtp.parrett.net> <200104240446.f3O4kGU30062@smtp.parrett.net> <20010424125537.A4029@hagbard.davep.org> <200104241637.f3OGbZU10057@smtp.parrett.net> <200104241637.f3OGbZU10057@smtp.parrett.net> <20010424181150.K4029@hagbard.davep.org> <200104241721.f3OHLhU14283@smtp.parrett.net>
Message-ID: <20010424203008.M4029@hagbard.davep.org>

On Tue, Apr 24, 2001 at 01:24:06PM -0400, David G. Holm wrote:
> ** Reply to message from Dave Pearson <davep@davep.org> on Tue, 24 Apr
> 2001 18:11:50 +0100
> 
> > > > >    CASE nKey == HB_K_ENTER + HB_K_CTRL + HB_K_ENTER
> > ...
> > (I take it BTW that the second HB_K_ENTER in the above should have been
> > something like HB_K_DEL?).
> 
> Oh! I hadn't noticed the *typo* in my sample code. 

Actually, it's worse than that, where on earth did I get K_DEL on the brain?
Put it down to a brain fart at my end.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Tue Apr 24 16:34:01 2001
From: harbour@matrixlist.com (Przemyslaw Czerpak)
Date: Tue Apr 24 15:34:01 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <000201c0cc85$16340b00$500db33e@chello.pl>
References: <LOBBKAFMMFGJIKLMEPAKGEIKDLAA.Ron@Profit-Master.com> <002c01c0cc3a$913960c0$2c13a0d4@map> <000201c0cc85$16340b00$500db33e@chello.pl>
Message-ID: <20010424213230.A1228@uran.rcsoft.pl>

On Tue, 24 Apr 2001, Andrzej P. Wozniak wrote:
> > INKEY_EXTENDED ( David's proposal ) seems much better because it
> > allows to be the most portable way we can reach. And it could be extended
> > to support something like ALTL+A -> 1000, ALTR+A ->1001 ... ( but I don't
> > think this makes any sense)
> But don't forget about languages other then English.
> For example, Polish programmer's keyboard uses "AltRight" to have got all
> the letters with "ogonki" ("   "). How can you differ
> Alt+C for Clipper's "Cancel" from AltR+C for some Polish (or Czech) letter?

Terminal sends an ascii value of polish charcter, so when you hit ALTR+A and
your terminal suports polish leters, then your application will receive one
char only (eg. code ASC("")==161 for iso-8859-2). Any program for polish
characters in DOS works in the same way, they put two bytes to keyboard buffer
(this is double byte buffer) 0 and ascii code of letter.
And we can find a little problem here. In some countries there is more then
one national character set. Usually ISO, MS-CP, DOS-CP and some other ... :-(
It's possible to work with one application from different terminal at the same
moment. So harbour needs a conversion table which will be load when program
starts for keycode translation (eg. defined by environment set).
We only have to convert chars from 0 to 255 (I don't think about unicode)

> How are you going to solve native keyboard support now and Unicode support
> in the future?

Unicode terminal works in a differ form but if we want direct support for unicode
in harbour application we need complitly new function which will retern unicode
value (from 0 to 65535) of puted character - there is no easy way to add
such codes to inkey without breaking of compatibility - some aplication use
ALT+LETTER combination which produce inkey() values over 255. The secound problem
is how to store such information in database, new indexes, strings operations,
field format, and many other problem has to be resolved - console IO is not the
most difficult and important one. But we can try to map unicode to application
character set.

And something else. In terminfo (terminal decription database) you can find
information about keys for specific action, not direct key description eg:

       [...]
       key_backspace             kbs    kb   backspace key
       key_beg                   kbeg   @1   begin key
       key_btab                  kcbt   kB   back-tab key
       key_c1                    kc1    K4   lower left of keypad
       key_c3                    kc3    K5   lower right of keypad
       key_cancel                kcan   @2   cancel key
       key_catab                 ktbc   ka   clear-all-tabs key
       key_clear                 kclr   kC   clear-screen or erase key
       key_close                 kclo   @3   close key
       key_command               kcmd   @4   command key
       key_copy                  kcpy   @5   copy key
       key_create                kcrt   @6   create key
       key_ctab                  kctab  kt   clear-tab key
       key_dc                    kdch1  kD   delete-character key
       key_dl                    kdl1   kL   delete-line key
       key_down                  kcud1  kd   down-arrow key
       key_eic                   krmir  kM   sent by rmir or smir in insert mode
       key_end                   kend   @7   end key
       key_enter                 kent   @8   enter/send key
       key_eol                   kel    kE   clear-to-end-of-linekey
       key_eos                   ked    kS   clear-to-end-of-screen key
       key_exit                  kext   @9   exit key
       [...]
       key_f0                    kf0    k0   F0 function key
       key_f1                    kf1    k1   F1 function key
       [...]
       key_f61                   kf61   Fp   F61 function key
       key_f62                   kf62   Fq   F62 function key
       key_f63                   kf63   Fr   F63 function key
       [...]
       key_mark                  kmrk   %2   mark key
       key_message               kmsg   %3   message key
       key_move                  kmov   %4   move key
       key_next                  knxt   %5   next key
       key_npage                 knp    kN   next-page key
       key_open                  kopn   %6   open key
       key_options               kopt   %7   options key
       key_ppage                 kpp    kP   previous-page key
       key_previous              kprv   %8   previous key
       key_print                 kprt   %9   print key
       key_redo                  krdo   %0   redo key
       key_reference             kref   &1   reference key
       key_refresh               krfr   &2   refresh key
       [...]

And I cannot imaginate any other portable solution, so there is
no way to simple (or any) check shift flags. Some parts of
Harbour (eg. memoedit, get system) have to use some strange key
combination. If we want to make their code portable we have to
define similar to terminfo table and use it internaly for all
harbour embeded function. It could be useful in other situation.
Redefining whole keybord interface in application is very simple
operation. Programer has to change only one table. Someone likes
CTRL+C, CTRL+V for copy and paste, other prefer CTRL+INS, SHIFT+INS.


Btw. I've seen a post about national characters on Linux console a week
or two ago. So I'll try to expain it a little.
There are two character sets on linux console: G0 and G1.
Application can change the char set at any time and print one char
from G0 and secound from G1. For each of char set, application choose
one of four conversion table:
a) Latin1 -> PC,  b) VT100 graphics -> PC, c) PC -> PC,  d)  userdefined

It means that theoreticaly console can display more then 256 characters
(and it's possible if you load such font with proper conversion table)
Clipper aplications which use text mode where usualy defined to use one
256 character set which conatains digit, letters, math symbols,
semigraphics, etc.) If we want to port such application to Harbour
without rewriting a tone of codes we need a conwersion table.
When application want to diplay a character GT should check it's
code and choose proper conversion table, and proper position in font.
eg.
    APP.CHAR.   FONT.CHAR. CONV.TABL.
       65           65         1
       66           66         1

It would be wonderful if GT allow to dynamicaly load such table when
application begin to run. It will allow to use diffrent conwersion
table for diffrent terminal. This problem is similar to keyborad table
conwersion for national characters.

regards,
Przemek

Sorry for my poor english but if some one will undersand me I hope
find this text useful.

From harbour@matrixlist.com  Tue Apr 24 16:37:02 2001
From: harbour@matrixlist.com (Sid Saylors)
Date: Tue Apr 24 15:37:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <000601c0cce8$2b4205c0$0f2aa8c0@antonio>
Message-ID: <LPEEJAJOBHBILNKJNKLBOEIACAAA.saylors@home.com>

Antonio,
	Our 16bit app has been tested over and over with no resource leak.

	but on running the same tests with the 32bit version it started
with 68% GDI 70% USER 62% SYSTEM and after opening and closing all
6 mdi windows 12 times GDI is 6% System is 6% USER 56%.
	none were returned until i exited the app, i let it stand
for about 5min.

Regards.

Sid........



-----Original Message-----
From: harbour-admin@matrixlist.com
[mailto:harbour-admin@matrixlist.com]On Behalf Of Antonio Linares
Sent: Tuesday, April 24, 2001 10:58 AM
To: harbour@matrixlist.com
Subject: RE: [Harbour] Memory is not released to Windows (Ryszard ?)


Sid,

I don't agree with you. Here in our tests the resource meter
shows some decrease, from time to time, but suddenly recovers,
seems that Windows does it from time to time

Have you performed the same tests with your 16 bits app ?
You may be loosing resources for not released Windows GDI objects...

Antonio

> 	i think in part the problem is that fwh is not releasing
> resources,
> 	the way i tested for that was to run under win98 and bring
> up the accessories\system tools\resource meter.
> 	when opening and closing windows and dialogs the % left
> in GDI and System will go down and then hang...


_______________________________________________
Harbour mailing list
Harbour@matrixlist.com
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org



From harbour@matrixlist.com  Tue Apr 24 17:44:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Tue Apr 24 16:44:02 2001
Subject: [Harbour] dbCloseAll gpf  (Alexander, Ryszard ?)
References: <3AE5B8E0.6038.1BC20CE@localhost> <004d01c0ccea$111cd650$921a5e18@bh>
Message-ID: <000f01c0cd00$25cfe6d0$921a5e18@bh>

Well, er, this may have something to do with it (workarea.c):
ERRCODE hb_waClose( AREAP pArea )
{  ...
   if( pArea->uiParents > 0 )
      printf( "\nTODO: hb_waClose() %d\n",pArea->uiParents );
...

Does anyone have a clear idea of everything that needs to happen if a
workarea is being closed that has parents?

Brian


> There is an occasional gpf in dbCloseAll if relations have been set, but
not
> all the time and I haven't been able to nail it down yet. Adding a call to
> HB_TRACE to check the area pointers
>    s_pCurrArea = pAreaNode;
>    pAreaNode = pAreaNode->pNext;
>    HB_TRACE(HB_TR_ALWAYS, ("hb_rddCloseAll(%p %p %d)", s_pCurrArea ,
> pAreaNode, nCycl));
>
> ...causes the gpf to Stop happening, of course. :-(
>
> Brian



From harbour@matrixlist.com  Tue Apr 24 18:42:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Tue Apr 24 17:42:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <LPEEJAJOBHBILNKJNKLBOEIACAAA.saylors@home.com>
Message-ID: <000a01c0cd06$9c816f00$0f2aa8c0@antonio>

Sid,

I wish I could have a sample to reproduce that problem
here. My samples (included your TestFld.prg are not
behaving that way).

Antonio

> 	but on running the same tests with the 32bit version it started
> with 68% GDI 70% USER 62% SYSTEM and after opening and closing all
> 6 mdi windows 12 times GDI is 6% System is 6% USER 56%.
> 	none were returned until i exited the app, i let it stand
> for about 5min.



From harbour@matrixlist.com  Tue Apr 24 19:06:02 2001
From: harbour@matrixlist.com (Sid Saylors)
Date: Tue Apr 24 18:06:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
References: <000a01c0cd06$9c816f00$0f2aa8c0@antonio>
Message-ID: <3AE5F87E.C4C38FFF@home.com>

Antonio , 

	i have that sample that i sent you and it IS leaking resources
here, system started at 60% and is 17% now Gdi started also at 72%
and is 16% now User started at 60% and is at 59% now , allocated memory
started at 191.7mg and now is at 279.4.

you have to open/close a lot of times to really see what's going on.
 <open/close all 3 windows 19-20 times>

Regards

Sid....


Antonio Linares wrote:
> 
> Sid,
> 
> I wish I could have a sample to reproduce that problem
> here. My samples (included your TestFld.prg are not
> behaving that way).
> 
> Antonio
> 
> >       but on running the same tests with the 32bit version it started
> > with 68% GDI 70% USER 62% SYSTEM and after opening and closing all
> > 6 mdi windows 12 times GDI is 6% System is 6% USER 56%.
> >       none were returned until i exited the app, i let it stand
> > for about 5min.
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

From harbour@matrixlist.com  Wed Apr 25 00:38:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 24 23:38:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <3AE5BBF2.16931.1C82286@localhost>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEJLDLAA.Ron@Profit-Master.com>

> > Firstly, if you're going to create an array you might as well create an
> > object.
>
>   Both solutions (array/object) will be a horrible wasting of resources.
> With every call for INKEY() a new array/object will have to be created.
> Since most application are usually waiting in some input states then
> harbour application will be a memory eater, I think.

This is not the case. Once such Array is no longer referenced, it is being
released on the very next call to Inkey() *before* a new array is created.

Ron


From harbour@matrixlist.com  Wed Apr 25 00:43:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 24 23:43:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104240930_MC2-CD8D-E218@compuserve.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEJLDLAA.Ron@Profit-Master.com>

> Ron, David, et al,
>
> In case an array may be returned, I suggest _not_ to use InKey() but
> instead make a new API.  AInKey() might be its name.  At the C level
> I suppose each element of the array would be a member of a struct
> (each an integer, presumably).  Reasonably efficient and does not
> impact on "normal" Harbour apps - which might link such that the low
> level code was present but at least AInKey() would not be.

I will support an effort to create a new set of functions like: HB_InKey(),
HB_LastKey(), HB_NextKey(), HB_Keyboard() and HB_SetKey()

Regardless of the approach selected.

Ron


From harbour@matrixlist.com  Wed Apr 25 00:47:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 24 23:47:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <20010424070454.H28537@hagbard.davep.org>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEJLDLAA.Ron@Profit-Master.com>

Dave,

> Secondly, if extended behaviour that is in some way platform or
> environment
> specific then shouldn't the programmer be using something that is platform
> or environment specific?

Both solutions aim to provide portability, not platform specific
functionality!

> Thirdly, if it's worth attempting to code up an extended keystroke
> management facility isn't it better to implement it as a separate function
> and keep the interface of INKEY() clean?

Agree.

Ron


From harbour@matrixlist.com  Wed Apr 25 00:55:03 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Tue Apr 24 23:55:03 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104240517.f3O5HBU31581@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEJMDLAA.Ron@Profit-Master.com>

David,

> > How difficult will it be, to add support for the EXTENDED mode to
> > __Keyboard()?
>
> Considering that the function only accepts a character string and is
> therefor limited to values in the range from CHR(0) through CHR(255), no
> changes are required to support extended mode, because even normal mode
> doesn't allow stuffing of function keys, Alt keys, etc.
>
> But if there is a desire to extend the function to allow that, I might
> approach it by adding optional second and third parameters that would
> take integer values or arrays of integer values to stuff into the
> keyboard buffer ahead of and following the optional string parameter,
> respectively.

I believe we should consider an HB_Keyboard() (or whatever name is
agreed) )that will use the Harbour Portable Inkey Value.

I also agree with your and other's suggestion, to create a new HB_Inkey()
(or whatever name is agreed) to implement the Extended Portable, Inkey like
values.

I suppose we might consider HB_InKey(), HB_LastKey(), HB_NextKey(),
HB_Keyboard(), and HB_SetKey() all using the extended Harbour Portable
method.

Ron


From harbour@matrixlist.com  Wed Apr 25 01:11:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr 25 00:11:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104240508.f3O58GU31144@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEJNDLAA.Ron@Profit-Master.com>

David,

> > This 2nd parameter being or not being some BIT mask, has
> absolutely nothing
> > to do with the user perception. User simply sees a 2nd
> parameter which is a
> > CONSTANT, that based on your proposal will return 1 of 2(3?)
> possible return
> > values.
>
> A constant that can be nearly impossible to decipher. Quick, without
> looking it up in INKEY.CH, what input does the following INKEY() call
> accept?
>
>    value := INKEY( 0.5, 273 )

I'm surprised you bring this up. The same claim can be made against *any*
line that uses some #define value! This is just as true when using your
proposal and its #defined constants.

> > I don't understand your issue with the PP. Can you please
> explain? How is
> > this an issue for my proposal but not for yours?
>
> See the code above. I don't use code like that but based on the code
> I've seen, there are a *lot* of Clipper developers that do. With your
> proposal, I can't tell at a glance if value from the INKEY() expression
> above will be an array or an integer. With my proposal, it will *always*
> be an integer.

Again this of course is also true with your proposal, and any other function
that receive some constant #define. You might know the return will be an
integer, but *not* which kind of integer (Clipper/Raw/Extended). We all will
be just as clueless with your proposal, in such scenario. This is not a
drawback, but rather the norm.

> > That's absolutely FALSE. No RTL changes will be needed other than what's
> > needed by *either* approach!
>
> Are you trying to tell me that with your approach, you won't have to
> modify each of the following functions in inkey.c to deal with integer
> or array values and add new C-level interface functions to deal with the
> array values?
>
> HB_FUNC( HB_KEYPUT )
> HB_FUNC( NEXTKEY )
> HB_FUNC( LASTKEY )
> HB_FUNC( INKEY )

This is very considerate of you. These are the very functions I volunteered
to extend. I was under the impression you claimed that my proposal will
force changes to other RTL modules.

Ron


From harbour@matrixlist.com  Wed Apr 25 02:36:02 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Wed Apr 25 01:36:02 2001
Subject: [Harbour] Re: dbCloseAll gpf  (Alexander, Ryszard ?)
In-Reply-To: <000f01c0cd00$25cfe6d0$921a5e18@bh>
References: <3AE5B8E0.6038.1BC20CE@localhost>
 <004d01c0ccea$111cd650$921a5e18@bh> <000f01c0cd00$25cfe6d0$921a5e18@bh>
Message-ID: <342182858.20010425093118@belacy.belgorod.su>

On 25.04.2001 0:50, Brian Hays <bhays@abacuslaw.com> wrote:

BH> Well, er, this may have something to do with it (workarea.c):
BH> ERRCODE hb_waClose( AREAP pArea )
BH> {  ...
BH>    if( pArea->uiParents > 0 )
BH>       printf( "\nTODO: hb_waClose() %d\n",pArea->uiParents );
BH> ...

BH> Does anyone have a clear idea of everything that needs to happen if a
BH> workarea is being closed that has parents?

 The idea is very simple :) - go through all parents ( though I cannot
 imagine few parents of one child - such a thing may cause only
 problems while switching between parents without a movement in them
 ), and clear appropriate relation in their workareas.
 The problem is that there isn't a method in the RDD virtual table,
 which close one selected child. ClearRel() closes all relations in
 the workarea. So, I think, we need to write appropriate ( not virtual
 ) function for each RDD, which will close one selected relation.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Wed Apr 25 03:18:01 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Wed Apr 25 02:18:01 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEJLDLAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Tue, Apr 24, 2001 at 08:41:15PM -0700
References: <3AE5BBF2.16931.1C82286@localhost> <LOBBKAFMMFGJIKLMEPAKEEJLDLAA.Ron@Profit-Master.com>
Message-ID: <20010425070958.N4029@hagbard.davep.org>

On Tue, Apr 24, 2001 at 08:41:15PM -0700, Ron Pinkas wrote:

> >   Both solutions (array/object) will be a horrible wasting of resources.
> > With every call for INKEY() a new array/object will have to be created.
> > Since most application are usually waiting in some input states then
> > harbour application will be a memory eater, I think.
> 
> This is not the case. Once such Array is no longer referenced, it is being
> released on the very next call to Inkey() *before* a new array is created.

Array management is no more stressful on the system than integer management?

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Wed Apr 25 03:30:04 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr 25 02:30:04 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <20010425070958.N4029@hagbard.davep.org>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEJPDLAA.Ron@Profit-Master.com>

> > >   Both solutions (array/object) will be a horrible wasting of 
> resources.
> > > With every call for INKEY() a new array/object will have to 
> be created.
> > > Since most application are usually waiting in some input states then
> > > harbour application will be a memory eater, I think.
> > 
> > This is not the case. Once such Array is no longer referenced, 
> it is being
> > released on the very next call to Inkey() *before* a new array 
> is created.
> 
> Array management is no more stressful on the system than integer 
> management?

Please re-read the expressed concern, and the reply.


From harbour@matrixlist.com  Wed Apr 25 03:32:01 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Wed Apr 25 02:32:01 2001
Subject: [Harbour] Re: dbCloseAll gpf  (Alexander, Ryszard ?)
In-Reply-To: <342182858.20010425093118@belacy.belgorod.su>
References: <3AE5B8E0.6038.1BC20CE@localhost>
 <004d01c0ccea$111cd650$921a5e18@bh> <000f01c0cd00$25cfe6d0$921a5e18@bh>
 <342182858.20010425093118@belacy.belgorod.su>
Message-ID: <1155515142.20010425102650@belacy.belgorod.su>

On 25.04.2001 9:31, Alexander S.Kresin <alex@belacy.belgorod.su> wrote:

ASK>  The problem is that there isn't a method in the RDD virtual table,
ASK>  which close one selected child. ClearRel() closes all relations in
ASK>  the workarea. So, I think, we need to write appropriate ( not virtual
ASK>  ) function for each RDD, which will close one selected relation.

 As I see it, ADS hasn't a function to close only one selected
 relation, only all. Probably, relation there is closed automatically
 when child file is closed - it would be better ask Extendsys people
 about it.
 In this case it is needed to write such a function only for super
 RDD, this function will simply drop appropriate item from
 pArea->lpdbRelations.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Wed Apr 25 05:32:01 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Wed Apr 25 04:32:01 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEJPDLAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Tue, Apr 24, 2001 at 11:34:02PM -0700
References: <20010425070958.N4029@hagbard.davep.org> <LOBBKAFMMFGJIKLMEPAKEEJPDLAA.Ron@Profit-Master.com>
Message-ID: <20010425093137.T4029@hagbard.davep.org>

On Tue, Apr 24, 2001 at 11:34:02PM -0700, Ron Pinkas wrote:

> > Array management is no more stressful on the system than integer
> > management?
> 
> Please re-read the expressed concern, and the reply.

Asking me to read something I've already read doesn't really answer my
question does it?

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Wed Apr 25 05:44:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Wed Apr 25 04:44:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <20010425093137.T4029@hagbard.davep.org>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEJPDLAA.Ron@Profit-Master.com>

> > > Array management is no more stressful on the system than integer
> > > management?
> > 
> > Please re-read the expressed concern, and the reply.
> 
> Asking me to read something I've already read doesn't really answer my
> question does it?

I think it does.


From harbour@matrixlist.com  Wed Apr 25 05:51:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Wed Apr 25 04:51:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEJPDLAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Wed, Apr 25, 2001 at 01:47:27AM -0700
References: <20010425093137.T4029@hagbard.davep.org> <LOBBKAFMMFGJIKLMEPAKOEJPDLAA.Ron@Profit-Master.com>
Message-ID: <20010425095035.U4029@hagbard.davep.org>

On Wed, Apr 25, 2001 at 01:47:27AM -0700, Ron Pinkas wrote:

> > > > Array management is no more stressful on the system than integer
> > > > management?
> > > 
> > > Please re-read the expressed concern, and the reply.
> > 
> > Asking me to read something I've already read doesn't really answer my
> > question does it?
> 
> I think it does.

Ok, I'll tell you it doesn't. I asked that question *because* of the text
you're referring to, suggesting I read the text as an answer to the question
suggests evasion or a failure to understand the question I asked.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Wed Apr 25 07:12:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Wed Apr 25 06:12:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <3AE5F87E.C4C38FFF@home.com>
Message-ID: <000401c0cd6f$5f4cb360$0f2aa8c0@antonio>

Sid,

I got your sample this morning.

Antonio

> 	i have that sample that i sent you and it IS leaking resources
> here, system started at 60% and is 17% now Gdi started also at 72%
> and is 16% now User started at 60% and is at 59% now , allocated memory
> started at 191.7mg and now is at 279.4.
> 
> you have to open/close a lot of times to really see what's going on.
>  <open/close all 3 windows 19-20 times>



From harbour@matrixlist.com  Wed Apr 25 07:30:03 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Wed Apr 25 06:30:03 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <000401c0cd6f$5f4cb360$0f2aa8c0@antonio>
Message-ID: <000701c0cd71$e949cba0$0f2aa8c0@antonio>

Sid,

> I got your sample this morning.

Ok, I saw the one you were refering to.

In my opinion, it is behaving ok. If I open three MdiChild
windows and three DialogBoxes with a folder on top, that uses
5 non modal dialog boxes, it is obvious that we are going to
consume memory and resources. But when I close them, they get
properly restored.

Of course, if I don't close them, and I keep opening more
and more, you reach a point, where the system tells you there
are no more available resources (but I guess nobody is going to work
with such a tremendous amount of windows and dialogboxes simultaneously).

I apologize if I keep this conversation here, on the list, 
but we don't want FW users to think that FWH is not working
properly. FWH is working simply great! (thanks to Harbour!)

Antonio

> > 	i have that sample that i sent you and it IS leaking resources
> > here, system started at 60% and is 17% now Gdi started also at 72%
> > and is 16% now User started at 60% and is at 59% now , allocated memory
> > started at 191.7mg and now is at 279.4.
> > 
> > you have to open/close a lot of times to really see what's going on.
> >  <open/close all 3 windows 19-20 times>



From harbour@matrixlist.com  Wed Apr 25 08:00:04 2001
From: harbour@matrixlist.com (Ryszard Glab)
Date: Wed Apr 25 07:00:04 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEJLDLAA.Ron@Profit-Master.com>
References: <3AE5BBF2.16931.1C82286@localhost>
Message-ID: <3AE6CACF.1295.B39BC9@localhost>

On 24 Apr 2001, at 20:41, Ron Pinkas wrote:

> >   Both solutions (array/object) will be a horrible wasting of resources.
> > With every call for INKEY() a new array/object will have to be created.
> > Since most application are usually waiting in some input states then
> > harbour application will be a memory eater, I think.
> 
> This is not the case. Once such Array is no longer referenced, it is being
> released on the very next call to Inkey() *before* a new array is created.

  Yes, in most cases but not in cases when this array will be assigned to 
another variable. However this will still require an allocation of new 
memory blocks. There is no guarantee that previously used block will be 
reused. Compare it with returning an integer value when no memory is 
allocated at all.

Regards, Ryszard

From harbour@matrixlist.com  Wed Apr 25 11:17:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Wed Apr 25 10:17:02 2001
Subject: [Harbour] __VMPARLLIST()
Message-ID: <3AE69FC2.13497.C158C4@localhost>

--Message-Boundary-26167
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Content-description: Mail message body

Good Morning,

  When studying Harbour Stack and variable management I found a 
strange behaviour with __VMPARLLIST() I didn't check if it can 
affect other harbour part but I think it's important to mention it !.

  If by mistake you passed to much paramater to a function 
__VMPARLLIST() will complete his list with the LOCAL variable of 
the function.

  See attach file !

  Sylvain 

  



     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com


--Message-Boundary-26167
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Content-description: Text from file 'bug.prg'


#include "Hbmemvar.ch"

STATIC StatProgram1:="staticprogram1"

//------------------------------------------------------------------------//

Function MAIn()
 Local LocMain1:="Mainlocal1",Locmain2:="Mainlocal2"
 STATIC Stamain1:="Satic main1"
 Private Privmain1:="private main1"

 func1("paramfunc11","paramfunc12","paramfunc13","paramfunc14")
 return nil

function Func1(a,b,c)
   Local LocFunc1:="func1local",LocFunc2:="func1local2"
   Local Pname,Pvalue

   avalue:=__VMSTKGLIST()
   for x = 1 to len(avalue)
     if valtype(avalue[x]) == "C" .and. "[" $ avalue[x]
      Qout(Hb_ValtoStr(avalue[x])+" ")
     else
      QQout(Hb_ValtoStr(avalue[x])+",")
     endif
   next
   Qout("")
   avalue:=__VMPARLLIST()
   for x = 1 to len(avalue)
      QQout(Hb_ValtoStr(avalue[x])+",")
   next

   for x = __mvdbginfo(HB_MV_PUBLIC) to 1 step -1
     Pvalue:=__mvdbginfo(HB_MV_PUBLIC,x,@Pname)
     Qout("Public: "+ Pname + type(@pname) + Hb_ValtoStr(Pvalue))
   next
   for x = __mvdbginfo(HB_MV_PRIVATE) to 1 step -1
     Pvalue:=__mvdbginfo(HB_MV_PRIVATE,x,@Pname)
     Qout("Private: "+ Pname + " "+type(pname) + " "+Hb_ValtoStr(Pvalue))
   next


Return "toto"


--Message-Boundary-26167--

From harbour@matrixlist.com  Wed Apr 25 11:30:08 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Wed Apr 25 10:30:08 2001
Subject: [Harbour] DBFCDX problem
In-Reply-To: <3AE6CACF.1295.B39BC9@localhost>
Message-ID: <001b01c0cd93$7184f780$0f2aa8c0@antonio>

This is a multi-part message in MIME format.

------=_NextPart_000_001C_01C0CDA4.350DC780
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

A Harbour tester reports a problem with DBFCDX
management. Sample is attached.

The app just GPFs.

Thanks!

Antonio

------=_NextPart_000_001C_01C0CDA4.350DC780
Content-Type: application/octet-stream;
	name="pru2.prg"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
	filename="pru2.prg"

#define DB_NAME  "User.Dbf"
#define CDX_NAME "User1.Cdx"

FUNCTION Main( cParam )

	LOCAL aDir, nI

	SET EPOCH TO ( Year( date() ) - 50 )
   REQUEST DBFCDX
	RddSetDefault( "DBFCDX" )

	SET DELETE ON

	IF !File( DB_NAME )
		DBCreate( DB_NAME, { { "Login",      "C",  8, 0 },;
									{ "Pasword",    "C",  8, 0 },;
									{ "Apellido1",  "C", 25, 0 },;
									{ "Apellido2",  "C", 25, 0 },;
									{ "Nombre",     "C", 25, 0 },;
									{ "Domicilio",  "C", 40, 0 },;
									{ "CPostal",    "C",  5, 0 },;
									{ "Poblacion",  "C", 40, 0 },;
									{ "Provincia",  "C", 40, 0 },;
									{ "Pais",       "C", 40, 0 },;
									{ "Telefono",   "C", 15, 0 },;
									{ "Fax",        "C", 15, 0 },;
									{ "DNI",        "C", 15, 0 },;
									{ "EMail",      "C", 40, 0 },;
									{ "EnvioInf",   "L",  1, 0 },;
									{ "FPago",      "C",  1, 0 },;
									{ "CCC",        "C", 20, 0 },;
									{ "Titular",    "C", 40, 0 },;
									{ "TipoTjta",   "C",  1, 0 },;
									{ "NTjta",      "C", 16, 0 },;
									{ "CadTjta",    "C",  4, 0 },;
									{ "AutCargo",   "L",  1, 0 },;
									{ "Alta",       "D",  8, 0 },;
									{ "Variacion",  "D",  8, 0 },;
									{ "Caja",       "C",  2, 0 } } )
	ENDIF

	IF !File( CDX_NAME )
		USE ( DB_NAME ) NEW EXCLUSIVE ALIAS Usuarios
		INDEX ON Upper( Usuarios->APELLIDO1 ) + ;
					Upper( Usuarios->APELLIDO2 ) + ;
					Upper( Usuarios->NOMBRE )  TAG USR1      TO ( CDX_NAME )
		INDEX ON Usuarios->Login            TAG USR2      TO ( CDX_NAME )
		INDEX ON Usuarios->DNI              TAG USR3      TO ( CDX_NAME )
		INDEX ON Usuarios->EMAIL            TAG USR4      TO ( CDX_NAME )
		CLOSE Usuarios
	END IF

	USE ( DB_NAME )        ;
		NEW                 ;
		SHARED              ;
		INDEX ( CDX_NAME )  ;
		ALIAS Usuarios

	SELECT Usuarios

	Browse()

	CLOSE ALL
	QUIT

RETURN NIL


------=_NextPart_000_001C_01C0CDA4.350DC780--



From harbour@matrixlist.com  Wed Apr 25 13:10:03 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Wed Apr 25 12:10:03 2001
Subject: [Harbour] Searching for !
Message-ID: <3AE6BC55.8655.130FB6B@localhost>

 I'm searching for a function in Harbour (since yesterday) that will 
give me all paramater list but at proclevel !

  I want to be able to DUMP inside errorsys all __VMPARLLIST() 
but at a proc level !

  They only way I found for now is to call __VMSTKGLIST() and   
manually DUMP by procedure the list !

  Is it the only way ?

  Thank you,

  Sylvain  


     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Wed Apr 25 13:21:02 2001
From: harbour@matrixlist.com (Sid Saylors)
Date: Wed Apr 25 12:21:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
References: <000701c0cd71$e949cba0$0f2aa8c0@antonio>
Message-ID: <3AE6F91A.6EA880E0@home.com>

no,no,no Antonio.....

I open the 3 mdi childs with dialogs and when all 3 are open 
i use the menu window mdicloseall and close them all, never
open more than the 3.

but you have tp do this for a while to start seeing
resource the problem but the memory shows up first.

Regards

Sid.....



Antonio Linares wrote:
> 
> Sid,
> 
> > I got your sample this morning.
> 
> Ok, I saw the one you were refering to.
> 
> In my opinion, it is behaving ok. If I open three MdiChild
> windows and three DialogBoxes with a folder on top, that uses
> 5 non modal dialog boxes, it is obvious that we are going to
> consume memory and resources. But when I close them, they get
> properly restored.
> 
> Of course, if I don't close them, and I keep opening more
> and more, you reach a point, where the system tells you there
> are no more available resources (but I guess nobody is going to work
> with such a tremendous amount of windows and dialogboxes simultaneously).
> 
> I apologize if I keep this conversation here, on the list,
> but we don't want FW users to think that FWH is not working
> properly. FWH is working simply great! (thanks to Harbour!)
> 
> Antonio
> 
> > >     i have that sample that i sent you and it IS leaking resources
> > > here, system started at 60% and is 17% now Gdi started also at 72%
> > > and is 16% now User started at 60% and is at 59% now , allocated memory
> > > started at 191.7mg and now is at 279.4.
> > >
> > > you have to open/close a lot of times to really see what's going on.
> > >  <open/close all 3 windows 19-20 times>
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

From harbour@matrixlist.com  Wed Apr 25 13:42:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Wed Apr 25 12:42:02 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <3AE6F91A.6EA880E0@home.com>
Message-ID: <000001c0cda5$fa9f0f80$0f2aa8c0@antonio>

Sid,

Lets take this thread to private email,
as it seems a FWH related (or Win32) issue.

Thanks

Antonio



From harbour@matrixlist.com  Wed Apr 25 14:00:04 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Wed Apr 25 13:00:04 2001
Subject: [Harbour] Memory is not released to Windows (Ryszard ?)
In-Reply-To: <3AE6F91A.6EA880E0@home.com>
Message-ID: <3AE6C87C.17071.1607702@localhost>

Sid,

  If you want to send me your sample to my private Email, I'll made 
some test !

  Sylvain 

> 
> no,no,no Antonio.....
> 
> I open the 3 mdi childs with dialogs and when all 3 are open 
> i use the menu window mdicloseall and close them all, never
> open more than the 3.
> 
> but you have tp do this for a while to start seeing
> resource the problem but the memory shows up first.
> 
> Regards
> 
> Sid.....
> 
> 
> 
> Antonio Linares wrote:
> > 
> > Sid,
> > 
> > > I got your sample this morning.
> > 
> > Ok, I saw the one you were refering to.
> > 
> > In my opinion, it is behaving ok. If I open three MdiChild
> > windows and three DialogBoxes with a folder on top, that uses
> > 5 non modal dialog boxes, it is obvious that we are going to
> > consume memory and resources. But when I close them, they get
> > properly restored.
> > 
> > Of course, if I don't close them, and I keep opening more
> > and more, you reach a point, where the system tells you there
> > are no more available resources (but I guess nobody is going to work
> > with such a tremendous amount of windows and dialogboxes simultaneously).
> > 
> > I apologize if I keep this conversation here, on the list,
> > but we don't want FW users to think that FWH is not working
> > properly. FWH is working simply great! (thanks to Harbour!)
> > 
> > Antonio
> > 
> > > >     i have that sample that i sent you and it IS leaking resources
> > > > here, system started at 60% and is 17% now Gdi started also at 72%
> > > > and is 16% now User started at 60% and is at 59% now , allocated memory
> > > > started at 191.7mg and now is at 279.4.
> > > >
> > > > you have to open/close a lot of times to really see what's going on.
> > > >  <open/close all 3 windows 19-20 times>
> > 
> > _______________________________________________
> > Harbour mailing list
> > Harbour@matrixlist.com
> > http://www.matrixlist.com/mailman/listinfo/harbour
> > 
> > Thank you for participating in The Harbour Project.  Be sure to check
> > http://www.Harbour-Project.org
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 
> 
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Wed Apr 25 14:04:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Wed Apr 25 13:04:02 2001
Subject: [Harbour] Searching for !
In-Reply-To: <3AE6BC55.8655.130FB6B@localhost>
Message-ID: <000101c0cda9$0e22c260$0f2aa8c0@antonio>

Sylvian,

I modified __VMVARLGET() to work at a proclevel,
so I guess I may do the same with __VMPARLLIST().

Just give me some minutes and I may write a prototype.

Antonio 

>  I'm searching for a function in Harbour (since yesterday) that will 
> give me all paramater list but at proclevel !
> 
>   I want to be able to DUMP inside errorsys all __VMPARLLIST() 
> but at a proc level !




From harbour@matrixlist.com  Wed Apr 25 14:18:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Wed Apr 25 13:18:02 2001
Subject: [Harbour] Searching for !
In-Reply-To: <000101c0cda9$0e22c260$0f2aa8c0@antonio>
References: <3AE6BC55.8655.130FB6B@localhost>
Message-ID: <3AE6CD1E.9191.172917F@localhost>

Antonio,

  Thank you, With that I'll be able to made errsysw.prg from Fivewin 
compatible with Harbour !. And I'm sure it will be usefull for the 
standard errorsys of Harbour !

  I just begin learning the structure of Harbour and let me say that I'm 
very impress about the GREAT JOB all Harbour crew made !

  I'm just at the beginning but <g> what a tremendous work you've all 
done ! ;) 

  Sylvain

> Sylvian,
> 
> I modified __VMVARLGET() to work at a proclevel,
> so I guess I may do the same with __VMPARLLIST().
> 
> Just give me some minutes and I may write a prototype.
> 
> Antonio 
> 
> >  I'm searching for a function in Harbour (since yesterday) that will 
> > give me all paramater list but at proclevel !
> > 
> >   I want to be able to DUMP inside errorsys all __VMPARLLIST() 
> > but at a proc level !
> 
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Wed Apr 25 14:21:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Wed Apr 25 13:21:02 2001
Subject: [Harbour] Searching for !
In-Reply-To: <000101c0cda9$0e22c260$0f2aa8c0@antonio>
Message-ID: <000201c0cdab$59ca3660$0f2aa8c0@antonio>

This is a multi-part message in MIME format.

------=_NextPart_000_0003_01C0CDBC.1D530660
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Sylvian,

Here it is. I send you a working sample
that shows it is working ok :-)

Replace debug.c at source\vm

I will CVS it in some minutes,

Antonio




------=_NextPart_000_0003_01C0CDBC.1D530660
Content-Type: application/x-compressed;
	name="debug.zip"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="debug.zip"

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

------=_NextPart_000_0003_01C0CDBC.1D530660--



From harbour@matrixlist.com  Wed Apr 25 14:42:02 2001
From: harbour@matrixlist.com (Ryszard Glab)
Date: Wed Apr 25 13:42:02 2001
Subject: [Harbour] Searching for !
In-Reply-To: <3AE6BC55.8655.130FB6B@localhost>
Message-ID: <3AE729A5.32418.2260F0F@localhost>

On 25 Apr 2001, at 12:00, Sylvain Robert wrote:

>  I'm searching for a function in Harbour (since yesterday) that will give
> me all paramater list but at proclevel !

   You can use PCOUNT() and __PVALUE() functions.

Regards, Ryszard


From harbour@matrixlist.com  Wed Apr 25 14:50:04 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Wed Apr 25 13:50:04 2001
Subject: [Harbour] Searching for !
In-Reply-To: <000201c0cdab$59ca3660$0f2aa8c0@antonio>
References: <000101c0cda9$0e22c260$0f2aa8c0@antonio>
Message-ID: <3AE6D372.9066.18B47ED@localhost>

Antonio,

  Thank you, let me take the time the build Harbour !. Reviewing 
your samples it's exactly what we need ! ;)

  Thank's again,

  Sylvain 

> Here it is. I send you a working sample
> that shows it is working ok :-)
> 
> Replace debug.c at source\vm
> 
> I will CVS it in some minutes,
> 
> Antonio
> 
> 
> 
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Wed Apr 25 15:00:04 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Wed Apr 25 14:00:04 2001
Subject: [Harbour] Searching for !
In-Reply-To: <3AE729A5.32418.2260F0F@localhost>
Message-ID: <000701c0cdb0$aa8428e0$0f2aa8c0@antonio>

Ryszard,

I also thought about PCount(), but I checked the docs
and it seems pcount() does not accept a proclevek, right ?

Antonio

> You can use PCOUNT() and __PVALUE() functions.



From harbour@matrixlist.com  Wed Apr 25 15:00:35 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Wed Apr 25 14:00:35 2001
Subject: [Harbour] Searching for !
In-Reply-To: <3AE729A5.32418.2260F0F@localhost>
References: <3AE6BC55.8655.130FB6B@localhost>
Message-ID: <3AE6D70B.32465.19958FE@localhost>

Ryszard,

  Those Function will work if you are INSIDE the procedure you want 
but the one I was searching for is to have it from inside ERRORSYS 
and for all the __VMSTKGLIST().


   Best Regards,

  Sylvain
>    You can use PCOUNT() and __PVALUE() functions.
> 
> Regards, Ryszard
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 
> 
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Wed Apr 25 15:01:11 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Wed Apr 25 14:01:11 2001
Subject: [Harbour] Searching for !
In-Reply-To: <000201c0cdab$59ca3660$0f2aa8c0@antonio>
References: <000101c0cda9$0e22c260$0f2aa8c0@antonio>
Message-ID: <3AE6D72E.19186.199E189@localhost>

Antonio,

  Work PERFECTLY  !

  Best Regards,

  Sylvain 

> Replace debug.c at source\vm
> 
> I will CVS it in some minutes,
> 
> Antonio
> 
> 
> 
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Wed Apr 25 15:12:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Wed Apr 25 14:12:02 2001
Subject: [Harbour] ChangeLog 2001-04-25 20:08 GMT+1
In-Reply-To: <3AE6D72E.19186.199E189@localhost>
Message-ID: <000901c0cdb2$7d19f5e0$0f2aa8c0@antonio>

2001-04-25 20:08 GMT+1 Antonio Linares <alinares@fivetech.com>
   * source/vm/debug.c
      ! __VMPARLLIST( <nProcLevel> ) enhanced to accept a nProcLevel.

As proposed by Sylvain Robert.


Antonio



From harbour@matrixlist.com  Wed Apr 25 15:14:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Wed Apr 25 14:14:02 2001
Subject: [Harbour] Searching for !
In-Reply-To: <3AE6CD1E.9191.172917F@localhost>
Message-ID: <000a01c0cdb2$bde2bd00$0f2aa8c0@antonio>

Sylvain,

Please let me know if you adapt FW errsysw.prg to Harbour.
(as I haven't done it yet)

I certainly will appreciate it to include it in FWH ;-)

Thanks!

Antonio

>   Thank you, With that I'll be able to made errsysw.prg from Fivewin 
> compatible with Harbour !. And I'm sure it will be usefull for the 
> standard errorsys of Harbour !



From harbour@matrixlist.com  Wed Apr 25 15:15:03 2001
From: harbour@matrixlist.com (Marek Paliwoda)
Date: Wed Apr 25 14:15:03 2001
Subject: [Harbour] INKEY RAW question
References: <LOBBKAFMMFGJIKLMEPAKGEIKDLAA.Ron@Profit-Master.com>
 <002c01c0cc3a$913960c0$2c13a0d4@map>
 <000201c0cc85$16340b00$500db33e@chello.pl>
 <20010424213230.A1228@uran.rcsoft.pl>
Message-ID: <001101c0cdb3$a55009e0$7eb572c3@map>

Przemyslaw Czerpak wrote on : Tuesday, April 24, 2001 9:32 PM

> There are two character sets on linux console: G0 and G1.
> Application can change the char set at any time and print one char
> from G0 and secound from G1.
> For each of char set, application choose one of four conversion table:
> a) Latin1 -> PC,  b) VT100 graphics -> PC, c) PC -> PC,  d) userdefined

Yes, and gtsln explores this technique to support national characters
assuming nation chars are in G0, drwaing chars in G1.

But there is a little problem with this aproach. Suppose a nation
char ocupies the same code as one of box characters. How can you
determine what should be drawn on the screen with this command ?

 @ Y, X SAY CHR( OneOfBoxDrawingChars)

In other words a gt driver can not determine what a programmer wanted
to be drawn - a nation char or a box char. The same apears to commands
like :

 @ Y1, X1, Y2, X2 BOX "NationCharsString"

Gt driver can not determine if a programmer wanted a box to be drawn
using national characters or strict box chars ! (I mean using G0 or G1).
So it has to assume these commands should draw box using box chars (G1),
regardless off what he will see on the screen.

> .. if some one will undersand me I hope find this text useful.

It is usefull because it clarifies what I've tried to explain in my
other posts about gt driver problems.

Regards
Marek Paliwoda






From harbour@matrixlist.com  Wed Apr 25 15:17:02 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Wed Apr 25 14:17:02 2001
Subject: [Harbour] Searching for !
In-Reply-To: <3AE6D72E.19186.199E189@localhost>
Message-ID: <NCBBJKNMIDPJNLJCHCHIEEGHGCAA.harbour@winfakt.com>

Sylvain,

>   Work PERFECTLY  !
So this means that we have the same error log as in 16bits FW?

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)

From harbour@matrixlist.com  Wed Apr 25 15:33:36 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Wed Apr 25 14:33:36 2001
Subject: [Harbour] Searching for !
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIEEGHGCAA.harbour@winfakt.com>
Message-ID: <000b01c0cdb5$840b94a0$0f2aa8c0@antonio>

patrick, Sylvain,

> So this means that we have the same error log as in 16bits FW?

ok, you catched me :-)

I am doing it right now... :-)


Antonio



From harbour@matrixlist.com  Wed Apr 25 15:40:04 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Wed Apr 25 14:40:04 2001
Subject: [Harbour] Searching for !
In-Reply-To: <000a01c0cdb2$bde2bd00$0f2aa8c0@antonio>
References: <3AE6CD1E.9191.172917F@localhost>
Message-ID: <3AE6DF02.9937.1B875B3@localhost>

Antonio,

  That's what I'm doing right now, and it will be my pleasure to send 
it to you as soon it is finished ! ;)

  The Parameter Section of ErrsysW is now finished I'm working on 
the Local variable now. Let me search a little bit to see Wich 
function I'll use for Local variable and if it dind't take too long I hope 
to finish this week !

  Best regards,

  Sylvain 

> Sylvain,
> 
> Please let me know if you adapt FW errsysw.prg to Harbour.
> (as I haven't done it yet)
> 
> I certainly will appreciate it to include it in FWH ;-)
> 
> Thanks!
> 
> Antonio
> 
> >   Thank you, With that I'll be able to made errsysw.prg from Fivewin 
> > compatible with Harbour !. And I'm sure it will be usefull for the 
> > standard errorsys of Harbour !
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 
> 
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Wed Apr 25 15:40:36 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Wed Apr 25 14:40:36 2001
Subject: [Harbour] Searching for !
In-Reply-To: <000b01c0cdb5$840b94a0$0f2aa8c0@antonio>
Message-ID: <NCBBJKNMIDPJNLJCHCHICEGIGCAA.harbour@winfakt.com>

Antonio,

> > So this means that we have the same error log as in 16bits FW?
> ok, you catched me :-)
> I am doing it right now... :-)
This is great!
I even think Harbour can provide use more info that 16 bits FW.
The name of a variable?

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)

From harbour@matrixlist.com  Wed Apr 25 15:41:13 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Wed Apr 25 14:41:13 2001
Subject: [Harbour] Searching for !
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIEEGHGCAA.harbour@winfakt.com>
References: <3AE6D72E.19186.199E189@localhost>
Message-ID: <3AE6DF91.19016.1BAA528@localhost>

Patrick,

  It won't be long ;) !. I'm learning Harbour (Core) at the same time 
so I do my best. But the final result will be the same errsysw than the 
16 bit version !

  Let me find ALL function to replace the one that are not in Harbour 
in FWH. I'll publish the errsysw at to the FW newsgroup at the 
moment I made all necessary test !

  Best Regards,

  Sylvain 



> Sylvain,
> 
> >   Work PERFECTLY  !
> So this means that we have the same error log as in 16bits FW?
> 
> Regards,
> 
> Patrick Mast
> www.Patrick.Be.kz (By Bekz.net)
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Wed Apr 25 15:45:03 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Wed Apr 25 14:45:03 2001
Subject: [Harbour] Searching for !
In-Reply-To: <3AE6DF02.9937.1B875B3@localhost>
Message-ID: <000c01c0cdb7$06e11f20$0f2aa8c0@antonio>

Sylvain,

Of course I do appreciate your effort and work, 
but my idea is to use the exact FW errsysw.prg 
for FWH, so I am building an intermediate 
compatibility layer :-)

Have you already found the way to implement LocalCount() ?

Thanks!

Antonio




From harbour@matrixlist.com  Wed Apr 25 15:46:03 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Wed Apr 25 14:46:03 2001
Subject: [Harbour] Searching for !
In-Reply-To: <NCBBJKNMIDPJNLJCHCHICEGIGCAA.harbour@winfakt.com>
Message-ID: <000d01c0cdb7$49aa9840$0f2aa8c0@antonio>

Patrick,

> The name of a variable?

Just for publics and privates, unless you compile
using /b.

Antonio



From harbour@matrixlist.com  Wed Apr 25 15:52:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Wed Apr 25 14:52:02 2001
Subject: [Harbour] LocalCount()  (Ryszard, Ron)
In-Reply-To: <000c01c0cdb7$06e11f20$0f2aa8c0@antonio>
Message-ID: <000e01c0cdb7$e881bde0$0f2aa8c0@antonio>

Ryszard, Ron,

Any idea how we could implement a 

LocalCount( <nProcLevel> ) --> nLocals

Thanks!

Antonio



From harbour@matrixlist.com  Wed Apr 25 16:20:03 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Wed Apr 25 15:20:03 2001
Subject: [Harbour] Searching for !
In-Reply-To: <000c01c0cdb7$06e11f20$0f2aa8c0@antonio>
References: <3AE6DF02.9937.1B875B3@localhost>
Message-ID: <3AE6E83B.30060.1DC7C9E@localhost>

Antonio,

> Of course I do appreciate your effort and work, 
> but my idea is to use the exact FW errsysw.prg 
> for FWH, so I am building an intermediate 
> compatibility layer :-)

 So I will stop working on it ! 

 
> Have you already found the way to implement LocalCount() ?

  No so far, I think the better way will be to work with the Stack Array 
because at Position 3 to [next function] you have all paramater and 
local related to the function !

  Sylvain 
> 
> Thanks!
> 
> Antonio
> 
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Wed Apr 25 16:32:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Wed Apr 25 15:32:02 2001
Subject: [Harbour] Searching for !
In-Reply-To: <000c01c0cdb7$06e11f20$0f2aa8c0@antonio>
References: <3AE6DF02.9937.1B875B3@localhost>
Message-ID: <3AE6ECE2.31865.1EEAC6B@localhost>

Antonio,

> Have you already found the way to implement LocalCount() ?

 Not Great science But !

  If we compare the STACK element with is PARAMATER LIST 
array the next postion until the next function name are the Local 
variable of the Function !. Because as you already know I'm sure 
following the "[function1]",(Nil/Self) you have the paramater of the 
function and the Local of the function until the next "[function2]" in 
the stack !

  

  Sylvain 


     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Wed Apr 25 16:36:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Wed Apr 25 15:36:02 2001
Subject: [Harbour] odd PreProcessor bug
Message-ID: <001a01c0cdbf$ea64b510$921a5e18@bh>

A problem in the preprocessing of REPLACE ALL:  It presumes that field
identifiers are always pure field names.  In this case, I have a 1-to-1
relation set to child area 2, and the REPLACE ALL is actually executed in
parent area 1, but the field being replaced is in child area 2:

        SELECT 1
        REPLACE ALL 2->Tag WITH CHR(16)
preprocess to....
         DBEval({|| _FIELD->2->Tag := CHR(16) },,,,,.F.)

It seems the pp should see if an alias is already in place, and if so NOT
prepend _FIELD

Brian Hays



From harbour@matrixlist.com  Wed Apr 25 16:38:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Wed Apr 25 15:38:02 2001
Subject: [Harbour] Searching for !
In-Reply-To: <3AE6ECE2.31865.1EEAC6B@localhost>
Message-ID: <001101c0cdbe$5d968600$0f2aa8c0@antonio>

Sylvain,

So, what source code for it do you propose ? 

Antonio

> > Have you already found the way to implement LocalCount() ?
> 
>  Not Great science But !
> 
>   If we compare the STACK element with is PARAMATER LIST 
> array the next postion until the next function name are the Local 
> variable of the Function !. Because as you already know I'm sure 
> following the "[function1]",(Nil/Self) you have the paramater of the 
> function and the Local of the function until the next "[function2]" in 
> the stack !
> 
>   
> 
>   Sylvain 
> 
> 
>      Sylvain Robert
>      srobert@logava.com
> 
>      Les Logiciels Avantage
>      www.logava.com
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 


From harbour@matrixlist.com  Wed Apr 25 16:50:03 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Wed Apr 25 15:50:03 2001
Subject: [Harbour] Searching for !
In-Reply-To: <001101c0cdbe$5d968600$0f2aa8c0@antonio>
Message-ID: <001201c0cdc0$1d939500$0f2aa8c0@antonio>

Patrick, Sylvain,

FW errsysw.prg Working with Harbour and FWH !!! :-)

Just a few little things missing and it is 100% there

Antonio



From harbour@matrixlist.com  Wed Apr 25 16:58:02 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Wed Apr 25 15:58:02 2001
Subject: [Harbour] Searching for !
In-Reply-To: <001201c0cdc0$1d939500$0f2aa8c0@antonio>
Message-ID: <NCBBJKNMIDPJNLJCHCHIIEGLGCAA.harbour@winfakt.com>

Antonio,
 
> FW errsysw.prg Working with Harbour and FWH !!! :-)
> Just a few little things missing and it is 100% there
Great! Thanks!

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)

From harbour@matrixlist.com  Wed Apr 25 17:10:03 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Wed Apr 25 16:10:03 2001
Subject: [Harbour] Searching for !
In-Reply-To: <001201c0cdc0$1d939500$0f2aa8c0@antonio>
References: <001101c0cdbe$5d968600$0f2aa8c0@antonio>
Message-ID: <3AE6F4AD.3291.3B1F6@localhost>

Antonio,

  Great !

  Do you still need source code for Local paramater ??

  Sylvain 

> Patrick, Sylvain,
> 
> FW errsysw.prg Working with Harbour and FWH !!! :-)
> 
> Just a few little things missing and it is 100% there
> 
> Antonio
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 
> 
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Wed Apr 25 17:31:01 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Wed Apr 25 16:31:01 2001
Subject: [Harbour] Searching for !
In-Reply-To: <3AE6F4AD.3291.3B1F6@localhost>
Message-ID: <001301c0cdc5$ceea8020$0f2aa8c0@antonio>

Sylvain,

>   Do you still need source code for Local paramater ??

Yes :-) And some more...

GetTasks() is not working properly...

GetNumTasks(), I have no idea how to implement it
(well I could do, Len( GetTasks() ), but GetTasks()
does not work properly yet) :-)

More...

Antonio



From harbour@matrixlist.com  Wed Apr 25 17:50:03 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Wed Apr 25 16:50:03 2001
Subject: [Harbour] Searching for !
In-Reply-To: <001301c0cdc5$ceea8020$0f2aa8c0@antonio>
References: <3AE6F4AD.3291.3B1F6@localhost>
Message-ID: <3AE6FDCA.16678.274DB6@localhost>

Antonio,

   You are really fast !!! ;)

  To implement my solution I'll have to made some test to know 
HOW Static Function will be represented in the stack !

   Dont forget the Getfreesystemresources()  ! ;)

  

  Sylvain 


> 
> >   Do you still need source code for Local paramater ??
> 
> Yes :-) And some more...
> 
> GetTasks() is not working properly...
> 
> GetNumTasks(), I have no idea how to implement it
> (well I could do, Len( GetTasks() ), but GetTasks()
> does not work properly yet) :-)
> 
> More...
> 
> Antonio
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 
> 
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Wed Apr 25 17:59:01 2001
From: harbour@matrixlist.com (=?iso-8859-1?Q?Horacio_Rold=E1n?=)
Date: Wed Apr 25 16:59:01 2001
Subject: [Harbour] ChangeLog 2001-04-25 17:51 GMT-3 Horacio Roldan <horacioroldan@usa.net>
References: <001b01c0cd93$7184f780$0f2aa8c0@antonio>
Message-ID: <03c601c0cdca$60418b50$f003a8c0@ksoft20000507>

2001-04-25 17:51 GMT-3 Horacio Roldan <horacioroldan@usa.net>
   *source/rdd/workarea.c
     * patched GPF using valResult.

----- Original Message ----- 
From: "Antonio Linares" <alinares@fivetech.com>
To: <harbour@matrixlist.com>
Sent: Wednesday, April 25, 2001 11:24 AM
Subject: [Harbour] DBFCDX problem


> A Harbour tester reports a problem with DBFCDX
> management. Sample is attached.
> 
> The app just GPFs.
> 
> Thanks!
> 
> Antonio
> 


From harbour@matrixlist.com  Wed Apr 25 18:02:01 2001
From: harbour@matrixlist.com (=?iso-8859-1?Q?Horacio_Rold=E1n?=)
Date: Wed Apr 25 17:02:01 2001
Subject: [Harbour] DBFCDX problem
References: <001b01c0cd93$7184f780$0f2aa8c0@antonio>
Message-ID: <03cb01c0cdca$e1b04f50$f003a8c0@ksoft20000507>

Antonio,
The prg GPF'ed when it created the dbf and cdx because of bad memory
reusing. That's fixed and now the prg runs ok in that situation.

If the dbf has records and it creates the cdx, I guess there is another bug
in the tag creation. I'll look it in the following days. (sorry can't today)

regards

----- Original Message -----
From: "Antonio Linares" <alinares@fivetech.com>
To: <harbour@matrixlist.com>
Sent: Wednesday, April 25, 2001 11:24 AM
Subject: [Harbour] DBFCDX problem


> A Harbour tester reports a problem with DBFCDX
> management. Sample is attached.
>
> The app just GPFs.
>
> Thanks!
>
> Antonio
>


From harbour@matrixlist.com  Wed Apr 25 20:20:03 2001
From: harbour@matrixlist.com (Przemyslaw Czerpak)
Date: Wed Apr 25 19:20:03 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <001101c0cdb3$a55009e0$7eb572c3@map>
References: <LOBBKAFMMFGJIKLMEPAKGEIKDLAA.Ron@Profit-Master.com> <002c01c0cc3a$913960c0$2c13a0d4@map> <000201c0cc85$16340b00$500db33e@chello.pl> <20010424213230.A1228@uran.rcsoft.pl> <001101c0cdb3$a55009e0$7eb572c3@map>
Message-ID: <20010426011902.A1039@uran.rcsoft.pl>

On Wed, 25 Apr 2001, Marek Paliwoda wrote:
> Yes, and gtsln explores this technique to support national characters
> assuming nation chars are in G0, drwaing chars in G1.
> But there is a little problem with this aproach. Suppose a nation
> char ocupies the same code as one of box characters. How can you
> determine what should be drawn on the screen with this command ?
> 
>  @ Y, X SAY CHR( OneOfBoxDrawingChars)

Marek, I understand the problem. But when a programer codes new application
has to decide what chars should be used for box drowing and what as
national characters.
If the program was designed for clipper it use only up to 256 characters
(I know that some application use 512 on VGA but they usualy redifined
fonts so there is no easy way to port them to terminal environment without
code changes) so the codes of characters for semigraphics are differ then
the ones for national signs. GT needs only one conversion table to set
the proper character set (G0/G1) and the proper code for character.
With such table if you want to port a clipper program to harbour you don't
have to change source code.
If GT would load converion table from a file when program starts (taking the
file name from environment eg. HB_DISPCHARS=/usr/lib/harbour/maz-iso2.chrs)
programer could prepare one executable for different terminals too. User
or system administrator would have to prepare simple script to run program
with a line
for linux clients:
    export HB_DISPCHARS=/usr/lib/harbour/maz-iso2.chrs
or for windows clients:
    export HB_DISPCHARS=/usr/lib/harbour/maz-cp852.chrs

In this example application use internally MAZOVIA code page but if it was
designed for cp852 we use for linux users:
    export HB_DISPCHARS=/usr/lib/harbour/cp852-iso2.chrs

That's all and no code changes. We don't have to afraid about undeterministic
(is this proper english word?) charcters used in application. Programer
has two resolve the problem.

regards,
Przemek

From harbour@matrixlist.com  Thu Apr 26 01:52:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Thu Apr 26 00:52:02 2001
Subject: [Harbour] C Comment styles
Message-ID: <000901c0ce0d$8b6c6f50$921a5e18@bh>

Is it important that all comments be /* like this */  instead of using //  ?
I've noticed some // in the code...shall I change them?

Brian Hays



From harbour@matrixlist.com  Thu Apr 26 02:40:04 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Thu Apr 26 01:40:04 2001
Subject: [Harbour] C Comment styles
In-Reply-To: <000901c0ce0d$8b6c6f50$921a5e18@bh>; from bhays@abacuslaw.com on Wed, Apr 25, 2001 at 09:58:32PM -0700
References: <000901c0ce0d$8b6c6f50$921a5e18@bh>
Message-ID: <20010426062921.U4029@hagbard.davep.org>

On Wed, Apr 25, 2001 at 09:58:32PM -0700, Brian Hays wrote:

> Is it important that all comments be /* like this */  instead of using //
> ?

Pretty much. Sticking with /**/ comments increases the chances of the code
compiling with more C compilers.

> I've noticed some // in the code...shall I change them?

It could only make things better.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Thu Apr 26 02:48:04 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Thu Apr 26 01:48:04 2001
Subject: [Harbour] Re: C Comment styles
In-Reply-To: <000901c0ce0d$8b6c6f50$921a5e18@bh>
References: <000901c0ce0d$8b6c6f50$921a5e18@bh>
Message-ID: <121455972.20010426094614@belacy.belgorod.su>

On 26.04.2001 8:58, Brian Hays <bhays@abacuslaw.com> wrote:

BH> Is it important that all comments be /* like this */  instead of using //  ?
BH> I've noticed some // in the code...shall I change them?

 Yes, it's desirable, because '//' is a C++ addition, and, probably, not
 all compilers support it.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Thu Apr 26 02:49:11 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Thu Apr 26 01:49:11 2001
Subject: [Harbour] Re: odd PreProcessor bug
In-Reply-To: <001a01c0cdbf$ea64b510$921a5e18@bh>
References: <001a01c0cdbf$ea64b510$921a5e18@bh>
Message-ID: <1031232215.20010426094230@belacy.belgorod.su>

On 25.04.2001 23:42, Brian Hays <bhays@abacuslaw.com> wrote:

BH>         SELECT 1
BH>         REPLACE ALL 2->Tag WITH CHR(16)
BH> preprocess to....
BH>          DBEval({|| _FIELD->2->Tag := CHR(16) },,,,,.F.)

 CA-Clipper do exactly the same.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Thu Apr 26 03:28:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Thu Apr 26 02:28:02 2001
Subject: [Harbour] Re: odd PreProcessor bug
References: <001a01c0cdbf$ea64b510$921a5e18@bh> <1031232215.20010426094230@belacy.belgorod.su>
Message-ID: <001b01c0ce1a$f6b4ced0$921a5e18@bh>

>
> BH>         SELECT 1
> BH>         REPLACE ALL 2->Tag WITH CHR(16)
> BH> preprocess to....
> BH>          DBEval({|| _FIELD->2->Tag := CHR(16) },,,,,.F.)
>
>  CA-Clipper do exactly the same.

Fascinating.  Sorry I didn't check first.  It does compile; I'll go back and
make sure it works.

I was hoping it was part of why the rdd and ADS were blowing up and behaving
so strangely in this routine.  Here's the conclusion:

With a relation set, if you write to a Child record's field AND the parent
goes to EOF Before the Child does a dbcommit, the system is screwed up
horribly:
1) Attempts to GoTop or GoTo records in the child fail--it's stuck at eof
2) Closing the child fails!!  AdsCloseTable returns an "Invalid record
number" error and the table is held open--but cannot be manipulated nor
re-opened.  It's as if the hTable was whacked, though traces show it to
remain the same number; we seem to make ADS itself go crazy.
3) something eventually gpfs.

You *can* move around in and write to a child area, but if there are pending
un-flushed writes and the parent moves to Eof (and thereby sends the child
to eof also), it goes berserk.
I did refine this to a small test prg, too....

Brian I-can't-wait-till-I-Get-to-work-at-a-high-level-again Hays






From harbour@matrixlist.com  Thu Apr 26 03:32:01 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Thu Apr 26 02:32:01 2001
Subject: [Harbour] C Comment styles
In-Reply-To: <000901c0ce0d$8b6c6f50$921a5e18@bh>
Message-ID: <NCBBJKNMIDPJNLJCHCHIOEGOGCAA.harbour@winfakt.com>

Brian,

> Is it important that all comments be /* like this */  instead of 
> using //  ?
> I've noticed some // in the code...shall I change them?
We agreed to only use /* and */ as comments in the code.
So you can change it.

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)

From harbour@matrixlist.com  Thu Apr 26 05:14:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Thu Apr 26 04:14:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-26 01:15 UTC-0800
Message-ID: <000b01c0ce29$cdcbcb40$921a5e18@bh>

2001-04-26 01:15 UTC-0800 Brian Hays <bhays@abacuslaw.com>

   * source/rdd/dbcmd.c
      * __dbLocate wasn't freeing mem blocks if dataset was empty
      * added ordKeyCount
      * formatted comments
      * removed HB_SYMBOL_UNUSED( bRest ); since it's used now
      * Fixed logic in __dbCopy for only having a For clause
         (it was failing to copy if first record failed test)

      Harrier - please review my change to bFor/pFor testing

   * contrib/rdd_ads/adsfunc.c
      + Added ADSGETFILTER() for retrieving what ADS thinks the
         filter is

   * contrib/rdd_ads/ads1.c
      * fixed dbOrderInfo(DBOI_KEYCOUNT) when no scope was set
         (was returning 0)

   * contrib/rdd_ads/adsmgmnt.c
      * removed unneeded headers

   * source/rtl/dummy.prg
      * removed ordKeyCount

Brian Hays



From harbour@matrixlist.com  Thu Apr 26 06:08:06 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr 26 05:08:06 2001
Subject: [Harbour] DBFCDX problem
In-Reply-To: <03cb01c0cdca$e1b04f50$f003a8c0@ksoft20000507>
Message-ID: <000201c0ce2f$84c28820$0f2aa8c0@antonio>

Horacio,

Thanks a lot!!!

Antonio



From harbour@matrixlist.com  Thu Apr 26 08:59:02 2001
From: harbour@matrixlist.com (Martin Vogel)
Date: Thu Apr 26 07:59:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-26 14:00 CET Martin Vogel <vogel@inttec.de>
Message-ID: <3AE80DA9.88F948C9@urz.uni-heidelberg.de>

2001-04-26 14:00 CET Martin Vogel <vogel@inttec.de>

  + contrib/libct/asciisum.c
    + asciisum() function

  + contrib/libct/ascpos.c
    + ascpos() and valpos() function
  
  * contrib/libct/Makefile
    + added contrib/libct/asciisum.c
    + added contrib/libct/ascpos.c

  * contrib/libct/makefile.bc
    + added contrib/libct/asciisum.c
    + added contrib/libct/ascpos.c

  * contrib/libct/makefile.vc
    + added contrib/libct/asciisum.c
    + added contrib/libct/ascpos.c
 
  * contrib/libct/ctflist.txt
    * changed status of functions mentioned above

  + contrib/libct/tests/asciisum.prg
  + contrib/libct/tests/ascpos.prg
  + contrib/libct/tests/valpos.prg
    ! small test programs for new functions 

  * contrib/libct/tests/Makefile
    + added contrib/libct/tests/asciisum.prg
    + added contrib/libct/tests/ascpos.prg
    + added contrib/libct/tests/valpos.prg

Have fun !
Martin

From harbour@matrixlist.com  Thu Apr 26 09:05:04 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr 26 08:05:04 2001
Subject: [Harbour] ChangeLog 2001-04-26 14:00 GMT+1
In-Reply-To: <3AE80DA9.88F948C9@urz.uni-heidelberg.de>
Message-ID: <001201c0ce48$626dbce0$0f2aa8c0@antonio>

2001-04-26 14:00 GMT+1 Antonio Linares <alinares@fivetech.com>
   * source/vm/debug.c
      ! __VMSTKLCOUNT( <nProcLevel> ) enhanced to accept a nProcLevel.


Antonio


From harbour@matrixlist.com  Thu Apr 26 09:23:01 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr 26 08:23:01 2001
Subject: [Harbour] debug.c
In-Reply-To: <000201c0ce2f$84c28820$0f2aa8c0@antonio>
Message-ID: <001901c0ce4a$c5e9a7a0$0f2aa8c0@antonio>

I have modified again Harbour debug.c so now 
__VMSTKLCOUNT( <nProcLevel> ) accepts a nProcLevel param :-)

Based on debug.c functions I have been able to implement in FWH:
LocalCount( <nProcLevel> ), 
ParamCount( <nProcLevel> ), 
GetParam( <nProcLevel>, <nParam> ) 
GetLocal( <nProcLevel>, <nParam> )

(honestly, I can't understand why don't we make those
functions Harbour standard ones...)

so now the FW errorsysw.prg is working in FWH !!! 

I am sending Patrick and you Sylvain a beta, so you may 
review it there. Please notice still there are some 
missing/wrong values inside error.log generated file.


Antonio



From harbour@matrixlist.com  Thu Apr 26 09:54:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Thu Apr 26 08:54:02 2001
Subject: [Harbour] debug.c
In-Reply-To: <001901c0ce4a$c5e9a7a0$0f2aa8c0@antonio>
References: <000201c0ce2f$84c28820$0f2aa8c0@antonio>
Message-ID: <3AE7DF02.296.81E0A6@localhost>

Antonio,

> Based on debug.c functions I have been able to implement in FWH:
> LocalCount( <nProcLevel> ), 
> ParamCount( <nProcLevel> ), 
> GetParam( <nProcLevel>, <nParam> ) 
> GetLocal( <nProcLevel>, <nParam> )
> 
> (honestly, I can't understand why don't we make those
> functions Harbour standard ones...)

  My opinion is that it will be REALLY usefull to have those new 
function in Harbour and it will help a lot of Harbour user to debug
their application. I hope other Harbour crew member will agree on
that !

  Sylvain 


From harbour@matrixlist.com  Thu Apr 26 11:17:02 2001
From: harbour@matrixlist.com (Mark W. Schumann)
Date: Thu Apr 26 10:17:02 2001
Subject: [Harbour] Re: C Comment styles
In-Reply-To: <121455972.20010426094614@belacy.belgorod.su>; from alex@belacy.belgorod.su on Thu, Apr 26, 2001 at 09:46:14AM +0400
References: <000901c0ce0d$8b6c6f50$921a5e18@bh> <121455972.20010426094614@belacy.belgorod.su>
Message-ID: <20010426101934.A17683@columbus.private.underflap.com>

On Thu, Apr 26, 2001 at 09:46:14AM +0400, Alexander S.Kresin wrote:
> On 26.04.2001 8:58, Brian Hays <bhays@abacuslaw.com> wrote:
> 
> BH> Is it important that all comments be /* like this */  instead of using //  ?
> BH> I've noticed some // in the code...shall I change them?
> 
>  Yes, it's desirable, because '//' is a C++ addition, and, probably, not
>  all compilers support it.

I believe that '//' is a C99 standard feature.  So C compilers that don't
accept '//' as a comment marker are not on the current standard.

OTOH, I don't think there _are_ any C99 compilers out there yet.

-- 
"I am Bob the Tomato in a 'Larry the Cucumber' world."
                                                  --me

From harbour@matrixlist.com  Thu Apr 26 11:31:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr 26 10:31:02 2001
Subject: [Harbour] Hardware memory
In-Reply-To: <3AE7DF02.296.81E0A6@localhost>
Message-ID: <000201c0ce5c$b61f6dc0$0f2aa8c0@antonio>

Does someone know how to inquire the cmos
(or windows) to get the total hardware memory ?

FW uses:

function nExtMem()

   local nMemory

   OutportByte( 112, 23 )        // cmos communication
   nMemory = InportByte( 113 )
   OutportByte( 112, 24 )
   nMemory += ( InportByte( 113 ) * 256 )

return nMemory

But obviously, that value can't go further than 65535.

Thanks!

Antonio


From harbour@matrixlist.com  Thu Apr 26 11:56:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Thu Apr 26 10:56:02 2001
Subject: [Harbour] Hardware memory
In-Reply-To: <000201c0ce5c$b61f6dc0$0f2aa8c0@antonio>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEKODLAA.Ron@Profit-Master.com>

GlobalMemoryStatus( LPMEMORYSTATUS )

> Does someone know how to inquire the cmos
> (or windows) to get the total hardware memory ?


From harbour@matrixlist.com  Thu Apr 26 12:31:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr 26 11:31:02 2001
Subject: [Harbour] Hardware memory
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEKODLAA.Ron@Profit-Master.com>
Message-ID: <000d01c0ce65$2f6c0140$0f2aa8c0@antonio>

Ron, Sylvain,

> GlobalMemoryStatus( LPMEMORYSTATUS )

What equivalent function could we use
for 16 bits apps ?

Antonio


From harbour@matrixlist.com  Thu Apr 26 12:43:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr 26 11:43:02 2001
Subject: [Harbour] One more lie from MS...
In-Reply-To: <000d01c0ce65$2f6c0140$0f2aa8c0@antonio>
Message-ID: <000e01c0ce66$cc585160$0f2aa8c0@antonio>

Hey Sid, what do you think about this MS article ;-) ?

Antonio


Is this call available?
Dear Dr. GUI,
I am converting a 16-bit application written in Visual Basic 4.0 to a 32-bit
application. The original program used a Windows API call,
GetFreeSystemResources, to get the amount of free system resources
available. I have not been able to find this API call in the 32-bit version.
Is this call available? If not, is there another call I can use to get the
same results?

Lp929

Dr. GUI replies:
[Ed. note: While normally Dr. GUI eschews consorting with people with names
that consist of nothing but consonants and numerals, he has nonetheless
agreed to answer this question.]

On the other hand, sometimes you seek and cant find. (On a clear disk, you
can seek forever.) And you wont find GetFreeSystemResources in Win32its
obsolete for 32-bit programs. The information returned by this API is no
longer relevant for 32-bit applications since Windows 95 and Windows NT
generally dont have resource limitationsif you seek resources, youll find
them. (At least according to St. Jude, patron saint of desperate
situations.) If your application is a 16-bit app and runs on Windows 95 or
Windows NT, this information is still relevant and the application can call
the API to obtain the free system resources for the 16-bit subsystem.



From harbour@matrixlist.com  Thu Apr 26 12:45:04 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Thu Apr 26 11:45:04 2001
Subject: [Harbour] Hardware memory
In-Reply-To: <000d01c0ce65$2f6c0140$0f2aa8c0@antonio>
References: <LOBBKAFMMFGJIKLMEPAKOEKODLAA.Ron@Profit-Master.com>
Message-ID: <3AE8082B.20059.122B01D@localhost>

Antonio,
> > GlobalMemoryStatus( LPMEMORYSTATUS )

 Use GlobalMemoryStatusEx() for the following reason
 
 
On computers with more than 4 GB of memory, the GlobalMemoryStatus function
can return incorrect information. Windows 2000 reports a value of 0xFFFFFFFF
to indicate an overflow. Earlier versions of Windows NT report a value that
is the real amount of memory, modulo 4 GB. If your application is at risk for
this behavior, use the GlobalMemoryStatusEx function instead.

> What equivalent function could we use
> for 16 bits apps ?

  I found no one that will give you the same result !

  Sylvain 


     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Thu Apr 26 12:46:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr 26 11:46:02 2001
Subject: [Harbour] One more lie from MS...
In-Reply-To: <000e01c0ce66$cc585160$0f2aa8c0@antonio>
Message-ID: <000f01c0ce67$46a75a60$0f2aa8c0@antonio>

Some more info I got about it...

>>
For Win9x, both. The ShellAbout dialog actually "thunks" down and
calls the old 16-bit GetFreeSystemResources function. Many of the docs
say the 16-bit view of resources (system, user, GDI) is irrelevant in
Win32, however in Win9x that's only partially the case.  For example
the total number of GDI handles in Win9x is limited regardless of the
physical memory on the system. It would appear that the demise of
GetFreeSystemResources in Win9x was premature.
>>


From harbour@matrixlist.com  Thu Apr 26 12:52:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr 26 11:52:02 2001
Subject: [Harbour] Hardware memory
In-Reply-To: <3AE8082B.20059.122B01D@localhost>
Message-ID: <001001c0ce68$18ff9ea0$0f2aa8c0@antonio>

Sylvain,

I don't find GlobalMemoryStatusEx() in the Win32 API help
neither on the bc5 header files...


Antonio



From harbour@matrixlist.com  Thu Apr 26 13:11:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr 26 12:11:02 2001
Subject: [Harbour] One more lie from MS...
In-Reply-To: <000f01c0ce67$46a75a60$0f2aa8c0@antonio>
Message-ID: <001201c0ce6b$5b8f14a0$0f2aa8c0@antonio>

I have been reading some more and it seems Win9x
allocates 2 megs for GDI only...

Antonio

> For Win9x, both. The ShellAbout dialog actually "thunks" down and
> calls the old 16-bit GetFreeSystemResources function. Many of the docs
> say the 16-bit view of resources (system, user, GDI) is irrelevant in
> Win32, however in Win9x that's only partially the case.  For example
> the total number of GDI handles in Win9x is limited regardless of the
> physical memory on the system. It would appear that the demise of
> GetFreeSystemResources in Win9x was premature.



From harbour@matrixlist.com  Thu Apr 26 13:12:01 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Thu Apr 26 12:12:01 2001
Subject: [Harbour] One more lie from MS...
References: <000f01c0ce67$46a75a60$0f2aa8c0@antonio>
Message-ID: <004301c0ce6c$8ef0a7e0$921a5e18@bh>

Antonio:
It's at least good to know Windows32 is not as vulnerable to shrinking
resources taking down the system.

But there should still be a tool for verifying whether allocated resources
*are* being released even if they were unlimited, as that is an easy memory
leak in windows programming. There used to be a function to call that would
display any unreleased resources for an app--is that still possible?

Brian

----- Original Message -----
From: "Antonio Linares" <alinares@fivetech.com>
To: <harbour@matrixlist.com>
Sent: Thursday, April 26, 2001 8:40 AM
Subject: RE: [Harbour] One more lie from MS...


> Some more info I got about it...
>
> >>
> For Win9x, both. The ShellAbout dialog actually "thunks" down and
> calls the old 16-bit GetFreeSystemResources function. Many of the docs
> say the 16-bit view of resources (system, user, GDI) is irrelevant in
> Win32, however in Win9x that's only partially the case.  For example
> the total number of GDI handles in Win9x is limited regardless of the
> physical memory on the system. It would appear that the demise of
> GetFreeSystemResources in Win9x was premature.
> >>
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@matrixlist.com  Thu Apr 26 13:18:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr 26 12:18:02 2001
Subject: [Harbour] One more lie from MS...
In-Reply-To: <004301c0ce6c$8ef0a7e0$921a5e18@bh>
Message-ID: <001301c0ce6c$6f937b20$0f2aa8c0@antonio>

Brian,

I am doing some research...

Antonio

> There used to be a function to call 
> that would display any unreleased resources for an app--
> is that still possible?



From harbour@matrixlist.com  Thu Apr 26 13:31:01 2001
From: harbour@matrixlist.com (Juan Agustin Barriga)
Date: Thu Apr 26 12:31:01 2001
Subject: [Harbour] C Comment styles
References: <000901c0ce0d$8b6c6f50$921a5e18@bh>
Message-ID: <000f01c0ce6e$19583730$c06410ac@jharrier>

my experience with: Borland (Win16/32), VC++ (Win32), gcc (Linux, HP,
SUN,AIX), and "others", tells me that the // coments ARE a C standard since
some time now. The only compiler that I know that does not accept them is
the AS/400 C compiler, but believe me, Harbour will never run there (or am I
wrong?)

Regards
Harrier
----- Original Message -----
From: "Brian Hays" <bhays@abacuslaw.com>
To: "harbour dev list" <harbour@matrixlist.com>
Sent: Thursday, April 26, 2001 12:58 AM
Subject: [Harbour] C Comment styles


> Is it important that all comments be /* like this */  instead of using //
?
> I've noticed some // in the code...shall I change them?
>
> Brian Hays
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@matrixlist.com  Thu Apr 26 13:44:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Thu Apr 26 12:44:02 2001
Subject: [Harbour] Hardware memory
In-Reply-To: <001001c0ce68$18ff9ea0$0f2aa8c0@antonio>
References: <3AE8082B.20059.122B01D@localhost>
Message-ID: <3AE815EF.9999.158780C@localhost>

Antonio,

  I apologize, <g> I found that information in the MSDN library but as 
you told there is NO reference in BC5

  But follow this link you will have it !!!
  http://support.microsoft.com/support/kb/articles/Q274/5/58.ASP?LN=EN-US&SD=gn&FR=0&qry=GlobalmemoryStatusEx&rnk=1&src=DHCS_MSPSS_gn_SRCH&SPR=MSALL


  Sylvain 
> Sylvain,
> 
> I don't find GlobalMemoryStatusEx() in the Win32 API help
> neither on the bc5 header files...
> 
> 
> Antonio
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 
> 
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Thu Apr 26 13:48:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Thu Apr 26 12:48:02 2001
Subject: [Harbour] C Comment styles
In-Reply-To: <000f01c0ce6e$19583730$c06410ac@jharrier>
Message-ID: <001401c0ce70$b28b3360$0f2aa8c0@antonio>

Juan,

> The only compiler that I know that does not accept them is
> the AS/400 C compiler, but believe me, Harbour will never run 
> there (or am I wrong?)

Why not ? :-)

Antonio



From harbour@matrixlist.com  Thu Apr 26 14:11:01 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Thu Apr 26 13:11:01 2001
Subject: [Harbour] C Comment styles
In-Reply-To: <000f01c0ce6e$19583730$c06410ac@jharrier>; from harrier@topconnect.cl on Thu, Apr 26, 2001 at 12:29:38PM -0400
References: <000901c0ce0d$8b6c6f50$921a5e18@bh> <000f01c0ce6e$19583730$c06410ac@jharrier>
Message-ID: <20010426180918.J1348@hagbard.davep.org>

On Thu, Apr 26, 2001 at 12:29:38PM -0400, Juan Agustin Barriga wrote:

> my experience with: Borland (Win16/32), VC++ (Win32), gcc (Linux, HP,
> SUN,AIX), and "others", tells me that the // coments ARE a C standard
> since some time now. The only compiler that I know that does not accept
> them is the AS/400 C compiler, 

gcc supports them as an extension but they are not legal in ANSI mode:

,----
| davep@hagbard:~/temp$ cat foo.c
| int main( void )
| {
|     // It's not a standard until C99
|     return( 0 );
| }
|
| davep@hagbard:~/temp$ gcc -c foo.c
|
| davep@hagbard:~/temp$ gcc -ansi -c foo.c
| foo.c:3: unterminated character constant
`----

>                                but believe me, Harbour will never run
> there (or am I wrong?)

Never say never. :)

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Thu Apr 26 14:42:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr 26 13:42:02 2001
Subject: [Harbour] C Comment styles
In-Reply-To: <000f01c0ce6e$19583730$c06410ac@jharrier>
References: <000901c0ce0d$8b6c6f50$921a5e18@bh>
Message-ID: <200104261737.f3QHbbw13141@smtp.parrett.net>

** Reply to message from "Juan Agustin Barriga" <harrier@topconnect.cl>
on Thu, 26 Apr 2001 12:29:38 -0400

> my experience with: Borland (Win16/32), VC++ (Win32), gcc (Linux, HP,
> SUN,AIX), and "others", tells me that the // coments ARE a C standard since
> some time now.

No, that just tells you that // comments are a common C *extension*.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr 26 15:00:03 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr 26 14:00:03 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEJNDLAA.Ron@Profit-Master.com>
References: <200104240508.f3O58GU31144@smtp.parrett.net>
Message-ID: <200104261756.f3QHuAw14813@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Tue,
24 Apr 2001 21:14:28 -0700

> I'm surprised you bring this up. The same claim can be made against *any*
> line that uses some #define value! This is just as true when using your
> proposal and its #defined constants.

But it's not as *important* as when one of those values *changes* the
return type! (Which is a moot point now that you've agreed to use an
alternate set of functions if your array approach wins out, but it was a
*very* valid point when I made it.)
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr 26 15:03:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr 26 14:03:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEJLDLAA.Ron@Profit-Master.com>
References: <200104240930_MC2-CD8D-E218@compuserve.com>
Message-ID: <200104261758.f3QHwiw15099@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Tue,
24 Apr 2001 20:46:45 -0700

> I will support an effort to create a new set of functions like: HB_InKey(),
> HB_LastKey(), HB_NextKey(), HB_Keyboard() and HB_SetKey()
> 
> Regardless of the approach selected.

*Only* if the array approach is selected.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr 26 15:17:02 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Thu Apr 26 14:17:02 2001
Subject: [Harbour] Changelog 2001-04-26 22:10 GMT+3
Message-ID: <16912854975.20010426220903@belacy.belgorod.su>

2001-04-26 22:10 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * contrib/mysql/mysql.c
     + added functions sqlHostInfo(), sqlSrvInfo()
   * source/rdd/dbfntx/dbfntx1.c
     * implemented seek for numeric and date indexes

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Thu Apr 26 16:22:02 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Thu Apr 26 15:22:02 2001
Subject: [Harbour] Cannot build Harbour
In-Reply-To: <16912854975.20010426220903@belacy.belgorod.su>
Message-ID: <NCBBJKNMIDPJNLJCHCHIOEHIGCAA.harbour@winfakt.com>

Hi,

Executing this:
,------
|make -fmakefile.bc
`--------------

I get this:
,-------------
| C:\Harbour>make -fmakefile.bc
| MAKE Version 5.2  Copyright (c) 1987, 2000 Borland
|         echo. > obj\b32\unistd.h
|Fatal: Unable to execute command: echo.
`------------------------

What can I do?

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)

From harbour@matrixlist.com  Thu Apr 26 16:37:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Thu Apr 26 15:37:02 2001
Subject: [Harbour] Cannot build Harbour
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIOEHIGCAA.harbour@winfakt.com>
References: <16912854975.20010426220903@belacy.belgorod.su>
Message-ID: <200104261933.f3QJXDw24675@smtp.parrett.net>

** Reply to message from "Patrick Mast" <harbour@winfakt.com> on Thu,
26 Apr 2001 21:21:02 +0200

> What can I do?

Does this mean that you're still having this this problem that was
reported on the Developer and Users list in February? Or is it just
happening again now? (Not that I have any answers in either case...)
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Thu Apr 26 17:00:03 2001
From: harbour@matrixlist.com (Robert Haley)
Date: Thu Apr 26 16:00:03 2001
Subject: [Harbour] Cannot build Harbour
Message-ID: <000a01c0ce8b$44061840$c17161ce@thinkpad390x>

This is a multi-part message in MIME format.

------=_NextPart_000_0007_01C0CE69.BC4377C0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi Patrick,

I've found that converting makefile.bc from LF-only line delimiters to  =
CRLF line delimiters cures this problem, in my case. =20

Using Win98 SE / BCC 5.5 (sp2) / downloading the "latest cvs" builds =
from the harbour www site / DOS "Command" window.

Hope this helps,

Regards,
Bob




> I get this:
,-------------
| C:\Harbour>make -fmakefile.bc
| MAKE Version 5.2  Copyright (c) 1987, 2000 Borland
|         echo. > obj\b32\unistd.h
|Fatal: Unable to execute command: echo.
`------------------------

> What can I do?



------=_NextPart_000_0007_01C0CE69.BC4377C0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 5.50.4522.1800" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>Hi Patrick,</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>I've found that converting makefile.bc =
from LF-only=20
line delimiters to&nbsp; CRLF line delimiters cures this problem, in my=20
case.&nbsp; </FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Using Win98 SE / BCC 5.5 (sp2) / =
downloading the=20
"latest cvs" builds from the harbour www site / DOS "Command"=20
window.</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Hope this helps,</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Regards,</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>Bob</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV>&gt; I get this:<BR>,-------------<BR>|<I> C:\Harbour&gt;make=20
-fmakefile.bc<BR></I>|<I> MAKE Version 5.2&nbsp; Copyright (c) 1987, =
2000=20
Borland<BR></I>|<I>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
echo. &gt;=20
obj\b32\unistd.h<BR></I>|<I>Fatal: Unable to execute command:=20
echo.<BR></I>`------------------------<BR><BR>&gt; What can I=20
do?<BR><BR></DIV></BODY></HTML>

------=_NextPart_000_0007_01C0CE69.BC4377C0--


From harbour@matrixlist.com  Thu Apr 26 17:14:02 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Thu Apr 26 16:14:02 2001
Subject: [Harbour] Hardware memory
References: <001001c0ce68$18ff9ea0$0f2aa8c0@antonio>
Message-ID: <003401c0ce8d$56b22540$46d4d7c8@luizguim>

Antonio

Here is an example of use GetGlobalStatusEx()

MEMORYSTATUSEX lpMemory;
lpMemory.dwLength = sizeof(MEMORYSTATUSEX);
GlobalMemoryStatusEx(lpMemory);

printf("memory in use: %d%% ,total: %d , Avail
%d.',lpMemory.dwMemoryLoad,lpMemory.dwTotalPhys,lpMemory.dwAvailPhys);

Regards

Luiz Rafael Culik

See winbase.h for the header file.



From harbour@matrixlist.com  Thu Apr 26 17:30:04 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Thu Apr 26 16:30:04 2001
Subject: [Harbour] Hardware memory
In-Reply-To: <003401c0ce8d$56b22540$46d4d7c8@luizguim>
Message-ID: <3AE84BD9.11412.26DCA5@localhost>

Luiz,

  Yeap finally I found the prototype in bc55\include\winbase.h
  I was searching in bc55\include\win32\winbase.ch ! :-(

  Thank's for the Info,

  Sylvain 

> Antonio
> 
> Here is an example of use GetGlobalStatusEx()
> 
> MEMORYSTATUSEX lpMemory;
> lpMemory.dwLength = sizeof(MEMORYSTATUSEX);
> GlobalMemoryStatusEx(lpMemory);
> 
> printf("memory in use: %d%% ,total: %d , Avail
> %d.',lpMemory.dwMemoryLoad,lpMemory.dwTotalPhys,lpMemory.dwAvailPhys);
> 
> Regards
> 
> Luiz Rafael Culik
> 
> See winbase.h for the header file.
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Thu Apr 26 20:28:33 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Thu Apr 26 19:28:33 2001
Subject: [Harbour] Some numbers are not as equal as others!!!
Message-ID: <001301c0cea9$605916a0$2400a8c0@local>

There's a *serious* problem in our number handling!
The  == operator fails to return TRUE for *some* numbers. 1191.62 can equal
itself, but 1191.63 cannot.

This may or may not be related to the now infamous "display width" property
of a numeric item.  Numbers that come from the VAL() function don't have the
same display width as raw numbers assigned to variables (the "<<>>" markers
in the test help show how many leading spaces there are).
But it does not fail for all numbers! We have consistent failure on several
machines for the values 4677.86 1191.63 1191.64 1191.65 and many others.
We are using Borland 5.5.  It would be interesting to see if it's the same
with other compilers!

Brian

function Main()

local cLine,  x
local n := 1191.63 // 1191.62 works right

cLine := alltrim(str(n))
? cLine, val(cLine), n
x := val(cline)
? ">>", x, "<<>>", n, "<<"
? "better be true:", x == n

?
return nil





From harbour@matrixlist.com  Thu Apr 26 21:19:02 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Thu Apr 26 20:19:02 2001
Subject: [Harbour] Some numbers are not as equal as others!!!
In-Reply-To: <001301c0cea9$605916a0$2400a8c0@local>; from bhays@abacuslaw.com on Thu, Apr 26, 2001 at 04:34:01PM -0700
References: <001301c0cea9$605916a0$2400a8c0@local>
Message-ID: <20010427011457.R1348@hagbard.davep.org>

On Thu, Apr 26, 2001 at 04:34:01PM -0700, Brian Hays wrote:

>                            It would be interesting to see if it's the same
> with other compilers!

davep@hagbard:~/temp$ rpm -qf `which gcc`
egcs-1.1.2-30

davep@hagbard:~/temp$ rpm -q glibc
glibc-2.1.3-22

davep@hagbard:~/temp$ uname -sr 
Linux 2.2.19-6.2.1

davep@hagbard:~/temp$ ./foo
1191.63 1191.63       1191.63
>> 1191.63 <<>>       1191.63 <<
better be true: .F.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Thu Apr 26 23:09:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Thu Apr 26 22:09:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <200104261758.f3QHwiw15099@smtp.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKCELDDLAA.Ron@Profit-Master.com>

David,

Since most did not voice any opinion, and since we can later go for the
alternate hb_ set of keyboard interface functions, feel free to implement
your proposal with current functions.

Ron

> > I will support an effort to create a new set of functions like:
> HB_InKey(),
> > HB_LastKey(), HB_NextKey(), HB_Keyboard() and HB_SetKey()
> >
> > Regardless of the approach selected.
>
> *Only* if the array approach is selected.


From harbour@matrixlist.com  Fri Apr 27 03:17:02 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Fri Apr 27 02:17:02 2001
Subject: [Harbour] Cannot build Harbour
In-Reply-To: <000a01c0ce8b$44061840$c17161ce@thinkpad390x>
Message-ID: <NCBBJKNMIDPJNLJCHCHIAEHMGCAA.harbour@winfakt.com>

Bob,

>I've found that converting makefile.bc from LF-only line delimiters to
>CRLF line delimiters cures this problem, in my case.  
>Using Win98 SE / BCC 5.5 (sp2) / downloading the "latest cvs"
>builds from the harbour www site / DOS "Command" window.
I received your files. Thanks.
But it did not help with me...

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)

From harbour@matrixlist.com  Fri Apr 27 03:17:34 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Fri Apr 27 02:17:34 2001
Subject: [Harbour] Cannot build Harbour
In-Reply-To: <200104261933.f3QJXDw24675@smtp.parrett.net>
Message-ID: <NCBBJKNMIDPJNLJCHCHIOEHLGCAA.harbour@winfakt.com>

David,

> > What can I do?
> Does this mean that you're still having this this problem that was
> reported on the Developer and Users list in February? Or is it just
> happening again now? (Not that I have any answers in either case...)
It's still the same error as in Feb...
I always waited for FiveTech to release a new Harbour build for FWH.
But now I need to rebuild Harbour.

Any Ideas?

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)

From harbour@matrixlist.com  Fri Apr 27 06:20:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 27 05:20:02 2001
Subject: [Harbour] ERROR HANDLER, ON ERROR (JF)
In-Reply-To: <200104261933.f3QJXDw24675@smtp.parrett.net>
Message-ID: <000001c0cefa$a3bd1e40$0f2aa8c0@antonio>

JF,

Sylvain has noticed that Harbour classes ERROR HANDLER
or ON ERROR feature is missing a FW Objects feature.

Traditionally FW Objects ERROR HANDLER was defined as:

   METHOD OnError( cMsg, nError ) CLASS TWhatEver

Notice that second param is nError, that means the number
of error that was going to be issued, but was trapped and
routed to the class.

This nError is very usefull, because from inside the 
method we may want to finally generate the original error.

In Harbour all we have now is (I may be wrong):

  METHOD OnError( uParam1 ) CLASS TWhatEver
      local cMsg := __GetMessage()

uParam1 is the parameter passed to the method call. In FW
we get it using GetParam() (that could be now part of Harbour too).

But you see, nError is nowhere. I do believe it is a feature
we should also have in Harbour.

I appreciate your comments,

Antonio


From harbour@matrixlist.com  Fri Apr 27 06:41:00 2001
From: harbour@matrixlist.com (harbour@matrixlist.com)
Date: Fri Apr 27 05:41:00 2001
Subject: [Harbour] ERROR HANDLER, ON ERROR (JF)
In-Reply-To: <000001c0cefa$a3bd1e40$0f2aa8c0@antonio>
References: <200104261933.f3QJXDw24675@smtp.parrett.net>
Message-ID: <3AE959FC.5085.3D0C43B@localhost>

Hi Antonio

I will have a look this WE. 

See you,

> JF,
> 
> Sylvain has noticed that Harbour classes ERROR HANDLER
> or ON ERROR feature is missing a FW Objects feature.
> 
> Traditionally FW Objects ERROR HANDLER was defined as:
> 
>    METHOD OnError( cMsg, nError ) CLASS TWhatEver
> 
> Notice that second param is nError, that means the number
> of error that was going to be issued, but was trapped and
> routed to the class.
> 
> This nError is very usefull, because from inside the 
> method we may want to finally generate the original error.
> 
> In Harbour all we have now is (I may be wrong):
> 
>   METHOD OnError( uParam1 ) CLASS TWhatEver
>       local cMsg := __GetMessage()
> 
> uParam1 is the parameter passed to the method call. In FW
> we get it using GetParam() (that could be now part of Harbour too).
> 
> But you see, nError is nowhere. I do believe it is a feature
> we should also have in Harbour.
> 
> I appreciate your comments,
> 
> Antonio
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 



Best regards,

J. Lefebvre <jflefebv@mafact.com>
Mafact SA/NV
Belgium
(See us at http://www.mafact.com)
jflefebv@mafact.com


From harbour@matrixlist.com  Fri Apr 27 07:18:01 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Fri Apr 27 06:18:01 2001
Subject: [Harbour] Some numbers are not as equal as others!!!
In-Reply-To: <001301c0cea9$605916a0$2400a8c0@local>
Message-ID: <3AE90BE4.31201.13C20D@localhost>

Brian,

  Just to confirm that I also have the problem here on ALL computer
  we also use BC5.5 !

  Sylvain 

> There's a *serious* problem in our number handling!
> The  == operator fails to return TRUE for *some* numbers. 1191.62 can equal
> itself, but 1191.63 cannot.
> 
> This may or may not be related to the now infamous "display width" property
> of a numeric item.  Numbers that come from the VAL() function don't have the
> same display width as raw numbers assigned to variables (the "<<>>" markers
> in the test help show how many leading spaces there are).
> But it does not fail for all numbers! We have consistent failure on several
> machines for the values 4677.86 1191.63 1191.64 1191.65 and many others.
> We are using Borland 5.5.  It would be interesting to see if it's the same
> with other compilers!
> 
> Brian
> 
> function Main()
> 
> local cLine,  x
> local n := 1191.63 // 1191.62 works right
> 
> cLine := alltrim(str(n))
> ? cLine, val(cLine), n
> x := val(cline)
> ? ">>", x, "<<>>", n, "<<"
> ? "better be true:", x == n
> 
> ?
> return nil
> 
> 
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 
> 
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Fri Apr 27 07:43:02 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Fri Apr 27 06:43:02 2001
Subject: [Harbour] Replaceable drivers for SQL DBMS suggestion
Message-ID: <1821559594.20010427144108@belacy.belgorod.su>

I understand that this isn't the first what we need now, but I have a
 plan to do it and I already wrote and tested simplest prototype.

 This is a system, similar to RDD, but with other set of virtual
 methods and data, which will allow to work with different SQL DBMS,
 using standard functions - we told about such thing some time ago (
 as far as I remember, Ryszard suggested it ).

 This isn't RDD for SQL DBMSs, which allow to use the usual Clipper
 commands for access to these DBMSs.
 There will be absolutely other set of commands and functions,
 specific for SQL.

 Then we could build standard class, based on these drivers, for access
 to SQL DBMS.
 Of course, it should be in contrib/ directory.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Fri Apr 27 07:55:04 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Fri Apr 27 06:55:04 2001
Subject: [Harbour] Re: Some numbers are not as equal as others!!!
In-Reply-To: <001301c0cea9$605916a0$2400a8c0@local>
References: <001301c0cea9$605916a0$2400a8c0@local>
Message-ID: <16322278129.20010427145306@belacy.belgorod.su>

On 27.04.2001 3:34, Brian Hays <bhays@abacuslaw.com> wrote:

BH> There's a *serious* problem in our number handling!
BH> The  == operator fails to return TRUE for *some* numbers. 1191.62 can equal
BH> itself, but 1191.63 cannot.
BH> ...
BH> We are using Borland 5.5.  It would be interesting to see if it's the same
BH> with other compilers!

 The same with Linux gcc. I'll try to debug it.


Best regards,
 Alexander



From harbour@matrixlist.com  Fri Apr 27 08:18:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Fri Apr 27 07:18:02 2001
Subject: [Harbour] Replaceable drivers for SQL DBMS suggestion
In-Reply-To: <1821559594.20010427144108@belacy.belgorod.su>
Message-ID: <3AE91A25.18499.4B7072@localhost>

Alexander,

  The more we have that don't change Compiler behaviour, the 
more powerfull we are ! ;-)

  Harbour Power

  Sylvain 

> I understand that this isn't the first what we need now, but I have a
>  plan to do it and I already wrote and tested simplest prototype.
> 
>  This is a system, similar to RDD, but with other set of virtual
>  methods and data, which will allow to work with different SQL DBMS,
>  using standard functions - we told about such thing some time ago (
>  as far as I remember, Ryszard suggested it ).
> 
>  This isn't RDD for SQL DBMSs, which allow to use the usual Clipper
>  commands for access to these DBMSs.
>  There will be absolutely other set of commands and functions,
>  specific for SQL.
> 
>  Then we could build standard class, based on these drivers, for access
>  to SQL DBMS.
>  Of course, it should be in contrib/ directory.
> 
> 
> Best regards,
>  Alexander
> http://members.xoom.com/alkresin/
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 
> 



From harbour@matrixlist.com  Fri Apr 27 11:20:01 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 27 10:20:01 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <3AE91A25.18499.4B7072@localhost>
Message-ID: <000301c0cf24$ff7f9ee0$0f2aa8c0@antonio>

I am trying to thunk from 32 bits to 16 bits
just to call GetFreeSystemResources() 16 bits.

This is what Resource Meter app does... 

Sylvain provided me this code from Internet,
but it GPFs... :-( 

I have traced it, modified it, etc.... now way... :-(

Any suggestion is really welcome,

Antonio

#define ENEWHDR     0x003CL         /* offset of new EXE header */
#define EMAGIC      0x5A4D          /* old EXE magic id:  'MZ'  */
#define PEMAGIC     0x4550          /* NT portable executable */

#define GET_DIR(x)  (hdr->OptionalHeader.DataDirectory[x].VirtualAddress)

static DWORD WINAPI GetK32ProcAddress(int ord)
{
    static HANDLE hmod = 0;
    IMAGE_NT_HEADERS *hdr;
    IMAGE_EXPORT_DIRECTORY *exp;
    DWORD *AddrFunc;
    WORD enewhdr, *pw;
    int did_load = 0, i;
    BYTE *moddb;

    if (hmod == 0)      // one-time static init
        hmod = GetModuleHandle("KERNEL32");
    if (hmod == 0)      // still
        return 0;

    moddb = (BYTE *) hmod;
    pw = (WORD *) &moddb[0];
    if (*pw != EMAGIC)
        return 0;
    pw = (WORD *) &moddb[ENEWHDR];
    enewhdr = *pw;
    pw = (WORD *) &moddb[enewhdr];
    if (*pw != PEMAGIC)
        return 0;
    hdr = (IMAGE_NT_HEADERS *) pw;

    // Note: offset from moddb, *NOT* from hdr!
    exp = (IMAGE_EXPORT_DIRECTORY *) (((DWORD) moddb) +
        ((DWORD) GET_DIR(IMAGE_DIRECTORY_ENTRY_EXPORT)));
    AddrFunc = (DWORD *) (moddb + (DWORD) exp->AddressOfFunctions);

    // should verify that e.g.:
    // GetProcAddress(hmod, "VirtualAlloc") == GetK32ProcAddress(710);

    ord--;  // table is 0-based, ordinals are 1-based
    if (ord < exp->NumberOfFunctions)
        return ((DWORD) (moddb + AddrFunc[ord]));
    else
        return 0;
}

#define LOADLIBRARY16_ORD           35
#define FREELIBRARY16_ORD           36
#define GETPROCADDRESS16_ORD        37

WORD GetFreeSystemResources( WORD type )
{
 //Decarations  "c" style
 typedef HINSTANCE (WINAPI* LOADLIB16)(char*);
 typedef LONG (WINAPI* GETPROC16)(HINSTANCE, LPCSTR);
 typedef BOOL (WINAPI* FREELIB16)(HINSTANCE);
 FARPROC QT_Thunk;

 LOADLIB16 pLoadLib16;
 GETPROC16 pGetProc16;
 FREELIB16 pFreeLib16;
 HINSTANCE hInst;
 DWORD pGetRes;
 WORD user_fsr;
 WORD _type;
 HMODULE hKernel;

 //Usuall Windows API calls
 hKernel = GetModuleHandle("KERNEL32");
 QT_Thunk = GetProcAddress(hKernel, "QT_Thunk");

 //Andrew Schulman's
 pLoadLib16 = (LOADLIB16) GetK32ProcAddress(LOADLIBRARY16_ORD);
 pGetProc16 = (GETPROC16) GetK32ProcAddress(GETPROCADDRESS16_ORD);
 pFreeLib16 = (FREELIB16) GetK32ProcAddress(FREELIBRARY16_ORD);

 //Usuall for "c"-style calls - by pointer to function
 hInst = (*pLoadLib16)("user");
 pGetRes = (*pGetProc16)(hInst,"GetFreeSystemResources");

 //How to call 16-bit dll API from 32-bit .exe using QT_Thunk function
 _type = type;

 if (pGetRes)
 _asm
 {
     push    _type
     mov     edx, [pGetRes]
     call    QT_Thunk
     mov     [user_fsr], ax
 }

 (*pFreeLib16)(hInst);

 return user_fsr;
}



From harbour@matrixlist.com  Fri Apr 27 11:58:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Fri Apr 27 10:58:02 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <000301c0cf24$ff7f9ee0$0f2aa8c0@antonio>
References: <3AE91A25.18499.4B7072@localhost>
Message-ID: <3AE94F45.4351.11AFEEB@localhost>

Antonio,

  There is 2 messages about the source that you must read !!!

  Follow this link !

 http://codeguru.earthweb.com/system/sysres.shtml

  Sylvain 


     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Fri Apr 27 12:04:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Fri Apr 27 11:04:02 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <000301c0cf24$ff7f9ee0$0f2aa8c0@antonio>
References: <3AE91A25.18499.4B7072@localhost>
Message-ID: <3AE9511A.15173.1222707@localhost>

Antonio,

  Another usefull site Explaning in details how it works with source 
code Example !. Be aware that Qt_Thunk isn't exist in Windows NT 
and I think it's the same for Windows 2000. Anyway on those 
system GetFreeSystemRessources() always return 90% ;-)

  http://www.ddj.com/articles/1996/9614/9614c/9614c.htm


  Sylvain 


     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Fri Apr 27 12:04:34 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 27 11:04:34 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <3AE94F45.4351.11AFEEB@localhost>
Message-ID: <000501c0cf2b$35862120$0f2aa8c0@antonio>

Sylvain,

I can't access that page. Don't know why.

Please email it to me to my private email,

Thanks!

Antonio

>   Follow this link !
> 
>  http://codeguru.earthweb.com/system/sysres.shtml
> 
>   Sylvain 
> 
> 
>      Sylvain Robert
>      srobert@logava.com
> 
>      Les Logiciels Avantage
>      www.logava.com
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 


From harbour@matrixlist.com  Fri Apr 27 12:27:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 27 11:27:02 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <3AE9511A.15173.1222707@localhost>
Message-ID: <000701c0cf2e$6403f4c0$0f2aa8c0@antonio>

Sylvain,

I have not tested it yet, but I guess that code
only works for Windows 95, as Windows 98 kernel32.dll
seems to be different.

Antonio

> -----Mensaje original-----
> De: harbour-admin@matrixlist.com [mailto:harbour-admin@matrixlist.com]En
> nombre de Sylvain Robert 
> Enviado el: viernes, 27 de abril de 2001 17:00
> Para: harbour@matrixlist.com
> Asunto: Re: [Harbour] Thunking from 32 to 16 bits...
> 
> 
> Antonio,
> 
>   Another usefull site Explaning in details how it works with source 
> code Example !. Be aware that Qt_Thunk isn't exist in Windows NT 
> and I think it's the same for Windows 2000. Anyway on those 
> system GetFreeSystemRessources() always return 90% ;-)
> 
>   http://www.ddj.com/articles/1996/9614/9614c/9614c.htm
> 
> 
>   Sylvain 
> 
> 
>      Sylvain Robert
>      srobert@logava.com
> 
>      Les Logiciels Avantage
>      www.logava.com
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 


From harbour@matrixlist.com  Fri Apr 27 12:28:01 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Fri Apr 27 11:28:01 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <000501c0cf2b$35862120$0f2aa8c0@antonio>
References: <3AE94F45.4351.11AFEEB@localhost>
Message-ID: <3AE95586.13461.5E128@localhost>

Antonio,

  Can you access the second one 

  http://www.ddj.com/articles/1996/9614/9614c/9614c.htm

  If so no need for the first one ! ;)

  But if you think you really need it ask again !

  Sylvain 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Fri Apr 27 13:02:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Fri Apr 27 12:02:02 2001
Subject: [Harbour] Re: Some numbers are not as equal as others!!!
References: <001301c0cea9$605916a0$2400a8c0@local> <16322278129.20010427145306@belacy.belgorod.su>
Message-ID: <002101c0cf34$52d82580$921a5e18@bh>

Thanks, Alexander.
And I think the SQL class is a great idea!

Brian


----- Original Message -----
From: "Alexander S.Kresin" <alex@belacy.belgorod.su>
To: <harbour@matrixlist.com>
Sent: Friday, April 27, 2001 3:53 AM
Subject: [Harbour] Re: Some numbers are not as equal as others!!!


> On 27.04.2001 3:34, Brian Hays <bhays@abacuslaw.com> wrote:
>
> BH> There's a *serious* problem in our number handling!
> BH> The  == operator fails to return TRUE for *some* numbers. 1191.62 can
equal
> BH> itself, but 1191.63 cannot.
> BH> ...
> BH> We are using Borland 5.5.  It would be interesting to see if it's the
same
> BH> with other compilers!
>
>  The same with Linux gcc. I'll try to debug it.
>
>
> Best regards,
>  Alexander
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@matrixlist.com  Fri Apr 27 13:17:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 27 12:17:01 2001
Subject: [Harbour] Some numbers are not as equal as others!!!
In-Reply-To: <001301c0cea9$605916a0$2400a8c0@local>
Message-ID: <200104271612.f3RGCdw11694@smtp.parrett.net>

** Reply to message from "Brian Hays" <bhays@abacuslaw.com> on Thu, 26
Apr 2001 16:34:01 -0700

if you add SET DECIMALS TO 15 and SET FIXED ON, you will see that the
source of the problem is due to inexact floating point representation.

Here's what I get with RSXNT with Harbour:

> 1191.630000000000109 1191.629999999999882       1191.630000000000109
> >> 1191.629999999999882 <<>>       1191.630000000000109 <<
> better be true: .F.

Which means that the problem with Harbour is that the VAL() function
and the compiler aren't using the same method to convert strings to
double values.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 27 13:23:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 27 12:23:02 2001
Subject: [Harbour] INKEY RAW question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCELDDLAA.Ron@Profit-Master.com>
References: <200104261758.f3QHwiw15099@smtp.parrett.net>
Message-ID: <200104271618.f3RGItw12265@smtp.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Thu,
26 Apr 2001 19:12:44 -0700

> Since most did not voice any opinion, and since we can later go for the
> alternate hb_ set of keyboard interface functions, feel free to implement
> your proposal with current functions.

OK.

And I expect that you'll be able to use the INKEY_EXTENDED key codes
and the extended to normal key code mapper in your HB_INKEY()
implementation.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 27 13:28:01 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Fri Apr 27 12:28:01 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <000701c0cf2e$6403f4c0$0f2aa8c0@antonio>
References: <3AE9511A.15173.1222707@localhost>
Message-ID: <3AE964C5.28795.4170FB@localhost>

Antonio,
> I have not tested it yet, but I guess that code
> only works for Windows 95, as Windows 98 kernel32.dll
> seems to be different.

  A GetprocAddress() on Qt_Thunk will answer the Question !

  Anyhow both solution that I sent you used that function !

  Sylvain 



     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Fri Apr 27 13:30:03 2001
From: harbour@matrixlist.com (Alejandro de Garate)
Date: Fri Apr 27 12:30:03 2001
Subject: [Harbour] inkey
Message-ID: <F8R7BED0kpB9pbKWZfE0000bf68@hotmail.com>

Hi guys
I can't follow closely the inkey raw thread, but I want to make
some contribution.
Last year I began to make some keyboard test with a simple idea in mind.
Like I said in that moment I believe that using the scancode and the
modifier was the right choice.

The main problem was to use something easy to use and change.
Mainly for testing purpose so I made a multidimensional array (see
below). It uses the scancode as an entry index and the modifier as
the dimension selector.
The idea was to substitute the hardcoded keys in the switch statement
for a table/array.
This table get his default values from inkey.ch and later if the
programmer wants, he could change the return value at runtime.

The INKEY() function is not changed at all. The hb_gtReadKey() function
of the used platform makes the call to key_translate().
Exist 2 levels of access:
a) If INKEY_XXX (where XXX is wathever name you want) macro is set,
the table could be scanned for the appropiate inkey() value, otherwise
the current code is executed.
Until this point no major modification needs to be done to the code.
Other SET() could be used for this work too.

b) If the macro INKEY_XXX lets access to the table, it checks if the
bit flag for the modifier, can enable the translation (1=enable,0=disable).
By default I use the modifier flag set to zero (no translate) or 31
enable translation for all the five bit flags: NORMAL, SHIFT/CAPS,
LEFT ALT, CTRL, ALTGR or CTRL+ALT

The main advantage is: the programmer can set/get the returned value at
runtime and enable /disable the translation for a scancode and his modifier.

Some convention for the modifier bits position must be adopted.

/* prototypes */
int find_translate( int iScancode, int *bTranslate);
int set_translate( int iScancode, int iCharcode, int iModifier, int 
bTranslate);
int get_translate( int iScancode, int iModifier, int *bTranslate);
int key_translate( int iScancode, int iModifier);


/* WARNING!!!  WORK IN PROGRESS.. */

#define K_NT        0      /* No Translate         */
#define K_TR       31      /* bit 0-4 all set to 1 (default) */
                           /* K_F is for Flag */
#define K_FNORMAL   0      /*        bit0     */
#define K_FSHIFT    1      /*        bit1     */
#define K_FCAPS     1      /*        bit1     */
#define K_FCTRL     2      /*        bit2     */
#define K_FALT      3      /*        bit3     */
#define K_FALTGR    4      /*        bit4     */
#define K_FALT_CTRL 4      /*  all set = 31   */
#define K_FMODIF    5


int VTKey1[][6] = {
/*
NORMAL  SHIFT/CAP    CTRL             ALT             ALTGR       modifier 
bits */
    0   ,    0    ,    0           ,     0         ,     0         , K_NT, 
/*   0 00h  buff full   SC_ERROR        */
K_ESC   , K_ESC   , K_ESC          , K_ALT_ESC     , K_ALT_ESC     , K_TR, 
/*   1 01h  Esc         SC_ESC          */
   49   ,    33   ,    33          , K_ALT_1       , K_ALT_1       , K_TR, 
/*   2 02h  1 !         SC_EXCLAMATION  */
   50   ,    64   ,    64          , K_ALT_2       , K_ALT_2       , K_TR, 
/*   3 03h  2 @         SC_ARROBA       */
   51   ,    35   ,    35          , K_ALT_3       , K_ALT_3       , K_TR, 
/*   4 04h  3 #         SC_NUMERAL      */
   52   ,    36   ,    36          , K_ALT_4       , K_ALT_4       , K_TR, 
/*   5 05h  4 $         SC_MONEY        */
   53   ,    37   ,    37          , K_ALT_5       , K_ALT_5       , K_TR, 
/*   6 06h  5 %         SC_PERCENT      */
   54   ,    94   ,    94          , K_ALT_6       , K_ALT_6       , K_TR, 
/*   7 07h  6 ^         SC_CIRFLEX_AC   */
   55   ,    38   ,    38          , K_ALT_7       , K_ALT_7       , K_TR, 
/*   8 08h  7 &         SC_ATPERSAND    */
   56   ,    42   ,    42          , K_ALT_8       , K_ALT_8       , K_TR, 
/*   9 09h  8 *         SC_ASTERISK     */

   57   ,    40   ,    40          , K_ALT_9       , K_ALT_9       , K_TR, 
/*  10 0Ah  9 (         SC_LSQUARE_BRK  */
   48   ,    41   ,    41          , K_ALT_0       , K_ALT_0       , K_TR, 
/*  11 0Bh  0 )         SC_LPARENTH     */
   45   ,    95   ,    95          ,    45         ,    45         , K_TR, 
/*  12 0Ch  - _         SC_RPARENTH     */
   61   ,    43   ,    43          , K_ALT_EQUALS  , K_ALT_EQUALS  , K_TR, 
/*  13 0Dh  = +         SC_EQUAL        */
K_BS    , K_BS    , K_CTRL_BS      , K_ALT_BS      , K_ALT_BS      , K_TR, 
/*  14 0Eh  Backspace   SC_BACKSPACE    */
K_TAB   , K_SH_TAB, K_CTRL_TAB     , K_ALT_TAB     , K_ALT_TAB     , K_TR, 
/*  15 0Fh  Tab         SC_TAB          */
K_Q + 32, K_Q     , K_CTRL_Q       , K_ALT_Q       , K_ALT_Q       , K_TR, 
/*  16 10h  Q           SC_Q            */
K_W + 32, K_W     , K_CTRL_W       , K_ALT_W       , K_ALT_W       , K_TR, 
/*  17 11h  W           SC_W            */
K_E + 32, K_E     , K_CTRL_E       , K_ALT_E       , K_ALT_E       , K_TR, 
/*  18 12h  E           SC_E            */
K_R + 32, K_R     , K_CTRL_R       , K_ALT_R       , K_ALT_R       , K_TR, 
/*  19 13h  R           SC_R            */

K_T + 32, K_T     , K_CTRL_T       , K_ALT_T       , K_ALT_T       , K_TR, 
/*  20 14h  T           SC_T            */
K_Y + 32, K_Y     , K_CTRL_Y       , K_ALT_Y       , K_ALT_Y       , K_TR, 
/*  21 15h  Y           SC_Y            */
K_U + 32, K_U     , K_CTRL_U       , K_ALT_U       , K_ALT_U       , K_TR, 
/*  22 16h  U           SC_U            */
K_I + 32, K_I     , K_CTRL_I       , K_ALT_I       , K_ALT_I       , K_TR, 
/*  23 17h  I           SC_I            */
K_O + 32, K_O     , K_CTRL_O       , K_ALT_O       , K_ALT_O       , K_TR, 
/*  24 18h  O           SC_O            */
K_P + 32, K_P     , K_CTRL_P       , K_ALT_P       , K_ALT_P       , K_TR, 
/*  25 19h  P           SC_P            */
  91    ,   91    ,   91           ,   91          ,   91          , K_TR, 
/*  26 1Ah  [ {         SC_LSQUARE_BRK  */
  93    ,   42    ,   93           ,   93          ,   93          , K_TR, 
/*  27 1Bh  ] }         SC_RSQUARE_BRK  */
K_RETURN, K_RETURN, K_CTRL_RETURN  , KP_ALT_ENTER  , KP_ALT_ENTER  , K_TR, 
/*  28 1Ch  Pad Enter   SC_PAD_RETURN   */
  29    ,   29    ,   29           ,   29          ,   29          , K_NT, 
/*  29 1Dh  Ctrl ***    SC_CTRL         */

K_A + 32, K_A     , K_CTRL_A       , K_ALT_A       , K_ALT_A       , K_TR, 
/*  30 1Eh  A           SC_A            */
K_S + 32, K_S     , K_CTRL_S       , K_ALT_S       , K_ALT_S       , K_TR, 
/*  31 1Fh  S           SC_S            */
K_D + 32, K_D     , K_CTRL_D       , K_ALT_D       , K_ALT_D       , K_TR, 
/*  32 20h  D           SC_D            */
K_F + 32, K_F     , K_CTRL_F       , K_ALT_F       , K_ALT_F       , K_TR, 
/*  33 21h  F           SC_F            */
K_G + 32, K_G     , K_CTRL_G       , K_ALT_G       , K_ALT_G       , K_TR, 
/*  34 22h  G           SC_G            */
K_H + 32, K_H     , K_CTRL_H       , K_ALT_H       , K_ALT_H       , K_TR, 
/*  35 23h  H           SC_H            */
K_J + 32, K_J     , K_CTRL_J       , K_ALT_J       , K_ALT_J       , K_TR, 
/*  36 24h  J           SC_J            */
K_K + 32, K_K     , K_CTRL_K       , K_ALT_K       , K_ALT_K       , K_TR, 
/*  37 25h  K           SC_K            */
K_L + 32, K_L     , K_CTRL_L       , K_ALT_L       , K_ALT_L       , K_TR, 
/*  38 26h  L           SC_L            */
  59    ,   58    ,   58           ,   59          ,   59          , K_TR, 
/*  39 27h  ; :         SC_POINT_COMMA  */
  39    ,   34    ,   34           ,   39          ,   39          , K_TR, 
/*  40 28h  ' "         SC_ACUTE_AC     */

  96    ,  126    ,  126           ,   96          ,   96          , K_TR, 
/*  41 29h  ` ~         SC_GRAVE_AC     */
  42    ,   42    ,   42           ,   42          ,   42          , K_NT, 
/*  42 2Ah  LShift***   SC_LSHIFT       */
  92    ,  124    ,  124           ,   92          ,   92          , K_TR, 
/*  43 2Bh  \ |         SC_FWD_SLASH    */
K_Z + 32, K_Z     , K_CTRL_Z       , K_ALT_Z       , K_ALT_Z       , K_TR, 
/*  44 2Ch  Z           SC_Z            */
K_X + 32, K_X     , K_CTRL_X       , K_ALT_X       , K_ALT_X       , K_TR, 
/*  45 2Dh  X           SC_X            */
K_C + 32, K_C     , K_CTRL_C       , K_ALT_C       , K_ALT_C       , K_TR, 
/*  46 2Eh  C           SC_C            */
K_V + 32, K_V     , K_CTRL_V       , K_ALT_V       , K_ALT_V       , K_TR, 
/*  47 2Fh  V           SC_V            */
K_B + 32, K_B     , K_CTRL_B       , K_ALT_B       , K_ALT_B       , K_TR, 
/*  48 30h  B           SC_B            */
K_N + 32, K_N     , K_CTRL_N       , K_ALT_N       , K_ALT_N       , K_TR, 
/*  49 31h  N           SC_N            */

K_M + 32, K_M     , K_CTRL_M       , K_ALT_M       , K_ALT_M       , K_TR, 
/*  50 32h  M           SC_M            */
  44    ,   44    ,   44           ,   44          ,   44          , K_TR, 
/*  51 33h  , <         SC_COMMA        */
  46    ,   46    ,   46           ,   46          ,   46          , K_TR, 
/*  52 34h  . >         SC_POINT        */
  47    ,   47    , K_CTRL_QUESTION,   47          ,   47          , K_TR, 
/*  53 35h  / ?         SC_BCK_SLASH    */
  54    ,   54    ,   54           ,   54          ,   54          , K_NT, 
/*  54 36h  RShift      SC_RSHIFT       */
  55    ,   55    ,KP_CTRL_ASTERISK,KP_ALT_ASTERISK,KP_ALT_ASTERISK, K_NT, 
/*  55 37h  Grey*  ***  SC_PAD_ASTERISK */
  56    ,   56    ,   56           ,   56          ,   56          , K_NT, 
/*  56 38h  Alt   ***   SC_ALT          */
K_SPACE , K_SPACE , K_SPACE        , K_SPACE       , K_SPACE       , K_TR, 
/*  57 39h  SpaceBar    SC_SPACE        */
  58    ,   58    ,   58           ,   58          ,   58          , K_NT, 
/*  58 3Ah  CapsLock*** SC_CAPS         */
K_F1    , K_SH_F1 , K_CTRL_F1      , K_ALT_F1      , K_ALT_F1      , K_TR, 
/*  59 3Bh  F1          SC_F1           */

K_F2    , K_SH_F2 , K_CTRL_F2      , K_ALT_F2      , K_ALT_F2      , K_TR, 
/*  60 3Ch  F2          SC_F2           */
K_F3    , K_SH_F3 , K_CTRL_F3      , K_ALT_F3      , K_ALT_F3      , K_TR, 
/*  61 3Dh  F3          SC_F3           */
K_F4    , K_SH_F4 , K_CTRL_F4      , K_ALT_F4      , K_ALT_F4      , K_TR, 
/*  62 3Eh  F4          SC_F4           */
K_F5    , K_SH_F5 , K_CTRL_F5      , K_ALT_F5      , K_ALT_F5      , K_TR, 
/*  63 3Fh  F5          SC_F5           */
K_F6    , K_SH_F6 , K_CTRL_F6      , K_ALT_F6      , K_ALT_F6      , K_TR, 
/*  64 40h  F6          SC_F6           */
K_F7    , K_SH_F7 , K_CTRL_F7      , K_ALT_F7      , K_ALT_F7      , K_TR, 
/*  65 41h  F7          SC_F7           */
K_F8    , K_SH_F8 , K_CTRL_F8      , K_ALT_F8      , K_ALT_F8      , K_TR, 
/*  66 42h  F8          SC_F8           */
K_F9    , K_SH_F9 , K_CTRL_F9      , K_ALT_F9      , K_ALT_F9      , K_TR, 
/*  67 43h  F9          SC_F9           */
K_F10   , K_SH_F10, K_CTRL_F10     , K_ALT_F10     , K_ALT_F10     , K_TR, 
/*  68 44h  F10         SC_F10          */
  69    ,   69    ,   69           ,   69          ,   69          , K_NT, 
/*  69 45h  NumLock***  SC_NUMLOCK      */

  70    ,   70    ,   70           ,   70          ,   70          , K_NT, 
/*  70 46h  Scroll***   SC_SCROLL       */
K_HOME  , K_HOME  , K_CTRL_HOME    , K_ALT_HOME    , K_ALT_HOME    , K_TR, 
/*  71 47h  Home        SC_HOME         */
K_UP    , K_UP    , K_CTRL_UP      , K_ALT_UP      , K_ALT_UP      , K_TR, 
/*  72 48h  UpArrow     SC_UP           */
K_PGUP  , K_PGUP  , K_CTRL_PGUP    , K_ALT_PGUP    , K_ALT_PGUP    , K_TR, 
/*  73 49h  PgUp        SC_PGUP         */
  74    ,   74    , KP_CTRL_MINUS  , KP_ALT_MINUS  , KP_ALT_MINUS  , K_TR, 
/*  74 4Ah  Grey-       SC_PAD_MINUS    */
K_LEFT  , K_LEFT  , K_CTRL_LEFT    , K_ALT_LEFT    , K_ALT_LEFT    , K_TR, 
/*  75 4Bh  LeftArrow   SC_LEFT         */
  76    ,   76    , KP_CTRL_5      , KP_ALT_5      , KP_ALT_5      , K_TR, 
/*  76 4Ch  Keypad 5    SC_PAD_5        */
K_RIGHT , K_RIGHT , K_CTRL_RIGHT   , K_ALT_RIGHT   , K_ALT_RIGHT   , K_TR, 
/*  77 4Dh  RightArrow  SC_RIGHT        */
  78    ,   78    , KP_CTRL_PLUS   , KP_ALT_PLUS   , KP_ALT_PLUS   , K_TR, 
/*  78 4Eh  Grey+       SC_PAD_PLUS     */
K_END   , K_END   , K_CTRL_END     , K_ALT_END     , K_ALT_END     , K_TR, 
/*  79 4Fh  End         SC_END          */

K_DOWN  , K_DOWN  , K_CTRL_DOWN    , K_ALT_DOWN    , K_ALT_DOWN    , K_TR, 
/*  80 50h  DownArrow   SC_DOWN        */
K_PGDN  , K_PGDN  , K_CTRL_PGDN    , K_ALT_PGDN    , K_ALT_PGDN    , K_TR, 
/*  81 51h  PgDn        SC_PGDN        */
K_INS   , K_INS   , K_CTRL_INS     , K_ALT_INS     , K_ALT_INS     , K_TR, 
/*  82 52h  Ins         SC_INS         */
K_DEL   , K_DEL   , K_CTRL_DEL     , K_ALT_DEL     , K_ALT_DEL     , K_TR, 
/*  83 53h  Del         SC_DEL         */
  84    ,   84    ,   84           ,   84          ,   84          , K_NT, 
/*  84 54h  SsRq/PrtScr SC_SYSREQ      */
  85    ,   85    ,   85           ,   85          ,   85          , K_NT, 
/*  85 55h  Note1 F11   SC_F11_EXT     */
  86    ,   86    ,   86           ,   86          ,   86          , K_TR, 
/*  86 56h  L \| 102-key SC_FWD_SLASH  */
K_F11   , K_SH_F11, K_CTRL_F11     , K_ALT_F11     , K_ALT_F11     , K_TR, 
/*  87 57h  F11         SC_F11         */
K_F12   , K_SH_F12, K_CTRL_F12     , K_ALT_F12     , K_ALT_F12     , K_TR, 
/*  88 58h  F12         SC_F12         */
  89    ,    89   ,    89          ,   89          ,   89          , K_NT, 
/*  89 59h  Not1 F15    SC_F15         */

  90    ,    90   ,    90          ,   90          ,   90          , K_NT, 
/*  90 5Ah  PA1         SC_NO090       */
  91    ,    91   ,    91          ,   91          ,   91          , K_NT, 
/*  91 5Bh  F13 (LWin)  SC_F13         */
  92    ,    92   ,    92          ,   92          ,   92          , K_NT, 
/*  92 5Ch  F14 (RWin)  SC_F14         */
  93    ,    93   ,    93          ,   93          ,   93          , K_NT, 
/*  93 5Dh  F15 (Menu)  SC_F15         */
  94    ,    94   ,    94          ,   94          ,   94          , K_NT, 
/*  94                  SC_NO094       */
  95    ,    95   ,    95          ,   95          ,   95          , K_NT, 
/*  95                  SC_NO095       */
  96    ,    96   ,    96          ,   96          ,   96          , K_NT, 
/*  96                  SC_NO096       */
  97    ,    97   ,    97          ,   97          ,   97          , K_NT, 
/*  97                  SC_NO097       */
  98    ,    98   ,    98          ,   98          ,   98          , K_NT, 
/*  98                  SC_NO098       */
  99    ,    99   ,    99          ,   99          ,   99          , K_NT, 
/*  99 63h  F16         SC_F16         */

100    ,   100   ,   100          ,  100          ,  100          , K_NT, /* 
100 64h  F17         SC_F17         */
101    ,   101   ,   101          ,  101          ,  101          , K_NT, /* 
101 65h  F18         SC_F18         */
102    ,   102   ,   102          ,  102          ,  102          , K_NT, /* 
102 66h  F19         SC_F19         */
103    ,   103   ,   103          ,  103          ,  103          , K_NT, /* 
103 67h  F20         SC_F20         */
104    ,   104   ,   104          ,  104          ,  104          , K_NT, /* 
104 68h  F21(Fn)[*]  SC_F21         */
105    ,   105   ,   105          ,  105          ,  105          , K_NT, /* 
105 69h  F22         SC_F22         */
106    ,   106   ,   106          ,  106          ,  106          , K_NT, /* 
106 6Ah  F23         SC_F23         */
107    ,   107   ,   107          ,  107          ,  107          , K_NT, /* 
107 6Bh  F24         SC_F24         */
108    ,   108   ,   108          ,  108          ,  108          , K_NT, /* 
108 6Ch  --          SC_NO108       */
109    ,   109   ,   109          ,  109          ,  109          , K_NT, /* 
109 6Dh  EraseEOF    SC_NO109       */

110    ,   110   ,   110          ,  110          ,  110          , K_NT, /* 
110                  SC_NO110       */
111    ,   111   ,   111          ,  111          ,  111          , K_NT, /* 
111 6Fh Copy/Play    SC_NO111       */
112    ,   112   ,   112          ,  112          ,  112          , K_NT, /* 
112 70h Del->forward SC_DEL         */
113    ,   113   ,   113          ,  113          ,  113          , K_NT, /* 
113                  SC_NO113       */
114    ,   114   ,   114          ,  114          ,  114          , K_NT, /* 
114 72h CrSel        SC_NO114       */
115    ,   115   ,   115          ,  115          ,  115          , K_NT, /* 
115 73h <delta>[*]   SC_NO115       */
116    ,   116   ,   116          ,  116          ,  116          , K_NT, /* 
116 74h ExSel(Enter) SC_NO116       */
117    ,   117   ,   117          ,  117          ,  117          , K_NT, /* 
117 75h --           SC_NO117       */
118    ,   118   ,   118          ,  118          ,  118          , K_NT, /* 
118 76h Clear        SC_NO118       */
119    ,   119   ,   119          ,  119          ,  119          , K_NT, /* 
119 77h Nt2 Joy But1 SC_NO119       */

120    ,   120   ,   120          ,  120          ,  120          , K_NT, /* 
120 78h Nt2 Joy But2 SC_NO120       */
121    ,   121   ,   121          ,  121          ,  121          , K_NT, /* 
121 79h Nt2 Joy R    SC_NO121       */
122    ,   122   ,   122          ,  122          ,  122          , K_NT, /* 
122 7Ah Nt2 Joy L    SC_NO122       */
123    ,   123   ,   123          ,  123          ,  123          , K_NT, /* 
123 7Bh Nt2 Joy Up   SC_NO123       */
124    ,   124   ,   124          ,  124          ,  124          , K_NT, /* 
124 7Ch Nt2 Joy Dn   SC_NO124       */
125    ,   125   ,   125          ,  125          ,  125          , K_NT, /* 
125 7Dh Nt2 Rmouse   SC_NO125       */
126    ,   126   ,   126          ,  126          ,  126          , K_NT, /* 
126 7Eh Nt2 Lmouse   SC_NO126       */
127    ,   127   ,   127          ,  127          ,  127          , K_NT, /* 
127                  SC_NO127       */
};
/* end VTKey1 */


int key_translate( int iScancode, int iModifier)
/*------------------------------------------------------------------------
* Recibe un scancode que usa como indice de entrada en la tabla y una
* variable que indica si se pulso algun modificador (SHIFT, CTRL, ALT)
* para ser usado como indice de dimension del array.
* Si el bit para ese modificador esta en uno, efectua el translate de
* scancode -> charcode y devuelve el charcode.
* Si el bit de translate para ese modificador esta en cero devuelve el
* scancode y permite proseguir con otra funcion.
*
* Gets a scancode to be used as an entry index in a table (in kbd.h) and
* a variable meaning when a modifier (SHIFT, CTRL, ALT). was pressed,
* to be used as a dimension index on that table.
* Seek the asociate Charcode with the scancode as an entry index.
* If translate bit for the modifier in this position is ON, translate
* scancode -> charcode and return this value.
* If translate bit in that position is OFF, return scancode and go ahead
*/
{
   int iCode = iScancode, bTranslate = 0;

   /*some checks in iModifier value needs to be done.. */

   /* WARNING! bTranslate is true if different than zero */
   bTranslate = VTKey1 [iScancode][K_FMODIF] & (1 << iModifier);/* isolate 
bit flag */

   iCode = (bTranslate > 0) ? VTKey1 [iScancode] [iModifier] : iScancode;

return( iCode );
}


int set_translate( int iScancode, int iCharcode, int iModifier, int 
bTranslate)
/*-----------------------------------------------------------------------------
* Establece el valor de retorno iCharcode (translate) para un scancode dado
* y pone el bit correspondiente a ese modificador a uno si se permite la
* traduccion y cero si no se permite en
*
* Seeks the asociate Charcode with the scancode as an entry index.
* replace old charcode with new charcode, and update the status bit of
* translate with new one.
*/
{
   int iTransflag;

     iTransflag = VTKey1 [iScancode] [K_FMODIF];   /* get flag  */

     if( bTranslate < 0 || bTranslate > 1 )
     else
     {
         if( bTranslate )
         {
             iTransflag |= iModifier;                  /* set on bit */
         } else
         {
             iTransflag &= ~(iModifier);               /* set off bit */
         } /* endif */
     }

     VTKey1 [iScancode] [iModifier] = iCharcode;
     VTKey1 [iScancode] [K_FMODIF]  = iTransflag;

   return( 0 );
} /* end set_translate */


int get_translate( int iScancode, int iModifier, int *bTranslate)
/*-----------------------------------------------------------------------------
* Recibe un scancode para un modificador dado, asigna a bTranslate que es
* pasado por referencia el status actual de su bandera.
* Devuelve el charcode asociado con ese scancode.
*
* Seeks the asociate Charcode with the scancode as an entry index.
* Asigns the translate bit in the modifier position to the variable
* passed as reference, bTranslate. Returns the asociate Charcode.
*/
{
    *bTranslate = VTKey1 [iScancode][K_FMODIF] & (1 << iModifier);

return( VTKey1 [iScancode] [iModifier] );
}


As far as I know the Alt+Ctrl combination is equivalent to AltGr, if not,
a new dimension can be added for this purpose.
Absent from here is the conversion of the bios keyboard status flag to
the internal modifier format.

Due to some problems with my computer and family issues, I must to
postpone this work for other moments.
Sorry if this is a wrong idea, but I want to make the try.
About Linux.. I began to read some documents from Andries Brouwer about
keyboards issues and other from Miguel de Icaza and I saw serious problems
with some programs. But probably at this times someone found the answer.
regards
Alejandro.
_________________________________________________________________________
Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com.


From harbour@matrixlist.com  Fri Apr 27 13:36:01 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 27 12:36:01 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <3AE964C5.28795.4170FB@localhost>
Message-ID: <000a01c0cf38$16f13a80$0f2aa8c0@antonio>

Sylvain,

>   A GetprocAddress() on Qt_Thunk will answer the Question !

QT_Thunk is not the problem. The problem is:

LIBRARY KERNEL32
EXPORTS
    LoadLibrary16@4                 @35
    FreeLibrary16@4                 @36
    GetProcAddress16@8              @37

that assumes that those functions are located as 35, 36 and 37
order inside Kernel32. 

I wish I could build Matt Pietrek FSR32.C so we could test
it with Win98 and Millenium.

I am trying it, but I it resists...

Antonio


From harbour@matrixlist.com  Fri Apr 27 13:41:02 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Fri Apr 27 12:41:02 2001
Subject: [Harbour] Replaceable drivers for SQL DBMS suggestion
References: <1821559594.20010427144108@belacy.belgorod.su>
Message-ID: <3AE9A0D9.D3F350DD@libero.it>

Alexander,

we already have contrib\mysql and contrib\msql which are very similar
(tmysql.prg and .c are newer versions of tmsql.prg and .c). With a little
work tmysql.prg could be adapted to use msql.c low level code to connect to
a msql server.

I think we should improve what we already have instead of starting again
from scratch (and tmysql.prg works nicely, I use in in several little
utilities).

Maurilio.


"Alexander S.Kresin" ha scritto:

> I understand that this isn't the first what we need now, but I have a
>  plan to do it and I already wrote and tested simplest prototype.
>
>  This is a system, similar to RDD, but with other set of virtual
>  methods and data, which will allow to work with different SQL DBMS,
>  using standard functions - we told about such thing some time ago (
>  as far as I remember, Ryszard suggested it ).
>
>  This isn't RDD for SQL DBMSs, which allow to use the usual Clipper
>  commands for access to these DBMSs.
>  There will be absolutely other set of commands and functions,
>  specific for SQL.
>
>  Then we could build standard class, based on these drivers, for access
>  to SQL DBMS.
>  Of course, it should be in contrib/ directory.
>
> Best regards,
>  Alexander
> http://members.xoom.com/alkresin/
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@matrixlist.com  Fri Apr 27 13:46:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 27 12:46:02 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <000a01c0cf38$16f13a80$0f2aa8c0@antonio>
Message-ID: <000b01c0cf39$4b0247a0$0f2aa8c0@antonio>

Sylvain,

Ok, I got the ZIP file with the EXE.

ftp://ftp.ddj.com/1996/1996.windows95/thunk.zip

Could you test it there ?

Feedback is also welcome for those of you
that may be running WinNT, Win2000 and
Millenium. We need to control resources 
consume!

Thanks!

Antonio


From harbour@matrixlist.com  Fri Apr 27 13:55:04 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Fri Apr 27 12:55:04 2001
Subject: [Harbour] Some numbers are not as equal as others!!!
References: <200104271612.f3RGCdw11694@smtp.parrett.net>
Message-ID: <000d01c0cf3b$aaad2d30$921a5e18@bh>

David:
Thanks for the investigation.  I had set decimals to 9 and seen no
change--it's been so long since I used SET FIXED I didn't even think of
it....

Brian

----- Original Message -----
From: "David G. Holm" <dholm@jsd-llc.com>
To: <harbour@matrixlist.com>
Sent: Friday, April 27, 2001 9:15 AM
Subject: Re: [Harbour] Some numbers are not as equal as others!!!


> ** Reply to message from "Brian Hays" <bhays@abacuslaw.com> on Thu, 26
> Apr 2001 16:34:01 -0700
>
> if you add SET DECIMALS TO 15 and SET FIXED ON, you will see that the
> source of the problem is due to inexact floating point representation.
>
> Here's what I get with RSXNT with Harbour:
>
> > 1191.630000000000109 1191.629999999999882       1191.630000000000109
> > >> 1191.629999999999882 <<>>       1191.630000000000109 <<
> > better be true: .F.
>
> Which means that the problem with Harbour is that the VAL() function
> and the compiler aren't using the same method to convert strings to
> double values.
> --
> David G. Holm, Set Captain and all around
> Harbour Project Clipper Compatibility fanatic.
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>
>


From harbour@matrixlist.com  Fri Apr 27 14:13:01 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 27 13:13:01 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <000b01c0cf39$4b0247a0$0f2aa8c0@antonio>
Message-ID: <000f01c0cf3d$4691f860$0f2aa8c0@antonio>

This is a multi-part message in MIME format.

------=_NextPart_000_0010_01C0CF4E.0A1AC860
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Ok, I have been able to adapt Matt Pietrek
to run with Borland C 5.5. It builds and works ok! :-)

We are getting closer ;-)

Please, I appreciate if some of you build it and
run it on your machines. We need to know its 
limitations. 

Thanks!!!

Antonio

------=_NextPart_000_0010_01C0CF4E.0A1AC860
Content-Type: application/x-compressed;
	name="test.zip"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="test.zip"

UEsDBBQAAgAIAAeZmyqLsdb5RAAAAFoAAAAMAAAAQlVJTERGU1IuQkFUC3L1VXDLL1Jwyi/KScxL
UXBWMNUz5eXi5crMLcjJTFLQzVcozUvJT842NtID8eGclNQ0kLKk5GRjI4W04iKgUDKKUgBQSwME
FAACAAgAXZibKtKqY9UEAwAANgcAAAcAAABGU1IzMi5DtVVrb9owFP2OxH+4ZaoaJkZDu1XqaxKD
tEWlwBIQkzqETHJTopI4sp2Wqup/33UgPJp2jw/zl4Trk+Nzj4/N/v75H0exsL8PF459eACf4IYp
Bb0AlcB7qB0ff1nMttrWyQJTbejK37B+8NAPIoRhq3N4MG5b9c643mmOb+iFJoPInSUewtljEHn8
UVanXzerUnkBX9Riwe5CBlNPSMXjYqFYUE8xEjkEkQKjUW+3v9Ub1/DxkgSOe3a3UTZopnyqoSTe
UchmIHmIsJS0J8EXPAQ1RagdwSRQWmSzO3SqV2vdKd1ls2VbTndgNywH0mHOTdOsvYINHMvexqWw
g6WEnuCKa9ULGQl17CYhRgo9uLbsjtUm8/0kclXAI1ksXLU6Tr/eaVhaV73XgjZnXjuYCCaeakcG
9Jy+DbrBBx54GeZCIG5g1hwaeFG3tTMZ9hIVaXLrnidQyi145RV7zKRL/n3vj/vTJLo3dHHh7cpv
iP1Ir+48SYWhjZInwkUJ52CekhVkwBDB49GegkdGe0a+SwQmYcaJWtI+brY8bUVSDSSK2tEp5AaR
hSyIjHIFJKUFU2FXg841uDyZecXCsGs3IaHPx74UFbjzAv2SZyIiJZicajVhtVrVHelALdiLhedi
QcPcKRMwSXwfxa05/2yO0tb1TFYcLfskwht2T1ucCATFtYY0YWmT8MBEwCYznQCqstSEBc8bwlwe
xsEMBUhUEpIYWATWtx6lloWYrb/hEynYTkhJB7Jq/bBKeqs0OvDB2PrkDIyV52WKX3mBe16LigX5
4RtQ2uYug89InLfzMypBRq+HQJWICGrL0ksm9FUwN0WUl/looitQH4jUMYFkLOrNpT2NVMbzXsrW
Coz1FZCP+Ma6FSjR9Btk23btvLPib6zKrfrPbo3HTIZb3AmFlEb+olljQv6QPtGbV+D2bdmjNZwC
OdPP7FDniW6zEzSqAJtn2nJyNq/H/6lmeYqXYrb8WlmvrdH/USewm+zuksBma/2T3K/kbwUor07z
cjtMKrz8AlBLAwQUAAIACABkmJsqGEyhG14AAACgAAAADAAAAFVORE9DSzMyLkRFRvPxdApyDIpU
8HYN8nP1MTbi5XKNCPAPCgnm5VIAAp/8xBSfzKSixKJKQzMFdOBgbApR5laUmopPmRlEmXtqSUBR
frJjSkpRanExukoHY3OIssCQ+JCM0rxsXi5eLgBQSwECFAAUAAIACAAHmZsqi7HW+UQAAABaAAAA
DAAAAAAAAAAAACAAAAAAAAAAQlVJTERGU1IuQkFUUEsBAhQAFAACAAgAXZibKtKqY9UEAwAANgcA
AAcAAAAAAAAAAAAgAAAAbgAAAEZTUjMyLkNQSwECFAAUAAIACABkmJsqGEyhG14AAACgAAAADAAA
AAAAAAAAACAAAACXAwAAVU5ET0NLMzIuREVGUEsFBgAAAAADAAMAqQAAAB8EAAAAAA==

------=_NextPart_000_0010_01C0CF4E.0A1AC860--



From harbour@matrixlist.com  Fri Apr 27 14:18:01 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Fri Apr 27 13:18:01 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <000a01c0cf38$16f13a80$0f2aa8c0@antonio>
References: <3AE964C5.28795.4170FB@localhost>
Message-ID: <3AE96F06.7190.697FDB@localhost>

Antonio,

> LIBRARY KERNEL32
> EXPORTS
>     LoadLibrary16@4                 @35
>     FreeLibrary16@4                 @36
>     GetProcAddress16@8              @37

 Sorry trying IMPDEF on both KERNEL32 95 and 98 start at ordinal
 50 with  AddAtomA. Let me see if I can find a tool who will give me 
more ! ;)

> I wish I could build Matt Pietrek FSR32.C so we could test
> it with Win98 and Millenium.
> 
> I am trying it, but I it resists...

  When ready I can testit on 95 I have some computer here who use 
it ! 

  Sylvain 



     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Fri Apr 27 14:19:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 27 13:19:02 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <000f01c0cf3d$4691f860$0f2aa8c0@antonio>
Message-ID: <001401c0cf3e$03243380$0f2aa8c0@antonio>

This is a multi-part message in MIME format.

------=_NextPart_000_0015_01C0CF4E.C6AD0380
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Ok, this one a little enhanced to report
also system resources :-)

Thanks for your feedback,

Antonio

------=_NextPart_000_0015_01C0CF4E.C6AD0380
Content-Type: application/x-compressed;
	name="test.zip"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="test.zip"

UEsDBBQAAgAIAAeZmyqLsdb5RAAAAFoAAAAMAAAAQlVJTERGU1IuQkFUC3L1VXDLL1Jwyi/KScxL
UXBWMNUz5eXi5crMLcjJTFLQzVcozUvJT842NtID8eGclNQ0kLKk5GRjI4W04iKgUDKKUgBQSwME
FAACAAgADZqbKqnboi4jAwAAGggAAAcAAABGU1IzMi5DtVVdT+JAFH0n4T9c2RjLhkXQXRO/NkGo
SkRkWwy7cQ0Z21tppB0yM1WM8b/vnZbaVtDdfXBe2s4czpw598xlc/Pwr6Nc2tyEY9va3oIvcM6U
goGPSuAdNHd3vyWr3Z65l2DqbT3zL6yfXPT8EGHU7W9vjXtmqz9u9Tvjc3qhRT90ppGLcPDghy5/
kPXJ9/ysVK7Pk7mZYLcBg4krpOKzcqlcUo8zJHLwQwVGu9XrHbXaZ/D5hASOB9ZFu2rQSnVfQ0m8
rZBNQfIAYSFpQ4IneABqgtDcgRtfaZGdi5FdP810x3T2L3tonlumfXFptU0bABrzBo1XsJNON49J
Yc1XsEvbtIq4GLa1UDoQXHF9uERtRMY4UYChQhfOTKtv9qhGXhQ6yuehLJdOu3172Oq3TS2/NehC
jzO3598IJh6bOwYM7KEF2od77rsp5lgg5jAZhwYetyxtYIo9QUWanJbrCpSyAK+9Yp8x6ZDNP4bj
4SQK7ww9mZTgpSww80K9u/0oFQYWSh4JByUcQmOfrCADRgguDzcUPDAqLZVHIjAJU07UksqdP/Kk
G0p1KVE0d/ZhaRBZwPzQqNZAUqgwFnZ62T8Dh0dTt1waXVgdkLGSsSdFDSKiSt5uXV+/7KdESjA5
0WqCer2uT6Rzl7CXS0/lkoY5EybgJvI8FFeN+dfGdXx0vZJOXi/OSYTn7I5KHAkExfW+cRDjQ8I9
Ez67meoE0CyLTUh4VpzQ4cHMn6IAiUpCNAMWgnk0oHCzANP9cz6RgmJCKjqQdfOnWdGl0mjfA6Pw
kwMwXjyvUvyqCe4pEzUT5IdnQKXIXQWPkTh37XdYgZReD4EqEiE0F1PPqdBXwcyLqC7y0UFHoL4Q
sWMCyVjUxaWahirleStlmQIj6xTLEc/tW4MKLa8gK9q19saO71i1tOt/uzUeMxkUuCMKKY1VbStD
Bfw+fqI7r8HVauHXGZwiOdXP9FovE11ld+i6Bmye6luSVOh9Hykovcjvy8l37I9Us2gmCzGFEr6k
IamW/n/dg/VofR20V7lPILHZJyWkVmwJ77YxqL60okWWGjTx/AdQSwMEFAACAAgAZJibKhhMoRte
AAAAoAAAAAwAAABVTkRPQ0szMi5ERUbz8XQKcgyKVPB2DfJz9TE24uVyjQjwDwoJ5uVSAAKf/MQU
n8ykosSiSkMzBXTgYGwKUeZWlJqKT5kZRJl7aklAUX6yY0pKUWpxMbpKB2NziLLAkPiQjNK8bF4u
Xi4AUEsBAhQAFAACAAgAB5mbKoux1vlEAAAAWgAAAAwAAAAAAAAAAAAgAAAAAAAAAEJVSUxERlNS
LkJBVFBLAQIUABQAAgAIAA2amyqp26IuIwMAABoIAAAHAAAAAAAAAAAAIAAAAG4AAABGU1IzMi5D
UEsBAhQAFAACAAgAZJibKhhMoRteAAAAoAAAAAwAAAAAAAAAAAAgAAAAtgMAAFVORE9DSzMyLkRF
RlBLBQYAAAAAAwADAKkAAAA+BAAAAAA=

------=_NextPart_000_0015_01C0CF4E.C6AD0380--



From harbour@matrixlist.com  Fri Apr 27 14:25:03 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Fri Apr 27 13:25:03 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <000f01c0cf3d$4691f860$0f2aa8c0@antonio>
Message-ID: <NCBBJKNMIDPJNLJCHCHIIEIMGCAA.harbour@winfakt.com>

Antonio,

Compiling it, it says:
I:\@Downloads from the Internet\i\i>implib -o undock32.lib undock32.def
Borland Implib Version 3.0.22 Copyright (c) 1991, 2000 Inprise Corporation
Name: 'UNDOCK32' Ext: '.dll' Base: 0x00000000
Name: 'KERNEL32' Ext: '.dll' Base: 0x00000000
I:\@Downloads from the Internet\i\i>bcc32 fsr32.c undock32.lib
Borland C++ 5.5.1 for Win32 Copyright (c) 1993, 2000 Borland
FSR32.C:
Warning W8002 FSR32.C 50: Restarting compile using assembly in function main
Turbo Assembler  Version 5.0  Copyright (c) 1988, 1996 Borland International
Assembling file:   FSR32.ASM
Error messages:    None
Warning messages:  None
Passes:            1
Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland

Running, it says:
FSR32.EXE - Unable to locate DLL
The Dynamic link library KERNEL32 could not be founs in...

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)

> Ok, I have been able to adapt Matt Pietrek
> to run with Borland C 5.5. It builds and works ok! :-)
> We are getting closer ;-)
> Please, I appreciate if some of you build it and
> run it on your machines. We need to know its
> limitations.


From harbour@matrixlist.com  Fri Apr 27 14:28:01 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Fri Apr 27 13:28:01 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <000b01c0cf39$4b0247a0$0f2aa8c0@antonio>
References: <000a01c0cf38$16f13a80$0f2aa8c0@antonio>
Message-ID: <3AE971E6.82.74BC7A@localhost>

Antonio,
> Could you test it there ?

  Windows 95 GPF after the print of resource
  Windows 98 GPF after the print of resource
  Windows ME GPF after the print of resource
  Windows Nt as expected Qt_Thunk didn't exist !

 Sylvain 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Fri Apr 27 14:34:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 27 13:34:01 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIIEIMGCAA.harbour@winfakt.com>
References: <000f01c0cf3d$4691f860$0f2aa8c0@antonio>
Message-ID: <200104271729.f3RHTjw18117@smtp.parrett.net>

** Reply to message from "Patrick Mast" <harbour@winfakt.com> on Fri,
27 Apr 2001 19:24:52 +0200

> Running, it says:
> FSR32.EXE - Unable to locate DLL
> The Dynamic link library KERNEL32 could not be founs in...

This means that your directory (C:\WINNT\SYSTEM32 for Windows NT/2000)
isn't on the PATH, which probably means that your system environment is
messed up. Perhaps your C:\WINNT\SYSTEM32\AUTOEXEC.BAT file has a
statement that says PATH=... instead of PATH=%PATH%;... or
PATH=...;%PATH%?
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 27 14:38:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Fri Apr 27 13:38:02 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <3AE971E6.82.74BC7A@localhost>
Message-ID: <001901c0cf40$b70fdaa0$0f2aa8c0@antonio>

This is a multi-part message in MIME format.

------=_NextPart_000_001A_01C0CF51.7A98AAA0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Sylvain, Patrick,

Please run this EXE.


Antonio

------=_NextPart_000_001A_01C0CF51.7A98AAA0
Content-Type: application/x-compressed;
	name="FSR32.zip"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="FSR32.zip"

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
AAAAAA==

------=_NextPart_000_001A_01C0CF51.7A98AAA0--



From harbour@matrixlist.com  Fri Apr 27 14:39:35 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 27 13:39:35 2001
Subject: [Harbour] Cannot build Harbour
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIOEHLGCAA.harbour@winfakt.com>
References: <200104261933.f3QJXDw24675@smtp.parrett.net>
Message-ID: <200104271735.f3RHZ3w18534@smtp.parrett.net>

** Reply to message from "Patrick Mast" <harbour@winfakt.com> on Fri,
27 Apr 2001 08:15:48 +0200

> It's still the same error as in Feb...

Based on your system's inability to locate KERNEL32.DLL as reported in
another thread, my guess is that whatever is messing up your system
environment is related to Make trying to run ECHO as if it were a
program instead of a DOS command.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 27 14:52:01 2001
From: harbour@matrixlist.com (Administrador del sistema Anti-Virus)
Date: Fri Apr 27 13:52:01 2001
Subject: un archivo adjunto de tipo no permitido encontrado en un mensaje para usted con asunto "RE: [Harbour] Thunking from 32 to 16 bits..."
Message-ID: <20010427175139.684.qmail@server1.xnetcuyo.com.ar>

Atencion <harbour@matrixlist.com>, "Antonio Linares" <alinares@fivetech.com> le ha
enviado un mensaje que fue retenido por el sistema antivirus.

Se ha encontrado un archivo adjunto de tipo no permitido en el mensaje destinado a usted. 
El programa antivirus ha interceptado el mensaje completo
y no le llegara. El remitente ya fue avisado de esta situacion
y se envio copia de dicho aviso al "Administrador del sistema Anti-Virus".

Para evitar el ataque de virus de e-mail, se recomienda NO usar 
Outlook ya que es el nico cliente de mail vulnerable a estos virus.
El antivirus reporta que el un archivo adjunto de tipo no permitido es: 

Archivo .EXE: No se aceptan ejecutables adjuntos a mensajes porque podrian comprometer la seguridad o contener virus.



Pongase en contacto con el Administrador del sistema Anti-Virus si necesita mas informacion sobre
el mensaje o las politicas de control antivirus implementadas en su sistema.
Su mensaje llego con las siguientes instrucciones:

MAIL FROM: harbour-admin@matrixlist.com
RCPT TO:   anv@xnetcuyo.com.ar 

... y las siguientescabeceras:

De:         "Antonio Linares" <alinares@fivetech.com>
Para:       <harbour@matrixlist.com>
Asunto:     RE: [Harbour] Thunking from 32 to 16 bits...
ID-Message: <001901c0cf40$b70fdaa0$0f2aa8c0@antonio>
Fecha:      Fri, 27 Apr 2001 19:37:22 +0200


El mensaje original ha quedado guardado en:

  server1:/var/spool/qmailscan/viruses

donde el Administrador del sistema Anti-Virus puede verificar su contenido.

El programa antivirus reporto lo siguiente al revisar el mensaje:

--- 

---perlscanner results ---
un archivo adjunto de tipo no permitido 'Archivo .EXE: No se aceptan ejecutables adjuntos a mensajes porque podrian comprometer la seguridad o contener virus.' estaba en /var/spool/qmailscan/server1988393895667/FSR32.exe
---
[Procesado por qmail-scan usando McAfee/NA uvscan en GNU/Linux]


From harbour@matrixlist.com  Fri Apr 27 14:57:02 2001
From: harbour@matrixlist.com (Felipe Coury)
Date: Fri Apr 27 13:57:02 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
References: <001901c0cf40$b70fdaa0$0f2aa8c0@antonio>
Message-ID: <00d901c0cf45$3375b8e0$3c01a8c0@creation>

Antonio,

> Please run this EXE.
I ran it on my W2K Server SP1 system and whenever I tryed to run it reports
that he cannot find kernel32.dll. After the message it shows the path he's
looking into and among the directories, there was C:\WINNT\SYSTEM32. I know
DLL searching order is same dir, %WINDIR%, %SYSTEMDIR% (or %SYSDIR%) and
PATH. So, I copied FSR32.EXE to C:\WINNT\SYSTEM32 (where KERNEL32.DLL is)
and it still reports that can't find the DLL. Wierd.

Hope this helps,

Felipe G. Coury
Gerente de Desenvolvimento
Creation Internet Business
http://www.creation.com.br

--------------------------------------------
Visite o GuiaBrasil.Net:
http://www.guiabrasil.net
--------------------------------------------



From harbour@matrixlist.com  Fri Apr 27 15:12:02 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Fri Apr 27 14:12:02 2001
Subject: [Harbour] Re: Replaceable drivers for SQL DBMS suggestion
In-Reply-To: <3AE9A0D9.D3F350DD@libero.it>
References: <1821559594.20010427144108@belacy.belgorod.su>
 <3AE9A0D9.D3F350DD@libero.it>
Message-ID: <8813240740.20010427220651@belacy.belgorod.su>

 Maurilio,

ML> we already have contrib\mysql and contrib\msql which are very similar
ML> (tmysql.prg and .c are newer versions of tmsql.prg and .c). With a little
ML> work tmysql.prg could be adapted to use msql.c low level code to connect to
ML> a msql server.

ML> I think we should improve what we already have instead of starting again
ML> from scratch (and tmysql.prg works nicely, I use in in several little
ML> utilities).

 Your mySQL API works nice - I can confirm this, I finished the mysql
 client 1.0 based on it ( will upload it to my wep page soon ).
 
 But if we'll write postgreSQL API ( I played with it yesterday ) ?
 Oracle API ?
 Having this Replaceable drivers, we could use the same Harbour code
 to access different DBMS.
 I don't want to rewrite, for example, mysql client for using with
 postgreSQL, I want to use the same code, adding only PG_INIT() to the
 program - and this is possible.
 As I see it, your mysql.c demand not a big changes to convert it into
 mysqlrdd.c . And your classes will not be changed significantly to
 work with this RDD - but after this they could be used for access to
 other DBMS without changes ! Isn't this a good way to extend them ?!

 I will send you my files to help catch the idea. Hope on your
 cooperation.



Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Fri Apr 27 15:38:02 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Fri Apr 27 14:38:02 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <001901c0cf40$b70fdaa0$0f2aa8c0@antonio>
References: <3AE971E6.82.74BC7A@localhost>
Message-ID: <3AE9831C.18225.3F48B0@localhost>

Antonio

  Windows 95  Ok
  Windows 98 Ok
  Windows ME Ok
  Windows NT on NT it tell that it don't find Kernel32 in the specified 
path and one of the path value is c:\winnt\system32 and 
Kernel32.DLL is there !

  Sylvain 
  


> Sylvain, Patrick,
> 
> Please run this EXE.
> 
> 
> Antonio
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Fri Apr 27 15:41:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 27 14:41:02 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <200104271729.f3RHTjw18117@smtp.parrett.net>
References: <000f01c0cf3d$4691f860$0f2aa8c0@antonio> <NCBBJKNMIDPJNLJCHCHIIEIMGCAA.harbour@winfakt.com>
Message-ID: <200104271837.f3RIb6w24113@smtp.parrett.net>

** Reply to message from "David G. Holm" <dholm@jsd-llc.com> on Fri, 27
Apr 2001 13:31:42 -0400

> This means that your directory (C:\WINNT\SYSTEM32 for Windows NT/2000)
> isn't on the PATH, which probably means that your system environment is
> messed up.

So much for that theory. I get the same error that Patrick and Felipe
reported and C:\WINNT\System32 is in the PATH that is reported in the
dialog box. I even tried copying KERNEL32.DLL into the same directory as
FSR32.EXE, but got the same error. Then ran 'SET PATH=', but all that
did was change the reported PATH (and KERNEL32.DLL was still in the
current directory).
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 27 15:48:03 2001
From: harbour@matrixlist.com (Sylvain Robert )
Date: Fri Apr 27 14:48:03 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <00d901c0cf45$3375b8e0$3c01a8c0@creation>
Message-ID: <3AE98377.19538.40AC7C@localhost>

Felipe 

  Same Result on Windows NT Service pack 5

  Sylvain 
> > Please run this EXE.
> I ran it on my W2K Server SP1 system and whenever I tryed to run it reports
> that he cannot find kernel32.dll. After the message it shows the path he's
> looking into and among the directories, there was C:\WINNT\SYSTEM32. I know
> DLL searching order is same dir, %WINDIR%, %SYSTEMDIR% (or %SYSDIR%) and
> PATH. So, I copied FSR32.EXE to C:\WINNT\SYSTEM32 (where KERNEL32.DLL is)
> and it still reports that can't find the DLL. Wierd.
> 
> Hope this helps,
> 
> Felipe G. Coury
> Gerente de Desenvolvimento
> Creation Internet Business
> http://www.creation.com.br
> 
> --------------------------------------------
> Visite o GuiaBrasil.Net:
> http://www.guiabrasil.net
> --------------------------------------------
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@matrixlist.com  Fri Apr 27 15:57:02 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Fri Apr 27 14:57:02 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <200104271729.f3RHTjw18117@smtp.parrett.net>
Message-ID: <NCBBJKNMIDPJNLJCHCHIMEIOGCAA.harbour@winfakt.com>

David,

> > Running, it says:
> > FSR32.EXE - Unable to locate DLL
> > The Dynamic link library KERNEL32 could not be founs in...
> This means that your directory (C:\WINNT\SYSTEM32 for Windows NT/2000)
> isn't on the PATH, which probably means that your system environment is
> messed up. Perhaps your C:\WINNT\SYSTEM32\AUTOEXEC.BAT file has a
> statement that says PATH=... instead of PATH=%PATH%;... or
> PATH=...;%PATH%?
I'm using Windows 2000
This is my path:
Path=C:\PROGRA~1\Borland\CBUILD~1\Projects\Bpl;C:\PROGRA~1\Borland\CBUILD~1\
Bin;
C:\WINNT\system32;C:\WINNT;C:\WINNT\System32\Wbem;C:\TOOLS;C:\PROGRA~1\Max20
;C:\

I also tried to copy Kernel32.dll to my local dir.

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)


From harbour@matrixlist.com  Fri Apr 27 16:00:04 2001
From: harbour@matrixlist.com (Sid Saylors)
Date: Fri Apr 27 15:00:04 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
References: <001901c0cf40$b70fdaa0$0f2aa8c0@antonio>
Message-ID: <3AE9C16E.EE07FBBE@home.com>

Antonio, 

i ran it on my win98 and win2000
it worked fine on win98 but was unable to find lib kernel32.

Sid.....



Antonio Linares wrote:
> 
> Sylvain, Patrick,
> 
> Please run this EXE.
> 
> Antonio
> 
>   ------------------------------------------------------------------------
>                 Name: FSR32.zip
>    FSR32.zip    Type: WinZip File (application/x-compressed)
>             Encoding: base64

From harbour@matrixlist.com  Fri Apr 27 16:00:42 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Fri Apr 27 15:00:42 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <001901c0cf40$b70fdaa0$0f2aa8c0@antonio>
Message-ID: <NCBBJKNMIDPJNLJCHCHIEEIPGCAA.harbour@winfakt.com>

Antonio,

> Please run this EXE.
It still says it cannot find Kernel32.dll

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)

From harbour@matrixlist.com  Fri Apr 27 16:02:12 2001
From: harbour@matrixlist.com (Patrick Mast)
Date: Fri Apr 27 15:02:12 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <00d901c0cf45$3375b8e0$3c01a8c0@creation>
Message-ID: <NCBBJKNMIDPJNLJCHCHIGEIPGCAA.harbour@winfakt.com>

Felipe,

> > Please run this EXE.
> I ran it on my W2K Server SP1 system and whenever I tryed to run
> it reports
> that he cannot find kernel32.dll. After the message it shows the path he's
> looking into and among the directories, there was
> C:\WINNT\SYSTEM32. I know
> DLL searching order is same dir, %WINDIR%, %SYSTEMDIR% (or %SYSDIR%) and
> PATH. So, I copied FSR32.EXE to C:\WINNT\SYSTEM32 (where KERNEL32.DLL is)
> and it still reports that can't find the DLL. Wierd.

This is GOOD!! ;-))
I thought my machine was confused... Now I know it is not! ;-))

Regards,

Patrick Mast
www.Patrick.Be.kz (By Bekz.net)


From harbour@matrixlist.com  Fri Apr 27 16:05:04 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 27 15:05:04 2001
Subject: [Harbour] ChangeLog 2001-04-27 15:00 UTC-0400 David G. Holm
Message-ID: <200104271900.f3RJ0iw26370@smtp.parrett.net>

2001-04-27 15:00 UTC-0400 David G. Holm <dholm@jsd-llc.com>

  * include/achoice.ch
  * include/assert.ch
  * include/box.ch
  * include/button.ch
  * include/color.ch
  * include/common.ch
  * include/dbedit.ch
  * include/dbstruct.ch
  * include/directry.ch
  * include/error.ch
  * include/getexit.ch
  * include/hbapigt.h
  * include/hbapirdd.h
  * include/hbdefs.h
  * include/inkey.ch
  * include/memoedit.ch
  * include/ord.ch
  * include/rddsys.ch
  * include/reserved.ch
  * include/setcurs.ch
  * include/simpleio.ch
  * include/std.ch
    * Changed the license in all "anonymous" include files from the
      old license to the new one.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 27 16:09:01 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 27 15:09:01 2001
Subject: [Harbour] New License
Message-ID: <200104271905.f3RJ5Gw26804@smtp.parrett.net>

Bruno Cantero,
Ryszard Glab,
Alexander S.Kresin, and
Ignacio Ortiz de Z=FAniga,

   Are you willing to give me permission to change Harbour source files
that have your copyright and the old Harbour Exception to use the new
Harbour Exception? (Please reply to the list.)
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 27 16:12:02 2001
From: harbour@matrixlist.com (Bill Smith)
Date: Fri Apr 27 15:12:02 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
References: <3AE971E6.82.74BC7A@localhost> <3AE9831C.18225.3F48B0@localhost>
Message-ID: <006801c0cf4e$bb2162e0$48cfefd1@K6BW>

Could the file name be case specific?

----- Original Message ----- 
From: "Sylvain Robert " <srobert@logava.com>
To: <harbour@matrixlist.com>
Sent: Friday, April 27, 2001 11:33 AM
Subject: RE: [Harbour] Thunking from 32 to 16 bits...


> Antonio
> 
>   Windows 95  Ok
>   Windows 98 Ok
>   Windows ME Ok
>   Windows NT on NT it tell that it don't find Kernel32 in the specified 
> path and one of the path value is c:\winnt\system32 and 
> Kernel32.DLL is there !
> 
>   Sylvain 
>   
> 
> 
> > Sylvain, Patrick,
> > 
> > Please run this EXE.
> > 
> > 
> > Antonio
> > 
> 
> 
> 
> 
>      Sylvain Robert
>      srobert@logava.com
> 
>      Les Logiciels Avantage
>      www.logava.com
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 


From harbour@matrixlist.com  Fri Apr 27 16:49:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 27 15:49:02 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <006801c0cf4e$bb2162e0$48cfefd1@K6BW>
References: <3AE971E6.82.74BC7A@localhost> <3AE9831C.18225.3F48B0@localhost>
Message-ID: <200104271944.f3RJiqw30576@smtp.parrett.net>

** Reply to message from "Bill Smith" <billsmith@jps.net> on Fri, 27
Apr 2001 12:17:40 -0700

> Could the file name be case specific?

Not on Windows! (Not even on NT, 2000, or XP...)
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Fri Apr 27 16:56:02 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Fri Apr 27 15:56:02 2001
Subject: [Harbour] Re: New License
In-Reply-To: <200104271905.f3RJ5Gw26804@smtp.parrett.net>
References: <200104271905.f3RJ5Gw26804@smtp.parrett.net>
Message-ID: <19919477445.20010427235046@belacy.belgorod.su>

On  Friday, April 27, 2001, 23:07 David G. Holm <dholm@jsd-llc.com> wrote:

DGH> Bruno Cantero,
DGH> Ryszard Glab,
DGH> Alexander S.Kresin, and
DGH> Ignacio Ortiz de Zniga,

DGH>    Are you willing to give me permission to change Harbour source files
DGH> that have your copyright and the old Harbour Exception to use the new
DGH> Harbour Exception? (Please reply to the list.)

 Yes, feel free to do it in my copyrighted files.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Fri Apr 27 18:44:02 2001
From: harbour@matrixlist.com (Lorenzo Fiorini)
Date: Fri Apr 27 17:44:02 2001
Subject: [Harbour] Re: Replaceable drivers for SQL DBMS suggestion
Message-ID: <003101c0cf62$f8f081f0$a95d623e@teamwork.lan>

Alexander, Maurilio,

I'm very interested in this subject and I already did some tests and some
thoughts about it. This is only the description of what I did but I don't
think this is the best or the right way to do it. I only hope that this
could help the discussion. Still in 1999 I succesfully used contrib\odbc to
connect to an Access MDB and recently I used contrib\mysql to move data from
my applications to my PHP/Mysql e-commerce app. Than I thought to unify the
interfaces at PRG level so that it could be possible to move from one driver
to another without changing the code. I separated the C interface of odbc
that I called HDI ( Harbour Data Interface ) from the PRG classes that I
called HDO ( Harbour Data Objects ). I did some small modifications to C
interface ( my C knowledge is very basic ) and I decided to follow PHP ADODB
( which in turn follow ADO ) naming the classes and the methods for the PRG
classes( Connection, Command, RecordSet, Field, Error ). A result program
could be this:

procedure main
local oCnn
local oRst
? "Creating connection"
oCnn := THDOWODBCConnection():New(
"DSN=test_mysql;UID=guest;PWD=guestonly" )
? "Creating recordset"
oRst := THDOWODBCRecordSet():New()
? "Open recordset"
oRst:Open( "select que_name, que_desc, prn_type from dbftable", oCnn )
? "Showing data"
do while !oRst:eof
   ? oRst:Fields( "que_name" ):value, oRst:Fields( "que_desc" ):value,
oRst:Fields( "prn_type" ):value
   oRst:MoveNext()
enddo
oRst:Close()
oCnn:Close()
return

Clearly contrib\mysql and contrib\odbc use different classes and methods but
they basically do the same job. I think the first step should be to agree on
a set of classes to connect, issue the sql statement and retrieve the
results. Than there is the question of the primary key for the updates.
Maurilio solved this retrieving the primary key and creating the where
clause. It could be also possible to add a recno ( or row_id ) autoincrement
field as primary key to easy the migration of DBFs since it will be useful
to have something like recno() and primary key is not guaranteed in a DBF.
Surely it will be much better to have a superclass to avoid changing the
name of the methods and so on. Forgive this long message and my English but
I hope this could help to create a good interface to SQL servers.

Regards.
Lorenzo Fiorini
lorenzofiorini@inwind.it


From harbour@matrixlist.com  Fri Apr 27 20:43:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Fri Apr 27 19:43:02 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <001901c0cf40$b70fdaa0$0f2aa8c0@antonio>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAELLDLAA.Ron@Profit-Master.com>

Antonio,

Work correctly on Windows Me.

Ron

> Sylvain, Patrick,
> 
> Please run this EXE.
> 
> 
> Antonio


From harbour@matrixlist.com  Fri Apr 27 21:52:02 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Fri Apr 27 20:52:02 2001
Subject: [Harbour] Re: Replaceable drivers for SQL DBMS suggestion
References: <1821559594.20010427144108@belacy.belgorod.su> <3AE9A0D9.D3F350DD@libero.it> <8813240740.20010427220651@belacy.belgorod.su>
Message-ID: <002401c0cf7d$716240a0$6bd4d7c8@luizguim>

Maurilio
>  Your mySQL API works nice - I can confirm this, I finished the mysql
>  client 1.0 based on it ( will upload it to my wep page soon ).
>
>  But if we'll write postgreSQL API ( I played with it yesterday ) ?
>  Oracle API ?
>  Having this Replaceable drivers, we could use the same Harbour code
>  to access different DBMS.
>  I don't want to rewrite, for example, mysql client for using with
>  postgreSQL, I want to use the same code, adding only PG_INIT() to the
>  program - and this is possible.
>  As I see it, your mysql.c demand not a big changes to convert it into
>  mysqlrdd.c . And your classes will not be changed significantly to
>  work with this RDD - but after this they could be used for access to
>  other DBMS without changes ! Isn't this a good way to extend them ?!
>
>  I will send you my files to help catch the idea. Hope on your
>  cooperation.

I fully agree wth alexander, Most company are creating linux version for
their product, as an example, Oracle and Delphi.

If we can have an native Driver , Harbour would be imbatible

Regards

Luiz Rafael Culik


From harbour@matrixlist.com  Fri Apr 27 21:53:02 2001
From: harbour@matrixlist.com (Harbour)
Date: Fri Apr 27 20:53:02 2001
Subject: [Harbour] Great Resources For Harbour Companion
Message-ID: <00704200104280754042844421@HARBOUR.ORG>

--#BOUNDARY#
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset=US-ASCII
Content-description: body of message

Hello,

I have found great resources for Harbour companion.

These resources are very rich so that I believe this will contribute
a lot to Harbour development.

I quote a comprehensive and self explanatory highlight at the bottom of this
message.

I have had myself included SFL as an integral part of my Harbour libraries.
(and this mailer is developed using part of it)

Please visit :http://www.imatix.com for info and download and there are still
many good ( very goo ) stuffs there.

Andi Jahja

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
SFL
Version 2.11 

The Standard Function Library

The SFL (Standard Function Library) from iMatix is a portable function library for C/C++ programs.
The SFL is the result of many years' development, and is provided as Open Source software
for the benefit of the Internet community. 

You may want to go straight to the Table of Contents. Also, this documentation is available as 
a single compressed zip file or gzipped tar file, suitable for printing. 

The SFL is written in ANSI C and has been ported to MS-DOS, Windows, OS/2, Linux and other
UNIX systems (IBM AIX, SunOS, HP/UX, Solaris, NetBSD, FreeBSD, SCO OpenServer, Digital UNIX)
and Digital OpenVMS. It comes with complete sources and documentation in HTML. 

The SFL provides about 450 functions that cover these areas: 
   Compression, encryption, and encoding; 
   Datatype conversion and formatting; 
   Dates, times, and calendars; 
   Directory and environment access; 
   User and process groups; 
   Inverted bitmap indices; 
   Symbol tables; 
   Error message files; 
   Configuration files; 
   String manipulation and searching; 
   File access; 
   Internet socket access; 
   Internet programming (MIME, CGI); 
   SMTP (e-mail) access; 
   Server (batch) programming; 
   Program tracing. 

The SFL is free software that you may use and distribute for private or commercial purposes 
according to the SFL License Agreement. 

Send comments about the SFL, bug reports, and submissions to sfl@imatix.com.   

Table of Contents

   What Is The SFL 
      Origins 
      Objectives 
      Portability 
   Installing The SFL 
      Availability and Distribution 
      Installation for UNIX Systems 
      Installation for Digital VMS Systems 
      Installation for Windows 
      Installation for MS-DOS 
   Using The SFL 
      The Universal Header File - prelude.h 
      The Library Header File - sfl.h 
      System Notes 
      To Do List 
   Contributors and References 
   The SFL License Agreement 
   Universal Header File for C programming 
   Define SFL version 
   Large bitstring manipulation functions 
      bits_init 
      bits_term 
      bits_create 
      bits_destroy 
      bits_set 
      bits_clear 
      bits_test 
      bits_fput 
      bits_fget 
   Compression functions 
      compress_block 
      expand_block 
      compress_rle 
      expand_rle 
      compress_nulls 
      expand_nulls 
      compress_bits 
      expand_bits 
   Console output functions 
      console_send 
      console_enable 
      console_disable 
      console_set_mode 
      console_capture 
      coprintf 
      coputs 
      coputc 
   Conversion functions 
      conv_bool_str 
      conv_date_pict 
      conv_date_str 
      conv_number_str 
      conv_str_bool 
      conv_str_date 
      conv_str_day 
      conv_str_number 
      conv_str_time 
      conv_time_pict 
      conv_time_str 
   Encryption and decryption functions 
      crypt_encode 
      crypt_decode 
      calculate_crc 
   Date and time functions 
      date_now 
      time_now 
      leap_year 
      julian_date 
      day_of_week 
      next_weekday 
      prev_weekday 
      week_of_year 
      year_quarter 
      default_century 
      pack_date 
      pack_time 
      unpack_date 
      unpack_time 
      date_to_days 
      days_to_date 
      date_to_timer 
      timer_to_date 
      timer_to_time 
      timer_to_gmdate 
      timer_to_gmtime 
      time_to_csecs 
      csecs_to_time 
      future_date 
      past_date 
      date_diff 
      valid_date 
      valid_time 
      date_is_future 
      date_is_past 
      timezone_string 
      local_to_gmt 
      gmt_to_local 
      safe_localtime 
      safe_gmtime 
   External data representation functions 
      exdr_write 
      exdr_writed 
      exdr_read 
   Fast string searching functions 
      strfind 
      strfind_r 
      strfind_rb 
      memfind 
      memfind_r 
      memfind_rb 
      txtfind 
   File-access functions 
      file_open 
      file_locate 
      file_close 
      file_read 
      file_readn 
      file_write 
      file_copy 
      file_concat 
      file_rename 
      file_delete 
      file_exists 
      file_where 
      file_where_ext 
      file_cycle 
      file_cycle_needed 
      file_has_changed 
      safe_to_extend 
      default_extension 
      fixed_extension 
      strip_extension 
      add_extension 
      strip_file_path 
      strip_file_name 
      get_new_filename 
      file_is_readable 
      file_is_writeable 
      file_is_executable 
      file_is_program 
      file_is_directory 
      file_is_legal 
      file_exec_name 
      get_file_size 
      get_file_time 
      get_file_lines 
      file_slurp 
      file_slurpl 
      file_set_eoln 
      get_tmp_file_name 
      file_fhredirect 
      file_fhrestore 
      ftmp_open 
      ftmp_close 
   Fortune-cookie functions 
      fortune_build 
      fortune_read 
   Initialisation file access functions 
      ini_find_section 
      ini_scan_section 
      ini_dyn_load 
      ini_dyn_loade 
      ini_dyn_save 
      ini_dyn_changed 
      ini_dyn_refresh 
      ini_dyn_value 
      ini_dyn_values 
      srcdoc W (sflini.c 649): function ini_dyn_default not known 
   Multilanguage support 
      set_userlang 
      set_userlang_str 
      get_userlang 
      get_userlang_str 
      set_accents 
      get_accents 
      get_units_name 
      get_tens_name 
      get_day_name 
      get_day_abbrev 
      get_month_name 
      get_month_abbrev 
      timestamp_string 
   Line buffering functions 
      linebuf_create 
      linebuf_destroy 
      linebuf_reset 
      linebuf_append 
      linebuf_first 
      linebuf_next 
      linebuf_last 
      linebuf_prev 
   Linked-list functions 
      list_unlink 
      list_relink 
      list_add 
      list_remove 
      list_sort 
   SMTP mailer function 
      smtp_send_mail_ex 
      smtp_send_mail 
   Mathematic functions 
      point_in_rect 
      point_in_circle 
      point_in_poly 
   Message-file access functions 
      open_message_file 
      close_message_file 
      print_message 
      message_text 
   Memory allocation functions 
      mem_alloc_ 
      mem_realloc_ 
      mem_strdup_ 
      mem_strfree_ 
      mem_free_ 
      mem_assert_ 
      mem_checkall_ 
      mem_check_ 
      mem_descr_ 
      mem_new_trans_ 
      mem_commit_ 
      mem_rollback_ 
      mem_size_ 
      mem_used 
      mem_allocs 
      mem_frees 
      mem_display 
      mem_scavenger 
      mem_freeall 
   MIME support functions 
      encode_base64 
      decode_base64 
      decode_mime_time 
      encode_mime_time 
   Linked-list functions 
      node_create 
      node_destroy 
      node_relink_after 
      node_relink_before 
      node_unlink 
      node_relink 
   Directory access functions 
      open_dir 
      read_dir 
      close_dir 
      format_dir 
      fix_dir 
      free_dir 
      load_dir_list 
      free_dir_list 
      sort_dir_list 
      add_dir_list 
      resolve_path 
      locate_path 
      clean_path 
      get_curdir 
      set_curdir 
      file_matches 
      make_dir 
      remove_dir 
      dir_usage 
      dir_files 
   Process control functions 
      process_create_full 
      process_create 
      process_setinfo 
      process_open_io 
      process_close_io 
      process_status 
      process_kill 
      process_close 
      process_server 
      process_alarm 
      process_esc 
      process_unesc 
      process_priority 
   Time-slot functions 
      year_range_empty 
      year_range_fill 
      year_slot_clear 
      year_slot_set 
      year_slot_filled 
      day_range_empty 
      day_range_fill 
      day_slot_clear 
      day_slot_set 
      day_slot_filled 
      date_to_day 
      time_to_min 
   String-handling functions 
      strdupl 
      strfree 
      strskp 
      strcset 
      strpad 
      strlwc 
      strupc 
      strcrop 
      stropen 
      strclose 
      strunique 
      strmatch 
      strprefixed 
      strprefix 
      strdefix 
      strhash 
      strconvch 
      xstrcat 
      xstrcpy 
      lexcmp 
      lexncmp 
      lexwcmp 
      soundex 
      soundexn 
      strt2descr 
      descr2strt 
      strtfree 
      strcntch 
      strlookup 
      strreformat 
      removechars 
      replacechrswith 
      insertstring 
      insertchar 
      leftfill 
      rightfill 
      trim 
      ltrim 
      searchreplace 
      deletestring 
      getstrfld 
      setstrfld 
      getstrfldlen 
      findstrinfile 
      getequval 
      matchtable 
      stringreplace 
      wordwrapstr 
      stricstr 
      strtempcmp 
      istoken 
      eatstr 
      eatstrpast 
      movestrpast 
      eatchar 
      isoneoftokens 
   TCP/IP, UDP/IP socket functions 
      sock_init 
      sock_term 
      passive_TCP 
      passive_UDP 
      passive_socket 
      create_socket 
      connect_TCP 
      connect_UDP 
      connect_TCP_fast 
      connect_UDP_fast 
      connect_socket 
      connect_to_peer 
      address_end_point 
      build_sockaddr 
      socket_localaddr 
      socket_peeraddr 
      socket_nodelay 
      socket_is_alive 
      socket_error 
      accept_socket 
      connect_error 
      get_sock_addr 
      get_peer_addr 
      read_TCP 
      write_TCP 
      read_UDP 
      write_UDP 
      close_socket 
      sock_select 
      get_hostname 
      get_hostaddr 
      get_hostaddrs 
      sock_ntoa 
      sockmsg 
      winsock_last_error 
      socket_is_permitted 
      get_host_file 
      get_name_server 
   Symbol-table functions 
      sym_create_table_ 
      sym_delete_table 
      sym_empty_table 
      sym_merge_tables 
      sym_lookup_symbol 
      sym_create_symbol_ 
      sym_assume_symbol_ 
      sym_delete_symbol 
      sym_exec_all 
      sym_hash 
      sym_get_name 
      sym_get_value 
      sym_get_number 
      sym_get_boolean 
      sym_set_value 
      sym_sort_table 
      symb2strt_ 
      strt2symb_ 
      symb2descr_ 
      descr2symb_ 
   System-level functions (assertions,...) 
      sys_assert 
      sys_name 
   HTTP and CGI Support functions 
      http_escape 
      http_escape_size 
      http_escape_hex 
      http_unescape 
      http_unescape_hex 
      http_query2strt 
      http_query2symb 
      http_query2descr 
      http_encode_meta 
      encode_meta_char 
      http_decode_meta 
      decode_meta_charn 
      cgi_parse_query_vars 
      cgi_parse_file_vars 
      http_multipart_decode 
      is_full_url 
      build_full_url 
      http_time_str 
      cgi_get_input 
      cgi_fld_by_name 
      cgi_fld_by_index 
      cgi_fld_len_by_index 
      displayform 
   Environment variable functions 
      env_get_string 
      env_get_number 
      env_get_boolean 
      env2descr 
      descr2env 
      env2symb 
      symb2env 
      env_copy 
   String token manipulation functions. 
      tok_split 
      tok_split_rich 
      tok_free 
      tok_push 
      tok_size 
      tok_text_size 
      tok_subst 
   Linked-list functions 
      tree_init 
      tree_insert 
      tree_delete 
      tree_find_eq 
      tree_find_lt 
      tree_find_le 
      tree_find_gt 
      tree_find_ge 
      tree_traverse 
      tree_first 
      tree_last 
      tree_next 
      tree_prev 
   Tracing functions 
      enable_trace 
      disable_trace 
      push_trace 
      pop_trace 
      set_trace_file 
      trace 
   Process user id (uid) and group id (gid) functions 
      get_uid_name 
      get_gid_name 
      set_uid_user 
      set_uid_root 
      set_gid_user 
      set_gid_root 
      set_uid_gid 
      get_login 
   XML (Extensible Markup Language) access functions 
      xml_create 
      xml_new 
      xml_modify_value 
      xml_rename 
      xml_item_name 
      xml_item_value 
      xml_free 
      xml_attach_child 
      xml_attach_sibling 
      xml_detach 
      xml_first_child 
      xml_last_child 
      xml_next_sibling 
      xml_prev_sibling 
      xml_parent 
      xml_put_attr_ic 
      xml_attr_ic 
      xml_attr_name 
      xml_attr_value 
      xml_get_attr_ic 
      xml_free_attr 
      xml_first_attr 
      xml_last_attr 
      xml_next_attr 
      xml_prev_attr 
      xml_changed 
      xml_refresh 
   XML serialisation functions 
      xml_save_file 
      xml_save_string 
      xml_error 
      xml_seems_to_be 
      xml_load_file 
      xml_load_string 
 
      sym_assume_symbol_ 
      sym_delete_symbol 
      sym_exec_all 
      sym_hash 
      sym_get_name 
      sym_get_value 
      sym_get_number 
      sym_get_boolean 
      sym_set_value 
      sym_sort_table 
      symb2strt_ 
      strt2symb_ 
      symb2descr_ 
      descr2symb_ 
   System-level functions (assertions,...) 
      sys_assert 
      sys_name 
   HTTP and CGI Support functions 
      http_escape 
      http_escape_size 
      http_escape_hex 
      http_unescape 
      http_unescape_hex 
      http_query2strt 
      http_query2symb 
      http_query2descr 
      http_encode_meta 
      encode_meta_char 
      http_decode_meta 
      decode_meta_charn 
      cgi_parse_query_vars 
      cgi_parse_file_vars 
      http_multipart_decode 
      is_full_url 
      build_full_url 
      http_time_str 
      cgi_get_input 
      cgi_fld_by_name 
      cgi_fld_by_index 
      cgi_fld_len_by_index 
      displayform 
   Environment variable functions 
      env_get_string 
      env_get_number 
      env_get_boolean 
      env2descr 
      descr2env 
      env2symb 
      symb2env 
      env_copy 
   String token manipulation functions. 
      tok_split 
      tok_split_rich 
      tok_free 
      tok_push 
      tok_size 
      tok_text_size 
      tok_subst 
   Linked-list functions 
      tree_init 
      tree_insert 
      tree_delete 
      tree_find_eq 
      tree_find_lt 
      tree_find_le 
      tree_find_gt 
      tree_find_ge 
      tree_traverse 
      tree_first 
      tree_last 
      tree_next 
      tree_prev 
   Tracing functions 
      enable_trace 
      disable_trace 
      push_trace 
      pop_trace 
      set_trace_file 
      trace 
   Process user id (uid) and group id (gid) functions 
      get_uid_name 
      get_gid_name 
      set_uid_user 
      set_uid_root 
      set_gid_user 
      set_gid_root 
      set_uid_gid 
      get_login 
   XML (Extensible Markup Language) access functions 
      xml_create 
      xml_new 
      xml_modify_value 
      xml_rename 
      xml_item_name 
      xml_item_value 
      xml_free 
      xml_attach_child 
      xml_attach_sibling 
      xml_detach 
      xml_first_child 
      xml_last_chil>

--#BOUNDARY#--

From harbour@matrixlist.com  Fri Apr 27 23:32:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Fri Apr 27 22:32:02 2001
Subject: [Harbour] ChangeLog 2001-04-27 22:30 UTC-0400 David G. Holm
Message-ID: <200104280227.f3S2Rdw25082@smtp.parrett.net>

2001-04-27 22:30 UTC-0400 David G. Holm <dholm@jsd-llc.com>

  * doc/en/input.txt
  * include/hbapigt.h
  + include/hbinkey.ch
  * include/inkey.ch
  * source/rtl/gtapi.c
  * source/rtl/inkey.c
  * source/rtl/gt_tpl/gt_tpl.c
  * source/rtl/gtcgi/gtcgi.c
  * source/rtl/gtcrs/kbdcrs.c
  * source/rtl/gtdos/gtdos.c
  * source/rtl/gtos2/gtos2.c
  * source/rtl/gtpca/gtpca.c
  * source/rtl/gtsln/kbsln.c
  * source/rtl/gtstd/gtstd.c
  * source/rtl/gtwin/gtwin.c
  * tests/inkeytst.prg
    + Added a new HB_INKEY_EXTENDED mode that extends the number of
      unique keys that Harbour can distinguish between. The first
      implementation is for gtwin only, so the gtapi has a new API
      function that the inkey.c module uses to determine if the GT
      module supports the new HB_INKEY_EXTENDED mode. This way, it
      is not necessary to convert all GT drivers to support the new
      input mode at the same time. The new GT API function is named
      hb_gtExtendedKeySupport() and returns zero if the new mode is
      not supported or non-zero if the new extended mode is supported.
    * The INKEY() family of functions defaults to the normal Clipper-
      compatible key code mode. In order to use the extended code mode,
      you either need to set the global input mask to include the new
      HB_INKEY_EXTENDED value or include it in the second parameter for
      INKEY() and the new optional NEXTKEY() and LASTKEY() parameter.
    + A GT driver that supports extended key code mode must *always* use
      extended key codes. A new translation function in inkey.c is used
      to translate between extended and normal key codes when the new
      HB_INKEY_EXTENDED mode is not in use.
    + The new hbinkey.ch module defines and documents the new extended
      mode key codes, which are not compatible with the normal codes
      (with the obvious exception of character codes 0 through 255).
      These manifest constants use the HB_ prefix and are also defined
      for many duplicate codes (such as HB_K_CTRL_A, HB_ENTER, etc.)
    + Extended key codes consist of the PC keyboard scan code and one
      or more offset values. If no keyboard modifier was used, then
      HB_INKEY_NONE is added. The Alt key adds HB_INKEY_ALT, the Ctrl
      key adds HB_INKEY_CTRL, the Shift key adds HB_INKEY_SHIFT, and
      enhanced keys (KeyPad+/ and CursorPad keys) add HB_INKEY_ENHANCED.
      For example, F1 is scan code 59, so if you just press F1, you get
      key code 315, but Alt+F1 gives 443, Ctrl+F1 gives 571, and Shift+
      F1 gives 699. And NumPad+/ gives 1077, 1205, 1333, and 1461. At
      this time, the only value that can combine with other values is
      HB_INKEY_ENHANCED (i.e., there are no Alt+Ctl combinations, etc.)
    + Note: The extended key code set is larger than the normal key code
      set. As a result, if you switch between the normal and extended
      modes, you need to be aware that some codes get translated into a
      zero in normal mode (because there is no corresponding code in
      normal mode) and that these codes get removed from the keyboard
      input buffer in normal mode and you won't be able to go back and
      fetch them later in extended mode.
    + In order to allow testing the new extended mode, the inkeytst.prg
      module has been extended to interpret the second parameter. If it
      is not present, then normal mode is used. If it starts with an "R"
      (or "r"), then raw mode is used. Otherwise, extended mode is used.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Sat Apr 28 02:32:02 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Sat Apr 28 01:32:02 2001
Subject: [Harbour] Re: Replaceable drivers for SQL DBMS suggestion
In-Reply-To: <002401c0cf7d$716240a0$6bd4d7c8@luizguim>
References: <1821559594.20010427144108@belacy.belgorod.su>
 <3AE9A0D9.D3F350DD@libero.it> <8813240740.20010427220651@belacy.belgorod.su>
 <002401c0cf7d$716240a0$6bd4d7c8@luizguim>
Message-ID: <703057123.20010428093014@belacy.belgorod.su>

On 28.04.2001 4:47, Luiz Rafael Culik Guimaraes <culik@nh.conex.com.br> wrote:

LRCG> I fully agree wth alexander, Most company are creating linux version for
LRCG> their product, as an example, Oracle and Delphi.
LRCG> If we can have an native Driver , Harbour would be imbatible

 Why only Linux ? This will work on all platforms, where exists
 appropriate client API. MySQL and postgreSQL has WIndows ports of
 their APIs.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Sat Apr 28 02:32:36 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Sat Apr 28 01:32:36 2001
Subject: [Harbour] Re: Some numbers are not as equal as others!!!
In-Reply-To: <200104271612.f3RGCdw11694@smtp.parrett.net>
References: <200104271612.f3RGCdw11694@smtp.parrett.net>
Message-ID: <101439930.20010428090318@belacy.belgorod.su>

On 27.04.2001 20:15, David G. Holm <dholm@jsd-llc.com> wrote:

DGH> Here's what I get with RSXNT with Harbour:

>> 1191.630000000000109 1191.629999999999882       1191.630000000000109
>> >> 1191.629999999999882 <<>>       1191.630000000000109 <<
>> better be true: .F.

DGH> Which means that the problem with Harbour is that the VAL() function
DGH> and the compiler aren't using the same method to convert strings to
DGH> double values.

 Probably, we should use hb_numRound() in Val() and in compiler, since
 the number of decimal positions is known there.

 There could be in Val():
 
   dValue = hb_numRound( dValue,ulDecPos );


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Sat Apr 28 02:33:13 2001
From: harbour@matrixlist.com (Alexander S.Kresin)
Date: Sat Apr 28 01:33:13 2001
Subject: [Harbour] Re: Replaceable drivers for SQL DBMS suggestion
In-Reply-To: <003101c0cf62$f8f081f0$a95d623e@teamwork.lan>
References: <003101c0cf62$f8f081f0$a95d623e@teamwork.lan>
Message-ID: <1532830489.20010428092628@belacy.belgorod.su>

On 28.04.2001 1:42, Lorenzo Fiorini <lorenzofiorini@inwind.it> wrote:

LF> Clearly contrib\mysql and contrib\odbc use different classes and methods but
LF> they basically do the same job.

 Yes, that's really interesting, I didn't think about it. So there
 could be driver for ODBC's, too, which will support the same
 interface.
 
LF>  I think the first step should be to agree on
LF> a set of classes to connect, issue the sql statement and retrieve the
LF> results.

 For now I don't think about set of classes. This should be the second
 step, this set may be based on Maurilio's classes with
 some modofications, rethinking and extensions.
 
 Now we need to consider the C-level set of methods. As a first step
 we can take basic functions, similar to those, used in mysql.c, and
 later extend it.
 
LF>  Than there is the question of the primary key for the updates.
LF> Maurilio solved this retrieving the primary key and creating the where
LF> clause. It could be also possible to add a recno ( or row_id ) autoincrement
LF> field as primary key to easy the migration of DBFs since it will be useful
LF> to have something like recno() and primary key is not guaranteed in a DBF.

 Yes, I think that this is reasonable. Some DBMSs has such hidden
 field by default. In postgreSQL it has a name 'oid', in Oracle -
 'rowid', this field cannot be retrieved by Select * from ..., but
 with direct calling it: Select oid,... from ... .
 


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@matrixlist.com  Sat Apr 28 04:53:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Sat Apr 28 03:53:02 2001
Subject: [Harbour] Re: Some numbers are not as equal as others!!!
References: <200104271612.f3RGCdw11694@smtp.parrett.net> <101439930.20010428090318@belacy.belgorod.su>
Message-ID: <002401c0cfb9$2d99d6d0$921a5e18@bh>

Alexander:

> DGH> Which means that the problem with Harbour is that the VAL() function
> DGH> and the compiler aren't using the same method to convert strings to
> DGH> double values.
>
>  Probably, we should use hb_numRound() in Val() and in compiler, since
>  the number of decimal positions is known there.
>
>  There could be in Val():
>
>    dValue = hb_numRound( dValue,ulDecPos );

I put this into val.c and the test did work right for 4 or 5 values tested
without changing anything in the compiler.
But notice that the number still has a non-exact value even after
hb_numRound was used (the second number is the Val() call).  It just happens
to match what the compiler was doing.

1191.63 1191.630000000000109       1191.630000000000109
>> 1191.630000000000109 <<>>       1191.630000000000109 <<
better be true: .T.

David has an interesting point.  Val() has a clear method for creating the
double.
Does anyone know where in the code the compiler actually constructs a double
from the "string" source when creating a value for a variable as in
  local n := 1191.63  ??

Actually, hb_vmPushDoubleConst() in hvm.c gets the double already passed in,
so "the compiler" that creates the double seems to be Borland here, not
Harbour, right?
So how can we be sure that val.c always creates the same double that the C
compiler does?

Brian



From harbour@matrixlist.com  Sat Apr 28 07:00:06 2001
From: harbour@matrixlist.com (Luiz Rafael Culik Guimaraes)
Date: Sat Apr 28 06:00:06 2001
Subject: [Harbour] Re: Replaceable drivers for SQL DBMS suggestion
References: <1821559594.20010427144108@belacy.belgorod.su> <3AE9A0D9.D3F350DD@libero.it> <8813240740.20010427220651@belacy.belgorod.su> <002401c0cf7d$716240a0$6bd4d7c8@luizguim> <703057123.20010428093014@belacy.belgorod.su>
Message-ID: <001701c0cfca$09cc47e0$e8d4d7c8@luizguim>

Dear Friend
> LRCG> I fully agree wth alexander, Most company are creating linux version
for
> LRCG> their product, as an example, Oracle and Delphi.
> LRCG> If we can have an native Driver , Harbour would be imbatible
>
>  Why only Linux ? This will work on all platforms, where exists
>  appropriate client API. MySQL and postgreSQL has WIndows ports of
>  their APIs.

Sorry.What I want to say is, with many companies creating and/or porting
their products to Linux with the exception of Micro$oft. we can have an
powerfull data base access., Like IBM DB2,Oracle,Mysql and others

Regards

Luiz Rafael Culik


From harbour@matrixlist.com  Sat Apr 28 08:31:02 2001
From: harbour@matrixlist.com (Phil Barnett)
Date: Sat Apr 28 07:31:02 2001
Subject: [Harbour] Re: Some numbers are not as equal as others!!!
In-Reply-To: <002401c0cfb9$2d99d6d0$921a5e18@bh>
Message-ID: <3AEA71A4.24198.49C39FA1@localhost>

On 28 Apr 2001, at 0:59, Brian Hays wrote:

> Alexander:
> 
> > DGH> Which means that the problem with Harbour is that the VAL() funct=
ion
> > DGH> and the compiler aren't using the same method to convert strings =
to
> > DGH> double values.
> >
> >  Probably, we should use hb_numRound() in Val() and in compiler, since
> >  the number of decimal positions is known there.
> >
> >  There could be in Val():
> >
> >    dValue =3D hb_numRound( dValue,ulDecPos );
> 
> I put this into val.c and the test did work right for 4 or 5 values test=
ed
> without changing anything in the compiler.
> But notice that the number still has a non-exact value even after
> hb_numRound was used (the second number is the Val() call).  It just hap=
pens
> to match what the compiler was doing.
> 
> 1191.63 1191.630000000000109       1191.630000000000109
> >> 1191.630000000000109 <<>>       1191.630000000000109 <<
> better be true: .T.
> 
> David has an interesting point.  Val() has a clear method for creating t=
he
> double.
> Does anyone know where in the code the compiler actually constructs a do=
uble
> from the "string" source when creating a value for a variable as in
>   local n :=3D 1191.63  ??
> 
> Actually, hb_vmPushDoubleConst() in hvm.c gets the double already passed=
 in,
> so "the compiler" that creates the double seems to be Borland here, not
> Harbour, right?
> So how can we be sure that val.c always creates the same double that the=
 C
> compiler does?

There is a way to solve this once and for all that yields a correct 
number nearly all the time. (only exception is for repeating 
decimals, which probably will never match in binary match anyway)

We could modify the following routine to always run at the 
maximum numeric precision instead of the .0000000000000005

This really works. Feel free to rename it.

*+=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=
=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=
=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2
*+
*+    Source Module =3D> F:\PRBFUNC\5.2\PRB_INT.PRG
*+
*+    Copyright (C) 1997, Phil Barnett. All Rights Reserved 
Worldwide.
*+    Released to GPL license W/ Harbour Exception
*+    Functions: Function PRB_INT()
*+
*+    Reformatted by Click! 1.09 on Jul-1-1997 at  9:17 pm
*+
*+=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=
=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=
=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2=B2

#include "COMMON.CH"

*+=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=
=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=
=B1=B1=B1=B1=B1
=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1
*+
*+    Function PRB_INT()
*+
*+=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=
=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=
=B1=B1=B1=B1=B1
=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1=B1
*+
function PRB_INT( SOMENUMBER, LENGTH, NUM_DECIMALS )

local NEGATIVE   :=3D ( SOMENUMBER < 0 )
local SOMESTRING

Default NUM_DECIMALS to 0
Default LENGTH to 19

if NEGATIVE
   SOMENUMBER :=3D abs( SOMENUMBER )
endif

SOMENUMBER +=3D .0000000000000005

SOMESTRING :=3D alltrim( str( SOMENUMBER, LENGTH, 
NUM_DECIMALS ) )

if NEGATIVE
   SOMESTRING :=3D '-' + SOMESTRING
endif

return val( SOMESTRING )

*+ EOF: PRB_INT.PRG


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@matrixlist.com  Sat Apr 28 17:17:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Sat Apr 28 16:17:02 2001
Subject: [Harbour] Re: Some numbers are not as equal as others!!!
References: <3AEA71A4.24198.49C39FA1@localhost>
Message-ID: <009f01c0d021$24826f40$921a5e18@bh>

This is a multi-part message in MIME format.

------=_NextPart_000_009C_01C0CFE6.77BEBAF0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit

Phil, David, Alexander, et al:

I think we have a different problem than Clipper did, and
I'm not sure how to apply the PRB_INT idea in the C code.  David's example
shows the difference in representation starting at the 13th decimal and
continuing for 3 more decimal places.  So adding a ...5 would have to happen
around the 14th digit, which is not at the maximum precision??
Also, this PRG ends by returning the value returned by Val(), and so far it
looks like val() itself is the routine returning an unusual value.

With the original Harbour library code, I changed the test to add the ...5
at the prg level, and it still fails.  But it gets worse:

In seeing that the float was created differently in different scenarios, I
tried two more scenarios:  retrieving from rdddbf and from rddads.  Each
gives different results. The value from rddads looks the best (shows all
zeros) but the "equals test" still returns FALSE...
  USING ads
  1191.63 1191.630000000000000  1191.630000000000000
  >> 1191.630000000000000 <<>>  1191.630000000000000 <<
  better be true: .F.

YIKES!

I've attached the testeq.prg.  Just comment out the #define at the top to
use the default rdd.
Notice that 1191.62 does compare correctly in these scenarios as well, but
1191.63 fails.

It really does seem that the building of the double in val.c is simply
different than how it gets created when coded in source or read from a dbf,
but I don't see where those algorithms live.

Brian

P.S.
Another strange thing is that, depending on which rdd is loaded, this
constant displays differently, without using any rdd functions:
  x := 1191.63
This prints the zeroes seen above with ads, but with the default rdd has the
"109" in the last 3 digits.


----- Original Message -----
From: "Phil Barnett" <midnight@the-oasis.net>
To: <harbour@matrixlist.com>
Sent: Saturday, April 28, 2001 4:30 AM
Subject: Re: [Harbour] Re: Some numbers are not as equal as others!!!


On 28 Apr 2001, at 0:59, Brian Hays wrote:

> Alexander:
>
> > DGH> Which means that the problem with Harbour is that the VAL()
function
> > DGH> and the compiler aren't using the same method to convert strings to
> > DGH> double values.
> >
> >  Probably, we should use hb_numRound() in Val() and in compiler, since
> >  the number of decimal positions is known there.
> >
> >  There could be in Val():
> >
> >    dValue = hb_numRound( dValue,ulDecPos );
>
> I put this into val.c and the test did work right for 4 or 5 values tested
> without changing anything in the compiler.
> But notice that the number still has a non-exact value even after
> hb_numRound was used (the second number is the Val() call).  It just
happens
> to match what the compiler was doing.
>
> 1191.63 1191.630000000000109       1191.630000000000109
> >> 1191.630000000000109 <<>>       1191.630000000000109 <<
> better be true: .T.
>
> David has an interesting point.  Val() has a clear method for creating the
> double.
> Does anyone know where in the code the compiler actually constructs a
double
> from the "string" source when creating a value for a variable as in
>   local n := 1191.63  ??
>
> Actually, hb_vmPushDoubleConst() in hvm.c gets the double already passed
in,
> so "the compiler" that creates the double seems to be Borland here, not
> Harbour, right?
> So how can we be sure that val.c always creates the same double that the C
> compiler does?

There is a way to solve this once and for all that yields a correct
number nearly all the time. (only exception is for repeating
decimals, which probably will never match in binary match anyway)

We could modify the following routine to always run at the
maximum numeric precision instead of the .0000000000000005

This really works. Feel free to rename it.

*+
*+
*+    Source Module => F:\PRBFUNC\5.2\PRB_INT.PRG
*+
*+    Copyright (C) 1997, Phil Barnett. All Rights Reserved
Worldwide.
*+    Released to GPL license W/ Harbour Exception
*+    Functions: Function PRB_INT()
*+
*+    Reformatted by Click! 1.09 on Jul-1-1997 at  9:17 pm
*+
*+

#include "COMMON.CH"

*+

*+
*+    Function PRB_INT()
*+
*+

*+
function PRB_INT( SOMENUMBER, LENGTH, NUM_DECIMALS )

local NEGATIVE   := ( SOMENUMBER < 0 )
local SOMESTRING

Default NUM_DECIMALS to 0
Default LENGTH to 19

if NEGATIVE
   SOMENUMBER := abs( SOMENUMBER )
endif

SOMENUMBER += .0000000000000005

SOMESTRING := alltrim( str( SOMENUMBER, LENGTH,
NUM_DECIMALS ) )

if NEGATIVE
   SOMESTRING := '-' + SOMESTRING
endif

return val( SOMESTRING )

*+ EOF: PRB_INT.PRG


--
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net
_______________________________________________
Harbour mailing list
Harbour@matrixlist.com
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org


------=_NextPart_000_009C_01C0CFE6.77BEBAF0
Content-Type: application/octet-stream;
	name="TestEQ.PRG"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
	filename="TestEQ.PRG"

//#define USEADS

#ifdef USEADS
   #include "Ads.ch"
#else
   Request dBfCdx
#endif

function Main()

local cLine, x
local n
local aStruct := { { "CHARACTER", "C", 25, 0 }, ;
                     { "NUMERIC",   "N",  8, 0 }, ;
                     { "DOUBLE",    "N",  8, 2 }, ;
                     { "DATE",      "D",  8, 0 }, ;
                     { "NOTE",      "M", 10, 0 }, ;
                     { "LOGICAL",   "L",  1, 0 } }

#ifdef USEADS
   REQUEST _ADS
   rddRegister( "ADS", 1 )
   rddsetdefault( "ADS" )
   SET SERVER LOCAL //   LOCAL REMOTE
   hb_traceState(0)
   hb_traceLevel(5)

   AdsSetFileType(ADS_CDX)
   ? "USING ads"
#else
   ? "NOT Using ads"
#endif

dbCreate("testeq.dbf", aStruct)
use testeq excl
append blank
repl double with 1191.63

n := field->double
x := 1191.63
set decimals to 15
set fixed on
//n := 1191.63 // 1191.62 works right  4677.86 //
//n += .0000000000000005

//cLine := alltrim(str(n,9,2))
//? cLine, val(cLine), n
//x := val(cline)
? ">>", x, "<<>>", n, "<<"
? "better be true:", x == n
? "better be true:", n == x

?
return nil

------=_NextPart_000_009C_01C0CFE6.77BEBAF0--


From harbour@matrixlist.com  Sat Apr 28 17:44:02 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Sat Apr 28 16:44:02 2001
Subject: [Harbour] Re: Some numbers are not as equal as others!!!
In-Reply-To: <009f01c0d021$24826f40$921a5e18@bh>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOELPDLAA.Ron@Profit-Master.com>

Brian,

> It really does seem that the building of the double in val.c is simply
> different than how it gets created when coded in source or read 
> from a dbf,
> but I don't see where those algorithms live. 

The compiler logic is this:

   yylval.valDouble.dNumber = atof( yytext );
   tmpPtr = strchr( yytext, '.' );

   if( tmpPtr )
   {
      yylval.valDouble.bDec = strlen( tmpPtr + 1 );
      yylval.valDouble.bWidth = yyleng - yylval.valDouble.bDec;

      if( yylval.valDouble.bDec )
      {
         yylval.valDouble.bWidth--;
      }
   
      yylval.valDouble.szValue = yytext;
      iRet = NUM_DOUBLE;
   }

Ron

From harbour@matrixlist.com  Sat Apr 28 17:52:01 2001
From: harbour@matrixlist.com (Phil Barnett)
Date: Sat Apr 28 16:52:01 2001
Subject: [Harbour] Re: Some numbers are not as equal as others!!!
In-Reply-To: <009f01c0d021$24826f40$921a5e18@bh>
Message-ID: <3AEAF517.3296.4BC51DE2@localhost>

On 28 Apr 2001, at 13:23, Brian Hays wrote:

> 
> I think we have a different problem than Clipper did, and
> I'm not sure how to apply the PRB_INT idea in the C code.  David's example
> shows the difference in representation starting at the 13th decimal and
> continuing for 3 more decimal places.  So adding a ...5 would have to
> happen around the 14th digit, which is not at the maximum precision??
> Also, this PRG ends by returning the value returned by Val(), and so far
> it looks like val() itself is the routine returning an unusual value.

Not that the prb_int idea is usable in the current context, but if it is, 
we could do some pretty good things with it.

One thing we might consider if we can get such a thing working 
would be to lose a single digit of precision in the name of rounding. 
Our VM would retain that last digit of precision and perform the 
addition and rouding, but the user of the compiler/VM would never 
see that last digit.

I percieve that we could possibly attain 15 stable decimal digits of 
binary math in a 16 decimal digit system. (or one less than 
whatever the decimal precision of the system at hand supplies)

Does that make sense?


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@matrixlist.com  Sat Apr 28 18:16:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Sat Apr 28 17:16:01 2001
Subject: [Harbour] Errors
In-Reply-To: <3AEAF517.3296.4BC51DE2@localhost>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEMADLAA.Ron@Profit-Master.com>

C:\cvs\harbour\tests>bld_b32 db_brows
Harbour Compiler 0.36  (Build 36) (2001.02.20) (SimpLex)
Copyright 1999-2000, http://www.harbour-project.org
Compiling 'db_brows.prg'...
Lines 758, Functions/Procedures 11
Generating C source output to 'db_brows.c'... Done.
Borland C++ 5.5 for Win32 Copyright (c) 1993, 2000 Borland
db_brows.c:
Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
Error: Unresolved external '_HB_FUN_FIELDTYPE' referenced from
C:\CVS\HARBOUR\TESTS\DB_BROWS.OBJ
Error: Unresolved external '_HB_FUN_FIELDSIZE' referenced from
C:\CVS\HARBOUR\TESTS\DB_BROWS.OBJ
Error: Unresolved external '_HB_FUN_FIELDDECI' referenced from
C:\CVS\HARBOUR\TESTS\DB_BROWS.OBJ


From harbour@matrixlist.com  Sat Apr 28 18:22:01 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Sat Apr 28 17:22:01 2001
Subject: [Harbour] ChangeLog 2001-04-28 02:10 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEMADLAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEMADLAA.Ron@Profit-Master.com>

2001-04-28 02:10 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * include/hbapi.h
     - Removed 2nd parameter from hb_arrayClone() declaration

   * source/vm/arrays.c
     - Removed 2nd parameter from definition of hb_arrayClone(), added a
static s_pClonedList instead.

   * source/vm/arrayshb.c
   * source/vm/classes.c
   * source/vm/hvm.c
     - Removed 2nd parameter from calls to hb_arrayClone()


From harbour@matrixlist.com  Sat Apr 28 18:30:03 2001
From: harbour@matrixlist.com (Ron Pinkas)
Date: Sat Apr 28 17:30:03 2001
Subject: [Harbour] Compiler Warning (David)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEMADLAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEMBDLAA.Ron@Profit-Master.com>

Warning W8057 source\rtl\gtwin\gtwin.c 283: Parameter 'bEnhanced' is never
used in function StdFnKeys


From harbour@matrixlist.com  Sat Apr 28 18:32:02 2001
From: harbour@matrixlist.com (Martin Vogel)
Date: Sat Apr 28 17:32:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-28 23:15 CET Martin Vogel <vogel@inttec.de>
Message-ID: <000601c0d02b$3d731fe0$facbce81@martinvogel>

2001-04-28 23:15 CET Martin Vogel <vogel@inttec.de>

   + contrib/libct/atrepl.c
     ! ATREPL() function with !new! 6th parameter

   + contrib/libct/charlist.c
     ! CHARLIST(), CHARNOLIST() function
     + CHARSLIST() sorted character list  !New function!
     + CHARHIST()  character histogram    !New function!

   * contrib/libct/Makefile
     + added atrepl.c
     + added charlist.c

   * contrib/libct/makefile.bc
     + added atrepl.c
     + added charlist.c

   * contrib/libct/makefile.vc
     + added atrepl.c
     + added charlist.c

   * contrib/libct/readme.txt
     ! enhancement list updated !

   * contrib/libct/ctflist.txt
     ! function status list updated !

   + contrib/libct/tests/atrepl.prg
     ! test program for the ATREPL() function

   + contrib/libct/tests/charlist.prg
     ! test program for the CHARLIST() function

   + contrib/libct/tests/charnlst.prg
     ! test program for the CHARNOLIST() function

   + contrib/libct/tests/charslst.prg
     ! test program for the new CHARSLIST() function

   + contrib/libct/tests/charhist.prg
     ! test program for new CHARHIST() function

   * contrib/libct/tests/Makefile
     + added atrepl.prg
     + added charlist.prg
     + added charnlst.prg
     + added charslst.prg
     + added charhist.prg

   * contrib/libct/ctflist.txt
     ! function status list updated !



From harbour@matrixlist.com  Sat Apr 28 18:44:02 2001
From: harbour@matrixlist.com (Antonio Linares)
Date: Sat Apr 28 17:44:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-28 23:15 CET Martin Vogel <vogel@inttec.de>
In-Reply-To: <000601c0d02b$3d731fe0$facbce81@martinvogel>
Message-ID: <001401c0d02c$2c2da060$0f2aa8c0@antonio>

Martin,

Thanks so much!

Antonio

> -----Mensaje original-----
> De: harbour-admin@matrixlist.com [mailto:harbour-admin@matrixlist.com]En
> nombre de Martin Vogel
> Enviado el: sbado, 28 de abril de 2001 23:28
> Para: Harbour Mailing List
> Asunto: [Harbour] CHANGELOG: 2001-04-28 23:15 CET Martin Vogel
> <vogel@inttec.de>
>
>
> 2001-04-28 23:15 CET Martin Vogel <vogel@inttec.de>
>
>    + contrib/libct/atrepl.c
>      ! ATREPL() function with !new! 6th parameter
>
>    + contrib/libct/charlist.c
>      ! CHARLIST(), CHARNOLIST() function
>      + CHARSLIST() sorted character list  !New function!
>      + CHARHIST()  character histogram    !New function!
>
>    * contrib/libct/Makefile
>      + added atrepl.c
>      + added charlist.c
>
>    * contrib/libct/makefile.bc
>      + added atrepl.c
>      + added charlist.c
>
>    * contrib/libct/makefile.vc
>      + added atrepl.c
>      + added charlist.c
>
>    * contrib/libct/readme.txt
>      ! enhancement list updated !
>
>    * contrib/libct/ctflist.txt
>      ! function status list updated !
>
>    + contrib/libct/tests/atrepl.prg
>      ! test program for the ATREPL() function
>
>    + contrib/libct/tests/charlist.prg
>      ! test program for the CHARLIST() function
>
>    + contrib/libct/tests/charnlst.prg
>      ! test program for the CHARNOLIST() function
>
>    + contrib/libct/tests/charslst.prg
>      ! test program for the new CHARSLIST() function
>
>    + contrib/libct/tests/charhist.prg
>      ! test program for new CHARHIST() function
>
>    * contrib/libct/tests/Makefile
>      + added atrepl.prg
>      + added charlist.prg
>      + added charnlst.prg
>      + added charslst.prg
>      + added charhist.prg
>
>    * contrib/libct/ctflist.txt
>      ! function status list updated !
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>
>



From harbour@matrixlist.com  Sat Apr 28 19:41:03 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Sat Apr 28 18:41:03 2001
Subject: [Harbour] Re: Replaceable drivers for SQL DBMS suggestion
References: <1821559594.20010427144108@belacy.belgorod.su>
 <3AE9A0D9.D3F350DD@libero.it> <8813240740.20010427220651@belacy.belgorod.su>
Message-ID: <3AEB2034.DC4ABD28@libero.it>

Alexander,

I'm really short on spare time as you can see from the fact that I haven't updated
my contrib\mysql for months, so I cannot say that I will find time to follow (or
help) your project but I see your point in having a middle layer between tmysql.prg
and mysql.c which could free tmysql.prg from its dependance upon a given SQL
server.

As soon as I find a little free time I'll look into your files with all due
attention.


regards.




"Alexander S.Kresin" ha scritto:

>  Maurilio,
>
> ML> we already have contrib\mysql and contrib\msql which are very similar
> ML> (tmysql.prg and .c are newer versions of tmsql.prg and .c). With a little
> ML> work tmysql.prg could be adapted to use msql.c low level code to connect to
> ML> a msql server.
>
> ML> I think we should improve what we already have instead of starting again
> ML> from scratch (and tmysql.prg works nicely, I use in in several little
> ML> utilities).
>
>  Your mySQL API works nice - I can confirm this, I finished the mysql
>  client 1.0 based on it ( will upload it to my wep page soon ).
>
>  But if we'll write postgreSQL API ( I played with it yesterday ) ?
>  Oracle API ?
>  Having this Replaceable drivers, we could use the same Harbour code
>  to access different DBMS.
>  I don't want to rewrite, for example, mysql client for using with
>  postgreSQL, I want to use the same code, adding only PG_INIT() to the
>  program - and this is possible.
>  As I see it, your mysql.c demand not a big changes to convert it into
>  mysqlrdd.c . And your classes will not be changed significantly to
>  work with this RDD - but after this they could be used for access to
>  other DBMS without changes ! Isn't this a good way to extend them ?!
>
>  I will send you my files to help catch the idea. Hope on your
>  cooperation.
>
> Best regards,
>  Alexander
> http://members.xoom.com/alkresin/
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--

 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia





From harbour@matrixlist.com  Sat Apr 28 19:42:02 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Sat Apr 28 18:42:02 2001
Subject: [Harbour] Re: Replaceable drivers for SQL DBMS suggestion
References: <003101c0cf62$f8f081f0$a95d623e@teamwork.lan>
Message-ID: <3AEB22E4.D04DCF77@libero.it>

Lorenzo,

I think that adding a "hidden" field to any given table to have something which
resembles a record number is not the way to go. If you have a key you have a
"record number".

Next record is always > than current record key, previous is < than current
record key. If you need a tbrowse full of records you simply ask for next nn
records > than current record key. You simply need a little more abstraction and
it seems to me that clipper 5.3 had such a higher level of abstraction.

I do understand that for anyone coming from clipper record number is a "given
feature", but sometimes it can be avoided with very little coding.

regards.


Lorenzo Fiorini ha scritto:

> Alexander, Maurilio,
>
> I'm very interested in this subject and I already did some tests and some
> thoughts about it. This is only the description of what I did but I don't
> think this is the best or the right way to do it. I only hope that this
> could help the discussion. Still in 1999 I succesfully used contrib\odbc to
> connect to an Access MDB and recently I used contrib\mysql to move data from
> my applications to my PHP/Mysql e-commerce app. Than I thought to unify the
> interfaces at PRG level so that it could be possible to move from one driver
> to another without changing the code. I separated the C interface of odbc
> that I called HDI ( Harbour Data Interface ) from the PRG classes that I
> called HDO ( Harbour Data Objects ). I did some small modifications to C
> interface ( my C knowledge is very basic ) and I decided to follow PHP ADODB
> ( which in turn follow ADO ) naming the classes and the methods for the PRG
> classes( Connection, Command, RecordSet, Field, Error ). A result program
> could be this:
>
> procedure main
> local oCnn
> local oRst
> ? "Creating connection"
> oCnn := THDOWODBCConnection():New(
> "DSN=test_mysql;UID=guest;PWD=guestonly" )
> ? "Creating recordset"
> oRst := THDOWODBCRecordSet():New()
> ? "Open recordset"
> oRst:Open( "select que_name, que_desc, prn_type from dbftable", oCnn )
> ? "Showing data"
> do while !oRst:eof
>    ? oRst:Fields( "que_name" ):value, oRst:Fields( "que_desc" ):value,
> oRst:Fields( "prn_type" ):value
>    oRst:MoveNext()
> enddo
> oRst:Close()
> oCnn:Close()
> return
>
> Clearly contrib\mysql and contrib\odbc use different classes and methods but
> they basically do the same job. I think the first step should be to agree on
> a set of classes to connect, issue the sql statement and retrieve the
> results. Than there is the question of the primary key for the updates.
> Maurilio solved this retrieving the primary key and creating the where
> clause. It could be also possible to add a recno ( or row_id ) autoincrement
> field as primary key to easy the migration of DBFs since it will be useful
> to have something like recno() and primary key is not guaranteed in a DBF.
> Surely it will be much better to have a superclass to avoid changing the
> name of the methods and so on. Forgive this long message and my English but
> I hope this could help to create a good interface to SQL servers.
>
> Regards.
> Lorenzo Fiorini
> lorenzofiorini@inwind.it
>
> _______________________________________________
> Harbour mailing list
> Harbour@matrixlist.com
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--

 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia




From harbour@matrixlist.com  Sat Apr 28 19:48:02 2001
From: harbour@matrixlist.com (Brian Hays)
Date: Sat Apr 28 18:48:02 2001
Subject: [Harbour] Re: Some numbers are not as equal as others!!!
References: <3AEAF517.3296.4BC51DE2@localhost>
Message-ID: <011d01c0d036$372de560$921a5e18@bh>

----- Original Message -----
From: "Phil Barnett" <midnight@the-oasis.net>
...
> I percieve that we could possibly attain 15 stable decimal digits of
> binary math in a 16 decimal digit system. (or one less than
> whatever the decimal precision of the system at hand supplies)
>
> Does that make sense?

It does to me, but I have no experience with the unix flavors of C
compilers.
If we can agree that 15 digits is available on all possible platforms (Palm
os?), then it would be good to validate that we are consistent at that level
in all circumstances.

Brian


From harbour@matrixlist.com  Sat Apr 28 23:29:02 2001
From: harbour@matrixlist.com (Phil Barnett)
Date: Sat Apr 28 22:29:02 2001
Subject: [Harbour] Re: Some numbers are not as equal as others!!!
In-Reply-To: <011d01c0d036$372de560$921a5e18@bh>
Message-ID: <3AEB4408.28356.4CF97EC4@localhost>

On 28 Apr 2001, at 15:54, Brian Hays wrote:

> 
> ----- Original Message -----
> From: "Phil Barnett" <midnight@the-oasis.net>
> ...
> > I percieve that we could possibly attain 15 stable decimal digits of
> > binary math in a 16 decimal digit system. (or one less than
> > whatever the decimal precision of the system at hand supplies)
> >
> > Does that make sense?
> 
> It does to me, but I have no experience with the unix flavors of C
> compilers.
> If we can agree that 15 digits is available on all possible platforms (Palm
> os?), then it would be good to validate that we are consistent at that level
> in all circumstances.

We don't have to agree that it's 15. We need to agree that we can 
provide one less that the existing precision on the system at hand. 
This may change from system to system and compiler to compiler.

I'm not even sure if there is a function in ANSI C to reveal this 
depth. Probably not.


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@matrixlist.com  Sun Apr 29 00:30:03 2001
From: harbour@matrixlist.com (Mark W. Schumann)
Date: Sat Apr 28 23:30:03 2001
Subject: [Harbour] Re: Some numbers are not as equal as others!!!
In-Reply-To: <3AEB4408.28356.4CF97EC4@localhost>; from midnight@the-oasis.net on Sat, Apr 28, 2001 at 10:28:24PM -0400
References: <011d01c0d036$372de560$921a5e18@bh> <3AEB4408.28356.4CF97EC4@localhost>
Message-ID: <20010428233249.B31843@columbus.private.underflap.com>

On Sat, Apr 28, 2001 at 10:28:24PM -0400, Phil Barnett wrote:
> On 28 Apr 2001, at 15:54, Brian Hays wrote:
> 
> > 
> > ----- Original Message -----
> > From: "Phil Barnett" <midnight@the-oasis.net>
> > ...
> > > I percieve that we could possibly attain 15 stable decimal digits of
> > > binary math in a 16 decimal digit system. (or one less than
> > > whatever the decimal precision of the system at hand supplies)
> > >
> > > Does that make sense?
> > 
> > It does to me, but I have no experience with the unix flavors of C
> > compilers.
> > If we can agree that 15 digits is available on all possible platforms (Palm
> > os?), then it would be good to validate that we are consistent at that level
> > in all circumstances.
> 
> We don't have to agree that it's 15. We need to agree that we can 
> provide one less that the existing precision on the system at hand. 
> This may change from system to system and compiler to compiler.
> 
> I'm not even sure if there is a function in ANSI C to reveal this 
> depth. Probably not.

I think you want:

#include <float.h>

printf ("number of digits in a double is %d; in a long double is %d.\n",
 DBL_DIG, LDBL_DIG);

Found this on http://www.kompf.de/cplus/cliblist.html

-- 
"I am Bob the Tomato in a 'Larry the Cucumber' world."
                                                  --me

From harbour@matrixlist.com  Sun Apr 29 06:08:02 2001
From: harbour@matrixlist.com (Madeira de Brito)
Date: Sun Apr 29 05:08:02 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
References: <3AE964C5.28795.4170FB@localhost> <3AE96F06.7190.697FDB@localhost>
Message-ID: <002401c0d097$4fb6e800$025416d5@netcabo.pt>

Remove me from your list 


From harbour@matrixlist.com  Sun Apr 29 08:00:04 2001
From: harbour@matrixlist.com (Dave Pearson)
Date: Sun Apr 29 07:00:04 2001
Subject: [Harbour] Thunking from 32 to 16 bits...
In-Reply-To: <002401c0d097$4fb6e800$025416d5@netcabo.pt>; from mop07881@mail.telepac.pt on Sun, Apr 29, 2001 at 11:29:45AM +0100
References: <3AE964C5.28795.4170FB@localhost> <3AE96F06.7190.697FDB@localhost> <002401c0d097$4fb6e800$025416d5@netcabo.pt>
Message-ID: <20010429111727.Z16745@hagbard.davep.org>

On Sun, Apr 29, 2001 at 11:29:45AM +0100, Madeira de Brito wrote:

> Remove me from your list 

You forgot to say please.

Seriously though, you should retain the removal details of lists you join.
<URL:http://www.davep.org/harbour/FAQ/harbour-4.html#ss4.4> and the headers
of every email you get from the list contain reminders of what to do if
you've not that disciplined.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@matrixlist.com  Sun Apr 29 09:58:02 2001
From: harbour@matrixlist.com (Martin Vogel)
Date: Sun Apr 29 08:58:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-28 23:15 CET Martin Vogel <vogel@inttec.de>
Message-ID: <002a01c0d0ac$93808680$6ecbce81@martinvogel>

Antonio,

thank you for your kind words, but this is just a small contribution -
compared to others ! - that I hope is useful for other Harbour developers.

Regards,
Martin

>Martin,
>
>Thanks so much!
>
>Antonio



From harbour@matrixlist.com  Sun Apr 29 13:23:02 2001
From: harbour@matrixlist.com (Phil Barnett)
Date: Sun Apr 29 12:23:02 2001
Subject: [Harbour] CHANGELOG: 2001-04-28 23:15 CET Martin Vogel <vogel@inttec.de>
In-Reply-To: <002a01c0d0ac$93808680$6ecbce81@martinvogel>
Message-ID: <3AEC077B.21375.4FF4FC28@localhost>

On 29 Apr 2001, at 13:45, Martin Vogel wrote:

> Antonio,
> 
> thank you for your kind words, but this is just a small contribution -
> compared to others ! - that I hope is useful for other Harbour developers.

Every contribution is big. Our strength is in numbers.
-- 

Phil Barnett
Harbour Manager
Keeper of Pieces and Parts

From harbour@matrixlist.com  Sun Apr 29 18:24:01 2001
From: harbour@matrixlist.com (Maurilio Longo)
Date: Sun Apr 29 17:24:01 2001
Subject: [Harbour] hbtest fails with SIGSEV
Message-ID: <3AEBF073.942B77F0@libero.it>

Harbour Regression Test Suite
Copyright 1999-2000, http://www.harbour-project.org
---------------------------------------------------------------------------

      Version: Harbour 0.36  Intl. (Build 36) (2001.02.20) (SimpLex)
     Compiler: EMX GNU C 2.8
           OS: OS/2 4.50
   Date, Time: 2001.04.29 12:42:39
       Output: (stdout)
Shortcut opt.: ON
     Switches:
===========================================================================

R No.  Line            TestCall()                               ->
Result
                                                               |
Expected

---------------------------------------------------------------------------

Exception c0000005 at address 46768
Called from TYPE(0)
Called from __EVAL(143)
Called from EVAL(0)
Called from TEST_CALL(333)
Called from MAIN_HVM(143)

Process terminated by SIGSEGV
core dumped
SYS1808:
Il processo  terminato. Il codice per la diagnostica
software (codice dell'errore)   0005.


--

 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia




From harbour@matrixlist.com  Mon Apr 30 14:04:02 2001
From: harbour@matrixlist.com (David G. Holm)
Date: Mon Apr 30 13:04:02 2001
Subject: [Harbour] ChangeLog 2001-04-30 13:00 UTC-0400 David G. Holm
Message-ID: <200104301659.f3UGxew18259@smtp.parrett.net>

2001-04-30 13:00 UTC-0400 David G. Holm <dholm@jsd-llc.com>

  * include/hbinkey.ch
  * source/rtl/inkey.c
  * source/rtl/gtwin/gtwin.c
    % Corrected handling of enhanced keys with no key modifiers.
      As a result, the Key Pad Enter key is distinct from the normal
      Enter key when using HB_INKEY_EXTENDED mode.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@matrixlist.com  Mon Apr 30 20:54:01 2001
From: harbour@matrixlist.com (Lorenzo Fiorini)
Date: Mon Apr 30 19:54:01 2001
Subject: [Harbour] Re: Replaceable drivers for SQL DBMS suggestion
Message-ID: <001001c0d1d0$ad5b04c0$5d72623e@teamwork.lan>

Alexander,

first of all let me thank you and others developers for everything you have
done for Harbour.

AK> For now I don't think about set of classes. This should be the second
AK> step, this set may be based on Maurilio's classes with
AK> some modofications, rethinking and extensions.


Jose Gimenez has posted today 30 April 2001 to news.fivetech.com an OLEDB
implementation for Harbour ( great job Jose ). I've tested it against MSSQL7
under W2K and IT WORKS. I think that using an ADO-OLEDB like interface at
source level even for ODBC and MySql will easy the move between different
DBServers. For example one can use MySql for internal development but can
move to MSSQL or ORACLE if the customer asks for them without "much"
rewriting. Also every VBScript or VBA programmer knows how to use ADO
classes and this could easy the adoption of Harbour outside the ClipperHeads
community. ADO is a well documented on the net and this can speed up our
implementation.

Just my opinion of course.

Best regards.
Lorenzo Fiorini
lorenzofiorini@inwind.it











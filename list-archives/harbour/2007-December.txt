From harbour.01 at syenar.hu  Sat Dec  1 01:02:37 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Dec  1 01:02:35 2007
Subject: [Harbour] CHANGELOG: 2007-12-01 00:54 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c833b5$Blat.v2.6.2$dd7adff6$6b4313ae3b0@127.0.0.1>

2007-12-01 00:54 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   - contrib/apollo
   + contrib/hbapollo
   * contrib/hbapollo/common.mak
   * contrib/hbapollo/Makefile
   * harbour/contrib/make_b32_all.bat
   * harbour/contrib/make_vc_all.bat
     * First contrib lib rename (live rehearsal).
       (goals: hb prefix, dirname = libname, 8 chars limit)

   * harbour/contrib/make_b32_all.bat
   * harbour/contrib/make_vc_all.bat
     * DIRS internal envvar renamed to _HB_DIRS.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Dec  1 01:15:55 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Dec  1 01:16:09 2007
Subject: [Harbour] CHANGELOG: 2007-12-01 01:15 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c833b7$Blat.v2.6.2$b8eb8f3a$a78d2878192@127.0.0.1>

2007-12-01 01:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   - contrib/btree
   + contrib/hbbtree
   - contrib/directx
   + contrib/hbw32ddr
   * contrib/hbw32ddr/Makefile
   * contrib/hbw32ddr/common.mak
   - contrib/firebird
   + contrib/hbfbird
   * contrib/hbfbird/Makefile
   * contrib/hbfbird/common.mak
   - contrib/freeimage
   + contrib/hbfimage
   * contrib/hbfimage/Makefile
   * contrib/hbfimage/common.mak
   - contrib/gd
   + contrib/hbgd
   - contrib/hbzlib
   + contrib/hbziparch
   * contrib/hbziparch/make_b32_dll.bat
   * contrib/hbziparch/make_b32_dll.mak
   * contrib/Makefile
   * contrib/make_b32_all.bat
   * contrib/make_vc_all.bat
     * Contrib lib rename continued.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Dec  1 01:21:35 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Dec  1 01:21:35 2007
Subject: [Harbour] CHANGELOG: 2007-12-01 02:20 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c833b8$Blat.v2.6.2$839a9848$170824198706@127.0.0.1>

2007-12-01 02:20 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   - contrib/htmllib
   * contrib/Makefile
   * contrib/make_b32_all.bat
   * contrib/make_vc_all.bat
     * Removed htmllib (obsolete, non-maintained).
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Dec  1 01:23:45 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Dec  1 01:23:42 2007
Subject: [Harbour] CHANGELOG: 2007-12-01 02:22 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c833b8$Blat.v2.6.2$d10d7be0$fb499b1c206@127.0.0.1>

2007-12-01 02:22 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   - contrib/pdflib
   * contrib/make_b32_all.bat
   * contrib/make_vc_all.bat
     - Removed pdflib (not working, abandoned)
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Dec  1 01:35:12 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Dec  1 01:35:11 2007
Subject: [Harbour] CHANGELOG: 2007-12-01 02:34 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c833ba$Blat.v2.6.2$6a895d60$b9c6a685fbe@127.0.0.1>

2007-12-01 02:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * contrib/make_b32_all.bat
   * contrib/make_vc_all.bat
   * contrib/Makefile
   - contrib/msql
   + contrib/hbmsql
   * contrib/hbmsql/common.mak
   * contrib/hbmsql/Makefile
   - contrib/libmisc
   + contrib/hbmisc
   - contrib/mysql
   + contrib/hbmysql
   - contrib/odbc
   + contrib/hbodbc
   - contrib/ole
   + contrib/hbole
   - contrib/pgsql
   + contrib/hbpgsql
   * contrib/hbpgsql/common.mak
   * contrib/hbpgsql/Makefile
   - contrib/samples
   + contrib/hbclipsm
   * contrib/hbclipsm/common.mak
   * contrib/hbclipsm/Makefile
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Dec  1 01:43:29 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Dec  1 01:43:26 2007
Subject: [Harbour] CHANGELOG: 2007-12-01 02:42 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c833bb$Blat.v2.6.2$92d177a2$10088e0abc5a@127.0.0.1>

2007-12-01 02:42 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   - contrib/libct
   + contrib/hbct
   - contrib/libgt
   + contrib/hbgt
   - contrib/libnf
   + contrib/hbnf
   * contrib/Makefile
   * contrib/make_b32_all.bat
   * contrib/make_vc_all.bat
   * utils/hbmake/hbmutils.prg
     * Contrib lib rename continued.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Dec  1 01:56:40 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Dec  1 01:56:38 2007
Subject: [Harbour] CHANGELOG: 2007-12-01 02:55 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c833bd$Blat.v2.6.2$6a4a7d22$14802ac74a0e@127.0.0.1>

2007-12-01 02:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * contrib/make_b32_all.bat
   * contrib/make_vc_all.bat
   * contrib/Makefile
   - contrib/telepath
   + contrib/hbtpathy
   * contrib/hbtpathy/common.mak
   * contrib/hbtpathy/Makefile
   - contrib/what32
   + contrib/hbwhat32
   - contrib/win32
   + contrib/hbw32
   * contrib/hbw32/common.mak
   * contrib/hbw32/Makefile
   - contrib/adordd
   + contrib/hbrddado
   - contrib/gtwvg
   + contrib/hbgtwvg
   - contrib/rdd_ads
   + contrib/hbrddads
   - contrib/tip
   + contrib/hbtip
   * contrib/hbtip/common.mak
   * contrib/hbtip/Makefile
   - contrib/bmdbfcdx
   + contrib/hbbmcdx
   * contrib/hbct/Makefile
   * contrib/hbct/common.mak
   * contrib/hbgt/common.mak
   * contrib/hbgt/Makefile
   * contrib/hbnf/common.mak
   * contrib/hbnf/Makefile
     * Contrib lib rename finished.
     ; Please report build (or other) problems.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Dec  1 02:08:59 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Dec  1 02:08:58 2007
Subject: [Harbour] CHANGELOG: 2007-12-01 03:08 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c833bf$Blat.v2.6.2$22c02bee$c305c50c0e6@127.0.0.1>

2007-12-01 03:08 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   - contrib/hgf
   + contrib/hbgf
   * contrib/hbwhat32/Makefile
   * contrib/hbwhat32/common.mak
   * contrib/hbfbird/test/bld_b32.bat
   * contrib/hbapollo/test/bld.bat
   * contrib/hbpgsql/tests/bld_b32.bat
   * contrib/hbfimage/test/bld_b32.bat
   * contrib/hbgd/tests/bldtest.bat
   * contrib/hbgf/os2pm/Makefile
   * contrib/hbgf/tests/bld_b32.bat
   * contrib/hbgf/win32/common.mak
   * contrib/hbgf/gtk/Makefile
   * contrib/hbrddado/common.mak
   * contrib/hbrddado/Makefile
   * contrib/hbbmcdx/common.mak
   * contrib/hbbmcdx/Makefile
   * contrib/hbgtwvg/common.mak
   * contrib/hbgtwvg/Makefile
   * contrib/hbrddads/common.mak
   * contrib/hbrddads/Makefile
     ! Some fixes to previous changes.

     ; Here is the final summary of contrib lib renames:
       ----------- ------------- -------------
       Old         Old           New
       DIR         LIBNAME       DIR & LIBNAME
       ----------- ------------- -------------
       adordd      adordd        hbrddado 
       apollo      apollo        hbapollo 
       bmdbfcdx    bmdbfcdx      hbbmcdx  
       btree       hbbtree       hbbtree  
       directx     hbwin32ddrw   hbw32ddr 
       firebird    firebird      hbfbird  
       freeimage   hbfreeimage   hbfimage 
       gd          hbgd          hbgd     
       gtwvg       gtwvg         hbgtwvg  
       hbzlib      hbziparch     hbziparch
       htmllib     html          (DELETED)
       libct       ct            hbct     
       libgt       gt            hbgt     
       libmisc     hbmisc        hbmisc   
       libnf       nf            hbnf     
       msql        msql          hbmsql   
       mysql       hbmysql       hbmysql  
       odbc        hbodbc        hbodbc   
       ole         hbole         hbole    
       pdflib      hbpdflib      (DELETED)
       pgsql       hbpg          hbpgsql  
       rdd_ads     rddads        hbrddads 
       samples     samples       hbclipsm 
       telepath    telepath      hbtpathy 
       tip         tip           hbtip    
       what32      what32        hbwhat32 
       win32       hbwin32       hbw32    
       xhb         xhb           xhb      
       hgf         hgf*          hbgf*
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Dec  1 02:42:41 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Dec  1 02:42:40 2007
Subject: [Harbour] CHANGELOG: 2007-12-01 03:42 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c833c3$Blat.v2.6.2$d7f01e3a$176c3cf80756@127.0.0.1>

2007-12-01 03:42 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * debian/copyright
   * doc/license.txt
   * COPYING
     - Removed one explicily listed license exception:
       'samples\pe\license.txt', since it is now in the contrib 
       which is covered in the "contrib license" section anyway.
       This license is probably included only as an example 
       file for the editor.     Ryszard?
--
Brgds,
Viktor

From yamamoto at rocketmail.com  Sat Dec  1 06:08:09 2007
From: yamamoto at rocketmail.com (Mitja Podgornik)
Date: Sat Dec  1 06:08:13 2007
Subject: [Harbour] Problem with MySQL wrapper - binary strings - help
Message-ID: <278499.82666.qm@web30711.mail.mud.yahoo.com>

MySQL wrapper /contrib/hbmysql/mysql.c has problems with BLOB type.
All fields are truncated after first occurence of NULL byte.

This is excerpt from MySQL C API reference manual:

MYSQL_ROW
=========
     This is a type-safe representation of one row of data. It is
     currently implemented as an array of counted byte strings.  (You
     cannot treat these as null-terminated strings if field values may
     contain binary data, because such values may contain null bytes
     internally.)  Rows are obtained by calling `mysql_fetch_row() and 
     lengths are obtained by calling mysql_fetch_lengths()


This is the original function modified to get correct array item length
information.
I am not familiar with "C" programming so could someone try to find a
solution?


HB_FUNC( SQLFETCHR ) // MYSQL_ROW *mysql_fetch_row(MYSQL_RES *)
{
   MYSQL_RES *mresult = (MYSQL_RES *)_parnl( 1 );
   int i;
   int num_fields = mysql_num_fields( mresult );

   // correct lengths of blob fields:
   unsigned long *lengths = mysql_fetch_lengths( mresult );

   PHB_ITEM aRow = hb_itemArrayNew( num_fields );
   PHB_ITEM temp;

   // typedef char **MYSQL_ROW;	return data as array of strings
   MYSQL_ROW mrow = mysql_fetch_row( mresult );

   if( mrow )
      for( i = 0; i < num_fields; i++ )
      {
         // how to pass the whole mrow array item to Harbour?
         // this returns mrow[i] as string - wrong for Blob type
         temp = hb_itemPutC( NULL, ( mrow[i]!=NULL )? mrow[i] : "" );
         hb_arraySet( aRow, i + 1, temp );
         hb_itemRelease( temp );
      }
   hb_itemReturn( aRow );
   hb_itemRelease( aRow );
}


Regards,
Mitja


      ____________________________________________________________________________________
Be a better pen pal. 
Text or chat with friends inside Yahoo! Mail. See how.  http://overview.mail.yahoo.com/
From lorenzo.fiorini at gmail.com  Sat Dec  1 08:25:14 2007
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Dec  1 08:25:18 2007
Subject: [Harbour] Why rddads and odbc are built in the default contrib
	Makefile?
Message-ID: <9257026e0712010025m1c90514agfdc54556cc041b63@mail.gmail.com>

If I download the svn, set the envvars and run make_gnu.sh it fails with:

In file included from ../../ads1.c:66:
../../rddads.h:69:17: error: ace.h: No such file or directory
In file included from ../../ads1.c:66:
../../rddads.h:149: error: expected specifier-qualifier-list before 'ADSHANDLE'
....
....
....
icit declaration of function 'AdsCustomizeAOF'
../../ads1.c:4919: error: 'ADSAREA' has no member named 'hTable'
make[3]: *** [ads1.o] Error 1
make[2]: *** [descend] Error 2

945 lines of errors which is not the best "first impression".

It's unlikely that a developer has the rddads includes installed and
odbc is seldom installed in linux
( and they are not required in the default build ).

IMHO in the standard contrib Makefile there should be "active" only
dirs that don't require external includes so that it "surely" succeed.

So instead of:

DIRS=\
	hbbtree \
	hbct \
	hbgt \
	hbmisc \
	hbnf \
	hbclipsm \
	xhb \
	$(HB_CONTRIBLIBS)
#	examples \

I would left only "well known and internal" libs like hbct, hbnf,
hbtip and xhb.

The other are very specific and should be added to user's
HB_CONTRIBLIBS envvar.
( this will also speedup the first build process )

best regards,
Lorenzo
From myorg63 at mail.ru  Sat Dec  1 08:35:37 2007
From: myorg63 at mail.ru (Petr Chornyj)
Date: Sat Dec  1 08:35:40 2007
Subject: [Harbour] Problem with MySQL wrapper - binary strings - help
In-Reply-To: <278499.82666.qm@web30711.mail.mud.yahoo.com>
References: <278499.82666.qm@web30711.mail.mud.yahoo.com>
Message-ID: <14103169.post@talk.nabble.com>




tango wrote:
> 
> MySQL wrapper /contrib/hbmysql/mysql.c has problems with BLOB type.
> All fields are truncated after first occurence of NULL byte.
> 
> 

You can try it

HB_FUNC( SQLFETCHR ) // MYSQL_ROW *mysql_fetch_row(MYSQL_RES *)
{
   MYSQL_RES *mresult = (MYSQL_RES *)hb_parnl( 1 );
   MYSQL_ROW mrow = mysql_fetch_row( mresult );

   if( mrow )
   {
      int num_fields = mysql_num_fields( mresult );
      unsigned long *lengths = mysql_fetch_lengths( mresult );
      int i;
      PHB_ITEM aRow = hb_itemArrayNew( num_fields );
      PHB_ITEM temp;

      for( i = 0; i < num_fields; i++ )
      {
         temp = hb_itemPutCL( NULL, mrow[i], lengths[i] );
         hb_arraySet( aRow, i + 1, temp );
         hb_itemRelease( temp );
      }
      hb_itemReturn( aRow );
      hb_itemRelease( aRow );
   }
}

Regards,
Petr
-- 
View this message in context: http://www.nabble.com/Problem-with-MySQL-wrapper---binary-strings---help-tf4927237.html#a14103169
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From e.m.giordano at emagsoftware.it  Sat Dec  1 09:25:37 2007
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sat Dec  1 09:25:42 2007
Subject: [Harbour] CHANGELOG: 2007-12-01 02:55 UTC+0100 Viktor
	Szakats(harbour.01 syenar.hu)
References: <01c833bd$Blat.v2.6.2$6a4a7d22$14802ac74a0e@127.0.0.1>
Message-ID: <003901c833fc$220f6ab0$ca64fea9@emag>


-----Messaggio Originale----- 
Da: "Szak?ts Viktor" <harbour.01@syenar.hu>
A: <harbour@harbour-project.org>
Data invio: sabato 1 dicembre 2007 2.56
Oggetto: [Harbour] CHANGELOG: 2007-12-01 02:55 UTC+0100 Viktor 
Szakats(harbour.01 syenar.hu)


>     ; Please report build (or other) problems.

I find no problem here.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Sat Dec  1 09:29:35 2007
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Dec  1 09:29:46 2007
Subject: [Harbour] CHANGELOG: 2007-12-01 02:55 UTC+0100 Viktor
	Szakats(harbour.01 syenar.hu)
In-Reply-To: <003901c833fc$220f6ab0$ca64fea9@emag>
References: <01c833bd$Blat.v2.6.2$6a4a7d22$14802ac74a0e@127.0.0.1>
	<003901c833fc$220f6ab0$ca64fea9@emag>
Message-ID: <BD01BC61-D49B-4962-AA2B-D83784303980@syenar.hu>

Thanks Enrico.

Brgds,
Viktor

On 2007.12.01., at 10:25, Enrico Maria Giordano wrote:

>
> -----Messaggio Originale----- Da: "Szak?ts Viktor" <harbour.01@syenar.hu 
> >
> A: <harbour@harbour-project.org>
> Data invio: sabato 1 dicembre 2007 2.56
> Oggetto: [Harbour] CHANGELOG: 2007-12-01 02:55 UTC+0100 Viktor  
> Szakats(harbour.01 syenar.hu)
>
>
>>    ; Please report build (or other) problems.
>
> I find no problem here.
>
> EMG
>
> --
> EMAG Software Homepage:     http://www.emagsoftware.it
> The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
> The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
> The EMG Music page:         http://www.emagsoftware.it/emgmusic

From carlos.mora at cpcipc.org  Sat Dec  1 08:14:37 2007
From: carlos.mora at cpcipc.org (Carlos Mora)
Date: Sat Dec  1 18:06:08 2007
Subject: [Harbour] Problem with MySQL wrapper - Counted strings  - help
In-Reply-To: <649421.16471.qm@web30715.mail.mud.yahoo.com>
References: <649421.16471.qm@web30715.mail.mud.yahoo.com>
Message-ID: <475117ED.4070001@cpcipc.org>

Mitja


> MySQL wrapper /contrib/mysql/mysql.c has problems with BLOB type fields
> All fields are truncated after first occurence of NULL byte.
>
>   
..
>          temp = hb_itemPutC( NULL, ( mrow[i]!=NULL )? mrow[i] : "" );
>   
Use hb_itemPutCL instead of hb_itemPutC, so you can specify the right 
lenght of field lenght.

Regards,

Carlos
From mpaliwoda at interia.pl  Sat Dec  1 18:37:57 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Sat Dec  1 18:38:03 2007
Subject: [Harbour] 2007-12-01 15:27 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
Message-ID: <4751AA05.4060607@interia.pl>

2007-12-01 15:27 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
   * harbour/source/rtl/hbinet.c
     ! Fixed compilation under Cygwin environment

   * harbour/make_gcc.sh
     + Added Cygwin as a detected platform

-- 

Marek Paliwoda



----------------------------------------------------------------------
Zrob sobie przerwe i... zbuduj imperium!
Kliknij >>> http://link.interia.pl/f1c90

From dbtopas at dbtopas.lt  Sat Dec  1 18:37:02 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sat Dec  1 18:39:00 2007
Subject: [Harbour] ChangeLog 2007-12-01 20:30 UTC+0200 Mindaugas Kavaliauskas
Message-ID: <4751A9CE.5090107@dbtopas.lt>

2007-12-01 20:30 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
   + harbour/source/lang/msgltwin.c
   * harbour/source/lang/Makefile
   * harbour/common.mak
     + message file for Lithuanian language


================================================
Hi,


I'm using TortoiseSVN. Can any body tell me how to do
   svn:keywords Id
   svn:eol-style native
for new file source/lang/msgltwin.c using Tortoise?

I've set
   *.c = svn:eol-style=native
but I don't know if it's enough?


Best regards,
Mindaugas
From mpaliwoda at interia.pl  Sat Dec  1 19:12:09 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Sat Dec  1 19:12:14 2007
Subject: [Harbour] 2007-12-01 20:10 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
Message-ID: <4751B209.5090107@interia.pl>

2007-12-01 20:10 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
   * harbour/make_vcce.bat
     + Added existence verification of HB and HBPPGEN environment
       variables and existence of files which are pointed by them

-- 

     Marek Paliwoda
mpaliwoda at interia pl


----------------------------------------------------------------------
Zbuduj imperium gospodarcze i militarne!
Kliknij >>> http://link.interia.pl/f1c92

From info at fsgiudice.com  Sat Dec  1 19:21:45 2007
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Dec  1 19:21:52 2007
Subject: [Harbour] Error creating GD apps under BCC with current SVN
References: <4751B209.5090107@interia.pl>
Message-ID: <000a01c8344f$69e18ff0$b400a8c0@ASUSFSG>

Hello Friends,

with last SVN I got error building apps with GD.

I get:
Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
Error: Unresolved external '_gdImageDestroy' referenced from 
C:\CVS\HARBOURSVN\LIB\HBGD.LIB|gdwrp
Error: Unresolved external '_gdImageCreateFromJpegPtr' referenced from 
C:\CVS\HARBOURSVN\LIB\HBGD.LIB|gdwrp
....
and obviously bgd.lib is linked.

after digging and trying with also with implib -a without success, it seems 
to me that hbgd is builded with some way that give C level function calls 
with an "_" before functions name as I can see in gdwrp.obj.
for example I see _gdImageDestroy instead of gdImageDestroy

Tell me if you need more details.

TIA

Any hint ?

Best Regards

Francesco


From bedipritpal at hotmail.com  Sat Dec  1 19:46:42 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Dec  1 19:46:45 2007
Subject: [Harbour] ChangeLog 2007-12-01 20:30 UTC+0200 Mindaugas
	Kavaliauskas
In-Reply-To: <4751A9CE.5090107@dbtopas.lt>
References: <4751A9CE.5090107@dbtopas.lt>
Message-ID: <14108807.post@talk.nabble.com>


Hello

<---------------->
I'm using TortoiseSVN. Can any body tell me how to do
   svn:keywords Id
   svn:eol-style native
for new file source/lang/msgltwin.c using Tortoise?
<---------------->

1) Select a group of files you want to set properties to.
2) Right click and point to TortoiseSVN.
3) Click "Properties"
4) Click on <Add> button.
5) Select <svn:eol-style>  from the Property name listbox.
6) In the "Property Value" multiline edit box write "native"
7) Click <OK>
8) Repeat the process for other property, and you are done.
9) Do not forget to <SVN Update> after this operation.

Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context: http://www.nabble.com/ChangeLog-2007-12-01-20%3A30-UTC%2B0200-Mindaugas-Kavaliauskas-tf4929145.html#a14108807
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mpaliwoda at interia.pl  Sat Dec  1 20:53:35 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Sat Dec  1 20:53:40 2007
Subject: [Harbour] 2007-12-01 21:52 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
Message-ID: <4751C9CF.5030103@interia.pl>

2007-12-01 21:52 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
   * harbour/include/hbwince.h
     ! Fixed compilation in C++ mode by renaming local variable
       named "template" to "tmplt". "template" is a reserved
       word in MSVC C++.
     + Added few missing WINAPI function declarations under
       MSVC WinCE.

   * harbour/source/common/hbwince.c
     ! Fixed compilation in C++ mode by renaming local variable
       named "template" to "tmplt". "template" is a reserved
       word in MSVC C++.

-- 

     Marek Paliwoda
mpaliwoda at interia pl


----------------------------------------------------------------------
Wejdz do swiata wojny wampirow!
Kliknij >>> http://link.interia.pl/f1c87


From mpaliwoda at interia.pl  Sat Dec  1 21:04:31 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Sat Dec  1 21:04:37 2007
Subject: [Harbour] Warnings generated in MSVC WinCE C++ mode
Message-ID: <4751CC5F.8010806@interia.pl>

Hi,

I get following warnings compiling Harbour for WinCE,
using MSVC C++ mode :

source\compiler\genhrb.c(102) : warning C4244: '=' : conversion from 
'HB_SYMBOLSCOPE' to 'BYTE', possible loss of data
source\compiler\genobj32.c(544) : warning C4244: '=' : conversion from 
'HB_SYMBOLSCOPE' to 'BYTE', possible loss of data
macroy.c(1767) : warning C4065: switch statement contains 'default' but no 
'case' labels
source\hbpcre\pcrecomp.c(539) : warning C4065: switch statement contains 
'default' but no 'case' labels
source\rdd\dbf1.c(390) : warning C4244: '=' : conversion from 'HB_LONG' to 
'double', possible loss of data
f:\src\harbour\source\rdd\dbfcdx\dbfcdx1.c(2349) : warning C4333: '>>' : 
right shift by too large amount, data loss
source\rdd\dbfcdx\dbfcdx1.c(2349) : warning C4333: '>>' : right shift by too 
large amount, data loss
source\rdd\hsx\hsx.c(624) : warning C4333: '>>' : right shift by too large 
amount, data loss
source\rdd\hsx\hsx.c(624) : warning C4333: '>>' : right shift by too large 
amount, data loss
source\rdd\hsx\hsx.c(625) : warning C4333: '>>' : right shift by too large 
amount, data loss
source\rdd\hsx\hsx.c(625) : warning C4333: '>>' : right shift by too large 
amount, data loss

Are they important ?

-- 

Marek


----------------------------------------------------------------------
Zbuduj imperium gospodarcze i militarne!
Kliknij >>> http://link.interia.pl/f1c92

From mpaliwoda at interia.pl  Sat Dec  1 21:24:59 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Sat Dec  1 21:25:05 2007
Subject: [Harbour] 2007-12-01 21:07 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
Message-ID: <4751D12B.9030307@interia.pl>

2007-12-01 21:07 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
   * harbour/make_vcce.mak
     ! Fixed compilation against bug in Texas Instruments
       versions of ARM processors


-- 

Marek Paliwoda

----------------------------------------------------------------------
Bedac w toalecie korzystala z ...

>>>   http://link.interia.pl/f1c8e

From info at fsgiudice.com  Sat Dec  1 21:27:16 2007
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Dec  1 21:27:26 2007
Subject: [Harbour] Changelog 2007-12-01 22:21 UTC+0100 Francesco Saverio
	Giudice (info at fsgiudice dot com)
References: <4751B209.5090107@interia.pl>
	<000a01c8344f$69e18ff0$b400a8c0@ASUSFSG>
Message-ID: <000c01c83460$f3ef4c30$6501a8c0@ASUSFSG>

2007-12-01 22:21 UTC+0100 Francesco Saverio Giudice (info at fsgiudice dot 
com)
  * harbour/contrib/hbgd/make_b32.bat
    ! Fixed compilation under BCC
      added -DHB_OS_WIN_32_USED to CFLAGS env var to compile
      gdwrp.c creating undecorate C function names


Francesco

From harbour.01 at syenar.hu  Sat Dec  1 21:34:40 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Dec  1 21:34:37 2007
Subject: [Harbour] CHANGELOG: 2007-12-01 22:33 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c83461$Blat.v2.6.2$fae4228a$114c5151df18@127.0.0.1>

2007-12-01 22:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * contrib/hbgd/make_b32.bat
   * contrib/hbgd/gdwrp.c
     ! Fixed the way HB_OS_WIN_32_USED is used and windows.h 
       is included to work like in rest of Harbour. This way 
       it works for all compilers/build systems.
--
Brgds,
Viktor

From info at fsgiudice.com  Sat Dec  1 21:53:45 2007
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Dec  1 21:53:54 2007
Subject: [Harbour] CHANGELOG: 2007-12-01 22:33 UTC+0100 Viktor
	Szakats(harbour.01 syenar.hu)
References: <01c83461$Blat.v2.6.2$fae4228a$114c5151df18@127.0.0.1>
Message-ID: <001501c83464$a6d59bd0$6501a8c0@ASUSFSG>

Viktor,

----- Original Message ----- 
From: "Szak?ts Viktor" <harbour.01@syenar.hu>
To: <harbour@harbour-project.org>
Sent: Saturday, December 01, 2007 10:34 PM
Subject: [Harbour] CHANGELOG: 2007-12-01 22:33 UTC+0100 Viktor 
Szakats(harbour.01 syenar.hu)


> 2007-12-01 22:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbgd/make_b32.bat
>   * contrib/hbgd/gdwrp.c
>     ! Fixed the way HB_OS_WIN_32_USED is used and windows.h
>       is included to work like in rest of Harbour. This way
>       it works for all compilers/build systems.
> --

Ops, thank you

Francesco

From dbtopas at dbtopas.lt  Sat Dec  1 21:59:17 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sat Dec  1 22:01:13 2007
Subject: [Harbour] ChangeLog 2007-12-01 20:30 UTC+0200
	Mindaugas	Kavaliauskas
In-Reply-To: <14108807.post@talk.nabble.com>
References: <4751A9CE.5090107@dbtopas.lt> <14108807.post@talk.nabble.com>
Message-ID: <4751D935.4070801@dbtopas.lt>

Pritpal Bedi wrote:
> <---------------->
> I'm using TortoiseSVN. Can any body tell me how to do
>    svn:keywords Id
>    svn:eol-style native
> for new file source/lang/msgltwin.c using Tortoise?
> <---------------->
> 
> 1) Select a group of files you want to set properties to.
> 2) Right click and point to TortoiseSVN.
> 3) Click "Properties"
> 4) Click on <Add> button.
> 5) Select <svn:eol-style>  from the Property name listbox.
> 6) In the "Property Value" multiline edit box write "native"
> 7) Click <OK>
> 8) Repeat the process for other property, and you are done.
> 9) Do not forget to <SVN Update> after this operation.


Hi,

thank You. The problem was TortoiseSVN 1.3.5, it does not have 
possibility to set properties. After upgrade to 1.4.5 everything is OK.


Best regards,
Mindaugas
From gvarona at ec-red.com  Sun Dec  2 00:30:22 2007
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Sun Dec  2 00:30:29 2007
Subject: [Harbour] Testing harbour with UBUNTU 7.10 Gutsy Gibbon 64 bits
Message-ID: <4751FC9E.8030101@ec-red.com>

[SPANISH]

Hola, Estoy probando harbour con Ubuntu, para esto he hecho lo siguiente:

1.- Obtener ultimo SVN
2.- Ejecuto make_gnu.sh:
        sh make_gnu.sh
y todo perfecto, comienza a generar los ejecutables en BIN/GCC, las 
LIB/GCC, etc, etc.
3.- Luego me voy a la carpeta BIN/GCC e intento correr el ejecutable 
harbour para ver si todo esta bien y ver la versi?n, pero me dice que el 
harbour no esta instalado, indicandome los pasos a seguir para instalar.
4.- Ejecuto los pasos de instalaci?n y perfecto, instala todo y ya puedo 
correr harbour, pero me doy con la sorpresa que es una version antigua:
---
guillermo@guillermo-ubuntu:~/harbour/tests/multifnc$ harbour
Harbour Compiler Alpha build 45.0 (Flex)
Copyright 1999-2004, http://www.harbour-project.org/
---
Entonces, al parecer instala el harbour que viene con la Distro de Ubuntu.


Primera pregunta: ?C?mo hago para instalar la versi?n que estoy 
construyendo?

5.- Bien, ahora con la version antigua del harbour instalado, intento 
crear el primer programa, me voy a la carpeta de los test/multifnc e 
intento generar el ejecutable, para lo cual adecuo el makefile, pero no 
hace nada, aqui no se como seguir.

Preguntas:
?C?mo hago para compilar mis aplicaciones que tienen varios PRG?
?Habr? algun manual paso a paso para hacer esto?

por ahora es todo.
Gracias de Antemano y disculpen lo extenso del mail.

[ENGLISH]
Hello, I am trying harbor with Ubuntu, for this I have done the following:

1 .- Get last SVN
2 .- run make_gnu.sh:
         Sh make_gnu.sh
And everything perfect, it begins to generate executables in BIN / GCC, 
LIB / GCC, etc., etc..

3 .- Then I go to the folder BIN / GCC and attempted to run the 
executable harbor to see if everything is okay and see the version, but 
I said that the harbor is not installed, indicandome steps to install.

4 .- run installation steps and perfect, and I installed everything and 
run harbor, but I am surprised that the former is a version:
---
Guillermo @ guillermo-ubuntu: ~ / harbor / tests / multifnc $ harbor
Harbor Compiler Alpha build 45.0 (Flex)
Copyright 1999-2004, http://www.harbour-project.org/
---
Then, apparently installs the harbor that comes with the Distro of Ubuntu.

First question: How do I install the version that I am building?

5 .- Well, now with the version of the ancient harbor installed, I try 
to create the first program, I go to the folder on the test / multifnc 
and try to generate the executable, which adapted makefile, but does 
nothing, not here as will follow.

Questions:
How do I compile my applications having several PRG?
Will there be some manual step by step to do this?

By now it is everything.
Thanks Antemano and forgive the length of the mall.

Best Regards.
GVS
From druzus at acn.waw.pl  Sun Dec  2 03:00:53 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Dec  2 03:01:03 2007
Subject: [Harbour] 2007-12-02 04:00 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712020300.lB230ruO008936@31-mo5-4.acn.waw.pl>

2007-12-02 04:00 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/mouse53.c
    * do not include unnecessary header files

  * harbour/bin/pack_src.sh
    * changed packing procedure - now it does not scan chosen directories
      and files but all contents of all .svn/entries to extract files
      stores in SVN repository and then pack them - it's very good method
      to pack whole Harbour repository without .svn/* data and risk of
      packing local files.

  * harbour/harbour.spec
  * harbour/harbour-ce-spec
  * harbour/harbour-w32-spec
    * updated for recent changes in directory and library names

best regards
Przemek
From druzus at acn.waw.pl  Sun Dec  2 03:03:42 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Dec  2 03:03:48 2007
Subject: [Harbour] 2007-11-30 19:57 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <14097126.post@talk.nabble.com>
References: <200711301857.lAUIvt21027580@31-mo5-4.acn.waw.pl>
	<14097126.post@talk.nabble.com>
Message-ID: <20071202030342.GA29270@localhost.localdomain>

On Fri, 30 Nov 2007, Pritpal Bedi wrote:
> If I am understanding correctly, we are heading towards MT and multi-window
> console ? 

Yes, but it's work in progress. The final version will have to wait
a little bit. If you do not wait and you want to create sth using
current API then look at contrib/hbct/ctwin.c how it can be done
by overloading few functions in GT interface.

best regards,
Przemek
From druzus at acn.waw.pl  Sun Dec  2 03:33:18 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Dec  2 03:33:23 2007
Subject: [Harbour] 2007-12-02 04:32 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712020333.lB23XIas029630@31-mo5-4.acn.waw.pl>

2007-12-02 04:32 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbdefs.h
  * harbour/source/rdd/hsx/hsx.c
  * harbour/source/rdd/dbfcdx/dbfcdx1.c
  * harbour/source/hbpcre/ChangeLog
  * harbour/source/hbpcre/pcrecomp.c
    * minor modifications to pacify some MSVC warnings

best regards
Przemek
From druzus at acn.waw.pl  Sun Dec  2 03:35:37 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Dec  2 03:35:42 2007
Subject: [Harbour] Warnings generated in MSVC WinCE C++ mode
In-Reply-To: <4751CC5F.8010806@interia.pl>
References: <4751CC5F.8010806@interia.pl>
Message-ID: <20071202033537.GB29270@localhost.localdomain>

On Sat, 01 Dec 2007, Marek Paliwoda wrote:
> Hi,
> I get following warnings compiling Harbour for WinCE,
> using MSVC C++ mode :
> source\compiler\genhrb.c(102) : warning C4244: '=' : conversion from 
> 'HB_SYMBOLSCOPE' to 'BYTE', possible loss of data
> source\compiler\genobj32.c(544) : warning C4244: '=' : conversion from 
> 'HB_SYMBOLSCOPE' to 'BYTE', possible loss of data

These ones should be left as marker for some necessary modifications.

> macroy.c(1767) : warning C4065: switch statement contains 'default' but no 
> 'case' labels

Part of code generated by bison - I'll leave it as is now - it's nothing
dangerous.

> source\hbpcre\pcrecomp.c(539) : warning C4065: switch statement contains 
> 'default' but no 'case' labels
> source\rdd\dbf1.c(390) : warning C4244: '=' : conversion from 'HB_LONG' to 
> 'double', possible loss of data
> f:\src\harbour\source\rdd\dbfcdx\dbfcdx1.c(2349) : warning C4333: '>>' : 
> right shift by too large amount, data loss
> source\rdd\dbfcdx\dbfcdx1.c(2349) : warning C4333: '>>' : right shift by 
> too large amount, data loss
> source\rdd\hsx\hsx.c(624) : warning C4333: '>>' : right shift by too large 
> amount, data loss
> source\rdd\hsx\hsx.c(624) : warning C4333: '>>' : right shift by too large 
> amount, data loss
> source\rdd\hsx\hsx.c(625) : warning C4333: '>>' : right shift by too large 
> amount, data loss
> source\rdd\hsx\hsx.c(625) : warning C4333: '>>' : right shift by too large 
> amount, data loss

Should be cleaned after
    2007-12-02 04:32 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

best regards,
Przemek
From druzus at acn.waw.pl  Sun Dec  2 04:58:45 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Dec  2 04:58:50 2007
Subject: [Harbour] 2007-12-02 05:58 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712020458.lB24wj34002851@31-mo5-4.acn.waw.pl>

2007-12-02 05:58 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    * updated for new contrib libraries names

best regards
Przemek
From druzus at acn.waw.pl  Sun Dec  2 11:38:51 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Dec  2 11:38:56 2007
Subject: [Harbour] 2007-12-02 12:38 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712021138.lB2BcpvH008770@31-mo5-4.acn.waw.pl>

2007-12-02 12:38 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbnf/nwsem.prg
  * harbour/contrib/hbnf/prtesc.prg
  * harbour/contrib/hbnf/mouse1.prg
  * harbour/contrib/hbnf/workdays.prg
  * harbour/contrib/hbnf/sleep.prg
  * harbour/contrib/hbnf/xbox.prg
  * harbour/contrib/hbnf/d2e.prg
  * harbour/contrib/hbnf/mouse2.prg
  * harbour/contrib/hbnf/ntow.prg
  * harbour/contrib/hbnf/floptst.prg
  * harbour/contrib/hbnf/e2d.prg
    * converted TABs to SPACEs

best regards
Przemek
From druzus at acn.waw.pl  Sun Dec  2 17:33:32 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Dec  2 17:33:48 2007
Subject: [Harbour] lib rename proposal (2nd round)
In-Reply-To: <1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>
	<474FE967.9020206@marchuet.net>
	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>
Message-ID: <20071202173332.GA9022@localhost.localdomain>

On Sat, 01 Dec 2007, Szak?ts Viktor wrote:
> >I write my propouses, but what about when mt libs will be created?
> It would be good to know the reasons why xhb has separate MT libs,

Performance. In xHarbour MT libraries are noticeable slower then ST ones.
It's caused by few reasons, f.e.:
1. compatibility with Clipper API so each thread have to keep
   pointer to HVM stack in TLS/TSD area. Accessing thread specific
   data cost much more then normal variables causes noticeable
   slowness in MT code.
   CLIP uses much more MT friendly API and each function in CLIP
   receives pointer to VM state structure (ClipMachine * mp) which
   works like HB_STACK in Harbour so it's not necessary to retrieve
   this pointer from TLS/TSD.
   This is the most important reason which will also effect us.
2. missing xHarbour level MT API which can be safely used also in
   ST programs and code which was not rewritten to be MT safe and
   needs additional synchronizations by mutex. It also strongly
   reduces MT programs performance on multi CPU machines because
   only one CPU is effectively used.
3. function inlining and API/STACK macros what causes that nearly
   all libraries were MT dependent. I cleaned most of such code when
   I was working on xHarbour so now only few libraries are in ST and
   MT version but they contain different code for both modes so cannot
   be replaced by single one without some internal modifications.
4. MT mode forces using MT version of standard C libraries which are
   in some cases slower then ST ones. Also on some platform MT programs
   needs some additional libraries which may not be present by default.
   In such case adding MT support to base code will reduce the speed
   and portability.

> (since for example XBase++ doesn't).

It can be done but please remember that xbase++ is single platform project
with strictly defined runtime environment so it's much easier to reach
such effect. Anyhow for some platforms we can also make the same but
important will be the cost. For sure I do not see any reason to make
more then on MT dependent library. It will be enough to have only VM
and VMMT. We can try to make single library from them but because it
may reduce the performance and functionality (it will be necessary
to use MT ready base libraries) then I do not think is reasonable to 
force such goal. I do not see anything wrong in having two versions
of VM library as long as we will give API which will allow to easy
write MT safe code which can be linked with both versions of VM so
other libraries will not have to exist in two versions.

> >Or the same lib will be multithread and single one at the same time?
> IMO, if there is any technical chance to keep a single lib after
> implementing MT, that's what we should do, and MT support should
> be enabled by default on platforms supporting it.

I do not agree - it's possible but in some cases the cost may not
be acceptable for users.

> Having one common lib is much more elegant and easier for the
> user (and also for the build processes).

If you look carefully at compilers you are using then you will find
that most of them have separated versions of some core code for both
mode (f.e. BCC). Of course they can be located in single library or
hidden by some compile or link time switches so it may not be visible
for users. F.e if you are using hb* scripts then it's enough to use
-mt switch in xhblnk or xhbmk to switch to MT version of some libraries.
Linker may chose MT or ST modules depending on used functions or both
modules can be linked and when 1-st new thread is created ST functions
are replaced by MT ones.

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Dec  2 21:03:07 2007
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Dec  2 21:03:15 2007
Subject: [Harbour] lib rename proposal (2nd round)
In-Reply-To: <20071202173332.GA9022@localhost.localdomain>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>
	<474FE967.9020206@marchuet.net>
	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>
	<20071202173332.GA9022@localhost.localdomain>
Message-ID: <39D1ACAC-BF71-4AD6-8CBF-7C4BE180083A@syenar.hu>

>>
>>

Thanks for the explanation Przemek.

So it seems to me that separation mostly goes down to
performance.

What amount of performance are we talking about? Which
kind of functionality is affected the most?

>> Having one common lib is much more elegant and easier for the
>> user (and also for the build processes).
>
> If you look carefully at compilers you are using then you will find
> that most of them have separated versions of some core code for both
> mode (f.e. BCC). Of course they can be located in single library or
> hidden by some compile or link time switches so it may not be visible
> for users. F.e if you are using hb* scripts then it's enough to use
> -mt switch in xhblnk or xhbmk to switch to MT version of some  
> libraries.
> Linker may chose MT or ST modules depending on used functions or both
> modules can be linked and when 1-st new thread is created ST functions
> are replaced by MT ones.

Yes, I see that, but Harbour as a higher level language than C,
should IMO not put the burden to the users of dealing with such
technical details when creating final applications.

I would think that a Clipper (Harbour) programmer should be offered
an easy to use interface, and an easy way to detect if the platform
is MT or non-MT, that's it.

I'd say let's keep it clear and simple. mt and non-mt is everything
but not clear and simple even in C, especially if we consider that
probably all (most) operating systems are nowadays multithreading one.
(but the list will pbly tell some exceptions :)

In case we separate, I think we need to make it a build-time switch,
but no fiddling with libnames for this purpose. Same concept as
we already have for including/excluding different features through
hbsetup.ch. This way everyone can opt to disable it, if that extra
performance is needed.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Dec  3 04:40:32 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Dec  3 04:40:38 2007
Subject: [Harbour] lib rename proposal (2nd round)
In-Reply-To: <39D1ACAC-BF71-4AD6-8CBF-7C4BE180083A@syenar.hu>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>
	<474FE967.9020206@marchuet.net>
	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>
	<20071202173332.GA9022@localhost.localdomain>
	<39D1ACAC-BF71-4AD6-8CBF-7C4BE180083A@syenar.hu>
Message-ID: <20071203044032.GA14673@localhost.localdomain>

On Sun, 02 Dec 2007, Szak?ts Viktor wrote:
> So it seems to me that separation mostly goes down to
> performance.
> What amount of performance are we talking about? Which
> kind of functionality is affected the most?

It will be hardly visible in PCODE evaluation and will depend
on cost of accessing thread specific data. This cost depends
on used OS, C compiler and hardware (f.e. new x86 processors
have special register to improve it but you need OS and C compiler
which can use it) so there is no simple answer. Without modifications
in core HVM code but changing only HVM stack functions it reduce
the speed of PCODE evaluation over twice in my Linux box.
As I said the most important problem is caused by the fact that
we are using very similar to Clipper API which forces using TSD/TLS.
In few years when new hardware will be commonly used and compilers
will support it the problem should be smaller and we can try to
create single library because the overhead will not be such big.

> >>Having one common lib is much more elegant and easier for the
> >>user (and also for the build processes).
> >If you look carefully at compilers you are using then you will find
> >that most of them have separated versions of some core code for both
> >mode (f.e. BCC). Of course they can be located in single library or
> >hidden by some compile or link time switches so it may not be visible
> >for users. F.e if you are using hb* scripts then it's enough to use
> >-mt switch in xhblnk or xhbmk to switch to MT version of some  
> >libraries.
> >Linker may chose MT or ST modules depending on used functions or both
> >modules can be linked and when 1-st new thread is created ST functions
> >are replaced by MT ones.
> Yes, I see that, but Harbour as a higher level language than C,
> should IMO not put the burden to the users of dealing with such
> technical details when creating final applications.

???
If you want to hide all MT related "technical details" then you
will have to introduce _full_ thread separation and in such case
I do not see any reason to work on MT - just run the same program
twice or more and you will have similar effect.
But If Harbour threads will operate on the same data then above is
only minor problem not worth to even discuss in comparison to
synchronization mechanism which will have to be used bu users.
These are important "technical details" which cannot be fully
hide by any compiler.

> I would think that a Clipper (Harbour) programmer should be offered
> an easy to use interface, and an easy way to detect if the platform
> is MT or non-MT, that's it.

Sorry but I do not see how the above is bound with the problem
we are discussing. Of course we will have functions which will
inform at runtime if thread can be created or not. But if you
need such information also during compilation then we will have
to add -mt or similar compiler switch.

> I'd say let's keep it clear and simple. mt and non-mt is everything
> but not clear and simple even in C, especially if we consider that
> probably all (most) operating systems are nowadays multithreading one.
> (but the list will pbly tell some exceptions :)

WinCE and many other modern embedded system doesn't.

> In case we separate, I think we need to make it a build-time switch,
> but no fiddling with libnames for this purpose. Same concept as
> we already have for including/excluding different features through
> hbsetup.ch. This way everyone can opt to disable it, if that extra
> performance is needed.

IMO It's the worst possible choice. For me it means that I will have
to use two version of Harbour binaries and switch between them. So from
two versions of VM lib above proposition increase the problem to two
versions of whole Harbour builds. I do not think that you will find many
users which will be happy seeing that. It also means that we will have to
release Harbour binaries in two versions: for MT and ST mode.
In short words problem for everyone and nothing really valuable what we
can benefit from such solution.

best regards,
Przemek
From makis1970 at gmail.com  Mon Dec  3 08:47:23 2007
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Mon Dec  3 08:47:44 2007
Subject: [Harbour] lib rename proposal (2nd round)
In-Reply-To: <20071202173332.GA9022@localhost.localdomain>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>	<474FE967.9020206@marchuet.net>	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>
	<20071202173332.GA9022@localhost.localdomain>
Message-ID: <009701c83589$20d809c0$62881d40$@com>


> (since for example XBase++ doesn't).
Xbase++ Its always MT (Even if you don't start a thread at least the GC is
running in its own Thread)

>It can be done but please remember that xbase++ is single platform project
>with strictly defined runtime environment so it's much easier to reach
>such effect.
You are almost right. Xbase++ support natively OS2 also (except from
windows).
Also even if they have an excellent Multithtread engine they had also some
speed problems, with milticpu systems. So in the last few versions the lock
every thread on the same CPU (by default). If I remember correctly this
happen because they have only one thread for GC an if they use concurrently
many cpu the GC had to lock all the CPUs.

Regards
Mike Evans


From mbelgrano at deltain.it  Mon Dec  3 09:44:12 2007
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Dec  3 09:44:20 2007
Subject: [Harbour] A gateway service is active for this developer list at
	gmane.comp.lang.harbour.devel
In-Reply-To: <009701c83589$20d809c0$62881d40$@com>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>	<474FE967.9020206@marchuet.net>	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu><20071202173332.GA9022@localhost.localdomain>
	<009701c83589$20d809c0$62881d40$@com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E649@SRV02.deltain.net>

Information about gmane.comp.lang.harbour.devel 
http://dir.gmane.org/gmane.comp.lang.harbour.devel

The archive for this list can be read the following ways: 
On the web, using frames and threads. 
http://news.gmane.org/gmane.comp.lang.harbour.devel

On the web, using a blog-like, flat interface. 
http://blog.gmane.org/gmane.comp.lang.harbour.devel

Using an NNTP newsreader. 
nntp://news.gmane.org/gmane.comp.lang.harbour.devel


RSS feeds: 
All messages from the list, with excerpted texts. 
Topics from the list, with excerpted texts. 
All messages from the list, with complete texts. 
Topics from the list, with complete texts. 
Search the list:   

From massimo.belgrano at gmail.com  Mon Dec  3 10:16:36 2007
From: massimo.belgrano at gmail.com (Massimo Belgrano)
Date: Mon Dec  3 10:20:17 2007
Subject: [Harbour] TEST Posting from web interface
Message-ID: <loom.20071203T101536-778@post.gmane.org>

Posting from web interface.


From druzus at acn.waw.pl  Mon Dec  3 10:38:35 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Dec  3 10:38:40 2007
Subject: [Harbour] lib rename proposal (2nd round)
In-Reply-To: <009701c83589$20d809c0$62881d40$@com>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>
	<474FE967.9020206@marchuet.net>
	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>
	<20071202173332.GA9022@localhost.localdomain>
	<009701c83589$20d809c0$62881d40$@com>
Message-ID: <20071203103835.GA2809@localhost.localdomain>

On Mon, 03 Dec 2007, Mike Evans (Gmail) wrote:

Hi Mike,
thanks for informations about xbase++

> Xbase++ Its always MT (Even if you don't start a thread at least the GC is
> running in its own Thread)

Inspector thread which makes GC scan, polls incoming events and serve
background tasks greatly helps to resolve some problems, f.e. it will
allow to eliminate hb_inkeyPoll() from main HVM loop what will increase
speed but it's a little bit different subject then support for MT in
.prg code though bound in some cases, f.e. it's possible to add such
support for Harbour MT even without MT in OS. Also number of OS threads
does not have to be equal to number of user threads. Allocating thread
and context switching costs so it's common practice in modern languages
to use only few OS threads which server many language threads. Unfortunately
it will be hard to make sth like that keeping current API so for sure
the first version of MT in Harbur will allocate OS thread for each .prg
thread.

> >It can be done but please remember that xbase++ is single platform project
> >with strictly defined runtime environment so it's much easier to reach
> >such effect.
> You are almost right. Xbase++ support natively OS2 also (except from
> windows).

Both are quite similar,

> Also even if they have an excellent Multithtread engine they had also some
> speed problems, with milticpu systems. So in the last few versions the lock
> every thread on the same CPU (by default). If I remember correctly this
> happen because they have only one thread for GC an if they use concurrently
> many cpu the GC had to lock all the CPUs.

The problem of executing GC in multi thread environment is not unique
to xbase++. We will also have the same problem just like .NET have it.
Stopping all threads during GC pass is the easiest solution and usually
the only one. There are some garbage collectors (f.e. multicolor ones)
designed to work "online" but they do not have to give much better
performance. In some cases they are even less efficient then standard
ones which stop all threads. But this we will discuss when we will have
basic MT support. Now we will have to resolve the problem with cost of
simple MT mode in HVM. We have much better situation then in xHarbour.
Macrocompiler (and compiler) library is fully MT safe and we do not have
any executions context variables which are not stored on HVM stack like
puiClsTree in array structure which causes that super casting on the same
object is not MT safe in xHarbour. RDD code is ready to use in MT mode
and now I'll try to make the same with GT subsystem. When it will be
ready then we will have to define what to do with some global variables/
resources used by RTL (probably it will be good to move set.c code from
RTL to VM) and we can start to update VM for MT. This step should not
take more then few days. Then we can add some MT extensions to language
syntax like monitors (CRITICAL functions/procedures in xHarbour) or
thread local static variables (f.e.: thread static s_var := 1)
Because memvars will be visible in single thread only then we can also
think about adding support for GLOBAL variables.
BTW I'm interesting in variable visibility between threads in xbase++.
I would like to see if we can easy replicate similar behavior. If yes
then maybe we should not reinvent the wheel because it will be easier
for users if we will make it compatible with xbase++
Can I read somewhere about it?

best regards,
Przemek
From druzus at acn.waw.pl  Mon Dec  3 10:48:52 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Dec  3 11:06:18 2007
Subject: [Harbour] 2007-12-03 11:48 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712031048.lB3AmqAo018319@31-mo5-4.acn.waw.pl>

2007-12-03 11:48 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapigt.h
    * removed declaration for not existing function: hb_inkeyGet()

  * harbour/include/hbgtcore.h
  * harbour/source/rtl/hbgtcore.c
    * moved all static variables used by core GT code to HB_GT_BASE
      structure

  * harbour/source/rtl/inkey.c
    * cleanup

  * harbour/contrib/Makefile
    * moved HB_CONTRIBLIBS to the end build library list because they may
      need some other contrib libraries in dependences list

best regards
Przemek
From myorg63 at mail.ru  Mon Dec  3 11:13:09 2007
From: myorg63 at mail.ru (Petr Chornyj)
Date: Mon Dec  3 11:13:33 2007
Subject: [Harbour] lib rename proposal (2nd round)
In-Reply-To: <20071203103835.GA2809@localhost.localdomain>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>
	<474FE967.9020206@marchuet.net>
	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>
	<20071202173332.GA9022@localhost.localdomain>
	<009701c83589$20d809c0$62881d40$@com>
	<20071203103835.GA2809@localhost.localdomain>
Message-ID: <14127886.post@talk.nabble.com>




Przemyslaw Czerpak-2 wrote:
> 
> On Mon, 03 Dec 2007, Mike Evans (Gmail) wrote:
> BTW I'm interesting in variable visibility between threads in xbase++.
> I would like to see if we can easy replicate similar behavior. If yes
> then maybe we should not reinvent the wheel because it will be easier
> for users if we will make it compatible with xbase++
> Can I read somewhere about it?
> 
> 

I am not sure, but maybe it help you

ftp://ftp.alaska-software.com/documents/MTTUTOR1.PDF
ftp://ftp.alaska-software.com/documents/MTTUTOR2.PDF
ftp://ftp.alaska-software.com/documents/MTTUTOR1.ZIP
ftp://ftp.alaska-software.com/documents/MTTUTOR2.ZIP

Regards,
Petr
-- 
View this message in context: http://www.nabble.com/lib-rename-proposal-%282nd-round%29-tf4900745.html#a14127886
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Mon Dec  3 11:16:46 2007
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Dec  3 11:17:20 2007
Subject: [Harbour] Question about GTWGM (Multi-console Terminal )
In-Reply-To: <13961826.post@talk.nabble.com>
References: <200711260134.lAQ1YPRJ012040@31-mo5-4.acn.waw.pl>
	<13961826.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E64B@SRV02.deltain.net>

In what timeline you can publish GTWGM?
Do you plan an integration also in harbour and xharbour?


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: Tuesday, November 27, 2007 1:02 AM
To: harbour@harbour-project.org
Subject: Re: [Harbour] 2007-11-26 02:34 UTC+0100 Przemyslaw
Czerpak(druzus/at/priv.onet.pl)


Przemek

<-------------------->
2007-11-26 02:34 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/gtwvg/gtwvt.h
  * harbour/contrib/gtwvg/gtwvt.c
  * harbour/contrib/gtwvg/wvtcore.c
    * moved hb_wvt_GetStringAttrib(), hb_wvt_PutStringAttrib(),
      hb_wvt_gtLoadPictureFromResource(), hb_wvt_gtLoadPicture(),
      hb_wvt_gtRenderPicture(), hb_wvt_gtDestroyPicture() from
      gtwvt.c to wvtcore.c
    * changed hb_wvt_GetStringAttrib() and hb_wvt_PutStringAttrib()
      to work with any GTs
    ! removed GTWVG internal screen buffer and fixed to work well woth
      core code screen buffer
    ! some fixes borrowed from Harbour GTWVT
    * synced most of contrib/gtwvg/gtwvt.c code with rtl/gtwvt/gtwvt.c
    - removed unused GLOBAL_DATA members:
      foreground, background, BUFFERSIZE, byAttributes, byBuffer,
      pAttributes, pBuffer, caretPos, displayCaret, RectInvalid

    Pritpal please check if it works for you with GUI extensions.
    I've tested it as normal GT driver and it works correct in my
    tests.
<-------------------->

    ! removed GTWVG internal screen buffer and fixed to work well woth
      core code screen buffer

I have a concern about this change.

The mainstay of GTWGM ( Multi-console Terminal ) I am working on is
based on
screen-buffer for each console. How that will fit into this scenario? I
am
sure you must be having other idea to achieve it in core code, which I
too
wish, but right now I am unable to understand your plans in that
directions.

Can you please guide me how it can be achieved for multi-windows ? I
will be
happy if you publish a white paper on this subject.

Regards
Pritpal Bedi, INDIA-USA

BTW did you go through the protocol of GTWGM. I need your support in
that
direction. 
-- 
View this message in context:
http://www.nabble.com/2007-11-26-02%3A34-UTC%2B0100-Przemyslaw-Czerpak-%
28druzus-at-priv.onet.pl%29-tf4872405.html#a13961826
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From makis1970 at gmail.com  Mon Dec  3 11:29:43 2007
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Mon Dec  3 11:30:13 2007
Subject: [Harbour] lib rename proposal (2nd round)
In-Reply-To: <20071203103835.GA2809@localhost.localdomain>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>	<474FE967.9020206@marchuet.net>	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>	<20071202173332.GA9022@localhost.localdomain>	<009701c83589$20d809c0$62881d40$@com>
	<20071203103835.GA2809@localhost.localdomain>
Message-ID: <00a401c8359f$cfc5d460$6f517d20$@com>

Przemek, 
I can send you all the manual of xBase++. They have the best manual I've
ever read and over there you can find a lot of information's As an example :

SET DELETED on | OFF | <lToggle> 

Scope: thread-local, current work space


As for variables visibility :



Visibility of variables in different threads 

  Visibility              Storage class    

  Visible in the process  PUBLIC           
  (all threads)           STATIC           
                                           
  Visible in the thread   LOCAL            
  (this Thread)           PRIVATE          
                          FIELD            

Variables declared as LOCAL or PRIVATE are only visible in the thread where
the declaration occurred. The variables declared with PUBLIC or STATIC are
visible in all threads of a process (application program). Field variables
(FIELD) are visible in a work area of a work space. A work space is bound to
a thread. Since work spaces can be moved between threads, field variables
can become visible in different threads. At a given point in time, a field
variable is visible only in one thread. 

Whenever program code is divided up into different threads, the possibility
of multiple threads having simultaneous access to the same variable (PUBLIC
or STATIC) and changing it should be avoided. If multiple threads are
modifying the same variable, the value of the variable is not predictable.
The following example demonstrates this situation: 

   STATIC snNumber := 0                  // file-wide visible STATIC 
 
   PROCEDURE Main 
      LOCAL i, oThread := Thread():new() // create thread object 
 
      oThread:start( "Decrement" )       // decrement snNumber 
 
      FOR i:=1 TO 10000 
         snNumber ++                     // increment snNumber 
      NEXT 
 
      ? "Result:", snNumber              // theoretically this is 0 
   RETURN 
 
   PROCEDURE Decrement 
      LOCAL i 
      FOR i:=1 TO 10000 

         snNumber --                     // decrement snNumber 
      NEXT 

   RETURN 

In the example, two FOR...NEXT loops run simultaneously in two different
threads. The same STATIC variable is accessed in both threads. The first
thread increments the variable 10000 times and the second thread decrements
the variable 10000 times. Theoretically, the result would be the value zero.
In practice this value is seldom reached. Generally the value of snNumber at
the end of the program is greater than zero. This is because the operating
system independently allocates the processor time for the two threads. The
FOR...NEXT loop in the Main procedure begins incrementing as soon as the
first thread is started. Switching between the threads takes time, and the
STATIC variable increments several times before the second thread has
actually started. When the FOR...NEXT loop in the first thread ends, the
entire process is terminated, including the second thread. This means that
the FOR...NEXT loop in the second thread is cancelled before the counter
variable i reaches the value 10000. For this reason, the value of snNumber
at the end of the program is almost always greater than zero. 

This program demonstrates that programming multiple threads requires
consideration of special issues. Simultaneous access to the same variables
or files by multiple threads should be avoided. When two threads are using
the same variables, the result (or the value of the variable) is not
predictable, since the operating system allocates which thread is to receive
available processor time. The thread which last performed an assignment sets
the value of the variable. As a general rule, the part of the program that
is to run in a separate thread should be written in such way that it can be
compiled and linked as an independent program. All variables in a thread
should be protected from access by other threads.



From mpaliwoda at interia.pl  Mon Dec  3 11:51:12 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Mon Dec  3 11:51:17 2007
Subject: [Harbour] A gateway service is active for this developer list at
	gmane.comp.lang.harbour.devel
Message-ID: <20071203115112.6515C12380D@f44.poczta.interia.pl>

Hi Massimo,

> Information about gmane.comp.lang.harbour.devel 
> http://dir.gmane.org/gmane.comp.lang.harbour.devel
> 
> The archive for this list can be read the following ways: 
> On the web, using frames and threads. 
> http://news.gmane.org/gmane.comp.lang.harbour.devel
> 
> On the web, using a blog-like, flat interface. 
> http://blog.gmane.org/gmane.comp.lang.harbour.devel
> 
> Using an NNTP newsreader. 
> nntp://news.gmane.org/gmane.comp.lang.harbour.devel
> 
> 
> RSS feeds: 
> All messages from the list, with excerpted texts. 
> Topics from the list, with excerpted texts. 
> All messages from the list, with complete texts. 
> Topics from the list, with complete texts. 
> Search the list:   

Great move ! Many thanks :)

-- 

Marek


----------------------------------------------------------------------
Wielki Fina? Independent Flair League
Zobacz barman?w w akcji!  >>> http://link.interia.pl/f1c95

From niki at synel.co.il  Mon Dec  3 13:02:43 2007
From: niki at synel.co.il (Chen Kedem)
Date: Mon Dec  3 13:00:26 2007
Subject: [Harbour] contrib issues
Message-ID: <4753FE73.33E3@synel.co.il>

1.test or tests
---------------
I'm in the process of updating doc/dirstruc.txt for the changes
made in the past 8 months.

There are places in the Harbour tree where "test" is used and some
other places use "tests". Unified names would look better.

==================================
2.image licence
---------------
In the following directories, there are images and icons:

contrib/hbfimage/test
contrib/hbgd/tests/digits
contrib/hbgd/tests/images_in
contrib/hbgtwvg/test
contrib/hbw32ddr/test

Are we sure there are no copywrite infringements including them?
I checked that there are no copywrite message inside each of the
files, but there is nothing in the readme or licence of each of
those contrib that talk about the images.

==================================
3.inflation
-----------
There is an "inflation" in the number of contrib utilities included
with Harbour SVN. Clean repository (with .svn files) contain around
11,900 files (54MB), in which 5,100 files (17MB) are contrib files.

It is very good that many products are now ported into Harbour,
but I think its time to decide which should go into core, which
should stay in contrib, and which should split into a new/another
project.


  Chen.
**********************************************************************************************
IMPORTANT: The contents of this email and any attachments are confidential. They are intended for the 
named recipient(s) only.
If you have received this email in error, please notify the system manager or the sender immediately and do 
not disclose the contents to anyone or make copies thereof.
*** eSafe scanned this email for viruses, vandals, and malicious content. ***
**********************************************************************************************

From harbour.01 at syenar.hu  Mon Dec  3 13:17:57 2007
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Dec  3 13:18:08 2007
Subject: [Harbour] contrib issues
In-Reply-To: <4753FE73.33E3@synel.co.il>
References: <4753FE73.33E3@synel.co.il>
Message-ID: <432137DC-BCAE-4420-BB43-BDB63F06E48D@syenar.hu>

>

Hi Chen,

As for test/tests I started to standardize, but
I didn't plan it carefully enough, so we're basically
where we were.

I opt for 'tests' as the standard name to be in sync
with core /tests.

> contrib/hbfimage/test

sample1.jpg is shot by myself and I retain no
copyrights for it.

(I've replaced the previous pic to avoid
copyright issues AFAIR)

> contrib/hbgd/tests/digits
> contrib/hbgd/tests/images_in
> contrib/hbgtwvg/test
> contrib/hbw32ddr/test

I don't know about these. They look pretty innocent
but that doesn't mean too much.

> ==================================
> 3.inflation
> -----------
> There is an "inflation" in the number of contrib utilities included
> with Harbour SVN. Clean repository (with .svn files) contain around
> 11,900 files (54MB), in which 5,100 files (17MB) are contrib files.
>
> It is very good that many products are now ported into Harbour,
> but I think its time to decide which should go into core, which
> should stay in contrib, and which should split into a new/another
> project.

IMO none of them should go to core in their current form.

GTWVG can go to core if fully cleaned, finished and up to core
standards, bmdbfcdx can go if it will be transformed to a standard
RDD layer.

As for the rest, I think it's best to have them separate,
and I currently see no problem having them in core, since
most of them are updated by core developers anyway. As a plus,
with SVN there is no significant performance problem with
such larger repository.

While we did quite some work to standardize the contribs,
and keeping higher standards is definitely good for the
project, I still think they are "independent" libs, with
no obligatory rules.

BTW, this year in April we had 30 contribs, now we have
28 only. The only difference is that now have a more useful
set and most of them are actually working (but at least
compiling).

Brgds,
Viktor

From niki at synel.co.il  Mon Dec  3 14:16:53 2007
From: niki at synel.co.il (Chen Kedem)
Date: Mon Dec  3 14:14:23 2007
Subject: [Harbour] Re: contrib issues
References: <4753FE73.33E3@synel.co.il>
Message-ID: <47540FD5.33AA@synel.co.il>

(sending this for the 3rd time, in the hope it would post only once)

> I don't know about these.

contrib/hbgd/tests/digits images arrived from
http://www.digitmania.com/all.html and are free
to use according to the site.

  Chen.
**********************************************************************************************
IMPORTANT: The contents of this email and any attachments are confidential. They are intended for the 
named recipient(s) only.
If you have received this email in error, please notify the system manager or the sender immediately and do 
not disclose the contents to anyone or make copies thereof.
*** eSafe scanned this email for viruses, vandals, and malicious content. ***
**********************************************************************************************

From niki at synel.co.il  Mon Dec  3 14:37:27 2007
From: niki at synel.co.il (Chen Kedem)
Date: Mon Dec  3 14:35:19 2007
Subject: [Harbour] ChangeLog: 2007-12-03 16:30 UTC+0200 Chen Kedem
Message-ID: <475414A7.1CC0@synel.co.il>

2007-12-03 16:30 UTC+0200 Chen Kedem <niki@synel.co.il>
  * ChangeLog
    * Update my email address
  * doc/dirstruc.txt
    + Add short description to the newly added directories.

My first SVN commit, yay me! (sent for the 2nd time)


  Chen.
**********************************************************************************************
IMPORTANT: The contents of this email and any attachments are confidential. They are intended for the 
named recipient(s) only.
If you have received this email in error, please notify the system manager or the sender immediately and do 
not disclose the contents to anyone or make copies thereof.
*** eSafe scanned this email for viruses, vandals, and malicious content. ***
**********************************************************************************************

From mpaliwoda at interia.pl  Mon Dec  3 11:56:24 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Mon Dec  3 14:46:28 2007
Subject: [Harbour] [OT]: Test NNTP gateway
Message-ID: <fj0qt7$etu$1@ger.gmane.org>

Discard this message ... it's test only

From mbelgrano at deltain.it  Mon Dec  3 15:05:10 2007
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Dec  3 15:05:21 2007
Subject: [Harbour] lib rename proposal (2nd round)
In-Reply-To: <14127886.post@talk.nabble.com>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu><474FE967.9020206@marchuet.net><1633B596-326C-4011-8454-30ED0552A80F@syenar.hu><20071202173332.GA9022@localhost.localdomain><009701c83589$20d809c0$62881d40$@com><20071203103835.GA2809@localhost.localdomain>
	<14127886.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E64E@SRV02.deltain.net>

The upcoming xbase++ version seem have :
100% sql/Client Server without changing a line of code
Compiled Xbase page and service
Bussines object service
Visual Xbase (integrated project and build)
 http://www.alaska-software.com/products/product-outlook-2007-2008.pdf

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Petr Chornyj
Sent: Monday, December 03, 2007 12:13 PM
To: harbour@harbour-project.org
Subject: Re: RE: [Harbour] lib rename proposal (2nd round)




Przemyslaw Czerpak-2 wrote:
> 
> On Mon, 03 Dec 2007, Mike Evans (Gmail) wrote:
> BTW I'm interesting in variable visibility between threads in xbase++.
> I would like to see if we can easy replicate similar behavior. If yes
> then maybe we should not reinvent the wheel because it will be easier
> for users if we will make it compatible with xbase++
> Can I read somewhere about it?
> 
> 

I am not sure, but maybe it help you

ftp://ftp.alaska-software.com/documents/MTTUTOR1.PDF
ftp://ftp.alaska-software.com/documents/MTTUTOR2.PDF
ftp://ftp.alaska-software.com/documents/MTTUTOR1.ZIP
ftp://ftp.alaska-software.com/documents/MTTUTOR2.ZIP

Regards,
Petr
-- 
View this message in context:
http://www.nabble.com/lib-rename-proposal-%282nd-round%29-tf4900745.html
#a14127886
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From bedipritpal at hotmail.com  Mon Dec  3 15:59:36 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec  3 15:59:40 2007
Subject: [Harbour] Question about GTWGM (Multi-console Terminal )
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E64B@SRV02.deltain.net>
References: <200711260134.lAQ1YPRJ012040@31-mo5-4.acn.waw.pl>
	<13961826.post@talk.nabble.com>
	<AFB948164110ED43B5EB849E8DEEF03815E64B@SRV02.deltain.net>
Message-ID: <14132756.post@talk.nabble.com>


Massimo

<------------->
In what timeline you can publish GTWGM?
Do you plan an integration also in harbour and xharbour?
<------------->

I am looking at Przemek to respond to this message. All alone I cannot
accomplish this task. Also I do not know core of GT in depth and I do not
want to spoil the core GT code without understanding its long term effects.
I just showed a protocol, and this is wrong or right, can be judged by a
master. So over to Przem...

As you can see, Przem has started cleaning up the core GT code to suit MT.
So from the practical point of view multi-GT has more relevance when MT is
in place. 

To synchronize it with xHarbour: at this point of time I do not know if I am
the right person to do so. Yes, for sure if this change resolves around
GTWVT, I have the necessary skill to translate to xHarbour, but in case it
ends up changing the GT core, I will see if it is supported in xHarbour
core.

Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context: http://www.nabble.com/2007-11-26-02%3A34-UTC%2B0100-Przemyslaw-Czerpak-%28druzus-at-priv.onet.pl%29-tf4872405.html#a14132756
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mpaliwoda at interia.pl  Mon Dec  3 17:26:04 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Mon Dec  3 17:39:08 2007
Subject: [Harbour] 2007-12-03 18:25 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
Message-ID: <fj1e7c$o1e$1@ger.gmane.org>

2007-12-03 18:25 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
   * harbour/common.mak
   * harbour/make_gcc.mak
   * harbour/make_gcc.sh
     + Added the possibility to build dll/so of Harbour VM+RTL
       (tested om MingW, Cygwin, FC8/64)

   * harbour/make_b32.mak
   * harbour/make_vc.mak
   * harbour/make_vcce.mak
     + Added HB_ARCHITECTURE definition (to be used in a future)

   * harbour/source/rtl/gtchrmap.c
     ! Fixed compilation under Linux using make_gcc.sh

-- 

     Marek Paliwoda
mpaliwoda at interia pl

From mpaliwoda at interia.pl  Mon Dec  3 20:36:44 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Mon Dec  3 20:38:21 2007
Subject: [Harbour] 2007-12-03 21:40 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
Message-ID: <fj1pcs$40h$1@ger.gmane.org>

2007-12-03 21:40 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
   * harbour/common.mak
   * harbour/make_gcc.sh
     * Eliminated HB_GT_LIST hack in common.cf, converted from common.mak

   * harbour/make_gcc.mak
     * Minor change in handling platforms which are Windows compatible

-- 

     Marek Paliwoda
mpaliwoda at interia pl

From druzus at acn.waw.pl  Mon Dec  3 21:36:24 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Dec  3 21:36:33 2007
Subject: [Harbour] 2007-12-03 22:35 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712032136.lB3LaOP0025067@31-mo5-4.acn.waw.pl>

2007-12-03 22:35 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/common.mak
  * harbour/source/rtl/Makefile
  * harbour/include/hbgtcore.h
  * harbour/source/rtl/hbgtcore.c
  * harbour/source/rtl/inkey.c
  + harbour/source/rtl/inkeyapi.c
    * moved hb_inkey*() functions to GT subsystem so now they can be
      overloaded by GT drivers and/or operate on different GT context

  * harbour/source/rtl/mouse53.c
    * eliminated to unused static variables

  * harbour/source/rtl/mouseapi.c
    * do not include unnecessary header files

  * harbour/source/rtl/gtchrmap.c
    * replaced // comment by /* ... */

best regards
Przemek
From dbtopas at dbtopas.lt  Mon Dec  3 22:06:30 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Dec  3 22:06:36 2007
Subject: [Harbour] lib rename proposal (2nd round)
In-Reply-To: <20071203044032.GA14673@localhost.localdomain>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>	<474FE967.9020206@marchuet.net>	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>	<20071202173332.GA9022@localhost.localdomain>	<39D1ACAC-BF71-4AD6-8CBF-7C4BE180083A@syenar.hu>
	<20071203044032.GA14673@localhost.localdomain>
Message-ID: <47547DE6.3070503@dbtopas.lt>

Przemyslaw Czerpak wrote:
> which can use it) so there is no simple answer. Without modifications
> in core HVM code but changing only HVM stack functions it reduce
> the speed of PCODE evaluation over twice in my Linux box.
> As I said the most important problem is caused by the fact that
> we are using very similar to Clipper API which forces using TSD/TLS.
> In few years when new hardware will be commonly used and compilers
> will support it the problem should be smaller and we can try to
> create single library because the overhead will not be such big.

Hi,


I'm not the MT guru, but just have an idea. In current implementation we 
need access TLS for most of many Item and Extend API functions: 
hb_param(), hb_itemReturn(), hb_par*(), hb_ret*(), etc. The exception is 
some base Item API functions which does not access parameters and does 
not return value: hb_itemNew(), hb_itemGet*(), hb_itemSet*().

For example, if we have harbour level function implemented in C, and we 
need to access 5 parameters of the function and return a value, we'll 
need 6 times to get STACK pointer from TLS, because every hb_par*(), 
hb_ret*() is independent and needs STACK to do its job.

What if extend Harbour API functions by set of MT "compatible" version 
of the functions? I.e. hb_mtpar*( HVM* pVM, int iParam, ... ), etc.
   HB_FUNC( AAA )
would be preprocessed to
   void HB_FUN_AAA( HVM* pVM )

If function code uses old style hb_par*(), it will work OK, but it will 
be slower in MT mode. Number of hb_par*(), hb_ret*() and some hb_item*() 
functions is not very big, and writing MT version is easy 
(straight-forward passing of pVM to other API calls).
What is expected time penalty of additional parameter in hb_mt*() in 
comparison to TLS access?


Best regards,
Mindaugas
From harbour.01 at syenar.hu  Mon Dec  3 22:49:13 2007
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Dec  3 22:49:20 2007
Subject: [Harbour] lib rename proposal (2nd round)
In-Reply-To: <47547DE6.3070503@dbtopas.lt>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>	<474FE967.9020206@marchuet.net>	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>	<20071202173332.GA9022@localhost.localdomain>	<39D1ACAC-BF71-4AD6-8CBF-7C4BE180083A@syenar.hu>
	<20071203044032.GA14673@localhost.localdomain>
	<47547DE6.3070503@dbtopas.lt>
Message-ID: <C8F6C752-A9A4-4B1F-80BD-02CD12F64217@syenar.hu>

> Przemyslaw Czerpak wrote:
>> which can use it) so there is no simple answer. Without modifications
>> in core HVM code but changing only HVM stack functions it reduce
>> the speed of PCODE evaluation over twice in my Linux box.
>> As I said the most important problem is caused by the fact that
>> we are using very similar to Clipper API which forces using TSD/TLS.
>> In few years when new hardware will be commonly used and compilers
>> will support it the problem should be smaller and we can try to
>> create single library because the overhead will not be such big.
>
> Hi,
>
>
> I'm not the MT guru, but just have an idea. In current  
> implementation we need access TLS for most of many Item and Extend  
> API functions: hb_param(), hb_itemReturn(), hb_par*(), hb_ret*(),  
> etc. The exception is some base Item API functions which does not  
> access parameters and does not return value: hb_itemNew(),  
> hb_itemGet*(), hb_itemSet*().
>
> For example, if we have harbour level function implemented in C, and  
> we need to access 5 parameters of the function and return a value,  
> we'll need 6 times to get STACK pointer from TLS, because every  
> hb_par*(), hb_ret*() is independent and needs STACK to do its job.
>
> What if extend Harbour API functions by set of MT "compatible"  
> version of the functions? I.e. hb_mtpar*( HVM* pVM, int  
> iParam, ... ), etc.
>  HB_FUNC( AAA )
> would be preprocessed to
>  void HB_FUN_AAA( HVM* pVM )
>
> If function code uses old style hb_par*(), it will work OK, but it  
> will be slower in MT mode. Number of hb_par*(), hb_ret*() and some  
> hb_item*() functions is not very big, and writing MT version is easy  
> (straight-forward passing of pVM to other API calls).
> What is expected time penalty of additional parameter in hb_mt*() in  
> comparison to TLS access?

I'd argue with the naming :) but this looks like a very
elegant way to resolve this problem IMO.

We need a "new" API set which has native MT support.
(maybe even with some automatic remapping of the new
functions to the old one in case someone doesn't want
MT, in this case the context could be NULL)

Or the other way round:

-- SOURCE (both MT and non MT API compatible)
HB_FUNC( MYFUNC )
{
    hb_retc( hb_parc( 1 ) );
}

-- TRANSLATED FOR MT
void HB_MYFUNC( HBCTX* _hb_ctx )
{
    hb_retc_mt( _hb_ctx, hb_parc_mt( _hb_ctx, 1 ) );
}

-- TRANSLATED FOR NON MT (with "old" API kept)
void HB_MYFUNC( void )
{
    hb_retc( hb_parc( 1 ) );
}

-- TRANSLATED FOR NON MT (keeping only one "new" MT compatible API)
void HB_MYFUNC( void )
{
    hb_retc_mt( NULL, hb_parc_mt( NULL, 1 ) );
}

(or some other variation of this)

Brgds,
Viktor

From bedipritpal at hotmail.com  Tue Dec  4 00:03:57 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Dec  4 00:04:01 2007
Subject: [Harbour] GT Core Changes - Awareness Message
Message-ID: <14141937.post@talk.nabble.com>


Hello Everybody

Please notice the recent changes done by Przem in GT Core files. We must be
having the reasons to cheer. These changes are leading us to have
multi-window GT in Harbour.

Przem I have no words to appreciate your work.

One point to reconsider: Clipboard functions should not be GT specific
because of its inherent nature. A copy operation in one window(GT) must be
visible in another window(GT). OR I am missing something?

Hats off to you.

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/GT-Core-Changes---Awareness-Message-tf4940268.html#a14141937
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Tue Dec  4 08:42:51 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec  4 08:42:57 2007
Subject: [Harbour] GT Core Changes - Awareness Message
In-Reply-To: <14141937.post@talk.nabble.com>
References: <14141937.post@talk.nabble.com>
Message-ID: <20071204084251.GA5151@localhost.localdomain>

On Mon, 03 Dec 2007, Pritpal Bedi wrote:
> Hello Everybody
> Please notice the recent changes done by Przem in GT Core files. We must be
> having the reasons to cheer. These changes are leading us to have
> multi-window GT in Harbour.
> Przem I have no words to appreciate your work.

Thanks for kind words but it's a work in progress - I will need few
days (maybe week) to finish the base version. Then I'll try to write
some text about it. Probably as side effect of this job it will be
possible to use current GTs as multi window ones (f.e. open many windows
by GTWVT or GTXWC) and switch between them without any additional code.

> One point to reconsider: Clipboard functions should not be GT specific
> because of its inherent nature. A copy operation in one window(GT) must be
> visible in another window(GT). OR I am missing something?

Good note - thank you. I'll move internal clipboard buffer to separate code
with buffer shared by all threads.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Dec  4 09:17:01 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec  4 09:17:07 2007
Subject: [Harbour] lib rename proposal (2nd round)
In-Reply-To: <47547DE6.3070503@dbtopas.lt>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>
	<474FE967.9020206@marchuet.net>
	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>
	<20071202173332.GA9022@localhost.localdomain>
	<39D1ACAC-BF71-4AD6-8CBF-7C4BE180083A@syenar.hu>
	<20071203044032.GA14673@localhost.localdomain>
	<47547DE6.3070503@dbtopas.lt>
Message-ID: <20071204091701.GB5151@localhost.localdomain>

On Tue, 04 Dec 2007, Mindaugas Kavaliauskas wrote:
> I'm not the MT guru, but just have an idea. In current implementation we 
> need access TLS for most of many Item and Extend API functions: 
> hb_param(), hb_itemReturn(), hb_par*(), hb_ret*(), etc. The exception is 
> some base Item API functions which does not access parameters and does 
> not return value: hb_itemNew(), hb_itemGet*(), hb_itemSet*().
> For example, if we have harbour level function implemented in C, and we 
> need to access 5 parameters of the function and return a value, we'll 
> need 6 times to get STACK pointer from TLS, because every hb_par*(), 
> hb_ret*() is independent and needs STACK to do its job.
> What if extend Harbour API functions by set of MT "compatible" version 
> of the functions? I.e. hb_mtpar*( HVM* pVM, int iParam, ... ), etc.
>   HB_FUNC( AAA )
> would be preprocessed to
>   void HB_FUN_AAA( HVM* pVM )

And this is exactly what CLIP does. It passes to all functions
pointer to 'ClipMachine' structure which works like our HB_STACK.
Yesterday I read some xbase++ documentation (many thanks to all
of you who help me in locating xbase++ description) and XBASE++
makes the same by they call it 'XppParamList'. Harbour has PHB_STACK.
These are only different names but the same functionality.

> If function code uses old style hb_par*(), it will work OK, but it will 
> be slower in MT mode. Number of hb_par*(), hb_ret*() and some hb_item*() 
> functions is not very big, and writing MT version is easy 
> (straight-forward passing of pVM to other API calls).

Yes, it is easy but we will have to change calling convention for
existing functions and if we want to use the same libraries for
MT and ST mode then it will have to be global modification.
I like such API much more so you have my vote for this modification
but it will be problem for backward compatibility. Please also note
that we should try to force such modification in all code because
it will be valuable not only for MT mode but also for some other
situations. Even single thread program can use two or more HVMs.
If we want to keep old functions then we will have to chose naming
convention for the new ones. I think that we should respect commonly
used in POSIX functions _r sufix, f.e. hb_parc_r(), hb_retni_r(), ...
Please also note that to reduce TLS/TSD access in xHarbour HB_THREAD_STUB
is used. It helps when HB_STACK is accessed more then once in single
function.
But the most important for performance will be rewriting HVM functions
so pointer to HB_STACK will be passed to all hb_vm*() functions. Here
the performance we have highest performance overhead because HB_STACK
is accessed much more often then from C code.
Anyhow it's rather simple job which can be done later in spare time
when we will have MT support to improve performance and maybe merge
MT and ST VM library into single one. The most important will be
making other code MT safe, defining set of MT related functions
which can be used also in ST mode to avoid other library dividing
for ST and MT ones and decisions which resources should be thread
local, which global and which settable by user (global or local).

> What is expected time penalty of additional parameter in hb_mt*() in 
> comparison to TLS access?

It will depend on hardware and C compiler. I expect that passing pointer
to HB_STACK will reduce the performance not more then 3-5% and it's IMHO
acceptable. The cost of accessing TLS/TSD data in current code in the
worst case will reduce the performance of pure PCODE evaluation about
70% so it will be 3 times slower. But it's the worst case. On some platforms
it may be even smaller then passing pointer to HB_STACK so such modification
only for MT mode does not have big sense. But it will allow to use more
HVMs also in ST programs and in such case it's interesting extension.
If we also add support for calling PCODE function without executing C ones
then we will have nice VM to emulate MT mode in platforms which do not
have native MT support.

best regards,
Przemek
From mpaliwoda at interia.pl  Tue Dec  4 09:19:03 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Tue Dec  4 09:19:42 2007
Subject: [Harbour] 2007-12-04 10:17 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
Message-ID: <fj3627$tdn$1@ger.gmane.org>

2007-12-04 10:17 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
   * harbour/contrib/make_b32_all.bat
   * harbour/contrib/make_vc_all.bat
     - Removed the dependancy on a worker bat file
       named make_<b32|vc>.bat. Now a worker bat file
       is created on a fly.

   - harbour/contrib/make_b32.bat
   - harbour/contrib/make_vc.bat
     - Removed. No longer neccesary.

-- 

   Marek Paliwoda
mpaliwoda@interia.pl

From mpaliwoda at interia.pl  Tue Dec  4 09:22:36 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Tue Dec  4 09:25:16 2007
Subject: [Harbour] Re: lib rename proposal (2nd round)
In-Reply-To: <20071204091701.GB5151@localhost.localdomain>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>	<474FE967.9020206@marchuet.net>	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>	<20071202173332.GA9022@localhost.localdomain>	<39D1ACAC-BF71-4AD6-8CBF-7C4BE180083A@syenar.hu>	<20071203044032.GA14673@localhost.localdomain>	<47547DE6.3070503@dbtopas.lt>
	<20071204091701.GB5151@localhost.localdomain>
Message-ID: <fj368s$tdn$2@ger.gmane.org>

Hi,

> ...this is exactly what CLIP does. It passes to all functions
> pointer to 'ClipMachine' structure which works like our HB_STACK.
> Yesterday I read some xbase++ documentation (many thanks to all
> of you who help me in locating xbase++ description) and XBASE++
> makes the same by they call it 'XppParamList'. Harbour has PHB_STACK.
> These are only different names but the same functionality.

Not to mention NET DLR :). It does it in a similar way.

-- 

Marek

From druzus at acn.waw.pl  Tue Dec  4 11:52:22 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec  4 11:52:32 2007
Subject: [Harbour] 2007-12-04 12:51 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712041152.lB4BqM2X007479@31-mo5-4.acn.waw.pl>

2007-12-04 12:51 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbgtcore.h
    + added some missing HB_GTSUPER_* functions

  * harbour/contrib/hbgtwvg/wvtcore.c
    * use hb_gt*() functions instead of hb_gt_*() ones

  * harbour/contrib/hbgtwvg/wvtutils.c
  * harbour/contrib/hbgtwvg/gtwvt.c
  * harbour/source/rtl/gtwin/gtwin.c
  * harbour/source/rtl/gtgui/gtgui.c
  * harbour/source/rtl/gtwvt/gtwvt.c
  * harbour/source/rtl/gttone.c
  * harbour/source/rtl/gtclip.c
    * minor cleanup in hb_gt_w32_*() function names

  * harbour/source/rtl/hbgtcore.c
  * harbour/source/rtl/gtclip.c
    * use common for all GT internal Clipboard buffer - thanks to Pritpal
      for a note

best regards
Przemek
From druzus at acn.waw.pl  Tue Dec  4 12:49:34 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec  4 12:49:40 2007
Subject: [Harbour] lib rename proposal (2nd round)
In-Reply-To: <00a401c8359f$cfc5d460$6f517d20$@com>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>
	<474FE967.9020206@marchuet.net>
	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>
	<20071202173332.GA9022@localhost.localdomain>
	<009701c83589$20d809c0$62881d40$@com>
	<20071203103835.GA2809@localhost.localdomain>
	<00a401c8359f$cfc5d460$6f517d20$@com>
Message-ID: <20071204124934.GA7342@localhost.localdomain>

On Mon, 03 Dec 2007, Mike Evans (Gmail) wrote:
> Przemek, 
> I can send you all the manual of xBase++. They have the best manual I've
> ever read and over there you can find a lot of information's As an example :
> SET DELETED on | OFF | <lToggle> 
> Scope: thread-local, current work space

Thank you for your proposition. I've already read some xbase++
documentation so I have some basic ideas about their choices.

> As for variables visibility :
> Visibility of variables in different threads 
> 
>   Visibility              Storage class    
> 
>   Visible in the process  PUBLIC           
>   (all threads)           STATIC           
>                                            
>   Visible in the thread   LOCAL            
>   (this Thread)           PRIVATE          
>                           FIELD            
> Variables declared as LOCAL or PRIVATE are only visible in the thread where
> the declaration occurred. The variables declared with PUBLIC or STATIC are
> visible in all threads of a process (application program). Field variables
> (FIELD) are visible in a work area of a work space. A work space is bound to
> a thread. Since work spaces can be moved between threads, field variables
> can become visible in different threads. At a given point in time, a field
> variable is visible only in one thread.

I've read it but it does not explain what happens in some situations.
F.e. I have some private variables and create new thread. Does the new
thread inherit them or not or maybe inherits their clones?
What happen if I'll declare new public variables after creating new
threads. Will they be visible in all threads or only in the new ones
created after public declaration.
What does happen with public variable when its declaration hides
some previously defined private one with the same name when programs
leave the function where the public variables were declared and later
when leave the function where the private one were declared?
To implement the above description XBASE++ authors had to drop
compatibility with Clipper in few places.
If possible then I would like to ask xbase++ users to make a small
test with the code below. It shows some anomalies and bugs in Clipper
memvar implementation and I would like to see how close to Clipper
is xbase++ in its memvar implementation. If some can compile and run
this code and send the results here then it will help me to decide
if it's worth to replicate xbase++ behavior.

best regards,
Przemek



/*** mvtest.prg ***/
proc main()
? VERSION(), OS(), DATE(), TIME()
?
? "1", type("P1"), type("P2"), type("P3"), type("P4")
init()
? "5", type("P1"), type("P2"), type("P3"), type("P4")
? "===="
CLEAR MEMORY
? "1", type("P1"), type("P2"), type("P3"), type("P4")
init(1)
? "5", type("P1"), type("P2"), type("P3"), type("P4")
? "===="
return

proc init(x)
memvar p1
private p1:=1
? "2", type("P1"), type("P2"), type("P3"), type("P4")
init2(x)
? "4", type("P1"), type("P2"), type("P3"), type("P4")
return

proc init2(x)
memvar p3
private p3:=1
init3(x)
? p3
return

proc init3(x)
memvar p1, p2, p3, p4
private p3:="[c]"
public p1:="a", p2:="b"
if x!=NIL
   x:=type("P4:='d'")
endif
? "3", type("P1"), type("P2"), type("P3"), type("P4")
return
From maurilio.longo at libero.it  Tue Dec  4 14:30:14 2007
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Dec  4 14:34:50 2007
Subject: [Harbour] lib rename proposal (2nd round)
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>
	<474FE967.9020206@marchuet.net>
	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>
	<20071202173332.GA9022@localhost.localdomain>
	<39D1ACAC-BF71-4AD6-8CBF-7C4BE180083A@syenar.hu>
	<20071203044032.GA14673@localhost.localdomain>
	<47547DE6.3070503@dbtopas.lt>
	<20071204091701.GB5151@localhost.localdomain>
Message-ID: <47556476.C6F5C5F9@libero.it>

Przemyslaw and all involved,

If I can say what I think, here it is: I'd like to have just one mode, the MT
one, and just one set of extended api, the one we have now. Then, if I don't
write .PRG level MT code I simply end up having all my code executed as thread
#1.

This way GC can be on a different thread, terminals can update on-screen
buffer asynchronously from .prg code and so on.

It seems to me just a waste to have two sets of apis, two kinds of runtimes,
two kinds of libraries and so on when the overhead is a mere 5%, that is, in a
couple of months from now it will be removed by the use of faster cpus.

Look at xbase++, they just have the threaded model and this is a plus since
people start using it sooner or later if it does not require to rewrite things
for MT, or use different libs, makefiles etc etc.

With xHarbour it was decided to have two models MT and ST, and the end result
is that only ST is really used/tested/rock solid and this was, for me, a _big_
mistake.

Best regards.

Maurilio.

Przemyslaw Czerpak ha scritto:
> 
> On Tue, 04 Dec 2007, Mindaugas Kavaliauskas wrote:
> > I'm not the MT guru, but just have an idea. In current implementation we
> > need access TLS for most of many Item and Extend API functions:
> > hb_param(), hb_itemReturn(), hb_par*(), hb_ret*(), etc. The exception is
> > some base Item API functions which does not access parameters and does
> > not return value: hb_itemNew(), hb_itemGet*(), hb_itemSet*().
> > For example, if we have harbour level function implemented in C, and we
> > need to access 5 parameters of the function and return a value, we'll
> > need 6 times to get STACK pointer from TLS, because every hb_par*(),
> > hb_ret*() is independent and needs STACK to do its job.
> > What if extend Harbour API functions by set of MT "compatible" version
> > of the functions? I.e. hb_mtpar*( HVM* pVM, int iParam, ... ), etc.
> >   HB_FUNC( AAA )
> > would be preprocessed to
> >   void HB_FUN_AAA( HVM* pVM )
> 
> And this is exactly what CLIP does. It passes to all functions
> pointer to 'ClipMachine' structure which works like our HB_STACK.
> Yesterday I read some xbase++ documentation (many thanks to all
> of you who help me in locating xbase++ description) and XBASE++
> makes the same by they call it 'XppParamList'. Harbour has PHB_STACK.
> These are only different names but the same functionality.
> 
> > If function code uses old style hb_par*(), it will work OK, but it will
> > be slower in MT mode. Number of hb_par*(), hb_ret*() and some hb_item*()
> > functions is not very big, and writing MT version is easy
> > (straight-forward passing of pVM to other API calls).
> 
> Yes, it is easy but we will have to change calling convention for
> existing functions and if we want to use the same libraries for
> MT and ST mode then it will have to be global modification.
> I like such API much more so you have my vote for this modification
> but it will be problem for backward compatibility. Please also note
> that we should try to force such modification in all code because
> it will be valuable not only for MT mode but also for some other
> situations. Even single thread program can use two or more HVMs.
> If we want to keep old functions then we will have to chose naming
> convention for the new ones. I think that we should respect commonly
> used in POSIX functions _r sufix, f.e. hb_parc_r(), hb_retni_r(), ...
> Please also note that to reduce TLS/TSD access in xHarbour HB_THREAD_STUB
> is used. It helps when HB_STACK is accessed more then once in single
> function.
> But the most important for performance will be rewriting HVM functions
> so pointer to HB_STACK will be passed to all hb_vm*() functions. Here
> the performance we have highest performance overhead because HB_STACK
> is accessed much more often then from C code.
> Anyhow it's rather simple job which can be done later in spare time
> when we will have MT support to improve performance and maybe merge
> MT and ST VM library into single one. The most important will be
> making other code MT safe, defining set of MT related functions
> which can be used also in ST mode to avoid other library dividing
> for ST and MT ones and decisions which resources should be thread
> local, which global and which settable by user (global or local).
> 
> > What is expected time penalty of additional parameter in hb_mt*() in
> > comparison to TLS access?
> 
> It will depend on hardware and C compiler. I expect that passing pointer
> to HB_STACK will reduce the performance not more then 3-5% and it's IMHO
> acceptable. The cost of accessing TLS/TSD data in current code in the
> worst case will reduce the performance of pure PCODE evaluation about
> 70% so it will be 3 times slower. But it's the worst case. On some platforms
> it may be even smaller then passing pointer to HB_STACK so such modification
> only for MT mode does not have big sense. But it will allow to use more
> HVMs also in ST programs and in such case it's interesting extension.
> If we also add support for calling PCODE function without executing C ones
> then we will have nice VM to emulate MT mode in platforms which do not
> have native MT support.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________                   
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.
From makis1970 at gmail.com  Tue Dec  4 15:39:28 2007
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Tue Dec  4 15:40:00 2007
Subject: [Harbour] lib rename proposal (2nd round)
In-Reply-To: <20071204124934.GA7342@localhost.localdomain>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>	<474FE967.9020206@marchuet.net>	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>	<20071202173332.GA9022@localhost.localdomain>	<009701c83589$20d809c0$62881d40$@com>	<20071203103835.GA2809@localhost.localdomain>	<00a401c8359f$cfc5d460$6f517d20$@com>
	<20071204124934.GA7342@localhost.localdomain>
Message-ID: <002801c8368b$dcd611f0$968235d0$@com>

Przemek,

Maybee this will help you.
The container API allows access to the internal data structures of Xbase++.
Each variable in Xbase++ is based internally on a data structure called a
Container object . Each container object manages the type and the value of a
variable. Access to a container is only possible through the ContainerHandle
of the object. 
The container API uses functions to create new container objects
(_conNew...()), to read their values (_conGet...()) and to change their
values (_conPut...()). Because the ContainerHandle of a parameter can be
accessed and the return value of a function set using the container API, all
of the operations of the parameter API can also be accomplished with the
container API. Note: Even though the _par...() and _con...() functions can
be used jointly, it is recommended that the container API will be used. 

For each of the functions of the container API, success or failure of the
function is determined by examining the return value. Functions which return
ContainerHandles return the value NULLCONTAINER when an error occurs. All
other functions indicate an error by a return value not equal to NULL. 
Important: 
Instead of testing the type of container and then reading the value, the
value should be read and the return value tested. This is because Xbase++
allows several threads in an application, all of which can access Xbase++
variables. So that programs can work correctly, all operations on variables
are atomic. This keeps two threads from attempting to change the value of a
variable at the same time. In this situation, the changes are executed
sequentially such that the second change sets the value. 

Examination of the variable type with _conType() and reading the value with
_conGet...() are two different operations. Therefore, it is possible that
the variable could be changed by another thread after testing the type but
before reading the value. 
The following chapter gives an alphabetical reference of all container API
functions.

PS. I'll try to ask a co developer who is working with xBase++ to test it
tomorrow and I'll post the results


Best Regards
Mike Evans

/*** mvtest.prg ***/
proc main()
? VERSION(), OS(), DATE(), TIME()
?
? "1", type("P1"), type("P2"), type("P3"), type("P4")
init()
? "5", type("P1"), type("P2"), type("P3"), type("P4")
? "===="
CLEAR MEMORY
? "1", type("P1"), type("P2"), type("P3"), type("P4")
init(1)
? "5", type("P1"), type("P2"), type("P3"), type("P4")
? "===="
return

proc init(x)
memvar p1
private p1:=1
? "2", type("P1"), type("P2"), type("P3"), type("P4")
init2(x)
? "4", type("P1"), type("P2"), type("P3"), type("P4")
return

proc init2(x)
memvar p3
private p3:=1
init3(x)
? p3
return

proc init3(x)
memvar p1, p2, p3, p4
private p3:="[c]"
public p1:="a", p2:="b"
if x!=NIL
   x:=type("P4:='d'")
endif
? "3", type("P1"), type("P2"), type("P3"), type("P4")
return
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From mpaliwoda at interia.pl  Tue Dec  4 15:30:45 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Tue Dec  4 15:44:36 2007
Subject: [Harbour] 2007-12-04 16:30 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
Message-ID: <fj3rr6$beq$1@ger.gmane.org>

2007-12-04 16:30 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
   * harbour/make_vcce.bat
     * Checking if HB and HBPPGEN envvars are set is moved
       to BUILD rule to not affect CLEAN and INSTALL rules

-- 

     Marek Paliwoda
mpaliwoda at interia pl

From druzus at acn.waw.pl  Tue Dec  4 15:49:40 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec  4 15:49:46 2007
Subject: [Harbour] lib rename proposal (2nd round)
In-Reply-To: <47556476.C6F5C5F9@libero.it>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>
	<474FE967.9020206@marchuet.net>
	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>
	<20071202173332.GA9022@localhost.localdomain>
	<39D1ACAC-BF71-4AD6-8CBF-7C4BE180083A@syenar.hu>
	<20071203044032.GA14673@localhost.localdomain>
	<47547DE6.3070503@dbtopas.lt>
	<20071204091701.GB5151@localhost.localdomain>
	<47556476.C6F5C5F9@libero.it>
Message-ID: <20071204154940.GA16288@localhost.localdomain>

On Tue, 04 Dec 2007, Maurilio Longo wrote:
> Przemyslaw and all involved,
> If I can say what I think, here it is: I'd like to have just one mode, the MT
> one, and just one set of extended api, the one we have now. Then, if I don't
> write .PRG level MT code I simply end up having all my code executed as thread
> #1.

Fatal idea because in the same moment real thread #1 will operate on
the same data as the other thread(s) which executed the same non MT code.
Result: internal structure corruption and probably GPF (optimistic situation)
corruption of external data f.e. stored in data files (worser case).
IMO it's the worst possible choice. In such way worked xHarbour when
HB_STACK_MACROS were enabled by default and hb_stack symbol was present
in both MT and ST modes.

> This way GC can be on a different thread, terminals can update on-screen
> buffer asynchronously from .prg code and so on.

Sorry but I do not understand. I do not see any relation to GC here or
allocated resources. How GC will be implemented is only our decision and
3-rd party code should not depend on it at all. For us it's only important
to not define API which may reduce our choices in the future.

> It seems to me just a waste to have two sets of apis, two kinds of runtimes,
> two kinds of libraries and so on when the overhead is a mere 5%, that is, in a
> couple of months from now it will be removed by the use of faster cpus.

Current Clipper compatible API does not allow to create more HVMs in
single thread programs. It forces using the same number of OS threads
as Harbour threads and in some cases it can be serious limitation.
Please also remember about other then x86 based machines which may
not follow some of modifications/extensions in the future.
If need really good and flexible solution then we should create new
API and remove the old one so whole code will be MT ready.

> Look at xbase++, they just have the threaded model and this is a plus since
> people start using it sooner or later if it does not require to rewrite things
> for MT, or use different libs, makefiles etc etc.

And xbase++ uses sth like proposed new API and does not support Clipper
compatible one. If you want to follow xbase++ then we will have to drop
current API.

> With xHarbour it was decided to have two models MT and ST, and the end result
> is that only ST is really used/tested/rock solid and this was, for me, a _big_
> mistake.

To clarify. MT mode in xHarbour was never finished. Even the goals of MT
mode was never defined. Some important core elements has been never MT safe.
F.e. even such basic ones like OOP code - just check that s_pClasses is not
protected so you can have unexpected GPF in OOP code, it's enough that some
thread will execute code with new class what causes that s_pClasses will
be reallocated and all pClass pointers used by other threads will stop
to be valid. Problems with xHarbour MT mode are not caused by separate
libraries but by the fact that it has been never finished and developers
haven't known how to make existing and new code MT ready because it was
not defined which resources should be local and which ones global. Looking
at existing code does not help because it's not finished in too many places.
Few months ago Miguel syncing modifications with Harbour removed from
xHarbour thread local work areas and so far no one reported it as a bug.
It only shows that in practice no one seriously uses MT in xHarbour and
does not even know what should expect.

best regards,
Przemek
From mpaliwoda at interia.pl  Tue Dec  4 16:04:03 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Tue Dec  4 16:04:10 2007
Subject: [Harbour] 2007-12-04 17:04 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
Message-ID: <47557A73.6010000@interia.pl>

2007-12-04 17:04 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
   * harbour/make_b32.mak
   * harbour/make_vc.mak
     * TABs converted to spaces. Minor formatting

   * harbour/make_gcc.mak
   * harbour/make_vcce.mak
     * Minor formatting

-- 

     Marek Paliwoda
mpaliwoda at interia pl

----------------------------------------------------------------------
Odmienila swoje oblicze a Ty ... ??

>>> http://link.interia.pl/f1c9c

From druzus at acn.waw.pl  Tue Dec  4 16:30:48 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec  4 16:30:54 2007
Subject: [Harbour] lib rename proposal (2nd round)
In-Reply-To: <002801c8368b$dcd611f0$968235d0$@com>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>
	<474FE967.9020206@marchuet.net>
	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>
	<20071202173332.GA9022@localhost.localdomain>
	<009701c83589$20d809c0$62881d40$@com>
	<20071203103835.GA2809@localhost.localdomain>
	<00a401c8359f$cfc5d460$6f517d20$@com>
	<20071204124934.GA7342@localhost.localdomain>
	<002801c8368b$dcd611f0$968235d0$@com>
Message-ID: <20071204163048.GA16551@localhost.localdomain>

On Tue, 04 Dec 2007, Mike Evans (Gmail) wrote:
> Przemek,
> Maybee this will help you.
> The container API allows access to the internal data structures of Xbase++.
> Each variable in Xbase++ is based internally on a data structure called a
> Container object . Each container object manages the type and the value of a
> variable. Access to a container is only possible through the ContainerHandle
> of the object. 
[...]

Thank you. I've read yesterday xbase++ C API. Change _con*() in this text
to hb_item*() and add in few functions parameter with HB_STACK pointer and
you will have very similar API to current one extended for MT mode as we
propose. I've even found read/write string item lock functions I wanted
to add to Harbour to eliminate hb_itemGetCPtr() :-)
In practice in all languages such API will have to be _very_ similar and
it's not a problem to define it but rather the decision if we want to make
sth like that dropping backward compatibility or not. We will have some
time for this decision and I plan to implement 1-st version of MT using
current API but then we will have to chose sth.

> PS. I'll try to ask a co developer who is working with xBase++ to test it
> tomorrow and I'll post the results

Thank you again.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Dec  4 16:31:45 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec  4 16:31:50 2007
Subject: [Harbour] A gateway service is active for this developer list at
	gmane.comp.lang.harbour.devel
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E649@SRV02.deltain.net>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>
	<474FE967.9020206@marchuet.net>
	<009701c83589$20d809c0$62881d40$@com>
	<AFB948164110ED43B5EB849E8DEEF03815E649@SRV02.deltain.net>
Message-ID: <20071204163145.GB16551@localhost.localdomain>

On Mon, 03 Dec 2007, Massimo Belgrano wrote:
> Information about gmane.comp.lang.harbour.devel 
> http://dir.gmane.org/gmane.comp.lang.harbour.devel
> 
> The archive for this list can be read the following ways: 
> On the web, using frames and threads. 
> http://news.gmane.org/gmane.comp.lang.harbour.devel
> 
> On the web, using a blog-like, flat interface. 
> http://blog.gmane.org/gmane.comp.lang.harbour.devel
> 
> Using an NNTP newsreader. 
> nntp://news.gmane.org/gmane.comp.lang.harbour.devel

Thank you very much. Very nice extensions.

best regards,
Przemek
From mbelgrano at deltain.it  Tue Dec  4 17:02:37 2007
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Dec  4 17:02:48 2007
Subject: [Harbour] A gateway service is active for this developer list
	atgmane.comp.lang.harbour.devel
In-Reply-To: <20071204163145.GB16551@localhost.localdomain>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu><474FE967.9020206@marchuet.net><009701c83589$20d809c0$62881d40$@com><AFB948164110ED43B5EB849E8DEEF03815E649@SRV02.deltain.net>
	<20071204163145.GB16551@localhost.localdomain>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E661@SRV02.deltain.net>

I suggest update harbour web page with this info
Wich is the maintainer?

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Przemyslaw
Czerpak
Sent: Tuesday, December 04, 2007 5:32 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] A gateway service is active for this developer
list atgmane.comp.lang.harbour.devel

On Mon, 03 Dec 2007, Massimo Belgrano wrote:
> Information about gmane.comp.lang.harbour.devel 
> http://dir.gmane.org/gmane.comp.lang.harbour.devel
> 
> The archive for this list can be read the following ways: 
> On the web, using frames and threads. 
> http://news.gmane.org/gmane.comp.lang.harbour.devel
> 
> On the web, using a blog-like, flat interface. 
> http://blog.gmane.org/gmane.comp.lang.harbour.devel
> 
> Using an NNTP newsreader. 
> nntp://news.gmane.org/gmane.comp.lang.harbour.devel

Thank you very much. Very nice extensions.

best regards,
Przemek
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From maurilio.longo at libero.it  Tue Dec  4 17:35:37 2007
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Dec  4 17:37:22 2007
Subject: [Harbour] lib rename proposal (2nd round)
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>
	<474FE967.9020206@marchuet.net>
	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>
	<20071202173332.GA9022@localhost.localdomain>
	<39D1ACAC-BF71-4AD6-8CBF-7C4BE180083A@syenar.hu>
	<20071203044032.GA14673@localhost.localdomain>
	<47547DE6.3070503@dbtopas.lt>
	<20071204091701.GB5151@localhost.localdomain>
	<47556476.C6F5C5F9@libero.it>
	<20071204154940.GA16288@localhost.localdomain>
Message-ID: <47558FE9.5AF3F48@libero.it>

Przemyslaw Czerpak ha scritto:
> 
> On Tue, 04 Dec 2007, Maurilio Longo wrote:
> > Przemyslaw and all involved,
> > If I can say what I think, here it is: I'd like to have just one mode, the MT
> > one, and just one set of extended api, the one we have now. Then, if I don't
> > write .PRG level MT code I simply end up having all my code executed as thread
> > #1.
> 
> Fatal idea because in the same moment real thread #1 will operate on
> the same data as the other thread(s) which executed the same non MT code.
> Result: internal structure corruption and probably GPF (optimistic situation)
> corruption of external data f.e. stored in data files (worser case).

I think I was not able to explain what I intended to say .)

with a MT only runtime you have two possibilities:

- you write MT .prg code (startThread() and the like)
- you write ST .prg (code ported from clipper)

All your code should be executed by a single thread (let's say #1) and only
code that is explicitly started by a startThread() should be executed by a
different thread.

This way, if you don't use MT extensions explicitly your code has not MT
issues being confined to a single thread (as is with current ST code which is,
in the end, run by a thread).

> 
> > This way GC can be on a different thread, terminals can update on-screen
> > buffer asynchronously from .prg code and so on.
> 
> Sorry but I do not understand. I do not see any relation to GC here or
> allocated resources. How GC will be implemented is only our decision and
> 3-rd party code should not depend on it at all. For us it's only important
> to not define API which may reduce our choices in the future.
> 

It was an example, since .prg gets compiled to .c I cannot have a ST .prg code
linked to ST .C libraries if GC is to be run by a thread. If, otherwise, we
have a MT only runtime than we already have to link to MT .C libraries and as
such we can use threads at the .C level without worring about .prg <-> .c
issues (if there are such issues, I really don't know for sure).


> > It seems to me just a waste to have two sets of apis, two kinds of runtimes,
> > two kinds of libraries and so on when the overhead is a mere 5%, that is, in a
> > couple of months from now it will be removed by the use of faster cpus.
> 
> Current Clipper compatible API does not allow to create more HVMs in
> single thread programs. It forces using the same number of OS threads

ok, it's clear now.

> as Harbour threads and in some cases it can be serious limitation.
> Please also remember about other then x86 based machines which may
> not follow some of modifications/extensions in the future.
> If need really good and flexible solution then we should create new
> API and remove the old one so whole code will be MT ready.
> 

If this is so, then I'd say let's write a xbase++ compatible api, this will
make it easier for third parties to support harbour as well.

> > Look at xbase++, they just have the threaded model and this is a plus since
> > people start using it sooner or later if it does not require to rewrite things
> > for MT, or use different libs, makefiles etc etc.
> 
> And xbase++ uses sth like proposed new API and does not support Clipper
> compatible one. If you want to follow xbase++ then we will have to drop
> current API.
> 

Long time ago I ported my contrib/mysql to xbase++, if I remeber correctly I
can still use _parc() apis on xbase++, I just have a new set of calls,
_conXXX() to deal with containers to a greater extent than it's possible using
compitible extended api. But it was a long time ago, maybe I'm wrong right now
:)


> To clarify. MT mode in xHarbour was never finished. Even the goals of MT
> mode was never defined. Some important core elements has been never MT safe.

Ok.

> Few months ago Miguel syncing modifications with Harbour removed from
> xHarbour thread local work areas and so far no one reported it as a bug.
> It only shows that in practice no one seriously uses MT in xHarbour and
> does not even know what should expect.

I was not aware that xHarbour had thread local WAs :O

Best regards.

Maurilio.


> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________                   
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.
From maurilio.longo at libero.it  Tue Dec  4 18:38:04 2007
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Dec  4 18:38:09 2007
Subject: [Harbour] lib rename proposal (2nd round)
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>
	<474FE967.9020206@marchuet.net>
	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>
	<20071202173332.GA9022@localhost.localdomain>
	<009701c83589$20d809c0$62881d40$@com>
	<20071203103835.GA2809@localhost.localdomain>
	<00a401c8359f$cfc5d460$6f517d20$@com>
	<20071204124934.GA7342@localhost.localdomain>
Message-ID: <47559E8C.D7B072B2@libero.it>

Przemyslaw,

this is the answer that I get running your sample:

--------8<-----------------
Xbase++ (R) Version 1.90 Windows 2000 05.00 Build 02195 Service Pack 4
12/04/200
7 19.35.29

1 U U U U
2 N U U U
3 C C C U
         1
4 C C U U
5 U C U U
====
1 U U U U
2 N U U U
3 C C C C
         1
4 C C U U
5 U C U U
====
-------->8-----------------

Best regards

Maurilio.



Przemyslaw Czerpak ha scritto:
> 
> On Mon, 03 Dec 2007, Mike Evans (Gmail) wrote:
> > Przemek,
> > I can send you all the manual of xBase++. They have the best manual I've
> > ever read and over there you can find a lot of information's As an example :
> > SET DELETED on | OFF | <lToggle>
> > Scope: thread-local, current work space
> 
> Thank you for your proposition. I've already read some xbase++
> documentation so I have some basic ideas about their choices.
> 
> > As for variables visibility :
> > Visibility of variables in different threads
> >
> >   Visibility              Storage class
> >
> >   Visible in the process  PUBLIC
> >   (all threads)           STATIC
> >
> >   Visible in the thread   LOCAL
> >   (this Thread)           PRIVATE
> >                           FIELD
> > Variables declared as LOCAL or PRIVATE are only visible in the thread where
> > the declaration occurred. The variables declared with PUBLIC or STATIC are
> > visible in all threads of a process (application program). Field variables
> > (FIELD) are visible in a work area of a work space. A work space is bound to
> > a thread. Since work spaces can be moved between threads, field variables
> > can become visible in different threads. At a given point in time, a field
> > variable is visible only in one thread.
> 
> I've read it but it does not explain what happens in some situations.
> F.e. I have some private variables and create new thread. Does the new
> thread inherit them or not or maybe inherits their clones?
> What happen if I'll declare new public variables after creating new
> threads. Will they be visible in all threads or only in the new ones
> created after public declaration.
> What does happen with public variable when its declaration hides
> some previously defined private one with the same name when programs
> leave the function where the public variables were declared and later
> when leave the function where the private one were declared?
> To implement the above description XBASE++ authors had to drop
> compatibility with Clipper in few places.
> If possible then I would like to ask xbase++ users to make a small
> test with the code below. It shows some anomalies and bugs in Clipper
> memvar implementation and I would like to see how close to Clipper
> is xbase++ in its memvar implementation. If some can compile and run
> this code and send the results here then it will help me to decide
> if it's worth to replicate xbase++ behavior.
> 
> best regards,
> Przemek
> 
> /*** mvtest.prg ***/
> proc main()
> ? VERSION(), OS(), DATE(), TIME()
> ?
> ? "1", type("P1"), type("P2"), type("P3"), type("P4")
> init()
> ? "5", type("P1"), type("P2"), type("P3"), type("P4")
> ? "===="
> CLEAR MEMORY
> ? "1", type("P1"), type("P2"), type("P3"), type("P4")
> init(1)
> ? "5", type("P1"), type("P2"), type("P3"), type("P4")
> ? "===="
> return
> 
> proc init(x)
> memvar p1
> private p1:=1
> ? "2", type("P1"), type("P2"), type("P3"), type("P4")
> init2(x)
> ? "4", type("P1"), type("P2"), type("P3"), type("P4")
> return
> 
> proc init2(x)
> memvar p3
> private p3:=1
> init3(x)
> ? p3
> return
> 
> proc init3(x)
> memvar p1, p2, p3, p4
> private p3:="[c]"
> public p1:="a", p2:="b"
> if x!=NIL
>    x:=type("P4:='d'")
> endif
> ? "3", type("P1"), type("P2"), type("P3"), type("P4")
> return
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________                   
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.
From mpaliwoda at interia.pl  Tue Dec  4 19:40:25 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Tue Dec  4 19:41:22 2007
Subject: [Harbour] 2007-12-04 20:39 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
Message-ID: <fj4afa$5o9$1@ger.gmane.org>

2007-12-04 20:39 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
   * harbour/contrib/make_b32_all.bat
   * harbour/contrib/make_vc_all.bat
     ! Fixed argument handling in created "worker bat file"

-- 

     Marek Paliwoda
mpaliwoda at interia pl

From druzus at acn.waw.pl  Tue Dec  4 19:58:29 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec  4 19:58:38 2007
Subject: [Harbour] lib rename proposal (2nd round)
In-Reply-To: <47559E8C.D7B072B2@libero.it>
References: <E09736AC-E551-4509-8712-4B99C83370D1@syenar.hu>
	<474FE967.9020206@marchuet.net>
	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>
	<20071202173332.GA9022@localhost.localdomain>
	<009701c83589$20d809c0$62881d40$@com>
	<20071203103835.GA2809@localhost.localdomain>
	<00a401c8359f$cfc5d460$6f517d20$@com>
	<20071204124934.GA7342@localhost.localdomain>
	<47559E8C.D7B072B2@libero.it>
Message-ID: <20071204195829.GA19299@localhost.localdomain>

On Tue, 04 Dec 2007, Maurilio Longo wrote:
> this is the answer that I get running your sample:
> --------8<-----------------
> Xbase++ (R) Version 1.90 Windows 2000 05.00 Build 02195 Service Pack 4
> 12/04/200
> 7 19.35.29
> 
> 1 U U U U
> 2 N U U U
> 3 C C C U
>          1
> 4 C C U U
> 5 U C U U
> ====
> 1 U U U U
> 2 N U U U
> 3 C C C C
>          1
> 4 C C U U
> 5 U C U U
> ====
> -------->8-----------------

Thank you.
This are exactly the same results as in from [x]Harbour and a little bit
different then from Clipper. Both compilers replicate one Clipper anomaly
but not a bug.
So now answers for my questions in previous message are important.
What happens with memvars (public and private variables) created in
different situations. The description in xbase++ is not precise enough
so it will be necessary to create some additional test code if no one
knows the answers.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Dec  4 20:58:27 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec  4 20:58:33 2007
Subject: [Harbour] lib rename proposal (2nd round)
In-Reply-To: <47558FE9.5AF3F48@libero.it>
References: <474FE967.9020206@marchuet.net>
	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>
	<20071202173332.GA9022@localhost.localdomain>
	<39D1ACAC-BF71-4AD6-8CBF-7C4BE180083A@syenar.hu>
	<20071203044032.GA14673@localhost.localdomain>
	<47547DE6.3070503@dbtopas.lt>
	<20071204091701.GB5151@localhost.localdomain>
	<47556476.C6F5C5F9@libero.it>
	<20071204154940.GA16288@localhost.localdomain>
	<47558FE9.5AF3F48@libero.it>
Message-ID: <20071204205827.GB19299@localhost.localdomain>

On Tue, 04 Dec 2007, Maurilio Longo wrote:
> I think I was not able to explain what I intended to say .)
> with a MT only runtime you have two possibilities:
> - you write MT .prg code (startThread() and the like)
> - you write ST .prg (code ported from clipper)

- create a code which is reentrant safe and will work in both
  ST and MT modes if possible without any additional synchronization
  mechanism.

This is sth what I used to do because usually I do not know how I will
want to use my code in few years - it may be part of ST or MT program.

> All your code should be executed by a single thread (let's say #1) and only
> code that is explicitly started by a startThread() should be executed by a
> different thread.

I do not understand such limitation. Code started by StartThread()
should be able to use all existing features and functions just like
single thread code. Of course if access to some resources will need
additional synchronization mechanism then it will have to be used.
We only have to clearly document which elements are synced by us and
which one must be synced by user.

> This way, if you don't use MT extensions explicitly your code has not MT
> issues being confined to a single thread (as is with current ST code which is,
> in the end, run by a thread).

Maurilio, I really do not know what I should think about. Probably
I do not understand you. If I have ST server for single user in ST
mode then having MT mode I want to use the same code to serve more
clients simultaneously. I do not want to rewrite this code using
some new rules. I expect the code executed after StartThread()
will work with the same conditions as in single thread program
or as in the main thread.

> > > This way GC can be on a different thread, terminals can update on-screen
> > > buffer asynchronously from .prg code and so on.
> > Sorry but I do not understand. I do not see any relation to GC here or
> > allocated resources. How GC will be implemented is only our decision and
> > 3-rd party code should not depend on it at all. For us it's only important
> > to not define API which may reduce our choices in the future.
> It was an example, since .prg gets compiled to .c I cannot have a ST .prg code
> linked to ST .C libraries if GC is to be run by a thread. If, otherwise, we
> have a MT only runtime than we already have to link to MT .C libraries and as
> such we can use threads at the .C level without worring about .prg <-> .c
> issues (if there are such issues, I really don't know for sure).

We do not have any problem with .prg->.c code translation by compiler
in ST and future MT mode.
The GC problem is caused by the fact that we have to stop all user threads
before we begin to mark all known items. If we will not make sth like that
then it will be possible that one of threads will move not marked yet chain
of items to item which has been marked by GC. It will cause that GC will
never mark them as used and free them but in fact items are still accessible.
To resolve this problem is necessary to stop all user threads or extend GC
by introducing state markers (colors in some terminology) though it's not
perfect solution and in some cases may be reason of bad side effects so
it's rather seldom used feature.
In summary: with current GC nothing can change item contents during GC
scan/mark pass. In MT programs it means that all user threads will have
to be suspend and when GC will finish its job resumed. Such situation
is quite common in many different languages using GC.

> > If need really good and flexible solution then we should create new
> > API and remove the old one so whole code will be MT ready.
> If this is so, then I'd say let's write a xbase++ compatible api, this will
> make it easier for third parties to support harbour as well.

As I said such API will have to be very similar in all languages so some
set of #define macros should probably resolve the problems with portability
xbase++ code. I belive that now you can see how important is not accessing
HB_ITEM internals from non core code. In Harbour for non core code PHB_ITEM
is mapped to void * so it works just like an container handle in xbase++.
We are free to introduce any modifications without effecting 3-rd part code,
f.e we can internally use synchronization mechanism to guard that some
operations on items will be atomic or instead of pointers begin to use
indexes to some HVM internal item table. In xHarbour HB_ITEM members are
visible and accessed by non core code so it's hard to make such modifications
even in CVS repository only - instead of few modifications in HVM code it will
be necessary to update RTL and many other libraries.

> > And xbase++ uses sth like proposed new API and does not support Clipper
> > compatible one. If you want to follow xbase++ then we will have to drop
> > current API.
> Long time ago I ported my contrib/mysql to xbase++, if I remeber correctly I
> can still use _parc() apis on xbase++, I just have a new set of calls,
> _conXXX() to deal with containers to a greater extent than it's possible using
> compitible extended api. But it was a long time ago, maybe I'm wrong right now
> :)

looking at xbase++ C API description I can find _par*() and _ret*()
functions very similar to Clipper ones but they need as one of parameters:
    XppParamList pList
what in practice means the same as passing pointer to HB_STACK. So they
have the same names as Clipper ones but needs different parameters so
works like proposed new MT friendly API.

> > Few months ago Miguel syncing modifications with Harbour removed from
> > xHarbour thread local work areas and so far no one reported it as a bug.
> > It only shows that in practice no one seriously uses MT in xHarbour and
> > does not even know what should expect.
> I was not aware that xHarbour had thread local WAs :O

To be more clear: the WA list was common to all threads but each thread
had its own current workarea number so it was possible that each thread
was operating on different workarea. Now current workarea number is common
to all threads so it's not possible to even use aliased expressions in
MT code because they need to switch and restore workarea number and such
operation is not thread local in current xHarbour code.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Dec  5 01:30:03 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Dec  5 01:30:10 2007
Subject: [Harbour] CHANGELOG: 2007-12-05 02:28 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c836de$Blat.v2.6.2$5bc241da$ed0c90ebed4@127.0.0.1>

2007-12-05 02:28 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * utils/hbmake/hbmutils.prg
     ! Some fixes related to contrib dir renames.
       NOTE: Blind fix. I don't use this tool. If you do, pls 
             report problems.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Dec  5 02:04:47 2007
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Dec  5 02:04:55 2007
Subject: [Harbour] CT BUG: FILEATTR() incompatibiliy
Message-ID: <16B6FCC3-643D-442C-9E90-D87F7133F197@syenar.hu>

Hi,

CT compatible functions FILEATTR() behaves
differenly in Harbour than in Clipper, when
the passed filename is an existing directory,
or a system or hidden file.

Example for dirs:

Harbour:
FILEATTR() -> 0

Clipper:
FILEATTR() -> 16

Brgds,
Viktor

From dbtopas at dbtopas.lt  Wed Dec  5 02:58:55 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Dec  5 02:58:55 2007
Subject: [Harbour] HB_BIT*()
Message-ID: <475613EF.3000204@dbtopas.lt>

Hi,


I'm moving to Harbour, and found names of bit functions a little 
confusing. We have these for 4 months, and if it is used widely in 
applications, let's stay as it is.

But the proposition is:
1) HB_BITRESET(nValue, nBit)=>nValue rename to HB_BITCLEAR(). It's more 
clear name. Note: the function to set bit to 1 is HB_BITSET().
2) HB_BITTEST(nValue, nBit)=>lValue rename to HB_BITGET(). BITTEST makes 
me think it returns: (value & mask) == mask;
3) add function HB_BITPUT(nValue, nBit, lValue)=>nValue as an opposite 
operation to HB_BITGET().  This one more reason to rename HB_BITTEST(), 
because BITTEST does not have a pair name like GET/PUT.

I see only this HB_BITRESET() is compatible name with xHarbour. So, we 
can also change apply only 2) and 3) proposition, to not increase 
compatibility differences with xHarbour.


Best regards,
Mindaugas


From druzus at acn.waw.pl  Wed Dec  5 07:19:24 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Dec  5 07:19:30 2007
Subject: [Harbour] CT BUG: FILEATTR() incompatibiliy
In-Reply-To: <16B6FCC3-643D-442C-9E90-D87F7133F197@syenar.hu>
References: <16B6FCC3-643D-442C-9E90-D87F7133F197@syenar.hu>
Message-ID: <20071205071924.GA21923@localhost.localdomain>

On Wed, 05 Dec 2007, Szak?ts Viktor wrote:
> Hi,
> CT compatible functions FILEATTR() behaves
> differenly in Harbour than in Clipper, when
> the passed filename is an existing directory,
> or a system or hidden file.
> Example for dirs:
> Harbour:
> FILEATTR() -> 0
> Clipper:
> FILEATTR() -> 16

Viktor, _REAL_ examples usually helps much more
because this example works _exactly_ like in Clipper.
I've made some test and I've found what can be source
of problems. FILEATTR() works in different way then other
FILE*() functions. When cFile parameter is given then
default attr mask is set to ALL ATRIBUTES. I'll fix it
in a while. Thanks for the information.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Dec  5 07:26:04 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Dec  5 07:26:10 2007
Subject: [Harbour] 2007-12-05 08:25 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712050726.lB57Q4mj023283@31-mo5-4.acn.waw.pl>

2007-12-05 08:25 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbgtcore.h
    * added HB_GTSELF_*() macros for future use

  * harbour/source/rtl/gtalleg/gtalleg.c
  * harbour/source/rtl/gtalleg/ssf.h
  * harbour/source/rtl/gtalleg/fixedth.sfc
  * harbour/source/rtl/gtalleg/ssf.c
    * replaced one global variable by static one
    * formatting

  * harbour/contrib/hbct/files.c
    ! fixed default attribute mask in FILEATTR(<cFileName>)

best regards
Przemek
From labitas at gmail.com  Wed Dec  5 07:58:39 2007
From: labitas at gmail.com (Saulius Zrelskis)
Date: Wed Dec  5 07:58:44 2007
Subject: [Harbour] HB_BIT*()
In-Reply-To: <475613EF.3000204@dbtopas.lt>
References: <475613EF.3000204@dbtopas.lt>
Message-ID: <2386af1b0712042358i458dca88o72d818bd16ca911f@mail.gmail.com>

2007/12/5, Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>:
>
> Hi,
>
>
> I'm moving to Harbour, and found names of bit functions a little
> confusing. We have these for 4 months, and if it is used widely in
> applications, let's stay as it is.
>
> But the proposition is:
> 1) HB_BITRESET(nValue, nBit)=>nValue rename to HB_BITCLEAR(). It's more
> clear name. Note: the function to set bit to 1 is HB_BITSET().


HB_BITCLEAR is better name, as in FoxPro: BITCLEAR. But HB_BITSET name is
confusing too: user thinks to set to X value. What about HB_BITON/HB_BITOFF
pair ?

2) HB_BITTEST(nValue, nBit)=>lValue rename to HB_BITGET(). BITTEST makes
> me think it returns: (value & mask) == mask;


in FoxPro BITTEST. In bits world GET/PUT looks little clumsy. User want to
know only
two states: is bit on or not on, and in IF statement name HB_BITGET wants to
be
compared with something. What about HB_BITISSET or HB_BITISON names ?

3) add function HB_BITPUT(nValue, nBit, lValue)=>nValue as an opposite
> operation to HB_BITGET().  This one more reason to rename HB_BITTEST(),
> because BITTEST does not have a pair name like GET/PUT.


According to Clipper style one function
  HB_BITSET(<nValue>, <nBit> [,<lValue>] )  => nValue
can do it.

Best regards,
Saulius
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20071205/bfab743d/attachment.html
From bedipritpal at hotmail.com  Wed Dec  5 08:09:17 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Dec  5 08:09:20 2007
Subject: [Harbour] 2007-12-04 23:56 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <14166927.post@talk.nabble.com>


2007-12-04 23:56 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/wvtcore.c
    ! Small typo and formatting.
  * harbour/contrib/gtwvg/wvtutils.c
    * More UNICODE compliant.
  * harbour/contrib/gtwvg/test/demowvg.prg
    ! Adjusted to respect changes in core lib.

Regards
Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/2007-12-04-23%3A56-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tf4948037.html#a14166927
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From maurilio.longo at libero.it  Wed Dec  5 08:11:39 2007
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Dec  5 08:11:52 2007
Subject: [Harbour] lib rename proposal (2nd round)
References: <474FE967.9020206@marchuet.net>
	<1633B596-326C-4011-8454-30ED0552A80F@syenar.hu>
	<20071202173332.GA9022@localhost.localdomain>
	<39D1ACAC-BF71-4AD6-8CBF-7C4BE180083A@syenar.hu>
	<20071203044032.GA14673@localhost.localdomain>
	<47547DE6.3070503@dbtopas.lt>
	<20071204091701.GB5151@localhost.localdomain>
	<47556476.C6F5C5F9@libero.it>
	<20071204154940.GA16288@localhost.localdomain>
	<47558FE9.5AF3F48@libero.it>
	<20071204205827.GB19299@localhost.localdomain>
Message-ID: <47565D3B.35378780@libero.it>

Przemyslaw,

What I was trying to say is that a MT only rtl/hvm can be used with ST code
(like all legacy code) without problems because code that does not use MT
features explicitly will simply be running on thread #1 and will be completely
unaware of being run in a MT capable environment.

This is what happens with xbase++ which has only a MT runtime.

Of course, if I call startThread() I'm writing MT code and as such it will be
my resposability to create reentrant/mt-safe code.

Hope this is more clear.

Thanks.

Maurilio.


> I do not understand such limitation. Code started by StartThread()
> should be able to use all existing features and functions just like
> single thread code. Of course if access to some resources will need
> additional synchronization mechanism then it will have to be used.
> We only have to clearly document which elements are synced by us and
> which one must be synced by user.
> 
> > This way, if you don't use MT extensions explicitly your code has not MT
> > issues being confined to a single thread (as is with current ST code which is,
> > in the end, run by a thread).
> 
> Maurilio, I really do not know what I should think about. Probably
> I do not understand you. If I have ST server for single user in ST
> mode then having MT mode I want to use the same code to serve more
> clients simultaneously. I do not want to rewrite this code using
> some new rules. I expect the code executed after StartThread()
> will work with the same conditions as in single thread program
> or as in the main thread.
> 
> > > > This way GC can be on a different thread, terminals can update on-screen
> > > > buffer asynchronously from .prg code and so on.
> > > Sorry but I do not understand. I do not see any relation to GC here or
> > > allocated resources. How GC will be implemented is only our decision and
> > > 3-rd party code should not depend on it at all. For us it's only important
> > > to not define API which may reduce our choices in the future.
> > It was an example, since .prg gets compiled to .c I cannot have a ST .prg code
> > linked to ST .C libraries if GC is to be run by a thread. If, otherwise, we
> > have a MT only runtime than we already have to link to MT .C libraries and as
> > such we can use threads at the .C level without worring about .prg <-> .c
> > issues (if there are such issues, I really don't know for sure).
> 
> We do not have any problem with .prg->.c code translation by compiler
> in ST and future MT mode.
> The GC problem is caused by the fact that we have to stop all user threads
> before we begin to mark all known items. If we will not make sth like that
> then it will be possible that one of threads will move not marked yet chain
> of items to item which has been marked by GC. It will cause that GC will
> never mark them as used and free them but in fact items are still accessible.
> To resolve this problem is necessary to stop all user threads or extend GC
> by introducing state markers (colors in some terminology) though it's not
> perfect solution and in some cases may be reason of bad side effects so
> it's rather seldom used feature.
> In summary: with current GC nothing can change item contents during GC
> scan/mark pass. In MT programs it means that all user threads will have
> to be suspend and when GC will finish its job resumed. Such situation
> is quite common in many different languages using GC.
> 
> > > If need really good and flexible solution then we should create new
> > > API and remove the old one so whole code will be MT ready.
> > If this is so, then I'd say let's write a xbase++ compatible api, this will
> > make it easier for third parties to support harbour as well.
> 
> As I said such API will have to be very similar in all languages so some
> set of #define macros should probably resolve the problems with portability
> xbase++ code. I belive that now you can see how important is not accessing
> HB_ITEM internals from non core code. In Harbour for non core code PHB_ITEM
> is mapped to void * so it works just like an container handle in xbase++.
> We are free to introduce any modifications without effecting 3-rd part code,
> f.e we can internally use synchronization mechanism to guard that some
> operations on items will be atomic or instead of pointers begin to use
> indexes to some HVM internal item table. In xHarbour HB_ITEM members are
> visible and accessed by non core code so it's hard to make such modifications
> even in CVS repository only - instead of few modifications in HVM code it will
> be necessary to update RTL and many other libraries.
> 
> > > And xbase++ uses sth like proposed new API and does not support Clipper
> > > compatible one. If you want to follow xbase++ then we will have to drop
> > > current API.
> > Long time ago I ported my contrib/mysql to xbase++, if I remeber correctly I
> > can still use _parc() apis on xbase++, I just have a new set of calls,
> > _conXXX() to deal with containers to a greater extent than it's possible using
> > compitible extended api. But it was a long time ago, maybe I'm wrong right now
> > :)
> 
> looking at xbase++ C API description I can find _par*() and _ret*()
> functions very similar to Clipper ones but they need as one of parameters:
>     XppParamList pList
> what in practice means the same as passing pointer to HB_STACK. So they
> have the same names as Clipper ones but needs different parameters so
> works like proposed new MT friendly API.
> 
> > > Few months ago Miguel syncing modifications with Harbour removed from
> > > xHarbour thread local work areas and so far no one reported it as a bug.
> > > It only shows that in practice no one seriously uses MT in xHarbour and
> > > does not even know what should expect.
> > I was not aware that xHarbour had thread local WAs :O
> 
> To be more clear: the WA list was common to all threads but each thread
> had its own current workarea number so it was possible that each thread
> was operating on different workarea. Now current workarea number is common
> to all threads so it's not possible to even use aliased expressions in
> MT code because they need to switch and restore workarea number and such
> operation is not thread local in current xHarbour code.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________                   
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.
From harbour.01 at syenar.hu  Wed Dec  5 08:17:41 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Dec  5 08:17:45 2007
Subject: [Harbour] CHANGELOG: 2007-12-05 09:15 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c83717$Blat.v2.6.2$4e246966$9a4f8cb34f8@127.0.0.1>

2007-12-05 09:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * contrib/hbct/files.c
     ! FILESIZE() fixed to return -1 when the file doesn't exist.

   - contrib/hbmysql/test
   + contrib/hbmysql/tests
   - contrib/hbw32ddr/test
   + contrib/hbw32ddr/tests
   - contrib/hbodbc/test
   + contrib/hbodbc/tests
   - contrib/hbtpathy/test
   + contrib/hbtpathy/tests
   - contrib/hbw32/test
   + contrib/hbw32/tests
   - contrib/hbole/test
   + contrib/hbole/tests
   - contrib/hbfbird/test
   + contrib/hbfbird/tests
   - contrib/hbapollo/test
   + contrib/hbapollo/tests
   - contrib/hbnf/tests
   + contrib/hbnf/test
   - contrib/hbfimage/test
   + contrib/hbfimage/tests
   - contrib/hbmisc/test
   + contrib/hbmisc/tests
   - contrib/hbgtwvg/test
   + contrib/hbgtwvg/tests
   - contrib/hbrddads/test
   + contrib/hbrddads/tests
   - contrib/hbbtree/test
   + contrib/hbbtree/tests
     ! Renamed test to tests to use 'tests' everywhere 
       inside the repository.
--
Brgds,
Viktor

From M.Horodyski at pzuzycie.com.pl  Wed Dec  5 07:59:30 2007
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Dec  5 08:50:40 2007
Subject: [Harbour] RE: Harbour Digest, Vol 14, Issue 11
Message-ID: <503AD832DBBF60469E9F807668A2F6A202AC29B7@PINK.zycie.pzu>

>Message: 7
>Date: Tue, 4 Dec 2007 20:58:29 +0100
>From: Przemyslaw Czerpak <druzus@acn.waw.pl>
>Subject: Re: [Harbour] lib rename proposal (2nd round)
>To: "Harbour Project Main Developer List."
>	<harbour@harbour-project.org>
>Message-ID: <20071204195829.GA19299@localhost.localdomain>
>Content-Type: text/plain; charset=iso-8859-2
>
>On Tue, 04 Dec 2007, Maurilio Longo wrote:
>> this is the answer that I get running your sample:

[ ... ]

>So now answers for my questions in previous message are important.
>What happens with memvars (public and private variables) 
>created in different situations. The description in xbase++ is 
>not precise enough so it will be necessary to create some 
>additional test code if no one knows the answers.
>
>best regards,
>Przemek

My vote and supplication for private variable is :
- Private variable created in thread can be differ in differ thread
Or
- Private variable begining with special character ( for example with $)
can be differ in differ thread

Regards,
Marek Horodyski
From niki at synel.co.il  Wed Dec  5 12:24:41 2007
From: niki at synel.co.il (Chen Kedem)
Date: Wed Dec  5 12:22:13 2007
Subject: [Harbour] ChangeLog: 2007-12-05 14:20 UTC+0200 Chen Kedem
Message-ID: <47569889.5331@synel.co.il>

2007-12-05 14:20 UTC+0200 Chen Kedem <niki@synel.co.il>
  * doc/dirstruc.txt
    * Change "test" to "tests".
  * doc/en/lang.txt
    * Update language table for HB_LANGSELECT  to reflect source/lang
    * Update codepage table for HB_SETCODEPAGE to reflect source/codepage

NOTES:

1) Files missing SVN keyword for $Revision and $Date
   source/lang/msgltwin.c
   source/lang/msgnl.c

2) Files containing wrong codepage comment Windows-1520 --> Windows-1250
   source/codepage/cpcswin.c
   source/codepage/cpskwin.c

3) Italian files marked as Spanish in the top comment
   source/codepage/cpit850.c
   source/codepage/cpitisb.c
   source/codepage/cpitiso.c

4) Viktor, how come the Hungarian ISO/WIN codepages are stated to be
   compatible with the Clipper ntx/six hu852? (I understand the difference
   between the ntx and the six versions). If an Harbour application uses
   HUISO and a Clipper application uses ntxhu852, can both update the
   same database without any problem?

5) The file names in source/codepage are sometimes not the same convention
   as their content like cpgewin.c for German DEWIN (ISO-8859-1),
   and cpltwin.c for Lithuanian LT (Windows-1257).


  Chen.
**********************************************************************************************
IMPORTANT: The contents of this email and any attachments are confidential. They are intended for the 
named recipient(s) only.
If you have received this email in error, please notify the system manager or the sender immediately and do 
not disclose the contents to anyone or make copies thereof.
*** eSafe scanned this email for viruses, vandals, and malicious content. ***
**********************************************************************************************

From mbelgrano at deltain.it  Wed Dec  5 15:06:37 2007
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec  5 15:08:54 2007
Subject: [Harbour] Will harbour help porting of a Visual foxPro Application?
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E67E@SRV02.deltain.net>

Will harbour help porting of a Visual foxPro Application?
Any experiences?

Massimo Belgrano


From dbtopas at dbtopas.lt  Wed Dec  5 16:42:17 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Dec  5 16:42:17 2007
Subject: [Harbour] NULL prg pointer
Message-ID: <4756D4E9.1020207@dbtopas.lt>

Hi,


one more question. I'm changing Win32 API handlers and memory pointers 
from numeric to pointer type. How can I assign empty pointer to variable?


Best regards,
Mindaugas
From niki at synel.co.il  Wed Dec  5 17:09:34 2007
From: niki at synel.co.il (Chen Kedem)
Date: Wed Dec  5 17:08:00 2007
Subject: [Harbour] NULL prg pointer
Message-ID: <4756DB4E.1DD3@synel.co.il>

Mindaugas,

> How can I assign empty pointer to variable?

C level function: hb_retptr( NULL );
Don't know about PRG level, but since pointers are usually not created
on the PRG level it is reasonable.


  Chen.
**********************************************************************************************
IMPORTANT: The contents of this email and any attachments are confidential. They are intended for the 
named recipient(s) only.
If you have received this email in error, please notify the system manager or the sender immediately and do 
not disclose the contents to anyone or make copies thereof.
*** eSafe scanned this email for viruses, vandals, and malicious content. ***
**********************************************************************************************

From niki at synel.co.il  Wed Dec  5 17:15:14 2007
From: niki at synel.co.il (Chen Kedem)
Date: Wed Dec  5 17:13:05 2007
Subject: [Harbour] NULL prg pointer
References: <4756DB4E.1DD3@synel.co.il>
Message-ID: <4756DCA2.6626@synel.co.il>

I wrote:
> C level function: hb_retptr( NULL );

Well, this function return pointer to a null item, but it is
probably not empty (a new item is allocated every time).

So I leave it to someone which know something about this, to answer :)

  Chen.
**********************************************************************************************
IMPORTANT: The contents of this email and any attachments are confidential. They are intended for the 
named recipient(s) only.
If you have received this email in error, please notify the system manager or the sender immediately and do 
not disclose the contents to anyone or make copies thereof.
*** eSafe scanned this email for viruses, vandals, and malicious content. ***
**********************************************************************************************

From myorg63 at mail.ru  Wed Dec  5 17:47:42 2007
From: myorg63 at mail.ru (Petr Chornyj)
Date: Wed Dec  5 17:47:44 2007
Subject: [Harbour] NULL prg pointer
In-Reply-To: <4756D4E9.1020207@dbtopas.lt>
References: <4756D4E9.1020207@dbtopas.lt>
Message-ID: <14176597.post@talk.nabble.com>



Mindaugas Kavaliauskas wrote:
> 
> Hi,
> 
> one more question. I'm changing Win32 API handlers and memory pointers 
> from numeric to pointer type. How can I assign empty pointer to variable?
> 

F.e. I'm use this code

LOCAL dc := _GetDC( hwnd)

If hb_IsPointer( dc )
   ..
   dc := NIL
endif



typedef struct _MYDC
{
	HWND hwnd;
	HDC hdc;
} MYDC, * myDCPtr;

  
/* destructor
*/ 
static HB_GARBAGE_FUNC( hb_DC_Destructor ) 
{ 
   MYDC * dcPtr = ( MYDC * ) Cargo; 
 
   if( * dcPtr ) 
   { 
      /* Destroy DC */ 
      ReleaseDC( dcPtr->hwnd, dcPtr->hdc ); 
 
      * dcPtr = NULL; 
   } 
} 
 
/* function returns MYDC pointer or NULL when wrong variable is 
*  passed or MYDC was freed before 
*/ 

static MYDC hb_parMYDC( int iParam ) 
{ 
   MYDC * dcPtr = ( MYDC * ) hb_parptrGC( hb_DC_Destructor, iParam ); 
 
   if( dcPtr ) 
      return * dcPtr; 
   else 
      return NULL; 
} 
 
/* function create in HVM stack return value item with MYDC pointer 
*/ 
static void hb_retMYDC( MYDC dc ) 
{ 
   MYDC * dcPtr; 
 
   dcPtr = ( MYDC * ) hb_gcAlloc( sizeof( MYDC ), hb_DC_Destructor ); 
   * dcPtr = dc; 
   hb_retptrGC( ( void * ) dcPtr ); 
} 
 
HB_FUNC( _GETDC )
{
   MYDC dc;
   HWND hwnd = (HWND) hb_parnl( 1 );

   if ( hwnd != NULL )
   {
      dc.hwnd = hwnd;
      dc.hdc  = GetDC( hwnd )
   }
}


Regards,
Petr


-- 
View this message in context: http://www.nabble.com/NULL-prg-pointer-tf4950867.html#a14176597
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From dbtopas at dbtopas.lt  Wed Dec  5 17:55:09 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Dec  5 17:55:20 2007
Subject: [Harbour] NULL prg pointer
In-Reply-To: <4756DB4E.1DD3@synel.co.il>
References: <4756DB4E.1DD3@synel.co.il>
Message-ID: <4756E5FD.70209@dbtopas.lt>

>> How can I assign empty pointer to variable?
> 
> C level function: hb_retptr( NULL );

Hi,


I can do it in C, so I've wrote a EMPTYPTR() function with
    hb_retptr( NULL );
but I'm asking about compiler based 0p0 (just like 0d0 or 0t0 for empty 
date or timestamp) solution. Does such solution exist?


> Don't know about PRG level, but since pointers are usually not created
> on the PRG level it is reasonable.

Well, for long time I've been using numeric value to store pointers and 
handles, because pointer type was not implemented in Clipper, 
[x]Harbour. Now I'm changing this these variables to true pointer type.
Usually the .prg code changes are:
   IF nPtr != 0      to     IF ! EMPTY( pPtr )
But sometimes, I need to initialize pointers (or pass NULL pointers to 
some function). The previous solution was:
   nPtr := 0
and I want to change to something like:
   pPtr := 0p0
In some cases NIL and 0 had different meaning: NIL - resource is not 
allocated, I should try to allocate it; 0 - resource allocation failed, 
ex., such resource does not exist; otherwise value is valid pointer. In 
this case using NIL instead of EMPTY/NULL pointer is also not a solution.


Best regards,
Mindaugas

From dbtopas at dbtopas.lt  Wed Dec  5 17:58:11 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Dec  5 17:58:21 2007
Subject: [Harbour] NULL prg pointer
In-Reply-To: <4756DCA2.6626@synel.co.il>
References: <4756DB4E.1DD3@synel.co.il> <4756DCA2.6626@synel.co.il>
Message-ID: <4756E6B3.70401@dbtopas.lt>

Chen Kedem wrote:
>> C level function: hb_retptr( NULL );
> 
> Well, this function return pointer to a null item, but it is
> probably not empty (a new item is allocated every time).
> 
> So I leave it to someone which know something about this, to answer :)

Hi,


this function return "NULL .prg level pointer". Item is allocated for 
any .prg variable regardless its type or value.


Best regards,
Mindaugas
From dbtopas at dbtopas.lt  Wed Dec  5 18:14:47 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Dec  5 18:14:49 2007
Subject: [Harbour] NULL prg pointer
In-Reply-To: <14176597.post@talk.nabble.com>
References: <4756D4E9.1020207@dbtopas.lt> <14176597.post@talk.nabble.com>
Message-ID: <4756EA97.1060106@dbtopas.lt>

Petr Chornyj wrote:
>> one more question. I'm changing Win32 API handlers and memory pointers 
>> from numeric to pointer type. How can I assign empty pointer to variable?


>    HWND hwnd = (HWND) hb_parnl( 1 );

I was using this approach since 1998, and I'm moving to:
     HWND hwnd = hb_parptr( 1 );


> static HB_GARBAGE_FUNC( hb_DC_Destructor ) 
> { 
>    MYDC * dcPtr = ( MYDC * ) Cargo; 
>    if( * dcPtr ) 
>    { 
>       /* Destroy DC */ 
>       ReleaseDC( dcPtr->hwnd, dcPtr->hdc ); 
>       * dcPtr = NULL; 
>    } 
> } 

I'm using not collectible pointers, i.e. programmer has real value of 
hdc inside it's variable, and he is responsible for freeing DC, by 
ReleaseDC() call.


Best regards,
Mindaugas


From mbelgrano at deltain.it  Wed Dec  5 18:17:27 2007
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Dec  5 18:17:35 2007
Subject: [Harbour] Will harbour help porting of a Visual foxPro
	Application?
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E67E@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815E67E@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E688@SRV02.deltain.net>

Will an harbour application coexist with foxpro9 on a FoxPro 9 tables
Advantage Database Server 9 beta seem support visual FoxPro 9 Tables
http://www.advantagedatabase.com/web/content.aspx?key=F4865DD0C39A3D7CED
CC29852332B93B

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo
Belgrano
Sent: Wednesday, December 05, 2007 4:07 PM
To: harbour@harbour-project.org
Subject: [Harbour] Will harbour help porting of a Visual foxPro
Application?

Will harbour help porting of a Visual foxPro Application?
Any experiences?

Massimo Belgrano


_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Wed Dec  5 18:52:21 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Dec  5 18:52:24 2007
Subject: [Harbour] CHANGELOG: 2007-12-05 19:50 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c8376f$Blat.v2.6.2$f77d0f88$d68e3c4367a@127.0.0.1>

2007-12-05 19:50 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * source/lang/msgnl.c
   * source/lang/msgelwin.c
   * source/lang/msgltwin.c
   * source/lang/msgel.c
   * source/codepage/cpitisb.c
   * source/codepage/cpit850.c
   * source/codepage/cpcswin.c
   * source/codepage/cpskwin.c
   * source/codepage/cpitiso.c
     ! Some SVN header, SVN keywords and some errors in 
       comments fixed. (Thanks Chen)
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Dec  5 18:58:55 2007
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Dec  5 18:59:10 2007
Subject: [Harbour] ChangeLog: 2007-12-05 14:20 UTC+0200 Chen Kedem
In-Reply-To: <47569889.5331@synel.co.il>
References: <47569889.5331@synel.co.il>
Message-ID: <82D4F260-AEE2-4CE4-BEA5-DB019DA69270@syenar.hu>

Hi Chen,

> 1) Files missing SVN keyword for $Revision and $Date
>   source/lang/msgltwin.c
>   source/lang/msgnl.c
>
> 2) Files containing wrong codepage comment Windows-1520 -->  
> Windows-1250
>   source/codepage/cpcswin.c
>   source/codepage/cpskwin.c
>
> 3) Italian files marked as Spanish in the top comment
>   source/codepage/cpit850.c
>   source/codepage/cpitisb.c
>   source/codepage/cpitiso.c

I've fixed these, thanks.

> 4) Viktor, how come the Hungarian ISO/WIN codepages are stated to be
>   compatible with the Clipper ntx/six hu852? (I understand the  
> difference
>   between the ntx and the six versions). If an Harbour application  
> uses
>   HUISO and a Clipper application uses ntxhu852, can both update the
>   same database without any problem?

No, they won't be you're right. This is only sloppy wording.
I'll go and fix them.

> 5) The file names in source/codepage are sometimes not the same  
> convention
>   as their content like cpgewin.c for German DEWIN (ISO-8859-1),
>   and cpltwin.c for Lithuanian LT (Windows-1257).

Yes, would be good to clean up. I'll fix this one. There is
not definitive guide for these things and it's pretty hard to
have one because 8 chars filename limit is very restrictive
in this corner of Harbour.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Dec  5 19:02:04 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Dec  5 19:02:07 2007
Subject: [Harbour] CHANGELOG: 2007-12-05 20:00 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c83771$Blat.v2.6.2$52f96aae$eb0e5d839d4@127.0.0.1>

2007-12-05 20:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * source/codepage/cphuwins.c
   * source/codepage/cphuiso.c
   * source/codepage/cphuwin.c
   * source/codepage/cphuisos.c
     ! Fixed sloppy wording in comment. (Thanks Chen)

   * common.mak
   * source/codepage/Makefile
   + source/codepage/cpgeiso.c
   - source/codepage/cpgewin.c
     * Renamed to ISO to be in sync with the actual codepage used.
       (Thanks Chen)
     ; Might be a good idea to readd the "real" WIN version to stay 
       compatible. Anyone?
--
Brgds,
Viktor

From dbtopas at dbtopas.lt  Wed Dec  5 19:18:54 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Dec  5 19:18:53 2007
Subject: [Harbour] ChangeLog 2007-12-05 21:15 UTC+0200 Mindaugas Kavaliauskas
Message-ID: <4756F99E.3090205@dbtopas.lt>

2007-12-05 21:15 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
   * harbour/source/codepage/cpltwin.c
   * harbour/source/lang/msgltwin.c
     * changed language ID to: LTWIN
     * svn properties



From niki at synel.co.il  Wed Dec  5 19:21:52 2007
From: niki at synel.co.il (Chen Kedem)
Date: Wed Dec  5 19:20:29 2007
Subject: [Harbour] CHANGELOG: 2007-12-05 20:00 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <4756FA50.7474@synel.co.il>

>    + source/codepage/cpgeiso.c
>   - source/codepage/cpgewin.c

German language id is DE and not GE.

The naming convention we have in source/lang are like:

ID or IDccc     = Dos version for codepage ccc of language ID
IDWIN           = Windows-nnnn codepage of language ID
IDISO           = ISO-nnnnn-n codepage of language ID
IDxxx or IDxxxx = any other variation for that given ID

This is the internal id of the langugae, and the file name is
"msg" + internal id + ".c"

In source/codepage some of the above are used, but there is more
chaos.

Apart for users already using some of the wrong names, is there
any xBase standard for these names, or we are free do modify it
since its an Harbour extension?


  Chen.
**********************************************************************************************
IMPORTANT: The contents of this email and any attachments are confidential. They are intended for the 
named recipient(s) only.
If you have received this email in error, please notify the system manager or the sender immediately and do 
not disclose the contents to anyone or make copies thereof.
*** eSafe scanned this email for viruses, vandals, and malicious content. ***
**********************************************************************************************

From dbtopas at dbtopas.lt  Wed Dec  5 19:23:35 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Dec  5 19:23:35 2007
Subject: [Harbour] CHANGELOG: 2007-12-05 19:50 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
In-Reply-To: <01c8376f$Blat.v2.6.2$f77d0f88$d68e3c4367a@127.0.0.1>
References: <01c8376f$Blat.v2.6.2$f77d0f88$d68e3c4367a@127.0.0.1>
Message-ID: <4756FAB7.6000007@dbtopas.lt>

Szak?ts Viktor wrote:
> 2007-12-05 19:50 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>    * source/lang/msgnl.c
>    * source/lang/msgelwin.c
>    * source/lang/msgltwin.c
>    * source/lang/msgel.c
>    * source/codepage/cpitisb.c
>    * source/codepage/cpit850.c
>    * source/codepage/cpcswin.c
>    * source/codepage/cpskwin.c
>    * source/codepage/cpitiso.c
>      ! Some SVN header, SVN keywords and some errors in 
>        comments fixed. (Thanks Chen)

Viktor,


after your commit files (at least few of it) shows svn:keywords="Date". 
I guess you've set new keyword, but not included the old one, so they 
are lost. I've recommited msgltwin.c with svn:keywords="Author Date Id 
Revision".


Best regards,
Mindaugas
From slinky at kodollak.hu  Wed Dec  5 20:36:46 2007
From: slinky at kodollak.hu (Karoly CZOVEK)
Date: Wed Dec  5 19:37:26 2007
Subject: [Harbour] hbcc / hbmk / hblnk utils was gone
Message-ID: <47570BDE.4080200@kodollak.hu>

What happened? I've tried to install harbour on my secondary devel 
computer from CVS, and i've found that the utils i used to compile 
programs in linux were gone.

The utils were:

	hbmk
	hblnk
	hbcc

i've used make_gcc.sh to compile harbour - what to do, how i can get 
this utils back, or what is the proper method for compiling after this, 
at linux?

'nite.



-- 
Karoly CZOVEK

From dbtopas at dbtopas.lt  Wed Dec  5 19:39:07 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Dec  5 19:39:07 2007
Subject: [Harbour] CHANGELOG: 2007-12-05 20:00 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
In-Reply-To: <4756FA50.7474@synel.co.il>
References: <4756FA50.7474@synel.co.il>
Message-ID: <4756FE5B.1060900@dbtopas.lt>

Chen Kedem wrote:
>>    + source/codepage/cpgeiso.c
>>   - source/codepage/cpgewin.c
> 
> German language id is DE and not GE.
> 
> The naming convention we have in source/lang are like:
> 
> ID or IDccc     = Dos version for codepage ccc of language ID
> IDWIN           = Windows-nnnn codepage of language ID
> IDISO           = ISO-nnnnn-n codepage of language ID
> IDxxx or IDxxxx = any other variation for that given ID
> 
> This is the internal id of the langugae, and the file name is
> "msg" + internal id + ".c"


Hi,


what is correct codepage format for msg*.c files? Files have different 
variations: "1250", "Windows-1250", "ANSI-1253".


Best regards,
Mindaugas


C:\harboursvn\source\lang>grep 125 *
msghuwin.c:/* Codepage: Windows-1250 */
msghuwin.c:      "Windows-1250",              /* Codepage */
msgruwin.c:/* Codepage: Windows-1251 */
msgruwin.c:      "1251",                      /* Codepage */
msgplwin.c: * Language Support Module (PL Windows CP1250)
msgplwin.c:/* Codepage: 1250 */
msgplwin.c:      "1250",                      /* Codepage */
msgslwin.c:/* Codepage: 1250 */
msgslwin.c:      "1250",                     /* Codepage */
msgsrwin.c:/* Codepage: Windows-1251          */
msgsrwin.c:      "1251",                      /* Codepage */
msgtrwin.c:/* Codepage: 1254         */
msgtrwin.c:      "1254",                      /* Codepage */
msgbgwin.c:/* Codepage: Windows-1251 */
msgbgwin.c:      "Windows-1251",              /* Codepage */
msghewin.c:/* Codepage: Windows-1255          */
msghewin.c:      "1255",                      /* Codepage */
msgcswin.c: * Language Support Module (CSWIN) WIN1250
msgcswin.c:/* Codepage: 1250 */
msgcswin.c:      "1250",                         /* Codepage */
msgelwin.c:/* Codepage: ANSI - 1253 */
msgelwin.c:      "ANSI-1253",                          /* Codepage */
msgltwin.c:/* Codepage: Windows-1257 */
msgltwin.c:      "Windows-1257",              /* Codepage */


From slinky at kodollak.hu  Wed Dec  5 20:49:13 2007
From: slinky at kodollak.hu (Karoly CZOVEK)
Date: Wed Dec  5 19:49:51 2007
Subject: [Harbour] hbcc / hbmk / hblnk utils was gone
In-Reply-To: <47570BDE.4080200@kodollak.hu>
References: <47570BDE.4080200@kodollak.hu>
Message-ID: <47570EC9.9060502@kodollak.hu>

Karoly CZOVEK wrote:
> What happened? I've tried to install harbour on my secondary devel 
> computer from CVS, and i've found that the utils i used to compile 
> programs in linux were gone.

OK, i've missed to run postinst.sh - it will be cool if a message can be 
displayed after a successfull make_gcc.sh || make_gnu.sh install  to do 
not miss run postinst

Thanks.
From niki at synel.co.il  Wed Dec  5 19:59:03 2007
From: niki at synel.co.il (Chen Kedem)
Date: Wed Dec  5 19:56:47 2007
Subject: [Harbour] CHANGELOG: 2007-12-05 20:00 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <47570307.3878@synel.co.il>

Mindaugas wrote:
> what is correct codepage format for msg*.c files? Files have
> different variations: "1250", "Windows-1250", "ANSI-1253".

I think it should be the number itself for non Windows codepages
(usually 3 digits codepage), Windows-nnnn for the Windows variation,
ISO-nnnnn-n for the ISO ones, any other code should be written as
used in the local country (KIO-8, KAM, Mazovia, ...)


  Chen.
**********************************************************************************************
IMPORTANT: The contents of this email and any attachments are confidential. They are intended for the 
named recipient(s) only.
If you have received this email in error, please notify the system manager or the sender immediately and do 
not disclose the contents to anyone or make copies thereof.
*** eSafe scanned this email for viruses, vandals, and malicious content. ***
**********************************************************************************************

From dbtopas at dbtopas.lt  Wed Dec  5 23:50:24 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Dec  5 23:50:24 2007
Subject: [Harbour] Pointer keys
Message-ID: <47573940.7000804@dbtopas.lt>

Hi,


any objection against pointer type to be hash key type?


Best regards,
Mindaugas
From harbour.01 at syenar.hu  Thu Dec  6 00:18:47 2007
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Dec  6 00:19:01 2007
Subject: [Harbour] CHANGELOG: 2007-12-05 19:50 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
In-Reply-To: <4756FAB7.6000007@dbtopas.lt>
References: <01c8376f$Blat.v2.6.2$f77d0f88$d68e3c4367a@127.0.0.1>
	<4756FAB7.6000007@dbtopas.lt>
Message-ID: <543F7947-206A-4C95-AF3E-6C13136541BF@syenar.hu>

Okey and thanks, I'll update my files (and docs in Harbour) to add  
them all.

Brgds,
Viktor

On 2007.12.05., at 20:23, Mindaugas Kavaliauskas wrote:

> Szak?ts Viktor wrote:
>> 2007-12-05 19:50 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>   * source/lang/msgnl.c
>>   * source/lang/msgelwin.c
>>   * source/lang/msgltwin.c
>>   * source/lang/msgel.c
>>   * source/codepage/cpitisb.c
>>   * source/codepage/cpit850.c
>>   * source/codepage/cpcswin.c
>>   * source/codepage/cpskwin.c
>>   * source/codepage/cpitiso.c
>>     ! Some SVN header, SVN keywords and some errors in         
>> comments fixed. (Thanks Chen)
>
> Viktor,
>
>
> after your commit files (at least few of it) shows  
> svn:keywords="Date". I guess you've set new keyword, but not  
> included the old one, so they are lost. I've recommited msgltwin.c  
> with svn:keywords="Author Date Id Revision".
>
>
> Best regards,
> Mindaugas

From harbour.01 at syenar.hu  Thu Dec  6 00:22:54 2007
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Dec  6 00:23:05 2007
Subject: [Harbour] CHANGELOG: 2007-12-05 20:00 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
In-Reply-To: <4756FE5B.1060900@dbtopas.lt>
References: <4756FA50.7474@synel.co.il> <4756FE5B.1060900@dbtopas.lt>
Message-ID: <6A8DDEA6-AEA8-4B5F-B15C-B9A787FA80C1@syenar.hu>

I think we should use the complete standard codepage name
format wherever possible (at least in comments and codepage
string currently).

Windows-1250
ISO-8859-2
IBM852

There are some synomyms too which can make it more confusing
sometimes.

Brgds,
Viktor

On 2007.12.05., at 20:39, Mindaugas Kavaliauskas wrote:

> Chen Kedem wrote:
>>>   + source/codepage/cpgeiso.c
>>>  - source/codepage/cpgewin.c
>> German language id is DE and not GE.
>> The naming convention we have in source/lang are like:
>> ID or IDccc     = Dos version for codepage ccc of language ID
>> IDWIN           = Windows-nnnn codepage of language ID
>> IDISO           = ISO-nnnnn-n codepage of language ID
>> IDxxx or IDxxxx = any other variation for that given ID
>> This is the internal id of the langugae, and the file name is
>> "msg" + internal id + ".c"
>
>
> Hi,
>
>
> what is correct codepage format for msg*.c files? Files have  
> different variations: "1250", "Windows-1250", "ANSI-1253".
>
>
> Best regards,
> Mindaugas
>
>
> C:\harboursvn\source\lang>grep 125 *
> msghuwin.c:/* Codepage: Windows-1250 */
> msghuwin.c:      "Windows-1250",              /* Codepage */
> msgruwin.c:/* Codepage: Windows-1251 */
> msgruwin.c:      "1251",                      /* Codepage */
> msgplwin.c: * Language Support Module (PL Windows CP1250)
> msgplwin.c:/* Codepage: 1250 */
> msgplwin.c:      "1250",                      /* Codepage */
> msgslwin.c:/* Codepage: 1250 */
> msgslwin.c:      "1250",                     /* Codepage */
> msgsrwin.c:/* Codepage: Windows-1251          */
> msgsrwin.c:      "1251",                      /* Codepage */
> msgtrwin.c:/* Codepage: 1254         */
> msgtrwin.c:      "1254",                      /* Codepage */
> msgbgwin.c:/* Codepage: Windows-1251 */
> msgbgwin.c:      "Windows-1251",              /* Codepage */
> msghewin.c:/* Codepage: Windows-1255          */
> msghewin.c:      "1255",                      /* Codepage */
> msgcswin.c: * Language Support Module (CSWIN) WIN1250
> msgcswin.c:/* Codepage: 1250 */
> msgcswin.c:      "1250",                         /* Codepage */
> msgelwin.c:/* Codepage: ANSI - 1253 */
> msgelwin.c:      "ANSI-1253",                          /* Codepage */
> msgltwin.c:/* Codepage: Windows-1257 */
> msgltwin.c:      "Windows-1257",              /* Codepage */
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Dec  6 00:40:58 2007
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Dec  6 00:41:09 2007
Subject: [Harbour] CHANGELOG: 2007-12-05 20:00 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
In-Reply-To: <4756FA50.7474@synel.co.il>
References: <4756FA50.7474@synel.co.il>
Message-ID: <6070746A-D478-44AB-AF07-43ACD8053BAA@syenar.hu>

Yes, the country ID definitely has to be ISO standard in
the filename.

Actually, it would be better to use the full standard
name, with dialect (HU-hu, EN-us), at least as an option,
but again: 8 chars limit. We could do it internally though.

We now have lots of language modules (and even some codepage
modules) without a codepage ID, which I think needs to be
corrected, too.

Brgds,
Viktor

On 2007.12.05., at 20:21, Chen Kedem wrote:

>>   + source/codepage/cpgeiso.c
>>  - source/codepage/cpgewin.c
>
> German language id is DE and not GE.
>
> The naming convention we have in source/lang are like:
>
> ID or IDccc     = Dos version for codepage ccc of language ID
> IDWIN           = Windows-nnnn codepage of language ID
> IDISO           = ISO-nnnnn-n codepage of language ID
> IDxxx or IDxxxx = any other variation for that given ID
>
> This is the internal id of the langugae, and the file name is
> "msg" + internal id + ".c"
>
> In source/codepage some of the above are used, but there is more
> chaos.
>
> Apart for users already using some of the wrong names, is there
> any xBase standard for these names, or we are free do modify it
> since its an Harbour extension?
>
>
>  Chen.
> **********************************************************************************************
> IMPORTANT: The contents of this email and any attachments are  
> confidential. They are intended for the
> named recipient(s) only.
> If you have received this email in error, please notify the system  
> manager or the sender immediately and do
> not disclose the contents to anyone or make copies thereof.
> *** eSafe scanned this email for viruses, vandals, and malicious  
> content. ***
> **********************************************************************************************
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Dec  6 01:12:38 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Dec  6 01:19:48 2007
Subject: [Harbour] CHANGELOG: 2007-12-06 01:26 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c837a5$Blat.v2.6.2$178e08d8$dc8c9814b0@127.0.0.1>

2007-12-06 01:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * doc/howtosvn.txt
     ! Fixed the SVN propset command to include all needed keywords, 
       not just "Id".

   * common.mak
   * source/codepage/Makefile
   - source/codepage/cpgedos.c
   - source/codepage/cpgeiso.c
   + source/codepage/cpdedos.c
   + source/codepage/cpdeiso.c
     ! Renamed to be in sync with rules and content.

   * source/lang/msgnl.c
     ! svn propset svn:keywords "Author Date Id Revision".
       (to correct my prev commit)

   * include/hbextern.ch
     ! Adjusted CP/MSG module names.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Dec  6 01:26:41 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Dec  6 01:26:45 2007
Subject: [Harbour] CHANGELOG: 2007-12-06 02:21 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c837a7$Blat.v2.6.2$0e413b22$bf84bf021c6@127.0.0.1>

2007-12-06 02:21 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * include/hbextern.ch
   * common.mak
   * source/codepage/Makefile
   - source/codepage/cpdedos.c
   + source/codepage/cpde850.c
   - source/codepage/cpeldos.c
   + source/codepage/cpel737.c
   - source/codepage/cpesdos.c
   + source/codepage/cpes850.c
   - source/codepage/cpfrdos.c
   + source/codepage/cpfr850.c
   - source/codepage/cptrdos.c
   + source/codepage/cptr857.c
     ! Renamed some codepage modules to include the 
       actual DOS codepage number instead of nothing 
       or generic "dos" name.

   * common.mak
   * source/lang/Makefile
   + source/lang/msgtr857.c
   - source/lang/msgtrdos.c
     ! Rename one language module to be in sync with 
       proper internal ID.
--
Brgds,
Viktor

From druzus at acn.waw.pl  Thu Dec  6 06:05:03 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Dec  6 06:05:08 2007
Subject: [Harbour] NULL prg pointer
In-Reply-To: <4756E5FD.70209@dbtopas.lt>
References: <4756DB4E.1DD3@synel.co.il> <4756E5FD.70209@dbtopas.lt>
Message-ID: <20071206060503.GA5682@localhost.localdomain>

On Wed, 05 Dec 2007, Mindaugas Kavaliauskas wrote:
> I can do it in C, so I've wrote a EMPTYPTR() function with
>    hb_retptr( NULL );
> but I'm asking about compiler based 0p0 (just like 0d0 or 0t0 for empty 
> date or timestamp) solution. Does such solution exist?

No. We can add literal pointer representation but I'd not like it.
Empty pointer is OK for me so functions like EMPTYPTR() are fine
but memory pointers are application instance dependent so I do not
want to introduce any way to explicitly set their value other then
null. If we add support for 0p0 then people will look for 0pDEADBEAF
or other values and then for a way to store/retrieve pointers in
MEMOs or other data files. I do not know if I want to implement it.
At least as long as people will not use GC collectible pointers which
can be validated in C code such extensions seems to be too danger.

Best regards,
Mindaugas
From druzus at acn.waw.pl  Thu Dec  6 06:09:34 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Dec  6 06:09:38 2007
Subject: [Harbour] hbcc / hbmk / hblnk utils was gone
In-Reply-To: <47570EC9.9060502@kodollak.hu>
References: <47570BDE.4080200@kodollak.hu> <47570EC9.9060502@kodollak.hu>
Message-ID: <20071206060934.GB5682@localhost.localdomain>

On Wed, 05 Dec 2007, Karoly CZOVEK wrote:
> Karoly CZOVEK wrote:
> >What happened? I've tried to install harbour on my secondary devel 
> >computer from CVS, and i've found that the utils i used to compile 
> >programs in linux were gone.
> OK, i've missed to run postinst.sh - it will be cool if a message can be 
> displayed after a successfull make_gcc.sh || make_gnu.sh install  to do 
> not miss run postinst

postinst.sh is always executed at the end of
    make_gnu.sh install
command. But make_gcc.sh does not support it and never did.
make_gcc.sh is a new method of building Harbour which uses
common to different make systems list of files in common.mak.
If I'll find a while then I'll look if it can be added.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Dec  6 06:11:41 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Dec  6 06:11:45 2007
Subject: [Harbour] Pointer keys
In-Reply-To: <47573940.7000804@dbtopas.lt>
References: <47573940.7000804@dbtopas.lt>
Message-ID: <20071206061141.GC5682@localhost.localdomain>

On Thu, 06 Dec 2007, Mindaugas Kavaliauskas wrote:
> Hi,
> any objection against pointer type to be hash key type?

Good idea. Please do it. In comparison use only raw pointer value
(it should be unique) without any additional attributes like GC flag.

best regards,
Przemek
From bedipritpal at hotmail.com  Thu Dec  6 08:14:03 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec  6 08:14:06 2007
Subject: [Harbour] 2007-12-06 00:20 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <14188018.post@talk.nabble.com>


2007-12-06 00:20 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/gtwvg/gtwvt.c
    ! Small addition in PaintText() wrongly omitted while cleaning.
  * harbour/contrib/gtwvg/wvtutils.c
    * Tooltip - Initialization of variable.
  * harbour/contrib/gtwvg/tests/demowvg.prg
    ! Fixed to run with Harbour perfectly. Please note that 
      TBrowse in Harbour needs some fixes. Replace it with xHarbour
      TBrowse and the look of composite dialog changes.

Regards
Pritpal Bedi, INDIA-USA

PS:  Victor, please write make_b32.bat for
harbour/contrib/hbgtwvg/tests/demowvg.prg.
-- 
View this message in context: http://www.nabble.com/2007-12-06-00%3A20-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tf4954592.html#a14188018
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From dbtopas at dbtopas.lt  Thu Dec  6 08:55:47 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Dec  6 08:55:46 2007
Subject: [Harbour] NULL prg pointer
In-Reply-To: <20071206060503.GA5682@localhost.localdomain>
References: <4756DB4E.1DD3@synel.co.il> <4756E5FD.70209@dbtopas.lt>
	<20071206060503.GA5682@localhost.localdomain>
Message-ID: <4757B913.8000909@dbtopas.lt>

Przemyslaw Czerpak wrote:
>> I can do it in C, so I've wrote a EMPTYPTR() function with
>>    hb_retptr( NULL );
>> but I'm asking about compiler based 0p0 (just like 0d0 or 0t0 for empty 
>> date or timestamp) solution. Does such solution exist?
> 
> No. We can add literal pointer representation but I'd not like it.
> Empty pointer is OK for me so functions like EMPTYPTR() are fine
> but memory pointers are application instance dependent so I do not
> want to introduce any way to explicitly set their value other then
> null. If we add support for 0p0 then people will look for 0pDEADBEAF

Hi,


I understand your point of view. One of the reasons of my numeric to 
pointer change is to forbid "+" operation on memory addresses. So, I was 
looking for a way to initialize empty pointer only.
I wanted to use null pointer initialization in code:
   STATIC s_hWnd := EMPTYPTR()
that's way I wanted to have Compiler support for it. I moved 
initialization to init proc, so it's not critical, I can use EMPTYPTR().
But if Harbour has pointers, I must have a standard way to initialize 
variable to pointer (and probably compiler support for it), so we can 
discuss pseudo-function name anyway.


> or other values and then for a way to store/retrieve pointers in
> MEMOs or other data files. I do not know if I want to implement it.
> At least as long as people will not use GC collectible pointers which
> can be validated in C code such extensions seems to be too danger.

I'm using not collectible pointers for C structures, and I allow direct 
peek/poke of any field in structure using pointer and offset, but I 
always try to keep explicit peek/poke call in .ch file. For example,
to access C structure:
   typedef struct  {
      int    x, y;
   } POINT;
I use:
   #xtranslate POINT_x(<ptr>)   =>   PeekInt(<ptr>, 0)
   #xtranslate POINT_y(<ptr>)   =>   PeekInt(<ptr>, 4)

I'm very satisfied with this approach, it let's me have C level 
possibilities on Harbour. But I do not suggest this approach as solution 
for "the masses", because many programmers do not understand low level 
memory, and these possibilities will become a GPF.


Best regards,
Mindaugas
From niki at synel.co.il  Thu Dec  6 09:32:55 2007
From: niki at synel.co.il (Chen Kedem)
Date: Thu Dec  6 09:30:54 2007
Subject: [Harbour] CHANGELOG: 2007-12-05 20:00 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
References: <47570307.3878@synel.co.il>
Message-ID: <4757C1C7.B14@synel.co.il>

Viktor,

> We now have lots of language modules (and even some codepage
> modules) without a codepage ID, which I think needs to be
> corrected, too.

Here are some useful links with codepage information:

Codepage & Co.
http://www.unicodecharacter.com/charsets/codepages.html

A tutorial on character code issues
http://www.cs.tut.fi/~jkorpela/chars.html

I used to work with this one but at least for now it is gone:
Good old ASCII
http://czyborra.com/charsets/iso646.html


  Chen.
**********************************************************************************************
IMPORTANT: The contents of this email and any attachments are confidential. They are intended for the 
named recipient(s) only.
If you have received this email in error, please notify the system manager or the sender immediately and do 
not disclose the contents to anyone or make copies thereof.
*** eSafe scanned this email for viruses, vandals, and malicious content. ***
**********************************************************************************************

From dbtopas at dbtopas.lt  Thu Dec  6 09:35:31 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Dec  6 09:35:29 2007
Subject: [Harbour] ChangeLog 2007-12-06 11:35 UTC+0200 Mindaugas
	Kavaliauskas 
Message-ID: <4757C263.5000901@dbtopas.lt>

2007-12-06 11:35 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
   * harbour/source/lang/msgltwin.c
     * more changes from LT to LTWIN
   * harbour/common.mak
     * restored missing msgltwin.c
   * harbour/include/hbapi.h
   * harbour/source/vm/hashes.c
     + added hash key support for pointer type
From dbtopas at dbtopas.lt  Thu Dec  6 11:00:33 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Dec  6 11:00:30 2007
Subject: [Harbour] Pure PCODE functions
Message-ID: <4757D651.70104@dbtopas.lt>

Przemyslaw Czerpak wrote (on 2007-06-xx):
> I know but without own linker seems that we cannot fully drop code
> segment (see above) but maybe you will know some possible tricks for
> this problem. 

Przemyslaw Czerpak wrote:
> If we also add support for calling PCODE function without executing C ones
> then we will have nice VM to emulate MT mode in platforms which do not
> have native MT support.


Hi,


the question about PCODE functions without C stub is mentioned not the 
first time on the list. I'll try to say some ideas about possible 
implementation of "pure PCODE functions".


We use a standard linkers to link Harbour code, thus we need to use 
extern/public label to indicate linker dependencies. This should remains 
true also for pure PCODE functions, if we want to use standard linkers.

The first idea that cames to mind is that we need export not C stub 
address of PCODE function (we have this solution now), but we need to 
export address of PCODE itself, or perhaps address of some structure 
containing the PCODE. This way we can drop C stub and have pure PCODE 
functions.
But we have one more fundamental restriction here: functions' 
extern/public labels should have the same type regardless its 
implementation (PCODE or C). Let's have module BB containing function 
BFUNC(), and module AA which calls function BFUNC(). Code in module AA 
do not know, if BFUNC() is implemented in pure PCODE or real C code, so 
exported public BFUNC() label should have the same type.
This leads to conclusion: if the want to drop C stub for PCODE 
functions, we must export some structure of pure PCODE functions, and we 
must export a compatible structure for real C code! I.e. Harbour level C 
code functions can not be exported as function addresses.

So, let's talk about the structure of Harbour function. PCODE is not 
self contained. It can not be evaluated without associated symbol table.
In current implementation, C stub makes a binding of PCODE and symbol 
table. If we want to drop C stub, we must include symbol table address 
into function structure. I find modified HB_SYMB a good candidate for 
the function structure. I'll try to indicate ideas by C code (well, it's 
more pseudo-C).

.prg module compiled .c code:

// Public function AAA
static BYTE pcode_HB_FUN_AAA[] = { ... };
HB_SYMB HB_FUN_AAA = {"AAA", HB_FS_PUBLIC | HB_FS_LOCAL | HB_FS_PCODE,
                       pcode_HB_FUN_AAA, symbol };

// Static function BBB
static BYTE pcode_HB_FUN_BBB[] = { ... };
static HB_SYMB HB_FUN_BBB = {"BBB", HB_FS_LOCAL | HB_FS_PCODE,
                              pcode_HB_FUN_BBB, symbols };

// External function CCC
extern HB_SYMB HB_FUN_CCC;
static HB_SYMB ext_HB_FUN_CCC = {"CCC", 0,
                                  &HB_FUN_CCC, NULL };

// Symbol table
static HB_SYMB* symbols = {&HB_FUN_AAA, &HB_FUN_BBB, &ext_HB_FUN_CCC};

You can see it's recursive structures (symbols is used in HB_SYMB, but 
defined later), I'm not sure if we can define such structures in C. If 
such definitions are wrong, the last member of HB_SYMB could be assigned 
by hb_vmProcessSymbols().

I do not like that symbol table becomes the array of symbol pointers, 
but not the array of symbols. But I can not get the idea how to make 
addresses of some array's element public. It's not a problem in 
assembler. Can it be done in C?

Let's look to Harbour functions implemented in C.
   HB_FUNC( CCC )
   {
       hb_retni( hb_parni( 1 ) );
   }
can be preprocessored to:
   HB_SYMB HB_FUN_CCC = {"CCC", HB_FS_PUBLIC,
                         func_HB_FUN_CCC, NULL};
   void func_HB_FUN_CCC( void )
   {
       hb_retni( hb_parni( 1 ) );
   }

After this change hb_vmExecute() requires only one PHB_SYMB parameter. 
HB_PCODEFUNC structure for dynamic functions is also not required, 
because all data (PCODE address and symbol table address) is contained 
in the HB_SYMB.

HB_FUNC_EXEC(...) is also a hb_vmExecute() call, because we do not have 
direct C function calls anymore, our functinos are HB_SYMB structures.
So,
   HB_FUNC_EXEC( AAA )
is
   hb_vmExecute( HB_FUN_AAA )
and hb_vmExecute() should check if function has HB_FS_PCODE bit and take 
a decision: run virtual machine, or do a real C function call.

BTW, symbols member of HB_SYMB could point not to symbol table (array of 
PHB_SYMB), but to structure similar to current HB_SYMBOLS. In this case 
it would be much more easy to get filename of module, we can include 
unique module id into structure, etc.

static HB_SYMBOLS* symbols =
    { "module.prg",
      {&HB_FUN_AAA, &HB_FUN_BBB, &ext_HB_FUN_CCC}, // symbol table
      0xDEADBEEF,                                  // unique ID
      ...
    };

I know there are some issues related to export of variable (not 
function) labels from .dll. I don't know the exact problems, and 
possibly the proposed ideas are related to these problems, because here 
we export variable of HB_SYMB* (HB_SYMB?) type, but not a function address.


Best regards,
Mindaugas

From ssbbs at mail.zzz.com.tw  Thu Dec  6 14:04:14 2007
From: ssbbs at mail.zzz.com.tw ({TE(WenSheng))
Date: Thu Dec  6 14:04:36 2007
Subject: [Harbour] GTWVG - UNICODE Compliant
In-Reply-To: <13962369.post@talk.nabble.com>
References: <13962369.post@talk.nabble.com>
Message-ID: <20071206220229.268F.SSBBS@mail.zzz.com.tw>


Hi!!

  I had try compiler hbgtwvg and demowvg.prg and to create demowvg.exe
But occur error message 'Unrecoverable error 10001: It's not a window GUI program.'
when I run demowvg.exe.
  Somebody can help me?

BCC551/Harbour(Last CVS)/WinXP

> 
> GTWVG is now fully UNICODE compliant, thanks Przemek.
> 
> Przem, it is the time to investigate why WIN-CE port of GTWVG reports
> unresolved externals. Please have a look into this issue.
> 


From mbelgrano at deltain.it  Thu Dec  6 22:04:26 2007
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec  6 22:04:45 2007
Subject: [Harbour] pragma library ("mylib.lib") 
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E68C@SRV02.deltain.net>

xbase support an intersting ?preprocessor directive 
#pragma ?library ("mylib.lib") 
Is possible implement also in harbour? 


Xharbour made similar task with a sintax dependent from c compiler and linker used
#pragma BEGINDUMP 
   #pragma comment( lib, "mylib.lib" ) 
#pragma ENDDUMP 
Is possibile having a syntax non c compiler/liker dependent?
IMO the capability of insert in source code (prg) what library are used will help the compilation
Will be more useful compile sample who require additional library (gt,rdd,gui)
All information for linking is stored in source code

Thanks in advance
From druzus at acn.waw.pl  Fri Dec  7 09:44:06 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Dec  7 09:44:11 2007
Subject: [Harbour] 2007-12-07 10:43 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712070944.lB79i6d2020531@31-mo5-4.acn.waw.pl>

2007-12-07 10:43 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbgtcore.h
  * harbour/source/rtl/hbgtcore.c
  * harbour/source/rtl/gtapi.c
  * harbour/source/rtl/inkeyapi.c
  * harbour/source/rtl/mouseapi.c
    - removed hb_gt_*(), hb_inkey_*(), hb_mouse_*() functions
    + implemented HB_GTSELF_*() functions and changed HB_GTSUPER_*()
      ones to operate on GT context passed ad 1-st parameter.
      Now GT API allows to create many GTs working simultaneously
    + added hb_gt_Base() core function which returns GT context
      it will be extended soon to allow using many GT contexts,
      setting thread default one or switch between them using some
      .prg function.

  * harbour/source/rtl/gtstd/gtstd.c
  * harbour/source/rtl/gtcgi/gtcgi.c
  * harbour/source/rtl/gtpca/gtpca.c
  * harbour/source/rtl/gttrm/gttrm.c
  * harbour/source/rtl/gtxwc/gtxwc.c
  * harbour/source/rtl/gtcrs/gtcrs.c
  * harbour/source/rtl/gtcrs/gtcrs.h
  * harbour/source/rtl/gtsln/gtsln.c
  * harbour/source/rtl/gtsln/gtsln.h
  * harbour/source/rtl/gtsln/kbsln.c
  * harbour/source/rtl/gtsln/mousesln.c
  * harbour/source/rtl/gtalleg/gtalleg.c
  * harbour/source/rtl/gtgui/gtgui.c
  * harbour/source/rtl/gtwin/gtwin.c
  * harbour/source/rtl/gtwvt/gtwvt.h
  * harbour/source/rtl/gtwvt/gtwvt.c
  * harbour/contrib/hbct/ctwin.c
  * harbour/contrib/hbct/ctwin.h
  * harbour/contrib/hbct/ctwfunc.c
  * harbour/contrib/hbgtwvg/gtwvt.h
  * harbour/contrib/hbgtwvg/gtwvt.c
    * updated GT code for new GT API. I still haven't added GT cloning
      to them and only GTTRM is ready to use in multi window MT programs
      but now they can be systematically modified and it can be done
      locally without core code modifications.

  * harbour/contrib/hbgtwvg/wvtutils.c
    ! fixed some memory leaks in Unicode conversions

best regards
Przemek
From druzus at acn.waw.pl  Fri Dec  7 10:39:17 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Dec  7 10:39:21 2007
Subject: [Harbour] 2007-12-07 11:39 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712071039.lB7AdHVq020933@31-mo5-4.acn.waw.pl>

2007-12-07 11:39 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/gtwvt/gtwvt.h
  * harbour/source/rtl/gtwvt/gtwvt.c
  * harbour/contrib/hbgtwvg/gtwvt.h
  * harbour/contrib/hbgtwvg/gtwvt.c
    * moved RGB definition of used colors to terminal window structure,
      now each window can use different palette

best regards
Przemek
From jarabal at ya.com  Fri Dec  7 12:20:58 2007
From: jarabal at ya.com (Javier)
Date: Fri Dec  7 12:21:20 2007
Subject: [Harbour] How write Harbour / xHarbour C code?
Message-ID: <47593AAA.40402@ya.com>

What is the convention to write C code for Harbour / xHarbour?
What definitions, types and macros should I use to write C code that is not dependent compiler, system or machine?

Thanks, a greeting.
Xavi


From harbour.01 at syenar.hu  Fri Dec  7 14:30:28 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Dec  7 14:30:29 2007
Subject: [Harbour] CHANGELOG: 2007-12-07 15:29 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c838dd$Blat.v2.6.2$b6fda264$152095870efe@127.0.0.1>

2007-12-07 15:29 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * contrib/hbgtwvg/Makefile
   * contrib/hbgtwvg/common.mak
   - contrib/hbgtwvg/gtwvt.h
   + contrib/hbgtwvg/gtwvg.h
   - contrib/hbgtwvg/gtwvt.c
   + contrib/hbgtwvg/gtwvg.c
   * contrib/hbgtwvg/wvtutils.c
   * contrib/hbgtwvg/wvtcore.c
     ! Renamed gtwvt to gtwvg to avoid clash with 
       gtwvt in core when using non-GNU make files.

   * source/vm/extend.c
     ! Fixed trace messages in hb_parcx()

   * utils/hbmake/hbmutils.prg
     ! Fixed cosmetic problem.
       (Thanks to Bill Robertson)
--
Brgds,
Viktor

From dbtopas at dbtopas.lt  Fri Dec  7 15:47:19 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Dec  7 15:47:15 2007
Subject: [Harbour] How write Harbour / xHarbour C code?
In-Reply-To: <47593AAA.40402@ya.com>
References: <47593AAA.40402@ya.com>
Message-ID: <47596B07.2010002@dbtopas.lt>

Javier wrote:
> What is the convention to write C code for Harbour / xHarbour?
> What definitions, types and macros should I use to write C code that is 
> not dependent compiler, system or machine?
> 
> Thanks, a greeting.
> Xavi

Hi,



I think source/rtl/*.c is good samples for learning. Just start from the 
shorter samples and try write a code you need.
Clipper compatible Extend API and Item API docs you can find on the web. 
I do not remember address, but it was posted to this list several times. 
You can also find some info in docs/howtoext.txt from xHarbour CVS.



Best regards,
Mindaugas
From jarabal at ya.com  Fri Dec  7 18:21:05 2007
From: jarabal at ya.com (Javier)
Date: Fri Dec  7 18:21:17 2007
Subject: [Harbour] How write Harbour / xHarbour C code?
In-Reply-To: <47596B07.2010002@dbtopas.lt>
References: <47593AAA.40402@ya.com> <47596B07.2010002@dbtopas.lt>
Message-ID: <47598F11.9070209@ya.com>

Thanks Mindaugas,

I have read the document "docs / howtoext.txt from xHarbour" and their 
status is pending approval.
Exist a similar final document, approved, for Harbour / xHarbour?

I am using the types defined in hbdefs.h and structures in hbvmpub.h but 
I see that makes a use intensive in the code of compiler type char.
Is this correct?

Best regards
Xavi

Mindaugas Kavaliauskas escribi?:
> Javier wrote:
>> What is the convention to write C code for Harbour / xHarbour?
>> What definitions, types and macros should I use to write C code that 
>> is not dependent compiler, system or machine?
>>
>> Thanks, a greeting.
>> Xavi
>
> Hi,
>
>
>
> I think source/rtl/*.c is good samples for learning. Just start from 
> the shorter samples and try write a code you need.
> Clipper compatible Extend API and Item API docs you can find on the 
> web. I do not remember address, but it was posted to this list several 
> times. You can also find some info in docs/howtoext.txt from xHarbour 
> CVS.
>
>
>
> Best regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20071207/7ba16a8c/attachment.html
From lohen at versateladsl.be  Fri Dec  7 18:57:02 2007
From: lohen at versateladsl.be (frank van nuffel)
Date: Fri Dec  7 18:56:23 2007
Subject: [Harbour] TO Przemek: trying to contact @priv...pl
Message-ID: <000f01c83902$f6a73450$4001a8c0@REE>

Hi all, 

I'm new to this list, but have been harbour fan
since 2003 and also xHarbour shares my interest

Great job that's going on in here, much inspiring

And for Przemek, if you're reading this, i've been
replying to your mail to me dd 2007-10-04, twice
now.  Have you received it? 

Thanks

frank
From bedipritpal at hotmail.com  Sat Dec  8 02:18:51 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Dec  8 02:18:54 2007
Subject: [Harbour] 2007-12-07 10:43 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200712070944.lB79i6d2020531@31-mo5-4.acn.waw.pl>
References: <200712070944.lB79i6d2020531@31-mo5-4.acn.waw.pl>
Message-ID: <14224551.post@talk.nabble.com>


Przemek

<--------------------------->
2007-12-07 10:43 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
<--------------------------->

What a concept!!! Great job.

<--------------------------->
  * harbour/contrib/hbgtwvg/wvtutils.c
    ! fixed some memory leaks in Unicode conversions
<--------------------------->

I am in a primitive stage to handle C strings. I just followed you, but
because was not able to grasp it properly, so these anomalies. Sorry and
thanks for fixing my mistakes.

Regards
Pritpal Bedi, INDIA-USA



-- 
View this message in context: http://www.nabble.com/2007-12-07-10%3A43-UTC%2B0100-Przemyslaw-Czerpak-%28druzus-at-priv.onet.pl%29-tf4961188.html#a14224551
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sat Dec  8 02:34:40 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Dec  8 02:34:43 2007
Subject: [Harbour] 2007-12-07 11:39 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200712071039.lB7AdHVq020933@31-mo5-4.acn.waw.pl>
References: <200712071039.lB7AdHVq020933@31-mo5-4.acn.waw.pl>
Message-ID: <14224736.post@talk.nabble.com>


Przemek

<---------------------->
2007-12-07 11:39 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
    * moved RGB definition of used colors to terminal window structure,
      now each window can use different palette
<---------------------->

Now perhaps no more static variable is left to be transferred to a strucure
member.

Eventually we will need to tie every console command to a GT, without a GT
pointer as per now and with a GT pointer for extended usage. For example: 

SetMode( nRows, nCols )   =>   SetMode( pGT, nRows, nCols )  =>  
pGT == ( hb_pcount()==3 ? hb_parGT( 1 ) : hb_DetectCurrentGT() )

And alike for all other GT commands.

We may also need to adjust Tbrowse(), Memoedit(), ReadModal() passing them
pGT as a parameter.

Just an underview of semantics to be employed for multi-GT to be very
valuable asset to Harbour programmers. I am sure you are having a much-wider
perspective to infuse everything into this concept.

Regards
Pritpal Bedi, INDIA-USA




-- 
View this message in context: http://www.nabble.com/2007-12-07-11%3A39-UTC%2B0100-Przemyslaw-Czerpak-%28druzus-at-priv.onet.pl%29-tf4961411.html#a14224736
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Dec  8 07:33:31 2007
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Dec  8 07:33:39 2007
Subject: [Harbour] 2007-12-07 11:39 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <14224736.post@talk.nabble.com>
References: <200712071039.lB7AdHVq020933@31-mo5-4.acn.waw.pl>
	<14224736.post@talk.nabble.com>
Message-ID: <7819D343-945A-4907-B654-1A153E621516@syenar.hu>

>

Hi Pritpal,

> SetMode( nRows, nCols )   =>   SetMode( pGT, nRows, nCols )  =>
> pGT == ( hb_pcount()==3 ? hb_parGT( 1 ) : hb_DetectCurrentGT() )
>
> And alike for all other GT commands.
>
> We may also need to adjust Tbrowse(), Memoedit(), ReadModal()  
> passing them
> pGT as a parameter.

This would introduce incompatibility
for these functions, which we try to
avoid, so I think we should rather use
something similar to rddSetDefault()
but for the GTs, like:

hb_gtSetDefault() or hb_gtSelect()

This way we're not hurting any existing
calling interfaces. Also, I'd expect
an application programm to not require using
a different GT for consecutive display commands,
so this may also better fit real-life usage.

cOldGT := hb_gtSelect( "GTWIN" )
DispOutAt( 10, 10, "hello1" )
DispOutAt( 11, 10, "hello2" )
...
hb_gtSelect( "GTWVG" )
DispOutAt( 10, 10, "hello3" )
DispOutAt( 11, 10, "hello4" )
...
hb_gtSelect( cOldGT )

Brgds,
Viktor

From bedipritpal at hotmail.com  Sat Dec  8 09:22:20 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Dec  8 09:22:23 2007
Subject: [Harbour] 2007-12-07 11:39 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <7819D343-945A-4907-B654-1A153E621516@syenar.hu>
References: <200712071039.lB7AdHVq020933@31-mo5-4.acn.waw.pl>
	<14224736.post@talk.nabble.com>
	<7819D343-945A-4907-B654-1A153E621516@syenar.hu>
Message-ID: <14226690.post@talk.nabble.com>


Victor

<----------------->
cOldGT := hb_gtSelect( "GTWIN" )
DispOutAt( 10, 10, "hello1" )
DispOutAt( 11, 10, "hello2" )
...
hb_gtSelect( "GTWVG" )
DispOutAt( 10, 10, "hello3" )
DispOutAt( 11, 10, "hello4" )
...
hb_gtSelect( cOldGT )
<----------------->

Perhaps you are viewing multi-GT from another angle.

It is MULTI-WINDOW SINGLE-GT approach, if I am not missing something, which
has real-life usage. In an application there is never a need to open two
TYPES of WINDOWS but windows performing two TYPES of TASKS. The real need is
how those windows respond to events. For an example, one may need a window
for punching an invoice and another window displaying, in scrolling mode,
catalogs or another information. If we take above approach, then
output/input only occurs in the window we have selected as hb_gtSelect( pGT
== nWindow /*"GTWVG"*/ ).  What happens, in the middle of execution of a
piece of code, user clicks on another window executing another code.

I am of the opinion that current api must not be changed at command syntax
but must be extended to support multi-windows. On compiler level what needs
to be changed has to be changed just like what Przemek has done with the
core GT.

I am not sure enough to what extent I am been able to explain my viewpoint.
Please take this as a quick, brief explanation.

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/2007-12-07-11%3A39-UTC%2B0100-Przemyslaw-Czerpak-%28druzus-at-priv.onet.pl%29-tf4961411.html#a14226690
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Dec  8 09:33:44 2007
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Dec  8 09:33:51 2007
Subject: [Harbour] 2007-12-07 11:39 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <14226690.post@talk.nabble.com>
References: <200712071039.lB7AdHVq020933@31-mo5-4.acn.waw.pl>
	<14224736.post@talk.nabble.com>
	<7819D343-945A-4907-B654-1A153E621516@syenar.hu>
	<14226690.post@talk.nabble.com>
Message-ID: <C327590D-E1E9-49A7-8CEA-72BF758D47DB@syenar.hu>

> Victor
>
> <----------------->
> cOldGT := hb_gtSelect( "GTWIN" )
> DispOutAt( 10, 10, "hello1" )
> DispOutAt( 11, 10, "hello2" )
> ...
> hb_gtSelect( "GTWVG" )
> DispOutAt( 10, 10, "hello3" )
> DispOutAt( 11, 10, "hello4" )
> ...
> hb_gtSelect( cOldGT )
> <----------------->
>
> Perhaps you are viewing multi-GT from another angle.
>
> It is MULTI-WINDOW SINGLE-GT approach, if I am not missing  
> something, which
> has real-life usage. In an application there is never a need to open  
> two
> TYPES of WINDOWS but windows performing two TYPES of TASKS. The real  
> need is
> how those windows respond to events. For an example, one may need a  
> window
> for punching an invoice and another window displaying, in scrolling  
> mode,
> catalogs or another information. If we take above approach, then
> output/input only occurs in the window we have selected as  
> hb_gtSelect( pGT
> == nWindow /*"GTWVG"*/ ).  What happens, in the middle of execution  
> of a
> piece of code, user clicks on another window executing another code.
>
> I am of the opinion that current api must not be changed at command  
> syntax
> but must be extended to support multi-windows. On compiler level  
> what needs
> to be changed has to be changed just like what Przemek has done with  
> the
> core GT.
>
> I am not sure enough to what extent I am been able to explain my  
> viewpoint.
> Please take this as a quick, brief explanation.

Okey, I see what you mean, but my opinion is still the same regarding
window selection. Window selection should be a separate command IMO.

We're not extending (which essentially means changing) existing CA- 
Cl*pper
functions as a rule in Harbour.

nOldWnd := hb_gtwvg_WSelect( nDetails )
DispOut(...)
hb_gtwvg_WSelect( nMyOtherWindow )
DispOut(...)
hb_gtwvg_WSelect( nOldWnd )

Since apps are usually using one window at a time, switching
between them this way is not a performance or coding problem.

As an alternative, you can also implement such thing locally
for your GT:

hb_gtwvg_DispOut( nMyWindow, "hello" )

Brgds,
Viktor

From mpaliwoda at interia.pl  Sat Dec  8 10:00:16 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Sat Dec  8 10:00:50 2007
Subject: [Harbour] Re: 2007-12-07 11:39 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <14226690.post@talk.nabble.com>
References: <200712071039.lB7AdHVq020933@31-mo5-4.acn.waw.pl>	<14224736.post@talk.nabble.com>	<7819D343-945A-4907-B654-1A153E621516@syenar.hu>
	<14226690.post@talk.nabble.com>
Message-ID: <fjdpvi$50b$1@ger.gmane.org>

Hi Pritpal,

> <----------------->
> cOldGT := hb_gtSelect( "GTWIN" )
> DispOutAt( 10, 10, "hello1" )
> DispOutAt( 11, 10, "hello2" )
> ...
> hb_gtSelect( "GTWVG" )
> DispOutAt( 10, 10, "hello3" )
> DispOutAt( 11, 10, "hello4" )
> ...
> hb_gtSelect( cOldGT )
> <----------------->
> 
> Perhaps you are viewing multi-GT from another angle.
> 
> It is MULTI-WINDOW SINGLE-GT approach, if I am not missing something, which
> has real-life usage. In an application there is never a need to open two
> TYPES of WINDOWS but windows performing two TYPES of TASKS. The real need is
> how those windows respond to events. For an example, one may need a window
> for punching an invoice and another window displaying, in scrolling mode,
> catalogs or another information. If we take above approach, then
> output/input only occurs in the window we have selected as hb_gtSelect( pGT
> == nWindow /*"GTWVG"*/ ).  What happens, in the middle of execution of a
> piece of code, user clicks on another window executing another code.
> 
> I am of the opinion that current api must not be changed at command syntax
> but must be extended to support multi-windows. On compiler level what needs
> to be changed has to be changed just like what Przemek has done with the
> core GT.
> 
> I am not sure enough to what extent I am been able to explain my viewpoint.
> Please take this as a quick, brief explanation.

Perfect explanation :), however how about using a "paralell API" ?

Instead of
	SetMode( nRows, nCols )
one could use
	winSetMode( pWIN, nRows, nCols )
(or something like that)

Do you see any problem with it ?

-- 

Marek

From bedipritpal at hotmail.com  Sat Dec  8 11:05:45 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Dec  8 11:05:48 2007
Subject: [Harbour] 2007-12-07 11:39 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <C327590D-E1E9-49A7-8CEA-72BF758D47DB@syenar.hu>
References: <200712071039.lB7AdHVq020933@31-mo5-4.acn.waw.pl>
	<14224736.post@talk.nabble.com>
	<7819D343-945A-4907-B654-1A153E621516@syenar.hu>
	<14226690.post@talk.nabble.com>
	<C327590D-E1E9-49A7-8CEA-72BF758D47DB@syenar.hu>
Message-ID: <14227419.post@talk.nabble.com>


Viktor

<<<<<
Okey, I see what you mean, but my opinion is still the same regarding
window selection. Window selection should be a separate command IMO.
>>>>>

Sure this can be if we guarantee that end-user will not click on window#2
while our code is executing on window#3. We need a mechanism to detect which
window has the INPUT focus and which window has the DISPLAY focus. This
holds good for current Clipper GT commands. What if we need to open a
browser at the corner of the screen which is auto scrolling while user has
clicked on window where he is entering a record ?  We need to devise a
mechanism to tie a GT command to a window/GT either FORCED or AUTO DETECTED.
This way we retain the Clipper compatibility as well as controlled behavior.

<<<<<
We're not extending (which essentially means changing) existing CA- Cl*pper
functions as a rule in Harbour.
>>>>>

Believe me, I too do not want to change half-a-million lines of source code.
But surely I love to modify certain parts to adjust to multi-GT.  I did this
with Xbase++ and I was 95% success. What eluded me 5% was Xbase++ faulty
message dispatching which I could never synchronize and which eventually led
me to drop development on that platform. I even incorporated GUI interface
on their consoles just like I did with GTWVT. The result was a magnificent
power in my applns. Since then I ever wished to have the same magic in
(x)Harbour which, now, appears to be materialized.

<<<<<<<<
nOldWnd := hb_gtwvg_WSelect( nDetails )
DispOut(...)
hb_gtwvg_WSelect( nMyOtherWindow )
DispOut(...)
hb_gtwvg_WSelect( nOldWnd )
>>>>>>>>>

This is what code dictates. In real world it is the user who dictates. What
is the fun of having multi-windows where user has no control to work in. If
this is the case then I do not see any deficiency in using CT window
functions.

<<<<<<<<<
Since apps are usually using one window at a time, switching
between them this way is not a performance or coding problem.
>>>>>>>>>

Please read above.

<<<<<<<<<
As an alternative, you can also implement such thing locally for your GT:

hb_gtwvg_DispOut( nMyWindow, "hello" )
>>>>>>>>>

Our goal is to transfer as much code to the GT core. For sure some
components will be relevant on the local GT but even to accomlish so base GT
code must have the necessary construct to support it. And this is what
Przemek is doing. He pointed out that right now only GTTRM is supporting
multi-windows. Just study it and you will realize the immense possibilities
it offers. Let him finish with GTWVG and I will extend demo program how it
will be used in real world.

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/2007-12-07-11%3A39-UTC%2B0100-Przemyslaw-Czerpak-%28druzus-at-priv.onet.pl%29-tf4961411.html#a14227419
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mpaliwoda at interia.pl  Sat Dec  8 11:19:44 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Sat Dec  8 11:20:23 2007
Subject: [Harbour] [OT] Scripting languages popularity
Message-ID: <fjdukh$g6g$1@ger.gmane.org>

[NOTE: completly OT, posted here
  because HarbourTalk is closed]

Hi,

Acording to TIOBE (http://www.tiobe.com/tpci.htm)
"Python surpassed Perl for the first time in history".
Acording to other articles I've read on a net, Python
is gaining more and more popularity in last months.
It become's a "hot" language ( whatever it means :) ).

Is Python really so good language ? In what areas is
it better than harbour ? And why Python and other
scripting languages (ruby and lua) are gaining more
and more popularity too ?

What's your opinion ?

-- 

Marek

From bedipritpal at hotmail.com  Sat Dec  8 11:20:25 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Dec  8 11:20:28 2007
Subject: [Harbour] 2007-12-07 11:39 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <fjdpvi$50b$1@ger.gmane.org>
References: <200712071039.lB7AdHVq020933@31-mo5-4.acn.waw.pl>
	<14224736.post@talk.nabble.com>
	<7819D343-945A-4907-B654-1A153E621516@syenar.hu>
	<14226690.post@talk.nabble.com> <fjdpvi$50b$1@ger.gmane.org>
Message-ID: <14227444.post@talk.nabble.com>


Marek

<<<<<<<<<<
Perfect explanation :), however how about using a "paralell API" ?

Instead of
	SetMode( nRows, nCols )
one could use
	winSetMode( pWIN, nRows, nCols )
(or something like that)

Do you see any problem with it ?
>>>>>>>>>>

No problems if I intend to and have required resources to change 500,000+
lines of code. Leave SetMode() example as it is only used at once or can be
omitted altogether. Let us take example of :

@ 12,10 SAY 'Hello World' COLOR 'W+/B'

How we will force this to paint in a particular window? There are the
possibilities.
1) @ 12,10 SAY 'Hello World' COLOR 'W+/B' WINDOW pWin
2) hb_WSelect( pWin ); @ 12,10 SAY 'Hello World' COLOR 'W+/B' 
3) @ 12,10 SAY 'Hello World' COLOR 'W+/B' ; // GT detects which window has
the display focus and substitutes pWin parameter.

OR you wish to tie a Tbrowse to a pWin. In such case all GT commands in
TBrowse, e.g., DispOut(), DevPos(), etc are passed the pWin/pGT parameter
along ensuring that Tbrowse is displayed ever in correct window.

Let us continue the discussion.

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/2007-12-07-11%3A39-UTC%2B0100-Przemyslaw-Czerpak-%28druzus-at-priv.onet.pl%29-tf4961411.html#a14227444
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sat Dec  8 12:15:45 2007
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Dec  8 12:15:52 2007
Subject: [Harbour] [OT] Scripting languages popularity
In-Reply-To: <fjdukh$g6g$1@ger.gmane.org>
References: <fjdukh$g6g$1@ger.gmane.org>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E699@SRV02.deltain.net>

12 position for D http://en.wikipedia.org/wiki/D_programming_language
28 position for FoxBase/Xbase
About pynton 
  Python 3000 will be implemented in C)
http://www.python.org/dev/peps/pep-3000/
  Python have a good  documentation http://www.python.org/doc/
  Python have a ide
(http://showmedo.com/videos/video?name=1270000&fromSeriesID=127)
  Pynton have a gui debugger
(http://showmedo.com/videos/video?name=1270010&fromSeriesID=127)
  Pynton have a native easy gui http://www.ferg.org/easygui/
  Pynton have a web/dev megaframework forfast database application
http://www.turbogears.org/index.html
Will be usefull a comparation of harbour and  java
http://www.ferg.org/projects/python_java_side-by-side.html


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Marek Paliwoda
Sent: Saturday, December 08, 2007 12:20 PM
To: harbour@harbour-project.org
Subject: [Harbour] [OT] Scripting languages popularity

[NOTE: completly OT, posted here
  because HarbourTalk is closed]

Hi,

Acording to TIOBE (http://www.tiobe.com/tpci.htm)
"Python surpassed Perl for the first time in history".
Acording to other articles I've read on a net, Python
is gaining more and more popularity in last months.
It become's a "hot" language ( whatever it means :) ).

Is Python really so good language ? In what areas is
it better than harbour ? And why Python and other
scripting languages (ruby and lua) are gaining more
and more popularity too ?

What's your opinion ?

-- 

Marek

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mpaliwoda at interia.pl  Sat Dec  8 12:32:36 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Sat Dec  8 12:32:43 2007
Subject: [Harbour] 2007-12-07 11:39 UTC+0100 Przemyslaw
	Czerpak	(druzus/at/priv.onet.pl)
In-Reply-To: <14227444.post@talk.nabble.com>
References: <200712071039.lB7AdHVq020933@31-mo5-4.acn.waw.pl>	<14224736.post@talk.nabble.com>	<7819D343-945A-4907-B654-1A153E621516@syenar.hu>	<14226690.post@talk.nabble.com>
	<fjdpvi$50b$1@ger.gmane.org> <14227444.post@talk.nabble.com>
Message-ID: <475A8EE4.2000700@interia.pl>

Pritpal,

> <<<<<<<<<<
> Perfect explanation :), however how about using a "paralell API" ?
> 
> Instead of
> 	SetMode( nRows, nCols )
> one could use
> 	winSetMode( pWIN, nRows, nCols )
> (or something like that)
> 
> Do you see any problem with it ?
> 
> No problems if I intend to and have required resources to change 500,000+
> lines of code. Leave SetMode() example as it is only used at once or can be
> omitted altogether. Let us take example of :
> 
> @ 12,10 SAY 'Hello World' COLOR 'W+/B'
> 
> How we will force this to paint in a particular window? There are the
> possibilities.
> 1) @ 12,10 SAY 'Hello World' COLOR 'W+/B' WINDOW pWin
> 2) hb_WSelect( pWin ); @ 12,10 SAY 'Hello World' COLOR 'W+/B' 
> 3) @ 12,10 SAY 'Hello World' COLOR 'W+/B' ; // GT detects which window has
> the display focus and substitutes pWin parameter.

The solution could be a new preprocessor directive :
@ 12,10 SAY 'Hello World' COLOR 'W+/B' WINDOW pWin => HB_DevOut(),
however read below.

> OR you wish to tie a Tbrowse to a pWin. In such case all GT commands in
> TBrowse, e.g., DispOut(), DevPos(), etc are passed the pWin/pGT parameter
> along ensuring that Tbrowse is displayed ever in correct window.

This indeed seems to be an interesting problem.
TBrowse internally uses a standard API, which does
not know anything about in which window it has to
display its contents. It would have to be rewritten
to use a parallell API and to store a pWin in which
it started. You got the point with your proposition :).

-- 

Marek


----------------------------------------------------------------------
Zamow u Donalda CUD na mikolajki!
Kliknij >>> http://link.interia.pl/f1ca3

From mpaliwoda at interia.pl  Sat Dec  8 15:24:51 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Sat Dec  8 15:24:56 2007
Subject: [Harbour] [OT] Scripting languages popularity
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E699@SRV02.deltain.net>
References: <fjdukh$g6g$1@ger.gmane.org>
	<AFB948164110ED43B5EB849E8DEEF03815E699@SRV02.deltain.net>
Message-ID: <475AB743.5000309@interia.pl>

Hi Massimo,

> 12 position for D http://en.wikipedia.org/wiki/D_programming_language

This is indeed amazing.

> 28 position for FoxBase/Xbase

:)

> About pynton 
>   Python 3000 will be implemented in C)

This is IMO less important argument. From my POV
it doesn't matter what language it is implemented
in. I know people will say that it can give it a
speed improvement, but really speed is not an issue
as long as it is acceptable.

> http://www.python.org/dev/peps/pep-3000/
>   Python have a good  documentation http://www.python.org/doc/

Yes, this is a valid and important argument.

>   Python have a ide
> (http://showmedo.com/videos/video?name=1270000&fromSeriesID=127)

I find it amazing people are looking for an IDE for
scripting languages :). I use VS IDE everyday at least
few hours a day, but really I do not miss IDE playing
with Harbour :). I guess it's my "habit". Anyway it
seems "odd" to me.

>   Pynton have a gui debugger

Valid and important argument.

> (http://showmedo.com/videos/video?name=1270010&fromSeriesID=127)
>   Pynton have a native easy gui http://www.ferg.org/easygui/

Sorry, doesn't matter IMO.

>   Pynton have a web/dev megaframework forfast database application
> http://www.turbogears.org/index.html

Well, I doubt Python is widely used in a web environment.
But surely I may be wrong because simply I don't know :).
The problem, I guess, is with providers. They only offer
what is consider "accepted" (PHP,ASP,ASP.NET).

> Will be usefull a comparation of harbour and  java
> http://www.ferg.org/projects/python_java_side-by-side.html

Sorry, doesn't matter IMO.

-- 

Marek

----------------------------------------------------------------------
Las Vegas wsrod portali! Sprawdz >> http://www.interia.pl/


From bedipritpal at hotmail.com  Sat Dec  8 20:09:29 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Dec  8 20:09:32 2007
Subject: [Harbour] Screen Painting - SetColor( 'N/W' ) - Bug
Message-ID: <14232149.post@talk.nabble.com>


Przemek

I see this misbehavior in painting in GTWVG. This is weired because in my
applns I have experiencing this problem but in a small reduced sample I
cannot replicate.

SetColor( 'N/W' )
CLS

Does not clear the screen. Also DispBox() does not work as intended.

Any other background color show up the right behavior.
SetColor( 'W/B' )
CLS

I think a small typo but I have not been figure out at what place in
hbgtcore.c.

To see this behavior in action, 
1) compile harbour/contrib/hbgtwvg/tests/demowvg.prg
2) from the menu point to <Traditional> and then click <Next Gets>
3) look at screen. CLS has not worked.
4) Change these lines in WvtNextGets()
   /*-------------------*/
   clr := SetColor( 'N/W,N/GR*,,,N/W*' )
   CLS
   /*--------------------*/
   To
   /*-------------------*/
   clr := SetColor( 'N/B,N/GR*,,,N/W*' )
   CLS
   /*--------------------*/
   OR
   /*-------------------*/
   clr := SetColor( 'N/W,N/GR*,,,N/W*' )
   DispBox( 0, 0, maxrow(), maxcol(), '         ', 'N/W' )
   /*--------------------*/

Hope it helps.

Regards
Pritpal Bedi, INDIA-USA


Regards
Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/Screen-Painting---SetColor%28-%27N-W%27-%29---Bug-tf4968262.html#a14232149
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sat Dec  8 20:18:28 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Dec  8 20:18:30 2007
Subject: [Harbour] 2007-12-08 12:13 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <14232206.post@talk.nabble.com>


2007-12-08 12:13 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/xhb/cstruct.prg
    + #include 'xhb.ch'
    ! Line#259 : cSynon[1] == '*' => left( cSynon,1 ) == '*'
      Now C Structure support in Harbour is exactly like xHarbour. Tested.

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/2007-12-08-12%3A13-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tf4968281.html#a14232206
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From jaggerjon at gmail.com  Sun Dec  9 08:11:28 2007
From: jaggerjon at gmail.com (John Jagger)
Date: Sun Dec  9 08:11:37 2007
Subject: [Harbour] proposed vm\maindllp.c change
Message-ID: <adf355b60712090011w15b76849oab88f39e58fb1e2c@mail.gmail.com>

Hi guys, this is my first msg to this list. When linking a pcode dll using
maindllp.obj I get this error:

Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
Error: Unresolved external '_hb_errInternal' referenced from C:\HARBOUR\
OBJ\B32\MAINDLLP.OBJ

I have fixed it commenting this:
/*  if( pProcAddr == NULL )
      hb_errInternal( HB_EI_ERRUNRECOV, "Cannot find address of '%s'
function", szProcName, NULL ); */

but surely there is a better solution, thx

Jon
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20071209/10bdb9b8/attachment.html
From jaggerjon at gmail.com  Sun Dec  9 08:17:26 2007
From: jaggerjon at gmail.com (Jon Jagger)
Date: Sun Dec  9 08:17:30 2007
Subject: [Harbour] proposed vm\maindllp.c change
Message-ID: <adf355b60712090017v74e7f94em9df1a2fc9f8ab5cc@mail.gmail.com>

one more thing :)

*It seems that PHB_SYMB hb_vmProcessSymbols( PHB_SYMB pSymbols, USHORT
uiSymbols ) should be removed from maindllp.c as it is no longer used, thx*
**
*Jon*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20071209/3bd9d377/attachment.html
From bedipritpal at hotmail.com  Sun Dec  9 17:05:29 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Dec  9 17:05:32 2007
Subject: [Harbour] Screen Painting - SetColor( 'N/W' ) - Bug
In-Reply-To: <14232149.post@talk.nabble.com>
References: <14232149.post@talk.nabble.com>
Message-ID: <14240565.post@talk.nabble.com>


Hello

I did not know that Harbour painting behavior is optimized to not repaint
any region if its color attribute or character buffer is not different than
the previous one.

However this does not hold good in GTWVG context. GUI elements are super
imposed over character region. So this GT need that region is always painted
whenever it is requested.

How this can be forced in local GT? May be we need a flag to set it like
hb_forceRepaint( .t. ) or alike.

Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context: http://www.nabble.com/Screen-Painting---SetColor%28-%27N-W%27-%29---Bug-tp14232149p14240565.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Dec 10 03:21:34 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec 10 03:21:38 2007
Subject: [Harbour] 2007-12-09 19:17 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <14246666.post@talk.nabble.com>


2007-12-09 19:17 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/hbgtwvg/tests/demowvg.prg
    ! Formatting. 
    ! "xHarbour" => "(x)Harbour"

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/2007-12-09-19%3A17-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp14246666p14246666.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Mon Dec 10 07:35:26 2007
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Dec 10 07:35:30 2007
Subject: [Harbour] 32 bit vs 64 bit
Message-ID: <9257026e0712092335u57dfcfa6vce2ac9c58a89aca9@mail.gmail.com>

First of all, many thanks to all developers.

It took me less than 1 hour to install a Linux FC8 X86_64, setup the
Harbour env and get a 64 bit version of my apps.

I've read many scary stories about 64 bit but so far I haven't had a
single problem, on my PC the response seems better and all my hardware
works.

Now I'd like to make some real tests on a server. I can use an IBM
Dual Xeon 3Gz EM64T with 4GB and RAID 10.

My apps are Harbour/gtxwc/gttrm and Harbour/cgi/Apache/Postgresql.

Is there anybody with experiences?

Should I expect any performance gain?

I know about Adobe's Flash, Acrobat lack of 64 bit support any other
"standard" software missing?

best regards,
Lorenzo
From mhsabado at gmail.com  Mon Dec 10 12:09:09 2007
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Mon Dec 10 12:09:28 2007
Subject: [Harbour] Building WinCE with make_vcce.bat 
In-Reply-To: <47574150.1387460a.625d.0bf5SMTPIN_ADDED@mx.google.com>
References: <47574150.1387460a.625d.0bf5SMTPIN_ADDED@mx.google.com>
Message-ID: <475D2C65.7080006@gmail.com>

Hi,

I have harbour binaries built with Visual C++ 2008 Express but when I 
run make_vcce.bat, I have the following error.

LINK : warning LNK4044: unrecognized option '/MANIFEST:NO'; ignored
obj\vcce\hbppgen.obj : fatal error LNK1112: module machine type 'X86' 
conflicts with target machine type 'ARM'

Any help or guidance is greatly appreciated.

TIA,
Mario

From sscc at mweb.co.za  Mon Dec 10 12:15:22 2007
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Dec 10 12:15:33 2007
Subject: [Harbour] Building WinCE with make_vcce.bat
In-Reply-To: <475D2C65.7080006@gmail.com>
References: <47574150.1387460a.625d.0bf5SMTPIN_ADDED@mx.google.com>
	<475D2C65.7080006@gmail.com>
Message-ID: <475D2DDA.9000005@mweb.co.za>

Mario H. Sabado wrote:

> I have harbour binaries built with Visual C++ 2008 Express but when I 
> run make_vcce.bat, I have the following error.

Does Express support CE/Mobile?

Regards
Alex
From mpaliwoda at interia.pl  Mon Dec 10 12:28:26 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Mon Dec 10 12:28:37 2007
Subject: [Harbour] Building WinCE with make_vcce.bat
Message-ID: <20071210122826.204B246CCC9@f46.poczta.interia.pl>

Mario H. Sabado wrote:
> Hi,
> 
> I have harbour binaries built with Visual C++ 2008 Express but when I 
> run make_vcce.bat, I have the following error.
> 
> LINK : warning LNK4044: unrecognized option &#039;/MANIFEST:NO&#039;; ignored
> obj\vcce\hbppgen.obj : fatal error LNK1112: module machine type &#039;X86&#039; 
> conflicts with target machine type &#039;ARM&#039;
> 
> Any help or guidance is greatly appreciated.

AFAIK VC Express does not support WinCE.
You'll need a full version of VS2003/5/8

-- 

Marek

----------------------------------------------------------------------
88 nagrod i samochod czekaja ... 

>>>    http://link.interia.pl/f1ca6


From druzus at acn.waw.pl  Tue Dec 11 12:20:56 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec 11 12:21:06 2007
Subject: [Harbour] TO Przemek: trying to contact @priv...pl
In-Reply-To: <000f01c83902$f6a73450$4001a8c0@REE>
References: <000f01c83902$f6a73450$4001a8c0@REE>
Message-ID: <20071211122056.GA12455@localhost.localdomain>

On Fri, 07 Dec 2007, frank van nuffel wrote:
> Hi all, 
> I'm new to this list, but have been harbour fan
> since 2003 and also xHarbour shares my interest
> Great job that's going on in here, much inspiring
> And for Przemek, if you're reading this, i've been
> replying to your mail to me dd 2007-10-04, twice
> now.  Have you received it? 

Hi Frank.

I've received your message few days ago but I haven't inet
access in last days so I cannot answer.
I think that we should continue discussion about the OOP
engine on this list because also other developers should
know it. I think that you should have devel access to
Harbour SVN repository so you can work on your ideas
directly in Harbour. IMO the first implementation should
be in contrib and then moved to core code.
But first other developers should read about the things
we were talking about. So I think we should forward here
our messages - of course if you agree.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Dec 11 12:35:06 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec 11 12:35:11 2007
Subject: [Harbour] Screen Painting - SetColor( 'N/W' ) - Bug
In-Reply-To: <14240565.post@talk.nabble.com>
References: <14232149.post@talk.nabble.com> <14240565.post@talk.nabble.com>
Message-ID: <20071211123506.GB12455@localhost.localdomain>

On Sun, 09 Dec 2007, Pritpal Bedi wrote:
> Hello
> I did not know that Harbour painting behavior is optimized to not repaint
> any region if its color attribute or character buffer is not different than
> the previous one.

Yes, it is.

> However this does not hold good in GTWVG context. GUI elements are super
> imposed over character region. So this GT need that region is always painted
> whenever it is requested.

This is sth what we should probably discuss in the future.
It's not clear for me how GTWVG uses different display
context and merge it to show final screen, what is the
priority of text and GUI objects, how it interacts with
SAVE/REST screen. Of course I can see what happens in
current code but I'd like to know the ideas rather then
results of implementation because it is hardly oriented
to MS-Windows API.

> How this can be forced in local GT? May be we need a flag to set it like
> hb_forceRepaint( .t. ) or alike.

It's enough to overload PUTCHAR() method and call TOUCHCELL() inside,
f.e. add to gtwvg.c:

   static BOOL hb_gt_wvg_PutChar( PHB_GT pGT, int iRow, int iCol,
                                  BYTE bColor, BYTE bAttr, USHORT usChar )
   {
      if( HB_GTSUPER_PUTCHAR( pGT, iRow, iCol, bColor, bAttr, usChar ) )
      {
         HB_GTSELF_TOUCHCELL( pGT, iRow, iCol );
         return TRUE;
      }
      return FALSE;
   }

and to hb_gt_FuncInit() function:

   pFuncTable->PutChar              = hb_gt_wvt_PutChar;

It will cause that "touched" screen characters will be always redrawn.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Dec 11 12:53:53 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec 11 12:53:59 2007
Subject: [Harbour] 2007-12-07 11:39 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <C327590D-E1E9-49A7-8CEA-72BF758D47DB@syenar.hu>
References: <200712071039.lB7AdHVq020933@31-mo5-4.acn.waw.pl>
	<14224736.post@talk.nabble.com>
	<7819D343-945A-4907-B654-1A153E621516@syenar.hu>
	<14226690.post@talk.nabble.com>
	<C327590D-E1E9-49A7-8CEA-72BF758D47DB@syenar.hu>
Message-ID: <20071211125353.GA12650@localhost.localdomain>

On Sat, 08 Dec 2007, Szak?ts Viktor wrote:
> Okey, I see what you mean, but my opinion is still the same regarding
> window selection. Window selection should be a separate command IMO.
> We're not extending (which essentially means changing) existing CA- 
> Cl*pper
> functions as a rule in Harbour.
> 
> nOldWnd := hb_gtwvg_WSelect( nDetails )
> DispOut(...)
> hb_gtwvg_WSelect( nMyOtherWindow )
> DispOut(...)
> hb_gtwvg_WSelect( nOldWnd )

Not HB_GTWVG_*() - this api should be GT independent so
suc prefixes are not acceptable.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Dec 11 13:13:41 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec 11 13:13:47 2007
Subject: [Harbour] 2007-12-07 11:39 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <14224736.post@talk.nabble.com>
References: <200712071039.lB7AdHVq020933@31-mo5-4.acn.waw.pl>
	<14224736.post@talk.nabble.com>
Message-ID: <20071211131341.GB12650@localhost.localdomain>

On Fri, 07 Dec 2007, Pritpal Bedi wrote:
> Now perhaps no more static variable is left to be transferred to a strucure
> member.

All GTs which will support multi window API (it does not have to
create many windows physical windows, f.e it can be single program
which will support many terminals connected by IP connection using
GTTRM) should not use static variables or if they are really necessary
sync access to them internally. It's our problem.

> Eventually we will need to tie every console command to a GT, without a GT
> pointer as per now and with a GT pointer for extended usage. For example: 
> SetMode( nRows, nCols )   =>   SetMode( pGT, nRows, nCols )  =>  
> pGT == ( hb_pcount()==3 ? hb_parGT( 1 ) : hb_DetectCurrentGT() )
> And alike for all other GT commands.

What we will do with .prg functions it's different thing. I'm leaving
this decision to other developers. We can add additional parameters
(it does not have to be the 1-st parameter but can be also the last one)
to existing functions or we can define new set of functions window
oriented. If you look at CT3 window functions then you will find that
they are using standard functions and only change current window using
WSELECT(). We can make the same. We can even redirect CT3 window functions
so with GTs which support many console windows WOPEN() will create new
window instead of creating virtual window in current screen area and
adopt old CT3 code to new possibilities without source code modification.

> We may also need to adjust Tbrowse(), Memoedit(), ReadModal() passing them
> pGT as a parameter.

People where using CT3 API without additional functions with window
parameter so it's mot strictly necessary. CT3 overloaded only ALERT()
functions and our API allows to make the same.

> Just an underview of semantics to be employed for multi-GT to be very
> valuable asset to Harbour programmers. I am sure you are having a much-wider
> perspective to infuse everything into this concept.

New functions will make the life easier and I agree that it will be
valuable extension but for me now most important is adding low level
support and I'm leaving the decision about them to you and other
developers.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Dec 11 14:33:00 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec 11 14:34:20 2007
Subject: [Harbour] Re: 2007-12-07 11:39 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <fjdpvi$50b$1@ger.gmane.org>
References: <200712071039.lB7AdHVq020933@31-mo5-4.acn.waw.pl>
	<14224736.post@talk.nabble.com>
	<7819D343-945A-4907-B654-1A153E621516@syenar.hu>
	<14226690.post@talk.nabble.com> <fjdpvi$50b$1@ger.gmane.org>
Message-ID: <20071211143300.GA13229@localhost.localdomain>

On Sat, 08 Dec 2007, Marek Paliwoda wrote:
> Perfect explanation :), however how about using a "paralell API" ?

For MT programs it will be enough it current window pointer will
be stored in thread specific data. In out case it will be part
of thread stack structure so each thread calling current screen
functions (without pWIN parameters) will operate on different
window because inside these function pointer to current window
will be thread specific and retrieved from thread HB_STACK
structure.

> Instead of
> 	SetMode( nRows, nCols )
> one could use
> 	winSetMode( pWIN, nRows, nCols )
> (or something like that)
> Do you see any problem with it ?

I do not see anything wrong with alternative set of screen
functions which will accept pointer/handler to GT context
but this is necessary for easier using multiple windows in
single thread to eliminate setting/restoring current window.
F.e. instead of:
    pOldWin := winSelect( pNewWin )
    setMode( nRows, nCols )
    winSelect( pOldWin )
it will be possible to use:
    winSetMode( pNewWin, nRows, nCols )
But we can also intorduce yet another solution. F.e. I plan
to add support for overloading alias operator, f.e. for:
    oVal->([some code])
if oVal overloads alias then oVal specific method will be
executed to set and restore workarea. But what will be done
inside will only depend on user code. This code may change
current workarea but also current window so it will be possible
to make:
    oWin->( setMode( nRows, nCols ), devOut("Hello !!!") )
and of course we can also define TWINDOW class which will have
all necessary methods like SETMODE(), DEVOUT(), SETPOS(),
SETCOLOR(), SETCURSOR(), MAXCOL(), MAXROW(), COL(), ROW(), ...
which will switch to valid window before calling corresponding
functions and use this class in RTL code for screen output.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Dec 11 15:06:08 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec 11 15:06:19 2007
Subject: [Harbour] 2007-12-11 16:05 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712111506.lBBF68tk013536@31-mo5-4.acn.waw.pl>

2007-12-11 16:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/hbgtcore.c
    * formatting

  * harbour/source/vm/hvm.c
    ! fixed typo in HB_TRACE message

  * harbour/source/rtl/gtwvt/gtwvt.h
  * harbour/source/rtl/gtwvt/gtwvt.c
    * updated for multi window usage

  * harbour/source/vm/maindllp.c
    * use MessageBox() instead of hb_errInternal() - thanks to Jon Jagger
      for information about the problem

best regards
Przemek
From mbelgrano at deltain.it  Tue Dec 11 15:11:28 2007
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Dec 11 15:11:34 2007
Subject: [Harbour] hbdoc / hbmake
In-Reply-To: <3CF18839-3215-4231-8E9B-6D96531BF2C7@syenar.hu>
References: <3CF18839-3215-4231-8E9B-6D96531BF2C7@syenar.hu>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E6BA@SRV02.deltain.net>

Interstring comparation
http://internetducttape.com/2006/07/05/inline-source-code-documentation-language-independent/


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Szak?ts Viktor
Sent: Friday, November 23, 2007 9:32 PM
To: Harbour Project Main Developer List.
Subject: [Harbour] hbdoc / hbmake

Hi all,

I'd like to get some opinions on hbmake / hbdoc.

Both seems to be pretty bug ridden and not well
maintained (seems so even after refreshing to the
latest xhb version).

IMO hbmake should somehow be "refactored" to reach
a certain level of quality.

hbdoc on the other hand could be replaced by some
standard doc generating tool, so that we don't have
to deal with the development of the tool itself.
Some possible (free, GPL) alternatives:

robodoc (HTML, DocBook, TXT, LaTeX, PDF, RTF outputs)
	http://en.wikipedia.org/wiki/ROBODoc
	http://www.xs4all.nl/~rfsber/Robo/robodoc.html
doxygen (HTML, LaTeX, man, RTF, XML, CHM, PS, PDF)
	http://en.wikipedia.org/wiki/Doxygen
	http://www.doxygene.org/

robodoc would need less reformatting of our current
docs, doxygen has a wider output support, but both are
able to produce most modern doc type outputs, see the
links for more.

Opinions (and contributors) are welcome.

Brgds,
Viktor

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Tue Dec 11 15:56:22 2007
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Dec 11 15:56:40 2007
Subject: [Harbour] [OT] Scripting languages popularity
In-Reply-To: <475AB743.5000309@interia.pl>
References: <fjdukh$g6g$1@ger.gmane.org><AFB948164110ED43B5EB849E8DEEF03815E699@SRV02.deltain.net>
	<475AB743.5000309@interia.pl>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E6BC@SRV02.deltain.net>

-----Original Message-----
>From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Marek Paliwoda
>Sent: Saturday, December 08, 2007 4:25 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] [OT] Scripting languages popularity

>   Pynton have a web/dev megaframework forfast database application
> http://www.turbogears.org/index.html

>Well, I doubt Python is widely used in a web environment.
>But surely I may be wrong because simply I don't know :).
>The problem, I guess, is with providers. They only offer
>what is consider "accepted" (PHP,ASP,ASP.NET).

Ipspirated from  http://www.python.org/about/apps/


Using harbour For .. Databases (rdd dbfcdx,ado,mediator)
Using harbour For .. portable GUI Development (minigui,
hwgui,fivewin,xailer)
Using harbour for .. native destop application for windows,windows
mobile,linux (Write once, native run anywhere)
Using harbour For .. Web Programming(xharbour 3.0?) 
using harbour for .. Networking (tip.lib)
using harbour for .. Software Development (hbmake is made in
harbour,future ide will made in harbour itself)
using harbour for .. Game Development (not ready but interesting)





From mpaliwoda at interia.pl  Tue Dec 11 17:29:02 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Tue Dec 11 17:29:15 2007
Subject: [Harbour] Re: 2007-12-07 11:39 UTC+0100 Przemyslaw
	Czerpak	(druzus/at/priv.onet.pl)
In-Reply-To: <20071211143300.GA13229@localhost.localdomain>
References: <200712071039.lB7AdHVq020933@31-mo5-4.acn.waw.pl>	<14224736.post@talk.nabble.com>	<7819D343-945A-4907-B654-1A153E621516@syenar.hu>	<14226690.post@talk.nabble.com>
	<fjdpvi$50b$1@ger.gmane.org>
	<20071211143300.GA13229@localhost.localdomain>
Message-ID: <475EC8DE.3020804@interia.pl>

Hi Przemek,

> But we can also intorduce yet another solution. F.e. I plan
> to add support for overloading alias operator, f.e. for:
>     oVal->([some code])
> if oVal overloads alias then oVal specific method will be
> executed to set and restore workarea. But what will be done
> inside will only depend on user code. This code may change
> current workarea but also current window so it will be possible
> to make:
>     oWin->( setMode( nRows, nCols ), devOut("Hello !!!") )
> and of course we can also define TWINDOW class which will have
> all necessary methods like SETMODE(), DEVOUT(), SETPOS(),
> SETCOLOR(), SETCURSOR(), MAXCOL(), MAXROW(), COL(), ROW(), ...
> which will switch to valid window before calling corresponding
> functions and use this class in RTL code for screen output.

Wow ! This is a "neat" concept ! Simple and clean.
I like it very much :).

-- 

Marek


----------------------------------------------------------------------
A co by bylo, gdybys to TY rzadzil?
Kliknij >>> http://link.interia.pl/f1c91

From druzus at acn.waw.pl  Tue Dec 11 16:47:16 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec 11 17:38:24 2007
Subject: [Harbour] pragma library ("mylib.lib")
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E68C@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815E68C@SRV02.deltain.net>
Message-ID: <20071211164716.GA13676@localhost.localdomain>

On Thu, 06 Dec 2007, Massimo Belgrano wrote:
> xbase support an intersting ?preprocessor directive 
> #pragma ?library ("mylib.lib") 
> Is possible implement also in harbour? 

It's not portable feature and it will only for few platforms
so it cannot be documented Harbour extensions.

> Xharbour made similar task with a sintax dependent from c compiler and linker used
> #pragma BEGINDUMP 
>    #pragma comment( lib, "mylib.lib" ) 
> #pragma ENDDUMP 

It will also work in Harbour in the same way as in xHarbour:
only when -gc output is used and only few C compilers understand
such pragma directive, AFAIR BCC and LCC/POCC/XCC

> Is possibile having a syntax non c compiler/liker dependent?

No. By definition such extension is compiler/linker dependent
and does not exist on many platforms.

> IMO the capability of insert in source code (prg) what library are used will help the compilation
> Will be more useful compile sample who require additional library (gt,rdd,gui)
> All information for linking is stored in source code

For this we are using ANNOUNCE/REQUEST mechanism. Just like in Clipper.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Dec 11 17:38:08 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec 11 17:38:49 2007
Subject: [Harbour] Pure PCODE functions
In-Reply-To: <4757D651.70104@dbtopas.lt>
References: <4757D651.70104@dbtopas.lt>
Message-ID: <20071211173808.GB13676@localhost.localdomain>

On Thu, 06 Dec 2007, Mindaugas Kavaliauskas wrote:
> Przemyslaw Czerpak wrote (on 2007-06-xx):
> I know but without own linker seems that we cannot fully drop code
> >segment (see above) but maybe you will know some possible tricks for
> >this problem. 
> Przemyslaw Czerpak wrote:
> >If we also add support for calling PCODE function without executing C ones
> >then we will have nice VM to emulate MT mode in platforms which do not
> >have native MT support.
> 
> Hi,
> the question about PCODE functions without C stub is mentioned not the 
> first time on the list. I'll try to say some ideas about possible 
> implementation of "pure PCODE functions".
> We use a standard linkers to link Harbour code, thus we need to use 
> extern/public label to indicate linker dependencies. This should remains 
> true also for pure PCODE functions, if we want to use standard linkers.
> The first idea that cames to mind is that we need export not C stub 
> address of PCODE function (we have this solution now), but we need to 
> export address of PCODE itself, or perhaps address of some structure 
> containing the PCODE. This way we can drop C stub and have pure PCODE 
> functions.
> But we have one more fundamental restriction here: functions' 
> extern/public labels should have the same type regardless its 
> implementation (PCODE or C). Let's have module BB containing function 
> BFUNC(), and module AA which calls function BFUNC(). Code in module AA 
> do not know, if BFUNC() is implemented in pure PCODE or real C code, so 
> exported public BFUNC() label should have the same type.
> This leads to conclusion: if the want to drop C stub for PCODE 
> functions, we must export some structure of pure PCODE functions, and we 
> must export a compatible structure for real C code! I.e. Harbour level C 
> code functions can not be exported as function addresses.

Exactly. We need something like envelope for function and this envelope
will have to be defined also for pure C functions to create common
for all symbols dependences mechanism. Because most of linker use
separate symbol tables for data and code segments then using the
same label names is not enough (I know that it may work with some
linkers but it's not portable solution) and we have to also use
the same symbol type. But it's also possible to generate in .c files
dummy functions with public .prg functions and dummy calls to extenral
ones only to satisfy linker and register pure PCODE functions just
like from .hrb files. It's a hack but it will work.

> So, let's talk about the structure of Harbour function. PCODE is not 
> self contained. It can not be evaluated without associated symbol table.

It can though compiler cannot generate such PCODE. It happens for macro
compiled code.

> In current implementation, C stub makes a binding of PCODE and symbol 
> table. If we want to drop C stub, we must include symbol table address 
> into function structure. I find modified HB_SYMB a good candidate for 
> the function structure.

We should define function envelope structure where we will have
pointer to symbol table, type of code signature (PCODE or machine
code) PCODE address, PCODE size, RT switches set during compilation
(see discussion about passing some compile time parameters to HVM)
Extended HB_SYMB structure can be used as such function envelope.

> I'll try to indicate ideas by C code (well, it's more pseudo-C).
> .prg module compiled .c code:
> // Public function AAA
> static BYTE pcode_HB_FUN_AAA[] = { ... };
> HB_SYMB HB_FUN_AAA = {"AAA", HB_FS_PUBLIC | HB_FS_LOCAL | HB_FS_PCODE,
>                       pcode_HB_FUN_AAA, symbol };
> // Static function BBB
> static BYTE pcode_HB_FUN_BBB[] = { ... };
> static HB_SYMB HB_FUN_BBB = {"BBB", HB_FS_LOCAL | HB_FS_PCODE,
>                              pcode_HB_FUN_BBB, symbols };
> 
> // External function CCC
> extern HB_SYMB HB_FUN_CCC;
> static HB_SYMB ext_HB_FUN_CCC = {"CCC", 0,
>                                  &HB_FUN_CCC, NULL };
> // Symbol table
> static HB_SYMB* symbols = {&HB_FUN_AAA, &HB_FUN_BBB, &ext_HB_FUN_CCC};
> You can see it's recursive structures (symbols is used in HB_SYMB, but 
> defined later), I'm not sure if we can define such structures in C. If 
> such definitions are wrong, the last member of HB_SYMB could be assigned 
> by hb_vmProcessSymbols().

It can be used. You only need forward declaration.

> I do not like that symbol table becomes the array of symbol pointers, 
> but not the array of symbols. But I can not get the idea how to make 
> addresses of some array's element public. It's not a problem in 
> assembler. Can it be done in C?

No. But I do not see anything wrong with above. In fact we need
public labels only for linker. In HVM we can bind public functions
using their names inside symbol table. So we do not have to declare
for each function separate HB_SYMB with public name but we can define
some additional dummy data labels just like dummy code labels I proposed
above.

> Let's look to Harbour functions implemented in C.
>   HB_FUNC( CCC )
>   {
>       hb_retni( hb_parni( 1 ) );
>   }
> can be preprocessored to:
>   HB_SYMB HB_FUN_CCC = {"CCC", HB_FS_PUBLIC,
>                         func_HB_FUN_CCC, NULL};
>   void func_HB_FUN_CCC( void )
>   {
>       hb_retni( hb_parni( 1 ) );
>   }
> After this change hb_vmExecute() requires only one PHB_SYMB parameter. 
> HB_PCODEFUNC structure for dynamic functions is also not required, 
> because all data (PCODE address and symbol table address) is contained 
> in the HB_SYMB.

HB_PCODEFUNC structure is our very small function envelope and of course
it can be replaces by extended HB_SYMB.

> HB_FUNC_EXEC(...) is also a hb_vmExecute() call, because we do not have 
> direct C function calls anymore, our functinos are HB_SYMB structures.
> So,
>   HB_FUNC_EXEC( AAA )
> is
>   hb_vmExecute( HB_FUN_AAA )
> and hb_vmExecute() should check if function has HB_FS_PCODE bit and take 
> a decision: run virtual machine, or do a real C function call.

yes or we can define hb_vmExecute wrapper which will take such decision
and keep hb_vmExecute() as it is now.

> BTW, symbols member of HB_SYMB could point not to symbol table (array of 
> PHB_SYMB), but to structure similar to current HB_SYMBOLS. In this case 
> it would be much more easy to get filename of module, we can include 
> unique module id into structure, etc.
> static HB_SYMBOLS* symbols =
>    { "module.prg",
>      {&HB_FUN_AAA, &HB_FUN_BBB, &ext_HB_FUN_CCC}, // symbol table
>      0xDEADBEEF,                                  // unique ID
>      ...
>    };

Yes, it's natural extension of the above modification. I even
wanted to change return value for hb_vmProcessSymbolsEx() and
return PHB_SYMBOLS to reach such effect by but because it is
one of the modifications which breaks binary compatibility then
I'm keeping it for the future.

> I know there are some issues related to export of variable (not 
> function) labels from .dll. I don't know the exact problems, and 
> possibly the proposed ideas are related to these problems, because here 
> we export variable of HB_SYMB* (HB_SYMB?) type, but not a function address.

This can be resolved by valid IMPORT/EXPORT attributes and it's not a big
problem.

In summary we can make such modification but we need the same type of
symbols (data or code) for both type of functions (PCODE and machine code)
to satisfy linkers. With our own linker will not need it and create
bindings for both versions.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Dec 11 22:38:26 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Dec 11 22:38:31 2007
Subject: [Harbour] CHANGELOG: 2007-12-11 23:37 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c83c46$Blat.v2.6.2$8b5e932c$b30ad1000c2@127.0.0.1>

2007-12-11 23:37 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * source/compiler/hbusage.c
     * Year bumped to 2008.
--
Brgds,
Viktor

From mbelgrano at deltain.it  Tue Dec 11 22:58:41 2007
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Dec 11 22:58:52 2007
Subject: [Harbour] pragma library ("mylib.lib")
In-Reply-To: <20071211164716.GA13676@localhost.localdomain>
References: <AFB948164110ED43B5EB849E8DEEF03815E68C@SRV02.deltain.net>
	<20071211164716.GA13676@localhost.localdomain>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E6CD@SRV02.deltain.net>


> IMO the capability of insert in source code (prg) what library are
used will help the compilation
> Will be more useful compile sample who require additional library
(gt,rdd,gui)
> All information for linking is stored in source code

For this we are using ANNOUNCE/REQUEST mechanism. Just like in Clipper.

In xbase is a directive for the linker different from announce

From philb at philb.us  Wed Dec 12 05:29:56 2007
From: philb at philb.us (Phil Barnett)
Date: Wed Dec 12 05:30:00 2007
Subject: [Harbour] Next Beta
Message-ID: <200712120029.56926.philb@philb.us>

Przemek, when can we release a new beta for testing?
From M.Horodyski at pzuzycie.com.pl  Wed Dec 12 07:57:48 2007
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Dec 12 07:57:53 2007
Subject: [Harbour] RE: Harbour Digest, Vol 14, Issue 23
In-Reply-To: <NLB01FEGNsokLQ8aZRh000025e7@gatein.pzuzycie.com.pl>
Message-ID: <4A24C1FA7DEAF343BA8782FCB1F2593D03CC61@PINK.zycie.pzu>

>Message: 5
>Date: Tue, 11 Dec 2007 15:33:00 +0100
>From: Przemyslaw Czerpak <druzus@acn.waw.pl>
>Subject: Re: [Harbour] Re: 2007-12-07 11:39 UTC+0100 Przemyslaw
>	Czerpak	(druzus/at/priv.onet.pl)
>To: "Harbour Project Main Developer List."
>	<harbour@harbour-project.org>
>Message-ID: <20071211143300.GA13229@localhost.localdomain>
>Content-Type: text/plain; charset=iso-8859-2
>
>On Sat, 08 Dec 2007, Marek Paliwoda wrote:
>> Perfect explanation :), however how about using a "paralell API" ?
>
[...]
>F.e. instead of:
>    pOldWin := winSelect( pNewWin )
>    setMode( nRows, nCols )
>    winSelect( pOldWin )
>it will be possible to use:
>    winSetMode( pNewWin, nRows, nCols )

Why not :

pNewWin:SetMode( nRows, nCols)
pAnotherWin:SomeMethod( ListParameters) 

?

Regards,
Marek Horodyski

From druzus at acn.waw.pl  Wed Dec 12 09:46:43 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Dec 12 09:46:49 2007
Subject: [Harbour] 2007-12-12 10:46 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712120946.lBC9khSI014827@31-mo5-4.acn.waw.pl>

2007-12-12 10:46 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/idle.c
    ! fixed casting in hb_idleSleep() which truncated the fraction part
      of given timeout

best regards
Przemek
From druzus at acn.waw.pl  Wed Dec 12 09:48:54 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Dec 12 09:48:59 2007
Subject: [Harbour] Next Beta
In-Reply-To: <200712120029.56926.philb@philb.us>
References: <200712120029.56926.philb@philb.us>
Message-ID: <20071212094854.GA5335@localhost.localdomain>

On Wed, 12 Dec 2007, Phil Barnett wrote:
> Przemek, when can we release a new beta for testing?

Yes sure,
I only want to know what modifications plan to add other developers
and I'll sync beta branch.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Dec 12 10:06:41 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Dec 12 10:06:45 2007
Subject: [Harbour] 2007-12-12 11:06 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712121006.lBCA6fG5017848@31-mo5-4.acn.waw.pl>

2007-12-12 11:06 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/ChangeLog
    * removed UTF-8 signature: 0xEF 0xBB 0xBF

  * harbour/source/rtl/gtwvt/gtwvt.c
    * converted TABs to SPACEs

best regards
Przemek
From bedipritpal at hotmail.com  Wed Dec 12 17:00:43 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Dec 12 17:00:49 2007
Subject: [Harbour] Screen Painting - SetColor( 'N/W' ) - Bug
In-Reply-To: <20071211123506.GB12455@localhost.localdomain>
References: <14232149.post@talk.nabble.com> <14240565.post@talk.nabble.com>
	<20071211123506.GB12455@localhost.localdomain>
Message-ID: <14299299.post@talk.nabble.com>


Przemek

>Yes, it is.

I suspected so.

<<<<<
It's enough to overload PUTCHAR() method and call TOUCHCELL() inside,
f.e. add to gtwvg.c:

   static BOOL hb_gt_wvg_PutChar( PHB_GT pGT, int iRow, int iCol,
                                  BYTE bColor, BYTE bAttr, USHORT usChar )
   {
      if( HB_GTSUPER_PUTCHAR( pGT, iRow, iCol, bColor, bAttr, usChar ) )
      {
         HB_GTSELF_TOUCHCELL( pGT, iRow, iCol );
         return TRUE;
      }
      return FALSE;
   }

and to hb_gt_FuncInit() function:

   pFuncTable->PutChar              = hb_gt_wvt_PutChar;

It will cause that "touched" screen characters will be always redrawn.
>>>>>>>

Yes it is ok with above change, so I need to include this in GTWVG.


<<<<<
This is sth what we should probably discuss in the future. It's not clear
for me how GTWVG uses different display context and merge it to show final
screen, what is the priority of text and GUI objects, how it interacts with
SAVE/REST screen. Of course I can see what happens in current code but I'd
like to know the ideas rather then results of implementation because it is
hardly oriented to MS-Windows API.
>>>>>

The priority:
a) Text 
b) GUI elements based on the coordinates of the region retrieved by
GetUpdateRect() in WM_PAINT window message.  GUI elements are stored in an
array as per this structure:
    
   1) cObjectID . Character ID to handle in-place change/retrieve particular
paint object 
   2) nIDinObject . Numeric ID to change a particular paint block in
<cObjectID>
   3) bPaintFunc . Block to a paint function in wvtcore.c
   4) aCoOrdinates . Optional. An array of screen coordinates where that
object belongs to { nTop, nLeft, nBottom, nRight } in row/columns.

    This is a sample of such placement: 

    SetPaint( 'MSGBOX', 1009, ;
              {|| Wvt_DrawLabel( 10, 10, 'Vouch', nAlign, nil, nRGBText,
nRGBBack, ;
                            cFontName, 18, 0, 700, nil, .f. ) },  {
9,9,11,30 } )

And this functions set is employed to store/restore/paint the GUI elements
in WvtPaint.prg

//-------------------------------------------------------------------//
static paint_:= { { '', {} } }
//-------------------------------------------------------------------//
//
//        This function must have to be defined in your appls
/*
function Wvt_Paint()

   WvtPaintObjects()

   return nil
*/
//-------------------------------------------------------------------//

function WvtPaintObjects()
   LOCAL i, lExe, nLeft, nRight, b, tlbr_, aBlocks, nBlocks
   
   aBlocks := WvtSetPaint()
   
   if ( nBlocks := len( aBlocks ) ) > 0
      tlbr_:= Wvt_GetPaintRect()
   
      for i := 1 to nBlocks
         lExe := .t.
   
         if aBlocks[ i,3 ] <> nil .and. !empty( aBlocks[ i,3 ] )
            //  Check parameters against tlbr_ depending upon the
            //  type of object and attributes contained in aAttr
            //
            do case
            case aBlocks[ i,3,1 ] == WVT_BLOCK_GRID_V
               b := aBlocks[ i,3,6 ]
               if len( b:aColumnsSep ) == 0
                  lExe := .f.
               else
                  nLeft  := b:aColumnsSep[ 1 ]
                  nRight := b:aColumnsSep[ len( b:aColumnsSep ) ]
                  if !( tlbr_[ 1 ] <= aBlocks[ i,3,4 ] .and. ; // top   <
bottom
                        tlbr_[ 3 ] >= aBlocks[ i,3,2 ] .and. ; // bootm >
top
                        tlbr_[ 2 ] <= nRight + 1       .and. ; // left  <
right
                        tlbr_[ 4 ] >= nLeft  - 2             ) // right >
left
                     lExe := .f.
                  endif
               endif
   
            case aBlocks[ i,3,1 ] == WVT_BLOCK_GETS
               if !( tlbr_[ 1 ] <= aBlocks[ i,3,4 ] .and. ; // top   < bott
                     tlbr_[ 3 ] >= aBlocks[ i,3,2 ] .and. ; // bootm > top
                     tlbr_[ 2 ] <= aBlocks[ i,3,5 ] .and. ; // left  < righ
                     tlbr_[ 4 ] >= aBlocks[ i,3,3 ]       ) // right > left
                  lExe := .f.
               endif
   
            otherwise
               // If refreshing rectangle's top is less than objects' bottom
               // and left is less than objects' right
               //
               if !( tlbr_[ 1 ] <= aBlocks[ i,3,4 ] .and. ; // top   <=
bottom
                     tlbr_[ 3 ] >= aBlocks[ i,3,2 ] .and. ; // bootm >= top
                     tlbr_[ 2 ] <= aBlocks[ i,3,5 ] .and. ; // left  < right
                     tlbr_[ 4 ] >= aBlocks[ i,3,3 ]       ) // right > left
                  lExe := .f.
               endif
            endcase
         endif
   
         if lExe
            eval( aBlocks[ i,2 ] )
         endif
      next
   endif
   
   return ( 0 )

//-------------------------------------------------------------------//

function WvtSetPaint( a_ )
   local o
   static s := {}

   o := s

   if a_ <> nil
      s := a_
   endif

   return o

//-------------------------------------------------------------------//

function SetPaint( cID, nAction, xData, aAttr )
   local n, n1, oldData

   if xData <> nil
      if ( n := ascan( paint_, { |e_| e_[ 1 ] == cID } ) ) > 0
         if ( n1 := ascan( paint_[ n,2 ], {|e_| e_[ 1 ] == nAction } ) ) > 0
            oldData := paint_[ n,2,n1,2 ]
            paint_[ n,2,n1,2 ] := xData
            paint_[ n,2,n1,3 ] := aAttr
         else
            aadd( paint_[ n,2 ], { nAction,xData,aAttr } )
         endif
      else
         aadd( paint_, { cID, {} } )
         n := len( paint_ )
         aadd( paint_[ n,2 ], { nAction, xData, aAttr } )
      endif
   endif

   return oldData

//-------------------------------------------------------------------//

function GetPaint( cID )
   local n

   if ( n := ascan( paint_, { |e_| e_[ 1 ] == cID } ) ) > 0
      return paint_[ n,2 ]
   endif

   return {}

//-------------------------------------------------------------------//

function DelPaint( cID, nAction )
   local xData, n1, n

   if ( n := ascan( paint_, { |e_| e_[ 1 ] == cID } ) ) > 0
      if ( n1 := ascan( paint_[ n,2 ], {|e_| e_[ 1 ] == nAction } ) ) > 0
         xData := paint_[ n,2,n1,2 ]
         paint_[ n,2,n1,2 ] := {|| .t. }
      endif
   endif

   return xData

//-------------------------------------------------------------------//

function PurgePaint( cID,lDummy )
   local n, aPaint

   DEFAULT lDummy TO .f.

   if ( n := ascan( paint_, { |e_| e_[ 1 ] == cID } ) ) > 0
      aPaint := paint_[ n ]
      ADel( paint_, n )
      aSize( paint_, len( paint_ ) - 1 )
   endif

   if lDummy
      WvtSetPaint( {} )
   endif

   return ( aPaint )

//-------------------------------------------------------------------//

function InsertPaint( cID, aPaint, lSet )
   local n

   DEFAULT lSet TO .f.

   if ( n := ascan( paint_, { |e_| e_[ 1 ] == cID } ) ) > 0
      paint_[ n ] := aPaint
   else
      aadd( paint_, aPaint )
   endif

   if lSet
      WvtSetPaint( aPaint )
   endif

   return nil

//-------------------------------------------------------------------//

When GT window receives WM_PAINT message through WndProc, after drawing the
text region, prg defined function WVT_PAINT() is fired which calls
WvtPaintObjects(). In WvtPaintObject() it is checked if any paint object
array exists. If yes, then if 4th parameter <aCoordinates> is defined then
it is checked for if the reqion being painted falls within its preview, if
yes, the paint block is executed. In case <aCoordinates> is undefined, the
paint block is executed irrespective of screen reqion under request.

For SAVE/REST another function is employed,
Wvt_SaveScreen()/Wvt_RestScreen(). Wvt_SaveScreen() creates a memory bitmap
of the requested region and returns its handle to the application which is
passed to Wvt_RestScreen() with a flag as if this need be destroyed.

For events beyond application control. mainly, KILLFOCUS; MINIMIZE;
OVERLAPPING by another Window; etc; are handled differently than SAVE/REST
mechanism, and this is transparent to the user, I mean automatic. GTWVG
writes to a compatible DC every screen command, text and gui. At any time
window receives WM_SETFOCUS/WM_KILLFOCUS message,  it sets a flag to this
effect. When WM_PAINT callback is entertained, the next action is based on
this flag. If previously window had lost foct, which is not an appln
behavior, it transfers the screen region from compatible DC to window DC.

I wished to SAVE/REST functionality to be GT dependent, but because I was
not having any knowledge of core GT layer, I ended up with above solution.
Theoretically this can be accomplished with core functions SaveScreen() and
RestScreen(). Just we need to design a mechanism to save bitmap info tie
with DispCount() as there could be n number of Save/Restores.

Hope this will be useful in understanding GUI behavior.

Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context: http://www.nabble.com/Screen-Painting---SetColor%28-%27N-W%27-%29---Bug-tp14232149p14299299.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lohen at versateladsl.be  Wed Dec 12 17:03:36 2007
From: lohen at versateladsl.be (frank van nuffel)
Date: Wed Dec 12 17:13:32 2007
Subject: [Harbour] TO Przemek: trying to contact @priv...pl
References: <000f01c83902$f6a73450$4001a8c0@REE>
	<20071211122056.GA12455@localhost.localdomain>
Message-ID: <002401c83ce2$68e4a6f0$4001a8c0@REE>

Hello again Przemek, 

i'll start a new thread to check with the other
developers whether some premises to OO
for native data types inherent to the approach
used in my (o)ceans' thinktank project are
feasible, and desirable. 

Without consent for these, i'm afraid (o)ceans' 
can't contribute much to Harbour directly. 

i'm stand-by for now, devel access is not needed
at this point; perhaps later. 

take care, 

frank

From: "Przemyslaw Czerpak" Sent: Tuesday, December 11, 2007 1:20 PM
Subject: Re: [Harbour] TO Przemek: trying to contact @priv...pl


> Hi Frank.
> 
> I've received your message few days ago but I haven't inet
> access in last days so I cannot answer.
> I think that we should continue discussion about the OOP
> engine on this list because also other developers should
> know it. I think that you should have devel access to
> Harbour SVN repository so you can work on your ideas
> directly in Harbour. IMO the first implementation should
> be in contrib and then moved to core code.
> But first other developers should read about the things
> we were talking about. So I think we should forward here
> our messages - of course if you agree.
> 
> best regards,
> Przemek

From bedipritpal at hotmail.com  Wed Dec 12 18:47:03 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Dec 12 18:47:13 2007
Subject: [Harbour] 2007-12-13 10:42 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <14301428.post@talk.nabble.com>


2007-12-13 10:42 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/hbgtwvg/wvtpaint.prg
    ! Formatting. 
  * harbour/contrib/hbgtwvg/hbgtwvg.c
    + static BOOL hb_gt_wvt_PutChar( PHB_GT pGT, int iRow, int iCol,
                            BYTE bColor, BYTE bAttr, USHORT usChar )
      GUI elements need that every screen region requsted to be redrawn must
be redrawn.

Regards
Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/2007-12-13-10%3A42-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp14301428p14301428.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Wed Dec 12 21:02:08 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Dec 12 21:02:58 2007
Subject: [Harbour] 2007-12-12 22:01 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712122102.lBCL280S027983@31-mo5-4.acn.waw.pl>

2007-12-12 22:01 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/gt_tpl/gt_tpl.c
  * harbour/source/rtl/gtdos/gtdos.c
  * harbour/source/rtl/gtos2/gtos2.c
    * updated for new API

  * harbour/source/rtl/gtcgi/gtcgi.c
  * harbour/source/rtl/gtstd/gtstd.c
  * harbour/source/rtl/gtpca/gtpca.c
  * harbour/source/rtl/gttrm/gttrm.c
  * harbour/source/rtl/gtcrs/gtcrs.c
  * harbour/source/rtl/gtsln/gtsln.c
  * harbour/source/rtl/gtxwc/gtxwc.c
  * harbour/source/rtl/gtwin/gtwin.c
  * harbour/source/rtl/gtwvt/gtwvt.c
  * harbour/source/rtl/gtalleg/gtalleg.c
    * cleanup

best regards
Przemek
From e.m.giordano at emagsoftware.it  Wed Dec 12 22:37:43 2007
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Dec 12 22:38:35 2007
Subject: [Harbour] Warning
Message-ID: <01f901c83d0f$9c393de0$ca64fea9@emag>

Warning W8004 source\rtl\gtwvt\gtwvt.c 144: 'iPos' is assigned a value that 
is never used in function hb_gt_wvt_Alloc

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From elart at elart.it  Wed Dec 12 23:47:35 2007
From: elart at elart.it (elart)
Date: Wed Dec 12 23:48:17 2007
Subject: [Harbour] Howto build contrib contents under Linux
Message-ID: <47607317.7010306@elart.it>

I'm interested of  contrib/hbpgsql  contents  but i can't  figure howto 
make and test them under Linux
Into the  .../contrib/ dir i see the make_b32_all.bat and the 
make_vc_all.bat
i hope i can manually make something without a make_gnu_all script.

How can i try to compile the contrib/hbpgsql under Linux (Ubuntu 7.10)...?

Thank you in advance.

Best regards.

Marco

From bedipritpal at hotmail.com  Thu Dec 13 02:05:23 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 13 02:05:26 2007
Subject: [Harbour] 2007-12-13 18:05 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <14308366.post@talk.nabble.com>


2007-12-13 18:05 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/hbrddads/adsmgmnt.c
    ! Fixed memory leak in HB_FUNC( ADSMGGETLOCKOWNER )
      if ( pstUserInfo )
         hb_xfree( pstUserInfo );

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/2007-12-13-18%3A05-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp14308366p14308366.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Dec 13 02:07:52 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 13 02:07:55 2007
Subject: [Harbour] 2007-12-13 18:05 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <14308366.post@talk.nabble.com>
References: <14308366.post@talk.nabble.com>
Message-ID: <14308475.post@talk.nabble.com>


Hello

Someone please fix this in xHarbour CVS as I am unable to update for latest
CVS due to broken USRRDD ?

Thanks in advance.


Pritpal Bedi wrote:
> 
> 2007-12-13 18:05 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * harbour/contrib/hbrddads/adsmgmnt.c
>     ! Fixed memory leak in HB_FUNC( ADSMGGETLOCKOWNER )
>       if ( pstUserInfo )
>          hb_xfree( pstUserInfo );
> 
> Regards
> Pritpal Bedi, INDIA-USA
> 
> 

-- 
View this message in context: http://www.nabble.com/2007-12-13-18%3A05-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp14308366p14308475.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Dec 13 02:48:57 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 13 02:49:01 2007
Subject: [Harbour] TokenInit() - TokenExit() : Self Destructor
Message-ID: <14308920.post@talk.nabble.com>


Hello Everybody

A large application is using this construct:

TokenInit( @cString,... )
Do While !TokenEnd()
   someVrb := TokenNext()
  //........
enddo

But nowhere TokenExit() is called whereas it should have been. When
application exits fm.log reports memory leakage. Is there any way that at
the time of appln termination the static placeholder for TokenInit() is
released automatically ?

I do not want to change this construct in a large number of places. I know
this is not a threat to the application, but just in case...

Regards
Pritpal Bedi, INDIA-USA



-- 
View this message in context: http://www.nabble.com/TokenInit%28%29---TokenExit%28%29-%3A-Self-Destructor-tp14308920p14308920.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Dec 13 05:33:02 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 13 05:33:05 2007
Subject: [Harbour] 2007-12-13 18:05 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
In-Reply-To: <14308475.post@talk.nabble.com>
References: <14308366.post@talk.nabble.com> <14308475.post@talk.nabble.com>
Message-ID: <14310322.post@talk.nabble.com>


Please ignore. Done.


Pritpal Bedi wrote:
> 
> Hello
> 
> Someone please fix this in xHarbour CVS as I am unable to update for
> latest CVS due to broken USRRDD ?
> 
> Thanks in advance.
> 
> 

-- 
View this message in context: http://www.nabble.com/2007-12-13-18%3A05-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp14308366p14310322.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Thu Dec 13 06:22:26 2007
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Dec 13 06:22:29 2007
Subject: [Harbour] Howto build contrib contents under Linux
In-Reply-To: <47607317.7010306@elart.it>
References: <47607317.7010306@elart.it>
Message-ID: <9257026e0712122222j296f30bbgd839c2e571a9fe68@mail.gmail.com>

On Dec 13, 2007 12:47 AM, elart <elart@elart.it> wrote:

> I'm interested of  contrib/hbpgsql  contents  but i can't  figure howto
> make and test them under Linux
> Into the  .../contrib/ dir i see the make_b32_all.bat and the
> make_vc_all.bat
> i hope i can manually make something without a make_gnu_all script.
>
> How can i try to compile the contrib/hbpgsql under Linux (Ubuntu 7.10)...?

If you've set the env correctly you can simply use make install inside
the contrib/hbpgql dir.

best regards,
Lorenzo
From philb at philb.us  Thu Dec 13 06:48:04 2007
From: philb at philb.us (Phil Barnett)
Date: Thu Dec 13 06:48:09 2007
Subject: [Harbour] Next Beta
In-Reply-To: <20071212094854.GA5335@localhost.localdomain>
References: <200712120029.56926.philb@philb.us>
	<20071212094854.GA5335@localhost.localdomain>
Message-ID: <200712130148.05120.philb@philb.us>

On Wednesday 12 December 2007 04:48:54 am Przemyslaw Czerpak wrote:
> On Wed, 12 Dec 2007, Phil Barnett wrote:
> > Przemek, when can we release a new beta for testing?
>
> Yes sure,
> I only want to know what modifications plan to add other developers
> and I'll sync beta branch.

I know you think it's necessary but every time you include new code into a 
beta, the process starts over. Instead of grooming the code base to a point 
where it can be released, it just starts over as if no beta process has begun 
yet.

We must stop adding new code or it will never be released because the beta 
cycle will never end. Beta means NO NEW CODE. BUG FIXES ONLY.

Please, everyone, hold your new code and new ideas until we get 1.0 out the 
door. Then you can go crazy.

Thanks.
From lorenzo.fiorini at gmail.com  Thu Dec 13 07:30:55 2007
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Dec 13 07:31:04 2007
Subject: [Harbour] Next Beta
In-Reply-To: <200712130148.05120.philb@philb.us>
References: <200712120029.56926.philb@philb.us>
	<20071212094854.GA5335@localhost.localdomain>
	<200712130148.05120.philb@philb.us>
Message-ID: <9257026e0712122330k415579c2i7131f8dd281f940c@mail.gmail.com>

On Dec 13, 2007 7:48 AM, Phil Barnett <philb@philb.us> wrote:

> We must stop adding new code or it will never be released because the beta
> cycle will never end. Beta means NO NEW CODE. BUG FIXES ONLY.
>
> Please, everyone, hold your new code and new ideas until we get 1.0 out the
> door. Then you can go crazy.

The diff between beta3 and the actual devel is huge and it seems to me
a no sense wasting time to merge them or worse release a 1.0 that's so
different in lib and dir names from the actual devel.
I think we could simply copy the actual devel branch  ( if it's
considered stable from the developers ) to beta4, warn about the
differences and move on.

I agree that release numbers means almost nothing in the OSS world but
1.0 is SPECIAL.
It means the project consider the code ready for "outside world".
After that it can be whatever we want 1.0.1, 1.1, 2.0 or 1.0pre56 it
doesn't matter.

best regards,
Lorenzo
From tomaz.zupan at orpo.si  Thu Dec 13 07:36:21 2007
From: tomaz.zupan at orpo.si (=?utf-8?q?Toma=C5=BE_Zupan?=)
Date: Thu Dec 13 07:36:29 2007
Subject: [Harbour] Next Beta
In-Reply-To: <9257026e0712122330k415579c2i7131f8dd281f940c@mail.gmail.com>
References: <200712120029.56926.philb@philb.us>
	<200712130148.05120.philb@philb.us>
	<9257026e0712122330k415579c2i7131f8dd281f940c@mail.gmail.com>
Message-ID: <200712130836.21692.tomaz.zupan@orpo.si>

Dne ?etrtek 13. decembra 2007 je Lorenzo Fiorini napisal(a):
> On Dec 13, 2007 7:48 AM, Phil Barnett <philb@philb.us> wrote:
> > We must stop adding new code or it will never be released because the
> > beta cycle will never end. Beta means NO NEW CODE. BUG FIXES ONLY.
> >
> > Please, everyone, hold your new code and new ideas until we get 1.0 out
> > the door. Then you can go crazy.
>
> The diff between beta3 and the actual devel is huge and it seems to me
> a no sense wasting time to merge them or worse release a 1.0 that's so
> different in lib and dir names from the actual devel.
> I think we could simply copy the actual devel branch  ( if it's
> considered stable from the developers ) to beta4, warn about the
> differences and move on.
>

My thougths exactly.

LP, Toma?
From sscc at mweb.co.za  Thu Dec 13 07:59:09 2007
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Dec 13 07:59:13 2007
Subject: [Harbour] Next Beta
In-Reply-To: <200712130148.05120.philb@philb.us>
References: <200712120029.56926.philb@philb.us>	<20071212094854.GA5335@localhost.localdomain>
	<200712130148.05120.philb@philb.us>
Message-ID: <4760E64D.4090103@mweb.co.za>

Phil Barnett wrote:

> We must stop adding new code or it will never be released because the beta 
> cycle will never end. Beta means NO NEW CODE. BUG FIXES ONLY.
> 
> Please, everyone, hold your new code and new ideas until we get 1.0 out the 
> door. Then you can go crazy.

Surely the problem is that we don't have a clear road map?

Regards
Alex

From druzus at acn.waw.pl  Thu Dec 13 08:24:14 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Dec 13 08:24:20 2007
Subject: [Harbour] TokenInit() - TokenExit() : Self Destructor
In-Reply-To: <14308920.post@talk.nabble.com>
References: <14308920.post@talk.nabble.com>
Message-ID: <20071213082414.GA5179@localhost.localdomain>

On Wed, 12 Dec 2007, Pritpal Bedi wrote:
> Hello Everybody
> A large application is using this construct:
> TokenInit( @cString,... )
> Do While !TokenEnd()
>    someVrb := TokenNext()
>   //........
> enddo
> But nowhere TokenExit() is called whereas it should have been. When
> application exits fm.log reports memory leakage. Is there any way that at
> the time of appln termination the static placeholder for TokenInit() is
> released automatically ?

Yes, it is and it even exists. See:
    exit function _CTEXIT()
in contrib/hbct/ct.prg

If you have memory leaks reported by our FM statistic module (fm.log)
then it means that you call TokenInit() after executing above EXIT
function. It can be other EXIT procedure or code activated from some
subsystem, f.e. from GTWVG.

> I do not want to change this construct in a large number of places. I know
> this is not a threat to the application, but just in case...

You do not have to change it in large number of places. It's enough
to find the place where this code is activated from exit procedure
or from one of functions/clodeblocks registered in GTWVG and add
cleanup code. If the problem is caused by GTWVG callback code then
you have no choice and you must fix your code because it has very
serious bug. If you do not pass @<cTokenEnvironment> parameter to
TOKEN*() functions then they are not MT or reentrant safe. It means
that you can break your foreground code by executing GTWVG function.
F.e.:
    TokenInit( @cString )
    while !TokenEnd()
       // here GTWVG can be activated by hb_inkeyPoll() and your callback
       // code damages static value stored in TOKEN*() internals so
       // TokenNext() will return wrong value
       SomeFunc( TokenNext( cString ) )
    enddo

Please note that such bugs are very hard to locate because only sometimes
GTWVG callback functions are activated so it may work in simple examples
but in big application it will cause unpredictable results - random errors.
I strongly suggest you to fix your code or you will report some unexpected
errors here.
For using TOKEN*() functions inside EXIT procedure I can change cleanup
code and instead of EXIT PROC I can use hb_vmAtExit() which is later but
the problem with GTWVG callback functions you have to resolve yourself
in your code. If you do not want to use @<cTokenEnvironment> parameter
in TOKEN*() functions then you can save/restore static token data in
your call back code using SAVETOKEN()/RESTTOKEN() functions, f.e.:

    cTokenEnvironment := SAVETOKEN()

    [your code]

    if len( cTokenEnvironment ) == 0
       TOKENEXIT()
    else
       RESTTOKEN( cTokenEnvironment )
    endif

and please check your code if you do not have other similar situations
with different static resources unintentionally changed by call back
functions activated asynchronously to foreground code (GTWVG call backs,
UDFs in RDD expressions, background task, etc.).

best regards,
Przemek
From druzus at acn.waw.pl  Thu Dec 13 09:14:28 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Dec 13 09:14:37 2007
Subject: [Harbour] 2007-12-13 10:14 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712130914.lBD9ESr1029795@31-mo5-4.acn.waw.pl>

2007-12-13 10:14 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/gtwvt/gtwvt.c
    ! fixed allocating terminal context - thanks to Enrico

  * harbour/contrib/hbct/token2.c
    + added automatic cleanup code for static data allocated by
      TokenInit() using hb_vmAtExit() functions
    * Change RestToken() to validate size of passed string

  * harbour/contrib/hbct/ct.prg
    - removed TokenExit() from CT EXIT procedure - it's not
      longer necessary

  * harbour/contrib/hbrddads/adsmgmnt.c
    * minor cleanup - hb_xgrab() cannot return NULL pointer

best regards
Przemek
From druzus at acn.waw.pl  Thu Dec 13 10:04:46 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Dec 13 10:04:52 2007
Subject: [Harbour] 32 bit vs 64 bit
In-Reply-To: <9257026e0712092335u57dfcfa6vce2ac9c58a89aca9@mail.gmail.com>
References: <9257026e0712092335u57dfcfa6vce2ac9c58a89aca9@mail.gmail.com>
Message-ID: <20071213100446.GB5179@localhost.localdomain>

On Mon, 10 Dec 2007, Lorenzo Fiorini wrote:
> First of all, many thanks to all developers.
> It took me less than 1 hour to install a Linux FC8 X86_64, setup the
> Harbour env and get a 64 bit version of my apps.
> I've read many scary stories about 64 bit but so far I haven't had a
> single problem, on my PC the response seems better and all my hardware
> works.
> Now I'd like to make some real tests on a server. I can use an IBM
> Dual Xeon 3Gz EM64T with 4GB and RAID 10.
> My apps are Harbour/gtxwc/gttrm and Harbour/cgi/Apache/Postgresql.
> Is there anybody with experiences?

I'm creating 64-bit Harbour application for few *nixes and they work
without any problems. Programs designed for *nixes usually do not have
problems with switching between 32/64 bit modes. 64bit platforms exists
for really long time and most of programs are well tested.

> Should I expect any performance gain?

In x86@64 the performance of pure PCODE evaluation is better then in
x86@32 mostly due to ABI which uses registers to pass parameters. It gives
about ~10% speed improvement. But programs which often needs to call
kernel functions (f.e. IO operations in RDD code) should be much faster.
The address space is very large so it's possible to allocate some fixed
range of addresses for user and kernel date do not reload memory
descriptors during switch between user and kernel space. In some tests
it may give even 50% speed improvement.

> I know about Adobe's Flash, Acrobat lack of 64 bit support any other
> "standard" software missing?

Soft which comes from MS-Windows usually is ported to 64bit mode
much later and this is the result of fatal old MS design decisions
but it's systematically ported. Maybe even today 64bit versions
of programs you are looking for exist. If not then you can use
32bit ones if they do not need some special CPU mode. In x86@64
there is no VM86 mode so some programs like DOSEMU cannot be run
natively. It's also the reason why you cannot run Clipper programs
in XP64 just like in XP32. It's possible but you have to use software
x86 CPU emulator. So if you need DOSEMU in your 64bit box then you
will have to recompile it with BOCHS emulator enabled.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Thu Dec 13 12:40:05 2007
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Thu Dec 13 12:40:09 2007
Subject: [Harbour] 2007-12-13 10:14 UTC+0100 Przemyslaw
	Czerpak(druzus/at/priv.onet.pl)
References: <200712130914.lBD9ESr1029795@31-mo5-4.acn.waw.pl>
Message-ID: <009b01c83d85$4985f680$ca64fea9@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: <harbour@harbour-project.org>
Data invio: gioved? 13 dicembre 2007 10.14
Oggetto: [Harbour] 2007-12-13 10:14 UTC+0100 Przemyslaw 
Czerpak(druzus/at/priv.onet.pl)


> 2007-12-13 10:14 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/source/rtl/gtwvt/gtwvt.c
>    ! fixed allocating terminal context - thanks to Enrico

Me?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From dbtopas at dbtopas.lt  Thu Dec 13 11:59:39 2007
From: dbtopas at dbtopas.lt (DB Topas)
Date: Thu Dec 13 12:49:52 2007
Subject: [Harbour] Next Beta
In-Reply-To: <200712130148.05120.philb@philb.us>
References: <200712120029.56926.philb@philb.us>	<20071212094854.GA5335@localhost.localdomain>
	<200712130148.05120.philb@philb.us>
Message-ID: <47611EAB.3060803@dbtopas.lt>

Phil Barnett wrote:
> We must stop adding new code or it will never be released because the beta 
> cycle will never end. Beta means NO NEW CODE. BUG FIXES ONLY.

It seems developers are starting to add new code, because nobody knows 
any bugs to fix, but release of binaries is also not announced on the 
list. So, after waiting for a week in silence, someone adds some new code.

Do we have list of bugs? If not, how much time we should wait for bugs 
report from users?
The last time we were trying to enter beta cycle, the only pending 
bugfix was browse object. But later we've started discussion about it's 
compatibility with Clipper and it seems no solution was found.


Best regards,
Mindaugas
From guy.roussin at teledetection.fr  Thu Dec 13 13:24:42 2007
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Thu Dec 13 13:24:51 2007
Subject: [Harbour] Howto build contrib contents under Linux
In-Reply-To: <47607317.7010306@elart.it>
References: <47607317.7010306@elart.it>
Message-ID: <4761329A.4040509@teledetection.fr>

Hi,

export HB_CONTRIBLIBS=hbpgsql
./make_gnu.sh

Guy

elart a ?crit :
> I'm interested of  contrib/hbpgsql  contents  but i can't  figure howto 
> make and test them under Linux
> Into the  .../contrib/ dir i see the make_b32_all.bat and the 
> make_vc_all.bat
> i hope i can manually make something without a make_gnu_all script.
> 
> How can i try to compile the contrib/hbpgsql under Linux (Ubuntu 7.10)...?
> 
> Thank you in advance.
> 
> Best regards.
> 
> Marco
> 

From bedipritpal at hotmail.com  Thu Dec 13 14:27:10 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 13 14:27:28 2007
Subject: [Harbour] TokenInit() - TokenExit() : Self Destructor
In-Reply-To: <20071213082414.GA5179@localhost.localdomain>
References: <14308920.post@talk.nabble.com>
	<20071213082414.GA5179@localhost.localdomain>
Message-ID: <14316841.post@talk.nabble.com>


Przemek


Przemyslaw Czerpak-2 wrote:
> 
> 
> Yes, it is and it even exists. See:
>     exit function _CTEXIT()
> in contrib/hbct/ct.prg
> 
> If you have memory leaks reported by our FM statistic module (fm.log)
> then it means that you call TokenInit() after executing above EXIT
> function. It can be other EXIT procedure or code activated from some
> subsystem, f.e. from GTWVG.
> 
> 

GTWVG does not use these functions at all. But a very old appln ported to
GTWVG is using these functions. I have checked and noticed that TokenInit()
is always passed the string with reference. I did notice that EXIT procedure
exists in CT but then why this mem leak. So I reported this problem. I will
test your changes today and will report accordingly.

Thanks for taking care of request.

Regards
Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/TokenInit%28%29---TokenExit%28%29-%3A-Self-Destructor-tp14308920p14316841.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Thu Dec 13 15:08:18 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Dec 13 15:08:26 2007
Subject: [Harbour] TokenInit() - TokenExit() : Self Destructor
In-Reply-To: <14316841.post@talk.nabble.com>
References: <14308920.post@talk.nabble.com>
	<20071213082414.GA5179@localhost.localdomain>
	<14316841.post@talk.nabble.com>
Message-ID: <20071213150818.GA32399@localhost.localdomain>

On Thu, 13 Dec 2007, Pritpal Bedi wrote:
> GTWVG does not use these functions at all. But a very old appln ported to
> GTWVG is using these functions. I have checked and noticed that TokenInit()
> is always passed the string with reference. I did notice that EXIT procedure
> exists in CT but then why this mem leak. So I reported this problem. I will
> test your changes today and will report accordingly.

I haven't fixed your code.
Don't test my modifications but locate the problem in your code and fix it.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Dec 13 15:55:57 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Dec 13 15:56:03 2007
Subject: [Harbour] 2007-12-13 16:55 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712131555.lBDFtvxA032740@31-mo5-4.acn.waw.pl>

2007-12-13 16:55 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapigt.h
  * harbour/source/rtl/gtapi.c
    ! fixed DISPCOUNT() return value
    * cleaned some GT functions declarations

best regards
Przemek
From mbelgrano at deltain.it  Thu Dec 13 21:18:49 2007
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Dec 13 21:19:02 2007
Subject: [Harbour] TO Przemek: trying to contact @priv...pl
In-Reply-To: <002401c83ce2$68e4a6f0$4001a8c0@REE>
References: <000f01c83902$f6a73450$4001a8c0@REE><20071211122056.GA12455@localhost.localdomain>
	<002401c83ce2$68e4a6f0$4001a8c0@REE>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E6E1@SRV02.deltain.net>

When/Where you start this thread?

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of frank van
nuffel
Sent: Wednesday, December 12, 2007 6:04 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] TO Przemek: trying to contact @priv...pl

Hello again Przemek, 

i'll start a new thread to check with the other
developers whether some premises to OO
for native data types inherent to the approach
used in my (o)ceans' thinktank project are
feasible, and desirable. 

Without consent for these, i'm afraid (o)ceans' 
can't contribute much to Harbour directly. 

i'm stand-by for now, devel access is not needed
at this point; perhaps later. 

take care, 

frank

From: "Przemyslaw Czerpak" Sent: Tuesday, December 11, 2007 1:20 PM
Subject: Re: [Harbour] TO Przemek: trying to contact @priv...pl


> Hi Frank.
> 
> I've received your message few days ago but I haven't inet
> access in last days so I cannot answer.
> I think that we should continue discussion about the OOP
> engine on this list because also other developers should
> know it. I think that you should have devel access to
> Harbour SVN repository so you can work on your ideas
> directly in Harbour. IMO the first implementation should
> be in contrib and then moved to core code.
> But first other developers should read about the things
> we were talking about. So I think we should forward here
> our messages - of course if you agree.
> 
> best regards,
> Przemek

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From bedipritpal at hotmail.com  Fri Dec 14 00:45:31 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 14 00:45:34 2007
Subject: [Harbour] Variables Types as Classes
Message-ID: <14327998.post@talk.nabble.com>


Hello

In Clipper and xHarbour this code works ok:

ENABLE TYPE CLASS ALL

Local aArray := { 'John', 12, .t., ctod( '' ) }
   
   aArray:Append( 2002 )

   ? Len( aArray ) // 5

But in Harbour I get this error:
   Error BASE/1004 Message not found: :APPEND

I checked vm/classes.c but could not find a clue. May be I am missing some
switch in compiling Harbour.

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/Variables-Types-as-Classes-tp14327998p14327998.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Dec 14 02:43:30 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 14 02:43:32 2007
Subject: [Harbour] Multi-GT and SetKey() API
Message-ID: <14329108.post@talk.nabble.com>


Hello Przemek

If I am thinking correctly, does not SETKEY API becomes candidate to be
embedded with GT Core ?

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/Multi-GT-and-SetKey%28%29-API-tp14329108p14329108.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Dec 14 05:36:24 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 14 05:36:27 2007
Subject: [Harbour] 2007-12-13 10:14 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200712130914.lBD9ESr1029795@31-mo5-4.acn.waw.pl>
References: <200712130914.lBD9ESr1029795@31-mo5-4.acn.waw.pl>
Message-ID: <14330321.post@talk.nabble.com>


Przemek


Przemyslaw Czerpak-2 wrote:
> 
> 2007-12-13 10:14 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/contrib/hbct/token2.c
>     + added automatic cleanup code for static data allocated by
>       TokenInit() using hb_vmAtExit() functions
>     * Change RestToken() to validate size of passed string
> 
>   * harbour/contrib/hbct/ct.prg
>     - removed TokenExit() from CT EXIT procedure - it's not
>       longer necessary
> 

This fixes the memory leak. Now fm.log is not created. Thanks.

Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context: http://www.nabble.com/2007-12-13-10%3A14-UTC%2B0100-Przemyslaw-Czerpak-%28druzus-at-priv.onet.pl%29-tp14312455p14330321.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Fri Dec 14 07:20:20 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Dec 14 07:20:26 2007
Subject: [Harbour] Variables Types as Classes
In-Reply-To: <14327998.post@talk.nabble.com>
References: <14327998.post@talk.nabble.com>
Message-ID: <20071214072020.GA5881@localhost.localdomain>

On Thu, 13 Dec 2007, Pritpal Bedi wrote:
> Hello
> In Clipper and xHarbour this code works ok:
> ENABLE TYPE CLASS ALL
> Local aArray := { 'John', 12, .t., ctod( '' ) }
>    aArray:Append( 2002 )
>    ? Len( aArray ) // 5
> But in Harbour I get this error:
>    Error BASE/1004 Message not found: :APPEND
> I checked vm/classes.c but could not find a clue. May be I am missing some
> switch in compiling Harbour.

add to array class in source/rlt/tscalar.prg

   MESSAGE Append  METHOD Add

best regards,
Przemek
From druzus at acn.waw.pl  Fri Dec 14 07:49:28 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Dec 14 07:49:33 2007
Subject: [Harbour] Next Beta
In-Reply-To: <200712130148.05120.philb@philb.us>
References: <200712120029.56926.philb@philb.us>
	<20071212094854.GA5335@localhost.localdomain>
	<200712130148.05120.philb@philb.us>
Message-ID: <20071214074928.GB5881@localhost.localdomain>

On Thu, 13 Dec 2007, Phil Barnett wrote:
> > I only want to know what modifications plan to add other developers
> > and I'll sync beta branch.
> I know you think it's necessary but every time you include new code into a 
> beta, the process starts over. Instead of grooming the code base to a point 
> where it can be released, it just starts over as if no beta process has begun 
> yet.

AFAIR I was the only one person who made modifications in beta branch and
from BETA3 I haven't made any fixes in BETA branch. Only some syncing with
DEVEL were done. If we exclude them then nothing has been changed since
last release.

> We must stop adding new code or it will never be released because the beta 
> cycle will never end. Beta means NO NEW CODE. BUG FIXES ONLY.

The problem is that I have to stop working on DEVEL branch too because
you will not find many users interested in using BETA branch and reporting
problems. Nearly everybody are using now DEVEL branch. But I like the idea
of reducing activity in devel branch. I have very limited spare time recently.
I'm not even able to replay for all messages I'm receiving about [x]Harbour -
in last weeks I do not have time to answer for most of them. The release
freeze state will be very good for me. Of course there is a lot of things
we can do in core code yet but if we start them then it will take a lot of
time to finish. The only one thing which seems to be really important is
fixed BROWSE class.

> Please, everyone, hold your new code and new ideas until we get 1.0 out the 
> door. Then you can go crazy.

Believe me that I was dropping many ideas waiting for 1.0. I didn't want
to start them because it would delay 1.0 release reducing number of people
interesting in BETA process.
My advice: let's mark current DEVEL code as BETA4 and then RC1, RC2, ...
in two weeks periods and release 1.0.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Dec 14 07:51:44 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Dec 14 07:51:58 2007
Subject: [Harbour] 2007-12-14 08:51 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712140751.lBE7piSX007091@31-mo5-4.acn.waw.pl>

2007-12-14 08:51 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rtl/tscalar.prg
    + added APPEND method to array scalar object

best regards
Przemek
From bedipritpal at hotmail.com  Fri Dec 14 08:15:58 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 14 08:16:01 2007
Subject: [Harbour] Multi-Window GT - More Ideas
Message-ID: <14331718.post@talk.nabble.com>


Przemek


Przemyslaw Czerpak-2 wrote:
> 
> For MT programs it will be enough it current window pointer will be stored
> in thread specific 
> data. In out case it will be part of thread stack structure so each thread
> calling current screen 
> functions (without pWIN parameters) will operate on different window
> because inside these function 
> pointer to current window will be thread specific and retrieved from
> thread HB_STACK structure.
> 

Exactly. 

But even then every console command will have to be passed pGT, no matter it
is retrieved from 
HB_STACK or another way. The same mechanism can be employed in ST mode too.
The issue remains with 
the detection of pGT. If we teach GT core how to retrieve pGT intelligently
if pGT is not passed as a parameter, we are done. In MT it is much easier to
identify pGT from HB_STACK. In ST it could be tricky. 

There ares two aspects to be considered in such implementation:

1) Display GT - which display program commands
2) Input GT - which receives user events

We can control Display GT with pseudo API's like:

(a) WinSetMode( pWIN, nRows, nCols ) 

(b) pOldWin := winSelect( pNewWin )
    setMode( nRows, nCols )
    winSelect( pOldWin )

(c) oWin->( setMode( nRows, nCols ), devOut("Hello !!!") ) 

Przemyslaw Czerpak-2 wrote:
> 
> and of course we can also define TWINDOW class which will have all
> necessary methods like 
> SETMODE(), DEVOUT(), SETPOS(), SETCOLOR(), SETCURSOR(), MAXCOL(),
> MAXROW(), COL(), ROW(), ... 
> which will switch to valid window before calling corresponding functions
> and use this class in RTL code for screen output.
> 

But in all the above cases we will have to pass pGT to underlying core GT
code. 

Option (a) can be replaced with SetMode( <nRows>, <nCols>, [pGT] ).
Option (b) needs an overall change in the sources and still cannot handle
all situations.
Option (c) is the most elegant solution. But in the TWINDOW class too it
will need pGT to be 
passed to console functions like SetMode( nRows, nCols, oWin:pGT ) or
SetMode(  oWin:pGT, nRows, 
nCols ), whatever flavour we will decide to opt, pGT as first or last
parameter.

Core GT code is all set to receive pGT as a parameter. We only need to
resolve PRG level implementation. To retain existing sources as is, it is
necessary that pGT parameter to these commands/functions must be the last
one. Once this is achieved we will not have to bother about ST or MT modes. 

If pGT is passed as a param to the function, everything is ok. This way we
can tie TBrowse, Memoedit to a pGT or to be more sophisticated TWINDOW as
proposed by Przemek and which I second, a modal adopted in Xbase++. All we
need to have an addition instance variable to hold pGT. For example, Tbrowse
will have oWindow or pGT as a member.

The complexity arises when pGT will be missing ( i.e. existing source unless
we opt to change code ). To solve this problem we can employ mechanism like
GetList array, say <hhpGT>. If defined as local the functions following this
declaration will post it alongwith the function/command.

Function Main()
   
   SetColor( 'W/R' )
   SetPos( 10,10 )

   ? 'This is Harbour GT Demo'

   MyOtherGT()

   Do while lastkey() <> 27 
   Enddo

   Return nil

Function MyOtherGT()
   Local oBrw
   Local hbpGT := Hb_WOpen( 20, 20, .... )

   SetColor( 'W+/B' )
   CLS
   @ 1,5 SAY 'HARBOUR New Window' COLOR 'N/W'

   Setkey( K_F11, {|| Hb_WClose( hbpGT ) } )  

   oBrw := TBrowseNew( 1,2,19,18, hbpGT )
   oBrw:Execute()

   Return nil

In MT mode we will not have issues with Do While or Inkey() wait states. But
in ST we may need special handelling where inkey() loop is ever executed in
Main(). Likewise Do While's are only execued which stay for short time and
releases control to main loop ( for later discussion ).

How the Local hbpGT will retain variable scope until window is closed can
still be an issue which I think is not so big. This can be implemented on
prg level with a global static stack. 

Also note that in MyOtherGT(), Hb_WClose() is not called. Window will be
closed either user closes it by clicking Close button or presses K_F11.

In all the functions targetting GT <hbpGT> will be passed along even if is
NIL at the time of function execution. This can be achieved with pp or
otherwise, masters know better. 

Now in the core code, how <hbpGT> is resolved if NIL, is another point of
issue. In ST mode it will always be initial window or we call it ZERO=0
window as it holds 0 index in pGTs placeholder. OR we can detect it by
window having display focus which can be implemented like SetDisplayFocus(
pGT ) as is done in Xbase++.

(to be continued...) ( please post your ideas )


Regards
Pritpal Bedi

-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---More-Ideas-tp14331718p14331718.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Fri Dec 14 12:48:26 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Dec 14 12:48:32 2007
Subject: [Harbour] 2007-12-14 13:48 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712141248.lBECmQPu009466@31-mo5-4.acn.waw.pl>

2007-12-14 13:48 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    * force linking GT drivers in hb* scripts also when shared library
      is used

best regards
Przemek
From mbelgrano at deltain.it  Fri Dec 14 15:39:12 2007
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Dec 14 15:39:20 2007
Subject: [Harbour] multi windows /multi thread 
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E6EA@SRV02.deltain.net>

Will the upcoming multi windows /multi thread system Have a syntax
compatible or ispired with visual fox pro syntax?

http://msdn2.microsoft.com/en-us/library/9b2ddtty(VS.80).aspx


From bedipritpal at hotmail.com  Fri Dec 14 16:24:18 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 14 16:24:21 2007
Subject: [Harbour] 2007-12-14 08:55 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <14338836.post@talk.nabble.com>


2007-12-14 08:55 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
  * harbour/contrib/hbgtwvg/wvtutils.c
    ! Fixed memory leak in HB_FUNC( WVT_GETTITLE )

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/2007-12-14-08%3A55-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp14338836p14338836.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lohen at versateladsl.be  Fri Dec 14 16:37:31 2007
From: lohen at versateladsl.be (frank van nuffel)
Date: Fri Dec 14 16:37:00 2007
Subject: [Harbour] CaseStudy: an alternative to Hungarian notation for a
	High-Level language such as [x]Harbour
Message-ID: <000601c83e6f$a473bec0$4001a8c0@REE>

CaseStudy: an alternative to Hungarian notation for a High-Level language
such as [x]Harbour

Hi everyone,

I've been invited to this forum to share thoughts about a possible
implementation addition to OO regarding native types in Harbour; although
native types are already available to an OO approach, here's what a personal
project targeting Ca-Clipper combined with Class(y)'s OO native type support
resulted in.  While it may contribute to [x]Harbour, i tend to reserve the
initiative in spe on basis of some sort of compliance with you developers to
see some premises used throughout (o)ceans' thinktank, as it is codenamed,
fit for wider acceptance; there are many aspects to it, hence i'll try
presenting modular casestudies hoping you enjoy to read

This abstract is about an alternative (data) type notation methodology, as
part of the names of identifiers, along the lines of what Hungarian notation
came up with initially, but specifically related to how this was introduced
for use with Ca-Clipper.

For reference, here's what wiki says about Hungarian notation:
http://en.wikipedia.org/wiki/Hungarian_notation

Hungarian notation or similar has pros and cons, unavoidably leading to
lenghty discussions among people;  this review is partial, in favour for,
and doesn't want to initiate that debate, but instead show a possible
roadmap in formalistic technical terms as to help code become even more self
documenting, bearing the reader of the code in mind, before the writer;  it
is about potential, leaving the ultimate choice for application to the
individual code designer.   I reckon projects like Harbour and xHarbour not
to set the pace for the community regarding this, but an occasion such as to
design a complete OO interface for native types, in parrallel with the
traditional procedural approach, where legacy dictates what names for
variables and functions to use, now taking advantage of things such as
polymorphism and overloading, raises the question what convention to use
naming the upcoming properties and messages.  In (o)ceans' this question has
been answered in favour of experimentation.  The alternative, say (o)ceans'
notation, has matured over the years, but hasn't been published or announced
until yet; so here you are the first to get it :-)

In order to come forth with a uniform code writing style, the issue whether
systematically adopting or leaving some sort of type expressing identifier
notation, adds content to a possible wide acceptance of a language;
Ca-Clipper's legacy proved xBase programmers familiar with this; my personal
preferences regarding this are just one humble scenario, but from an
esthetic formal point of view, here's what has been concluded in (o)ceans'
[for ca-clipper], i've enjoyed blueprinting over the past years.

The ca-clipper programming environment, although not systematically, uses
some form of type expression for identifier names which seemed having been
widely adopted throughout third-parties and probably end-programmers; trying
to be backward compatible as much as possible with ca-clipper, especially
with the language in its entirety, has been an ongoing exercise in this
project of yours, developers of Harbour, and successful at that, making it a
reality to open up new perspectives, opportunities and applicabilities.

What follows is an attempt, at a purely formalistic level, part of bigger
picture, to expand on some aspects of the language.  Further implications
might become the subject of succeeding case studies, which will be presented
on this forum - if and when invited.

Day 1

Many moons ago C++ documentation of the Borland product line initiated
thoughts about an alternative way to make use of mnemonics expressing the
data type of an identifier, along the lines of existing Hungarian notation.

According to it, given a class named someClass, an instance thereof named
instanceOfSomeClass and a message someMessage, writing

instanceOfSomeClass . someClass:: someMessage()

appeared to me being not only more informative to the human reader, but also
compiling into a little smaller footprint.

As long as someMessage() isn't a virtual method (message), or even when it
is, but when it needs to be called in a non-virtual manner, the explicit use
of a scope operation - someClass:: - while neutral to the compiler (or
almost), does have some self documenting value to the reader, in that it
locates the class where someMessage is defined.  Picture code written this
way, where a method might be send to an instance of a subclass in a broader
hierarchy of classes, from within an editor with no (configured)
hyperlink-on-the-fly capabilities, or from a printed page.

While it is cumbersome to have to write the full class name in the scope
operation during editing, why not recur to the use of mnemonics, in this
case in the scope operation?

note: while doing so, there's yet one step further to go with this,
differentiating between type mnemonics inserted in the scope operation,
showing an upfront uppercase instead of lowercase, especially in the context
of OO for native types, when a traditional procedural translation is to be
obtained; such can be supported by means of the preprocessor; the resulting
writing style is more uniform

someVar := someVar . c:: upper() // executed in OO manner
someVar := someVar . C:: upper() // backtranslated procedurally to someVar
:=
UPPER( someVar )

Day 2

Ca-Clipper introduced an attractive form of Hungarian notation, simple and
straightforward, but left open, imo, essential paths to be addressed by
future evolution; the o for object, with only four object types at the time,
is one such occassion.  With good ergonomy in design for mnemonics, why not
use acronyms consisting, for example, of 2 letters refering to the actual
class type of the object?

someVar . tb:: stabilize() // TBrowse class

Day 3

Most modern IDE's and lots of editors come with some sort of intellisense;
it is more practicable to have identifiers start with their actual naming
part, for lookup sort order, than with type notation components; hence,
instead of a prefix why not use a postfix?

Day 4

Link and (visibility) scope information can be put to use differentiating
between identifiers, pushing polymorhism to a higher degree, by simply
inserting that info in the type notation.  Static and Local variables which
share the actual namepart, may be recognised by means of a digit describing
scope.  Digits are visually far more striking than an additional letter;
combined scope and type inferencing in identifier notation allows, for
instance

static  someVar_c2  // c=char and 2 = static module-wide
static  someVar_l2   // l=logical

...

function SomeFunction ( ... )
static   someVar_c1  // 1 = static function-wide
local    someVar_c7  // 7 = dynamic (in contrast to static; stack vars are
dynamic)==local

Polymorphism!

1/2/3 are static     , 1=private/2=protected/3=public (*)
4/5/6 are reserved for a special sort of typedef
7/8/9 are dynamic, 7=private/8=protected/9=public (*)

(*) private in C++ terminology; ie hidden
     static not to be confused with 'static' keyword, but generally in the
meaning of memory which is compile-time reserved, in the heap for instance
     dynamic in contrast to static, ie. memory allocated at run-time

in next overview, read 'name' as a Ca-Clipper keyword

part 1: scopes for variables (outside the context of a class)

1 static/private    ='static' variable (function/procedure wide)
2 static/protected='static' variable (module wide)
3 static/public      =n/a in Ca-Clipper // 'extern' variable in C(++)

7 dynamic/private    ='local' variable
8 dynamic/protected='private' variable in Ca-Clipper ('private' keyword)
9 dynamic/public      ='public' variable in Ca-Clipper

part 2: scopes for properties (within the context of a class)

1 static/private    =class property; 'hidden'
2 static/protected=class property, 'protected'
3 static/public      =class property, 'public'

7 dynamic/private    =instance property; 'hidden'
8 dynamic/protected=instance property; 'protected'
9 dynamic/public      =instance property; 'public'

general type/scope notation layout for variables/properties:

variableOrPropertyName_$#

          $ = type mnemonic
          # = scope info

Day 5

Why not using type/scope notation for functions/messages also?  C++ requires
a virtual message to not differ in returning type when overloaded; this is
the only requirement relevant for a higher-level language such as
[x]Harbour, which has to be taken into consideration, compared to a low
and/or strongly-typed language, such as from the C family, since argument
type mangling isn't applied in the former.

Preserving the return (data) type while overloading virtual messages doesn't
conflict with practising type notation for these; and for non-virtual
messages, type notation is even free from such consideration; hence, why not
applying type notation to functions/messages?

part 3: scopes for functions (outside the context of a class)

1 static/private    =init/exit procedure (since kind of private)
2 static/protected='static' function/procedure (module wide)
3 static/public      =function/procedure (normal function/procedure)

7 dynamic/private    =n/a in Ca-Clipper
8 dynamic/protected=n/a in Ca-Clipper
9 dynamic/public      =n/a in Ca-Clipper

.oO could xHarbour (and Harbour?) make use of the latter group for its
DYNAMIC keyword?

part 2: scopes for properties (within the context of a class)

1 static/private    =class message; 'hidden'
2 static/protected=class message, 'protected'
3 static/public      =class message, 'public'

7 dynamic/private    =instance message; 'hidden'
8 dynamic/protected=instance message; 'protected'
9 dynamic/public      =instance message; 'public'

general type/scope notation layout for functions/messages:

functionOrMessageName#$

        # = scope info
        $ = type mnemonic

Differentiating the general type/scope notation layout between
variables/properties and functions/messages allows for an advanced notation
layout, although not applicable in Ca-Clipper;

functionOrMessagePointerName#$#p

ie, for pointers to functions/messages, where the first digit references the
scope of the function/message where the pointer points to, the type mnemonic
references the return type of the function/message and the last digit
expresses the scope of the pointer itself; the trailing p indicates it
is a single-indirection pointer

Like p in the previous example, there are a few other 'aggregation' type
qualifiers; in contrast to type mnemonics, these indicate that the
identifier is in some sense 'compound' or 'indirect'

a -> array of <type>
b -> codebock returning <type>
h -> handle to <type> // a special kind of integer
p -> pointer to <type>

the type qualifier is merely appended to the notation, but may be repeated;
in case of an array of pointers, it looks like

functionOrMessagePointerName#$#pa

standard, the type qualifier is t (for type) but mostly omitted; single
letters as type mnemonics for real object/class types cannot be used, since
these are reserved for native types, but real objects/classes can use 2
letter acronyms as mnemonic

when the type qualifier is not merely t, the general lay-out is:

variableOrPropertyName_$#$
functionOrMessageName#$_$

where the last $ is for that qualifier (or qualifiers, as above, 'pa")

virtual messages are prepended with a leading underscore making them
contrast with non-virtual messages; although in Class(y) all messages are
virtual by nature, most of the time, and especially instance variables, are
addressed non-virtually intented; explicitly applying casts (scope
resolution messages) in send operations is perhaps an extreme technique (as
Anton Van Straaten put it) but it is worthwhile considering for it
systematically eliminates possible conflicts, especially true in third-party
libraries which are designed to be inherited from.

A leading underscore might induce conflicts with ASSIGN properties, but the
general type/scope notation lay-out for properties differs from that of
messages in a way that there can be no confusion.

Day 6

In a language such as Ca-Clipper, where identifiers count up to only 10
significant letters, this notation could lead to name conflicts, when the
actual name part pushes the type/scope notation part past that limit, hence
(o)ceans' provides a transfixing tool converting postfix to prefix notation,
before compiling; it is a drawback during debugging, but [x]Harbour doesn't
need transfixing; here, postfix notation has even some more interesting
aspects:

In a procedural language which uses combined infix function call
construction, such as

STR( INT( VAL( LTRIM( someVar_c7 ))))

the reader must read from inside out, while in OO appoach, the send chain
reads naturally:

someVar_c7 : lTrim() : val() : int() : str()

applying insight from day 1 this can be rewritten as (and compiled with the
aid of some preprocessing) :

someVar_c7 . c:: lTrim() . c:: val() . c:: int() . n:: str()

applying type/scope notation for functions,

someVar_c7 . c:: lTrim9c() . c:: val9n() . c:: int9n() . n:: str9c()

note how visually striking the error (on purpose) stands out:

someVar_c7 ....................... c:: val9n() . c:: int9n() ...............

val9n() returns a numeric, not a character, so the next message cannot
belong to the c:: class; it should read:

someVar_c7 ....................... c:: val9n() . n:: int9n() ...............

The postfix in every identifier narrows the chance a wrong scope operation
will be inserted during the succeeding send; also, for a reader of the code,
it makes lookups where to find the definition of a symbol alot easier, but
admitted, this is not a successful example, since it is still very basic.

A language that is case insensitive such as Ca-Clipper, allows for even
further details in this style of notation without penalty when using the
wrong case

the type qualifier appears standard in lowercase, but if shown in uppercase
it expresses the idea of 'constant' or read-only.  Especially within the
context of classes, properties or messages may gain self documenting value
when case is properly applied; ie

CLASS someClass
EXPORT:
         VAR someVar_c9T
RO
...
END CLASS

A simple lookup in the sources (no need for additional documentation
describing the var as read-only) as well as reading appearances of this
identifier thruout samples, stamps the image in memory as to being
read-only; here the type qualifier is standard preferably not omitted,
precisely to express 'constant'

sidenote: the transfixing process in (o)ceans' for Ca-Clipper rewrites
someVar_c9 as t9c_someVar, with an upfront t which in postfix notation by
convention, is omitted; someVar_c9T is transfixed to T9c_someVar, just a
difference in case, so when compiled appearances in code of someVar_c9 or
someVar_c9T result in the same; this will not be the case taking advantage
of more than ten significant characters as in [x]Harbour, making the
requirement for transfixing unnecessary.

Another case related feature of (o)ceans' notation, is the fact that the
type mnemonic, although standard always with a leading lowercase letter for
its acronym, appears in uppercase when 'by reference' - ie. when explicitly
passed using the @ operator; formal arguments to functions/messages may put
this at use, so that on sight the identifier is known as potentially
dangerous to modification (unless intended to)

function someFunction ( formalArg_C7 ) // note: formal arguments are like
locals regarding the scope digit to be used

This has nothing to do with the 'by reference' nature of arrays and objects
in se, for which the type mnemonic shows up with a leading lowercase, except
as mentioned, when it is passed by reference (@) but this happens rarely.

The combination of uppercase type mnemonic and uppercase type qualifier is
also possible

function someFunction ( formalArg_C7T )

here the reason doing so might be that someFunction intends operating on
very large strings, which are to be passed 'by reference', whereas the
variable itself isn't meant to be modified, to be kept 'constant';
Ca-Clipper Tools contains a few examples of this.

Day 7

Cautious conclusion:

The wiki reference at the top lists objections made by notorious people to
(any) sort of type notation at source level; while aware of the
complications when a message changes type in implementation from a previous
version to the next, there are many ways to avoid clutter; one of them is,
in mind that native types when fully OO supported, are also just one kind of
object, a neutral way to address the type notation is to simply declare it
as o - type object; traditionally Ca-Clipper uses u or x, but (o)ceans' just
uses one: simply o - a function/message can intentionally be declared as
returning 'object' without further specification:

a7 . a:: add9o( someObject_o7 ) // AADD() function

Many other objections are truely valid considerations to suppress Hungarian
notation or alternatives, but i tend to believe in the attractive power of
it for newcomers, and present times, with intellisensed and autocompletion
development environments all around, doesn't make live harder for the
encoder, else having to complete identifiers by entering type/scope notation
manually.  Moreover, once the identifier sits, the postfix really invites to
selecting the proper scope operation, part of the (o)ceans' send syntax.  I
might advocate other advantages, but in the end, people just like it or not.
Only, it can't be expected to appear illustrate from this abstract, hence
please shout if some example of practicable code needs be delivered

There are more days to the topic of this casestudy; preferably on a basis of
private request and discussion, the topic may be elaborated, but this review
covers most of the basics.

Thanks for reading, and many thanks to Przemek for inviting this abstract

best regards,

frank van nuffel
lohen@versateladsl.be

From lohen at versateladsl.be  Fri Dec 14 16:39:31 2007
From: lohen at versateladsl.be (frank van nuffel)
Date: Fri Dec 14 16:38:51 2007
Subject: [Harbour] TO Przemek: trying to contact @priv...pl
References: <000f01c83902$f6a73450$4001a8c0@REE><20071211122056.GA12455@localhost.localdomain><002401c83ce2$68e4a6f0$4001a8c0@REE>
	<AFB948164110ED43B5EB849E8DEEF03815E6E1@SRV02.deltain.net>
Message-ID: <001501c83e6f$e834b740$4001a8c0@REE>

Please, follow this link

http://lists.harbour-project.org/pipermail/harbour/2007-December/005510.html

best regards,
frank

----- Original Message ----- 
From: "Massimo Belgrano" <mbelgrano@deltain.it>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Thursday, December 13, 2007 10:18 PM
Subject: RE: [Harbour] TO Przemek: trying to contact @priv...pl


When/Where you start this thread?

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of frank van
nuffel
Sent: Wednesday, December 12, 2007 6:04 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] TO Przemek: trying to contact @priv...pl

Hello again Przemek,

i'll start a new thread to check with the other
developers whether some premises to OO
for native data types inherent to the approach
used in my (o)ceans' thinktank project are
feasible, and desirable.

Without consent for these, i'm afraid (o)ceans'
can't contribute much to Harbour directly.

i'm stand-by for now, devel access is not needed
at this point; perhaps later.

take care,

frank

From: "Przemyslaw Czerpak" Sent: Tuesday, December 11, 2007 1:20 PM
Subject: Re: [Harbour] TO Przemek: trying to contact @priv...pl


> Hi Frank.
>
> I've received your message few days ago but I haven't inet
> access in last days so I cannot answer.
> I think that we should continue discussion about the OOP
> engine on this list because also other developers should
> know it. I think that you should have devel access to
> Harbour SVN repository so you can work on your ideas
> directly in Harbour. IMO the first implementation should
> be in contrib and then moved to core code.
> But first other developers should read about the things
> we were talking about. So I think we should forward here
> our messages - of course if you agree.
>
> best regards,
> Przemek

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour


-- 
No virus found in this incoming message.
Checked by AVG Free Edition.
Version: 7.5.503 / Virus Database: 269.17.1/1183 - Release Date: 13/12/2007
9:15


From bedipritpal at hotmail.com  Fri Dec 14 20:44:33 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 14 20:44:43 2007
Subject: [Harbour] multi windows /multi thread
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E6EA@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815E6EA@SRV02.deltain.net>
Message-ID: <14339787.post@talk.nabble.com>


Perhaps NO initially, may be later on.


Massimo Belgrano wrote:
> 
> Will the upcoming multi windows /multi thread system Have a syntax
> compatible or ispired with visual fox pro syntax?
> 
> http://msdn2.microsoft.com/en-us/library/9b2ddtty(VS.80).aspx
> 

Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/multi-windows--multi-thread-tp14338167p14339787.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Dec 14 20:52:04 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 14 20:52:09 2007
Subject: [Harbour] CaseStudy: an alternative to Hungarian notation for a
	High-Level language such as [x]Harbour
In-Reply-To: <000601c83e6f$a473bec0$4001a8c0@REE>
References: <000601c83e6f$a473bec0$4001a8c0@REE>
Message-ID: <14339791.post@talk.nabble.com>


Frank


frank van nuffel wrote:
> 
> CaseStudy: an alternative to Hungarian notation for a High-Level language
> such as [x]Harbour
> 
> hence please shout if some example of practicable code needs be delivered
> 

A good thought and eleborate explanation.

However, this comes to me as is:

1) What benefits ( except from self documentation ) we can derive out of it?
2) Will this coexist with existing OO modal?
3) How long it will take to implement this construct?

Please post a realtime function example, will be more appropriate it
Tbrowse() is taken as a modal, to understand the underlying concepts better.

Regards
Pritpal Bedi, INDIA-USA

P.S. BTW I hear you after long time, probably since 2002.

-- 
View this message in context: http://www.nabble.com/CaseStudy%3A-an-alternative-to-Hungarian-notation-for-a-High-Level-language-such-as--x-Harbour-tp14339266p14339791.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Dec 14 23:34:40 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 14 23:34:44 2007
Subject: [Harbour] Variables Types as Classes
In-Reply-To: <20071214072020.GA5881@localhost.localdomain>
References: <14327998.post@talk.nabble.com>
	<20071214072020.GA5881@localhost.localdomain>
Message-ID: <14339853.post@talk.nabble.com>


Przemek


#include 'xhb.ch'
#include 'hbclass.ch'

ENABLE TYPE CLASS ALL

Function Main()
   Local x

   x := {'121',12,.t.}

   ? x:isScalar       //   .T.
   ? x:asString      //   Error!
   ? x:Add( 200 )   //   Alert with error message:  Error BASE/1004 Message
not found :ADD
   ? x:asString

   inkey(0)
  
   Return nil

What I am missing ?

Regards
Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/Variables-Types-as-Classes-tp14327998p14339853.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sat Dec 15 02:02:50 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Dec 15 02:02:54 2007
Subject: [Harbour] Multi-Window GT - More Ideas
In-Reply-To: <14331718.post@talk.nabble.com>
References: <14331718.post@talk.nabble.com>
Message-ID: <14339894.post@talk.nabble.com>




Pritpal Bedi wrote:
> 
> (to be continued...) ( please post your ideas )
> 

PART II
-------

Let us understand how GT commands behave. For example :
   @ nRow,nCol SAY 'My Display Text!' COLOR 'W+/B' PICTURE '@! '

Std.ch defines it as:
   #command @ <row>, <col> SAY <exp> [PICTURE <pic>] [COLOR <clr>] => ;
               DevPos( <row>, <col> ) ; DevOutPict( <exp>, <pic> [, <clr>] )

and preprocesses this command to:
   DevPos( nRow, nCol )
   DevOutPic( 'My Display Text!', '@! ', 'W+/B' ) => DevOut( Transform(
xValue, cPicture ), cColor )

   DevPos() => hb_conDevPos( hb_parni( 1 ), hb_parni( 2 ) );
   In hb_conDevPos( iRow, iCol ) it is checked if the command is being
routed to a printer or GT. 
   If GT then GT core function hb_gtSetPos( iRow, iCol ) is called.

So in readable form:
   DevPos( nRow, nCol ) [PRG]
       hb_conDevPos( iRow, iCol )  [C]
           hb_gtSetPos( iRow, iCol ) [C] // Core GT function 
   DevOut( cStr, cColor ) [PRG]
      hb_gtGetColorStr( szOldColor ) [C] // Retrieves previous color string
      hb_gtSetColorStr( hb_parc( 2 ) ) [C] // Sets new color string
      hb_conOut( 1, hb_conOutDev ) [C]  // Formats cStr, Checks for
Device(Printer,AltFile,GT)
         hb_gtWrite(  cStr, ulLen ) [C]   // Core GT Function
            Overloads GT driver in context and routes the parameters.
            Target GT driver receives these params through HB_GT_FUNCS
structure, little complex 
            for me to explain, and is beyond the context of this artical.
      hb_gtSetColorStr( szOldColor, iWindow ) // Restores previous color
string

All GT functions overloads the target GT and pass params received from prg
code like:
   HB_GTSELF_functionidentifier( ListOfArgumentsSentByPrgCode );

With the latest changes in core all GT functions use a construct like:
   PHB_GT pGT = hb_gt_Base();
   if( pGT )
   {
      HB_GTSELF_functionidentifier( pGT, ListOfArgumentsSentByPrgCode );
   }

For a moment let us keep aside the latest change in core GT. Later we will
discuss what it is all about.

What I did:

(to be continued...)

       

   

-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---More-Ideas-tp14331718p14339894.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From philb at philb.us  Sat Dec 15 05:30:46 2007
From: philb at philb.us (Phil Barnett)
Date: Sat Dec 15 05:30:50 2007
Subject: [Harbour] Next Beta
In-Reply-To: <20071214074928.GB5881@localhost.localdomain>
References: <200712120029.56926.philb@philb.us>
	<200712130148.05120.philb@philb.us>
	<20071214074928.GB5881@localhost.localdomain>
Message-ID: <200712150030.46309.philb@philb.us>

On Friday 14 December 2007 02:49:28 am Przemyslaw Czerpak wrote:
> My advice: let's mark current DEVEL code as BETA4 and then RC1, RC2, ...
> in two weeks periods and release 1.0.

Ok, I'm good with that. We need to fix the TBrowse before we get to RC1.

No other changes. Code Freeze, all branches of code starting now.
From bedipritpal at hotmail.com  Sat Dec 15 07:35:03 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Dec 15 07:35:08 2007
Subject: [Harbour] Next Beta
In-Reply-To: <200712150030.46309.philb@philb.us>
References: <200712120029.56926.philb@philb.us>
	<20071212094854.GA5335@localhost.localdomain>
	<200712130148.05120.philb@philb.us>
	<20071214074928.GB5881@localhost.localdomain>
	<200712150030.46309.philb@philb.us>
Message-ID: <14348700.post@talk.nabble.com>


Phil


Phil Barnett wrote:
> 
> Ok, I'm good with that. We need to fix the TBrowse before we get to RC1.
> 

Can you point out which need be fixed in Tbrowse. I had fixed a lot of
xHarbour Tbrowse years back. May be I can help.

Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context: http://www.nabble.com/Next-Beta-tp14289306p14348700.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From philb at philb.us  Sat Dec 15 08:05:38 2007
From: philb at philb.us (Phil Barnett)
Date: Sat Dec 15 08:05:43 2007
Subject: [Harbour] Next Beta
In-Reply-To: <14348700.post@talk.nabble.com>
References: <200712120029.56926.philb@philb.us>
	<200712150030.46309.philb@philb.us> <14348700.post@talk.nabble.com>
Message-ID: <200712150305.38589.philb@philb.us>

On Saturday 15 December 2007 02:35:03 am Pritpal Bedi wrote:

> Can you point out which need be fixed in Tbrowse. I had fixed a lot of
> xHarbour Tbrowse years back. May be I can help.

I don't have the specifics. Can someone here provide the bug list for tbrowse?
From lohen at versateladsl.be  Sat Dec 15 10:45:50 2007
From: lohen at versateladsl.be (frank van nuffel)
Date: Sat Dec 15 10:46:10 2007
Subject: [Harbour] CaseStudy: an alternative to Hungarian notation for
	aHigh-Level language such as [x]Harbour
References: <000601c83e6f$a473bec0$4001a8c0@REE>
	<14339791.post@talk.nabble.com>
Message-ID: <002501c83f07$cddb6e50$4001a8c0@REE>

Hello Pritpal,

1) personally i prefered an OO approach to everything in Ca-Clipper, making
abstraction of possible procedural backtranslations under the hood (before
compilation); on source level (o)ceans' delivers a uniform syntax, using
polymorphism to the maximum so as to never have to lookup strange compact
names for functions (such as in Ca-Clipper Tools library) - by saying
everything, i mean that also functions which can't be associated with native
types are taking profit of polymorphism in (o)ceans' by means of a
construction which closely relates to namespaces; once this level is well
thought (*) source code will never reflect legacy names anymore; the main
advantage might be that the whole interface can become more human memory
friendly, but i admit people who have worked all their life with the legacy
namings will feel reluctant to switch to a new scheme, especially, as
mentioned, when the new names are but just backtranslated procedurally (to
the old names - this is the case when an upfront uppercase is used in the
type mnemonic in the scope operation as explained, and i'd like this to be
supported for a possible performance gain when executed procedurally)

(*) designing this alternative OO implementation is really a grand
opportunity to do it completely anew; doing it right might be dependant of a
democratic approach or one, while still open to suggestions (especially for
the actual namepart), that is governed by a strict set of prescriptions as
to how building it up; (o)ceans' actually doesn't imply more than this set
of guidelines, but to anticipate to your last question, my feeling is that
for it to be finalized _per_ library, given providing occasion to welcoming
suggestions - again, especially for the actual naming part - from the
community, it could last a while before settling into a final api.  In the
meantime, as for me, i've made lots of decisions already for a couple of
libraries, but this is kept private, thus free to change whenever i feel
like.

Here's the good news for those that want take off already with an OO
approach for native types; (o)ceans' provides a parrallell api _per_ native
type, where the message names are identical to the original function names;
while this is definitely not taking advantage of polymorphism, the fact that
the original function names are most certainly unique among each other (for
them to appear in the symbol table without clashing), guarantees that a tool
(though still to be implemented) can safely recognize these native type
messages to translate them to the final api when it will be ready.  Or,
concurrently, the legacy message names will be mapped onto the new api names
by means of simple MESSAGE ... IS ... code.

With devel access, in a really short timeframe, this could already to done
by means of the available OO support for native types

As to OO for native types by itself, except for the reasons mentioned
(polymorphism/uniformity in coding style), it may or may not be an
additional processing hurdle at runtime, depending on whether it can be
fully optimized, also at the C level; when an original function is
implemented at prg level, the code can move right into the native type
class, switching to what (o)ceans' calls a 'message/function' - this is a
function bearing its original legacy names, so that procedural calling can
still occur, but at the same time it acts as a message; not only because it
is listed in the type's class definition (in Class(y) that would be by means
of a MESSAGE newAPImessageName METHOD oldAPIfunctionName; i'm not sure how
it's done in Harbour) but also at the entrypoint of the 'message/function' -
if QSelf() is empty then it has been called procedurally, else it has been
called in OO style; this has consequences to the argument list to be
processed, but once that is fixed at entrypoint, the original code to the
function may start executing; the only penalty to this implementation is
this entrypoint fixup, other than, when called in an OO manner, a message
lookup in the class object must be perfomed, but i guess this comes closely
to the same as a function lookup in the symbol table.  When an original
function is implemented in C, the same entrypoint fixup can be provided
(i've done tests and it works well at the C level also) as to enable C
functions to become 'message/function's also.

2) yes, i've been assured it can coexist

3) in short: have someone (i can do it, but will need devel access) provide
exactly to legacy function corresponding message names for all the native
types, and you're set - when the final api (on a _per_ library basis) is
ready, a tool can help your code to be transformed reflecting the new names, 
or even execute without this translation thru the MESSAGE oldName IS newName

stay tuned as for an example in this forum, or check your private email
(whichever i'll opt for first)

best regards,

frank van nuffel
lohen@versateladsl.be

From: "Pritpal Bedi" Sent: Friday, December 14, 2007 9:52 PM
Subject: Re: [Harbour] CaseStudy: an alternative to Hungarian notation for
aHigh-Level language such as [x]Harbour


> A good thought and eleborate explanation.
>
> However, this comes to me as is:
>
> 1) What benefits ( except from self documentation ) we can derive out of
> it?
> 2) Will this coexist with existing OO modal?
> 3) How long it will take to implement this construct?
>
> Please post a realtime function example, will be more appropriate it
> Tbrowse() is taken as a modal, to understand the underlying concepts
> better.
>
> Regards
> Pritpal Bedi, INDIA-USA
>
> P.S. BTW I hear you after long time, probably since 2002.
>
> -- 
> View this message in context:
> http://www.nabble.com/CaseStudy%3A-an-alternative-to-Hungarian-notation-for-a-High-Level-language-such-as--x-Harbour-tp14339266p14339791.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> -- 
> No virus found in this incoming message.
> Checked by AVG Free Edition.
> Version: 7.5.503 / Virus Database: 269.17.2/1184 - Release Date:
> 14/12/2007 11:29
>
>

From harbour.01 at syenar.hu  Sat Dec 15 11:24:54 2007
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Dec 15 11:25:03 2007
Subject: [Harbour] Next Beta
In-Reply-To: <200712150305.38589.philb@philb.us>
References: <200712120029.56926.philb@philb.us>
	<200712150030.46309.philb@philb.us> <14348700.post@talk.nabble.com>
	<200712150305.38589.philb@philb.us>
Message-ID: <3925C51C-C235-4811-AAAC-46D1BBB522B1@syenar.hu>

Hi all,

I'll commit my current stage of TBrowse(), it has a lot
of changes and improvements, but needs some bug fixing
still which might be easier together. After fixing these,
the remaining problem part will be caching and to some
extend compatible vertical navigation.

Brgds,
Viktor


On 2007.12.15., at 9:05, Phil Barnett wrote:

> On Saturday 15 December 2007 02:35:03 am Pritpal Bedi wrote:
>
>> Can you point out which need be fixed in Tbrowse. I had fixed a lot  
>> of
>> xHarbour Tbrowse years back. May be I can help.
>
> I don't have the specifics. Can someone here provide the bug list  
> for tbrowse?
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From guy.roussin at teledetection.fr  Sat Dec 15 12:51:18 2007
From: guy.roussin at teledetection.fr (=?UTF-8?B?R3V5IFJvdXNzaW4=?=)
Date: Sat Dec 15 11:51:22 2007
Subject: [Harbour] Little patch to contrib/hbpgsql/Makefile
Message-ID: <20071215115118.206ED3684C@mafalda.teledetection.fr>

Hi, 

I want to build hbpgsql lib on my debian etch.
I only need to install libpq-dev package and make 
a little patch to harbour/contrib/hbpgsql/Makefile
Can you apply it ?

Thank you.

--
Guy Roussin


http://www.teledetection.fr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pgsql_Makefile.diff
Type: text/x-diff
Size: 445 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20071215/c958334d/pgsql_Makefile-0001.bin
From dbtopas at dbtopas.lt  Sat Dec 15 16:39:04 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sat Dec 15 16:39:00 2007
Subject: [Harbour] ChangeLog 2007-12-15 18:35 UTC+0200 Mindaugas Kavaliauskas
Message-ID: <47640328.8010802@dbtopas.lt>

2007-12-15 18:35 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
   * harbour/contrib/hbrddads/adsfunc.c
     + ADSGetServerName()
   * harbour/contrib/hbrddads/make_b32.bat
   * harbour/contrib/hbrddads/make_vc.bat
     ! Fixed variable names in help screen
     * Added setting to ADS_REQUIRE_VERSION by value of ADS_VER

-------------

Hi,


I'm not .mak guru, so please review this change. I guess I've understood 
the idea of ADS_VER and finished not full impleemtation.


Best regards,
Mindaugas

From dmacias at mail.udg.mx  Sat Dec 15 20:12:02 2007
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sat Dec 15 20:12:10 2007
Subject: [Harbour] Harbour under OS/2 - eCS
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <47643512.7020201@mail.udg.mx>

First try of current Harbour devel branch build under OS/2:
- eCS 1.2MR
- gcc (GCC) 3.3.5 (Bird Build 2006-03-18 05:37)
- set C_USR=-DHB_LONG_LONG_OFF

---------------------------------------------------------
[E:\harbour712]make -r           1>make_gnu.log
../../hbfsapi.c: In function `hb_fsFileExists':
../../hbfsapi.c:327: warning: unused variable `TODO'
../../hbfsapi.c: In function `hb_fsDirExists':
../../hbfsapi.c:379: warning: unused variable `TODO'
make[2]: *** [first] Error 31880
../../dbf1.c: In function `hb_dbfTableCrypt':
../../dbf1.c:638: warning: int format, BOOL arg (arg 2)
../../../../source/rtl/os2/gcc/rtl.a(gtsys.o): Undefined symbol 
_HB_FUN_HB_GT_OS
2 referenced from text segment
make[3]: *** [pretest.exe] Error 1
make[2]: *** [descend] Error 2
../../../../source/rtl/os2/gcc/rtl.a(gtsys.o): Undefined symbol 
_HB_FUN_HB_GT_OS
2 referenced from text segment
make[3]: *** [hbrun.exe] Error 1
make[2]: *** [descend] Error 2
hbdot.o: Undefined symbol _HB_FUN_HB_GT_OS2_DEFAULT referenced from data 
segment

../../../../source/rtl/os2/gcc/rtl.a(gtsys.o): Undefined symbol 
_HB_FUN_HB_GT_OS
2 referenced from text segment
make[3]: *** [hbdot.exe] Error 1
make[2]: *** [descend] Error 2
../../../../source/rtl/os2/gcc/rtl.a(gtsys.o): Undefined symbol 
_HB_FUN_HB_GT_OS
2 referenced from text segment
make[3]: *** [hbdoc.exe] Error 1
make[2]: *** [descend] Error 2
../../../../source/rtl/os2/gcc/rtl.a(gtsys.o): Undefined symbol 
_HB_FUN_HB_GT_OS
2 referenced from text segment
make[3]: *** [hbtest.exe] Error 1
make[2]: *** [descend] Error 2
../../../../source/rtl/os2/gcc/rtl.a(gtsys.o): Undefined symbol 
_HB_FUN_HB_GT_OS
2 referenced from text segment
make[3]: *** [hbmake.exe] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [first] Error 2
../../files.c: In function `HB_FUN_SETFDATI':
../../files.c:228: warning: unused variable `szFile'
In file included from ../../../../include/extend.api:58,
                  from ../../../../include/extend.h:65,
                  from ../../fttext.c:177:
../../../../include/clipdefs.h:72: warning: redefinition of `PBYTE'
E:/usr/include/os2emx.h:235: warning: `PBYTE' previously declared here
../../../../include/clipdefs.h:76: warning: redefinition of `PSHORT'
E:/usr/include/os2emx.h:241: warning: `PSHORT' previously declared here
../../../../include/clipdefs.h:79: warning: redefinition of `PUSHORT'
E:/usr/include/os2emx.h:244: warning: `PUSHORT' previously declared here
../../../../include/clipdefs.h:88: warning: redefinition of `PLONG'
E:/usr/include/os2emx.h:247: warning: `PLONG' previously declared here
../../../../include/clipdefs.h:91: warning: redefinition of `PULONG'
E:/usr/include/os2emx.h:250: warning: `PULONG' previously declared here
../../../../include/clipdefs.h:98: warning: redefinition of `PBOOL'
E:/usr/include/os2emx.h:209: warning: `PBOOL' previously declared here
../../../../include/clipdefs.h:107: warning: redefinition of `PVOID'
E:/usr/include/os2emx.h:278: warning: `PVOID' previously declared here
In file included from ../../../../include/extend.api:58,
                  from ../../../../include/extend.h:65,
                  from ../../mouse.c:54:
../../../../include/clipdefs.h:72: warning: redefinition of `PBYTE'
E:/usr/include/os2emx.h:235: warning: `PBYTE' previously declared here
../../../../include/clipdefs.h:76: warning: redefinition of `PSHORT'
E:/usr/include/os2emx.h:241: warning: `PSHORT' previously declared here
../../../../include/clipdefs.h:79: warning: redefinition of `PUSHORT'
E:/usr/include/os2emx.h:244: warning: `PUSHORT' previously declared here
../../../../include/clipdefs.h:88: warning: redefinition of `PLONG'
E:/usr/include/os2emx.h:247: warning: `PLONG' previously declared here
../../../../include/clipdefs.h:91: warning: redefinition of `PULONG'
E:/usr/include/os2emx.h:250: warning: `PULONG' previously declared here
../../../../include/clipdefs.h:98: warning: redefinition of `PBOOL'
E:/usr/include/os2emx.h:209: warning: `PBOOL' previously declared here
../../../../include/clipdefs.h:107: warning: redefinition of `PVOID'
E:/usr/include/os2emx.h:278: warning: `PVOID' previously declared here
---------------------------------------------------------


David Macias


From lohen at versateladsl.be  Sun Dec 16 01:08:26 2007
From: lohen at versateladsl.be (frank van nuffel)
Date: Sun Dec 16 01:08:53 2007
Subject: [Harbour] CaseStudy: an alternative to Hungarian notation for
	aHigh-Level language such as [x]Harbour
References: <000601c83e6f$a473bec0$4001a8c0@REE>
	<14339791.post@talk.nabble.com>
Message-ID: <001401c83f80$525dec70$4001a8c0@REE>

Hello again,

Yes indeed, i remember very well how we got in touch; was it so long ago!

Although (o)ceans' got off the ground starting october 2003 you got it
correct wondering back then what exactly i was after, some sort of
concept, framework.  (o)ceans' has been preceded by another project,
mostly pure conceptual; 2002 was the time around which it finalized more
or less; the two are tangent, so matching/merging is aimed at, where i'm
heading for, but that is not directly [x]Harbour related.

To complete my previous response, here's a very basic example what is
gained with polymorphism

FUNCTION main
LOCAL c7 := "hello world"
show( c7 )
show()
RETURN nil

FUNCTION run ( o7 )
QOUT( o7:default9o( "C" ))
RETURN nil

in the character class, :default() may just return self

METHOD default9o( c7 ) CLASS character
RETURN self

and in the nil class :default9o() may be defined as

METHOD default9o ( c7 ) CLASS nil
LOCAL o7

  IF c7 == "C"
      o7 := ""
  ELSEIF c7 == "D"
     o7 := CTOD( "" )
  ELSEIF c7 == "N"
     o7 := 0
  ELSEIF ....
     ....
  ENDIF

RETURN o7

It is an OO approach to having arguments default according to the type they
belong to

Another example is an :eval9O() message, when implemented for both char and
array types (in my review i forgot to mention that uppercase O as type
mnemonic means 'self' )

METHOD eval9O ( b7, ... ) CLASS array
AEVAL( self, b7, ... )
RETURN self

METHOD eval9O( b7, ... ) CLASS character
LOCAL i7 // integer
FOR i7 := 1 TO LEN( self )
   b7:eval9O( ::substr( i7, 1 ), ... ) // preliminary message ::substr()
NEXT
RETURN self

METHOD eval9O( ... ) CLASS block // or codeblock in Harbour?
EVAL( self, ... )
RETURN self

given an array of elements, :eval9O( b7 ) can be fired to each of them with
the very same b7 codeblock

{ "char", { 0, 1, 2 } } : eval9O( { | o7 | ;
                              o7:eval9O( { | o7 | QOUT( o7 ) } ) } )

result:

c
h
a
r
               0
               1
               2

Regarding TBrowse, that isn't a function that qualifies as native type
message; generally, if the first argument to a function is of native type,
that function is a good candidate to become a message for the native type
class which that 1st argument belongs to; i saw your message asking for why
:ADD(...) didn't trigger; the answer is that although Harbour has the
structural support for native type OOP, there hasn't been any implementation
for messages yet (except for some, such as :asString())  I would strongly
recommend you to read thru the Class(y) documentation and samples regarding
native type OO support.  Anton Van Straaten did an excellent job, not only
providing support for this, but also showing lucide examples iirc.

I'm thinking about a fully functional demonstration implemented in
Ca-Clipper combined with Class(y), in debugger mode, where one can see some
of the recursions, message calling etc for native type OO support in
(o)ceans' - but (o)ceans' is also kind of a complete different language,
firmly inspired by C++ - while a transpiler converts that language in pure
Ca-Clipper+Class(y), the debugger shows the (o)ceans' sourcecode, which i'd
prefer not to clutter the discussion with, since the (o)ceans' language is
not
the purpose for my intervention in this forum.  I'll see what i can do about
that; stay tuned

greets,

frank

----- Original Message ----- 
From: "Pritpal Bedi" <bedipritpal@hotmail.com>
To: <harbour@harbour-project.org>
Sent: Friday, December 14, 2007 9:52 PM
Subject: Re: [Harbour] CaseStudy: an alternative to Hungarian notation for
aHigh-Level language such as [x]Harbour


>> hence please shout if some example of practicable code needs be delivered

> 1) What benefits ( except from self documentation ) we can derive out of
> it?

> Please post a realtime function example, will be more appropriate it
> Tbrowse() is taken as a modal, to understand the underlying concepts
> better.
>
> Regards
> Pritpal Bedi, INDIA-USA
>
> P.S. BTW I hear you after long time, probably since 2002.

From dmacias at mail.udg.mx  Sun Dec 16 09:17:38 2007
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Dec 16 09:17:35 2007
Subject: [Harbour] CMD files
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <4764ED32.4060708@mail.udg.mx>

Viktor:

As I see in messages, you deleted .cmd files:
---------------------
2007-10-24 01:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
    - bin/bld.cmd
      - Removed obsolete version of bld.bat (aimed for OS/2).
        OS/2 users should use bld.bat.

2007-10-24 03:12 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
    - make_gnu.cmd
      - Remove obsolete file. This was the same as make_gnu.bat
        but with defaults set for OS/2. OS/2 users should use
        make_gnu.bat with proper platform/compiler sets.

2007-11-02 13:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
    - doc/genhtm.cmd
    - utils/hbtest/make_xpp.cmd
    - contrib/libmisc/doc/gendoc.cmd
    - contrib/libgt/doc/gendoc.cmd
      - Removed .cmd versions of .bat files.
---------------------

These type of files are need under OS/2

Using make_gnu.bat ( with proper platform/compiler sets ) result in:
---------------------
[E:\harbour712]make_gnu.bat
SYS1057: The file or path name entered is invalid in a DOS session.
---------------------

.bat files are considered for 16 bits sessions and in this case OS/2 
open one "DOS session" to handle make_gnu.bat, while .cmd files are for 
32 bits sessions

Can you recall .cmd files ?

David Macias


From druzus at acn.waw.pl  Sun Dec 16 12:07:07 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Dec 16 12:07:15 2007
Subject: [Harbour] Little patch to contrib/hbpgsql/Makefile
In-Reply-To: <20071215115118.206ED3684C@mafalda.teledetection.fr>
References: <20071215115118.206ED3684C@mafalda.teledetection.fr>
Message-ID: <20071216120707.GA7440@localhost.localdomain>

On Sat, 15 Dec 2007, Guy Roussin wrote:
> Hi, 
> I want to build hbpgsql lib on my debian etch.
> I only need to install libpq-dev package and make 
> a little patch to harbour/contrib/hbpgsql/Makefile
> Can you apply it ?

Yes, please.
If you can also add conditional build of hbpgsql to DEB files
then it would be nice.

BTW I would like to ask Debian/Ubuntu users to test .DEB files
builds (make_deb.sh). I'll add support for building hbpgsql
here but please test if it works.
If you can please also make similar modification for other
contrib libraries like hbmysql.

best regards,
Przemek
From druzus at acn.waw.pl  Sun Dec 16 12:26:03 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Dec 16 12:26:14 2007
Subject: [Harbour] Harbour under OS/2 - eCS
In-Reply-To: <47643512.7020201@mail.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<47643512.7020201@mail.udg.mx>
Message-ID: <20071216122603.GB7440@localhost.localdomain>

On Sat, 15 Dec 2007, David Arturo Macias Corona wrote:
> First try of current Harbour devel branch build under OS/2:
> - eCS 1.2MR
> - gcc (GCC) 3.3.5 (Bird Build 2006-03-18 05:37)
> - set C_USR=-DHB_LONG_LONG_OFF
> ---------------------------------------------------------
> [E:\harbour712]make -r           1>make_gnu.log
> ../../hbfsapi.c: In function `hb_fsFileExists':
> ../../hbfsapi.c:327: warning: unused variable `TODO'
> ../../hbfsapi.c: In function `hb_fsDirExists':
> ../../hbfsapi.c:379: warning: unused variable `TODO'

It's intentional "feature" which clearly shows that sth is not implemented.
In this case we will have to add OS2 support for hb_fsFileExists() and
hb_fsDirExists().  I'll add in a while but you will have to test it.
Without these warning we would miss it miss it. I would like to ask all
developers to remeber about such warning markers in other code.

> make[2]: *** [first] Error 31880
> ../../dbf1.c: In function `hb_dbfTableCrypt':
> ../../dbf1.c:638: warning: int format, BOOL arg (arg 2)

Ups. It's printf() I left by mistake. I'll remove it ASAP.

> ../../../../source/rtl/os2/gcc/rtl.a(gtsys.o): Undefined symbol 
> _HB_FUN_HB_GT_OS2 referenced from text segment
> make[3]: *** [hbrun.exe] Error 1
> make[2]: *** [descend] Error 2
> hbdot.o: Undefined symbol _HB_FUN_HB_GT_OS2_DEFAULT referenced from data 
> segment

This should not happen. It looks like a problem with GNU make you
are using. I'll try to add workaround for it and please check if
it will help.

> In file included from ../../../../include/extend.api:58,
>                  from ../../../../include/extend.h:65,
>                  from ../../fttext.c:177:
> ../../../../include/clipdefs.h:72: warning: redefinition of `PBYTE'
> E:/usr/include/os2emx.h:235: warning: `PBYTE' previously declared here
> ../../../../include/clipdefs.h:76: warning: redefinition of `PSHORT'
> E:/usr/include/os2emx.h:241: warning: `PSHORT' previously declared here
> ../../../../include/clipdefs.h:79: warning: redefinition of `PUSHORT'
> E:/usr/include/os2emx.h:244: warning: `PUSHORT' previously declared here
> ../../../../include/clipdefs.h:88: warning: redefinition of `PLONG'
> E:/usr/include/os2emx.h:247: warning: `PLONG' previously declared here
> ../../../../include/clipdefs.h:91: warning: redefinition of `PULONG'
> E:/usr/include/os2emx.h:250: warning: `PULONG' previously declared here
> ../../../../include/clipdefs.h:98: warning: redefinition of `PBOOL'
> E:/usr/include/os2emx.h:209: warning: `PBOOL' previously declared here
> ../../../../include/clipdefs.h:107: warning: redefinition of `PVOID'
> E:/usr/include/os2emx.h:278: warning: `PVOID' previously declared here

This is general problem with Clipper compatible header files.
They cause in OS2 name conflicts in aboove definitions. I'll
add workaround for it in clipdefs.h though maybe we should
change fttext.c and mouse.c in contrib/hbnf to use only harbour
functions and not include clipdefs.h


Many thanks for your tests. Please try again after my next commit.
It will be ready in few minutes.

best regards,
Przemek
From druzus at acn.waw.pl  Sun Dec 16 12:32:43 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Dec 16 12:32:51 2007
Subject: [Harbour] 2007-12-16 13:32 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712161232.lBGCWh02012256@31-mo5-4.acn.waw.pl>

2007-12-16 13:32 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/common/hbfsapi.c
    + added OS2 version of hb_fsFileExists() and hb_fsDirExists()
      Please test - I do not have OS2

  * harbour/source/rdd/dbf1.c
    ! removed unnecessary printf() message I left by mistake

  * harbour/contrib/hbct/files.c
    + added OS2 version of SETFATTR()
      Please test - I do not have OS2

  * harbour/config/os2/global.cf
    + added temporary workaround for possible problems with some
      GNU make versions

  * harbour/make_deb.sh
    + build hbpgsql when libpq-dev is installed

  * harbour/include/clipdefs.h
    * do not define PBYTE, PSHORT, PUSHORT, PLONG, PULONG, PBOOL, PVOID
      when HB_OS_OS2 && HB_DONT_DEFINE_BASIC_TYPES is defined

best regards
Przemek
From druzus at acn.waw.pl  Sun Dec 16 13:30:38 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Dec 16 13:35:18 2007
Subject: [Harbour] Re: Variables Types as Classes
In-Reply-To: <14339853.post@talk.nabble.com>
References: <14327998.post@talk.nabble.com>	<20071214072020.GA5881@localhost.localdomain>
	<14339853.post@talk.nabble.com>
Message-ID: <fk399v$flu$1@ger.gmane.org>

Pritpal Bedi wrote:
> Przemek
> 
> #include 'xhb.ch'
> #include 'hbclass.ch'
> ENABLE TYPE CLASS ALL
> Function Main()
>    Local x
>    x := {'121',12,.t.}
>    ? x:isScalar       //   .T.
>    ? x:asString      //   Error!
>    ? x:Add( 200 )   //   Alert with error message:  Error BASE/1004 Message not found :ADD
>    ? x:asString
>    inkey(0)
>    Return nil
> What I am missing ?

It's caused by: #include 'xhb.ch'
See in contrib/xhb/xhbcomp.prg definitions used for overloaded character,
numeric, array and hash classes. Then look at source/rtl/tscalar.prg
in xHarbour repository and add other definitions you need.
If you are not interested in exact xHarbour behavior but rather in
class(y) compatiblity then you can simply add to these classes inheriting
from corresponding hb* ones (f.e. hbArray()).
If you want to add such modifications to SVN then please look at xHarbour
version of: ENABLE TYPE CLASS ALL command and then copy it to hbcompat.ch
and add _<type>() functions which will have the same functionality as in
xHarbour plus the ones included in contrib/xhb/xhbcomp.prg
All of the above is done at .prg level and can be changed by user.

best regards,
Przemek

From druzus at acn.waw.pl  Sun Dec 16 14:06:21 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Dec 16 14:06:29 2007
Subject: [Harbour] 2007-12-16 15:06 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712161406.lBGE6L5e014953@31-mo5-4.acn.waw.pl>

2007-12-16 15:06 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbct/files.c
    ! fixed pure C compilation I broke in previous commit

best regards
Przemek
From druzus at acn.waw.pl  Sun Dec 16 14:42:36 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Dec 16 14:42:44 2007
Subject: [Harbour] 2007-12-16 15:42 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712161442.lBGEgaRJ018230@31-mo5-4.acn.waw.pl>

2007-12-16 15:42 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbgtwvg/gtwvg.h
    * added OleLoadPicture() declaration when BCC5.5 is used.
      It's missing in BCC55 header files.

best regards
Przemek
From miguelangel at marchuet.net  Mon Dec 17 12:42:13 2007
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Mon Dec 17 13:43:14 2007
Subject: [Harbour] 2007-12-17 13:41 UTC+0100 Miguel Angel Marchuet Frutos
	<miguelangel@marchuet.net>
Message-ID: <47666EA5.50609@marchuet.net>

2007-12-17 13:41 UTC+0100 Miguel Angel Marchuet Frutos <miguelangel@marchuet.net>
     * common.mak
       + Added some missing files (suggested by Juan G?lvez)

Best regards

Miguel Angel marchuet
From druzus at acn.waw.pl  Mon Dec 17 20:22:37 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Dec 17 20:22:45 2007
Subject: [Harbour] 2007-12-17 21:21 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712172022.lBHKMb7h024239@31-mo5-4.acn.waw.pl>

2007-12-17 21:21 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapigt.h
  * harbour/include/hbgtcore.h
  * harbour/source/rtl/gtapi.c
  * harbour/source/rtl/hbgtcore.c
  * harbour/source/rtl/gt_tpl/gt_tpl.c
  * harbour/source/rtl/gtdos/gtdos.c
  * harbour/source/rtl/gtwin/gtwin.c
  * harbour/source/rtl/gtxwc/gtxwc.c
  * harbour/source/rtl/gtos2/gtos2.c
  * harbour/source/rtl/gtcrs/gtcrs.c
  * harbour/source/rtl/gtsln/gtsln.c
  * harbour/source/rtl/gttrm/gttrm.c
  * harbour/source/rtl/gtpca/gtpca.c
  * harbour/source/rtl/gtgui/gtgui.c
  * harbour/source/rtl/gtwvt/gtwvt.c
  * harbour/source/rtl/gtcgi/gtcgi.c
  * harbour/source/rtl/gtstd/gtstd.c
  * harbour/contrib/hbct/ctwin.c
  * harbour/contrib/hbgtwvg/gtwvg.c
  * harbour/source/rtl/gtalleg/gtalleg.c
  * harbour/source/rtl/gtalleg/ssf.h
  * harbour/source/rtl/gtalleg/fixedth.sfc
    * added missing const to few declarations
    * formatting and minor code cleanup

  * harbour/source/rtl/hbgtcore.c
    ! fixed GTNUL registration

  * harbour/source/rtl/gtcgi/gtcgi.c
  * harbour/source/rtl/gtstd/gtstd.c
    * moved static variables to dynamic GT area

  * harbour/contrib/hbct/files.c
    ! fixed DOS version

best regards
Przemek
From harbour.01 at syenar.hu  Mon Dec 17 20:49:27 2007
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Dec 17 20:49:32 2007
Subject: [Harbour] CHANGELOG: 2007-12-17 21:40 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c840ee$Blat.v2.6.2$50159066$128c739b7b1e@127.0.0.1>

2007-12-17 21:40 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * bin/bld.bat
     ! %HB_USER_LIBS% (for bcc32) moved to the beginning of the lib list.

   * contrib/mtpl_b32.mak
     ! Fixed preprocessor error in line 190 when HB_INSTALL_PREFIX != HB_ROOT

   * source/rtl/getsys53.prg
   * source/rtl/getsys.prg
     ! Moved ReadStats() to getsys52.prg

   * ChangeLog
     ! Removed UTF-8 signature from the beginning of the file.
       Unfortunately accented chars got converted to UTF8, which 
       would need to fixed.
       Pritpal, please turn off this feature on your editor for Harbour.
--
Brgds,
Viktor

From dmacias at mail.udg.mx  Mon Dec 17 22:31:47 2007
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Dec 17 22:32:23 2007
Subject: [Harbour] Re: Harbour under OS/2 - eCS
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <4766F8D3.1090905@mail.udg.mx>

 >Many thanks for your tests. Please try again after my next commit.
 >It will be ready in few minutes.

Thanks Przemek, results are below

Results of current Harbour devel branch build under OS/2:
- eCS 1.2MR
- gcc (GCC) 3.3.5 (Bird Build 2006-03-18 05:37)
- set C_USR=-DHB_LONG_LONG_OFF

---------------------------------------------------------
[E:\harbour712]make -r           1>make_gnu.log
../../hbfsapi.c: In function `hb_fsFileExists':
../../hbfsapi.c:296: warning: `fExist' might be used uninitialized in 
this funct
ion
../../hbfsapi.c: In function `hb_fsDirExists':
../../hbfsapi.c:356: warning: `fExist' might be used uninitialized in 
this funct
ion
../../gtstd.c: In function `hb_gt_std_ReadKey':
../../gtstd.c:357: warning: unused variable `TODO'
../../files.c: In function `HB_FUN_SETFATTR':
../../files.c:232: error: `iAttr' undeclared (first use in this function)
../../files.c:232: error: (Each undeclared identifier is reported only once
../../files.c:232: error: for each function it appears in.)
../../files.c:241: error: `pszPathName' undeclared (first use in this 
function)
../../files.c: In function `HB_FUN_SETFDATI':
../../files.c:269: warning: unused variable `szFile'
../../files.c:353: warning: unused variable `TODO'
make[3]: *** [files.o] Error 1
make[2]: *** [descend] Error 2
---------------------------------------------------------


David Macias


From druzus at acn.waw.pl  Tue Dec 18 05:06:06 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec 18 05:06:13 2007
Subject: [Harbour] 2007-12-18 06:05 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712180506.lBI566Pt005897@31-mo5-4.acn.waw.pl>

2007-12-18 06:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbct/files.c
  * harbour/source/common/hbfsapi.c
    ! fixes in OS2 build - thanks to David

best regards
Przemek
From m.renzi at maticasrl.it  Tue Dec 18 06:46:01 2007
From: m.renzi at maticasrl.it (Massimo Renzi (MaticaSrl))
Date: Tue Dec 18 06:47:20 2007
Subject: [Harbour] Harbour Trucante 10chars variables/function/fileds names
In-Reply-To: <4766F8D3.1090905@mail.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<4766F8D3.1090905@mail.udg.mx>
Message-ID: <000001c84141$a760ae70$2a00df0a@maxsoft>

Hi all.
I'm try to convert a big clipper 5.2 project.
I see exist a lot of errors in the code cause developers often have used
name longer than 10chars.
Clipper compiler ignore the char in more of 10, 
Exist an Harbour flag compiler to truncate to 10chars all names?
Thank you all

Massimo

e.g.
local v1234567890:="OK"
@1,1 say v1234567890
@1,1 say v12345678901111
@1,1 say v123456789

All line are ok.

From philb at philb.us  Tue Dec 18 06:50:55 2007
From: philb at philb.us (Phil Barnett)
Date: Tue Dec 18 06:51:00 2007
Subject: [Harbour] Harbour Trucante 10chars variables/function/fileds names
In-Reply-To: <000001c84141$a760ae70$2a00df0a@maxsoft>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<4766F8D3.1090905@mail.udg.mx>
	<000001c84141$a760ae70$2a00df0a@maxsoft>
Message-ID: <200712180150.55945.philb@philb.us>

On Tuesday 18 December 2007 01:46:01 am Massimo Renzi (MaticaSrl) wrote:
> Hi all.
> I'm try to convert a big clipper 5.2 project.
> I see exist a lot of errors in the code cause developers often have used
> name longer than 10chars.
> Clipper compiler ignore the char in more of 10,
> Exist an Harbour flag compiler to truncate to 10chars all names?
> Thank you all

It's been a long time since I used it, but if I recall, Click! had a mode to 
truncate at 10 characters. It'd be a good idea to keep the old code around 
just in case, though.


From m.renzi at maticasrl.it  Tue Dec 18 07:01:59 2007
From: m.renzi at maticasrl.it (Massimo Renzi (MaticaSrl))
Date: Tue Dec 18 07:03:13 2007
Subject: R: [Harbour] Harbour Trucante 10chars variables/function/fileds names
In-Reply-To: <200712180150.55945.philb@philb.us>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx><4766F8D3.1090905@mail.udg.mx><000001c84141$a760ae70$2a00df0a@maxsoft>
	<200712180150.55945.philb@philb.us>
Message-ID: <000101c84143$e2106a40$2a00df0a@maxsoft>



Hi Phil,
thank you very much for your reply.
What is "Click!" and where I can find it?
Thank you.
Massimo


-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] Per conto di Phil Barnett
Inviato: marted? 18 dicembre 2007 7.51
A: harbour@harbour-project.org
Oggetto: Re: [Harbour] Harbour Trucante 10chars variables/function/fileds
names

On Tuesday 18 December 2007 01:46:01 am Massimo Renzi (MaticaSrl) wrote:
> Hi all.
> I'm try to convert a big clipper 5.2 project.
> I see exist a lot of errors in the code cause developers often have used
> name longer than 10chars.
> Clipper compiler ignore the char in more of 10,
> Exist an Harbour flag compiler to truncate to 10chars all names?
> Thank you all

It's been a long time since I used it, but if I recall, Click! had a mode to

truncate at 10 characters. It'd be a good idea to keep the old code around 
just in case, though.


_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From dmacias at mail.udg.mx  Wed Dec 19 07:59:34 2007
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Tue Dec 18 08:12:32 2007
Subject: [Harbour] Re: Harbour under OS/2 - eCS
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <4768CF66.6020101@mail.udg.mx>

 >2007-12-18 06:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
 >  * harbour/contrib/hbct/files.c
 >  * harbour/source/common/hbfsapi.c
 >    ! fixes in OS2 build - thanks to David

Thanks Przemek, results are below

Results of current Harbour devel branch build under OS/2:
- eCS 1.2MR
- gcc (GCC) 3.3.5 (Bird Build 2006-03-18 05:37)
- set C_USR=-DHB_LONG_LONG_OFF

---------------------------------------------------------
[E:\harbour712]make -r           1>make_gnu.log
../../gtstd.c: In function `hb_gt_std_ReadKey':
../../gtstd.c:357: warning: unused variable `TODO'
../../files.c: In function `HB_FUN_SETFDATI':
../../files.c:271: warning: unused variable `szFile'
../../files.c:355: warning: unused variable `TODO'
---------------------------------------------------------


David Macias



From m.renzi at maticasrl.it  Tue Dec 18 08:23:36 2007
From: m.renzi at maticasrl.it (Massimo Renzi (MaticaSrl))
Date: Tue Dec 18 08:24:52 2007
Subject: R: [Harbour] Harbour Trucante 10chars variables/function/fileds names
In-Reply-To: <19BC6680-23B1-4B27-AC0C-637A196334A9@syenar.hu>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<4766F8D3.1090905@mail.udg.mx>
	<000001c84141$a760ae70$2a00df0a@maxsoft>
	<19BC6680-23B1-4B27-AC0C-637A196334A9@syenar.hu>
Message-ID: <000001c8414f$49504bc0$2a00df0a@maxsoft>

Well.
Thank you very very very much.
I'll try to fix or compile in pCode and see if cliper5.2 truncate for me.
Bye
Max



-----Messaggio originale-----
Da: Szak?ts Viktor [mailto:harbour.01@syenar.hu] 
Inviato: marted? 18 dicembre 2007 9.19
A: m.renzi@maticasrl.it; Harbour Project Main Developer List.
Oggetto: Re: [Harbour] Harbour Trucante 10chars variables/function/fileds
names

Hi Massimo,

No, this option vanished over the years and the last
bits were finally removed not long ago (since 10 char
mode was not working since long). The main reason
is that the 10 chars limit was very hard to maintain
inside Harbour core, since posed to much of a limitation
in certain areas (like classes) which were also difficult
to test and enforce.

Normally such long names used in Clipper should only create
a problem, when the name part above 10 chars is misspelled
or truncated in the code ("longfunctionname vs longfuncti
vs longfunctionamee"), once fixed though to use consistent
(long) names, the code will compile and run just fine under
both Clipper and Harbour.

Brgds,
Viktor

On 2007.12.18., at 7:46, Massimo Renzi (MaticaSrl) wrote:

> Hi all.
> I'm try to convert a big clipper 5.2 project.
> I see exist a lot of errors in the code cause developers often have  
> used
> name longer than 10chars.
> Clipper compiler ignore the char in more of 10,
> Exist an Harbour flag compiler to truncate to 10chars all names?
> Thank you all
>
> Massimo
>
> e.g.
> local v1234567890:="OK"
> @1,1 say v1234567890
> @1,1 say v12345678901111
> @1,1 say v123456789
>
> All line are ok.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Dec 18 08:19:08 2007
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Dec 18 08:25:39 2007
Subject: [Harbour] Harbour Trucante 10chars variables/function/fileds names
In-Reply-To: <000001c84141$a760ae70$2a00df0a@maxsoft>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<4766F8D3.1090905@mail.udg.mx>
	<000001c84141$a760ae70$2a00df0a@maxsoft>
Message-ID: <19BC6680-23B1-4B27-AC0C-637A196334A9@syenar.hu>

Hi Massimo,

No, this option vanished over the years and the last
bits were finally removed not long ago (since 10 char
mode was not working since long). The main reason
is that the 10 chars limit was very hard to maintain
inside Harbour core, since posed to much of a limitation
in certain areas (like classes) which were also difficult
to test and enforce.

Normally such long names used in Clipper should only create
a problem, when the name part above 10 chars is misspelled
or truncated in the code ("longfunctionname vs longfuncti
vs longfunctionamee"), once fixed though to use consistent
(long) names, the code will compile and run just fine under
both Clipper and Harbour.

Brgds,
Viktor

On 2007.12.18., at 7:46, Massimo Renzi (MaticaSrl) wrote:

> Hi all.
> I'm try to convert a big clipper 5.2 project.
> I see exist a lot of errors in the code cause developers often have  
> used
> name longer than 10chars.
> Clipper compiler ignore the char in more of 10,
> Exist an Harbour flag compiler to truncate to 10chars all names?
> Thank you all
>
> Massimo
>
> e.g.
> local v1234567890:="OK"
> @1,1 say v1234567890
> @1,1 say v12345678901111
> @1,1 say v123456789
>
> All line are ok.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Tue Dec 18 09:52:52 2007
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Dec 18 09:52:59 2007
Subject: [Harbour] Harbour Trucante 10chars variables/function/fileds names
In-Reply-To: <000101c84143$e2106a40$2a00df0a@maxsoft>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx><4766F8D3.1090905@mail.udg.mx><000001c84141$a760ae70$2a00df0a@maxsoft><200712180150.55945.philb@philb.us>
	<000101c84143$e2106a40$2a00df0a@maxsoft>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E6FA@SRV02.deltain.net>

http://www.the-oasis.net/click01.htm
http://www.the-oasis.net/click00.htm
http://www.the-oasis.net/


-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo Renzi (MaticaSrl)
Sent: Tuesday, December 18, 2007 8:02 AM
To: 'Harbour Project Main Developer List.'
Subject: R: [Harbour] Harbour Trucante 10chars variables/function/fileds names



Hi Phil,
thank you very much for your reply.
What is "Click!" and where I can find it?
Thank you.
Massimo


-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] Per conto di Phil Barnett
Inviato: marted? 18 dicembre 2007 7.51
A: harbour@harbour-project.org
Oggetto: Re: [Harbour] Harbour Trucante 10chars variables/function/fileds
names

On Tuesday 18 December 2007 01:46:01 am Massimo Renzi (MaticaSrl) wrote:
> Hi all.
> I'm try to convert a big clipper 5.2 project.
> I see exist a lot of errors in the code cause developers often have used
> name longer than 10chars.
> Clipper compiler ignore the char in more of 10,
> Exist an Harbour flag compiler to truncate to 10chars all names?
> Thank you all

It's been a long time since I used it, but if I recall, Click! had a mode to

truncate at 10 characters. It'd be a good idea to keep the old code around 
just in case, though.


_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From druzus at acn.waw.pl  Tue Dec 18 10:18:04 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Dec 18 10:18:10 2007
Subject: [Harbour] 2007-12-18 11:17 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712181018.lBIAI4j3009746@31-mo5-4.acn.waw.pl>

2007-12-18 11:17 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/ChangeLog
    * reverted conversion to UTF8 of national characters (svn diff)

  * harbour/include/hbdate.h
  * harbour/source/common/hbdate.c
    + added hb_timeStrGet()

  * harbour/contrib/hbct/files.c
    * use hb_timeStrGet() instead of sscanf()
    + added OS2 version of SETFDATI() - please test it !!!
      I'm interesting in results of this code compiled with OS2
      Harbour build:
         proc main()
            local cFile:="_tst.tmp"
            FCLOSE(FCREATE(cFile))
            ? FILEDATE(cFile), FILETIME(cFile)
            ? SETFDATI(cFile,STOD("20061129"),"12:34:45")
            ? FILEDATE(cFile), FILETIME(cFile)
            ? SETFDATI(cFile)
            ? FILEDATE(cFile), FILETIME(cFile)
            FERASE(cFile)
         return

best regards
Przemek
From philb at philb.us  Tue Dec 18 11:36:56 2007
From: philb at philb.us (Phil Barnett)
Date: Tue Dec 18 11:37:00 2007
Subject: R: [Harbour] Harbour Trucante 10chars variables/function/fileds
	names
In-Reply-To: <000101c84143$e2106a40$2a00df0a@maxsoft>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<200712180150.55945.philb@philb.us>
	<000101c84143$e2106a40$2a00df0a@maxsoft>
Message-ID: <200712180636.56585.philb@philb.us>

On Tuesday 18 December 2007 02:01:59 am Massimo Renzi (MaticaSrl) wrote:
> Hi Phil,
> thank you very much for your reply.
> What is "Click!" and where I can find it?
> Thank you.
> Massimo

I was looking at Click! and I don't see that it specifically does that, 
however it comes with source code and it would be trivial to make it truncate 
variables to 10 places on writeback if you find it doesn't already do so.

I do recall that it can expand the old 4 character commands to full size if 
you let it.

Good luck.
From harbour at rglab.pl  Tue Dec 18 17:28:06 2007
From: harbour at rglab.pl (=?iso-8859-2?Q?Ryszard_G=B3=B1b?=)
Date: Tue Dec 18 17:28:50 2007
Subject: [Harbour] CaseStudy: an alternative to Hungarian notation for a 
	High-Level language such as [x]Harbour
References: <000601c83e6f$a473bec0$4001a8c0@REE>
	<5d6657896daaac061d8b64ed5c3ef7f0.qmail@home.pl>
	<6dfe3b09691c6a0c343d5f855e652761.qmail@home.pl>
	<7c1cf19886064d763c465eb4103bfc00.qmail@home.pl>
Message-ID: <eb81f17a3ef550692bff995ed21eee04.qmail@home.pl>

"frank van nuffel" <lohen@versateladsl.be> napisa?(a):

> According to it, given a class named someClass, an instance thereof named
> instanceOfSomeClass and a message someMessage, writing
>
> instanceOfSomeClass . someClass:: someMessage()
>
> appeared to me being not only more informative to the human reader, but
> also compiling into a little smaller footprint.

  Sorry, I don't understand the purpose of this syntax. Are we talking 
about
the language with strong typing (type of variables checked at compile time)
or maybe current Harbour/Clipper (where type is checked at runtime)?

  For language with strong typing such syntax is not suitable since it 
duplicates
information about type. Duplication of information usually leads to 
problems so it
should be avoided.
  For languages without strong typing such syntax can be used in two ways:
1) the preprocessor simply ignore class name and generated code doesn't use 
it;
2) the class name is stored in generated code and this information is used 
at runtime
to check if passed object has the requested type (class).
  The third obvious way is: the compiler uses the provided type (class 
name) during
compilation but this way we have the language with the strong typing and 
the
known problem with information duplication (unless we will support 
declaration of
variables without type specification).
  The above syntax is indeed more informative to the human reader however 
we are
loosing here more then we are gaining. We gain the information about type 
in place
where the wariable is used only however we loose the readability and 
flexibility.
The loss in readability is increasing exponentially with the complexity of 
expression.
The flexibility is decreasing with the number of variable usage (the 
flexibility means
how easy we can change the type of variable).
  If we will use the type during the runtime then such syntax dosen't give 
the 'smaller
footprint' (if I understand this term correctly) because we have to save 
this info
in generated code. We have to pass this info to the runtime at every use of 
variable
so this leads to more complicated variable usage in the compiler.

> of a scope operation - someClass:: - while neutral to the compiler (or
> almost), does have some self documenting value to the reader, in that it
> locates the class where someMessage is defined.  Picture code written

  However I really don't see any benefits comparing to traditional xbase 
syntax
LOCAL someVar AS CLASS someClass
or
LOCAL someVar AS someClass

> While it is cumbersome to have to write the full class name in the scope
> operation during editing, why not recur to the use of mnemonics, in this
> case in the scope operation?

  IMHO, using mnemonic will be only a source of problems. The mnemonics, by
their nature, are not readable because it is not obvious what is the
meaning of such mnemonic. What is the type of 'c' - is it a 'char' or
a 'codeblock', what is a type of 'b' - is it a 'logical' or a 'codeblock'.
What mnemonic should be used for string: 'c' because 'char' or maybe
's' because of 'string'? What should be for logical: 'l' because 'logical'
or 'b' because 'boolean'?

> someVar := someVar . c:: upper() // executed in OO manner
> someVar := someVar . C:: upper() // backtranslated procedurally to
> someVar
> :=
> UPPER( someVar )

  IMHO, for this type of job the usual '#pragma' compiler directive is more
suitable and fits better as a unified method of switching features of the
compiler.

> Ca-Clipper introduced an attractive form of Hungarian notation, simple
> and
> straightforward, but left open, imo, essential paths to be addressed by
> future evolution; the o for object, with only four object types at the
> time,
> is one such occassion.  With good ergonomy in design for mnemonics, why
> not
> use acronyms consisting, for example, of 2 letters refering to the actual
>
> class type of the object?
>
> someVar . tb:: stabilize() // TBrowse class

  Sorry, again the mnemonics are not suitable in real life - what is the 
meaning of 'tb'?
Is it TBrowse, Table, TabBrowser or maybe TutajBylem class?
Please notice that, at least it works for me, the variable names are 
choosen to give the
information about their contents and/or their function (purpose) - the 
information about
the variable type is less important and in some cases it is not important 
at all.
If I call someVar:Display() that the type of somevar is not important - I 
just expect that
something will be displayed.

> Most modern IDE's and lots of editors come with some sort of
> intellisense;
> it is more practicable to have identifiers start with their actual naming

  No, no, no - most modern editors are stupid instead of intelligent. They 
geuess
wrong and autocompletion slowdown writing because I have to move head up, 
locate
the cursor, move my hand to mouse or keyboard cursors and adjust the 
selection.
The features of editors shouldn't have impact on programming language 
design.

> Link and (visibility) scope information can be put to use differentiating
> between identifiers, pushing polymorhism to a higher degree, by simply
> inserting that info in the type notation.  Static and Local variables
> which
> share the actual namepart, may be recognised by means of a digit
> describing
> scope.  Digits are visually far more striking than an additional letter;
> combined scope and type inferencing in identifier notation allows, for
> instance
>
> static  someVar_c2  // c=char and 2 = static module-wide
> static  someVar_l2   // l=logical

  It seems that your main goal is to create the syntax that is the most
informative at reading code time. However the productivity at writing code 
time
is completly ignored this way. I may be mistaken but the language in which
you concentrate on type and visibility/scope of variables/methods is
not usable. The type and scope is a helper information and cannot be the 
main
information during coding.

Regards, Ryszard

From bedipritpal at hotmail.com  Tue Dec 18 21:02:35 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Dec 18 21:03:01 2007
Subject: [Harbour] 2007-12-18 13:08 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <14405643.post@talk.nabble.com>


2007-12-18 13:08 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/xhb/xhbcomp.prg
    + Added xHarbour specific methods to Type classes.

Regards
Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/2007-12-18-13%3A08-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp14405643p14405643.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From ssbbstw at pchome.com.tw  Wed Dec 19 03:41:36 2007
From: ssbbstw at pchome.com.tw (WenSheng)
Date: Wed Dec 19 03:41:44 2007
Subject: [Harbour] Does harbour can compiler unicode source code?
In-Reply-To: <14405643.post@talk.nabble.com>
References: <14405643.post@talk.nabble.com>
Message-ID: <20071219114135.E044.SSBBS@mail.zzz.com.tw>


as Title ?
Now can't compiler it.


From dmacias at mail.udg.mx  Wed Dec 19 07:54:37 2007
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Dec 19 07:55:07 2007
Subject: [Harbour] Re: Harbour under OS/2 - eCS
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <4768CE3D.5040307@mail.udg.mx>

>2007-12-18 11:17 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  + added OS2 version of SETFDATI() - please test it !!!

Thanks Przemek, results are below

Results of current Harbour devel branch build under OS/2:
- eCS 1.2MR
- gcc (GCC) 3.3.5 (Bird Build 2006-03-18 05:37)
- set C_USR=-DHB_LONG_LONG_OFF

---------------------------------------------------------
[E:\harbour712]make -r           1>make_gnu.log
../../gtstd.c: In function `hb_gt_std_ReadKey':
../../gtstd.c:357: warning: unused variable `TODO'
---------------------------------------------------------

 >      I'm interesting in results of this code compiled with OS2
 >      Harbour build:
 >         proc main()
 >            local cFile:="_tst.tmp"
 >            FCLOSE(FCREATE(cFile))
 >            ? FILEDATE(cFile), FILETIME(cFile)
 >            ? SETFDATI(cFile,STOD("20061129"),"12:34:45")
 >            ? FILEDATE(cFile), FILETIME(cFile)
 >            ? SETFDATI(cFile)
 >            ? FILEDATE(cFile), FILETIME(cFile)
 >            FERASE(cFile)
 >         return


Results of code:
--------------------------------
[E:\harbour712\bin]prueba.exe

12/19/07 01:49:30
.F.
10/24/30 06:06:10
.F.
11/12/31 19:21:44
--------------------------------


David Macias




From niki at synel.co.il  Wed Dec 19 08:44:37 2007
From: niki at synel.co.il (Chen Kedem)
Date: Wed Dec 19 08:41:42 2007
Subject: [Harbour] Re: Harbour under OS/2 - eCS
Message-ID: <4768D9F5.4AC2@synel.co.il>

> Results of code:
> --------------------------------
> [E:\harbour712\bin]prueba.exe
>
> 12/19/07 01:49:30
> .F.
> 10/24/30 06:06:10
> .F.
> 11/12/31 19:21:44
> --------------------------------

I don't know the current OS/2 API or have the old one infront of
me, but I remember that many API functions which receive a structure
as a paramers, also expect that the first item in the structure
would be initialized with the sizeof that structure.
Might be the case for the Dos* functions used in SETFDATI() ?

  Chen.
**********************************************************************************************
IMPORTANT: The contents of this email and any attachments are confidential. They are intended for the 
named recipient(s) only.
If you have received this email in error, please notify the system manager or the sender immediately and do 
not disclose the contents to anyone or make copies thereof.
*** eSafe scanned this email for viruses, vandals, and malicious content. ***
**********************************************************************************************

From druzus at acn.waw.pl  Wed Dec 19 12:06:01 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Dec 19 12:06:07 2007
Subject: [Harbour] 2007-12-19 13:05 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712191206.lBJC61ss015609@31-mo5-4.acn.waw.pl>

2007-12-19 13:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbmath.h
  * harbour/source/rtl/math.c
    * cleaned matherr API, now it works in the same way on all
      platforms - this modification fixes also some strange
      results when math functions were called with wrong arguments
      on some platforms

  * harbour/contrib/hbct/trig.c
  * harbour/contrib/hbct/finan.c
  * harbour/contrib/hbct/ctmath2.c
    * updated for new matherr API and cleaned some minor problems

  * harbour/contrib/hbct/files.c
    ! use DATE and TIME parameters formated like for DOS in OS2
      version of SETFDATI() - David,  if possible please repeat
      the test from my previous commit, thank you.

best regards
Przemek
From lohen at versateladsl.be  Wed Dec 19 15:43:34 2007
From: lohen at versateladsl.be (frank van nuffel)
Date: Wed Dec 19 15:46:45 2007
Subject: [Harbour] CaseStudy: an alternative to Hungarian notation for a
	High-Level language such as [x]Harbour
References: <000601c83e6f$a473bec0$4001a8c0@REE><5d6657896daaac061d8b64ed5c3ef7f0.qmail@home.pl><6dfe3b09691c6a0c343d5f855e652761.qmail@home.pl><7c1cf19886064d763c465eb4103bfc00.qmail@home.pl>
	<eb81f17a3ef550692bff995ed21eee04.qmail@home.pl>
Message-ID: <004b01c84256$6ee940a0$4001a8c0@REE>

Dear Ryszard,

----- Original Message ----- 
From: "Ryszard G??b" <harbour@rglab.pl>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Tuesday, December 18, 2007 6:28 PM
Subject: Re: [Harbour] CaseStudy: an alternative to Hungarian notation for a
High-Level language such as [x]Harbour


>> According to it, given a class named someClass, an instance thereof named
>> instanceOfSomeClass and a message someMessage, writing
>>
>> instanceOfSomeClass . someClass:: someMessage()
>>
>> appeared to me being not only more informative to the human reader, but
>> also compiling into a little smaller footprint.
>
> Sorry, I don't understand the purpose of this syntax. Are we talking
> about the language with strong typing (type of variables checked at
> compile time) or maybe current Harbour/Clipper (where type is
> checked at runtime)?

Borland C++ 3.x back ages ago supported this, and the compiled code seemed
just a little smaller than when writing

instanceOfSomeClass . someMessage()

It was adopted as a syntax model for explicit class resolution messaging in
Clipper+Class(y), but also initiated the requirement for some form of
transpilation; the process of building the project, among which
transpilation occurs as a first step, is configurable so as to include this
type of cast in the output, to leave it behind, or to force it anyway when
the build option for leaving it behind is selected; for the latter case a
variant syntax was introduced:

instanceOfSomeClass . (someClass):: someMessage()

the next 2 lines in (o)ceans' syntax:

instanceOfSomeClass .  someClass :: someMessage()
instanceOfSomeClass . (someClass):: someMessage()

produce in pure Clipper:

1.a) when build to include the casts:

instanceOfSomeClass:someClass:someMessage()
instanceOfSomeClass:someClass:someMessage()

1.b) when build to leave cast behind

instanceOfSomeClass:someMessage()
instanceOfSomeClass:someClass:someMessage()

so, explicit casting - sometimes really necessary for the code to function
properly - can still be forced

The same goes for the syntax with initial uppercase in the scope operation:

the next 2 lines in (o)ceans' syntax:

someVar . a:: add( 1 )
someVar . A:: add( 1 )

produce in pure Clipper:

2.a) when build not to transpile into an OO call sequence

AADD( someVar, 1 )
AADD( someVar, 1 )

2.b) when build to transpile into an OO call sequence

someVar : a : add( 1 )
AADD(someVar, 1 ) // forced procedurally

The last instance is also sometimes really necessary, not to incur class
scoped (hidden,protected) attribute access violations, when arguments to : a
: add( ... ) are accessed one call level below, when the OO code to the
native type message executes.  This is something to think about, at least in
the context of Ca-Clipper+Class(y), and has mainly to do with codeblocks
supplied to functions like AEVAL, DBEVAL and similar; when the codeblock
accesses private members of a class, and when this codeblock is executed
from a message to that class, when procedurally called, there's no problem,
but when called thru an OO sequence, the private member is accessed from
outside that class it belongs to, thus generating an access violation.
Hence the measure as to provide forced procedural translation exception
syntax.

This answers your suggestion below regarding #pragma; in (o)ceans' driving
transpile-time settings isn't taken care of with #pragma's but is regulated
by means of global transpile-time build settings; the two instances of
variant syntax (the former with additional parentheses, and the latter with
an initial uppercase) are a method to declare individual exceptions to that
global setting (if applied)

Especially the syntax with additional parentheses is something that is fully
exploited in the project, and depending on the context where applied it
means one of different things; when the language is fully documented that
context can be crystal clear, and the fact always making use of this
parentheses-variant syntax makes the reader/programmer familiar with it

> For language with strong typing such syntax is not suitable since it
> duplicates information about type. Duplication of information usually
> leads to problems so it should be avoided.

To wonder why Borland explicitly documents it?  As for the Ca-Clipper
target, it is not strongly typed, and very useful at that, not just to the
human reader, but as said to insert class scope resolution messages (casts)

>  For languages without strong typing such syntax can be used in two ways:
> 1) the preprocessor simply ignore class name and generated code doesn't
> use
> it;

as in 1.b above

> 2) the class name is stored in generated code and this information is used
> at runtime to check if passed object has the requested type (class).

1.a

> The third obvious way is: the compiler uses the provided type (class
> name) during compilation but this way we have the language with the
> strong typing and the known problem with information duplication
> (unless we will support declaration of variables without type
> specification).

This is the most exciting promise; when targeting Ca-Clipper, such as
current (o)ceans' (0.1.4), why bothering declaring the type of
variables/functions and properties/messages, when the compiler doesn't need
it anyway?  There are two answers from the point of view of why and where
the project started originally.  One was to introduce even more C, in this
case C++, elements in the new to shape language; getting rid of verbose
syntax such as [IF] ... ELSE ... ENDIF, and all other variants, ENDCASE,
NEXT, moreover, traditionally always 'shouting', or in uppercase appearance.
In Ca-Clipper END is all it takes anyway (END can also be used instead of
NEXT); so it experimented with curly braces the way C and C++ shortens
syntax and typing.  The reason for this is kind of a believe that, making
abstraction of the likes and dislikes among users, a sort of weakly typed
xBase in a C++ like compact notation style, would not be a wasted path of
time and learning curve effort for those that eventually would want to also
seek joining an even larger community; at those days Java was just but
emerging; presently, C# comes to mind, which addresses the answer to the
second consideration: any which path an xBase flavour goes, if and when
it'll end up connecting to the .NET environment, type declarative aspects of
the language will become fully exploitable.  And as long as it is a weakly
typed language, type declaration for the end programmer, in the end, remains
but an option, to address in pace with his/her knowledge to apply it.  But
code that is to be distributed from the project outwards, should
'demonstrate' the various aspects, hence why type declaration is taking
seriously here, as part of the whole package.  Possibly, a promise in this
would be that the language won't need any further evolutionary
transformation to be ready for targeting .NET, thus as is.  But all of this
is way beyond (o)ceans' notation, only as to keep an eye open for the
future.

Regarding a 'known problem with information duplication', writing xBase code
is simpler than writing C code, for one, because of the many forward
declarative requirements inherent to C; i'm not suggesting that type
declaration brought to the level of scope operations ( . <type>:: ),
variable declarations (whereas traditionally, LOCAL var, or STATIC var is
sufficient, no type mentioned), class resolution messaging, is error
tolerant enough, and easy to adhere to from the perspective of the writer of
code, but it is just so much more informative to the reader.  In the end,
one is but the writer of one's own code, but reader to everyone else's.

> The above syntax is indeed more informative to the human reader however
> we are loosing here more then we are gaining. We gain the information
> about type in place where the wariable is used only however we loose
> the readability and flexibility.

> The loss in readability is increasing exponentially with the complexity of
> expression.

To glance a total expression at once, that's true; but is also true for
control statements in the traditional way, from editors which don't do code
folding; when an expression, in-line, becomes cumbersome, xBase is very well
suited to replace the nitty gritty of it by means of an #translate
pseudofunc(...) => ...  Where one can argue that this would be obfuscation;
then let me ask how many among xBase endusers use COMMANDs instead of
corresponding function style writing?  I had understood that COMMAND style
writing makes xBase popular, and unique at that.  Although i'm not in favour
of COMMAND style writing, but for another reason, all comes down to what
support a language and additional tools provide, to find an audience in
favour, or against perhaps.  Many aspects to (o)ceans' are experimental,
your suggestion here is valid.

> The flexibility is decreasing with the number of variable usage (the
> flexibility means how easy we can change the type of variable).
>  If we will use the type during the runtime then such syntax dosen't give
> the 'smaller footprint' (if I understand this term correctly) because we
> have to save this info in generated code. We have to pass this info
> to the runtime at every use of variable
> so this leads to more complicated variable usage in the compiler.

Yes, weakly typed versus strongly typed, what else can i say?  Even with
Ca-Clipper not being strongly typed, putting the type information to good
use during runtime, requires inserting code, for example, during
function/message initialization; (o)ceans' allows arguments to these to be
checked at runtime, but apart from a standard syntax to do the declaration
of these in the function/message definition, the insertion of that
additional code is done at transpile-time, automatically, behind the scenes,
and is generic.

>> of a scope operation - someClass:: - while neutral to the compiler (or
>> almost), does have some self documenting value to the reader, in that it
>> locates the class where someMessage is defined.  Picture code written
>
>  However I really don't see any benefits comparing to traditional xbase
> syntax LOCAL someVar AS CLASS someClass or
> LOCAL someVar AS someClass

scope operations involving a mnemonic occur in the usage of the var, or
better property or message, not in the declaration; here's what (o)ceans'
notation happened to open up as a possible syntax alternative for
declarations:

instead of

LOCAL someVar_tb7 CLASS tb

__7  tb::O6T   someVar_tb7

it's more in line with C++, less verbose, and for each link/visibility digit
provided with (o)ceans' notation, there's a correspondent __# (where # is
the digit that expresses that link/visibility info)

for instance:

__2 .....   someVar_c2 // STATIC someVar_c2

__9 ..... someVar_l9 // PUBLIC someVar_l9

the tb::O6T part references the type; although put to use during runtime,
this info could as well be used by the compiler as to strongly type the
declared variable; either way, it is the same syntax; (o)ceans' at this
point does not do anything with it, in this particular context, but when in
a parameter list such as:

__3  o::c6T  c:: sub9c (  ;// normal FUNCTION returning char(string)
                                     ;
       (o)::u6T      first_u7T ;// unsigned (int)
      , o ::u6T      count_u7T ;
                                        ;
    ) {

the (o)::u6T typedef is used to check the argument type, when at least the
transpile build flag is set to 'check argument types' - this general flag
works only in conjunction with explicit uses of the parenthese-variant
syntax; so even when this flag is set, the second argument won't be type
checked

But again, this is (o)ceans' stuff beyond the call of this casestudy, which
only wants to exchange thoughts regarding the desirability for (o)ceans'
notation, and perhaps even only as part of a contrib library for OO
supporting native types in an alternative manner; understand well that
(o)ceans' notation for this contrib project is vital to me, since i'm not
very convinced to set up a complete hierarchy of native type classes, with
message names which a) will differ from their procedural counterparts to
have them fully take profit of polymorphism, and b) introduce yet other
names, not (o)ceans' notation conforming, whereas in the end i had hoped to
set up the parallel in Harbour of what is in (o)ceans' already well
organized and worked out.  Joining forces is condition sine qua non, sorry.

>> While it is cumbersome to have to write the full class name in the scope
>> operation during editing, why not recur to the use of mnemonics, in this
>> case in the scope operation?
>
>  IMHO, using mnemonic will be only a source of problems. The mnemonics, by
> their nature, are not readable because it is not obvious what is the
> meaning of such mnemonic. What is the type of 'c' - is it a 'char' or
> a 'codeblock', what is a type of 'b' - is it a 'logical' or a 'codeblock'.
> What mnemonic should be used for string: 'c' because 'char' or maybe
> 's' because of 'string'? What should be for logical: 'l' because 'logical'
> or 'b' because 'boolean'?

in Hungarian notation, what is c, l, a, n - why questioning a standard?
Although based on this, one can go one step or a few beyond that.  Anyhow,
it is subject to convention (this is one of the Day's, beyond 1-7, as from
the original post)

>> someVar := someVar . c:: upper() // executed in OO manner
>> someVar := someVar . C:: upper() // backtranslated procedurally to
>> someVar
>> :=
>> UPPER( someVar )
>
>  IMHO, for this type of job the usual '#pragma' compiler directive is more
> suitable and fits better as a unified method of switching features of the
> compiler.

addressed above

>> Ca-Clipper introduced an attractive form of Hungarian notation, simple
>> and
>> straightforward, but left open, imo, essential paths to be addressed by
>> future evolution; the o for object, with only four object types at the
>> time,
>> is one such occassion.  With good ergonomy in design for mnemonics, why
>> not
>> use acronyms consisting, for example, of 2 letters refering to the actual
>>
>> class type of the object?
>>
>> someVar . tb:: stabilize() // TBrowse class
>
>  Sorry, again the mnemonics are not suitable in real life - what is the
> meaning of 'tb'?

here's an excerpt of the top of a file which demonstrates ObjectDB in full
(o)ceans' port

|#select  J_ca_____________O_cl_525_____key         // xxx, Xxx         ///
KEYboard
|#select  J_ca_____________O_cl_525_____gt          // xx , Xx          ///
GeT

#include "J/ca______/_/___/O/cl_525.___/___0_c_0.oh"        /// ***********
Computer Associates' Clipper 5.2e Default Libraries (5.2.5)

|#select  J_pmicrana_Q_cl__O_odb12B_____odb         // xxx, Xxx         ///
Object DataBase

#include "J/pmicrana/Q/cl_/O/odb12B.___/___0odb0.oh"        /// ***********
Princeton Micran Associates'/Brian Marasca's ObjectDB 1.2j Library (1.2.B)

The use of every mnemonic, except for native types, is subjected to the need
for declaration; while the manifest constants following the (pseudo)
directive #select are unique thru-out (o)ceans', and to be unique among any
third-party addition to it, it identifies it the last letters what is the
standard mnemonic to a class; the trailing comment is very important, not to
be omited, since it describes verbose what the mnemonic or acronym stands
for; at the end of a list of such manifest constants should always follow
an #include directive, which these constants will trigger the selected
classes from, by forcing a cascade of #include's, forward declaring
everything that is needed for the transpilation process; the way the path is
build in the #include lines is subject of the already mentioned tangent
project that was undertaken before (o)ceans'.  It ensures that there's a
unique path, uniform in setup, and never longer than the two that are shown
here, to locate library related header files, that help to have a source
make use of parts, classes, etc of it.  I can't go into that detail, but
suffice it to say that every mnemonic is to be declared at the top of the
source file where it is used in, and there's a good occasion to complete
that declaration with some sort of verbose interpretation.  Also beware that
mnemonics, when just adopting the defaults from corresponding
libraries/projects (in which they may well be unique among each other - as a
matter of fact, mnemonics should be unique _per_ library/project) can
conflict, hence the #select construct provides a way a customize them for
the need of the source file in which they are addressed, by omitting the
first comment slashes (they need to be defined in initial lowercase and
uppercase letter pairs); also, not the classes needed directly are included
in this manner, but also, automatically, their corresponding superclasses.
The #select mechanism is a way to restrict inclusion of only those classes
from a library/project which are effectively used in the source.  OO support
for native types is organised on a _per_ library basis; that support is
automatically included by #include'ing the shown headers; if it weren't for
the gt class, the first #include is just optional, since at transpile-time
the native types classes for the compiler for which the build is done, are
supplied by default, but in the next occurrence, not only the odb class is
'select-ed' but also the native type hierarchy accompanying the ObjectDB
library.  Everything's done in a very modular way, to assure that the
application of mnemonics has been well thought over.

> information about their contents and/or their function (purpose) - the
> information about the variable type is less important and in some
> cases it is not important at all.

> If I call someVar:Display() that the type of somevar is not important - I
> just expect that something will be displayed.

Generally this is true; i expect it to be a neverending topic in discussions
between people in favour and those against some form of type notation
applied to functions/messages.  Your example is just one unique situation;
the same function could be wanted in combination with a control statement,
where, if it returns some logical value, it might be tested directly in the
control statement; ie. if( someVarDisplay()) ... // perhaps to check whether
no errors occured

Here's also why i'd sometimes wished COMMANDs returned a value also, and
were defined using #[x]translate instead of #[x]command, so that they could
be used in expressions, at least be used in codeblocks.

I will not go into discussing pros and cons; (o)ceans' opting for an
experiment, and especially applied to native type OO support messaging,
there seems to be good logic applying (o)ceans' notation, as shown in the
original review

someVar_c7 . c:: lTrim9c() . c:: val9n() . n:: int9n() . n:: str9c()

Beware that the set of types, as inherent to Ca-Clipper, was extended in
(o)ceans' to anticipate to a possible scenario where distinction between
integer and rational, as opposed to simply numeric, would be able to put to
good use to the resulting code environment, whether .NET or not.  It even
distinguishes between u and i, unsigned as opposed to (signed) integer, and
so on.  Each of these further qualifications might become subject to a later
discussion, there are so many things in the project i just can't address all
at once.

But to this context i just wanted to add that given that the example just
shown is based on a hierarchy for native types, which is or is not more
granular than the basic Ca-Clipper/[x]Harbour types, by means of
superclassing the corresponding class functions to a degree more suitable to
this or that endcode environment, the example might have shown as:

someVar_c7 . c:: lTrim9c() . c:: val9n() ;
                     . n:: int9n() . i:: str9c()
                                       ^^
or put in another way, when there's a complex hierarchy of classes involved,
the type mnemonic in (o)ceans' notation of a previous message is not just
the only option for chaining a subsequent scope operation to; as in last
example, int9n() chains to i:: ... Outside the application of OO to native
types there are certainly more relevant examples to this situation; hence an
explicit mnemonic in a scope operation is really welcome, to the reader at
least i guess.  For the newcome coder, it is a drilling exercise; it helps
to be crystal clear in mind as to what he/she's coding, and when familiar
with many code samples written this way, what has been the str() function
to legacy, when wondering n:: str...? will automatically pop to mind as n::
str9c() but that's true for any api, when consistently designed.

Hence the absolute prerequisite for a good design from day 1

>> Most modern IDE's and lots of editors come with some sort of
>> intellisense;
>> it is more practicable to have identifiers start with their actual naming
>
>  No, no, no - most modern editors are stupid instead of intelligent. They
> geuess wrong and autocompletion slowdown writing because I have to
> move head up, locate the cursor, move my hand to mouse or keyboard
> cursors and adjust the selection.
> The features of editors shouldn't have impact on programming language
> design.

Okay, even regardless, type notation in suffix 'announces' a (possible)
mnemonic in a subsequent scope operation.

>> Link and (visibility) scope information can be put to use differentiating
>> between identifiers, pushing polymorhism to a higher degree, by simply
>> inserting that info in the type notation.  Static and Local variables
>> which
>> share the actual namepart, may be recognised by means of a digit
>> describing
>> scope.  Digits are visually far more striking than an additional letter;
>> combined scope and type inferencing in identifier notation allows, for
>> instance
>>
>> static  someVar_c2  // c=char and 2 = static module-wide
>> static  someVar_l2   // l=logical
>
>  It seems that your main goal is to create the syntax that is the most
> informative at reading code time. However the productivity at writing code
> time is completly ignored this way. I may be mistaken but the language
> in which you concentrate on type and visibility/scope of variables/methods
> is not usable. The type and scope is a helper information and cannot be
> the
> main information during coding.

Personally i have pre-publication drafts of code which leave type notation
behind, but from the moment it is already in good shape, it is gradually
converted; i understand that this is not a real option in code that is
continually to be enhanced, why the application of type notation for the
case of LOCAL variables is optional according to the project's guidelines;
this ensures that polymorphism in the actual naming part of variables is
still available, since the exception to apply this style of notation is
reserved only for LOCALs

static  someVar_c2  // c=char and 2 = static module-wide
static  someVar_l2   // l=logical
...
function SomeFunction ( ... )
static   someVar_c1  // 1 = static function-wide
local    someVar   // no type notation here

Furthermore, when type declaration is systematically inserted as part of the
language, even when the compiled code targets a weakly typed run
environment, a tool can be designed to convert pre-publication sources into
reader-friendly form, but here's to be said that this ought only relief the
coder from type notation, not from mnemonic scope insertion, and the other
semantical aspects (parenthese variants etc)

Such tool is likely to be derived easily from a more general tool which
converts xBase code into (o)ceans' for the project's purposes, but
admittedly, there's presently no such tool available yet.

To conclude, i understand many concerns from the point of view of the coder,
but experimenting with the so-far produced api, and not only to the native
types, for use with Ca-Clipper, i've more than once, enjoyed the
availability of such interface, even when coding.  When the project reaches
release candidate status, provided that good documentation is available,
you'll be welcome to taste an upcoming flavour in xBase world.  And with a
yes from you, developers, for a parallel native type OO interface in
[x]Harbour, if this premise is acceptable (and at least one more to come),
you won't have to wait that long.

Anyhow, most of (o)ceans' implied syntax may be left behind for an Harbour
parallel, so that the resulting contribution will be mostly in line with the
rest of Harbour, but (o)ceans' notation (and later an agreed on (pushed)
native type hierarchy) is an indissolubly condition to the enterprise, as it
contributes to the extend to which polymorphism can be shaped; and even then
there are instances to which to relax that scheme, in order to generalize,
especially to the need for virtualization of message calling.  Experience
addressing different libraries has lead to notice where and when.

friendly regards,

frank van nuffel
lohen@versateladsl.be

From lohen at versateladsl.be  Wed Dec 19 16:20:13 2007
From: lohen at versateladsl.be (frank van nuffel)
Date: Wed Dec 19 16:19:43 2007
Subject: [Harbour] CaseStudy: an alternative to Hungarian notation for a
	High-Level language such as [x]Harbour
Message-ID: <002101c8425b$0b80b2a0$4001a8c0@REE>

sorry, correction, my mistake

----- Original Message ----- 
From: "frank van nuffel" <lohen@versateladsl.be>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Wednesday, December 19, 2007 4:43 PM
Subject: Re: [Harbour] CaseStudy: an alternative to Hungarian notation for a
High-Level language such as [x]Harbour


> __3  o::c6T  c:: sub9c (  ;// normal FUNCTION returning char(string)
>                                     ;
>       (o)::u6T      first_u7T ;// unsigned (int)
>      , o ::u6T      count_u7T ;
>                                        ;
>    ) {

should read:

  __9  o::c6T  c:: sub9c (  ;// public (exported) instance message
                                      // returning char(string)

From druzus at acn.waw.pl  Wed Dec 19 17:48:58 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Dec 19 17:49:05 2007
Subject: [Harbour] 2007-12-19 18:48 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712191748.lBJHmwhJ005781@31-mo5-4.acn.waw.pl>

2007-12-19 18:48 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/xhb/Makefile
  * harbour/contrib/xhb/common.mak
  + harbour/contrib/xhb/xhbqself.c
    + added xHarbour compatible HB_QSELF() function

  * harbour/contrib/xhb/xhbfunc.c
    * removed HB_QSELF() redirecting to Class(y) compatible __SENDER()
      function

  * harbour/contrib/xhb/xhbcomp.prg
    ! fixed scalar classes overloading, do not enable extended messages
      for basic types if user haven't requested it (ENABLE TYPE CLASS ...),
      use scalar classes defined in RTL

best regards
Przemek
From gvarona at ec-red.com  Thu Dec 20 02:49:45 2007
From: gvarona at ec-red.com (Guillermo Varona)
Date: Thu Dec 20 02:49:49 2007
Subject: [Harbour] Error generando Harbour en HbRDDADS / Error Building
	Harbour in HbRDDADS
Message-ID: <14429725.post@talk.nabble.com>


[SPA]
Hola, he actualizado al ultimo SVN de Harbour, y cuando genero el compilador
mediante make_gnu.bat (uso WinXP SP2+MinGW), obtengo una lista bastante
larga de errores al momento de generar la Lib HbRddADS.
Antes no tenia ningun error al momento de construir harbour.
Yo no voy a usar y creo que no usare esta librer?a, c?mo puedo hacer para
evitar que pase por la creacion de esta librer?a?

[ENG]
Hello, I updated the last SVN Harbor, and when the compiler generates
through make_gnu.bat (use WinXP SP2 + MinGW), I get a fairly long list of
errors when generating the Lib HbRddADS.
Before, she had no mistake when it built harbor.
I am not going to use and I do not think usare this library, how can I do to
avoid passing through the creation of this library?

TIA,
Best Regards
GVS

P.D.: LOG also attached to the construction of harbour . . . ups!!! can't
attached
Here part of the list of errors:
****************************
../../ads1.c:3416: error: syntax error before "hIndex"
../../ads1.c:3418: error: `UNSIGNED32' undeclared (first use in this
function)
../../ads1.c:3420: error: `pOrderInfo' undeclared (first use in this
function)
../../ads1.c:3421: error: `UNSIGNED16' undeclared (first use in this
function)
../../ads1.c:3421: error: syntax error before "u16"
../../ads1.c:3422: error: `UNSIGNED8' undeclared (first use in this
function)
../../ads1.c:3429: error: `pArea' undeclared (first use in this function)
../../ads1.c:3445: error: `u32Options' undeclared (first use in this
function)
../../ads1.c:3445: error: `ADS_COMPOUND' undeclared (first use in this
function)

../../ads1.c:3455: error: `pucWhile' undeclared (first use in this function)
../../ads1.c:3458: error: syntax error before "pucScope"
../../ads1.c:3464: error: `u32RetVal' undeclared (first use in this
function)
../../ads1.c:3464: error: `ADS_BOTTOM' undeclared (first use in this
function)
../../ads1.c:3464: error: `pucScope' undeclared (first use in this function)
../../ads1.c:3464: error: `u16BufLen' undeclared (first use in this
function)
../../ads1.c:3466: error: `AE_SUCCESS' undeclared (first use in this
function)
../../ads1.c:3473: error: `u16' undeclared (first use in this function)
../../ads1.c:3474: warning: implicit declaration of function
`AdsGetIndexExpr'
../../ads1.c:3474: error: `u16Len' undeclared (first use in this function)
../../ads1.c:3476: error: `ADS_STRING' undeclared (first use in this
function)
../../ads1.c:3488: error: `hTableOrIndex' undeclared (first use in this
function
)
../../ads1.c:3516: error: `ADS_CUSTOM' undeclared (first use in this
function)
../../ads1.c:3520: error: `ADS_DESCENDING' undeclared (first use in this
functio
n)
../../ads1.c:3525: error: `ADS_UNIQUE' undeclared (first use in this
function)
../../ads1.c:3528: warning: implicit declaration of function
`AdsCreateIndex'
../../ads1.c:3529: error: syntax error before ')' token
../../ads1.c:3543: error: `hIndex' undeclared (first use in this function)
../../ads1.c:3548: error: syntax error before "ahIndex"
../../ads1.c:3552: error: syntax error before ')' token
../../ads1.c:3553: error: `AE_INDEX_ALREADY_OPEN' undeclared (first use in
this
function)
../../ads1.c:3558: error: `ahIndex' undeclared (first use in this function)
../../ads1.c:3420: warning: unused variable `pExprItem'
../../ads1.c: At top level:
../../ads1.c:3564: error: syntax error before "pArea"
../../ads1.c: In function `adsOrderDestroy':
../../ads1.c:3566: error: `ADSHANDLE' undeclared (first use in this
function)
../../ads1.c:3566: error: syntax error before "hIndex"
../../ads1.c:3567: error: `UNSIGNED32' undeclared (first use in this
function)
../../ads1.c:3570: error: `pOrderInfo' undeclared (first use in this
function)
../../ads1.c:3572: error: `UNSIGNED8' undeclared (first use in this
function)
../../ads1.c:3572: error: syntax error before "pucTagName"
../../ads1.c:3574: error: `pucTagName' undeclared (first use in this
function)
../../ads1.c:3576: error: `ADS_MAX_TAG_NAME' undeclared (first use in this
funct
ion)
../../ads1.c:3577: error: `u32RetVal' undeclared (first use in this
function)
../../ads1.c:3577: error: `pArea' undeclared (first use in this function)
../../ads1.c:3577: error: `hIndex' undeclared (first use in this function)
../../ads1.c:3578: error: `AE_SUCCESS' undeclared (first use in this
function)
../../ads1.c:3582: warning: implicit declaration of function
`AdsDeleteIndex'
../../ads1.c: At top level:
../../ads1.c:3600: error: syntax error before "pArea"
../../ads1.c: In function `adsOrderInfo':
../../ads1.c:3602: error: `ADSHANDLE' undeclared (first use in this
function)
../../ads1.c:3602: error: syntax error before "hIndex"
../../ads1.c:3603: error: `UNSIGNED8' undeclared (first use in this
function)
../../ads1.c:3604: error: `UNSIGNED16' undeclared (first use in this
function)
../../ads1.c:3606: error: `UNSIGNED32' undeclared (first use in this
function)
../../ads1.c:3610: error: `aucBuffer' undeclared (first use in this
function)
../../ads1.c:3613: error: `pArea' undeclared (first use in this function)
../../ads1.c:3617: error: `uiIndex' undeclared (first use in this function)
../../ads1.c:3617: error: `pOrderInfo' undeclared (first use in this
function)
../../ads1.c:3619: error: syntax error before "u32RetVal"
../../ads1.c:3623: error: syntax error before "pucTagName"
../../ads1.c:3625: error: `pucTagName' undeclared (first use in this
function)
../../ads1.c:3627: error: `ADS_MAX_TAG_NAME' undeclared (first use in this
funct
ion)
../../ads1.c:3628: error: `u32RetVal' undeclared (first use in this
function)
../../ads1.c:3628: error: `hIndex' undeclared (first use in this function)
../../ads1.c:3633: error: syntax error before "hb_itemGetNI"
../../ads1.c:3635: error: `AE_SUCCESS' undeclared (first use in this
function)
../../ads1.c:3648: warning: implicit declaration of function
`AdsGetIndexConditi
on'
../../ads1.c:3648: error: `u16len' undeclared (first use in this function)
../../ads1.c:3673: error: `u16' undeclared (first use in this function)
../../ads1.c:3685: warning: implicit declaration of function
`AdsIsIndexDescendi
ng'
../../ads1.c:3697: warning: implicit declaration of function
`AdsIsIndexUnique'
../../ads1.c:3712: error: `ADS_STRING' undeclared (first use in this
function)
../../ads1.c:3715: error: `ADS_NUMERIC' undeclared (first use in this
function)
../../ads1.c:3718: error: `ADS_DATE' undeclared (first use in this function)
../../ads1.c:3721: error: `ADS_LOGICAL' undeclared (first use in this
function)
../../ads1.c:3724: error: `ADS_RAW' undeclared (first use in this function)
../../ads1.c:3739: warning: implicit declaration of function
`AdsGetKeyLength'
../../ads1.c:3786: error: syntax error before "usFilterOption"
../../ads1.c:3787: warning: implicit declaration of function `AdsGetKeyNum'
../../ads1.c:3787: error: `usFilterOption' undeclared (first use in this
functio
n)
../../ads1.c:3787: error: `u32' undeclared (first use in this function)
../../ads1.c:3791: error: syntax error before "usFilterOption"
../../ads1.c:3805: error: `ADS_RESPECTSCOPES' undeclared (first use in this
func
tion)
../../ads1.c:3842: error: syntax error before "usOrder"
../../ads1.c:3845: error: `usOrder' undeclared (first use in this function)
../../ads1.c:3858: warning: implicit declaration of function
`AdsGetIndexFilenam
e'
../../ads1.c:3858: error: `ADS_BASENAME' undeclared (first use in this
function)

../../ads1.c:3870: error: `ADS_FULLPATHNAME' undeclared (first use in this
funct
ion)
../../ads1.c:3891: error: syntax error before ')' token
../../ads1.c:3894: error: `AE_INDEX_ALREADY_OPEN' undeclared (first use in
this
function)
../../ads1.c:3899: error: syntax error before "ahIndex"
../../ads1.c:3902: error: syntax error before ')' token
../../ads1.c:3911: error: syntax error before "else"
../../ads1.c: At top level:
../../ads1.c:3915: error: syntax error before '->' token
../../ads1.c:3915: warning: type defaults to `int' in declaration of
`hb_itemPut
NI'
../../ads1.c:3915: error: conflicting types for 'hb_itemPutNI'
../../../../include/hbapiitm.h:117: error: previous declaration of
'hb_itemPutNI
' was here
../../ads1.c:3915: error: conflicting types for 'hb_itemPutNI'
../../../../include/hbapiitm.h:117: error: previous declaration of
'hb_itemPutNI
' was here
../../ads1.c:3915: warning: data definition has no type or storage class
../../ads1.c:3941: error: syntax error before "LPAREA"
../../ads1.c:3942: warning: type defaults to `int' in declaration of
`AdsGotoTop
'
../../ads1.c:3942: warning: parameter names (without types) in function
declarat
ion
../../ads1.c:3942: warning: data definition has no type or storage class
../../ads1.c:3943: error: syntax error before "do"
../../ads1.c:3953: error: syntax error before "LPAREA"
../../ads1.c:3970: error: syntax error before '->' token
../../ads1.c:3970: warning: type defaults to `int' in declaration of
`hb_itemPut
NL'
../../ads1.c:3970: error: conflicting types for 'hb_itemPutNL'
../../../../include/hbapiitm.h:118: error: previous declaration of
'hb_itemPutNL
' was here
../../ads1.c:3970: error: conflicting types for 'hb_itemPutNL'
../../../../include/hbapiitm.h:118: error: previous declaration of
'hb_itemPutNL
' was here
../../ads1.c:3970: warning: data definition has no type or storage class
../../ads1.c:3975: error: syntax error before '->' token
../../ads1.c:3975: warning: type defaults to `int' in declaration of
`hb_itemPut
NL'
../../ads1.c:3975: warning: data definition has no type or storage class
../../ads1.c:4020: error: syntax error before numeric constant
../../ads1.c:4020: warning: type defaults to `int' in declaration of
`adsScopeSe
t'
../../ads1.c:4020: error: conflicting types for 'adsScopeSet'
../../ads1.c:483: error: previous definition of 'adsScopeSet' was here
../../ads1.c:4020: warning: data definition has no type or storage class
../../ads1.c:4036: warning: type defaults to `int' in declaration of
`AdsClearSc
ope'
../../ads1.c:4036: warning: parameter names (without types) in function
declarat
ion
../../ads1.c:4036: warning: data definition has no type or storage class
../../ads1.c:4037: error: syntax error before '}' token
../../ads1.c:4051: warning: type defaults to `int' in declaration of
`AdsClearSc
ope'
../../ads1.c:4051: warning: parameter names (without types) in function
declarat
ion
../../ads1.c:4051: warning: data definition has no type or storage class
../../ads1.c:4052: error: syntax error before '}' token
../../ads1.c:4063: warning: type defaults to `int' in declaration of
`AdsClearSc
ope'
../../ads1.c:4063: warning: parameter names (without types) in function
declarat
ion
../../ads1.c:4063: warning: data definition has no type or storage class
../../ads1.c:4064: error: syntax error before '}' token
../../ads1.c:4076: error: syntax error before '->' token
../../ads1.c:4076: warning: type defaults to `int' in declaration of
`hb_itemPut
L'
../../ads1.c:4076: error: conflicting types for 'hb_itemPutL'
../../../../include/hbapiitm.h:115: error: previous declaration of
'hb_itemPutL'
 was here
../../ads1.c:4076: error: conflicting types for 'hb_itemPutL'
../../../../include/hbapiitm.h:115: error: previous declaration of
'hb_itemPutL'
 was here
../../ads1.c:4076: warning: data definition has no type or storage class
../../ads1.c:4135: error: syntax error before "pArea"
../../ads1.c: In function `adsClearFilter':
../../ads1.c:4143: warning: implicit declaration of function `AdsClearAOF'
../../ads1.c:4143: error: `pArea' undeclared (first use in this function)
../../ads1.c:4144: warning: implicit declaration of function
`AdsClearFilter'
../../ads1.c: At top level:
../../ads1.c:4155: error: syntax error before "pArea"
../../ads1.c: In function `adsSetFilter':
../../ads1.c:4166: error: `pArea' undeclared (first use in this function)
../../ads1.c:4166: error: `pFilterInfo' undeclared (first use in this
function)
../../ads1.c:4168: error: `UNSIGNED16' undeclared (first use in this
function)
../../ads1.c:4168: error: syntax error before "bValidExpr"
../../ads1.c:4170: error: `UNSIGNED32' undeclared (first use in this
function)
../../ads1.c:4173: warning: implicit declaration of function
`AdsIsExprValid'
../../ads1.c:4173: error: `UNSIGNED8' undeclared (first use in this
function)
../../ads1.c:4173: error: syntax error before ')' token
../../ads1.c:4175: error: `bValidExpr' undeclared (first use in this
function)
../../ads1.c:4182: error: `u32RetVal' undeclared (first use in this
function)
../../ads1.c:4182: warning: implicit declaration of function `AdsSetAOF'
../../ads1.c:4182: error: syntax error before ')' token
../../ads1.c:4186: warning: implicit declaration of function `AdsSetFilter'
../../ads1.c:4186: error: syntax error before ')' token
../../ads1.c:4177: warning: unused variable `szFilter'
../../ads1.c:4191: error: `AE_SUCCESS' undeclared (first use in this
function)
../../ads1.c: At top level:
../../ads1.c:4206: error: syntax error before "pArea"
../../ads1.c: In function `adsRawLock':
../../ads1.c:4208: error: `UNSIGNED32' undeclared (first use in this
function)
../../ads1.c:4208: error: syntax error before "u32RetVal"
../../ads1.c:4211: error: `uiAction' undeclared (first use in this function)
../../ads1.c:4214: error: `pArea' undeclared (first use in this function)
../../ads1.c:4218: error: `u32RetVal' undeclared (first use in this
function)
../../ads1.c:4218: warning: implicit declaration of function `AdsLockRecord'
../../ads1.c:4218: error: `ulRecNo' undeclared (first use in this function)
../../ads1.c:4219: error: `AE_SUCCESS' undeclared (first use in this
function)
../../ads1.c:4237: warning: implicit declaration of function
`AdsUnlockRecord'
../../ads1.c:4249: warning: implicit declaration of function `AdsLockTable'
../../ads1.c:4269: warning: implicit declaration of function
`AdsUnlockTable'
../../ads1.c:4270: error: `AE_TABLE_NOT_LOCKED' undeclared (first use in
this fu
nction)
../../ads1.c:4271: error: `AE_TABLE_NOT_SHARED' undeclared (first use in
this fu
nction)
../../ads1.c: At top level:
../../ads1.c:4284: error: syntax error before "pArea"
../../ads1.c: In function `adsLock':
../../ads1.c:4291: error: `pLockInfo' undeclared (first use in this
function)
../../ads1.c:4296: error: `pArea' undeclared (first use in this function)
../../ads1.c:4321: error: `UNSIGNED8' undeclared (first use in this
function)
../../ads1.c:4321: error: syntax error before ')' token
../../ads1.c: At top level:
../../ads1.c:4331: error: syntax error before "pArea"
../../ads1.c: In function `adsUnLock':
../../ads1.c:4337: error: `pRecNo' undeclared (first use in this function)
../../ads1.c:4339: error: `pArea' undeclared (first use in this function)
../../ads1.c: At top level:
../../ads1.c:4346: error: syntax error before "pArea"
../../ads1.c: In function `adsGetValueFile':
../../ads1.c:4348: error: `UNSIGNED32' undeclared (first use in this
function)
../../ads1.c:4348: error: syntax error before "u32RetVal"
../../ads1.c:4352: error: `uiMode' undeclared (first use in this function)
../../ads1.c:4354: error: `uiIndex' undeclared (first use in this function)
../../ads1.c:4354: error: `pArea' undeclared (first use in this function)
../../ads1.c:4364: error: `u32RetVal' undeclared (first use in this
function)
../../ads1.c:4364: warning: implicit declaration of function
`AdsBinaryToFile'
../../ads1.c:4365: error: `UNSIGNED8' undeclared (first use in this
function)
../../ads1.c:4365: error: syntax error before ')' token
../../ads1.c:4366: error: `AE_SUCCESS' undeclared (first use in this
function)
../../ads1.c: At top level:
../../ads1.c:4376: error: syntax error before "pArea"
../../ads1.c: In function `adsPutValueFile':
../../ads1.c:4378: error: `UNSIGNED32' undeclared (first use in this
function)
../../ads1.c:4378: error: syntax error before "u32RetVal"
../../ads1.c:4382: error: `uiIndex' undeclared (first use in this function)
../../ads1.c:4382: error: `pArea' undeclared (first use in this function)
../../ads1.c:4398: error: `uiMode' undeclared (first use in this function)
../../ads1.c:4398: error: `ADS_BINARY' undeclared (first use in this
function)
../../ads1.c:4398: error: `ADS_IMAGE' undeclared (first use in this
function)
../../ads1.c:4401: error: `u32RetVal' undeclared (first use in this
function)
../../ads1.c:4401: warning: implicit declaration of function
`AdsFileToBinary'
../../ads1.c:4402: error: `UNSIGNED8' undeclared (first use in this
function)
../../ads1.c:4402: error: syntax error before ')' token
../../ads1.c:4403: error: `AE_SUCCESS' undeclared (first use in this
function)
../../ads1.c: In function `adsExit':
../../ads1.c:4551: warning: implicit declaration of function
`AdsApplicationExit
'
../../ads1.c: In function `adsRddInfo':
../../ads1.c:4576: error: `ADSHANDLE' undeclared (first use in this
function)
../../ads1.c:4576: error: syntax error before "hOldConnection"
../../ads1.c:4578: error: syntax error before "hb_itemGetNL"
../../ads1.c:4579: error: `hOldConnection' undeclared (first use in this
functio
n)
../../ads1.c:4583: error: `ADS_ADT' undeclared (first use in this function)
../../ads1.c: At top level:
../../ads1.c:4832: error: syntax error before "hb_rddGetADSWorkAreaPointer"
../../ads1.c:4833: warning: return type defaults to `int'
../../ads1.c: In function `hb_rddGetADSWorkAreaPointer':
../../ads1.c:4834: error: syntax error before "pArea"
../../ads1.c:4836: error: `pArea' undeclared (first use in this function)
../../ads1.c:4843: warning: return makes integer from pointer without a cast
../../ads1.c: In function `HB_FUN_ADSGETRELKEYPOS':
../../ads1.c:4848: error: syntax error before "pArea"
../../ads1.c:4849: error: `pArea' undeclared (first use in this function)
../../ads1.c: In function `HB_FUN_ADSSETRELKEYPOS':
../../ads1.c:4861: error: syntax error before "pArea"
../../ads1.c:4862: error: `pArea' undeclared (first use in this function)
../../ads1.c: In function `HB_FUN_ADSCUSTOMIZEAOF':
../../ads1.c:4874: error: syntax error before "pArea"
../../ads1.c:4876: error: `UNSIGNED32' undeclared (first use in this
function)
../../ads1.c:4876: error: syntax error before "u32NumRecs"
../../ads1.c:4878: error: `UNSIGNED16' undeclared (first use in this
function)
../../ads1.c:4879: error: `pu32Records' undeclared (first use in this
function)
../../ads1.c:4881: error: `pArea' undeclared (first use in this function)
../../ads1.c:4881: error: syntax error before "hb_rddGetADSWorkAreaPointer"
../../ads1.c:4886: error: `u16Option' undeclared (first use in this
function)
../../ads1.c:4891: error: `u32NumRecs' undeclared (first use in this
function)
../../ads1.c:4906: error: syntax error before ')' token
../../ads1.c:4919: error: `u32RetVal' undeclared (first use in this
function)
../../ads1.c:4919: warning: implicit declaration of function
`AdsCustomizeAOF'
../../ads1.c: At top level:
../../ads1.c:455: warning: 'adsScopeGet' defined but not used
../../ads1.c:483: warning: 'adsScopeSet' defined but not used
make[3]: *** [ads1.o] Error 1
make[2]: *** [descend] Error 2
D:\harbour>
-- 
View this message in context: http://www.nabble.com/Error-generando-Harbour-en-HbRDDADS---Error-Building-Harbour-in-HbRDDADS-tp14429725p14429725.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From gvarona at ec-red.com  Thu Dec 20 03:45:41 2007
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Dec 20 03:45:51 2007
Subject: [Harbour] Error generando Harbour en HbRDDADS / Error Building
	Harbour in HbRDDADS
Message-ID: <4769E565.1040101@ec-red.com>

[SPA]
Hola, he actualizado al ultimo SVN de Harbour, y cuando genero el 
compilador mediante make_gnu.bat (uso WinXP SP2+MinGW), obtengo una 
lista bastante larga de errores al momento de generar la Lib HbRddADS.
Antes no tenia ningun error al momento de construir harbour.
Yo no voy a usar y creo que no usare esta librer?a, c?mo puedo hacer 
para evitar que pase por la creacion de esta librer?a?

[ENG]
Hello, I updated the last SVN Harbor, and when the compiler generates 
through make_gnu.bat (use WinXP SP2 + MinGW), I get a fairly long list 
of errors when generating the Lib HbRddADS.
Before, she had no mistake when it built harbor.
I am not going to use and I do not think usare this library, how can I 
do to avoid passing through the creation of this library?

TIA,
Best Regards
GVS

P.D.: LOG also attached to the construction of harbour . . . ups!!! 
can't attached
Here part of the list of errors:
****************************
../../ads1.c:3416: error: syntax error before "hIndex"
../../ads1.c:3418: error: `UNSIGNED32' undeclared (first use in this 
function)
../../ads1.c:3420: error: `pOrderInfo' undeclared (first use in this 
function)
../../ads1.c:3421: error: `UNSIGNED16' undeclared (first use in this 
function)
../../ads1.c:3421: error: syntax error before "u16"
../../ads1.c:3422: error: `UNSIGNED8' undeclared (first use in this 
function)
../../ads1.c:3429: error: `pArea' undeclared (first use in this function)
../../ads1.c:3445: error: `u32Options' undeclared (first use in this 
function)
../../ads1.c:3445: error: `ADS_COMPOUND' undeclared (first use in this 
function)

../../ads1.c:3455: error: `pucWhile' undeclared (first use in this function)
../../ads1.c:3458: error: syntax error before "pucScope"
../../ads1.c:3464: error: `u32RetVal' undeclared (first use in this 
function)
../../ads1.c:3464: error: `ADS_BOTTOM' undeclared (first use in this 
function)
../../ads1.c:3464: error: `pucScope' undeclared (first use in this function)
../../ads1.c:3464: error: `u16BufLen' undeclared (first use in this 
function)
../../ads1.c:3466: error: `AE_SUCCESS' undeclared (first use in this 
function)
../../ads1.c:3473: error: `u16' undeclared (first use in this function)
../../ads1.c:3474: warning: implicit declaration of function 
`AdsGetIndexExpr'
../../ads1.c:3474: error: `u16Len' undeclared (first use in this function)
../../ads1.c:3476: error: `ADS_STRING' undeclared (first use in this 
function)
../../ads1.c:3488: error: `hTableOrIndex' undeclared (first use in this 
function
)
../../ads1.c:3516: error: `ADS_CUSTOM' undeclared (first use in this 
function)
../../ads1.c:3520: error: `ADS_DESCENDING' undeclared (first use in this 
functio
n)
../../ads1.c:3525: error: `ADS_UNIQUE' undeclared (first use in this 
function)
../../ads1.c:3528: warning: implicit declaration of function 
`AdsCreateIndex'
../../ads1.c:3529: error: syntax error before ')' token
../../ads1.c:3543: error: `hIndex' undeclared (first use in this function)
../../ads1.c:3548: error: syntax error before "ahIndex"
../../ads1.c:3552: error: syntax error before ')' token
../../ads1.c:3553: error: `AE_INDEX_ALREADY_OPEN' undeclared (first use 
in this
function)
../../ads1.c:3558: error: `ahIndex' undeclared (first use in this function)
../../ads1.c:3420: warning: unused variable `pExprItem'
../../ads1.c: At top level:
../../ads1.c:3564: error: syntax error before "pArea"
../../ads1.c: In function `adsOrderDestroy':
../../ads1.c:3566: error: `ADSHANDLE' undeclared (first use in this 
function)
../../ads1.c:3566: error: syntax error before "hIndex"
../../ads1.c:3567: error: `UNSIGNED32' undeclared (first use in this 
function)
../../ads1.c:3570: error: `pOrderInfo' undeclared (first use in this 
function)
../../ads1.c:3572: error: `UNSIGNED8' undeclared (first use in this 
function)
../../ads1.c:3572: error: syntax error before "pucTagName"
../../ads1.c:3574: error: `pucTagName' undeclared (first use in this 
function)
../../ads1.c:3576: error: `ADS_MAX_TAG_NAME' undeclared (first use in 
this funct
ion)
../../ads1.c:3577: error: `u32RetVal' undeclared (first use in this 
function)
../../ads1.c:3577: error: `pArea' undeclared (first use in this function)
../../ads1.c:3577: error: `hIndex' undeclared (first use in this function)
../../ads1.c:3578: error: `AE_SUCCESS' undeclared (first use in this 
function)
../../ads1.c:3582: warning: implicit declaration of function 
`AdsDeleteIndex'
../../ads1.c: At top level:
../../ads1.c:3600: error: syntax error before "pArea"
../../ads1.c: In function `adsOrderInfo':
../../ads1.c:3602: error: `ADSHANDLE' undeclared (first use in this 
function)
../../ads1.c:3602: error: syntax error before "hIndex"
../../ads1.c:3603: error: `UNSIGNED8' undeclared (first use in this 
function)
../../ads1.c:3604: error: `UNSIGNED16' undeclared (first use in this 
function)
../../ads1.c:3606: error: `UNSIGNED32' undeclared (first use in this 
function)
../../ads1.c:3610: error: `aucBuffer' undeclared (first use in this 
function)
../../ads1.c:3613: error: `pArea' undeclared (first use in this function)
../../ads1.c:3617: error: `uiIndex' undeclared (first use in this function)
../../ads1.c:3617: error: `pOrderInfo' undeclared (first use in this 
function)
../../ads1.c:3619: error: syntax error before "u32RetVal"
../../ads1.c:3623: error: syntax error before "pucTagName"
../../ads1.c:3625: error: `pucTagName' undeclared (first use in this 
function)
../../ads1.c:3627: error: `ADS_MAX_TAG_NAME' undeclared (first use in 
this funct
ion)
../../ads1.c:3628: error: `u32RetVal' undeclared (first use in this 
function)
../../ads1.c:3628: error: `hIndex' undeclared (first use in this function)
../../ads1.c:3633: error: syntax error before "hb_itemGetNI"
../../ads1.c:3635: error: `AE_SUCCESS' undeclared (first use in this 
function)
../../ads1.c:3648: warning: implicit declaration of function 
`AdsGetIndexConditi
on'
../../ads1.c:3648: error: `u16len' undeclared (first use in this function)
../../ads1.c:3673: error: `u16' undeclared (first use in this function)
../../ads1.c:3685: warning: implicit declaration of function 
`AdsIsIndexDescendi
ng'
../../ads1.c:3697: warning: implicit declaration of function 
`AdsIsIndexUnique'
../../ads1.c:3712: error: `ADS_STRING' undeclared (first use in this 
function)
../../ads1.c:3715: error: `ADS_NUMERIC' undeclared (first use in this 
function)
../../ads1.c:3718: error: `ADS_DATE' undeclared (first use in this function)
../../ads1.c:3721: error: `ADS_LOGICAL' undeclared (first use in this 
function)
../../ads1.c:3724: error: `ADS_RAW' undeclared (first use in this function)
../../ads1.c:3739: warning: implicit declaration of function 
`AdsGetKeyLength'
../../ads1.c:3786: error: syntax error before "usFilterOption"
../../ads1.c:3787: warning: implicit declaration of function `AdsGetKeyNum'
../../ads1.c:3787: error: `usFilterOption' undeclared (first use in this 
functio
n)
../../ads1.c:3787: error: `u32' undeclared (first use in this function)
../../ads1.c:3791: error: syntax error before "usFilterOption"
../../ads1.c:3805: error: `ADS_RESPECTSCOPES' undeclared (first use in 
this func
tion)
../../ads1.c:3842: error: syntax error before "usOrder"
../../ads1.c:3845: error: `usOrder' undeclared (first use in this function)
../../ads1.c:3858: warning: implicit declaration of function 
`AdsGetIndexFilenam
e'
../../ads1.c:3858: error: `ADS_BASENAME' undeclared (first use in this 
function)

../../ads1.c:3870: error: `ADS_FULLPATHNAME' undeclared (first use in 
this funct
ion)
../../ads1.c:3891: error: syntax error before ')' token
../../ads1.c:3894: error: `AE_INDEX_ALREADY_OPEN' undeclared (first use 
in this
function)
../../ads1.c:3899: error: syntax error before "ahIndex"
../../ads1.c:3902: error: syntax error before ')' token
../../ads1.c:3911: error: syntax error before "else"
../../ads1.c: At top level:
../../ads1.c:3915: error: syntax error before '->' token
../../ads1.c:3915: warning: type defaults to `int' in declaration of 
`hb_itemPut
NI'
../../ads1.c:3915: error: conflicting types for 'hb_itemPutNI'
../../../../include/hbapiitm.h:117: error: previous declaration of 
'hb_itemPutNI
' was here
../../ads1.c:3915: error: conflicting types for 'hb_itemPutNI'
../../../../include/hbapiitm.h:117: error: previous declaration of 
'hb_itemPutNI
' was here
../../ads1.c:3915: warning: data definition has no type or storage class
../../ads1.c:3941: error: syntax error before "LPAREA"
../../ads1.c:3942: warning: type defaults to `int' in declaration of 
`AdsGotoTop
'
../../ads1.c:3942: warning: parameter names (without types) in function 
declarat
ion
../../ads1.c:3942: warning: data definition has no type or storage class
../../ads1.c:3943: error: syntax error before "do"
../../ads1.c:3953: error: syntax error before "LPAREA"
../../ads1.c:3970: error: syntax error before '->' token
../../ads1.c:3970: warning: type defaults to `int' in declaration of 
`hb_itemPut
NL'
../../ads1.c:3970: error: conflicting types for 'hb_itemPutNL'
../../../../include/hbapiitm.h:118: error: previous declaration of 
'hb_itemPutNL
' was here
../../ads1.c:3970: error: conflicting types for 'hb_itemPutNL'
../../../../include/hbapiitm.h:118: error: previous declaration of 
'hb_itemPutNL
' was here
../../ads1.c:3970: warning: data definition has no type or storage class
../../ads1.c:3975: error: syntax error before '->' token
../../ads1.c:3975: warning: type defaults to `int' in declaration of 
`hb_itemPut
NL'
../../ads1.c:3975: warning: data definition has no type or storage class
../../ads1.c:4020: error: syntax error before numeric constant
../../ads1.c:4020: warning: type defaults to `int' in declaration of 
`adsScopeSe
t'
../../ads1.c:4020: error: conflicting types for 'adsScopeSet'
../../ads1.c:483: error: previous definition of 'adsScopeSet' was here
../../ads1.c:4020: warning: data definition has no type or storage class
../../ads1.c:4036: warning: type defaults to `int' in declaration of 
`AdsClearSc
ope'
../../ads1.c:4036: warning: parameter names (without types) in function 
declarat
ion
../../ads1.c:4036: warning: data definition has no type or storage class
../../ads1.c:4037: error: syntax error before '}' token
../../ads1.c:4051: warning: type defaults to `int' in declaration of 
`AdsClearSc
ope'
../../ads1.c:4051: warning: parameter names (without types) in function 
declarat
ion
../../ads1.c:4051: warning: data definition has no type or storage class
../../ads1.c:4052: error: syntax error before '}' token
../../ads1.c:4063: warning: type defaults to `int' in declaration of 
`AdsClearSc
ope'
../../ads1.c:4063: warning: parameter names (without types) in function 
declarat
ion
../../ads1.c:4063: warning: data definition has no type or storage class
../../ads1.c:4064: error: syntax error before '}' token
../../ads1.c:4076: error: syntax error before '->' token
../../ads1.c:4076: warning: type defaults to `int' in declaration of 
`hb_itemPut
L'
../../ads1.c:4076: error: conflicting types for 'hb_itemPutL'
../../../../include/hbapiitm.h:115: error: previous declaration of 
'hb_itemPutL'
 was here
../../ads1.c:4076: error: conflicting types for 'hb_itemPutL'
../../../../include/hbapiitm.h:115: error: previous declaration of 
'hb_itemPutL'
 was here
../../ads1.c:4076: warning: data definition has no type or storage class
../../ads1.c:4135: error: syntax error before "pArea"
../../ads1.c: In function `adsClearFilter':
../../ads1.c:4143: warning: implicit declaration of function `AdsClearAOF'
../../ads1.c:4143: error: `pArea' undeclared (first use in this function)
../../ads1.c:4144: warning: implicit declaration of function 
`AdsClearFilter'
../../ads1.c: At top level:
../../ads1.c:4155: error: syntax error before "pArea"
../../ads1.c: In function `adsSetFilter':
../../ads1.c:4166: error: `pArea' undeclared (first use in this function)
../../ads1.c:4166: error: `pFilterInfo' undeclared (first use in this 
function)
../../ads1.c:4168: error: `UNSIGNED16' undeclared (first use in this 
function)
../../ads1.c:4168: error: syntax error before "bValidExpr"
../../ads1.c:4170: error: `UNSIGNED32' undeclared (first use in this 
function)
../../ads1.c:4173: warning: implicit declaration of function 
`AdsIsExprValid'
../../ads1.c:4173: error: `UNSIGNED8' undeclared (first use in this 
function)
../../ads1.c:4173: error: syntax error before ')' token
../../ads1.c:4175: error: `bValidExpr' undeclared (first use in this 
function)
../../ads1.c:4182: error: `u32RetVal' undeclared (first use in this 
function)
../../ads1.c:4182: warning: implicit declaration of function `AdsSetAOF'
../../ads1.c:4182: error: syntax error before ')' token
../../ads1.c:4186: warning: implicit declaration of function `AdsSetFilter'
../../ads1.c:4186: error: syntax error before ')' token
../../ads1.c:4177: warning: unused variable `szFilter'
../../ads1.c:4191: error: `AE_SUCCESS' undeclared (first use in this 
function)
../../ads1.c: At top level:
../../ads1.c:4206: error: syntax error before "pArea"
../../ads1.c: In function `adsRawLock':
../../ads1.c:4208: error: `UNSIGNED32' undeclared (first use in this 
function)
../../ads1.c:4208: error: syntax error before "u32RetVal"
../../ads1.c:4211: error: `uiAction' undeclared (first use in this function)
../../ads1.c:4214: error: `pArea' undeclared (first use in this function)
../../ads1.c:4218: error: `u32RetVal' undeclared (first use in this 
function)
../../ads1.c:4218: warning: implicit declaration of function `AdsLockRecord'
../../ads1.c:4218: error: `ulRecNo' undeclared (first use in this function)
../../ads1.c:4219: error: `AE_SUCCESS' undeclared (first use in this 
function)
../../ads1.c:4237: warning: implicit declaration of function 
`AdsUnlockRecord'
../../ads1.c:4249: warning: implicit declaration of function `AdsLockTable'
../../ads1.c:4269: warning: implicit declaration of function 
`AdsUnlockTable'
../../ads1.c:4270: error: `AE_TABLE_NOT_LOCKED' undeclared (first use in 
this fu
nction)
../../ads1.c:4271: error: `AE_TABLE_NOT_SHARED' undeclared (first use in 
this fu
nction)
../../ads1.c: At top level:
../../ads1.c:4284: error: syntax error before "pArea"
../../ads1.c: In function `adsLock':
../../ads1.c:4291: error: `pLockInfo' undeclared (first use in this 
function)
../../ads1.c:4296: error: `pArea' undeclared (first use in this function)
../../ads1.c:4321: error: `UNSIGNED8' undeclared (first use in this 
function)
../../ads1.c:4321: error: syntax error before ')' token
../../ads1.c: At top level:
../../ads1.c:4331: error: syntax error before "pArea"
../../ads1.c: In function `adsUnLock':
../../ads1.c:4337: error: `pRecNo' undeclared (first use in this function)
../../ads1.c:4339: error: `pArea' undeclared (first use in this function)
../../ads1.c: At top level:
../../ads1.c:4346: error: syntax error before "pArea"
../../ads1.c: In function `adsGetValueFile':
../../ads1.c:4348: error: `UNSIGNED32' undeclared (first use in this 
function)
../../ads1.c:4348: error: syntax error before "u32RetVal"
../../ads1.c:4352: error: `uiMode' undeclared (first use in this function)
../../ads1.c:4354: error: `uiIndex' undeclared (first use in this function)
../../ads1.c:4354: error: `pArea' undeclared (first use in this function)
../../ads1.c:4364: error: `u32RetVal' undeclared (first use in this 
function)
../../ads1.c:4364: warning: implicit declaration of function 
`AdsBinaryToFile'
../../ads1.c:4365: error: `UNSIGNED8' undeclared (first use in this 
function)
../../ads1.c:4365: error: syntax error before ')' token
../../ads1.c:4366: error: `AE_SUCCESS' undeclared (first use in this 
function)
../../ads1.c: At top level:
../../ads1.c:4376: error: syntax error before "pArea"
../../ads1.c: In function `adsPutValueFile':
../../ads1.c:4378: error: `UNSIGNED32' undeclared (first use in this 
function)
../../ads1.c:4378: error: syntax error before "u32RetVal"
../../ads1.c:4382: error: `uiIndex' undeclared (first use in this function)
../../ads1.c:4382: error: `pArea' undeclared (first use in this function)
../../ads1.c:4398: error: `uiMode' undeclared (first use in this function)
../../ads1.c:4398: error: `ADS_BINARY' undeclared (first use in this 
function)
../../ads1.c:4398: error: `ADS_IMAGE' undeclared (first use in this 
function)
../../ads1.c:4401: error: `u32RetVal' undeclared (first use in this 
function)
../../ads1.c:4401: warning: implicit declaration of function 
`AdsFileToBinary'
../../ads1.c:4402: error: `UNSIGNED8' undeclared (first use in this 
function)
../../ads1.c:4402: error: syntax error before ')' token
../../ads1.c:4403: error: `AE_SUCCESS' undeclared (first use in this 
function)
../../ads1.c: In function `adsExit':
../../ads1.c:4551: warning: implicit declaration of function 
`AdsApplicationExit
'
../../ads1.c: In function `adsRddInfo':
../../ads1.c:4576: error: `ADSHANDLE' undeclared (first use in this 
function)
../../ads1.c:4576: error: syntax error before "hOldConnection"
../../ads1.c:4578: error: syntax error before "hb_itemGetNL"
../../ads1.c:4579: error: `hOldConnection' undeclared (first use in this 
functio
n)
../../ads1.c:4583: error: `ADS_ADT' undeclared (first use in this function)
../../ads1.c: At top level:
../../ads1.c:4832: error: syntax error before "hb_rddGetADSWorkAreaPointer"
../../ads1.c:4833: warning: return type defaults to `int'
../../ads1.c: In function `hb_rddGetADSWorkAreaPointer':
../../ads1.c:4834: error: syntax error before "pArea"
../../ads1.c:4836: error: `pArea' undeclared (first use in this function)
../../ads1.c:4843: warning: return makes integer from pointer without a cast
../../ads1.c: In function `HB_FUN_ADSGETRELKEYPOS':
../../ads1.c:4848: error: syntax error before "pArea"
../../ads1.c:4849: error: `pArea' undeclared (first use in this function)
../../ads1.c: In function `HB_FUN_ADSSETRELKEYPOS':
../../ads1.c:4861: error: syntax error before "pArea"
../../ads1.c:4862: error: `pArea' undeclared (first use in this function)
../../ads1.c: In function `HB_FUN_ADSCUSTOMIZEAOF':
../../ads1.c:4874: error: syntax error before "pArea"
../../ads1.c:4876: error: `UNSIGNED32' undeclared (first use in this 
function)
../../ads1.c:4876: error: syntax error before "u32NumRecs"
../../ads1.c:4878: error: `UNSIGNED16' undeclared (first use in this 
function)
../../ads1.c:4879: error: `pu32Records' undeclared (first use in this 
function)
../../ads1.c:4881: error: `pArea' undeclared (first use in this function)
../../ads1.c:4881: error: syntax error before "hb_rddGetADSWorkAreaPointer"
../../ads1.c:4886: error: `u16Option' undeclared (first use in this 
function)
../../ads1.c:4891: error: `u32NumRecs' undeclared (first use in this 
function)
../../ads1.c:4906: error: syntax error before ')' token
../../ads1.c:4919: error: `u32RetVal' undeclared (first use in this 
function)
../../ads1.c:4919: warning: implicit declaration of function 
`AdsCustomizeAOF'
../../ads1.c: At top level:
../../ads1.c:455: warning: 'adsScopeGet' defined but not used
../../ads1.c:483: warning: 'adsScopeSet' defined but not used
make[3]: *** [ads1.o] Error 1
make[2]: *** [descend] Error 2
D:\harbour>
From dmacias at mail.udg.mx  Thu Dec 20 06:53:00 2007
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Dec 20 06:53:31 2007
Subject: [Harbour] Re: Harbour under OS/2 - eCS
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <476A114C.7010208@mail.udg.mx>

>2007-12-19 13:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/contrib/hbct/files.c
 >    ! use DATE and TIME parameters formated like for DOS in OS2
 >      version of SETFDATI() - David,  if possible please repeat
 >      the test from my previous commit, thank you.


Thanks Przemek, results are below

Results of current Harbour devel branch build under OS/2:
- eCS 1.2MR
- gcc (GCC) 3.3.5 (Bird Build 2006-03-18 05:37)
- set C_USR=-DHB_LONG_LONG_OFF

---------------------------------------------------------
[E:\harbour712]make -r           1>make_gnu.log
../../gtstd.c: In function `hb_gt_std_ReadKey':
../../gtstd.c:357: warning: unused variable `TODO'
---------------------------------------------------------

>      I'm interesting in results of this code compiled with OS2
>      Harbour build:
>         proc main()
>            local cFile:="_tst.tmp"
>            FCLOSE(FCREATE(cFile))
>            ? FILEDATE(cFile), FILETIME(cFile)
>            ? SETFDATI(cFile,STOD("20061129"),"12:34:45")
>            ? FILEDATE(cFile), FILETIME(cFile)
>            ? SETFDATI(cFile)
>            ? FILEDATE(cFile), FILETIME(cFile)
>            FERASE(cFile)
>         return


Results of code:
--------------------------------
[E:\harbour712\bin]prueba.exe

12/20/07 00:46:30
.F.
11/29/06 12:34:44
.F.
12/20/07 00:46:30
--------------------------------


David Macias



From druzus at acn.waw.pl  Thu Dec 20 07:06:39 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Dec 20 07:06:44 2007
Subject: [Harbour] 2007-12-20 08:06 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712200706.lBK76dMZ007999@31-mo5-4.acn.waw.pl>

2007-12-20 08:06 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbct/files.c
    ! added missing 'return;' - in OS2 builds - it should fix value
      returned by SETFDATI(), many thanks to David for his tests,
      now SETFDATI() should be fully functional in OS2 builds.

best regards
Przemek
From dmacias at mail.udg.mx  Thu Dec 20 07:36:20 2007
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Dec 20 07:36:49 2007
Subject: [Harbour] Re: Harbour under OS/2 - eCS
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <476A1B74.3070501@mail.udg.mx>

>2007-12-20 08:06 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/contrib/hbct/files.c
>    ! added missing 'return;' - in OS2 builds - it should fix value
>      returned by SETFDATI(), many thanks to David for his tests,
>      now SETFDATI() should be fully functional in OS2 builds.


Thanks Przemek, results are below

Results of current Harbour devel branch build under OS/2:
- eCS 1.2MR
- gcc (GCC) 3.3.5 (Bird Build 2006-03-18 05:37)
- set C_USR=-DHB_LONG_LONG_OFF

---------------------------------------------------------
[E:\harbour712]make -r           1>make_gnu.log
../../gtstd.c: In function `hb_gt_std_ReadKey':
../../gtstd.c:357: warning: unused variable `TODO'
---------------------------------------------------------

>      I'm interesting in results of this code compiled with OS2
>      Harbour build:
>         proc main()
>            local cFile:="_tst.tmp"
>            FCLOSE(FCREATE(cFile))
>            ? FILEDATE(cFile), FILETIME(cFile)
>            ? SETFDATI(cFile,STOD("20061129"),"12:34:45")
>            ? FILEDATE(cFile), FILETIME(cFile)
>            ? SETFDATI(cFile)
>            ? FILEDATE(cFile), FILETIME(cFile)
>            FERASE(cFile)
>         return


Results of code:
--------------------------------
[E:\harbour712\bin]prueba.exe

12/20/07 01:26:12
.T.
11/29/06 12:34:44
.T.
12/20/07 01:26:12
--------------------------------


Przemek, why code set "12:34:45" value and SETFDATI() get "12:34:44" ?


Except for warning in gtstd.c, Harbour is ready for beta 4 under OS/2 - 
eCS, at least in build phase

But I suggest to release beta 4 until January, because many people are 
on vacations, traveling, disconnected, ...

David Macias


From philb at philb.us  Thu Dec 20 07:42:01 2007
From: philb at philb.us (Phil Barnett)
Date: Thu Dec 20 07:42:04 2007
Subject: [Harbour] Re: Harbour under OS/2 - eCS
In-Reply-To: <476A1B74.3070501@mail.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<476A1B74.3070501@mail.udg.mx>
Message-ID: <200712200242.01356.philb@philb.us>

On Thursday 20 December 2007 02:36:20 am David Arturo Macias Corona wrote:

> But I suggest to release beta 4 until January, because many people are
> on vacations, traveling, disconnected, ...

The critical part of our beta release cycle is not what date we release it but 
what date we call it a release candidate or we decide we need to release 
another beta.
From guy.roussin at teledetection.fr  Thu Dec 20 07:54:22 2007
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Thu Dec 20 07:54:29 2007
Subject: [Harbour] Error generando Harbour en HbRDDADS / Error Building
	Harbour in HbRDDADS
In-Reply-To: <4769E565.1040101@ec-red.com>
References: <4769E565.1040101@ec-red.com>
Message-ID: <476A1FAE.9010402@teledetection.fr>

I think "ace.h" is removed from svn ... perhaps a licence problem ?
Guy

Guillermo Varona Silup? a ?crit :
> [SPA]
> Hola, he actualizado al ultimo SVN de Harbour, y cuando genero el 
> compilador mediante make_gnu.bat (uso WinXP SP2+MinGW), obtengo una 
> lista bastante larga de errores al momento de generar la Lib HbRddADS.
> Antes no tenia ningun error al momento de construir harbour.
> Yo no voy a usar y creo que no usare esta librer?a, c?mo puedo hacer 
> para evitar que pase por la creacion de esta librer?a?
> 
> [ENG]
> Hello, I updated the last SVN Harbor, and when the compiler generates 
> through make_gnu.bat (use WinXP SP2 + MinGW), I get a fairly long list 
> of errors when generating the Lib HbRddADS.
> Before, she had no mistake when it built harbor.
> I am not going to use and I do not think usare this library, how can I 
> do to avoid passing through the creation of this library?
> 
> TIA,
> Best Regards
> GVS
> 
> P.D.: LOG also attached to the construction of harbour . . . ups!!! 
> can't attached
> Here part of the list of errors:
> ****************************
> ../../ads1.c:3416: error: syntax error before "hIndex"
> ../../ads1.c:3418: error: `UNSIGNED32' undeclared (first use in this 
> function)
> ../../ads1.c:3420: error: `pOrderInfo' undeclared (first use in this 
> function)
> ../../ads1.c:3421: error: `UNSIGNED16' undeclared (first use in this 
> function)
> ../../ads1.c:3421: error: syntax error before "u16"
> ../../ads1.c:3422: error: `UNSIGNED8' undeclared (first use in this 
> function)
> ../../ads1.c:3429: error: `pArea' undeclared (first use in this function)
> ../../ads1.c:3445: error: `u32Options' undeclared (first use in this 
> function)
> ../../ads1.c:3445: error: `ADS_COMPOUND' undeclared (first use in this 
> function)
> 
> ../../ads1.c:3455: error: `pucWhile' undeclared (first use in this 
> function)
> ../../ads1.c:3458: error: syntax error before "pucScope"
> ../../ads1.c:3464: error: `u32RetVal' undeclared (first use in this 
> function)
> ../../ads1.c:3464: error: `ADS_BOTTOM' undeclared (first use in this 
> function)
> ../../ads1.c:3464: error: `pucScope' undeclared (first use in this 
> function)
> ../../ads1.c:3464: error: `u16BufLen' undeclared (first use in this 
> function)
> ../../ads1.c:3466: error: `AE_SUCCESS' undeclared (first use in this 
> function)
> ../../ads1.c:3473: error: `u16' undeclared (first use in this function)
> ../../ads1.c:3474: warning: implicit declaration of function 
> `AdsGetIndexExpr'
> ../../ads1.c:3474: error: `u16Len' undeclared (first use in this function)
> ../../ads1.c:3476: error: `ADS_STRING' undeclared (first use in this 
> function)
> ../../ads1.c:3488: error: `hTableOrIndex' undeclared (first use in this 
> function
> )
> ../../ads1.c:3516: error: `ADS_CUSTOM' undeclared (first use in this 
> function)
> ../../ads1.c:3520: error: `ADS_DESCENDING' undeclared (first use in this 
> functio
> n)
> ../../ads1.c:3525: error: `ADS_UNIQUE' undeclared (first use in this 
> function)
> ../../ads1.c:3528: warning: implicit declaration of function 
> `AdsCreateIndex'
> ../../ads1.c:3529: error: syntax error before ')' token
> ../../ads1.c:3543: error: `hIndex' undeclared (first use in this function)
> ../../ads1.c:3548: error: syntax error before "ahIndex"
> ../../ads1.c:3552: error: syntax error before ')' token
> ../../ads1.c:3553: error: `AE_INDEX_ALREADY_OPEN' undeclared (first use 
> in this
> function)
> ../../ads1.c:3558: error: `ahIndex' undeclared (first use in this function)
> ../../ads1.c:3420: warning: unused variable `pExprItem'
> ../../ads1.c: At top level:
> ../../ads1.c:3564: error: syntax error before "pArea"
> ../../ads1.c: In function `adsOrderDestroy':
> ../../ads1.c:3566: error: `ADSHANDLE' undeclared (first use in this 
> function)
> ../../ads1.c:3566: error: syntax error before "hIndex"
> ../../ads1.c:3567: error: `UNSIGNED32' undeclared (first use in this 
> function)
> ../../ads1.c:3570: error: `pOrderInfo' undeclared (first use in this 
> function)
> ../../ads1.c:3572: error: `UNSIGNED8' undeclared (first use in this 
> function)
> ../../ads1.c:3572: error: syntax error before "pucTagName"
> ../../ads1.c:3574: error: `pucTagName' undeclared (first use in this 
> function)
> ../../ads1.c:3576: error: `ADS_MAX_TAG_NAME' undeclared (first use in 
> this funct
> ion)
> ../../ads1.c:3577: error: `u32RetVal' undeclared (first use in this 
> function)
> ../../ads1.c:3577: error: `pArea' undeclared (first use in this function)
> ../../ads1.c:3577: error: `hIndex' undeclared (first use in this function)
> ../../ads1.c:3578: error: `AE_SUCCESS' undeclared (first use in this 
> function)
> ../../ads1.c:3582: warning: implicit declaration of function 
> `AdsDeleteIndex'
> ../../ads1.c: At top level:
> ../../ads1.c:3600: error: syntax error before "pArea"
> ../../ads1.c: In function `adsOrderInfo':
> ../../ads1.c:3602: error: `ADSHANDLE' undeclared (first use in this 
> function)
> ../../ads1.c:3602: error: syntax error before "hIndex"
> ../../ads1.c:3603: error: `UNSIGNED8' undeclared (first use in this 
> function)
> ../../ads1.c:3604: error: `UNSIGNED16' undeclared (first use in this 
> function)
> ../../ads1.c:3606: error: `UNSIGNED32' undeclared (first use in this 
> function)
> ../../ads1.c:3610: error: `aucBuffer' undeclared (first use in this 
> function)
> ../../ads1.c:3613: error: `pArea' undeclared (first use in this function)
> ../../ads1.c:3617: error: `uiIndex' undeclared (first use in this function)
> ../../ads1.c:3617: error: `pOrderInfo' undeclared (first use in this 
> function)
> ../../ads1.c:3619: error: syntax error before "u32RetVal"
> ../../ads1.c:3623: error: syntax error before "pucTagName"
> ../../ads1.c:3625: error: `pucTagName' undeclared (first use in this 
> function)
> ../../ads1.c:3627: error: `ADS_MAX_TAG_NAME' undeclared (first use in 
> this funct
> ion)
> ../../ads1.c:3628: error: `u32RetVal' undeclared (first use in this 
> function)
> ../../ads1.c:3628: error: `hIndex' undeclared (first use in this function)
> ../../ads1.c:3633: error: syntax error before "hb_itemGetNI"
> ../../ads1.c:3635: error: `AE_SUCCESS' undeclared (first use in this 
> function)
> ../../ads1.c:3648: warning: implicit declaration of function 
> `AdsGetIndexConditi
> on'
> ../../ads1.c:3648: error: `u16len' undeclared (first use in this function)
> ../../ads1.c:3673: error: `u16' undeclared (first use in this function)
> ../../ads1.c:3685: warning: implicit declaration of function 
> `AdsIsIndexDescendi
> ng'
> ../../ads1.c:3697: warning: implicit declaration of function 
> `AdsIsIndexUnique'
> ../../ads1.c:3712: error: `ADS_STRING' undeclared (first use in this 
> function)
> ../../ads1.c:3715: error: `ADS_NUMERIC' undeclared (first use in this 
> function)
> ../../ads1.c:3718: error: `ADS_DATE' undeclared (first use in this 
> function)
> ../../ads1.c:3721: error: `ADS_LOGICAL' undeclared (first use in this 
> function)
> ../../ads1.c:3724: error: `ADS_RAW' undeclared (first use in this function)
> ../../ads1.c:3739: warning: implicit declaration of function 
> `AdsGetKeyLength'
> ../../ads1.c:3786: error: syntax error before "usFilterOption"
> ../../ads1.c:3787: warning: implicit declaration of function `AdsGetKeyNum'
> ../../ads1.c:3787: error: `usFilterOption' undeclared (first use in this 
> functio
> n)
> ../../ads1.c:3787: error: `u32' undeclared (first use in this function)
> ../../ads1.c:3791: error: syntax error before "usFilterOption"
> ../../ads1.c:3805: error: `ADS_RESPECTSCOPES' undeclared (first use in 
> this func
> tion)
> ../../ads1.c:3842: error: syntax error before "usOrder"
> ../../ads1.c:3845: error: `usOrder' undeclared (first use in this function)
> ../../ads1.c:3858: warning: implicit declaration of function 
> `AdsGetIndexFilenam
> e'
> ../../ads1.c:3858: error: `ADS_BASENAME' undeclared (first use in this 
> function)
> 
> ../../ads1.c:3870: error: `ADS_FULLPATHNAME' undeclared (first use in 
> this funct
> ion)
> ../../ads1.c:3891: error: syntax error before ')' token
> ../../ads1.c:3894: error: `AE_INDEX_ALREADY_OPEN' undeclared (first use 
> in this
> function)
> ../../ads1.c:3899: error: syntax error before "ahIndex"
> ../../ads1.c:3902: error: syntax error before ')' token
> ../../ads1.c:3911: error: syntax error before "else"
> ../../ads1.c: At top level:
> ../../ads1.c:3915: error: syntax error before '->' token
> ../../ads1.c:3915: warning: type defaults to `int' in declaration of 
> `hb_itemPut
> NI'
> ../../ads1.c:3915: error: conflicting types for 'hb_itemPutNI'
> ../../../../include/hbapiitm.h:117: error: previous declaration of 
> 'hb_itemPutNI
> ' was here
> ../../ads1.c:3915: error: conflicting types for 'hb_itemPutNI'
> ../../../../include/hbapiitm.h:117: error: previous declaration of 
> 'hb_itemPutNI
> ' was here
> ../../ads1.c:3915: warning: data definition has no type or storage class
> ../../ads1.c:3941: error: syntax error before "LPAREA"
> ../../ads1.c:3942: warning: type defaults to `int' in declaration of 
> `AdsGotoTop
> '
> ../../ads1.c:3942: warning: parameter names (without types) in function 
> declarat
> ion
> ../../ads1.c:3942: warning: data definition has no type or storage class
> ../../ads1.c:3943: error: syntax error before "do"
> ../../ads1.c:3953: error: syntax error before "LPAREA"
> ../../ads1.c:3970: error: syntax error before '->' token
> ../../ads1.c:3970: warning: type defaults to `int' in declaration of 
> `hb_itemPut
> NL'
> ../../ads1.c:3970: error: conflicting types for 'hb_itemPutNL'
> ../../../../include/hbapiitm.h:118: error: previous declaration of 
> 'hb_itemPutNL
> ' was here
> ../../ads1.c:3970: error: conflicting types for 'hb_itemPutNL'
> ../../../../include/hbapiitm.h:118: error: previous declaration of 
> 'hb_itemPutNL
> ' was here
> ../../ads1.c:3970: warning: data definition has no type or storage class
> ../../ads1.c:3975: error: syntax error before '->' token
> ../../ads1.c:3975: warning: type defaults to `int' in declaration of 
> `hb_itemPut
> NL'
> ../../ads1.c:3975: warning: data definition has no type or storage class
> ../../ads1.c:4020: error: syntax error before numeric constant
> ../../ads1.c:4020: warning: type defaults to `int' in declaration of 
> `adsScopeSe
> t'
> ../../ads1.c:4020: error: conflicting types for 'adsScopeSet'
> ../../ads1.c:483: error: previous definition of 'adsScopeSet' was here
> ../../ads1.c:4020: warning: data definition has no type or storage class
> ../../ads1.c:4036: warning: type defaults to `int' in declaration of 
> `AdsClearSc
> ope'
> ../../ads1.c:4036: warning: parameter names (without types) in function 
> declarat
> ion
> ../../ads1.c:4036: warning: data definition has no type or storage class
> ../../ads1.c:4037: error: syntax error before '}' token
> ../../ads1.c:4051: warning: type defaults to `int' in declaration of 
> `AdsClearSc
> ope'
> ../../ads1.c:4051: warning: parameter names (without types) in function 
> declarat
> ion
> ../../ads1.c:4051: warning: data definition has no type or storage class
> ../../ads1.c:4052: error: syntax error before '}' token
> ../../ads1.c:4063: warning: type defaults to `int' in declaration of 
> `AdsClearSc
> ope'
> ../../ads1.c:4063: warning: parameter names (without types) in function 
> declarat
> ion
> ../../ads1.c:4063: warning: data definition has no type or storage class
> ../../ads1.c:4064: error: syntax error before '}' token
> ../../ads1.c:4076: error: syntax error before '->' token
> ../../ads1.c:4076: warning: type defaults to `int' in declaration of 
> `hb_itemPut
> L'
> ../../ads1.c:4076: error: conflicting types for 'hb_itemPutL'
> ../../../../include/hbapiitm.h:115: error: previous declaration of 
> 'hb_itemPutL'
> was here
> ../../ads1.c:4076: error: conflicting types for 'hb_itemPutL'
> ../../../../include/hbapiitm.h:115: error: previous declaration of 
> 'hb_itemPutL'
> was here
> ../../ads1.c:4076: warning: data definition has no type or storage class
> ../../ads1.c:4135: error: syntax error before "pArea"
> ../../ads1.c: In function `adsClearFilter':
> ../../ads1.c:4143: warning: implicit declaration of function `AdsClearAOF'
> ../../ads1.c:4143: error: `pArea' undeclared (first use in this function)
> ../../ads1.c:4144: warning: implicit declaration of function 
> `AdsClearFilter'
> ../../ads1.c: At top level:
> ../../ads1.c:4155: error: syntax error before "pArea"
> ../../ads1.c: In function `adsSetFilter':
> ../../ads1.c:4166: error: `pArea' undeclared (first use in this function)
> ../../ads1.c:4166: error: `pFilterInfo' undeclared (first use in this 
> function)
> ../../ads1.c:4168: error: `UNSIGNED16' undeclared (first use in this 
> function)
> ../../ads1.c:4168: error: syntax error before "bValidExpr"
> ../../ads1.c:4170: error: `UNSIGNED32' undeclared (first use in this 
> function)
> ../../ads1.c:4173: warning: implicit declaration of function 
> `AdsIsExprValid'
> ../../ads1.c:4173: error: `UNSIGNED8' undeclared (first use in this 
> function)
> ../../ads1.c:4173: error: syntax error before ')' token
> ../../ads1.c:4175: error: `bValidExpr' undeclared (first use in this 
> function)
> ../../ads1.c:4182: error: `u32RetVal' undeclared (first use in this 
> function)
> ../../ads1.c:4182: warning: implicit declaration of function `AdsSetAOF'
> ../../ads1.c:4182: error: syntax error before ')' token
> ../../ads1.c:4186: warning: implicit declaration of function `AdsSetFilter'
> ../../ads1.c:4186: error: syntax error before ')' token
> ../../ads1.c:4177: warning: unused variable `szFilter'
> ../../ads1.c:4191: error: `AE_SUCCESS' undeclared (first use in this 
> function)
> ../../ads1.c: At top level:
> ../../ads1.c:4206: error: syntax error before "pArea"
> ../../ads1.c: In function `adsRawLock':
> ../../ads1.c:4208: error: `UNSIGNED32' undeclared (first use in this 
> function)
> ../../ads1.c:4208: error: syntax error before "u32RetVal"
> ../../ads1.c:4211: error: `uiAction' undeclared (first use in this 
> function)
> ../../ads1.c:4214: error: `pArea' undeclared (first use in this function)
> ../../ads1.c:4218: error: `u32RetVal' undeclared (first use in this 
> function)
> ../../ads1.c:4218: warning: implicit declaration of function 
> `AdsLockRecord'
> ../../ads1.c:4218: error: `ulRecNo' undeclared (first use in this function)
> ../../ads1.c:4219: error: `AE_SUCCESS' undeclared (first use in this 
> function)
> ../../ads1.c:4237: warning: implicit declaration of function 
> `AdsUnlockRecord'
> ../../ads1.c:4249: warning: implicit declaration of function `AdsLockTable'
> ../../ads1.c:4269: warning: implicit declaration of function 
> `AdsUnlockTable'
> ../../ads1.c:4270: error: `AE_TABLE_NOT_LOCKED' undeclared (first use in 
> this fu
> nction)
> ../../ads1.c:4271: error: `AE_TABLE_NOT_SHARED' undeclared (first use in 
> this fu
> nction)
> ../../ads1.c: At top level:
> ../../ads1.c:4284: error: syntax error before "pArea"
> ../../ads1.c: In function `adsLock':
> ../../ads1.c:4291: error: `pLockInfo' undeclared (first use in this 
> function)
> ../../ads1.c:4296: error: `pArea' undeclared (first use in this function)
> ../../ads1.c:4321: error: `UNSIGNED8' undeclared (first use in this 
> function)
> ../../ads1.c:4321: error: syntax error before ')' token
> ../../ads1.c: At top level:
> ../../ads1.c:4331: error: syntax error before "pArea"
> ../../ads1.c: In function `adsUnLock':
> ../../ads1.c:4337: error: `pRecNo' undeclared (first use in this function)
> ../../ads1.c:4339: error: `pArea' undeclared (first use in this function)
> ../../ads1.c: At top level:
> ../../ads1.c:4346: error: syntax error before "pArea"
> ../../ads1.c: In function `adsGetValueFile':
> ../../ads1.c:4348: error: `UNSIGNED32' undeclared (first use in this 
> function)
> ../../ads1.c:4348: error: syntax error before "u32RetVal"
> ../../ads1.c:4352: error: `uiMode' undeclared (first use in this function)
> ../../ads1.c:4354: error: `uiIndex' undeclared (first use in this function)
> ../../ads1.c:4354: error: `pArea' undeclared (first use in this function)
> ../../ads1.c:4364: error: `u32RetVal' undeclared (first use in this 
> function)
> ../../ads1.c:4364: warning: implicit declaration of function 
> `AdsBinaryToFile'
> ../../ads1.c:4365: error: `UNSIGNED8' undeclared (first use in this 
> function)
> ../../ads1.c:4365: error: syntax error before ')' token
> ../../ads1.c:4366: error: `AE_SUCCESS' undeclared (first use in this 
> function)
> ../../ads1.c: At top level:
> ../../ads1.c:4376: error: syntax error before "pArea"
> ../../ads1.c: In function `adsPutValueFile':
> ../../ads1.c:4378: error: `UNSIGNED32' undeclared (first use in this 
> function)
> ../../ads1.c:4378: error: syntax error before "u32RetVal"
> ../../ads1.c:4382: error: `uiIndex' undeclared (first use in this function)
> ../../ads1.c:4382: error: `pArea' undeclared (first use in this function)
> ../../ads1.c:4398: error: `uiMode' undeclared (first use in this function)
> ../../ads1.c:4398: error: `ADS_BINARY' undeclared (first use in this 
> function)
> ../../ads1.c:4398: error: `ADS_IMAGE' undeclared (first use in this 
> function)
> ../../ads1.c:4401: error: `u32RetVal' undeclared (first use in this 
> function)
> ../../ads1.c:4401: warning: implicit declaration of function 
> `AdsFileToBinary'
> ../../ads1.c:4402: error: `UNSIGNED8' undeclared (first use in this 
> function)
> ../../ads1.c:4402: error: syntax error before ')' token
> ../../ads1.c:4403: error: `AE_SUCCESS' undeclared (first use in this 
> function)
> ../../ads1.c: In function `adsExit':
> ../../ads1.c:4551: warning: implicit declaration of function 
> `AdsApplicationExit
> '
> ../../ads1.c: In function `adsRddInfo':
> ../../ads1.c:4576: error: `ADSHANDLE' undeclared (first use in this 
> function)
> ../../ads1.c:4576: error: syntax error before "hOldConnection"
> ../../ads1.c:4578: error: syntax error before "hb_itemGetNL"
> ../../ads1.c:4579: error: `hOldConnection' undeclared (first use in this 
> functio
> n)
> ../../ads1.c:4583: error: `ADS_ADT' undeclared (first use in this function)
> ../../ads1.c: At top level:
> ../../ads1.c:4832: error: syntax error before "hb_rddGetADSWorkAreaPointer"
> ../../ads1.c:4833: warning: return type defaults to `int'
> ../../ads1.c: In function `hb_rddGetADSWorkAreaPointer':
> ../../ads1.c:4834: error: syntax error before "pArea"
> ../../ads1.c:4836: error: `pArea' undeclared (first use in this function)
> ../../ads1.c:4843: warning: return makes integer from pointer without a 
> cast
> ../../ads1.c: In function `HB_FUN_ADSGETRELKEYPOS':
> ../../ads1.c:4848: error: syntax error before "pArea"
> ../../ads1.c:4849: error: `pArea' undeclared (first use in this function)
> ../../ads1.c: In function `HB_FUN_ADSSETRELKEYPOS':
> ../../ads1.c:4861: error: syntax error before "pArea"
> ../../ads1.c:4862: error: `pArea' undeclared (first use in this function)
> ../../ads1.c: In function `HB_FUN_ADSCUSTOMIZEAOF':
> ../../ads1.c:4874: error: syntax error before "pArea"
> ../../ads1.c:4876: error: `UNSIGNED32' undeclared (first use in this 
> function)
> ../../ads1.c:4876: error: syntax error before "u32NumRecs"
> ../../ads1.c:4878: error: `UNSIGNED16' undeclared (first use in this 
> function)
> ../../ads1.c:4879: error: `pu32Records' undeclared (first use in this 
> function)
> ../../ads1.c:4881: error: `pArea' undeclared (first use in this function)
> ../../ads1.c:4881: error: syntax error before "hb_rddGetADSWorkAreaPointer"
> ../../ads1.c:4886: error: `u16Option' undeclared (first use in this 
> function)
> ../../ads1.c:4891: error: `u32NumRecs' undeclared (first use in this 
> function)
> ../../ads1.c:4906: error: syntax error before ')' token
> ../../ads1.c:4919: error: `u32RetVal' undeclared (first use in this 
> function)
> ../../ads1.c:4919: warning: implicit declaration of function 
> `AdsCustomizeAOF'
> ../../ads1.c: At top level:
> ../../ads1.c:455: warning: 'adsScopeGet' defined but not used
> ../../ads1.c:483: warning: 'adsScopeSet' defined but not used
> make[3]: *** [ads1.o] Error 1
> make[2]: *** [descend] Error 2
> D:\harbour>
> _______________________________________________
From druzus at acn.waw.pl  Thu Dec 20 08:11:29 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Dec 20 08:11:34 2007
Subject: [Harbour] Re: Harbour under OS/2 - eCS
In-Reply-To: <476A1B74.3070501@mail.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<476A1B74.3070501@mail.udg.mx>
Message-ID: <20071220081129.GA8638@localhost.localdomain>

On Thu, 20 Dec 2007, David Arturo Macias Corona wrote:
> Results of code:
> --------------------------------
> [E:\harbour712\bin]prueba.exe
> 
> 12/20/07 01:26:12
> .T.
> 11/29/06 12:34:44
> .T.
> 12/20/07 01:26:12
> --------------------------------
> Przemek, why code set "12:34:45" value and SETFDATI() get "12:34:44" ?

Because like in DOS file time is stored in two seconds periods so it's
not possible to set odd number of seconds - it's FS/OS API limitation.

> Except for warning in gtstd.c,

This warning will be left for someone who will want to add keyboard
support in OS2 build of GTSTD. It's intentional marker that sth should
be done yet. Sorry but I will not make it myself - writing code of OS2
is a nightmare for me - I cannot even compile it (and of course test)
and I have to look for incomplete documentation in Internet even for
very basic things and then I have to ask you for real life tests.
Real OS2 user with some practice with C should add keyboard support
to GTSTD in few minutes. F.e. for STDIN only and GCC build it should
be possible to simply copy OS2 keyboard code from GTPCA.

> Harbour is ready for beta 4 under OS/2 - eCS, at least in build phase
> But I suggest to release beta 4 until January, because many people are 
> on vacations, traveling, disconnected, ...

We will release it when we will be ready ;-). Now we are waiting of
modified by Viktor TBROWSE code and then we can start release process.
Meanwhile I would like to ask for build tests with different C compilers
and OSes other developers so we can locate existing problems.
Thank you for your help.

best regards,
Przemek
From guy.roussin at teledetection.fr  Thu Dec 20 08:32:41 2007
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Thu Dec 20 08:32:44 2007
Subject: [Harbour] Little patch to contrib/hbpgsql/Makefile
In-Reply-To: <20071216120707.GA7440@localhost.localdomain>
References: <20071215115118.206ED3684C@mafalda.teledetection.fr>
	<20071216120707.GA7440@localhost.localdomain>
Message-ID: <476A28A9.6030008@teledetection.fr>

Hi,

Przemyslaw Czerpak a ?crit :
> On Sat, 15 Dec 2007, Guy Roussin wrote:
>> Hi, 
>> I want to build hbpgsql lib on my debian etch.
>> I only need to install libpq-dev package and make 
>> a little patch to harbour/contrib/hbpgsql/Makefile
>> Can you apply it ?
> 
> Yes, please.
The patch was in my previous mail :-)

> If you can also add conditional build of hbpgsql to DEB files
> then it would be nice.
I think the way to go is to create a 'debian' sub-directory, with
all stuff required by debian/ubuntu package on harbour svn.
After this, the file make_deb.sh become a very short script with lines
like these:
"debian/rules binary"
"debian/rules clean"
"debian/rules build"

Luis Mayoral is the maintainer of the debian package, but i can't
see any update since 2004.
I'm not a debian developper, but i can try to create this
debian sub-directory. I get the debian sub-directory from the
actual debian package as a start.
What do you think ?

Guy

From guy.roussin at teledetection.fr  Thu Dec 20 08:53:29 2007
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Thu Dec 20 08:53:32 2007
Subject: [Harbour] Little patch to contrib/hbpgsql/Makefile
In-Reply-To: <476A28A9.6030008@teledetection.fr>
References: <20071215115118.206ED3684C@mafalda.teledetection.fr>	<20071216120707.GA7440@localhost.localdomain>
	<476A28A9.6030008@teledetection.fr>
Message-ID: <476A2D89.3010305@teledetection.fr>

> Luis Mayoral is the maintainer of the debian package, but i can't
> see any update since 2004.
Sorry, there is an update from Clint Adams, 18 May 2006

Guy

From druzus at acn.waw.pl  Thu Dec 20 09:12:20 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Dec 20 09:12:25 2007
Subject: [Harbour] Little patch to contrib/hbpgsql/Makefile
In-Reply-To: <476A28A9.6030008@teledetection.fr>
References: <20071215115118.206ED3684C@mafalda.teledetection.fr>
	<20071216120707.GA7440@localhost.localdomain>
	<476A28A9.6030008@teledetection.fr>
Message-ID: <20071220091220.GA9642@localhost.localdomain>

On Thu, 20 Dec 2007, Guy Roussin wrote:
> >Yes, please.
> The patch was in my previous mail :-)

Ups, I missed it - I'll update Makefile in hbpgsql in a while.

> >If you can also add conditional build of hbpgsql to DEB files
> >then it would be nice.
> I think the way to go is to create a 'debian' sub-directory, with
> all stuff required by debian/ubuntu package on harbour svn.

We already have it.

> After this, the file make_deb.sh become a very short script with lines
> like these:
> "debian/rules binary"
> "debian/rules clean"
> "debian/rules build"

And in practice it is sth like that.
make_deb.sh simply pack current source code using
    bin/pack_src.sh
and then execute
    dpkg-buildpackage -b
to create DEB binaries

> Luis Mayoral is the maintainer of the debian package, but i can't
> see any update since 2004.

And our debian/* directory is his modified DEB specification.

> I'm not a debian developper, but i can try to create this
> debian sub-directory. I get the debian sub-directory from the
> actual debian package as a start.
> What do you think ?

Just look at debian/* directory in our SVN - you should have
its copy on your local disk. It was updated for modifications
in Harbour repository.

best regards,
Przemek
From guy.roussin at teledetection.fr  Thu Dec 20 10:08:08 2007
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Thu Dec 20 10:08:11 2007
Subject: [Harbour] Little patch to contrib/hbpgsql/Makefile
In-Reply-To: <20071220091220.GA9642@localhost.localdomain>
References: <20071215115118.206ED3684C@mafalda.teledetection.fr>	<20071216120707.GA7440@localhost.localdomain>	<476A28A9.6030008@teledetection.fr>
	<20071220091220.GA9642@localhost.localdomain>
Message-ID: <476A3F08.60202@teledetection.fr>

Hi,

> We already have it.
I didn't even think to look at !
Great :-)

>> After this, the file make_deb.sh become a very short script with lines
>> like these:
>> "debian/rules binary"
>> "debian/rules clean"
>> "debian/rules build"
> 
> And in practice it is sth like that.
> make_deb.sh simply pack current source code using
>     bin/pack_src.sh
> and then execute
>     dpkg-buildpackage -b
> to create DEB binaries
ok, fine.

> Just look at debian/* directory in our SVN - you should have
> its copy on your local disk. It was updated for modifications
> in Harbour repository.
Ok now, i only need to test it with my debian's (etch, testing & sid)
and ubuntu (gutsy) ... then report !

Thank you.

Guy
From druzus at acn.waw.pl  Thu Dec 20 10:45:12 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Dec 20 10:51:59 2007
Subject: [Harbour] 2007-12-20 11:44 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712201045.lBKAjCHt014989@31-mo5-4.acn.waw.pl>

2007-12-20 11:44 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/common.mak
  * harbour/source/rtl/Makefile
  * harbour/include/hbgtcore.h
  + harbour/source/rtl/gtkeycod.c
    + added hb_gt_dos_keyCodeTanslate() - based on hb_gt_ReadKey()
      from GTDOS by David G. Holm <dholm@jsd-llc.com>

  * harbour/source/rtl/gtdos/gtdos.c
  * harbour/source/rtl/gtos2/gtos2.c
  * harbour/source/rtl/gtstd/gtstd.c
  * harbour/source/rtl/gtpca/gtpca.c
    * use hb_gt_dos_keyCodeTanslate() to eliminate repeated code

  * harbour/contrib/hbrddads/Makefile
  * harbour/contrib/hbpgsql/Makefile
    * updated code to locate directories with header files

  * harbour/source/rtl/hbini.prg
    ! fixed typo in HB_IniRead()

  * harbour/source/rtl/persist.prg
    ! eliminated internal static variable

best regards
Przemek
From druzus at acn.waw.pl  Thu Dec 20 11:46:34 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Dec 20 11:46:38 2007
Subject: R: [Harbour] Harbour Trucante 10chars variables/function/fileds
	names
In-Reply-To: <200712180636.56585.philb@philb.us>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<200712180150.55945.philb@philb.us>
	<000101c84143$e2106a40$2a00df0a@maxsoft>
	<200712180636.56585.philb@philb.us>
Message-ID: <20071220114634.GA15652@localhost.localdomain>

On Tue, 18 Dec 2007, Phil Barnett wrote:
> I was looking at Click! and I don't see that it specifically does that, 
> however it comes with source code and it would be trivial to make it truncate 
> variables to 10 places on writeback if you find it doesn't already do so.
> I do recall that it can expand the old 4 character commands to full size if 
> you let it.

Does it respect PP rules too and dynamically update them during code
parsing? If not then it will not be such trivial job as you may think
because in Clipper PP respects identifiers longer then 10 characters
and any automatic symbol cutting to 10 chars may damage existing PP
rules, f.e. what will happen with code like:

    #define MY_VARIABLE_1  1
    #define MY_VARIABLE_2  2
    proc main()
       memvar MY_VARIABLE_3
       MY_VARIABLE_3 := 3
       ? MY_VARIABLE_1 + MY_VARIABLE_2 + MY_VARIABLE_3
    return

I've never found this problem important but if it really is then we
should add to compiler switch to cut symbols after preprocessing or
write converter tool using current PP code. Such tool may also expand
10 character function shortcuts, f.e. dbSelectAr() => dbSelectArea().
Of course it will not resolve problems with macro compiler and user code
which extensively uses macro compiler with badly typed long symbol
suffixes will still need manual updating.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Thu Dec 20 12:05:45 2007
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Dec 20 12:05:50 2007
Subject: [Harbour] Small changes before beta4
Message-ID: <9257026e0712200405r31b78fcaqa57f56e1c6a70773@mail.gmail.com>

These are the diffs I actually have with devel:

1. make_xmingw.sh and make_xmingwce.sh Fedora complains that
"-maxdepth 1" has to be before other paramaters

2. source/rtl/hbini.prg I have a hb_ininew( bAutoMain ) to start a new
ini ( Przemyslaw has just fixed the cData typo )

3. contrib/hbtip/utils.c:  there is a typo in JPEG image mime type

4. contrib/hbtip/utils.c:  I've added a func TIP_HTMLSPECIALCHARS

5. contrib/hbtip/sendmail.prg there is a HB_EnumIndex( cTo ) left to
convert to cTo:__enumIndex() != 1

6. contrib/hbpgsql/postgres.c I've added a func PQRESULT2ARRAY

I can upload all or some of them if the group agree.

best regards,
Lorenzo
From druzus at acn.waw.pl  Thu Dec 20 12:52:36 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Dec 20 12:52:41 2007
Subject: [Harbour] Small changes before beta4
In-Reply-To: <9257026e0712200405r31b78fcaqa57f56e1c6a70773@mail.gmail.com>
References: <9257026e0712200405r31b78fcaqa57f56e1c6a70773@mail.gmail.com>
Message-ID: <20071220125236.GA18688@localhost.localdomain>

On Thu, 20 Dec 2007, Lorenzo Fiorini wrote:
> These are the diffs I actually have with devel:
> 1. make_xmingw.sh and make_xmingwce.sh Fedora complains that
> "-maxdepth 1" has to be before other paramaters
> 2. source/rtl/hbini.prg I have a hb_ininew( bAutoMain ) to start a new
> ini ( Przemyslaw has just fixed the cData typo )
> 3. contrib/hbtip/utils.c:  there is a typo in JPEG image mime type
> 4. contrib/hbtip/utils.c:  I've added a func TIP_HTMLSPECIALCHARS
> 5. contrib/hbtip/sendmail.prg there is a HB_EnumIndex( cTo ) left to
> convert to cTo:__enumIndex() != 1
> 6. contrib/hbpgsql/postgres.c I've added a func PQRESULT2ARRAY
> I can upload all or some of them if the group agree.

Yes, please do it.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Thu Dec 20 14:02:57 2007
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Dec 20 14:03:12 2007
Subject: [Harbour] CHANGELOG: 2007-12-20 15:00 UTC+0100 Lorenzo Fiorini
Message-ID: <9257026e0712200602w4d78c67dw1a075c68ae5e3927@mail.gmail.com>

2007-12-20 15:00 UTC+0100 Lorenzo Fiorini (lorenzo.fiorini/at/gmail.com)
  * harbour/make_xmingw.sh
    * moved -maxdepth before -name
  * harbour/source/rtl/hbini.prg
    * added hb_ininew()
  * harbour/contrib/hbtip/sendmail.prg
    * removed hbcompat.ch dependences
  + harbour/contrib/hbtip/utils.c
    * fixed a type in jpeg mime string
	 * added TIP_HTMLSPECIALCHARS
  + harbour/contrib/hbpgsql/postgres.c
    * added PQRESULT2ARRAY
	
best regards,
Lorenzo
From druzus at acn.waw.pl  Thu Dec 20 14:56:53 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Dec 20 14:57:00 2007
Subject: [Harbour] 2007-12-20 15:56 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712201456.lBKEurbR020648@31-mo5-4.acn.waw.pl>

2007-12-20 15:56 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/make_rpmw32.sh
    * moved -maxdepth option before actions and expressions in find
      parameters

best regards
Przemek
From lohen at versateladsl.be  Thu Dec 20 15:30:26 2007
From: lohen at versateladsl.be (frank van nuffel)
Date: Thu Dec 20 15:29:52 2007
Subject: [Harbour] CaseStudy: an alternative to Hungarian notation for
	aHigh-Level language such as [x]Harbour
References: <000601c83e6f$a473bec0$4001a8c0@REE>
	<14339791.post@talk.nabble.com>
Message-ID: <004401c8431d$412bc800$4001a8c0@REE>

Sent to your private mailaddress; an executable with accompanying sources, 
which are the output of the transpilation process with build flags set to 
produce OO calls for native types, check argument types to 
functions/messages and automatically optimize message calling with 
_cyPshSelf where applied.

have fun,

frank

----- Original Message ----- 
From: "Pritpal Bedi" <bedipritpal@hotmail.com>
To: <harbour@harbour-project.org>
Sent: Friday, December 14, 2007 9:52 PM
Subject: Re: [Harbour] CaseStudy: an alternative to Hungarian notation for 
aHigh-Level language such as [x]Harbour


> Please post a realtime function example, will be more appropriate it
> Tbrowse() is taken as a modal, to understand the underlying concepts 
> better.

From bedipritpal at hotmail.com  Thu Dec 20 18:45:03 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Dec 20 18:45:07 2007
Subject: [Harbour] Webmaster harbour-project.org
In-Reply-To: <14434068.post@talk.nabble.com>
References: <14434068.post@talk.nabble.com>
Message-ID: <14442590.post@talk.nabble.com>


Otto


franka wrote:
> 
> Could you please tell me who the webmaster of habour-project.org is.
> Thanks in advance
> Otto
> 

Why you need this ?

Regards
Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/Webmaster-harbour-project.org-tp14434068p14442590.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From philb at philb.us  Thu Dec 20 19:09:58 2007
From: philb at philb.us (Phil Barnett)
Date: Thu Dec 20 19:10:03 2007
Subject: R: [Harbour] Harbour Trucante 10chars variables/function/fileds
	names
In-Reply-To: <20071220114634.GA15652@localhost.localdomain>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<200712180636.56585.philb@philb.us>
	<20071220114634.GA15652@localhost.localdomain>
Message-ID: <200712201409.58445.philb@philb.us>

On Thursday 20 December 2007 06:46:34 am Przemyslaw Czerpak wrote:
> On Tue, 18 Dec 2007, Phil Barnett wrote:
> > I was looking at Click! and I don't see that it specifically does that,
> > however it comes with source code and it would be trivial to make it
> > truncate variables to 10 places on writeback if you find it doesn't
> > already do so. I do recall that it can expand the old 4 character
> > commands to full size if you let it.
>
> Does it respect PP rules too and dynamically update them during code
> parsing? If not then it will not be such trivial job as you may think
> because in Clipper PP respects identifiers longer then 10 characters
> and any automatic symbol cutting to 10 chars may damage existing PP
> rules, f.e. what will happen with code like:
>
>     #define MY_VARIABLE_1  1
>     #define MY_VARIABLE_2  2
>     proc main()
>        memvar MY_VARIABLE_3
>        MY_VARIABLE_3 := 3
>        ? MY_VARIABLE_1 + MY_VARIABLE_2 + MY_VARIABLE_3
>     return

It will be broken. But in 9 years of feedback of people using the tool, I've 
never had that complaint. It must not be much of a problem.

Anyway, I did not find a feature in my help file that describes variable name 
truncation, so it must not be in there. Without reviewing the code, which I 
don't have time for, I really don't remember.

> I've never found this problem important but if it really is then we
> should add to compiler switch to cut symbols after preprocessing or
> write converter tool using current PP code. Such tool may also expand
> 10 character function shortcuts, f.e. dbSelectAr() => dbSelectArea().
> Of course it will not resolve problems with macro compiler and user code
> which extensively uses macro compiler with badly typed long symbol
> suffixes will still need manual updating.

And I expect this to remain true. There might be some logic in there to warn 
you when symbols collide outside the 10 character limit. It's been a long 
time since I've been in that code. Way long.
From gvarona at ec-red.com  Thu Dec 20 22:53:05 2007
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Dec 20 22:53:16 2007
Subject: [Harbour] Error generando Harbour en HbRDDADS / Error Building
	Harbour in HbRDDADS
In-Reply-To: <476A1FAE.9010402@teledetection.fr>
References: <4769E565.1040101@ec-red.com> <476A1FAE.9010402@teledetection.fr>
Message-ID: <476AF251.4010807@ec-red.com>

Guy Roussin escribi?:

> I think "ace.h" is removed from svn ... perhaps a licence problem ?

[SPA]
En efecto, no existe el archivo "ace.h", entonces, es necesario este 
archivo para crear la libreria?

[ENG]
In fact, there is no file "ace.h", then it is necessary to create this 
file library?

Best Regards.
GVS

> Guy
>
> Guillermo Varona Silup? a ?crit :
>
>> [SPA]
>> Hola, he actualizado al ultimo SVN de Harbour, y cuando genero el 
>> compilador mediante make_gnu.bat (uso WinXP SP2+MinGW), obtengo una 
>> lista bastante larga de errores al momento de generar la Lib HbRddADS.
>> Antes no tenia ningun error al momento de construir harbour.
>> Yo no voy a usar y creo que no usare esta librer?a, c?mo puedo hacer 
>> para evitar que pase por la creacion de esta librer?a?
>>
>> [ENG]
>> Hello, I updated the last SVN Harbor, and when the compiler generates 
>> through make_gnu.bat (use WinXP SP2 + MinGW), I get a fairly long 
>> list of errors when generating the Lib HbRddADS.
>> Before, she had no mistake when it built harbor.
>> I am not going to use and I do not think usare this library, how can 
>> I do to avoid passing through the creation of this library?
>>
>> TIA,
>> Best Regards
>> GVS
>>
>> P.D.: LOG also attached to the construction of harbour . . . ups!!! 
>> can't attached
>> Here part of the list of errors:
>> ****************************
>> ../../ads1.c:3416: error: syntax error before "hIndex"
>> ../../ads1.c:3418: error: `UNSIGNED32' undeclared (first use in this 
>> function)
>> ../../ads1.c:3420: error: `pOrderInfo' undeclared (first use in this 
>> function)
>> ../../ads1.c:3421: error: `UNSIGNED16' undeclared (first use in this 
>> function)
>> ../../ads1.c:3421: error: syntax error before "u16"
>> ../../ads1.c:3422: error: `UNSIGNED8' undeclared (first use in this 
>> function)
>> ../../ads1.c:3429: error: `pArea' undeclared (first use in this 
>> function)
>> ../../ads1.c:3445: error: `u32Options' undeclared (first use in this 
>> function)
>> ../../ads1.c:3445: error: `ADS_COMPOUND' undeclared (first use in 
>> this function)
>>
>> ../../ads1.c:3455: error: `pucWhile' undeclared (first use in this 
>> function)
>> ../../ads1.c:3458: error: syntax error before "pucScope"
>> ../../ads1.c:3464: error: `u32RetVal' undeclared (first use in this 
>> function)
>> ../../ads1.c:3464: error: `ADS_BOTTOM' undeclared (first use in this 
>> function)
>> ../../ads1.c:3464: error: `pucScope' undeclared (first use in this 
>> function)
>> ../../ads1.c:3464: error: `u16BufLen' undeclared (first use in this 
>> function)
>> ../../ads1.c:3466: error: `AE_SUCCESS' undeclared (first use in this 
>> function)
>> ../../ads1.c:3473: error: `u16' undeclared (first use in this function)
>> ../../ads1.c:3474: warning: implicit declaration of function 
>> `AdsGetIndexExpr'
>> ../../ads1.c:3474: error: `u16Len' undeclared (first use in this 
>> function)
>> ../../ads1.c:3476: error: `ADS_STRING' undeclared (first use in this 
>> function)
>> ../../ads1.c:3488: error: `hTableOrIndex' undeclared (first use in 
>> this function
>> )
>> ../../ads1.c:3516: error: `ADS_CUSTOM' undeclared (first use in this 
>> function)
>> ../../ads1.c:3520: error: `ADS_DESCENDING' undeclared (first use in 
>> this functio
>> n)
>> ../../ads1.c:3525: error: `ADS_UNIQUE' undeclared (first use in this 
>> function)
>> ../../ads1.c:3528: warning: implicit declaration of function 
>> `AdsCreateIndex'
>> ../../ads1.c:3529: error: syntax error before ')' token
>> ../../ads1.c:3543: error: `hIndex' undeclared (first use in this 
>> function)
>> ../../ads1.c:3548: error: syntax error before "ahIndex"
>> ../../ads1.c:3552: error: syntax error before ')' token
>> ../../ads1.c:3553: error: `AE_INDEX_ALREADY_OPEN' undeclared (first 
>> use in this
>> function)
>> ../../ads1.c:3558: error: `ahIndex' undeclared (first use in this 
>> function)
>> ../../ads1.c:3420: warning: unused variable `pExprItem'
>> ../../ads1.c: At top level:
>> ../../ads1.c:3564: error: syntax error before "pArea"
>> ../../ads1.c: In function `adsOrderDestroy':
>> ../../ads1.c:3566: error: `ADSHANDLE' undeclared (first use in this 
>> function)
>> ../../ads1.c:3566: error: syntax error before "hIndex"
>> ../../ads1.c:3567: error: `UNSIGNED32' undeclared (first use in this 
>> function)
>> ../../ads1.c:3570: error: `pOrderInfo' undeclared (first use in this 
>> function)
>> ../../ads1.c:3572: error: `UNSIGNED8' undeclared (first use in this 
>> function)
>> ../../ads1.c:3572: error: syntax error before "pucTagName"
>> ../../ads1.c:3574: error: `pucTagName' undeclared (first use in this 
>> function)
>> ../../ads1.c:3576: error: `ADS_MAX_TAG_NAME' undeclared (first use in 
>> this funct
>> ion)
>> ../../ads1.c:3577: error: `u32RetVal' undeclared (first use in this 
>> function)
>> ../../ads1.c:3577: error: `pArea' undeclared (first use in this 
>> function)
>> ../../ads1.c:3577: error: `hIndex' undeclared (first use in this 
>> function)
>> ../../ads1.c:3578: error: `AE_SUCCESS' undeclared (first use in this 
>> function)
>> ../../ads1.c:3582: warning: implicit declaration of function 
>> `AdsDeleteIndex'
>> ../../ads1.c: At top level:
>> ../../ads1.c:3600: error: syntax error before "pArea"
>> ../../ads1.c: In function `adsOrderInfo':
>> ../../ads1.c:3602: error: `ADSHANDLE' undeclared (first use in this 
>> function)
>> ../../ads1.c:3602: error: syntax error before "hIndex"
>> ../../ads1.c:3603: error: `UNSIGNED8' undeclared (first use in this 
>> function)
>> ../../ads1.c:3604: error: `UNSIGNED16' undeclared (first use in this 
>> function)
>> ../../ads1.c:3606: error: `UNSIGNED32' undeclared (first use in this 
>> function)
>> ../../ads1.c:3610: error: `aucBuffer' undeclared (first use in this 
>> function)
>> ../../ads1.c:3613: error: `pArea' undeclared (first use in this 
>> function)
>> ../../ads1.c:3617: error: `uiIndex' undeclared (first use in this 
>> function)
>> ../../ads1.c:3617: error: `pOrderInfo' undeclared (first use in this 
>> function)
>> ../../ads1.c:3619: error: syntax error before "u32RetVal"
>> ../../ads1.c:3623: error: syntax error before "pucTagName"
>> ../../ads1.c:3625: error: `pucTagName' undeclared (first use in this 
>> function)
>> ../../ads1.c:3627: error: `ADS_MAX_TAG_NAME' undeclared (first use in 
>> this funct
>> ion)
>> ../../ads1.c:3628: error: `u32RetVal' undeclared (first use in this 
>> function)
>> ../../ads1.c:3628: error: `hIndex' undeclared (first use in this 
>> function)
>> ../../ads1.c:3633: error: syntax error before "hb_itemGetNI"
>> ../../ads1.c:3635: error: `AE_SUCCESS' undeclared (first use in this 
>> function)
>> ../../ads1.c:3648: warning: implicit declaration of function 
>> `AdsGetIndexConditi
>> on'
>> ../../ads1.c:3648: error: `u16len' undeclared (first use in this 
>> function)
>> ../../ads1.c:3673: error: `u16' undeclared (first use in this function)
>> ../../ads1.c:3685: warning: implicit declaration of function 
>> `AdsIsIndexDescendi
>> ng'
>> ../../ads1.c:3697: warning: implicit declaration of function 
>> `AdsIsIndexUnique'
>> ../../ads1.c:3712: error: `ADS_STRING' undeclared (first use in this 
>> function)
>> ../../ads1.c:3715: error: `ADS_NUMERIC' undeclared (first use in this 
>> function)
>> ../../ads1.c:3718: error: `ADS_DATE' undeclared (first use in this 
>> function)
>> ../../ads1.c:3721: error: `ADS_LOGICAL' undeclared (first use in this 
>> function)
>> ../../ads1.c:3724: error: `ADS_RAW' undeclared (first use in this 
>> function)
>> ../../ads1.c:3739: warning: implicit declaration of function 
>> `AdsGetKeyLength'
>> ../../ads1.c:3786: error: syntax error before "usFilterOption"
>> ../../ads1.c:3787: warning: implicit declaration of function 
>> `AdsGetKeyNum'
>> ../../ads1.c:3787: error: `usFilterOption' undeclared (first use in 
>> this functio
>> n)
>> ../../ads1.c:3787: error: `u32' undeclared (first use in this function)
>> ../../ads1.c:3791: error: syntax error before "usFilterOption"
>> ../../ads1.c:3805: error: `ADS_RESPECTSCOPES' undeclared (first use 
>> in this func
>> tion)
>> ../../ads1.c:3842: error: syntax error before "usOrder"
>> ../../ads1.c:3845: error: `usOrder' undeclared (first use in this 
>> function)
>> ../../ads1.c:3858: warning: implicit declaration of function 
>> `AdsGetIndexFilenam
>> e'
>> ../../ads1.c:3858: error: `ADS_BASENAME' undeclared (first use in 
>> this function)
>>
>> ../../ads1.c:3870: error: `ADS_FULLPATHNAME' undeclared (first use in 
>> this funct
>> ion)
>> ../../ads1.c:3891: error: syntax error before ')' token
>> ../../ads1.c:3894: error: `AE_INDEX_ALREADY_OPEN' undeclared (first 
>> use in this
>> function)
>> ../../ads1.c:3899: error: syntax error before "ahIndex"
>> ../../ads1.c:3902: error: syntax error before ')' token
>> ../../ads1.c:3911: error: syntax error before "else"
>> ../../ads1.c: At top level:
>> ../../ads1.c:3915: error: syntax error before '->' token
>> ../../ads1.c:3915: warning: type defaults to `int' in declaration of 
>> `hb_itemPut
>> NI'
>> ../../ads1.c:3915: error: conflicting types for 'hb_itemPutNI'
>> ../../../../include/hbapiitm.h:117: error: previous declaration of 
>> 'hb_itemPutNI
>> ' was here
>> ../../ads1.c:3915: error: conflicting types for 'hb_itemPutNI'
>> ../../../../include/hbapiitm.h:117: error: previous declaration of 
>> 'hb_itemPutNI
>> ' was here
>> ../../ads1.c:3915: warning: data definition has no type or storage class
>> ../../ads1.c:3941: error: syntax error before "LPAREA"
>> ../../ads1.c:3942: warning: type defaults to `int' in declaration of 
>> `AdsGotoTop
>> '
>> ../../ads1.c:3942: warning: parameter names (without types) in 
>> function declarat
>> ion
>> ../../ads1.c:3942: warning: data definition has no type or storage class
>> ../../ads1.c:3943: error: syntax error before "do"
>> ../../ads1.c:3953: error: syntax error before "LPAREA"
>> ../../ads1.c:3970: error: syntax error before '->' token
>> ../../ads1.c:3970: warning: type defaults to `int' in declaration of 
>> `hb_itemPut
>> NL'
>> ../../ads1.c:3970: error: conflicting types for 'hb_itemPutNL'
>> ../../../../include/hbapiitm.h:118: error: previous declaration of 
>> 'hb_itemPutNL
>> ' was here
>> ../../ads1.c:3970: error: conflicting types for 'hb_itemPutNL'
>> ../../../../include/hbapiitm.h:118: error: previous declaration of 
>> 'hb_itemPutNL
>> ' was here
>> ../../ads1.c:3970: warning: data definition has no type or storage class
>> ../../ads1.c:3975: error: syntax error before '->' token
>> ../../ads1.c:3975: warning: type defaults to `int' in declaration of 
>> `hb_itemPut
>> NL'
>> ../../ads1.c:3975: warning: data definition has no type or storage class
>> ../../ads1.c:4020: error: syntax error before numeric constant
>> ../../ads1.c:4020: warning: type defaults to `int' in declaration of 
>> `adsScopeSe
>> t'
>> ../../ads1.c:4020: error: conflicting types for 'adsScopeSet'
>> ../../ads1.c:483: error: previous definition of 'adsScopeSet' was here
>> ../../ads1.c:4020: warning: data definition has no type or storage class
>> ../../ads1.c:4036: warning: type defaults to `int' in declaration of 
>> `AdsClearSc
>> ope'
>> ../../ads1.c:4036: warning: parameter names (without types) in 
>> function declarat
>> ion
>> ../../ads1.c:4036: warning: data definition has no type or storage class
>> ../../ads1.c:4037: error: syntax error before '}' token
>> ../../ads1.c:4051: warning: type defaults to `int' in declaration of 
>> `AdsClearSc
>> ope'
>> ../../ads1.c:4051: warning: parameter names (without types) in 
>> function declarat
>> ion
>> ../../ads1.c:4051: warning: data definition has no type or storage class
>> ../../ads1.c:4052: error: syntax error before '}' token
>> ../../ads1.c:4063: warning: type defaults to `int' in declaration of 
>> `AdsClearSc
>> ope'
>> ../../ads1.c:4063: warning: parameter names (without types) in 
>> function declarat
>> ion
>> ../../ads1.c:4063: warning: data definition has no type or storage class
>> ../../ads1.c:4064: error: syntax error before '}' token
>> ../../ads1.c:4076: error: syntax error before '->' token
>> ../../ads1.c:4076: warning: type defaults to `int' in declaration of 
>> `hb_itemPut
>> L'
>> ../../ads1.c:4076: error: conflicting types for 'hb_itemPutL'
>> ../../../../include/hbapiitm.h:115: error: previous declaration of 
>> 'hb_itemPutL'
>> was here
>> ../../ads1.c:4076: error: conflicting types for 'hb_itemPutL'
>> ../../../../include/hbapiitm.h:115: error: previous declaration of 
>> 'hb_itemPutL'
>> was here
>> ../../ads1.c:4076: warning: data definition has no type or storage class
>> ../../ads1.c:4135: error: syntax error before "pArea"
>> ../../ads1.c: In function `adsClearFilter':
>> ../../ads1.c:4143: warning: implicit declaration of function 
>> `AdsClearAOF'
>> ../../ads1.c:4143: error: `pArea' undeclared (first use in this 
>> function)
>> ../../ads1.c:4144: warning: implicit declaration of function 
>> `AdsClearFilter'
>> ../../ads1.c: At top level:
>> ../../ads1.c:4155: error: syntax error before "pArea"
>> ../../ads1.c: In function `adsSetFilter':
>> ../../ads1.c:4166: error: `pArea' undeclared (first use in this 
>> function)
>> ../../ads1.c:4166: error: `pFilterInfo' undeclared (first use in this 
>> function)
>> ../../ads1.c:4168: error: `UNSIGNED16' undeclared (first use in this 
>> function)
>> ../../ads1.c:4168: error: syntax error before "bValidExpr"
>> ../../ads1.c:4170: error: `UNSIGNED32' undeclared (first use in this 
>> function)
>> ../../ads1.c:4173: warning: implicit declaration of function 
>> `AdsIsExprValid'
>> ../../ads1.c:4173: error: `UNSIGNED8' undeclared (first use in this 
>> function)
>> ../../ads1.c:4173: error: syntax error before ')' token
>> ../../ads1.c:4175: error: `bValidExpr' undeclared (first use in this 
>> function)
>> ../../ads1.c:4182: error: `u32RetVal' undeclared (first use in this 
>> function)
>> ../../ads1.c:4182: warning: implicit declaration of function `AdsSetAOF'
>> ../../ads1.c:4182: error: syntax error before ')' token
>> ../../ads1.c:4186: warning: implicit declaration of function 
>> `AdsSetFilter'
>> ../../ads1.c:4186: error: syntax error before ')' token
>> ../../ads1.c:4177: warning: unused variable `szFilter'
>> ../../ads1.c:4191: error: `AE_SUCCESS' undeclared (first use in this 
>> function)
>> ../../ads1.c: At top level:
>> ../../ads1.c:4206: error: syntax error before "pArea"
>> ../../ads1.c: In function `adsRawLock':
>> ../../ads1.c:4208: error: `UNSIGNED32' undeclared (first use in this 
>> function)
>> ../../ads1.c:4208: error: syntax error before "u32RetVal"
>> ../../ads1.c:4211: error: `uiAction' undeclared (first use in this 
>> function)
>> ../../ads1.c:4214: error: `pArea' undeclared (first use in this 
>> function)
>> ../../ads1.c:4218: error: `u32RetVal' undeclared (first use in this 
>> function)
>> ../../ads1.c:4218: warning: implicit declaration of function 
>> `AdsLockRecord'
>> ../../ads1.c:4218: error: `ulRecNo' undeclared (first use in this 
>> function)
>> ../../ads1.c:4219: error: `AE_SUCCESS' undeclared (first use in this 
>> function)
>> ../../ads1.c:4237: warning: implicit declaration of function 
>> `AdsUnlockRecord'
>> ../../ads1.c:4249: warning: implicit declaration of function 
>> `AdsLockTable'
>> ../../ads1.c:4269: warning: implicit declaration of function 
>> `AdsUnlockTable'
>> ../../ads1.c:4270: error: `AE_TABLE_NOT_LOCKED' undeclared (first use 
>> in this fu
>> nction)
>> ../../ads1.c:4271: error: `AE_TABLE_NOT_SHARED' undeclared (first use 
>> in this fu
>> nction)
>> ../../ads1.c: At top level:
>> ../../ads1.c:4284: error: syntax error before "pArea"
>> ../../ads1.c: In function `adsLock':
>> ../../ads1.c:4291: error: `pLockInfo' undeclared (first use in this 
>> function)
>> ../../ads1.c:4296: error: `pArea' undeclared (first use in this 
>> function)
>> ../../ads1.c:4321: error: `UNSIGNED8' undeclared (first use in this 
>> function)
>> ../../ads1.c:4321: error: syntax error before ')' token
>> ../../ads1.c: At top level:
>> ../../ads1.c:4331: error: syntax error before "pArea"
>> ../../ads1.c: In function `adsUnLock':
>> ../../ads1.c:4337: error: `pRecNo' undeclared (first use in this 
>> function)
>> ../../ads1.c:4339: error: `pArea' undeclared (first use in this 
>> function)
>> ../../ads1.c: At top level:
>> ../../ads1.c:4346: error: syntax error before "pArea"
>> ../../ads1.c: In function `adsGetValueFile':
>> ../../ads1.c:4348: error: `UNSIGNED32' undeclared (first use in this 
>> function)
>> ../../ads1.c:4348: error: syntax error before "u32RetVal"
>> ../../ads1.c:4352: error: `uiMode' undeclared (first use in this 
>> function)
>> ../../ads1.c:4354: error: `uiIndex' undeclared (first use in this 
>> function)
>> ../../ads1.c:4354: error: `pArea' undeclared (first use in this 
>> function)
>> ../../ads1.c:4364: error: `u32RetVal' undeclared (first use in this 
>> function)
>> ../../ads1.c:4364: warning: implicit declaration of function 
>> `AdsBinaryToFile'
>> ../../ads1.c:4365: error: `UNSIGNED8' undeclared (first use in this 
>> function)
>> ../../ads1.c:4365: error: syntax error before ')' token
>> ../../ads1.c:4366: error: `AE_SUCCESS' undeclared (first use in this 
>> function)
>> ../../ads1.c: At top level:
>> ../../ads1.c:4376: error: syntax error before "pArea"
>> ../../ads1.c: In function `adsPutValueFile':
>> ../../ads1.c:4378: error: `UNSIGNED32' undeclared (first use in this 
>> function)
>> ../../ads1.c:4378: error: syntax error before "u32RetVal"
>> ../../ads1.c:4382: error: `uiIndex' undeclared (first use in this 
>> function)
>> ../../ads1.c:4382: error: `pArea' undeclared (first use in this 
>> function)
>> ../../ads1.c:4398: error: `uiMode' undeclared (first use in this 
>> function)
>> ../../ads1.c:4398: error: `ADS_BINARY' undeclared (first use in this 
>> function)
>> ../../ads1.c:4398: error: `ADS_IMAGE' undeclared (first use in this 
>> function)
>> ../../ads1.c:4401: error: `u32RetVal' undeclared (first use in this 
>> function)
>> ../../ads1.c:4401: warning: implicit declaration of function 
>> `AdsFileToBinary'
>> ../../ads1.c:4402: error: `UNSIGNED8' undeclared (first use in this 
>> function)
>> ../../ads1.c:4402: error: syntax error before ')' token
>> ../../ads1.c:4403: error: `AE_SUCCESS' undeclared (first use in this 
>> function)
>> ../../ads1.c: In function `adsExit':
>> ../../ads1.c:4551: warning: implicit declaration of function 
>> `AdsApplicationExit
>> '
>> ../../ads1.c: In function `adsRddInfo':
>> ../../ads1.c:4576: error: `ADSHANDLE' undeclared (first use in this 
>> function)
>> ../../ads1.c:4576: error: syntax error before "hOldConnection"
>> ../../ads1.c:4578: error: syntax error before "hb_itemGetNL"
>> ../../ads1.c:4579: error: `hOldConnection' undeclared (first use in 
>> this functio
>> n)
>> ../../ads1.c:4583: error: `ADS_ADT' undeclared (first use in this 
>> function)
>> ../../ads1.c: At top level:
>> ../../ads1.c:4832: error: syntax error before 
>> "hb_rddGetADSWorkAreaPointer"
>> ../../ads1.c:4833: warning: return type defaults to `int'
>> ../../ads1.c: In function `hb_rddGetADSWorkAreaPointer':
>> ../../ads1.c:4834: error: syntax error before "pArea"
>> ../../ads1.c:4836: error: `pArea' undeclared (first use in this 
>> function)
>> ../../ads1.c:4843: warning: return makes integer from pointer without 
>> a cast
>> ../../ads1.c: In function `HB_FUN_ADSGETRELKEYPOS':
>> ../../ads1.c:4848: error: syntax error before "pArea"
>> ../../ads1.c:4849: error: `pArea' undeclared (first use in this 
>> function)
>> ../../ads1.c: In function `HB_FUN_ADSSETRELKEYPOS':
>> ../../ads1.c:4861: error: syntax error before "pArea"
>> ../../ads1.c:4862: error: `pArea' undeclared (first use in this 
>> function)
>> ../../ads1.c: In function `HB_FUN_ADSCUSTOMIZEAOF':
>> ../../ads1.c:4874: error: syntax error before "pArea"
>> ../../ads1.c:4876: error: `UNSIGNED32' undeclared (first use in this 
>> function)
>> ../../ads1.c:4876: error: syntax error before "u32NumRecs"
>> ../../ads1.c:4878: error: `UNSIGNED16' undeclared (first use in this 
>> function)
>> ../../ads1.c:4879: error: `pu32Records' undeclared (first use in this 
>> function)
>> ../../ads1.c:4881: error: `pArea' undeclared (first use in this 
>> function)
>> ../../ads1.c:4881: error: syntax error before 
>> "hb_rddGetADSWorkAreaPointer"
>> ../../ads1.c:4886: error: `u16Option' undeclared (first use in this 
>> function)
>> ../../ads1.c:4891: error: `u32NumRecs' undeclared (first use in this 
>> function)
>> ../../ads1.c:4906: error: syntax error before ')' token
>> ../../ads1.c:4919: error: `u32RetVal' undeclared (first use in this 
>> function)
>> ../../ads1.c:4919: warning: implicit declaration of function 
>> `AdsCustomizeAOF'
>> ../../ads1.c: At top level:
>> ../../ads1.c:455: warning: 'adsScopeGet' defined but not used
>> ../../ads1.c:483: warning: 'adsScopeSet' defined but not used
>> make[3]: *** [ads1.o] Error 1
>> make[2]: *** [descend] Error 2
>> D:\harbour>
>> _______________________________________________
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> __________ Informaci?n de NOD32, revisi?n 2734 (20071219) __________
>
> Este mensaje ha sido analizado con NOD32 antivirus system
> http://www.nod32.com
>
>
>

From dmacias at mail.udg.mx  Fri Dec 21 07:40:10 2007
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Dec 21 07:40:36 2007
Subject: [Harbour] Re: Harbour under OS/2 - eCS
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <476B6DDA.9010506@mail.udg.mx>

Przemek:

 >> Except for warning in gtstd.c,

 >This warning will be left for someone who will want to add keyboard
 >support in OS2 build of GTSTD. It's intentional marker that sth should
 >be done yet. Sorry but I will not make it myself - writing code of OS2
 >is a nightmare for me - I cannot even compile it (and of course test)
 >and I have to look for incomplete documentation in Internet even for
 >very basic things and then I have to ask you for real life tests.
 >Real OS2 user with some practice with C should add keyboard support
 >to GTSTD in few minutes. F.e. for STDIN only and GCC build it should
 >be possible to simply copy OS2 keyboard code from GTPCA.

 > Thank you for your help.

Thanks are for you
Due your fixes/changes mainly we have Harbour OS/2 version alive  :-)

David Macias



From lorenzo.fiorini at gmail.com  Fri Dec 21 08:01:04 2007
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Dec 21 08:01:07 2007
Subject: [Harbour] Builds report and small 64 bit issue
Message-ID: <9257026e0712210001r1245f70dsc7be05f964001cad@mail.gmail.com>

I've successfully rebuilt Harbour and my apps under Fc8 32 bit in
native ( Linux ), mingw32 and cemgw mode.

I've also done it with Ubuntu 7.10 Amd64 and the only issue I've found is:

/usr/bin/ld: ./page.o: relocation R_X86_64_32 against `a local symbol'
can not be used when making a shared object; recompile with -fPIC

and adding -fPIC to CC_C_USR it works.

Is it correct?

best regards,
Lorenzo
From druzus at acn.waw.pl  Fri Dec 21 08:30:41 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Dec 21 08:30:47 2007
Subject: [Harbour] Builds report and small 64 bit issue
In-Reply-To: <9257026e0712210001r1245f70dsc7be05f964001cad@mail.gmail.com>
References: <9257026e0712210001r1245f70dsc7be05f964001cad@mail.gmail.com>
Message-ID: <20071221083041.GA5339@localhost.localdomain>

On Fri, 21 Dec 2007, Lorenzo Fiorini wrote:
> I've successfully rebuilt Harbour and my apps under Fc8 32 bit in
> native ( Linux ), mingw32 and cemgw mode.
> I've also done it with Ubuntu 7.10 Amd64 and the only issue I've found is:
> /usr/bin/ld: ./page.o: relocation R_X86_64_32 against `a local symbol'
> can not be used when making a shared object; recompile with -fPIC
> and adding -fPIC to CC_C_USR it works.
> Is it correct?

Yes. -fPIC causes that compiler always generate forces relocatable
code  eliminating some optimizations. Only relocatable code can be
used in shared libraries. On x86@32 it's not very important because
usually even static code generated by GCC is relocatable but on most
of other platform it is and if you want to use shared libraries
you have to compile Harbour and your code with -fPIC GCC switch.
If you look at harbour.spec, make_gcc.sh, make_gnu.sh or make_tgz.sh
then you will find that it's set automatically for Harbour compilation
(C_USR). But if you compile your own code then you have to use -fPIC
switch yourself. If you are using hb* scripts then you can add it to
CC_C_USR so it will always be added by them. I think that I can add
it automatically if Harbour is compiler with -fPIC too.
The side effect of using relocatable code is small performance reduction.
The difference is not very big but it should be noticeable in speedtst.prg.
Important is not your code but flag used to compile HVM. The best solution
would be added two phase Harbour compilation for non GNU make files.
1-st for static libraries and 2-nd for shared library with -fPIC for
other then x86@32 platforms but the difference is too small and my
too lazy to make it ;-)

best regards,
Przemek
From druzus at acn.waw.pl  Fri Dec 21 09:05:42 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Dec 21 09:05:48 2007
Subject: [Harbour] 2007-12-21 10:05 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712210905.lBL95gQg005831@31-mo5-4.acn.waw.pl>

2007-12-21 10:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    * respect -fPIC used to create Harbour binaries in default
      GCC switches used by hb* scripts

best regards
Przemek
From lorenzo.fiorini at gmail.com  Fri Dec 21 09:28:46 2007
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Dec 21 09:28:49 2007
Subject: [Harbour] Builds report and small 64 bit issue
In-Reply-To: <20071221083041.GA5339@localhost.localdomain>
References: <9257026e0712210001r1245f70dsc7be05f964001cad@mail.gmail.com>
	<20071221083041.GA5339@localhost.localdomain>
Message-ID: <9257026e0712210128j524a4677wc3a46ceeb9439592@mail.gmail.com>

On Dec 21, 2007 9:30 AM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> Yes. -fPIC causes that compiler always generate forces relocatable
> ...
> Important is not your code but flag used to compile HVM. The best solution
> would be added two phase Harbour compilation for non GNU make files.
> 1-st for static libraries and 2-nd for shared library with -fPIC for
> other then x86@32 platforms but the difference is too small and my
> too lazy to make it ;-)

Please don't waste your time for this.

gcc gives a clear message and every developer should know what is doing.

best regards,
Lorenzo
From mpaliwoda at interia.pl  Fri Dec 21 09:45:33 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Fri Dec 21 09:46:22 2007
Subject: [Harbour] Re: Builds report and small 64 bit issue
In-Reply-To: <20071221083041.GA5339@localhost.localdomain>
References: <9257026e0712210001r1245f70dsc7be05f964001cad@mail.gmail.com>
	<20071221083041.GA5339@localhost.localdomain>
Message-ID: <fkg202$ifd$1@ger.gmane.org>

Przemyslaw Czerpak wrote :


> The best solution
> would be added two phase Harbour compilation for non GNU make files.
> 1-st for static libraries and 2-nd for shared library with -fPIC for
> other then x86@32 platforms but the difference is too small

Actually, make_gcc.mak uses two-phase compilation mode for
Win like systems (with small bug unfortunately, which I'll
fix shortly). It shouln't be too hard to make it also for
other archtectures, exclusing x86/32. make_gcc.sh detects
64 bits already, so x86/64 is not a problem. I don't know
about other platforms (HP/SUN) however.

-- 

Marek

From druzus at acn.waw.pl  Fri Dec 21 09:56:09 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Dec 21 09:56:13 2007
Subject: [Harbour] 2007-12-21 10:55 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712210956.lBL9u9TR010623@31-mo5-4.acn.waw.pl>

2007-12-21 10:55 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    * added system libraries necessary for linking some of harbour
      contrib libs in WinCE
    * minor cleanup

  * harbour/source/rtl/gtxwc/gtxwc.c
    * added missing 'const' in declaration

best regards
Przemek
From lorenzo.fiorini at gmail.com  Fri Dec 21 12:12:14 2007
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Dec 21 12:12:18 2007
Subject: [Harbour] gtwvt wine font problem
Message-ID: <9257026e0712210412m60bedc41g26fe34001a0f3c60@mail.gmail.com>

I'm testing gtwvt apps built with devel under Fc8 but I can't change
the font used.

I've recently moved to Fc8 which doesn't use xfs so it could be more
related to wine than Harbour.

Is there anybody that can confirm that under gtwvt the font can be
changed at runtime using GTInfo(GTI_FONTNAME, cFontName)? ( where
cFontName is read from an ini file )

I've tried also under "real" Windows but it doesn't change also.

I've also tried to change WVT_DEFAULT_FONT in gtwvt.h but the result
is still the same.

Any idea?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Fri Dec 21 12:19:30 2007
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Dec 21 12:19:37 2007
Subject: [Harbour] gtwvt wine font problem
In-Reply-To: <9257026e0712210412m60bedc41g26fe34001a0f3c60@mail.gmail.com>
References: <9257026e0712210412m60bedc41g26fe34001a0f3c60@mail.gmail.com>
Message-ID: <8D02F718-E588-4F2D-9102-54332EA4B2E9@syenar.hu>

I didn't manage to change the font either. I can't tell
much details (maybe I did something wrong), but GTI_ICONFILE,
GTI_FONTQUALITY didn't make much difference either in my tests.

Brgds,
Viktor

On 2007.12.21., at 13:12, Lorenzo Fiorini wrote:

> I'm testing gtwvt apps built with devel under Fc8 but I can't change
> the font used.
>
> I've recently moved to Fc8 which doesn't use xfs so it could be more
> related to wine than Harbour.
>
> Is there anybody that can confirm that under gtwvt the font can be
> changed at runtime using GTInfo(GTI_FONTNAME, cFontName)? ( where
> cFontName is read from an ini file )
>
> I've tried also under "real" Windows but it doesn't change also.
>
> I've also tried to change WVT_DEFAULT_FONT in gtwvt.h but the result
> is still the same.
>
> Any idea?
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From dbtopas at dbtopas.lt  Fri Dec 21 15:58:04 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Dec 21 16:00:10 2007
Subject: [Harbour] ChangeLog 2007-12-21 18:00 UTC+0200 Mindaugas Kavaliauskas
Message-ID: <476BE28C.6020709@dbtopas.lt>

2007-12-21 18:00 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
   * harbour/source/lang/msgltwin.c
     * month name typo
From mbelgrano at deltain.it  Fri Dec 21 17:14:31 2007
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Dec 21 17:14:48 2007
Subject: [Harbour] MERRY  CHRISTMAS! 
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E72F@SRV02.deltain.net>

                                  _
                               .-(_)
                              / _/
                           .-'   \
                          /       '.
                        ,-~--~-~-~-~-,
                       {__.._...__..._}             ,888,
       ,888,          /\##"  6  6  "##/\          ,88' `88,
     ,88' '88,__     |(\`    (__)    `/)|     __,88'     `88
    ,88'   .8(_ \_____\_    '----'    _/_____/ _)8.       8'
    88    (___)\ \      '-.__    __.-'      / /(___)
    88    (___)88 |          '--'          | 88(___)
    8'      (__)88,___/                \___,88(__)
              __`88,_/__________________\_,88`__
             /    `88,       |88|       ,88'    \
            /        `88,    |88|    ,88'        \
           /____________`88,_\88/_,88`____________\
          /88888888888888888;8888;88888888888888888\
         /^^^^^^^^^^^^^^^^^^`/88\\^^^^^^^^^^^^^^^^^^\
   jgs  /                    |88| \============,     \
       /_  __  __  __   _ __ |88|_|^  MERRY    | _ ___\
       |;:.                  |88| | CHRISTMAS! |      |
       |;;:.                 |88| '============'      |
       |;;:.                 |88|                     |
       |::.                  |88|                     |
       |;;:'                 |88|                     |
       |:;,                  |88|                     |
       '---------------------""""---------------------'

From druzus at acn.waw.pl  Fri Dec 21 17:21:41 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Dec 21 17:21:51 2007
Subject: [Harbour] 2007-12-21 18:21 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712211721.lBLHLfLE005373@31-mo5-4.acn.waw.pl>

2007-12-21 18:21 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/pack_src.sh
    * try to detect GNU tar

  * harbour/make_xmingw.sh
    * added new default location for MinGW cross-compiler in Gentoo
      distribution
    * added auto detection of MinGW cross-compiler installation which
      should work in most cases when default location test fails

  * harbour/make_tgz.sh
    * try to detect GNU make and GNU tar

  * harbour/source/rtl/gtwvt/gtwvt.c
    * call hb_gt_wvt_InitWindow explicitly to eliminate problems
      with ignored WM_CREATE message when new window handler is not
      yet registered

best regards
Przemek
From druzus at acn.waw.pl  Fri Dec 21 17:50:09 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Dec 21 17:50:13 2007
Subject: [Harbour] 2007-12-21 18:49 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712211750.lBLHo9V8005804@31-mo5-4.acn.waw.pl>

2007-12-21 18:49 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/make_xmingw.sh
    * fixed two typos - many thanks to Phil Krylov for locating them

best regards
Przemek
From lorenzo.fiorini at gmail.com  Fri Dec 21 18:05:53 2007
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Dec 21 18:06:01 2007
Subject: [Harbour] 2007-12-21 18:21 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200712211721.lBLHLfLE005373@31-mo5-4.acn.waw.pl>
References: <200712211721.lBLHLfLE005373@31-mo5-4.acn.waw.pl>
Message-ID: <9257026e0712211005t27ae3b77k1440cc26f738a423@mail.gmail.com>

On Dec 21, 2007 6:21 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

>   * harbour/make_xmingw.sh
>     * added new default location for MinGW cross-compiler in Gentoo
>       distribution
>     * added auto detection of MinGW cross-compiler installation which
>       should work in most cases when default location test fails

I've just found that Ubuntu 7.10 Amd64 has /etc/debian_release ( with
the underscore ).

I've always used a custom make_xmingw.sh now I'll try if the new one
find UBUNTU defaults.

>   * harbour/source/rtl/gtwvt/gtwvt.c
>     * call hb_gt_wvt_InitWindow explicitly to eliminate problems
>       with ignored WM_CREATE message when new window handler is not
>       yet registered

Good, this fixes a garbaged screens I got at the start.

The fix has been faster than the report :)

Many thanks,
Lorenzo
From bedipritpal at hotmail.com  Fri Dec 21 18:25:52 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 21 18:26:06 2007
Subject: [Harbour] MERRY  CHRISTMAS!
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E72F@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815E72F@SRV02.deltain.net>
Message-ID: <14460140.post@talk.nabble.com>


To you too.

BTW very good sketch.


Massimo Belgrano wrote:
> 
>                                   _
>                                .-(_)
>                               / _/
>                            .-'   \
>                           /       '.
>                         ,-~--~-~-~-~-,
>                        {__.._...__..._}             ,888,
>        ,888,          /\##"  6  6  "##/\          ,88' `88,
>      ,88' '88,__     |(\`    (__)    `/)|     __,88'     `88
>     ,88'   .8(_ \_____\_    '----'    _/_____/ _)8.       8'
>     88    (___)\ \      '-.__    __.-'      / /(___)
>     88    (___)88 |          '--'          | 88(___)
>     8'      (__)88,___/                \___,88(__)
>               __`88,_/__________________\_,88`__
>              /    `88,       |88|       ,88'    \
>             /        `88,    |88|    ,88'        \
>            /____________`88,_\88/_,88`____________\
>           /88888888888888888;8888;88888888888888888\
>          /^^^^^^^^^^^^^^^^^^`/88\\^^^^^^^^^^^^^^^^^^\
>    jgs  /                    |88| \============,     \
>        /_  __  __  __   _ __ |88|_|^  MERRY    | _ ___\
>        |;:.                  |88| | CHRISTMAS! |      |
>        |;;:.                 |88| '============'      |
>        |;;:.                 |88|                     |
>        |::.                  |88|                     |
>        |;;:'                 |88|                     |
>        |:;,                  |88|                     |
>        '---------------------""""---------------------'
> 

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/MERRY--CHRISTMAS%21-tp14459130p14460140.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Fri Dec 21 18:36:09 2007
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Dec 21 18:36:13 2007
Subject: [Harbour] gtwvt wine font problem
In-Reply-To: <8D02F718-E588-4F2D-9102-54332EA4B2E9@syenar.hu>
References: <9257026e0712210412m60bedc41g26fe34001a0f3c60@mail.gmail.com>
	<8D02F718-E588-4F2D-9102-54332EA4B2E9@syenar.hu>
Message-ID: <9257026e0712211036x191efa02sba1852c9415067d0@mail.gmail.com>

On Dec 21, 2007 1:19 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> I didn't manage to change the font either. I can't tell
> much details (maybe I did something wrong), but GTI_ICONFILE,
> GTI_FONTQUALITY didn't make much difference either in my tests.

After the Przemyslaw fixes I got it working changing the font to "Courier".

The only fonts I see in the Wine registry are Courier, MS Sans Serif,
MS Serif and Small Fonts.

MS Sans Serif and MS Serif give bad results, probably because they are
proportional.

Courier is good and Small Fonts is "small".

GTI_FONTSIZE doesn't change the font size but I got the right icon
using GTInfo(GTI_ICONRES, "APPICON" ) and "link" a res file to the
binary

best regards,
Lorenzo
From druzus at acn.waw.pl  Fri Dec 21 19:10:02 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Dec 21 19:10:09 2007
Subject: [Harbour] 2007-12-21 20:09 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712211910.lBLJA24V006271@31-mo5-4.acn.waw.pl>

2007-12-21 20:09 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/make_xmingw.sh
    * fixed yet another typo located by Phil Krylov - thanks

best regards
Przemek
From druzus at acn.waw.pl  Fri Dec 21 19:18:06 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Dec 21 19:18:13 2007
Subject: [Harbour] gtwvt wine font problem
In-Reply-To: <9257026e0712211036x191efa02sba1852c9415067d0@mail.gmail.com>
References: <9257026e0712210412m60bedc41g26fe34001a0f3c60@mail.gmail.com>
	<8D02F718-E588-4F2D-9102-54332EA4B2E9@syenar.hu>
	<9257026e0712211036x191efa02sba1852c9415067d0@mail.gmail.com>
Message-ID: <20071221191806.GB6211@localhost.localdomain>

On Fri, 21 Dec 2007, Lorenzo Fiorini wrote:
> > I didn't manage to change the font either. I can't tell
> > much details (maybe I did something wrong), but GTI_ICONFILE,
> > GTI_FONTQUALITY didn't make much difference either in my tests.
> After the Przemyslaw fixes I got it working changing the font to "Courier".

Not exactly - it was working even before my commit but you should force
screen refresh - without it the change was not visible immediately.

> GTI_FONTSIZE doesn't change the font size

are you sure?
Code below works OK for me in Wine.

best regards,
Przemek



#include "hbcompat.ch"
proc main()
local i, n
? OS(), VERSION(), DATE(), TIME()
inkey(0)
for i := 1 to 10
   n := hb_gtInfo( GTI_FONTSIZE )
   hb_gtInfo( GTI_FONTSIZE, hb_gtInfo( GTI_FONTSIZE ) + 1 )
   if n == hb_gtInfo( GTI_FONTSIZE )
      exit
   endif
   ? hb_gtInfo( GTI_FONTSIZE )
   inkey(0)
next
for i := 1 to 10
   n := hb_gtInfo( GTI_FONTSIZE )
   hb_gtInfo( GTI_FONTSIZE, hb_gtInfo( GTI_FONTSIZE ) - 1 )
   if n == hb_gtInfo( GTI_FONTSIZE )
      exit
   endif
   ? hb_gtInfo( GTI_FONTSIZE )
   inkey(0)
next
return

From lorenzo.fiorini at gmail.com  Fri Dec 21 19:34:56 2007
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Dec 21 19:35:06 2007
Subject: [Harbour] gtwvt wine font problem
In-Reply-To: <20071221191806.GB6211@localhost.localdomain>
References: <9257026e0712210412m60bedc41g26fe34001a0f3c60@mail.gmail.com>
	<8D02F718-E588-4F2D-9102-54332EA4B2E9@syenar.hu>
	<9257026e0712211036x191efa02sba1852c9415067d0@mail.gmail.com>
	<20071221191806.GB6211@localhost.localdomain>
Message-ID: <9257026e0712211134l4f769d47g7417d67f22d5b399@mail.gmail.com>

On Dec 21, 2007 8:18 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> > GTI_FONTSIZE doesn't change the font size
>
> are you sure?
> Code below works OK for me in Wine.

Sorry I didn't add "with Courier font":

if I add hb_gtInfo( GTI_FONTNAME, "Courier" ) before

? OS(), VERSION(), DATE(), TIME()

I get only one value "13" and then it exit.

Not a big problem I use Wine only for tests.

best regards,
Lorenzo
From i at kevincarmody.com  Fri Dec 21 21:05:38 2007
From: i at kevincarmody.com (Kevin Carmody)
Date: Fri Dec 21 21:05:10 2007
Subject: [Harbour] MERRY  CHRISTMAS!
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E72F@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815E72F@SRV02.deltain.net>
Message-ID: <476C2AA2.10108@kevincarmody.com>

Hi Massimo,

Thanks very much for your greeting.  This kind of image is becoming a 
lost art form.  It was once common in the days of fixed width character 
based interfaces and printers.

Some people may be wondering what the image shows if their email 
software displays this kind of message in variable width.  It needs to 
be displayed in *fixed width*.  If anyone missed it, I have tried below 
to make sure you can see it in fixed width.

Best wishes to all for a wonderful holiday season.

Kevin


Massimo Belgrano wrote:
                                   _
                                .-(_)
                               / _/
                            .-'   \
                           /       '.
                         ,-~--~-~-~-~-,
                        {__.._...__..._}             ,888,
        ,888,          /\##"  6  6  "##/\          ,88' `88,
      ,88' '88,__     |(\`    (__)    `/)|     __,88'     `88
     ,88'   .8(_ \_____\_    '----'    _/_____/ _)8.       8'
     88    (___)\ \      '-.__    __.-'      / /(___)
     88    (___)88 |          '--'          | 88(___)
     8'      (__)88,___/                \___,88(__)
               __`88,_/__________________\_,88`__
              /    `88,       |88|       ,88'    \
             /        `88,    |88|    ,88'        \
            /____________`88,_\88/_,88`____________\
           /88888888888888888;8888;88888888888888888\
          /^^^^^^^^^^^^^^^^^^`/88\\^^^^^^^^^^^^^^^^^^\
    jgs  /                    |88| \============,     \
        /_  __  __  __   _ __ |88|_|^  MERRY    | _ ___\
        |;:.                  |88| | CHRISTMAS! |      |
        |;;:.                 |88| '============'      |
        |;;:.                 |88|                     |
        |::.                  |88|                     |
        |;;:'                 |88|                     |
        |:;,                  |88|                     |
        '---------------------""""---------------------'


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20071221/e8c18073/attachment.html
From tomaz.zupan at orpo.si  Sat Dec 22 16:39:16 2007
From: tomaz.zupan at orpo.si (=?utf-8?q?Toma=C5=BE_Zupan?=)
Date: Sat Dec 22 16:39:31 2007
Subject: [Harbour] pack_src.sh
Message-ID: <200712221739.16393.tomaz.zupan@orpo.si>

Hi!

There seems to be a problem with this script, because I aleays get empty 
archive and thus make_rpm.sh script also fails. 

Problem is in this line:
for f in `sed -e '/^[ ]*name="..*"$/ !d' -e 's/^[ ]*name="\(.*\)"$/\1/g' 
$d/entries`

Because it never returns any result and thus --files-from "$hb_flst" is always 
empty. I am getting this on Mandriva 2008 and latest cvs.

LP, Toma?

From bedipritpal at hotmail.com  Sun Dec 23 09:38:08 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Dec 23 09:38:14 2007
Subject: [Harbour] Multi-Window GT - First Prototype
Message-ID: <14476967.post@talk.nabble.com>


Hello Everybody

Here is the source and executable to have a glimpse of first real-time
multi-window GT in WVT Console.

The code:
=======
//----------------------------------------------------------------------//
//----------------------------------------------------------------------//
//----------------------------------------------------------------------//
//
//                  Pritpal Bedi <pritpal@vouchcac.com>
//                           (C) Copyright 2007
//                          All Rights Reserved.
//
//----------------------------------------------------------------------//
//----------------------------------------------------------------------//
//----------------------------------------------------------------------//

#include 'common.ch'
#include 'inkey.ch'
#include 'hbgtinfo.ch'

//----------------------------------------------------------------------//

#PRAGMA BEGINDUMP
#  include "hbapi.h"
#  include <windows.h>
#PRAGMA ENDDUMP

//----------------------------------------------------------------------//

Function Main()

   SetMode( 25,80 )
   SetCursor( 1 )
   SetColor( 'n/w' )

   CLS

   DispOutAt( 0,0,padc( 'This is Harbour Multi-Window GT Demo', maxcol()+1
), 'N/GR*' )
   DispOutAt( maxrow(),0,padc( 'F2 New   F3 Browser   AnyKey Echo   ESC
Quit', maxcol()+1 ), 'N/G*' )

   SetPos( 1,0 )

   FetchKey( 0 )

   Return NIL

//----------------------------------------------------------------------//

Function uiDebug( p1,p2,p3,p4,p5,p6,p7,p8,p9,p10 )
   Local cDebug := ''

   if p1 <> nil
      cDebug += uiXtos( p1 )
   endif
   if p2 <> nil
      cDebug += '   ' + uiXtos( p2 )
   endif
   if p3 <> nil
      cDebug += '   ' + uiXtos( p3 )
   endif
   if p4 <> nil
      cDebug += '   ' + uiXtos( p4 )
   endif
   if p5 <> nil
      cDebug += '   ' + uiXtos( p5 )
   endif
   if p6 <> nil
      cDebug += '   ' + uiXtos( p6 )
   endif
   if p7 <> nil
      cDebug += '   ' + uiXtos( p7 )
   endif
   if p8 <> nil
      cDebug += '   ' + uiXtos( p8 )
   endif
   if p9 <> nil
      cDebug += '   ' + uiXtos( p9 )
   endif
   if p10 <> nil
      cDebug += '   ' + uiXtos( p10 )
   endif

   HB_INLINE( cDebug ){
      OutputDebugString( hb_parc( 1 )  );
   }
   Return nil

//----------------------------------------------------------------------//

Static Function uiXtos( xVar )
   Local cVar := ''

   switch valtype( xVar )

   case 'C'
      cVar := xVar
      exit

   case 'N'
      cVar := str( xVar )
      exit

   case 'I'
      cVar := str( xVar )
      exit

   case 'D'
      cVar := dtoc( xVar )
      exit

   case 'L'
      cVar := if( xVar, 'Yes','No ' )
      exit

   case 'M'
      cVar := ''
      exit

   end

   Return cVar

//-------------------------------------------------------------------//

Function HB_GTSYS()
   REQUEST HB_GT_WVT_DEFAULT
   Return nil

//----------------------------------------------------------------------//

Function NewConsole()
   Local hGT, nKey, cText
   static n := 0

   cText :=  'Harbour WGM Window #'+ltrim( str( ++n,3,0 ) )

   if ( hGT := HB_WndCreate( 0,0,20+n,60+(n*2) ) ) > 0

      DispBox( 0, 0, maxrow( ,hGT ), maxcol(, hGT ), '         ', 'w+/b',
hGT )
      DispOutAt( 0, 0, padc( cText, maxcol( ,hGT )+1 ), 'w+/r', hGT )
      DispOutAt( maxrow(, hGT), 0, padc( 'Any Key to Echo or ESC to
Application Window',maxcol( ,hGT )+1 ), 'w+/bg', hGT )

      SetColor( 'W+/B', hGT )
      SetPos( 10, 10, hGT )
      DispOut( 'The Next Window', , hGT )

      // These unformatted output will be routed to Base GT Window
      // Note that values belongs to current GT == hGT
      //
      ? maxrow( ,hGT ), maxcol( ,hGT ), row( hGT ), col( hGT )

      //FetchKey( hGT )
   endif

   Return nil

//----------------------------------------------------------------------//

Function FetchKey( hGT )
   Local nKey

   do while .t.
      nKey := inkey( , , hGT )

      do case
      case nKey == 0

      case nKey == 27
         exit

      case nKey == 13
         ?

      case nKey == K_F2
         NewConsole()

      case nKey == K_F3
         MyBrowse_1()

      otherwise
         // This will echo to main window
         ?? chr( nKey )

         // This will display in current window
         // DispOut( chr( nKey ), , hGT ) //row( hGT ), col( hGT ), chr(
nKey ),
         // DispOutAt( row( hGT ), col( hGT ), chr( nKey ), , hGT )
      endcase
   enddo

   Return nil

//----------------------------------------------------------------------//

Function MyBrowse_1()
   Local hGT, oBrw
   Local aTest0   := { "This", "is", "a", "browse", "on", "an", "array",
"test", "with", "a", "long", "data" }
   Local aTest1   := { 1, 2, 3, 4, 5, 6, 7, 8, 10000, -1000, 54, 456342 }
   Local aTest2   := { date(), date()+4, date()+56, date()+14, date()+5,
date()+6, date()+7, date()+8, date()+10000, date()-1000, date()-54,
date()+456342 }
   Local aTest3   := { .t., .f., .t., .t., .f., .f., .t., .f., .t., .t.,
.f., .f. }
   Local aClrSpec := { "W+/B, N/GR*" , "W+/R, N/GR*" , "W+/BG, N/GR*",
"W+/G, N/GR*" , ;
                       "W+/W, N/GR*" , "W+/N, N/GR*" , "W+/RB, N/GR*",
"W+/B*, N/GR*", ;
                       "W+/N*, N/GR*", "W+/R*, N/GR*" }
   static n := 0
   n++
   if n > 10
      n := 1
   endif

   if ( hGT := HB_WndCreate( 0, 0, 10+n, 50+(n*2) ) ) == 0
      Return nil
   endif
   Hb_GTInfo( GTI_WINTITLE, 'Array Browser #'+ltrim( str( n ) ), hGT )

   oBrw := TBrowseNew( 0, 0, maxrow( ,hGT ), maxcol( ,hGT ), hGT )
   oBrw:cargo := { 1, hGT, aTest0, aTest1, aTest2, aTest3 }

   oBrw:colorSpec     := aClrSpec[ n ]
   oBrw:ColSep        := "?"
   oBrw:HeadSep       := "??"
   oBrw:FootSep       := "??"

   oBrw:GoTopBlock    := { || oBrw:cargo[ 1 ] := 1 }
   oBrw:GoBottomBlock := { || oBrw:cargo[ 1 ] := len( oBrw:cargo[ 3 ] ) }
   oBrw:SkipBlock     := { | nSkip, nPos, n | n := oBrw:cargo[ 1 ], nPos :=
n,;
                               oBrw:cargo[ 1 ] := If( nSkip > 0, Min( Len(
oBrw:cargo[ 3 ] ), n + nSkip ),;
                               Max( 1, n + nSkip ) ), oBrw:cargo[ 1 ] - nPos
}

   oBrw:AddColumn( TBColumnNew( "First",  { || oBrw:cargo[ 1 ] } ) )
   oBrw:AddColumn( TBColumnNew( "Second", { || oBrw:cargo[ 3, oBrw:cargo[ 1
] ] } ) )
   oBrw:AddColumn( TBColumnNew( "Third",  { || oBrw:cargo[ 4, oBrw:cargo[ 1
] ] } ) )
   oBrw:AddColumn( TBColumnNew( "Fourth", { || oBrw:cargo[ 5, oBrw:cargo[ 1
] ] } ) )
   oBrw:AddColumn( TBColumnNew( "Fifth",  { || oBrw:cargo[ 6, oBrw:cargo[ 1
] ] } ) )

   oBrw:GetColumn( 1 ):Picture := '@Z 999'
   oBrw:GetColumn( 2 ):Picture := '@!'
   oBrw:GetColumn( 3 ):Picture := '999,999.99'

   oBrw:GetColumn( 1 ):Width   :=  8
   oBrw:GetColumn( 2 ):Width   := 10
   oBrw:GetColumn( 3 ):Width   := 10
   oBrw:GetColumn( 4 ):Width   :=  8
   oBrw:GetColumn( 5 ):Width   :=  5

   oBrw:Freeze := 1
   oBrw:Configure()
   oBrw:ForceStable()

   // Post a Callback Function to Respect any Key Press for GT/Windows
identified as hGT
   // GT identification <hGT> is the first parameter available to any
callback function.
   // Third element of Callback info, an array, is available as 2nd
parameter to any callback function.
   //
   HB_GTInfo( GTI_CALLBACK, { GTI_CB_INKEY, 'MYBROWSE_1_CALLBACK', { oBrw,1
} }, hGT )

   //HB_GTInfo( GTI_CALLBACK, { GTI_CB_CLOSE, 'MYBROWSE_1_CLOSE' }, hGT )

   Return nil

//----------------------------------------------------------------------//
//
// hGT    : Current GT Handle
// aCargo : User submitted array in GTInfo() passed by reference.
// nKey   : The keycode received by the window ; equivilant to Inkey()
//
Function MyBrowse_1_Callback( hGT, aCargo, nKey )
   Local oBrw
   Local lForceStable := .t.

//uiDebug( hGT, aCargo[ 2 ] )

   oBrw := aCargo[ 1 ]

   do case
   case nKey == K_DOWN
      oBrw:Down()

   case nKey == K_UP
      oBrw:Up()

   case nKey == K_LEFT
      oBrw:Left()

   case nKey == K_RIGHT
      oBrw:Right()

   case nKey = K_PGDN
      oBrw:pageDown()

   case nKey = K_PGUP
      oBrw:pageUp()

   case nKey = K_CTRL_PGUP
      oBrw:goTop()

   case nKey = K_CTRL_PGDN
      oBrw:goBottom()

   case nKey = K_HOME
      oBrw:home()

   case nKey = K_END
      oBrw:end()

   case nKey = K_CTRL_LEFT
      oBrw:panLeft()

   case nKey = K_CTRL_RIGHT
      oBrw:panRight()

   case nKey = K_CTRL_HOME
      oBrw:panHome()

   case nKey = K_CTRL_END
      oBrw:panEnd()

   case nKey == K_F10
      aCargo[ 2 ]++
      oBrw:RefreshAll()

   case nKey == K_ESC
      Hb_WndDestroy( hGT )
      lForceStable := .f.

   case nKey == K_ALT_Q
      HB_GTInfo( GTI_WINTITLE, 'Alt_Q is Pressed', hGT )
      lForceStable := .f.

   otherwise
      inkey( , , hGT )
      lForceStable := .f.

   endcase

   if lForceStable
      oBrw:ForceStable()
   endif

   Return 0

//----------------------------------------------------------------------//

Function MyBrowse_1_Close( hGT, aCargo )

   //  Release Resources

   Return 0

//----------------------------------------------------------------------//


The Executable:  
===========
http://www.nabble.com/file/p14476967/MultiWVT.zip MultiWVT.zip 

The work is based on Przemek's recent changes in GT subsystem. 

This prototype is targeted at Single-thread ( as of now ) Harbour
applications but stands good for Multi-threaded ( when implemented ) Harbour
too, probably without any adjustments.

The entire changes in GT core code is guarded against HB_GT_MULTI_WINDOWS
directive and is synchronised with current SVN. Przemek please review these
changes and set it right if I have done something wrong. Let me know where I
upload the files, large in number, for all of you to have a first look.

Probably this commit will be after release 1.0. So before I continue working
on the project I need your expert opinion/recommendations/rejections/etc on
this matter.

Over to Przemek ...

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---First-Prototype-tp14476967p14476967.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Sat Dec 22 12:15:09 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Dec 23 16:47:40 2007
Subject: [Harbour] 2007-12-22 13:14 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712221215.lBMCF9XW008552@31-mo5-4.acn.waw.pl>

2007-12-22 13:14 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/make_tgz.sh
    + added HB_BUILDSUF
    - removed hbverfix and pretest from final binaries
    ! fixed setting UNTAR_OPT

best regards
Przemek
From druzus at acn.waw.pl  Sat Dec 22 11:59:13 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Dec 23 16:47:42 2007
Subject: [Harbour] 2007-12-22 12:58 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712221159.lBMBxDEe002514@31-mo5-4.acn.waw.pl>

2007-12-22 12:58 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/make_tgz.sh
    + added HB_BUILDSUF
    - removed hbverfix and pretest from final binaries
    ! fixed setting UNTAR_OPT

best regards
Przemek
From druzus at acn.waw.pl  Sat Dec 22 10:59:34 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Dec 23 16:47:48 2007
Subject: [Harbour] 2007-12-22 11:59 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712221059.lBMAxYwU030742@31-mo5-4.acn.waw.pl>

2007-12-22 11:59 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/make_tgz.sh
    * use -fPIC on HP-UX
    * respect user defined C_USR and L_USR
    ! fixed typo in GNU tar detection 

best regards
Przemek
From druzus at acn.waw.pl  Sat Dec 22 10:28:29 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Dec 23 16:47:50 2007
Subject: [Harbour] 2007-12-22 11:28 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200712221028.lBMAST6I025250@31-mo5-4.acn.waw.pl>

2007-12-22 11:28 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-mkslib.sh
    + added -fPIC to GCC parameters - it's necessary on some platforms
    + use .sl suffix for shared library in HP-UX

  * harbour/bin/hb-func.sh
    + use .sl suffix for shared library in HP-UX

  * harbour/bin/postinst.bat
    * removed < > from email address

  * harbour/include/hbgtcore.h
  * harbour/source/rtl/gtkeycod.c
  * harbour/source/rtl/gtdos/gtdos.c
  * harbour/source/rtl/gtos2/gtos2.c
  * harbour/source/rtl/gtstd/gtstd.c
  * harbour/source/rtl/gtpca/gtpca.c
    * fixed typo in function name - it should be hb_gt_dos_keyCodeTranslate()
      not hb_gt_dos_keyCodeTanslate()

  * harbour/make_tgz.sh
    * updated for non GNU tar versions

  * harbour/ChangeLog
    * replaced TABs with SPACEs

best regards
Przemek
From druzus at acn.waw.pl  Sat Dec 22 10:18:04 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sun Dec 23 16:47:52 2007
Subject: [Harbour] gttrm questions
In-Reply-To: <9257026e0711211445m650942fv374b8d98dda0e313@mail.gmail.com>
References: <9257026e0711211445m650942fv374b8d98dda0e313@mail.gmail.com>
Message-ID: <20071222101804.GA21360@localhost.localdomain>

On Wed, 21 Nov 2007, Lorenzo Fiorini wrote:
> Using gtkeys I found that several Ctrl+Alt+key returns K_CTRL_HOME but
> nobody returns K_CTRL_END, is there a way to get it?

It will depend on used terminal.
It has to send unique escape sequence for such key combination and
GTTRM has to recognize it.
You can use GTSTD to check what escape sequence is send for given
keys. GTSTD accepts incoming data in raw mode without any translation
so if you run gtkeys with //gtsld then you will see the exact
sequence.

> K_SH_TAB works with "xterm" but not with "linux" is it expected?

The same as above - probably keymap use in your linux box sends
exactly the same key sequence (chr(9)) for K_SH_TAB and K_TAB.
You can edit this keymap and add some unique sequence for K_SH_TAB
and then inform GTTRM about it. You can add ne key sequences at .prg
level using hb_gtInfo(GTI_ADDKEYMAP, {<nKeyCode>,<cKeySeq>}), f.e.:
    hb_gtInfo( GTI_ADDKEYMAP, { K_SH_TAB, Chr( 29 ) + Chr( 9 ) } )

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Sun Dec 23 17:11:36 2007
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Dec 23 17:11:47 2007
Subject: [Harbour] gttrm questions
In-Reply-To: <20071222101804.GA21360@localhost.localdomain>
References: <9257026e0711211445m650942fv374b8d98dda0e313@mail.gmail.com>
	<20071222101804.GA21360@localhost.localdomain>
Message-ID: <9257026e0712230911x6f63aacfl22d47ca801ae387@mail.gmail.com>

On Dec 22, 2007 11:18 AM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> It will depend on used terminal.
> ...
> You can add ne key sequences at .prg
> level using hb_gtInfo(GTI_ADDKEYMAP, {<nKeyCode>,<cKeySeq>}), f.e.:
>     hb_gtInfo( GTI_ADDKEYMAP, { K_SH_TAB, Chr( 29 ) + Chr( 9 ) } )

Many thanks, I'll do some tests. I was using putty on Windows.

best regards,
Lorenzo
From maurilio.longo at libero.it  Mon Dec 24 17:43:24 2007
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Dec 24 17:43:31 2007
Subject: [Harbour] Merry Christmas
Message-ID: <476FEFBC.FBDE44B0@libero.it>

Merry Christmas to all [x]harbour developers! :)

Maurilio.

-- 
 __________                   
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.
From e.m.giordano at emagsoftware.it  Mon Dec 24 19:12:25 2007
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Dec 24 19:12:29 2007
Subject: [Harbour] Merry Christmas
References: <476FEFBC.FBDE44B0@libero.it>
Message-ID: <00fb01c84660$ead8a350$ca64fea9@emag>


-----Messaggio Originale----- 
Da: "Maurilio Longo" <maurilio.longo@libero.it>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: luned? 24 dicembre 2007 18.43
Oggetto: [Harbour] Merry Christmas


> Merry Christmas to all [x]harbour developers! :)

My best wishes!

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From bedipritpal at hotmail.com  Tue Dec 25 00:52:37 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Dec 25 00:52:43 2007
Subject: [Harbour] Multi-Window GT - First Prototype
In-Reply-To: <14476967.post@talk.nabble.com>
References: <14476967.post@talk.nabble.com>
Message-ID: <14492446.post@talk.nabble.com>


Przemek


Pritpal Bedi wrote:
> 
> Here is the source and executable to have a glimpse of first real-time
> multi-window GT in WVT Console.
> 

I did not hear anything from you :-(((

Regards
Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---First-Prototype-tp14476967p14492446.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From info at fsgiudice.com  Thu Dec 27 02:52:13 2007
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Thu Dec 27 02:52:26 2007
Subject: [Harbour] Autoincrement fields
References: <14476967.post@talk.nabble.com> <14492446.post@talk.nabble.com>
Message-ID: <000201c84833$7dabeb50$6501a8c0@ASUSFSG>

Hi All,

how may I use an autoincrement field ?
I would like to have a numeric value, but at the moment if I create a dbf 
with below command, I got a datetime field.

dbcreate( "test", { {"USERID", "+", 12, 0 }, { "NAME", C, 20, 0 } }, 
"DBFCDX" )

I have tried with some combinations of len and dec values, but without 
success.
I have also seen that at the moment there is a commented out DBS_FLAG, but 
it should be for future extension.

Is autoinc already full implemented or is it at devel stage ?

TIA

Francesco

From bedipritpal at hotmail.com  Fri Dec 28 05:36:52 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 28 05:36:57 2007
Subject: [Harbour] Multi-Window GT - Second Prototype
Message-ID: <14522471.post@talk.nabble.com>


Hello Everybody

Here is 2nd prototype of Multi-window GT to review. I am wondering if these
changes qualify for ver 1.0 or not?

+ Added Database TBrowse
+ Resizing of Browse Window 
+ Maxmizing of Browse Window

Executable:   http://www.nabble.com/file/p14522471/MultiWVT.zip MultiWVT.zip 
Exe Source:   http://www.nabble.com/file/p14522471/MultiWVT.prg MultiWVT.prg 
Harbour Sources:    http://www.nabble.com/file/p14522471/source.zip
source.zip 

Here is the changelog:

  * harbour/include/hbgtinfo.ch
  * harbour/include/hbgtcore.h
  * harbour/include/hbapi.h
  * harbour/include/hbapigt.h
    Redefined all functions guarded under #if defined( HB_GT_MULTI_WINDOWS )
    Added more directives/prototypes to honor multi-window GT.

  * harbour/source/rtl/hbgtcore.c
  * harbour/source/rtl/gtapi.c
  * harbour/source/rtl/inkeyapi.c
  * harbour/source/rtl/mouseapi.c
    *.*
      Redefined all functions guarded under #if defined( HB_GT_MULTI_WINDOWS
)

  * harbour/source/rtl/console.c
    * HB_FUNC( QQOUT )
    * HB_FUNC( QOUT )
      int iGT = 0;     /* Needs to be Resolved with consensus */
    * HB_FUNC( DEVPOS )          [3]
    * HB_FUNC( DEVOUT )          [3]
    * HB_FUNC( DISPOUT )         [3]
    * HB_FUNC( DISPOUTAT )       [5]
      Redefined all functions guarded under #if defined( HB_GT_MULTI_WINDOWS
)
    
  * harbour/source/rtl/gt.c
    * HB_FUNC( __ACCEPT )
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
      /*  To be synchronized */

  * harbour/source/rtl/gt.c
    * HB_FUNC( DISPBEGIN )       [1]
    * HB_FUNC( DISPCOUNT )       [1]
    * HB_FUNC( DISPEND )         [1]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/gtfunc.c
    * HB_FUNC( HB_SETDISPCP )    [4]
    * HB_FUNC( HB_SETKEYCP )     [3]
    * HB_FUNC( HB_SETTERMCP )    [4]
    * HB_FUNC( HB_GTINFO )       [3]
    * HB_FUNC( HB_GTVERSION )    [ ]
    * HB_FUNC( HB_GTALERT )      [6]
    * HB_FUNC( HB_GFXPRIMITIVE ) [7]
    * HB_FUNC( HB_GFXTEXT )      [7]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

    + HB_FUNC( HB_WNDCREATE )
    + HB_FUNC( HB_WNDDESTROY )
    + HB_FUNC( HB_WNDSELECT )
    + HB_FUNC( HB_WNDCURRENT )
      Added new prg level functions to manage multiple windows.
      Guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/box.c     [7]
    * HB_FUNC( DISPBOX )
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/gx.c
    * HB_FUNC( ISCOLOR )         [1]
    * HB_FUNC( NOSNOW )          [2]
    * HB_FUNC( SETMODE )         [3]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/inkey.c
    * HB_FUNC( INKEY )           [3]
    * HB_FUNC( __KEYBOARD )      [2]
    * HB_FUNC( HB_KEYPUT )       [2]
    * HB_FUNC( NEXTKEY )         [2]
    * HB_FUNC( LASTKEY )         [2]
    * HB_FUNC( HB_SETLASTKEY )   [2]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/maxrow.c
    * HB_FUNC( MAXROW )          [2]
    * HB_FUNC( MAXCOL )          [2]

  * harbour/source/rtl/mouse53.c
    * HB_FUNC( MSETBOUNDS )      [5]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
      !  TODO : All other functions related to Mouse.

  * harbour/source/rtl/oldbox.c
    * HB_FUNC( __BOX )           [6]
    * HB_FUNC( __BOXD )          [5]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/oldclear.c
    * HB_FUNC( __ATCLEAR )       [5]
    * HB_FUNC( __CLEAR )         [1]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/run.c
    * HB_FUNC( __RUN )           [0]  /* ToDo */
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/scroll.c
    * HB_FUNC( SCROLL )          [7]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/set.c
    * HB_FUNC( SET )
      ! case HB_SET_COLOR:       [0]  /* ToDo */
      ! case HB_SET_TYPEAHEAD    [0]
        Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/setcolor.c
    * char * hb_conSetColor( const char * szColor, int iGT )
    * HB_FUNC( SETCOLOR )        [2]
    * HB_FUNC( COLORSELECT )     [2]
    * HB_FUNC( SETBLINK )        [2]
    * HB_FUNC( HB_COLORTON )     [2]
    * HB_FUNC( HB_NTOCOLOR )     [2]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )    

  * harbour/source/rtl/setcurs.c
    * USHORT hb_conSetCursor( BOOL bSetCursor, USHORT uiNewCursor ) 
      Uses 0 as iGT parameter; To Be Synchronized.
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )    
    * HB_FUNC( SETCURSOR )       [2]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )    

  * harbour/source/rtl/setpos.c
    * HB_FUNC( SETPOS )          [3]
    * HB_FUNC( ROW )             [1]
    * HB_FUNC( COL )             [1]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/setposbs.c
    * HB_FUNC( SETPOSBS )        [1]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/shadow.c
    * HB_FUNC( HB_SHADOW )       [6]
    * HB_FUNC( HB_CLRAREA )      [6] 
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/tone.c
    * HB_FUNC( TONE )            [0]  /* To Review */
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/xsavescr.c
    * HB_FUNC( __XSAVESCREEN )   [1]
    * HB_FUNC( __XRESTSCREEN )   [1]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/saverest.c
    * HB_FUNC( SAVESCREEN )      [6]
    * HB_FUNC( RESTSCREEN )      [7]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/tbrowse.prg
    * TBrowseNew()               [5]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/compiler/hbfuncchk.c
    * static HB_FUNCINFO hb_StdFunc[]  
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
      Effected last parameter to various GT functions as optionals.

  * harbour/source/rdd/dbsql.c
    * static ULONG hb_db2Sql()
      #if !defined( HB_GT_MULTI_WINDOWS )
         hb_inkeyPoll();
      #else
         hb_inkeyPoll( 0 );  /* HOW TO ? */
      #endif

  * harbour/source/vm/hvm.c
    * HB_EXPORT void hb_vmInit()
      #if !defined( HB_GT_MULTI_WINDOWS )
         hb_inkeySetCancelKeys( s_VMCancelKey, s_VMCancelKeyEx );
      #else
         hb_inkeySetCancelKeys( s_VMCancelKey, s_VMCancelKeyEx, 0 );
      #endif
    * HB_EXPORT void hb_vmExecute()
      #if !defined( HB_GT_MULTI_WINDOWS )
         hb_inkeyPoll();
      #else
         hb_inkeyPoll( 0 );   /* NEEDS TO BE ADJUSTED FOR CURRENT GT : HOW
TO ? */
      #endif

  * harbour/utils/hbmake/hbmlang.c
    * HB_FUNC( GAUGEDISPLAY )
      Deactivated for #ifdef HB_GT_MULTI_WINDOW for time-being.
 
  * harbour/source/rtl/gtwvt/gtwvt.c
    * Adjusted to take care of GT core changes.
    * All such changes are guarded under #if defined( HB_GT_MULTI_WINDOWS )

       [n] in brackets after the function name points to prg level parameter
number for <hGT> and defaults to zero[0] meaning base window initialized at
the time of appln startup.

    /*
    The above changes are subject to improvements. I did what my meagre
knowledge
    guided. As I am not a C programmer basically, I feel above all can be
achieved
    in other ways too, more efficient than what I did. Thanks to Przemek who
set 
    the ground to realize this dream, and now I am sure he will set right
what I 
    might have done wrong.

    I have tested extensively and have found that these changes do not
interfere
    with existing functionality in any way, WITH or WITHOUT these changes.
Even 
    if Harbour and application is compiled with HB_GT_MULTI_WINDOWS,
existing code
    runs fine. 

    I could not justify with some functions, especially in console.c which
needs a
    deeper understanding of the GT system. I am sure Przemek will set those
parts 
    right.
    */

    
Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---Second-Prototype-tp14522471p14522471.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From m.renzi at maticasrl.it  Fri Dec 28 07:33:09 2007
From: m.renzi at maticasrl.it (Massimo Renzi (MaticaSrl))
Date: Fri Dec 28 07:34:28 2007
Subject: R: [Harbour] Multi-Window GT - Second Prototype
In-Reply-To: <14522471.post@talk.nabble.com>
References: <14522471.post@talk.nabble.com>
Message-ID: <001901c84923$e4eeaff0$6e00e00a@maxsoft>

Very very compliment.
Thank you.
max

p.s.: F3->New ArrayBrowser->Click on Maximazewindow button->it maximaze the
windows but it's impossible resotre the previus size. (Win2000Pro)

-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] Per conto di Pritpal Bedi
Inviato: venerd? 28 dicembre 2007 6.37
A: harbour@harbour-project.org
Oggetto: [Harbour] Multi-Window GT - Second Prototype


Hello Everybody

Here is 2nd prototype of Multi-window GT to review. I am wondering if these
changes qualify for ver 1.0 or not?

+ Added Database TBrowse
+ Resizing of Browse Window 
+ Maxmizing of Browse Window

Executable:   http://www.nabble.com/file/p14522471/MultiWVT.zip MultiWVT.zip

Exe Source:   http://www.nabble.com/file/p14522471/MultiWVT.prg MultiWVT.prg

Harbour Sources:    http://www.nabble.com/file/p14522471/source.zip
source.zip 

Here is the changelog:

  * harbour/include/hbgtinfo.ch
  * harbour/include/hbgtcore.h
  * harbour/include/hbapi.h
  * harbour/include/hbapigt.h
    Redefined all functions guarded under #if defined( HB_GT_MULTI_WINDOWS )
    Added more directives/prototypes to honor multi-window GT.

  * harbour/source/rtl/hbgtcore.c
  * harbour/source/rtl/gtapi.c
  * harbour/source/rtl/inkeyapi.c
  * harbour/source/rtl/mouseapi.c
    *.*
      Redefined all functions guarded under #if defined( HB_GT_MULTI_WINDOWS
)

  * harbour/source/rtl/console.c
    * HB_FUNC( QQOUT )
    * HB_FUNC( QOUT )
      int iGT = 0;     /* Needs to be Resolved with consensus */
    * HB_FUNC( DEVPOS )          [3]
    * HB_FUNC( DEVOUT )          [3]
    * HB_FUNC( DISPOUT )         [3]
    * HB_FUNC( DISPOUTAT )       [5]
      Redefined all functions guarded under #if defined( HB_GT_MULTI_WINDOWS
)
    
  * harbour/source/rtl/gt.c
    * HB_FUNC( __ACCEPT )
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
      /*  To be synchronized */

  * harbour/source/rtl/gt.c
    * HB_FUNC( DISPBEGIN )       [1]
    * HB_FUNC( DISPCOUNT )       [1]
    * HB_FUNC( DISPEND )         [1]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/gtfunc.c
    * HB_FUNC( HB_SETDISPCP )    [4]
    * HB_FUNC( HB_SETKEYCP )     [3]
    * HB_FUNC( HB_SETTERMCP )    [4]
    * HB_FUNC( HB_GTINFO )       [3]
    * HB_FUNC( HB_GTVERSION )    [ ]
    * HB_FUNC( HB_GTALERT )      [6]
    * HB_FUNC( HB_GFXPRIMITIVE ) [7]
    * HB_FUNC( HB_GFXTEXT )      [7]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

    + HB_FUNC( HB_WNDCREATE )
    + HB_FUNC( HB_WNDDESTROY )
    + HB_FUNC( HB_WNDSELECT )
    + HB_FUNC( HB_WNDCURRENT )
      Added new prg level functions to manage multiple windows.
      Guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/box.c     [7]
    * HB_FUNC( DISPBOX )
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/gx.c
    * HB_FUNC( ISCOLOR )         [1]
    * HB_FUNC( NOSNOW )          [2]
    * HB_FUNC( SETMODE )         [3]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/inkey.c
    * HB_FUNC( INKEY )           [3]
    * HB_FUNC( __KEYBOARD )      [2]
    * HB_FUNC( HB_KEYPUT )       [2]
    * HB_FUNC( NEXTKEY )         [2]
    * HB_FUNC( LASTKEY )         [2]
    * HB_FUNC( HB_SETLASTKEY )   [2]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/maxrow.c
    * HB_FUNC( MAXROW )          [2]
    * HB_FUNC( MAXCOL )          [2]

  * harbour/source/rtl/mouse53.c
    * HB_FUNC( MSETBOUNDS )      [5]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
      !  TODO : All other functions related to Mouse.

  * harbour/source/rtl/oldbox.c
    * HB_FUNC( __BOX )           [6]
    * HB_FUNC( __BOXD )          [5]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/oldclear.c
    * HB_FUNC( __ATCLEAR )       [5]
    * HB_FUNC( __CLEAR )         [1]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/run.c
    * HB_FUNC( __RUN )           [0]  /* ToDo */
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/scroll.c
    * HB_FUNC( SCROLL )          [7]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/set.c
    * HB_FUNC( SET )
      ! case HB_SET_COLOR:       [0]  /* ToDo */
      ! case HB_SET_TYPEAHEAD    [0]
        Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/setcolor.c
    * char * hb_conSetColor( const char * szColor, int iGT )
    * HB_FUNC( SETCOLOR )        [2]
    * HB_FUNC( COLORSELECT )     [2]
    * HB_FUNC( SETBLINK )        [2]
    * HB_FUNC( HB_COLORTON )     [2]
    * HB_FUNC( HB_NTOCOLOR )     [2]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )    

  * harbour/source/rtl/setcurs.c
    * USHORT hb_conSetCursor( BOOL bSetCursor, USHORT uiNewCursor ) 
      Uses 0 as iGT parameter; To Be Synchronized.
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )    
    * HB_FUNC( SETCURSOR )       [2]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )    

  * harbour/source/rtl/setpos.c
    * HB_FUNC( SETPOS )          [3]
    * HB_FUNC( ROW )             [1]
    * HB_FUNC( COL )             [1]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/setposbs.c
    * HB_FUNC( SETPOSBS )        [1]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/shadow.c
    * HB_FUNC( HB_SHADOW )       [6]
    * HB_FUNC( HB_CLRAREA )      [6] 
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/tone.c
    * HB_FUNC( TONE )            [0]  /* To Review */
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/xsavescr.c
    * HB_FUNC( __XSAVESCREEN )   [1]
    * HB_FUNC( __XRESTSCREEN )   [1]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/saverest.c
    * HB_FUNC( SAVESCREEN )      [6]
    * HB_FUNC( RESTSCREEN )      [7]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/tbrowse.prg
    * TBrowseNew()               [5]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/compiler/hbfuncchk.c
    * static HB_FUNCINFO hb_StdFunc[]  
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
      Effected last parameter to various GT functions as optionals.

  * harbour/source/rdd/dbsql.c
    * static ULONG hb_db2Sql()
      #if !defined( HB_GT_MULTI_WINDOWS )
         hb_inkeyPoll();
      #else
         hb_inkeyPoll( 0 );  /* HOW TO ? */
      #endif

  * harbour/source/vm/hvm.c
    * HB_EXPORT void hb_vmInit()
      #if !defined( HB_GT_MULTI_WINDOWS )
         hb_inkeySetCancelKeys( s_VMCancelKey, s_VMCancelKeyEx );
      #else
         hb_inkeySetCancelKeys( s_VMCancelKey, s_VMCancelKeyEx, 0 );
      #endif
    * HB_EXPORT void hb_vmExecute()
      #if !defined( HB_GT_MULTI_WINDOWS )
         hb_inkeyPoll();
      #else
         hb_inkeyPoll( 0 );   /* NEEDS TO BE ADJUSTED FOR CURRENT GT : HOW
TO ? */
      #endif

  * harbour/utils/hbmake/hbmlang.c
    * HB_FUNC( GAUGEDISPLAY )
      Deactivated for #ifdef HB_GT_MULTI_WINDOW for time-being.
 
  * harbour/source/rtl/gtwvt/gtwvt.c
    * Adjusted to take care of GT core changes.
    * All such changes are guarded under #if defined( HB_GT_MULTI_WINDOWS )

       [n] in brackets after the function name points to prg level parameter
number for <hGT> and defaults to zero[0] meaning base window initialized at
the time of appln startup.

    /*
    The above changes are subject to improvements. I did what my meagre
knowledge
    guided. As I am not a C programmer basically, I feel above all can be
achieved
    in other ways too, more efficient than what I did. Thanks to Przemek who
set 
    the ground to realize this dream, and now I am sure he will set right
what I 
    might have done wrong.

    I have tested extensively and have found that these changes do not
interfere
    with existing functionality in any way, WITH or WITHOUT these changes.
Even 
    if Harbour and application is compiled with HB_GT_MULTI_WINDOWS,
existing code
    runs fine. 

    I could not justify with some functions, especially in console.c which
needs a
    deeper understanding of the GT system. I am sure Przemek will set those
parts 
    right.
    */

    
Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context:
http://www.nabble.com/Multi-Window-GT---Second-Prototype-tp14522471p14522471
.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

No virus found in this incoming message.
Checked by AVG Free Edition. 
Version: 7.5.516 / Virus Database: 269.17.11/1200 - Release Date: 27/12/2007
13.34
 

No virus found in this outgoing message.
Checked by AVG Free Edition. 
Version: 7.5.516 / Virus Database: 269.17.11/1200 - Release Date: 27/12/2007
13.34
 

From harbour.01 at syenar.hu  Fri Dec 28 09:01:29 2007
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Dec 28 09:01:36 2007
Subject: [Harbour] Multi-Window GT - Second Prototype
In-Reply-To: <14522471.post@talk.nabble.com>
References: <14522471.post@talk.nabble.com>
Message-ID: <E4CC8F13-4A86-461B-A0E4-DE827426F2D4@syenar.hu>

Hu Pritpal,

As far as I can see these changes are so intense that
we shouldn't add them before 1.0, moreover I suspect it
introduces a lot of incompatible extensions, so I'd vote
to reconsider the whole package so that it complies with
Harbour rules.

You could send your full patch though, so that ppl can
see it, use it.

Brgds,
Viktor

On 2007.12.28., at 6:36, Pritpal Bedi wrote:

>
> Hello Everybody
>
> Here is 2nd prototype of Multi-window GT to review. I am wondering  
> if these
> changes qualify for ver 1.0 or not?
>
> + Added Database TBrowse
> + Resizing of Browse Window
> + Maxmizing of Browse Window
>
> Executable:   http://www.nabble.com/file/p14522471/MultiWVT.zip  
> MultiWVT.zip
> Exe Source:   http://www.nabble.com/file/p14522471/MultiWVT.prg  
> MultiWVT.prg
> Harbour Sources:    http://www.nabble.com/file/p14522471/source.zip
> source.zip
>
> Here is the changelog:
>
>  * harbour/include/hbgtinfo.ch
>  * harbour/include/hbgtcore.h
>  * harbour/include/hbapi.h
>  * harbour/include/hbapigt.h
>    Redefined all functions guarded under #if  
> defined( HB_GT_MULTI_WINDOWS )
>    Added more directives/prototypes to honor multi-window GT.
>
>  * harbour/source/rtl/hbgtcore.c
>  * harbour/source/rtl/gtapi.c
>  * harbour/source/rtl/inkeyapi.c
>  * harbour/source/rtl/mouseapi.c
>    *.*
>      Redefined all functions guarded under #if  
> defined( HB_GT_MULTI_WINDOWS
> )
>
>  * harbour/source/rtl/console.c
>    * HB_FUNC( QQOUT )
>    * HB_FUNC( QOUT )
>      int iGT = 0;     /* Needs to be Resolved with consensus */
>    * HB_FUNC( DEVPOS )          [3]
>    * HB_FUNC( DEVOUT )          [3]
>    * HB_FUNC( DISPOUT )         [3]
>    * HB_FUNC( DISPOUTAT )       [5]
>      Redefined all functions guarded under #if  
> defined( HB_GT_MULTI_WINDOWS
> )
>
>  * harbour/source/rtl/gt.c
>    * HB_FUNC( __ACCEPT )
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>      /*  To be synchronized */
>
>  * harbour/source/rtl/gt.c
>    * HB_FUNC( DISPBEGIN )       [1]
>    * HB_FUNC( DISPCOUNT )       [1]
>    * HB_FUNC( DISPEND )         [1]
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/rtl/gtfunc.c
>    * HB_FUNC( HB_SETDISPCP )    [4]
>    * HB_FUNC( HB_SETKEYCP )     [3]
>    * HB_FUNC( HB_SETTERMCP )    [4]
>    * HB_FUNC( HB_GTINFO )       [3]
>    * HB_FUNC( HB_GTVERSION )    [ ]
>    * HB_FUNC( HB_GTALERT )      [6]
>    * HB_FUNC( HB_GFXPRIMITIVE ) [7]
>    * HB_FUNC( HB_GFXTEXT )      [7]
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>    + HB_FUNC( HB_WNDCREATE )
>    + HB_FUNC( HB_WNDDESTROY )
>    + HB_FUNC( HB_WNDSELECT )
>    + HB_FUNC( HB_WNDCURRENT )
>      Added new prg level functions to manage multiple windows.
>      Guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/rtl/box.c     [7]
>    * HB_FUNC( DISPBOX )
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/rtl/gx.c
>    * HB_FUNC( ISCOLOR )         [1]
>    * HB_FUNC( NOSNOW )          [2]
>    * HB_FUNC( SETMODE )         [3]
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/rtl/inkey.c
>    * HB_FUNC( INKEY )           [3]
>    * HB_FUNC( __KEYBOARD )      [2]
>    * HB_FUNC( HB_KEYPUT )       [2]
>    * HB_FUNC( NEXTKEY )         [2]
>    * HB_FUNC( LASTKEY )         [2]
>    * HB_FUNC( HB_SETLASTKEY )   [2]
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/rtl/maxrow.c
>    * HB_FUNC( MAXROW )          [2]
>    * HB_FUNC( MAXCOL )          [2]
>
>  * harbour/source/rtl/mouse53.c
>    * HB_FUNC( MSETBOUNDS )      [5]
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>      !  TODO : All other functions related to Mouse.
>
>  * harbour/source/rtl/oldbox.c
>    * HB_FUNC( __BOX )           [6]
>    * HB_FUNC( __BOXD )          [5]
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/rtl/oldclear.c
>    * HB_FUNC( __ATCLEAR )       [5]
>    * HB_FUNC( __CLEAR )         [1]
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/rtl/run.c
>    * HB_FUNC( __RUN )           [0]  /* ToDo */
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/rtl/scroll.c
>    * HB_FUNC( SCROLL )          [7]
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/rtl/set.c
>    * HB_FUNC( SET )
>      ! case HB_SET_COLOR:       [0]  /* ToDo */
>      ! case HB_SET_TYPEAHEAD    [0]
>        Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/rtl/setcolor.c
>    * char * hb_conSetColor( const char * szColor, int iGT )
>    * HB_FUNC( SETCOLOR )        [2]
>    * HB_FUNC( COLORSELECT )     [2]
>    * HB_FUNC( SETBLINK )        [2]
>    * HB_FUNC( HB_COLORTON )     [2]
>    * HB_FUNC( HB_NTOCOLOR )     [2]
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/rtl/setcurs.c
>    * USHORT hb_conSetCursor( BOOL bSetCursor, USHORT uiNewCursor )
>      Uses 0 as iGT parameter; To Be Synchronized.
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>    * HB_FUNC( SETCURSOR )       [2]
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/rtl/setpos.c
>    * HB_FUNC( SETPOS )          [3]
>    * HB_FUNC( ROW )             [1]
>    * HB_FUNC( COL )             [1]
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/rtl/setposbs.c
>    * HB_FUNC( SETPOSBS )        [1]
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/rtl/shadow.c
>    * HB_FUNC( HB_SHADOW )       [6]
>    * HB_FUNC( HB_CLRAREA )      [6]
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/rtl/tone.c
>    * HB_FUNC( TONE )            [0]  /* To Review */
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/rtl/xsavescr.c
>    * HB_FUNC( __XSAVESCREEN )   [1]
>    * HB_FUNC( __XRESTSCREEN )   [1]
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/rtl/saverest.c
>    * HB_FUNC( SAVESCREEN )      [6]
>    * HB_FUNC( RESTSCREEN )      [7]
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/rtl/tbrowse.prg
>    * TBrowseNew()               [5]
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>
>  * harbour/source/compiler/hbfuncchk.c
>    * static HB_FUNCINFO hb_StdFunc[]
>      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
>      Effected last parameter to various GT functions as optionals.
>
>  * harbour/source/rdd/dbsql.c
>    * static ULONG hb_db2Sql()
>      #if !defined( HB_GT_MULTI_WINDOWS )
>         hb_inkeyPoll();
>      #else
>         hb_inkeyPoll( 0 );  /* HOW TO ? */
>      #endif
>
>  * harbour/source/vm/hvm.c
>    * HB_EXPORT void hb_vmInit()
>      #if !defined( HB_GT_MULTI_WINDOWS )
>         hb_inkeySetCancelKeys( s_VMCancelKey, s_VMCancelKeyEx );
>      #else
>         hb_inkeySetCancelKeys( s_VMCancelKey, s_VMCancelKeyEx, 0 );
>      #endif
>    * HB_EXPORT void hb_vmExecute()
>      #if !defined( HB_GT_MULTI_WINDOWS )
>         hb_inkeyPoll();
>      #else
>         hb_inkeyPoll( 0 );   /* NEEDS TO BE ADJUSTED FOR CURRENT  
> GT : HOW
> TO ? */
>      #endif
>
>  * harbour/utils/hbmake/hbmlang.c
>    * HB_FUNC( GAUGEDISPLAY )
>      Deactivated for #ifdef HB_GT_MULTI_WINDOW for time-being.
>
>  * harbour/source/rtl/gtwvt/gtwvt.c
>    * Adjusted to take care of GT core changes.
>    * All such changes are guarded under #if  
> defined( HB_GT_MULTI_WINDOWS )
>
>       [n] in brackets after the function name points to prg level  
> parameter
> number for <hGT> and defaults to zero[0] meaning base window  
> initialized at
> the time of appln startup.
>
>    /*
>    The above changes are subject to improvements. I did what my meagre
> knowledge
>    guided. As I am not a C programmer basically, I feel above all  
> can be
> achieved
>    in other ways too, more efficient than what I did. Thanks to  
> Przemek who
> set
>    the ground to realize this dream, and now I am sure he will set  
> right
> what I
>    might have done wrong.
>
>    I have tested extensively and have found that these changes do not
> interfere
>    with existing functionality in any way, WITH or WITHOUT these  
> changes.
> Even
>    if Harbour and application is compiled with HB_GT_MULTI_WINDOWS,
> existing code
>    runs fine.
>
>    I could not justify with some functions, especially in console.c  
> which
> needs a
>    deeper understanding of the GT system. I am sure Przemek will set  
> those
> parts
>    right.
>    */
>
>
> Regards
> Pritpal Bedi, INDIA-USA
>
>
> -- 
> View this message in context: http://www.nabble.com/Multi-Window-GT---Second-Prototype-tp14522471p14522471.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From m.renzi at maticasrl.it  Fri Dec 28 09:23:38 2007
From: m.renzi at maticasrl.it (Massimo Renzi (MaticaSrl))
Date: Fri Dec 28 09:24:53 2007
Subject: [Harbour] Window Vista - getcountry();
In-Reply-To: <E4CC8F13-4A86-461B-A0E4-DE827426F2D4@syenar.hu>
References: <14522471.post@talk.nabble.com>
	<E4CC8F13-4A86-461B-A0E4-DE827426F2D4@syenar.hu>
Message-ID: <001d01c84933$543a0f30$6e00e00a@maxsoft>

Hi all.
I write you asking a test with xHarbour. 
At moment in a clipper application I've some problem with Keyboard
configuration. In the command prompt keyboard work fine. When I call a
clipper program some char are different.
I've created a program that show the 'getcountry()' (CATools function), on
WinXP it return '1', on Vista it Return '39' (italy). (I don?t know how to
solve)

Do you have the same problem with xHabour?
Thank you

Max


No virus found in this outgoing message.
Checked by AVG Free Edition. 
Version: 7.5.516 / Virus Database: 269.17.11/1200 - Release Date: 27/12/2007
13.34
 

From mbelgrano at deltain.it  Fri Dec 28 10:40:32 2007
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Dec 28 10:40:43 2007
Subject: R: [Harbour] Multi-Window GT - Second Prototype
In-Reply-To: <14522471.post@talk.nabble.com>
References: <14522471.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E73B@SRV02.deltain.net>

Little Question for a Big software
Is possible having a windows more big that emulation windows Created by HB_WndCreate?
Will Windows created by HB_WndCreate be child of a more big windows?
For example my idea is:
Open a main windows (0,0,25,100) with a child Treeview(0,0,25,20) In left size and a child hb_wndcreate(0,20,25,80) in right size?

In gtwvw is present a function ebcreate and related function
will ebcreate be aivable also in multi windows gt?

How multithread will change Multi Windows GT?

Thanks in advance and very compliment for Multi windows GT


-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] Per conto di Pritpal Bedi
Inviato: venerd? 28 dicembre 2007 6.37
A: harbour@harbour-project.org
Oggetto: [Harbour] Multi-Window GT - Second Prototype


Hello Everybody

Here is 2nd prototype of Multi-window GT to review. I am wondering if these
changes qualify for ver 1.0 or not?

+ Added Database TBrowse
+ Resizing of Browse Window 
+ Maxmizing of Browse Window

Executable:   http://www.nabble.com/file/p14522471/MultiWVT.zip MultiWVT.zip 
Exe Source:   http://www.nabble.com/file/p14522471/MultiWVT.prg MultiWVT.prg 
Harbour Sources:    http://www.nabble.com/file/p14522471/source.zip
source.zip 

Here is the changelog:

  * harbour/include/hbgtinfo.ch
  * harbour/include/hbgtcore.h
  * harbour/include/hbapi.h
  * harbour/include/hbapigt.h
    Redefined all functions guarded under #if defined( HB_GT_MULTI_WINDOWS )
    Added more directives/prototypes to honor multi-window GT.

  * harbour/source/rtl/hbgtcore.c
  * harbour/source/rtl/gtapi.c
  * harbour/source/rtl/inkeyapi.c
  * harbour/source/rtl/mouseapi.c
    *.*
      Redefined all functions guarded under #if defined( HB_GT_MULTI_WINDOWS
)

  * harbour/source/rtl/console.c
    * HB_FUNC( QQOUT )
    * HB_FUNC( QOUT )
      int iGT = 0;     /* Needs to be Resolved with consensus */
    * HB_FUNC( DEVPOS )          [3]
    * HB_FUNC( DEVOUT )          [3]
    * HB_FUNC( DISPOUT )         [3]
    * HB_FUNC( DISPOUTAT )       [5]
      Redefined all functions guarded under #if defined( HB_GT_MULTI_WINDOWS
)
    
  * harbour/source/rtl/gt.c
    * HB_FUNC( __ACCEPT )
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
      /*  To be synchronized */

  * harbour/source/rtl/gt.c
    * HB_FUNC( DISPBEGIN )       [1]
    * HB_FUNC( DISPCOUNT )       [1]
    * HB_FUNC( DISPEND )         [1]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/gtfunc.c
    * HB_FUNC( HB_SETDISPCP )    [4]
    * HB_FUNC( HB_SETKEYCP )     [3]
    * HB_FUNC( HB_SETTERMCP )    [4]
    * HB_FUNC( HB_GTINFO )       [3]
    * HB_FUNC( HB_GTVERSION )    [ ]
    * HB_FUNC( HB_GTALERT )      [6]
    * HB_FUNC( HB_GFXPRIMITIVE ) [7]
    * HB_FUNC( HB_GFXTEXT )      [7]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

    + HB_FUNC( HB_WNDCREATE )
    + HB_FUNC( HB_WNDDESTROY )
    + HB_FUNC( HB_WNDSELECT )
    + HB_FUNC( HB_WNDCURRENT )
      Added new prg level functions to manage multiple windows.
      Guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/box.c     [7]
    * HB_FUNC( DISPBOX )
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/gx.c
    * HB_FUNC( ISCOLOR )         [1]
    * HB_FUNC( NOSNOW )          [2]
    * HB_FUNC( SETMODE )         [3]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/inkey.c
    * HB_FUNC( INKEY )           [3]
    * HB_FUNC( __KEYBOARD )      [2]
    * HB_FUNC( HB_KEYPUT )       [2]
    * HB_FUNC( NEXTKEY )         [2]
    * HB_FUNC( LASTKEY )         [2]
    * HB_FUNC( HB_SETLASTKEY )   [2]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/maxrow.c
    * HB_FUNC( MAXROW )          [2]
    * HB_FUNC( MAXCOL )          [2]

  * harbour/source/rtl/mouse53.c
    * HB_FUNC( MSETBOUNDS )      [5]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
      !  TODO : All other functions related to Mouse.

  * harbour/source/rtl/oldbox.c
    * HB_FUNC( __BOX )           [6]
    * HB_FUNC( __BOXD )          [5]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/oldclear.c
    * HB_FUNC( __ATCLEAR )       [5]
    * HB_FUNC( __CLEAR )         [1]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/run.c
    * HB_FUNC( __RUN )           [0]  /* ToDo */
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/scroll.c
    * HB_FUNC( SCROLL )          [7]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/set.c
    * HB_FUNC( SET )
      ! case HB_SET_COLOR:       [0]  /* ToDo */
      ! case HB_SET_TYPEAHEAD    [0]
        Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/setcolor.c
    * char * hb_conSetColor( const char * szColor, int iGT )
    * HB_FUNC( SETCOLOR )        [2]
    * HB_FUNC( COLORSELECT )     [2]
    * HB_FUNC( SETBLINK )        [2]
    * HB_FUNC( HB_COLORTON )     [2]
    * HB_FUNC( HB_NTOCOLOR )     [2]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )    

  * harbour/source/rtl/setcurs.c
    * USHORT hb_conSetCursor( BOOL bSetCursor, USHORT uiNewCursor ) 
      Uses 0 as iGT parameter; To Be Synchronized.
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )    
    * HB_FUNC( SETCURSOR )       [2]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )    

  * harbour/source/rtl/setpos.c
    * HB_FUNC( SETPOS )          [3]
    * HB_FUNC( ROW )             [1]
    * HB_FUNC( COL )             [1]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/setposbs.c
    * HB_FUNC( SETPOSBS )        [1]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/shadow.c
    * HB_FUNC( HB_SHADOW )       [6]
    * HB_FUNC( HB_CLRAREA )      [6] 
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/tone.c
    * HB_FUNC( TONE )            [0]  /* To Review */
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/xsavescr.c
    * HB_FUNC( __XSAVESCREEN )   [1]
    * HB_FUNC( __XRESTSCREEN )   [1]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/saverest.c
    * HB_FUNC( SAVESCREEN )      [6]
    * HB_FUNC( RESTSCREEN )      [7]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/rtl/tbrowse.prg
    * TBrowseNew()               [5]
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )

  * harbour/source/compiler/hbfuncchk.c
    * static HB_FUNCINFO hb_StdFunc[]  
      Redefined guarded under #if defined( HB_GT_MULTI_WINDOWS )
      Effected last parameter to various GT functions as optionals.

  * harbour/source/rdd/dbsql.c
    * static ULONG hb_db2Sql()
      #if !defined( HB_GT_MULTI_WINDOWS )
         hb_inkeyPoll();
      #else
         hb_inkeyPoll( 0 );  /* HOW TO ? */
      #endif

  * harbour/source/vm/hvm.c
    * HB_EXPORT void hb_vmInit()
      #if !defined( HB_GT_MULTI_WINDOWS )
         hb_inkeySetCancelKeys( s_VMCancelKey, s_VMCancelKeyEx );
      #else
         hb_inkeySetCancelKeys( s_VMCancelKey, s_VMCancelKeyEx, 0 );
      #endif
    * HB_EXPORT void hb_vmExecute()
      #if !defined( HB_GT_MULTI_WINDOWS )
         hb_inkeyPoll();
      #else
         hb_inkeyPoll( 0 );   /* NEEDS TO BE ADJUSTED FOR CURRENT GT : HOW
TO ? */
      #endif

  * harbour/utils/hbmake/hbmlang.c
    * HB_FUNC( GAUGEDISPLAY )
      Deactivated for #ifdef HB_GT_MULTI_WINDOW for time-being.
 
  * harbour/source/rtl/gtwvt/gtwvt.c
    * Adjusted to take care of GT core changes.
    * All such changes are guarded under #if defined( HB_GT_MULTI_WINDOWS )

       [n] in brackets after the function name points to prg level parameter
number for <hGT> and defaults to zero[0] meaning base window initialized at
the time of appln startup.

    /*
    The above changes are subject to improvements. I did what my meagre
knowledge
    guided. As I am not a C programmer basically, I feel above all can be
achieved
    in other ways too, more efficient than what I did. Thanks to Przemek who
set 
    the ground to realize this dream, and now I am sure he will set right
what I 
    might have done wrong.

    I have tested extensively and have found that these changes do not
interfere
    with existing functionality in any way, WITH or WITHOUT these changes.
Even 
    if Harbour and application is compiled with HB_GT_MULTI_WINDOWS,
existing code
    runs fine. 

    I could not justify with some functions, especially in console.c which
needs a
    deeper understanding of the GT system. I am sure Przemek will set those
parts 
    right.
    */

    
Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---Second-Prototype-tp14522471p14522471.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From bedipritpal at hotmail.com  Fri Dec 28 15:43:41 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 28 15:43:44 2007
Subject: [Harbour] Multi-Window GT - Second Prototype
In-Reply-To: <E4CC8F13-4A86-461B-A0E4-DE827426F2D4@syenar.hu>
References: <14522471.post@talk.nabble.com>
	<E4CC8F13-4A86-461B-A0E4-DE827426F2D4@syenar.hu>
Message-ID: <14527243.post@talk.nabble.com>


Hi


Szak?ts Viktor wrote:
> 
> Hu Pritpal,
> 
> As far as I can see these changes are so intense that
> we shouldn't add them before 1.0, moreover I suspect it
> introduces a lot of incompatible extensions, so I'd vote
> to reconsider the whole package so that it complies with
> Harbour rules.
> 
> You could send your full patch though, so that ppl can
> see it, use it.
> 

The full patch is uploaded as Harbour Sources, does it miss something ? I
will review all the files and upload again if not all files are included.

Incompatible extension! Hmmm, in my tests it is only OPTIONAL [hGT] as the
last parameter to every GT method which I have introduced and nothing else.
Do it tags as incompatible?

It be included after 1.0 is ok to me. NP. But I want to hear the group
decision whether it qualifies for the inculsion or some other methodology
has to be implemented. If yes, then I continue further development. Przemek,
please review the code and let me know is it the right way?

Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---Second-Prototype-tp14522471p14527243.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Dec 28 15:48:50 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 28 15:48:52 2007
Subject: [Harbour] Window Vista - getcountry();
In-Reply-To: <001d01c84933$543a0f30$6e00e00a@maxsoft>
References: <14522471.post@talk.nabble.com>
	<E4CC8F13-4A86-461B-A0E4-DE827426F2D4@syenar.hu>
	<001d01c84933$543a0f30$6e00e00a@maxsoft>
Message-ID: <14527437.post@talk.nabble.com>


Rennzi


Massimo Renzi (MaticaSrl) wrote:
> 
> Hi all.
> I write you asking a test with xHarbour. 
> At moment in a clipper application I've some problem with Keyboard
> configuration. In the command prompt keyboard work fine. When I call a
> clipper program some char are different.
> I've created a program that show the 'getcountry()' (CATools function), on
> WinXP it return '1', on Vista it Return '39' (italy). (I don?t know how to
> solve)
> 
> Do you have the same problem with xHabour?
> Thank you
> 

Does your question pertains to Multi-window GT ? If yes, then I say that as
xHarbour GT subsystem is so different than Harbour's that I cannot implement
this protocol at my own. Someone well-versed with GT system can do so.

Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---Second-Prototype-tp14522471p14527437.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Dec 28 15:57:52 2007
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Dec 28 15:57:55 2007
Subject: [Harbour] Multi-Window GT - Second Prototype
In-Reply-To: <14527243.post@talk.nabble.com>
References: <14522471.post@talk.nabble.com>
	<E4CC8F13-4A86-461B-A0E4-DE827426F2D4@syenar.hu>
	<14527243.post@talk.nabble.com>
Message-ID: <0293016E-E3A6-4F26-BF53-090D289EE4F7@syenar.hu>

>> You could send your full patch though, so that ppl can
>> see it, use it.
>>
>
> The full patch is uploaded as Harbour Sources, does it miss  
> something ? I
> will review all the files and upload again if not all files are  
> included.

Thanks.

> Incompatible extension! Hmmm, in my tests it is only OPTIONAL [hGT]  
> as the
> last parameter to every GT method which I have introduced and  
> nothing else.
> Do it tags as incompatible?

Yes, unfortunately.

> It be included after 1.0 is ok to me. NP. But I want to hear the group
> decision whether it qualifies for the inculsion or some other  
> methodology
> has to be implemented. If yes, then I continue further development.  
> Przemek,

I vote a no unless all existing functions are kept intact as far
as the parameter list and behaviour goes.

We also need to think it over how to extend classes, as it this is
area was never discussed and it can pose even harder to spot
incompatibilities than different parameter handling.

Brgds,
Viktor

From bedipritpal at hotmail.com  Fri Dec 28 16:10:12 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 28 16:10:16 2007
Subject: [Harbour] R: Multi-Window GT - Second Prototype
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E73B@SRV02.deltain.net>
References: <14522471.post@talk.nabble.com>
	<AFB948164110ED43B5EB849E8DEEF03815E73B@SRV02.deltain.net>
Message-ID: <14527697.post@talk.nabble.com>


Massimo


Massimo Belgrano wrote:
> 
> Little Question for a Big software
> Is possible having a windows more big that emulation windows Created by
> HB_WndCreate?
> Will Windows created by HB_WndCreate be child of a more big windows?
> For example my idea is:
> Open a main windows (0,0,25,100) with a child Treeview(0,0,25,20) In left
> size and a child hb_wndcreate(0,20,25,80) in right size?
> 
> In gtwvw is present a function ebcreate and related function
> will ebcreate be aivable also in multi windows gt?
> 

Please understand that we are working on core GT system, not on Windows-only
extensions. WVW is entirely targeted as Windows and moreover it needs
another type of mental-bend to adopt to new way of programming concepts,
whereas our approach is not to change even a single line of code to achieve
the same functionality.

Yes, of cource, if we could implement sub-controls in core GT, which at this
point of time I cannot foresee, will sure be included. For now my focus is
on reusing the Clipper code AS IS and extending the applications without
loosing Clipper syntax.


> How multithread will change Multi Windows GT?

No significant change is required. You will be able to use as is with ST or
you can do it the same way as in Clipper because MT will have independant
inkey() loop per thread. So both approaches are open to you. In ST mode we
have few restriction for all those constructs which are based on inkey(),
e.g., AChoice(), ReadModal(), MemoEdit(), etc. which have to be addressed
with different approach. In MT mode there will be no issues.

I plan to start a new thread to discuss this issue but first group need to
approve these changes.

Regards
Pritpal Bedi, INDIA-USA



-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---Second-Prototype-tp14522471p14527697.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Dec 28 19:13:41 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 28 19:13:44 2007
Subject: [Harbour] Multi-Window GT - Second Prototype
In-Reply-To: <0293016E-E3A6-4F26-BF53-090D289EE4F7@syenar.hu>
References: <14522471.post@talk.nabble.com>
	<E4CC8F13-4A86-461B-A0E4-DE827426F2D4@syenar.hu>
	<14527243.post@talk.nabble.com>
	<0293016E-E3A6-4F26-BF53-090D289EE4F7@syenar.hu>
Message-ID: <14530251.post@talk.nabble.com>


Viktor

>> You could send your full patch though, so that ppl can
>> see it, use it.

Uploaded source.zip contains all the files touched. Simply redistribute them
to respective folders and compile Harbour with -DHB_GT_MULTI_WINDOWS. Also
compile appln with -dHB_GT_MULTI_WINDOWS and you are done. 

But if you compile Harbour with -DHB_GT_MULTI_WINDOWS and do not compile
appln with same flag and do not employ extended functionality, appln will
work as before. This is my strongest point to emphasize that this enhanced
protocol does not interfere with Clipper syntax, AT ALL. If someone wants to
enrich his/her appln may use others may leave.

>Yes, unfortunately.

In what way? Can you explain a little, sorry for my understanding about
incompatibility.

<<<<
It be included after 1.0 is ok to me. NP. But I want to hear the group
decision whether it qualifies for the inculsion or some other  methodology
has to be implemented. If yes, then I continue further development. 
Przemek,

I vote a no unless all existing functions are kept intact as far
as the parameter list and behaviour goes.
>>>>>

Only parameter list extends to ONE more, only if needed, BEHAVIOR is intact.

<<<<<
We also need to think it over how to extend classes, as it this is area was
never discussed and it can pose even harder to spot incompatibilities than
different parameter handling.
>>>>>

I am open to such discussion. Please express your views. Everybody, please
join....

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---Second-Prototype-tp14522471p14530251.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Dec 28 19:17:27 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 28 19:17:31 2007
Subject: [Harbour] R: Multi-Window GT - Second Prototype
In-Reply-To: <001901c84923$e4eeaff0$6e00e00a@maxsoft>
References: <14522471.post@talk.nabble.com>
	<001901c84923$e4eeaff0$6e00e00a@maxsoft>
Message-ID: <14530288.post@talk.nabble.com>


Renzi


Massimo Renzi (MaticaSrl) wrote:
> 
> p.s.: F3->New ArrayBrowser->Click on Maximazewindow button->it maximaze
> the
> windows but it's impossible resotre the previus size. (Win2000Pro)
> 

Still a work-in-progress. Will be implemented soon. Thanks for input.

Regards
Pritpal Bedi, INDIA-USA



-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---Second-Prototype-tp14522471p14530288.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Dec 28 19:34:44 2007
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Dec 28 19:34:52 2007
Subject: [Harbour] Multi-Window GT - Second Prototype
In-Reply-To: <14530251.post@talk.nabble.com>
References: <14522471.post@talk.nabble.com>
	<E4CC8F13-4A86-461B-A0E4-DE827426F2D4@syenar.hu>
	<14527243.post@talk.nabble.com>
	<0293016E-E3A6-4F26-BF53-090D289EE4F7@syenar.hu>
	<14530251.post@talk.nabble.com>
Message-ID: <0EB6065D-C3E5-4C4C-9B30-CBF45C702C6D@syenar.hu>

>>>

Hi Pritpal,

>>> You could send your full patch though, so that ppl can
>>> see it, use it.
>
> Uploaded source.zip contains all the files touched. Simply  
> redistribute them
> to respective folders and compile Harbour with - 
> DHB_GT_MULTI_WINDOWS. Also
> compile appln with -dHB_GT_MULTI_WINDOWS and you are done.

I've looked into them, but the principal didn't change
since your first proposal (which I've already reflected on
before), so I wouldn't go into further details until these
are not addressed. In other words I see your idea, and the goal
is okey, but the implementation should adhere to the rules, which
is function level compatibility on Clipper level on public Clipper
C API level. To solve this, I think the implementations should
more be separate from existing sources and functions, in a self- 
containded
way, on the Clipper level at least, definitely.

> But if you compile Harbour with -DHB_GT_MULTI_WINDOWS and do not  
> compile
> appln with same flag and do not employ extended functionality, appln  
> will
> work as before. This is my strongest point to emphasize that this  
> enhanced
> protocol does not interfere with Clipper syntax, AT ALL. If someone  
> wants to
> enrich his/her appln may use others may leave.

I don't want to start from the beginning to reargue
this topic. Our conclusion was to avoid extending
existing Clipper functions and commands and rather
introduce fully new names with any kind of extended
functionality.

>> Yes, unfortunately.
>
> In what way? Can you explain a little, sorry for my understanding  
> about
> incompatibility.

In a way, that a program may (or may not) compile under CA-Clipper or
any other flavour of Clipper compiler, and even if compiles it _will
behave differently_, with hard to detect and hard to fix causes. Please
read the discussion on the list.

> I vote a no unless all existing functions are kept intact as far
> as the parameter list and behaviour goes.
>>>>>>
>
> Only parameter list extends to ONE more, only if needed, BEHAVIOR is  
> intact.

Sorry, it isn't.

> <<<<
> We also need to think it over how to extend classes, as it this is  
> area was
> never discussed and it can pose even harder to spot  
> incompatibilities than
> different parameter handling.
>>>>>>
>
> I am open to such discussion. Please express your views. Everybody,  
> please
> join....

I have no exact idea for this at this moment, and I'd also like to hear
opinions on that.

The problem is that class extension usage is even more complicated to
catch in code, so if we introduce any, we're essentially locking the  
code
to Harbour, with no feasible way to detect the offending app level
code parts, and make the code compile under any other flavour.

We have the same set of problem if we want to runtime include/exclude
certain class extensions belonging to other Clipper flavours, like
XBase++, Clipper 5.3. Currently these are solved using simple #ifdefs,
which is neither modular, nor make it possible to turn these on/off
runtime.

I'm thinking of a solution which is able to inject new methods,
variables into classes and override existing methods. Somewhat similar
feature was added to .NET Framework 3.0, called "extension methods".
I know that class inheritance is made for that purpose, but there are
many situations when this is not optimal, read the wikipedia article
for a start. (http://en.wikipedia.org/wiki/Extension_method/)

Brgds,
Viktor

From bedipritpal at hotmail.com  Fri Dec 28 20:11:44 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 28 20:11:46 2007
Subject: [Harbour] Multi-Window GT - Second Prototype
In-Reply-To: <0EB6065D-C3E5-4C4C-9B30-CBF45C702C6D@syenar.hu>
References: <14522471.post@talk.nabble.com>
	<E4CC8F13-4A86-461B-A0E4-DE827426F2D4@syenar.hu>
	<14527243.post@talk.nabble.com>
	<0293016E-E3A6-4F26-BF53-090D289EE4F7@syenar.hu>
	<14530251.post@talk.nabble.com>
	<0EB6065D-C3E5-4C4C-9B30-CBF45C702C6D@syenar.hu>
Message-ID: <14530916.post@talk.nabble.com>


Hello


Szak?ts Viktor wrote:
> 
> In a way, that a program may (or may not) compile under CA-Clipper or
> any other flavour of Clipper compiler, and even if compiles it _will
> behave differently_, with hard to detect and hard to fix causes. Please
> read the discussion on the list.
> 

I understand your viewpoint and that is valid. 

What if we guard it with HB_GT_MULTI_WINDOWS ?
The core will always remain synchronized as before whereas new functionality
is exploited whosoever wants it. No ?

Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---Second-Prototype-tp14522471p14530916.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Dec 28 20:38:34 2007
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Dec 28 20:38:38 2007
Subject: [Harbour] Multi-Window GT - Second Prototype
In-Reply-To: <14530916.post@talk.nabble.com>
References: <14522471.post@talk.nabble.com>
	<E4CC8F13-4A86-461B-A0E4-DE827426F2D4@syenar.hu>
	<14527243.post@talk.nabble.com>
	<0293016E-E3A6-4F26-BF53-090D289EE4F7@syenar.hu>
	<14530251.post@talk.nabble.com>
	<0EB6065D-C3E5-4C4C-9B30-CBF45C702C6D@syenar.hu>
	<14530916.post@talk.nabble.com>
Message-ID: <600CCF25-0805-4F62-8A7E-41B157C5DD85@syenar.hu>

> Szak?ts Viktor wrote:
>>
>> In a way, that a program may (or may not) compile under CA-Clipper or
>> any other flavour of Clipper compiler, and even if compiles it _will
>> behave differently_, with hard to detect and hard to fix causes.  
>> Please
>> read the discussion on the list.
>>
>
> I understand your viewpoint and that is valid.
>
> What if we guard it with HB_GT_MULTI_WINDOWS ?
> The core will always remain synchronized as before whereas new  
> functionality
> is exploited whosoever wants it. No ?

Maintainability will suffer, plus if we decide that
this feature is useful it would be better to do it
in a way everyone could benefit from it (by default)
and make it fully core not just glue it to the core.
Compile time options are not the best ways to add
functionality as past experiences show.

In any case and with the same effort this feature can
be a diff maintained by you or those interested even in
its current form. It could be then applied by anyone
who needs it, final effect is the same, without breaking
core rules. But even for this route, it would be better
if it would be more self-contained IMO.

As a first step I think we'd need to define what is
the minimal amount of changes needed to extend the C
level APIs to implemented the feature. If this is
ready we can think about the Harbour level implementation,
but given a proper low-level API, Harbour level functions
could even be implemented by a contrib lib.

Brgds,
Viktor

>
>
> Regards
> Pritpal Bedi, INDIA-USA
>
>
> -- 
> View this message in context: http://www.nabble.com/Multi-Window-GT---Second-Prototype-tp14522471p14530916.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Fri Dec 28 21:45:08 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 28 21:45:11 2007
Subject: [Harbour] Multi-Window GT - Second Prototype
In-Reply-To: <600CCF25-0805-4F62-8A7E-41B157C5DD85@syenar.hu>
References: <14522471.post@talk.nabble.com>
	<E4CC8F13-4A86-461B-A0E4-DE827426F2D4@syenar.hu>
	<14527243.post@talk.nabble.com>
	<0293016E-E3A6-4F26-BF53-090D289EE4F7@syenar.hu>
	<14530251.post@talk.nabble.com>
	<0EB6065D-C3E5-4C4C-9B30-CBF45C702C6D@syenar.hu>
	<14530916.post@talk.nabble.com>
	<600CCF25-0805-4F62-8A7E-41B157C5DD85@syenar.hu>
Message-ID: <14531823.post@talk.nabble.com>


Viktor


Szak?ts Viktor wrote:
> 
>> What if we guard it with HB_GT_MULTI_WINDOWS ?
>> The core will always remain synchronized as before whereas new  
>> functionality is exploited whosoever wants it. No ?
> 
> Maintainability will suffer, plus if we decide that
> this feature is useful it would be better to do it
> in a way everyone could benefit from it (by default)
> and make it fully core not just glue it to the core.
> Compile time options are not the best ways to add
> functionality as past experiences show.
> 

Here you are. Exactly I too wish the same. I forwarded this option because I
received plain NO.


Szak?ts Viktor wrote:
> 
> In any case and with the same effort this feature can
> be a diff maintained by you or those interested even in
> its current form. It could be then applied by anyone
> who needs it, final effect is the same, without breaking
> core rules. But even for this route, it would be better
> if it would be more self-contained IMO.
> 

The term "self-contained" is appropriate in this context. Przemek has made
core of GT self contained itself. I have just added few methods, 2 in all,
to extend that. Nothing has to be changed in all GT's. This functionality
centers upon how the command is carried from prg to C. All methods I
introduced are embedded into core. I tried to show the functional
implementation in GTWVT as I am conversant to it. Now how you take this term
may be different than how I take. More I have made it a point that what I
did has a great potentiality to improve. So am looking to Przemek for his
views. In any case this code can be termed as self-contained as in its
current form.


Szak?ts Viktor wrote:
> 
> As a first step I think we'd need to define what is
> the minimal amount of changes needed to extend the C
> level APIs to implemented the feature. If this is
> ready we can think about the Harbour level implementation,
> but given a proper low-level API, Harbour level functions
> could even be implemented by a contrib lib.
> 

Ok, I try to explain which is minimum changes needed for C level api:

gtapi.c
=====
This is the transporter code from PRG to GT. So consider this as the main
code where changes are reflected. Every function now received one additional
parameter <iGT>.  pGT is retreived based on <iGT> as pGT = hb_gt_base( iGT
);  iGT is a pointer to array index holding the relevant local GT pointer.
If it would have to be single GT, just pass iGT == 0. GT #0 is considered
the base GT at appln startup.

That's it.

hbgtcore.c
========
PHB_GT hb_gt_Base()  is extended to PHB_GT hb_gt_Base( iGT ) and this is the
only change. Though I have added members/methods in HbGtInfo() but all those
can be added even without this protocol.

And there is no change in target local GT codes. Only those GT's which can
offer multiple windows can take advantage of this feature and can add
methods as I did in GTWVT. 

Relevant hbgtcore.h and hbapigt.h has the corresponding changes in function
prototypes and function overloading structures.

I understand that you know GT core in depth. The above explanation is for
those who are not well-versed with GT core.

Harbour level function can be put in a contrib lib is a good and bad idea
either way. But if it be the case, I don't mind.

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---Second-Prototype-tp14522471p14531823.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Dec 28 23:42:49 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Dec 28 23:42:52 2007
Subject: [Harbour] 2007-12-28 15:51 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <14533073.post@talk.nabble.com>


2007-12-28 15:51 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
  * source/rtl/tbrowse.prg
    Method DispCell()
      case 'L'
         DispOut( ftmp, cColor ) => DispOut( alltrim( ftmp ), cColor )

Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/2007-12-28-15%3A51-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp14533073p14533073.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From alex at belacy.belgorod.su  Sat Dec 29 10:12:09 2007
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Sat Dec 29 10:12:39 2007
Subject: [Harbour] hbinet.c
Message-ID: <47761D79.9070600@belacy.belgorod.su>

Hi,

first of all - Happy New Year to all of you!

I need to write few new socket functions, but have some problems with 
hbinet.c
This module introduces a special structure HB_SOCKET_STRUCT, which 
returns to harbour level socket functions.
To get this structure as a parameter it uses macro HB_PARSOCKET(n), 
which is defined as

#define HB_PARSOCKET( n )     ( ( HB_SOCKET_STRUCT * ) hb_parptrGC( 
hb_inetSocketFinalize, n ) )

Personally I don't understand what this mean, but this is half of a 
trouble, I could simply use it as it is. But if I want to pass to the C 
level function an array of these sockets and return to Harbour level an 
another array of sockets,  what function should I use to get them from 
array and put them there ?

The second problem is with hb_inetSocketFinalize.
I wrote few C socket functions, which uses that HB_SOCKET_STRUCT and for 
be able to compile them include all definitions from hbinet.c, but still 
get an error "Undefined symbol hb_inetSocketFinalize" - in the line with
HB_PARSOCKET(n). I didn't find a defition of this 
'hb_inetSocketFinalize' anywhere in Harbour ...

Regards,
   Alexander
From alex at belacy.belgorod.su  Sat Dec 29 18:28:29 2007
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Sat Dec 29 18:28:08 2007
Subject: [Harbour] Re:  hbinet.c
In-Reply-To: <47761D79.9070600@belacy.belgorod.su>
References: <47761D79.9070600@belacy.belgorod.su>
Message-ID: <4522405968.20071229212829@belacy.belgorod.su>

On  Saturday, December 29, 2007, 13:12 Alexander S.Kresin <alex@belacy.belgorod.su> wrote:

ASK> The second problem is with hb_inetSocketFinalize.
ASK> I wrote few C socket functions, which uses that HB_SOCKET_STRUCT and for 
ASK> be able to compile them include all definitions from hbinet.c, but still 
ASK> get an error "Undefined symbol hb_inetSocketFinalize" - in the line with
ASK> HB_PARSOCKET(n). I didn't find a defition of this 
ASK> 'hb_inetSocketFinalize' anywhere in Harbour ...

 This problem is solved - the
      static HB_GARBAGE_FUNC( hb_inetSocketFinalize )
 is the declaration of hb_inetSocketFinalize() function and must be
 included to any other c file, using sockets, compatible wuth
 hbinet.c.

 

Regards,
 Alexander
http://kresin.belgorod.su

From dbtopas at dbtopas.lt  Sun Dec 30 00:46:07 2007
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sun Dec 30 00:43:58 2007
Subject: [Harbour] hbinet.c
In-Reply-To: <47761D79.9070600@belacy.belgorod.su>
References: <47761D79.9070600@belacy.belgorod.su>
Message-ID: <4776EA4F.8030600@dbtopas.lt>

> I need to write few new socket functions, but have some problems with 
> hbinet.c
> This module introduces a special structure HB_SOCKET_STRUCT, which 
> returns to harbour level socket functions.
> To get this structure as a parameter it uses macro HB_PARSOCKET(n), 
> which is defined as
> 
> #define HB_PARSOCKET( n )     ( ( HB_SOCKET_STRUCT * ) hb_parptrGC( 
> hb_inetSocketFinalize, n ) )
> 
> Personally I don't understand what this mean, but this is half of a 
> trouble, I could simply use it as it is. 

Hello,


socket is mapped to Harbour's pointer type. But the same pointer type 
could be used to identify handlers of many resource types: sockets, 
menus, windows, widgets, etc. The hb_parptrGC() gives a possibility to 
check pointer type. Pointers are typed using destructor function address 
(hb_inetSocketFinalize in this case). Let's say I've created socket and 
GUI windows by calling:
    hSocket := HB_INETCREATE()
    hWindow := GUICreateWindow()
Both hSocket and hWindow are pointer type variables, and I can try to
pass this window to some inet function, ex.
    HB_INETCONNECT(hWindow, "127.0.0.7:80")
To avoid invalid calls like this, hb_parptrGC() is used.

GC pointers has instance counters and are collected by GC. I.e.,
   hSocket := HB_INETCREATE()
   hSocket := NIL
frees allocated socket resource. hb_inetSocketFinalize is doing the job.


> But if I want to pass to the C 
> level function an array of these sockets and return to Harbour level an 
> another array of sockets,  what function should I use to get them from 
> array and put them there ?

Use Item API.


> The second problem is with hb_inetSocketFinalize.
> I wrote few C socket functions, which uses that HB_SOCKET_STRUCT and for 
> be able to compile them include all definitions from hbinet.c, but still 
> get an error "Undefined symbol hb_inetSocketFinalize" - in the line with
> HB_PARSOCKET(n). I didn't find a defition of this 
> 'hb_inetSocketFinalize' anywhere in Harbour ...

It's static function of hbinet.c module, see line number 470.


>  This problem is solved - the
>       static HB_GARBAGE_FUNC( hb_inetSocketFinalize )
>  is the declaration of hb_inetSocketFinalize() function and must be
>  included to any other c file, using sockets, compatible wuth
>  hbinet.c.

If you want to use hb_parptrGC( hb_inetSocketFinalize, paramno ) in 
another module you should make this destructor function definition 
public. Duplication of hb_inetSocketFinalize function inside another 
module does not solve the problem, because the duplicated function will 
have a different address and it will be treated as different pointer type.
If you want just to rearrange arrays of hSocket variables, you can try 
do it using Item API. If some basic functionality is missing, perhaps 
it's better to add it to hbinet.c and leave all socket processing inside 
this module. For some specific ant not widely used functionality you can 
use a plain hb_parptr( paramno ). It will return the same pointer, but 
no type checking will be performed(!), so it's more safe to work on 
item's and do not touch pointer internals.

Perhaps your problem is that hbinet.c provides only Harbour level API, 
but no C level functions for sockets. This is a problem and it requires 
rewriting of the module.


Best regards,
Mindaugas
From bedipritpal at hotmail.com  Mon Dec 31 04:23:57 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec 31 04:24:05 2007
Subject: [Harbour] Multi-Window GT - III - MemoEdit()
Message-ID: <14554190.post@talk.nabble.com>


Hello Everybody

Please review MemoEdit() implementation for Multi-Window GT.

Executable :   http://www.nabble.com/file/p14554190/MultiWVT.zip
MultiWVT.zip  
Exe Source:   http://www.nabble.com/file/p14554190/MultiWVT.prg MultiWVT.prg 
Memoedit.prg:   http://www.nabble.com/file/p14554190/memoedit.prg
memoedit.prg 
Teditor.prg:   http://www.nabble.com/file/p14554190/teditor.prg teditor.prg 

MemoEdit() needs to be fixed a little to be exactly compatible with Clipper.
Please note that for Multi-Window protocol I have to do away with Do While
loop to process user input, instead I am returning fully configured MemoEdit
object which is processed by window events. This is the only difference. For
the time being I have kept out "user function" functionality and hopefully
it will be ready by next weekend. 

Just play with the editor, click anywhere on memo text, resize, maximize,
etc.

Regards
Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/Multi-Window-GT---III---MemoEdit%28%29-tp14554190p14554190.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From antonioharbour at gmail.com  Mon Dec 31 09:23:03 2007
From: antonioharbour at gmail.com (Antonio Linares)
Date: Mon Dec 31 09:23:07 2007
Subject: [Harbour] Harbour for the iPhone
Message-ID: <9471afc80712310123i5c4aa9b5p64f1e0d0a6e1f041@mail.gmail.com>

I am about to start working on adapting Harbour for the iPhone (and
the iPod touch).

I wonder if the group wants me to share all the changes, etc., since
the beginning, to avoid further misunderstandings, etc. and properly
integrate them in the Harbour svn

If some of you are also interested in these platforms, please email me
to alinares@fivetechsoft.com or just comment it on this list, thanks

Happy new year to all!

regards,

Antonio
From druzus at acn.waw.pl  Mon Dec 31 18:07:43 2007
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Dec 31 18:07:49 2007
Subject: [Harbour] Happy new year!!!
Message-ID: <20071231180743.GC7898@localhost.localdomain>

Hi All,

Happy new year !!!

I hope I will have more spare time in next year and in few days
I'll answer to some pending letters waiting for me. I'm really
sorry for delay.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Mon Dec 31 18:11:24 2007
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Dec 31 18:11:31 2007
Subject: [Harbour] Happy new year!!!
References: <20071231180743.GC7898@localhost.localdomain>
Message-ID: <02e101c84bd8$8ddd5150$ca64fea9@emag>


-----Messaggio Originale----- 
Da: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>; 
"Xharbour-Developers List" <xharbour-developers@lists.sourceforge.net>
Data invio: lunedi 31 dicembre 2007 19.07
Oggetto: [Harbour] Happy new year!!!


> Hi All,
>
> Happy new year !!!

Happy new year, master!

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From harbour.01 at syenar.hu  Mon Dec 31 18:18:02 2007
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Dec 31 18:18:08 2007
Subject: [Harbour] Happy new year!!!
In-Reply-To: <20071231180743.GC7898@localhost.localdomain>
References: <20071231180743.GC7898@localhost.localdomain>
Message-ID: <F9C30C2E-83D1-4C5E-90C7-E9B66FBD4A3C@syenar.hu>

Happy New Year for you too Przemek,
thanks for your excellent work on Harbour.

Brgds,
Viktor

On 2007.12.31., at 19:07, Przemyslaw Czerpak wrote:

> Hi All,
>
> Happy new year !!!
>
> I hope I will have more spare time in next year and in few days
> I'll answer to some pending letters waiting for me. I'm really
> sorry for delay.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Mon Dec 31 18:22:27 2007
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Dec 31 18:22:31 2007
Subject: [Harbour] Happy new year!!!
In-Reply-To: <20071231180743.GC7898@localhost.localdomain>
References: <20071231180743.GC7898@localhost.localdomain>
Message-ID: <9257026e0712311022s10375dffq8ec812945fd0db2b@mail.gmail.com>

On Dec 31, 2007 7:07 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> Happy new year !!!

Happy new year to you and all other here.

best regards,
Lorenzo
From lohen at versateladsl.be  Mon Dec 31 18:27:22 2007
From: lohen at versateladsl.be (frank van nuffel)
Date: Mon Dec 31 18:27:08 2007
Subject: [Harbour] Happy new year!!!
References: <20071231180743.GC7898@localhost.localdomain>
Message-ID: <001401c84bda$d23a02b0$4001a8c0@REE>

May the power be with you in all you undertake ;-)

wish you good health and happy architecting 

and a very pleasant 2008 experience to all 

frank

----- Original Message ----- 
From: "Przemyslaw Czerpak" 
Sent: Monday, December 31, 2007 7:07 PM

> Happy new year !!!

[snip]

> best regards,
> Przemek

From mpaliwoda at interia.pl  Mon Dec 31 19:08:02 2007
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Mon Dec 31 19:08:47 2007
Subject: [Harbour] Re: Happy new year!!!
In-Reply-To: <20071231180743.GC7898@localhost.localdomain>
References: <20071231180743.GC7898@localhost.localdomain>
Message-ID: <flbemj$vlp$1@ger.gmane.org>

> Hi All,
> 
> Happy new year !!!

Health, prosperity and happy "harbouring"
to you and all other guys here :)

-- 

Marek

From bedipritpal at hotmail.com  Mon Dec 31 19:11:41 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec 31 19:11:44 2007
Subject: [Harbour] Happy new year!!!
In-Reply-To: <20071231180743.GC7898@localhost.localdomain>
References: <20071231180743.GC7898@localhost.localdomain>
Message-ID: <14561160.post@talk.nabble.com>


Hello Przemek and All,

Very Prosperous and Happy 2008.


Przemyslaw Czerpak-2 wrote:
> 
> I hope I will have more spare time in next year and in few days
> I'll answer to some pending letters waiting for me. I'm really
> sorry for delay.
> 

Yes, we all are awaiting you anxiously. May Lord bless you with enough
energy and power to be with us as and when Harbour needs you.

Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context: http://www.nabble.com/Happy-new-year%21%21%21-tp14560528p14561160.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lostmyhearttoher at gmail.com  Mon Dec 31 19:41:07 2007
From: lostmyhearttoher at gmail.com (Lost)
Date: Mon Dec 31 19:41:20 2007
Subject: [Harbour] Happy new year!!!
In-Reply-To: <20071231180743.GC7898@localhost.localdomain>
References: <20071231180743.GC7898@localhost.localdomain>
Message-ID: <477945D3.2060704@gmail.com>

Przemyslaw Czerpak escribi? el 31/12/07 a las 16:07:
> Hi All,
> 
> Happy new year !!!
> 

Happy New Year for you too, and everybody else as well!

> best regards,
> Przemek

Best wishes for all,
Lost

From bedipritpal at hotmail.com  Mon Dec 31 19:49:25 2007
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Dec 31 19:49:28 2007
Subject: [Harbour] Harbour for the iPhone
In-Reply-To: <9471afc80712310123i5c4aa9b5p64f1e0d0a6e1f041@mail.gmail.com>
References: <9471afc80712310123i5c4aa9b5p64f1e0d0a6e1f041@mail.gmail.com>
Message-ID: <14561472.post@talk.nabble.com>


Hello Antonio


Antonio Linares-3 wrote:
> 
> I am about to start working on adapting Harbour for the iPhone (and
> the iPod touch).
> 
> I wonder if the group wants me to share all the changes, etc., since
> the beginning, to avoid further misunderstandings, etc. and properly
> integrate them in the Harbour svn
> 
> If some of you are also interested in these platforms, please email me
> to alinares@fivetechsoft.com or just comment it on this list, thanks
> 
> Happy new year to all!
> 

I vote for these changes be in SVN. But let us wait for group decision. IMO,
if it is guarded again a directive, no harms.

Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context: http://www.nabble.com/Harbour-for-the-iPhone-tp14555630p14561472.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.


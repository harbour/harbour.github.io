From itamarlins at gmail.com  Sun Nov  1 01:04:24 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Sun Nov  1 01:05:07 2009
Subject: [Harbour] Re: Error making _hbhbpdf.c
In-Reply-To: <2DCA2F75-39A1-49F1-B699-D981D2CF853D@syenar.hu>
References: <hcio3q$2cr$1@ger.gmane.org>
	<2DCA2F75-39A1-49F1-B699-D981D2CF853D@syenar.hu>
Message-ID: <hcj4sp$od3$1@ger.gmane.org>

Viktor Szak?ts escreveu:
> Rely on setting up your PATH right and leave the rest to
> AUTODETECTION.
> 
> Brgds,
> Viktor
> 
Ok but if I run only
C:\harbour\trunk\harbour>win-make clean
...
C:\harbour\trunk\harbour>win-make

Run without errors.

Best regards,
Itamar M. Lins Jr.

From itamarlins at gmail.com  Sun Nov  1 01:11:27 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Sun Nov  1 01:11:57 2009
Subject: [Harbour] Re: Error making _hbhbpdf.c
In-Reply-To: <2DCA2F75-39A1-49F1-B699-D981D2CF853D@syenar.hu>
References: <hcio3q$2cr$1@ger.gmane.org>
	<2DCA2F75-39A1-49F1-B699-D981D2CF853D@syenar.hu>
Message-ID: <hcj5a0$p3s$1@ger.gmane.org>

Viktor Szak?ts escreveu:
> You're forcing MSVC compiler, but you don't have it in your PATH.
> 
This is not true, see.
My path is:

C:\harbour\trunk\harbour>set path
Path=C:\Arquivos de programas\Microsoft Visual Studio 
9.0\Common7\IDE;C:\Arquivo
s de programas\Microsoft Visual Studio 9.0\VC\BIN;C:\Arquivos de 
programas\Microsoft Visual Studio 
9.0\Common7\Tools;C:\WINDOWS\Microsoft.NET\Framework\v3.5;C:\
WINDOWS\Microsoft.NET\Framework\v2.0.50727;C:\Arquivos de 
programas\Microsoft Visual Studio 9.0\VC\VCPackages;C:\Arquivos de 
programas\Microsoft SDKs\Windows\v6
.0A\bin;C:\Arquivos de programas\Microsoft Visual Studio 
9.0\Common7\IDE;C:\Arquivos de programas\Microsoft Visual Studio 
9.0\VC\BIN;C:\Arquivos de programas\Mi
crosoft Visual Studio 
9.0\Common7\Tools;C:\WINDOWS\Microsoft.NET\Framework\v3.5;
C:\WINDOWS\Microsoft.NET\Framework\v2.0.50727;C:\Arquivos de 
programas\Microsoft
  Visual Studio 9.0\VC\VCPackages;C:\Arquivos de programas\Microsoft 
SDKs\Windows
\v6.0A\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;c:\Arquivos 
de programas\Microsoft SQL Server\100\Tools\Binn\;c:\Arquivos de 
programas\Microsoft SQL Server\100\DTS\Binn\;C:\Arquivos de 
programas\TortoiseSVN\bin;C:\DEV\HARBOUR\bin;C:\Arquivos de 
programas\QuickTime\QTSystem\;C:\Arquivos de programas\C
VSNT\
PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH

C:\harbour\trunk\harbour>
....

Best regards,
Itamar M. Lins Jr.

From itamarlins at gmail.com  Sun Nov  1 01:20:48 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Sun Nov  1 01:21:21 2009
Subject: [Harbour] Re: Error making _hbhbpdf.c
In-Reply-To: <2DCA2F75-39A1-49F1-B699-D981D2CF853D@syenar.hu>
References: <hcio3q$2cr$1@ger.gmane.org>
	<2DCA2F75-39A1-49F1-B699-D981D2CF853D@syenar.hu>
Message-ID: <hcj5rf$p3s$2@ger.gmane.org>

Viktor Szak?ts escreveu:
> I'd like to strongly suggest every Windows user to **FORGET**
> HB_COMPILER settings. Don't use it, not needed, unnecessary.
> It's just a way to mess up things.
> 
> Rely on setting up your PATH right and leave the rest to
> AUTODETECTION.
> 
without HB_COMPILER :-(

C:\harbour\trunk\harbour>win-make.exe clean install
! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
! MAKE: win-make.exe 3.81 sh.exe clean install
! HB_INSTALL_PREFIX: C:\DEV\HARBOUR
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
config/global.mk:917: *** ! HB_COMPILER not set, could not autodetect. 
Stop.

C:\harbour\trunk\harbour>

Best regards,
Itamar M. Lins Jr.

From druzus at acn.waw.pl  Sun Nov  1 02:58:53 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Nov  1 02:59:00 2009
Subject: [Harbour] Re: Error making _hbhbpdf.c
In-Reply-To: <hcj5rf$p3s$2@ger.gmane.org>
References: <hcio3q$2cr$1@ger.gmane.org>
	<2DCA2F75-39A1-49F1-B699-D981D2CF853D@syenar.hu>
	<hcj5rf$p3s$2@ger.gmane.org>
Message-ID: <20091101075853.GA30117@34-mo7-2.home.aster.pl>

On Sun, 01 Nov 2009, Itamar Lins wrote:
> >Rely on setting up your PATH right and leave the rest to
> >AUTODETECTION.
> without HB_COMPILER :-(
> C:\harbour\trunk\harbour>win-make.exe clean install
> ! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
> ! MAKE: win-make.exe 3.81 sh.exe clean install
> ! HB_INSTALL_PREFIX: C:\DEV\HARBOUR
> ! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
> config/global.mk:917: *** ! HB_COMPILER not set, could not
> autodetect. Stop.

Perfect behavior.
Now you and we know that the problem is in your local settings
so you have to only fix them.
Please corectly set your MSVC envvars.

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Nov  1 03:33:30 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Nov  1 03:33:39 2009
Subject: [Harbour] Re: Error making _hbhbpdf.c
In-Reply-To: <hcj5a0$p3s$1@ger.gmane.org>
References: <hcio3q$2cr$1@ger.gmane.org>
	<2DCA2F75-39A1-49F1-B699-D981D2CF853D@syenar.hu>
	<hcj5a0$p3s$1@ger.gmane.org>
Message-ID: <0875FF0A-E262-40DA-BECE-BA339E0CB2D3@syenar.hu>

> Viktor Szak?ts escreveu:
>> You're forcing MSVC compiler, but you don't have it in your PATH.
> This is not true, see.
> My path is:
>
> C:\harbour\trunk\harbour>set path
> Path=C:\Arquivos de programas\Microsoft Visual Studio  
> 9.0\Common7\IDE;C:\Arquivo
> s de programas\Microsoft Visual Studio 9.0\VC\BIN;C:\Arquivos de  
> programas\Microsoft Visual Studio 9.0\Common7\Tools;C:\WINDOWS 
> \Microsoft.NET\Framework\v3.5;C:\
> WINDOWS\Microsoft.NET\Framework\v2.0.50727;C:\Arquivos de programas 
> \Microsoft Visual Studio 9.0\VC\VCPackages;C:\Arquivos de programas 
> \Microsoft SDKs\Windows\v6
> .0A\bin;C:\Arquivos de programas\Microsoft Visual Studio  
> 9.0\Common7\IDE;C:\Arquivos de programas\Microsoft Visual Studio  
> 9.0\VC\BIN;C:\Arquivos de programas\Mi
> crosoft Visual Studio 9.0\Common7\Tools;C:\WINDOWS\Microsoft.NET 
> \Framework\v3.5;
> C:\WINDOWS\Microsoft.NET\Framework\v2.0.50727;C:\Arquivos de  
> programas\Microsoft
> Visual Studio 9.0\VC\VCPackages;C:\Arquivos de programas\Microsoft  
> SDKs\Windows
> \v6.0A\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;c: 
> \Arquivos de programas\Microsoft SQL Server\100\Tools\Binn\;c: 
> \Arquivos de programas\Microsoft SQL Server\100\DTS\Binn\;C: 
> \Arquivos de programas\TortoiseSVN\bin;C:\DEV\HARBOUR\bin;C: 
> \Arquivos de programas\QuickTime\QTSystem\;C:\Arquivos de programas\C
> VSNT\
> PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH

If Harbour build still cannot autodetect it, above must
be wrong. I never tested to put MSVC in the PATH _TWICE_,
while it should work, maybe should correct it to have it
only once, and check if cl.exe is indeed in above PATH list.
(by trying to execute it!).

Anyhow I'd suggest to check proper MSVC setup in INSTALL
EXAMPLES section, and this case is also covered by the
TROUBLESHOOTING section (aka as: try with minimal amount
of envvars, setup your compiler tools properly, try with
EXAMPLES as-is).

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Nov  1 03:46:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov  1 03:46:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12804] trunk/harbour
Message-ID: <E1N4W5I-0004fI-TY@d5vjzd1.ch3.sourceforge.com>

Revision: 12804
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12804&view=rev
Author:   vszakats
Date:     2009-11-01 08:46:47 +0000 (Sun, 01 Nov 2009)

Log Message:
-----------
2009-11-01 09:41 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added plans (TODO) for next gen compiler autodetection.
      This will surpass currently implemented autodetection in 
      build system. The basic feature added is detection of all 
      compilers supported by Harbour installation, so it's not 
      possible to select one which is not installed, plus more 
      feedback can be given to user. It also cleans embedded vs 
      in-PATH compilers and gives an easier way to prioritize 
      found compilers. This is definitely scheduled after 
      2.0.0 release, and when I have (more) time.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Nov  1 05:43:16 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov  1 05:43:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12805] trunk/harbour
Message-ID: <E1N4Xu0-0001tq-Rh@dn4whf1.ch3.sourceforge.com>

Revision: 12805
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12805&view=rev
Author:   vszakats
Date:     2009-11-01 10:43:15 +0000 (Sun, 01 Nov 2009)

Log Message:
-----------
2009-11-01 11:35 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    + Added new planned types. These are meant to replace previous 
      proposition with the format 'hb<Type>'. New ones use usual 
      'HB_<TYPE>' format. Also added HB_TRUE and HB_FALSE.
      These new names don't look alien at all in code, so hopefully 
      we can go into the transition with more courage. As a plus, 
      some of the HB_TYPE format types are already implemented and 
      used (HB_WCHAR, HB_LONG, HB_ULONG, etc).
      A new important type is HB_SIZE, which I hope will replace 
      ULONG for string and array indices.
    * Changed HB_CHAR to be declared as 'char' instead of 'BYTE'.
      (this type was added long ago, but is not yet used anywhere 
      in code)
    * Changed HB_COLOR to be declared as 'int' instead of 'BYTE'.
      (this type was added long ago, but is not yet used anywhere 
      in code, since then we've settled to 'int' to represent 
      colors. Pbly we should move to use this abstract type instead 
      of int in code.)
    ; I left hb<Type> code as of yet, but if there is no objection, 
      I'd like to remove them.
    ; Here are the new types:

      HB_TRUE
      HB_FALSE
      HB_BOOL
      HB_BYTE
      HB_CHAR
      HB_ULONG
      HB_LONG
      HB_UINT
      HB_SHORT
      HB_USHORT
      HB_LONGLONG
      HB_ULONGLONG
      HB_I8
      HB_U8
      HB_I16 ( HB_I16_MIN, HB_I16_MAX )     
      HB_U16 ( HB_U16_MAX )
      HB_I32 ( HB_I32_MIN, HB_I32_MAX )
      HB_U32 ( HB_U32_MAX )            
      HB_I64 ( HB_I64_MIN, HB_I64_MAX )
      HB_U64 ( HB_U64_MAX )            
      HB_SCHAR
      HB_UCHAR
      HB_SIZE
      HB_DOUBLE

    ; QUESTION: Do we really need 3 different flavors to denote char/byte?
                HB_BYTE - HB_UCHAR - HB_U8
                HB_CHAR - HB_SCHAR - HB_I8
                If not, we should decide which ones to keep.
                If yes, it would be nice to have some guide when to use which.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From itamarlins at gmail.com  Sun Nov  1 06:45:06 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Sun Nov  1 06:48:36 2009
Subject: [Harbour] Re: Error making _hbhbpdf.c
In-Reply-To: <0875FF0A-E262-40DA-BECE-BA339E0CB2D3@syenar.hu>
References: <hcio3q$2cr$1@ger.gmane.org>	<2DCA2F75-39A1-49F1-B699-D981D2CF853D@syenar.hu>	<hcj5a0$p3s$1@ger.gmane.org>
	<0875FF0A-E262-40DA-BECE-BA339E0CB2D3@syenar.hu>
Message-ID: <4AED74C2.2000502@gmail.com>

Viktor Szak?ts escreveu:
> 
> If Harbour build still cannot autodetect it, above must
> be wrong. I never tested to put MSVC in the PATH _TWICE_,
> while it should work, maybe should correct it to have it
> only once, and check if cl.exe is indeed in above PATH list.
> (by trying to execute it!).
> 
> Anyhow I'd suggest to check proper MSVC setup in INSTALL
> EXAMPLES section, and this case is also covered by the
> TROUBLESHOOTING section (aka as: try with minimal amount
> of envvars, setup your compiler tools properly, try with
> EXAMPLES as-is).
> 
> Brgds,
> Viktor
> 

Hi Mr. Viktor.
	
I am following the steps in the INSTALL file
And he will be better if you change these lines because I believe that 
is leaving the new users confused as I was.
I'm not touching anything just by following the instructions in the install.
--------8<-----------
       --- MSVC 2008 + SDK
       set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
       call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
       mingw32-make
       ---
-------->8-----------
As it stands, it's generating for Mingw lib's.
to
       --- MSVC 2008 + SDK
       set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
       call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
       win-make clean install
       ---
Pure MSVC compiler.

Best regards,
Itamar M. Lins Jr.

From itamarlins at gmail.com  Sun Nov  1 06:48:00 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Sun Nov  1 06:50:45 2009
Subject: [Harbour] Re: Error making _hbhbpdf.c
In-Reply-To: <0875FF0A-E262-40DA-BECE-BA339E0CB2D3@syenar.hu>
References: <hcio3q$2cr$1@ger.gmane.org>	<2DCA2F75-39A1-49F1-B699-D981D2CF853D@syenar.hu>	<hcj5a0$p3s$1@ger.gmane.org>
	<0875FF0A-E262-40DA-BECE-BA339E0CB2D3@syenar.hu>
Message-ID: <hcjshg$81c$1@ger.gmane.org>

Viktor Szak?ts escreveu:
> 
> If Harbour build still cannot autodetect it, above must
> be wrong. I never tested to put MSVC in the PATH _TWICE_,
> while it should work, maybe should correct it to have it
> only once, and check if cl.exe is indeed in above PATH list.
> (by trying to execute it!).
> 
> Anyhow I'd suggest to check proper MSVC setup in INSTALL
> EXAMPLES section, and this case is also covered by the
> TROUBLESHOOTING section (aka as: try with minimal amount
> of envvars, setup your compiler tools properly, try with
> EXAMPLES as-is).
> 
> Brgds,
> Viktor
> 
Hi Mr. Viktor.
	
I am following the steps in the INSTALL file
And he will be better if you change these lines because I believe that 
is leaving the new users confused as I was.
I'm not touching anything just by following the instructions in the 
install file.
--------8<-----------
       --- MSVC 2008 + SDK
       set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
       call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
       mingw32-make
       ---
-------->8-----------
As it stands, it's generating for Mingw lib's.
to
       --- MSVC 2008 + SDK
       set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
       call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat"
       win-make clean install
       ---
Pure MSVC compiler.

Best regards,
Itamar M. Lins Jr.

From harbour.01 at syenar.hu  Sun Nov  1 07:18:27 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Nov  1 07:18:39 2009
Subject: [Harbour] Re: Error making _hbhbpdf.c
In-Reply-To: <4AED74C2.2000502@gmail.com>
References: <hcio3q$2cr$1@ger.gmane.org>	<2DCA2F75-39A1-49F1-B699-D981D2CF853D@syenar.hu>	<hcj5a0$p3s$1@ger.gmane.org>
	<0875FF0A-E262-40DA-BECE-BA339E0CB2D3@syenar.hu>
	<4AED74C2.2000502@gmail.com>
Message-ID: <634E092F-4F2C-4AE0-A7BD-D78185B2406E@syenar.hu>

> Hi Mr. Viktor.
> 	
> I am following the steps in the INSTALL file
> And he will be better if you change these lines because I believe  
> that is leaving the new users confused as I was.
> I'm not touching anything just by following the instructions in the  
> install.
> --------8<-----------
>      --- MSVC 2008 + SDK
>      set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
>      call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC 
> \vcvarsall.bat"
>      mingw32-make
>      ---
> -------->8-----------
> As it stands, it's generating for Mingw lib's.
> to
>      --- MSVC 2008 + SDK
>      set WindowsSDKDir=%ProgramFiles%\Microsoft SDKs\Windows\v6.0A\
>      call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC 
> \vcvarsall.bat"
>      win-make clean install
>      ---
> Pure MSVC compiler.

Generally it makes no sense as mingw32-make and win-make
are the SAME binaries.

The only difference in your case, is that you seem to
put MinGW in PATH and try to invoke included GNU Make.
Which can cause MinGW to be autodetected. Solution, as
written in INSTALL:
    "Unpack it [mingw32-make] to your PATH or Harbour
     source root directory." (instead you put MinGW in
     PATH which happens to also contain mingw32-make)
also:
    "It's recommended to make sure no tools in your PATH
     belonging to other C compilers are interfering with
     your setup." (in your case whole MinGW interferes
    with MSVC)
plus:
    "You can also use included copy [of mingw-32make]
     named win-make.exe instead."

'clean' and 'install' are options described in the
document, so I don't think they should be repeated in
every make invocation examples.

win-make is a convenience option, which may or may not
be included in our distribution, so I don't want to
include it in every example either.

Solution is easy: put mingw32-make in your PATH, or
create a separate dir for it and put that in your PATH.

Overall, I'm giving up on giving "proper" instructions
which is fine for everyone. This seems to become a
"how to mess it up" / "how to misunderstand" / "how
to pick nits" contest. It's hopeless. Everyone should
get its act together and figure a little bit themselves.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Nov  1 07:24:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov  1 07:24:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12806] trunk/harbour
Message-ID: <E1N4ZTb-0007lR-Fn@3kljzd1.ch3.sourceforge.com>

Revision: 12806
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12806&view=rev
Author:   vszakats
Date:     2009-11-01 12:24:06 +0000 (Sun, 01 Nov 2009)

Log Message:
-----------
2009-11-01 13:23 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/detect.mk
    - Disabled OpenSSL detection for bcc.
      For some reason it's building with errors now.
      I can't figure what change caused this as it was building 
      fine a month ago. It's not the hbssl source code, openssl 
      sources are the same, I have no time to figure it out.
      Anyway it wasn't working with bcc at link time anyway.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/detect.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From itamarlins at gmail.com  Sun Nov  1 07:38:50 2009
From: itamarlins at gmail.com (Itamar Lins)
Date: Sun Nov  1 07:39:20 2009
Subject: [Harbour] Re: Error making _hbhbpdf.c
In-Reply-To: <634E092F-4F2C-4AE0-A7BD-D78185B2406E@syenar.hu>
References: <hcio3q$2cr$1@ger.gmane.org>	<2DCA2F75-39A1-49F1-B699-D981D2CF853D@syenar.hu>	<hcj5a0$p3s$1@ger.gmane.org>	<0875FF0A-E262-40DA-BECE-BA339E0CB2D3@syenar.hu>	<4AED74C2.2000502@gmail.com>
	<634E092F-4F2C-4AE0-A7BD-D78185B2406E@syenar.hu>
Message-ID: <hcjvgq$fli$1@ger.gmane.org>

> 
> Generally it makes no sense as mingw32-make and win-make
> are the SAME binaries.
> 
> The only difference in your case, is that you seem to
> put MinGW in PATH and try to invoke included GNU Make.
> Which can cause MinGW to be autodetected. Solution, as
> written in INSTALL:
>    "Unpack it [mingw32-make] to your PATH or Harbour
>     source root directory." (instead you put MinGW in
>     PATH which happens to also contain mingw32-make)
> also:
>    "It's recommended to make sure no tools in your PATH
>     belonging to other C compilers are interfering with
>     your setup." (in your case whole MinGW interferes
>    with MSVC)
> plus:
>    "You can also use included copy [of mingw-32make]
>     named win-make.exe instead."
> 
> 'clean' and 'install' are options described in the
> document, so I don't think they should be repeated in
> every make invocation examples.
> 
> win-make is a convenience option, which may or may not
> be included in our distribution, so I don't want to
> include it in every example either.
> 
> Solution is easy: put mingw32-make in your PATH, or
> create a separate dir for it and put that in your PATH.
> 
> Overall, I'm giving up on giving "proper" instructions
> which is fine for everyone. This seems to become a
> "how to mess it up" / "how to misunderstand" / "how
> to pick nits" contest. It's hopeless. Everyone should
> get its act together and figure a little bit themselves.
> 
> Brgds,
> Viktor
> 

Ok, thanks for the responses.
I understand your situation.
I understood the procedure.

Best regards,
Itamar M. Lins Jr.

From druzus at acn.waw.pl  Sun Nov  1 07:58:51 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Nov  1 07:58:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12805] trunk/harbour
In-Reply-To: <E1N4Xu0-0001tq-Rh@dn4whf1.ch3.sourceforge.com>
References: <E1N4Xu0-0001tq-Rh@dn4whf1.ch3.sourceforge.com>
Message-ID: <20091101125851.GA32485@34-mo7-2.home.aster.pl>

On Sun, 01 Nov 2009, vszakats@users.sourceforge.net wrote:

Hi,

>   * include/hbdefs.h
>     + Added new planned types. These are meant to replace previous 
>       proposition with the format 'hb<Type>'. New ones use usual 
>       'HB_<TYPE>' format. Also added HB_TRUE and HB_FALSE.
>       These new names don't look alien at all in code, so hopefully 
>       we can go into the transition with more courage. As a plus, 
>       some of the HB_TYPE format types are already implemented and 
>       used (HB_WCHAR, HB_LONG, HB_ULONG, etc).

Do you remember that HB_[U]LONG is not the same as [U]LONG?

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Nov  1 08:59:30 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov  1 08:59:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12805] trunk/harbour
In-Reply-To: <20091101125851.GA32485@34-mo7-2.home.aster.pl>
References: <E1N4Xu0-0001tq-Rh@dn4whf1.ch3.sourceforge.com>
	<20091101125851.GA32485@34-mo7-2.home.aster.pl>
Message-ID: <BFDE215C-BB79-480C-B28B-50676D64CECD@syenar.hu>

>>  * include/hbdefs.h
>>    + Added new planned types. These are meant to replace previous
>>      proposition with the format 'hb<Type>'. New ones use usual
>>      'HB_<TYPE>' format. Also added HB_TRUE and HB_FALSE.
>>      These new names don't look alien at all in code, so hopefully
>>      we can go into the transition with more courage. As a plus,
>>      some of the HB_TYPE format types are already implemented and
>>      used (HB_WCHAR, HB_LONG, HB_ULONG, etc).
>
> Do you remember that HB_[U]LONG is not the same as [U]LONG?

I had it in mind, but after quick (sloppy) check
it seemed the same.

If they are not: what to do? It depends on the
precise meaning of HB_[U]LONG, which I'm not sure of.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Nov  1 09:16:47 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov  1 09:16:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12805] trunk/harbour
In-Reply-To: <BFDE215C-BB79-480C-B28B-50676D64CECD@syenar.hu>
References: <E1N4Xu0-0001tq-Rh@dn4whf1.ch3.sourceforge.com>
	<20091101125851.GA32485@34-mo7-2.home.aster.pl>
	<BFDE215C-BB79-480C-B28B-50676D64CECD@syenar.hu>
Message-ID: <A491FB4C-9C19-42D6-8928-7119FD92F1DA@syenar.hu>

>>
>> Do you remember that HB_[U]LONG is not the same as [U]LONG?
>
> I had it in mind, but after quick (sloppy) check
> it seemed the same.
>
> If they are not: what to do? It depends on the
> precise meaning of HB_[U]LONG, which I'm not sure of.

Am I off the track too much if I say that current
HB_[U]LONG should really be called HB_VM[U]INT ?
IOW this is the 'parnint'/'retnint'/'itemPutNInt'
value. Or is this something different?

If this is so, first we should do this conversion
to make room for new meaning of HB_[U]LONG. Question
is how much 3rd parties will be affected.

Alternatively we should either drop "regular"
[U]LONG as core type, or find it another name,
(which won't be very easy).

Brgds,
Viktor

From druzus at acn.waw.pl  Sun Nov  1 10:37:37 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Nov  1 10:37:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12805] trunk/harbour
In-Reply-To: <A491FB4C-9C19-42D6-8928-7119FD92F1DA@syenar.hu>
References: <E1N4Xu0-0001tq-Rh@dn4whf1.ch3.sourceforge.com>
	<20091101125851.GA32485@34-mo7-2.home.aster.pl>
	<BFDE215C-BB79-480C-B28B-50676D64CECD@syenar.hu>
	<A491FB4C-9C19-42D6-8928-7119FD92F1DA@syenar.hu>
Message-ID: <20091101153737.GA2053@34-mo7-2.home.aster.pl>

On Sun, 01 Nov 2009, Szak?ts Viktor wrote:
> >>Do you remember that HB_[U]LONG is not the same as [U]LONG?
> >I had it in mind, but after quick (sloppy) check
> >it seemed the same.
> >If they are not: what to do? It depends on the
> >precise meaning of HB_[U]LONG, which I'm not sure of.
> Am I off the track too much if I say that current
> HB_[U]LONG should really be called HB_VM[U]INT ?

It should be rather HB_VMMAX[U]INT but VM may not support integer values
at all (i.e. CLIP does not use and integer items) so we may want to define
it as HB_MAX[U]INT and leave HB_VMMAX[U]INT rather for internal code or for
code which needs some strict compatibility with VM internals.

> IOW this is the 'parnint'/'retnint'/'itemPutNInt'
> value. Or is this something different?

Yes, it is for above functions.

> If this is so, first we should do this conversion
> to make room for new meaning of HB_[U]LONG. Question
> is how much 3rd parties will be affected.
> Alternatively we should either drop "regular"
> [U]LONG as core type, or find it another name,
> (which won't be very easy).

I would like to make such modification after final 2.0.
I expect that it will introduce a lot of problems which can
make Harbour unstable or unusable for months or even years
so 1-st I would like to have stable branch with all current
features which can used in production environment.
Just simply we may not find enough developers to ever finish
it and create good documentation for new types for 3-rd party
developers so they can update their code.
I added HB_WCHAR only for one reason. wchar_t is 16 bit integer
in Windows and 32 bit integer in most of other systems and I need
sth to hold Unicode values in portable way. I want to add before
final 2.0 version set hb hb_item*Str*() functions to set/extract
string values with automatic conversions between different encodings
(CP char string, UTF8, U16, U16LE, ... ) so 3-rd party developers
can start to write code which will be Unicode ready and later we
can add support for UNICODE string items to HVM without any it will
not be necessary to modify code adopted for new string API. I also
want to replace current cdpapi.c code with new one which should
resolve most important problems in current implementation. So if
possible I wold like to ask you to not introduce any modification
in existing types now. I'll try to finish and commit modifications
in CDP API in this month so we can try to release finbal 2.0 in this
year.

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Nov  1 10:48:46 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov  1 10:48:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12805] trunk/harbour
In-Reply-To: <20091101153737.GA2053@34-mo7-2.home.aster.pl>
References: <E1N4Xu0-0001tq-Rh@dn4whf1.ch3.sourceforge.com>
	<20091101125851.GA32485@34-mo7-2.home.aster.pl>
	<BFDE215C-BB79-480C-B28B-50676D64CECD@syenar.hu>
	<A491FB4C-9C19-42D6-8928-7119FD92F1DA@syenar.hu>
	<20091101153737.GA2053@34-mo7-2.home.aster.pl>
Message-ID: <5D3BA428-393F-475E-8687-25C49361EEDB@syenar.hu>

Thanks Przemek.

I didn't want to make any actual type migration in code
before 2.0.0 final, just trying to settle on the plans
for now. (I'm using my small local .c codebase to try
out new type, IOW I don't want to see any Windows types
there rather sooner than later).

As for your planned modifications, I'm looking forward
to see them, sounds great.

Brgds,
Viktor

On 2009 Nov 1, at 16:37, Przemys?aw Czerpak wrote:

> On Sun, 01 Nov 2009, Szak?ts Viktor wrote:
>>>> Do you remember that HB_[U]LONG is not the same as [U]LONG?
>>> I had it in mind, but after quick (sloppy) check
>>> it seemed the same.
>>> If they are not: what to do? It depends on the
>>> precise meaning of HB_[U]LONG, which I'm not sure of.
>> Am I off the track too much if I say that current
>> HB_[U]LONG should really be called HB_VM[U]INT ?
>
> It should be rather HB_VMMAX[U]INT but VM may not support integer  
> values
> at all (i.e. CLIP does not use and integer items) so we may want to  
> define
> it as HB_MAX[U]INT and leave HB_VMMAX[U]INT rather for internal code  
> or for
> code which needs some strict compatibility with VM internals.
>
>> IOW this is the 'parnint'/'retnint'/'itemPutNInt'
>> value. Or is this something different?
>
> Yes, it is for above functions.
>
>> If this is so, first we should do this conversion
>> to make room for new meaning of HB_[U]LONG. Question
>> is how much 3rd parties will be affected.
>> Alternatively we should either drop "regular"
>> [U]LONG as core type, or find it another name,
>> (which won't be very easy).
>
> I would like to make such modification after final 2.0.
> I expect that it will introduce a lot of problems which can
> make Harbour unstable or unusable for months or even years
> so 1-st I would like to have stable branch with all current
> features which can used in production environment.
> Just simply we may not find enough developers to ever finish
> it and create good documentation for new types for 3-rd party
> developers so they can update their code.
> I added HB_WCHAR only for one reason. wchar_t is 16 bit integer
> in Windows and 32 bit integer in most of other systems and I need
> sth to hold Unicode values in portable way. I want to add before
> final 2.0 version set hb hb_item*Str*() functions to set/extract
> string values with automatic conversions between different encodings
> (CP char string, UTF8, U16, U16LE, ... ) so 3-rd party developers
> can start to write code which will be Unicode ready and later we
> can add support for UNICODE string items to HVM without any it will
> not be necessary to modify code adopted for new string API. I also
> want to replace current cdpapi.c code with new one which should
> resolve most important problems in current implementation. So if
> possible I wold like to ask you to not introduce any modification
> in existing types now. I'll try to finish and commit modifications
> in CDP API in this month so we can try to release finbal 2.0 in this
> year.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From cvc at oohg.org  Sun Nov  1 10:50:51 2009
From: cvc at oohg.org (Ciro Vargas C)
Date: Sun Nov  1 10:50:59 2009
Subject: [Harbour] about Netio
Message-ID: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>

Hi all:

any way to know what files are opened in a netio server from a program?

In order to make a File Monitor.

TIA
Ciro


-- 
http://www.oohg.prg
http://sistemascvc.tripod.com

donaciones para CVC de ooHG

https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
From vszakats at users.sourceforge.net  Sun Nov  1 10:59:44 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov  1 10:59:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12807] trunk/harbour
Message-ID: <E1N4cqG-0001Da-GN@dn4whf1.ch3.sourceforge.com>

Revision: 12807
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12807&view=rev
Author:   vszakats
Date:     2009-11-01 15:59:43 +0000 (Sun, 01 Nov 2009)

Log Message:
-----------
2009-11-01 16:58 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    + Added HB_MAX[U]INT as new name for HB_[U]LONG.
    + Added HB_[U]LONG to new type list with TOFIX note.
    * Changed HB_ATTR to not rely on Windows type.
    - Deleted hb[Type] style types from planning.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Nov  1 11:03:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov  1 11:03:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12808] trunk/harbour
Message-ID: <E1N4cu9-0001J4-4M@dn4whf1.ch3.sourceforge.com>

Revision: 12808
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12808&view=rev
Author:   vszakats
Date:     2009-11-01 16:03:44 +0000 (Sun, 01 Nov 2009)

Log Message:
-----------
2009-11-01 17:02 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    * Changed HB_SIZE to ULONG. Added TOFIX to later change it 
      to 'long'. With its current setup it's possible to gradually 
      change 'ULONG' usages to 'HB_SIZE' when used as string/array 
      length ot index. This can be a gradual process.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Nov  1 11:09:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov  1 11:09:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12809] trunk/harbour
Message-ID: <E1N4czL-0001RJ-MG@dn4whf1.ch3.sourceforge.com>

Revision: 12809
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12809&view=rev
Author:   vszakats
Date:     2009-11-01 16:09:04 +0000 (Sun, 01 Nov 2009)

Log Message:
-----------
2009-11-01 17:08 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    + Added HB_BYTE as synonym to BYTE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sun Nov  1 12:08:39 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Nov  1 12:09:06 2009
Subject: [Harbour] Re: Google wave invitation
In-Reply-To: <609353e70910010448g2bdea9a6qbcd9bfafb4200504@mail.gmail.com>
References: <609353e70910010448g2bdea9a6qbcd9bfafb4200504@mail.gmail.com>
Message-ID: <609353e70911010908m59dcad52o35ead5f527715591@mail.gmail.com>

I have found invitation
Now i search contacts for building wave about harbour 2.0
anybody interested?

2009/10/1 Massimo Belgrano <mbelgrano@deltain.it>:
> I search a google wave invitation for massimo.belgrano at ? ?gmail.com
> Thanks
>
> --
> Massimo Belgrano
>
>
>



-- 
Massimo Belgrano
From gvarona at ec-red.com  Sun Nov  1 12:22:20 2009
From: gvarona at ec-red.com (gvarona)
Date: Sun Nov  1 12:21:46 2009
Subject: [Harbour] about Netio
In-Reply-To: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>
Message-ID: <20091101172220.1772.qmail@ml110b.qnet.com.pe>

I add one more question: 

I do this: 

RESTORE FROM "NET:PC01:2941:data/parametros.mem" ADDITIVE 

I get this error:
&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472 
;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#947 
2;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#94 
72;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474; Error BASE/2005  Error de apertura: &#9474;
&#9474;    net:pc01:data\parametros.mem     &#9474;
&#9474;           (DOS Error 123)           &#9474;
&#9474;                                     &#9474;
&#9474;      Quit    Retry    Default       &#9474;
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472 
;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#947 
2;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#94 
72;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496; 

Any TIP? 

TIA 

BestRegards
GVS 


Ciro Vargas C escribi?: 

> Hi all: 
> 
> any way to know what files are opened in a netio server from a program? 
> 
> In order to make a File Monitor. 
> 
> TIA
> Ciro 
> 
> 
> -- 
> http://www.oohg.prg
> http://sistemascvc.tripod.com 
> 
> donaciones para CVC de ooHG 
> 
> https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
---------------------------------------------------------------
EC Red Internet gr@tis
Inscr?bete en www.ec-red.com
From philb at philb.us  Sun Nov  1 12:30:27 2009
From: philb at philb.us (Phil Barnett)
Date: Sun Nov  1 12:30:36 2009
Subject: [Harbour] Search Mailing List?
In-Reply-To: <20091029012005.CE4B1448C8@ws5-1.us4.outblaze.com>
References: <20091029012005.CE4B1448C8@ws5-1.us4.outblaze.com>
Message-ID: <1257096627.2149.1147.camel@SunSpot>

On Thu, 2009-10-29 at 09:20 +0800, Jerry Finuliar wrote:
> Hi,
> 
> Is there a way to search through the mailing list archives? (of course except from downloading it)
> 
> Sorry for asking this silly question.
> 
> Thanks,
> Jerry 
> 
> 
> 

Put this in the search field of Google.com

site:http://lists.harbour-project.org/pipermail/harbour/ finuliar

From harbour.01 at syenar.hu  Sun Nov  1 12:41:30 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Nov  1 12:41:43 2009
Subject: [Harbour] about Netio
In-Reply-To: <20091101172220.1772.qmail@ml110b.qnet.com.pe>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>
	<20091101172220.1772.qmail@ml110b.qnet.com.pe>
Message-ID: <AC990872-7CA7-45BE-9B96-94BEDF9E99EB@syenar.hu>

Replaceable RDD IO interface is only available for RDD
operations.

Brgds,
Viktor

On 2009 Nov 1, at 18:22, gvarona wrote:

> I add one more question:
> I do this:
> RESTORE FROM "NET:PC01:2941:data/parametros.mem" ADDITIVE
> I get this error:
> &#9484
> ;&#9472
> ;&#9472
> ;&#9472
> ;&#9472
> ;&#9472
> ;&#9472
> ;&#9472
> ;&#9472
> ;&#9472
> ;&#9472
>  ;&#9472
> ;&#9472
> ;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#947  
> 2 
> ;&#9472 
> ;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#94  
> 72;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
> &#9474; Error BASE/2005  Error de apertura: &#9474;
> &#9474;    net:pc01:data\parametros.mem     &#9474;
> &#9474;           (DOS Error 123)           &#9474;
> &#9474;                                     &#9474;
> &#9474;      Quit    Retry    Default       &#9474;
> &#9492 
> ;&#9472 
> ;&#9472 
> ;&#9472 
> ;&#9472 
> ;&#9472 
> ;&#9472 
> ;&#9472 
> ;&#9472 
> ;&#9472 
> ;&#9472 
>  ;&#9472 
> ;&#9472 
> ;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#947  
> 2 
> ;&#9472 
> ;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#94  
> 72;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
> Any TIP?
> TIA
> BestRegards
> GVS
>
> Ciro Vargas C escribi?:
>> Hi all: any way to know what files are opened in a netio server  
>> from a program? In order to make a File Monitor. TIA
>> Ciro --
>> http://www.oohg.prg
>> http://sistemascvc.tripod.com donaciones para CVC de ooHG https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> ---------------------------------------------------------------
> EC Red Internet gr@tis
> Inscr?bete en www.ec-red.com
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From gvarona at ec-red.com  Sun Nov  1 12:52:53 2009
From: gvarona at ec-red.com (gvarona)
Date: Sun Nov  1 12:52:18 2009
Subject: [Harbour] about Netio
In-Reply-To: <AC990872-7CA7-45BE-9B96-94BEDF9E99EB@syenar.hu>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>
	<20091101172220.1772.qmail@ml110b.qnet.com.pe>
	<AC990872-7CA7-45BE-9B96-94BEDF9E99EB@syenar.hu>
Message-ID: <20091101175253.23234.qmail@ml110b.qnet.com.pe>

Viktor Szak?ts escribi?: 

> Replaceable RDD IO interface is only available for RDD
> operations.

Thanks Viktor.
	
Is there any way to list these operations? 

TIA 

BestRegards
GVS
---------------------------------------------------------------
EC Red Internet gr@tis
Inscr?bete en www.ec-red.com
From harbour.01 at syenar.hu  Sun Nov  1 12:59:30 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Nov  1 12:59:39 2009
Subject: [Harbour] about Netio
In-Reply-To: <20091101175253.23234.qmail@ml110b.qnet.com.pe>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>
	<20091101172220.1772.qmail@ml110b.qnet.com.pe>
	<AC990872-7CA7-45BE-9B96-94BEDF9E99EB@syenar.hu>
	<20091101175253.23234.qmail@ml110b.qnet.com.pe>
Message-ID: <EEEA8CE5-F5F9-461B-A68F-CD8F4235B6FA@syenar.hu>

> Viktor Szak?ts escribi?:
>> Replaceable RDD IO interface is only available for RDD
>> operations.
>
> Thanks Viktor.
> 	
> Is there any way to list these operations?

DB*, RDD*, ORD* functions, etc. Every RDD functions.

Brgds,
Viktor

From bedipritpal at hotmail.com  Sun Nov  1 13:02:27 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Nov  1 13:02:34 2009
Subject: [Harbour] HBQT - HBXBP - More Logs to locate mem leaks
Message-ID: <26150928.post@talk.nabble.com>


Hello Everybody

Here is the more logs to have food for thought where mem is eaten up
with every next invocation of a dialog: from a different perspective:

00000000      GC:  new QApplication                243396 B 24112 KB
00000002     .
============================================================================
                    Build_HTMLViewer(  OMITTED ) Takes Too Much of Memory
============================================================================
00000003     .
00000004     .                                                 Memory(1001) 
TaskBar
00000005     .                                                             
Mem Usage
                                                                   Bytes       
KB
==============================================================================
00000006            1           At Startup of Thread               243441     
24136
00000016            1           oDlg := GuiStdDialog               482579     
25808
00000072            1              Build_MenuBar                   676626     
27584
00000083            1             Build_StatusBar                  739958     
28788
00000094            1              Build_ToolBar                   804942     
29012
00000119            1              Build_TabPages                  910365     
29516
00000194            1               Build_Browse                  1435383     
31396
00000203            1                Build_MLE                    1498566     
32300
00000208            1              Build_CheckBox                 1561422     
32336
00000213            1               Build_3State                  1593224     
32376
00000222            1            Build_RadioButton                1648328     
32488
00000229            1             Build_SpinButton                1728739     
32824
00000634            1              Build_TreeView                 1989620     
33736
00000650            1              Build_ListBox                  2079252     
34088
00000661            1              Build_ComboBox                 2191855     
34588
00000672            1             Build_PushButton                2238722     
34636
00000683            1                Build_SLEs                   2250840     
34644
00000688            1             Build_ScrollBars                2283546     
34648
00000768            1                Build_Rtf                    2465548     
35424
00000769            1             Build_HTMLViewer                2465548     
35424
00000891            1              Build_Statics                  2662368     
36044

==============================================================================

00000986     .
00000987     .
00000988     .
00000989     .
00000990            2           At Startup of Thread              2710533     
39512 - 36034 = 3478
00001000            2           oDlg := GuiStdDialog              2757595     
39652
00001054            2              Build_MenuBar                  2795350     
39884
00001065            2             Build_StatusBar                 2800497     
39916
00001076            2              Build_ToolBar                  2810168     
39924
00001101            2              Build_TabPages                 2853319     
40064
00001176            2               Build_Browse                  3020176     
40700
00001185            2                Build_MLE                    3025427     
40792
00001190            2              Build_CheckBox                 3035949     
40816
00001195            2               Build_3State                  3046712     
40840
00001204            2            Build_RadioButton                3067596     
40896
00001211            2             Build_SpinButton                3084492     
40952
00001616            2              Build_TreeView                 3242334     
41460
00001632            2              Build_ListBox                  3248750     
41552
00001643            2              Build_ComboBox                 3266238     
41628
00001654            2             Build_PushButton                3276575     
41644
00001665            2                Build_SLEs                   3288695     
41676
00001670            2             Build_ScrollBars                3299623     
41704
00001750            2                Build_Rtf                    3374631     
42060
00001751            2             Build_HTMLViewer                3374631     
42060
00001873            2              Build_Statics                  3480424     
42460
00001891   .............................. WOW
.................................
00002439   release_QMainWindow                 2905939 B 44832 KB           
- 42460 = 2472
00002440      2905775           Destroy: XBPDIALOG            2
00002441   ------------------------------ WOW
---------------------------------
00002443            2                 THE END                     2905778     
43076
00002444     .
00002445     .
00002446     .
00002447     .
00002448            3           At Startup of Thread              2714894     
42996 - 39512 = 3484
00002458            3           oDlg := GuiStdDialog              2761958     
43020
00002512            3              Build_MenuBar                  2799718     
43080
00002523            3             Build_StatusBar                 2804866     
43080
00002534            3              Build_ToolBar                  2814538     
43084
00002559            3              Build_TabPages                 2857698     
43096
00002634            3               Build_Browse                  3024555     
43100
00002643            3                Build_MLE                    3029807     
43104
00002648            3              Build_CheckBox                 3040331     
43104
00002653            3               Build_3State                  3051095     
43104
00002662            3            Build_RadioButton                3071979     
43104
00002669            3             Build_SpinButton                3088875     
43104
00003074            3              Build_TreeView                 3246717     
43116
00003090            3              Build_ListBox                  3253133     
43116
00003101            3              Build_ComboBox                 3270621     
43116
00003112            3             Build_PushButton                3280958     
43116
00003123            3                Build_SLEs                   3293078     
43116
00003128            3             Build_ScrollBars                3304006     
43116
00003208            3                Build_Rtf                    3379014     
43120
00003209            3             Build_HTMLViewer                3379014     
43120
00003331            3              Build_Statics                  3484807     
43276
00003345   .............................. WOW
.................................
00003893   release_QMainWindow                 2905951 B 45296 KB           
- 43276 = 2020
00003894      2905787           Destroy: XBPDIALOG            3
00003895   ------------------------------ WOW
---------------------------------
00003897            3                 THE END                     2905790     
43512
00003898     .
00003899     .
00003900     .
00003901     .
00003902            4           At Startup of Thread              2714894     
43432 - 42996 = 436
00003912            4           oDlg := GuiStdDialog              2761958     
43452
00003966            4              Build_MenuBar                  2799718     
43512
00003977            4             Build_StatusBar                 2804866     
43512
00003988            4              Build_ToolBar                  2814538     
43528
00004013            4              Build_TabPages                 2857698     
43540
00004088            4               Build_Browse                  3024555     
43540
00004097            4                Build_MLE                    3029807     
43540
00004102            4              Build_CheckBox                 3040331     
43540
00004107            4               Build_3State                  3051095     
43540
00004116            4            Build_RadioButton                3071979     
43540
00004123            4             Build_SpinButton                3088875     
43540
00004528            4              Build_TreeView                 3246717     
43548
00004544            4              Build_ListBox                  3253133     
43556
00004555            4              Build_ComboBox                 3270621     
43556
00004566            4             Build_PushButton                3280958     
43556
00004577            4                Build_SLEs                   3293078     
43556
00004582            4             Build_ScrollBars                3304006     
43556
00004662            4                Build_Rtf                    3379014     
43572
00004663            4             Build_HTMLViewer                3379014     
43572
00004785            4              Build_Statics                  3484807     
43648
00004809   .............................. WOW
.................................
00005357   release_QMainWindow                 2905951 B 45696 KB           
- 43648 = 2048
00005358      2905787           Destroy: XBPDIALOG            4
00005359   ------------------------------ WOW
---------------------------------
00005361            4                 THE END                     2905790     
43932
00005362     .
00005363     .
00005364     .
00005365     .
00005366            5           At Startup of Thread              2714894     
43848 - 43432 = 416
00005376            5           oDlg := GuiStdDialog              2761958     
43868
00005430            5              Build_MenuBar                  2799718     
43940
00005441            5             Build_StatusBar                 2804866     
43940
00005452            5              Build_ToolBar                  2814538     
43940
00005477            5              Build_TabPages                 2857698     
43952
00005552            5               Build_Browse                  3024555     
43952
00005561            5                Build_MLE                    3029807     
43952
00005566            5              Build_CheckBox                 3040331     
43952
00005571            5               Build_3State                  3051095     
43952
00005580            5            Build_RadioButton                3071979     
43952
00005587            5             Build_SpinButton                3088875     
43952
00005992            5              Build_TreeView                 3246717     
43964
00006008            5              Build_ListBox                  3253133     
43972
00006019            5              Build_ComboBox                 3270621     
43972
00006030            5             Build_PushButton                3280958     
43972
00006041            5                Build_SLEs                   3293078     
43972
00006046            5             Build_ScrollBars                3304006     
43972
00006126            5                Build_Rtf                    3379014     
44000
00006127            5             Build_HTMLViewer                3379014     
44000
00006249            5              Build_Statics                  3484807     
44092
00006263   .............................. WOW
.................................
00006811   release_QMainWindow                 2905951 B 46108 KB           
- 44092 = 2016
00006812      2905787           Destroy: XBPDIALOG            5
00006813   ------------------------------ WOW
---------------------------------
00006815            5                 THE END                     2905790     
44344
00006816     .
00006817     .
00006818     .
00006819     .
00006820            6           At Startup of Thread              2714894     
44260 - 43848 = 412
00006830            6           oDlg := GuiStdDialog              2761958     
44280
00006884            6              Build_MenuBar                  2799718     
44348
00006895            6             Build_StatusBar                 2804866     
44348
00006906            6              Build_ToolBar                  2814538     
44348
00006931            6              Build_TabPages                 2857698     
44368
00007006            6               Build_Browse                  3024555     
44368
00007015            6                Build_MLE                    3029807     
44372
00007020            6              Build_CheckBox                 3040331     
44372
00007025            6               Build_3State                  3051095     
44372
00007034            6            Build_RadioButton                3071979     
44372
00007041            6             Build_SpinButton                3088875     
44372
00007446            6              Build_TreeView                 3246717     
44408
00007462            6              Build_ListBox                  3253133     
44420
00007473            6              Build_ComboBox                 3270621     
44420
00007484            6             Build_PushButton                3280958     
44420
00007495            6                Build_SLEs                   3293078     
44420
00007500            6             Build_ScrollBars                3304006     
44420
00007580            6                Build_Rtf                    3379014     
44444
00007581            6             Build_HTMLViewer                3379014     
44444
00007703            6              Build_Statics                  3484807     
44484
00007719   .............................. WOW
.................................
00008267   release_QMainWindow                 2905951 B 46512 KB           
- 44484 = 2028
00008268      2905787           Destroy: XBPDIALOG            6
00008269   ------------------------------ WOW
---------------------------------
00008271            6                 THE END                     2905790     
44748
00008272     .
00008273     .
00008274     .
00008275     .
00008276            7           At Startup of Thread              2714894     
44668 - 44260 = 408
00008286            7           oDlg := GuiStdDialog              2761958     
44688
00008340            7              Build_MenuBar                  2799718     
44756
00008351            7             Build_StatusBar                 2804866     
44760
00008362            7              Build_ToolBar                  2814538     
44760
00008387            7              Build_TabPages                 2857698     
44772
00008462            7               Build_Browse                  3024555     
44772
00008471            7                Build_MLE                    3029807     
44780
00008476            7              Build_CheckBox                 3040331     
44780
00008481            7               Build_3State                  3051095     
44780
00008490            7            Build_RadioButton                3071979     
44780
00008497            7             Build_SpinButton                3088875     
44780
00008902            7              Build_TreeView                 3246717     
44816
00008918            7              Build_ListBox                  3253133     
44832
00008929            7              Build_ComboBox                 3270621     
44832
00008940            7             Build_PushButton                3280958     
44832
00008951            7                Build_SLEs                   3293078     
44832
00008956            7             Build_ScrollBars                3304006     
44832
00009036            7                Build_Rtf                    3379014     
44852
00009037            7             Build_HTMLViewer                3379014     
44852
00009159            7              Build_Statics                  3484807     
44888
00009173   .............................. WOW
.................................
00009721   release_QMainWindow                 2905951 B 46944 KB           
- 44888 = 2056
00009722      2905787           Destroy: XBPDIALOG            7
00009723   ------------------------------ WOW
---------------------------------
00009725            7                 THE END                     2905790     
45184
00009726     .
00009727     .
00009728     .
00009729     .
00009730            8           At Startup of Thread              2714894     
45080 - 44668 = 412
00009740            8           oDlg := GuiStdDialog              2761958     
45116
00009794            8              Build_MenuBar                  2799718     
45172
00009805            8             Build_StatusBar                 2804866     
45188
00009816            8              Build_ToolBar                  2814538     
45188
00009841            8              Build_TabPages                 2857698     
45200
00009916            8               Build_Browse                  3024555     
45200
00009925            8                Build_MLE                    3029807     
45204
00009930            8              Build_CheckBox                 3040331     
45204
00009935            8               Build_3State                  3051095     
45204
00009944            8            Build_RadioButton                3071979     
45204
00009951            8             Build_SpinButton                3088875     
45204
00010356            8              Build_TreeView                 3246717     
45216
00010372            8              Build_ListBox                  3253133     
45216
00010383            8              Build_ComboBox                 3270621     
45216
00010394            8             Build_PushButton                3280958     
45216
00010405            8                Build_SLEs                   3293078     
45216
00010410            8             Build_ScrollBars                3304006     
45216
00010490            8                Build_Rtf                    3379014     
45236
00010491            8             Build_HTMLViewer                3379014     
45236
00010613            8              Build_Statics                  3484807     
45276
00010631   .............................. WOW
.................................
00011179   release_QMainWindow                 2905951 B 47372 KB           
- 45276 = 2096
00011180      2905787           Destroy: XBPDIALOG            8
00011181   ------------------------------ WOW
---------------------------------
00011183            8                 THE END                     2905790     
45604
00011184     .
00011185     .
00011186     .
00011187     .
00011188            9           At Startup of Thread              2714894     
45540 - 45080 = 460
00011198            9           oDlg := GuiStdDialog              2761958     
45560
00011252            9              Build_MenuBar                  2799718     
45580
00011263            9             Build_StatusBar                 2804866     
45580
00011274            9              Build_ToolBar                  2814538     
45580
00011299            9              Build_TabPages                 2857830     
45592
00011374            9               Build_Browse                  3024555     
45592
00011383            9                Build_MLE                    3029807     
45596
00011388            9              Build_CheckBox                 3040331     
45596
00011393            9               Build_3State                  3051095     
45596
00011402            9            Build_RadioButton                3071979     
45596
00011409            9             Build_SpinButton                3088875     
45596
00011814            9              Build_TreeView                 3246717     
45620
00011830            9              Build_ListBox                  3253133     
45644
00011841            9              Build_ComboBox                 3270621     
45644
00011852            9             Build_PushButton                3280958     
45644
00011863            9                Build_SLEs                   3293078     
45644
00011868            9             Build_ScrollBars                3304006     
45644
00011948            9                Build_Rtf                    3379014     
45660
00011949            9             Build_HTMLViewer                3379014     
45660
00012071            9              Build_Statics                  3484807     
45700
00012083   .............................. WOW
.................................
00012631   release_QMainWindow                 2905951 B 47768 KB           
- 45700 = 2068
00012632      2905787           Destroy: XBPDIALOG            9
00012633   ------------------------------ WOW
---------------------------------
00012635            9                 THE END                     2905790     
46008
00012636     .
00012637     .
00012638     .
00012639     .
00012640           10           At Startup of Thread              2714894     
45912 - 45540 = 372
00012650           10           oDlg := GuiStdDialog              2761960     
45932
00012704           10              Build_MenuBar                  2799720     
45948
00012715           10             Build_StatusBar                 2804868     
45952
00012726           10              Build_ToolBar                  2814540     
45952
00012751           10              Build_TabPages                 2857700     
45964
00012826           10               Build_Browse                  3024557     
45964
00012835           10                Build_MLE                    3029809     
45964
00012840           10              Build_CheckBox                 3040333     
45964
00012845           10               Build_3State                  3051097     
45964
00012854           10            Build_RadioButton                3071981     
45964
00012861           10             Build_SpinButton                3088877     
45964
00013266           10              Build_TreeView                 3246719     
45988
00013282           10              Build_ListBox                  3253135     
46000
00013293           10              Build_ComboBox                 3270623     
46000
00013304           10             Build_PushButton                3280960     
46000
00013315           10                Build_SLEs                   3293080     
46000
00013320           10             Build_ScrollBars                3304008     
46000
00013400           10                Build_Rtf                    3379016     
46032
00013401           10             Build_HTMLViewer                3379016     
46032
00013523           10              Build_Statics                  3484809     
46104
00013537   .............................. WOW
.................................
00014646   release_QMainWindow                 2095190 B 46112 KB           
- 46104 = 8
00014647      2095026           Destroy: XBPDIALOG            1
00014648   ------------------------------ WOW
---------------------------------

==============================================================================

00014649   .
00014650            1                 THE END                     2095029     
44352
00014651   release_QDesktopWidget              1355252 B 44388 KB
00014652   release_QApplication                1352714 B 44388 KB



Can someone analyze how the above data be looked into and 
can summarize what next we must peep into Harbour-Qt implementation.

Viktor, you are right in observing that QWebkit is quiet heavy 
and is also buggy as one object QWebView alone eats up more then 
a MB even after releasing it. The above data indicates it where I have 
left out XbpHTMLViewer() object.

My Observations:

1) Harbour's internal item count remains uniform across all invocations.
2) When GC collection code is called in destutions system memory keeps on
increasing
    and is reclaimed when XbpDialog() goes out of scope but still a portion
of it 
    is never reclaimed.

Any insight will be welcome.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HBQT---HBXBP---More-Logs-to-locate-mem-leaks-tp26150928p26150928.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From dbtopas at dbtopas.lt  Sun Nov  1 13:02:09 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sun Nov  1 13:04:17 2009
Subject: [Harbour] about Netio
In-Reply-To: <20091101172220.1772.qmail@ml110b.qnet.com.pe>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>
	<20091101172220.1772.qmail@ml110b.qnet.com.pe>
Message-ID: <4AEDCD21.3010402@dbtopas.lt>

Hi,


gvarona wrote:
> (DOS Error 123)
> Any TIP?

REQUEST HB_NETIO


Regards,
Mindaugas
From vszakats at users.sourceforge.net  Sun Nov  1 13:11:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov  1 13:11:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12810] trunk/harbour
Message-ID: <E1N4etZ-0004ZI-Md@dn4whf1.ch3.sourceforge.com>

Revision: 12810
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12810&view=rev
Author:   vszakats
Date:     2009-11-01 18:11:13 +0000 (Sun, 01 Nov 2009)

Log Message:
-----------
2009-11-01 19:01 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/hbsocket.c
    ! hb<Type> -> HB_<TYPE>.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/hbsocket.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gvarona at ec-red.com  Sun Nov  1 13:14:10 2009
From: gvarona at ec-red.com (gvarona)
Date: Sun Nov  1 13:13:35 2009
Subject: [Harbour] about Netio
In-Reply-To: <EEEA8CE5-F5F9-461B-A68F-CD8F4235B6FA@syenar.hu>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>
	<20091101172220.1772.qmail@ml110b.qnet.com.pe>
	<AC990872-7CA7-45BE-9B96-94BEDF9E99EB@syenar.hu>
	<20091101175253.23234.qmail@ml110b.qnet.com.pe>
	<EEEA8CE5-F5F9-461B-A68F-CD8F4235B6FA@syenar.hu>
Message-ID: <20091101181410.5134.qmail@ml110b.qnet.com.pe>

Viktor Szak?ts escribi?: 

> 
>> Viktor Szak?ts escribi?:
>>> Replaceable RDD IO interface is only available for RDD
>>> operations.
>> 
>> Thanks Viktor.
>> 	
>> Is there any way to list these operations?
> 
> DB*, RDD*, ORD* functions, etc. Every RDD functions.

Thanks very much 

BestRegards
GVS
---------------------------------------------------------------
EC Red Internet gr@tis
Inscr?bete en www.ec-red.com
From gvarona at ec-red.com  Sun Nov  1 13:16:35 2009
From: gvarona at ec-red.com (gvarona)
Date: Sun Nov  1 13:16:00 2009
Subject: [Harbour] about Netio
In-Reply-To: <4AEDCD21.3010402@dbtopas.lt>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>
	<20091101172220.1772.qmail@ml110b.qnet.com.pe>
	<4AEDCD21.3010402@dbtopas.lt>
Message-ID: <20091101181635.6606.qmail@ml110b.qnet.com.pe>

Mindaugas Kavaliauskas escribi?: 

> Hi, 
> 
> 
> gvarona wrote:
>> (DOS Error 123)
>> Any TIP?
> 
> REQUEST HB_NETIO

I get this error: 

. . .
Compiling 'CTBMAYO1.PRG'...
Lines 33572, Functions/Procedures 22
Generating C source output to 'CTBMAYO1.c'... Done.
Menu.o:Menu.c:(.data+0x12e8): undefined reference to `HB_FUN_HB_NETIO'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc.exe Menu.o Ctbclpro.o Ctbmgban.o Ctbmgdoc.o Ctbplanc.o Ctbrecom.o 
Ctbreven.o
 Menusys.o Stkcenco.o Talones.o Util.o Stkopstk.o MM.o FPSySGVS.o FPConStk.o 
CUN
PRINT.o CtbDocId.o CtbMedPa.o CtbEntFi.o CtbTiMon.o CtbTiOpe.o CTBDIAR1.o 
CtbBan
c1.o CTBMAYO1.o GVSffind.o hbmk_s03myf.o    -mconsole -Wl,--start-group 
 -lhbneti
o -lAbraxasMinGW -lhbct -lhbwin -lhbextern -lhbdebug -lhbvmmt -lhbrtl 
 -lhblang -
lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbuddall 
 -lhb
usrrdd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbmacro 
 -lh
bcplr -lhbpp -lhbcommon -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 
 -lwinspo
ol -lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm 
 -lmap
i32 -limm32 -lmsimg32 -lwininet -lhbpcre -lhbzlib  -Wl,--end-group 
 -oMenu.exe -L
d:/hrbMinGW/lib 

D:\SyS_GVS\Cont\JA> 

Any idea? 

TIA 

BestRegars
GVS
---------------------------------------------------------------
EC Red Internet gr@tis
Inscr?bete en www.ec-red.com
From vszakats at users.sourceforge.net  Sun Nov  1 13:21:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov  1 13:21:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12811] trunk/harbour
Message-ID: <E1N4f32-0004oG-Aw@dn4whf1.ch3.sourceforge.com>

Revision: 12811
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12811&view=rev
Author:   vszakats
Date:     2009-11-01 18:21:03 +0000 (Sun, 01 Nov 2009)

Log Message:
-----------
2009-11-01 19:20 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbcurl/hbcurl.c
    ! hb<Type> -> HB_<TYPE>.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbcurl/hbcurl.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Nov  1 13:22:52 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Nov  1 13:23:02 2009
Subject: [Harbour] about Netio
In-Reply-To: <20091101181635.6606.qmail@ml110b.qnet.com.pe>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>
	<20091101172220.1772.qmail@ml110b.qnet.com.pe>
	<4AEDCD21.3010402@dbtopas.lt>
	<20091101181635.6606.qmail@ml110b.qnet.com.pe>
Message-ID: <33001556-486B-4DE1-8FCA-0A84BB5A6EA0@syenar.hu>

Add hbmemio lib to your lib list. Anyhow it won't make
'net:' FS work on .mem files.

Brgds,
Viktor

On 2009 Nov 1, at 19:16, gvarona wrote:

> Mindaugas Kavaliauskas escribi?:
>> Hi, gvarona wrote:
>>> (DOS Error 123)
>>> Any TIP?
>> REQUEST HB_NETIO
>
> I get this error:
> . . .
> Compiling 'CTBMAYO1.PRG'...
> Lines 33572, Functions/Procedures 22
> Generating C source output to 'CTBMAYO1.c'... Done.
> Menu.o:Menu.c:(.data+0x12e8): undefined reference to `HB_FUN_HB_NETIO'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> gcc.exe Menu.o Ctbclpro.o Ctbmgban.o Ctbmgdoc.o Ctbplanc.o  
> Ctbrecom.o Ctbreven.o
> Menusys.o Stkcenco.o Talones.o Util.o Stkopstk.o MM.o FPSySGVS.o  
> FPConStk.o CUN
> PRINT.o CtbDocId.o CtbMedPa.o CtbEntFi.o CtbTiMon.o CtbTiOpe.o  
> CTBDIAR1.o CtbBan
> c1.o CTBMAYO1.o GVSffind.o hbmk_s03myf.o    -mconsole -Wl,--start- 
> group -lhbneti
> o -lAbraxasMinGW -lhbct -lhbwin -lhbextern -lhbdebug -lhbvmmt - 
> lhbrtl -lhblang -
> lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd - 
> lhbuddall -lhb
> usrrdd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix - 
> lhbmacro -lh
> bcplr -lhbpp -lhbcommon -lkernel32 -luser32 -lgdi32 -ladvapi32 - 
> lws2_32 -lwinspo
> ol -lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr - 
> lwinmm -lmap
> i32 -limm32 -lmsimg32 -lwininet -lhbpcre -lhbzlib  -Wl,--end-group - 
> oMenu.exe -L
> d:/hrbMinGW/lib
> D:\SyS_GVS\Cont\JA>
> Any idea?
> TIA
> BestRegars
> GVS
> ---------------------------------------------------------------
> EC Red Internet gr@tis
> Inscr?bete en www.ec-red.com
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From dbtopas at dbtopas.lt  Sun Nov  1 13:21:44 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sun Nov  1 13:23:51 2009
Subject: [Harbour] about Netio
In-Reply-To: <20091101181635.6606.qmail@ml110b.qnet.com.pe>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>	<20091101172220.1772.qmail@ml110b.qnet.com.pe>	<4AEDCD21.3010402@dbtopas.lt>
	<20091101181635.6606.qmail@ml110b.qnet.com.pe>
Message-ID: <4AEDD1B8.7080002@dbtopas.lt>

gvarona wrote:
> Menu.o:Menu.c:(.data+0x12e8): undefined reference to `HB_FUN_HB_NETIO'
> Any idea?

hbnetio.lib

Regards,
Mindaugas
From bruno.luciani at gmail.com  Sun Nov  1 17:33:32 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Nov  1 17:33:39 2009
Subject: [Harbour] Error executing Demoqt
Message-ID: <133778360911011433o57616685r875b92a47e18eee7@mail.gmail.com>

It was executing using debug , I don' t know how to send this information
here it is the error in console

Bruno

bruno@notebook:~/harbour_svn/harbour/contrib/hbqt/tests$ ./demoqt

Error BASE/1004  Message not found: QWEBVIEW:EXEC
Called from __ERRRT_SBASE(0)
Called from QWEBVIEW:ERROR(0)
Called from (b)HBOBJECT(0)
Called from QWEBVIEW:MSGNOTFOUND(0)
Called from QWEBVIEW:EXEC(0)
Called from DIALOGS(666)
Called from (b)BUILD_MENUBAR(289)
Called from QT_QEVENTLOOP_PROCESSEVENTS(0)
Called from QEVENTLOOP:PROCESSEVENTS(0)
Called from EXECONEMORE(247)
Called from (b)BUILD_MENUBAR(291)
Called from QT_QAPPLICATION_EXEC(0)
Called from QAPPLICATION:EXEC(0)
Called from MAIN(179)
Unrecoverable error 6005: Exception SIGSEGV at address (nil)
Called from EXECONEMORE(247) in demoqt.prg
Called from (b)BUILD_MENUBAR(291) in demoqt.prg
Called from QT_QAPPLICATION_EXEC(0)
Called from QAPPLICATION:EXEC(0) in ../../../TQApplication.prg
Called from MAIN(179) in demoqt.prg
bruno@notebook:~/harbour_svn/harbour/contrib/hbqt/tests$
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091101/c8c42563/attachment.html
From vszakats at users.sourceforge.net  Sun Nov  1 20:17:22 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov  1 20:17:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12812] trunk/harbour
Message-ID: <E1N4lXu-00044v-UW@74yxhf1.ch3.sourceforge.com>

Revision: 12812
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12812&view=rev
Author:   vszakats
Date:     2009-11-02 01:17:21 +0000 (Mon, 02 Nov 2009)

Log Message:
-----------
2009-11-02 02:14 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
    + Added autodetection of x86_64 architecture on win platform 
      even when using 32-bit build of GNU Make.
      (This makes usage of 64-bit build of GNU Make less important.)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gvarona at ec-red.com  Sun Nov  1 21:29:06 2009
From: gvarona at ec-red.com (gvarona)
Date: Sun Nov  1 21:28:32 2009
Subject: [Harbour] about Netio
In-Reply-To: <33001556-486B-4DE1-8FCA-0A84BB5A6EA0@syenar.hu>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>
	<20091101172220.1772.qmail@ml110b.qnet.com.pe>
	<4AEDCD21.3010402@dbtopas.lt>
	<20091101181635.6606.qmail@ml110b.qnet.com.pe>
	<33001556-486B-4DE1-8FCA-0A84BB5A6EA0@syenar.hu>
Message-ID: <20091102022906.15455.qmail@ml110b.qnet.com.pe>

Hi Viktor and Mindaugas 

I am using this file .hbp: 

Menu.prg
Ctbclpro.prg
. . .
CTBMAYO1.PRG
GVSffind.c 

 -lhbnetio
 -lAbraxasMinGW
 -lhbct
 -lhbwin
 -lhbmemio 

 -mt
 -es2 

But, i get this error:
. . .
Compiling 'CTBMAYO1.PRG'...
Lines 33572, Functions/Procedures 22
Generating C source output to 'CTBMAYO1.c'... Done.
Menu.o:Menu.c:(.data+0x12e8): undefined reference to `HB_FUN_NETIO'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc.exe Menu.o Ctbclpro.o Ctbmgban.o Ctbmgdoc.o Ctbplanc.o Ctbrecom.o 
Ctbreven.o
 Menusys.o Stkcenco.o Talones.o Util.o Stkopstk.o MM.o FPSySGVS.o FPConStk.o 
CUN
PRINT.o CtbDocId.o CtbMedPa.o CtbEntFi.o CtbTiMon.o CtbTiOpe.o CTBDIAR1.o 
CtbBan
c1.o CTBMAYO1.o GVSffind.o hbmk_fcjhgz.o    -mconsole -Wl,--start-group 
 -lhbneti
o -lAbraxasMinGW -lhbct -lhbwin -lhbmemio -lhbextern -lhbdebug -lhbvmmt 
 -lhbrtl
 -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd 
 -lhbu
ddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix 
 -lh
bmacro -lhbcplr -lhbpp -lhbcommon -lkernel32 -luser32 -lgdi32 -ladvapi32 
 -lws2_3
2 -lwinspool -lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr 
 -lw
inmm -lmapi32 -limm32 -lmsimg32 -lwininet -lhbpcre -lhbzlib  -Wl,--end-group 
 -oM
enu.exe -Ld:/hrbMinGW/lib 

D:\SyS_GVS\Cont\JA> 

What can be missing?
TIA
BestRegards
GVS 

 


Mindaugas Kavaliauskas escribi?:
> gvarona wrote:
>> Menu.o:Menu.c:(.data+0x12e8): undefined reference to `HB_FUN_HB_NETIO'
>> Any idea?
>
> hbnetio.lib 
>
> Regards,
> Mindaugas
---------------------------------------------------------------
EC Red Internet gr@tis
Inscr?bete en www.ec-red.com
From vouchcac at users.sourceforge.net  Sun Nov  1 23:25:56 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Nov  1 23:26:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12813] trunk/harbour
Message-ID: <E1N4oUO-0002nK-Uj@dn4whf1.ch3.sourceforge.com>

Revision: 12813
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12813&view=rev
Author:   vouchcac
Date:     2009-11-02 04:25:52 +0000 (Mon, 02 Nov 2009)

Log Message:
-----------
2009-11-01 20:11 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/hbqtgen.prg

  * contrib/hbqt/hbqt_destruct.cpp
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_slots.h
  * contrib/hbqt/moc_slots.cpp

  * contrib/hbqt/qtcore/QAbstractItemModel.cpp
  * contrib/hbqt/qtcore/QAbstractListModel.cpp
  * contrib/hbqt/qtcore/QAbstractTableModel.cpp
  * contrib/hbqt/qtcore/QBitArray.cpp
  * contrib/hbqt/qtcore/QByteArray.cpp
  * contrib/hbqt/qtcore/QCoreApplication.cpp
  * contrib/hbqt/qtcore/QDataStream.cpp
  * contrib/hbqt/qtcore/QDate.cpp
  * contrib/hbqt/qtcore/QDateTime.cpp
  * contrib/hbqt/qtcore/QDir.cpp
  * contrib/hbqt/qtcore/QEvent.cpp
  * contrib/hbqt/qtcore/QEventLoop.cpp
  * contrib/hbqt/qtcore/QFile.cpp
  * contrib/hbqt/qtcore/QFileInfo.cpp
  * contrib/hbqt/qtcore/QIODevice.cpp
  * contrib/hbqt/qtcore/QLatin1Char.cpp
  * contrib/hbqt/qtcore/QLatin1String.cpp
  * contrib/hbqt/qtcore/QLine.cpp
  * contrib/hbqt/qtcore/QLineF.cpp
  * contrib/hbqt/qtcore/QList.cpp
  * contrib/hbqt/qtcore/QLocale.cpp
  * contrib/hbqt/qtcore/QMimeData.cpp
  * contrib/hbqt/qtcore/QModelIndex.cpp
  * contrib/hbqt/qtcore/QObject.cpp
  * contrib/hbqt/qtcore/QPoint.cpp
  * contrib/hbqt/qtcore/QPointF.cpp
  * contrib/hbqt/qtcore/QProcess.cpp
  * contrib/hbqt/qtcore/QRect.cpp
  * contrib/hbqt/qtcore/QRectF.cpp
  * contrib/hbqt/qtcore/QRegExp.cpp
  * contrib/hbqt/qtcore/QResource.cpp
  * contrib/hbqt/qtcore/QSignalMapper.cpp
  * contrib/hbqt/qtcore/QSize.cpp
  * contrib/hbqt/qtcore/QSizeF.cpp
  * contrib/hbqt/qtcore/QStringList.cpp
  * contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
  * contrib/hbqt/qtcore/QTextDecoder.cpp
  * contrib/hbqt/qtcore/QTextEncoder.cpp
  * contrib/hbqt/qtcore/QTextStream.cpp
  * contrib/hbqt/qtcore/QThread.cpp
  * contrib/hbqt/qtcore/QTime.cpp
  * contrib/hbqt/qtcore/QTimer.cpp
  * contrib/hbqt/qtcore/QTranslator.cpp
  * contrib/hbqt/qtcore/QUrl.cpp
  * contrib/hbqt/qtcore/QVariant.cpp

  * contrib/hbqt/qtgui/QAbstractButton.cpp
  * contrib/hbqt/qtgui/QAbstractItemView.cpp
  * contrib/hbqt/qtgui/QAbstractPrintDialog.cpp
  * contrib/hbqt/qtgui/QAbstractProxyModel.cpp
  * contrib/hbqt/qtgui/QAbstractScrollArea.cpp
  * contrib/hbqt/qtgui/QAbstractSlider.cpp
  * contrib/hbqt/qtgui/QAbstractSpinBox.cpp
  * contrib/hbqt/qtgui/QAbstractTextDocumentLayout.cpp
  * contrib/hbqt/qtgui/QAction.cpp
  * contrib/hbqt/qtgui/QActionGroup.cpp
  * contrib/hbqt/qtgui/QApplication.cpp
  * contrib/hbqt/qtgui/QBitmap.cpp
  * contrib/hbqt/qtgui/QBoxLayout.cpp
  * contrib/hbqt/qtgui/QBrush.cpp
  * contrib/hbqt/qtgui/QButtonGroup.cpp
  * contrib/hbqt/qtgui/QCalendarWidget.cpp
  * contrib/hbqt/qtgui/QCheckBox.cpp
  * contrib/hbqt/qtgui/QClipboard.cpp
  * contrib/hbqt/qtgui/QColor.cpp
  * contrib/hbqt/qtgui/QColorDialog.cpp
  * contrib/hbqt/qtgui/QComboBox.cpp
  * contrib/hbqt/qtgui/QCommandLinkButton.cpp
  * contrib/hbqt/qtgui/QCommonStyle.cpp
  * contrib/hbqt/qtgui/QCompleter.cpp
  * contrib/hbqt/qtgui/QConicalGradient.cpp
  * contrib/hbqt/qtgui/QContextMenuEvent.cpp
  * contrib/hbqt/qtgui/QCursor.cpp
  * contrib/hbqt/qtgui/QDateEdit.cpp
  * contrib/hbqt/qtgui/QDateTimeEdit.cpp
  * contrib/hbqt/qtgui/QDesktopWidget.cpp
  * contrib/hbqt/qtgui/QDial.cpp
  * contrib/hbqt/qtgui/QDialog.cpp
  * contrib/hbqt/qtgui/QDirModel.cpp
  * contrib/hbqt/qtgui/QDockWidget.cpp
  * contrib/hbqt/qtgui/QDoubleSpinBox.cpp
  * contrib/hbqt/qtgui/QDragEnterEvent.cpp
  * contrib/hbqt/qtgui/QDragLeaveEvent.cpp
  * contrib/hbqt/qtgui/QDragMoveEvent.cpp
  * contrib/hbqt/qtgui/QDropEvent.cpp
  * contrib/hbqt/qtgui/QErrorMessage.cpp
  * contrib/hbqt/qtgui/QFileDialog.cpp
  * contrib/hbqt/qtgui/QFileIconProvider.cpp
  * contrib/hbqt/qtgui/QFileSystemModel.cpp
  * contrib/hbqt/qtgui/QFocusEvent.cpp
  * contrib/hbqt/qtgui/QFocusFrame.cpp
  * contrib/hbqt/qtgui/QFont.cpp
  * contrib/hbqt/qtgui/QFontComboBox.cpp
  * contrib/hbqt/qtgui/QFontDatabase.cpp
  * contrib/hbqt/qtgui/QFontDialog.cpp
  * contrib/hbqt/qtgui/QFontInfo.cpp
  * contrib/hbqt/qtgui/QFontMetrics.cpp
  * contrib/hbqt/qtgui/QFontMetricsF.cpp
  * contrib/hbqt/qtgui/QFormLayout.cpp
  * contrib/hbqt/qtgui/QFrame.cpp
  * contrib/hbqt/qtgui/QGradient.cpp
  * contrib/hbqt/qtgui/QGridLayout.cpp
  * contrib/hbqt/qtgui/QGroupBox.cpp
  * contrib/hbqt/qtgui/QHBoxLayout.cpp
  * contrib/hbqt/qtgui/QHeaderView.cpp
  * contrib/hbqt/qtgui/QHelpEvent.cpp
  * contrib/hbqt/qtgui/QIcon.cpp
  * contrib/hbqt/qtgui/QImage.cpp
  * contrib/hbqt/qtgui/QImageReader.cpp
  * contrib/hbqt/qtgui/QImageWriter.cpp
  * contrib/hbqt/qtgui/QInputContext.cpp
  * contrib/hbqt/qtgui/QInputDialog.cpp
  * contrib/hbqt/qtgui/QInputEvent.cpp
  * contrib/hbqt/qtgui/QInputMethodEvent.cpp
  * contrib/hbqt/qtgui/QItemSelection.cpp
  * contrib/hbqt/qtgui/QItemSelectionModel.cpp
  * contrib/hbqt/qtgui/QKeyEvent.cpp
  * contrib/hbqt/qtgui/QKeySequence.cpp
  * contrib/hbqt/qtgui/QLabel.cpp
  * contrib/hbqt/qtgui/QLayout.cpp
  * contrib/hbqt/qtgui/QLayoutItem.cpp
  * contrib/hbqt/qtgui/QLCDNumber.cpp
  * contrib/hbqt/qtgui/QLinearGradient.cpp
  * contrib/hbqt/qtgui/QLineEdit.cpp
  * contrib/hbqt/qtgui/QListView.cpp
  * contrib/hbqt/qtgui/QListWidget.cpp
  * contrib/hbqt/qtgui/QListWidgetItem.cpp
  * contrib/hbqt/qtgui/QMainWindow.cpp
  * contrib/hbqt/qtgui/QMatrix.cpp
  * contrib/hbqt/qtgui/QMenu.cpp
  * contrib/hbqt/qtgui/QMenuBar.cpp
  * contrib/hbqt/qtgui/QMessageBox.cpp
  * contrib/hbqt/qtgui/QMouseEvent.cpp
  * contrib/hbqt/qtgui/QMoveEvent.cpp
  * contrib/hbqt/qtgui/QMovie.cpp
  * contrib/hbqt/qtgui/QPageSetupDialog.cpp
  * contrib/hbqt/qtgui/QPaintDevice.cpp
  * contrib/hbqt/qtgui/QPainter.cpp
  * contrib/hbqt/qtgui/QPainterPath.cpp
  * contrib/hbqt/qtgui/QPaintEvent.cpp
  * contrib/hbqt/qtgui/QPalette.cpp
  * contrib/hbqt/qtgui/QPen.cpp
  * contrib/hbqt/qtgui/QPicture.cpp
  * contrib/hbqt/qtgui/QPixmap.cpp
  * contrib/hbqt/qtgui/QPolygon.cpp
  * contrib/hbqt/qtgui/QPolygonF.cpp
  * contrib/hbqt/qtgui/QPrintDialog.cpp
  * contrib/hbqt/qtgui/QPrintEngine.cpp
  * contrib/hbqt/qtgui/QPrinter.cpp
  * contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
  * contrib/hbqt/qtgui/QProgressBar.cpp
  * contrib/hbqt/qtgui/QProgressDialog.cpp
  * contrib/hbqt/qtgui/QPushButton.cpp
  * contrib/hbqt/qtgui/QRadialGradient.cpp
  * contrib/hbqt/qtgui/QRadioButton.cpp
  * contrib/hbqt/qtgui/QRegion.cpp
  * contrib/hbqt/qtgui/QResizeEvent.cpp
  * contrib/hbqt/qtgui/QScrollArea.cpp
  * contrib/hbqt/qtgui/QScrollBar.cpp
  * contrib/hbqt/qtgui/QSizeGrip.cpp
  * contrib/hbqt/qtgui/QSizePolicy.cpp
  * contrib/hbqt/qtgui/QSlider.cpp
  * contrib/hbqt/qtgui/QSound.cpp
  * contrib/hbqt/qtgui/QSpacerItem.cpp
  * contrib/hbqt/qtgui/QSpinBox.cpp
  * contrib/hbqt/qtgui/QSplashScreen.cpp
  * contrib/hbqt/qtgui/QSplitter.cpp
  * contrib/hbqt/qtgui/QStandardItem.cpp
  * contrib/hbqt/qtgui/QStandardItemModel.cpp
  * contrib/hbqt/qtgui/QStatusBar.cpp
  * contrib/hbqt/qtgui/QStringListModel.cpp
  * contrib/hbqt/qtgui/QStyle.cpp
  * contrib/hbqt/qtgui/QStyledItemDelegate.cpp
  * contrib/hbqt/qtgui/QStyleFactory.cpp
  * contrib/hbqt/qtgui/QStyleHintReturn.cpp
  * contrib/hbqt/qtgui/QStyleHintReturnMask.cpp
  * contrib/hbqt/qtgui/QStyleHintReturnVariant.cpp
  * contrib/hbqt/qtgui/QStyleOption.cpp
  * contrib/hbqt/qtgui/QStyleOptionButton.cpp
  * contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
  * contrib/hbqt/qtgui/QStyleOptionComplex.cpp
  * contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
  * contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
  * contrib/hbqt/qtgui/QStyleOptionFrame.cpp
  * contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
  * contrib/hbqt/qtgui/QStyleOptionHeader.cpp
  * contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
  * contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
  * contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
  * contrib/hbqt/qtgui/QStyleOptionSlider.cpp
  * contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
  * contrib/hbqt/qtgui/QStyleOptionTab.cpp
  * contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
  * contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
  * contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
  * contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
  * contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
  * contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
  * contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
  * contrib/hbqt/qtgui/QStylePainter.cpp
  * contrib/hbqt/qtgui/QSystemTrayIcon.cpp
  * contrib/hbqt/qtgui/QTabBar.cpp
  * contrib/hbqt/qtgui/QTableView.cpp
  * contrib/hbqt/qtgui/QTableWidget.cpp
  * contrib/hbqt/qtgui/QTableWidgetItem.cpp
  * contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
  * contrib/hbqt/qtgui/QTabWidget.cpp
  * contrib/hbqt/qtgui/QTextBlock.cpp
  * contrib/hbqt/qtgui/QTextBlockFormat.cpp
  * contrib/hbqt/qtgui/QTextBrowser.cpp
  * contrib/hbqt/qtgui/QTextCharFormat.cpp
  * contrib/hbqt/qtgui/QTextCursor.cpp
  * contrib/hbqt/qtgui/QTextDocument.cpp
  * contrib/hbqt/qtgui/QTextDocumentFragment.cpp
  * contrib/hbqt/qtgui/QTextDocumentWriter.cpp
  * contrib/hbqt/qtgui/QTextEdit.cpp
  * contrib/hbqt/qtgui/QTextFormat.cpp
  * contrib/hbqt/qtgui/QTextFragment.cpp
  * contrib/hbqt/qtgui/QTextFrame.cpp
  * contrib/hbqt/qtgui/QTextFrameFormat.cpp
  * contrib/hbqt/qtgui/QTextImageFormat.cpp
  * contrib/hbqt/qtgui/QTextInlineObject.cpp
  * contrib/hbqt/qtgui/QTextItem.cpp
  * contrib/hbqt/qtgui/QTextLayout.cpp
  * contrib/hbqt/qtgui/QTextLength.cpp
  * contrib/hbqt/qtgui/QTextLine.cpp
  * contrib/hbqt/qtgui/QTextListFormat.cpp
  * contrib/hbqt/qtgui/QTextOption.cpp
  * contrib/hbqt/qtgui/QTextTableFormat.cpp
  * contrib/hbqt/qtgui/QTimeEdit.cpp
  * contrib/hbqt/qtgui/QToolBar.cpp
  * contrib/hbqt/qtgui/QToolBox.cpp
  * contrib/hbqt/qtgui/QToolButton.cpp
  * contrib/hbqt/qtgui/QTransform.cpp
  * contrib/hbqt/qtgui/QTreeView.cpp
  * contrib/hbqt/qtgui/QTreeWidget.cpp
  * contrib/hbqt/qtgui/QTreeWidgetItem.cpp
  * contrib/hbqt/qtgui/QValidator.cpp
  * contrib/hbqt/qtgui/QVBoxLayout.cpp
  * contrib/hbqt/qtgui/QWheelEvent.cpp
  * contrib/hbqt/qtgui/QWidget.cpp
  * contrib/hbqt/qtgui/QWidgetAction.cpp
  * contrib/hbqt/qtgui/QWidgetItem.cpp
  * contrib/hbqt/qtgui/QWindowsStyle.cpp
  * contrib/hbqt/qtgui/QWindowsXPStyle.cpp
  * contrib/hbqt/qtgui/QWizard.cpp
  * contrib/hbqt/qtgui/QWizardPage.cpp

  * contrib/hbqt/qtnetwork/QFtp.cpp
  * contrib/hbqt/qtnetwork/QHttp.cpp
  * contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
  * contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
  * contrib/hbqt/qtnetwork/QNetworkRequest.cpp
  * contrib/hbqt/qtwebkit/QWebHistoryInterface.cpp
  * contrib/hbqt/qtwebkit/QWebHistoryItem.cpp
  * contrib/hbqt/qtwebkit/QWebHitTestResult.cpp
  * contrib/hbqt/qtwebkit/QWebPage.cpp
  * contrib/hbqt/qtwebkit/QWebPluginFactory.cpp
  * contrib/hbqt/qtwebkit/QWebSecurityOrigin.cpp
  * contrib/hbqt/qtwebkit/QWebView.cpp

  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbpwindow.prg

  * contrib/hbxbp/tests/demoxbp.prg

    + Added few more debug constructs.
    + Replaced  delete ( QObject * ) obj => ( ( QObject * ) obj )->~QObject().
      This is the documented method. But nevertheless there is no difference 
      in the two approaches. Actually "delete" operator redirects the call to 
      ~Qobject().
    ! Reworked the sequence of Class destuction logic.

      Lorenzo, please rebuild and report back if exiting demoxbp still GPFs 
      on Ubuntu.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h
    trunk/harbour/contrib/hbqt/moc_slots.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractItemModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractListModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractTableModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QBitArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QByteArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QCoreApplication.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDataStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDate.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDateTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDir.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEvent.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEventLoop.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFile.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFileInfo.cpp
    trunk/harbour/contrib/hbqt/qtcore/QIODevice.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1Char.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1String.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLine.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLineF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLocale.cpp
    trunk/harbour/contrib/hbqt/qtcore/QMimeData.cpp
    trunk/harbour/contrib/hbqt/qtcore/QModelIndex.cpp
    trunk/harbour/contrib/hbqt/qtcore/QObject.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPoint.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPointF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QProcess.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRect.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRectF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRegExp.cpp
    trunk/harbour/contrib/hbqt/qtcore/QResource.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSignalMapper.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSize.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSizeF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QStringList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextDecoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextEncoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QThread.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTimer.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTranslator.cpp
    trunk/harbour/contrib/hbqt/qtcore/QUrl.cpp
    trunk/harbour/contrib/hbqt/qtcore/QVariant.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractItemView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractPrintDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractProxyModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractScrollArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractTextDocumentLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QActionGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QApplication.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBitmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBrush.cpp
    trunk/harbour/contrib/hbqt/qtgui/QButtonGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCalendarWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCheckBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QClipboard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColorDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommandLinkButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommonStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCompleter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QConicalGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QContextMenuEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDesktopWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDial.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDirModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDoubleSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragEnterEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragLeaveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragMoveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDropEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QErrorMessage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileIconProvider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileSystemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFocusEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFocusFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFont.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDatabase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontInfo.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetrics.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetricsF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFormLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGridLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHeaderView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHelpEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageReader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputContext.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputMethodEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelection.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelectionModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QKeyEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QKeySequence.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLCDNumber.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLabel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLayoutItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLineEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLinearGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMainWindow.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMatrix.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenu.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenuBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMessageBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMouseEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMoveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMovie.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPageSetupDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintDevice.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainterPath.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPalette.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPicture.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPixmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygonF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintEngine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrinter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPushButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadialGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadioButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRegion.cpp
    trunk/harbour/contrib/hbqt/qtgui/QResizeEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizePolicy.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSound.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpacerItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplashScreen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplitter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStatusBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStringListModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleFactory.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturn.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturnMask.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturnVariant.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComplex.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionHeader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTab.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStylePainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyledItemDelegate.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSystemTrayIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlock.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlockFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBrowser.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCharFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocument.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrameFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextImageFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextInlineObject.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLength.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextListFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextTableFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTransform.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QVBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QValidator.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWheelEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWindowsStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWindowsXPStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizardPage.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QFtp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QNetworkRequest.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebHistoryInterface.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebHistoryItem.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebHitTestResult.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebPage.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebPluginFactory.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebSecurityOrigin.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebView.cpp
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Mon Nov  2 02:02:28 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Nov  2 02:02:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12813] trunk/harbour
In-Reply-To: <E1N4oUO-0002nK-Uj@dn4whf1.ch3.sourceforge.com>
References: <E1N4oUO-0002nK-Uj@dn4whf1.ch3.sourceforge.com>
Message-ID: <9257026e0911012302n13ebb58cm21c43c95bba9754e@mail.gmail.com>

On Mon, Nov 2, 2009 at 5:25 AM,  <vouchcac@users.sourceforge.net> wrote:

> ? ? ?Lorenzo, please rebuild and report back if exiting demoxbp still GPFs
> ? ? ?on Ubuntu.

Unfortunately it still does both demoqt and demoxbp.

This is an ubuntu 9.10 i386 test machine with a clean env. Only
distro's packages are used.

I set only:

HB_USER_CFLAGS=-fpic
HB_COMMERCE=yes
HB_INSTALL_PREFIX=/opt/harbour

What I do is:
svn update
make -s install
cd contrib/hbxbp/tests
hbmk2 demoxbp
./demoxbp

I simply close using the X icon and click the Ok but the same happens
if I press Esc.

Here is the hb_log.out:

Application Internal Error - demoxbp
Terminated at: 2009.11.02 07:57:19
Unrecoverable error 6005: Exception SIGSEGV at address 0x14
Called from QWIDGET:_PPTR(0)
Called from XBPWINDOW:DESTROY(0) in ../../../xbpwindow.prg
Called from XBPTABPAGE:DESTROY(0) in ../../../xbptabpage.prg
Called from (b)XBPWINDOW_DESTROY(0) in ../../../xbpwindow.prg
Called from AEVAL(0)
Called from XBPWINDOW:DESTROY(0) in ../../../xbpwindow.prg
Called from XBPTABWIDGET:DESTROY(0) in ../../../xbptabpage.prg
Called from (b)XBPWINDOW_DESTROY(0) in ../../../xbpwindow.prg
Called from AEVAL(0)
Called from XBPDRAWINGAREA:DESTROY(0) in ../../../xbpwindow.prg
Called from (b)XBPWINDOW_DESTROY(0) in ../../../xbpwindow.prg
Called from AEVAL(0)
Called from XBPDIALOG:DESTROY(0) in ../../../xbpwindow.prg
Called from BUILDADIALOG(236) in demoxbp.prg
Called from _BUILDADIALOG(105) in demoxbp.prg
Called from MAIN(96) in demoxbp.prg
------------------------------------------------------------------------

best regards,
Lorenzo
From vszakats at users.sourceforge.net  Mon Nov  2 04:24:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov  2 04:24:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12814] trunk/harbour
Message-ID: <E1N4t8x-0002gF-9A@74yxhf1.ch3.sourceforge.com>

Revision: 12814
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12814&view=rev
Author:   vszakats
Date:     2009-11-02 09:24:06 +0000 (Mon, 02 Nov 2009)

Log Message:
-----------
2009-11-02 10:21 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/win/bcc.mk
    + Added hack to automatically configure bcc compilers 
      which makes proper setup of bcc32.cfg and ilink32.cfg 
      unnecessary. NOTE: This only works if you use compiler 
      autodetection, which means DON'T set HB_COMPILER to bcc
      manually.
    ; Please make tests, f.e. I didn't test .dll creation.

  * config/global.mk
    + Exporting autodetected compiler PATH.

  * config/rules.mk
    * Moved linker flags before output name option to make 
      some tools happy (bcc in this case).

  * INSTALL
    - Deleted just added extra NOTE for bcc users. Now it should 
      be configured automatically.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.mk
    trunk/harbour/config/rules.mk
    trunk/harbour/config/win/bcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Mon Nov  2 04:24:28 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov  2 04:26:34 2009
Subject: [Harbour] about Netio
In-Reply-To: <20091102022906.15455.qmail@ml110b.qnet.com.pe>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>	<20091101172220.1772.qmail@ml110b.qnet.com.pe>	<4AEDCD21.3010402@dbtopas.lt>	<20091101181635.6606.qmail@ml110b.qnet.com.pe>	<33001556-486B-4DE1-8FCA-0A84BB5A6EA0@syenar.hu>
	<20091102022906.15455.qmail@ml110b.qnet.com.pe>
Message-ID: <4AEEA54C.5020108@dbtopas.lt>

Hi,


Now you are writing:
> Menu.o:Menu.c:(.data+0x12e8): undefined reference to `HB_FUN_NETIO'

In a last letter it was:
> Menu.o:Menu.c:(.data+0x12e8): undefined reference to `HB_FUN_HB_NETIO'

Don't you think these are a different things? Why have you changed
    REQUEST HB_NETIO
as suggested in my last email to
    REQUEST NETIO


Regards,
Mindaugas
From vszakats at users.sourceforge.net  Mon Nov  2 04:26:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov  2 04:26:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12815] trunk/harbour
Message-ID: <E1N4tBS-0002ix-6g@74yxhf1.ch3.sourceforge.com>

Revision: 12815
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12815&view=rev
Author:   vszakats
Date:     2009-11-02 09:26:41 +0000 (Mon, 02 Nov 2009)

Log Message:
-----------
2009-11-02 10:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
  * config/win/bcc.mk
    - Deleted HB_DFLAGS var which was not needed at the end.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/config/win/bcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gvarona at ec-red.com  Mon Nov  2 05:04:46 2009
From: gvarona at ec-red.com (gvarona)
Date: Mon Nov  2 05:04:10 2009
Subject: [Harbour] about Netio
In-Reply-To: <4AEEA54C.5020108@dbtopas.lt>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>
	<20091101172220.1772.qmail@ml110b.qnet.com.pe>
	<4AEDCD21.3010402@dbtopas.lt>
	<20091101181635.6606.qmail@ml110b.qnet.com.pe>
	<33001556-486B-4DE1-8FCA-0A84BB5A6EA0@syenar.hu>
	<20091102022906.15455.qmail@ml110b.qnet.com.pe>
	<4AEEA54C.5020108@dbtopas.lt>
Message-ID: <20091102100446.5163.qmail@ml110b.qnet.com.pe>

Hello, 

Mindaugas Kavaliauskas escribi?:
> Now you are writing:
>> Menu.o:Menu.c:(.data+0x12e8): undefined reference to `HB_FUN_NETIO'
> 
> In a last letter it was:
>> Menu.o:Menu.c:(.data+0x12e8): undefined reference to `HB_FUN_HB_NETIO'
> 
> Don't you think these are a different things? Why have you changed
>    REQUEST HB_NETIO
> as suggested in my last email to
>    REQUEST NETIO

I'm just testing of 2 ways:
REQUEST HB_NETIO
REQUEST NETIO
but with no work for me 

What could be missing? 

BestRegards
GVS
---------------------------------------------------------------
EC Red Internet gr@tis
Inscr?bete en www.ec-red.com
From dbtopas at dbtopas.lt  Mon Nov  2 05:12:49 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov  2 05:14:54 2009
Subject: [Harbour] about Netio
In-Reply-To: <20091102100446.5163.qmail@ml110b.qnet.com.pe>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>	<20091101172220.1772.qmail@ml110b.qnet.com.pe>	<4AEDCD21.3010402@dbtopas.lt>	<20091101181635.6606.qmail@ml110b.qnet.com.pe>	<33001556-486B-4DE1-8FCA-0A84BB5A6EA0@syenar.hu>	<20091102022906.15455.qmail@ml110b.qnet.com.pe>	<4AEEA54C.5020108@dbtopas.lt>
	<20091102100446.5163.qmail@ml110b.qnet.com.pe>
Message-ID: <4AEEB0A1.101@dbtopas.lt>

Hi,


gvarona wrote:
> I'm just testing of 2 ways:
> REQUEST HB_NETIO
> REQUEST NETIO
> but with no work for me
> What could be missing?

If you've added NETIO, you forgot to write your own IO driver, that 
exports such name.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Mon Nov  2 05:20:40 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov  2 05:20:51 2009
Subject: [Harbour] about Netio
In-Reply-To: <20091102100446.5163.qmail@ml110b.qnet.com.pe>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>
	<20091101172220.1772.qmail@ml110b.qnet.com.pe>
	<4AEDCD21.3010402@dbtopas.lt>
	<20091101181635.6606.qmail@ml110b.qnet.com.pe>
	<33001556-486B-4DE1-8FCA-0A84BB5A6EA0@syenar.hu>
	<20091102022906.15455.qmail@ml110b.qnet.com.pe>
	<4AEEA54C.5020108@dbtopas.lt>
	<20091102100446.5163.qmail@ml110b.qnet.com.pe>
Message-ID: <091B073B-A0A7-4F1A-9C78-4F675443E3B4@syenar.hu>

Yes, because one time you forget to add the lib, next
time you add the lib but experiment with wrong REQUEST
name. And conclude that nothing works. Try to change one
thing at a time.

Brgds,
Viktor

On 2009 Nov 2, at 11:04, gvarona wrote:

> Hello,
> Mindaugas Kavaliauskas escribi?:
>> Now you are writing:
>>> Menu.o:Menu.c:(.data+0x12e8): undefined reference to `HB_FUN_NETIO'
>> In a last letter it was:
>>> Menu.o:Menu.c:(.data+0x12e8): undefined reference to  
>>> `HB_FUN_HB_NETIO'
>> Don't you think these are a different things? Why have you changed
>>   REQUEST HB_NETIO
>> as suggested in my last email to
>>   REQUEST NETIO
>
> I'm just testing of 2 ways:
> REQUEST HB_NETIO
> REQUEST NETIO
> but with no work for me
> What could be missing?
> BestRegards
> GVS
> ---------------------------------------------------------------
> EC Red Internet gr@tis
> Inscr?bete en www.ec-red.com
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vatzct at polly.com.ua  Mon Nov  2 05:38:32 2009
From: vatzct at polly.com.ua (vatzct)
Date: Mon Nov  2 05:38:23 2009
Subject: [Harbour] error while building harbour
Message-ID: <4AEEB6A8.4020302@polly.com.ua>

/*
 * $Id: ChangeLog 12815 2009-11-02 09:26:41Z vszakats $
 */

! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
! MAKE: mingw32-make 3.81 sh.exe clean install
! HB_INSTALL_PREFIX: c:\dev\harbour\
! HB_BUILD_DLL: no
! HB_BUILD_SHARED: no
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
! HB_PLATFORM: win (x86) (autodetected)
! HB_COMPILER: bcc (autodetected: c:/dev/borland/bcc55/bin/)
! Component: 'zlib' found in C:/dev/harbour_svn/external/zlib (local)
! Component: 'pcre' found in C:/dev/harbour_svn/external/pcre (local)
! Component: 'openssl' not supported with bcc compiler
! Component: 'gpm' not supported on win platform
! Component: 'slang' not found
! Component: 'curses' not found
! Component: 'x11' not found

...

bcc32.exe  -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6 -O2 
-OS -Ov -Oi -Oc -I"c:/dev/borland/bcc55/bin/../Include"  -DHB_HAS_PCRE 
-IC:/dev/harbour_svn/external/pcre -DPCRE_STATIC -DHB_HAS_ZLIB 
-IC:/dev/harbour_svn/external/zlib  -ohbinet.obj -c ../../../hbinet.c
../../../hbinet.c:
bcc32.exe  -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6 -O2 
-OS -Ov -Oi -Oc -I"c:/dev/borland/bcc55/bin/../Include"  -DHB_HAS_PCRE 
-IC:/dev/harbour_svn/external/pcre -DPCRE_STATIC -DHB_HAS_ZLIB 
-IC:/dev/harbour_svn/external/zlib  -ohbproces.obj -c ../../../hbproces.c
../../../hbproces.c:
bcc32.exe  -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6 -O2 
-OS -Ov -Oi -Oc -I"c:/dev/borland/bcc55/bin/../Include"  -DHB_HAS_PCRE 
-IC:/dev/harbour_svn/external/pcre -DPCRE_STATIC -DHB_HAS_ZLIB 
-IC:/dev/harbour_svn/external/zlib  -ohbprocfn.obj -c ../../../hbprocfn.c
../../../hbprocfn.c:
bcc32.exe  -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6 -O2 
-OS -Ov -Oi -Oc -I"c:/dev/borland/bcc55/bin/../Include"  -DHB_HAS_PCRE 
-IC:/dev/harbour_svn/external/pcre -DPCRE_STATIC -DHB_HAS_ZLIB 
-IC:/dev/harbour_svn/external/zlib  -ohbrandom.obj -c ../../../hbrandom.c
../../../hbrandom.c:
bcc32.exe  -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6 -O2 
-OS -Ov -Oi -Oc -I"c:/dev/borland/bcc55/bin/../Include"  -DHB_HAS_PCRE 
-IC:/dev/harbour_svn/external/pcre -DPCRE_STATIC -DHB_HAS_ZLIB 
-IC:/dev/harbour_svn/external/zlib  -ohbregex.obj -c ../../../hbregex.c
../../../hbregex.c:
Error E2340 ../../../hbregex.c 109: Type mismatch in parameter 6 (wanted 
'int *', got 'int') in function hb_regexec
Error E2340 ../../../hbregex.c 109: Type mismatch in parameter 7 (wanted 
'int', got 'int *') in function hb_regexec
Error E2227 ../../../hbregex.c 109: Extra parameter in call to pcre_exec 
in function hb_regexec
Error E2451 ../../../hbregex.c 553: Undefined symbol 'PCRE_CONFIG_UTF8' 
in function _hb_regex_init_
Warning W8065 ../../../hbregex.c 553: Call to function 'pcre_config' 
with no prototype in function _hb_regex_init_
Error E2451 ../../../hbregex.c 558: Undefined symbol 'pcre_stack_malloc' 
in function _hb_regex_init_
Error E2451 ../../../hbregex.c 559: Undefined symbol 'pcre_stack_free' 
in function _hb_regex_init_
*** 6 errors in Compile ***
mingw32-make[3]: *** [hbregex.obj] Error 1
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [rtl.inst] Error 2
mingw32-make: *** [src.inst] Error 2


Regards,
Alexey Myronenko
From mbelgrano at deltain.it  Mon Nov  2 05:40:36 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov  2 05:41:04 2009
Subject: [Harbour] about Netio
In-Reply-To: <091B073B-A0A7-4F1A-9C78-4F675443E3B4@syenar.hu>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com> 
	<20091101172220.1772.qmail@ml110b.qnet.com.pe>
	<4AEDCD21.3010402@dbtopas.lt> 
	<20091101181635.6606.qmail@ml110b.qnet.com.pe>
	<33001556-486B-4DE1-8FCA-0A84BB5A6EA0@syenar.hu> 
	<20091102022906.15455.qmail@ml110b.qnet.com.pe>
	<4AEEA54C.5020108@dbtopas.lt> 
	<20091102100446.5163.qmail@ml110b.qnet.com.pe>
	<091B073B-A0A7-4F1A-9C78-4F675443E3B4@syenar.hu>
Message-ID: <609353e70911020240x4a3f269dm184b831d12caa08f@mail.gmail.com>

if your file .hbp: you confirm presence of  -lhbmemio
you can have damaged/incomplete hbmemio.lib
you can recompile with follow
cd \harbour\contrib\hbmemio
mingw-make

In a prev post i have tried explain that follow is a frequent problem
so i hope that in future release we can implement a solution expained
by przemyslaw also for only mingw that is the most used compiler by
harbour. Better do a warning at 90% of user that 0%


2009/11/2 Viktor Szak?ts <harbour.01@syenar.hu>:
> Yes, because one time you forget to add the lib, next
> time you add the lib but experiment with wrong REQUEST
> name. And conclude that nothing works. Try to change one
> thing at a time.
>
> Brgds,
> Viktor
>
> On 2009 Nov 2, at 11:04, gvarona wrote:
>
>> Hello,
>> Mindaugas Kavaliauskas escribi?:
>>>
>>> Now you are writing:
>>>>
>>>> Menu.o:Menu.c:(.data+0x12e8): undefined reference to `HB_FUN_NETIO'
>>>
>>> In a last letter it was:
>>>>
>>>> Menu.o:Menu.c:(.data+0x12e8): undefined reference to `HB_FUN_HB_NETIO'
>>>
>>> Don't you think these are a different things? Why have you changed
>>> ?REQUEST HB_NETIO
>>> as suggested in my last email to
>>> ?REQUEST NETIO
>>
>> I'm just testing of 2 ways:
>> REQUEST HB_NETIO
>> REQUEST NETIO
>> but with no work for me
>> What could be missing?
>> BestRegards
>> GVS
>> ---------------------------------------------------------------
>> EC Red Internet gr@tis
>> Inscr?bete en www.ec-red.com
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From gvarona at ec-red.com  Mon Nov  2 05:42:35 2009
From: gvarona at ec-red.com (gvarona)
Date: Mon Nov  2 05:42:02 2009
Subject: [Harbour] about Netio
In-Reply-To: <091B073B-A0A7-4F1A-9C78-4F675443E3B4@syenar.hu>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>
	<20091101172220.1772.qmail@ml110b.qnet.com.pe>
	<4AEDCD21.3010402@dbtopas.lt>
	<20091101181635.6606.qmail@ml110b.qnet.com.pe>
	<33001556-486B-4DE1-8FCA-0A84BB5A6EA0@syenar.hu>
	<20091102022906.15455.qmail@ml110b.qnet.com.pe>
	<4AEEA54C.5020108@dbtopas.lt>
	<20091102100446.5163.qmail@ml110b.qnet.com.pe>
	<091B073B-A0A7-4F1A-9C78-4F675443E3B4@syenar.hu>
Message-ID: <20091102104235.18743.qmail@ml110b.qnet.com.pe>

Hi Viktor and Mindaugas,
Now I'm trying to D:\harbor\contrib\hbnetio\tests\netiotst.prg, and only I 
added a line here:
. . .
# define DBNAME "net: 127.0.0.1:2941: data / _tst_" 

DBFCDX request
HB_NETIO request 

proc main ()
    pSockSrv local
. . .
and get this error:
D:\harbour\contrib\hbnetio\tests>\hrbmingw\bin\hbmk2 netiotst
hbmk2: Processing environment options: -compiler=mingw
hbmk2: Processing local make script: hbmk.hbm
Harbour 2.0.0beta3 (Rev. 12768)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'netiotst.prg'...
Lines 110, Functions/Procedures 3
Generating C source output to 'netiotst.c'... Done.
netiotst.o:netiotst.c:(.data+0x318): undefined reference to 
`HB_FUN_HB_NETIO'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc.exe netiotst.o hbmk_jcidlj.o    -mconsole -Wl,--start-group -lhbnetio 
 -lhbex
tern -lhbdebug -lhbvmmt -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd 
 -lgtw
in -lgtwvt -lgtgui -lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx 
 -lrd
dfpt -lhbrdd -lhbhsx -lhbsix -lhbmacro -lhbcplr -lhbpp -lhbcommon -lkernel32 
 -lu
ser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshell32 
 -lu
uid -lole32 -loleaut32 -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32 -lwininet 
 -lhbpc
re -lhbzlib  -Wl,--end-group -onetiotst.exe -Ld:/hrbMinGW/lib 

D:\harbour\contrib\hbnetio\tests> 

Any TIP/help? 

TIA
BestRegards
GVS
---------------------------------------------------------------
EC Red Internet gr@tis
Inscr?bete en www.ec-red.com
From mbelgrano at deltain.it  Mon Nov  2 05:52:24 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov  2 05:52:51 2009
Subject: [Harbour] about Netio
In-Reply-To: <20091102104235.18743.qmail@ml110b.qnet.com.pe>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com> 
	<20091101172220.1772.qmail@ml110b.qnet.com.pe>
	<4AEDCD21.3010402@dbtopas.lt> 
	<20091101181635.6606.qmail@ml110b.qnet.com.pe>
	<33001556-486B-4DE1-8FCA-0A84BB5A6EA0@syenar.hu> 
	<20091102022906.15455.qmail@ml110b.qnet.com.pe>
	<4AEEA54C.5020108@dbtopas.lt> 
	<20091102100446.5163.qmail@ml110b.qnet.com.pe>
	<091B073B-A0A7-4F1A-9C78-4F675443E3B4@syenar.hu> 
	<20091102104235.18743.qmail@ml110b.qnet.com.pe>
Message-ID: <609353e70911020252n327cf117o89d0a8337d66a54c@mail.gmail.com>

You have made an incomplete operation
you have addedd request and not addedd library to libray list
where is added -lhbmemio
add to hbmk.hbm that is default hbmk2 template for your dir
or add to your command line



2009/11/2 gvarona <gvarona@ec-red.com>:
> Hi Viktor and Mindaugas,
> Now I'm trying to D:\harbor\contrib\hbnetio\tests\netiotst.prg, and only I
> added a line here:
> . . .
> # define DBNAME "net: 127.0.0.1:2941: data / _tst_"
> DBFCDX request
> HB_NETIO request
> proc main ()
> ? pSockSrv local
> . . .
> and get this error:
> D:\harbour\contrib\hbnetio\tests>\hrbmingw\bin\hbmk2 netiotst
> hbmk2: Processing environment options: -compiler=mingw
> hbmk2: Processing local make script: hbmk.hbm
> Harbour 2.0.0beta3 (Rev. 12768)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'netiotst.prg'...
> Lines 110, Functions/Procedures 3
> Generating C source output to 'netiotst.c'... Done.
> netiotst.o:netiotst.c:(.data+0x318): undefined reference to
> `HB_FUN_HB_NETIO'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> gcc.exe netiotst.o hbmk_jcidlj.o ? ?-mconsole -Wl,--start-group -lhbnetio
> -lhbex
> tern -lhbdebug -lhbvmmt -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd
> -lgtw
> in -lgtwvt -lgtgui -lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx
> -lrd
> dfpt -lhbrdd -lhbhsx -lhbsix -lhbmacro -lhbcplr -lhbpp -lhbcommon -lkernel32
> -lu
> ser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshell32
> -lu
> uid -lole32 -loleaut32 -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32 -lwininet
> -lhbpc
> re -lhbzlib ?-Wl,--end-group -onetiotst.exe -Ld:/hrbMinGW/lib
> D:\harbour\contrib\hbnetio\tests>
> Any TIP/help?
> TIA
> BestRegards
> GVS
> ---------------------------------------------------------------
> EC Red Internet gr@tis
> Inscr?bete en www.ec-red.com
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Nov  2 06:00:32 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov  2 06:00:41 2009
Subject: [Harbour] about Netio
In-Reply-To: <20091102104235.18743.qmail@ml110b.qnet.com.pe>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>
	<20091101172220.1772.qmail@ml110b.qnet.com.pe>
	<4AEDCD21.3010402@dbtopas.lt>
	<20091101181635.6606.qmail@ml110b.qnet.com.pe>
	<33001556-486B-4DE1-8FCA-0A84BB5A6EA0@syenar.hu>
	<20091102022906.15455.qmail@ml110b.qnet.com.pe>
	<4AEEA54C.5020108@dbtopas.lt>
	<20091102100446.5163.qmail@ml110b.qnet.com.pe>
	<091B073B-A0A7-4F1A-9C78-4F675443E3B4@syenar.hu>
	<20091102104235.18743.qmail@ml110b.qnet.com.pe>
Message-ID: <D787A263-4043-48C1-BA2C-7E4B6531E05C@syenar.hu>

Try to build it in its original dir.

On 2009 Nov 2, at 11:42, gvarona wrote:

> Hi Viktor and Mindaugas,
> Now I'm trying to D:\harbor\contrib\hbnetio\tests\netiotst.prg, and  
> only I added a line here:
> . . .
> # define DBNAME "net: 127.0.0.1:2941: data / _tst_"
> DBFCDX request
> HB_NETIO request
> proc main ()
>   pSockSrv local
> . . .
> and get this error:
> D:\harbour\contrib\hbnetio\tests>\hrbmingw\bin\hbmk2 netiotst
> hbmk2: Processing environment options: -compiler=mingw
> hbmk2: Processing local make script: hbmk.hbm
> Harbour 2.0.0beta3 (Rev. 12768)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'netiotst.prg'...
> Lines 110, Functions/Procedures 3
> Generating C source output to 'netiotst.c'... Done.
> netiotst.o:netiotst.c:(.data+0x318): undefined reference to  
> `HB_FUN_HB_NETIO'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> gcc.exe netiotst.o hbmk_jcidlj.o    -mconsole -Wl,--start-group - 
> lhbnetio -lhbex
> tern -lhbdebug -lhbvmmt -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca - 
> lgtstd -lgtw
> in -lgtwvt -lgtgui -lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx - 
> lrddnsx -lrd
> dfpt -lhbrdd -lhbhsx -lhbsix -lhbmacro -lhbcplr -lhbpp -lhbcommon - 
> lkernel32 -lu
> ser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 - 
> lshell32 -lu
> uid -lole32 -loleaut32 -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32 - 
> lwininet -lhbpc
> re -lhbzlib  -Wl,--end-group -onetiotst.exe -Ld:/hrbMinGW/lib
> D:\harbour\contrib\hbnetio\tests>
> Any TIP/help?
> TIA
> BestRegards
> GVS
> ---------------------------------------------------------------
> EC Red Internet gr@tis
> Inscr?bete en www.ec-red.com
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Mon Nov  2 06:07:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov  2 06:07:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12816] trunk/harbour
Message-ID: <E1N4ulF-00028k-KC@3kljzd1.ch3.sourceforge.com>

Revision: 12816
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12816&view=rev
Author:   vszakats
Date:     2009-11-02 11:07:44 +0000 (Mon, 02 Nov 2009)

Log Message:
-----------
2009-11-02 12:06 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/win/bcc.mk
    ! Fixed -I order after recent change to not interfere with 
      embedded pcre headers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/bcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From guy.roussin at teledetection.fr  Mon Nov  2 06:08:38 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Mon Nov  2 06:08:46 2009
Subject: [Harbour] xhb-diff.txt little typo
Message-ID: <4AEEBDB6.4040207@teledetection.fr>

Hi,

I get this error with the sample in lines 111->117
./tst.prg(4) Error E0020  Incomplete statement or unbalanced delimiters
./tst.prg(8) Error E0013  NEXT does not match FOR
2 errors

I replace the line 112:
FOR EACH c IN (@s)
with :
FOR EACH c IN @s

and now compile is fine.

I found this documentation very usefull.
Thank you Przemek,

-- 
Guy 

From druzus at users.sourceforge.net  Mon Nov  2 06:29:25 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Nov  2 06:29:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12817] trunk/harbour
Message-ID: <E1N4v6D-0004f5-JT@74yxhf1.ch3.sourceforge.com>

Revision: 12817
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12817&view=rev
Author:   druzus
Date:     2009-11-02 11:29:24 +0000 (Mon, 02 Nov 2009)

Log Message:
-----------
2009-11-02 12:29 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/cdpapi.c
  * harbour/include/hbapicdp.h
    + added two new functions hb_cdpU16ToStr() and hb_cdpU16LEToStr()

  * harbour/doc/xhb-diff.txt
    ! fixed typo in code example reported by Guy Roussin
    ! fixed some other typos - i.e. in detached local description

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/xhb-diff.txt
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/src/rtl/cdpapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gvarona at ec-red.com  Mon Nov  2 06:40:57 2009
From: gvarona at ec-red.com (gvarona)
Date: Mon Nov  2 06:40:21 2009
Subject: [Harbour] about Netio
In-Reply-To: <D787A263-4043-48C1-BA2C-7E4B6531E05C@syenar.hu>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>
	<20091101172220.1772.qmail@ml110b.qnet.com.pe>
	<4AEDCD21.3010402@dbtopas.lt>
	<20091101181635.6606.qmail@ml110b.qnet.com.pe>
	<33001556-486B-4DE1-8FCA-0A84BB5A6EA0@syenar.hu>
	<20091102022906.15455.qmail@ml110b.qnet.com.pe>
	<4AEEA54C.5020108@dbtopas.lt>
	<20091102100446.5163.qmail@ml110b.qnet.com.pe>
	<091B073B-A0A7-4F1A-9C78-4F675443E3B4@syenar.hu>
	<20091102104235.18743.qmail@ml110b.qnet.com.pe>
	<D787A263-4043-48C1-BA2C-7E4B6531E05C@syenar.hu>
Message-ID: <20091102114057.9609.qmail@ml110b.qnet.com.pe>

Hi Viktor and Massimo, 

First, sorry for my bad english.
I am translating with google. 

Now I am compiling with the command line (adding hbmemio): 

D:\harbour\contrib\hbnetio\tests>\hrbmingw\bin\hbmk2 netiotst -lhbmemio
hbmk2: Processing environment options: -compiler=mingw
hbmk2: Processing local make script: hbmk.hbm
Harbour 2.0.0beta3 (Rev. 12768)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'netiotst.prg'...
Lines 110, Functions/Procedures 3
Generating C source output to 'netiotst.c'... Done.
netiotst.o:netiotst.c:(.data+0x318): undefined reference to 
`HB_FUN_HB_NETIO'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc.exe netiotst.o hbmk_t2xvnu.o    -mconsole -Wl,--start-group -lhbnetio 
 -lhbm
mio -lhbextern -lhbdebug -lhbvmmt -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca 
 -l
tstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx 
 -l
ddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbmacro -lhbcplr -lhbpp -lhbcommon 
 -lk
rnel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 
 -l
hell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32 
 -lwin
net -lhbpcre -lhbzlib  -Wl,--end-group -onetiotst.exe -Ld:/hrbMinGW/lib 

D:\harbour\contrib\hbnetio\tests> 

*******************************************
Viktor, if you recompile the original PRG, compile Ok, the problem is when I 
add:
REQUEST HB_NETIO 

This I do with the hope that it works when reading / writing files MEM well 
as with the DBF, but in a previous post you said this is only for the 
operations of the RDD, then, if I'm going to work, not actually to add the 
lib HbMEMIO, Or is that this serves to that?
I am a little confused.
Someone could explain the handling of this, if it is in Spanish, better :-) 

TIA
BestRegards
GVS
---------------------------------------------------------------
EC Red Internet gr@tis
Inscr?bete en www.ec-red.com
From harbour.01 at syenar.hu  Mon Nov  2 06:54:33 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov  2 06:54:43 2009
Subject: [Harbour] about Netio
In-Reply-To: <20091102114057.9609.qmail@ml110b.qnet.com.pe>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>
	<20091101172220.1772.qmail@ml110b.qnet.com.pe>
	<4AEDCD21.3010402@dbtopas.lt>
	<20091101181635.6606.qmail@ml110b.qnet.com.pe>
	<33001556-486B-4DE1-8FCA-0A84BB5A6EA0@syenar.hu>
	<20091102022906.15455.qmail@ml110b.qnet.com.pe>
	<4AEEA54C.5020108@dbtopas.lt>
	<20091102100446.5163.qmail@ml110b.qnet.com.pe>
	<091B073B-A0A7-4F1A-9C78-4F675443E3B4@syenar.hu>
	<20091102104235.18743.qmail@ml110b.qnet.com.pe>
	<D787A263-4043-48C1-BA2C-7E4B6531E05C@syenar.hu>
	<20091102114057.9609.qmail@ml110b.qnet.com.pe>
Message-ID: <C3D840AD-8963-457E-994B-C8B23949472D@syenar.hu>

> Now I am compiling with the command line (adding hbmemio):
> D:\harbour\contrib\hbnetio\tests>\hrbmingw\bin\hbmk2 netiotst - 
> lhbmemio

hbmemio and hbnetio are two different things. -lhbmemio not needed.

> hbmk2: Processing environment options: -compiler=mingw
> hbmk2: Processing local make script: hbmk.hbm
> Harbour 2.0.0beta3 (Rev. 12768)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'netiotst.prg'...
> Lines 110, Functions/Procedures 3
> Generating C source output to 'netiotst.c'... Done.
> netiotst.o:netiotst.c:(.data+0x318): undefined reference to  
> `HB_FUN_HB_NETIO'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> gcc.exe netiotst.o hbmk_t2xvnu.o    -mconsole -Wl,--start-group - 
> lhbnetio -lhbm
> mio -lhbextern -lhbdebug -lhbvmmt -lhbrtl -lhblang -lhbcpage -lgtcgi  
> -lgtpca -l
> tstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbuddall -lhbusrrdd -lrddntx - 
> lrddcdx -l
> ddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbmacro -lhbcplr -lhbpp - 
> lhbcommon -lk
> rnel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 - 
> lcomdlg32 -l
> hell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm -lmapi32 -limm32 - 
> lmsimg32 -lwin
> net -lhbpcre -lhbzlib  -Wl,--end-group -onetiotst.exe -Ld:/hrbMinGW/ 
> lib

You've manually added REQUEST HB_NETIO to the sample. Delete it.
Trust the codebase, it should work without any patching up.

> D:\harbour\contrib\hbnetio\tests>
> *******************************************
> Viktor, if you recompile the original PRG, compile Ok, the problem  
> is when I add:
> REQUEST HB_NETIO

There is no such thing as 'REQUEST HB_NETIO'. NETIO lib will
be pulled if you use connect function in your app.

> This I do with the hope that it works when reading / writing files  
> MEM well as with the DBF, but in a previous post you said this is  
> only for the operations of the RDD, then, if I'm going to work, not  
> actually to add the lib HbMEMIO, Or is that this serves to that?
> I am a little confused.

In my first mail I clearly said it doesn't work, neither MEMIO, nor  
NETIO.
This is still true.

For samples for both IO driver, consult the supplied test program. They
work as-is, without modifications.

Brgds,
Viktor

From sscc at mweb.co.za  Mon Nov  2 07:09:15 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Nov  2 07:09:18 2009
Subject: [Harbour] about Netio
In-Reply-To: <C3D840AD-8963-457E-994B-C8B23949472D@syenar.hu>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>	<20091101172220.1772.qmail@ml110b.qnet.com.pe>	<4AEDCD21.3010402@dbtopas.lt>	<20091101181635.6606.qmail@ml110b.qnet.com.pe>	<33001556-486B-4DE1-8FCA-0A84BB5A6EA0@syenar.hu>	<20091102022906.15455.qmail@ml110b.qnet.com.pe>	<4AEEA54C.5020108@dbtopas.lt>	<20091102100446.5163.qmail@ml110b.qnet.com.pe>	<091B073B-A0A7-4F1A-9C78-4F675443E3B4@syenar.hu>	<20091102104235.18743.qmail@ml110b.qnet.com.pe>	<D787A263-4043-48C1-BA2C-7E4B6531E05C@syenar.hu>	<20091102114057.9609.qmail@ml110b.qnet.com.pe>
	<C3D840AD-8963-457E-994B-C8B23949472D@syenar.hu>
Message-ID: <4AEECBEB.5000708@mweb.co.za>

Viktor Szak?ts wrote:

>> Now I am compiling with the command line (adding hbmemio):
>> D:\harbour\contrib\hbnetio\tests>\hrbmingw\bin\hbmk2 netiotst -lhbmemio
> 
> hbmemio and hbnetio are two different things. -lhbmemio not needed.

hbmemio has *nothing* to do with .mem files. It is for use with an RDD and the 
dbf files etc will be stored in memory. hbnetio is used to work with an RDD 
across a network.

HTH
Alex

From gvarona at ec-red.com  Mon Nov  2 07:11:23 2009
From: gvarona at ec-red.com (gvarona)
Date: Mon Nov  2 07:10:47 2009
Subject: [Harbour] about Netio
In-Reply-To: <C3D840AD-8963-457E-994B-C8B23949472D@syenar.hu>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>
	<20091101172220.1772.qmail@ml110b.qnet.com.pe>
	<4AEDCD21.3010402@dbtopas.lt>
	<20091101181635.6606.qmail@ml110b.qnet.com.pe>
	<33001556-486B-4DE1-8FCA-0A84BB5A6EA0@syenar.hu>
	<20091102022906.15455.qmail@ml110b.qnet.com.pe>
	<4AEEA54C.5020108@dbtopas.lt>
	<20091102100446.5163.qmail@ml110b.qnet.com.pe>
	<091B073B-A0A7-4F1A-9C78-4F675443E3B4@syenar.hu>
	<20091102104235.18743.qmail@ml110b.qnet.com.pe>
	<D787A263-4043-48C1-BA2C-7E4B6531E05C@syenar.hu>
	<20091102114057.9609.qmail@ml110b.qnet.com.pe>
	<C3D840AD-8963-457E-994B-C8B23949472D@syenar.hu>
Message-ID: <20091102121123.27778.qmail@ml110b.qnet.com.pe>

Ok. Viktor, thank you very much for the clarification, then clear to me that 
the files MEM I work as a local or shared folder. 

BestRegards
GVS 

Viktor Szak?ts escribi?: 

> 
>> Now I am compiling with the command line (adding hbmemio):
>> D:\harbour\contrib\hbnetio\tests>\hrbmingw\bin\hbmk2 netiotst - lhbmemio
> 
> hbmemio and hbnetio are two different things. -lhbmemio not needed. 
> 
>> hbmk2: Processing environment options: -compiler=mingw
>> hbmk2: Processing local make script: hbmk.hbm
>> Harbour 2.0.0beta3 (Rev. 12768)
>> Copyright (c) 1999-2009, http://www.harbour-project.org/
>> Compiling 'netiotst.prg'...
>> Lines 110, Functions/Procedures 3
>> Generating C source output to 'netiotst.c'... Done.
>> netiotst.o:netiotst.c:(.data+0x318): undefined reference to  
>> `HB_FUN_HB_NETIO'
>> collect2: ld returned 1 exit status
>> hbmk2: Error: Running linker. 1
>> gcc.exe netiotst.o hbmk_t2xvnu.o    -mconsole -Wl,--start-group - 
>> lhbnetio -lhbm
>> mio -lhbextern -lhbdebug -lhbvmmt -lhbrtl -lhblang -lhbcpage -lgtcgi  
>> -lgtpca -l
>> tstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbuddall -lhbusrrdd -lrddntx - 
>> lrddcdx -l
>> ddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbmacro -lhbcplr -lhbpp - 
>> lhbcommon -lk
>> rnel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 - 
>> lcomdlg32 -l
>> hell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm -lmapi32 -limm32 - 
>> lmsimg32 -lwin
>> net -lhbpcre -lhbzlib  -Wl,--end-group -onetiotst.exe -Ld:/hrbMinGW/ lib
> 
> You've manually added REQUEST HB_NETIO to the sample. Delete it.
> Trust the codebase, it should work without any patching up. 
> 
>> D:\harbour\contrib\hbnetio\tests>
>> *******************************************
>> Viktor, if you recompile the original PRG, compile Ok, the problem  is 
>> when I add:
>> REQUEST HB_NETIO
> 
> There is no such thing as 'REQUEST HB_NETIO'. NETIO lib will
> be pulled if you use connect function in your app. 
> 
>> This I do with the hope that it works when reading / writing files  MEM 
>> well as with the DBF, but in a previous post you said this is  only for 
>> the operations of the RDD, then, if I'm going to work, not  actually to 
>> add the lib HbMEMIO, Or is that this serves to that?
>> I am a little confused.
> 
> In my first mail I clearly said it doesn't work, neither MEMIO, nor  
> NETIO.
> This is still true. 
> 
> For samples for both IO driver, consult the supplied test program. They
> work as-is, without modifications. 
> 
> Brgds,
> Viktor 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
---------------------------------------------------------------
EC Red Internet gr@tis
Inscr?bete en www.ec-red.com
From gvarona at ec-red.com  Mon Nov  2 07:51:16 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Mon Nov  2 07:48:03 2009
Subject: [?? Probable Spam]  Re: [Harbour] about Netio
In-Reply-To: <4AEECBEB.5000708@mweb.co.za>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>	<20091101172220.1772.qmail@ml110b.qnet.com.pe>	<4AEDCD21.3010402@dbtopas.lt>	<20091101181635.6606.qmail@ml110b.qnet.com.pe>	<33001556-486B-4DE1-8FCA-0A84BB5A6EA0@syenar.hu>	<20091102022906.15455.qmail@ml110b.qnet.com.pe>	<4AEEA54C.5020108@dbtopas.lt>	<20091102100446.5163.qmail@ml110b.qnet.com.pe>	<091B073B-A0A7-4F1A-9C78-4F675443E3B4@syenar.hu>	<20091102104235.18743.qmail@ml110b.qnet.com.pe>	<D787A263-4043-48C1-BA2C-7E4B6531E05C@syenar.hu>	<20091102114057.9609.qmail@ml110b.qnet.com.pe><C3D840AD-8963-457E-994B-C8B23949472D@syenar.hu>
	<4AEECBEB.5000708@mweb.co.za>
Message-ID: <4AEED5C4.9040400@ec-red.com>

Alex Strickland escribi?:
> Viktor Szak?ts wrote:
>
>>> Now I am compiling with the command line (adding hbmemio):
>>> D:\harbour\contrib\hbnetio\tests>\hrbmingw\bin\hbmk2 netiotst -lhbmemio
>>
>> hbmemio and hbnetio are two different things. -lhbmemio not needed.
> hbmemio has *nothing* to do with .mem files. It is for use with an RDD 
> and the dbf files etc will be stored in memory. hbnetio is used to 
> work with an RDD across a network.
Ok. Alex, Thank very much.

BestRegards
GVS
From myorg63 at mail.ru  Mon Nov  2 11:37:54 2009
From: myorg63 at mail.ru (Petr Chornyj)
Date: Mon Nov  2 11:38:01 2009
Subject: [Harbour] about Netio
In-Reply-To: <20091102022906.15455.qmail@ml110b.qnet.com.pe>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>
	<20091101172220.1772.qmail@ml110b.qnet.com.pe>
	<4AEDCD21.3010402@dbtopas.lt>
	<20091101181635.6606.qmail@ml110b.qnet.com.pe>
	<33001556-486B-4DE1-8FCA-0A84BB5A6EA0@syenar.hu>
	<20091102022906.15455.qmail@ml110b.qnet.com.pe>
Message-ID: <26157731.post@talk.nabble.com>



Guillermo Varona wrote:
> 
> Menu.o:Menu.c:(.data+0x12e8): undefined reference to `HB_FUN_NETIO'
> 

Can you see a difference between HB_FUN_NETIO and HB_FUN_HB_NETIO?

Regards,
Petr


-- 
View this message in context: http://old.nabble.com/about-Netio-tp26152196p26157731.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From gvarona at ec-red.com  Mon Nov  2 11:54:40 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Mon Nov  2 11:51:29 2009
Subject: [Harbour] about Netio
In-Reply-To: <26157731.post@talk.nabble.com>
References: <d6500b450911010750g65886daq403130b6c35cce07@mail.gmail.com>	<20091101172220.1772.qmail@ml110b.qnet.com.pe>	<4AEDCD21.3010402@dbtopas.lt>	<20091101181635.6606.qmail@ml110b.qnet.com.pe>	<33001556-486B-4DE1-8FCA-0A84BB5A6EA0@syenar.hu>	<20091102022906.15455.qmail@ml110b.qnet.com.pe>
	<26157731.post@talk.nabble.com>
Message-ID: <4AEF0ED0.6010309@ec-red.com>

Petr Chornyj escribi?:
> Guillermo Varona wrote:
>   
>> Menu.o:Menu.c:(.data+0x12e8): undefined reference to `HB_FUN_NETIO'
>>     
>
> Can you see a difference between HB_FUN_NETIO and HB_FUN_HB_NETIO?
>   
Sure!
I did this for testing.
I already have somewhat clarified the issue.
Thank you.

BestRegards
GVS
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091102/db7affd8/attachment.html
From april_white at sympatico.ca  Mon Nov  2 20:03:03 2009
From: april_white at sympatico.ca (April White)
Date: Mon Nov  2 20:03:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12805] trunk/harbour
In-Reply-To: <E1N4Xu0-0001tq-Rh@dn4whf1.ch3.sourceforge.com>
References: <E1N4Xu0-0001tq-Rh@dn4whf1.ch3.sourceforge.com>
Message-ID: <BLU0-SMTP2513B3FAD09F1FF6C682E9EFB20@phx.gbl>

vszakats@users.sourceforge.net wrote:
> Revision: 12805
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12805&view=rev
> Author:   vszakats
> Date:     2009-11-01 10:43:15 +0000 (Sun, 01 Nov 2009)
>   
Hello Viktor,

Can the change here (new HB_ types) help me with the 64-bit compiler 
problems with the hbbtree contrib?

I've not been ignoring it, but I did not know how to change/fix and test 
the code as I have a 32-bit windows pc.  

If I can get the same compiler errors/warnings then I can fix this.  

April

-- 
The early bird may get the worm, but the second mouse gets the cheese in the trap.

From april_white at sympatico.ca  Mon Nov  2 20:12:56 2009
From: april_white at sympatico.ca (April White)
Date: Mon Nov  2 20:13:09 2009
Subject: [Harbour] to Giancarlo Niccolai regarding inet.txt
In-Reply-To: <609353e70911021100hf2f62d9s478d7fea16e05647@mail.gmail.com>
References: <BLU0-SMTP467CA0A9B1008C303E31BCEFBB0@phx.gbl>
	<609353e70910251131v5b96282dj6880f21d35f5eb79@mail.gmail.com>
	<BLU0-SMTP3000E6F74D36D86FEB7526EFBA0@phx.gbl>
	<609353e70911021100hf2f62d9s478d7fea16e05647@mail.gmail.com>
Message-ID: <BLU0-SMTP14AAB17802776BB8B49CB0EFB20@phx.gbl>

Massimo Belgrano wrote:
> hbdoc2 -by-category
> 1387 item found
> How can undestrand wich file has been generated?
>   
Like hbdoc, hbdoc2 creates a sub-folder named for the format (text is 
the default in the above) to hold all of the output files.  There should 
be one file per category plus a Harbour file (I'm running it right now 
to double check this).


> I have follow routine that is able to convert one or more file asci in txt
> txt2pdf
>   
I'll see if I can introduce this as a format and I'll try it out.

April

-- 
The early bird may get the worm, but the second mouse gets the cheese in the trap.

From april_white at sympatico.ca  Mon Nov  2 20:37:31 2009
From: april_white at sympatico.ca (April White)
Date: Mon Nov  2 20:37:42 2009
Subject: [Harbour] to Giancarlo Niccolai regarding inet.txt
In-Reply-To: <BLU0-SMTP467CA0A9B1008C303E31BCEFBB0@phx.gbl>
References: <BLU0-SMTP467CA0A9B1008C303E31BCEFBB0@phx.gbl>
Message-ID: <BLU0-SMTP7E6C40E736D3D8C61B3E9EFB20@phx.gbl>

April White wrote:
> Hello  Giancarlo,
>
> I'm working on the hbdoc2 program and I saw that the INET 
> documentation is in the harbour/doc folder not harbour/doc/en-en 
> folder.  Additionally I've found that there are other functions in 
> hbinet.c not listed in the text file.
> ...

If there has been no reply from Giancarlo in a week may I proceed anyway?

April

-- 
The early bird may get the worm, but the second mouse gets the cheese in the trap.

From harbour.01 at syenar.hu  Tue Nov  3 02:42:44 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov  3 02:42:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12805] trunk/harbour
In-Reply-To: <BLU0-SMTP2513B3FAD09F1FF6C682E9EFB20@phx.gbl>
References: <E1N4Xu0-0001tq-Rh@dn4whf1.ch3.sourceforge.com>
	<BLU0-SMTP2513B3FAD09F1FF6C682E9EFB20@phx.gbl>
Message-ID: <D12A92FD-F055-43A3-9564-2D252A446192@syenar.hu>

Hi April,

>> Date:     2009-11-01 10:43:15 +0000 (Sun, 01 Nov 2009)
>>
> Hello Viktor,
>
> Can the change here (new HB_ types) help me with the 64-bit compiler  
> problems with the hbbtree contrib?
>
> I've not been ignoring it, but I did not know how to change/fix and  
> test the code as I have a 32-bit windows pc.
> If I can get the same compiler errors/warnings then I can fix this.
> April

New HB_ types are just new names, we had all functionality
even before. For now I'd suggest to use the "old" types.
The problems I remember were storage of pointers as long numbers.
This doesn't work in 64-bit Windows. So you should pbly use
HB_PTRUINT for these, or even better to store them as plain
pointer types if possible.

I've sent the warnings to this list a few times, you should
find them in the archives. ATM I don't have a VM with MSVC.
(testing Windows 7 x64).

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Nov  3 02:44:59 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Nov  3 02:45:09 2009
Subject: [Harbour] to Giancarlo Niccolai regarding inet.txt
In-Reply-To: <BLU0-SMTP7E6C40E736D3D8C61B3E9EFB20@phx.gbl>
References: <BLU0-SMTP467CA0A9B1008C303E31BCEFBB0@phx.gbl>
	<BLU0-SMTP7E6C40E736D3D8C61B3E9EFB20@phx.gbl>
Message-ID: <E58E10EA-8B22-4F46-A4FD-0A527A9295F4@syenar.hu>

Hi April,

On 2009 Nov 3, at 02:37, April White wrote:

> April White wrote:
>> Hello  Giancarlo,
>>
>> I'm working on the hbdoc2 program and I saw that the INET  
>> documentation is in the harbour/doc folder not harbour/doc/en-en  
>> folder.  Additionally I've found that there are other functions in  
>> hbinet.c not listed in the text file.
>> ...
>
> If there has been no reply from Giancarlo in a week may I proceed  
> anyway?

AFAIK Giancarlo isn't participating in Harbour/xhb development anymore,
nor is he a member of our list, so you may proceed.

Brgds,
Viktor

From sscc at mweb.co.za  Tue Nov  3 03:52:57 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Nov  3 03:53:01 2009
Subject: [Harbour] Typo in hbstr.c
Message-ID: <4AEFEF69.8090801@mweb.co.za>

Hi

In hbstr.c there is a typo in the trace line:

char * hb_strncat( char * pDest, const char * pSource, ULONG ulLen )
{
    char *pBuf = pDest;

    HB_TRACE(HB_TR_DEBUG, ("hb_strncpy(%p, %s, %lu)", pDest, pSource, ulLen));


Regards
Alex
From marcosgambeta at uol.com.br  Tue Nov  3 06:33:19 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Tue Nov  3 06:33:27 2009
Subject: [Harbour] Error with revision 12817 and MSVC (Visual C++ Express
	2008)
Message-ID: <4AF014FF.5050604@uol.com.br>

cl.exe  -nologo -I. -I../../../../../include -Gs -TP -W4 -wd4127 -Ot2b1 
-EHs-c-
-MT   -DHB_HAS_PCRE 
-ID:/hrbsvnmsvc/harbour-project/harbour/external/pcre -DPCRE
_STATIC -DHB_HAS_ZLIB 
-ID:/hrbsvnmsvc/harbour-project/harbour/external/zlib -DUN
ICODE  -Focdpapi.obj -c ../../../cdpapi.c
cdpapi.c
../../../cdpapi.c(1059) : error C2440: '=' : cannot convert from 'void 
*' to 'ch
ar *'
         Conversion from 'void*' to pointer to non-'void' requires an 
explicit ca
st
../../../cdpapi.c(1105) : error C2440: '=' : cannot convert from 'void 
*' to 'ch
ar *'
         Conversion from 'void*' to pointer to non-'void' requires an 
explicit ca
st
win-make[3]: *** [cdpapi.obj] Error 2
win-make[2]: *** [descend] Error 2
win-make[1]: *** [rtl.inst] Error 2
win-make: *** [src.inst] Error 2


Regards,
Marcos Gambeta

From druzus at users.sourceforge.net  Tue Nov  3 07:37:02 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Nov  3 07:37:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12818] trunk/harbour
Message-ID: <E1N5IdC-0000aN-I9@dn4whf1.ch3.sourceforge.com>

Revision: 12818
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12818&view=rev
Author:   druzus
Date:     2009-11-03 12:37:01 +0000 (Tue, 03 Nov 2009)

Log Message:
-----------
2009-11-03 13:36 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/common/hbstr.c
    ! fixed typo in HB_TRACE message - problem reported by Alex

  * harbour/src/rtl/cdpapi.c
    ! fixed casting for C++ builds - problem reported by Marcos

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/common/hbstr.c
    trunk/harbour/src/rtl/cdpapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Tue Nov  3 10:13:01 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Tue Nov  3 10:13:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12818] trunk/harbour
In-Reply-To: <E1N5IdC-0000aN-I9@dn4whf1.ch3.sourceforge.com>
References: <E1N5IdC-0000aN-I9@dn4whf1.ch3.sourceforge.com>
Message-ID: <alpine.DEB.2.00.0911031611070.2203@dawn.royalcomp.hu>

On Tue, 3 Nov 2009, druzus@users.sourceforge.net wrote:

 > Revision: 12818
 >           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12818&view=rev
 > Author:   druzus
 > Date:     2009-11-03 12:37:01 +0000 (Tue, 03 Nov 2009)
 > 
 > Log Message:
 > -----------
 > 2009-11-03 13:36 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
 >   * harbour/src/common/hbstr.c
 >     ! fixed typo in HB_TRACE message - problem reported by Alex
 > 
 >   * harbour/src/rtl/cdpapi.c
 >     ! fixed casting for C++ builds - problem reported by Marcos

suncc is (still?) broken:

sunCC  -I. -I../../../../../include   -erroff=%none -g -DHB_TR_LEVEL_DEBUG   -o expropt1.o -c ../../../expropt1.c
"/usr/include/stdio.h", line 480: Error: "(" expected instead of "__attribute__".
"/usr/include/stdio.h", line 480: Error: "(" expected instead of "__attribute__".
"/usr/include/stdio.h", line 480: Error: ")" expected instead of "__attribute__".
"/usr/include/stdio.h", line 480: Error: ")" expected instead of "__attribute__".
"/usr/include/stdio.h", line 483: Error: "(" expected instead of "__attribute__".
"/usr/include/stdio.h", line 483: Error: "(" expected instead of "__attribute__".
"/usr/include/stdio.h", line 483: Error: ")" expected instead of "__attribute__".
"/usr/include/stdio.h", line 483: Error: ")" expected instead of "__attribute__".
"/usr/include/stdio.h", line 488: Error: "(" expected instead of "__attribute__".
"/usr/include/stdio.h", line 488: Error: "(" expected instead of "__attribute__".
"/usr/include/stdio.h", line 488: Error: ")" expected instead of "__attribute__".
"/usr/include/stdio.h", line 488: Error: ")" expected instead of "__attribute__".
12 Error(s) detected.
make[3]: *** [expropt1.o] Error 12
make[2]: *** [descend] Error 2
make[1]: *** [common] Error 2
make: *** [src] Error 2

sunc is ok, though.

-- 
[-]

mkdir /nonexistent
From druzus at acn.waw.pl  Tue Nov  3 10:29:15 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov  3 10:29:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12818] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0911031611070.2203@dawn.royalcomp.hu>
References: <E1N5IdC-0000aN-I9@dn4whf1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0911031611070.2203@dawn.royalcomp.hu>
Message-ID: <20091103152914.GA24526@34-mo7-2.home.aster.pl>

On Tue, 03 Nov 2009, Tamas TEVESZ wrote:

Hi,

> suncc is (still?) broken:
> "/usr/include/stdio.h", line 480: Error: "(" expected instead of "__attribute__".

yes, but it is sunCC problem not Harbour one.

best regards,
Przemek
From ice at extreme.hu  Tue Nov  3 10:36:43 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Tue Nov  3 10:36:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12818] trunk/harbour
In-Reply-To: <20091103152914.GA24526@34-mo7-2.home.aster.pl>
References: <E1N5IdC-0000aN-I9@dn4whf1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0911031611070.2203@dawn.royalcomp.hu>
	<20091103152914.GA24526@34-mo7-2.home.aster.pl>
Message-ID: <alpine.DEB.2.00.0911031636210.2203@dawn.royalcomp.hu>

On Tue, 3 Nov 2009, Przemys?aw Czerpak wrote:

hi,

 > > suncc is (still?) broken:
 > > "/usr/include/stdio.h", line 480: Error: "(" expected instead of "__attribute__".
 > 
 > yes, but it is sunCC problem not Harbour one.

ah, ok.


-- 
[-]

mkdir /nonexistent
From fmancera at viaopen.com  Tue Nov  3 11:17:47 2009
From: fmancera at viaopen.com (fmancera@viaopen.com)
Date: Tue Nov  3 11:17:56 2009
Subject: [Harbour] only a test
Message-ID: <f595c9cdf98279680217ca86c861c861@viaopen.com>

only a test
From maufacc at adinet.com.uy  Tue Nov  3 18:16:39 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Tue Nov  3 18:16:48 2009
Subject: [Harbour] image library
Message-ID: <4AF0B9D7.5000605@adinet.com.uy>

I have a console application (a pure clipper code ) that I've migrated 
to harbour.  I wish to add something like a pop-up window that shows me 
an image of the items that I am browsing with a tbrowse.
I am really lost with all the graphic libraries addons,   and it seems 
no one apply for this task (minigui for example)
Which library you recommend me for that task

Thank you in advance

Maurizio

From mbelgrano at deltain.it  Tue Nov  3 19:44:36 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Nov  3 19:45:04 2009
Subject: [Harbour] image library
In-Reply-To: <4AF0B9D7.5000605@adinet.com.uy>
References: <4AF0B9D7.5000605@adinet.com.uy>
Message-ID: <609353e70911031644n5a46ca32ib5242897a1a911dd@mail.gmail.com>

I remember a imagelist compoment in hbqt

2009/11/4 Maurizio Faccio adinet <maufacc@adinet.com.uy>:
> I have a console application (a pure clipper code ) that I've migrated to
> harbour. ?I wish to add something like a pop-up window that shows me an
> image of the items that I am browsing with a tbrowse.
> I am really lost with all the graphic libraries addons, ? and it seems no
> one apply for this task (minigui for example)
> Which library you recommend me for that task
>
> Thank you in advance
>
> Maurizio
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From cvc at oohg.org  Tue Nov  3 23:20:16 2009
From: cvc at oohg.org (Ciro Vargas C)
Date: Tue Nov  3 23:20:24 2009
Subject: [Harbour] image library
In-Reply-To: <4AF0B9D7.5000605@adinet.com.uy>
References: <4AF0B9D7.5000605@adinet.com.uy>
Message-ID: <d6500b450911032020m478e0fc2r7bc5e954199720da@mail.gmail.com>

look for a external pogram in my page called wdialog

http://sistemascvc.tripod.com

in download section,

regards
Ciro

2009/11/3 Maurizio Faccio adinet <maufacc@adinet.com.uy>:
> I have a console application (a pure clipper code ) that I've migrated to
> harbour. ?I wish to add something like a pop-up window that shows me an
> image of the items that I am browsing with a tbrowse.
> I am really lost with all the graphic libraries addons, ? and it seems no
> one apply for this task (minigui for example)
> Which library you recommend me for that task
>
> Thank you in advance
>
> Maurizio
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
http://www.oohg.prg
http://sistemascvc.tripod.com

donaciones para CVC de ooHG

https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
From dmacias at mail.udg.mx  Wed Nov  4 00:55:35 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Nov  4 00:56:07 2009
Subject: [Harbour] OS/2: hbmk2
Message-ID: <4AF11757.30309@mail.udg.mx>

Problem found with
  * $Id: ChangeLog 12654 2009-10-06 09:16:56Z druzus $

and confirmed now with
  * $Id: ChangeLog 12818 2009-11-03 12:37:01Z druzus $

Using hbmk2.exe with gccomf does not apply properly object file extension

Testing with:
-----------------
FUNCTION MAIN
QOUT( "Hello World" )
RETURN NIL
-----------------

   hbmk2.exe test
report:
gcc.exe: test.obj: No such file or directory
gcc.exe: hbmk_rbs3h0.obj: No such file or directory

Dir list show:
3/11/09 11:43p           674    124 a---  test.o
3/11/09 11:43p           507    124 a---  hbmk_rbs3h0.o

where both files must have .obj extension in gccomf

Below are output of
hbmk2.exe test -trace

Based on output, gcc.exe -c ... phase are missing object file extension 
application so default .o are used in place of .obj

David Macias


hbmk2: Processing environment options: -platform=os2 -compiler=gccomf 

hbmk2: Harbour compiler command (embedded): 

(harbour.exe) -n2 test.prg -i..\..\..\include
Harbour 2.0.0beta3 (Rev. 12818)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'test.prg'...

Lines 4, Functions/Procedures 1
Generating C source output to 'test.c'... Done.
hbmk2: C compiler command: 

gcc.exe -c -O3 -DTCPV40HDRS -DHB_FM_STATISTICS_OFF -Wall -W -Zomf 
-I..\..\..\include test.c E:\var\temp\hbmk_z1ihq1.c
hbmk2: Linker command: 

gcc.exe test.obj hbmk_z1ihq1.obj  -Le:\usr\lib\tcpipv4  -Zomf -lhbextern 
-lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd 
-lgtos2 -lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx 
-lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbrtl -lhbvm -lhbmacro -lhbcplr 
-lhbpp -lhbcommon -lsocket  -o test.exe -L..\..\..\lib\os2\gccomf
gcc.exe: test.obj: No such file or directory
gcc.exe: hbmk_z1ihq1.obj: No such file or directory
hbmk2: Error: Running linker. 1 

gcc.exe test.obj hbmk_z1ihq1.obj  -Le:\usr\lib\tcpipv4  -Zomf -lhbextern 
-lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd 
-lgtos2 -lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx 
-lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbrtl -lhbvm -lhbmacro -lhbcplr 
-lhbpp -lhbcommon -lsocket  -o test.exe -L..\..\..\lib\os2\gccomf

From harbour.01 at syenar.hu  Wed Nov  4 02:51:35 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Nov  4 02:51:44 2009
Subject: [Harbour] OS/2: hbmk2
In-Reply-To: <4AF11757.30309@mail.udg.mx>
References: <4AF11757.30309@mail.udg.mx>
Message-ID: <F204F051-E6BE-4434-B9CB-DB76B1DFB60D@syenar.hu>

Hi David,

Thanks for your test.

To me it rather seems like a GCC bug in -Zomf mode:
It creates objects with .o extension, while it "should"
use .obj. Or, it's possible that GCC decided to use .o
extension even for OMF objects, and it's only us trying
to force .obj.

So, we can either fall back to .o for gccomf mode also,
or we can start to hack GCC to force .obj extension, but
this has some drawbacks: f.e. in hbmk2 gcc will have to
be invoked for each .c source file separately, which is
much slower than calling it for all .c source files at once.
Plus it also widens the gap between gcc and gccomf mode.

I'd vote for first option, but for this we should know
for sure what is the official extension for objects in
GCC OMF mode.

Brgds,
Viktor

On 2009 Nov 4, at 06:55, David Arturo Macias Corona wrote:

> Problem found with
> * $Id: ChangeLog 12654 2009-10-06 09:16:56Z druzus $
>
> and confirmed now with
> * $Id: ChangeLog 12818 2009-11-03 12:37:01Z druzus $
>
> Using hbmk2.exe with gccomf does not apply properly object file  
> extension
>
> Testing with:
> -----------------
> FUNCTION MAIN
> QOUT( "Hello World" )
> RETURN NIL
> -----------------
>
>  hbmk2.exe test
> report:
> gcc.exe: test.obj: No such file or directory
> gcc.exe: hbmk_rbs3h0.obj: No such file or directory
>
> Dir list show:
> 3/11/09 11:43p           674    124 a---  test.o
> 3/11/09 11:43p           507    124 a---  hbmk_rbs3h0.o
>
> where both files must have .obj extension in gccomf
>
> Below are output of
> hbmk2.exe test -trace
>
> Based on output, gcc.exe -c ... phase are missing object file  
> extension application so default .o are used in place of .obj
>
> David Macias
>
>
> hbmk2: Processing environment options: -platform=os2 -compiler=gccomf
> hbmk2: Harbour compiler command (embedded):
> (harbour.exe) -n2 test.prg -i..\..\..\include
> Harbour 2.0.0beta3 (Rev. 12818)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'test.prg'...
>
> Lines 4, Functions/Procedures 1
> Generating C source output to 'test.c'... Done.
> hbmk2: C compiler command:
> gcc.exe -c -O3 -DTCPV40HDRS -DHB_FM_STATISTICS_OFF -Wall -W -Zomf - 
> I..\..\..\include test.c E:\var\temp\hbmk_z1ihq1.c
> hbmk2: Linker command:
> gcc.exe test.obj hbmk_z1ihq1.obj  -Le:\usr\lib\tcpipv4  -Zomf - 
> lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi - 
> lgtpca -lgtstd -lgtos2 -lhbrdd -lhbuddall -lhbusrrdd -lrddntx - 
> lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbrtl -lhbvm - 
> lhbmacro -lhbcplr -lhbpp -lhbcommon -lsocket  -o test.exe -L..\..\.. 
> \lib\os2\gccomf
> gcc.exe: test.obj: No such file or directory
> gcc.exe: hbmk_z1ihq1.obj: No such file or directory
> hbmk2: Error: Running linker. 1
> gcc.exe test.obj hbmk_z1ihq1.obj  -Le:\usr\lib\tcpipv4  -Zomf - 
> lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi - 
> lgtpca -lgtstd -lgtos2 -lhbrdd -lhbuddall -lhbusrrdd -lrddntx - 
> lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbrtl -lhbvm - 
> lhbmacro -lhbcplr -lhbpp -lhbcommon -lsocket  -o test.exe -L..\..\.. 
> \lib\os2\gccomf
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Wed Nov  4 03:16:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Nov  4 03:16:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12819] trunk/harbour
Message-ID: <E1N5b2o-0002hp-EM@dn4whf1.ch3.sourceforge.com>

Revision: 12819
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12819&view=rev
Author:   vszakats
Date:     2009-11-04 08:16:41 +0000 (Wed, 04 Nov 2009)

Log Message:
-----------
2009-11-04 09:14 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added EXAMPLEs for Windows SDK 7. There is included compiler 
      there for almost all combinations, only Itanium didn't work 
      for me out of the box.
      This is the simplest and most slim way to use MSVC compiler, 
      and also free.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Wed Nov  4 06:28:46 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Nov  4 06:28:53 2009
Subject: [Harbour] Multithreading support in Harbour
Message-ID: <C3CD2B7C79134BFCB431D1E24B502DB9@emag>

Dear friends, I'd like to know where to find informations about the current 
state of the Harbour support for multithreading and if it's stable enough to 
be used in the applications.

Many thanks in advance.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From druzus at acn.waw.pl  Wed Nov  4 07:08:33 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov  4 07:08:41 2009
Subject: [Harbour] Multithreading support in Harbour
In-Reply-To: <C3CD2B7C79134BFCB431D1E24B502DB9@emag>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag>
Message-ID: <20091104120833.GA3236@34-mo7-2.home.aster.pl>

On Wed, 04 Nov 2009, Enrico Maria Giordano wrote:
> Dear friends, I'd like to know where to find informations about the
> current state of the Harbour support for multithreading and if it's
> stable enough to be used in the applications.
> Many thanks in advance.

Look at:
   doc/xhb-diff.txt: "MULTI THREAD SUPPORT"

In Harbour MT mode is fully functional and AFAIK is production ready
without any known bugs except 4 document problems which has not been
addressed and maybe never will be because they are not strictly
necessary to create final applications:
   1. Tracelog is not MT safe. It's not a big problem for normal
      applications because this code is disabled in standard builds and
      enabled only on explicit user request during Harbour compilation
      to debug some Harbour internals so it's rather for developers only.
   2. PROFILLER cannot collect information for each thread separately.
      It's optional code disabled by default. Before we will touch it
      please think how it should work for MT programs.
   3. DEBUGGER: only main thread debugger can see the names of file wide
      STATICs and have information about line numbers with good break
      points. We should add code to share this information between threads.
   4. hb_threadQuitRequest() can be ignored by thread in some cases
      due to race condition. It may happen if thread will overwrite
      request send by caller simultaneously, f.e. by its own BREAK.
      I can resolve it but we can also leave it as is and document
      such behavior as expected or even remove this function. Killing
      other threads in such way is dangerous and can be used only
      for some simple situation. It's much safer when user uses his
      own mechanism to terminate treads in some safe for his code places.


Harbour PRG level API:

  hb_threadStart( [<nThreadAttrs> ,] <@sStart()> | <bStart> | <cStart> [, <params,...> ] ) -> <pThID>
  hb_threadSelf() -> <pThID> | NIL
  hb_threadId( [ <pThID> ] ) -> <nThNo>
  hb_threadJoin( <pThID> [, @<xRetCode> ] ) -> <lOK>
  hb_threadDetach( <pThID> ) -> <lOK>
* hb_threadQuitRequest( <pThID> ) -> <lOK>
  hb_threadTerminateAll() -> NIL
  hb_threadWaitForAll() -> NIL
  hb_threadWait( <pThID> | <apThID>, [ <nTimeOut> ] [, <lAll> ] ) => <nThInd> | <nThCount> | 0
  hb_threadOnce( @<onceControl> [, <bAction> ] ) -> <lFirstCall>
  hb_mutexCreate() -> <pMtx>
  hb_mutexLock( <pMtx> [, <nTimeOut> ] ) -> <lLocked>
  hb_mutexUnlock( <pMtx> ) -> <lOK>
  hb_mutexNotify( <pMtx> [, <xVal>] ) -> NIL
  hb_mutexNotifyAll( <pMtx> [, <xVal>] ) -> NIL
  hb_mutexSubscribe( <pMtx>, [ <nTimeOut> ] [, @<xSubscribed> ] ) -> <lSubscribed>
  hb_mutexSubscribeNow( <pMtx>, [ <nTimeOut> ] [, @<xSubscribed> ] ) -> <lSubscribed>

  * - this function call can be ignored by the destination thread in some
      cases. HVM does not guaranties that the QUIT signal will be always
      delivered.

xBase++ compatible functions and classes:
   ThreadID() -> <nID>
   ThreadObject() -> <oThread>
   ThreadWait( <aThreads>, <nTimeOut> ) -> <xResult>
   ThreadWaitAll( <aThreads>, <nTimeOut> ) -> <lAllJoind>

   Thread() -> <oThread>      // create thread object
   Signal() -> <oSignal>      // create signal object

   Harbour supports also SYNC methods and SYNC class method implementing
   original xBase++ behavior.

   It also supports xBase++ concept of moving workareas between threads
   using functions like dbRelease() and dbRequest().

In tests/mt you will find few simple test programs for MT mode.
Some of Harbour tools like hbmk2 or uhttpd[2] (examples/httpsrv,
/examples/uhttpd2) use extensively MT mode.

best regards,
Przemek
From dmacias at mail.udg.mx  Wed Nov  4 07:33:04 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Nov  4 07:33:30 2009
Subject: [Harbour] Re: OS/2: hbmk2
Message-ID: <4AF17480.9010405@mail.udg.mx>

Viktor:

>Thanks for your test.

>To me it rather seems like a GCC bug in -Zomf mode:
>It creates objects with .o extension, while it "should"
>use .obj. Or, it's possible that GCC decided to use .o
>extension even for OMF objects, and it's only us trying
>to force .obj.

>So, we can either fall back to .o for gccomf mode also,
>or we can start to hack GCC to force .obj extension, but
>this has some drawbacks: f.e. in hbmk2 gcc will have to
>be invoked for each .c source file separately, which is
>much slower than calling it for all .c source files at once.
>Plus it also widens the gap between gcc and gccomf mode.

>I'd vote for first option, but for this we should know
>for sure what is the official extension for objects in
>GCC OMF mode.

In os2gcc the "gap" between a.out and OMF types are wide and clear, and
so must be
Is just a matter to know the whole picture and apply differences properly
Is not a bug in -Zomf mode

As other gcc versions, in os2gcc "native" extensions are:
- .o for objects
- .a for libraries
in both a.out and OMF types
   ... unless we change extensions

In os2gcc OMF type are usual to use, as I presented examples of other
OS/2 projects:
- .obj for objects
- .lib for libraries

OWatcom use .obj and .lib for OS/2-OMF too

The problem I see here is a lack of sync in hbmk2.prg between phases:
- .c compiling. Is using default .o because are not using our own set
cObjExt := ".obj"
- linking. Is using our own set cObjExt := ".obj"

but as you briefly expose, is a matter of technical facts in hbmk2.prg
which are not using "-o " in "hbmk2: C compiler command:"

Solution is clear: sync use of object extension in both phases

If you set in OMF:
   cObjExt := ".o"
then it will be equal to "native" object extension .o which is not
specified in .c compiling phase

If you set in OMF:
   cObjExt := ".obj"
then you must to use cObjExt in .c compiling phase too

As I understand, cObjExt in hbmk2.prg and OBJ_EXT in "make" are to set
our own extensions, and they must be used in any phase

And yes, you can use .o as object extension in OMF too, but try to 
follow most of OS/2 projects style using .obj and .lib in OMF

David Macias


From druzus at acn.waw.pl  Wed Nov  4 07:50:21 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov  4 07:50:28 2009
Subject: [Harbour] Re: OS/2: hbmk2
In-Reply-To: <4AF17480.9010405@mail.udg.mx>
References: <4AF17480.9010405@mail.udg.mx>
Message-ID: <20091104125021.GA4391@34-mo7-2.home.aster.pl>

On Wed, 04 Nov 2009, David Arturo Macias Corona wrote:

Hi,

> And yes, you can use .o as object extension in OMF too, but try to
> follow most of OS/2 projects style using .obj and .lib in OMF

.a is not library extension. It's extension used by archive files
created by 'ar' program. It doesn't matter what files you will
store inside.
As long we are using 'ar' to create archives with set of object files
then such archives should use .a extension or we only confuse other
programs which recognize file type using extension in file name.
If we are using different program to create set of objects which
can be used as library by linker then we should also use it's native
extension and if they use .lib we should not change it anyhow it
may badly interact with some GCC extensions, i.e. -l<libname> may
stop to work so such things should be checked first.
To not confuse users for object files we should use the same extension
as OMF GCC uses by default when -c option is used.

best regards,
Przemek
From e.m.giordano at emagsoftware.it  Wed Nov  4 07:51:04 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Nov  4 07:51:11 2009
Subject: [Harbour] Multithreading support in Harbour
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag>
	<20091104120833.GA3236@34-mo7-2.home.aster.pl>
Message-ID: <EB00A7F556154F759EC205C753373BC5@emag>


-----Messaggio Originale----- 
Da: "Przemys?aw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 4 novembre 2009 13.08
Oggetto: Re: [Harbour] Multithreading support in Harbour

Many thanks!

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From M.Horodyski at pzuzycie.com.pl  Wed Nov  4 07:56:23 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Nov  4 07:56:34 2009
Subject: [Harbour] Multithreading support in Harbour
In-Reply-To: <C3CD2B7C79134BFCB431D1E24B502DB9@emag>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>

>-----Original Message-----
>From: Enrico Maria Giordano [mailto:e.m.giordano@emagsoftware.it] 
>Sent: Wednesday, November 04, 2009 12:29 PM
>To: Harbour Project Developers Mailing List
>Subject: [Harbour] Multithreading support in Harbour
>
>Dear friends, I'd like to know where to find informations 
>about the current state of the Harbour support for 
>multithreading and if it's stable enough to be used in the 
>applications.
>
>Many thanks in advance.


>From my experience, GTWIN is working in MT without problem. 
GTWVT / WVG for larger applications may hang the application (small
examples GTWVG work flawlessly).

Regards,
Marek Horodyski
From e.m.giordano at emagsoftware.it  Wed Nov  4 07:58:30 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Nov  4 07:58:38 2009
Subject: [Harbour] Multithreading support in Harbour
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
Message-ID: <3B1920413CA24B4FB73A7E58E25B5506@emag>


-----Messaggio Originale----- 
Da: "Horodyski Marek (PZUZ)" <M.Horodyski@pzuzycie.com.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 4 novembre 2009 13.56
Oggetto: RE: [Harbour] Multithreading support in Harbour


> From my experience, GTWIN is working in MT without problem.
> GTWVT / WVG for larger applications may hang the application (small
> examples GTWVG work flawlessly).

Thank you.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From sscc at mweb.co.za  Wed Nov  4 08:05:44 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Nov  4 08:05:55 2009
Subject: [Harbour] hbmk2, -inc and .clp files
Message-ID: <4AF17C28.3040005@mweb.co.za>

Hi Viktor

I thought I would compile an old clipper app to see how it would go with gtwvt.

Firstly, it is truly amazing to see literally 100's of 1000's of lines compile 
in a flash. At the end of the whole affair, I get only 27 linker errors, the 
majority of which are blinker calls - really, amazing!

Second, it seems the -inc option in hbmk2 does not work with with @.clp files? 
Is it supposed to? Or perhaps I have not configured something correctly?

Thanks
Alex


My hbp is as follows:

# iris.hbp

-oiris32
# -trace
-inc
-workdir=irisobj
-n
-w
# -es2

-gtwvt

-lhbct

-ldflag=/force:unresolved
-ldflag=/force:multiple

@iris01.clp
@iris02.clp
@iris03.clp
@iris04.clp
@iris05.clp
@iris06.clp
@iris07.clp
@iris08.clp
@iris09.clp
@iris10.clp
@iris11.clp
@iris12.clp
@iris13.clp
@iris14.clp
@iris15.clp
@iris16.clp
@iris17.clp
@iris18.clp
@iris19.clp
@iris20.clp
@iris21.clp
@iris22.clp
@iris23.clp
@iris24.clp
@iris25.clp
@iris26.clp
@iris27.clp
@iris28.clp
@iris29.clp
@iris30.clp
@iris31.clp
From mbelgrano at deltain.it  Wed Nov  4 08:43:31 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Nov  4 08:44:01 2009
Subject: [Harbour] Multithreading support in Harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
Message-ID: <609353e70911040543h38299cb8hbad6c84ce5c964d4@mail.gmail.com>

I not have found any wvt,wvg problem in mt
In my experience In large mt application error is due by my bad code
and not by harbour implementation

2009/11/4 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
>>-----Original Message-----
>>From: Enrico Maria Giordano [mailto:e.m.giordano@emagsoftware.it]
>>Sent: Wednesday, November 04, 2009 12:29 PM
>>To: Harbour Project Developers Mailing List
>>Subject: [Harbour] Multithreading support in Harbour
>>
>>Dear friends, I'd like to know where to find informations
>>about the current state of the Harbour support for
>>multithreading and if it's stable enough to be used in the
>>applications.
>>
>>Many thanks in advance.
>
>
> >From my experience, GTWIN is working in MT without problem.
> GTWVT / WVG for larger applications may hang the application (small
> examples GTWVG work flawlessly).
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Wed Nov  4 08:44:51 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov  4 08:44:58 2009
Subject: [Harbour] Multithreading support in Harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
Message-ID: <20091104134450.GA4927@34-mo7-2.home.aster.pl>

On Wed, 04 Nov 2009, Horodyski Marek (PZUZ) wrote:

Hi,

> >From my experience, GTWIN is working in MT without problem. 
> GTWVT / WVG for larger applications may hang the application (small
> examples GTWVG work flawlessly).

As I told you it's expected behavior and the problem is
created by your own code.
In MS-Windows only thread which created window can process
window messages so if you are suing GTWVT or GTWVG the main
thread should not be suspended or it will block other threads
which will execute 'inkey(0)' or sth similar. Just simply
incoming keys can be processed only by thread which created
GTWVT window.
It's documented MS-Windows behavior and programmers have to
know about it because it effects all MS-Windows programs in
all languages using any type of interface. Usually the easiest
solution is leaving thread owner to only process window messages
and create other threads to make real job.
In some situations library author can create hidden thread to
process window messages in the background and hide the problem
at least partially for PRG programmers. GTWVT is type of program
where it can be done though one feature blocks it and it will be
necessary to disable it. It's HB_GTI_NOTIFIERBLOCK which cannot
work when messages are processed by non HVM thread.
When GTWIN is used then such hidden thread to process console
window messages is created by system.

best regards,
Przemek
From qiinfo at ig.com.br  Wed Nov  4 08:47:20 2009
From: qiinfo at ig.com.br (Rossine)
Date: Wed Nov  4 08:47:28 2009
Subject: [Harbour] List of variables in memory
Message-ID: <26196575.post@talk.nabble.com>


Hello,

I can list all variables that are in memory of my application ? Any example
?

Best Regards,

Rossine.

-- 
View this message in context: http://old.nabble.com/List-of-variables-in-memory-tp26196575p26196575.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From dmacias at mail.udg.mx  Wed Nov  4 09:04:51 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Nov  4 09:05:16 2009
Subject: [Harbour] Re: OS/2: hbmk2
Message-ID: <4AF18A03.9060503@mail.udg.mx>

Przemek:

 >.a is not library extension. It's extension used by archive files
 >created by 'ar' program. It doesn't matter what files you will
 >store inside.
 >As long we are using 'ar' to create archives with set of object files
 >then such archives should use .a extension or we only confuse other
 >programs which recognize file type using extension in file name.
 >If we are using different program to create set of objects which
 >can be used as library by linker then we should also use it's native
 >extension and if they use .lib we should not change it anyhow it
 >may badly interact with some GCC extensions, i.e. -l<libname> may
 >stop to work so such things should be checked first.
 >To not confuse users for object files we should use the same extension
 >as OMF GCC uses by default when -c option is used.

Again I suggest to follow:
 > ... most of OS/2 projects style using .obj and .lib in OMF

We are not using ar.exe but emxomfar.exe in OMF
As explained, "gcc -c" use .o as native extension because it came from 
old gcc port to OS/2 when only a.out type was available


I checked variations of next code:
---------------------
harbour.exe -n2 test.prg -i..\..\..\include
Rem .c compile phase
gcc.exe -o test.obj -c -O3 -DTCPV40HDRS -DHB_FM_STATISTICS_OFF -Wall -W 
-Zomf -I..\..\..\include test.c
Rem linking phase
gcc.exe test.obj -Le:\usr\lib\tcpipv4  -Zomf -lhbextern -lhbdebug -lhbvm 
-lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtos2 -lhbrdd 
-lhbuddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd 
-lhbhsx -lhbsix -lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon 
-lsocket  -o test.exe -L..\..\..\lib\os2\gccomf
---------------------

It work using:
a) "-o test.obj" in .c compile phase
    "test.obj" in linking phase

b) without "-o" in .c compile phase
    "test.o" in linking phase

c) Surprise  :-)
  I renamed all .lib files to .a files in lib\os2\gccomf
  There are no .lib files available
  Linking work without problem

  It show that "-l<libname>" search for either .a or .lib files

d) I renamed hbrtl.a to hbrtl.lib and rest remain as .a files
  Linking work without problem

  Again "-l<libname>" search for either .a or .lib files


So I insist to follow:
 > ... most of OS/2 projects style using .obj and .lib in OMF

For sure Viktor can solve problem to use object extension in hbmk2.prg

At last we know that use of object extension in hbmk2.prg is not 
important IF object file is an intermediate file which is deleted after use

I just pointed lack of sync of file extension between phases, so in 
current state hbmk2.exe does not work for os2gcc in OMF type

hbmk2 can use default .o for object files and .lib for library files in 
OMF type without problems, but in my scripts I will continue using .obj 
and .lib as usual in OS/2-OMF

David Macias


From harbour.01 at syenar.hu  Wed Nov  4 09:20:30 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Nov  4 09:20:54 2009
Subject: [Harbour] Re: OS/2: hbmk2
In-Reply-To: <4AF17480.9010405@mail.udg.mx>
References: <4AF17480.9010405@mail.udg.mx>
Message-ID: <5D260363-B365-4F30-9ED3-CA718DA7AF33@syenar.hu>

Hi David,

>> I'd vote for first option, but for this we should know
>> for sure what is the official extension for objects in
>> GCC OMF mode.
>
> In os2gcc the "gap" between a.out and OMF types are wide and clear,  
> and
> so must be
> Is just a matter to know the whole picture and apply differences  
> properly
> Is not a bug in -Zomf mode
>
> As other gcc versions, in os2gcc "native" extensions are:
> - .o for objects
> - .a for libraries
> in both a.out and OMF types
>  ... unless we change extensions
>
> In os2gcc OMF type are usual to use, as I presented examples of other
> OS/2 projects:
> - .obj for objects
> - .lib for libraries

So in Harbour we try to force some alien extension instead
of .o which is the default extension in both OMF and a.out
modes.

> The problem I see here is a lack of sync in hbmk2.prg between phases:
> - .c compiling. Is using default .o because are not using our own set
> cObjExt := ".obj"
> - linking. Is using our own set cObjExt := ".obj"
>
> but as you briefly expose, is a matter of technical facts in hbmk2.prg
> which are not using "-o " in "hbmk2: C compiler command:"
>
> Solution is clear: sync use of object extension in both phases

I know. However I don't like this approach. Speaking
of both Harbour build and hbmk2, we use the default
extensions for all supported compilers.

For some reason this was violated by using .obj for
gccomf. Not being an OS/2 user this wasn't apparent
to me, I used what I saw.

Using non-default extensions have some drawbacks,
since you need tell each tool your extension of choice.

In case of gcc, this is -o, however in this mode,
you lose the option to build multiple .c input files
at one pass. Which in turn makes performance much
worse in certain cases. Plus it introduces an exception
in both hbmk2 and Harbour build. Latter isn't affected
too much as it doesn't use optimized calls to compiler
using multiple inputs, but in hbmk2 this would need
some extra logic to handle this exception case.

> If you set in OMF:
>  cObjExt := ".o"
> then it will be equal to "native" object extension .o which is not
> specified in .c compiling phase

This is what I'll do.

> If you set in OMF:
>  cObjExt := ".obj"
> then you must to use cObjExt in .c compiling phase too
>
> As I understand, cObjExt in hbmk2.prg and OBJ_EXT in "make" are to set
> our own extensions, and they must be used in any phase
>
> And yes, you can use .o as object extension in OMF too, but try to  
> follow most of OS/2 projects style using .obj and .lib in OMF

For a peace of mind and "standardness", I vote to follow
compiler defaults, whatever these are. No need to fight
what GCC developers have decided on. With the case of .obj,
we're trying to mimic other OS/2 compilers doesn't seem like
a good idea.

Brgds,
Viktor

From M.Horodyski at pzuzycie.com.pl  Wed Nov  4 09:41:44 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Nov  4 09:41:54 2009
Subject: [Harbour] Multithreading support in Harbour
In-Reply-To: <609353e70911040543h38299cb8hbad6c84ce5c964d4@mail.gmail.com>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag><FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
	<609353e70911040543h38299cb8hbad6c84ce5c964d4@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D33@PINK.zycie.pzu>

>-----Original Message-----
>From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
>Sent: Wednesday, November 04, 2009 2:44 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Multithreading support in Harbour
>
>I not have found any wvt,wvg problem in mt In my experience In 
>large mt application error is due by my bad code and not by 
>harbour implementation

Application that is hung, began to change (only) in GT from GTWVG / WVT
to GTWIN.

Regards,
Marek Horodyski
From druzus at acn.waw.pl  Wed Nov  4 09:45:50 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov  4 09:45:59 2009
Subject: [Harbour] Multithreading support in Harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D33@PINK.zycie.pzu>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
	<609353e70911040543h38299cb8hbad6c84ce5c964d4@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D33@PINK.zycie.pzu>
Message-ID: <20091104144550.GA6491@34-mo7-2.home.aster.pl>

On Wed, 04 Nov 2009, Horodyski Marek (PZUZ) wrote:
> Application that is hung, began to change (only) in GT from GTWVG / WVT
> to GTWIN.

What confirms that it's a problem with your code and it's not Harbour
problem.

best regards,
Przemek
From M.Horodyski at pzuzycie.com.pl  Wed Nov  4 09:52:42 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Nov  4 09:52:51 2009
Subject: [Harbour] Multithreading support in Harbour
In-Reply-To: <20091104134450.GA4927@34-mo7-2.home.aster.pl>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag><FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
	<20091104134450.GA4927@34-mo7-2.home.aster.pl>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D3C@PINK.zycie.pzu>

 

>-----Original Message-----
>From: Przemys?aw Czerpak [mailto:druzus@acn.waw.pl] 
>Sent: Wednesday, November 04, 2009 2:45 PM
>To: Harbour Project Main Developer List.
>Subject: Re: RE: [Harbour] Multithreading support in Harbour
>
>On Wed, 04 Nov 2009, Horodyski Marek (PZUZ) wrote:
>
>Hi,
>
>> >From my experience, GTWIN is working in MT without problem. 
>> GTWVT / WVG for larger applications may hang the application (small 
>> examples GTWVG work flawlessly).
>
>As I told you it's expected behavior and the problem is 
>created by your own code.
>In MS-Windows only thread which created window can process 
[...]
>which cannot work when messages are processed by non HVM thread.
>When GTWIN is used then such hidden thread to process console 
>window messages is created by system.


I have plans to move app in MT ver. to GTNET and Linux - problems will disappear :)

Regards,
Marek Horodyski
From mbelgrano at deltain.it  Wed Nov  4 10:01:12 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Nov  4 10:01:41 2009
Subject: [Harbour] Multithreading support in Harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D33@PINK.zycie.pzu>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu> 
	<609353e70911040543h38299cb8hbad6c84ce5c964d4@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D33@PINK.zycie.pzu>
Message-ID: <609353e70911040701v56fa6f03kca55b1b5c01cf88@mail.gmail.com>

try replicate your problem in large program
remove unnecessary part from your program
if give not error add removed part
upload here remain code

Wich error you have
In wich part of your program you receive error

Post follo part


2009/11/4 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
>>-----Original Message-----
>>From: Massimo Belgrano [mailto:mbelgrano@deltain.it]
>>Sent: Wednesday, November 04, 2009 2:44 PM
>>To: Harbour Project Main Developer List.
>>Subject: Re: [Harbour] Multithreading support in Harbour
>>
>>I not have found any wvt,wvg problem in mt In my experience In
>>large mt application error is due by my bad code and not by
>>harbour implementation
>
> Application that is hung, began to change (only) in GT from GTWVG / WVT
> to GTWIN.
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Nov  4 10:40:19 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov  4 10:40:30 2009
Subject: [Harbour] Multithreading support in Harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
Message-ID: <FC9F5317-ADE1-4D70-BF4D-CB9C4844F5DD@syenar.hu>

>> From my experience, GTWIN is working in MT without problem.
> GTWVT / WVG for larger applications may hang the application (small
> examples GTWVG work flawlessly).

Please don't mix GTWVT and GTWVG together, they are
completely different GTs.

I'd think GTWVT has no problem to handle MT. Just like GTWIN.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Nov  4 10:49:12 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Nov  4 10:49:22 2009
Subject: [Harbour] hbmk2, -inc and .clp files
In-Reply-To: <4AF17C28.3040005@mweb.co.za>
References: <4AF17C28.3040005@mweb.co.za>
Message-ID: <20374696-16FB-4300-A408-D9714EE1B3AE@syenar.hu>

Hi Alex,

On 2009 Nov 4, at 14:05, Alex Strickland wrote:

> Hi Viktor
>
> I thought I would compile an old clipper app to see how it would go  
> with gtwvt.
>
> Firstly, it is truly amazing to see literally 100's of 1000's of  
> lines compile in a flash. At the end of the whole affair, I get only  
> 27 linker errors, the majority of which are blinker calls - really,  
> amazing!

That's great to hear.

Well, on that bombshell, we could add a contrib
which give some level of support for Blinker functions,
I'd assume they are used in many Clipper apps.
Most of them can be converted to simple dummy
calls, some of them to Harbour function wrappers.

Just an idea.

> Second, it seems the -inc option in hbmk2 does not work with with  
> @.clp files? Is it supposed to? Or perhaps I have not configured  
> something correctly?

I've added .clp as experimental feature and it
still is one. To me .clp method is very much
alien, I never used it, I don't need it, so
my knowledge and interest is slim. So - and I
left such note in ChangeLog - support may be
incomplete. I didn't try it yet with -inc, but
you may well be right that support is missing
here.

Difficult to tell what it'd take to add support,
can't even tell if it's trivial or not. I hope .clp
users can contribute here either code or ideas
(code prefereed :).

Brgdsm
Viktor

From mbelgrano at deltain.it  Wed Nov  4 10:59:23 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Nov  4 10:59:55 2009
Subject: [Harbour] hbmk2, -inc and .clp files
In-Reply-To: <20374696-16FB-4300-A408-D9714EE1B3AE@syenar.hu>
References: <4AF17C28.3040005@mweb.co.za>
	<20374696-16FB-4300-A408-D9714EE1B3AE@syenar.hu>
Message-ID: <609353e70911040759o74318ae7gd47d6bd352d99524@mail.gmail.com>

+1

2009/11/4 Viktor Szak?ts <harbour.01@syenar.hu>:
> Well, on that bombshell, we could add a contrib
> which give some level of support for Blinker functions,
> I'd assume they are used in many Clipper apps.
> Most of them can be converted to simple dummy
> calls, some of them to Harbour function wrappers.
>
> Just an idea.
>


-- 
Massimo Belgrano
From gabor.salai at euroherc.hr  Wed Nov  4 11:04:58 2009
From: gabor.salai at euroherc.hr (sali)
Date: Wed Nov  4 11:04:05 2009
Subject: [Harbour] hbmk2, -inc and .clp files
References: <4AF17C28.3040005@mweb.co.za>
	<20374696-16FB-4300-A408-D9714EE1B3AE@syenar.hu>
Message-ID: <078a01ca5d68$8eb26b80$6700540a@euroherc.ba>

----- Original Message ----- 
From: "Viktor Szak?ts" <harbour.01@syenar.hu>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Wednesday, November 04, 2009 4:49 PM
Subject: Re: [Harbour] hbmk2, -inc and .clp files

> Difficult to tell what it'd take to add support,
> can't even tell if it's trivial or not. I hope .clp

just to say, we use .clp files as simple file-list colection, list of .prgs 
to be compiled into single .obj
never heard that .clp could be anything more than that
[later, that .objs are linked into .exe]

f1.clp:
a1.prg
b2.prg
...
x1.prg

f2.clp:
a2.pr
b2.pr
...
x2.prg

and so on

From vszakats at users.sourceforge.net  Wed Nov  4 11:06:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Nov  4 11:06:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12820] trunk/harbour
Message-ID: <E1N5iNQ-00017K-RA@3kljzd1.ch3.sourceforge.com>

Revision: 12820
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12820&view=rev
Author:   vszakats
Date:     2009-11-04 16:06:27 +0000 (Wed, 04 Nov 2009)

Log Message:
-----------
2009-11-04 17:06 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
  * config/os2/gcc.mk
    * Changed to use GCC default extensions for objects and libs 
      even in OMF mode.
    ! This fixed hbmk2 problems reported by David Arturo Macias Corona.
    ; Please verify if now also changed lib extension didn't create 
      any new problem in hbmk2, f.e. when using -strip option.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Nov  4 11:13:59 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Nov  4 11:14:08 2009
Subject: [Harbour] Re: OS/2: hbmk2
In-Reply-To: <4AF18A03.9060503@mail.udg.mx>
References: <4AF18A03.9060503@mail.udg.mx>
Message-ID: <F6177F87-3F3D-42B1-9A0D-1F41B0551B4B@syenar.hu>

> So I insist to follow:
> > ... most of OS/2 projects style using .obj and .lib in OMF
>
> For sure Viktor can solve problem to use object extension in hbmk2.prg

I could sure spend a few hours on it, but 1) I don't
have time for it now 2) This would create an
unprecedented exception for gccomf, which I don't think
is a good idea on the long run (it has to be maintained).
+1) Since this is not the default in GCC, I assume they
had a good reason to make this decision, and any
3rd party tool is better not reinvent the wheel
since it may just cause problems down the road.

Once GCC OS/2 porters decide to switch to other
extension, we can follow suit.

> At last we know that use of object extension in hbmk2.prg is not  
> important IF object file is an intermediate file which is deleted  
> after use
>
> I just pointed lack of sync of file extension between phases, so in  
> current state hbmk2.exe does not work for os2gcc in OMF type

The idea is to use as few forced stuff and special
tricks as possible. On some occasions gcc -o _is_ used
even now, but only if inevitable (in -inc mode f.e.).

> hbmk2 can use default .o for object files and .lib for library files  
> in OMF type without problems, but in my scripts I will continue  
> using .obj and .lib as usual in OS/2-OMF

If .o/.a is unusual for OS/2-OMF, the best place to
complain is GCC OS/2 developers.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Nov  4 11:17:17 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Nov  4 11:17:28 2009
Subject: [Harbour] hbmk2, -inc and .clp files
In-Reply-To: <078a01ca5d68$8eb26b80$6700540a@euroherc.ba>
References: <4AF17C28.3040005@mweb.co.za>
	<20374696-16FB-4300-A408-D9714EE1B3AE@syenar.hu>
	<078a01ca5d68$8eb26b80$6700540a@euroherc.ba>
Message-ID: <A1E699D7-67A7-4B15-B070-4C01B66C2BAB@syenar.hu>

Hi sali,

>> Difficult to tell what it'd take to add support,
>> can't even tell if it's trivial or not. I hope .clp
>
> just to say, we use .clp files as simple file-list colection, list  
> of .prgs to be compiled into single .obj
> never heard that .clp could be anything more than that
> [later, that .objs are linked into .exe]
>
> f1.clp:
> a1.prg
> b2.prg
> ...
> x1.prg
>
> f2.clp:
> a2.pr
> b2.pr
> ...
> x2.prg

If this is the only reason you use it, just rename
all those .clp files to .hbm and problems will go away.

Again, I'm no .clp user, but the point of .clp seems
to be that listed .prgs will be compiled into one
object, which may be important in some situations,
f.e. STATIC functions are visible between .prgs files.
Or so I guess.

Brgds,
Viktor

From bedipritpal at hotmail.com  Wed Nov  4 11:39:16 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Nov  4 11:39:23 2009
Subject: [Harbour] Multithreading support in Harbour
In-Reply-To: <FC9F5317-ADE1-4D70-BF4D-CB9C4844F5DD@syenar.hu>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
	<FC9F5317-ADE1-4D70-BF4D-CB9C4844F5DD@syenar.hu>
Message-ID: <26199830.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
>>> From my experience, GTWIN is working in MT without problem.
>> GTWVT / WVG for larger applications may hang the application (small
>> examples GTWVG work flawlessly).
> 
> Please don't mix GTWVT and GTWVG together, they are
> completely different GTs.
> 

Misconception. This is partially true.
GTWVG is superset of GTWVT with some GUI constructs only.
If you do not call any GUI stuff, GTWVG is exactly like GTWVT.
Both GTs can be used interchangebly untill you call GUI stuff.

AND there is NO MT issue with GTWVG.
My flagship production application "Vouch" ( extremely large ) 
running on 100s of clients is a pure GTWVG - MT - GUI application 
and is running flawlessly. Look at Przemek's message in this context.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/Multithreading-support-in-Harbour-tp26194616p26199830.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From M.Horodyski at pzuzycie.com.pl  Wed Nov  4 11:39:58 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Nov  4 11:40:08 2009
Subject: [Harbour] Multithreading support in Harbour
In-Reply-To: <609353e70911040701v56fa6f03kca55b1b5c01cf88@mail.gmail.com>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag><FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
	<609353e70911040543h38299cb8hbad6c84ce5c964d4@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D33@PINK.zycie.pzu>
	<609353e70911040701v56fa6f03kca55b1b5c01cf88@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D59@PINK.zycie.pzu>

>-----Original Message-----
>From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
>Sent: Wednesday, November 04, 2009 4:01 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Multithreading support in Harbour
>
>try replicate your problem in large program remove unnecessary 
>part from your program if give not error add removed part 
>upload here remain code

I tried - but it is sometimes difficult.

>Wich error you have
>In wich part of your program you receive error

The application hangs after boot up thread - I call it "corpse cold":)

>Post follo part

Small examples go, in real applications to be suspended. 
No problem - I wait for GTNET. It will be a good alternative to GTWEB.

Regards,
Marek Horodyski

P.S.
In our company expanded one of the web applications exposed to
customers.
Reaching 50,000 thousand users. Web interface is the future.
From M.Horodyski at pzuzycie.com.pl  Wed Nov  4 11:45:26 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Nov  4 11:45:35 2009
Subject: [Harbour] Multithreading support in Harbour
In-Reply-To: <FC9F5317-ADE1-4D70-BF4D-CB9C4844F5DD@syenar.hu>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag><FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
	<FC9F5317-ADE1-4D70-BF4D-CB9C4844F5DD@syenar.hu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D5A@PINK.zycie.pzu>

>-----Original Message-----
>From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
>Sent: Wednesday, November 04, 2009 4:40 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Multithreading support in Harbour
>
>>> From my experience, GTWIN is working in MT without problem.
>> GTWVT / WVG for larger applications may hang the application (small 
>> examples GTWVG work flawlessly).
>
>Please don't mix GTWVT and GTWVG together, they are completely 
>different GTs.
>
>I'd think GTWVT has no problem to handle MT. Just like GTWIN.

No. The application was launched just as I linked it with GTWIN. 
Passed in turn from GTWVG, GTWVT and GTWIN.

Regards,
Marek Horodyski
From harbour.01 at syenar.hu  Wed Nov  4 11:56:02 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov  4 11:56:12 2009
Subject: [Harbour] Multithreading support in Harbour
In-Reply-To: <26199830.post@talk.nabble.com>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
	<FC9F5317-ADE1-4D70-BF4D-CB9C4844F5DD@syenar.hu>
	<26199830.post@talk.nabble.com>
Message-ID: <6A5523CF-E6B5-47AE-A1C9-AD0B8E1C7409@syenar.hu>

>> Please don't mix GTWVT and GTWVG together, they are
>> completely different GTs.
>>
>
> Misconception. This is partially true.
> GTWVG is superset of GTWVT with some GUI constructs only.
> If you do not call any GUI stuff, GTWVG is exactly like GTWVT.
> Both GTs can be used interchangebly untill you call GUI stuff.

It's not exactly the same as it uses a slightly
different codebase, where full GTWVT implementation
is present in a modified form. Syncing is manual.
Plus of course the extra stuff, which doesn't
conform with quite some Harbour core standard.

> AND there is NO MT issue with GTWVG.
> My flagship production application "Vouch" ( extremely large )
> running on 100s of clients is a pure GTWVG - MT - GUI application
> and is running flawlessly. Look at Przemek's message in this context.

My only point was that mentioning "GTWVT/GTWVG"
as one entity is vague and may wash together
a contrib with a core component with different
codebases.

 From such reports it's impossible to know whether
poster used both name by mistake, in fact you can't
be sure whether he's just confusing the two, and
which one he's using in reality. It's also impossible
to tell whether user refers to "extended" GTWVG
functionality or plain base GT one.

It turns out in this specific case it doesn't
matter, but generally speaking they are not the
same thing, and such vague reports can just ignite
other misconceptions and wrong ideas about Harbour.

Saying "doesn't support MT" for a core Harbour
component is a heavy claim, so we should avoid
being vague by all means in such case.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Nov  4 11:59:21 2009
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Viktor_Szak=E1ts?=)
Date: Wed Nov  4 11:59:30 2009
Subject: [Harbour] Multithreading support in Harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D5A@PINK.zycie.pzu>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag><FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
	<FC9F5317-ADE1-4D70-BF4D-CB9C4844F5DD@syenar.hu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D5A@PINK.zycie.pzu>
Message-ID: <DA23124D-0DBE-4866-800F-233B0F6BC71E@syenar.hu>

>>>> From my experience, GTWIN is working in MT without problem.
>>> GTWVT / WVG for larger applications may hang the application (small
>>> examples GTWVG work flawlessly).
>>
>> Please don't mix GTWVT and GTWVG together, they are completely
>> different GTs.
>>
>> I'd think GTWVT has no problem to handle MT. Just like GTWIN.
>
> No. The application was launched just as I linked it with GTWIN.
> Passed in turn from GTWVG, GTWVT and GTWIN.

Post specific examples which would highlight the problem
instead of spreading such generic claims about Harbour
components on this list, that "GTWVT doesn't support MT".

Such claims only misguide users and give way to false rumors.
This isn't very constructive. A self-contained example is.

Brgds,
Viktor

From mbelgrano at deltain.it  Wed Nov  4 12:03:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Nov  4 12:04:23 2009
Subject: [Harbour] Multithreading support in Harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D59@PINK.zycie.pzu>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu> 
	<609353e70911040543h38299cb8hbad6c84ce5c964d4@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D33@PINK.zycie.pzu> 
	<609353e70911040701v56fa6f03kca55b1b5c01cf88@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D59@PINK.zycie.pzu>
Message-ID: <609353e70911040903p20455f5cx97f0d4412e92ce35@mail.gmail.com>

He Marek
I invite made same research about "corpse cold"
You will have better application or Harbour will have better compiler
Please do this effor for this comunity

regarding GTNET and GTWEB i still remember the post of our Guru


>Przemek,
> But I'm interesting in sth else. I'd like to have library which I can
> use with CUI, GUI and WWW Browsers without source code modification.
> IMHO today porting application to GUI only mode is a waste of time.
> In few years our programs will have to run in WANs and use many different
> output devices like PDA, cellar phones, watches ;-)... We will need
> interface which will allow to run application remotely in CUI mode and
> when user turn off his terminal in scale register ;-) without closing
> application on the server and reconnect from office using desktop computer
> he should continue his job in GUI mode in the same instance of application
> and finally if he will want then we will have to allow him to finish the
> job using PDA and WWW browser when he will return to home.
> I plan to work on such library in the future.

i suggest also follow the path of MINIGUI script that promise to be
used for made a web application
http://www.hmgforum.com/viewforum.php?f=17



2009/11/4 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
>>-----Original Message-----
>>From: Massimo Belgrano [mailto:mbelgrano@deltain.it]
>>Sent: Wednesday, November 04, 2009 4:01 PM
>>To: Harbour Project Main Developer List.
>>Subject: Re: [Harbour] Multithreading support in Harbour
>>
>>try replicate your problem in large program remove unnecessary
>>part from your program if give not error add removed part
>>upload here remain code
>
> I tried - but it is sometimes difficult.
>
>>Wich error you have
>>In wich part of your program you receive error
>
> The application hangs after boot up thread - I call it "corpse cold":)
>
>>Post follo part
>
> Small examples go, in real applications to be suspended.
> No problem - I wait for GTNET. It will be a good alternative to GTWEB.
>
> Regards,
> Marek Horodyski
>
> P.S.
> In our company expanded one of the web applications exposed to
> customers.
> Reaching 50,000 thousand users. Web interface is the future.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Wed Nov  4 12:32:24 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov  4 12:32:30 2009
Subject: [Harbour] hbmk2, -inc and .clp files
In-Reply-To: <A1E699D7-67A7-4B15-B070-4C01B66C2BAB@syenar.hu>
References: <4AF17C28.3040005@mweb.co.za>
	<20374696-16FB-4300-A408-D9714EE1B3AE@syenar.hu>
	<078a01ca5d68$8eb26b80$6700540a@euroherc.ba>
	<A1E699D7-67A7-4B15-B070-4C01B66C2BAB@syenar.hu>
Message-ID: <20091104173224.GA7932@34-mo7-2.home.aster.pl>

On Wed, 04 Nov 2009, Szak?ts Viktor wrote:

Hi,

> If this is the only reason you use it, just rename
> all those .clp files to .hbm and problems will go away.
> Again, I'm no .clp user, but the point of .clp seems
> to be that listed .prgs will be compiled into one
> object, which may be important in some situations,
> f.e. STATIC functions are visible between .prgs files.

No they aren't but there are some other things like automatically
included files or indirect dependencies which may cause that .clp
modules cannot be divided into separate files without source code
modification. Anyhow it's unimportant for programs like hbmk2.
It only have to know that for each @<name>.clp file single output
file is generated <name>.<ext> where <ext> depends on type of output
file.
Using -debuginc with hbmk2 files I see two problems:

1. it does not strip '@' from destination file name when checks
   dependencies so it cannot locate it and always tries to create
   new one, i.e.:

   hbmk2: debuginc: PRG @tt1.clp .hbmk/linux/gcc/@tt1.c
   hbmk2: debuginc: PRG @tt2.clp .hbmk/linux/gcc/@tt2.c
   hbmk2: debuginc: PRG t21.prg .hbmk/linux/gcc/t21.c

   This is the problem reported by Alex.

2. when -head=native option is used it does not process .clp files
   to extract dependencies list, i.e.:

   hbmk2: Processing configuration: /usr/bin/hbmk.cfg
   hbmk2: debuginc: PRG @tt1.clp .hbmk/linux/gcc/@tt1.c
   hbmk2: debuginc: PRG @tt2.clp .hbmk/linux/gcc/@tt2.c
   hbmk2: debuginc: PRG t21.prg .hbmk/linux/gcc/t21.c
   hbmk2: debuginc: HEADER t21.prg
   hbmk2: debuginc: Calling Harbour compiler to detect dependencies of t21.prg
   hbmk2: debuginc: PRG t22.prg .hbmk/linux/gcc/t22.c
   hbmk2: debuginc: HEADER t22.prg
   hbmk2: debuginc: Calling Harbour compiler to detect dependencies of t22.prg
   hbmk2: Compiling Harbour sources...
   [...]

I hope that both problems should be easy to fix for someone who well
know hbmk2 code ;)
I also think that it will be good to extract file list from .clp file in
the 1-st case when dependencies list is not generated automatically by
harbour compiler (-head=native) but maybe hbmk2 already does it - I do
not know.
I can try to make it myself but I you can do that then I believe that
you will make it much faster because you know hbmk2 code much better.
Below is a small function which extracts .prg file names from .clp file
which may help.

best regards,
Przemek


STATIC FUNCTION READ_CLPFILE( cFileName )
   LOCAL cFileBody := MemoRead( cFileName )
   LOCAL aFiles
   LOCAL cFile

   cFileBody := StrTran( cFileBody, Chr( 13 ) )
   cFileBody := StrTran( cFileBody, Chr( 10 ), " " )
   cFileBody := StrTran( cFileBody, Chr( 9 ), " " )

   aFiles := hb_aTokens( cFileBody,, .t. )
   FOR EACH cFile IN aFiles
      cFile := FN_ExtSet( StrTran( cFile, '"' ), ".prg" )
   NEXT

   RETURN aFiles
From harbour.01 at syenar.hu  Wed Nov  4 12:43:52 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov  4 12:44:01 2009
Subject: [Harbour] hbmk2, -inc and .clp files
In-Reply-To: <20091104173224.GA7932@34-mo7-2.home.aster.pl>
References: <4AF17C28.3040005@mweb.co.za>
	<20374696-16FB-4300-A408-D9714EE1B3AE@syenar.hu>
	<078a01ca5d68$8eb26b80$6700540a@euroherc.ba>
	<A1E699D7-67A7-4B15-B070-4C01B66C2BAB@syenar.hu>
	<20091104173224.GA7932@34-mo7-2.home.aster.pl>
Message-ID: <19A98E30-28D0-4839-97E4-36BC9DCB5A38@syenar.hu>

Hi Przemek,

It's too much now. I neglected everything else for
Harbour, now it's time to do other things. I simply
can't dedicate a few hours for such modifications
now and believe me it would be even more than that,
since if I don't concentrate I break other things,
feedback is coming back again a few hours, maybe
I getting other ideas. etcetcetc. So I can't cut it
now. If you can do it, for me it's perfectly
fine, I trust you can do it even better than I'd,
I'm also ready to peer-review it.

Brgds,
Viktor

On 2009 Nov 4, at 18:32, Przemys?aw Czerpak wrote:

> On Wed, 04 Nov 2009, Szak?ts Viktor wrote:
>
> Hi,
>
>> If this is the only reason you use it, just rename
>> all those .clp files to .hbm and problems will go away.
>> Again, I'm no .clp user, but the point of .clp seems
>> to be that listed .prgs will be compiled into one
>> object, which may be important in some situations,
>> f.e. STATIC functions are visible between .prgs files.
>
> No they aren't but there are some other things like automatically
> included files or indirect dependencies which may cause that .clp
> modules cannot be divided into separate files without source code
> modification. Anyhow it's unimportant for programs like hbmk2.
> It only have to know that for each @<name>.clp file single output
> file is generated <name>.<ext> where <ext> depends on type of output
> file.
> Using -debuginc with hbmk2 files I see two problems:
>
> 1. it does not strip '@' from destination file name when checks
>   dependencies so it cannot locate it and always tries to create
>   new one, i.e.:
>
>   hbmk2: debuginc: PRG @tt1.clp .hbmk/linux/gcc/@tt1.c
>   hbmk2: debuginc: PRG @tt2.clp .hbmk/linux/gcc/@tt2.c
>   hbmk2: debuginc: PRG t21.prg .hbmk/linux/gcc/t21.c
>
>   This is the problem reported by Alex.
>
> 2. when -head=native option is used it does not process .clp files
>   to extract dependencies list, i.e.:
>
>   hbmk2: Processing configuration: /usr/bin/hbmk.cfg
>   hbmk2: debuginc: PRG @tt1.clp .hbmk/linux/gcc/@tt1.c
>   hbmk2: debuginc: PRG @tt2.clp .hbmk/linux/gcc/@tt2.c
>   hbmk2: debuginc: PRG t21.prg .hbmk/linux/gcc/t21.c
>   hbmk2: debuginc: HEADER t21.prg
>   hbmk2: debuginc: Calling Harbour compiler to detect dependencies  
> of t21.prg
>   hbmk2: debuginc: PRG t22.prg .hbmk/linux/gcc/t22.c
>   hbmk2: debuginc: HEADER t22.prg
>   hbmk2: debuginc: Calling Harbour compiler to detect dependencies  
> of t22.prg
>   hbmk2: Compiling Harbour sources...
>   [...]
>
> I hope that both problems should be easy to fix for someone who well
> know hbmk2 code ;)
> I also think that it will be good to extract file list from .clp  
> file in
> the 1-st case when dependencies list is not generated automatically by
> harbour compiler (-head=native) but maybe hbmk2 already does it - I do
> not know.
> I can try to make it myself but I you can do that then I believe that
> you will make it much faster because you know hbmk2 code much better.
> Below is a small function which extracts .prg file names from .clp  
> file
> which may help.


From druzus at users.sourceforge.net  Wed Nov  4 13:51:56 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Nov  4 13:52:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12821] trunk/harbour
Message-ID: <E1N5kxY-00005X-IA@d5vjzd1.ch3.sourceforge.com>

Revision: 12821
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12821&view=rev
Author:   druzus
Date:     2009-11-04 18:51:40 +0000 (Wed, 04 Nov 2009)

Log Message:
-----------
2009-11-04 19:51 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/utils/hbmk2/hbmk2.prg
    ! fixed incremental mode for @.clp files.
      I tried to make all modifications locally to not break
      some other code which may need "@" in file names because
      I do not know hbmk2 code.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Nov  4 13:59:26 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov  4 13:59:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12821] trunk/harbour
In-Reply-To: <E1N5kxY-00005X-IA@d5vjzd1.ch3.sourceforge.com>
References: <E1N5kxY-00005X-IA@d5vjzd1.ch3.sourceforge.com>
Message-ID: <96FA3414-3497-4F9F-AB29-FF112CDE438B@syenar.hu>

Thanks a bunch Przemek. Looks perfect to me.

'@'s need to be retained so that they get passed to Harbour
compiler, as far as I could tell after a quick check.

Brgds,
Viktor

On 2009 Nov 4, at 19:51, druzus@users.sourceforge.net wrote:

> Revision: 12821
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12821&view=rev
> Author:   druzus
> Date:     2009-11-04 18:51:40 +0000 (Wed, 04 Nov 2009)
>
> Log Message:
> -----------
> 2009-11-04 19:51 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/utils/hbmk2/hbmk2.prg
>    ! fixed incremental mode for @.clp files.
>      I tried to make all modifications locally to not break
>      some other code which may need "@" in file names because
>      I do not know hbmk2 code.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/utils/hbmk2/hbmk2.prg
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at users.sourceforge.net  Wed Nov  4 14:05:08 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Nov  4 14:05:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12822] trunk/harbour
Message-ID: <E1N5lAK-0000MF-Ih@d5vjzd1.ch3.sourceforge.com>

Revision: 12822
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12822&view=rev
Author:   druzus
Date:     2009-11-04 19:05:01 +0000 (Wed, 04 Nov 2009)

Log Message:
-----------
2009-11-04 20:04 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/utils/hbmk2/hbmk2.prg
    ! do not overwrite file extensions set in .clp file when checking
      dependencies in incremental mode

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Nov  4 14:06:26 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov  4 14:06:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12821] trunk/harbour
In-Reply-To: <96FA3414-3497-4F9F-AB29-FF112CDE438B@syenar.hu>
References: <E1N5kxY-00005X-IA@d5vjzd1.ch3.sourceforge.com>
	<96FA3414-3497-4F9F-AB29-FF112CDE438B@syenar.hu>
Message-ID: <20091104190626.GA29367@34-mo7-2.home.aster.pl>

On Wed, 04 Nov 2009, Szak?ts Viktor wrote:
> Thanks a bunch Przemek. Looks perfect to me.
> '@'s need to be retained so that they get passed to Harbour
> compiler, as far as I could tell after a quick check.

Thanks, I committed a small fix yet.
New function FN_ExtDef() is used instead of FN_ExtSet()
to not overwrite existing file name extensions in .CLP files.

best regards,
Przemek
From maufacc at adinet.com.uy  Wed Nov  4 15:01:58 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Wed Nov  4 15:02:07 2009
Subject: [Harbour] hbmk2, mingw and dlls
Message-ID: <4AF1DDB6.7060400@adinet.com.uy>

I am trying to compile demoqt on windows, test of hbqt, without dlls but 
I cannot make an exe that do not need the dlls. I have the .a libraries 
of qt.

Thank you in advance.

Maurizio Faccio



From harbour.01 at syenar.hu  Wed Nov  4 16:26:16 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Nov  4 16:26:29 2009
Subject: [Harbour] hbmk2, mingw and dlls
In-Reply-To: <4AF1DDB6.7060400@adinet.com.uy>
References: <4AF1DDB6.7060400@adinet.com.uy>
Message-ID: <3ED1D09C-0143-4C51-809E-912F80190D83@syenar.hu>

Hi,

Modify supplied tests/hbmk.hbm to use ../hbqts.hbc
instead of ../hbqt.hbc.

You'll need the static builds of hbqt libs, you can
find in INSTALL how to enable building them.

Brgds,
Viktor

On 2009 Nov 4, at 21:01, Maurizio Faccio adinet wrote:

> I am trying to compile demoqt on windows, test of hbqt, without dlls  
> but I cannot make an exe that do not need the dlls. I have the .a  
> libraries of qt.
>
> Thank you in advance.
>
> Maurizio Faccio
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From elart at elart.it  Thu Nov  5 03:44:47 2009
From: elart at elart.it (elart)
Date: Thu Nov  5 03:44:56 2009
Subject: [Harbour] maxcol() and maxrow() give nrows-1 and ncolumns-1 result
Message-ID: <WupS290z.1257410687.5710250.marcobra@82.105.36.210>


Hi, all

On a terminal on Linux (i'm on Ubuntu 9.10) :

With the "dialog" command i get the (correct) size of the opened
terminal window:

dialog --print-maxsize

Instead using Harbour maxrow and maxcol i get wrong value...

Please try this... on a terminal type:

nano maxsize.prg

copy and paste the content below

//-----------------------------

function main
maxcol:=maxcol()
? "MaxSize:" + str(maxrow(),3) + ", " + str(maxcol(),3)
?""
nTimes:=int(maxcol()/10)
nRest:=maxcol()-int(maxcol()/10)*10
?""
times:=1
for ii:=1 to nTimes
        for i:=1 to 10
                ?? ltrim(substr(str(i),-1))
                 ++times
        next
next
i:=1
for i:=1 to nRest
    ?? ltrim(substr(str(i),-1))
next
return

//-----------------------------

Compile with

hbmk2 maxsize.prg

run with

./maxsize

Thank you and best regards.
From druzus at acn.waw.pl  Thu Nov  5 04:44:16 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov  5 04:44:22 2009
Subject: [Harbour] maxcol() and maxrow() give nrows-1 and ncolumns-1 result
In-Reply-To: <WupS290z.1257410687.5710250.marcobra@82.105.36.210>
References: <WupS290z.1257410687.5710250.marcobra@82.105.36.210>
Message-ID: <20091105094416.GA17227@34-mo7-2.home.aster.pl>

On Thu, 05 Nov 2009, elart wrote:

Hi,

> On a terminal on Linux (i'm on Ubuntu 9.10) :
> With the "dialog" command i get the (correct) size of the opened
> terminal window:
> dialog --print-maxsize
> Instead using Harbour maxrow and maxcol i get wrong value...

MaxRow() and MaxCol() do not return screen size.
They return maximal row and column number indexed from 0
which can be used in functions like SetPos()
It's Clipper compatible behavior so your results are correct.
Please read any clipper documentation for above functions.

best regards,
Przemek
From M.Horodyski at pzuzycie.com.pl  Thu Nov  5 05:28:40 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Nov  5 05:28:50 2009
Subject: [Harbour] Multithreading support in Harbour
In-Reply-To: <DA23124D-0DBE-4866-800F-233B0F6BC71E@syenar.hu>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag><FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu><FC9F5317-ADE1-4D70-BF4D-CB9C4844F5DD@syenar.hu><FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D5A@PINK.zycie.pzu>
	<DA23124D-0DBE-4866-800F-233B0F6BC71E@syenar.hu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6E31@PINK.zycie.pzu>

>-----Original Message-----
>From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
>Sent: Wednesday, November 04, 2009 5:59 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Multithreading support in Harbour
>
>>>>> From my experience, GTWIN is working in MT without problem.
>>>> GTWVT / WVG for larger applications may hang the 
>application (small 
>>>> examples GTWVG work flawlessly).
>>>
>>> Please don't mix GTWVT and GTWVG together, they are completely 
>>> different GTs.
>>>
>>> I'd think GTWVT has no problem to handle MT. Just like GTWIN.
>>
>> No. The application was launched just as I linked it with GTWIN.
>> Passed in turn from GTWVG, GTWVT and GTWIN.
>
>Post specific examples which would highlight the problem 
>instead of spreading such generic claims about Harbour 
>components on this list, that "GTWVT doesn't support MT".
>
>Such claims only misguide users and give way to false rumors.
>This isn't very constructive. A self-contained example is.

I understand it - and that is why I write that small examples worked correctly.
I tried to prepare such an example - but it does not hangs the application.
An attempt to start the real application was successful only when it linked it with GTWIN.
One thing I can do is send the entire application, with source and linking scripts.
I do not do with this problem - just write what my experiences.

Regards,
Marek Horodyski
From M.Horodyski at pzuzycie.com.pl  Thu Nov  5 05:57:50 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Nov  5 05:57:59 2009
Subject: [Harbour] Multithreading support in Harbour
In-Reply-To: <609353e70911040903p20455f5cx97f0d4412e92ce35@mail.gmail.com>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag><FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
	<609353e70911040543h38299cb8hbad6c84ce5c964d4@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D33@PINK.zycie.pzu>
	<609353e70911040701v56fa6f03kca55b1b5c01cf88@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D59@PINK.zycie.pzu>
	<609353e70911040903p20455f5cx97f0d4412e92ce35@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6E56@PINK.zycie.pzu>

>-----Original Message-----
>From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
>Sent: Wednesday, November 04, 2009 6:04 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Multithreading support in Harbour
>
>He Marek

[...]

>>have to allow him to finish the  job using PDA and WWW 
>browser when he will return to home.
>> I plan to work on such library in the future.
>
>i suggest also follow the path of MINIGUI script that promise 
>to be used for made a web application
>http://www.hmgforum.com/viewforum.php?f=17


Nice. So what?
Any solution that you will not find in the contrib is doomed to fail.
Roberto wants to lead MINIGUI separately - for the year proves that you
can not combine these versions - because it is "disperse".
Prophylactically will avoid problems.

Regards,
Marek Horodyski
From dmacias at mail.udg.mx  Thu Nov  5 05:59:02 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Nov  5 05:59:16 2009
Subject: [Harbour] Re: OS/2: hbmk2
Message-ID: <4AF2AFF6.4090400@mail.udg.mx>

Viktor:

 >So in Harbour we try to force some alien extension instead
 >of .o which is the default extension in both OMF and a.out
 >modes.

 >> Solution is clear: sync use of object extension in both phases

 >I know. However I don't like this approach. Speaking
 >of both Harbour build and hbmk2, we use the default
 >extensions for all supported compilers.

 >For some reason this was violated by using .obj for
 >gccomf. Not being an OS/2 user this wasn't apparent
 >to me, I used what I saw.

 >Using non-default extensions have some drawbacks,
 >since you need tell each tool your extension of choice.

 >In case of gcc, this is -o, however in this mode,
 >you lose the option to build multiple .c input files
 >at one pass. Which in turn makes performance much
 >worse in certain cases. Plus it introduces an exception
 >in both hbmk2 and Harbour build. Latter isn't affected
 >too much as it doesn't use optimized calls to compiler
 >using multiple inputs, but in hbmk2 this would need
 >some extra logic to handle this exception case.

 >For a peace of mind and "standardness", I vote to follow
 >compiler defaults, whatever these are. No need to fight
 >what GCC developers have decided on. With the case of .obj,
 >we're trying to mimic other OS/2 compilers doesn't seem like
 >a good idea.


 >I could sure spend a few hours on it, but 1) I don't
 >have time for it now 2) This would create an
 >unprecedented exception for gccomf, which I don't think
 >is a good idea on the long run (it has to be maintained).
 >+1) Since this is not the default in GCC, I assume they
 >had a good reason to make this decision, and any
 >3rd party tool is better not reinvent the wheel
 >since it may just cause problems down the road.

 >Once GCC OS/2 porters decide to switch to other
 >extension, we can follow suit.

 >The idea is to use as few forced stuff and special
 >tricks as possible. On some occasions gcc -o _is_ used
 >even now, but only if inevitable (in -inc mode f.e.).

 >If .o/.a is unusual for OS/2-OMF, the best place to
 >complain is GCC OS/2 developers.


Due origin from a.out type only, for gcc .obj, .lib, -Zomf, 
EMXOMFLD_TYPE, EXOMFLD_LINKER are aliens but they are well known and 
accepted in OS/2 environment

Remember, os2gcc work with their own aliens and they should be well 
managed/applied

Other aliens for gcc in OS/2 are:
-Zcrtdll, -Zdll, -Zexe, -Zhigh-mem, -Zlinker, -Zmap, -Zno-autoconv,
-Zautoconv, -Zargs-wild, -Zargs-resp, -Zdll-search, -Zsym, -Zhigh-low
-Zno-fork, -Zno-unix, -Zbin-files, -Zbsd-signals, -Zmt, -Zmtd, -Zmts
-Zno-rte, -Zsmall-conv, -Zstack, -Zso, -Zsys, -Zsysv-signals
     EMXOMFLD_RC_TYPE, EMXOMFLD_RC
emxomfar.exe, emxomfld.exe, emxomf* family

I do not understand next two:
     * _wildcard (int *argc, char ***argv): Same as in EMX, i.e. it 
expands it's arguments like a unix shell would do (but OS/2 cmd.exe 
doesn't), so you typically want to use this when porting a unix command 
line application. Instead of adding this to a program, compilation with 
-Zargs-wild can be used.
     * _response (int *argc, char ***argv): Same as in EMX. Expand 
response files (@FILENAME). The FILENAME contains a list of arguments, 
one per line. Arguments enclosed in double quotes will not be expanded. 
If a response file can not be opened, the argument is kept the same. 
-Zargs-resp will automatically compile this in.



I reported one error with hbmk2.exe in os2gcc-OMF and now we know is due 
hbmk2.prg are not managing our own object file extension and are relying 
in default C compiler extensions

Use of .obj just exploited this situation
Is not case of os2gcc-OMF. Any other user may found the problem if 
change object file extension for own purposes

I understand clearly because you explained it, this situation exist 
because a feature/logic/structure of hbmk2: multiple input in place of 
single input

What I see highly riskly in this case and your words/position, and you 
are aware of it: Harbour are centering in hbmk2 features /logic 
/structure, and not just centering but limited by them.
With your goals hbmk2 and at last Harbour "make" must be hard-wired to 
default C compiler extensions and other decisions

hbmk2 is a beautiful piece of software with more than 7,500 lines of 
code and well-known by you, but at last is a tool to help Harbour use, 
not to re-direct him

Do not confuse: hbmk2 tool does not have to limit /manage the main 
project: Harbour compiler


 >2009-11-04 17:06 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
 >  * utils/hbmk2/hbmk2.prg
 >  * config/os2/gcc.mk
 >    * Changed to use GCC default extensions for objects and libs
 >      even in OMF mode.
 >    ! This fixed hbmk2 problems reported by David Arturo Macias Corona.
 >    ; Please verify if now also changed lib extension didn't create
 >      any new problem in hbmk2, f.e. when using -strip option.

This is an improper and arbitrary change but expected by your position

Against your own claim, you commited when your doubts are not cleared 
and affecting entire OS/2 users

Simply you removed .obj and .lib for os2gcc - OMF even when I explained 
they are "conventions" in OS/2 world

This must be consequence of report an problem with hbmk2 ?

Now you "dressed" an lib file with OMF content as an lib file with a.out 
content
It confuse to any OS/2 user and will fail at first try
In OS/2 projects we look for .a files in a.out mode and .lib files in 
OMF mode
I explained time ago that some projects release both types and there are 
not conflict/collision due file extension

Only you know how you based your decision but it affect to OS/2 "community"

You do not need to be OS/2 user to understand this new problem
Your change fix a problem with hbmk2 reported by me opening an widest 
problem as you can easily understand

That change must be reverted, at least for lib file extension
object file extension are of low importance as they are intermediate 
files. But lib files are for end-users
You got your own conclusions and decided your change

Harbour developers will release OMF type lib files as .a files for OS/2 
world ? It may be funny but is tragic and is evidence of lack of care
As other OS/2 projects we should release .a and .lib library files of 
proper type

And in friendly words:
If you decide to revert your change, try to not to add your now typical 
notes as: "I received false information", "as just copied", and so on
Is improper to see them in Changelog, including <"rogue" patch"> phrase

Again I suggest to follow:
 > ... most of OS/2 projects style using .obj and .lib in OMF


To confirm default extensions in os2gcc-OMF I made some tests so they 
can help to understand and rely your revert

Note: I am not being an C developer, I just adapted from OWatcom guide

Tests do not use file name extensions unless they are forced to avoid 
error for existance
Process show dir in each phase so default extensions are easily seen

mytest.c
==================
#include <stdio.h>

void main()
{
     printf( "Hello world\n" );
     mytestlib();
}
==================


mytestlib.c
==================
#include <stdio.h>

void mytestlib()
{
     printf( "Hello world from mytestlib\n" );
}
==================

mytest.cmd
==================
dir
gcc -c mytestlib.c -Zomf
dir
emxomfar r mytestlib mytestlib.o
dir
gcc -c mytest.c -Zomf
dir
gcc mytest.o -lmytestlib -Zomf
dir
mytest.exe
==================

and executing catching output:

[E:\mytest]mytest.cmd > mytest.out 2>&1

mytest.out content are below showing clearly default file extensions

David Macias




[E:\mytest]dir

The volume label in drive E is ECS20RC6A.
The Volume Serial Number is 2A6C:2415.
Directory of E:\mytest

  5/11/09  3:05a         <DIR>      0 ----  .
  5/11/09  3:05a         <DIR>      0 ----  ..
  5/11/09  3:07a            98      0 a--r  mytest.c
  5/11/09  3:16a           154      0 a--r  mytest.cmd
  5/11/09  4:29a             0      0 a---  mytest.out
  5/11/09  3:07a           100      0 a--r  mytestlib.c
         6 file(s)         352 bytes used
                     470,191,104 bytes free

[E:\mytest]gcc -c mytestlib.c -Zomf

[E:\mytest]dir

The volume label in drive E is ECS20RC6A.
The Volume Serial Number is 2A6C:2415.
Directory of E:\mytest

  5/11/09  3:05a         <DIR>      0 ----  .
  5/11/09  3:05a         <DIR>      0 ----  ..
  5/11/09  3:07a            98      0 a--r  mytest.c
  5/11/09  3:16a           154      0 a--r  mytest.cmd
  5/11/09  4:29a             0      0 a---  mytest.out
  5/11/09  3:07a           100      0 a--r  mytestlib.c
  5/11/09  4:29a           357    124 a---  mytestlib.o
         7 file(s)         709 bytes used
                     470,190,080 bytes free

[E:\mytest]emxomfar r mytestlib mytestlib.o
Creating library file `mytestlib.lib'

[E:\mytest]dir

The volume label in drive E is ECS20RC6A.
The Volume Serial Number is 2A6C:2415.
Directory of E:\mytest

  5/11/09  3:05a         <DIR>      0 ----  .
  5/11/09  3:05a         <DIR>      0 ----  ..
  5/11/09  3:07a            98      0 a--r  mytest.c
  5/11/09  3:16a           154      0 a--r  mytest.cmd
  5/11/09  4:29a             0      0 a---  mytest.out
  5/11/09  3:07a           100      0 a--r  mytestlib.c
  5/11/09  4:29a         2,048    124 a---  mytestlib.lib
  5/11/09  4:29a           357    124 a---  mytestlib.o
         8 file(s)       2,757 bytes used
                     470,187,520 bytes free

[E:\mytest]gcc -c mytest.c -Zomf
mytest.c: In function 'main':
mytest.c:4: warning: return type of 'main' is not 'int'

[E:\mytest]dir

The volume label in drive E is ECS20RC6A.
The Volume Serial Number is 2A6C:2415.
Directory of E:\mytest

  5/11/09  3:05a         <DIR>      0 ----  .
  5/11/09  3:05a         <DIR>      0 ----  ..
  5/11/09  3:07a            98      0 a--r  mytest.c
  5/11/09  3:16a           154      0 a--r  mytest.cmd
  5/11/09  4:29a           400    124 a---  mytest.o
  5/11/09  4:29a             0      0 a---  mytest.out
  5/11/09  3:07a           100      0 a--r  mytestlib.c
  5/11/09  4:29a         2,048    124 a---  mytestlib.lib
  5/11/09  4:29a           357    124 a---  mytestlib.o
         9 file(s)       3,157 bytes used
                     470,186,496 bytes free

[E:\mytest]gcc mytest.o -lmytestlib -Zomf

[E:\mytest]dir

The volume label in drive E is ECS20RC6A.
The Volume Serial Number is 2A6C:2415.
Directory of E:\mytest

  5/11/09  3:05a         <DIR>      0 ----  .
  5/11/09  3:05a         <DIR>      0 ----  ..
  5/11/09  3:07a            98      0 a--r  mytest.c
  5/11/09  3:16a           154      0 a--r  mytest.cmd
  5/11/09  4:29a         4,752      0 a---  mytest.exe
  5/11/09  4:29a           400    124 a---  mytest.o
  5/11/09  4:29a             0      0 a---  mytest.out
  5/11/09  3:07a           100      0 a--r  mytestlib.c
  5/11/09  4:29a         2,048    124 a---  mytestlib.lib
  5/11/09  4:29a           357    124 a---  mytestlib.o
        10 file(s)       7,909 bytes used
                     470,180,352 bytes free

[E:\mytest]mytest.exe
Hello world
Hello world from mytestlib
[E:\mytest]


From maufacc at adinet.com.uy  Thu Nov  5 06:14:05 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Thu Nov  5 06:14:15 2009
Subject: [Harbour] hbmk2, mingw and dlls
In-Reply-To: <4AF1DDB6.7060400@adinet.com.uy>
References: <4AF1DDB6.7060400@adinet.com.uy>
Message-ID: <4AF2B37D.6090000@adinet.com.uy>

Thanks Viktor

I've make harbour with the following env vars.
-----------------
HB_BUILD_IMPLIB=yes
HB_DIR_BLAT=C:\blat
HB_DIR_MYSQL=C:\mysql
HB_DIR_QT=C:\Qt\qt
HB_INSTALL_PREFIX=C:\HARBBETA
HB_QT_STATIC=yes
HB_WITH_BLAT=C:\blat\full\source
HB_WITH_MYSQL=C:\mysql\include
HB_WITH_QT=C:\Qt\qt\include
-------------------

I can find in hbqts.hbc
----------
incpaths=.

{allwin}libpaths=${HB_DIR_QT}\lib

libs=hbqts
libs=hbqtcores hbqtguis hbqtnetworks hbqtwebkits

{win}libs=version shlwapi
{allwin}libs=QtCore4 QtGui4 QtNetwork4 QtWebKit4
{allgcc}libs=supc++

gui=yes
gt=gtnul

-------------
I need to add xhb in libs.
The demo still need to  QtCore4 QtGui4 QtNetwork4 QtWebKit4 mingwm10  dll's

Where can I find information about usage of hbmk2, I wish to build an 
application with multiple prgs, i wish to link with another obj (I can 
build that obj to a lib), personal libs, and contrib libs.
Can i use qt to make a console application that should show different 
images as i move in a console (clipper like) browse.

Thanks

Maurizio Faccio




 



Maurizio Faccio adinet escribi?:
> I am trying to compile demoqt on windows, test of hbqt, without dlls 
> but I cannot make an exe that do not need the dlls. I have the .a 
> libraries of qt.
>
> Thank you in advance.
>
> Maurizio Faccio
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
From sscc at mweb.co.za  Thu Nov  5 06:18:07 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Nov  5 06:18:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12821] trunk/harbour
In-Reply-To: <E1N5kxY-00005X-IA@d5vjzd1.ch3.sourceforge.com>
References: <E1N5kxY-00005X-IA@d5vjzd1.ch3.sourceforge.com>
Message-ID: <4AF2B46F.6010408@mweb.co.za>

druzus@users.sourceforge.net wrote:

>      ! fixed incremental mode for @.clp files.
>        I tried to make all modifications locally to not break
>        some other code which may need "@" in file names because
>        I do not know hbmk2 code.

Thank you, it works.

Regards
Alex

From harbour.01 at syenar.hu  Thu Nov  5 06:41:32 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov  5 06:41:44 2009
Subject: [Harbour] Re: OS/2: hbmk2
In-Reply-To: <4AF2AFF6.4090400@mail.udg.mx>
References: <4AF2AFF6.4090400@mail.udg.mx>
Message-ID: <1037F94A-7FDC-4F7E-A233-90A73DD8D05A@syenar.hu>

> I reported one error with hbmk2.exe in os2gcc-OMF and now we know is  
> due hbmk2.prg are not managing our own object file extension and are  
> relying in default C compiler extensions

If it's more comfortable for you to call hbmk2 buggy,
it's your choice. I'm not terribly sure that making
large noise about your opinion is very useful, but it's
again you choice.

IMO hbmk2 isn't buggy, it's designed this way, and it
fits _all_ other supported compilers, plus it fits
with expectations of most users. The job of
Harbour or hbmk2 isn't to make reforms on extensions
used by tools it gives support for.

It's simply going towards less resistance, making as
few dependency on support tools as possible, and
assuring users that hbmk2 does only what it needs
to do, not more.

> Use of .obj just exploited this situation

Believe me I can also artificially think out any
number of features which "exploits" such "problems".

These are called feature requests and design changes,
not bugs.

> Is not case of os2gcc-OMF. Any other user may found the problem if  
> change object file extension for own purposes

Why would anyone want to do this?

Say, user can also create a huge problem and "break"
hbmk2, if he finds it a good idea to rename gcc.exe to
myccompiler.exe. hbmk2 will suddenly "break" in this case.
Is this also a hbmk2 "bug"?

> I understand clearly because you explained it, this situation exist  
> because a feature/logic/structure of hbmk2: multiple input in place  
> of single input
>
> What I see highly riskly in this case and your words/position, and  
> you are aware of it: Harbour are centering in hbmk2 features /logic / 
> structure, and not just centering but limited by them.

I beg your pardon? Optimized usage of C compiler is limiting
and risky? For one thing: hbmk2 is simply using a basic
C compiler feature. Compiling multiple inputs is no strange
thing, it's supported by lots of tools. It's also very useful.

Please don't suggest to cripple a tool to support exotic
features and exception cases.

If you want to really help the case and solve your problem,
you should seriously approach GCC developers and ask for two
features:

1) cmdline option to specify target _dir_ for output files.
2) cmdline option to specify target object extension.

1) would be useful also in my opinion, maybe even theirs,
it's also supported by some compilers (Harbour included).

> With your goals hbmk2 and at last Harbour "make" must be hard-wired  
> to default C compiler extensions and other decisions

hbmk2 has a lot of things hard-wired. It contains a lot
of inside knowledge about compilers. Such thing is expected
from any sort of wrapper / abstraction tool.

> hbmk2 is a beautiful piece of software with more than 7,500 lines of  
> code and well-known by you, but at last is a tool to help Harbour  
> use, not to re-direct him
>
> Do not confuse: hbmk2 tool does not have to limit /manage the main  
> project: Harbour compiler

I don't understand this last train of thought.

Should it support to build Harbour, or should it support
non-Harbour projects? Neither is a primary goal.

> >2009-11-04 17:06 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
> >  * utils/hbmk2/hbmk2.prg
> >  * config/os2/gcc.mk
> >    * Changed to use GCC default extensions for objects and libs
> >      even in OMF mode.
> >    ! This fixed hbmk2 problems reported by David Arturo Macias  
> Corona.
> >    ; Please verify if now also changed lib extension didn't create
> >      any new problem in hbmk2, f.e. when using -strip option.
>
> This is an improper and arbitrary change but expected by your position

Untrue. Arbitrary was the usage of .obj. Why not .myobjectextension?

> Against your own claim, you commited when your doubts are not  
> cleared and affecting entire OS/2 users
>
> Simply you removed .obj and .lib for os2gcc - OMF even when I  
> explained they are "conventions" in OS/2 world

When adding support for a compiler/platform combination I honestly
don't care about "OS/2 world". Is it a standard? If it is, why
GCC which is the most standard compiler in the world, doesn't
support it?

In OS/2, MS-DOS, Windows and probably some other operating systems,
there is no OS standard for objects and libraries, or to put in
differently: there are several ones. On these systems, these
things are decided on a per-tool basis. It's a pity, but that's
what we have. Also on Windows, we use different extensions for
each compiler, so I also don't (and can't) care about "Windows world".

If this bugs you so much, please approach GCC developers and
ask why they didn't use "standard" .obj extension when they have
implemented OMF support.

BTW, .obj on Windows means COFF or OMF. So much for being
a standard.

> This must be consequence of report an problem with hbmk2 ?
>
> Now you "dressed" an lib file with OMF content as an lib file with  
> a.out content

Then simply report proper default lib extension of OMF mode.
Should I guess it? You write such long mails, that at the
end I lost track of the point.

> It confuse to any OS/2 user and will fail at first try
> In OS/2 projects we look for .a files in a.out mode and .lib files  
> in OMF mode
> I explained time ago that some projects release both types and there  
> are not conflict/collision due file extension

> Only you know how you based your decision but it affect to OS/2  
> "community"

> You do not need to be OS/2 user to understand this new problem
> Your change fix a problem with hbmk2 reported by me opening an  
> widest problem as you can easily understand
>
> That change must be reverted, at least for lib file extension
> object file extension are of low importance as they are intermediate  
> files. But lib files are for end-users
> You got your own conclusions and decided your change
>
> Harbour developers will release OMF type lib files as .a files for  
> OS/2 world ? It may be funny but is tragic and is evidence of lack  
> of care
> As other OS/2 projects we should release .a and .lib library files  
> of proper type
>
> And in friendly words:
> If you decide to revert your change, try to not to add your now  
> typical notes as: "I received false information", "as just copied",  
> and so on
> Is improper to see them in Changelog, including <"rogue" patch">  
> phrase

Well, first off, you never commit when it comes to patching
OS/2 things in Harbour, and you claim that you have only time
and knowledge for tests, this is fine. In this particular case
though, you even knew my opinion, yet committed it exceptionally
and quickly. To me this qualifies as "rogue". We don't work
like this on Harbour dev list.

> Again I suggest to follow:
> > ... most of OS/2 projects style using .obj and .lib in OMF
>
> To confirm default extensions in os2gcc-OMF I made some tests so  
> they can help to understand and rely your revert
>
> Note: I am not being an C developer, I just adapted from OWatcom guide
>
> Tests do not use file name extensions unless they are forced to  
> avoid error for existance
> Process show dir in each phase so default extensions are easily seen

After above exhausting e-mail I may be a little bit unfocused
to analyze your test result. I think an up to the point
e-mail would not waste our time so much.

So, if I understand you correctly, you want to say that the
default extension of libs is ".lib" in OS/2?

If that's so please confirm it, it was an actual question
in my ChangeLog entry, and if .lib is the default for OMF
mode I'll change it. You may have found out from all my
mails that I wish to use default extensions, whatever these
are. It could even be ".fordfairlane".

The only thing I don't understand is why can't you include
just this one line of information, saving me half an hour,
and another half for you.

It'd help a great deal finding out the real OS/2 information.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Nov  5 06:47:47 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov  5 06:47:57 2009
Subject: [Harbour] hbmk2, mingw and dlls
In-Reply-To: <4AF2B37D.6090000@adinet.com.uy>
References: <4AF1DDB6.7060400@adinet.com.uy> <4AF2B37D.6090000@adinet.com.uy>
Message-ID: <AD5369CB-5F59-4107-BDC3-93EECCF5FB89@syenar.hu>

Hi Maurizio,

> -------------
> I need to add xhb in libs.

I hope this will be fixed. No contrib should rely on xhb lib,
hbqt isn't an exception. (IMO not even "temporarily", we even
have debug macros that don't xhb lib.)

Pritpal can help here.

> The demo still need to  QtCore4 QtGui4 QtNetwork4 QtWebKit4  
> mingwm10  dll's

No idea, and I'm afraid I don't have time to rebuild
everything to make tests now.

> Where can I find information about usage of hbmk2, I wish to build  
> an application with multiple prgs, i wish to link with another obj  
> (I can build that obj to a lib), personal libs, and contrib libs.

Everything above is supported by hbmk2. I actually use
the same features locally.

For now you have to get the information from INSTALL,
hbmk2 --help, RELNOTES, ChangeLog, plus the various
sample .hbp / .hbm and .hbc file you can find on SVN.

Brgds,
Viktor

From mbelgrano at deltain.it  Thu Nov  5 06:53:20 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Nov  5 06:53:48 2009
Subject: [Harbour] hbmk2, mingw and dlls
In-Reply-To: <4AF2B37D.6090000@adinet.com.uy>
References: <4AF1DDB6.7060400@adinet.com.uy> <4AF2B37D.6090000@adinet.com.uy>
Message-ID: <609353e70911050353l5399e060g1070be32c0bb21a8@mail.gmail.com>

I want notice you same info about lgpl licenze of qt

Static linking means the whole library's code is embedded into your
program. LGPL only allows proprietary usage with dynamic linking
(which doesn't include the library); static linking forces you to LGPL
or GPL your code...
http://ubuntuforums.org/showthread.php?t=1066632

2009/11/5 Maurizio Faccio adinet <maufacc@adinet.com.uy>:
> Thanks Viktor
>
> I've make harbour with the following env vars.
> -----------------
> HB_BUILD_IMPLIB=yes
> HB_DIR_BLAT=C:\blat
> HB_DIR_MYSQL=C:\mysql
> HB_DIR_QT=C:\Qt\qt
> HB_INSTALL_PREFIX=C:\HARBBETA
> HB_QT_STATIC=yes
> HB_WITH_BLAT=C:\blat\full\source
> HB_WITH_MYSQL=C:\mysql\include
> HB_WITH_QT=C:\Qt\qt\include
> -------------------
>
> I can find in hbqts.hbc
> ----------
> incpaths=.
>
> {allwin}libpaths=${HB_DIR_QT}\lib
>
> libs=hbqts
> libs=hbqtcores hbqtguis hbqtnetworks hbqtwebkits
>
> {win}libs=version shlwapi
> {allwin}libs=QtCore4 QtGui4 QtNetwork4 QtWebKit4
> {allgcc}libs=supc++
>
> gui=yes
> gt=gtnul
>
> -------------
> I need to add xhb in libs.
> The demo still need to ?QtCore4 QtGui4 QtNetwork4 QtWebKit4 mingwm10 ?dll's
>
> Where can I find information about usage of hbmk2, I wish to build an
> application with multiple prgs, i wish to link with another obj (I can build
> that obj to a lib), personal libs, and contrib libs.
> Can i use qt to make a console application that should show different images
> as i move in a console (clipper like) browse.
>
> Thanks
>
> Maurizio Faccio
>
>
>
>
>
>
>
>
> Maurizio Faccio adinet escribi?:
>>
>> I am trying to compile demoqt on windows, test of hbqt, without dlls but I
>> cannot make an exe that do not need the dlls. I have the .a libraries of qt.
>>
>> Thank you in advance.
>>
>> Maurizio Faccio
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From dmacias at mail.udg.mx  Thu Nov  5 07:10:57 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Nov  5 07:11:27 2009
Subject: [Harbour] EMPTY() behaviour
Message-ID: <4AF2C0D1.7040307@mail.udg.mx>

I do not have an recent Harbour Linux build to check it, but with old 
build show different EMPTY() behaviour in Windows and Linux

This reduced code sample:

cMyVar := CHR(13)+CHR(10)
qout( EMPTY(cMyVar) )

show .F. in Windows and .T. in Linux

Historically correct result is .F., at least since Clipper age

Why in Linux both (x)Harbour report .T. ?

And a bad surprise:
Both Harbour in OS/2: os2gcc and OpenWatcom show .T., which is wrong too
Checked with recent Harbour

David Macias


From amigosam at adinet.com.uy  Thu Nov  5 07:34:29 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Thu Nov  5 07:37:52 2009
Subject: [Harbour] Re: Multithreading support in Harbour
In-Reply-To: <609353e70911040903p20455f5cx97f0d4412e92ce35@mail.gmail.com>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
	<609353e70911040543h38299cb8hbad6c84ce5c964d4@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D33@PINK.zycie.pzu>
	<609353e70911040701v56fa6f03kca55b1b5c01cf88@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D59@PINK.zycie.pzu>
	<609353e70911040903p20455f5cx97f0d4412e92ce35@mail.gmail.com>
Message-ID: <hcugoh$7e7$1@ger.gmane.org>

An experiment is NOT a promise.
HMGScript was/is a proof of concept, nothing more.
Minigui doesn't sell anything so it doesn`t have to promise anything to 
anyone. If you find something missing in minigui or harbour you are 
invited to do it yourself.

Regards
Angel

From mbelgrano at deltain.it  Thu Nov  5 07:58:43 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Nov  5 07:59:11 2009
Subject: [Harbour] Re: Multithreading support in Harbour
In-Reply-To: <hcugoh$7e7$1@ger.gmane.org>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu> 
	<609353e70911040543h38299cb8hbad6c84ce5c964d4@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D33@PINK.zycie.pzu> 
	<609353e70911040701v56fa6f03kca55b1b5c01cf88@mail.gmail.com> 
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D59@PINK.zycie.pzu> 
	<609353e70911040903p20455f5cx97f0d4412e92ce35@mail.gmail.com> 
	<hcugoh$7e7$1@ger.gmane.org>
Message-ID: <609353e70911050458g2c56cf34t2e6437e5871da63c@mail.gmail.com>

Imo is a very good Proof of concept
Harbour MiniGUI Script is a Harbour to JavaScript.
The goal of the project is to allow to developers the creation of web
applications using the same logic and similar syntax as HMG desktop
applications
I strong agree minigui group also if i not use minigui library

IMO here a lot of us  need a path for made a web application
strong path are made by harbour\examples terminal or uhttpd2
we need a universal server compoment so hbm not require php
soap server maj be the solution?

2009/11/5 Angel Pais <amigosam@adinet.com.uy>:
> An experiment is NOT a promise.
> HMGScript was/is a proof of concept, nothing more.
> Minigui doesn't sell anything so it doesn`t have to promise anything to
> anyone. If you find something missing in minigui or harbour you are invited
> to do it yourself.
>
> Regards
> Angel
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Thu Nov  5 08:10:10 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov  5 08:10:20 2009
Subject: [Harbour] Multithreading support in Harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6E56@PINK.zycie.pzu>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag><FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
	<609353e70911040543h38299cb8hbad6c84ce5c964d4@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D33@PINK.zycie.pzu>
	<609353e70911040701v56fa6f03kca55b1b5c01cf88@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D59@PINK.zycie.pzu>
	<609353e70911040903p20455f5cx97f0d4412e92ce35@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6E56@PINK.zycie.pzu>
Message-ID: <05165746-7EDC-4EBC-B1A1-CF7E19B0DCA9@syenar.hu>


On 2009 Nov 5, at 11:57, Horodyski Marek (PZUZ) wrote:

>> -----Original Message-----
>> From: Massimo Belgrano [mailto:mbelgrano@deltain.it]
>> Sent: Wednesday, November 04, 2009 6:04 PM
>> To: Harbour Project Main Developer List.
>> Subject: Re: [Harbour] Multithreading support in Harbour
>>
>> He Marek
>
> [...]
>
>>> have to allow him to finish the  job using PDA and WWW
>> browser when he will return to home.
>>> I plan to work on such library in the future.
>>
>> i suggest also follow the path of MINIGUI script that promise
>> to be used for made a web application
>> http://www.hmgforum.com/viewforum.php?f=17
>
>
> Nice. So what?
> Any solution that you will not find in the contrib is doomed to fail.
> Roberto wants to lead MINIGUI separately - for the year proves that  
> you
> can not combine these versions - because it is "disperse".
> Prophylactically will avoid problems.

It's not true that everything is doomed to fail what is
not in contrib. I think Harbour would be nowhere near it
is now, without active 3rd party projects.

If there is a perceived problem with quality or support,
we may try to help each other. This is also true for our
own contribs.

Brgds,
Viktor

From amigosam at adinet.com.uy  Thu Nov  5 08:15:30 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Thu Nov  5 08:15:58 2009
Subject: [Harbour] Re: Multithreading support in Harbour
In-Reply-To: <609353e70911050458g2c56cf34t2e6437e5871da63c@mail.gmail.com>
References: <C3CD2B7C79134BFCB431D1E24B502DB9@emag>	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6CB0@PINK.zycie.pzu>
	<609353e70911040543h38299cb8hbad6c84ce5c964d4@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D33@PINK.zycie.pzu>
	<609353e70911040701v56fa6f03kca55b1b5c01cf88@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C95029E6D59@PINK.zycie.pzu>
	<609353e70911040903p20455f5cx97f0d4412e92ce35@mail.gmail.com>
	<hcugoh$7e7$1@ger.gmane.org>
	<609353e70911050458g2c56cf34t2e6437e5871da63c@mail.gmail.com>
Message-ID: <hcuj5e$gee$1@ger.gmane.org>

Everything is possible.
A good friend of mine says this is simply about 5% inspiration and 95% 
hard work.

Regards
Angel

From harbour.01 at syenar.hu  Thu Nov  5 08:29:07 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov  5 08:29:16 2009
Subject: [Harbour] Re: OS/2: hbmk2
In-Reply-To: <1037F94A-7FDC-4F7E-A233-90A73DD8D05A@syenar.hu>
References: <4AF2AFF6.4090400@mail.udg.mx>
	<1037F94A-7FDC-4F7E-A233-90A73DD8D05A@syenar.hu>
Message-ID: <F0EF6207-C664-4CE1-87FF-9ABADB6A89AC@syenar.hu>

> So, if I understand you correctly, you want to say that the
> default extension of libs is ".lib" in OS/2?

I have to correct my question, which I put too vaguely
out of fatigue.

It sounds:

So, if I understand you correctly, you want to say that the
default extension for libs with OS/2 GCC in OMG mode, is
".lib"?

Brgds,
Viktor

From druzus at acn.waw.pl  Thu Nov  5 08:34:55 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov  5 08:35:01 2009
Subject: [Harbour] EMPTY() behaviour
In-Reply-To: <4AF2C0D1.7040307@mail.udg.mx>
References: <4AF2C0D1.7040307@mail.udg.mx>
Message-ID: <20091105133455.GA20960@34-mo7-2.home.aster.pl>

On Thu, 05 Nov 2009, David Arturo Macias Corona wrote:
> I do not have an recent Harbour Linux build to check it, but with
> old build show different EMPTY() behaviour in Windows and Linux
> This reduced code sample:
> cMyVar := CHR(13)+CHR(10)
> qout( EMPTY(cMyVar) )
> show .F. in Windows and .T. in Linux

So your Windows Harbour version is seriously broken.  do not remember
such bug in older Harbour versions.

> Historically correct result is .F., at least since Clipper age

So you were using also some very strange Clipper binaries which
are not compatible with Clipper version I was ever using.

> Why in Linux both (x)Harbour report .T. ?

Because it's correct Clipper compatible behavior.

> And a bad surprise:
> Both Harbour in OS/2: os2gcc and OpenWatcom show .T., which is wrong too
> Checked with recent Harbour

The surprised is that you haven't noticed so far that it's Clipper behavior
and you created some new theory for your imagination about EMPTY() function
results instead of making some basic test ;)

Please try this code with different clipper compatible compilers:

   proc main()
     local cStr := chr( 13 ) + chr( 10 ) + chr( 9 ) + chr( 32 )
     local i
     ? empty( cStr )
     for i := 0 to 255
       if empty( chr( i ) )
         ? i
       endif
     next
   return

I tested it with CL52, CL53, Harbour, xHarbour, CLIP and FlagShip.
Only FlagShip shows:
   .F.
            0
            9
           32

all others shows:
   .T.
            9
           10
           13
           32

best regards,
Przemek
From dmacias at mail.udg.mx  Thu Nov  5 08:49:08 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Nov  5 08:49:35 2009
Subject: [Harbour] Re: OS/2: hbmk2
Message-ID: <4AF2D7D4.7080803@mail.udg.mx>

Viktor:

 >If it's more comfortable for you to call hbmk2 buggy,
 >it's your choice. I'm not terribly sure that making
 >large noise about your opinion is very useful, but it's
 >again you choice.

 >IMO hbmk2 isn't buggy, it's designed this way, and it
 >fits _all_ other supported compilers, plus it fits
 >with expectations of most users. The job of
 >Harbour or hbmk2 isn't to make reforms on extensions
 >used by tools it gives support for.

 >It's simply going towards less resistance, making as
 >few dependency on support tools as possible, and
 >assuring users that hbmk2 does only what it needs
 >to do, not more.

Yes I know this case is not a bug so I do not named as it. It is just a 
fact of design
In the same condition, limit of os2gcc to handle list of object files in 
DLL creation in either a.out or OMF is not a bug, is result of design. 
Older, but design


 >> Use of .obj just exploited this situation

 >Believe me I can also artificially think out any
 >number of features which "exploits" such "problems".

 >These are called feature requests and design changes,
 >not bugs.

 >> Is not case of os2gcc-OMF. Any other user may found the problem if
 >> change object file extension for own purposes

 >Why would anyone want to do this?

By their own purposes. Easy to understand


 >Say, user can also create a huge problem and "break"
 >hbmk2, if he finds it a good idea to rename gcc.exe to
 >myccompiler.exe. hbmk2 will suddenly "break" in this case.
 >Is this also a hbmk2 "bug"?

That kind of tests are a matter of fools, but may happen

 >I beg your pardon? Optimized usage of C compiler is limiting
 >and risky? For one thing: hbmk2 is simply using a basic
 >C compiler feature. Compiling multiple inputs is no strange
 >thing, it's supported by lots of tools. It's also very useful.

 >Please don't suggest to cripple a tool to support exotic
 >features and exception cases.

I never considered to use own file name extension as an exotic feature, 
while I expected it was happening

 >If you want to really help the case and solve your problem,
 >you should seriously approach GCC developers and ask for two
 >features:

 >1) cmdline option to specify target _dir_ for output files.
 >2) cmdline option to specify target object extension.

 >1) would be useful also in my opinion, maybe even theirs,
 >it's also supported by some compilers (Harbour included).

Recently you have suggested that "OS/2 GCC developers" should "fix" 
cases now to fit Harbour handling, as default filename extensions in OMF 
type, or default OMF in gcc4xx, but before I explained to you:

"forget it, they are not worried about these cases. They know what to 
do/use in a.out or OMF cases and just use them"
For reasons like this I just follow "conventions" used in os2gcc-OMF 
environment.
Not hard to understand
And we can not rely on OS/2 GCC developers (much of them are growing 
VirtualBox, as you know now)

 >hbmk2 has a lot of things hard-wired. It contains a lot
 >of inside knowledge about compilers. Such thing is expected
 >from any sort of wrapper / abstraction tool.

Easy to understand in a work of that dimension. "Hard-wire" are not bad 
and we are forced to use it in some cases.
Understanding that file object extension collide with hbmk2 design, I 
suggested before to use .o extension in hbmk2 in order to not affect 
current hbmk2 structure

 >I don't understand this last train of thought.

Perhaps barrier of language used

hbmk2 is a tool to help Harbour, not to force design of Harbour

 >Untrue. Arbitrary was the usage of .obj. Why not .myobjectextension?

.obj is a convention in os2gcc-OMF as you can understand, even not 
default in C compiler

 >When adding support for a compiler/platform combination I honestly
 >don't care about "OS/2 world". Is it a standard? If it is, why
 >GCC which is the most standard compiler in the world, doesn't
 >support it?

Because is now a minor OS as you know
But what I am dealing is with os2gcc facts, not gcc in general

 >In OS/2, MS-DOS, Windows and probably some other operating systems,
 >there is no OS standard for objects and libraries, or to put in
 >differently: there are several ones. On these systems, these
 >things are decided on a per-tool basis. It's a pity, but that's
 >what we have. Also on Windows, we use different extensions for
 >each compiler, so I also don't (and can't) care about "Windows world".

Yes I know that
I just explained/applied "conventions" for a.out and OMF types in os2gcc

 >If this bugs you so much, please approach GCC developers and
 >ask why they didn't use "standard" .obj extension when they have
 >implemented OMF support.

In their "per-tool basis" they decided to not follow that path, in place 
of that they are using "conventions", as setting .obj, .lib, EMXOMF... 
environmental variables when -Zomf alien is used

 >BTW, .obj on Windows means COFF or OMF. So much for being
 >a standard.

... and in OS/2 .a are related to a.out and .lib are related to OMF

 >Then simply report proper default lib extension of OMF mode.
 >Should I guess it? You write such long mails, that at the
 >end I lost track of the point.

Bad side effect of long explanations, many of them repeated

 >Well, first off, you never commit when it comes to patching
 >OS/2 things in Harbour, and you claim that you have only time
 >and knowledge for tests, this is fine. In this particular case
 >though, you even knew my opinion, yet committed it exceptionally
 >and quickly. To me this qualifies as "rogue". We don't work
 >like this on Harbour dev list.

As you are not on my side you do not know the history
During months I was exposing use of os2gcc-OMF expecting an "qualified" 
developer to commit, as you, or Maurilio, or Przemek, to avoid 
unexpected bad side effects

But at same time I was considering to make myself that "small step" to 
put to work os2gcc.OMF in rest of world and not just in my machine
They were weeks of un-decision from my side until I finally made that 
"small step". For you was "exceptionally and quickly", for me was after 
a long delay for my "first try"

I prefer to mantain my "for tests" status and not "commiter", even I am 
menaced by "revoke R/W rights"
Is funny, I was qualified as "rogue commit" and menaced to "revoke R/W 
rights" for an small and not dangerous commit, when it was carefully done
Seriously, I hope to be the first and THE LAST people menaced to "revoke 
R/W rights" in entire Harbour history

The words remain in Changelog
As "We don't work like this on Harbour dev list.", you can kindly remove 
them from Changelog

But as I learned to commit in Harbour SVN age, I can make small and not 
dangerous changes any time. I have some pending and any day may appear

Note: I have years using SVN on my projects, even before Harbour SVN age
My Subversion server run on OS/2 since many years ago containing many 
projects
I just was "afraid" to "break" some Harbour SVN "standard"


 >After above exhausting e-mail I may be a little bit unfocused
 >to analyze your test result. I think an up to the point
 >e-mail would not waste our time so much.

Yes, I said many times ago this style is a "waste of time" but that seem 
our "natural reaction" every time I expose a case/problem involving os2gcc

Forget rest of e-mail content and focus in test result, it contain the 
relevant part

 >So, if I understand you correctly, you want to say that the
 >default extension of libs is ".lib" in OS/2?

 >If that's so please confirm it, it was an actual question
 >in my ChangeLog entry, and if .lib is the default for OMF
 >mode I'll change it. You may have found out from all my
 >mails that I wish to use default extensions, whatever these
 >are. It could even be ".fordfairlane".

 >The only thing I don't understand is why can't you include
 >just this one line of information, saving me half an hour,
 >and another half for you.

 >It'd help a great deal finding out the real OS/2 information.

I was explaining in "few lines" which are "conventions" in os2gcc world 
based on my real life researchs, and those were applied to Harbour since 
beginning

When doubts raised I repeated what must be used and you can confirm my 
statements with your own researchs, even not in real OS

But my words were ignored considering os2gcc as an gcc in general and 
not a case in particular with their own "aliens" and specially OMF 
capability with their own characteristics

So I put to work tests to backup my words and there you can found the 
answers given before

Cases are easy:
OS/2 users expect .obj and .lib for os2gcc-OMF, but .obj use are 
colliding with some Harbour parts, so I exposed before an intermediate 
solution based on object files are discarded after use:
Use .o for object file and do not touch library file extension (in other 
words, retain as .lib as expected in OMF )

You see in my tests what emxomfar.exe use when file extension are not 
specified

As you know, is a pleasure for me to discuss technical facts with you 
even they seem hard to understand at first time, ... or even after 
months explaining them  :-)

Sorry to disturb you, but I am taking care of os2gcc characteristics in 
relation to Harbour

David Macias

From vszakats at users.sourceforge.net  Thu Nov  5 09:10:29 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Nov  5 09:10:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12823] trunk/harbour
Message-ID: <E1N632j-00009N-62@74yxhf1.ch3.sourceforge.com>

Revision: 12823
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12823&view=rev
Author:   vszakats
Date:     2009-11-05 14:10:27 +0000 (Thu, 05 Nov 2009)

Log Message:
-----------
2009-11-05 15:10 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
  * config/os2/gcc.mk
    ! Fixed to use .lib extension in gccomf mode. As far I could 
      debunk it from lenghty e-mail, this is the default extension for 
      libs, used by OS/2 GCC in OMF mode.
      If not, don't blame me.
    ! Fixed to not use lib prefix in gccomf mode.
      It does seem alright but due to no testing again give me 
      *very short correction information*, if this turns out to be 
      false.

  * contrib/hbct/disk.c
    ! Typo in comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/contrib/hbct/disk.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Thu Nov  5 09:27:15 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Nov  5 09:32:00 2009
Subject: [Harbour] Recover data from damaged hdd
Message-ID: <609353e70911050627r276e2854y50bd21fb6794e4e8@mail.gmail.com>

I need a way to recover data from a damaged/ hdd
I have tried with Follow tools
TestDisk & PhotoRec http://www.cgsecurity.org/
http://hddguru.com/   Hard disk drive diagnostic and repair software

Not terminate the analysis and recover few files
any suggestion?
-- 
Massimo Belgrano
From dmacias at mail.udg.mx  Thu Nov  5 09:37:48 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Nov  5 09:38:07 2009
Subject: [Harbour] EMPTY() behaviour
Message-ID: <4AF2E33C.7000707@mail.udg.mx>

Przemek:

As usual, you are right

 >So your Windows Harbour version is seriously broken.  do not remember
 >such bug in older Harbour versions.

 >So you were using also some very strange Clipper binaries which
 >are not compatible with Clipper version I was ever using.

 >Because it's correct Clipper compatible behavior.

 >The surprised is that you haven't noticed so far that it's Clipper
 >behavior and you created some new theory for your imagination about
 >EMPTY() function results instead of making some basic test ;)

As you noticed, I reported after some basic test in Windows, OS/2 and 
LInux, and then condensed in "reduced code sample"   :-)

Norton Guide state:
   EMPTY() .T. for character type if: spaces, tabs, CR/LF, or ("")
but sometimes docs differ of real behaviour

And I was not creating "some new theory for your imagination" or other 
obscure "conspiration theory", I was just checking as you see  :-)

My code relying in EMPTY( CHR(13)+CHR(10) ) checking is from around 1997 
and passed "as-is" to my (x)Harbour age

Basically is:
----------------------
  WHIL ! EMPTY( cLisPares )
   IF ! ( nPos := AT( cDelimita, cLisPares ) ) == 0   //Posicion de 
delimitador
    cVarVal := LEFT( cLisPares, nPos - 1 )  //Extraer linea
    cLisPares := SUBS( cLisPares, nPos + LEN( cDelimita ) )  //Texto 
restante
   ELSE
    cVarVal := cLisPares ; cLisPares := SPAC(0)
   ENDI
   [...]
----------------------

where cDelimita are any string, in our case CHR(13)+CHR(10)

It has been working in this way in Clipper and (x)Harbour-Windows, and 
seeing strange result on Linux printing (it discarded rest of empty 
lines) I discovered is due EMPTY( CHR(13)+CHR(10)+CHR(13)+CHR(10)... )

Both Harbour and xHarbour (Windows) fail
They belong to August 2008, and Windows-OS/2-Linux versions were created 
with similar steps
Clipper is 5.3a with Light Lib replacements
( 5.3b showed strange differences so never replaced 5.3a with it )
An separate Clipper 5.2 show .T.

As you said, something is seriously broken in my Windows. Perhaps some 
mixture in PATH
Harbour and xHarbour are perfectly separated and never mixed and they 
are not in PATH

Thanks for your checks


That (x)Harbour, specially xHarbour, show big problems in SetColor() too
In recent Harbour it is fixed due maybe some changes you made to manage 
other cases
I am still trying to isolate why it is happening

David Macias


From mbelgrano at deltain.it  Thu Nov  5 09:51:55 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Nov  5 09:52:23 2009
Subject: [Harbour] EMPTY() behaviour
In-Reply-To: <4AF2E33C.7000707@mail.udg.mx>
References: <4AF2E33C.7000707@mail.udg.mx>
Message-ID: <609353e70911050651r1832fa41hb95112d54419b8e0@mail.gmail.com>

I suggest you download the easy and ready to use Harbour Beta3
http://www.syenar.hu/harbour/

2009/11/5 David Arturo Macias Corona <dmacias@mail.udg.mx>:
> Przemek:
>
> As usual, you are right
>
>>So your Windows Harbour version is seriously broken. ?do not remember
>>such bug in older Harbour versions.



-- 
Massimo Belgrano
From dmacias at mail.udg.mx  Thu Nov  5 10:00:44 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Nov  5 10:00:55 2009
Subject: [Harbour] Re: OS/2: hbmk2
Message-ID: <4AF2E89C.6000505@mail.udg.mx>

Viktor:

 >2009-11-05 15:10 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
 >  * utils/hbmk2/hbmk2.prg
 >  * config/os2/gcc.mk
 >    ! Fixed to use .lib extension in gccomf mode. As far I could
 >      debunk it from lenghty e-mail, this is the default extension for
 >      libs, used by OS/2 GCC in OMF mode.
 >      If not, don't blame me.
 >    ! Fixed to not use lib prefix in gccomf mode.
 >      It does seem alright but due to no testing again give me
 >      *very short correction information*, if this turns out to be
 >      false.

You have not resist yourself  :-)

Two facts:
a) If matter is restore .lib extension, why you touch "lib prefix" too ?
  Is not first time that for an single change, you touch un-necessarily 
other parts which do not have problems. It just cause waste in checking 
and maybe further corrections
I will check and report it later
Hopefully I do not need to change scripts to use a.out with "lib prefix" 
and OMF without "lib prefix"

b) You insist to put "funny ?" messages re-filling Changelog specially 
in my requests, even I warned you:

"And in friendly words:
If you decide to revert your change, try to not to add your now typical
notes as: "I received false information", "as just copied", and so on
Is improper to see them in Changelog, including <"rogue" patch"> phrase"


Anyway, thanks for your change, your effort and our patience

David Macias
From dmacias at mail.udg.mx  Thu Nov  5 10:12:55 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Nov  5 10:13:07 2009
Subject: [Harbour] EMPTY() behaviour
Message-ID: <4AF2EB77.3060102@mail.udg.mx>

Massimo:

 >I suggest you download the easy and ready to use Harbour Beta3
 >http://www.syenar.hu/harbour/

Viktor releases are as "easy and ready to use" as my own fresh builds in 
Windows, OS/2 ans Linux along years

My production releases (last are from August 2008, Harbour team is 
delaying too much to decide an official release), both (x)Harbour, 
specially xHarbour, have minor adjustments to correct improper behaviour 
and/or variations for FWH, Clipxnet, Citlalli, ....

But EMPTY() are not touched  :-)

David Macias


From gabor.salai at euroherc.hr  Thu Nov  5 10:14:59 2009
From: gabor.salai at euroherc.hr (sali)
Date: Thu Nov  5 10:14:10 2009
Subject: [Harbour] Recover data from damaged hdd
References: <609353e70911050627r276e2854y50bd21fb6794e4e8@mail.gmail.com>
Message-ID: <0e4601ca5e2a$bdaf9a80$6700540a@euroherc.ba>

----- Original Message ----- 
From: "Massimo Belgrano" <mbelgrano@deltain.it>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Thursday, November 05, 2009 3:27 PM
Subject: [Harbour] Recover data from damaged hdd


>I need a way to recover data from a damaged/ hdd
> I have tried with Follow tools
> TestDisk & PhotoRec http://www.cgsecurity.org/
> http://hddguru.com/   Hard disk drive diagnostic and repair software
>
> Not terminate the analysis and recover few files
> any suggestion?

http://rapidshare.com/files/114209708/OnTrack_Easy_Recovery_Professional_v6.104EverDranser_.rar

we are using this utility, it is able to recover files even after drive 
being formatted
maybe helps 

From mbelgrano at deltain.it  Thu Nov  5 10:18:01 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Nov  5 10:18:30 2009
Subject: [Harbour] Recover data from damaged hdd
In-Reply-To: <0e4601ca5e2a$bdaf9a80$6700540a@euroherc.ba>
References: <609353e70911050627r276e2854y50bd21fb6794e4e8@mail.gmail.com> 
	<0e4601ca5e2a$bdaf9a80$6700540a@euroherc.ba>
Message-ID: <609353e70911050718m5240bf96nc93f5280d244c2af@mail.gmail.com>

Thanks but the download of this file is currently not possible.

2009/11/5 sali <gabor.salai@euroherc.hr>:
> ----- Original Message ----- From: "Massimo Belgrano" <mbelgrano@deltain.it>
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Sent: Thursday, November 05, 2009 3:27 PM
> Subject: [Harbour] Recover data from damaged hdd
>
>
>> I need a way to recover data from a damaged/ hdd
>> I have tried with Follow tools
>> TestDisk & PhotoRec http://www.cgsecurity.org/
>> http://hddguru.com/ ? Hard disk drive diagnostic and repair software
>>
>> Not terminate the analysis and recover few files
>> any suggestion?
>
> http://rapidshare.com/files/114209708/OnTrack_Easy_Recovery_Professional_v6.104EverDranser_.rar
>
> we are using this utility, it is able to recover files even after drive
> being formatted
> maybe helps
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From sscc at mweb.co.za  Thu Nov  5 10:40:10 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Nov  5 10:40:20 2009
Subject: [Harbour] Bad source compiles?
Message-ID: <4AF2F1DA.4030707@mweb.co.za>

Hi all

I can compile this (note the bracket):

STATIC FUNCTION MySFNToLFN(cShortName, /*@*/cLongName)

     LOCAL cFullShortName
     LOCAL lSave := .F.

     cShortName := RTRIM(cShortName)
     IF !EMPTY(cShortName)
         //cFullShortName := UPPER(aFName[P_FBMPDir] + cShortName)
         IF GetLongPathName(cFullShortName, @cLongName) > 0
                 // UPPER because BOH may not match boh
             IF !(cFullShortName == UPPER(cLongName))
//                cLongName := SUBSTR(cLongName, LEN(aFName[P_FBMPDir]) + 1)
                 JnlInfo("<" + cShortName + "> => <" + cLongName + ">")
                 lSave := .T.
             //ELSE
                 //JnlInfo(cShortName + " not changed"
)
             ENDIF
         ELSE
             JnlInfo("Conversion of " + cShortName + " failed (missing?)")
         ENDIF
     ENDIF

RETURN lSave

Can anyone else?

Regards
Alex

Compiler output:

C:\Users\Alex\ECR6.4>hbmk2 -n -w3 br olecore.c oleinit.c -lhbwin -lxhb
hbmk2: Processing environment options: -compiler=msvc
Harbour 2.0.0beta3 (Rev. 12813)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'br.prg'...
br.prg(25) Warning W0033  Variable 'CFULLSHORTNAME' is never assigned in functio
n 'MYSFNTOLFN(4)'
Lines 25, Functions/Procedures 1
Generating C source output to 'br.c'... Done.
br.c
From harbour.01 at syenar.hu  Thu Nov  5 10:43:22 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov  5 10:43:33 2009
Subject: [Harbour] Re: OS/2: hbmk2
In-Reply-To: <4AF2E89C.6000505@mail.udg.mx>
References: <4AF2E89C.6000505@mail.udg.mx>
Message-ID: <338F7107-CEF3-4C5A-8CA8-FEB378D6FEDD@syenar.hu>

> Two facts:
> a) If matter is restore .lib extension, why you touch "lib prefix"  
> too ?
> Is not first time that for an single change, you touch un- 
> necessarily other parts which do not have problems. It just cause  
> waste in checking and maybe further corrections
> I will check and report it later
> Hopefully I do not need to change scripts to use a.out with "lib  
> prefix" and OMF without "lib prefix"

 From your examples it seemed to me that lib prefix is not
used in OMF mode.

Or did I miss a "libmytestlib.lib" name from your outputs?

> b) You insist to put "funny ?" messages re-filling Changelog  
> specially in my requests, even I warned you:
>
> "And in friendly words:
> If you decide to revert your change, try to not to add your now  
> typical
> notes as: "I received false information", "as just copied", and so on
> Is improper to see them in Changelog, including <"rogue" patch">  
> phrase"
>
> Anyway, thanks for your change, your effort and our patience

I didn't fill it with any malicious thing, but believe
me for me it's much easier to read two short sentences
with an answer, than wading through a very lengthy e-mail
and try to find the answers from batch files and generated
output, read between long lines of opinions and whatnot.

Generally such mails can be informative, but in your case
there are two things which make it much more painful (for me):

1) You mailer seems to scramble line so that I can't tell
apart original content from your own added content (answers).
For everyone else it's color coded in my mail client, in your
case, everything looks as one block of text.
2) I really can't dedicate more than absolutely necessary
for OS/2. I don't see any benefit in understanding it, since
most probably I'll never have to deal with it anytime in
my future or present life.
+1) Mails *are* long.

Brgds,
Viktor

From druzus at acn.waw.pl  Thu Nov  5 10:51:42 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov  5 10:51:48 2009
Subject: [Harbour] Bad source compiles?
In-Reply-To: <4AF2F1DA.4030707@mweb.co.za>
References: <4AF2F1DA.4030707@mweb.co.za>
Message-ID: <20091105155142.GA27185@34-mo7-2.home.aster.pl>

On Thu, 05 Nov 2009, Alex Strickland wrote:

Hi,

> I can compile this (note the bracket):
[...]
> Can anyone else?

t24.prg(17) Error E0030  Syntax error "syntax error at ')'"

> Compiler output:
> C:\Users\Alex\ECR6.4>hbmk2 -n -w3 br olecore.c oleinit.c -lhbwin -lxhb
> hbmk2: Processing environment options: -compiler=msvc
> Harbour 2.0.0beta3 (Rev. 12813)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'br.prg'...
> br.prg(25) Warning W0033  Variable 'CFULLSHORTNAME' is never assigned in functio
> n 'MYSFNTOLFN(4)'
> Lines 25, Functions/Procedures 1

Look at line numbers. They clearly shows that there is no EOL in your
original source code.
Ask your editor authors why it formats text in such way or look
using binary editor at your file.
Again I ask to make at least basic verification of messages send to this
list.

best regards,
Przemek
From teo at windtelsoft.com  Thu Nov  5 11:09:01 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Thu Nov  5 11:09:14 2009
Subject: [Harbour] Bad source compiles?
In-Reply-To: <4AF2F1DA.4030707@mweb.co.za>
References: <4AF2F1DA.4030707@mweb.co.za>
Message-ID: <689C8DF8-26CD-4C67-B077-71F01D8CA124@windtelsoft.com>


On Nov 5, 2009, at 9:40 AM, Alex Strickland wrote:

> Hi all
>
> I can compile this (note the bracket):
>
> STATIC FUNCTION MySFNToLFN(cShortName, /*@*/cLongName)
>
>    LOCAL cFullShortName
>    LOCAL lSave := .F.
>
>    cShortName := RTRIM(cShortName)
>    IF !EMPTY(cShortName)
>        //cFullShortName := UPPER(aFName[P_FBMPDir] + cShortName)
>        IF GetLongPathName(cFullShortName, @cLongName) > 0
>                // UPPER because BOH may not match boh
>            IF !(cFullShortName == UPPER(cLongName))
> //                cLongName := SUBSTR(cLongName, LEN(aFName 
> [P_FBMPDir]) + 1)
>                JnlInfo("<" + cShortName + "> => <" + cLongName + ">")
>                lSave := .T.
>            //ELSE
>                //JnlInfo(cShortName + " not changed"
> )
>            ENDIF
>        ELSE
>            JnlInfo("Conversion of " + cShortName + " failed  
> (missing?)")
>        ENDIF
>    ENDIF
>
> RETURN lSave
>
> Can anyone else?
>
> Regards
> Alex
>
> Compiler output:
>
> C:\Users\Alex\ECR6.4>hbmk2 -n -w3 br olecore.c oleinit.c -lhbwin -lxhb
> hbmk2: Processing environment options: -compiler=msvc
> Harbour 2.0.0beta3 (Rev. 12813)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'br.prg'...
> br.prg(25) Warning W0033  Variable 'CFULLSHORTNAME' is never  
> assigned in functio
> n 'MYSFNTOLFN(4)'

I think that the warning description fully describes the problem. You  
need to assign some initial value before using "CFULLSHORTNAME" as  
parameter.

> Lines 25, Functions/Procedures 1
> Generating C source output to 'br.c'... Done.


best regards,

Teo

From teo at windtelsoft.com  Thu Nov  5 11:10:39 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Thu Nov  5 11:10:48 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
References: <75117F5D-C950-42E6-BBB4-F6B2C8FECCBE@me.com>
Message-ID: <A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com>



Begin forwarded message:

> From: Teo Fonrouge <tfonrouge@me.com>
> Date: November 3, 2009 1:13:00 PM CST
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org 
> >
> Subject: [Viktor] Suggestions on How to Get Help
>
> Hello Viktor,
>
> It would be nice if in the following Harbour's SourceForge link:
>
> http://sourceforge.net/projects/harbour-project/support
>
> we have something that redirect the new users to this mailing list  
> in order to get Help.
>
> Also there is not a "Support" link in the http://www.harbour-project.org/ 
>  page, I know that under "Development" is the link to the mailing  
> lists but I think that would be much clear to have it under "Support"
>
> Also, I think that it's very important to have the recent Przemek's  
> xhb-diff.txt  document somewhere at sight in the Harbour's main web  
> page (of course after Przemek's permission), I believe that not few  
> xHarbour users will appreciate it.
>
>
> best regards,
>
> Teo
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091105/73c03c1f/attachment.html
From mbelgrano at deltain.it  Thu Nov  5 11:24:14 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Nov  5 11:24:43 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com>
References: <75117F5D-C950-42E6-BBB4-F6B2C8FECCBE@me.com>
	<A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com>
Message-ID: <609353e70911050824n2a2177d5seb06ef080176b83e@mail.gmail.com>

I suggest post any kind of problem using harbour  at
http://www.hmgforum.com/viewforum.php?f=7
where is possible find good supporting Harbour compiler
is possible find a also Wiki for harbour at http://www.hmgforum.com/wiki


+1 xhb-diff.txt in harbour web page


2009/11/5 Teo Fonrouge <teo@windtelsoft.com>:
>
>
> Begin forwarded message:
>
> From: Teo Fonrouge <tfonrouge@me.com>
> Date: November 3, 2009 1:13:00 PM CST
> To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Subject: [Viktor] Suggestions on How to Get Help
>
> Hello Viktor,
>
> It would be nice if in the following Harbour's SourceForge link:
>
> http://sourceforge.net/projects/harbour-project/support
>
> we have something that redirect the new users to this mailing list in order
> to get Help.
>
> Also there is not a "Support" link in the http://www.harbour-project.org/
> page, I know that under "Development" is the link to the mailing lists but I
> think that would be much clear to have it under "Support"
>
> Also, I think that it's very important to have the recent Przemek's
> xhb-diff.txt ?document somewhere at sight in the Harbour's main web page (of
> course after Przemek's permission), I believe that not few xHarbour users
> will appreciate it.
>
>
> best regards,
>
> Teo
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>



-- 
Massimo Belgrano
From sscc at mweb.co.za  Thu Nov  5 11:40:10 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Thu Nov  5 11:40:19 2009
Subject: [Harbour] Bad source compiles?
In-Reply-To: <20091105155142.GA27185@34-mo7-2.home.aster.pl>
References: <4AF2F1DA.4030707@mweb.co.za>
	<20091105155142.GA27185@34-mo7-2.home.aster.pl>
Message-ID: <4AF2FFEA.4000609@mweb.co.za>

Przemys?aw Czerpak wrote:

> Look at line numbers. They clearly shows that there is no EOL in your
> original source code.

You are right, thank you.

> Again I ask to make at least basic verification of messages send to this
> list.

In future I will be sure to first e-mail myself the code and then recompile it 
so that I can pick up bugs in my editor. I assure you that I do not see 
something and just bang off an e-mail immediately, I tried quite a number of 
things and never dreamed of a missing EOL. Sorry it turned out to be something 
so basic.

Regards
Alex

From harbour.01 at syenar.hu  Thu Nov  5 13:20:30 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov  5 13:20:52 2009
Subject: [Harbour] Re: OS/2: hbmk2
In-Reply-To: <4AF2E89C.6000505@mail.udg.mx>
References: <4AF2E89C.6000505@mail.udg.mx>
Message-ID: <AFD3175E-F005-4B15-A6CC-EC942A7AA1F4@syenar.hu>

BTW, looking at Harbour build and hbmk2, 'lib' prefix
isn't used at all at build time for os2/gcc, so I wonder
how any OS/2 GCC user could have made even an single
successful test even in plain default gcc mode.

So, to me the solution looks like to remove lib prefix
also for os2/gcc targets in hbmk2, so that it gets synced
with core lib names. I'll do that.

Another solution is that lib prefix is missing. In this
case we should decide whether to add it default mode
and/or in gccomf mode.

3rd solution is that I'm missing something, but my test
method is solely to look at the code.

Brgds,
Viktor

On 2009 Nov 5, at 16:00, David Arturo Macias Corona wrote:

> Viktor:
>
> >2009-11-05 15:10 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
> >  * utils/hbmk2/hbmk2.prg
> >  * config/os2/gcc.mk
> >    ! Fixed to use .lib extension in gccomf mode. As far I could
> >      debunk it from lenghty e-mail, this is the default extension  
> for
> >      libs, used by OS/2 GCC in OMF mode.
> >      If not, don't blame me.
> >    ! Fixed to not use lib prefix in gccomf mode.
> >      It does seem alright but due to no testing again give me
> >      *very short correction information*, if this turns out to be
> >      false.
>
> You have not resist yourself  :-)
>
> Two facts:
> a) If matter is restore .lib extension, why you touch "lib prefix"  
> too ?
> Is not first time that for an single change, you touch un- 
> necessarily other parts which do not have problems. It just cause  
> waste in checking and maybe further corrections
> I will check and report it later
> Hopefully I do not need to change scripts to use a.out with "lib  
> prefix" and OMF without "lib prefix"
>
> b) You insist to put "funny ?" messages re-filling Changelog  
> specially in my requests, even I warned you:
>
> "And in friendly words:
> If you decide to revert your change, try to not to add your now  
> typical
> notes as: "I received false information", "as just copied", and so on
> Is improper to see them in Changelog, including <"rogue" patch">  
> phrase"
>
>
> Anyway, thanks for your change, your effort and our patience
>
> David Macias
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Thu Nov  5 14:03:10 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Nov  5 14:03:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12824] trunk/harbour
Message-ID: <E1N67by-0001d9-5C@d5vjzd1.ch3.sourceforge.com>

Revision: 12824
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12824&view=rev
Author:   vszakats
Date:     2009-11-05 19:03:08 +0000 (Thu, 05 Nov 2009)

Log Message:
-----------
2009-11-05 19:25 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Deleted 'lib' prefix for os2/gcc targets to sync it 
      with Harbour GNU make build setup.
      See my mail on dev list for other options.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Thu Nov  5 15:17:24 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Nov  5 15:17:31 2009
Subject: [Harbour] MINGW - Dll to Lib - Command Syntax
Message-ID: <26221154.post@talk.nabble.com>


Hello

Can someone enlighten me how can I extract a 
static linkable lib from a .dll with MINGW?

This should be equivalent to "implib" utility of BCC.

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/MINGW---Dll-to-Lib---Command-Syntax-tp26221154p26221154.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Thu Nov  5 15:41:37 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Nov  5 15:42:07 2009
Subject: [Harbour] MINGW - Dll to Lib - Command Syntax
In-Reply-To: <26221154.post@talk.nabble.com>
References: <26221154.post@talk.nabble.com>
Message-ID: <609353e70911051241s23e56812lcae52f5f0535806@mail.gmail.com>

Hi Pritpal
I post here my incomplete info
dlltool can do the equivalent of IMPLIB., but is limited and buggly.
same situation like ads is sufficent copy .a in lib
the above method does not work with __stdcall functions. For MSVC will
prefix an underscore to __stdcall functions while MinGW will not. The
right way is to produce the DEF file using the pexports tool
(downloadable here if not found elsewhere) and filter off the first
underscore by sed:
pexports testdll.dll | sed "s/^_//" > testdll.def
Then, when using dlltool to produce the import library, add `-U' to
the command line:
dlltool -U -d testdll.def -l libtestdll.a


2009/11/5 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hello
>
> Can someone enlighten me how can I extract a
> static linkable lib from a .dll with MINGW?
>
> This should be equivalent to "implib" utility of BCC.
>
> Regards
> Pritpal Bedi
> --
> View this message in context: http://old.nabble.com/MINGW---Dll-to-Lib---Command-Syntax-tp26221154p26221154.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



--
Massimo Belgrano
From harbour.01 at syenar.hu  Thu Nov  5 15:49:17 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov  5 15:49:29 2009
Subject: [Harbour] MINGW - Dll to Lib - Command Syntax
In-Reply-To: <26221154.post@talk.nabble.com>
References: <26221154.post@talk.nabble.com>
Message-ID: <3EF935AA-4B0A-4968-A221-706E0B1BDA3A@syenar.hu>

> Can someone enlighten me how can I extract a
> static linkable lib from a .dll with MINGW?

There is no way to create a statically linkable lib
from any dll on Windows. (well, there is one tool,
but it doesn't work and it a complete hack)

If you want to create implibs from .dlls for mingw,
the road is bumpy.

You don't need it though, since you can pass plain
dlls to mingw linker.

Brgds,
Viktor

From tech at 2dinfo.com.br  Thu Nov  5 17:40:22 2009
From: tech at 2dinfo.com.br (Tecnologia)
Date: Thu Nov  5 16:41:06 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com>
References: <75117F5D-C950-42E6-BBB4-F6B2C8FECCBE@me.com>
	<A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com>
Message-ID: <9FCDC38AF7ED4270A4C5C3F7CB54574B@noteleo>

Hello Harbour-project!

First, I must tell that IMO xhb-diff.txt document is the best effort ever made to state parameters that really help [x]Harbour users to choose between Harbour and xHarbour. Beyond all the facts it describes, the reading gives a clue about the different development philosophy and orientation behind the languages. Thank you Przemeck and friends and congratulations! 

I agree to Teo that xhb-diff should be accessible from the Harbour-project web page and it's also a very good thing that xhb-diff be part of Harbour packages.

Although xhb-diff.txt is deep (and maybe because of it), I would like to suggest that it should be the base to another text, shorter and easier, to stand at the Harbour-project web pages to highlight everything that Harbour does very well or (when it is inevitable to compare) better than xHarbour. This text could help clarify that where is written "xHarbour will offer an alternative for those interested in a more aggressive & less conservative approach" in xHarbour.org web page, one should read "Harbour developers think better before writing the code down".

[x]Harbour current and potencial users need to know, for a start, that the ST or MT mode in Harbour is not a "shakesperian" [existencial] question as in xHarbour, but is resumed to "to link or not to link" one single VM library! This single information tells more about the strength of the Harbour VM conception than all propaganda could tell! If the performance test results could be published as well I think it would be good to all [x]Harbour community. By the way, who doesn't care about sheaper, better and faster in this business!?

One question: 
I couldn't understand what was resolved about Harbour documentation. The discussion on the mailling list seems not finished and without resolution. What was decided and how is it?

Thank you
Leo

From: Teo Fonrouge 
Sent: Thursday, November 05, 2009 1:10 PM
To: Harbour Project Main Developer List. 
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help






Begin forwarded message:


  From: Teo Fonrouge <tfonrouge@me.com>

  Date: November 3, 2009 1:13:00 PM CST

  To: "Harbour Project Main Developer List." <harbour@harbour-project.org>

  Subject: [Viktor] Suggestions on How to Get Help



  Hello Viktor,

  It would be nice if in the following Harbour's SourceForge link:

  http://sourceforge.net/projects/harbour-project/support

  we have something that redirect the new users to this mailing list in order to get Help.

  Also there is not a "Support" link in the http://www.harbour-project.org/ page, I know that under "Development" is the link to the mailing lists but I think that would be much clear to have it under "Support"

  Also, I think that it's very important to have the recent Przemek's xhb-diff.txt  document somewhere at sight in the Harbour's main web page (of course after Przemek's permission), I believe that not few xHarbour users will appreciate it.


  best regards,

  Teo






--------------------------------------------------------------------------------


_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091105/3306ca12/attachment.html
From bedipritpal at hotmail.com  Thu Nov  5 16:51:16 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Nov  5 16:51:24 2009
Subject: [Harbour] MINGW - Dll to Lib - Command Syntax
In-Reply-To: <3EF935AA-4B0A-4968-A221-706E0B1BDA3A@syenar.hu>
References: <26221154.post@talk.nabble.com>
	<3EF935AA-4B0A-4968-A221-706E0B1BDA3A@syenar.hu>
Message-ID: <26222789.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> You don't need it though, since you can pass plain
> dlls to mingw linker.
> 

This seems ok.

Can you show me the syntax what I must 
insert into vouch.hbm ?

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/MINGW---Dll-to-Lib---Command-Syntax-tp26221154p26222789.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Nov  5 17:03:04 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Nov  5 17:03:10 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <9FCDC38AF7ED4270A4C5C3F7CB54574B@noteleo>
References: <A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com>
	<9FCDC38AF7ED4270A4C5C3F7CB54574B@noteleo>
Message-ID: <26222794.post@talk.nabble.com>


Hello


Tecnologia-2 wrote:
> 
> Hello Harbour-project!
> 
> First, I must tell that IMO xhb-diff.txt document is the best effort ever
> made to state parameters that really help [x]Harbour users to choose
> between Harbour and xHarbour. Beyond all the facts it describes, the
> reading gives a clue about the different development philosophy and
> orientation behind the languages. Thank you Przemeck and friends and
> congratulations! 
> 
> I agree to Teo that xhb-diff should be accessible from the Harbour-project
> web page and it's also a very good thing that xhb-diff be part of Harbour
> packages.
> 

+1



> Although xhb-diff.txt is deep (and maybe because of it), I would like to
> suggest that it should be the base to another text, shorter and easier, to
> stand at the Harbour-project web pages to highlight everything that
> Harbour does very well or (when it is inevitable to compare) better than
> xHarbour. This text could help clarify that where is written "xHarbour
> will offer an alternative for those interested in a more aggressive & less
> conservative approach" in xHarbour.org web page, one should read "Harbour
> developers think better before writing the code down".
> 

++1



> [x]Harbour current and potencial users need to know, for a start, that the
> ST or MT mode in Harbour is not a "shakesperian" [existencial] question as
> in xHarbour, but is resumed to "to link or not to link" one single VM
> library! This single information tells more about the strength of the
> Harbour VM conception than all propaganda could tell! If the performance
> test results could be published as well I think it would be good to all
> [x]Harbour community. By the way, who doesn't care about sheaper, better
> and faster in this business!?
> 

MT in Harbour is simply fantastic, even better than Xbase++, I endorse this
fact. strongly.



> One question: 
> I couldn't understand what was resolved about Harbour documentation. The
> discussion on the mailling list seems not finished and without resolution.
> What was decided and how is it?
> 

The unresolved part was "volunteer efforts" which nobody seemed to extend
except April White.
Probbaly someone have to take the initiative and charge passionately.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/Fwd%3A--Viktor--Suggestions-on-How-to-Get-Help-tp26217598p26222794.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Nov  5 17:06:13 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov  5 17:06:23 2009
Subject: [Harbour] MINGW - Dll to Lib - Command Syntax
In-Reply-To: <26222789.post@talk.nabble.com>
References: <26221154.post@talk.nabble.com>
	<3EF935AA-4B0A-4968-A221-706E0B1BDA3A@syenar.hu>
	<26222789.post@talk.nabble.com>
Message-ID: <420A5CC0-4C7C-45B6-AF43-69139BEEA7B4@syenar.hu>

> Viktor Szak?ts wrote:
>>
>> You don't need it though, since you can pass plain
>> dlls to mingw linker.
>>
>
> This seems ok.
>
> Can you show me the syntax what I must
> insert into vouch.hbm ?

I could only guess, since I never had to use it,
probably -lsomething.dll. If you cannot push it
through the hbmk2 filter like that, you can force
it by passing it as ldflag directly. In this case
though pls report it on the list.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Nov  5 17:08:03 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov  5 17:08:13 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com>
References: <75117F5D-C950-42E6-BBB4-F6B2C8FECCBE@me.com>
	<A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com>
Message-ID: <33E3CB24-54D2-402F-9C3C-02AB0631294B@syenar.hu>

Here what I replied back then in private:

On 2009 Nov 3, at 21:14, Teo Fonrouge wrote:

>
>
> Begin forwarded message:
>
>> From: Teo Fonrouge <tfonrouge@me.com>
>> Date: November 3, 2009 1:13:00 PM CST
>> To: "Harbour Project Main Developer List." <harbour@harbour-project.org 
>> >
>> Subject: [Viktor] Suggestions on How to Get Help
>>
>> Hello Viktor,
>>
>> It would be nice if in the following Harbour's SourceForge link:
>>
>> http://sourceforge.net/projects/harbour-project/support
>>
>> we have something that redirect the new users to this mailing list  
>> in order to get Help.

We already have our forum linked in. Linking the dev list
may not be a very good idea there as dev-list isn't the
right place to give classic user support.

>> Also there is not a "Support" link in the http://www.harbour-project.org/page 
>> , I know that under "Development" is the link to the mailing lists  
>> but I think that would be much clear to have it under "Support"

We should ask/inform Vailton about it, he's the master
of our page.

>> Also, I think that it's very important to have the recent Przemek's  
>> xhb-diff.txt  document somewhere at sight in the Harbour's main web  
>> page (of course after Przemek's permission), I believe that not few  
>> xHarbour users will appreciate it.

I agree, we can think how to make it more accessible.
Maybe moving it to our project root for some time, might
also help. Plus, since the text is highly detailed and
technical (which I personally like BTW), maybe someone
could compile a shorter version with the essence of it
and we could put that somewhere on the page, so more ppl
can understand it and more ppl will start to read it.

Brgds,
Viktor

----------

On 2009 Nov 5, at 17:10, Teo Fonrouge wrote:

>
>
> Begin forwarded message:
>
>> From: Teo Fonrouge <tfonrouge@me.com>
>> Date: November 3, 2009 1:13:00 PM CST
>> To: "Harbour Project Main Developer List." <harbour@harbour-project.org 
>> >
>> Subject: [Viktor] Suggestions on How to Get Help
>>
>> Hello Viktor,
>>
>> It would be nice if in the following Harbour's SourceForge link:
>>
>> http://sourceforge.net/projects/harbour-project/support
>>
>> we have something that redirect the new users to this mailing list  
>> in order to get Help.
>>
>> Also there is not a "Support" link in the http://www.harbour-project.org/ 
>>  page, I know that under "Development" is the link to the mailing  
>> lists but I think that would be much clear to have it under "Support"
>>
>> Also, I think that it's very important to have the recent Przemek's  
>> xhb-diff.txt  document somewhere at sight in the Harbour's main web  
>> page (of course after Przemek's permission), I believe that not few  
>> xHarbour users will appreciate it.
>>
>>
>> best regards,
>>
>> Teo
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From teo at windtelsoft.com  Thu Nov  5 17:32:47 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Thu Nov  5 17:32:57 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <33E3CB24-54D2-402F-9C3C-02AB0631294B@syenar.hu>
References: <75117F5D-C950-42E6-BBB4-F6B2C8FECCBE@me.com>
	<A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com>
	<33E3CB24-54D2-402F-9C3C-02AB0631294B@syenar.hu>
Message-ID: <2E6D7C25-A5B8-4CF3-959C-D365A9C488FC@windtelsoft.com>


On Nov 5, 2009, at 4:08 PM, Viktor Szak?ts wrote:

> Here what I replied back then in private:
>
> On 2009 Nov 3, at 21:14, Teo Fonrouge wrote:
>
>>
>>
>> Begin forwarded message:
>>
>>> From: Teo Fonrouge <tfonrouge@me.com>
>>> Date: November 3, 2009 1:13:00 PM CST
>>> To: "Harbour Project Main Developer List." <harbour@harbour-project.org 
>>> >
>>> Subject: [Viktor] Suggestions on How to Get Help
>>>
>>> Hello Viktor,
>>>
>>> It would be nice if in the following Harbour's SourceForge link:
>>>
>>> http://sourceforge.net/projects/harbour-project/support
>>>
>>> we have something that redirect the new users to this mailing list  
>>> in order to get Help.
>
> We already have our forum linked in. Linking the dev list
> may not be a very good idea there as dev-list isn't the
> right place to give classic user support.

Okay, then let's point the potential new users to the Harbour User  
Mail list, or simply show the link:

http://www.harbour-project.org/mailing.html

Because currently, the "Support Harbour" section on the Harbour's  
SourceForge page shows this:


Best Way To Get Help
Unfortunately, this project hasn't indicated the best way to get help.
Contact the project's administrators to find out how to get help.


>
>>> Also there is not a "Support" link in the http://www.harbour-project.org/page 
>>> , I know that under "Development" is the link to the mailing lists  
>>> but I think that would be much clear to have it under "Support"
>
> We should ask/inform Vailton about it, he's the master
> of our page.
>
>>> Also, I think that it's very important to have the recent  
>>> Przemek's xhb-diff.txt  document somewhere at sight in the  
>>> Harbour's main web page (of course after Przemek's permission), I  
>>> believe that not few xHarbour users will appreciate it.
>
> I agree, we can think how to make it more accessible.
> Maybe moving it to our project root for some time, might
> also help. Plus, since the text is highly detailed and
> technical (which I personally like BTW), maybe someone
> could compile a shorter version with the essence of it
> and we could put that somewhere on the page, so more ppl
> can understand it and more ppl will start to read it.

[snip]


best regards,

Teo

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091105/1e2b934a/attachment.html
From druzus at acn.waw.pl  Thu Nov  5 17:37:30 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov  5 17:37:38 2009
Subject: [Harbour] MINGW - Dll to Lib - Command Syntax
In-Reply-To: <26222789.post@talk.nabble.com>
References: <26221154.post@talk.nabble.com>
	<3EF935AA-4B0A-4968-A221-706E0B1BDA3A@syenar.hu>
	<26222789.post@talk.nabble.com>
Message-ID: <20091105223730.GA12256@34-mo7-2.home.aster.pl>

On Thu, 05 Nov 2009, Pritpal Bedi wrote:

Hi

> > You don't need it though, since you can pass plain
> > dlls to mingw linker.
> This seems ok.
> Can you show me the syntax what I must 
> insert into vouch.hbm ?

If you have harbour.dll then you can link it with your application
by adding two parameters:
   -L<path_to_harbour_dll> -lharbour
MinGW linker can take any DLL and create import library on the fly.
It has also some extensions, i.e. if DLL does not contain any exported
symbols but it has not striped symbol table then it can convert all
public symbols to exported ones.

best regards,
Przemek
From mbelgrano at deltain.it  Thu Nov  5 17:41:17 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Nov  5 17:41:45 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <33E3CB24-54D2-402F-9C3C-02AB0631294B@syenar.hu>
References: <75117F5D-C950-42E6-BBB4-F6B2C8FECCBE@me.com>
	<A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com> 
	<33E3CB24-54D2-402F-9C3C-02AB0631294B@syenar.hu>
Message-ID: <609353e70911051441k330773c9o8a847fad5b9b93f3@mail.gmail.com>

Follow is my valuation 0-10 of actual harbour user list:
http://sourceforge.net/apps/phpbb/harbour-project/           =4  no
attachment
http://lists.harbour-project.org/pipermail/harbour-users/    =5   difficult
login,slow
http://www.hmgforum.com/viewforum.php?f=7                 =8 good
integration in web,with  domain name redirection

2009/11/5 Viktor Szak?ts <harbour.01@syenar.hu>:
>>> Hello Viktor,
>>>
>>> It would be nice if in the following Harbour's SourceForge link:
>>>
>>> http://sourceforge.net/projects/harbour-project/support
>>>
>>> we have something that redirect the new users to this mailing list in
>>> order to get Help.
>
> We already have our forum linked in. Linking the dev list
> may not be a very good idea there as dev-list isn't the
> right place to give classic user support.
>
>>> Also there is not a "Support" link in the
>>> http://www.harbour-project.org/page, I know that under "Development" is
the
>>> link to the mailing lists but I think that would be much clear to have
it
>>> under "Support"
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091105/cecd0036/attachment.html
From harbour.01 at syenar.hu  Thu Nov  5 18:01:45 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov  5 18:01:56 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <2E6D7C25-A5B8-4CF3-959C-D365A9C488FC@windtelsoft.com>
References: <75117F5D-C950-42E6-BBB4-F6B2C8FECCBE@me.com>
	<A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com>
	<33E3CB24-54D2-402F-9C3C-02AB0631294B@syenar.hu>
	<2E6D7C25-A5B8-4CF3-959C-D365A9C488FC@windtelsoft.com>
Message-ID: <AA910F5F-2908-4142-9419-8B6338C3618D@syenar.hu>

>> We already have our forum linked in. Linking the dev list
>> may not be a very good idea there as dev-list isn't the
>> right place to give classic user support.
>
> Okay, then let's point the potential new users to the Harbour User  
> Mail list, or simply show the link:
>
> http://www.harbour-project.org/mailing.html
>
> Because currently, the "Support Harbour" section on the Harbour's  
> SourceForge page shows this:
>
>
> Best Way To Get Help
> Unfortunately, this project hasn't indicated the best way to get help.
> Contact the project's administrators to find out how to get help.

I've set it to also point to our forums. Although there was
6 support links a bit lower on the page (one of them this one).

I don't want to make this dev list the support forum, just
for the simple reason this is the dev list. It's not ideal
that core developers have to explain even the most basic concepts
all over again.

We may link in our user list, but it's pretty much dead, so
I see no point ATM.

I'd advise against distracting users to visit various other
forums (Massimo!) until we make a clear decision on what we
want to do. This way it just creates confusion.

Please post ideas how to make our forum more active, or
what other direction to take. If we chose the forum and since
this is a free project we need to build a community where
users can help each other with some central members who can
post more complicated issues here on the dev list.

Pls also gather opinions or votes which should we do of these:

1) Use our forums for Harbour support
2) Use our user mailing list for Harbour support
3) Use 3rd party forums for Harbour support (like MiniGUI)

My vote is 1). But don't have much against 3) either, as
a 3rd party developers hosted and active forum is definitely
better than no or dead forum. Best would be to have our own
forum, but this needs volunteers.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Nov  5 18:04:16 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov  5 18:04:27 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <609353e70911051441k330773c9o8a847fad5b9b93f3@mail.gmail.com>
References: <75117F5D-C950-42E6-BBB4-F6B2C8FECCBE@me.com>
	<A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com>
	<33E3CB24-54D2-402F-9C3C-02AB0631294B@syenar.hu>
	<609353e70911051441k330773c9o8a847fad5b9b93f3@mail.gmail.com>
Message-ID: <E50AA32E-E602-4843-A584-8830E05D2A12@syenar.hu>

> Follow is my valuation 0-10 of actual harbour user list:
> http://sourceforge.net/apps/phpbb/harbour-project/           =4  no  
> attachment
> http://lists.harbour-project.org/pipermail/harbour-users/    =5    
> difficult login,slow
> http://www.hmgforum.com/viewforum.php?f=7                 =8 good  
> integration in web,with  domain name redirection

Thanks for your vote and input.

I'd like to ask you to hold off redirecting users
until we make a final decision on this.

BTW I believe attachments should be possible to enable
in our forum. Can someone check? Vailton, Chen?

Brgds,
Viktor

From mbelgrano at deltain.it  Thu Nov  5 18:08:42 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Nov  5 18:09:09 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <E50AA32E-E602-4843-A584-8830E05D2A12@syenar.hu>
References: <75117F5D-C950-42E6-BBB4-F6B2C8FECCBE@me.com>
	<A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com> 
	<33E3CB24-54D2-402F-9C3C-02AB0631294B@syenar.hu>
	<609353e70911051441k330773c9o8a847fad5b9b93f3@mail.gmail.com> 
	<E50AA32E-E602-4843-A584-8830E05D2A12@syenar.hu>
Message-ID: <609353e70911051508i2c946d70veb794f10e6de3083@mail.gmail.com>

Yes i not  redirecting users.
and still sorry
i made error due to much harbour love


why roberto lopez is not writing here from same week?


2009/11/6 Viktor Szak?ts <harbour.01@syenar.hu>

>  Follow is my valuation 0-10 of actual harbour user list:
>> http://sourceforge.net/apps/phpbb/harbour-project/           =4  no
>> attachment
>> http://lists.harbour-project.org/pipermail/harbour-users/    =5
>> difficult login,slow
>> http://www.hmgforum.com/viewforum.php?f=7                 =8 good
>> integration in web,with  domain name redirection
>>
>
> Thanks for your vote and input.
>
> I'd like to ask you to hold off redirecting users
> until we make a final decision on this.
>
> BTW I believe attachments should be possible to enable
> in our forum. Can someone check? Vailton, Chen?
>
> Brgds,
> Viktor
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091106/9b4fe0ab/attachment.html
From druzus at users.sourceforge.net  Thu Nov  5 18:16:02 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Nov  5 18:16:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12825] trunk/harbour
Message-ID: <E1N6BYg-00033Y-Hd@bj8yhf1.ch3.sourceforge.com>

Revision: 12825
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12825&view=rev
Author:   druzus
Date:     2009-11-05 23:16:00 +0000 (Thu, 05 Nov 2009)

Log Message:
-----------
2009-11-06 00:15 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/strcase.c
  * harbour/src/rtl/cdpapi.c
    * moved some CP dependent functions from strcase.c to cdpapi.c
      They will be reimplemented in new CDP code.

  * harbour/src/rtl/cdpapi.c
  * harbour/include/hbapicdp.h
    + added new C functions to eliminate direct access to HB_CODEPAGE
      structure by non core code

  * harbour/src/rtl/gtcgi/gtcgi.c
  * harbour/src/rtl/gtpca/gtpca.c
  * harbour/src/rtl/gtstd/gtstd.c
  * harbour/src/rtl/gtcrs/gtcrs.c
  * harbour/src/rtl/gtsln/gtsln.c
  * harbour/src/rtl/gttrm/gttrm.c
  * harbour/src/rtl/gtxwc/gtxwc.c
  * harbour/src/rtl/gtdos/gtdos.c
  * harbour/src/rtl/gtwin/gtwin.c
  * harbour/src/rtl/gtwvt/gtwvt.c
  * harbour/contrib/gtwvg/gtwvg.c
  * harbour/contrib/gtqtc/gtqtc.cpp
    * updated to eliminate direct access to HB_CODEPAGE structure

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtqtc/gtqtc.cpp
    trunk/harbour/contrib/gtwvg/gtwvg.c
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/src/rtl/cdpapi.c
    trunk/harbour/src/rtl/gtcgi/gtcgi.c
    trunk/harbour/src/rtl/gtcrs/gtcrs.c
    trunk/harbour/src/rtl/gtdos/gtdos.c
    trunk/harbour/src/rtl/gtpca/gtpca.c
    trunk/harbour/src/rtl/gtsln/gtsln.c
    trunk/harbour/src/rtl/gtstd/gtstd.c
    trunk/harbour/src/rtl/gttrm/gttrm.c
    trunk/harbour/src/rtl/gtwin/gtwin.c
    trunk/harbour/src/rtl/gtwvt/gtwvt.c
    trunk/harbour/src/rtl/gtxwc/gtxwc.c
    trunk/harbour/src/rtl/strcase.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From teo at windtelsoft.com  Thu Nov  5 18:18:34 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Thu Nov  5 18:18:43 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <E50AA32E-E602-4843-A584-8830E05D2A12@syenar.hu>
References: <75117F5D-C950-42E6-BBB4-F6B2C8FECCBE@me.com>
	<A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com>
	<33E3CB24-54D2-402F-9C3C-02AB0631294B@syenar.hu>
	<609353e70911051441k330773c9o8a847fad5b9b93f3@mail.gmail.com>
	<E50AA32E-E602-4843-A584-8830E05D2A12@syenar.hu>
Message-ID: <B10D91AB-368F-46CF-A762-A7DAF2B741A4@windtelsoft.com>


On Nov 5, 2009, at 5:04 PM, Viktor Szak?ts wrote:

>> Follow is my valuation 0-10 of actual harbour user list:
>> http://sourceforge.net/apps/phpbb/harbour-project/           =4  no  
>> attachment
>> http://lists.harbour-project.org/pipermail/harbour-users/    =5    
>> difficult login,slow
>> http://www.hmgforum.com/viewforum.php?f=7                 =8 good  
>> integration in web,with  domain name redirection
>
> Thanks for your vote and input.
>
> I'd like to ask you to hold off redirecting users
> until we make a final decision on this.
>
> BTW I believe attachments should be possible to enable
> in our forum. Can someone check? Vailton, Chen?

Hello Viktor,

Regarding the phpBB Harbour's forum attachment feature, yes, you can  
enable it and configure the size, number, total quota, and other.


best regards,

Teo

From harbour.01 at syenar.hu  Thu Nov  5 18:22:03 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov  5 18:22:12 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <B10D91AB-368F-46CF-A762-A7DAF2B741A4@windtelsoft.com>
References: <75117F5D-C950-42E6-BBB4-F6B2C8FECCBE@me.com>
	<A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com>
	<33E3CB24-54D2-402F-9C3C-02AB0631294B@syenar.hu>
	<609353e70911051441k330773c9o8a847fad5b9b93f3@mail.gmail.com>
	<E50AA32E-E602-4843-A584-8830E05D2A12@syenar.hu>
	<B10D91AB-368F-46CF-A762-A7DAF2B741A4@windtelsoft.com>
Message-ID: <70CB4D95-9ABD-4A54-9299-ACA310B4E91E@syenar.hu>

>> Thanks for your vote and input.
>>
>> I'd like to ask you to hold off redirecting users
>> until we make a final decision on this.
>>
>> BTW I believe attachments should be possible to enable
>> in our forum. Can someone check? Vailton, Chen?
>
> Hello Viktor,
>
> Regarding the phpBB Harbour's forum attachment feature, yes, you can  
> enable it and configure the size, number, total quota, and other.

Great, I'd like to ask forum admins to do it when they
have some free time.

Brgds,
Viktor

From mbelgrano at deltain.it  Thu Nov  5 18:33:07 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Nov  5 18:33:35 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <AA910F5F-2908-4142-9419-8B6338C3618D@syenar.hu>
References: <75117F5D-C950-42E6-BBB4-F6B2C8FECCBE@me.com>
	<A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com> 
	<33E3CB24-54D2-402F-9C3C-02AB0631294B@syenar.hu>
	<2E6D7C25-A5B8-4CF3-959C-D365A9C488FC@windtelsoft.com> 
	<AA910F5F-2908-4142-9419-8B6338C3618D@syenar.hu>
Message-ID: <609353e70911051533k5c8cba63j5f72b92fab28d790@mail.gmail.com>

This is my idea about how make forum more active

1 search capability because use be suggested to start search as first action
2 web visibility of same important/recent post because we need made active
Here is where i very poor http://sourceforge.net/apps/phpbb/harbour-project/

seem that very few user have post messages here except participating to
developer list

3 integration with mail for user that are using a mailing list
but also form made immediate and active the discussion
because without a notification is not push

4 speed
5 Very simple in creating new credential
6 Integration with a File area so a user will attach also a big attachment
7 simple Password recovery
8 Translate (i have it in gmail)


4 having choice 3 with a domain redirection and with harbour logo
in future also viameno will join to this way
centralize harbour assistence

2009/11/6 Viktor Szak?ts <harbour.01@syenar.
>
>
> Please post ideas how to make our forum more active, or
> what other direction to take. If we chose the forum and since
> this is a free project we need to build a community where
> users can help each other with some central members who can
> post more complicated issues here on the dev list.
>
> Pls also gather opinions or votes which should we do of these:
>
> 1) Use our forums for Harbour support
> 2) Use our user mailing list for Harbour support
> 3) Use 3rd party forums for Harbour support (like MiniGUI)
>
> My vote is 1). But don't have much against 3) either, as
> a 3rd party developers hosted and active forum is definitely
> better than no or dead forum. Best would be to have our own
> forum, but this needs volunteers.
>
> Brgds,
> Viktor
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091106/f31ea913/attachment.html
From mbelgrano at deltain.it  Thu Nov  5 18:49:29 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Nov  5 18:49:58 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <609353e70911051533k5c8cba63j5f72b92fab28d790@mail.gmail.com>
References: <75117F5D-C950-42E6-BBB4-F6B2C8FECCBE@me.com>
	<A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com> 
	<33E3CB24-54D2-402F-9C3C-02AB0631294B@syenar.hu>
	<2E6D7C25-A5B8-4CF3-959C-D365A9C488FC@windtelsoft.com> 
	<AA910F5F-2908-4142-9419-8B6338C3618D@syenar.hu>
	<609353e70911051533k5c8cba63j5f72b92fab28d790@mail.gmail.com>
Message-ID: <609353e70911051549n4e5917a0g8d410d64481e207e@mail.gmail.com>

I like also the google group
http://groups.google.com/group/comp.lang.clipper/topics
<http://groups.google.com/group/comp.lang.clipper/topics>
http://groups.google.com/group/gmail-help-discussion
 <http://groups.google.com/group/gmail-help-discussion>
and i like also idea of  having harbour user forum written in harbour

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091106/30afdf2d/attachment.html
From bedipritpal at hotmail.com  Thu Nov  5 19:07:33 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Nov  5 19:07:42 2009
Subject: [Harbour] MINGW - Dll to Lib - Command Syntax
In-Reply-To: <20091105223730.GA12256@34-mo7-2.home.aster.pl>
References: <26221154.post@talk.nabble.com>
	<3EF935AA-4B0A-4968-A221-706E0B1BDA3A@syenar.hu>
	<26222789.post@talk.nabble.com>
	<20091105223730.GA12256@34-mo7-2.home.aster.pl>
Message-ID: <26224627.post@talk.nabble.com>


Hi Przemek


Przemys?aw Czerpak wrote:
> 
> If you have harbour.dll then you can link it with your application
> by adding two parameters:
>    -L<path_to_harbour_dll> -lharbour
> MinGW linker can take any DLL and create import library on the fly.
> It has also some extensions, i.e. if DLL does not contain any exported
> symbols but it has not striped symbol table then it can convert all
> public symbols to exported ones.
> 

Ok. This worked as

-Le:\mylibs
-leztwain3           ( without extension, it is a .dll )

and receive a tons of unresolved externals like

hbeztwain.o:hbeztwain.c:(.text+0x6b3): undefined reference to
`TWAIN_AutoClickButton@4'
hbeztwain.o:hbeztwain.c:(.text+0x6d3): undefined reference to
`TWAIN_SetImageReadyTimeout@4'
hbeztwain.o:hbeztwain.c:(.text+0x74d): undefined reference to
`TWAIN_GetExtendedInfoFrame@24'
hbeztwain.o:hbeztwain.c:(.text+0x7d6): undefined reference to
`TWAIN_ExtendedInfoString@8'
hbeztwain.o:hbeztwain.c:(.text+0x84e): undefined reference to
`TWAIN_GetExtendedInfoString@16'
hbeztwain.o:hbeztwain.c:(.text+0x8a6): undefined reference to
`TWAIN_ExtendedInfoFloat@8'
hbeztwain.o:hbeztwain.c:(.text+0x8e6): undefined reference to
`TWAIN_ExtendedInfoInt@8'
hbeztwain.o:hbeztwain.c:(.text+0x913): undefined reference to
`TWAIN_ExtendedInfoItemType@4'
hbeztwain.o:hbeztwain.c:(.text+0x943): undefined reference to
`TWAIN_ExtendedInfoItemCount@4'
hbeztwain.o:hbeztwain.c:(.text+0x983): undefined reference to
`TWAIN_IsExtendedInfoEnabled@4'
hbeztwain.o:hbeztwain.c:(.text+0x9c6): undefined reference to
`TWAIN_EnableExtendedInfo@8'

and like. Whereas in my wrappers I call these functions without "@4" etc
suffix. What's that?

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/MINGW---Dll-to-Lib---Command-Syntax-tp26221154p26224627.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From dmacias at mail.udg.mx  Fri Nov  6 08:37:08 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Nov  6 08:37:42 2009
Subject: [Harbour] Re: OS/2: hbmk2
Message-ID: <4AF42684.1090105@mail.udg.mx>

Viktor:

 > From your examples it seemed to me that lib prefix is not
 >used in OMF mode.

 >Or did I miss a "libmytestlib.lib" name from your outputs?


 >BTW, looking at Harbour build and hbmk2, 'lib' prefix
 >isn't used at all at build time for os2/gcc, so I wonder
 >how any OS/2 GCC user could have made even an single
 >successful test even in plain default gcc mode.

 >So, to me the solution looks like to remove lib prefix
 >also for os2/gcc targets in hbmk2, so that it gets synced
 >with core lib names. I'll do that.

 >Another solution is that lib prefix is missing. In this
 >case we should decide whether to add it default mode
 >and/or in gccomf mode.

 >3rd solution is that I'm missing something, but my test
 >method is solely to look at the code.

 >2009-11-05 19:25 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
 >  * utils/hbmk2/hbmk2.prg
 >    ! Deleted 'lib' prefix for os2/gcc targets to sync it
 >      with Harbour GNU make build setup.
 >      See my mail on dev list for other options.

0) As we know, in OS/2, Harbour libs does not have lib prefix for most 
cases, for example libhbrtl.lib or libhbrtl.a

1) "hbmk2.exe test -trace" from my original message does not show any 
use of "lib" prefix, so it is set in hbmk2.prg ( cLibLibPrefix := "lib" 
) but not used, perhaps waiting for confirmation

-------
-lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd
-lgtos2 -lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx
-lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbrtl -lhbvm -lhbmacro -lhbcplr
-lhbpp -lhbcommon -lsocket  -o test.exe -L..\..\..\lib\os2\gccomf
-------

2) Historical scripts for older Harbour does not contain any "lib" 
prefix in library list

3) Trying to use "lib" prefix cause error of missing file, as expected

4) Build of current Harbour:
  * $Id: ChangeLog 12825 2009-11-05 23:16:00Z druzus $
  2009-11-06 00:15 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
   * harbour/src/rtl/strcase.c

It build and run fine, both a.out and OMF types
hbmk2.exe run fine now

5) Below are results of "hbmk2.exe pba -trace" in a.out and OMF types
No one present any kind of error due removed "lib" prefix

Note: At least in OS/2, hbmk2.exe write lines after previous line ending 
position, for example:
Harbour 2.0.0beta3 (Rev. 12825)
                                Copyright (c) 1999-2009,
It happen in OpenWatcom version too


As a good but temporary side effect of changing .obj to .o, objects list 
length are reduced and all .dll files are created, both a.out and OMF types
Expression result below 32K limit

David Macias


OMF ======================

[E:\harbour911\harbour\bin\os2\gccomf]hbmk2.exe pba -trace
hbmk2: Processing environment options: -platform=os2 -compiler=gccomf
hbmk2: Harbour compiler command (embedded):
(harbour.exe) -n2 pba.prg -i..\..\..\include
Harbour 2.0.0beta3 (Rev. 12825)
                                Copyright (c) 1999-2009,
http://www.harbour-project.org/
        Compiling 'pba.prg'...
Lines 12, Functions/Procedures 1
                                 Generating C source output to
'pba.c'... Done.

        hbmk2: C compiler command:
gcc.exe -c -O3 -DTCPV40HDRS -DHB_FM_STATISTICS_OFF -Wall -W -Zomf
-I..\..\..\inc
lude pba.c E:\var\temp\hbmk_ef4061.c
hbmk2: Linker command:
gcc.exe pba.o hbmk_ef4061.o  -Le:\usr\lib\tcpipv4  -Zomf -lhbextern
-lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd 
-lgtos2 -lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx 
-lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbrtl -lhbvm -lhbmacro -lhbcplr 
-lhbpp -lhbcommon -lsocket -lhbpcre -lhbzlib  -o pba
.exe -L..\..\..\lib\os2\gccomf



a.out ======================
[E:\harbour911\harbour\bin\os2\gcc]hbmk2.exe pba -trace
hbmk2: Processing environment options: -platform=os2 -compiler=gcc
hbmk2: Harbour compiler command (embedded):
(harbour.exe) -n2 pba.prg -i..\..\..\include
Harbour 2.0.0beta3 (Rev. 12825)
                                Copyright (c) 1999-2009, 
http://www.harbour-project.org/
        Compiling 'pba.prg'...
Lines 12, Functions/Procedures 1
                                 Generating C source output to 
'pba.c'... Done.
 
        hbmk2: C compiler command:
gcc.exe -c -O3  -Wall -W -I..\..\..\include pba.c E:\var\temp\hbmk_1pm3y3.c
hbmk2: Linker command:
gcc.exe pba.o hbmk_1pm3y3.o   -lhbextern -lhbdebug -lhbvm -lhbrtl 
-lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtos2 -lhbrdd -lhbuddall 
-lhbusrrdd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix 
-lhbrtl -lhbvm -lhbmacro -lhbcplr -lhbpp -lhbcommon -lsocket -lhbpcre 
-lhbzlib  -o pba.exe -L..\..\..\lib\os2\gcc

From snaiperis at users.sourceforge.net  Fri Nov  6 09:16:13 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Fri Nov  6 09:16:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12826] trunk/harbour
Message-ID: <E1N6Pbp-0000IZ-48@bj8yhf1.ch3.sourceforge.com>

Revision: 12826
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12826&view=rev
Author:   snaiperis
Date:     2009-11-06 14:16:12 +0000 (Fri, 06 Nov 2009)

Log Message:
-----------
2009-11-06 16:15 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contib/rddads/adsfunc.c
    * AdsIsConnectionAlive() guarded using #if ADS_LIB_VERSION >= 800

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/adsfunc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gvarona at ec-red.com  Fri Nov  6 10:12:34 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Fri Nov  6 10:09:22 2009
Subject: [Harbour] Questions about MEMIO
Message-ID: <4AF43CE2.8030202@ec-red.com>

[SPA]
Despues de hacer DBCLOSEAREA(), puedo volver a usar el archivo, ?C?mo?
?Qu? pasa si no ejecuto DBDROP("mem:test")?
Al finalizar el EXE, se liberan los recurso de memoria utilizados

[ENG] by Google
After making DBCLOSEAREA (), I re-use file, how?
What happens if I run DBDROP ( "mem: test")?
At the end of the EXE, it frees the memory resources used

TIA

Best Regards
GVS
From dbtopas at dbtopas.lt  Fri Nov  6 10:35:56 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Nov  6 10:37:52 2009
Subject: [Harbour] Questions about MEMIO
In-Reply-To: <4AF43CE2.8030202@ec-red.com>
References: <4AF43CE2.8030202@ec-red.com>
Message-ID: <4AF4425C.7080201@dbtopas.lt>

Hi,


Guillermo Varona Silup? wrote:
> [ENG] by Google
> After making DBCLOSEAREA (), I re-use file, how?

Ex.: DBUSEAREA(.T., "DBFCDX", "mem:test", "test", .F., .F.)


> What happens if I run DBDROP ( "mem: test")?

File is deleted from memory file system.


> At the end of the EXE, it frees the memory resources used

Yes.


Regards,
Mindaugas
From gvarona at ec-red.com  Fri Nov  6 11:34:20 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Fri Nov  6 11:31:07 2009
Subject: [Harbour] Questions about MEMIO
In-Reply-To: <4AF4425C.7080201@dbtopas.lt>
References: <4AF43CE2.8030202@ec-red.com> <4AF4425C.7080201@dbtopas.lt>
Message-ID: <4AF4500C.3080300@ec-red.com>

Thank Very much

Best Regards
GVS

Mindaugas Kavaliauskas escribi?:
> Hi,
>
>
> Guillermo Varona Silup? wrote:
>> [ENG] by Google
>> After making DBCLOSEAREA (), I re-use file, how?
>
> Ex.: DBUSEAREA(.T., "DBFCDX", "mem:test", "test", .F., .F.)
>
>
>> What happens if I run DBDROP ( "mem: test")?
>
> File is deleted from memory file system.
>
>
>> At the end of the EXE, it frees the memory resources used
>
> Yes.
>
>
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>

From dbtopas at dbtopas.lt  Fri Nov  6 13:04:24 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Nov  6 13:06:20 2009
Subject: [Harbour] uhttpd v0.3
Message-ID: <4AF46528.9020409@dbtopas.lt>

Hi,



I want to share my new uhttpd version 0.3. Actually it is not very new,
it was finished in the end of July, but I did not find a time to write
a readme.txt file.

Source can be obtained from:
http://www.dbtopas.lt/hrb/uhttpd-0.3.zip

I will try to describe the major changes from uhttpd v0.2, so,
readme.txt of v0.2 could be useful if you do not understand what I say.


Sessioned threads
=================
The idea of sessioned threads in previous uhttpd version was trying to
solve the problem of stateless HTTP nature. Sessioned threads helped
to keep database tables open, but it was very not standard
implementation of HTTP server. It has some other drawbacks:
- only one sessioned query can be processed simultaneously (other
   queries have to wait for the same thread);
- two "mounting" tables was used to do a mapping for URL into handler
   function;
- "mounting" table had to indicate if URL is should be processed by
   sessioned thread;
- query handler functions had a confusing messages INIT and EXIT.
   A tree structure of URL had to be used to make sessioned thread
   "remember" a state of HTTP application;
- if large number of sessions is opened, the large number of threads
   was allocated, thus, making uhttpd not a scalable server.

I've completely removed the sessioned threads from this version. Now
you have to open databases table in processing of each query, but you
have a standard easy to understand threads and every free thread can
process any incoming query.


Widgets
=======
I've used a large number of widgets in v0.2. Making any HTML element
layout required a creation of tree of widget layout objects. This was
very inefficient way to generate HTML content for a simple widgets.
I've removed all widgets code except browse widget. All HTML code can
be easy written using new templates.


Templates
=========
This is perhaps the second main change (after sessioned thread removal)
in uhttpd. Templates let us to do a good HTML and .prg code separation.

The syntax ("{{" and }}" separators) and "extend" tag idea is taken
from web2py python web framework. I like
    {{loop}} ... {{endloop}}
much more than
    <loop> ... </loop>
often used in other template libraries. It is much easier for both
HTML code designer and template library to find a template tag among
HTML tags.

The list of supported tags are:
   {{= var}}   - replaced by HTML encoded value of var;
   {{: var}}   - replaced by raw value of var;
   {{if var}}text1{{else}}text2{{endif}} - conditional tag;
   {{loop var}}...{{endloop var}} - loop over var array. Values of
       var array variables can be reached using var.subvariable;
   {{include filename}} - include filename.tpl into current template;
   {{extend filename}} - include current template value into
       filename.tpl template. Value of current template is accessed
       using nameless variable, i.e., {{:}} or {{=}} tags.

Templates variables are passed to template functions using hash. Ex.,
code:
    UParse({"name"=>"World"}, "greetings")
and file greetings.tpl content:
----------------
Hello, {{= name}}!
----------------
Produces "Hello, World!" value. Template functions expects files to be
located in HB_BASEDIR() + "/tpl/" folder (or subfolders).

If URL handler function returns hash value servers uses templates to
generate HTML content. The default filename parameter value of UParse()
function is server["SCRIPT_NAME"].


Other major changes
===================
- socket.c uses the new socket code written by Przemek. Actually this
   socket.c is not my job. It was downloaded from harbour SVN. I believe
   this code allows to run uhttpd on many platforms.
- corrected time values in HTTP header (uses HB_UTCOFFSET)


Future ideas
============
- I'm very happy with templates, but I need some higher level
controls/widgets like browses, etc., to be able write database web
applications. Actually it is not a drawback of server, it is just a
need of some web framework. Current UWBrowse is just a "demo widget".
I need something more complex, may be AJAX, etc.
- TLS



Regards,
Mindaugas
From myorg63 at mail.ru  Fri Nov  6 14:31:20 2009
From: myorg63 at mail.ru (Petr Chornyj)
Date: Fri Nov  6 14:31:26 2009
Subject: [Harbour] MINGW - Dll to Lib - Command Syntax
In-Reply-To: <26224627.post@talk.nabble.com>
References: <26221154.post@talk.nabble.com>
	<3EF935AA-4B0A-4968-A221-706E0B1BDA3A@syenar.hu>
	<26222789.post@talk.nabble.com>
	<20091105223730.GA12256@34-mo7-2.home.aster.pl>
	<26224627.post@talk.nabble.com>
Message-ID: <26230873.post@talk.nabble.com>




Pritpal Bedi wrote:
> 
> hbeztwain.o:hbeztwain.c:(.text+0x6b3): undefined reference to
> `TWAIN_AutoClickButton@4'
> hbeztwain.o:hbeztwain.c:(.text+0x6d3): undefined reference to
> `TWAIN_SetImageReadyTimeout@4'
> ..
> hbeztwain.o:hbeztwain.c:(.text+0x9c6): undefined reference to
> `TWAIN_EnableExtendedInfo@8'
> 
> and like. Whereas in my wrappers I call these functions without "@4" etc
> suffix. What's that?
> 
Hi,

I think this little guide can be useful for you
http://www.emmestech.com/moron_guides/moron1.html

Regards,
Petr
-- 
View this message in context: http://old.nabble.com/MINGW---Dll-to-Lib---Command-Syntax-tp26221154p26230873.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From adam_l at poczta.onet.pl  Fri Nov  6 15:47:23 2009
From: adam_l at poczta.onet.pl (Adam Lubszczyk)
Date: Fri Nov  6 15:47:29 2009
Subject: [Harbour] Duplicate function name in HRB
Message-ID: <26230890.post@talk.nabble.com>


Hi!

Form MainProgram I load HRB module.
If function names in HRB is unique, I call it by
 &("FuncFromHRB()")   -  and work OK.
But if in MainProgram is sample function ABC() and in HRB module also is
function ABC() [The module can be written by other people]
when I call:
 &("ABC()")  -  performed is function for MainProgram - OK.

To call the function from HRB I do in MainProgram:
 pFunc := HB_HRBGETFUNSYM(pHrb, "ABC" )
 DO( pFunc )
but also performed function from MainProgram !?!  (Harbour 2.0.0beta3 (Rev.
12734) ) 
Same time ago it working  correctly - performed function from HRB

So strange, if function in HRB is defined as STATIC
I can not call by &("ABC()") - error "undefined function" ,
but DO(pFunc) performed function from HRB !?!

The next problem is, when in HRB module sample function DEF() call function
ABC() [ABC() is also in this HRB] performed is function ABC() from
MainProgram !?!


Adam

-- 
View this message in context: http://old.nabble.com/Duplicate-function-name-in-HRB-tp26230890p26230890.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From myorg63 at mail.ru  Fri Nov  6 16:10:47 2009
From: myorg63 at mail.ru (Petr Chornyj)
Date: Fri Nov  6 16:10:53 2009
Subject: [Harbour] Duplicate function name in HRB
In-Reply-To: <26230890.post@talk.nabble.com>
References: <26230890.post@talk.nabble.com>
Message-ID: <26230899.post@talk.nabble.com>


Hi,

Please read ChangeLog carefully , at least

2009-06-19 14:09 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
 ..
      Now optional HB_HRBLOAD()/HB_HRBRUN() parameter is bitfield and
      the following predefined values can be used to control function
      bindings in loaded .hrb files:
         HB_HRB_BIND_DEFAULT      - do not overwrite any functions, ignore
                                    public HRB functions if functions with
                                    the same names already exist in HVM
         HB_HRB_BIND_LOCAL        - do not overwrite any functions
                                    but keep local references, so
                                    if module has public function FOO and
                                    this function exists also in HVM
                                    then the function in HRB is converted
                                    to STATIC one
         HB_HRB_BIND_OVERLOAD     - overload all existing public functions
         HB_HRB_BIND_FORCELOCAL   - covert all public functions to
                                    STATIC ones
      Other HB_HRB_* defines will be added in the future
 ..

I think it is related with yours problems.

Regards,
Petr

-- 
View this message in context: http://old.nabble.com/Duplicate-function-name-in-HRB-tp26230890p26230899.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From teo at windtelsoft.com  Fri Nov  6 17:23:35 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Fri Nov  6 17:23:45 2009
Subject: [Harbour] BCC55 Compiling error on .cpp sources
Message-ID: <AA32F3D0-2C63-438C-936C-C919333D68C4@windtelsoft.com>

Hello,

As subject, when trying to compile a .cpp source that contains  
"hbapi.h", the compiler shows the following error:

<compiler output>
Error E2175 C:\HrbBCC\include\hbdefs.h 1601: Too many storage classes  
in declaration
Error E2175 C:\HrbBCC\include\hbdefs.h 1602: Too many storage classes  
in declaration
</compiler output>

Attached are an Harbour and an .cpp source files, please try to  
compile both with:

hbmk2 main.prg test1.prg

With BCC (55)  I get:

<bcc output>

T:\tmp>hbmk2 main.prg test1.cpp
hbmk2: Processing environment options: -compiler=bcc
Harbour 2.0.0beta3 (Rev. 12826)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'main.prg'...
Lines 8, Functions/Procedures 1
Generating C source output to 'main.c'... Done.
main.c:
test1.cpp:
Error E2175 C:\HrbBCC\include\hbdefs.h 1601: Too many storage classes  
in declara
tion
   + Full parser context
   + test1.cpp, line 1: #include C:\HrbBCC\include\hbapi.h
   + C:\HrbBCC\include\hbapi.h, line 61: #include C:\HrbBCC\include 
\hbvmpub.h
   + C:\HrbBCC\include\hbvmpub.h, line 56: #include C:\HrbBCC\include 
\hbdefs.h
Error E2175 C:\HrbBCC\include\hbdefs.h 1602: Too many storage classes  
in declara
tion
   + Full parser context
   + test1.cpp, line 1: #include C:\HrbBCC\include\hbapi.h
   + C:\HrbBCC\include\hbapi.h, line 61: #include C:\HrbBCC\include 
\hbvmpub.h
   + C:\HrbBCC\include\hbvmpub.h, line 56: #include C:\HrbBCC\include 
\hbdefs.h
*** 2 errors in Compile ***
hbmk2: Error: Running C compiler. 1
bcc32.exe -c -q -tWM -d -6 -O2 -OS -Ov -Oi -Oc  -w -w-sig- -Q -IC: 
\HrbBCC\includ
e main.c test1.cpp

</bcc output>


With MSVC I get:

<msvc output>

T:\tmp>
T:\tmp>hbmk2 main.prg test1.cpp
hbmk2: Processing environment options: -compiler=msvc
hbmk2: Processing configuration: C:\HrbMSVC\bin\hbmk.cfg
Harbour 2.0.0beta3 (Rev. 12780)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'main.prg'...
Lines 8, Functions/Procedures 1
Generating C source output to 'main.c'... Done.
main.c
Generating Code...
Compiling...
test1.cpp
Generating Code...

</msvc output>


Also, the error does not appear on BCC when compiling .c sources,  
Linux & MacOS X are tested ok.

Is there something wrong configured in the "hbdefs.h" file ?

Thanks in advance for any insight on this.


best regards,

Teo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: main.prg
Type: application/octet-stream
Size: 56 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091106/f3557de9/main.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test1.cpp
Type: application/octet-stream
Size: 96 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091106/f3557de9/test1.obj
-------------- next part --------------

From april at users.sourceforge.net  Fri Nov  6 21:13:21 2009
From: april at users.sourceforge.net (april@users.sourceforge.net)
Date: Fri Nov  6 21:13:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12827] trunk/harbour
Message-ID: <E1N6anp-0001pQ-FW@74yxhf1.ch3.sourceforge.com>

Revision: 12827
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12827&view=rev
Author:   april
Date:     2009-11-07 02:13:20 +0000 (Sat, 07 Nov 2009)

Log Message:
-----------
  * harbour/examples/hbdoc2/genhtml.prg
  * harbour/examples/hbdoc2/gentpl.prg
  * harbour/examples/hbdoc2/gentxt.prg
  * harbour/examples/hbdoc2/genxml.prg
  * harbour/examples/hbdoc2/hbdoc2.ch
  * harbour/examples/hbdoc2/hbdoc2.prg
  * harbour/examples/hbdoc2/tmplates.prg
    * internal refactoring
  * harbour/doc/en-EN/cmdline.txt
  * harbour/doc/en-EN/compiler.txt
  * harbour/doc/en-EN/gnulice.txt
  * harbour/doc/en-EN/license.txt
  * harbour/doc/en-EN/macro.txt
  * harbour/doc/en-EN/rdddb.txt
  * harbour/doc/en-EN/strtotype.txt
      * minor formatting

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/en-EN/cmdline.txt
    trunk/harbour/doc/en-EN/compiler.txt
    trunk/harbour/doc/en-EN/gnulice.txt
    trunk/harbour/doc/en-EN/license.txt
    trunk/harbour/doc/en-EN/macro.txt
    trunk/harbour/doc/en-EN/rdddb.txt
    trunk/harbour/doc/en-EN/strotype.txt
    trunk/harbour/examples/hbdoc2/genhtml.prg
    trunk/harbour/examples/hbdoc2/gentpl.prg
    trunk/harbour/examples/hbdoc2/gentxt.prg
    trunk/harbour/examples/hbdoc2/genxml.prg
    trunk/harbour/examples/hbdoc2/hbdoc2.ch
    trunk/harbour/examples/hbdoc2/hbdoc2.prg
    trunk/harbour/examples/hbdoc2/tmplates.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From april at users.sourceforge.net  Fri Nov  6 21:15:45 2009
From: april at users.sourceforge.net (april@users.sourceforge.net)
Date: Fri Nov  6 21:15:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12828] trunk/harbour
Message-ID: <E1N6aq9-0001sG-DK@74yxhf1.ch3.sourceforge.com>

Revision: 12828
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12828&view=rev
Author:   april
Date:     2009-11-07 02:15:44 +0000 (Sat, 07 Nov 2009)

Log Message:
-----------
  + harbour/doc/en-EN/hbinet.txt
    + initial version, based on harbour/inet.txt and source files

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/doc/en-EN/hbinet.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From april at users.sourceforge.net  Fri Nov  6 22:25:25 2009
From: april at users.sourceforge.net (april@users.sourceforge.net)
Date: Fri Nov  6 22:25:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12829] trunk/harbour
Message-ID: <E1N6bvZ-0000BA-Ha@c3vjzd1.ch3.sourceforge.com>

Revision: 12829
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12829&view=rev
Author:   april
Date:     2009-11-07 03:25:24 +0000 (Sat, 07 Nov 2009)

Log Message:
-----------
  * harbour/doc/inet.txt
    * intentionally removed DOC header/footer so that hbdoc/hbdoc2 ignore this file
    * please see en-EN/hbinet.txt which now replaces this file
  * harbour/examples/hbdoc2/hbdoc2.prg
    * removed 'merge' lines mistakenly left in

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/inet.txt
    trunk/harbour/examples/hbdoc2/hbdoc2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Nov  7 04:28:46 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Nov  7 04:28:53 2009
Subject: [Harbour] MSVC 2008 - XHB.lib
Message-ID: <26240891.post@talk.nabble.com>


Hello All

I get this unresolved external when compiled with MSVC 2008:

xhb.lib(dbgfxc.obj) : error LNK2019: unresolved external symbol _hb_OutDebug
referenced in function _hb_ToOutDebug
c:\dev_projects\harbour\vouch\vouch.exe : fatal error LNK1120: 1 unresolved
externals
hbmk2: Error: Running linker. 1120

If I move hb_OutDebug() function from hboutdbg.c to dbgfxc.c above
hb_ToOutDebug(),
it works. I am puzzled why MSVC do not recognize this function though header
entry is correct.

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/MSVC-2008---XHB.lib-tp26240891p26240891.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sat Nov  7 05:35:57 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Nov  7 05:36:05 2009
Subject: [Harbour] CPU Consumption and hb_idleState()
Message-ID: <26240902.post@talk.nabble.com>


Hello All

I use something like this code

         DO WHILE .t.
            nKey := b_Inkey()

            IF nKey != 0 .and. nKey != 1101  // HB_K_RESIZE
               EXIT
            ENDIF

            hb_idleState()
         ENDDO

hb_idleState() was allowing me to release CPU cycles and was 
working perfectly till I last touched Vouch. But of lately I was so 
indulged in HBQT that I simply ignored my product. And so I cannot
trace back at what point hb_idleState() went crazy. Now it generates
run-time error refering to

"Object destructutor failure"
"Reference to freed block"

Any hints what should I look into my code which worked with this 
call all those years.

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/CPU-Consumption-and-hb_idleState%28%29-tp26240902p26240902.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From fernando_athayde at yahoo.com.br  Sat Nov  7 06:01:18 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Sat Nov  7 06:01:24 2009
Subject: [Harbour] ASCAN slow - proposal weighted search
Message-ID: <654741.47521.qm@web52208.mail.re2.yahoo.com>

ASORT(::aArrayResumo, {|a,b| str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7] > str(b[1],11)+str(b[3],11)+dtoc(b[5])+b[7] } )

//Normal way (Slow for more than 100 registers)
nPosicaoArray := ASCAN(::aArrayResumo, ;
                 {|a| str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7] ==;
                      STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11)+;
                      STR(::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 )+;
                      DTOC(oDB:Mysql2Date (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda} )

//Weighted search (Is very fast)
nPosicaoArray := 0
nArraySize := LEN( ::aArrayResumo )
nJump := nArraySize - 1
nPosition := 1
DO WHILE .T.
   nPosition += nJump
   IF nPosition > nArraySize
      nJump := 0
      nPosition := nArraySize
   ENDIF
   IF str(::aArrayResumo[nPosition,1],11)+str(::aArrayResumo[nPosition,3],11);
               +dtoc(::aArrayResumo[nPosition,5])+::aArrayResumo[nPosition,7] >;
      STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11 );
                +STR( ::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 );
                +DTOC(oDB:Mysql2Date (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda

      nPosition -= nJump
      nJump := INT(nJump/2)
   ENDIF
   IF str(::aArrayResumo[nPosition,1],11)+str(::aArrayResumo[nPosition,3],11);
            +dtoc(::aArrayResumo[nPosition,5])+::aArrayResumo[nPosition,7] == 
      STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11 );
            +STR( ::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 );
            +DTOC(oDB:Mysql2Date (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda
      nPosicaoArray := nPosition
      EXIT
   ENDIF
   IF nJump<1
      EXIT
   ENDIF
ENDDO

my proposal is made a ASCANEX sending a block how parameter
but i don?t know how to use eval and blocks

Thanks,
Fernando Athayde


__________________________________________________
Fale com seus amigos  de gra?a com o novo Yahoo! Messenger 
http://br.messenger.yahoo.com/ 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091107/0db85646/attachment.html
From itamarlins at bol.com.br  Sat Nov  7 12:23:04 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Sat Nov  7 12:25:40 2009
Subject: [Harbour] Win_prn problem.
Message-ID: <hd4ahg$3h6$1@ger.gmane.org>

Hi!
Please, look this is example.

Function Main

aPrn := GetPrinters()
If empty(aPrn)
 MsgStop("Error")
   return .f.
EndIf

oPrn := win_prn():New(GetDefaultPrinter())  //Is pdf virtual printer. "pdf 
creator"
oPrn :LandScape := .f.
oPrn :Copies    :=  1

if !oPrn:Create()
     MsgStop("error")
     return nil
endif

if !oPrn:StartDoc("test")
    MsgStop("Error")
    return nil
EndIf

aFonts := oPrn:GetFonts()

For n := 1  to len(aFonts)

 oPrn:CharSet(0) //reset charset
 oPrn:SetFont(aFonts[n,1],11,,,,255)
 oPrn:TextOut('Name of font array: '+aFonts[n,1],.t.)
 oPrn:CharSet(255)
 oPrn:TextOut('Font Name: ' + oPrn:FontName,.t.)
 oPrn:TextOut('CharSet is: '+STR(aFonts[n,4],5),.t.)

   if n==30 .or. n==60 .or. n==90 .or. n==120
      oPrn:NewPage()
   endif

Next

The return of line "oPrn:TextOut(oPrn:FontName,.t.)"  is incorrect and  set 
CHARSET for 255 code page to fonts roman, script, modern.

Best regards,
Itamar M. Lins Jr.



From mbelgrano at deltain.it  Sat Nov  7 13:05:44 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Nov  7 13:06:13 2009
Subject: [Harbour] Win_prn problem.
In-Reply-To: <hd4ahg$3h6$1@ger.gmane.org>
References: <hd4ahg$3h6$1@ger.gmane.org>
Message-ID: <609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com>

I have tried yous sample and  confirm follow result using freepdfxp and
using my epson printer

font_name returned by oPrn:FontName is Arial

Name of font array: Goudy
Font Name: Arial
CharSet is: 0
Name of font array: Carta
Font Name: Arial
CharSet is: 2
Name of font array: Optima
Font Name: Arial
CharSet is: 0
Name of font ar r ay: Oxfor d
Font Name: Arial
CharSet is: 0
Name of font array: Bodoni
Font Name: Arial
CharSet is: 0
Nam e of font array: Geneva
Font Name: Arial
CharSet is: 0
Name of font array: Monaco
Font Name: Arial
CharSet is: 0
Name of font array: Tekt on
Font Name: Arial
CharSet is: 0
Na?e of font array: Sy?bol
Font Na?e: Sy?bol
CharSet is:     2
Name of font array: Courier
Font Name: Arial
CharSet is: 0
Name of f ont ar ray: Chicago
Font Name: Arial
CharSet is: 0
Name of font array: New York
Font Name: Arial
CharSet is: 0
Name of font array: Univers 55
Font Name: Arial
CharSet is: 0
Name of font array: GillSans
Font Name: Arial
CharSet is: 0
Name of font array: Marigold
Font Name: Arial
CharSet is: 0
Name of font array: Joanna MT
Font Name: Arial
CharSet is: 0
Name of font array: Clarendon
Font Name: Arial
CharSet is: 0
Name of font array: Eurostile
Font Name: Arial
CharSet is: 0
Name of font array: Helvetica
Font Name: Helvetica
CharSet is: 0
Name of font array: Albertus MT
Font Name: Arial
CharSet is: 0
Name of font array: Times
Font Name: Times
CharSet is: 0
Name of font array: Cooper Black
Font Name: Arial
CharSet is: 0
Name of font array: Bookman
Font Name: Arial
CharSet is: 0
Name of font array: Mona Lisa Recut
Font Name: Arial
CharSet is: 0
N am e of font ar r ay : Apple Chancer y
Font Name: Arial
CharSet is: 0
Name of font array: Coronet
Font Name: Arial
CharSet is: 0
Name of font array: Goudy ExtraBold
Font Name: Arial
CharSet is: 0
Name of font array: Clarendon Light
Font Name: Arial
CharSet is: 0
Name of font array: AvantGarde
Font Name: Arial
CharSet is: 0
Nam e o f f o n t ar ray : Un iv ers Ex t en d ed
Font Name: Arial
CharSet is: 0
Name of font array: Albertus MT Lt
Font Name: Arial
CharSet is: 0
Name of font array: Helvetica-Narrow
Font Name: Arial
CharSet is: 0
Name of font ar ray: Ant ique Olive Roman
Font Name: Arial
CharSet is: 0
Name of font array: LubalinGraph
Font Name: Arial
CharSet is: 0
Name of font array: Hoefler Text Black
Font Name: Arial
CharSet is: 0
Name of font array: Wingdings
Font Name: Arial
CharSet is: 2
Name of font array: Univers 57 Condensed
Font Name: Arial
CharSet is: 0
Name of font array: GillSans Condensed
Font Name: Arial
CharSet is: 0
N ame of font ar r ay: GillSans Ext r aBold
Font Name: Arial
CharSet is: 0
Name of font array: Hoefler Text
Font Name: Arial
CharSet is: 0
Name of font array: Helvetica Condensed
Font Name: Arial
CharSet is: 0
Na m e o f f o n t a r r a y : A n t i q u e Ol i v e Co m p a c t
Font Name: Arial
CharSet is: 0
Name of font array: StempelGaramond Roman
Font Name: Arial
CharSet is: 0
N a m e o f f o n t a r r a y : E u r o s t ile E x t e n d e d T w o
Font Name: Arial
CharSet is: 0
Name of font array: NewCenturySchlbk
Font Name: Arial
CharSet is: 0
Name of font array: Univers 47 CondensedLight
Font Name: Arial
CharSet is: 0
Name of font array: Arial Baltic
Font Name: Arial
CharSet is: 186
Name of font array: Arial CE
Font Name: Arial
CharSet is: 238
Name of font array: Arial CYR
Font Name: Arial
CharSet is: 204
Name of font array: Arial Greek
Font Name: Arial
CharSet is: 161
Name of font array: Arial TUR
Font Name: Arial
CharSet is: 162
Name of font array: Batang
Font Name: Batang
CharSet is: 0
Name of font array: @
Batang
Font Name: @Batang
CharSet is:
0
Name of font array: BatangChe
Font Name: BatangChe
CharSet is: 0
Name of font array: @BatangChe
Font Name: @BatangChe
CharSet is:
0
Name of font array: Gungsuh
Font Name: Gungsuh
CharSet is: 0
Name of font array: @Gungsuh
Font Name: @Gungsuh
CharSet is:
0
Name of font array: GungsuhChe
Font Name: GungsuhChe
CharSet is: 0
Name of font array: @GungsuhChe
Font Name: @GungsuhChe
CharSet is:
0
Name of font array: Courier New
Font Name: Courier New
CharSet is: 0
Name of font array: Courier New Baltic
Font Name: Arial
CharSet is: 186
Name of font array: Courier New CE
Font Name: Arial
CharSet is: 238
Name of font array: Courier New CYR
Font Name: Arial
CharSet is: 204
Name of font array: Courier New Greek
Font Name: Arial
CharSet is: 161
Name of font array: Courier New TUR
Font Name: Arial
CharSet is: 162
Name of font array: DaunPenh
Font Name: Arial
CharSet is: 0
Name of font array: DokChampa
Font Name: Arial
CharSet is: 0
Name of font array: Estrangelo Edessa
Font Name: Arial
CharSet is: 0
Name of font array: Euphemia
Font Name: Arial
CharSet is: 0

2009/11/7 Itamar Lins <itamarlins@bol.com.br>

> Hi!
> Please, look this is example.
>
> Function Main
>
> aPrn := GetPrinters()
> If empty(aPrn)
>  MsgStop("Error")
>   return .f.
> EndIf
>
> oPrn := win_prn():New(GetDefaultPrinter())  //Is pdf virtual printer. "pdf
> creator"
> oPrn :LandScape := .f.
> oPrn :Copies    :=  1
>
> if !oPrn:Create()
>     MsgStop("error")
>     return nil
> endif
>
> if !oPrn:StartDoc("test")
>    MsgStop("Error")
>    return nil
> EndIf
>
> aFonts := oPrn:GetFonts()
>
> For n := 1  to len(aFonts)
>
>  oPrn:CharSet(0) //reset charset
>  oPrn:SetFont(aFonts[n,1],11,,,,255)
>  oPrn:TextOut('Name of font array: '+aFonts[n,1],.t.)
>  oPrn:CharSet(255)
>  oPrn:TextOut('Font Name: ' + oPrn:FontName,.t.)
>  oPrn:TextOut('CharSet is: '+STR(aFonts[n,4],5),.t.)
>
>   if n==30 .or. n==60 .or. n==90 .or. n==120
>      oPrn:NewPage()
>   endif
>
> Next
>
> The return of line "oPrn:TextOut(oPrn:FontName,.t.)"  is incorrect and  set
> CHARSET for 255 code page to fonts roman, script, modern.
>
> Best regards,
> Itamar M. Lins Jr.
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica -
Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091107/f60af929/attachment.html
From bedipritpal at hotmail.com  Sat Nov  7 14:05:55 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Nov  7 14:06:01 2009
Subject: [Harbour] BCC55 Compiling error on .cpp sources
In-Reply-To: <AA32F3D0-2C63-438C-936C-C919333D68C4@windtelsoft.com>
References: <AA32F3D0-2C63-438C-936C-C919333D68C4@windtelsoft.com>
Message-ID: <26247558.post@talk.nabble.com>


Hi


Teo Fonrouge wrote:
> 
> As subject, when trying to compile a .cpp source that contains  
> "hbapi.h", the compiler shows the following error:
> 
> <compiler output>
> Error E2175 C:\HrbBCC\include\hbdefs.h 1601: Too many storage classes  
> in declaration
> Error E2175 C:\HrbBCC\include\hbdefs.h 1602: Too many storage classes  
> in declaration
> </compiler output>
> 

Yes, I confirm it.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/BCC55-Compiling-error-on-.cpp-sources-tp26239543p26247558.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From itamarlins at bol.com.br  Sat Nov  7 14:12:23 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Sat Nov  7 14:14:54 2009
Subject: [Harbour] Re: Win_prn problem.
References: <hd4ahg$3h6$1@ger.gmane.org>
	<609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com>
Message-ID: <hd4gui$l8q$1@ger.gmane.org>

Hi! Massimo, please test.

Function Main

aPrn := GetPrinters()
If empty(aPrn)
 MsgStop("Error")
   return .f.
EndIf

oPrn := win_prn():New(GetDefaultPrinter())
oPrn :LandScape := .f.
oPrn :Copies    :=  1

if !oPrn:Create()
     MsgStop("error")
     return nil
endif

if !oPrn:StartDoc("test")
    MsgStop("Error")
    return nil
EndIf

oPrn:CharSet(255)
oPrn:Setfont('Lucida Console',,11,,,,255)
oPrn:SetPrc(1,0) //Is necessary, because if I omit not print first line.

oPrn:TextOut('Charset is: '+str(oPrn:Charset(),5),.t.)
oPrn:TextOut('Font Is: '+oPrn:FontName,.t.)

For n := 1  to 255
  oPrn:TextOut(chr(n),.t.)

  if n == 60 .or. n == 120 .or. n == 180 .or. n == 240
 oPrn:NewPage()
  EndIf

Next

oPrn:EndDoc()

Is correct this is results ?


Best regards,
Itamar M. Lins Jr. 



From mbelgrano at deltain.it  Sat Nov  7 14:41:35 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Nov  7 14:42:05 2009
Subject: [Harbour] Re: Win_prn problem.
In-Reply-To: <hd4gui$l8q$1@ger.gmane.org>
References: <hd4ahg$3h6$1@ger.gmane.org>
	<609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com> 
	<hd4gui$l8q$1@ger.gmane.org>
Message-ID: <609353e70911071141r1f93a800ne3e3ab032d1495c1@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: test (1).7z
Type: application/octet-stream
Size: 29200 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091107/b631e527/test1-0001.obj
From niki at synel.co.il  Sat Nov  7 14:47:03 2009
From: niki at synel.co.il (Chen Kedem)
Date: Sat Nov  7 14:47:12 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

> Please post ideas how to make our forum more active

The only way to make them active if users could find answers to their need there.
If user need to wait a month or so to get an answer, well, he/she will go elsewhere to find it
(and will probably end here in the dev list). We need someone with knowledge that is willing
to take the time and actively monitor the forum, and provide first aid help, or forward the question
to this list if its something more complicated. I'm doing something like that for the SF bug tracker,
but the forum is just too slow for me (and my old browser at work doesn't do well with the forum).

> BTW I believe attachments should be possible to enable
> in our forum. Can someone check? Vailton, Chen?

Attachments SHOULD work on the Harbour SF phpBB (they were enabled since day one of the forum).

Current limits are:

1) Each file is limited to 256KB.
2) Up to 3 attachments per post.
3) No attachments allowed in private messages.
4) The following extensions are allowed:

Images: gif, jpeg, jpg, png.
Archives: 7z, ace, bz2, gtar, gz, rar, tar, tgz, zip.
Plain text: c, ch, cpp, csv, h, hpp, ini, log, prg, txt, xml

I can change the above settings if needed.

Massimo: What file did you try to attach? Did you get any error message?

  Chen.
From bedipritpal at hotmail.com  Sat Nov  7 17:03:49 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Nov  7 17:03:56 2009
Subject: [Harbour] CPU Consumption and hb_idleState()
In-Reply-To: <26240902.post@talk.nabble.com>
References: <26240902.post@talk.nabble.com>
Message-ID: <26249073.post@talk.nabble.com>


Hello All


Pritpal Bedi wrote:
> 
> I use something like this code
> 
>          DO WHILE .t.
>             nKey := b_Inkey()
> 
>             IF nKey != 0 .and. nKey != 1101  // HB_K_RESIZE
>                EXIT
>             ENDIF
> 
>             hb_idleState()
>          ENDDO
> 
> hb_idleState() was allowing me to release CPU cycles and was 
> working perfectly till I last touched Vouch. But of lately I was so 
> indulged in HBQT that I simply ignored my product. And so I cannot
> trace back at what point hb_idleState() went crazy. Now it generates
> run-time error refering to
> 
> "Object destructutor failure"
> "Reference to freed block"
> 

To add a note that hb_idleState() works ok with primary thread == 1,
any subsequent thread generates RT error.

I am compiling with MSVC 2008. 
Cannot compile with BCC as it is broken.
Cannot compile with MINGW as it does not accepts .res more than one.

Without hb_idleState() call everything works fine but then CPU consumption
is 97%.

Regards
Pritpal Bedi 

-- 
View this message in context: http://old.nabble.com/CPU-Consumption-and-hb_idleState%28%29-tp26240902p26249073.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sat Nov  7 17:18:30 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Nov  7 17:18:58 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <609353e70911071418q3086e92hf93346bb61640b5e@mail.gmail.com>

2009/11/7 Chen Kedem <niki@synel.co.il>

> Viktor,
>
> > Please post ideas how to make our forum more active
>
> The only way to make them active if users could find answers to their need
> there.
> If user need to wait a month or so to get an answer, well, he/she will go
> elsewhere to find it
> (and will probably end here in the dev list). We need someone with
> knowledge that is willing
> to take the time and actively monitor the forum, and provide first aid
> help, or forward the question
> to this list if its something more complicated. I'm doing something like
> that for the SF bug tracker,
> but the forum is just too slow for me (and my old browser at work doesn't
> do well with the forum).
>

For huser
Important the speed of read and reply
Capability see message posted  via mail, like a  mailing , and if possible
reply
Capability to be subscribe either as a mailing list or discussion group

I hope that if more feature for "huser" are satistied i hope that More user
from developer list join/subscrive final userlist. I am the first
Google group seem me more better for huser

For User
Is also important a intelligent redirection  of message/reply to email for
our final user
web access with integration of most interested messages Web access is easy
to undestrand
easy fast search, for search first post messages

Imo http://www.hmgforum.com/ seem me more better for user


>
> > BTW I believe attachments should be possible to enable
> > in our forum. Can someone check? Vailton, Chen?
>
> Attachments SHOULD work on the Harbour SF phpBB (they were enabled since
> day one of the forum).
>
> Current limits are:
>
> 1) Each file is limited to 256KB.
> 2) Up to 3 attachments per post.
> 3) No attachments allowed in private messages.
> 4) The following extensions are allowed:
>
> Images: gif, jpeg, jpg, png.
> Archives: 7z, ace, bz2, gtar, gz, rar, tar, tgz, zip.
> Plain text: c, ch, cpp, csv, h, hpp, ini, log, prg, txt, xml
>
> I can change the above settings if needed.
>
> Massimo: What file did you try to attach? Did you get any error message?
>
> I remember as limit and not have tried recent


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091107/bd8b2117/attachment.html
From bedipritpal at hotmail.com  Sat Nov  7 17:23:44 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Nov  7 17:23:50 2009
Subject: [Harbour] CPU Consumption and hb_idleState()
In-Reply-To: <26249073.post@talk.nabble.com>
References: <26240902.post@talk.nabble.com> <26249073.post@talk.nabble.com>
Message-ID: <26249226.post@talk.nabble.com>


Hello

Yet another update: 
MINGW also produces same error.

Regards
Pritpal Bedi 

-- 
View this message in context: http://old.nabble.com/CPU-Consumption-and-hb_idleState%28%29-tp26240902p26249226.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bruno.luciani at gmail.com  Sat Nov  7 17:36:26 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sat Nov  7 17:36:35 2009
Subject: [Harbour] hbqt.hbc - Problem Compiling Sample
Message-ID: <133778360911071436t4e734a32xfd3a3525bd62a97b@mail.gmail.com>

Could you verify if this file is correct

hbqt.hbc

To compile demoqt  in windows ?

I think that last changes may be not reflected in it



Thanks in advance
Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091107/3ada3022/attachment.html
From mbelgrano at deltain.it  Sat Nov  7 17:56:45 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Nov  7 17:57:12 2009
Subject: [Harbour] hbqt.hbc - Problem Compiling Sample
In-Reply-To: <133778360911071436t4e734a32xfd3a3525bd62a97b@mail.gmail.com>
References: <133778360911071436t4e734a32xfd3a3525bd62a97b@mail.gmail.com>
Message-ID: <609353e70911071456v6a094fbap59358a7307f15387@mail.gmail.com>

undefined reference to `HB_FUN_HB_TOOUTDEBUG'



hbmk2: Processing environment options: -compiler=mingw
hbmk2: Processing local make script: hbmk.hbm
hbmk2: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
Harbour 2.0.0beta3 (Rev. 12829)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'demoqt.prg'...
Lines 1032, Functions/Procedures 23
Generating C source output to 'demoqt.c'... Done.
demoqt.o:demoqt.c:(.data+0x88): undefined reference to
`HB_FUN_HB_TOOUTDEBUG'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc.exe demoqt.o hbmk_urnisx.o    -mwindows -Wl,--start-group -lhbqt
-lhbqtcore
-lhbqtgui -lhbqtnetwork -lhbqtwebkit -lversion -lshlwapi -lQtCore4 -lQtGui4
-lQt
Network4 -lQtWebKit4 -lsupc++ -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang
-lhbc
page -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbuddall
-lhbusrr
dd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbmacro
-lhbcpl
r -lhbpp -lhbcommon -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32
-lwinspool -
lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm
-lmapi32
-limm32 -lmsimg32 -lwininet -lhbpcre -lhbzlib  -Wl,--end-group -odemoqt.exe
-Lc:
/harbour/mingw/lib -Lc:/devl/qt/2009.04/qt/lib


2009/11/7 Bruno Luciani <bruno.luciani@gmail.com>

> Could you verify if this file is correct
>
> hbqt.hbc
>
> To compile demoqt  in windows ?
>
> I think that last changes may be not reflected in it
>
>
>
> Thanks in advance
> Bruno
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica -
Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091107/798daf5d/attachment.html
From bruno.luciani at gmail.com  Sat Nov  7 19:22:59 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sat Nov  7 19:23:08 2009
Subject: [Harbour] hbqt.hbc - Problem Compiling Sample
In-Reply-To: <609353e70911071456v6a094fbap59358a7307f15387@mail.gmail.com>
References: <133778360911071436t4e734a32xfd3a3525bd62a97b@mail.gmail.com>
	<609353e70911071456v6a094fbap59358a7307f15387@mail.gmail.com>
Message-ID: <133778360911071622y44c8c58cr57ccaaa4c30579b7@mail.gmail.com>

Add  -lxhb to compile to solve this debug function

Bruno

2009/11/7 Massimo Belgrano <mbelgrano@deltain.it>

> undefined reference to `HB_FUN_HB_TOOUTDEBUG'
>
>
>
> hbmk2: Processing environment options: -compiler=mingw
> hbmk2: Processing local make script: hbmk.hbm
> hbmk2: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
> Harbour 2.0.0beta3 (Rev. 12829)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'demoqt.prg'...
> Lines 1032, Functions/Procedures 23
> Generating C source output to 'demoqt.c'... Done.
> demoqt.o:demoqt.c:(.data+0x88): undefined reference to
> `HB_FUN_HB_TOOUTDEBUG'
> collect2: ld returned 1 exit status
> hbmk2: Error: Running linker. 1
> gcc.exe demoqt.o hbmk_urnisx.o    -mwindows -Wl,--start-group -lhbqt
> -lhbqtcore
> -lhbqtgui -lhbqtnetwork -lhbqtwebkit -lversion -lshlwapi -lQtCore4 -lQtGui4
> -lQt
> Network4 -lQtWebKit4 -lsupc++ -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang
> -lhbc
> page -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbuddall
> -lhbusrr
> dd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbmacro
> -lhbcpl
> r -lhbpp -lhbcommon -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32
> -lwinspool -
> lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm
> -lmapi32
> -limm32 -lmsimg32 -lwininet -lhbpcre -lhbzlib  -Wl,--end-group -odemoqt.exe
> -Lc:
> /harbour/mingw/lib -Lc:/devl/qt/2009.04/qt/lib
>
>
> 2009/11/7 Bruno Luciani <bruno.luciani@gmail.com>
>
>> Could you verify if this file is correct
>>
>> hbqt.hbc
>>
>> To compile demoqt  in windows ?
>>
>> I think that last changes may be not reflected in it
>>
>>
>>
>> Thanks in advance
>> Bruno
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
>
> --
> Massimo Belgrano
>
> Analisi e sviluppo software per Lan e Web - Consulenza informatica -
> Formazione
> Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091107/fb0b9e38/attachment-0001.html
From druzus at users.sourceforge.net  Sat Nov  7 20:46:21 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Nov  7 20:46:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12830] trunk/harbour
Message-ID: <E1N6wrF-0007J3-N8@d5vjzd1.ch3.sourceforge.com>

Revision: 12830
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12830&view=rev
Author:   druzus
Date:     2009-11-08 01:46:17 +0000 (Sun, 08 Nov 2009)

Log Message:
-----------
2009-11-08 02:43 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/set.c
    ! fixed small typos in returned values (FALSE instead of NULL and 0)

  * harbour/src/vm/estack.c
    * make calling hb_stackTotalItems() safe in MT mode when stack is not
      initialized - now this function can be used to check if HVM stack
      exists and is initialized in ST and MT mode

  * harbour/src/rtl/errintlo.c
    ! fixed at least 4 GPF traps exploited when hb_errInternal() was called
      and HVM stack was not initialized

  * harbour/include/Makefile
  + harbour/include/hbcdpreg.h
  * harbour/include/hbapicdp.h
  * harbour/src/rtl/cdpapi.c
    + added new CDP API which fixes many errors and limitations in old
      implementation.
      Warning !!! some very serious bugs in national sorting have been
                  fixed. It may cause that old indexes using some national
                  sorting will not be compatible. Please rebuild existing
                  indexes.

  * harbour/src/vm/itemapi.c
  * harbour/src/rdd/hsx/hsx.c
  * harbour/src/rdd/dbfntx/dbfntx1.c
  * harbour/src/rdd/dbfnsx/dbfnsx1.c
  * harbour/src/rdd/dbfcdx/dbfcdx1.c
  * harbour/contrib/hbbmcdx/bmdbfcdx.c
  * harbour/contrib/rddads/adsx.c
  * harbour/contrib/rddsql/sqlmix.c
    * updated to work with new CDP API
    TOFIX: update adsx.c and sqlmix.c to use hb_cdpcmp() which resepcts
           sorting with accented and mulitybyts characters.
           Mindaugas, can you update above code?

  * harbour/src/codepage/cpbg866.c
  * harbour/src/codepage/cpbgiso.c
  * harbour/src/codepage/cpbgmik.c
  * harbour/src/codepage/cpbgwin.c
  * harbour/src/codepage/cpcs852.c
  * harbour/src/codepage/cpcsiso.c
  * harbour/src/codepage/cpcskam.c
  * harbour/src/codepage/cpcswin.c
  * harbour/src/codepage/cpde850.c
  * harbour/src/codepage/cpdeiso.c
  * harbour/src/codepage/cpdewin.c
  * harbour/src/codepage/cpel737.c
  * harbour/src/codepage/cpeliso.c
  * harbour/src/codepage/cpelwin.c
  * harbour/src/codepage/cpes850.c
  * harbour/src/codepage/cpes850c.c
  * harbour/src/codepage/cpesiso.c
  * harbour/src/codepage/cpesisoc.c
  * harbour/src/codepage/cpeswin.c
  * harbour/src/codepage/cpeswinc.c
  * harbour/src/codepage/cpeswinm.c
  * harbour/src/codepage/cpfr850.c
  * harbour/src/codepage/cpfriso.c
  * harbour/src/codepage/cpfrwin.c
  * harbour/src/codepage/cphr437.c
  * harbour/src/codepage/cphr852.c
  * harbour/src/codepage/cphrwin.c
  * harbour/src/codepage/cphu852.c
  * harbour/src/codepage/cphu852s.c
  * harbour/src/codepage/cphuiso.c
  * harbour/src/codepage/cphuisos.c
  * harbour/src/codepage/cphuwin.c
  * harbour/src/codepage/cphuwins.c
  * harbour/src/codepage/cpit437.c
  * harbour/src/codepage/cpit850.c
  * harbour/src/codepage/cpitisb.c
  * harbour/src/codepage/cpitiso.c
  * harbour/src/codepage/cpitwin.c
  * harbour/src/codepage/cpltwin.c
  * harbour/src/codepage/cppl852.c
  * harbour/src/codepage/cppliso.c
  * harbour/src/codepage/cpplmaz.c
  * harbour/src/codepage/cpplwin.c
  * harbour/src/codepage/cppt850.c
  * harbour/src/codepage/cpptiso.c
  * harbour/src/codepage/cpro852.c
  * harbour/src/codepage/cproiso.c
  * harbour/src/codepage/cprowin.c
  * harbour/src/codepage/cpru866.c
  * harbour/src/codepage/cpruiso.c
  * harbour/src/codepage/cprukoi.c
  * harbour/src/codepage/cpruwin.c
  * harbour/src/codepage/cpsk852.c
  * harbour/src/codepage/cpskiso.c
  * harbour/src/codepage/cpskkam.c
  * harbour/src/codepage/cpskwin.c
  * harbour/src/codepage/cpsl437.c
  * harbour/src/codepage/cpsl852.c
  * harbour/src/codepage/cpsliso.c
  * harbour/src/codepage/cpslwin.c
  * harbour/src/codepage/cpsrwin.c
  * harbour/src/codepage/cpsv850.c
  * harbour/src/codepage/cpsvclip.c
  * harbour/src/codepage/cpsviso.c
  * harbour/src/codepage/cpsvwin.c
  * harbour/src/codepage/cptr857.c
  * harbour/src/codepage/cptriso.c
  * harbour/src/codepage/cptrwin.c
  * harbour/src/codepage/cpua1125.c
  * harbour/src/codepage/cpua866.c
  * harbour/src/codepage/cpuakoi.c
  * harbour/src/codepage/cpuawin.c
  * harbour/src/codepage/uc037.c
  * harbour/src/codepage/uc1006.c
  * harbour/src/codepage/uc1026.c
  * harbour/src/codepage/uc1125.c
  * harbour/src/codepage/uc1250.c
  * harbour/src/codepage/uc1251.c
  * harbour/src/codepage/uc1252.c
  * harbour/src/codepage/uc1253.c
  * harbour/src/codepage/uc1254.c
  * harbour/src/codepage/uc1255.c
  * harbour/src/codepage/uc1256.c
  * harbour/src/codepage/uc1257.c
  * harbour/src/codepage/uc1258.c
  * harbour/src/codepage/uc424.c
  * harbour/src/codepage/uc500.c
  * harbour/src/codepage/uc737.c
  * harbour/src/codepage/uc775.c
  * harbour/src/codepage/uc850.c
  * harbour/src/codepage/uc852.c
  * harbour/src/codepage/uc855.c
  * harbour/src/codepage/uc856.c
  * harbour/src/codepage/uc857.c
  * harbour/src/codepage/uc860.c
  * harbour/src/codepage/uc861.c
  * harbour/src/codepage/uc862.c
  * harbour/src/codepage/uc863.c
  * harbour/src/codepage/uc864.c
  * harbour/src/codepage/uc865.c
  * harbour/src/codepage/uc866.c
  * harbour/src/codepage/uc869.c
  * harbour/src/codepage/uc874.c
  * harbour/src/codepage/uc875.c
  * harbour/src/codepage/uc885910.c
  * harbour/src/codepage/uc885911.c
  * harbour/src/codepage/uc885913.c
  * harbour/src/codepage/uc885914.c
  * harbour/src/codepage/uc885915.c
  * harbour/src/codepage/uc885916.c
  * harbour/src/codepage/uc88591b.c
  * harbour/src/codepage/uc8859_1.c
  * harbour/src/codepage/uc8859_2.c
  * harbour/src/codepage/uc8859_3.c
  * harbour/src/codepage/uc8859_4.c
  * harbour/src/codepage/uc8859_5.c
  * harbour/src/codepage/uc8859_6.c
  * harbour/src/codepage/uc8859_7.c
  * harbour/src/codepage/uc8859_8.c
  * harbour/src/codepage/uc8859_9.c
  * harbour/src/codepage/ucascii.c
  * harbour/src/codepage/ucatari.c
  * harbour/src/codepage/uckam.c
  * harbour/src/codepage/uckoi8.c
  * harbour/src/codepage/uckoi8u.c
  * harbour/src/codepage/ucmacce.c
  * harbour/src/codepage/ucmaccyr.c
  * harbour/src/codepage/ucmacgrk.c
  * harbour/src/codepage/ucmacice.c
  * harbour/src/codepage/ucmacrom.c
  * harbour/src/codepage/ucmactrk.c
  * harbour/src/codepage/ucmaz.c
  * harbour/src/codepage/ucmik.c
  * harbour/src/codepage/ucnext.c
    * updated for new CP API
    Warning: please test all national CPs. I'm not able to test unknown for
             me national character conditions so it's possible that I made
             something wrong. Additionally current CP API does not have
             some limitations which existed in the old one so now some hacks
             or workarounds can be cleaned. I.e. now all translations are
             done using Unicode tables so it's not necessary to use the
             same number of characters to make them working.
             Updating CP files I've found the following potential problems
             in definitions which I haven't fixed or fixed only partially:

         cpes850c.c - update for new format removing hacks for old CP
                      implementation
         cpesisoc.c  > remove, it's not longer necessary
         cpeswinc.c /
         cpeswinm.c - it is the same as cpesiso.c so it should be removed

         cphu852.c  \
         cphu852s.c  \
         cphuiso.c    > update for new format removing hacks for old CP
         cphuwin.c   /  implementation

         cphuisos.c  > remove, it's not longer necessary
         cphuwins.c /

         cphr437.c  > does it really use CP-437? and ^]\[@~}|{` instead of
         cpsl437.c /  nationalletters or it uses different then 437 CP for
                      7-bit Croatian characters encoding. It's important
                      because without valid unicode table translations will
                      not work.

         cpit437.c  - update for new version if necessary (upper characters)

         cpsv850.c \
         cpsviso.c  > they had ACCENTED_INTERLEAVED but without ACCENTED_EQUAL
         cpsvwin.c /  so this setting was ignored. Now it's not ignored.

         cpsvclip.c - update for new format to be fully not only
                      "almost compatible with Clipper's NTXSWE.OBJ"

      For sure these are not all problems inherited from old CP
      implementation so please verify all existing CPs.

  * harbour/src/codepage/cp_tpl.c
    + added new example for CP definition. Working on new CPs please read
      this description:
         If accented characters need special sorting ( HB_CDP_ACSORT_EQUAL or
         HB_CDP_ACSORT_INTERLEAVE ) then you need to mark the accented
         characters with the symbol '~' before each of them, for example:
            a~_
         If there is two-character sequence, which is considered as one, it
         should be marked with '.' before and after it, for example:
            ... h.ch.i ...
         if such multibyte character has its own Unicode representation then
         this Unicode value can be set using '=' symbol, for example:
            ....h.ch=2A7C.i
         and it will be used in translations.

         The Upper case string and the Lower case string should use the
         same letters. If some characters does not have corresponding upper
         or lower letter then space ' ' can be used as dummy character, for
         example in German CPs there is no upper case 'scharfes S' letter
         so space is used as dummy character.

         HB_CP_LATIN should be 1 if the national alphabet is based on Latin
         otherwise 0

      Please note that now you can use two versions of CP definition.
      The 1-st one which uses human readable form similar to the old CP
      definition and 2-nd which uses directly final CP tables so it
      allows to replicate any conditions which existed in Clipper or
      any other compatible language which uses static tables.
      tests/cpinfo.prg can generate automatically .c files with new CP
      definition in the 2-nd version. Now if user wants to create new
      Harbour CP which is fully Clipper compatible he only has to
      compile and link cpinfo.prg with given national sorting module
      and then execute it with new Harbour CP name as 1-st parameter.
      cp<cpname>.c file is generated which can be added to Harbour
      repository. Optional 2-nd parameter is CP description and 3-rd
      is Harbour Unicode table ID (if not given 437 is used and should
      be updated by user in .c file). This method should definitely
      resolve any problems with creating Clipper compatible CP definition.
      It also allows to easy verify if CP definitions are compatible. It's
      enough to compare generated .c files.

  * harbour/src/codepage/uckam.c
    ! fixed Kamenicky Unicode table definition - it was Mazovia CP :)

  * harbour/src/codepage/cpde850.c
  * harbour/src/codepage/cpdeiso.c
  * harbour/src/codepage/cpdewin.c
    ! fixed CP wrongly encoded CP due to limitations in old CP definition.
      Now it's possible to define different number of upper an lower
      characters (space " " can be used as dummy character) and I used
      it to eliminate hack for 'scharfes S' which does not exists as upper
      case.
      Please clean other CPs which contain similar hacks.

  * harbour/src/codepage/cphu852.c
  * harbour/src/codepage/cphuiso.c
  * harbour/src/codepage/cphuwin.c
  * harbour/src/codepage/cpua866.c
    * removed dummy letters introduced for old translation code

  * harbour/src/rtl/natmsg.c
  * harbour/src/rtl/cdpapi.c
  * harbour/include/hbextern.ch
    + added HB_CDPINFO() function
    * redirected _NATSORTVER() function to HB_CDPINFO()

   To All,
      Please check your national sorting in current version and make
      any updates if necessary or inform me about found problems.
      I've checked that Polish CPs are working fine and all existing
      CPs passes my test program which verified some technical aspects
      of CP implementation. But I cannot verify if this definitions
      satisfy users in different countries.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/rddads/adsx.c
    trunk/harbour/contrib/rddsql/sqlmix.c
    trunk/harbour/include/Makefile
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/include/hbextern.ch
    trunk/harbour/src/codepage/cp_tpl.c
    trunk/harbour/src/codepage/cpbg866.c
    trunk/harbour/src/codepage/cpbgiso.c
    trunk/harbour/src/codepage/cpbgmik.c
    trunk/harbour/src/codepage/cpbgwin.c
    trunk/harbour/src/codepage/cpcs852.c
    trunk/harbour/src/codepage/cpcsiso.c
    trunk/harbour/src/codepage/cpcskam.c
    trunk/harbour/src/codepage/cpcswin.c
    trunk/harbour/src/codepage/cpde850.c
    trunk/harbour/src/codepage/cpdeiso.c
    trunk/harbour/src/codepage/cpdewin.c
    trunk/harbour/src/codepage/cpel737.c
    trunk/harbour/src/codepage/cpeliso.c
    trunk/harbour/src/codepage/cpelwin.c
    trunk/harbour/src/codepage/cpes850.c
    trunk/harbour/src/codepage/cpes850c.c
    trunk/harbour/src/codepage/cpesiso.c
    trunk/harbour/src/codepage/cpesisoc.c
    trunk/harbour/src/codepage/cpeswin.c
    trunk/harbour/src/codepage/cpeswinc.c
    trunk/harbour/src/codepage/cpeswinm.c
    trunk/harbour/src/codepage/cpfr850.c
    trunk/harbour/src/codepage/cpfriso.c
    trunk/harbour/src/codepage/cpfrwin.c
    trunk/harbour/src/codepage/cphr437.c
    trunk/harbour/src/codepage/cphr852.c
    trunk/harbour/src/codepage/cphrwin.c
    trunk/harbour/src/codepage/cphu852.c
    trunk/harbour/src/codepage/cphu852s.c
    trunk/harbour/src/codepage/cphuiso.c
    trunk/harbour/src/codepage/cphuisos.c
    trunk/harbour/src/codepage/cphuwin.c
    trunk/harbour/src/codepage/cphuwins.c
    trunk/harbour/src/codepage/cpit437.c
    trunk/harbour/src/codepage/cpit850.c
    trunk/harbour/src/codepage/cpitisb.c
    trunk/harbour/src/codepage/cpitiso.c
    trunk/harbour/src/codepage/cpitwin.c
    trunk/harbour/src/codepage/cpltwin.c
    trunk/harbour/src/codepage/cppl852.c
    trunk/harbour/src/codepage/cppliso.c
    trunk/harbour/src/codepage/cpplmaz.c
    trunk/harbour/src/codepage/cpplwin.c
    trunk/harbour/src/codepage/cppt850.c
    trunk/harbour/src/codepage/cpptiso.c
    trunk/harbour/src/codepage/cpro852.c
    trunk/harbour/src/codepage/cproiso.c
    trunk/harbour/src/codepage/cprowin.c
    trunk/harbour/src/codepage/cpru866.c
    trunk/harbour/src/codepage/cpruiso.c
    trunk/harbour/src/codepage/cprukoi.c
    trunk/harbour/src/codepage/cpruwin.c
    trunk/harbour/src/codepage/cpsk852.c
    trunk/harbour/src/codepage/cpskiso.c
    trunk/harbour/src/codepage/cpskkam.c
    trunk/harbour/src/codepage/cpskwin.c
    trunk/harbour/src/codepage/cpsl437.c
    trunk/harbour/src/codepage/cpsl852.c
    trunk/harbour/src/codepage/cpsliso.c
    trunk/harbour/src/codepage/cpslwin.c
    trunk/harbour/src/codepage/cpsrwin.c
    trunk/harbour/src/codepage/cpsv850.c
    trunk/harbour/src/codepage/cpsvclip.c
    trunk/harbour/src/codepage/cpsviso.c
    trunk/harbour/src/codepage/cpsvwin.c
    trunk/harbour/src/codepage/cptr857.c
    trunk/harbour/src/codepage/cptriso.c
    trunk/harbour/src/codepage/cptrwin.c
    trunk/harbour/src/codepage/cpua1125.c
    trunk/harbour/src/codepage/cpua866.c
    trunk/harbour/src/codepage/cpuakoi.c
    trunk/harbour/src/codepage/cpuawin.c
    trunk/harbour/src/codepage/uc037.c
    trunk/harbour/src/codepage/uc1006.c
    trunk/harbour/src/codepage/uc1026.c
    trunk/harbour/src/codepage/uc1125.c
    trunk/harbour/src/codepage/uc1250.c
    trunk/harbour/src/codepage/uc1251.c
    trunk/harbour/src/codepage/uc1252.c
    trunk/harbour/src/codepage/uc1253.c
    trunk/harbour/src/codepage/uc1254.c
    trunk/harbour/src/codepage/uc1255.c
    trunk/harbour/src/codepage/uc1256.c
    trunk/harbour/src/codepage/uc1257.c
    trunk/harbour/src/codepage/uc1258.c
    trunk/harbour/src/codepage/uc424.c
    trunk/harbour/src/codepage/uc500.c
    trunk/harbour/src/codepage/uc737.c
    trunk/harbour/src/codepage/uc775.c
    trunk/harbour/src/codepage/uc850.c
    trunk/harbour/src/codepage/uc852.c
    trunk/harbour/src/codepage/uc855.c
    trunk/harbour/src/codepage/uc856.c
    trunk/harbour/src/codepage/uc857.c
    trunk/harbour/src/codepage/uc860.c
    trunk/harbour/src/codepage/uc861.c
    trunk/harbour/src/codepage/uc862.c
    trunk/harbour/src/codepage/uc863.c
    trunk/harbour/src/codepage/uc864.c
    trunk/harbour/src/codepage/uc865.c
    trunk/harbour/src/codepage/uc866.c
    trunk/harbour/src/codepage/uc869.c
    trunk/harbour/src/codepage/uc874.c
    trunk/harbour/src/codepage/uc875.c
    trunk/harbour/src/codepage/uc885910.c
    trunk/harbour/src/codepage/uc885911.c
    trunk/harbour/src/codepage/uc885913.c
    trunk/harbour/src/codepage/uc885914.c
    trunk/harbour/src/codepage/uc885915.c
    trunk/harbour/src/codepage/uc885916.c
    trunk/harbour/src/codepage/uc88591b.c
    trunk/harbour/src/codepage/uc8859_1.c
    trunk/harbour/src/codepage/uc8859_2.c
    trunk/harbour/src/codepage/uc8859_3.c
    trunk/harbour/src/codepage/uc8859_4.c
    trunk/harbour/src/codepage/uc8859_5.c
    trunk/harbour/src/codepage/uc8859_6.c
    trunk/harbour/src/codepage/uc8859_7.c
    trunk/harbour/src/codepage/uc8859_8.c
    trunk/harbour/src/codepage/uc8859_9.c
    trunk/harbour/src/codepage/ucascii.c
    trunk/harbour/src/codepage/ucatari.c
    trunk/harbour/src/codepage/uckam.c
    trunk/harbour/src/codepage/uckoi8.c
    trunk/harbour/src/codepage/uckoi8u.c
    trunk/harbour/src/codepage/ucmacce.c
    trunk/harbour/src/codepage/ucmaccyr.c
    trunk/harbour/src/codepage/ucmacgrk.c
    trunk/harbour/src/codepage/ucmacice.c
    trunk/harbour/src/codepage/ucmacrom.c
    trunk/harbour/src/codepage/ucmactrk.c
    trunk/harbour/src/codepage/ucmaz.c
    trunk/harbour/src/codepage/ucmik.c
    trunk/harbour/src/codepage/ucnext.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/src/rdd/dbfntx/dbfntx1.c
    trunk/harbour/src/rdd/hsx/hsx.c
    trunk/harbour/src/rtl/cdpapi.c
    trunk/harbour/src/rtl/errintlo.c
    trunk/harbour/src/rtl/natmsg.c
    trunk/harbour/src/vm/estack.c
    trunk/harbour/src/vm/itemapi.c
    trunk/harbour/src/vm/set.c
    trunk/harbour/tests/cpinfo.prg

Added Paths:
-----------
    trunk/harbour/include/hbcdpreg.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sun Nov  8 05:00:15 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Nov  8 05:00:43 2009
Subject: [Harbour] RDDADO
In-Reply-To: <E8B2C88B-86C4-4DBC-9584-04A1A46AE67A@syenar.hu>
References: <E8B2C88B-86C4-4DBC-9584-04A1A46AE67A@syenar.hu>
Message-ID: <609353e70911080200h5af06e42x7ad6832a57a471cc@mail.gmail.com>

+1 for moving to example because also litte sample nto work
Instead is a good example of usrrdd

2009/10/12 Viktor Szak?ts <harbour.01@syenar.hu>

> Hi All,
>
> In case there are no objections and nobody volunteers to touch
> RDDADO code to make it work after xhb sync and maybe some other
> recent changes, I'd like to propose to delete it from repository
> or move it to examples.
>
> We have RDDSQL as a nice replacement, even if write support
> isn't fully equivalent (or maybe some other differences I
> failed to grasp).
>
> Having a non-working RDDADO has not much point IMO, and we're
> approaching a final release.
>
> Brgds,
> Viktor
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091108/e459ae93/attachment.html
From mbelgrano at deltain.it  Sun Nov  8 05:13:01 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Nov  8 05:13:28 2009
Subject: [Harbour] CPU Consumption and hb_idleState()
In-Reply-To: <26249226.post@talk.nabble.com>
References: <26240902.post@talk.nabble.com> <26249073.post@talk.nabble.com> 
	<26249226.post@talk.nabble.com>
Message-ID: <609353e70911080213pf8ebbc1p15a3f132b042c0d5@mail.gmail.com>

Can you post a complete sample that i can try?

2009/11/7 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hello
>
> Yet another update:
> MINGW also produces same error.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://old.nabble.com/CPU-Consumption-and-hb_idleState%28%29-tp26240902p26249226.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091108/f28d1e28/attachment.html
From druzus at acn.waw.pl  Sun Nov  8 05:46:29 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Nov  8 05:46:36 2009
Subject: [Harbour] CPU Consumption and hb_idleState()
In-Reply-To: <26249073.post@talk.nabble.com>
References: <26240902.post@talk.nabble.com>
 <26249073.post@talk.nabble.com>
Message-ID: <20091108104629.GA26710@34-mo7-2.home.aster.pl>

On Sat, 07 Nov 2009, Pritpal Bedi wrote:

Hi,

> Pritpal Bedi wrote:
> > I use something like this code
> > 
> >          DO WHILE .t.
> >             nKey := b_Inkey()
> > 
> >             IF nKey != 0 .and. nKey != 1101  // HB_K_RESIZE
> >                EXIT
> >             ENDIF
> > 
> >             hb_idleState()
> >          ENDDO
> > hb_idleState() was allowing me to release CPU cycles and was 
> > working perfectly till I last touched Vouch. But of lately I was so 
> > indulged in HBQT that I simply ignored my product. And so I cannot
> > trace back at what point hb_idleState() went crazy. Now it generates
> > run-time error refering to
> > "Object destructutor failure"
> > "Reference to freed block"

It happens when object destructor stores reference to freed GC block
in some item which is still accessible after releasing inaccessible block.
It's also possible that it's result of some memory corruption or mistake
in code which manage GC blocks, i.e. some dummy GC hb_gcAllocate().
BTW have you updated your code to not use hb_gcAlloc() but hb_gcAllocate()
instead?

> To add a note that hb_idleState() works ok with primary thread == 1,
> any subsequent thread generates RT error.

hb_idleState() is unimportant here. Important is only hb_gcAll() activated
inside hb_idleState().
Anyhow the information about threads give me some ideas that what can be
source of the problem and it's probably my mistake.
I added hb_gtIsGtRef() but it works only for main thread and I forgot
to scan all existing HVM stacks and execute this function.
If I'm right then it means that tour threads have own GT windows with
some GC cargo value or notifier block.
In such case as temporary solution you can try to modify src/rtl/hbgtcore.c.
Please comment all hb_gcMark() and hb_gcUnlock() calls in this file and
check if it resolves the problem.

best regards,
Przemek
From druzus at users.sourceforge.net  Sun Nov  8 06:01:32 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Nov  8 06:01:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12831] trunk/harbour
Message-ID: <E1N75WW-00012N-J2@c3vjzd1.ch3.sourceforge.com>

Revision: 12831
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12831&view=rev
Author:   druzus
Date:     2009-11-08 11:01:28 +0000 (Sun, 08 Nov 2009)

Log Message:
-----------
2009-11-08 12:00 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapigt.h
  * harbour/src/rtl/hbgtcore.c
  * harbour/src/vm/estack.c
  * harbour/src/vm/garbage.c
    ! fixed marking GC items stored in thread local GT windows

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapigt.h
    trunk/harbour/src/rtl/hbgtcore.c
    trunk/harbour/src/vm/estack.c
    trunk/harbour/src/vm/garbage.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From itamarlins at bol.com.br  Sun Nov  8 07:21:39 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Sun Nov  8 07:51:33 2009
Subject: [Harbour] Re: Re: Win_prn problem.
References: <hd4ahg$3h6$1@ger.gmane.org><609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com>
	<hd4gui$l8q$1@ger.gmane.org>
	<609353e70911071141r1f93a800ne3e3ab032d1495c1@mail.gmail.com>
Message-ID: <hd6d8b$la2$1@ger.gmane.org>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: TEST.ZIP
Type: application/octet-stream
Size: 25748 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091108/3b02ee72/TEST-0001.obj
From mbelgrano at deltain.it  Sun Nov  8 08:34:04 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Nov  8 08:34:37 2009
Subject: [Harbour] Re: Re: Win_prn problem.
In-Reply-To: <hd6d8b$la2$1@ger.gmane.org>
References: <hd4ahg$3h6$1@ger.gmane.org>
	<609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com> 
	<hd4gui$l8q$1@ger.gmane.org>
	<609353e70911071141r1f93a800ne3e3ab032d1495c1@mail.gmail.com> 
	<hd6d8b$la2$1@ger.gmane.org>
Message-ID: <609353e70911080534n1c327690qae2f1e1f05d7bb98@mail.gmail.com>

FREEPDFXP + Mingw version

Harbour Terminal: Windows native console
Harbour 2.0.0beta3 (Rev. 12829)
Windows Vista 6.0.6002 Service Pack 2
DS avail=684936KB  OS avail=2063912KB  EMM avail=0KB  MemStat:Off  MT:Off

Try with http://freepdfxp.de/xpDownload.html

2009/11/8 Itamar Lins <itamarlins@bol.com.br>

>  Hi! Massimo, I use MSVC Express 9 with Windows XP, my results is not
> equal.
> Version of Harbour SVN.
>
> /*
>  * $Id: ChangeLog 12829 2009-11-07 03:25:24Z april $
>  */
> Best regards,
> Itamar M. Lins Jr.
>
>
> "Massimo Belgrano" <mbelgrano@deltain.it> escreveu na mensagem
> news:609353e70911071141r1f93a800ne3e3ab032d1495c1@mail.gmail.com...
> your sample Run without problem
> (replaced msgstop with alert )
> In my file
>  Charset is: 255
> Font Is: Lucida Console
>
>
> 2009/11/7 Itamar Lins <itamarlins@bol.com.br>
>
>> Hi! Massimo, please test.
>>
>> Function Main
>>
>> aPrn := GetPrinters()
>> If empty(aPrn)
>>  MsgStop("Error")
>>   return .f.
>> EndIf
>>
>> oPrn := win_prn():New(GetDefaultPrinter())
>> oPrn :LandScape := .f.
>> oPrn :Copies    :=  1
>>
>> if !oPrn:Create()
>>     MsgStop("error")
>>     return nil
>> endif
>>
>> if !oPrn:StartDoc("test")
>>    MsgStop("Error")
>>    return nil
>> EndIf
>>
>> oPrn:CharSet(255)
>> oPrn:Setfont('Lucida Console',,11,,,,255)
>> oPrn:SetPrc(1,0) //Is necessary, because if I omit not print first line.
>>
>> oPrn:TextOut('Charset is: '+str(oPrn:Charset(),5),.t.)
>> oPrn:TextOut('Font Is: '+oPrn:FontName,.t.)
>>
>> For n := 1  to 255
>>  oPrn:TextOut(chr(n),.t.)
>>
>>  if n == 60 .or. n == 120 .or. n == 180 .or. n == 240
>>  oPrn:NewPage()
>>  EndIf
>>
>> Next
>>
>> oPrn:EndDoc()
>>
>> Is correct this is results ?
>>
>>
>> Best regards,
>> Itamar M. Lins Jr.
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> Massimo Belgrano
>
> Analisi e sviluppo software per Lan e Web - Consulenza informatica -
> Formazione
> Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
>
> ------------------------------
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091108/07114f43/attachment.html
From april at users.sourceforge.net  Sun Nov  8 10:27:47 2009
From: april at users.sourceforge.net (april@users.sourceforge.net)
Date: Sun Nov  8 10:27:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12832] trunk/harbour
Message-ID: <E1N79gB-00083c-MV@d5vjzd1.ch3.sourceforge.com>

Revision: 12832
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12832&view=rev
Author:   april
Date:     2009-11-08 15:27:45 +0000 (Sun, 08 Nov 2009)

Log Message:
-----------
* harbour/doc/dirstruc.txt
  * repositioned hbdoc and hbextern, from util to examples
  + added hbdoc2
  * renamed hbmk to hbmk2
* harbour/doc/en-en/menu.txt
  * cosmetic/grammatical change

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/dirstruc.txt
    trunk/harbour/doc/en-EN/menu.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From tfonrouge at users.sourceforge.net  Sun Nov  8 10:29:21 2009
From: tfonrouge at users.sourceforge.net (tfonrouge@users.sourceforge.net)
Date: Sun Nov  8 10:29:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12833] trunk/harbour
Message-ID: <E1N79hh-0005qh-7G@74yxhf1.ch3.sourceforge.com>

Revision: 12833
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12833&view=rev
Author:   tfonrouge
Date:     2009-11-08 15:29:20 +0000 (Sun, 08 Nov 2009)

Log Message:
-----------
2009-11-08 09:28 UTC-0600 Teo Fonrouge (teo/at/windtelsoft/dot/com)
  *  include/hbdefs.h
     ! Fixed compiling of .cpp sources in BCC55 by removing prefix declaration 
       HB_EXTERN_C_ from "typedef HARBOUR" and "typedef PHB_FUNC" declarations

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From april at users.sourceforge.net  Sun Nov  8 10:31:57 2009
From: april at users.sourceforge.net (april@users.sourceforge.net)
Date: Sun Nov  8 10:32:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12834]
	trunk/harbour/ChangeLog
Message-ID: <E1N79kD-000888-Gh@d5vjzd1.ch3.sourceforge.com>

Revision: 12834
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12834&view=rev
Author:   april
Date:     2009-11-08 15:31:53 +0000 (Sun, 08 Nov 2009)

Log Message:
-----------
* harbour/ChangeLog
  * corrected my UTC offset

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From april_white at sympatico.ca  Sun Nov  8 10:33:57 2009
From: april_white at sympatico.ca (April White)
Date: Sun Nov  8 10:34:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12833] trunk/harbour
In-Reply-To: <E1N79hh-0005qh-7G@74yxhf1.ch3.sourceforge.com>
References: <E1N79hh-0005qh-7G@74yxhf1.ch3.sourceforge.com>
Message-ID: <BLU0-SMTP9994E0A8EE6B73FDF7AB64EFAD0@phx.gbl>

tfonrouge@users.sourceforge.net wrote:
> Revision: 12833
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12833&view=rev
> Author:   tfonrouge
> Date:     2009-11-08 15:29:20 +0000 (Sun, 08 Nov 2009)
>
> Log Message:
> -----------
> 2009-11-08 09:28 UTC-0600 Teo Fonrouge (teo/at/windtelsoft/dot/com)
>   *  include/hbdefs.h
>      ! Fixed compiling of .cpp sources in BCC55 by removing prefix declaration 
>        HB_EXTERN_C_ from "typedef HARBOUR" and "typedef PHB_FUNC" declarations
>   

Teo, I believe you should move your ChangeLog entry to be below the 
first comment block.

April

-- 
Change is inevitable, except from vending machines.

From teo at windtelsoft.com  Sun Nov  8 10:37:18 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sun Nov  8 10:37:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12833] trunk/harbour
In-Reply-To: <BLU0-SMTP9994E0A8EE6B73FDF7AB64EFAD0@phx.gbl>
References: <E1N79hh-0005qh-7G@74yxhf1.ch3.sourceforge.com>
	<BLU0-SMTP9994E0A8EE6B73FDF7AB64EFAD0@phx.gbl>
Message-ID: <38A34A19-AA3B-4BEA-B913-212D5E350E96@windtelsoft.com>


On Nov 8, 2009, at 9:33 AM, April White wrote:

> tfonrouge@users.sourceforge.net wrote:
>> Revision: 12833
>>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12833&view=rev
>> Author:   tfonrouge
>> Date:     2009-11-08 15:29:20 +0000 (Sun, 08 Nov 2009)
>>
>> Log Message:
>> -----------
>> 2009-11-08 09:28 UTC-0600 Teo Fonrouge (teo/at/windtelsoft/dot/com)
>>  *  include/hbdefs.h
>>     ! Fixed compiling of .cpp sources in BCC55 by removing prefix  
>> declaration        HB_EXTERN_C_ from "typedef HARBOUR" and "typedef  
>> PHB_FUNC" declarations
>>
>
> Teo, I believe you should move your ChangeLog entry to be below the  
> first comment block.

Yes, sorry I'll fix this.


best regards,

Teo

From tfonrouge at users.sourceforge.net  Sun Nov  8 10:42:30 2009
From: tfonrouge at users.sourceforge.net (tfonrouge@users.sourceforge.net)
Date: Sun Nov  8 10:42:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12835]
	trunk/harbour/ChangeLog
Message-ID: <E1N79uQ-000649-NL@74yxhf1.ch3.sourceforge.com>

Revision: 12835
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12835&view=rev
Author:   tfonrouge
Date:     2009-11-08 15:42:29 +0000 (Sun, 08 Nov 2009)

Log Message:
-----------
2009-11-08 09:42 UTC-0600 Teo Fonrouge (teo/at/windtelsoft/dot/com)
  *  ChangeLog
     ! Fixed wrong placing of my previous entry on ChangeLog

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From teo at windtelsoft.com  Sun Nov  8 10:43:26 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sun Nov  8 10:43:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12833] trunk/harbour
In-Reply-To: <BLU0-SMTP9994E0A8EE6B73FDF7AB64EFAD0@phx.gbl>
References: <E1N79hh-0005qh-7G@74yxhf1.ch3.sourceforge.com>
	<BLU0-SMTP9994E0A8EE6B73FDF7AB64EFAD0@phx.gbl>
Message-ID: <A36DE410-349F-4F14-AB98-7ECB4BAE1816@windtelsoft.com>


On Nov 8, 2009, at 9:33 AM, April White wrote:

> tfonrouge@users.sourceforge.net wrote:
>> Revision: 12833
>>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12833&view=rev
>> Author:   tfonrouge
>> Date:     2009-11-08 15:29:20 +0000 (Sun, 08 Nov 2009)
>>
>> Log Message:
>> -----------
>> 2009-11-08 09:28 UTC-0600 Teo Fonrouge (teo/at/windtelsoft/dot/com)
>>  *  include/hbdefs.h
>>     ! Fixed compiling of .cpp sources in BCC55 by removing prefix  
>> declaration        HB_EXTERN_C_ from "typedef HARBOUR" and "typedef  
>> PHB_FUNC" declarations
>>
>
> Teo, I believe you should move your ChangeLog entry to be below the  
> first comment block.

Fix done, thanks April.


best regrds,

Teo

From druzus at users.sourceforge.net  Sun Nov  8 10:50:53 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Nov  8 10:50:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12836] trunk/harbour
Message-ID: <E1N7A2X-0002vP-D8@3kljzd1.ch3.sourceforge.com>

Revision: 12836
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12836&view=rev
Author:   druzus
Date:     2009-11-08 15:50:52 +0000 (Sun, 08 Nov 2009)

Log Message:
-----------
2009-11-08 16:50 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbdefs.h
    ! fixed PHB_FUNC declaration. 'extern "C"' can be removed only for
      BORLAND and other buggy compilers which may not accept it but
      not for. In some platforms it's very important to keep correct
      declarations because without this flag final binaries will not
      work.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From teo at windtelsoft.com  Sun Nov  8 11:07:57 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sun Nov  8 11:08:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12836] trunk/harbour
In-Reply-To: <E1N7A2X-0002vP-D8@3kljzd1.ch3.sourceforge.com>
References: <E1N7A2X-0002vP-D8@3kljzd1.ch3.sourceforge.com>
Message-ID: <CFDB5ED3-7B73-4701-A6EB-80FA82687AB3@windtelsoft.com>


On Nov 8, 2009, at 9:50 AM, druzus@users.sourceforge.net wrote:

> Revision: 12836
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12836&view=rev
> Author:   druzus
> Date:     2009-11-08 15:50:52 +0000 (Sun, 08 Nov 2009)
>
> Log Message:
> -----------
> 2009-11-08 16:50 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbdefs.h
>    ! fixed PHB_FUNC declaration. 'extern "C"' can be removed only for
>      BORLAND and other buggy compilers which may not accept it but
>      not for. In some platforms it's very important to keep correct
>      declarations because without this flag final binaries will not
>      work.

Thanks Przemek, may be MinGW also needs be included (I'll check it  
later), but of what platforms are you refering ?


best regards,

Teo

From druzus at acn.waw.pl  Sun Nov  8 11:22:16 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Nov  8 11:22:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12836] trunk/harbour
In-Reply-To: <CFDB5ED3-7B73-4701-A6EB-80FA82687AB3@windtelsoft.com>
References: <E1N7A2X-0002vP-D8@3kljzd1.ch3.sourceforge.com>
	<CFDB5ED3-7B73-4701-A6EB-80FA82687AB3@windtelsoft.com>
Message-ID: <20091108162216.GA13639@34-mo7-2.home.aster.pl>

On Sun, 08 Nov 2009, Teo Fonrouge wrote:
> >2009-11-08 16:50 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> > * harbour/include/hbdefs.h
> >   ! fixed PHB_FUNC declaration. 'extern "C"' can be removed only for
> >     BORLAND and other buggy compilers which may not accept it but
> >     not for. In some platforms it's very important to keep correct
> >     declarations because without this flag final binaries will not
> >     work.
> Thanks Przemek, may be MinGW also needs be included (I'll check it
> later), but of what platforms are you refering ?

Any platform which uses different ABI (calling convention) for C and
C++ modes. Without valid declaration we would have GPF on 1-st executed
HARBOUR function because function was declared as extern "C" but
executed using pointer to C++ function. BCC uses the same calling
convention for C and C++ so it works also with wrong definition.

best regards,
Przemek
From teo at windtelsoft.com  Sun Nov  8 11:27:55 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sun Nov  8 11:28:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12836] trunk/harbour
In-Reply-To: <20091108162216.GA13639@34-mo7-2.home.aster.pl>
References: <E1N7A2X-0002vP-D8@3kljzd1.ch3.sourceforge.com>
	<CFDB5ED3-7B73-4701-A6EB-80FA82687AB3@windtelsoft.com>
	<20091108162216.GA13639@34-mo7-2.home.aster.pl>
Message-ID: <71FFE40E-7DC1-4902-A0DB-664F183B22FD@windtelsoft.com>


On Nov 8, 2009, at 10:22 AM, Przemys?aw Czerpak wrote:

> On Sun, 08 Nov 2009, Teo Fonrouge wrote:
>>> 2009-11-08 16:50 UTC+0100 Przemyslaw Czerpak (druzus/at/ 
>>> priv.onet.pl)
>>> * harbour/include/hbdefs.h
>>>  ! fixed PHB_FUNC declaration. 'extern "C"' can be removed only for
>>>    BORLAND and other buggy compilers which may not accept it but
>>>    not for. In some platforms it's very important to keep correct
>>>    declarations because without this flag final binaries will not
>>>    work.
>> Thanks Przemek, may be MinGW also needs be included (I'll check it
>> later), but of what platforms are you refering ?
>
> Any platform which uses different ABI (calling convention) for C and
> C++ modes. Without valid declaration we would have GPF on 1-st  
> executed
> HARBOUR function because function was declared as extern "C" but
> executed using pointer to C++ function. BCC uses the same calling
> convention for C and C++ so it works also with wrong definition.

Many thanks for enlightening explanation.


best regards,

Teo

From bedipritpal at hotmail.com  Sun Nov  8 12:28:41 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Nov  8 12:28:47 2009
Subject: [Harbour] CPU Consumption and hb_idleState()
In-Reply-To: <20091108104629.GA26710@34-mo7-2.home.aster.pl>
References: <26240902.post@talk.nabble.com> <26249073.post@talk.nabble.com>
	<20091108104629.GA26710@34-mo7-2.home.aster.pl>
Message-ID: <26255827.post@talk.nabble.com>


Hello Przemek


Przemys?aw Czerpak wrote:
> 
>> > I use something like this code
>> > 
>> >          DO WHILE .t.
>> >             nKey := b_Inkey()
>> > 
>> >             IF nKey != 0 .and. nKey != 1101  // HB_K_RESIZE
>> >                EXIT
>> >             ENDIF
>> > 
>> >             hb_idleState()
>> >          ENDDO
>> > hb_idleState() was allowing me to release CPU cycles and was 
> 

Revision: 12831 fixes it. Thank you.
Also, I can compile with BCC.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/CPU-Consumption-and-hb_idleState%28%29-tp26240902p26255827.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Sun Nov  8 12:55:44 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Nov  8 12:55:52 2009
Subject: [Harbour] CPU Consumption and hb_idleState()
In-Reply-To: <26255827.post@talk.nabble.com>
References: <26240902.post@talk.nabble.com> <26249073.post@talk.nabble.com>
	<20091108104629.GA26710@34-mo7-2.home.aster.pl>
	<26255827.post@talk.nabble.com>
Message-ID: <20091108175544.GA14448@34-mo7-2.home.aster.pl>

On Sun, 08 Nov 2009, Pritpal Bedi wrote:

Hi,

> Revision: 12831 fixes it. Thank you.

Thank you for information about the problem and confirmation that
it was resolved.
BTW it was also very good example which shows how important is
built in protection against wrongly released GC blocks. Without
it such bugs can exists for years causing random crashes.

BTW I've just tested demoqt using valgrind and below is an error
which invalid memory access which may be source of GPF traps reported
by some users here. Looks that inside release_QWidget there is nothing
to protect against multiple releasing of QWidges.
Maybe it's time to switch to the code with dynamically registered
casting functions I sent few weeks ago?
It should resolve this problem and also some others like common for
all widgets destructor function which forces to link all QT components.
It will be also good starting point for deeper modifications.
BTW using valgrind you can create very precise list of allocated and
never freed memory blocks. If you want then I can send such log here.

best regards,
Przemek


==14350== Invalid read of size 8
==14350==    at 0x4A2C4B: release_QWidget(void*) (in /home/druzus/CVS/harbour/harbour/contrib/hbqt/tests/demoqt)
==14350==    by 0x75D5C04: hb_gcRefFree (in /home/druzus/CVS/harbour/out.gcc/lib/libharbour-2.0.0.so)
==14350==    by 0x7602587: hb_arrayGarbageRelease (in /home/druzus/CVS/harbour/out.gcc/lib/libharbour-2.0.0.so)
==14350==    by 0x75D5C04: hb_gcRefFree (in /home/druzus/CVS/harbour/out.gcc/lib/libharbour-2.0.0.so)
==14350==    by 0x7602587: hb_arrayGarbageRelease (in /home/druzus/CVS/harbour/out.gcc/lib/libharbour-2.0.0.so)
==14350==    by 0x75D5C04: hb_gcRefFree (in /home/druzus/CVS/harbour/out.gcc/lib/libharbour-2.0.0.so)
==14350==    by 0x7602587: hb_arrayGarbageRelease (in /home/druzus/CVS/harbour/out.gcc/lib/libharbour-2.0.0.so)
==14350==    by 0x75D5C04: hb_gcRefFree (in /home/druzus/CVS/harbour/out.gcc/lib/libharbour-2.0.0.so)
==14350==    by 0x75E2FA2: hb_stackOldFrame (in /home/druzus/CVS/harbour/out.gcc/lib/libharbour-2.0.0.so)
==14350==    by 0x7603A4D: hb_vmProc (in /home/druzus/CVS/harbour/out.gcc/lib/libharbour-2.0.0.so)
==14350==    by 0x7606A32: main (in /home/druzus/CVS/harbour/out.gcc/lib/libharbour-2.0.0.so)
==14350==  Address 0xc1c0f20 is 0 bytes inside a block of size 40 free'd
==14350==    at 0x4C23DD8: free (in /usr/lib64/valgrind/vgpreload_memcheck-amd64-linux.so)
==14350==    by 0x544795F: QWidget::~QWidget() (in /usr/lib64/libQtGui.so.4.5.3)
==14350==    by 0x4F7B03B: QObjectPrivate::deleteChildren() (in /usr/lib64/libQtCore.so.4.5.3)
==14350==    by 0x5447CC2: QWidget::~QWidget() (in /usr/lib64/libQtGui.so.4.5.3)
==14350==    by 0x57EE8C0: QStackedWidget::~QStackedWidget() (in /usr/lib64/libQtGui.so.4.5.3)
==14350==    by 0x4F7B03B: QObjectPrivate::deleteChildren() (in /usr/lib64/libQtCore.so.4.5.3)
==14350==    by 0x5447CC2: QWidget::~QWidget() (in /usr/lib64/libQtGui.so.4.5.3)
==14350==    by 0x499F40: release_QTabWidget(void*) (in /home/druzus/CVS/harbour/harbour/contrib/hbqt/tests/demoqt)
==14350==    by 0x75D5C04: hb_gcRefFree (in /home/druzus/CVS/harbour/out.gcc/lib/libharbour-2.0.0.so)
==14350==    by 0x75E4A27: hb_itemCopy (in /home/druzus/CVS/harbour/out.gcc/lib/libharbour-2.0.0.so)
==14350==    by 0x75E529C: hb_arraySet (in /home/druzus/CVS/harbour/out.gcc/lib/libharbour-2.0.0.so)
==14350==    by 0x75ED0D2: HB_FUN_msgSetData (in /home/druzus/CVS/harbour/out.gcc/lib/libharbour-2.0.0.so)
==14350==    by 0x75E273A: hb_vmSend (in /home/druzus/CVS/harbour/out.gcc/lib/libharbour-2.0.0.so)
==14350==    by 0x75E0399: hb_vmExecute (in /home/druzus/CVS/harbour/out.gcc/lib/libharbour-2.0.0.so)
==14350==    by 0x7603A26: hb_vmProc (in /home/druzus/CVS/harbour/out.gcc/lib/libharbour-2.0.0.so)
==14350==    by 0x75DFFB1: hb_vmExecute (in /home/druzus/CVS/harbour/out.gcc/lib/libharbour-2.0.0.so)
From itamarlins at bol.com.br  Sun Nov  8 13:24:59 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Sun Nov  8 13:27:31 2009
Subject: [Harbour] Re: Re: Re: Win_prn problem.
References: <hd4ahg$3h6$1@ger.gmane.org><609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com>
	<hd4gui$l8q$1@ger.gmane.org><609353e70911071141r1f93a800ne3e3ab032d1495c1@mail.gmail.com>
	<hd6d8b$la2$1@ger.gmane.org>
	<609353e70911080534n1c327690qae2f1e1f05d7bb98@mail.gmail.com>
Message-ID: <hd72hk$fu3$1@ger.gmane.org>

What's the best choice? MSVC or Mingw ?
What's the standard compiler for harbour ?

Best regards,
Itamar M. Lins Jr.
  "Massimo Belgrano" <mbelgrano@deltain.it> escreveu na mensagem news:609353e70911080534n1c327690qae2f1e1f05d7bb98@mail.gmail.com...
  FREEPDFXP + Mingw version


  Harbour Terminal: Windows native console
  Harbour 2.0.0beta3 (Rev. 12829)
  Windows Vista 6.0.6002 Service Pack 2
  DS avail=684936KB  OS avail=2063912KB  EMM avail=0KB  MemStat:Off  MT:Off


  Try with http://freepdfxp.de/xpDownload.html


  2009/11/8 Itamar Lins <itamarlins@bol.com.br>

    Hi! Massimo, I use MSVC Express 9 with Windows XP, my results is not equal.
    Version of Harbour SVN.

    /*
     * $Id: ChangeLog 12829 2009-11-07 03:25:24Z april $
     */

    Best regards,
    Itamar M. Lins Jr.

      "Massimo Belgrano" <mbelgrano@deltain.it> escreveu na mensagem news:609353e70911071141r1f93a800ne3e3ab032d1495c1-JsoAwUIsXosN+BqQ9rBEUg@public.gmane.org...
      your sample Run without problem
      (replaced msgstop with alert )
      In my file 

      Charset is: 255
      Font Is: Lucida Console




      2009/11/7 Itamar Lins <itamarlins@bol.com.br>

        Hi! Massimo, please test.


        Function Main

        aPrn := GetPrinters()
        If empty(aPrn)
         MsgStop("Error")
          return .f.
        EndIf

        oPrn := win_prn():New(GetDefaultPrinter())

        oPrn :LandScape := .f.
        oPrn :Copies    :=  1

        if !oPrn:Create()
            MsgStop("error")
            return nil
        endif

        if !oPrn:StartDoc("test")
           MsgStop("Error")
           return nil
        EndIf


        oPrn:CharSet(255)
        oPrn:Setfont('Lucida Console',,11,,,,255)
        oPrn:SetPrc(1,0) //Is necessary, because if I omit not print first line.

        oPrn:TextOut('Charset is: '+str(oPrn:Charset(),5),.t.)
        oPrn:TextOut('Font Is: '+oPrn:FontName,.t.)

        For n := 1  to 255
         oPrn:TextOut(chr(n),.t.)

         if n == 60 .or. n == 120 .or. n == 180 .or. n == 240
         oPrn:NewPage()
         EndIf

        Next

        oPrn:EndDoc()

        Is correct this is results ?



        Best regards,
        Itamar M. Lins Jr.



        _______________________________________________
        Harbour mailing list
        Harbour@harbour-project.org
        http://lists.harbour-project.org/mailman/listinfo/harbour




      -- 
      Massimo Belgrano

      Analisi e sviluppo software per Lan e Web - Consulenza informatica - Formazione
      Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962



--------------------------------------------------------------------------




    _______________________________________________
    Harbour mailing list
    Harbour@harbour-project.org
    http://lists.harbour-project.org/mailman/listinfo/harbour





  -- 
  Massimo Belgrano





------------------------------------------------------------------------------

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091108/bbfe36d5/attachment.html
From mbelgrano at deltain.it  Sun Nov  8 13:47:47 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Nov  8 13:48:15 2009
Subject: [Harbour] Re: Re: Re: Win_prn problem.
In-Reply-To: <hd72hk$fu3$1@ger.gmane.org>
References: <hd4ahg$3h6$1@ger.gmane.org>
	<609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com> 
	<hd4gui$l8q$1@ger.gmane.org>
	<609353e70911071141r1f93a800ne3e3ab032d1495c1@mail.gmail.com> 
	<hd6d8b$la2$1@ger.gmane.org>
	<609353e70911080534n1c327690qae2f1e1f05d7bb98@mail.gmail.com> 
	<hd72hk$fu3$1@ger.gmane.org>
Message-ID: <609353e70911081047g4a33aa90t2866ab51ce36bae9@mail.gmail.com>

Mingw is integrated in Harbour distribution  http://www.syenar.hu/harbour/,
so you can compile without download another compiler


Follow is Viktor's post on this argument:
Harbour  is a multicompiler  project, we can only recommend, but not decide
on behalf of the users.
We can only make suggestion to enhance their final result.
There are many factors, so even this isn't always obvious.

Preferred list:
MSVC 2008, MSVC 2005, MingW/GCC 4.x, OpenWatcom.
[ BCC only to do quick draft Harbour builds and to clean code from
 warnings/errors. ]



2009/11/8 Itamar Lins <itamarlins@bol.com.br>

>  What's the best choice? MSVC or Mingw ?
>  What's the standard compiler for harbour ?
>
> Best regards,
> Itamar M. Lins Jr.
>
>
> --
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091108/adeebc22/attachment.html
From fperillo at gmail.com  Sun Nov  8 13:52:43 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sun Nov  8 13:52:50 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
Message-ID: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>

I finnaly had the ok to complete the port from a clipper application
to a more modern compiler.
In these last years I ported the application to xHarbour using hbmake
and now I think I have to move to hbmk2.....

where can I find some infos about hbmk2 file syntax ? I created some
basic .hbm files but I also saw more complex build files that can run
across different compilers and OS....


I'm using BCC 5.5.... is it ok ? should I move to another compiler ?


Thanks.

Francesco
From bedipritpal at hotmail.com  Sun Nov  8 14:04:35 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Nov  8 14:04:42 2009
Subject: [Harbour] CPU Consumption and hb_idleState()
In-Reply-To: <20091108175544.GA14448@34-mo7-2.home.aster.pl>
References: <26240902.post@talk.nabble.com> <26249073.post@talk.nabble.com>
	<20091108104629.GA26710@34-mo7-2.home.aster.pl>
	<26255827.post@talk.nabble.com>
	<20091108175544.GA14448@34-mo7-2.home.aster.pl>
Message-ID: <26256802.post@talk.nabble.com>


Hello Przemek


Przemys?aw Czerpak wrote:
> 
> BTW it was also very good example which shows how important is
> built in protection against wrongly released GC blocks. Without
> it such bugs can exists for years causing random crashes.
> 

+1. 



> BTW I've just tested demoqt using valgrind and below is an error
> which invalid memory access which may be source of GPF traps reported
> by some users here. Looks that inside release_QWidget there is nothing
> to protect against multiple releasing of QWidges.
> Maybe it's time to switch to the code with dynamically registered
> casting functions I sent few weeks ago?
> It should resolve this problem and also some others like common for
> all widgets destructor function which forces to link all QT components.
> It will be also good starting point for deeper modifications.
> BTW using valgrind you can create very precise list of allocated and
> never freed memory blocks. If you want then I can send such log here.
> 

Can you do the same test with demoxbp? I am in a better position
to understand if I get this info about demoxbp than demoqt. 

I have generator code in place to implement what you sent few days ago.
That is exceptionally accurate code no doubts, but I run into problems
because
not all the pointers are created with "new" in our constructor code. Few are
sent 
just as plain pointers by QT itself which also are accessed via our param
access
functions. I could not make out howto handle all the situations, so did not 
implement. Of late I was struggling with unreleased memory when next
invocation
of a dialog is made. I did sent the logs to the list.

In this coming week, I will again give your code another look and will try 
to implement. But perhaps I need your "serious" help in this direction.

Waiting such logs for demoxbp.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/CPU-Consumption-and-hb_idleState%28%29-tp26240902p26256802.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sun Nov  8 14:15:08 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Nov  8 14:15:36 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
Message-ID: <609353e70911081115v7e605888i52554febff9d21c3@mail.gmail.com>

I suggest you move to mingw because is integrated in Harbour distribution
http://www.syenar.hu/harbour/, so you can compile without download another
compiler
 Using hbmk2
hbmk2 is a Tool that allow compile sample and large project
basic use of this tools is
hbmk2 ac_test
hbmk2 ac_test.prg
After this command you have ac_test.exe created
You can also immediaply execute simple using
hbmk2 ac_test -run

Hbmk2 is indipendent from Platform and Compiler that you use

Please also try the recommended way with hbmk2, it does
a similar job to your manual Makefile, but it's portable, works

for all future test programs and just one line.

If hbmk2 doesn't work for you for some reason, post your
-trace output here.

How compile several. PRG & lib?*hbmk2* test1 test2 testn -lmylib1 -lmylib2
-lmylibn
*hbmk2* test1.prg test2.prg testn.prg mylib1.lib mylib2.lib mylibn.lib

How create a lib?*hbmk2* myprg1.PRG myprg2.prg myrc.rc  -b -m  -*hblib*
 -omiolib.lib

How have additional information?-info -trace

How compile incremental?


How obain help?
hbmk2 - help

2009/11/8 francesco perillo <fperillo@gmail.com>

> I finnaly had the ok to complete the port from a clipper application
> to a more modern compiler.
> In these last years I ported the application to xHarbour using hbmake
> and now I think I have to move to hbmk2.....
>
> where can I find some infos about hbmk2 file syntax ? I created some
> basic .hbm files but I also saw more complex build files that can run
> across different compilers and OS....
>
>
> I'm using BCC 5.5.... is it ok ? should I move to another compiler ?
>
>
> Thanks.
>
> Francesco
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Analisi e sviluppo software per Lan e Web - Consulenza informatica -
Formazione
Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091108/64b6cdd7/attachment.html
From bedipritpal at hotmail.com  Sun Nov  8 14:18:59 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Nov  8 14:19:07 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
Message-ID: <26256941.post@talk.nabble.com>


Hi


francesco perillo-2 wrote:
> 
> where can I find some infos about hbmk2 file syntax ? I created some
> basic .hbm files but I also saw more complex build files that can run
> across different compilers and OS....
> 
> 
> I'm using BCC 5.5.... is it ok ? should I move to another compiler ?
> 

Below is vouch.hbm which I use to compile my appln with any compiler,
BCC, MSVC, MINGW. I just call : hbmk2 vouch.hbm.  The contents are 
self explanatory and you can make out most of it.



#
#    Vouch Project File for HBMK2
#

-trace
-info

-inc 
-gui
-mt
-gtwvg
-d__VOUCH__ -d__WVT__ -d__oHARBOUR__ -d__OCX__ -d__MT__ -d__MW_PURE__
-d__NOTAPI__

#    Working Folder to Retain Object Files
#
-workdir=c:\dev_objs\${hb_comp}\vouch


#    Executable Name
#
#-oc:\dev_exes\vouch_${hb_comp}.exe 
-oc:\dev_projects\harbour\vouch\vouch.exe 

#    Header Paths 
#
-ic:\dev_sources\vouch\include
-ic:\dev_sources\cachemgr\include
-ic:\dev_sources\v32lib\include
-ic:\dev_sources\freewin\include
-ic:\harbour\contrib\gtwvg
-ic:\harbour\contrib\xhb


#    Library Paths
#
-L{bcc}c:\bcc55\lib
-L{bcc}c:\bcc55\lib\psdk
-L{bcc}c:\dev_sources\dev_winlibs

-L{bcc}c:\dev_libs\harbour\bcc
-L{msvc}c:\dev_libs\harbour\msvc
-L{mingw}c:\dev_libs\harbour\mingw


#    Libraries
#
-lxhb
-lv32lib
-lfreewin
-l{msvc}ezt3mt
-l{bcc}eztwain3

-l{allwin}hbwin
-lhbtip
-lhbziparc
-lhbmzip
-lhbnf
-lxhb
-lhbnetio
-lhbmemio

-l{bcc}mapi32x
-l{bcc}hhctrl
-l{bcc}wininet

-l{msvc}mapi32
-l{msvc}wininet
-l{msvc}rasapi32
-l{msvc}tapi32

-l{mingw}comctl32
-l{mingw}mapi32
-l{mingw}wininet
-l{mingw}rasapi32
-l{mingw}tapi32

# QT related facts, experimental until I resolve memory issue.
#
#-L${HB_DIR_QT}\lib

#-l{mingw}hbxbp
#-l{mingw}hbqt 
#-l{mingw|mingwce|(gcc&(linux|darwin))}supc++
#-l{mingw}QtCore4 
#-l{mingw}QtGui4 
#-l{mingw}QtNetwork4 
#-l{mingw}QtWebKit4


#   C Compiler Flags
#
-cflag=-D__VOUCH__
-cflag=-D__nHARBOUR__


#    Source Files
#    I wished if a filter to parse source path could been implemented
#         like -$SOURCE_DIR=c:\dev_sources\vouch\source
#         then  ${SOURCE_DIR}\Vouch.prg
#    This way I could been able to move my whole development tree to
different drive.
#
c:\dev_sources\vouch\source\VOUCH.PRG
c:\dev_sources\vouch\source\A_ARRAY.PRG
c:\dev_sources\vouch\source\B_53.PRG
c:\dev_sources\vouch\source\B_ABOUT.PRG
c:\dev_sources\vouch\source\B_ACHOIC.PRG
c:\dev_sources\vouch\source\B_ADDSCR.PRG
c:\dev_sources\vouch\source\B_ADSEXP.PRG
c:\dev_sources\vouch\source\B_AGENTS.PRG
c:\dev_sources\vouch\source\B_ARRAYS.PRG
c:\dev_sources\vouch\source\B_ARREAD.PRG
c:\dev_sources\vouch\source\B_ARRMNG.PRG
c:\dev_sources\vouch\source\B_ARVIEW.PRG
c:\dev_sources\vouch\source\B_AUTOCD.PRG
c:\dev_sources\vouch\source\B_BACKUP.PRG
c:\dev_sources\vouch\source\B_BATCH.PRG
c:\dev_sources\vouch\source\B_BNKMNG.PRG
c:\dev_sources\vouch\source\B_BRWARR.PRG
c:\dev_sources\vouch\source\B_BRWATC.PRG
c:\dev_sources\vouch\source\B_BRWBRW.PRG
c:\dev_sources\vouch\source\B_BRWCLR.PRG
c:\dev_sources\vouch\source\B_BRWCMP.PRG
c:\dev_sources\vouch\source\B_BRWDBF.PRG
c:\dev_sources\vouch\source\B_BRWF06.PRG
c:\dev_sources\vouch\source\B_BRWF36.PRG
c:\dev_sources\vouch\source\B_BRWGAR.PRG
c:\dev_sources\vouch\source\B_BRWGRF.PRG
c:\dev_sources\vouch\source\B_BRWKEY.PRG
c:\dev_sources\vouch\source\B_BRWOBJ.PRG
c:\dev_sources\vouch\source\B_BRWPRN.PRG
c:\dev_sources\vouch\source\B_BRWRMS.PRG
c:\dev_sources\vouch\source\B_BRWSET.PRG
c:\dev_sources\vouch\source\B_BRWSYS.PRG
c:\dev_sources\vouch\source\B_BRWTXT.PRG
c:\dev_sources\vouch\source\B_BRWUDC.PRG
c:\dev_sources\vouch\source\B_BRWUTL.PRG
c:\dev_sources\vouch\source\B_BUDGET.PRG
c:\dev_sources\vouch\source\B_CALEND.PRG
c:\dev_sources\vouch\source\B_CALFLD.PRG
c:\dev_sources\vouch\source\B_CFGEXP.PRG
c:\dev_sources\vouch\source\B_CFGLOD.PRG
c:\dev_sources\vouch\source\B_CHOICE.PRG
c:\dev_sources\vouch\source\B_CMMNDS.PRG
c:\dev_sources\vouch\source\B_CNSLDT.PRG
c:\dev_sources\vouch\source\B_COMMAN.PRG
c:\dev_sources\vouch\source\B_CONF01.PRG
c:\dev_sources\vouch\source\B_CONFIG.PRG
c:\dev_sources\vouch\source\B_CUSPS.PRG
c:\dev_sources\vouch\source\B_DBDIR.PRG
c:\dev_sources\vouch\source\B_DBFATT.PRG
c:\dev_sources\vouch\source\B_DBFCHG.PRG
c:\dev_sources\vouch\source\B_DETAIL.PRG
c:\dev_sources\vouch\source\B_DEVBOO.PRG
c:\dev_sources\vouch\source\B_DIALOG.PRG
c:\dev_sources\vouch\source\B_DISKST.PRG
c:\dev_sources\vouch\source\B_DOCDOC.PRG
c:\dev_sources\vouch\source\B_DOCTXT.PRG
c:\dev_sources\vouch\source\B_DOCUTL.PRG
c:\dev_sources\vouch\source\B_DOSHEL.PRG
c:\dev_sources\vouch\source\B_DRAPE.PRG
c:\dev_sources\vouch\source\B_EDITOR.PRG
c:\dev_sources\vouch\source\B_EDTALL.PRG
c:\dev_sources\vouch\source\B_EMAIL.PRG
c:\dev_sources\vouch\source\B_EMPLOY.PRG
c:\dev_sources\vouch\source\B_ENKORG.PRG
c:\dev_sources\vouch\source\B_EQUATN.PRG
c:\dev_sources\vouch\source\B_ERROR.PRG
c:\dev_sources\vouch\source\B_EVENT.PRG
c:\dev_sources\vouch\source\B_EXE0.PRG
c:\dev_sources\vouch\source\B_EXE1.PRG
c:\dev_sources\vouch\source\B_EXE2.PRG
c:\dev_sources\vouch\source\B_EXECUT.PRG
c:\dev_sources\vouch\source\B_EXEDLL.PRG
c:\dev_sources\vouch\source\B_EXEMOD.PRG
c:\dev_sources\vouch\source\B_EXERSC.PRG
c:\dev_sources\vouch\source\B_EXESRL.PRG
c:\dev_sources\vouch\source\B_EXPORT.PRG
c:\dev_sources\vouch\source\B_EXPRMT.PRG
c:\dev_sources\vouch\source\B_FABRPT.PRG
c:\dev_sources\vouch\source\B_FILEPA.PRG
c:\dev_sources\vouch\source\B_FILTER.PRG
c:\dev_sources\vouch\source\B_FONTS.PRG
c:\dev_sources\vouch\source\B_FORMAT.PRG
c:\dev_sources\vouch\source\B_FUNCTN.PRG
c:\dev_sources\vouch\source\B_GAUGE.PRG
c:\dev_sources\vouch\source\B_GETACH.PRG
c:\dev_sources\vouch\source\B_GETPUT.PRG
c:\dev_sources\vouch\source\B_GETSOM.PRG
c:\dev_sources\vouch\source\B_GETSTK.PRG
c:\dev_sources\vouch\source\B_GRCHAR.PRG
c:\dev_sources\vouch\source\B_GRFV01.PRG
c:\dev_sources\vouch\source\B_GRID.PRG
c:\dev_sources\vouch\source\B_HRULER.PRG
c:\dev_sources\vouch\source\B_IDXBAR.PRG
c:\dev_sources\vouch\source\B_IMPORT.PRG
c:\dev_sources\vouch\source\B_INDEX.PRG
c:\dev_sources\vouch\source\B_INET.PRG
c:\dev_sources\vouch\source\B_INITLZ.PRG
c:\dev_sources\vouch\source\B_INKEYS.PRG
c:\dev_sources\vouch\source\B_JOBPRS.PRG
c:\dev_sources\vouch\source\B_KEEPER.PRG
c:\dev_sources\vouch\source\B_LABELS.PRG
c:\dev_sources\vouch\source\B_LDRBWR.PRG
c:\dev_sources\vouch\source\B_LICENS.PRG
c:\dev_sources\vouch\source\B_LISTDR.PRG
c:\dev_sources\vouch\source\B_LLIBB.PRG
c:\dev_sources\vouch\source\B_LOCKS.PRG
c:\dev_sources\vouch\source\B_LODDAT.PRG
c:\dev_sources\vouch\source\B_LODFLD.PRG
c:\dev_sources\vouch\source\B_LOG.PRG
c:\dev_sources\vouch\source\B_LUKCHK.PRG
c:\dev_sources\vouch\source\B_MACROS.PRG
c:\dev_sources\vouch\source\B_MDLOCK.PRG
c:\dev_sources\vouch\source\B_MENU_Z.PRG
c:\dev_sources\vouch\source\B_MENUTO.PRG
c:\dev_sources\vouch\source\B_MNGDAT.PRG
c:\dev_sources\vouch\source\B_MOVEWN.PRG
c:\dev_sources\vouch\source\B_MSAGNT.PRG
c:\dev_sources\vouch\source\B_MSGBOX.PRG
c:\dev_sources\vouch\source\B_MSWORD.PRG
c:\dev_sources\vouch\source\B_NEWPRS.PRG
c:\dev_sources\vouch\source\B_NOTES.PRG
c:\dev_sources\vouch\source\B_NUM2FG.PRG
c:\dev_sources\vouch\source\B_OBJECT.PRG
c:\dev_sources\vouch\source\B_ORDERS.PRG
c:\dev_sources\vouch\source\B_ORGDTL.PRG
c:\dev_sources\vouch\source\B_ORGNZN.PRG
c:\dev_sources\vouch\source\B_PAGER.PRG
c:\dev_sources\vouch\source\B_PIKDAT.PRG
c:\dev_sources\vouch\source\B_PIKSYS.PRG
c:\dev_sources\vouch\source\B_POPS.PRG
c:\dev_sources\vouch\source\B_POPUPS.PRG
c:\dev_sources\vouch\source\B_PRGEXE.PRG
c:\dev_sources\vouch\source\B_PRGWRI.PRG
c:\dev_sources\vouch\source\B_PRINTA.PRG
c:\dev_sources\vouch\source\B_PRINTX.PRG
c:\dev_sources\vouch\source\B_PRINTZ.PRG
c:\dev_sources\vouch\source\B_PRNCOM.PRG
c:\dev_sources\vouch\source\B_PROMPT.PRG
c:\dev_sources\vouch\source\B_PURBUK.PRG
c:\dev_sources\vouch\source\B_QBM.PRG
c:\dev_sources\vouch\source\B_READER.PRG
c:\dev_sources\vouch\source\B_REMIND.PRG
c:\dev_sources\vouch\source\B_RENUMB.PRG
c:\dev_sources\vouch\source\B_REPLAC.PRG
c:\dev_sources\vouch\source\B_REPORT.PRG
c:\dev_sources\vouch\source\B_RQUEST.PRG
c:\dev_sources\vouch\source\B_SAVENV.PRG
c:\dev_sources\vouch\source\B_SCHEDL.PRG
c:\dev_sources\vouch\source\B_SCROLB.PRG
c:\dev_sources\vouch\source\B_SDWBOX.PRG
c:\dev_sources\vouch\source\B_SEARCH.PRG
c:\dev_sources\vouch\source\B_SELCTN.PRG
c:\dev_sources\vouch\source\B_SELREC.PRG
c:\dev_sources\vouch\source\B_SEMA4.PRG
c:\dev_sources\vouch\source\B_SETS.PRG
c:\dev_sources\vouch\source\B_SETS_Y.PRG
c:\dev_sources\vouch\source\B_SIZEWN.PRG
c:\dev_sources\vouch\source\B_SLIDE.PRG
c:\dev_sources\vouch\source\B_SLRGEN.PRG
c:\dev_sources\vouch\source\B_SPEED.PRG
c:\dev_sources\vouch\source\B_SQL.PRG
c:\dev_sources\vouch\source\B_STDLGR.PRG
c:\dev_sources\vouch\source\B_STOCKS.PRG
c:\dev_sources\vouch\source\B_SUBSET.PRG
c:\dev_sources\vouch\source\B_TAXRTN.PRG
c:\dev_sources\vouch\source\B_TB2HTM.PRG
c:\dev_sources\vouch\source\B_TDS.PRG
c:\dev_sources\vouch\source\B_TITLE.PRG
c:\dev_sources\vouch\source\B_TMPLAT.PRG
c:\dev_sources\vouch\source\B_TREE.PRG
c:\dev_sources\vouch\source\B_TRIGNO.PRG
c:\dev_sources\vouch\source\B_UPDATE.PRG
c:\dev_sources\vouch\source\B_UPDFRM.PRG
c:\dev_sources\vouch\source\B_UPLOAD.PRG
c:\dev_sources\vouch\source\B_USERS.PRG
c:\dev_sources\vouch\source\B_USRDBF.PRG
c:\dev_sources\vouch\source\B_V32PRN.PRG
c:\dev_sources\vouch\source\B_VGACLR.PRG
c:\dev_sources\vouch\source\B_VRULER.PRG
c:\dev_sources\vouch\source\B_WAITON.PRG
c:\dev_sources\vouch\source\B_WEBUTL.PRG
c:\dev_sources\vouch\source\B_WHNVLD.PRG
c:\dev_sources\vouch\source\B_WVT.PRG
c:\dev_sources\vouch\source\B_WVTDLG.PRG
c:\dev_sources\vouch\source\B_YEAR.PRG
c:\dev_sources\vouch\source\BROWS_DI.PRG
c:\dev_sources\vouch\source\C_CHGATR.PRG
c:\dev_sources\vouch\source\C_CREATE.PRG
c:\dev_sources\vouch\source\C_DVMENU.PRG
c:\dev_sources\vouch\source\C_MAKPRG.PRG
c:\dev_sources\vouch\source\C_PRSFMT.PRG
c:\dev_sources\vouch\source\C_SAVPRG.PRG
c:\dev_sources\vouch\source\CL_BRWIX.PRG
c:\dev_sources\vouch\source\CL_DPRNT.PRG
c:\dev_sources\vouch\source\CL_EDIT.PRG
c:\dev_sources\vouch\source\CL_PDF.PRG
c:\dev_sources\vouch\source\CL_PRINT.PRG
c:\dev_sources\vouch\source\CL_RPDGN.PRG
c:\dev_sources\vouch\source\CL_RPGNR.PRG
c:\dev_sources\vouch\source\CL_STACK.PRG
c:\dev_sources\vouch\source\CL_STKNN.PRG
c:\dev_sources\vouch\source\F6_KEYS.PRG
c:\dev_sources\vouch\source\FA_ACCNT.PRG
c:\dev_sources\vouch\source\FA_AGING.PRG
c:\dev_sources\vouch\source\FA_BKMRG.PRG
c:\dev_sources\vouch\source\FA_BOOK2.PRG
c:\dev_sources\vouch\source\FA_BOOKS.PRG
c:\dev_sources\vouch\source\FA_DEPRI.PRG
c:\dev_sources\vouch\source\FA_FINAL.PRG
c:\dev_sources\vouch\source\FA_FNLNW.PRG
c:\dev_sources\vouch\source\FA_MENU.PRG
c:\dev_sources\vouch\source\FA_MULTI.PRG
c:\dev_sources\vouch\source\FA_QUICK.PRG
c:\dev_sources\vouch\source\FA_RCNSL.PRG
c:\dev_sources\vouch\source\FA_SELCT.PRG
c:\dev_sources\vouch\source\FA_SINGL.PRG
c:\dev_sources\vouch\source\FA_TRIAL.PRG
c:\dev_sources\vouch\source\FA_VOUCH.PRG
c:\dev_sources\vouch\source\G_POPDAT.PRG
c:\dev_sources\vouch\source\GN_ASMBL.PRG
c:\dev_sources\vouch\source\GN_BANKS.PRG
c:\dev_sources\vouch\source\GN_CARGO.PRG
c:\dev_sources\vouch\source\GN_CLUBS.PRG
c:\dev_sources\vouch\source\GN_COURR.PRG
c:\dev_sources\vouch\source\GN_DAIRY.PRG
c:\dev_sources\vouch\source\GN_DVLOP.PRG
c:\dev_sources\vouch\source\GN_EXPRT.PRG
c:\dev_sources\vouch\source\GN_HOTEL.PRG
c:\dev_sources\vouch\source\GN_HSPTL.PRG
c:\dev_sources\vouch\source\GN_ISO.PRG
c:\dev_sources\vouch\source\GN_KITTY.PRG
c:\dev_sources\vouch\source\GN_N1MKT.PRG
c:\dev_sources\vouch\source\GN_N2MKT.PRG
c:\dev_sources\vouch\source\GN_NTMKT.PRG
c:\dev_sources\vouch\source\GN_PPUMP.PRG
c:\dev_sources\vouch\source\GN_PRDTN.PRG
c:\dev_sources\vouch\source\GN_SCHOL.PRG
c:\dev_sources\vouch\source\GN_SHARE.PRG
c:\dev_sources\vouch\source\GN_SLRNW.PRG
c:\dev_sources\vouch\source\GN_TRNSP.PRG
c:\dev_sources\vouch\source\GN_XCHNG.PRG
c:\dev_sources\vouch\source\HB_CHG2B.PRG
c:\dev_sources\vouch\source\MV_RPRT1.PRG
c:\dev_sources\vouch\source\R_SPENCE.PRG
c:\dev_sources\vouch\source\RP_DESGN.PRG
c:\dev_sources\vouch\source\RP_GNRTR.PRG
c:\dev_sources\vouch\source\RP_INVIC.PRG
c:\dev_sources\vouch\source\RP_STOCK.PRG
c:\dev_sources\vouch\source\SAV_ARRY.PRG
c:\dev_sources\vouch\source\SAV_COLR.PRG
c:\dev_sources\vouch\source\SC_DESGN.PRG
c:\dev_sources\vouch\source\SC_FIELD.PRG
c:\dev_sources\vouch\source\SC_MENU.PRG
c:\dev_sources\vouch\source\SC_OUTPT.PRG
c:\dev_sources\vouch\source\SC_PRINT.PRG
c:\dev_sources\vouch\source\SC_PRPTY.PRG
c:\dev_sources\vouch\source\SC_UTLTY.PRG
c:\dev_sources\vouch\source\SRVR_DTA.PRG
c:\dev_sources\vouch\source\SRVR_MRG.PRG
c:\dev_sources\vouch\source\SRVR_PRD.PRG
c:\dev_sources\vouch\source\SRVR_QRY.PRG
c:\dev_sources\vouch\source\ST_SETUP.PRG
c:\dev_sources\vouch\source\ST_VOUCH.PRG
c:\dev_sources\vouch\source\STD_VOCH.PRG
c:\dev_sources\vouch\source\TSTPDF.PRG
c:\dev_sources\vouch\source\V_CLCLTR.PRG
c:\dev_sources\vouch\source\V_DEL_FL.PRG
c:\dev_sources\vouch\source\V_GEN_01.PRG
c:\dev_sources\vouch\source\V_GENERL.PRG
c:\dev_sources\vouch\source\V_HELP.PRG
c:\dev_sources\vouch\source\V_KRYPT.PRG
c:\dev_sources\vouch\source\V_LOGOS.PRG
c:\dev_sources\vouch\source\V_PASWRD.PRG
c:\dev_sources\vouch\source\V_PROFIL.PRG
c:\dev_sources\vouch\source\V_TIMES.PRG
c:\dev_sources\vouch\source\V_UNQNUM.PRG
c:\dev_sources\vouch\source\B_Ocx.prg
c:\dev_sources\vouch\source\FR_RPORT.PRG
c:\dev_sources\vouch\source\FastRepV.prg
c:\dev_sources\vouch\source\FastRepH.prg
c:\dev_sources\vouch\source\cj_calndr.prg
c:\dev_sources\vouch\source\xb_brows.prg
c:\dev_sources\vouch\source\b_wvg.prg
c:\dev_sources\vouch\source\vou_brws.prg

c:\dev_sources\vouch\source\VOUCH32.PRG

c:\dev_sources\cachemgr\source\ActivLbl.prg
c:\dev_sources\cachemgr\source\TxText.prg
c:\dev_sources\cachemgr\source\FastRepo.prg
c:\dev_sources\cachemgr\source\Calendar.prg
c:\dev_sources\cachemgr\source\CJReport.prg
c:\dev_sources\cachemgr\source\FuncList.prg

{bcc|msvc}c:\dev_sources\vouch\source\b_client.prg
{bcc|msvc}c:\dev_sources\vouch\source\b_scan.prg

c:\dev_sources\vouch\source\tprinter.c

{bcc|msvc}C:\dev_sources\vouch\source\hbeztwain.c

c:\dev_sources\dev_resources\vouch.res
{bcc|msvc}c:\dev_sources\dev_resources\ar32.res

# End vouch.hbm


Hope it helps.

Regards
Pritpal Bedi



-- 
View this message in context: http://old.nabble.com/From-xHarbour-to-Harbour%3A-need-some-infos-tp26256686p26256941.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From teo at windtelsoft.com  Sun Nov  8 15:32:40 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Sun Nov  8 15:32:49 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
Message-ID: <DC9C594E-9E4F-40DC-A312-032FF6BD863A@windtelsoft.com>


On Nov 8, 2009, at 12:52 PM, francesco perillo wrote:

> I finnaly had the ok to complete the port from a clipper application
> to a more modern compiler.
> In these last years I ported the application to xHarbour using hbmake
> and now I think I have to move to hbmk2.....
>
> where can I find some infos about hbmk2 file syntax ? I created some
> basic .hbm files but I also saw more complex build files that can run
> across different compilers and OS....
>
>
> I'm using BCC 5.5.... is it ok ? should I move to another compiler ?

Seems that MSVC compilers create more compact and fastest code than  
the others compilers, and also seems that current  MinGW builds (GCC >  
4) are getting closer to MSVC results.


best regards,

Teo

From vouchcac at users.sourceforge.net  Sun Nov  8 15:48:50 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Nov  8 15:48:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12837] trunk/harbour
Message-ID: <E1N7Egs-0004Y4-Jb@bj8yhf1.ch3.sourceforge.com>

Revision: 12837
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12837&view=rev
Author:   vouchcac
Date:     2009-11-08 20:48:49 +0000 (Sun, 08 Nov 2009)

Log Message:
-----------
2009-11-08 12:45 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/gtwvg/wvgtoolb.prg
  * contrib/gtwvg/wvgutils.c
  * contrib/gtwvg/wvgwnd.prg
    ! Few tweaks. Not so important.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgtoolb.prg
    trunk/harbour/contrib/gtwvg/wvgutils.c
    trunk/harbour/contrib/gtwvg/wvgwnd.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From itamarlins at bol.com.br  Sun Nov  8 16:21:56 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Sun Nov  8 16:24:30 2009
Subject: [Harbour] Re: Re: Re: Win_prn problem.
References: <hd4ahg$3h6$1@ger.gmane.org><609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com>
	<hd4gui$l8q$1@ger.gmane.org><609353e70911071141r1f93a800ne3e3ab032d1495c1@mail.gmail.com>
	<hd6d8b$la2$1@ger.gmane.org>
	<609353e70911080534n1c327690qae2f1e1f05d7bb98@mail.gmail.com>
Message-ID: <hd7ctd$eh1$1@ger.gmane.org>

Hi! Massimo.
The conclusion is there exist a problem with MSVC unicode ?

I do not know to solve this. :-(

Best regards,
Itamar M. Lins Jr.
  "Massimo Belgrano" <mbelgrano@deltain.it> escreveu na mensagem news:609353e70911080534n1c327690qae2f1e1f05d7bb98@mail.gmail.com...
  FREEPDFXP + Mingw version


  Harbour Terminal: Windows native console
  Harbour 2.0.0beta3 (Rev. 12829)
  Windows Vista 6.0.6002 Service Pack 2
  DS avail=684936KB  OS avail=2063912KB  EMM avail=0KB  MemStat:Off  MT:Off


  Try with http://freepdfxp.de/xpDownload.html


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091108/59e0e091/attachment.html
From bedipritpal at hotmail.com  Sun Nov  8 16:27:20 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Nov  8 16:27:26 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <DC9C594E-9E4F-40DC-A312-032FF6BD863A@windtelsoft.com>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
	<DC9C594E-9E4F-40DC-A312-032FF6BD863A@windtelsoft.com>
Message-ID: <26258143.post@talk.nabble.com>


Hi


Teo Fonrouge wrote:
> 
> Seems that MSVC compilers create more compact and fastest code than  
> the others compilers, and also seems that current  MinGW builds (GCC >  
> 4) are getting closer to MSVC results.
> 

Here are some results of 3 compilers:

MSVC 2008
   EXE SIZE: 6573 KB
   DIFFERENCE: Links one external lib statically ( www.dosadi.com )
   RUN:   PASS1    6.75 Secs
            PASS2    4.97 Secs
            PASS3    5.00 Secs

BCC 5.5.1 
   EXE SIZE: 6706 KB
   DIFFERENCE: Links one external lib dynamically pulled via implib
   RUN:   PASS1    5.72
            PASS2    5.69
            PASS3    5.63

MINGW
   EXE SIZE: 8287 KB
   DIFFERENCE: Does not include above lib, does not include 2 .prgs 1 .res
   RUN:   PASS1    4.48
            PASS2    4.51
            PASS3    4.53

All above runs are on the same execution, i.e., moves a browser first to
last with 1408 recs.

Personal observation: 
   * MINGW is the fastest though it has larger executable ( does not matter
).
   * MINGW has the limitation not to allow more than 1 resource files (
really a shame ).   
   * MINGW is very tricky when you need Windows .dlls to be manipulated (
again a severe limit ).
   * BCC is handy to include any external lib because of "implib" utility
but slowest of all.

So one's choice may be affected by many factors. 
Suggesstion: go for MINGW if you never plan to include more than one .RES
file and 
   do not have to include external party Windows .DLLs without a MINGW
export by the author.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/From-xHarbour-to-Harbour%3A-need-some-infos-tp26256686p26258143.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sun Nov  8 17:07:26 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Nov  8 17:07:55 2009
Subject: [Harbour] Re: Re: Re: Win_prn problem.
In-Reply-To: <hd7ctd$eh1$1@ger.gmane.org>
References: <hd4ahg$3h6$1@ger.gmane.org>
	<609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com> 
	<hd4gui$l8q$1@ger.gmane.org>
	<609353e70911071141r1f93a800ne3e3ab032d1495c1@mail.gmail.com> 
	<hd6d8b$la2$1@ger.gmane.org>
	<609353e70911080534n1c327690qae2f1e1f05d7bb98@mail.gmail.com> 
	<hd7ctd$eh1$1@ger.gmane.org>
Message-ID: <609353e70911081407s298f73bai1dc4f8a7272a611e@mail.gmail.com>

No i have compiled with msvc 2008 and work fine (as first screen shoot)
Remember that i use freepdf, so problem Maj be  due by your print driver
emulating pdf

follow my //info msvc
Harbour Terminal: Windows native console
Harbour 2.0.0beta3 (Rev. 12836)
Windows Vista 6.0.6002 Service Pack 2
DS avail=867528KB  OS avail=2066396KB  EMM avail=0KB  MemStat:Off  MT:Off

Follow my Microsoft c++ version c:\Program Files\Microsoft Visual Studio
9.0\VC\bin\cl
Microsoft (R) 32-bit C/C++ Optimizing Compiler versione 15.00.30729.01 per
80x86

2009/11/8 Itamar Lins <itamarlins@bol.com.br>

>  Hi! Massimo.
> The conclusion is there exist a problem with MSVC unicode ?
>
> I do not know to solve this. :-(
>
> Best regards,
> Itamar M. Lins Jr.
>
>
>
-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091108/18f83bc6/attachment.html
From toninhofwi at yahoo.com.br  Sun Nov  8 17:17:14 2009
From: toninhofwi at yahoo.com.br (ToninhoFWi)
Date: Sun Nov  8 17:17:22 2009
Subject: [Harbour] uhttpd v0.3
In-Reply-To: <4AF46528.9020409@dbtopas.lt>
References: <4AF46528.9020409@dbtopas.lt>
Message-ID: <fngef5pidseveetlkqr49503kreeva239q@4ax.com>

>I want to share my new uhttpd version 0.3. Actually it is not very new,
>it was finished in the end of July, but I did not find a time to write
>a readme.txt file.

Hi Mindaugas.

Can I use uhttpd to replace my calls to Microsoft.XMLHTTP ?

Thanks and Best Regards,

Toninho.

__________________________________________________
Faa ligaes para outros computadores com o novo Yahoo! Messenger 
http://br.beta.messenger.yahoo.com/ 

From harbour.01 at syenar.hu  Sun Nov  8 17:39:25 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov  8 17:39:35 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <26258143.post@talk.nabble.com>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
	<DC9C594E-9E4F-40DC-A312-032FF6BD863A@windtelsoft.com>
	<26258143.post@talk.nabble.com>
Message-ID: <18d502870911081439o4e63a168u87ae736d79e80f25@mail.gmail.com>

MSVC 2008

>   EXE SIZE: 6573 KB
>   DIFFERENCE: Links one external lib statically ( www.dosadi.com )
>   RUN:   PASS1    6.75 Secs
>            PASS2    4.97 Secs
>            PASS3    5.00 Secs
>
> BCC 5.5.1
>   EXE SIZE: 6706 KB
>   DIFFERENCE: Links one external lib dynamically pulled via implib
>   RUN:   PASS1    5.72
>            PASS2    5.69
>            PASS3    5.63
>
> MINGW
>   EXE SIZE: 8287 KB
>   DIFFERENCE: Does not include above lib, does not include 2 .prgs 1 .res
>   RUN:   PASS1    4.48
>            PASS2    4.51
>            PASS3    4.53
>

This can be misleading. In almost all tests msvc the fastest,
mingw follows and bcc lags behind by quite much. msvc and mingw
are much better supported, so it's way easier to work with them.


> Personal observation:
>   * MINGW has the limitation not to allow more than 1 resource files (
> really a shame ).
>

This is false information. Just try multiple resources with hbmk2
and it should work. Resources are compiled to objects in mingw
and you can link any number of such objects to an executable.


>   * MINGW is very tricky when you need Windows .dlls to be manipulated (
> again a severe limit ).
>

I'd call it the most convenient, since you don't need implibs at all,
of course you can't link any .dlls with non-matching calling convention,
but it this case no implib would help anyway.

  * BCC is handy to include any external lib because of "implib" utility

> but slowest of all.
>

Also good to know that implib is buggy, so it will something give strange
results. (openssl, libcurl)

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091108/7a96b013/attachment.html
From guy.roussin at teledetection.fr  Sun Nov  8 17:47:36 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Sun Nov  8 17:47:44 2009
Subject: [Harbour] ASCAN slow - proposal weighted search
In-Reply-To: <654741.47521.qm@web52208.mail.re2.yahoo.com>
References: <654741.47521.qm@web52208.mail.re2.yahoo.com>
Message-ID: <4AF74A88.6000002@teledetection.fr>

Hi Fernando,

Perhaps you can use hbmemio. I think that hbmemio
has been created for this purpose...

Guy

Fernando Athayde a ?crit :
> ASORT(::aArrayResumo, {|a,b| str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7] 
> > str(b[1],11)+str(b[3],11)+dtoc(b[5])+b[7] } )
>
> //Normal way (Slow for more than 100 registers)
> nPosicaoArray := ASCAN(::aArrayResumo, ;
>                  {|a| str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7] ==;
>                       STR( 
> ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11)+;
>                       
> STR(::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 )+;
>                       DTOC(oDB:Mysql2Date 
> (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda} )
>
> //Weighted search (Is very fast)
> nPosicaoArray := 0
> nArraySize := LEN( ::aArrayResumo )
> nJump := nArraySize - 1
> nPosition := 1
> DO WHILE .T.
>    nPosition += nJump
>    IF nPosition > nArraySize
>       nJump := 0
>       nPosition := nArraySize
>    ENDIF
>    IF 
> str(::aArrayResumo[nPosition,1],11)+str(::aArrayResumo[nPosition,3],11);
>                
> +dtoc(::aArrayResumo[nPosition,5])+::aArrayResumo[nPosition,7] >;
>       STR( 
> ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11 );
>                 +STR( 
> ::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 );
>                 +DTOC(oDB:Mysql2Date 
> (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda
>
>       nPosition -= nJump
>       nJump := INT(nJump/2)
>    ENDIF
>    IF 
> str(::aArrayResumo[nPosition,1],11)+str(::aArrayResumo[nPosition,3],11);
>             
> +dtoc(::aArrayResumo[nPosition,5])+::aArrayResumo[nPosition,7] ==
>       STR( 
> ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11 );
>             +STR( 
> ::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 );
>             +DTOC(oDB:Mysql2Date 
> (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda
>       nPosicaoArray := nPosition
>       EXIT
>    ENDIF
>    IF nJump<1
>       EXIT
>    ENDIF
> ENDDO
>
> my proposal is made a ASCANEX sending a block how parameter
> but i don?t know how to use eval and blocks
>
> Thanks,
> Fernando Athayde

From fperillo at gmail.com  Sun Nov  8 17:52:00 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sun Nov  8 17:52:10 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <18d502870911081439o4e63a168u87ae736d79e80f25@mail.gmail.com>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
	<DC9C594E-9E4F-40DC-A312-032FF6BD863A@windtelsoft.com>
	<26258143.post@talk.nabble.com>
	<18d502870911081439o4e63a168u87ae736d79e80f25@mail.gmail.com>
Message-ID: <6943770e0911081452s3fd87690ja8a167d0317d0a56@mail.gmail.com>

Thank you very much to everybody.
I'm reading your answers.
I will do some testing now with bcc because I have it installed now. I
also have different versions of MSVC installed in the several pc I
use... I should settle on one version... or switch to mingw that I
already installed once, some time ago...

It would be very kind of you to let me know which version of Harbour
should I use for production quality software... it is 100% standard
clipper code, to which I added support for win32prn (I use win32prn
and PdfCreator to create pdf... any better way ??) and I will need to
add support for sending e-mail (the pdf created) and fill some data in
a Word document....

Thanks,
Francesco
From harbour.01 at syenar.hu  Sun Nov  8 17:57:49 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov  8 17:57:58 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <26256941.post@talk.nabble.com>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
	<26256941.post@talk.nabble.com>
Message-ID: <18d502870911081457g28950eefgcb622084a723a5b8@mail.gmail.com>

Hi,

Few comments of posted hbmk2 script file:
- Should be named .hbp (as _p_roject) not .hbm
- Contains lots of platform and installation dependent filenames. All of
these should
  be avoided if portability is a concern.
- If workdir is overridden, it should also contain {hb_plat} macro if
portability is a concern.
- Contains several hard wired file extensions. These should be avoided also,
it's
  handled by hbmk2 automatically.
- BCC manual configuration of system lib/inc dirs is unnecessary.
- Several win system libs are automatically added by hbmk2 so it's not
needed to list them.
- For hbqt it's better to use hbqt.hbc (current SVN is broken by the lib
code, so that need xhb lib to be added manually)
- Uppercase .PRG extension won't cause too much harm but it's recommended to
use lowercase for maximum portability.

Brgds,
Viktor


On Sun, Nov 8, 2009 at 8:18 PM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hi
>
>
> francesco perillo-2 wrote:
> >
> > where can I find some infos about hbmk2 file syntax ? I created some
> > basic .hbm files but I also saw more complex build files that can run
> > across different compilers and OS....
> >
> >
> > I'm using BCC 5.5.... is it ok ? should I move to another compiler ?
> >
>
> Below is vouch.hbm which I use to compile my appln with any compiler,
> BCC, MSVC, MINGW. I just call : hbmk2 vouch.hbm.  The contents are
> self explanatory and you can make out most of it.
>
>
>
> #
> #    Vouch Project File for HBMK2
> #
>
> -trace
> -info
>
> -inc
> -gui
> -mt
> -gtwvg
> -d__VOUCH__ -d__WVT__ -d__oHARBOUR__ -d__OCX__ -d__MT__ -d__MW_PURE__
> -d__NOTAPI__
>
> #    Working Folder to Retain Object Files
> #
> -workdir=c:\dev_objs\${hb_comp}\vouch
>
>
> #    Executable Name
> #
> #-oc:\dev_exes\vouch_${hb_comp}.exe
> -oc:\dev_projects\harbour\vouch\vouch.exe
>
> #    Header Paths
> #
> -ic:\dev_sources\vouch\include
> -ic:\dev_sources\cachemgr\include
> -ic:\dev_sources\v32lib\include
> -ic:\dev_sources\freewin\include
> -ic:\harbour\contrib\gtwvg
> -ic:\harbour\contrib\xhb
>
>
> #    Library Paths
> #
> -L{bcc}c:\bcc55\lib
> -L{bcc}c:\bcc55\lib\psdk
> -L{bcc}c:\dev_sources\dev_winlibs
>
> -L{bcc}c:\dev_libs\harbour\bcc
> -L{msvc}c:\dev_libs\harbour\msvc
> -L{mingw}c:\dev_libs\harbour\mingw
>
>
> #    Libraries
> #
> -lxhb
> -lv32lib
> -lfreewin
> -l{msvc}ezt3mt
> -l{bcc}eztwain3
>
> -l{allwin}hbwin
> -lhbtip
> -lhbziparc
> -lhbmzip
> -lhbnf
> -lxhb
> -lhbnetio
> -lhbmemio
>
> -l{bcc}mapi32x
> -l{bcc}hhctrl
> -l{bcc}wininet
>
> -l{msvc}mapi32
> -l{msvc}wininet
> -l{msvc}rasapi32
> -l{msvc}tapi32
>
> -l{mingw}comctl32
> -l{mingw}mapi32
> -l{mingw}wininet
> -l{mingw}rasapi32
> -l{mingw}tapi32
>
> # QT related facts, experimental until I resolve memory issue.
> #
> #-L${HB_DIR_QT}\lib
>
> #-l{mingw}hbxbp
> #-l{mingw}hbqt
> #-l{mingw|mingwce|(gcc&(linux|darwin))}supc++
> #-l{mingw}QtCore4
> #-l{mingw}QtGui4
> #-l{mingw}QtNetwork4
> #-l{mingw}QtWebKit4
>
>
> #   C Compiler Flags
> #
> -cflag=-D__VOUCH__
> -cflag=-D__nHARBOUR__
>
>
> #    Source Files
> #    I wished if a filter to parse source path could been implemented
> #         like -$SOURCE_DIR=c:\dev_sources\vouch\source
> #         then  ${SOURCE_DIR}\Vouch.prg
> #    This way I could been able to move my whole development tree to
> different drive.
> #
> c:\dev_sources\vouch\source\VOUCH.PRG
> c:\dev_sources\vouch\source\A_ARRAY.PRG
> c:\dev_sources\vouch\source\B_53.PRG
> c:\dev_sources\vouch\source\B_ABOUT.PRG
> c:\dev_sources\vouch\source\B_ACHOIC.PRG
> c:\dev_sources\vouch\source\B_ADDSCR.PRG
> c:\dev_sources\vouch\source\B_ADSEXP.PRG
> c:\dev_sources\vouch\source\B_AGENTS.PRG
> c:\dev_sources\vouch\source\B_ARRAYS.PRG
> c:\dev_sources\vouch\source\B_ARREAD.PRG
> c:\dev_sources\vouch\source\B_ARRMNG.PRG
> c:\dev_sources\vouch\source\B_ARVIEW.PRG
> c:\dev_sources\vouch\source\B_AUTOCD.PRG
> c:\dev_sources\vouch\source\B_BACKUP.PRG
> c:\dev_sources\vouch\source\B_BATCH.PRG
> c:\dev_sources\vouch\source\B_BNKMNG.PRG
> c:\dev_sources\vouch\source\B_BRWARR.PRG
> c:\dev_sources\vouch\source\B_BRWATC.PRG
> c:\dev_sources\vouch\source\B_BRWBRW.PRG
> c:\dev_sources\vouch\source\B_BRWCLR.PRG
> c:\dev_sources\vouch\source\B_BRWCMP.PRG
> c:\dev_sources\vouch\source\B_BRWDBF.PRG
> c:\dev_sources\vouch\source\B_BRWF06.PRG
> c:\dev_sources\vouch\source\B_BRWF36.PRG
> c:\dev_sources\vouch\source\B_BRWGAR.PRG
> c:\dev_sources\vouch\source\B_BRWGRF.PRG
> c:\dev_sources\vouch\source\B_BRWKEY.PRG
> c:\dev_sources\vouch\source\B_BRWOBJ.PRG
> c:\dev_sources\vouch\source\B_BRWPRN.PRG
> c:\dev_sources\vouch\source\B_BRWRMS.PRG
> c:\dev_sources\vouch\source\B_BRWSET.PRG
> c:\dev_sources\vouch\source\B_BRWSYS.PRG
> c:\dev_sources\vouch\source\B_BRWTXT.PRG
> c:\dev_sources\vouch\source\B_BRWUDC.PRG
> c:\dev_sources\vouch\source\B_BRWUTL.PRG
> c:\dev_sources\vouch\source\B_BUDGET.PRG
> c:\dev_sources\vouch\source\B_CALEND.PRG
> c:\dev_sources\vouch\source\B_CALFLD.PRG
> c:\dev_sources\vouch\source\B_CFGEXP.PRG
> c:\dev_sources\vouch\source\B_CFGLOD.PRG
> c:\dev_sources\vouch\source\B_CHOICE.PRG
> c:\dev_sources\vouch\source\B_CMMNDS.PRG
> c:\dev_sources\vouch\source\B_CNSLDT.PRG
> c:\dev_sources\vouch\source\B_COMMAN.PRG
> c:\dev_sources\vouch\source\B_CONF01.PRG
> c:\dev_sources\vouch\source\B_CONFIG.PRG
> c:\dev_sources\vouch\source\B_CUSPS.PRG
> c:\dev_sources\vouch\source\B_DBDIR.PRG
> c:\dev_sources\vouch\source\B_DBFATT.PRG
> c:\dev_sources\vouch\source\B_DBFCHG.PRG
> c:\dev_sources\vouch\source\B_DETAIL.PRG
> c:\dev_sources\vouch\source\B_DEVBOO.PRG
> c:\dev_sources\vouch\source\B_DIALOG.PRG
> c:\dev_sources\vouch\source\B_DISKST.PRG
> c:\dev_sources\vouch\source\B_DOCDOC.PRG
> c:\dev_sources\vouch\source\B_DOCTXT.PRG
> c:\dev_sources\vouch\source\B_DOCUTL.PRG
> c:\dev_sources\vouch\source\B_DOSHEL.PRG
> c:\dev_sources\vouch\source\B_DRAPE.PRG
> c:\dev_sources\vouch\source\B_EDITOR.PRG
> c:\dev_sources\vouch\source\B_EDTALL.PRG
> c:\dev_sources\vouch\source\B_EMAIL.PRG
> c:\dev_sources\vouch\source\B_EMPLOY.PRG
> c:\dev_sources\vouch\source\B_ENKORG.PRG
> c:\dev_sources\vouch\source\B_EQUATN.PRG
> c:\dev_sources\vouch\source\B_ERROR.PRG
> c:\dev_sources\vouch\source\B_EVENT.PRG
> c:\dev_sources\vouch\source\B_EXE0.PRG
> c:\dev_sources\vouch\source\B_EXE1.PRG
> c:\dev_sources\vouch\source\B_EXE2.PRG
> c:\dev_sources\vouch\source\B_EXECUT.PRG
> c:\dev_sources\vouch\source\B_EXEDLL.PRG
> c:\dev_sources\vouch\source\B_EXEMOD.PRG
> c:\dev_sources\vouch\source\B_EXERSC.PRG
> c:\dev_sources\vouch\source\B_EXESRL.PRG
> c:\dev_sources\vouch\source\B_EXPORT.PRG
> c:\dev_sources\vouch\source\B_EXPRMT.PRG
> c:\dev_sources\vouch\source\B_FABRPT.PRG
> c:\dev_sources\vouch\source\B_FILEPA.PRG
> c:\dev_sources\vouch\source\B_FILTER.PRG
> c:\dev_sources\vouch\source\B_FONTS.PRG
> c:\dev_sources\vouch\source\B_FORMAT.PRG
> c:\dev_sources\vouch\source\B_FUNCTN.PRG
> c:\dev_sources\vouch\source\B_GAUGE.PRG
> c:\dev_sources\vouch\source\B_GETACH.PRG
> c:\dev_sources\vouch\source\B_GETPUT.PRG
> c:\dev_sources\vouch\source\B_GETSOM.PRG
> c:\dev_sources\vouch\source\B_GETSTK.PRG
> c:\dev_sources\vouch\source\B_GRCHAR.PRG
> c:\dev_sources\vouch\source\B_GRFV01.PRG
> c:\dev_sources\vouch\source\B_GRID.PRG
> c:\dev_sources\vouch\source\B_HRULER.PRG
> c:\dev_sources\vouch\source\B_IDXBAR.PRG
> c:\dev_sources\vouch\source\B_IMPORT.PRG
> c:\dev_sources\vouch\source\B_INDEX.PRG
> c:\dev_sources\vouch\source\B_INET.PRG
> c:\dev_sources\vouch\source\B_INITLZ.PRG
> c:\dev_sources\vouch\source\B_INKEYS.PRG
> c:\dev_sources\vouch\source\B_JOBPRS.PRG
> c:\dev_sources\vouch\source\B_KEEPER.PRG
> c:\dev_sources\vouch\source\B_LABELS.PRG
> c:\dev_sources\vouch\source\B_LDRBWR.PRG
> c:\dev_sources\vouch\source\B_LICENS.PRG
> c:\dev_sources\vouch\source\B_LISTDR.PRG
> c:\dev_sources\vouch\source\B_LLIBB.PRG
> c:\dev_sources\vouch\source\B_LOCKS.PRG
> c:\dev_sources\vouch\source\B_LODDAT.PRG
> c:\dev_sources\vouch\source\B_LODFLD.PRG
> c:\dev_sources\vouch\source\B_LOG.PRG
> c:\dev_sources\vouch\source\B_LUKCHK.PRG
> c:\dev_sources\vouch\source\B_MACROS.PRG
> c:\dev_sources\vouch\source\B_MDLOCK.PRG
> c:\dev_sources\vouch\source\B_MENU_Z.PRG
> c:\dev_sources\vouch\source\B_MENUTO.PRG
> c:\dev_sources\vouch\source\B_MNGDAT.PRG
> c:\dev_sources\vouch\source\B_MOVEWN.PRG
> c:\dev_sources\vouch\source\B_MSAGNT.PRG
> c:\dev_sources\vouch\source\B_MSGBOX.PRG
> c:\dev_sources\vouch\source\B_MSWORD.PRG
> c:\dev_sources\vouch\source\B_NEWPRS.PRG
> c:\dev_sources\vouch\source\B_NOTES.PRG
> c:\dev_sources\vouch\source\B_NUM2FG.PRG
> c:\dev_sources\vouch\source\B_OBJECT.PRG
> c:\dev_sources\vouch\source\B_ORDERS.PRG
> c:\dev_sources\vouch\source\B_ORGDTL.PRG
> c:\dev_sources\vouch\source\B_ORGNZN.PRG
> c:\dev_sources\vouch\source\B_PAGER.PRG
> c:\dev_sources\vouch\source\B_PIKDAT.PRG
> c:\dev_sources\vouch\source\B_PIKSYS.PRG
> c:\dev_sources\vouch\source\B_POPS.PRG
> c:\dev_sources\vouch\source\B_POPUPS.PRG
> c:\dev_sources\vouch\source\B_PRGEXE.PRG
> c:\dev_sources\vouch\source\B_PRGWRI.PRG
> c:\dev_sources\vouch\source\B_PRINTA.PRG
> c:\dev_sources\vouch\source\B_PRINTX.PRG
> c:\dev_sources\vouch\source\B_PRINTZ.PRG
> c:\dev_sources\vouch\source\B_PRNCOM.PRG
> c:\dev_sources\vouch\source\B_PROMPT.PRG
> c:\dev_sources\vouch\source\B_PURBUK.PRG
> c:\dev_sources\vouch\source\B_QBM.PRG
> c:\dev_sources\vouch\source\B_READER.PRG
> c:\dev_sources\vouch\source\B_REMIND.PRG
> c:\dev_sources\vouch\source\B_RENUMB.PRG
> c:\dev_sources\vouch\source\B_REPLAC.PRG
> c:\dev_sources\vouch\source\B_REPORT.PRG
> c:\dev_sources\vouch\source\B_RQUEST.PRG
> c:\dev_sources\vouch\source\B_SAVENV.PRG
> c:\dev_sources\vouch\source\B_SCHEDL.PRG
> c:\dev_sources\vouch\source\B_SCROLB.PRG
> c:\dev_sources\vouch\source\B_SDWBOX.PRG
> c:\dev_sources\vouch\source\B_SEARCH.PRG
> c:\dev_sources\vouch\source\B_SELCTN.PRG
> c:\dev_sources\vouch\source\B_SELREC.PRG
> c:\dev_sources\vouch\source\B_SEMA4.PRG
> c:\dev_sources\vouch\source\B_SETS.PRG
> c:\dev_sources\vouch\source\B_SETS_Y.PRG
> c:\dev_sources\vouch\source\B_SIZEWN.PRG
> c:\dev_sources\vouch\source\B_SLIDE.PRG
> c:\dev_sources\vouch\source\B_SLRGEN.PRG
> c:\dev_sources\vouch\source\B_SPEED.PRG
> c:\dev_sources\vouch\source\B_SQL.PRG
> c:\dev_sources\vouch\source\B_STDLGR.PRG
> c:\dev_sources\vouch\source\B_STOCKS.PRG
> c:\dev_sources\vouch\source\B_SUBSET.PRG
> c:\dev_sources\vouch\source\B_TAXRTN.PRG
> c:\dev_sources\vouch\source\B_TB2HTM.PRG
> c:\dev_sources\vouch\source\B_TDS.PRG
> c:\dev_sources\vouch\source\B_TITLE.PRG
> c:\dev_sources\vouch\source\B_TMPLAT.PRG
> c:\dev_sources\vouch\source\B_TREE.PRG
> c:\dev_sources\vouch\source\B_TRIGNO.PRG
> c:\dev_sources\vouch\source\B_UPDATE.PRG
> c:\dev_sources\vouch\source\B_UPDFRM.PRG
> c:\dev_sources\vouch\source\B_UPLOAD.PRG
> c:\dev_sources\vouch\source\B_USERS.PRG
> c:\dev_sources\vouch\source\B_USRDBF.PRG
> c:\dev_sources\vouch\source\B_V32PRN.PRG
> c:\dev_sources\vouch\source\B_VGACLR.PRG
> c:\dev_sources\vouch\source\B_VRULER.PRG
> c:\dev_sources\vouch\source\B_WAITON.PRG
> c:\dev_sources\vouch\source\B_WEBUTL.PRG
> c:\dev_sources\vouch\source\B_WHNVLD.PRG
> c:\dev_sources\vouch\source\B_WVT.PRG
> c:\dev_sources\vouch\source\B_WVTDLG.PRG
> c:\dev_sources\vouch\source\B_YEAR.PRG
> c:\dev_sources\vouch\source\BROWS_DI.PRG
> c:\dev_sources\vouch\source\C_CHGATR.PRG
> c:\dev_sources\vouch\source\C_CREATE.PRG
> c:\dev_sources\vouch\source\C_DVMENU.PRG
> c:\dev_sources\vouch\source\C_MAKPRG.PRG
> c:\dev_sources\vouch\source\C_PRSFMT.PRG
> c:\dev_sources\vouch\source\C_SAVPRG.PRG
> c:\dev_sources\vouch\source\CL_BRWIX.PRG
> c:\dev_sources\vouch\source\CL_DPRNT.PRG
> c:\dev_sources\vouch\source\CL_EDIT.PRG
> c:\dev_sources\vouch\source\CL_PDF.PRG
> c:\dev_sources\vouch\source\CL_PRINT.PRG
> c:\dev_sources\vouch\source\CL_RPDGN.PRG
> c:\dev_sources\vouch\source\CL_RPGNR.PRG
> c:\dev_sources\vouch\source\CL_STACK.PRG
> c:\dev_sources\vouch\source\CL_STKNN.PRG
> c:\dev_sources\vouch\source\F6_KEYS.PRG
> c:\dev_sources\vouch\source\FA_ACCNT.PRG
> c:\dev_sources\vouch\source\FA_AGING.PRG
> c:\dev_sources\vouch\source\FA_BKMRG.PRG
> c:\dev_sources\vouch\source\FA_BOOK2.PRG
> c:\dev_sources\vouch\source\FA_BOOKS.PRG
> c:\dev_sources\vouch\source\FA_DEPRI.PRG
> c:\dev_sources\vouch\source\FA_FINAL.PRG
> c:\dev_sources\vouch\source\FA_FNLNW.PRG
> c:\dev_sources\vouch\source\FA_MENU.PRG
> c:\dev_sources\vouch\source\FA_MULTI.PRG
> c:\dev_sources\vouch\source\FA_QUICK.PRG
> c:\dev_sources\vouch\source\FA_RCNSL.PRG
> c:\dev_sources\vouch\source\FA_SELCT.PRG
> c:\dev_sources\vouch\source\FA_SINGL.PRG
> c:\dev_sources\vouch\source\FA_TRIAL.PRG
> c:\dev_sources\vouch\source\FA_VOUCH.PRG
> c:\dev_sources\vouch\source\G_POPDAT.PRG
> c:\dev_sources\vouch\source\GN_ASMBL.PRG
> c:\dev_sources\vouch\source\GN_BANKS.PRG
> c:\dev_sources\vouch\source\GN_CARGO.PRG
> c:\dev_sources\vouch\source\GN_CLUBS.PRG
> c:\dev_sources\vouch\source\GN_COURR.PRG
> c:\dev_sources\vouch\source\GN_DAIRY.PRG
> c:\dev_sources\vouch\source\GN_DVLOP.PRG
> c:\dev_sources\vouch\source\GN_EXPRT.PRG
> c:\dev_sources\vouch\source\GN_HOTEL.PRG
> c:\dev_sources\vouch\source\GN_HSPTL.PRG
> c:\dev_sources\vouch\source\GN_ISO.PRG
> c:\dev_sources\vouch\source\GN_KITTY.PRG
> c:\dev_sources\vouch\source\GN_N1MKT.PRG
> c:\dev_sources\vouch\source\GN_N2MKT.PRG
> c:\dev_sources\vouch\source\GN_NTMKT.PRG
> c:\dev_sources\vouch\source\GN_PPUMP.PRG
> c:\dev_sources\vouch\source\GN_PRDTN.PRG
> c:\dev_sources\vouch\source\GN_SCHOL.PRG
> c:\dev_sources\vouch\source\GN_SHARE.PRG
> c:\dev_sources\vouch\source\GN_SLRNW.PRG
> c:\dev_sources\vouch\source\GN_TRNSP.PRG
> c:\dev_sources\vouch\source\GN_XCHNG.PRG
> c:\dev_sources\vouch\source\HB_CHG2B.PRG
> c:\dev_sources\vouch\source\MV_RPRT1.PRG
> c:\dev_sources\vouch\source\R_SPENCE.PRG
> c:\dev_sources\vouch\source\RP_DESGN.PRG
> c:\dev_sources\vouch\source\RP_GNRTR.PRG
> c:\dev_sources\vouch\source\RP_INVIC.PRG
> c:\dev_sources\vouch\source\RP_STOCK.PRG
> c:\dev_sources\vouch\source\SAV_ARRY.PRG
> c:\dev_sources\vouch\source\SAV_COLR.PRG
> c:\dev_sources\vouch\source\SC_DESGN.PRG
> c:\dev_sources\vouch\source\SC_FIELD.PRG
> c:\dev_sources\vouch\source\SC_MENU.PRG
> c:\dev_sources\vouch\source\SC_OUTPT.PRG
> c:\dev_sources\vouch\source\SC_PRINT.PRG
> c:\dev_sources\vouch\source\SC_PRPTY.PRG
> c:\dev_sources\vouch\source\SC_UTLTY.PRG
> c:\dev_sources\vouch\source\SRVR_DTA.PRG
> c:\dev_sources\vouch\source\SRVR_MRG.PRG
> c:\dev_sources\vouch\source\SRVR_PRD.PRG
> c:\dev_sources\vouch\source\SRVR_QRY.PRG
> c:\dev_sources\vouch\source\ST_SETUP.PRG
> c:\dev_sources\vouch\source\ST_VOUCH.PRG
> c:\dev_sources\vouch\source\STD_VOCH.PRG
> c:\dev_sources\vouch\source\TSTPDF.PRG
> c:\dev_sources\vouch\source\V_CLCLTR.PRG
> c:\dev_sources\vouch\source\V_DEL_FL.PRG
> c:\dev_sources\vouch\source\V_GEN_01.PRG
> c:\dev_sources\vouch\source\V_GENERL.PRG
> c:\dev_sources\vouch\source\V_HELP.PRG
> c:\dev_sources\vouch\source\V_KRYPT.PRG
> c:\dev_sources\vouch\source\V_LOGOS.PRG
> c:\dev_sources\vouch\source\V_PASWRD.PRG
> c:\dev_sources\vouch\source\V_PROFIL.PRG
> c:\dev_sources\vouch\source\V_TIMES.PRG
> c:\dev_sources\vouch\source\V_UNQNUM.PRG
> c:\dev_sources\vouch\source\B_Ocx.prg
> c:\dev_sources\vouch\source\FR_RPORT.PRG
> c:\dev_sources\vouch\source\FastRepV.prg
> c:\dev_sources\vouch\source\FastRepH.prg
> c:\dev_sources\vouch\source\cj_calndr.prg
> c:\dev_sources\vouch\source\xb_brows.prg
> c:\dev_sources\vouch\source\b_wvg.prg
> c:\dev_sources\vouch\source\vou_brws.prg
>
> c:\dev_sources\vouch\source\VOUCH32.PRG
>
> c:\dev_sources\cachemgr\source\ActivLbl.prg
> c:\dev_sources\cachemgr\source\TxText.prg
> c:\dev_sources\cachemgr\source\FastRepo.prg
> c:\dev_sources\cachemgr\source\Calendar.prg
> c:\dev_sources\cachemgr\source\CJReport.prg
> c:\dev_sources\cachemgr\source\FuncList.prg
>
> {bcc|msvc}c:\dev_sources\vouch\source\b_client.prg
> {bcc|msvc}c:\dev_sources\vouch\source\b_scan.prg
>
> c:\dev_sources\vouch\source\tprinter.c
>
> {bcc|msvc}C:\dev_sources\vouch\source\hbeztwain.c
>
> c:\dev_sources\dev_resources\vouch.res
> {bcc|msvc}c:\dev_sources\dev_resources\ar32.res
>
> # End vouch.hbm
>
>
> Hope it helps.
>
> Regards
> Pritpal Bedi
>
>
>
> --
> View this message in context:
> http://old.nabble.com/From-xHarbour-to-Harbour%3A-need-some-infos-tp26256686p26256941.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091108/874fea23/attachment-0001.html
From fperillo at gmail.com  Sun Nov  8 18:04:21 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sun Nov  8 18:04:28 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <18d502870911081457g28950eefgcb622084a723a5b8@mail.gmail.com>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
	<26256941.post@talk.nabble.com>
	<18d502870911081457g28950eefgcb622084a723a5b8@mail.gmail.com>
Message-ID: <6943770e0911081504v1e8c90beib18e7a7716650dff@mail.gmail.com>

Viktor, a couple of questions, if possible.

Is it possible to read some documentation about hbm / hbp files ?

Is it possible to specify to call another instance of hbmk2 to, for
example, create a library if it not present ?

I can't understand if hbmk2 actually works like a unix make, comparing
date/time of obj  and source file and compiling only when necessary...


Thank you,
Francesco
From harbour.01 at syenar.hu  Sun Nov  8 18:18:11 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov  8 18:18:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12830] trunk/harbour
In-Reply-To: <E1N6wrF-0007J3-N8@d5vjzd1.ch3.sourceforge.com>
References: <E1N6wrF-0007J3-N8@d5vjzd1.ch3.sourceforge.com>
Message-ID: <18d502870911081518m43dbf09cvd056d4ab8fe798e1@mail.gmail.com>

Absolutely great commit, solving a very important pending issue. Thanks a
lot!

Brgds,
Viktor

On Sun, Nov 8, 2009 at 2:46 AM, <druzus@users.sourceforge.net> wrote:

> Revision: 12830
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12830&view=rev
> Author:   druzus
> Date:     2009-11-08 01:46:17 +0000 (Sun, 08 Nov 2009)
>
> Log Message:
> -----------
> 2009-11-08 02:43 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/vm/set.c
>    ! fixed small typos in returned values (FALSE instead of NULL and 0)
>
>  * harbour/src/vm/estack.c
>    * make calling hb_stackTotalItems() safe in MT mode when stack is not
>      initialized - now this function can be used to check if HVM stack
>      exists and is initialized in ST and MT mode
>
>  * harbour/src/rtl/errintlo.c
>    ! fixed at least 4 GPF traps exploited when hb_errInternal() was called
>      and HVM stack was not initialized
>
>  * harbour/include/Makefile
>  + harbour/include/hbcdpreg.h
>  * harbour/include/hbapicdp.h
>  * harbour/src/rtl/cdpapi.c
>    + added new CDP API which fixes many errors and limitations in old
>      implementation.
>      Warning !!! some very serious bugs in national sorting have been
>                  fixed. It may cause that old indexes using some national
>                  sorting will not be compatible. Please rebuild existing
>                  indexes.
>
>  * harbour/src/vm/itemapi.c
>  * harbour/src/rdd/hsx/hsx.c
>  * harbour/src/rdd/dbfntx/dbfntx1.c
>  * harbour/src/rdd/dbfnsx/dbfnsx1.c
>  * harbour/src/rdd/dbfcdx/dbfcdx1.c
>  * harbour/contrib/hbbmcdx/bmdbfcdx.c
>  * harbour/contrib/rddads/adsx.c
>  * harbour/contrib/rddsql/sqlmix.c
>    * updated to work with new CDP API
>    TOFIX: update adsx.c and sqlmix.c to use hb_cdpcmp() which resepcts
>           sorting with accented and mulitybyts characters.
>           Mindaugas, can you update above code?
>
>  * harbour/src/codepage/cpbg866.c
>  * harbour/src/codepage/cpbgiso.c
>  * harbour/src/codepage/cpbgmik.c
>  * harbour/src/codepage/cpbgwin.c
>  * harbour/src/codepage/cpcs852.c
>  * harbour/src/codepage/cpcsiso.c
>  * harbour/src/codepage/cpcskam.c
>  * harbour/src/codepage/cpcswin.c
>  * harbour/src/codepage/cpde850.c
>  * harbour/src/codepage/cpdeiso.c
>  * harbour/src/codepage/cpdewin.c
>  * harbour/src/codepage/cpel737.c
>  * harbour/src/codepage/cpeliso.c
>  * harbour/src/codepage/cpelwin.c
>  * harbour/src/codepage/cpes850.c
>  * harbour/src/codepage/cpes850c.c
>  * harbour/src/codepage/cpesiso.c
>  * harbour/src/codepage/cpesisoc.c
>  * harbour/src/codepage/cpeswin.c
>  * harbour/src/codepage/cpeswinc.c
>  * harbour/src/codepage/cpeswinm.c
>  * harbour/src/codepage/cpfr850.c
>  * harbour/src/codepage/cpfriso.c
>  * harbour/src/codepage/cpfrwin.c
>  * harbour/src/codepage/cphr437.c
>  * harbour/src/codepage/cphr852.c
>  * harbour/src/codepage/cphrwin.c
>  * harbour/src/codepage/cphu852.c
>  * harbour/src/codepage/cphu852s.c
>  * harbour/src/codepage/cphuiso.c
>  * harbour/src/codepage/cphuisos.c
>  * harbour/src/codepage/cphuwin.c
>  * harbour/src/codepage/cphuwins.c
>  * harbour/src/codepage/cpit437.c
>  * harbour/src/codepage/cpit850.c
>  * harbour/src/codepage/cpitisb.c
>  * harbour/src/codepage/cpitiso.c
>  * harbour/src/codepage/cpitwin.c
>  * harbour/src/codepage/cpltwin.c
>  * harbour/src/codepage/cppl852.c
>  * harbour/src/codepage/cppliso.c
>  * harbour/src/codepage/cpplmaz.c
>  * harbour/src/codepage/cpplwin.c
>  * harbour/src/codepage/cppt850.c
>  * harbour/src/codepage/cpptiso.c
>  * harbour/src/codepage/cpro852.c
>  * harbour/src/codepage/cproiso.c
>  * harbour/src/codepage/cprowin.c
>  * harbour/src/codepage/cpru866.c
>  * harbour/src/codepage/cpruiso.c
>  * harbour/src/codepage/cprukoi.c
>  * harbour/src/codepage/cpruwin.c
>  * harbour/src/codepage/cpsk852.c
>  * harbour/src/codepage/cpskiso.c
>  * harbour/src/codepage/cpskkam.c
>  * harbour/src/codepage/cpskwin.c
>  * harbour/src/codepage/cpsl437.c
>  * harbour/src/codepage/cpsl852.c
>  * harbour/src/codepage/cpsliso.c
>  * harbour/src/codepage/cpslwin.c
>  * harbour/src/codepage/cpsrwin.c
>  * harbour/src/codepage/cpsv850.c
>  * harbour/src/codepage/cpsvclip.c
>  * harbour/src/codepage/cpsviso.c
>  * harbour/src/codepage/cpsvwin.c
>  * harbour/src/codepage/cptr857.c
>  * harbour/src/codepage/cptriso.c
>  * harbour/src/codepage/cptrwin.c
>  * harbour/src/codepage/cpua1125.c
>  * harbour/src/codepage/cpua866.c
>  * harbour/src/codepage/cpuakoi.c
>  * harbour/src/codepage/cpuawin.c
>  * harbour/src/codepage/uc037.c
>  * harbour/src/codepage/uc1006.c
>  * harbour/src/codepage/uc1026.c
>  * harbour/src/codepage/uc1125.c
>  * harbour/src/codepage/uc1250.c
>  * harbour/src/codepage/uc1251.c
>  * harbour/src/codepage/uc1252.c
>  * harbour/src/codepage/uc1253.c
>  * harbour/src/codepage/uc1254.c
>  * harbour/src/codepage/uc1255.c
>  * harbour/src/codepage/uc1256.c
>  * harbour/src/codepage/uc1257.c
>  * harbour/src/codepage/uc1258.c
>  * harbour/src/codepage/uc424.c
>  * harbour/src/codepage/uc500.c
>  * harbour/src/codepage/uc737.c
>  * harbour/src/codepage/uc775.c
>  * harbour/src/codepage/uc850.c
>  * harbour/src/codepage/uc852.c
>  * harbour/src/codepage/uc855.c
>  * harbour/src/codepage/uc856.c
>  * harbour/src/codepage/uc857.c
>  * harbour/src/codepage/uc860.c
>  * harbour/src/codepage/uc861.c
>  * harbour/src/codepage/uc862.c
>  * harbour/src/codepage/uc863.c
>  * harbour/src/codepage/uc864.c
>  * harbour/src/codepage/uc865.c
>  * harbour/src/codepage/uc866.c
>  * harbour/src/codepage/uc869.c
>  * harbour/src/codepage/uc874.c
>  * harbour/src/codepage/uc875.c
>  * harbour/src/codepage/uc885910.c
>  * harbour/src/codepage/uc885911.c
>  * harbour/src/codepage/uc885913.c
>  * harbour/src/codepage/uc885914.c
>  * harbour/src/codepage/uc885915.c
>  * harbour/src/codepage/uc885916.c
>  * harbour/src/codepage/uc88591b.c
>  * harbour/src/codepage/uc8859_1.c
>  * harbour/src/codepage/uc8859_2.c
>  * harbour/src/codepage/uc8859_3.c
>  * harbour/src/codepage/uc8859_4.c
>  * harbour/src/codepage/uc8859_5.c
>  * harbour/src/codepage/uc8859_6.c
>  * harbour/src/codepage/uc8859_7.c
>  * harbour/src/codepage/uc8859_8.c
>  * harbour/src/codepage/uc8859_9.c
>  * harbour/src/codepage/ucascii.c
>  * harbour/src/codepage/ucatari.c
>  * harbour/src/codepage/uckam.c
>  * harbour/src/codepage/uckoi8.c
>  * harbour/src/codepage/uckoi8u.c
>  * harbour/src/codepage/ucmacce.c
>  * harbour/src/codepage/ucmaccyr.c
>  * harbour/src/codepage/ucmacgrk.c
>  * harbour/src/codepage/ucmacice.c
>  * harbour/src/codepage/ucmacrom.c
>  * harbour/src/codepage/ucmactrk.c
>  * harbour/src/codepage/ucmaz.c
>  * harbour/src/codepage/ucmik.c
>  * harbour/src/codepage/ucnext.c
>    * updated for new CP API
>    Warning: please test all national CPs. I'm not able to test unknown for
>             me national character conditions so it's possible that I made
>             something wrong. Additionally current CP API does not have
>             some limitations which existed in the old one so now some hacks
>             or workarounds can be cleaned. I.e. now all translations are
>             done using Unicode tables so it's not necessary to use the
>             same number of characters to make them working.
>             Updating CP files I've found the following potential problems
>             in definitions which I haven't fixed or fixed only partially:
>
>         cpes850c.c - update for new format removing hacks for old CP
>                      implementation
>         cpesisoc.c  > remove, it's not longer necessary
>         cpeswinc.c /
>         cpeswinm.c - it is the same as cpesiso.c so it should be removed
>
>         cphu852.c  \
>         cphu852s.c  \
>         cphuiso.c    > update for new format removing hacks for old CP
>         cphuwin.c   /  implementation
>
>         cphuisos.c  > remove, it's not longer necessary
>         cphuwins.c /
>
>         cphr437.c  > does it really use CP-437? and ^]\[@~}|{` instead of
>         cpsl437.c /  nationalletters or it uses different then 437 CP for
>                      7-bit Croatian characters encoding. It's important
>                      because without valid unicode table translations will
>                      not work.
>
>         cpit437.c  - update for new version if necessary (upper characters)
>
>         cpsv850.c \
>         cpsviso.c  > they had ACCENTED_INTERLEAVED but without
> ACCENTED_EQUAL
>         cpsvwin.c /  so this setting was ignored. Now it's not ignored.
>
>         cpsvclip.c - update for new format to be fully not only
>                      "almost compatible with Clipper's NTXSWE.OBJ"
>
>      For sure these are not all problems inherited from old CP
>      implementation so please verify all existing CPs.
>
>  * harbour/src/codepage/cp_tpl.c
>    + added new example for CP definition. Working on new CPs please read
>      this description:
>         If accented characters need special sorting ( HB_CDP_ACSORT_EQUAL
> or
>         HB_CDP_ACSORT_INTERLEAVE ) then you need to mark the accented
>         characters with the symbol '~' before each of them, for example:
>            a~_
>         If there is two-character sequence, which is considered as one, it
>         should be marked with '.' before and after it, for example:
>            ... h.ch.i ...
>         if such multibyte character has its own Unicode representation then
>         this Unicode value can be set using '=' symbol, for example:
>            ....h.ch=2A7C.i
>         and it will be used in translations.
>
>         The Upper case string and the Lower case string should use the
>         same letters. If some characters does not have corresponding upper
>         or lower letter then space ' ' can be used as dummy character, for
>         example in German CPs there is no upper case 'scharfes S' letter
>         so space is used as dummy character.
>
>         HB_CP_LATIN should be 1 if the national alphabet is based on Latin
>         otherwise 0
>
>      Please note that now you can use two versions of CP definition.
>      The 1-st one which uses human readable form similar to the old CP
>      definition and 2-nd which uses directly final CP tables so it
>      allows to replicate any conditions which existed in Clipper or
>      any other compatible language which uses static tables.
>      tests/cpinfo.prg can generate automatically .c files with new CP
>      definition in the 2-nd version. Now if user wants to create new
>      Harbour CP which is fully Clipper compatible he only has to
>      compile and link cpinfo.prg with given national sorting module
>      and then execute it with new Harbour CP name as 1-st parameter.
>      cp<cpname>.c file is generated which can be added to Harbour
>      repository. Optional 2-nd parameter is CP description and 3-rd
>      is Harbour Unicode table ID (if not given 437 is used and should
>      be updated by user in .c file). This method should definitely
>      resolve any problems with creating Clipper compatible CP definition.
>      It also allows to easy verify if CP definitions are compatible. It's
>      enough to compare generated .c files.
>
>  * harbour/src/codepage/uckam.c
>    ! fixed Kamenicky Unicode table definition - it was Mazovia CP :)
>
>  * harbour/src/codepage/cpde850.c
>  * harbour/src/codepage/cpdeiso.c
>  * harbour/src/codepage/cpdewin.c
>    ! fixed CP wrongly encoded CP due to limitations in old CP definition.
>      Now it's possible to define different number of upper an lower
>      characters (space " " can be used as dummy character) and I used
>      it to eliminate hack for 'scharfes S' which does not exists as upper
>      case.
>      Please clean other CPs which contain similar hacks.
>
>  * harbour/src/codepage/cphu852.c
>  * harbour/src/codepage/cphuiso.c
>  * harbour/src/codepage/cphuwin.c
>  * harbour/src/codepage/cpua866.c
>    * removed dummy letters introduced for old translation code
>
>  * harbour/src/rtl/natmsg.c
>  * harbour/src/rtl/cdpapi.c
>  * harbour/include/hbextern.ch
>    + added HB_CDPINFO() function
>    * redirected _NATSORTVER() function to HB_CDPINFO()
>
>   To All,
>      Please check your national sorting in current version and make
>      any updates if necessary or inform me about found problems.
>      I've checked that Polish CPs are working fine and all existing
>      CPs passes my test program which verified some technical aspects
>      of CP implementation. But I cannot verify if this definitions
>      satisfy users in different countries.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
>    trunk/harbour/contrib/rddads/adsx.c
>    trunk/harbour/contrib/rddsql/sqlmix.c
>    trunk/harbour/include/Makefile
>    trunk/harbour/include/hbapicdp.h
>    trunk/harbour/include/hbextern.ch
>    trunk/harbour/src/codepage/cp_tpl.c
>    trunk/harbour/src/codepage/cpbg866.c
>    trunk/harbour/src/codepage/cpbgiso.c
>    trunk/harbour/src/codepage/cpbgmik.c
>    trunk/harbour/src/codepage/cpbgwin.c
>    trunk/harbour/src/codepage/cpcs852.c
>    trunk/harbour/src/codepage/cpcsiso.c
>    trunk/harbour/src/codepage/cpcskam.c
>    trunk/harbour/src/codepage/cpcswin.c
>    trunk/harbour/src/codepage/cpde850.c
>    trunk/harbour/src/codepage/cpdeiso.c
>    trunk/harbour/src/codepage/cpdewin.c
>    trunk/harbour/src/codepage/cpel737.c
>    trunk/harbour/src/codepage/cpeliso.c
>    trunk/harbour/src/codepage/cpelwin.c
>    trunk/harbour/src/codepage/cpes850.c
>    trunk/harbour/src/codepage/cpes850c.c
>    trunk/harbour/src/codepage/cpesiso.c
>    trunk/harbour/src/codepage/cpesisoc.c
>    trunk/harbour/src/codepage/cpeswin.c
>    trunk/harbour/src/codepage/cpeswinc.c
>    trunk/harbour/src/codepage/cpeswinm.c
>    trunk/harbour/src/codepage/cpfr850.c
>    trunk/harbour/src/codepage/cpfriso.c
>    trunk/harbour/src/codepage/cpfrwin.c
>    trunk/harbour/src/codepage/cphr437.c
>    trunk/harbour/src/codepage/cphr852.c
>    trunk/harbour/src/codepage/cphrwin.c
>    trunk/harbour/src/codepage/cphu852.c
>    trunk/harbour/src/codepage/cphu852s.c
>    trunk/harbour/src/codepage/cphuiso.c
>    trunk/harbour/src/codepage/cphuisos.c
>    trunk/harbour/src/codepage/cphuwin.c
>    trunk/harbour/src/codepage/cphuwins.c
>    trunk/harbour/src/codepage/cpit437.c
>    trunk/harbour/src/codepage/cpit850.c
>    trunk/harbour/src/codepage/cpitisb.c
>    trunk/harbour/src/codepage/cpitiso.c
>    trunk/harbour/src/codepage/cpitwin.c
>    trunk/harbour/src/codepage/cpltwin.c
>    trunk/harbour/src/codepage/cppl852.c
>    trunk/harbour/src/codepage/cppliso.c
>    trunk/harbour/src/codepage/cpplmaz.c
>    trunk/harbour/src/codepage/cpplwin.c
>    trunk/harbour/src/codepage/cppt850.c
>    trunk/harbour/src/codepage/cpptiso.c
>    trunk/harbour/src/codepage/cpro852.c
>    trunk/harbour/src/codepage/cproiso.c
>    trunk/harbour/src/codepage/cprowin.c
>    trunk/harbour/src/codepage/cpru866.c
>    trunk/harbour/src/codepage/cpruiso.c
>    trunk/harbour/src/codepage/cprukoi.c
>    trunk/harbour/src/codepage/cpruwin.c
>    trunk/harbour/src/codepage/cpsk852.c
>    trunk/harbour/src/codepage/cpskiso.c
>    trunk/harbour/src/codepage/cpskkam.c
>    trunk/harbour/src/codepage/cpskwin.c
>    trunk/harbour/src/codepage/cpsl437.c
>    trunk/harbour/src/codepage/cpsl852.c
>    trunk/harbour/src/codepage/cpsliso.c
>    trunk/harbour/src/codepage/cpslwin.c
>    trunk/harbour/src/codepage/cpsrwin.c
>    trunk/harbour/src/codepage/cpsv850.c
>    trunk/harbour/src/codepage/cpsvclip.c
>    trunk/harbour/src/codepage/cpsviso.c
>    trunk/harbour/src/codepage/cpsvwin.c
>    trunk/harbour/src/codepage/cptr857.c
>    trunk/harbour/src/codepage/cptriso.c
>    trunk/harbour/src/codepage/cptrwin.c
>    trunk/harbour/src/codepage/cpua1125.c
>    trunk/harbour/src/codepage/cpua866.c
>    trunk/harbour/src/codepage/cpuakoi.c
>    trunk/harbour/src/codepage/cpuawin.c
>    trunk/harbour/src/codepage/uc037.c
>    trunk/harbour/src/codepage/uc1006.c
>    trunk/harbour/src/codepage/uc1026.c
>    trunk/harbour/src/codepage/uc1125.c
>    trunk/harbour/src/codepage/uc1250.c
>    trunk/harbour/src/codepage/uc1251.c
>    trunk/harbour/src/codepage/uc1252.c
>    trunk/harbour/src/codepage/uc1253.c
>    trunk/harbour/src/codepage/uc1254.c
>    trunk/harbour/src/codepage/uc1255.c
>    trunk/harbour/src/codepage/uc1256.c
>    trunk/harbour/src/codepage/uc1257.c
>    trunk/harbour/src/codepage/uc1258.c
>    trunk/harbour/src/codepage/uc424.c
>    trunk/harbour/src/codepage/uc500.c
>    trunk/harbour/src/codepage/uc737.c
>    trunk/harbour/src/codepage/uc775.c
>    trunk/harbour/src/codepage/uc850.c
>    trunk/harbour/src/codepage/uc852.c
>    trunk/harbour/src/codepage/uc855.c
>    trunk/harbour/src/codepage/uc856.c
>    trunk/harbour/src/codepage/uc857.c
>    trunk/harbour/src/codepage/uc860.c
>    trunk/harbour/src/codepage/uc861.c
>    trunk/harbour/src/codepage/uc862.c
>    trunk/harbour/src/codepage/uc863.c
>    trunk/harbour/src/codepage/uc864.c
>    trunk/harbour/src/codepage/uc865.c
>    trunk/harbour/src/codepage/uc866.c
>    trunk/harbour/src/codepage/uc869.c
>    trunk/harbour/src/codepage/uc874.c
>    trunk/harbour/src/codepage/uc875.c
>    trunk/harbour/src/codepage/uc885910.c
>    trunk/harbour/src/codepage/uc885911.c
>    trunk/harbour/src/codepage/uc885913.c
>    trunk/harbour/src/codepage/uc885914.c
>    trunk/harbour/src/codepage/uc885915.c
>    trunk/harbour/src/codepage/uc885916.c
>    trunk/harbour/src/codepage/uc88591b.c
>    trunk/harbour/src/codepage/uc8859_1.c
>    trunk/harbour/src/codepage/uc8859_2.c
>    trunk/harbour/src/codepage/uc8859_3.c
>    trunk/harbour/src/codepage/uc8859_4.c
>    trunk/harbour/src/codepage/uc8859_5.c
>    trunk/harbour/src/codepage/uc8859_6.c
>    trunk/harbour/src/codepage/uc8859_7.c
>    trunk/harbour/src/codepage/uc8859_8.c
>    trunk/harbour/src/codepage/uc8859_9.c
>    trunk/harbour/src/codepage/ucascii.c
>    trunk/harbour/src/codepage/ucatari.c
>    trunk/harbour/src/codepage/uckam.c
>    trunk/harbour/src/codepage/uckoi8.c
>    trunk/harbour/src/codepage/uckoi8u.c
>    trunk/harbour/src/codepage/ucmacce.c
>    trunk/harbour/src/codepage/ucmaccyr.c
>    trunk/harbour/src/codepage/ucmacgrk.c
>    trunk/harbour/src/codepage/ucmacice.c
>    trunk/harbour/src/codepage/ucmacrom.c
>    trunk/harbour/src/codepage/ucmactrk.c
>    trunk/harbour/src/codepage/ucmaz.c
>    trunk/harbour/src/codepage/ucmik.c
>    trunk/harbour/src/codepage/ucnext.c
>    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
>    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
>    trunk/harbour/src/rdd/dbfntx/dbfntx1.c
>    trunk/harbour/src/rdd/hsx/hsx.c
>    trunk/harbour/src/rtl/cdpapi.c
>    trunk/harbour/src/rtl/errintlo.c
>    trunk/harbour/src/rtl/natmsg.c
>    trunk/harbour/src/vm/estack.c
>    trunk/harbour/src/vm/itemapi.c
>    trunk/harbour/src/vm/set.c
>    trunk/harbour/tests/cpinfo.prg
>
> Added Paths:
> -----------
>    trunk/harbour/include/hbcdpreg.h
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/623f58fb/attachment-0001.html
From harbour.01 at syenar.hu  Sun Nov  8 18:24:03 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov  8 18:24:11 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <6943770e0911081504v1e8c90beib18e7a7716650dff@mail.gmail.com>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
	<26256941.post@talk.nabble.com>
	<18d502870911081457g28950eefgcb622084a723a5b8@mail.gmail.com>
	<6943770e0911081504v1e8c90beib18e7a7716650dff@mail.gmail.com>
Message-ID: <18d502870911081524j10871977xed91b3fef355b8e@mail.gmail.com>

On Mon, Nov 9, 2009 at 12:04 AM, francesco perillo <fperillo@gmail.com>wrote:

> Viktor, a couple of questions, if possible.
>
> Is it possible to read some documentation about hbm / hbp files ?
>

It's a free product done in my free time, so there isn't (and pbly
won't be) docs anytime soon created by me.

BTW few days ago I listed  few places where docs is scattered (INSTALL,
RELNOTES, ChangeLog, hbmk2 --help was the list AFAIR)

Is it possible to specify to call another instance of hbmk2 to, for
> example, create a library if it not present ?
>

You can call hbmk2 with multiple projects:
> hbmk2 mylib1.hbp mylib2.hbp myapp.hbp
(order is significant)


>
> I can't understand if hbmk2 actually works like a unix make, comparing
> date/time of obj  and source file and compiling only when necessary...
>

Yes it does that if you turn it on using -inc switch.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/ed14e1c5/attachment.html
From harbour.01 at syenar.hu  Sun Nov  8 18:26:10 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov  8 18:26:19 2009
Subject: [Harbour] hbqt.hbc - Problem Compiling Sample
In-Reply-To: <133778360911071622y44c8c58cr57ccaaa4c30579b7@mail.gmail.com>
References: <133778360911071436t4e734a32xfd3a3525bd62a97b@mail.gmail.com>
	<609353e70911071456v6a094fbap59358a7307f15387@mail.gmail.com>
	<133778360911071622y44c8c58cr57ccaaa4c30579b7@mail.gmail.com>
Message-ID: <18d502870911081526k5cc2aff2qc472154f901abaa7@mail.gmail.com>

xhb is required by hbqt for some temporary reasons.
.hbc files won't hold it because of this and because
no hb contrib is allowed to depend on xhb lib anyway.

Brgds,
Viktor

On Sun, Nov 8, 2009 at 1:22 AM, Bruno Luciani <bruno.luciani@gmail.com>wrote:

> Add  -lxhb to compile to solve this debug function
>
> Bruno
>
> 2009/11/7 Massimo Belgrano <mbelgrano@deltain.it>
>
> undefined reference to `HB_FUN_HB_TOOUTDEBUG'
>>
>>
>>
>> hbmk2: Processing environment options: -compiler=mingw
>> hbmk2: Processing local make script: hbmk.hbm
>> hbmk2: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
>> Harbour 2.0.0beta3 (Rev. 12829)
>> Copyright (c) 1999-2009, http://www.harbour-project.org/
>> Compiling 'demoqt.prg'...
>> Lines 1032, Functions/Procedures 23
>> Generating C source output to 'demoqt.c'... Done.
>> demoqt.o:demoqt.c:(.data+0x88): undefined reference to
>> `HB_FUN_HB_TOOUTDEBUG'
>> collect2: ld returned 1 exit status
>> hbmk2: Error: Running linker. 1
>> gcc.exe demoqt.o hbmk_urnisx.o    -mwindows -Wl,--start-group -lhbqt
>> -lhbqtcore
>> -lhbqtgui -lhbqtnetwork -lhbqtwebkit -lversion -lshlwapi -lQtCore4
>> -lQtGui4 -lQt
>> Network4 -lQtWebKit4 -lsupc++ -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang
>> -lhbc
>> page -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbuddall
>> -lhbusrr
>> dd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbmacro
>> -lhbcpl
>> r -lhbpp -lhbcommon -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32
>> -lwinspool -
>> lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm
>> -lmapi32
>> -limm32 -lmsimg32 -lwininet -lhbpcre -lhbzlib  -Wl,--end-group
>> -odemoqt.exe -Lc:
>> /harbour/mingw/lib -Lc:/devl/qt/2009.04/qt/lib
>>
>>
>> 2009/11/7 Bruno Luciani <bruno.luciani@gmail.com>
>>
>>> Could you verify if this file is correct
>>>
>>> hbqt.hbc
>>>
>>> To compile demoqt  in windows ?
>>>
>>> I think that last changes may be not reflected in it
>>>
>>>
>>>
>>> Thanks in advance
>>> Bruno
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>>
>>
>>
>> --
>> Massimo Belgrano
>>
>> Analisi e sviluppo software per Lan e Web - Consulenza informatica -
>> Formazione
>> Delta Informatica S.r.l. http://www.deltain.it/   +39 0321 455962
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/47ae05c9/attachment.html
From fperillo at gmail.com  Sun Nov  8 18:42:27 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sun Nov  8 18:42:34 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <18d502870911081524j10871977xed91b3fef355b8e@mail.gmail.com>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
	<26256941.post@talk.nabble.com>
	<18d502870911081457g28950eefgcb622084a723a5b8@mail.gmail.com>
	<6943770e0911081504v1e8c90beib18e7a7716650dff@mail.gmail.com>
	<18d502870911081524j10871977xed91b3fef355b8e@mail.gmail.com>
Message-ID: <6943770e0911081542i2909e14elce0b57c5e654be6e@mail.gmail.com>

>> Is it possible to read some documentation about hbm / hbp files ?
>
> BTW few days ago I listed? few places where docs is scattered (INSTALL,
> RELNOTES, ChangeLog, hbmk2 --help was the list AFAIR)

In the meantime I read the --help and is very complete... Sorry to
have asked. I will look for infos about the differences between hbm,
hbp and hbc... (I'm using 2.0.0beta2 and I read about a chenge in
extension names...)

>> Is it possible to specify to call another instance of hbmk2 to, for
>> example, create a library if it not present ?
>
> You can call hbmk2 with multiple projects:
>> hbmk2 mylib1.hbp mylib2.hbp myapp.hbp
> (order is significant)

Ok, this is good... from a message I found on google, it is not
possible to put a mylib2.hbp in myapp.hbp

Francesco
From itamarlins at bol.com.br  Sun Nov  8 18:41:15 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Sun Nov  8 18:43:38 2009
Subject: [Harbour] Re: Re: Re: Re: Win_prn problem.
References: <hd4ahg$3h6$1@ger.gmane.org><609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com>
	<hd4gui$l8q$1@ger.gmane.org><609353e70911071141r1f93a800ne3e3ab032d1495c1@mail.gmail.com>
	<hd6d8b$la2$1@ger.gmane.org><609353e70911080534n1c327690qae2f1e1f05d7bb98@mail.gmail.com>
	<hd7ctd$eh1$1@ger.gmane.org>
	<609353e70911081407s298f73bai1dc4f8a7272a611e@mail.gmail.com>
Message-ID: <hd7l2k$46n$1@ger.gmane.org>

But the return of command "oPrn:TextOut('Font Is: '+oPrn:FontName,.t.)" is wrong, using MSVC.

No problem with print driver emulating pdf, because HP printer Deskjet is returning wrong results too.
Is a problem with class win_prn or unicode... because it worked before without problems and do not know what version of SVN caused this problem.

Ps. I use service pack 3 with XP OS.

Best regards,
Itamar M. Lins Jr.


  "Massimo Belgrano" <mbelgrano@deltain.it> escreveu na mensagem news:609353e70911081407s298f73bai1dc4f8a7272a611e@mail.gmail.com...
  No i have compiled with msvc 2008 and work fine (as first screen shoot)
  Remember that i use freepdf, so problem Maj be  due by your print driver emulating pdf


  follow my //info msvc
  Harbour Terminal: Windows native console
  Harbour 2.0.0beta3 (Rev. 12836)
  Windows Vista 6.0.6002 Service Pack 2
  DS avail=867528KB  OS avail=2066396KB  EMM avail=0KB  MemStat:Off  MT:Off


  Follow my Microsoft c++ version c:\Program Files\Microsoft Visual Studio 9.0\VC\bin\cl
  Microsoft (R) 32-bit C/C++ Optimizing Compiler versione 15.00.30729.01 per 80x86


  2009/11/8 Itamar Lins <itamarlins@bol.com.br>

    Hi! Massimo.
    The conclusion is there exist a problem with MSVC unicode ?

    I do not know to solve this. :-(

    Best regards,
    Itamar M. Lins Jr.



  -- 
  Massimo Belgrano





------------------------------------------------------------------------------

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091108/f5fa5818/attachment.html
From fperillo at gmail.com  Sun Nov  8 19:11:11 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sun Nov  8 19:11:18 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <6943770e0911081542i2909e14elce0b57c5e654be6e@mail.gmail.com>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
	<26256941.post@talk.nabble.com>
	<18d502870911081457g28950eefgcb622084a723a5b8@mail.gmail.com>
	<6943770e0911081504v1e8c90beib18e7a7716650dff@mail.gmail.com>
	<18d502870911081524j10871977xed91b3fef355b8e@mail.gmail.com>
	<6943770e0911081542i2909e14elce0b57c5e654be6e@mail.gmail.com>
Message-ID: <6943770e0911081611x52a8528fy36b35c1a6972513a@mail.gmail.com>

Ok, compiled and linked the main program, 148 files in 12
sub-directories, plus 2 libraries for a total of other 28 files....

I needed to add hbwin (for win32prn) and xhb for txmldocument....

I will test the executable tomorrow....


Thank you everybody for your nice help !

Francesco
From mhsabado at gmail.com  Mon Nov  9 01:29:25 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Mon Nov  9 01:29:48 2009
Subject: [Harbour] DbSeek() Problem with latest SVN
In-Reply-To: <4af751fa.0e08c00a.2725.0974SMTPIN_ADDED@mx.google.com>
References: <4af751fa.0e08c00a.2725.0974SMTPIN_ADDED@mx.google.com>
Message-ID: <4AF7B6C5.6040001@gmail.com>

Hi Przemek,

I had encountered problem with the latest SVN with DbSeek(). It always 
return .F. in my case after reindexing and re-creating index.   I'm 
using DBFNTX and BCC62 under WinXP SP3. 

Thanks for any advise.

Best regards,
Mario
From mhsabado at gmail.com  Mon Nov  9 01:40:49 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Mon Nov  9 01:41:02 2009
Subject: [Harbour] Re: DbSeek() Problem with latest SVN
In-Reply-To: <4AF7B6C5.6040001@gmail.com>
References: <4af751fa.0e08c00a.2725.0974SMTPIN_ADDED@mx.google.com>
	<4AF7B6C5.6040001@gmail.com>
Message-ID: <4AF7B971.8050307@gmail.com>

Hi Przemek,

Mario H. Sabado wrote:
> Hi Przemek,
>
> I had encountered problem with the latest SVN with DbSeek(). It always 
> return .F. in my case after reindexing and re-creating index.   I'm 
> using DBFNTX and BCC62 under WinXP SP3.
> Thanks for any advise.
>
> Best regards,
> Mario
>
I'm guessing it does not accept partial index key?  For example I have 
an index key of ACCT_SRC+ACCT_NO and I only specify a valid value for 
ACCT_SRC will always return .F.  Same case with single index key using 
partial valid value returns .F.

Thanks,
Mario
From sscc at mweb.co.za  Mon Nov  9 02:09:05 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Nov  9 02:09:12 2009
Subject: [Harbour] uhttpd v0.3
In-Reply-To: <4AF46528.9020409@dbtopas.lt>
References: <4AF46528.9020409@dbtopas.lt>
Message-ID: <4AF7C011.5070705@mweb.co.za>

Mindaugas Kavaliauskas wrote:

> Future ideas
> ============
> - I'm very happy with templates, but I need some higher level
> controls/widgets like browses, etc., to be able write database web
> applications. Actually it is not a drawback of server, it is just a
> need of some web framework. Current UWBrowse is just a "demo widget".
> I need something more complex, may be AJAX, etc.
> - TLS

Perhaps you may be interested in some of the ideas presented at 
http://www.getangular.com/ .

The product is written by Misko Hevery who works (worked?) for Google and has 
made me rethink a lot of my ideas about code and testability via his blog at 
http://misko.hevery.com/ .

Regards
Alex

From bedipritpal at hotmail.com  Mon Nov  9 02:13:25 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Nov  9 02:13:32 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <18d502870911081439o4e63a168u87ae736d79e80f25@mail.gmail.com>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
	<DC9C594E-9E4F-40DC-A312-032FF6BD863A@windtelsoft.com>
	<26258143.post@talk.nabble.com>
	<18d502870911081439o4e63a168u87ae736d79e80f25@mail.gmail.com>
Message-ID: <26262085.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> This can be misleading. In almost all tests msvc the fastest,
> mingw follows and bcc lags behind by quite much. msvc and mingw
> are much better supported, so it's way easier to work with them.
> 

What is misleading in the above figures?

I showed above the results of same application with same action 
in same environments. The figures were just a run for all three compilers.
The action was in thread # 3, primary thred firing a module, modulethread 
firing a browser, browser is moved top-down, three times to get average.

Then I cmpiled speedtst.prg with all three compilers and found your 
statement to be true. MSVC then MINGW then BCC and difference was 
noticeable.

Then I recompiled my application and again executed the same tests,
but I received more-or-less the same above figures.

I am trying to figure-out where is the catch.
Note that my application is not pure console, it exploits all the GUI
elements 
of GTWVG. May be this can explain some reasons.



>> Personal observation:
>>   * MINGW has the limitation not to allow more than 1 resource files (
>> really a shame ).
>>
> 
> This is false information. Just try multiple resources with hbmk2
> and it should work. Resources are compiled to objects in mingw
> and you can link any number of such objects to an executable.
> 

Yes, you are right. MINGW also compiles multiple .RES. I was 
under wrong impression, but may be based on some past experience.



>>   * MINGW is very tricky when you need Windows .dlls to be manipulated (
>> again a severe limit ).
>>
> 
> I'd call it the most convenient, since you don't need implibs at all,
> of course you can't link any .dlls with non-matching calling convention,
> but it this case no implib would help anyway.
> 

Here is the problem.
I use Eztwain.dll from www.dosadi.com. I wrote all the wrappers which 
work fine with MSVC and BCC but I have not been able to get it working 
with MINGW ( probably a show stopper in my case ), it does not matter 
how hard I try with different approaches.



>   * BCC is handy to include any external lib because of "implib" utility
> 
>> but slowest of all.
>>
> 
> Also good to know that implib is buggy, so it will something give strange
> results. (openssl, libcurl)
> 

I do not know, nor did I say the "implib" is buggy. Just explained that 
it has always allowed me to add any library I needed. BCC is slower of all
compilers, this is what I observed.


Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/From-xHarbour-to-Harbour%3A-need-some-infos-tp26256686p26262085.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Mon Nov  9 03:04:57 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov  9 03:05:25 2009
Subject: [Harbour] Re: Re: Re: Re: Win_prn problem.
In-Reply-To: <hd7l2k$46n$1@ger.gmane.org>
References: <hd4ahg$3h6$1@ger.gmane.org>
	<609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com> 
	<hd4gui$l8q$1@ger.gmane.org>
	<609353e70911071141r1f93a800ne3e3ab032d1495c1@mail.gmail.com> 
	<hd6d8b$la2$1@ger.gmane.org>
	<609353e70911080534n1c327690qae2f1e1f05d7bb98@mail.gmail.com> 
	<hd7ctd$eh1$1@ger.gmane.org>
	<609353e70911081407s298f73bai1dc4f8a7272a611e@mail.gmail.com> 
	<hd7l2k$46n$1@ger.gmane.org>
Message-ID: <609353e70911090004h7d01346bkad8fbd9881e8fa8@mail.gmail.com>

The problem is that here works and  in your computer not works
Wich result Have you  with freepdf as default driver?
IMO oPrn:TextOut('Font Is: '+oPrn:FontName,.t.) request info to print driver

2009/11/9 Itamar Lins <itamarlins@bol.com.br>

>  But the return of command "oPrn:TextOut('Font Is: '+oPrn:FontName,.t.)"
> is wrong, using MSVC.
>
> No problem with print driver emulating pdf, because HP printer Deskjet is
> returning wrong results too.
> Is a problem with class win_prn or unicode... because it worked before
> without problems and do not know what version of SVN caused this problem.
>
> Ps. I use service pack 3 with XP OS.
>
> Best regards,
> Itamar M. Lins Jr.
>
>  "Massimo Belgrano" <mbelgrano@deltain.it> escreveu na mensagem
> news:609353e70911081407s298f73bai1dc4f8a7272a611e@mail.gmail.com...
> No i have compiled with msvc 2008 and work fine (as first screen shoot)
> Remember that i use freepdf, so problem Maj be  due by your print driver
> emulating pdf
>
> follow my //info msvc
>  Harbour Terminal: Windows native console
> Harbour 2.0.0beta3 (Rev. 12836)
> Windows Vista 6.0.6002 Service Pack 2
> DS avail=867528KB  OS avail=2066396KB  EMM avail=0KB  MemStat:Off  MT:Off
>
> Follow my Microsoft c++ version c:\Program Files\Microsoft Visual Studio
> 9.0\VC\bin\cl
> Microsoft (R) 32-bit C/C++ Optimizing Compiler versione 15.00.30729.01 per
> 80x86
>
> 2009/11/8 Itamar Lins <itamarlins@bol.com.br>
>
>>  Hi! Massimo.
>> The conclusion is there exist a problem with MSVC unicode ?
>>
>> I do not know to solve this. :-(
>>
>> Best regards,
>> Itamar M. Lins Jr.
>>
>>
>>
> --
> Massimo Belgrano
>
>
>  ------------------------------
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/e68ff334/attachment.html
From harbour.01 at syenar.hu  Mon Nov  9 03:39:35 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov  9 03:39:43 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <6943770e0911081542i2909e14elce0b57c5e654be6e@mail.gmail.com>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
	<26256941.post@talk.nabble.com>
	<18d502870911081457g28950eefgcb622084a723a5b8@mail.gmail.com>
	<6943770e0911081504v1e8c90beib18e7a7716650dff@mail.gmail.com>
	<18d502870911081524j10871977xed91b3fef355b8e@mail.gmail.com>
	<6943770e0911081542i2909e14elce0b57c5e654be6e@mail.gmail.com>
Message-ID: <18d502870911090039m1802379em27e279cde0dba37d@mail.gmail.com>

> You can call hbmk2 with multiple projects:

> >> hbmk2 mylib1.hbp mylib2.hbp myapp.hbp
> > (order is significant)
>
> Ok, this is good... from a message I found on google, it is not
> possible to put a mylib2.hbp in myapp.hbp
>

This is true. You must use separate .hbp files for each
target binaries. However, you can move common parts to
either a .hbm or .hbc file, and include this file into all of
your .hbp files.

Brgds,
Viktor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/d7e611e4/attachment.html
From harbour.01 at syenar.hu  Mon Nov  9 03:40:38 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov  9 03:40:48 2009
Subject: [Harbour] Re: Re: Re: Re: Win_prn problem.
In-Reply-To: <609353e70911090004h7d01346bkad8fbd9881e8fa8@mail.gmail.com>
References: <hd4ahg$3h6$1@ger.gmane.org>
	<609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com>
	<hd4gui$l8q$1@ger.gmane.org>
	<609353e70911071141r1f93a800ne3e3ab032d1495c1@mail.gmail.com>
	<hd6d8b$la2$1@ger.gmane.org>
	<609353e70911080534n1c327690qae2f1e1f05d7bb98@mail.gmail.com>
	<hd7ctd$eh1$1@ger.gmane.org>
	<609353e70911081407s298f73bai1dc4f8a7272a611e@mail.gmail.com>
	<hd7l2k$46n$1@ger.gmane.org>
	<609353e70911090004h7d01346bkad8fbd9881e8fa8@mail.gmail.com>
Message-ID: <18d502870911090040r1a112deew50d43574e4b4c5aa@mail.gmail.com>

Seems like a UNICODE translation problem (not a difference
in local environment).

Brgds,
Viktor

On Mon, Nov 9, 2009 at 9:04 AM, Massimo Belgrano <mbelgrano@deltain.it>wrote:

> The problem is that here works and  in your computer not works
> Wich result Have you  with freepdf as default driver?
> IMO oPrn:TextOut('Font Is: '+oPrn:FontName,.t.) request info to print
> driver
>
> 2009/11/9 Itamar Lins <itamarlins@bol.com.br>
>
>>  But the return of command "oPrn:TextOut('Font Is: '+oPrn:FontName,.t.)"
>> is wrong, using MSVC.
>>
>> No problem with print driver emulating pdf, because HP printer Deskjet is
>> returning wrong results too.
>> Is a problem with class win_prn or unicode... because it worked before
>> without problems and do not know what version of SVN caused this problem.
>>
>> Ps. I use service pack 3 with XP OS.
>>
>> Best regards,
>> Itamar M. Lins Jr.
>>
>>  "Massimo Belgrano" <mbelgrano@deltain.it> escreveu na mensagem
>> news:609353e70911081407s298f73bai1dc4f8a7272a611e@mail.gmail.com...
>> No i have compiled with msvc 2008 and work fine (as first screen shoot)
>> Remember that i use freepdf, so problem Maj be  due by your print driver
>> emulating pdf
>>
>> follow my //info msvc
>>  Harbour Terminal: Windows native console
>> Harbour 2.0.0beta3 (Rev. 12836)
>> Windows Vista 6.0.6002 Service Pack 2
>> DS avail=867528KB  OS avail=2066396KB  EMM avail=0KB  MemStat:Off  MT:Off
>>
>> Follow my Microsoft c++ version c:\Program Files\Microsoft Visual Studio
>> 9.0\VC\bin\cl
>> Microsoft (R) 32-bit C/C++ Optimizing Compiler versione 15.00.30729.01 per
>> 80x86
>>
>> 2009/11/8 Itamar Lins <itamarlins@bol.com.br>
>>
>>>  Hi! Massimo.
>>> The conclusion is there exist a problem with MSVC unicode ?
>>>
>>> I do not know to solve this. :-(
>>>
>>> Best regards,
>>> Itamar M. Lins Jr.
>>>
>>>
>>>
>> --
>> Massimo Belgrano
>>
>>
>>  ------------------------------
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>
>
> --
> Massimo Belgrano
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/c16b718a/attachment-0001.html
From fperillo at gmail.com  Mon Nov  9 04:00:06 2009
From: fperillo at gmail.com (francesco perillo)
Date: Mon Nov  9 04:00:14 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <18d502870911090039m1802379em27e279cde0dba37d@mail.gmail.com>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
	<26256941.post@talk.nabble.com>
	<18d502870911081457g28950eefgcb622084a723a5b8@mail.gmail.com>
	<6943770e0911081504v1e8c90beib18e7a7716650dff@mail.gmail.com>
	<18d502870911081524j10871977xed91b3fef355b8e@mail.gmail.com>
	<6943770e0911081542i2909e14elce0b57c5e654be6e@mail.gmail.com>
	<18d502870911090039m1802379em27e279cde0dba37d@mail.gmail.com>
Message-ID: <6943770e0911090100q367ba21cu39cef1218f32c137@mail.gmail.com>

>> Ok, this is good... from a message I found on google, it is not
>> possible to put a mylib2.hbp in myapp.hbp
>
> This is true. You must use separate .hbp files for each
> target binaries. However, you can move common parts to
> either a .hbm or .hbc file, and include this file into all of
> your .hbp files.

Ok, thanks... now I just miss which are the differences between
hbm/hbp/hbc... :-)

I'm going to read the docs you pointed me to yesterday...

thanks,
Francesco
From eghorbino at yahoo.com  Mon Nov  9 04:11:07 2009
From: eghorbino at yahoo.com (Edmer)
Date: Mon Nov  9 04:11:15 2009
Subject: [Harbour] How to get the IP Address.
Message-ID: <26263187.post@talk.nabble.com>


Hi Guys,

I know this is not the right place to ask this question but I'm quite
running out of options. Are there third-party libraries/functions in clipper
5.2e that I could use to get the ip address of a particular PC (host name).

Thanks in advance,
Ed

-- 
View this message in context: http://old.nabble.com/How-to-get-the-IP-Address.-tp26263187p26263187.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From fperillo at gmail.com  Mon Nov  9 04:47:59 2009
From: fperillo at gmail.com (francesco perillo)
Date: Mon Nov  9 04:48:08 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <6943770e0911090100q367ba21cu39cef1218f32c137@mail.gmail.com>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
	<26256941.post@talk.nabble.com>
	<18d502870911081457g28950eefgcb622084a723a5b8@mail.gmail.com>
	<6943770e0911081504v1e8c90beib18e7a7716650dff@mail.gmail.com>
	<18d502870911081524j10871977xed91b3fef355b8e@mail.gmail.com>
	<6943770e0911081542i2909e14elce0b57c5e654be6e@mail.gmail.com>
	<18d502870911090039m1802379em27e279cde0dba37d@mail.gmail.com>
	<6943770e0911090100q367ba21cu39cef1218f32c137@mail.gmail.com>
Message-ID: <6943770e0911090147g416d35e4mea1ea4461a8ade5a@mail.gmail.com>

One more question: is it possible to specify dependencies ?

screen.prg includes screen.ch... if screen.ch changes screen.prg
should be recompiled...

Francesco
From harbour.01 at syenar.hu  Mon Nov  9 04:55:27 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov  9 04:55:36 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <6943770e0911090147g416d35e4mea1ea4461a8ade5a@mail.gmail.com>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
	<26256941.post@talk.nabble.com>
	<18d502870911081457g28950eefgcb622084a723a5b8@mail.gmail.com>
	<6943770e0911081504v1e8c90beib18e7a7716650dff@mail.gmail.com>
	<18d502870911081524j10871977xed91b3fef355b8e@mail.gmail.com>
	<6943770e0911081542i2909e14elce0b57c5e654be6e@mail.gmail.com>
	<18d502870911090039m1802379em27e279cde0dba37d@mail.gmail.com>
	<6943770e0911090100q367ba21cu39cef1218f32c137@mail.gmail.com>
	<6943770e0911090147g416d35e4mea1ea4461a8ade5a@mail.gmail.com>
Message-ID: <18d502870911090155k620018fbka251ef1cc9d49536@mail.gmail.com>

This is handled automatically. Check -head option for extra
fine-tuning.

Brgds,
Viktor

On Mon, Nov 9, 2009 at 10:47 AM, francesco perillo <fperillo@gmail.com>wrote:

> One more question: is it possible to specify dependencies ?
>
> screen.prg includes screen.ch... if screen.ch changes screen.prg
> should be recompiled...
>
> Francesco
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/df98446d/attachment.html
From mbelgrano at deltain.it  Mon Nov  9 05:24:42 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov  9 05:25:11 2009
Subject: [Harbour] How to get the IP Address.
In-Reply-To: <26263187.post@talk.nabble.com>
References: <26263187.post@talk.nabble.com>
Message-ID: <609353e70911090224t2efd6ec5ib1326a258c86dc7b@mail.gmail.com>

run in shell "Ipconfig > miofile" thern read miofile
PROCEDURE Main
?? LOCAL cCommand := "Ipconfig > myfile.txt"
?? ?CLS
?? ?RUN (cCommand)

    open myfile.txt and search "Indirizzo IPv4"

??return

I notice that harbour is 100% compatible with clipper so you can
recompile your source without problem
Get a ready to run version of harbour from?http://www.syenar.hu/harbour/
put in path and?compile several. PRG & lib
hbmk2?test1 test2 testn -lmylib1 -lmylib2 -lmylibn
hbmk2?test1.prg test2.prg testn.prg mylib1.lib mylib2.lib mylibn.lib




2009/11/9 Edmer <eghorbino@yahoo.com>
>
> Hi Guys,
>
> I know this is not the right place to ask this question but I'm quite
> running out of options. Are there third-party libraries/functions in clipper
> 5.2e that I could use to get the ip address of a particular PC (host name).
>
> Thanks in advance,
> Ed
>
> --
> View this message in context: http://old.nabble.com/How-to-get-the-IP-Address.-tp26263187p26263187.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour



--
Massimo Belgrano
From fernando_athayde at yahoo.com.br  Mon Nov  9 05:37:45 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Mon Nov  9 05:37:53 2009
Subject: Res: [Harbour] ASCAN slow - proposal weighted search
In-Reply-To: <4AF74A88.6000002@teledetection.fr>
References: <654741.47521.qm@web52208.mail.re2.yahoo.com>
	<4AF74A88.6000002@teledetection.fr>
Message-ID: <717948.12123.qm@web52201.mail.re2.yahoo.com>

i take a look
i?ll go to make some tests
i?ve preffer sql codes to acess, cause in my application there aren?t any dbf, but is better than array right?

Thanks,
Fernando




________________________________
De: Guy Roussin <guy.roussin@teledetection.fr>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Domingo, 8 de Novembro de 2009 19:47:36
Assunto: Re: [Harbour] ASCAN slow - proposal weighted search

Hi Fernando,

Perhaps you can use hbmemio. I think that hbmemio
has been created for this purpose...

Guy

Fernando Athayde a ?crit :
> ASORT(::aArrayResumo, {|a,b| str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7] > str(b[1],11)+str(b[3],11)+dtoc(b[5])+b[7] } )
> 
> //Normal way (Slow for more than 100 registers)
> nPosicaoArray := ASCAN(::aArrayResumo, ;
>                  {|a| str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7] ==;
>                       STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11)+;
>                       STR(::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 )+;
>                       DTOC(oDB:Mysql2Date (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda} )
> 
> //Weighted search (Is very fast)
> nPosicaoArray := 0
> nArraySize := LEN( ::aArrayResumo )
> nJump := nArraySize - 1
> nPosition := 1
> DO WHILE .T.
>    nPosition += nJump
>    IF nPosition > nArraySize
>       nJump := 0
>       nPosition := nArraySize
>    ENDIF
>    IF str(::aArrayResumo[nPosition,1],11)+str(::aArrayResumo[nPosition,3],11);
>                +dtoc(::aArrayResumo[nPosition,5])+::aArrayResumo[nPosition,7] >;
>       STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11 );
>                 +STR( ::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 );
>                 +DTOC(oDB:Mysql2Date (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda
> 
>       nPosition -= nJump
>       nJump := INT(nJump/2)
>    ENDIF
>    IF str(::aArrayResumo[nPosition,1],11)+str(::aArrayResumo[nPosition,3],11);
>             +dtoc(::aArrayResumo[nPosition,5])+::aArrayResumo[nPosition,7] ==
>       STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11 );
>             +STR( ::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 );
>             +DTOC(oDB:Mysql2Date (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda
>       nPosicaoArray := nPosition
>       EXIT
>    ENDIF
>    IF nJump<1
>       EXIT
>    ENDIF
> ENDDO
> 
> my proposal is made a ASCANEX sending a block how parameter
> but i don?t know how to use eval and blocks
> 
> Thanks,
> Fernando Athayde

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/4a8fc122/attachment.html
From tech at 2dinfo.com.br  Mon Nov  9 07:04:55 2009
From: tech at 2dinfo.com.br (Tecnologia)
Date: Mon Nov  9 06:05:27 2009
Subject: [Harbour] ASCAN slow - proposal weighted search
In-Reply-To: <654741.47521.qm@web52208.mail.re2.yahoo.com>
References: <654741.47521.qm@web52208.mail.re2.yahoo.com>
Message-ID: <E04895D10541494FBAA51B8494468912@noteleo>

hello Fernando
Try the aSeek function below
The sintax is as follows
Regards
Leandro



ASORT(::aArrayResumo, {|a,b| str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7] > str(b[1],11)+str(b[3],11)+dtoc(b[5])+b[7] } )

nPosicaoArray := aSeek(    ::aArrayResumo, ;
                            STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11)+;
                            STR(::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 )+;
                            DTOC(oDB:Mysql2Date (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda,;
                                                        {|a| str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7]},;
                            .T.)
**********************************************

Function aSeek(aArray,xSearch,bSearch,lExact)

**********************************************

local xValue, vvv

local nPos := 1

local nFound := 0

local nLen := len(aArray)

local nJump := nLen-1 

local nBottom := nLen-1, nTop:=2

lExact:=valtype(lExact)=="L" .and. lExact

do while nPos>0 .and. nPos<=nLen .and. nJump>0

    if valtype(bSearch)=="B"

        xValue:=eval(bSearch,aArray[nPos])

    else

        xValue:=aArray[nPos]

    endif


    do case

        case xValue>xSearch

            nTop:=nPos

            nPos-=nJump

        case xValue<xSearch

            nBottom:=nPos

            nPos+=nJump

        other

            nFound:=nPos

            exit 

    endcase


        nJump:=int(nJump/2)

endd

do case

    case nFound==0

        if nPos>0

            for nFound=nBottom to nTop

                if valtype(bSearch)=="B"

                    xValue:=eval(bSearch,aArray[nFound])

                else

                    xValue:=aArray[nFound]

                endif

                if xValue==xSearch .or. (xValue=xSearch .and. !lExact)

                    Return nFound

                endif

            next

        endif

        Return 0

    case nFound==1

        if xValue==xSearch .or. (xValue=xSearch .and. !lExact)

            Return nFound

        else

            Return 0

        endif

    other

        nPos:=nFound-1

        do while nPos>nBottom

            if valtype(bSearch)=="B"

                vvv:=eval(bSearch,aArray[nPos])

            else

                vvv:=aArray[nPos]

            endif

            do case

                case vvv#xSearch

                    exit

                case vvv==xSearch .or. !lExact

                    xValue:=vvv

                    nFound:=nPos

            endcase

            nPos--

        endd

        if xValue==xSearch .or. !lExact

            Return nFound

        endif

endcase

Return 0




From: Fernando Athayde 
Sent: Saturday, November 07, 2009 8:01 AM
To: harbour@harbour-project.org 
Subject: [Harbour] ASCAN slow - proposal weighted search


ASORT(::aArrayResumo, {|a,b| str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7] > str(b[1],11)+str(b[3],11)+dtoc(b[5])+b[7] } )

//Normal way (Slow for more than 100 registers)
nPosicaoArray := ASCAN(::aArrayResumo, ;
                 {|a| str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7] ==;
                      STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11)+;
                      STR(::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 )+;
                      DTOC(oDB:Mysql2Date (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda} )

//Weighted search (Is very fast)
nPosicaoArray := 0
nArraySize := LEN( ::aArrayResumo )
nJump := nArraySize - 1
nPosition := 1
DO WHILE .T.
   nPosition += nJump
   IF nPosition > nArraySize
      nJump := 0
      nPosition := nArraySize
   ENDIF
   IF str(::aArrayResumo[nPosition,1],11)+str(::aArrayResumo[nPosition,3],11);
               +dtoc(::aArrayResumo[nPosition,5])+::aArrayResumo[nPosition,7] >;
      STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11 );
                +STR( ::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 );
                +DTOC(oDB:Mysql2Date (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda

      nPosition -= nJump
      nJump := INT(nJump/2)
   ENDIF
   IF str(::aArrayResumo[nPosition,1],11)+str(::aArrayResumo[nPosition,3],11);
            +dtoc(::aArrayResumo[nPosition,5])+::aArrayResumo[nPosition,7] == 
      STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11 );
            +STR( ::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 );
            +DTOC(oDB:Mysql2Date (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda
      nPosicaoArray := nPosition
      EXIT
   ENDIF
   IF nJump<1
      EXIT
   ENDIF
ENDDO

my proposal is made a ASCANEX sending a block how parameter
but i don?t know how to use eval and blocks

Thanks,
Fernando Athayde


__________________________________________________
Fale com seus amigos de gra?a com o novo Yahoo! Messenger 
http://br.messenger.yahoo.com/ 


--------------------------------------------------------------------------------


_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/e535c259/attachment-0001.html
From dbtopas at dbtopas.lt  Mon Nov  9 06:12:50 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov  9 06:14:40 2009
Subject: [Harbour] uhttpd v0.3
In-Reply-To: <fngef5pidseveetlkqr49503kreeva239q@4ax.com>
References: <4AF46528.9020409@dbtopas.lt>
	<fngef5pidseveetlkqr49503kreeva239q@4ax.com>
Message-ID: <4AF7F932.7090800@dbtopas.lt>

Hi,


ToninhoFWi wrote:
> Can I use uhttpd to replace my calls to Microsoft.XMLHTTP ?

I do not know that Microsoft.XMLHTTP is, so, I can not answer your 
question.

"uhttpd + Harbour" is equivalent to "apache + PHP" and perhaps to 
"Microsoft IIS + VB scripts". Maybe this can give you a hint to your 
question.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Mon Nov  9 06:34:53 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov  9 06:35:02 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>

Thanks Chen.

So to sum up technical problems, the only one which I believe is reasoned
is the speed of our sf.net forum compared to others.

I think that slow performance alone isn't a reason to chose other forums,
unless there is someone who's willing to maintain a similar one with similar

features but better performance. We have no such offer ATM.

Aside from technical aspects (and that's what I really meant as a base
for discussion), the main point is active community with answers (as
Chen rightly said), which means volunteer participants.

Our forum has ~50 registered users, hmgforum has about ~100. The message
count is much higher, but the size of the community isn't so big.

Just thoughts. For sure if nobody is willing to pass the knowledge he got
for free here, we will have a hard time building any sort of active Harbour
support community, and that's something ALL users should be aware of.

I see many ppl. coming by and asking for free docs (prefereably in his
own language), free support, free this and free that, but what nobody seems
to realize is that free stuff comes only from contributions. It's not there
by
magic. In a healthy community which wants to stay afloat on the longer run,
it's actually required that everyone who TAKES also GIVES something.
Everyone should decide what is that he can give to the community, being
it 5 bucks, being it a little background research, support answers, patches,
writing docs or code, small or large it doesn't really matter, but until we
have ~10 ppl participating actively and a couple committing all the code,
chances
are very high that we're seeking impossible goal when trying to build f.e.
an active support forum. Simple reason is that ~10 ppl cannot do all these
tasks.

Please think about this, and try to find a way you can help, after all, you
got an excellent, stable, robust, feature-rich and industrial level product
*for
free*, which can help to even create profit (cash), save time (which is also

money). In such case it's not devil to ask to return some of these benefits
to the product itself to keep it alive and well on the long run. I'm sure
it's
everyone's interest to not let the project just vanish.

Brgds,
Viktor

On Sat, Nov 7, 2009 at 8:47 PM, Chen Kedem <niki@synel.co.il> wrote:

> Viktor,
>
> > Please post ideas how to make our forum more active
>
> The only way to make them active if users could find answers to their need
> there.
> If user need to wait a month or so to get an answer, well, he/she will go
> elsewhere to find it
> (and will probably end here in the dev list). We need someone with
> knowledge that is willing
> to take the time and actively monitor the forum, and provide first aid
> help, or forward the question
> to this list if its something more complicated. I'm doing something like
> that for the SF bug tracker,
> but the forum is just too slow for me (and my old browser at work doesn't
> do well with the forum).
>
> > BTW I believe attachments should be possible to enable
> > in our forum. Can someone check? Vailton, Chen?
>
> Attachments SHOULD work on the Harbour SF phpBB (they were enabled since
> day one of the forum).
>
> Current limits are:
>
> 1) Each file is limited to 256KB.
> 2) Up to 3 attachments per post.
> 3) No attachments allowed in private messages.
> 4) The following extensions are allowed:
>
> Images: gif, jpeg, jpg, png.
> Archives: 7z, ace, bz2, gtar, gz, rar, tar, tgz, zip.
> Plain text: c, ch, cpp, csv, h, hpp, ini, log, prg, txt, xml
>
> I can change the above settings if needed.
>
> Massimo: What file did you try to attach? Did you get any error message?
>
>  Chen.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/3f2c7b55/attachment.html
From harbour.01 at syenar.hu  Mon Nov  9 06:46:21 2009
From: harbour.01 at syenar.hu (=?UTF-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov  9 06:46:29 2009
Subject: [Harbour] MSVC 2008 - XHB.lib
In-Reply-To: <26240891.post@talk.nabble.com>
References: <26240891.post@talk.nabble.com>
Message-ID: <18d502870911090346nd9eb74bt99efb8687c7abe1d@mail.gmail.com>

Perhaps it's not declared as 'extern C'. Remember that in MSVC
C++ mode is enabled by default.

Brgds,
Viktor

On Sat, Nov 7, 2009 at 10:28 AM, Pritpal Bedi <bedipritpal@hotmail.com>wrote:

>
> Hello All
>
> I get this unresolved external when compiled with MSVC 2008:
>
> xhb.lib(dbgfxc.obj) : error LNK2019: unresolved external symbol
> _hb_OutDebug
> referenced in function _hb_ToOutDebug
> c:\dev_projects\harbour\vouch\vouch.exe : fatal error LNK1120: 1 unresolved
> externals
> hbmk2: Error: Running linker. 1120
>
> If I move hb_OutDebug() function from hboutdbg.c to dbgfxc.c above
> hb_ToOutDebug(),
> it works. I am puzzled why MSVC do not recognize this function though
> header
> entry is correct.
>
> Regards
> Pritpal Bedi
> --
> View this message in context:
> http://old.nabble.com/MSVC-2008---XHB.lib-tp26240891p26240891.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/82eeaec4/attachment.html
From druzus at acn.waw.pl  Mon Nov  9 07:06:40 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov  9 07:06:47 2009
Subject: [Harbour] ASCAN slow - proposal weighted search
In-Reply-To: <654741.47521.qm@web52208.mail.re2.yahoo.com>
References: <654741.47521.qm@web52208.mail.re2.yahoo.com>
Message-ID: <20091109120640.GA28858@34-mo7-2.home.aster.pl>

On Sat, 07 Nov 2009, Fernando Athayde wrote:

Hi,

> ASORT(::aArrayResumo, {|a,b| str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7] > str(b[1],11)+str(b[3],11)+dtoc(b[5])+b[7] } )
> //Normal way (Slow for more than 100 registers)
> nPosicaoArray := ASCAN(::aArrayResumo, ;
>                  {|a| str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7] ==;
>                       STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11)+;
>                       STR(::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 )+;
>                       DTOC(oDB:Mysql2Date (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda} )
> 
> //Weighted search (Is very fast)
> nPosicaoArray := 0
> nArraySize := LEN( ::aArrayResumo )
> nJump := nArraySize - 1
> nPosition := 1
> DO WHILE .T.
>    nPosition += nJump
>    IF nPosition > nArraySize
>       nJump := 0
>       nPosition := nArraySize
>    ENDIF
>    IF str(::aArrayResumo[nPosition,1],11)+str(::aArrayResumo[nPosition,3],11);
>                +dtoc(::aArrayResumo[nPosition,5])+::aArrayResumo[nPosition,7] >;
>       STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11 );
>                 +STR( ::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 );
>                 +DTOC(oDB:Mysql2Date (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda
> 
>       nPosition -= nJump
>       nJump := INT(nJump/2)
>    ENDIF
>    IF str(::aArrayResumo[nPosition,1],11)+str(::aArrayResumo[nPosition,3],11);
>             +dtoc(::aArrayResumo[nPosition,5])+::aArrayResumo[nPosition,7] == 
>       STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11 );
>             +STR( ::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 );
>             +DTOC(oDB:Mysql2Date (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda
>       nPosicaoArray := nPosition
>       EXIT
>    ENDIF
>    IF nJump<1
>       EXIT
>    ENDIF
> ENDDO
> 
> my proposal is made a ASCANEX sending a block how parameter
> but i don?t know how to use eval and blocks

You want to use binary search for well soprted array items and
for sure it will improve the speed anyhow I suggest to use hash
arrays. If will be faster.
You can use hash array in two ways:
1. as index, i.e.:

      func arrayIndex( aValue, bOrder )
         local item
         local hValue := {=>}
         for each item in aValue
            hValue[ eval( bOrder, item ) ] := item:__enumIndex()
         next
      return hValue

   then in your code you are making:

      hIndex := arrayIndex( ::aArrayResumo, ;
                         { |a| str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7] } )

   and you can use this index to find given value position:

      cKey := STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11)+;
              STR(::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 )+;
              DTOC(oDB:Mysql2Date(::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+;
              cSiglaMoeda
      if cKey $ hIndex
         nPosicaoArray := hIndex[ cKey ]
         aResult := ::aArrayResumo[ nPosicaoArray ]
      endif

2. as array of values.

      func arrayToHash( aValue, bOrder )
         local item
         local hValue := {=>}
         for each item in aValue
            hValue[ eval( bOrder, item ) ] := item
         next
      return hValue

   then in your code you are making:

      hValue := arrayToHash( ::aArrayResumo, ;
                        { |a| str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7] } )

   and you can use this index to find given value:

      cKey := STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11)+;
              STR(::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 )+;
              DTOC(oDB:Mysql2Date(::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+;
              cSiglaMoeda
      if cKey $ hValue
         aResult := hValue[ cKey ]
      endif

Now if you look at the above the you will find that you do not have to use
arrays at all and you can replace ::aArrayResumo with ::hArrayResumo.
Just simply initialize it as empty hash array:
   ::hArrayResumo := { => }
then add all new values using code like:

   cKey := str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7]
   ::hArrayResumo[ cKey ] := a

instead of:
   aadd( ::aArrayResumo, a )

and now you can use ::hArrayResumo directly, i.e.:

      cKey := STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11)+;
              STR(::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 )+;
              DTOC(oDB:Mysql2Date(::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+;
              cSiglaMoeda
      if cKey $ ::hArrayResumo
         aResult := ::hArrayResumo[ cKey ]
      endif

Hash array are designed to replace normal arrays accessed by indexes
extracted with ascan() functions and are extremely fast.

best regards,
Przemek
From fernando_athayde at yahoo.com.br  Mon Nov  9 07:20:06 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Mon Nov  9 07:20:13 2009
Subject: Res: [Harbour] ASCAN slow - proposal weighted search
In-Reply-To: <20091109120640.GA28858@34-mo7-2.home.aster.pl>
References: <654741.47521.qm@web52208.mail.re2.yahoo.com>
	<20091109120640.GA28858@34-mo7-2.home.aster.pl>
Message-ID: <298420.20792.qm@web52205.mail.re2.yahoo.com>

Thanks very much
i?ll try it, it?s new for me, but seems pretty cool

Brgrs,
Fernando




________________________________
De: Przemys?aw Czerpak <druzus@acn.waw.pl>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Segunda-feira, 9 de Novembro de 2009 9:06:40
Assunto: Re: [Harbour] ASCAN slow - proposal weighted search

On Sat, 07 Nov 2009, Fernando Athayde wrote:

Hi,

> ASORT(::aArrayResumo, {|a,b| str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7] > str(b[1],11)+str(b[3],11)+dtoc(b[5])+b[7] } )
> //Normal way (Slow for more than 100 registers)
> nPosicaoArray := ASCAN(::aArrayResumo, ;
>                  {|a| str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7] ==;
>                       STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11)+;
>                       STR(::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 )+;
>                       DTOC(oDB:Mysql2Date (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda} )
> 
> //Weighted search (Is very fast)
> nPosicaoArray := 0
> nArraySize := LEN( ::aArrayResumo )
> nJump := nArraySize - 1
> nPosition := 1
> DO WHILE .T.
>    nPosition += nJump
>    IF nPosition > nArraySize
>       nJump := 0
>       nPosition := nArraySize
>    ENDIF
>    IF str(::aArrayResumo[nPosition,1],11)+str(::aArrayResumo[nPosition,3],11);
>                +dtoc(::aArrayResumo[nPosition,5])+::aArrayResumo[nPosition,7] >;
>       STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11 );
>                 +STR( ::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 );
>                 +DTOC(oDB:Mysql2Date (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda
> 
>       nPosition -= nJump
>       nJump := INT(nJump/2)
>    ENDIF
>    IF str(::aArrayResumo[nPosition,1],11)+str(::aArrayResumo[nPosition,3],11);
>             +dtoc(::aArrayResumo[nPosition,5])+::aArrayResumo[nPosition,7] == 
>       STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11 );
>             +STR( ::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 );
>             +DTOC(oDB:Mysql2Date (::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+cSiglaMoeda
>       nPosicaoArray := nPosition
>       EXIT
>    ENDIF
>    IF nJump<1
>       EXIT
>    ENDIF
> ENDDO
> 
> my proposal is made a ASCANEX sending a block how parameter
> but i don?t know how to use eval and blocks

You want to use binary search for well soprted array items and
for sure it will improve the speed anyhow I suggest to use hash
arrays. If will be faster.
You can use hash array in two ways:
1. as index, i.e.:

      func arrayIndex( aValue, bOrder )
         local item
         local hValue := {=>}
         for each item in aValue
            hValue[ eval( bOrder, item ) ] := item:__enumIndex()
         next
      return hValue

   then in your code you are making:

      hIndex := arrayIndex( ::aArrayResumo, ;
                         { |a| str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7] } )

   and you can use this index to find given value position:

      cKey := STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11)+;
              STR(::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 )+;
              DTOC(oDB:Mysql2Date(::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+;
              cSiglaMoeda
      if cKey $ hIndex
         nPosicaoArray := hIndex[ cKey ]
         aResult := ::aArrayResumo[ nPosicaoArray ]
      endif

2. as array of values.

      func arrayToHash( aValue, bOrder )
         local item
         local hValue := {=>}
         for each item in aValue
            hValue[ eval( bOrder, item ) ] := item
         next
      return hValue

   then in your code you are making:

      hValue := arrayToHash( ::aArrayResumo, ;
                        { |a| str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7] } )

   and you can use this index to find given value:

      cKey := STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11)+;
              STR(::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 )+;
              DTOC(oDB:Mysql2Date(::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+;
              cSiglaMoeda
      if cKey $ hValue
         aResult := hValue[ cKey ]
      endif

Now if you look at the above the you will find that you do not have to use
arrays at all and you can replace ::aArrayResumo with ::hArrayResumo.
Just simply initialize it as empty hash array:
   ::hArrayResumo := { => }
then add all new values using code like:

   cKey := str(a[1],11)+str(a[3],11)+dtoc(a[5])+a[7]
   ::hArrayResumo[ cKey ] := a

instead of:
   aadd( ::aArrayResumo, a )

and now you can use ::hArrayResumo directly, i.e.:

      cKey := STR( ::oQueryRelatorioPrincipal:fieldGet('idgrupo_centro_custo'),11)+;
              STR(::oQueryRelatorioPrincipal:fieldGet('idcentro_custo'),11 )+;
              DTOC(oDB:Mysql2Date(::oQueryRelatorioPrincipal:fieldGet('data_emissao') ) )+;
              cSiglaMoeda
      if cKey $ ::hArrayResumo
         aResult := ::hArrayResumo[ cKey ]
      endif

Hash array are designed to replace normal arrays accessed by indexes
extracted with ascan() functions and are extremely fast.

best regards,
Przemek
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/b3542485/attachment-0001.html
From druzus at users.sourceforge.net  Mon Nov  9 07:23:49 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Nov  9 07:23:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12838] trunk/harbour
Message-ID: <E1N7THh-00005T-Ko@c3vjzd1.ch3.sourceforge.com>

Revision: 12838
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12838&view=rev
Author:   druzus
Date:     2009-11-09 12:23:48 +0000 (Mon, 09 Nov 2009)

Log Message:
-----------
2009-11-09 13:23 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/cdpapi.c
    ! fixed very bad typo in new CDP API code - hb_cdpnDup2() was not updating
      original string size. This bug was critical for RDDs.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/cdpapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Nov  9 07:28:00 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov  9 07:28:07 2009
Subject: [Harbour] Re: DbSeek() Problem with latest SVN
In-Reply-To: <4AF7B971.8050307@gmail.com>
References: <4af751fa.0e08c00a.2725.0974SMTPIN_ADDED@mx.google.com>
	<4AF7B6C5.6040001@gmail.com> <4AF7B971.8050307@gmail.com>
Message-ID: <20091109122800.GB28858@34-mo7-2.home.aster.pl>

On Mon, 09 Nov 2009, Mario H. Sabado wrote:

Hi Mario,

> >I had encountered problem with the latest SVN with DbSeek(). It
> >always return .F. in my case after reindexing and re-creating
> >index.   I'm using DBFNTX and BCC62 under WinXP SP3.
> >Thanks for any advise.
> I'm guessing it does not accept partial index key?  For example I
> have an index key of ACCT_SRC+ACCT_NO and I only specify a valid
> value for ACCT_SRC will always return .F.  Same case with single
> index key using partial valid value returns .F.

Please test it after:

2009-11-09 13:23 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/cdpapi.c
    ! fixed very bad typo in new CDP API code - hb_cdpnDup2() was not updating
      original string size. This bug was critical for RDDs.

It was very serious bug, i.e. in DBF tables chr(0) was stored for each
string shorter then field size and in DBFNTX such chr(0) was stored in
index key used for seek.

Many bad side effects due to missed '* pulDst = ' in cdpapi.c[1364] :(

best regards,
Przemek
From zen25000 at zen.co.uk  Mon Nov  9 07:31:41 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Mon Nov  9 07:31:49 2009
Subject: [Harbour] Re: DbSeek() Problem with latest SVN
In-Reply-To: <4AF7B971.8050307@gmail.com>
References: <4af751fa.0e08c00a.2725.0974SMTPIN_ADDED@mx.google.com>	<4AF7B6C5.6040001@gmail.com>
	<4AF7B971.8050307@gmail.com>
Message-ID: <4AF80BAD.1050707@zen.co.uk>

On 09/11/09 06:40, Mario H. Sabado wrote:
> Hi Przemek,
>
> Mario H. Sabado wrote:
>> Hi Przemek,
>>
>> I had encountered problem with the latest SVN with DbSeek(). It always
>> return .F. in my case after reindexing and re-creating index. I'm
>> using DBFNTX and BCC62 under WinXP SP3.
>> Thanks for any advise.
>>
>> Best regards,
>> Mario
>>
> I'm guessing it does not accept partial index key? For example I have an
> index key of ACCT_SRC+ACCT_NO and I only specify a valid value for
> ACCT_SRC will always return .F. Same case with single index key using
> partial valid value returns .F.
>
> Thanks,
> Mario
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
If SOFTSEEK is .T. or lsoftseek .T. is passed to dbseek() then the 
record pointer will land on the record you need. A check of eof()=.F. 
will indicate whether a partial match was found. Otherwise eof() returns .T.
HTH
From fperillo at gmail.com  Mon Nov  9 09:15:47 2009
From: fperillo at gmail.com (francesco perillo)
Date: Mon Nov  9 09:15:54 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
Message-ID: <6943770e0911090615x28d13bfbl676ac8ff53be2797@mail.gmail.com>

I just joined the harbour community after a long time in xHarbour (and hwgui)...

I'm willing to contribute in some ways but I don't know where to post
code snippets/howto and other stuff....

For example I'm going to install mingw one of these days and I may
create a small how-to with updated infos... but then, where to post it
? Here ?

Probably a wiki is the best solution...
From mbelgrano at deltain.it  Mon Nov  9 09:49:25 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov  9 09:49:52 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <6943770e0911090615x28d13bfbl676ac8ff53be2797@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com> 
	<6943770e0911090615x28d13bfbl676ac8ff53be2797@mail.gmail.com>
Message-ID: <609353e70911090649gd9793b4k146f0cfd1f1dfaea@mail.gmail.com>

if Your search an active harbour group:i  suggest visit at http://www.
hmgforum.com/viewforum.php?f=7
is present  also Wiki for harbour at http://www.<http://www.hmgforum.com/wiki>
hmgforum <http://www.hmgforum.com/wiki>.com/ <http://www.hmgforum.com/wiki>
wiki <http://www.hmgforum.com/wiki>
 <http://www.hmgforum.com/wiki>

2009/11/9 francesco perillo <fperillo@gmail.com>

> I just joined the harbour community after a long time in xHarbour (and
> hwgui)...
>
> I'm willing to contribute in some ways but I don't know where to post
> code snippets/howto and other stuff....
>
> For example I'm going to install mingw one of these days and I may
> create a small how-to with updated infos... but then, where to post it
> ? Here ?
>
> Probably a wiki is the best solution...
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/eb896d45/attachment.html
From teo at windtelsoft.com  Mon Nov  9 10:01:35 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Mon Nov  9 10:01:47 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <609353e70911090649gd9793b4k146f0cfd1f1dfaea@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
	<6943770e0911090615x28d13bfbl676ac8ff53be2797@mail.gmail.com>
	<609353e70911090649gd9793b4k146f0cfd1f1dfaea@mail.gmail.com>
Message-ID: <EEA28DDB-DE7A-4BA7-9D0A-4A600FEA95AC@windtelsoft.com>


On Nov 9, 2009, at 8:49 AM, Massimo Belgrano wrote:

> if Your search an active harbour group:i  suggest visit at http://www.hmgforum.com/viewforum.php?f=7
> is present  also Wiki for harbour at http://www.hmgforum.com/wiki
>
>
> 2009/11/9 francesco perillo <fperillo@gmail.com>
> I just joined the harbour community after a long time in xHarbour  
> (and hwgui)...
>
> I'm willing to contribute in some ways but I don't know where to post
> code snippets/howto and other stuff....
>
> For example I'm going to install mingw one of these days and I may
> create a small how-to with updated infos... but then, where to post it
> ? Here ?
>
> Probably a wiki is the best solution...
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>


Hello Massimo,

Following are a quote from a recent answer from you:

/* BEGIN QUOTE */

Yes i not  redirecting users.
and still sorry
i made error due to much harbour love


why roberto lopez is not writing here from same week?


2009/11/6 Viktor Szak?ts <harbour.01@syenar.hu>
Follow is my valuation 0-10 of actual harbour user list:
http://sourceforge.net/apps/phpbb/harbour-project/           =4  no  
attachment
http://lists.harbour-project.org/pipermail/harbour-users/    =5    
difficult login,slow
http://www.hmgforum.com/viewforum.php?f=7                 =8 good  
integration in web,with  domain name redirection

Thanks for your vote and input.

I'd like to ask you to hold off redirecting users
until we make a final decision on this.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/66a0bb89/attachment.html
From teo at windtelsoft.com  Mon Nov  9 10:07:49 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Mon Nov  9 10:08:00 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
Message-ID: <98505FD2-E6B5-44F7-A9EE-665A1C0F1055@windtelsoft.com>


On Nov 9, 2009, at 5:34 AM, Viktor Szak?ts wrote:

> Thanks Chen.
>
> So to sum up technical problems, the only one which I believe is  
> reasoned
> is the speed of our sf.net forum compared to others.
>
> I think that slow performance alone isn't a reason to chose other  
> forums,
> unless there is someone who's willing to maintain a similar one with  
> similar
> features but better performance. We have no such offer ATM.
>
> Aside from technical aspects (and that's what I really meant as a base
> for discussion), the main point is active community with answers (as
> Chen rightly said), which means volunteer participants.
>
> Our forum has ~50 registered users, hmgforum has about ~100. The  
> message
> count is much higher, but the size of the community isn't so big.
>
> Just thoughts. For sure if nobody is willing to pass the knowledge  
> he got
> for free here, we will have a hard time building any sort of active  
> Harbour
> support community, and that's something ALL users should be aware of.
>
> I see many ppl. coming by and asking for free docs (prefereably in his
> own language), free support, free this and free that, but what  
> nobody seems
> to realize is that free stuff comes only from contributions. It's  
> not there by
> magic. In a healthy community which wants to stay afloat on the  
> longer run,
> it's actually required that everyone who TAKES also GIVES something.
> Everyone should decide what is that he can give to the community,  
> being
> it 5 bucks, being it a little background research, support answers,  
> patches,
> writing docs or code, small or large it doesn't really matter, but  
> until we
> have ~10 ppl participating actively and a couple committing all the  
> code, chances
> are very high that we're seeking impossible goal when trying to  
> build f.e.
> an active support forum. Simple reason is that ~10 ppl cannot do all  
> these
> tasks.
>
> Please think about this, and try to find a way you can help, after  
> all, you
> got an excellent, stable, robust, feature-rich and industrial level  
> product *for
> free*, which can help to even create profit (cash), save time (which  
> is also
> money). In such case it's not devil to ask to return some of these  
> benefits
> to the product itself to keep it alive and well on the long run. I'm  
> sure it's
> everyone's interest to not let the project just vanish.

Viktor,

I'll start from now on, to check the Harbour phpBB Harbour forum to  
give support.

Why not to use the MediaWiki facility that SF offers ?, Probably it  
will be a very good way to centralize the documentation/support  
efforts, also to store there (a copy) the documentation work that  
April is currently doing and start to contributing there to enhancing/ 
updating it.


best regards,

Teo

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/56c69ff0/attachment-0001.html
From zen25000 at zen.co.uk  Mon Nov  9 10:16:11 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Mon Nov  9 10:16:19 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <609353e70911090649gd9793b4k146f0cfd1f1dfaea@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
	<6943770e0911090615x28d13bfbl676ac8ff53be2797@mail.gmail.com>
	<609353e70911090649gd9793b4k146f0cfd1f1dfaea@mail.gmail.com>
Message-ID: <4AF8323B.8010605@zen.co.uk>

On 09/11/09 14:49, Massimo Belgrano wrote:
> if Your search an active harbour group:i  suggest visit at
> http://www.hmgforum.com/viewforum.php?f=7
> <http://www.hmgforum.com/viewforum.php?f=7>
> is present  also Wiki for harbour at http://www.
> <http://www.hmgforum.com/wiki>hmgforum
> <http://www.hmgforum.com/wiki>.com/ <http://www.hmgforum.com/wiki>wiki
> <http://www.hmgforum.com/wiki>
> <http://www.hmgforum.com/wiki>
>
> 2009/11/9 francesco perillo <fperillo@gmail.com <mailto:fperillo@gmail.com>>
>
>     I just joined the harbour community after a long time in xHarbour
>     (and hwgui)...
>
>     I'm willing to contribute in some ways but I don't know where to post
>     code snippets/howto and other stuff....
>
>     For example I'm going to install mingw one of these days and I may
>     create a small how-to with updated infos... but then, where to post it
>     ? Here ?
>
>     Probably a wiki is the best solution...
>     _______________________________________________
>     Harbour mailing list
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
>
> --
> Massimo Belgrano
>
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

Massimo,
Why are you driving people away from the forum rather than encouraging 
them to visit and use it?
You have a prominent post in the forum telling people who want advice to 
go elsewhere. No wonder there is little activity there.
Viktor is correct - the best forums are the ones where long time members 
are seen to take the trouble to help others - and I don't mean the 
developers - they don't have the time.
I wish I had more knowledge and could do more to help, but my age is now 
agaist my ever keeping up with developments :-(
I do my best to promote Harbour in the Mandriva Linux community.
In the meantime if someone could cast an eye over this I would 
appreciate it. :-)
https://sourceforge.net/apps/phpbb/harbour-project/viewtopic.php?p=75#p75
Thanks,
Barry
From teo at windtelsoft.com  Mon Nov  9 10:22:33 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Mon Nov  9 10:22:42 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <4AF8323B.8010605@zen.co.uk>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
	<6943770e0911090615x28d13bfbl676ac8ff53be2797@mail.gmail.com>
	<609353e70911090649gd9793b4k146f0cfd1f1dfaea@mail.gmail.com>
	<4AF8323B.8010605@zen.co.uk>
Message-ID: <9DD3A8AF-F65C-4358-A4D0-6146A666CEEF@windtelsoft.com>


On Nov 9, 2009, at 9:16 AM, Barry Jackson wrote:

> On 09/11/09 14:49, Massimo Belgrano wrote:
>> if Your search an active harbour group:i  suggest visit at
>> http://www.hmgforum.com/viewforum.php?f=7
>> <http://www.hmgforum.com/viewforum.php?f=7>
>> is present  also Wiki for harbour at http://www.
>> <http://www.hmgforum.com/wiki>hmgforum
>> <http://www.hmgforum.com/wiki>.com/ <http://www.hmgforum.com/ 
>> wiki>wiki
>> <http://www.hmgforum.com/wiki>
>> <http://www.hmgforum.com/wiki>
>>
>> 2009/11/9 francesco perillo <fperillo@gmail.com <mailto:fperillo@gmail.com 
>> >>
>>
>>    I just joined the harbour community after a long time in xHarbour
>>    (and hwgui)...
>>
>>    I'm willing to contribute in some ways but I don't know where to  
>> post
>>    code snippets/howto and other stuff....
>>
>>    For example I'm going to install mingw one of these days and I may
>>    create a small how-to with updated infos... but then, where to  
>> post it
>>    ? Here ?
>>
>>    Probably a wiki is the best solution...
>>    _______________________________________________
>>    Harbour mailing list
>>    Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>>    http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>
>>
>> --
>> Massimo Belgrano
>>
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> Massimo,
> Why are you driving people away from the forum rather than  
> encouraging them to visit and use it?
> You have a prominent post in the forum telling people who want  
> advice to go elsewhere. No wonder there is little activity there.
> Viktor is correct - the best forums are the ones where long time  
> members are seen to take the trouble to help others - and I don't  
> mean the developers - they don't have the time.
> I wish I had more knowledge and could do more to help, but my age is  
> now agaist my ever keeping up with developments :-(
> I do my best to promote Harbour in the Mandriva Linux community.
> In the meantime if someone could cast an eye over this I would  
> appreciate it. :-)
> https://sourceforge.net/apps/phpbb/harbour-project/viewtopic.php?p=75#p75

Hello Barry, I just answered to barjac and I'll try to help him to  
solve the problem.


best regards,

Teo

From gvarona at ec-red.com  Mon Nov  9 10:29:38 2009
From: gvarona at ec-red.com (=?UTF-8?B?R3VpbGxlcm1vIFZhcm9uYSBTaWx1cMO6?=)
Date: Mon Nov  9 10:26:22 2009
Subject: [Harbour] "Current Record" of work areas show different results
	with debugging
Message-ID: <4AF83562.2040208@ec-red.com>

[SPA]
"Current Record" de estado de las areas de trabajo muestra resultados 
diferentes con el debug.
Tengo 2 aplicaciones compiladas con el mismo entorno de trabajo.
Porqu? el estado de las areas de trabajo me muestra informaci?n de los 
campos en forma diferente en la parte de "Current Record".
Mientras que en una me muestra correctamente el nombre del campo, en la 
otra me muestra la expresi?n "FIELDGET: Funci?n"
Adjunto pantallazos.
[ENG] By google
Current Record Status of work areas show different results with debugging.
I have 2 applications compiled with the same working environment.
Why the state of my work areas of the fields displays information 
differently on the part of "Current Record".
While on a correctly shows me the field name in the other shows me the 
term "FIELDGET: Function"
Deputy screenshots.

TIA

BestRegards
GVS

File Locate View Run Point Monitor Options Window Help
?[?]????????????????????? XINKEY.PRG File not found 
???????????????????????????
? ?[?]? Area ????????????????? Status ???????????????????? Structure ????? ?
? ?INDICES ?Alias: INDICES Record:59/98 ?ARCHIVODBF C 12 0? ?
? ?DISP ? BOF: No Deleted: No ?ARCHIVONTX C 12 0? ?
? ?DOLAR ? EOF: No Found: No ?CLAVE C 80 0? ?
? ?COPG ?Filter: ? ? ?
? ?OPST ? Key: ArchivoDbf + ArchivoNtx ? ? ?
? ?LOGU ???????????????????????????????????????? ? ?
? ?CLPR ? DBFCDX ? ? ?
? ?CUEN ? Workarea Information ? ? ?
? ?BAN_ ? Select Area: 1 ? ? ?
? ?CENC ? Record Size: 105 ? ? ?
? ?FACT ? Header Size: 130 ? ? ?
? ?VTAS ? Field Count: 3 ? ? ?
? ?NUME ? Last Update: 13/09/09 ? ? ?
? ?MAYC ? Index order: 1 ? ? ?
? ?MAYD ? Current Record ? ? ?
???? ? ARCHIVODBF = Rp ? ??????
?[?? ? ARCHIVONTX = Rp ? ??????
? ? ? CLAVE = Orden ? ? ?
? ???????????????????????????????????????????????????????????????????????? ?
?> ?
????????????????????????????????????????????????????????????????????????????????

File Locate View Run Point Monitor Options Window Help
?[?]????????????????????? XINKEY.PRG File not found 
???????????????????????????
? ?[?]? Area ????????????????? Status ???????????????????? Structure ????? ?
? ?INDICES ?Alias: INDICES Record:59/98 ?ARCHIVODBF C 12 0? ?
? ?DISP ? BOF: No Deleted: No ?ARCHIVONTX C 12 0? ?
? ?DOLAR ? EOF: No Found: No ?CLAVE C 80 0? ?
? ?COPG ?Filter: ? ? ?
? ?OPST ? Key: ArchivoDbf + ArchivoNtx ? ? ?
? ?LOGU ???????????????????????????????????????? ? ?
? ?CLPR ? DBFCDX ? ? ?
? ?CUEN ? Workarea Information ? ? ?
? ?BAN_ ? Select Area: 1 ? ? ?
? ?CENC ? Record Size: 105 ? ? ?
? ?FACT ? Header Size: 130 ? ? ?
? ?VTAS ? Field Count: 3 ? ? ?
? ?NUME ? Last Update: 13/09/09 ? ? ?
? ?MAYC ? Index order: 1 ? ? ?
? ?MAYD ? Current Record ? ? ?
???? ? ARCHIVODBF = FIELDGET: Funci?n? ??????
?[?? ? ARCHIVONTX = FIELDGET: Funci?n? ??????
? ? ? CLAVE = FIELDGET: Funci?n? ? ?
? ???????????????????????????????????????????????????????????????????????? ?
?> ?
????????????????????????????????????????????????????????????????????????????????




From mbelgrano at deltain.it  Mon Nov  9 10:26:25 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov  9 10:26:54 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <EEA28DDB-DE7A-4BA7-9D0A-4A600FEA95AC@windtelsoft.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com> 
	<6943770e0911090615x28d13bfbl676ac8ff53be2797@mail.gmail.com> 
	<609353e70911090649gd9793b4k146f0cfd1f1dfaea@mail.gmail.com> 
	<EEA28DDB-DE7A-4BA7-9D0A-4A600FEA95AC@windtelsoft.com>
Message-ID: <609353e70911090726p258199eah59b341697f5140b5@mail.gmail.com>

In my message i have only informed a huser on presence of an  active group
and not redirected user who search assistence
This is my point of view

please we must find a right way

sourceforge way is slow


2009/11/9 Teo Fonrouge <teo@windtelsoft.com>

>
> On Nov 9, 2009, at 8:49 AM, Massimo Belgrano wrote:
>
> if Your search an active harbour group:i  suggest visit at http://www.
> hmgforum.com/viewforum.php?f=7
> is present  also Wiki for harbour at http://www.<http://www.hmgforum.com/wiki>
> hmgforum <http://www.hmgforum.com/wiki>.com/<http://www.hmgforum.com/wiki>
> wiki <http://www.hmgforum.com/wiki>
>  <http://www.hmgforum.com/wiki>
>
> 2009/11/9 francesco perillo <fperillo@gmail.com>
>
>> I just joined the harbour community after a long time in xHarbour (and
>> hwgui)...
>>
>> I'm willing to contribute in some ways but I don't know where to post
>> code snippets/howto and other stuff....
>>
>> For example I'm going to install mingw one of these days and I may
>> create a small how-to with updated infos... but then, where to post it
>> ? Here ?
>>
>> Probably a wiki is the best solution...
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
> Hello Massimo,
>
> Following are a quote from a recent answer from you:
>
> /* BEGIN QUOTE */
>
> Yes i not  redirecting users.
> and still sorry
> i made error due to much harbour love
>
>
>> I'd like to ask you to hold off redirecting users
>> until we make a final decision on this.
>>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>


-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/d32b7c75/attachment.html
From druzus at users.sourceforge.net  Mon Nov  9 10:26:58 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Nov  9 10:27:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12839] trunk/harbour
Message-ID: <E1N7W8w-00089H-Ez@3kljzd1.ch3.sourceforge.com>

Revision: 12839
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12839&view=rev
Author:   druzus
Date:     2009-11-09 15:26:57 +0000 (Mon, 09 Nov 2009)

Log Message:
-----------
2009-11-09 16:26 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/win/bcc.mk
    * increased library page size for 64 to 96

  * harbour/src/vm/thread.c
  * harbour/include/hbthread.h
    % removed 'BOOL fSync' parameter from hb_threadMutexCreate().
      This parameter was added in the past to emulate xbase++ behavior
      when oSignal:wait() is called from SYNC method but real life tests
      shows that such feature works in xbase++ in different way then
      it was initially described and Harbour code was updated to use
      different solution making above parameter unusable.

  * harbour/src/vm/hvm.c
  * harbour/src/vm/thread.c
  * harbour/src/vm/classes.c
  * harbour/src/rtl/hbgtcore.c
  * harbour/contrib/hbnetio/netiocli.c
  * harbour/contrib/hbqt/hbqt_slots.cpp
    * updated to use hb_threadMutexCreate() without parameters

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/contrib/hbnetio/netiocli.c
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/include/hbthread.h
    trunk/harbour/src/rtl/hbgtcore.c
    trunk/harbour/src/vm/classes.c
    trunk/harbour/src/vm/hvm.c
    trunk/harbour/src/vm/thread.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mhsabado at gmail.com  Mon Nov  9 10:33:26 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Mon Nov  9 10:33:43 2009
Subject: [Harbour] Re: DbSeek() Problem with latest SVN
In-Reply-To: <4af830ae.0e08c00a.2725.73a0SMTPIN_ADDED@mx.google.com>
References: <4af830ae.0e08c00a.2725.73a0SMTPIN_ADDED@mx.google.com>
Message-ID: <4AF83646.4080906@gmail.com>

Hi Przemek,
> Message: 2
> Date: Mon, 9 Nov 2009 13:28:00 +0100
> From: Przemys?aw Czerpak <druzus@acn.waw.pl>
> Subject: Re: [Harbour] Re: DbSeek() Problem with latest SVN
> To: "Harbour Project Main Developer List."
> 	<harbour@harbour-project.org>
> Message-ID: <20091109122800.GB28858@34-mo7-2.home.aster.pl>
> Content-Type: text/plain; charset=utf-8
>
> On Mon, 09 Nov 2009, Mario H. Sabado wrote:
>
> Hi Mario,
>
>   
>>> > >I had encountered problem with the latest SVN with DbSeek(). It
>>> > >always return .F. in my case after reindexing and re-creating
>>> > >index.   I'm using DBFNTX and BCC62 under WinXP SP3.
>>> > >Thanks for any advise.
>>>       
>> > I'm guessing it does not accept partial index key?  For example I
>> > have an index key of ACCT_SRC+ACCT_NO and I only specify a valid
>> > value for ACCT_SRC will always return .F.  Same case with single
>> > index key using partial valid value returns .F.
>>     
>
> Please test it after:
>
> 2009-11-09 13:23 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/src/rtl/cdpapi.c
>     ! fixed very bad typo in new CDP API code - hb_cdpnDup2() was not updating
>       original string size. This bug was critical for RDDs.
>
> It was very serious bug, i.e. in DBF tables chr(0) was stored for each
> string shorter then field size and in DBFNTX such chr(0) was stored in
> index key used for seek.
>
> Many bad side effects due to missed '* pulDst = ' in cdpapi.c[1364]  :( 
>
> best regards,
> Przemek
>   
It now works fine as after above modification.  Thank you very much for 
the usual support.

Best regards,
Mario
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/1212b686/attachment-0001.html
From mhsabado at gmail.com  Mon Nov  9 10:36:26 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Mon Nov  9 10:36:40 2009
Subject: [Harbour] Re: DbSeek() Problem with latest SVN
In-Reply-To: <4af830ae.0e08c00a.2725.73a0SMTPIN_ADDED@mx.google.com>
References: <4af830ae.0e08c00a.2725.73a0SMTPIN_ADDED@mx.google.com>
Message-ID: <4AF836FA.2040607@gmail.com>

Hello Barry,
> Message: 3
> Date: Mon, 09 Nov 2009 12:31:41 +0000
> From: Barry Jackson <zen25000@zen.co.uk>
> Subject: Re: [Harbour] Re: DbSeek() Problem with latest SVN
> To: harbour@harbour-project.org
> Message-ID: <4AF80BAD.1050707@zen.co.uk>
> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>
> On 09/11/09 06:40, Mario H. Sabado wrote:
>   
>> > Hi Przemek,
>> >
>> > Mario H. Sabado wrote:
>>     
>>> >> Hi Przemek,
>>> >>
>>> >> I had encountered problem with the latest SVN with DbSeek(). It always
>>> >> return .F. in my case after reindexing and re-creating index. I'm
>>> >> using DBFNTX and BCC62 under WinXP SP3.
>>> >> Thanks for any advise.
>>> >>
>>> >> Best regards,
>>> >> Mario
>>> >>
>>>       
>> > I'm guessing it does not accept partial index key? For example I have an
>> > index key of ACCT_SRC+ACCT_NO and I only specify a valid value for
>> > ACCT_SRC will always return .F. Same case with single index key using
>> > partial valid value returns .F.
>> >
>> > Thanks,
>> > Mario
>> > _______________________________________________
>> > Harbour mailing list
>> > Harbour@harbour-project.org
>> > http://lists.harbour-project.org/mailman/listinfo/harbour
>> >
>>     
> If SOFTSEEK is .T. or lsoftseek .T. is passed to dbseek() then the 
> record pointer will land on the record you need. A check of eof()=.F. 
> will indicate whether a partial match was found. Otherwise eof() returns .T.
> HTH
>   
Thank you for the suggestion.  Greatly appreciated.  It was already 
fixed by Przemek's recent update.

Best regards,
Mario
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/cc1df347/attachment.html
From teo at windtelsoft.com  Mon Nov  9 10:38:08 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Mon Nov  9 10:38:16 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <609353e70911090726p258199eah59b341697f5140b5@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
	<6943770e0911090615x28d13bfbl676ac8ff53be2797@mail.gmail.com>
	<609353e70911090649gd9793b4k146f0cfd1f1dfaea@mail.gmail.com>
	<EEA28DDB-DE7A-4BA7-9D0A-4A600FEA95AC@windtelsoft.com>
	<609353e70911090726p258199eah59b341697f5140b5@mail.gmail.com>
Message-ID: <6924E39B-AD79-4254-8852-82C3BFD5ED1E@windtelsoft.com>


On Nov 9, 2009, at 9:26 AM, Massimo Belgrano wrote:

> In my message i have only informed a huser on presence of an  active  
> group
> and not redirected user who search assistence
> This is my point of view

Ok, then why are you repeating your point of view again and again ( at  
least in the same thread ) ?

>
> please we must find a right way

I agree, then lets construct a procedure to do it orderly.

>
> sourceforge way is slow

I just post a reply there and to me, the only thing slow now is the  
delayed answers (if any).

[snip]


best regards,

Teo

From bedipritpal at hotmail.com  Mon Nov  9 10:39:22 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Nov  9 10:39:29 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
References: <A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
Message-ID: <26268453.post@talk.nabble.com>


Hello 


Viktor Szak?ts wrote:
> 
> So to sum up technical problems, the only one which I believe is reasoned
> is the speed of our sf.net forum compared to others.
> 
> I think that slow performance alone isn't a reason to chose other forums,
> unless there is someone who's willing to maintain a similar one with
> similar
> 
> features but better performance. We have no such offer ATM.
> 
> Aside from technical aspects (and that's what I really meant as a base
> for discussion), the main point is active community with answers (as
> Chen rightly said), which means volunteer participants.
> 
> Our forum has ~50 registered users, hmgforum has about ~100. The message
> count is much higher, but the size of the community isn't so big.
> 
> Just thoughts. For sure if nobody is willing to pass the knowledge he got
> for free here, we will have a hard time building any sort of active
> Harbour
> support community, and that's something ALL users should be aware of.
> 
> I see many ppl. coming by and asking for free docs (prefereably in his
> own language), free support, free this and free that, but what nobody
> seems
> to realize is that free stuff comes only from contributions. It's not
> there
> by
> magic. In a healthy community which wants to stay afloat on the longer
> run,
> it's actually required that everyone who TAKES also GIVES something.
> Everyone should decide what is that he can give to the community, being
> it 5 bucks, being it a little background research, support answers,
> patches,
> writing docs or code, small or large it doesn't really matter, but until
> we
> have ~10 ppl participating actively and a couple committing all the code,
> chances
> are very high that we're seeking impossible goal when trying to build f.e.
> an active support forum. Simple reason is that ~10 ppl cannot do all these
> tasks.
> 
> Please think about this, and try to find a way you can help, after all,
> you
> got an excellent, stable, robust, feature-rich and industrial level
> product
> *for
> free*, which can help to even create profit (cash), save time (which is
> also
> 
> money). In such case it's not devil to ask to return some of these
> benefits
> to the product itself to keep it alive and well on the long run. I'm sure
> it's
> everyone's interest to not let the project just vanish.
> 

Very well said, Viktor.

The problem is everybody wants something for free but nobody want 
to pay back, in any manner whatsoever.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/Fwd%3A--Viktor--Suggestions-on-How-to-Get-Help-tp26217598p26268453.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Mon Nov  9 10:42:32 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov  9 10:42:59 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <6924E39B-AD79-4254-8852-82C3BFD5ED1E@windtelsoft.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com> 
	<6943770e0911090615x28d13bfbl676ac8ff53be2797@mail.gmail.com> 
	<609353e70911090649gd9793b4k146f0cfd1f1dfaea@mail.gmail.com> 
	<EEA28DDB-DE7A-4BA7-9D0A-4A600FEA95AC@windtelsoft.com>
	<609353e70911090726p258199eah59b341697f5140b5@mail.gmail.com> 
	<6924E39B-AD79-4254-8852-82C3BFD5ED1E@windtelsoft.com>
Message-ID: <609353e70911090742l5c24026ft1f37635cae75d77a@mail.gmail.com>

Because a new user (fperillo)
will follow tread from today
i have made a search first post

But the question is not my messages
How can we help harbour comunity?

2009/11/9 Teo Fonrouge <teo@windtelsoft.com>:
>
> On Nov 9, 2009, at 9:26 AM, Massimo Belgrano wrote:
>
>> In my message i have only informed a huser on presence of an ?active group
>> and not redirected user who search assistence
>> This is my point of view
>
> Ok, then why are you repeating your point of view again and again ( at least
> in the same thread ) ?
>
>>
>> please we must find a right way
>
> I agree, then lets construct a procedure to do it orderly.
>
>>
>> sourceforge way is slow
>
> I just post a reply there and to me, the only thing slow now is the delayed
> answers (if any).
>
> [snip]
>
>
> best regards,
>
> Teo
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From zen25000 at zen.co.uk  Mon Nov  9 10:46:52 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Mon Nov  9 10:47:00 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <9DD3A8AF-F65C-4358-A4D0-6146A666CEEF@windtelsoft.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
	<6943770e0911090615x28d13bfbl676ac8ff53be2797@mail.gmail.com>
	<609353e70911090649gd9793b4k146f0cfd1f1dfaea@mail.gmail.com>
	<4AF8323B.8010605@zen.co.uk>
	<9DD3A8AF-F65C-4358-A4D0-6146A666CEEF@windtelsoft.com>
Message-ID: <4AF8396C.9040106@zen.co.uk>

On 09/11/09 15:22, Teo Fonrouge wrote:
>
> On Nov 9, 2009, at 9:16 AM, Barry Jackson wrote:
>
>> On 09/11/09 14:49, Massimo Belgrano wrote:
>>> if Your search an active harbour group:i suggest visit at
>>> http://www.hmgforum.com/viewforum.php?f=7
>>> <http://www.hmgforum.com/viewforum.php?f=7>
>>> is present also Wiki for harbour at http://www.
>>> <http://www.hmgforum.com/wiki>hmgforum
>>> <http://www.hmgforum.com/wiki>.com/ <http://www.hmgforum.com/wiki>wiki
>>> <http://www.hmgforum.com/wiki>
>>> <http://www.hmgforum.com/wiki>
>>>
>>> 2009/11/9 francesco perillo <fperillo@gmail.com
>>> <mailto:fperillo@gmail.com>>
>>>
>>> I just joined the harbour community after a long time in xHarbour
>>> (and hwgui)...
>>>
>>> I'm willing to contribute in some ways but I don't know where to post
>>> code snippets/howto and other stuff....
>>>
>>> For example I'm going to install mingw one of these days and I may
>>> create a small how-to with updated infos... but then, where to post it
>>> ? Here ?
>>>
>>> Probably a wiki is the best solution...
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>>
>>>
>>>
>>> --
>>> Massimo Belgrano
>>>
>>>
>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> Massimo,
>> Why are you driving people away from the forum rather than encouraging
>> them to visit and use it?
>> You have a prominent post in the forum telling people who want advice
>> to go elsewhere. No wonder there is little activity there.
>> Viktor is correct - the best forums are the ones where long time
>> members are seen to take the trouble to help others - and I don't mean
>> the developers - they don't have the time.
>> I wish I had more knowledge and could do more to help, but my age is
>> now agaist my ever keeping up with developments :-(
>> I do my best to promote Harbour in the Mandriva Linux community.
>> In the meantime if someone could cast an eye over this I would
>> appreciate it. :-)
>> https://sourceforge.net/apps/phpbb/harbour-project/viewtopic.php?p=75#p75
>
> Hello Barry, I just answered to barjac and I'll try to help him to solve
> the problem.
>
>
> best regards,
>
> Teo
>
>
Thanks Teo - I just tried to reply in the forum, but it's trying to 
redirect somewhere and failing.  On one occasion it ended up at HBM 
Forum so I don't know what has been done.
I tried with hbmk2 first - same problem, and no SELinux. Mandriva has 
msec which is it's own security system and I also tried disabling that 
with no difference.
I thought at first that I had some old env vars set up in bash profile 
that were causing path problems, so I cleaned them out and re-built 
Harbour. I can build xhgtk rpms, which need Harbour installed to build, 
so there is nothing inherently wrong with the installation.
I will try a new build in an older Mandriva installation later on, and 
try the forum again.
Cheers, Barry
From sscc at mweb.co.za  Mon Nov  9 10:48:06 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Nov  9 10:48:09 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
Message-ID: <4AF839B6.4010107@mweb.co.za>

Viktor Szak?ts wrote:

>
> So to sum up technical problems, the only one which I believe is reasoned
> is the speed of our sf.net <http://sf.net> forum compared to others.
>
> I think that slow performance alone isn't a reason to chose other forums,
> unless there is someone who's willing to maintain a similar one with
> similar
> features but better performance. We have no such offer ATM.

I dislike forums - for starters you have to remember to go there, with e-mail it 
just arrives. If this is a done deal, so be it, but I like:

	Harbour-users@harbour-project.org

Regards
Alex

From teo at windtelsoft.com  Mon Nov  9 10:52:37 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Mon Nov  9 10:52:47 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <609353e70911090742l5c24026ft1f37635cae75d77a@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
	<6943770e0911090615x28d13bfbl676ac8ff53be2797@mail.gmail.com>
	<609353e70911090649gd9793b4k146f0cfd1f1dfaea@mail.gmail.com>
	<EEA28DDB-DE7A-4BA7-9D0A-4A600FEA95AC@windtelsoft.com>
	<609353e70911090726p258199eah59b341697f5140b5@mail.gmail.com>
	<6924E39B-AD79-4254-8852-82C3BFD5ED1E@windtelsoft.com>
	<609353e70911090742l5c24026ft1f37635cae75d77a@mail.gmail.com>
Message-ID: <D4FF975F-AC4C-489F-BCD5-790CBBF63B59@windtelsoft.com>


On Nov 9, 2009, at 9:42 AM, Massimo Belgrano wrote:

> Because a new user (fperillo)
> will follow tread from today
> i have made a search first post
>
> But the question is not my messages
> How can we help harbour comunity?

I believe that Viktor already made a very good proposal in this very  
thread.

 From my side, I'll start to regularly check the SF Harbour forum in  
order to help users there.

[snip]

best regards,

Teo

From druzus at users.sourceforge.net  Mon Nov  9 11:33:45 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Nov  9 11:33:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12840] trunk/harbour
Message-ID: <E1N7XBZ-0000tj-Fv@3kljzd1.ch3.sourceforge.com>

Revision: 12840
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12840&view=rev
Author:   druzus
Date:     2009-11-09 16:33:44 +0000 (Mon, 09 Nov 2009)

Log Message:
-----------
2009-11-09 17:33 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    ! added links with full version number to harbour shared library
      It fixes problem with Harbour tools linked with libharbour-*.so
      in system wide installation (i.e. in RPM or DEB packages)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Mon Nov  9 11:37:10 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov  9 11:37:36 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <D4FF975F-AC4C-489F-BCD5-790CBBF63B59@windtelsoft.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com> 
	<6943770e0911090615x28d13bfbl676ac8ff53be2797@mail.gmail.com> 
	<609353e70911090649gd9793b4k146f0cfd1f1dfaea@mail.gmail.com> 
	<EEA28DDB-DE7A-4BA7-9D0A-4A600FEA95AC@windtelsoft.com>
	<609353e70911090726p258199eah59b341697f5140b5@mail.gmail.com> 
	<6924E39B-AD79-4254-8852-82C3BFD5ED1E@windtelsoft.com>
	<609353e70911090742l5c24026ft1f37635cae75d77a@mail.gmail.com> 
	<D4FF975F-AC4C-489F-BCD5-790CBBF63B59@windtelsoft.com>
Message-ID: <609353e70911090837h5e12eb74t61950ea4994ab37@mail.gmail.com>

Hi teo
Well i made same proposal :
I'll start to regularly check the SF Harbour forum
>Harbour says the best way to get help with its software is by visiting >http://sourceforge.net/apps/phpbb/harbour-project/.
IS slow (8 sec to open) create login page in 10 second
is difficult understand that the login is not internal login but the
sourceforge in first row
IMO we lost user in first steep

> I believe that Viktor already made a very good proposal in this very thread.
>
> From my side, I'll start to regularly check the SF Harbour forum in order to
> help users there.
>
> [snip]
>
> best regards,
>
> Teo
>


-- 
Massimo Belgrano
From teo at windtelsoft.com  Mon Nov  9 11:37:30 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Mon Nov  9 11:37:42 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <4AF8396C.9040106@zen.co.uk>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
	<6943770e0911090615x28d13bfbl676ac8ff53be2797@mail.gmail.com>
	<609353e70911090649gd9793b4k146f0cfd1f1dfaea@mail.gmail.com>
	<4AF8323B.8010605@zen.co.uk>
	<9DD3A8AF-F65C-4358-A4D0-6146A666CEEF@windtelsoft.com>
	<4AF8396C.9040106@zen.co.uk>
Message-ID: <2BB9C569-6135-4CE0-8FC6-6F350E1080C5@windtelsoft.com>


On Nov 9, 2009, at 9:46 AM, Barry Jackson wrote:

> On 09/11/09 15:22, Teo Fonrouge wrote:
>>
>> On Nov 9, 2009, at 9:16 AM, Barry Jackson wrote:
>>
>>> On 09/11/09 14:49, Massimo Belgrano wrote:

[snip]

>>
>>
> Thanks Teo - I just tried to reply in the forum, but it's trying to  
> redirect somewhere and failing.  On one occasion it ended up at HBM  
> Forum so I don't know what has been done.

Weird.

> I tried with hbmk2 first - same problem, and no SELinux. Mandriva  
> has msec which is it's own security system and I also tried  
> disabling that with no difference.

ok, then let's discard this as option.

> I thought at first that I had some old env vars set up in bash  
> profile that were causing path problems, so I cleaned them out and  
> re-built Harbour. I can build xhgtk rpms, which need Harbour  
> installed to build, so there is nothing inherently

I think that you only generates the xhgtk libraries, you only need  
Harbour bin/headers and there is not need for libharbour at this stage.

> wrong with the installation.
> I will try a new build in an older Mandriva installation later on,  
> and try the forum again.

Have you checked that you don't have multiple Harbour libs installed   
(/usr/lib/harbour/ , /usr/local/lib/harbour ) ?

What's the output of:

$ find /usr/ -name "libharbour*"



best regards,

Teo

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/6feffd66/attachment.html
From snaiperis at users.sourceforge.net  Mon Nov  9 11:48:33 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Mon Nov  9 11:48:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12841] trunk/harbour
Message-ID: <E1N7XPt-0001JP-Vi@3kljzd1.ch3.sourceforge.com>

Revision: 12841
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12841&view=rev
Author:   snaiperis
Date:     2009-11-09 16:48:32 +0000 (Mon, 09 Nov 2009)

Log Message:
-----------
2009-11-09 18:45 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/rddads/adsx.c
  * harbour/contrib/rddsql/hbrddsql.h
  * harbour/contrib/rddsql/sqlmix.c
    * updated to use hb_cdpcmp()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/adsx.c
    trunk/harbour/contrib/rddsql/hbrddsql.h
    trunk/harbour/contrib/rddsql/sqlmix.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From teo at windtelsoft.com  Mon Nov  9 11:52:42 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Mon Nov  9 11:52:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12840] trunk/harbour
In-Reply-To: <E1N7XBZ-0000tj-Fv@3kljzd1.ch3.sourceforge.com>
References: <E1N7XBZ-0000tj-Fv@3kljzd1.ch3.sourceforge.com>
Message-ID: <3C4D129D-B965-4C5C-ABF6-777394388A90@windtelsoft.com>


On Nov 9, 2009, at 10:33 AM, druzus@users.sourceforge.net wrote:

> Revision: 12840
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12840&view=rev
> Author:   druzus
> Date:     2009-11-09 16:33:44 +0000 (Mon, 09 Nov 2009)
>
> Log Message:
> -----------
> 2009-11-09 17:33 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/bin/hb-func.sh
>    ! added links with full version number to harbour shared library
>      It fixes problem with Harbour tools linked with libharbour-*.so
>      in system wide installation (i.e. in RPM or DEB packages)

Thank you Przemek.


best regards,

Teo

From teo at windtelsoft.com  Mon Nov  9 11:55:15 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Mon Nov  9 11:55:27 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <4AF8396C.9040106@zen.co.uk>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
	<6943770e0911090615x28d13bfbl676ac8ff53be2797@mail.gmail.com>
	<609353e70911090649gd9793b4k146f0cfd1f1dfaea@mail.gmail.com>
	<4AF8323B.8010605@zen.co.uk>
	<9DD3A8AF-F65C-4358-A4D0-6146A666CEEF@windtelsoft.com>
	<4AF8396C.9040106@zen.co.uk>
Message-ID: <D713883C-0587-486C-B5F7-703F9183DA9D@windtelsoft.com>


On Nov 9, 2009, at 9:46 AM, Barry Jackson wrote:

> On 09/11/09 15:22, Teo Fonrouge wrote:
>>
>> On Nov 9, 2009, at 9:16 AM, Barry Jackson wrote:
>>
>>> On 09/11/09 14:49, Massimo Belgrano wrote:
>>>> if Your search an active harbour group:i suggest visit at
>>>> http://www.hmgforum.com/viewforum.php?f=7
>>>> <http://www.hmgforum.com/viewforum.php?f=7>
>>>> is present also Wiki for harbour at http://www.
>>>> <http://www.hmgforum.com/wiki>hmgforum
>>>> <http://www.hmgforum.com/wiki>.com/ <http://www.hmgforum.com/ 
>>>> wiki>wiki
>>>> <http://www.hmgforum.com/wiki>
>>>> <http://www.hmgforum.com/wiki>
>>>>
>>>> 2009/11/9 francesco perillo <fperillo@gmail.com
>>>> <mailto:fperillo@gmail.com>>
>>>>
>>>> I just joined the harbour community after a long time in xHarbour
>>>> (and hwgui)...
>>>>
>>>> I'm willing to contribute in some ways but I don't know where to  
>>>> post
>>>> code snippets/howto and other stuff....
>>>>
>>>> For example I'm going to install mingw one of these days and I may
>>>> create a small how-to with updated infos... but then, where to  
>>>> post it
>>>> ? Here ?
>>>>
>>>> Probably a wiki is the best solution...
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> Massimo Belgrano
>>>>
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> Harbour mailing list
>>>> Harbour@harbour-project.org
>>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>> Massimo,
>>> Why are you driving people away from the forum rather than  
>>> encouraging
>>> them to visit and use it?
>>> You have a prominent post in the forum telling people who want  
>>> advice
>>> to go elsewhere. No wonder there is little activity there.
>>> Viktor is correct - the best forums are the ones where long time
>>> members are seen to take the trouble to help others - and I don't  
>>> mean
>>> the developers - they don't have the time.
>>> I wish I had more knowledge and could do more to help, but my age is
>>> now agaist my ever keeping up with developments :-(
>>> I do my best to promote Harbour in the Mandriva Linux community.
>>> In the meantime if someone could cast an eye over this I would
>>> appreciate it. :-)
>>> https://sourceforge.net/apps/phpbb/harbour-project/viewtopic.php?p=75#p75
>>
>> Hello Barry, I just answered to barjac and I'll try to help him to  
>> solve
>> the problem.
>>
>>
>> best regards,
>>
>> Teo
>>
>>
> Thanks Teo - I just tried to reply in the forum, but it's trying to  
> redirect somewhere and failing.  On one occasion it ended up at HBM  
> Forum so I don't know what has been done.
> I tried with hbmk2 first - same problem, and no SELinux. Mandriva  
> has msec which is it's own security system and I also tried  
> disabling that with no difference.
> I thought at first that I had some old env vars set up in bash  
> profile that were causing path problems, so I cleaned them out and  
> re-built Harbour. I can build xhgtk rpms, which need Harbour  
> installed to build, so there is nothing inherently wrong with the  
> installation.
> I will try a new build in an older Mandriva installation later on,  
> and try the forum again.
> Cheers, Barry

Barry,

Please try again (rebuild your Harbour rpms) with SVN after this entry:

2009-11-09 17:33 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)


best regards,

Teo

From mbelgrano at deltain.it  Mon Nov  9 12:11:26 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov  9 12:11:53 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <26268453.post@talk.nabble.com>
References: <A1FF56AF-715A-4B0F-AE39-E3A9EED19896@windtelsoft.com> 
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com> 
	<26268453.post@talk.nabble.com>
Message-ID: <609353e70911090911g6a17216erb0258af9cfd2498e@mail.gmail.com>

Hi Pritpal

many people can be in the difficult economic environment of the 2009-2010
I think that harbour project will give string result in next year
Because harbour have a  right product Stable,Powerfull with strong
secret undocumented
Each times that something like xhb-diff.txt is pushed harbour user base grow


>> Please think about this, and try to find a way you can help, after all,
>> you
>> got an excellent, stable, robust, feature-rich and industrial level
>> product
>> *for
>> free*, which can help to even create profit (cash), save time (which is
>> also
>>
>> money). In such case it's not devil to ask to return some of these
>> benefits
>> to the product itself to keep it alive and well on the long run. I'm sure
>> it's
>> everyone's interest to not let the project just vanish.
>>
>
> Very well said, Viktor.
>
> The problem is everybody wants something for free but nobody want
> to pay back, in any manner whatsoever.
>
> Regards
> Pritpal Bedi
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Mon Nov  9 12:12:13 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov  9 12:12:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12841] trunk/harbour
In-Reply-To: <E1N7XPt-0001JP-Vi@3kljzd1.ch3.sourceforge.com>
References: <E1N7XPt-0001JP-Vi@3kljzd1.ch3.sourceforge.com>
Message-ID: <20091109171213.GA2154@34-mo7-2.home.aster.pl>

On Mon, 09 Nov 2009, snaiperis@users.sourceforge.net wrote:
> 2009-11-09 18:45 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
>   * harbour/contrib/rddads/adsx.c
>   * harbour/contrib/rddsql/hbrddsql.h
>   * harbour/contrib/rddsql/sqlmix.c
>     * updated to use hb_cdpcmp()

Thank you,

best regards,
Przemek
From zen25000 at zen.co.uk  Mon Nov  9 13:50:12 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Mon Nov  9 13:50:21 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <D713883C-0587-486C-B5F7-703F9183DA9D@windtelsoft.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
	<6943770e0911090615x28d13bfbl676ac8ff53be2797@mail.gmail.com>
	<609353e70911090649gd9793b4k146f0cfd1f1dfaea@mail.gmail.com>
	<4AF8323B.8010605@zen.co.uk>
	<9DD3A8AF-F65C-4358-A4D0-6146A666CEEF@windtelsoft.com>
	<4AF8396C.9040106@zen.co.uk>
	<D713883C-0587-486C-B5F7-703F9183DA9D@windtelsoft.com>
Message-ID: <4AF86464.2010905@zen.co.uk>

> Barry,
>
> Please try again (rebuild your Harbour rpms) with SVN after this entry:
>
> 2009-11-09 17:33 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>
>
> best regards,
>
> Teo
>

Teo - I have had a reply on the forum from Przemek.
I will clean out everything, update SVN and re-build from scratch.
Thanks again for your help.
Barry.
From zen25000 at zen.co.uk  Mon Nov  9 15:08:00 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Mon Nov  9 15:08:08 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <4AF839B6.4010107@mweb.co.za>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
	<4AF839B6.4010107@mweb.co.za>
Message-ID: <4AF876A0.2060409@zen.co.uk>

On 09/11/09 15:48, Alex Strickland wrote:
> Viktor Szak?ts wrote:
>
>>
>> So to sum up technical problems, the only one which I believe is reasoned
>> is the speed of our sf.net <http://sf.net> forum compared to others.
>>
>> I think that slow performance alone isn't a reason to chose other forums,

It's not just slow for me it won't allow me to reply - I tried two 
different browsers:-

The requested operation could not be completed
Cyclic Link Detected
Details of the Request:
URL: 
https://sourceforge.net/apps/phpbb/harbour-project/posting.php?mode=reply&f=3&t=22
Protocol: https
Date and Time: Monday 09 Nov 2009 19:59
Additional Information: 
https://sourceforge.net/apps/phpbb/harbour-project/posting.php?mode=reply&f=3&t=22
Description:
UNIX environments are commonly able to link a file or folder to a 
separate name and/or location. KDE detected a link or series of links 
that results in an infinite loop - i.e. the file was (perhaps in a 
roundabout way) linked to itself.
Possible Solutions:
Delete one part of the loop in order that it does not cause an infinite 
loop, and try again.
Contact your appropriate computer support system, whether the system 
administrator, or technical support group for further assistance.

I have tried today with both Firefox 3.5.5 and Konqueror 4.3.2 in KDE 4.3.2

The above error is from Konqueror as it looks more useful.
From zen25000 at zen.co.uk  Mon Nov  9 15:20:28 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Mon Nov  9 15:20:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12840] trunk/harbour
In-Reply-To: <3C4D129D-B965-4C5C-ABF6-777394388A90@windtelsoft.com>
References: <E1N7XBZ-0000tj-Fv@3kljzd1.ch3.sourceforge.com>
	<3C4D129D-B965-4C5C-ABF6-777394388A90@windtelsoft.com>
Message-ID: <4AF8798C.9040003@zen.co.uk>

On 09/11/09 16:52, Teo Fonrouge wrote:
>
> On Nov 9, 2009, at 10:33 AM, druzus@users.sourceforge.net wrote:
>
>> Revision: 12840
>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12840&view=rev
>>
>> Author: druzus
>> Date: 2009-11-09 16:33:44 +0000 (Mon, 09 Nov 2009)
>>
>> Log Message:
>> -----------
>> 2009-11-09 17:33 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>> * harbour/bin/hb-func.sh
>> ! added links with full version number to harbour shared library
>> It fixes problem with Harbour tools linked with libharbour-*.so
>> in system wide installation (i.e. in RPM or DEB packages)
>
> Thank you Przemek.
>
>
> best regards,
>
> Teo
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>

Przemek,
Thanks for your reply to my forum question, however the forum reply 
feature is broken for me so I am replying here.  ( reported elsewhere in 
list )

hbrun now works but there is a linker problem using hbmk2

[baz@jackodesktop hbr]$ hbmk2 char.prg
hbmk2: Processing configuration: /usr/bin/hbmk.cfg
Harbour 2.0.0beta3 (Rev. 12841)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'char.prg'...
Lines 101, Functions/Procedures 1
Generating C source output to 'char.c'... Done.
/usr/bin/ld: cannot find -lhbcplr
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc char.o hbmk_kuj3v0.o   -Wl,--start-group -lhbcplr -lhbdebug 
-lharbour  -Wl,--end-group -ochar -L/usr/lib/harbour

Cheers, Barry
From druzus at users.sourceforge.net  Mon Nov  9 15:23:03 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Nov  9 15:23:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12842] trunk/harbour
Message-ID: <E1N7alT-0008S3-8N@c3vjzd1.ch3.sourceforge.com>

Revision: 12842
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12842&view=rev
Author:   druzus
Date:     2009-11-09 20:22:48 +0000 (Mon, 09 Nov 2009)

Log Message:
-----------
2009-11-09 21:18 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/ChangeLog
    * marked last TOFIX note as [DONE] - thanks to Mindaugas

  * harbour/src/rtl/cdpapi.c
    * use 1-st upper<->lower conversion pair instead of last one
      if more then one conversion pair exist - it's more natural
      form in most of cases
    % skip translation code when two different CDP modules use
      the same Unicode table

  * harbour/tests/cpinfo.prg
    + detect CPs which have corresponding upper or lower characters
      for non alpha characters and inform about it.
      Such situations is in NTXSPA.OBJ so such CP can be fully
      replicated in Harbour using alternative CP definition only
      which uses static tables.

  * harbour/src/codepage/cpes850c.c
  * harbour/src/codepage/cpesisoc.c
  * harbour/src/codepage/cpeswinc.c
    ! removed the hack with changed order for characters which do not
      have corresponding upper latter.
      Now there is only one difference between ES850C and Clipper NTXSPA.OBJ
      In NTXSPA 'UPPER( Chr( 163 ) )' gives "U" though Chr( 163 ) is not
      marked as letter and not sorted with other letters. For me it looks
      like a bug anyhow if you want to fully replicate NTXSPA.OBJ in Harbour
      then current cpes850c.c code should be replaced by code generated
      using tests/cpinfo.prg compiler by clipper and linked with ntxspa.obj.
      Such code should be generated using:
         cpinfo.exe es850c "Spanish CP-850 (ntxspa.obj compatible)" 850

      Now translations can be done between CPs using different number of
      letters or even defined for different languages so I have question
      to Spanish users: Do you need ESISOC and ESWINC for anything?
      If not then I would like to remove them.
      Similar situation is with HUISOS and HUWINS.

  * harbour/include/hbapicdp.h
  * harbour/src/rtl/cdpapi.c
  * harbour/src/codepage/ucmacce.c
  * harbour/src/codepage/uckoi8.c
  * harbour/src/codepage/uc885910.c
  * harbour/src/codepage/ucmacice.c
  * harbour/src/codepage/uc885914.c
  * harbour/src/codepage/uc874.c
  * harbour/src/codepage/uc857.c
  * harbour/src/codepage/uc1250.c
  * harbour/src/codepage/uc1254.c
  * harbour/src/codepage/uc1258.c
  * harbour/src/codepage/uckoi8u.c
  * harbour/src/codepage/uckam.c
  * harbour/src/codepage/uc424.c
  * harbour/src/codepage/ucmacrom.c
  * harbour/src/codepage/uc862.c
  * harbour/src/codepage/cpesisoc.c
  * harbour/src/codepage/uc866.c
  * harbour/src/codepage/uc8859_3.c
  * harbour/src/codepage/cpes850c.c
  * harbour/src/codepage/uc8859_7.c
  * harbour/src/codepage/ucmacgrk.c
  * harbour/src/codepage/uc037.c
  * harbour/src/codepage/uc850.c
  * harbour/src/codepage/uc885911.c
  * harbour/src/codepage/uc885915.c
  * harbour/src/codepage/uc875.c
  * harbour/src/codepage/uc1251.c
  * harbour/src/codepage/uc1255.c
  * harbour/src/codepage/uc863.c
  * harbour/src/codepage/ucmaz.c
  * harbour/src/codepage/uc1026.c
  * harbour/src/codepage/uc8859_4.c
  * harbour/src/codepage/uc8859_8.c
  * harbour/src/codepage/uc855.c
  * harbour/src/codepage/cpeswinc.c
  * harbour/src/codepage/uc885916.c
  * harbour/src/codepage/ucascii.c
  * harbour/src/codepage/uc1252.c
  * harbour/src/codepage/uc1256.c
  * harbour/src/codepage/ucatari.c
  * harbour/src/codepage/uc860.c
  * harbour/src/codepage/ucmaccyr.c
  * harbour/src/codepage/ucmik.c
  * harbour/src/codepage/uc864.c
  * harbour/src/codepage/uc1006.c
  * harbour/src/codepage/uc1125.c
  * harbour/src/codepage/uc8859_1.c
  * harbour/src/codepage/uc88591b.c
  * harbour/src/codepage/uc8859_5.c
  * harbour/src/codepage/uc8859_9.c
  * harbour/src/codepage/uc852.c
  * harbour/src/codepage/ucnext.c
  * harbour/src/codepage/uc737.c
  * harbour/src/codepage/uc885913.c
  * harbour/src/codepage/ucmactrk.c
  * harbour/src/codepage/uc856.c
  * harbour/src/codepage/uc775.c
  * harbour/src/codepage/uc1253.c
  * harbour/src/codepage/uc1257.c
  * harbour/src/codepage/uc500.c
  * harbour/src/codepage/uc861.c
  * harbour/src/codepage/uc865.c
  * harbour/src/codepage/uc869.c
  * harbour/src/codepage/uc8859_2.c
  * harbour/src/codepage/uc8859_6.c
    % declare Unicode tables with 'const' qualifier

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/src/codepage/cpes850c.c
    trunk/harbour/src/codepage/cpesisoc.c
    trunk/harbour/src/codepage/cpeswinc.c
    trunk/harbour/src/codepage/uc037.c
    trunk/harbour/src/codepage/uc1006.c
    trunk/harbour/src/codepage/uc1026.c
    trunk/harbour/src/codepage/uc1125.c
    trunk/harbour/src/codepage/uc1250.c
    trunk/harbour/src/codepage/uc1251.c
    trunk/harbour/src/codepage/uc1252.c
    trunk/harbour/src/codepage/uc1253.c
    trunk/harbour/src/codepage/uc1254.c
    trunk/harbour/src/codepage/uc1255.c
    trunk/harbour/src/codepage/uc1256.c
    trunk/harbour/src/codepage/uc1257.c
    trunk/harbour/src/codepage/uc1258.c
    trunk/harbour/src/codepage/uc424.c
    trunk/harbour/src/codepage/uc500.c
    trunk/harbour/src/codepage/uc737.c
    trunk/harbour/src/codepage/uc775.c
    trunk/harbour/src/codepage/uc850.c
    trunk/harbour/src/codepage/uc852.c
    trunk/harbour/src/codepage/uc855.c
    trunk/harbour/src/codepage/uc856.c
    trunk/harbour/src/codepage/uc857.c
    trunk/harbour/src/codepage/uc860.c
    trunk/harbour/src/codepage/uc861.c
    trunk/harbour/src/codepage/uc862.c
    trunk/harbour/src/codepage/uc863.c
    trunk/harbour/src/codepage/uc864.c
    trunk/harbour/src/codepage/uc865.c
    trunk/harbour/src/codepage/uc866.c
    trunk/harbour/src/codepage/uc869.c
    trunk/harbour/src/codepage/uc874.c
    trunk/harbour/src/codepage/uc875.c
    trunk/harbour/src/codepage/uc885910.c
    trunk/harbour/src/codepage/uc885911.c
    trunk/harbour/src/codepage/uc885913.c
    trunk/harbour/src/codepage/uc885914.c
    trunk/harbour/src/codepage/uc885915.c
    trunk/harbour/src/codepage/uc885916.c
    trunk/harbour/src/codepage/uc88591b.c
    trunk/harbour/src/codepage/uc8859_1.c
    trunk/harbour/src/codepage/uc8859_2.c
    trunk/harbour/src/codepage/uc8859_3.c
    trunk/harbour/src/codepage/uc8859_4.c
    trunk/harbour/src/codepage/uc8859_5.c
    trunk/harbour/src/codepage/uc8859_6.c
    trunk/harbour/src/codepage/uc8859_7.c
    trunk/harbour/src/codepage/uc8859_8.c
    trunk/harbour/src/codepage/uc8859_9.c
    trunk/harbour/src/codepage/ucascii.c
    trunk/harbour/src/codepage/ucatari.c
    trunk/harbour/src/codepage/uckam.c
    trunk/harbour/src/codepage/uckoi8.c
    trunk/harbour/src/codepage/uckoi8u.c
    trunk/harbour/src/codepage/ucmacce.c
    trunk/harbour/src/codepage/ucmaccyr.c
    trunk/harbour/src/codepage/ucmacgrk.c
    trunk/harbour/src/codepage/ucmacice.c
    trunk/harbour/src/codepage/ucmacrom.c
    trunk/harbour/src/codepage/ucmactrk.c
    trunk/harbour/src/codepage/ucmaz.c
    trunk/harbour/src/codepage/ucmik.c
    trunk/harbour/src/codepage/ucnext.c
    trunk/harbour/src/rtl/cdpapi.c
    trunk/harbour/tests/cpinfo.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Nov  9 15:34:52 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov  9 15:34:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12840] trunk/harbour
In-Reply-To: <4AF8798C.9040003@zen.co.uk>
References: <E1N7XBZ-0000tj-Fv@3kljzd1.ch3.sourceforge.com>
	<3C4D129D-B965-4C5C-ABF6-777394388A90@windtelsoft.com>
	<4AF8798C.9040003@zen.co.uk>
Message-ID: <20091109203452.GA18954@34-mo7-2.home.aster.pl>

On Mon, 09 Nov 2009, Barry Jackson wrote:

Hi,

> Thanks for your reply to my forum question, however the forum reply
> feature is broken for me so I am replying here.  ( reported
> elsewhere in list )

It's working for me but the speed of this forum is really fatal.
Investing 10 minutes to create few line replay message is over
acceptable limit for me.
Personally I'd prefer using harbour-user@harbour-project.org

> hbrun now works but there is a linker problem using hbmk2

You haven't installed harbour-static-*.rpm.

best regards,
Przemek
From zen25000 at zen.co.uk  Mon Nov  9 16:05:22 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Mon Nov  9 16:05:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12840] trunk/harbour
In-Reply-To: <20091109203452.GA18954@34-mo7-2.home.aster.pl>
References: <E1N7XBZ-0000tj-Fv@3kljzd1.ch3.sourceforge.com>
	<3C4D129D-B965-4C5C-ABF6-777394388A90@windtelsoft.com>
	<4AF8798C.9040003@zen.co.uk>
	<20091109203452.GA18954@34-mo7-2.home.aster.pl>
Message-ID: <4AF88412.3010605@zen.co.uk>

>
> You haven't installed harbour-static-*.rpm.
>
> best regards,
> Przemek
>

True. - Sorry (it was off the screen in the package manager and I missed it)
All working OK now. Thanks again for your help.
Cheers,
Barry
From vszakats at users.sourceforge.net  Mon Nov  9 17:38:59 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov  9 17:39:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12843] trunk/harbour
Message-ID: <E1N7ct1-0003AN-6P@d5vjzd1.ch3.sourceforge.com>

Revision: 12843
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12843&view=rev
Author:   vszakats
Date:     2009-11-09 22:38:57 +0000 (Mon, 09 Nov 2009)

Log Message:
-----------
2009-11-09 23:35 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddads/adsfunc.c
    * Minor cleanup.

  * doc/dirstruc.txt
  * utils/hbmk2/examples/contribf.hbc
  * contrib/Makefile
  - contrib/rddado
  + examples/rddado
  + examples/rddado/rddado.hbp
  - examples/rddado/Makefile
    * Moved rddado from contrib to examples area.
      It's an almost working example.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/Makefile
    trunk/harbour/contrib/rddads/adsfunc.c
    trunk/harbour/doc/dirstruc.txt
    trunk/harbour/utils/hbmk2/examples/contribf.hbc

Added Paths:
-----------
    trunk/harbour/examples/rddado/
    trunk/harbour/examples/rddado/rddado.hbp

Removed Paths:
-------------
    trunk/harbour/contrib/rddado/
    trunk/harbour/examples/rddado/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Nov  9 17:42:33 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov  9 17:42:35 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <609353e70911090837h5e12eb74t61950ea4994ab37@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
	<6943770e0911090615x28d13bfbl676ac8ff53be2797@mail.gmail.com>
	<609353e70911090649gd9793b4k146f0cfd1f1dfaea@mail.gmail.com>
	<EEA28DDB-DE7A-4BA7-9D0A-4A600FEA95AC@windtelsoft.com>
	<609353e70911090726p258199eah59b341697f5140b5@mail.gmail.com>
	<6924E39B-AD79-4254-8852-82C3BFD5ED1E@windtelsoft.com>
	<609353e70911090742l5c24026ft1f37635cae75d77a@mail.gmail.com>
	<D4FF975F-AC4C-489F-BCD5-790CBBF63B59@windtelsoft.com>
	<609353e70911090837h5e12eb74t61950ea4994ab37@mail.gmail.com>
Message-ID: <04FCD118-B035-4BB7-B9B9-6FC678C2D822@syenar.hu>

Did anyone try to fill a bug report for dismal sf.net phpBB performance?

If not: please do so, otherwise sf.net won't hear these complaints.

Brgds,
Viktor

On 2009 Nov 9, at 17:37, Massimo Belgrano wrote:

> Hi teo
> Well i made same proposal :
> I'll start to regularly check the SF Harbour forum
>> Harbour says the best way to get help with its software is by  
>> visiting >http://sourceforge.net/apps/phpbb/harbour-project/.
> IS slow (8 sec to open) create login page in 10 second
> is difficult understand that the login is not internal login but the
> sourceforge in first row
> IMO we lost user in first steep
>
>> I believe that Viktor already made a very good proposal in this  
>> very thread.
>>
>> From my side, I'll start to regularly check the SF Harbour forum in  
>> order to
>> help users there.
>>
>> [snip]
>>
>> best regards,
>>
>> Teo
>>
>
>
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Nov  9 17:44:40 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov  9 17:44:47 2009
Subject: [Harbour] CPU Consumption and hb_idleState()
In-Reply-To: <26256802.post@talk.nabble.com>
References: <26240902.post@talk.nabble.com> <26249073.post@talk.nabble.com>
	<20091108104629.GA26710@34-mo7-2.home.aster.pl>
	<26255827.post@talk.nabble.com>
	<20091108175544.GA14448@34-mo7-2.home.aster.pl>
	<26256802.post@talk.nabble.com>
Message-ID: <20091109224440.GA18865@34-mo7-2.home.aster.pl>

On Sun, 08 Nov 2009, Pritpal Bedi wrote:

Hi,

> Can you do the same test with demoxbp? I am in a better position
> to understand if I get this info about demoxbp than demoqt.

Full log in attachment.
I only run demoxbp and closed it using [x] button.

best regards,
Przemek
-------------- next part --------------
A non-text attachment was scrubbed...
Name: demoxbp-log.zip
Type: application/zip
Size: 13728 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091109/f97d7298/demoxbp-log.zip
From harbour.01 at syenar.hu  Mon Nov  9 17:45:51 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov  9 17:46:05 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <4AF839B6.4010107@mweb.co.za>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
	<4AF839B6.4010107@mweb.co.za>
Message-ID: <96864FA2-D751-489C-814B-A97AE052E294@syenar.hu>

>> I think that slow performance alone isn't a reason to chose other  
>> forums,
>> unless there is someone who's willing to maintain a similar one with
>> similar
>> features but better performance. We have no such offer ATM.
>
> I dislike forums - for starters you have to remember to go there,  
> with e-mail it just arrives. If this is a done deal, so be it, but I  
> like:

And this is also one of its major drawbacks.

Pros and cons have been discussed lots of times, and I'm not
sure we should start over. For one thing forums can have e-mail
notifications or e-mail like interfaces, but I haven't seen the
opposite.

[ Off, since I'm also not sure we should endlessly wonder about
available tools: there exist forums which try to merge the
mailing list and forum concept. Forgot the name though. ]

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Nov  9 17:47:58 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov  9 17:48:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12837] trunk/harbour
In-Reply-To: <E1N7Egs-0004Y4-Jb@bj8yhf1.ch3.sourceforge.com>
References: <E1N7Egs-0004Y4-Jb@bj8yhf1.ch3.sourceforge.com>
Message-ID: <20091109224758.GB18865@34-mo7-2.home.aster.pl>

On Sun, 08 Nov 2009, vouchcac@users.sourceforge.net wrote:

Hi,

> Log Message:
> -----------
> 2009-11-08 12:45 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * contrib/gtwvg/wvgtoolb.prg
>   * contrib/gtwvg/wvgutils.c
>   * contrib/gtwvg/wvgwnd.prg
>     ! Few tweaks. Not so important.

Maybe a little bit ;-)

   ../../../wvgutils.c: In function `HB_FUN_WVT_DLGSETICON':
   ../../../wvgutils.c:1356: warning: passing arg 6 of `LoadImageW' makes integer from pointer without a cast


best regards,
Przemek
From harbour.01 at syenar.hu  Mon Nov  9 18:00:19 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov  9 18:00:32 2009
Subject: [Harbour] Fwd: [Viktor] Suggestions on How to Get Help
In-Reply-To: <98505FD2-E6B5-44F7-A9EE-665A1C0F1055@windtelsoft.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6EF5@Mail-yoq.SYNEL-COMPANY.LTD>
	<18d502870911090334w79a63c8cx30fde2f2e14fe443@mail.gmail.com>
	<98505FD2-E6B5-44F7-A9EE-665A1C0F1055@windtelsoft.com>
Message-ID: <3059C33C-3926-45FB-AFAF-4878CAFBA504@syenar.hu>

Hi Teo,

>> Please think about this, and try to find a way you can help, after  
>> all, you
>> got an excellent, stable, robust, feature-rich and industrial level  
>> product *for
>> free*, which can help to even create profit (cash), save time  
>> (which is also
>> money). In such case it's not devil to ask to return some of these  
>> benefits
>> to the product itself to keep it alive and well on the long run.  
>> I'm sure it's
>> everyone's interest to not let the project just vanish.
>
> Viktor,
>
> I'll start from now on, to check the Harbour phpBB Harbour forum to  
> give support.
>
> Why not to use the MediaWiki facility that SF offers ?, Probably it  
> will be a very good way to centralize the documentation/support  
> efforts, also to store there (a copy) the documentation work that  
> April is currently doing and start to contributing there to  
> enhancing/updating it.

Overall, I think the medium (= software) is not a significant issue  
here.

IMO if there are users seeking help and users offering help, they will
be able to work either on a mailing list or a forum, or a wiki, or chat,
google wave, or anything which makes it possible to communicate.

If such community is built and we know actual experiences from actual
contributors, we can start to think about how to make it better, move it
to a medium which is easier to work with, faster, sleeker, easier to
search, whatever, but we should stop sinking back into a 'tool war' all
the time.

As for a wiki, we already have one inside the Trac app on sf.net, ready
to use since quite some time. I can also enable MediaWiki with a few  
clicks
(I don't know about its performance), but by itself these won't solve  
any
problems, so before I do, I'd suggest to settle on forum vs. mailing  
list
topic.

BTW, a very nice start would be to cleanup our Wikipedia article, as
by its current state it isn't too informative, it's outdated and by far
doesn't convey any of the strength of Harbour.

    http://en.wikipedia.org/wiki/Harbour_(software)

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Nov  9 18:26:44 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov  9 18:26:59 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <26262085.post@talk.nabble.com>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
	<DC9C594E-9E4F-40DC-A312-032FF6BD863A@windtelsoft.com>
	<26258143.post@talk.nabble.com>
	<18d502870911081439o4e63a168u87ae736d79e80f25@mail.gmail.com>
	<26262085.post@talk.nabble.com>
Message-ID: <D0CE5980-61B8-4D30-9427-5A401C620624@syenar.hu>

>> I'd call it the most convenient, since you don't need implibs at all,
>> of course you can't link any .dlls with non-matching calling  
>> convention,
>> but it this case no implib would help anyway.
>>
>
> Here is the problem.
> I use Eztwain.dll from www.dosadi.com. I wrote all the wrappers which
> work fine with MSVC and BCC but I have not been able to get it working
> with MINGW ( probably a show stopper in my case ), it does not matter
> how hard I try with different approaches.

In such case some tricks are inevitably needed. If eztwain was
written in C++, chances aren't very high you can make it work,
but the best place to ask for advice is the product developers,
this seems to be a commercial product, so maybe they are available
for help.

A TWAIN interface contrib would be BTW very nice in Harbour.

>> b is buggy, so it will something give strange
>> results. (openssl, libcurl)
>>
>
> I do not know, nor did I say the "implib" is buggy. Just explained  
> that

*I* did say that it's buggy :) Maybe my sentence sounded ambiguous.
The point is that it doesn't work reliably, and it will fail
in random places (when your least expect it of course).

In case of BCC, users should also know that BCC uses an incompatible
name mangling when creating .dlls, so if interoperability for .dll
targets is a concern, BCC should be dropped.

Brgds,
Viktor

From zen25000 at zen.co.uk  Mon Nov  9 18:37:23 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Mon Nov  9 18:37:31 2009
Subject: [Harbour] Making lib with hbmk2
Message-ID: <4AF8A7B3.8050104@zen.co.uk>

This used to work a few months back:-

$ hbmk2 @barry -hblib -obarry

Now it compiles all the .prg files in barry.hbm to .c and stops with no 
lib created.
Has the syntax changed? I have not been following the list very closely
recently.

[baz@jackodesktop lib]$ hbmk2 @barry -hblib -obarry
hbmk2: Processing configuration: /usr/bin/hbmk.cfg 

Harbour 2.0.0beta3 (Rev.12841) 

Copyright (c) 1999-2009, http://www.harbour-project.org/ 

Compiling 'l_systmu.prg'...
Lines 3569, Functions/Procedures 1
Generating C source output to 'l_systmu.c'... Done.
---------------snip 50 or so-----------------------
Compiling 'l_valdat.prg'...
Lines 3594, Functions/Procedures 1
Generating C source output to 'l_valdat.c'... Done.
[baz@jackodesktop lib]$

Trying to link my main application that uses the lib I get

/usr/bin/ld: cannot find -lbarry

Thanks, Barry
From bedipritpal at hotmail.com  Mon Nov  9 18:41:08 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Nov  9 18:41:15 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <D0CE5980-61B8-4D30-9427-5A401C620624@syenar.hu>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
	<DC9C594E-9E4F-40DC-A312-032FF6BD863A@windtelsoft.com>
	<26258143.post@talk.nabble.com>
	<18d502870911081439o4e63a168u87ae736d79e80f25@mail.gmail.com>
	<26262085.post@talk.nabble.com>
	<D0CE5980-61B8-4D30-9427-5A401C620624@syenar.hu>
Message-ID: <26275848.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> In such case some tricks are inevitably needed. If eztwain was
> written in C++, chances aren't very high you can make it work,
> but the best place to ask for advice is the product developers,
> this seems to be a commercial product, so maybe they are available
> for help.
> 

I will ask the developers, that seems the only solution.



> A TWAIN interface contrib would be BTW very nice in Harbour.
> 

I have wrappers for Eztwain3 which include standard TWAIN functions too.
I can separate them but which will be the base .dll or sources.

Can you point to some sources I could write wrappers for.
I think I have the needed knowledge to implement it.

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/From-xHarbour-to-Harbour%3A-need-some-infos-tp26256686p26275848.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Nov  9 18:53:04 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov  9 18:53:17 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <26275848.post@talk.nabble.com>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
	<DC9C594E-9E4F-40DC-A312-032FF6BD863A@windtelsoft.com>
	<26258143.post@talk.nabble.com>
	<18d502870911081439o4e63a168u87ae736d79e80f25@mail.gmail.com>
	<26262085.post@talk.nabble.com>
	<D0CE5980-61B8-4D30-9427-5A401C620624@syenar.hu>
	<26275848.post@talk.nabble.com>
Message-ID: <35858B32-14CA-4564-BBD0-7669082F4DE8@syenar.hu>

>> A TWAIN interface contrib would be BTW very nice in Harbour.
>>
>
> I have wrappers for Eztwain3 which include standard TWAIN functions  
> too.
> I can separate them but which will be the base .dll or sources.
>
> Can you point to some sources I could write wrappers for.
> I think I have the needed knowledge to implement it.

I don't know any specifics, but probably also eztwain3
uses some standard TWAIN API to do its job.

Adding contrib interface for payware products such as
eztwain3 isn't very good for a few reasons, but if you
manage to get around it and interface with TWAIN
directly, it'd be a nice thing to have. [ Notice that
I don't know what it takes to use TWAIN interface in
practice. ] Or maybe there exist some opensource
alternative to eztwain3, which we could add hb iface.

There is also WIA API, but it's Windows-only.

Brgds,
Viktor

From bedipritpal at hotmail.com  Mon Nov  9 19:08:11 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Nov  9 19:08:17 2009
Subject: [Harbour] From xHarbour to Harbour: need some infos
In-Reply-To: <35858B32-14CA-4564-BBD0-7669082F4DE8@syenar.hu>
References: <6943770e0911081052u48006b46x9764399ab88d5499@mail.gmail.com>
	<DC9C594E-9E4F-40DC-A312-032FF6BD863A@windtelsoft.com>
	<26258143.post@talk.nabble.com>
	<18d502870911081439o4e63a168u87ae736d79e80f25@mail.gmail.com>
	<26262085.post@talk.nabble.com>
	<D0CE5980-61B8-4D30-9427-5A401C620624@syenar.hu>
	<26275848.post@talk.nabble.com>
	<35858B32-14CA-4564-BBD0-7669082F4DE8@syenar.hu>
Message-ID: <26276090.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> I don't know any specifics, but probably also eztwain3
> uses some standard TWAIN API to do its job.
> 
> Adding contrib interface for payware products such as
> eztwain3 isn't very good for a few reasons, but if you
> manage to get around it and interface with TWAIN
> directly, it'd be a nice thing to have. [ Notice that
> I don't know what it takes to use TWAIN interface in
> practice. ] Or maybe there exist some opensource
> alternative to eztwain3, which we could add hb iface.
> 
> There is also WIA API, but it's Windows-only.
> 

I got it.

http://www.twain.org/

Will check in few days next to include it in Harbour.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/From-xHarbour-to-Harbour%3A-need-some-infos-tp26256686p26276090.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From teo at windtelsoft.com  Mon Nov  9 20:18:30 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Mon Nov  9 20:18:41 2009
Subject: [Harbour] hbmk2 parsing  -ldflag info
Message-ID: <73DB516B-263F-4549-B358-33EC2CCEDF1E@windtelsoft.com>

Hello Viktor,

Seems that parsing (at least in -ldflag) is removing wrongly the  
"extension" of lib files, please see the output below:

$ wx-config --libs
-pthread   -lwx_gtk2u_richtext-2.8 -lwx_gtk2u_aui-2.8 - 
lwx_gtk2u_xrc-2.8 -lwx_gtk2u_qa-2.8 -lwx_gtk2u_html-2.8 - 
lwx_gtk2u_adv-2.8 -lwx_gtk2u_core-2.8 -lwx_baseu_xml-2.8 - 
lwx_baseu_net-2.8 -lwx_baseu-2.8

and when linking using `wx-config --libs` is required:

$ hbmk2 -cflag=`wx-config --cflags` -ldflag=`wx-config --libs` ...  
(intentionally reduced) test.prg
hbmk2: Error: Running linker. 1
gcc test.o hbmk_0pc3he.o   -pthread -Wl,--start-group - 
lwx_gtk2u_richtext-2 -lwx_gtk2u_aui-2 -lwx_gtk2u_xrc-2 -lwx_gtk2u_qa-2  
-lwx_gtk2u_html-2 -lwx_gtk2u_adv-2 -lwx_gtk2u_core-2 -lwx_baseu_xml-2 - 
lwx_baseu_net-2 -lwx_baseu-2 -lhbcplr -lhbdebug -lharbour  -Wl,--end- 
group -otest -L/usr/lib/harbour


As you see, the ".8" is removed from the libnames.


best regards,

Teo

From harbour.01 at syenar.hu  Mon Nov  9 20:34:36 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov  9 20:34:48 2009
Subject: [Harbour] hbmk2 parsing  -ldflag info
In-Reply-To: <73DB516B-263F-4549-B358-33EC2CCEDF1E@windtelsoft.com>
References: <73DB516B-263F-4549-B358-33EC2CCEDF1E@windtelsoft.com>
Message-ID: <EEF51646-513A-4A70-A2C1-BA61BA62FE23@syenar.hu>

Hi Teo,

I think we've touched this topic in the past,
you need to add an extra '.' at the end of the
lib name to avoid this problem.

Now, when using macro substitution I don't know
what is the solution. It's pretty unfortunate
some tools use dots as part of the filename
(I've seen this causing problem with other
tools, too), but I have no solution for it this
time. I hope someone will post some ideas to
save the day.

Brgds,
Viktor

On 2009 Nov 10, at 02:18, Teo Fonrouge wrote:

> Hello Viktor,
>
> Seems that parsing (at least in -ldflag) is removing wrongly the  
> "extension" of lib files, please see the output below:
>
> $ wx-config --libs
> -pthread   -lwx_gtk2u_richtext-2.8 -lwx_gtk2u_aui-2.8 - 
> lwx_gtk2u_xrc-2.8 -lwx_gtk2u_qa-2.8 -lwx_gtk2u_html-2.8 - 
> lwx_gtk2u_adv-2.8 -lwx_gtk2u_core-2.8 -lwx_baseu_xml-2.8 - 
> lwx_baseu_net-2.8 -lwx_baseu-2.8
>
> and when linking using `wx-config --libs` is required:
>
> $ hbmk2 -cflag=`wx-config --cflags` -ldflag=`wx-config --libs` ...  
> (intentionally reduced) test.prg
> hbmk2: Error: Running linker. 1
> gcc test.o hbmk_0pc3he.o   -pthread -Wl,--start-group - 
> lwx_gtk2u_richtext-2 -lwx_gtk2u_aui-2 -lwx_gtk2u_xrc-2 - 
> lwx_gtk2u_qa-2 -lwx_gtk2u_html-2 -lwx_gtk2u_adv-2 -lwx_gtk2u_core-2 - 
> lwx_baseu_xml-2 -lwx_baseu_net-2 -lwx_baseu-2 -lhbcplr -lhbdebug - 
> lharbour  -Wl,--end-group -otest -L/usr/lib/harbour
>
>
> As you see, the ".8" is removed from the libnames.
>
>
> best regards,
>
> Teo
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at users.sourceforge.net  Mon Nov  9 20:35:50 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Nov  9 20:35:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12844] trunk/harbour
Message-ID: <E1N7feA-00060P-Cm@d5vjzd1.ch3.sourceforge.com>

Revision: 12844
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12844&view=rev
Author:   druzus
Date:     2009-11-10 01:35:49 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-10 02:35 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/cdpapi.c
  * harbour/include/hbapicdp.h
    + added new C functions:
         hb_cdpU16AsStrLen(), hb_cdpU16ToStr(),
         hb_cdpStrAsU16Len(), hb_cdpStrToU16()

  * harbour/contrib/gtwvg/wvgutils.c
    ! fixed NULL used by mistake instead of 0

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgutils.c
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/src/rtl/cdpapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Nov  9 20:44:27 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov  9 20:44:35 2009
Subject: [Harbour] hbmk2 parsing  -ldflag info
In-Reply-To: <EEF51646-513A-4A70-A2C1-BA61BA62FE23@syenar.hu>
References: <73DB516B-263F-4549-B358-33EC2CCEDF1E@windtelsoft.com>
	<EEF51646-513A-4A70-A2C1-BA61BA62FE23@syenar.hu>
Message-ID: <20091110014427.GA24313@34-mo7-2.home.aster.pl>

On Tue, 10 Nov 2009, Szak?ts Viktor wrote:

Hi,

> I think we've touched this topic in the past,
> you need to add an extra '.' at the end of the
> lib name to avoid this problem.
> Now, when using macro substitution I don't know
> what is the solution. It's pretty unfortunate
> some tools use dots as part of the filename
> (I've seen this causing problem with other
> tools, too), but I have no solution for it this
> time. I hope someone will post some ideas to
> save the day.

hbmk2 must not strip any extensioons from -l<name>
Dots are comonly used in *nixes in library names.
Otherwise it will not be possible to use pkg-config with hbmk2, i.e.:

   druzus:~# pkg-config --libs gtk+-2.0
      -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgio-2.0 -lpangoft2-1.0 \
      -lgdk_pixbuf-2.0 -lpangocairo-1.0 -lcairo -lpango-1.0 -lfreetype \
      -lfontconfig -lgobject-2.0 -lgmodule-2.0 -lglib-2.0

It's the basic functionality which have to work.

best regards,
Przemek
From teo at windtelsoft.com  Mon Nov  9 20:46:59 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Mon Nov  9 20:47:08 2009
Subject: [Harbour] hbmk2 parsing  -ldflag info
In-Reply-To: <EEF51646-513A-4A70-A2C1-BA61BA62FE23@syenar.hu>
References: <73DB516B-263F-4549-B358-33EC2CCEDF1E@windtelsoft.com>
	<EEF51646-513A-4A70-A2C1-BA61BA62FE23@syenar.hu>
Message-ID: <E38C1F66-BF61-4354-AA91-394ECD4CEB09@windtelsoft.com>


On Nov 9, 2009, at 7:34 PM, Viktor Szak?ts wrote:

> Hi Teo,
>
> I think we've touched this topic in the past,
> you need to add an extra '.' at the end of the
> lib name to avoid this problem.
>
> Now, when using macro substitution I don't know
> what is the solution. It's pretty unfortunate
> some tools use dots as part of the filename
> (I've seen this causing problem with other
> tools, too), but I have no solution for it this
> time. I hope someone will post some ideas to
> save the day.

I think in this cases:

1. Strings passed with the -ldflag cannot be parsed and left as they  
are.
2. Do not expand if "``" chars are found and expect to be expanded at
   command execution.



best regards,

Teo

From harbour.01 at syenar.hu  Mon Nov  9 20:53:42 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov  9 20:57:39 2009
Subject: [Harbour] hbmk2 parsing  -ldflag info
In-Reply-To: <20091110014427.GA24313@34-mo7-2.home.aster.pl>
References: <73DB516B-263F-4549-B358-33EC2CCEDF1E@windtelsoft.com>
	<EEF51646-513A-4A70-A2C1-BA61BA62FE23@syenar.hu>
	<20091110014427.GA24313@34-mo7-2.home.aster.pl>
Message-ID: <0CDB4599-5DAC-4D69-BFD9-B853D9F29890@syenar.hu>

I hope someone can submit a patch. It's currently
also basic functionality to set extension required
by target compiler and drop possibly added .lib or
other bogus extensions by users.

We can drop name conditioning, but ATM I can't
exactly tell what are the consequences. I remember
giving it enough thought in the past and came to
the state where it is now. No time to reevaluate
from start.

Brgds,
Viktor

On 2009 Nov 10, at 02:44, Przemys?aw Czerpak wrote:

> On Tue, 10 Nov 2009, Szak?ts Viktor wrote:
>
> Hi,
>
>> I think we've touched this topic in the past,
>> you need to add an extra '.' at the end of the
>> lib name to avoid this problem.
>> Now, when using macro substitution I don't know
>> what is the solution. It's pretty unfortunate
>> some tools use dots as part of the filename
>> (I've seen this causing problem with other
>> tools, too), but I have no solution for it this
>> time. I hope someone will post some ideas to
>> save the day.
>
> hbmk2 must not strip any extensioons from -l<name>
> Dots are comonly used in *nixes in library names.
> Otherwise it will not be possible to use pkg-config with hbmk2, i.e.:
>
>   druzus:~# pkg-config --libs gtk+-2.0
>      -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgio-2.0 -lpangoft2-1.0 \
>      -lgdk_pixbuf-2.0 -lpangocairo-1.0 -lcairo -lpango-1.0 - 
> lfreetype \
>      -lfontconfig -lgobject-2.0 -lgmodule-2.0 -lglib-2.0
>
> It's the basic functionality which have to work.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Nov  9 21:06:23 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov  9 21:06:42 2009
Subject: [Harbour] hbmk2 parsing  -ldflag info
In-Reply-To: <E38C1F66-BF61-4354-AA91-394ECD4CEB09@windtelsoft.com>
References: <73DB516B-263F-4549-B358-33EC2CCEDF1E@windtelsoft.com>
	<EEF51646-513A-4A70-A2C1-BA61BA62FE23@syenar.hu>
	<E38C1F66-BF61-4354-AA91-394ECD4CEB09@windtelsoft.com>
Message-ID: <585069C1-7C26-4A93-A15C-AEC776919BE2@syenar.hu>

>> Now, when using macro substitution I don't know
>> what is the solution. It's pretty unfortunate
>> some tools use dots as part of the filename
>> (I've seen this causing problem with other
>> tools, too), but I have no solution for it this
>> time. I hope someone will post some ideas to
>> save the day.
>
> I think in this cases:
>
> 1. Strings passed with the -ldflag cannot be parsed and left as they  
> are.

AFAICT this is exactly what should happen now,
so I'm confused why in your case these things
are happening.

> 2. Do not expand if "``" chars are found and expect to be expanded at
>  command execution.

BTW back then I managed to make tests with wxharbour
using macro substitution. In fact AFAIR it was the
reason I added this feature.

If you check wxharbour.hbc it has this, but it's done
via .hbc file, not .hbm/hbp. Maybe that creates the
difference. I'd suggest to try with wxharbour.hbc
and report what you got.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Nov  9 21:39:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov  9 21:39:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12845] trunk/harbour
Message-ID: <E1N7gdo-00071o-6l@d5vjzd1.ch3.sourceforge.com>

Revision: 12845
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12845&view=rev
Author:   vszakats
Date:     2009-11-10 02:39:28 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------

2009-11-10 03:37 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  - src/codepage/cphuisos.c
  - src/codepage/cphuwins.c
    - Deleted these variants which are no longer needed.

  * src/codepage/cphuiso.c
  * src/codepage/cphuwin.c
    * Updated comments.
    ; TOFIX: Remove or not remove ASCII 196/228 char pair?
             It's not a Hungarian accented char, it was present 
             in sixhu852, but since we don't have any obligations
             to keep compatibility as the CP is different anyway, 
             maybe the best would be to clean it.
             What is the general opinion in this regard in Harbour?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/codepage/cphuiso.c
    trunk/harbour/src/codepage/cphuwin.c

Removed Paths:
-------------
    trunk/harbour/src/codepage/cphuisos.c
    trunk/harbour/src/codepage/cphuwins.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Nov  9 21:48:16 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov  9 21:48:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12842] trunk/harbour
In-Reply-To: <E1N7alT-0008S3-8N@c3vjzd1.ch3.sourceforge.com>
References: <E1N7alT-0008S3-8N@c3vjzd1.ch3.sourceforge.com>
Message-ID: <4D97802C-09A9-4BE1-A463-866956987971@syenar.hu>

Hi Przemek,

I've made tests with Clipper 5.2e Intl + NTXHU852.OBJ
and Clipper 5.2e Intl + SIX3 + SIXHU852.OBJ. Results
attached.

I'm bit confused what to commit to Harbour. Both of above
tests gave different output than current SVN state, and
both of them has some strange things in it, so I'd think
we should include both as compatibility CPs and add a
fixed one by the name cphu852.c without any of these
hacks and bugs (in sync with iso/win version).
Or use ntxhu852 version as base cphu852 regardless of
all the oddities.

[ F.e. ntxhu852 also contains "CWI" CP chars, because this
seemed to be a nice convenience 15-20 years ago, now it's
totally not needed. ]

Brgds,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: cliphu.zip
Type: application/zip
Size: 3645 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091110/44adb4ca/cliphu.zip
-------------- next part --------------


On 2009 Nov 9, at 21:23, druzus@users.sourceforge.net wrote:

> Revision: 12842
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12842&view=rev
> Author:   druzus
> Date:     2009-11-09 20:22:48 +0000 (Mon, 09 Nov 2009)
>
> Log Message:
> -----------
> 2009-11-09 21:18 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/ChangeLog
>    * marked last TOFIX note as [DONE] - thanks to Mindaugas
>
>  * harbour/src/rtl/cdpapi.c
>    * use 1-st upper<->lower conversion pair instead of last one
>      if more then one conversion pair exist - it's more natural
>      form in most of cases
>    % skip translation code when two different CDP modules use
>      the same Unicode table
>
>  * harbour/tests/cpinfo.prg
>    + detect CPs which have corresponding upper or lower characters
>      for non alpha characters and inform about it.
>      Such situations is in NTXSPA.OBJ so such CP can be fully
>      replicated in Harbour using alternative CP definition only
>      which uses static tables.
>
>  * harbour/src/codepage/cpes850c.c
>  * harbour/src/codepage/cpesisoc.c
>  * harbour/src/codepage/cpeswinc.c
>    ! removed the hack with changed order for characters which do not
>      have corresponding upper latter.
>      Now there is only one difference between ES850C and Clipper  
> NTXSPA.OBJ
>      In NTXSPA 'UPPER( Chr( 163 ) )' gives "U" though Chr( 163 ) is  
> not
>      marked as letter and not sorted with other letters. For me it  
> looks
>      like a bug anyhow if you want to fully replicate NTXSPA.OBJ in  
> Harbour
>      then current cpes850c.c code should be replaced by code generated
>      using tests/cpinfo.prg compiler by clipper and linked with  
> ntxspa.obj.
>      Such code should be generated using:
>         cpinfo.exe es850c "Spanish CP-850 (ntxspa.obj compatible)" 850
>
>      Now translations can be done between CPs using different number  
> of
>      letters or even defined for different languages so I have  
> question
>      to Spanish users: Do you need ESISOC and ESWINC for anything?
>      If not then I would like to remove them.
>      Similar situation is with HUISOS and HUWINS.
>
>  * harbour/include/hbapicdp.h
>  * harbour/src/rtl/cdpapi.c
>  * harbour/src/codepage/ucmacce.c
>  * harbour/src/codepage/uckoi8.c
>  * harbour/src/codepage/uc885910.c
>  * harbour/src/codepage/ucmacice.c
>  * harbour/src/codepage/uc885914.c
>  * harbour/src/codepage/uc874.c
>  * harbour/src/codepage/uc857.c
>  * harbour/src/codepage/uc1250.c
>  * harbour/src/codepage/uc1254.c
>  * harbour/src/codepage/uc1258.c
>  * harbour/src/codepage/uckoi8u.c
>  * harbour/src/codepage/uckam.c
>  * harbour/src/codepage/uc424.c
>  * harbour/src/codepage/ucmacrom.c
>  * harbour/src/codepage/uc862.c
>  * harbour/src/codepage/cpesisoc.c
>  * harbour/src/codepage/uc866.c
>  * harbour/src/codepage/uc8859_3.c
>  * harbour/src/codepage/cpes850c.c
>  * harbour/src/codepage/uc8859_7.c
>  * harbour/src/codepage/ucmacgrk.c
>  * harbour/src/codepage/uc037.c
>  * harbour/src/codepage/uc850.c
>  * harbour/src/codepage/uc885911.c
>  * harbour/src/codepage/uc885915.c
>  * harbour/src/codepage/uc875.c
>  * harbour/src/codepage/uc1251.c
>  * harbour/src/codepage/uc1255.c
>  * harbour/src/codepage/uc863.c
>  * harbour/src/codepage/ucmaz.c
>  * harbour/src/codepage/uc1026.c
>  * harbour/src/codepage/uc8859_4.c
>  * harbour/src/codepage/uc8859_8.c
>  * harbour/src/codepage/uc855.c
>  * harbour/src/codepage/cpeswinc.c
>  * harbour/src/codepage/uc885916.c
>  * harbour/src/codepage/ucascii.c
>  * harbour/src/codepage/uc1252.c
>  * harbour/src/codepage/uc1256.c
>  * harbour/src/codepage/ucatari.c
>  * harbour/src/codepage/uc860.c
>  * harbour/src/codepage/ucmaccyr.c
>  * harbour/src/codepage/ucmik.c
>  * harbour/src/codepage/uc864.c
>  * harbour/src/codepage/uc1006.c
>  * harbour/src/codepage/uc1125.c
>  * harbour/src/codepage/uc8859_1.c
>  * harbour/src/codepage/uc88591b.c
>  * harbour/src/codepage/uc8859_5.c
>  * harbour/src/codepage/uc8859_9.c
>  * harbour/src/codepage/uc852.c
>  * harbour/src/codepage/ucnext.c
>  * harbour/src/codepage/uc737.c
>  * harbour/src/codepage/uc885913.c
>  * harbour/src/codepage/ucmactrk.c
>  * harbour/src/codepage/uc856.c
>  * harbour/src/codepage/uc775.c
>  * harbour/src/codepage/uc1253.c
>  * harbour/src/codepage/uc1257.c
>  * harbour/src/codepage/uc500.c
>  * harbour/src/codepage/uc861.c
>  * harbour/src/codepage/uc865.c
>  * harbour/src/codepage/uc869.c
>  * harbour/src/codepage/uc8859_2.c
>  * harbour/src/codepage/uc8859_6.c
>    % declare Unicode tables with 'const' qualifier
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/hbapicdp.h
>    trunk/harbour/src/codepage/cpes850c.c
>    trunk/harbour/src/codepage/cpesisoc.c
>    trunk/harbour/src/codepage/cpeswinc.c
>    trunk/harbour/src/codepage/uc037.c
>    trunk/harbour/src/codepage/uc1006.c
>    trunk/harbour/src/codepage/uc1026.c
>    trunk/harbour/src/codepage/uc1125.c
>    trunk/harbour/src/codepage/uc1250.c
>    trunk/harbour/src/codepage/uc1251.c
>    trunk/harbour/src/codepage/uc1252.c
>    trunk/harbour/src/codepage/uc1253.c
>    trunk/harbour/src/codepage/uc1254.c
>    trunk/harbour/src/codepage/uc1255.c
>    trunk/harbour/src/codepage/uc1256.c
>    trunk/harbour/src/codepage/uc1257.c
>    trunk/harbour/src/codepage/uc1258.c
>    trunk/harbour/src/codepage/uc424.c
>    trunk/harbour/src/codepage/uc500.c
>    trunk/harbour/src/codepage/uc737.c
>    trunk/harbour/src/codepage/uc775.c
>    trunk/harbour/src/codepage/uc850.c
>    trunk/harbour/src/codepage/uc852.c
>    trunk/harbour/src/codepage/uc855.c
>    trunk/harbour/src/codepage/uc856.c
>    trunk/harbour/src/codepage/uc857.c
>    trunk/harbour/src/codepage/uc860.c
>    trunk/harbour/src/codepage/uc861.c
>    trunk/harbour/src/codepage/uc862.c
>    trunk/harbour/src/codepage/uc863.c
>    trunk/harbour/src/codepage/uc864.c
>    trunk/harbour/src/codepage/uc865.c
>    trunk/harbour/src/codepage/uc866.c
>    trunk/harbour/src/codepage/uc869.c
>    trunk/harbour/src/codepage/uc874.c
>    trunk/harbour/src/codepage/uc875.c
>    trunk/harbour/src/codepage/uc885910.c
>    trunk/harbour/src/codepage/uc885911.c
>    trunk/harbour/src/codepage/uc885913.c
>    trunk/harbour/src/codepage/uc885914.c
>    trunk/harbour/src/codepage/uc885915.c
>    trunk/harbour/src/codepage/uc885916.c
>    trunk/harbour/src/codepage/uc88591b.c
>    trunk/harbour/src/codepage/uc8859_1.c
>    trunk/harbour/src/codepage/uc8859_2.c
>    trunk/harbour/src/codepage/uc8859_3.c
>    trunk/harbour/src/codepage/uc8859_4.c
>    trunk/harbour/src/codepage/uc8859_5.c
>    trunk/harbour/src/codepage/uc8859_6.c
>    trunk/harbour/src/codepage/uc8859_7.c
>    trunk/harbour/src/codepage/uc8859_8.c
>    trunk/harbour/src/codepage/uc8859_9.c
>    trunk/harbour/src/codepage/ucascii.c
>    trunk/harbour/src/codepage/ucatari.c
>    trunk/harbour/src/codepage/uckam.c
>    trunk/harbour/src/codepage/uckoi8.c
>    trunk/harbour/src/codepage/uckoi8u.c
>    trunk/harbour/src/codepage/ucmacce.c
>    trunk/harbour/src/codepage/ucmaccyr.c
>    trunk/harbour/src/codepage/ucmacgrk.c
>    trunk/harbour/src/codepage/ucmacice.c
>    trunk/harbour/src/codepage/ucmacrom.c
>    trunk/harbour/src/codepage/ucmactrk.c
>    trunk/harbour/src/codepage/ucmaz.c
>    trunk/harbour/src/codepage/ucmik.c
>    trunk/harbour/src/codepage/ucnext.c
>    trunk/harbour/src/rtl/cdpapi.c
>    trunk/harbour/tests/cpinfo.prg
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Mon Nov  9 22:02:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov  9 22:02:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12846] trunk/harbour
Message-ID: <E1N7h0A-0002vq-Fk@3kljzd1.ch3.sourceforge.com>

Revision: 12846
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12846&view=rev
Author:   vszakats
Date:     2009-11-10 03:02:37 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-10 04:02 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * doc/xhb-diff.txt
    ! Typos.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/doc/xhb-diff.txt


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From teo at windtelsoft.com  Mon Nov  9 22:05:41 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Mon Nov  9 22:05:49 2009
Subject: [Harbour] hbmk2 parsing  -ldflag info
In-Reply-To: <73DB516B-263F-4549-B358-33EC2CCEDF1E@windtelsoft.com>
References: <73DB516B-263F-4549-B358-33EC2CCEDF1E@windtelsoft.com>
Message-ID: <1A5FC76B-A09F-41CD-A2B3-842A37CFEF84@windtelsoft.com>


On Nov 9, 2009, at 7:18 PM, Teo Fonrouge wrote:

> Hello Viktor,
>
> Seems that parsing (at least in -ldflag) is removing wrongly the  
> "extension" of lib files, please see the output below:
>
> $ wx-config --libs
> -pthread   -lwx_gtk2u_richtext-2.8 -lwx_gtk2u_aui-2.8 - 
> lwx_gtk2u_xrc-2.8 -lwx_gtk2u_qa-2.8 -lwx_gtk2u_html-2.8 - 
> lwx_gtk2u_adv-2.8 -lwx_gtk2u_core-2.8 -lwx_baseu_xml-2.8 - 
> lwx_baseu_net-2.8 -lwx_baseu-2.8
>
> and when linking using `wx-config --libs` is required:
>
> $ hbmk2 -cflag=`wx-config --cflags` -ldflag=`wx-config --libs` ...  
> (intentionally reduced) test.prg
> hbmk2: Error: Running linker. 1
> gcc test.o hbmk_0pc3he.o   -pthread -Wl,--start-group - 
> lwx_gtk2u_richtext-2 -lwx_gtk2u_aui-2 -lwx_gtk2u_xrc-2 - 
> lwx_gtk2u_qa-2 -lwx_gtk2u_html-2 -lwx_gtk2u_adv-2 -lwx_gtk2u_core-2 - 
> lwx_baseu_xml-2 -lwx_baseu_net-2 -lwx_baseu-2 -lhbcplr -lhbdebug - 
> lharbour  -Wl,--end-group -otest -L/usr/lib/harbour
>
>
> As you see, the ".8" is removed from the libnames.

Hello Viktor,

Seems that enclosing the parameter inside of "" is required, so  
changing the above command to:

$ hbmk2 -cflag=`wx-config --cflags` -ldflag="`wx-config --libs`" ...  
(intentionally reduced) test.prg

Makes the thing work ok as it's expected.


However, something that is source of little confusing is that in  
the .hbc file the ldflag parameter is in the form:

ldflags={unix&gcc}"`wx-config --libs`"

and the command line help from hbmk2 states that "-ldflag" (without  
the final "s" ) is required, so if you enter:

-ldflag="`wx-config --libs`"

you get the parameter ignored.

I have the impression that "-ldflags" and "-cflags" are more natural  
than "-ldflag" and "-cflag"


best regards,

Teo

From harbour.01 at syenar.hu  Mon Nov  9 22:15:57 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov  9 22:16:07 2009
Subject: [Harbour] hbmk2 parsing  -ldflag info
In-Reply-To: <1A5FC76B-A09F-41CD-A2B3-842A37CFEF84@windtelsoft.com>
References: <73DB516B-263F-4549-B358-33EC2CCEDF1E@windtelsoft.com>
	<1A5FC76B-A09F-41CD-A2B3-842A37CFEF84@windtelsoft.com>
Message-ID: <FA87D9CF-5250-4DA3-8897-80FACF38E81A@syenar.hu>

>> As you see, the ".8" is removed from the libnames.
>
> Hello Viktor,
>
> Seems that enclosing the parameter inside of "" is required, so  
> changing the above command to:
>
> $ hbmk2 -cflag=`wx-config --cflags` -ldflag="`wx-config --libs`" ...  
> (intentionally reduced) test.prg
>
> Makes the thing work ok as it's expected.
>
>
> However, something that is source of little confusing is that in  
> the .hbc file the ldflag parameter is in the form:
>
> ldflags={unix&gcc}"`wx-config --libs`"
>
> and the command line help from hbmk2 states that "-ldflag" (without  
> the final "s" ) is required, so if you enter:
>
> -ldflag="`wx-config --libs`"
>
> you get the parameter ignored.
>
> I have the impression that "-ldflags" and "-cflags" are more natural  
> than "-ldflag" and "-cflag"

.hbc format allows to pass multiple arguments to all options
(including *flags=), hence the different name.

Brgds,
Viktor

From bedipritpal at hotmail.com  Tue Nov 10 00:59:03 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Nov 10 00:59:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12845] trunk/harbour
In-Reply-To: <E1N7gdo-00071o-6l@d5vjzd1.ch3.sourceforge.com>
References: <E1N7gdo-00071o-6l@d5vjzd1.ch3.sourceforge.com>
Message-ID: <26278711.post@talk.nabble.com>


Hi


vszakats wrote:
> 
> Revision: 12845
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12845&view=rev
> Author:   vszakats
> Date:     2009-11-10 02:39:28 +0000 (Tue, 10 Nov 2009)
> 
> Log Message:
> -----------
> 
> 2009-11-10 03:37 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   - src/codepage/cphuisos.c
>   - src/codepage/cphuwins.c
>     - Deleted these variants which are no longer needed.
> 

If I am not missing something, these files are being searched by 
when building clean. May be somewhere else these are being referenced.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12845--trunk-harbour-tp26277416p26278711.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Tue Nov 10 01:16:16 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Nov 10 01:16:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12847] trunk/harbour
Message-ID: <E1N7k1Y-0005tS-Qy@3kljzd1.ch3.sourceforge.com>

Revision: 12847
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12847&view=rev
Author:   vszakats
Date:     2009-11-10 06:16:15 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-10 07:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/codepage/Makefile
  * include/hbextcdp.ch
    ! Deleted references to deleted CPs.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbextcdp.ch
    trunk/harbour/src/codepage/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Nov 10 03:21:52 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Nov 10 03:22:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12848] trunk/harbour
Message-ID: <E1N7lz6-0002YE-It@c3vjzd1.ch3.sourceforge.com>

Revision: 12848
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12848&view=rev
Author:   vszakats
Date:     2009-11-10 08:21:50 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-10 09:20 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/codepage/cphu852.c
  + src/codepage/cphu852c.c
  - src/codepage/cphu852s.c
  * src/codepage/Makefile
  * include/hbextcdp.ch
    * Changed HU852 CP to be the same as HUISO and HUWIN.
      I kept the extra non-Hungarian char, which makes this CP 
      fully compatible with sixhu852.obj.
    + Added HU852C which is fully C5.2e compatible, this file 
      was generated by cpinfo using C5.2e Intl + ntxhu852.obj.
      This may fix some C5.2e incompatibilities that existed 
      in former HU852 CP.
    - Deleted HU852S, it's now called HU852.
    ; NOTE: Since there is no 'default' HU852 CP in Harbour I 
            find it ok to provide C5.2e compatible CP by the 
            name 'HU852C'. If this seems bothering to Hungarian 
            users in general, we may think out something.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbextcdp.ch
    trunk/harbour/src/codepage/Makefile
    trunk/harbour/src/codepage/cphu852.c

Added Paths:
-----------
    trunk/harbour/src/codepage/cphu852c.c

Removed Paths:
-------------
    trunk/harbour/src/codepage/cphu852s.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Nov 10 03:41:43 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 10 03:41:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12848] trunk/harbour
In-Reply-To: <E1N7lz6-0002YE-It@c3vjzd1.ch3.sourceforge.com>
References: <E1N7lz6-0002YE-It@c3vjzd1.ch3.sourceforge.com>
Message-ID: <20091110084143.GA7683@34-mo7-2.home.aster.pl>

On Tue, 10 Nov 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-11-10 09:20 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * src/codepage/cphu852.c
>   + src/codepage/cphu852c.c
>   - src/codepage/cphu852s.c
>   * src/codepage/Makefile
>   * include/hbextcdp.ch
>     * Changed HU852 CP to be the same as HUISO and HUWIN.
>       I kept the extra non-Hungarian char, which makes this CP 
>       fully compatible with sixhu852.obj.
>     + Added HU852C which is fully C5.2e compatible, this file 
>       was generated by cpinfo using C5.2e Intl + ntxhu852.obj.
>       This may fix some C5.2e incompatibilities that existed 
>       in former HU852 CP.
>     - Deleted HU852S, it's now called HU852.
>     ; NOTE: Since there is no 'default' HU852 CP in Harbour I 
>             find it ok to provide C5.2e compatible CP by the 
>             name 'HU852C'. If this seems bothering to Hungarian 
>             users in general, we may think out something.

Thank you very much.
I'll commit in a while cphu852c.c in human readable form using new
extensions in Harbour CP definition. It will also fully replicate
ntxhu852.obj behavior but such form allows to easy see what exactly
Clipper does when ntxhu852.obj is used.
Please verify it. Maybe it will also give you some ideas if it's
correct and expected behavior for Hungarian CP.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Nov 10 03:43:57 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Nov 10 03:44:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12849] trunk/harbour
Message-ID: <E1N7mKT-0003QN-Ql@74yxhf1.ch3.sourceforge.com>

Revision: 12849
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12849&view=rev
Author:   druzus
Date:     2009-11-10 08:43:56 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-10 09:43 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/codepage/cphu852c.c
    * converted to use human readable form which I think should better
      show what exactly Clipper's ntxhu852.obj does

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/codepage/cphu852c.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Nov 10 05:00:29 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Nov 10 05:00:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12850] trunk/harbour
Message-ID: <E1N7nWX-0005Tx-9v@d5vjzd1.ch3.sourceforge.com>

Revision: 12850
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12850&view=rev
Author:   druzus
Date:     2009-11-10 10:00:28 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-10 11:00 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/tests/cpinfo.prg
    + try to generate HB_CP_UPPER and HB_CP_LOWER strings which are ready to
      use in Harbour CP definition using human readable form.
      Warning: please remember that not all CPs can be created in human
               readable form and if you want to create Clipper compatible
               definition then it should be always verified by comparing .c
               files generated by cpinfo compiled using Clipper and Harbour.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/tests/cpinfo.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Nov 10 05:01:46 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 10 05:01:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12849] trunk/harbour
In-Reply-To: <E1N7mKT-0003QN-Ql@74yxhf1.ch3.sourceforge.com>
References: <E1N7mKT-0003QN-Ql@74yxhf1.ch3.sourceforge.com>
Message-ID: <FEEA7864-0337-4E1C-BE77-7BA465175C33@syenar.hu>

Thank you. I've compared generated cpinfo output after Harbour rebuild
with the Clipper one and they matched, so it looks fine.

Will you update cpinfo to generate the new and sleeker CP module format?
[You've just committed it. Thanks!]

Brgds,
Viktor

On 2009 Nov 10, at 09:43, druzus@users.sourceforge.net wrote:

> Revision: 12849
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12849&view=rev
> Author:   druzus
> Date:     2009-11-10 08:43:56 +0000 (Tue, 10 Nov 2009)
>
> Log Message:
> -----------
> 2009-11-10 09:43 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/codepage/cphu852c.c
>    * converted to use human readable form which I think should better
>      show what exactly Clipper's ntxhu852.obj does
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/src/codepage/cphu852c.c
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From dmacias at mail.udg.mx  Tue Nov 10 05:12:32 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Tue Nov 10 05:12:59 2009
Subject: [Harbour] OS/2: gcc version
Message-ID: <4AF93C90.2020606@mail.udg.mx>

We have months landing Harbour with newer gcc: gcc404, gcc432, gcc433,
gcc440
and now appear new packages "built with gcc 4.4.1"  :-)

I am centered on tests with Harbour-gcc433 as reference release

gcc441 does not appear as Paul Smedley or Netlabs releases, so some
people are working recently on this port and they are in Japan

http://ebisa.hp.infoseek.co.jp/os2/index.htm

Some packages are very recent, as:

0.9.8l for kLIBC (gcc 4.4.1) : openssl-0.9.8l-klibc-20091108.zip
# SDL 1.2.14 for OS/2 (built with gcc-4.4.1)

     * SDL-1.2.14-os2-gcc44-20091106.zip
     * fslib_r5-gcc44-20091104.zip
     * ...

# SDL 1.2.13 for OS/2 (built with gcc-4.3.3)

     * SDL-1.2.13-os2-gcc433-20090506.zip
     * SDL-1.2.13-os2-gcc433-20090419.zip

But doubts remain: file name say "gcc44" (4.4.0 ?) and docs say:
------------
   Headers, libraries and config tool (sdl-config) are suitable for gcc
4.4.1.
   (It may also work with gcc 3.3.5 csd 3)
[...]
2009-11-06
  - Based on SDL-1.2.14
  - Built with gcc 4.4.1
------------


Anyway, we can wait some time and if new gcc version appear then we can
test with Harbour

David Macias


From druzus at users.sourceforge.net  Tue Nov 10 05:55:31 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Nov 10 05:55:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12851] trunk/harbour
Message-ID: <E1N7oNn-000559-Aa@c3vjzd1.ch3.sourceforge.com>

Revision: 12851
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12851&view=rev
Author:   druzus
Date:     2009-11-10 10:55:05 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-10 11:54 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbset.h
  * harbour/src/vm/set.c
    + added new C function hb_setGetOSCP()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbset.h
    trunk/harbour/src/vm/set.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From snaiperis at users.sourceforge.net  Tue Nov 10 06:01:56 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Tue Nov 10 06:02:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12852] trunk/harbour
Message-ID: <E1N7oU0-0001qQ-0c@3kljzd1.ch3.sourceforge.com>

Revision: 12852
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12852&view=rev
Author:   snaiperis
Date:     2009-11-10 11:01:54 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-10 13:02 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/src/rtl/cdpapi.c
    * removed unnecessary assignment to pacify BCC warning

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/cdpapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Nov 10 07:34:50 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Nov 10 07:34:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12853] trunk/harbour
Message-ID: <E1N7pvu-0003LY-75@3kljzd1.ch3.sourceforge.com>

Revision: 12853
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12853&view=rev
Author:   druzus
Date:     2009-11-10 12:34:49 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-10 13:34 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/tests/cpinfo.prg
    + added additional information that binary tables generated by cpinfo.prg
      have to be used instead of human readable form when such situation can
      be easy detected

  * harbour/src/codepage/cpsvclip.c
    * replaced old definition with binary tables generated by cpinfo.prg
      to fully replicate wrong Clipper NTXSWE.OBJ definition.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/codepage/cpsvclip.c
    trunk/harbour/tests/cpinfo.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From zen25000 at zen.co.uk  Tue Nov 10 07:55:54 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Tue Nov 10 07:56:00 2009
Subject: [Harbour] User forum broken - redirect loop
Message-ID: <4AF962DA.9050501@zen.co.uk>

I have cookies enabled and have tried from different systems/browsers.
Hit reply button and.....
--------------------------
Redirect Loop
Redirection limit for this URL exceeded.  Unable to load the requested 
page.  This may be caused by cookies that are blocked.
The browser has stopped trying to retrieve the requested item. The site 
is redirecting the request in a way that will never complete.
     *  Have you disabled or blocked cookies required by this site?
     *  NOTE: If accepting the site's cookies does not resolve the 
problem, it is probably a server configuration issue and not your computer.
-------------------------
From harbour.01 at syenar.hu  Tue Nov 10 08:33:13 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Nov 10 08:33:23 2009
Subject: [Harbour] User forum broken - redirect loop
In-Reply-To: <4AF962DA.9050501@zen.co.uk>
References: <4AF962DA.9050501@zen.co.uk>
Message-ID: <A5B27261-06E1-4FA9-B0E3-CED3DBEA41EC@syenar.hu>

Hi Barry,

Pls report such problems on sf.net support channels.

Brgds,
Viktor

On 2009 Nov 10, at 13:55, Barry Jackson wrote:

> I have cookies enabled and have tried from different systems/browsers.
> Hit reply button and.....
> --------------------------
> Redirect Loop
> Redirection limit for this URL exceeded.  Unable to load the  
> requested page.  This may be caused by cookies that are blocked.
> The browser has stopped trying to retrieve the requested item. The  
> site is redirecting the request in a way that will never complete.
>    *  Have you disabled or blocked cookies required by this site?
>    *  NOTE: If accepting the site's cookies does not resolve the  
> problem, it is probably a server configuration issue and not your  
> computer.
> -------------------------
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Nov 10 08:35:24 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 10 08:35:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12853] trunk/harbour
In-Reply-To: <E1N7pvu-0003LY-75@3kljzd1.ch3.sourceforge.com>
References: <E1N7pvu-0003LY-75@3kljzd1.ch3.sourceforge.com>
Message-ID: <6E0EEA96-B001-4889-9679-F26D1DE0F207@syenar.hu>

Hi Przemek,

I'm getting RTE, when trying to run cpinfo.prg with certain
CPs, like the Greek one (ntxgr437.obj) (with Clipper 5.2e):

---
11/10/09 14:32:05 DOS 7.10 Clipper (R) 5.2e Intl. (x216)  (1995.02.07)
Character encoding: NTXSORT v1.21e x15 24/Jun/93
==================================================
number of upper and lower characters is different
letters are not sorted continuously
Warning: irregular CP which needs special definition in Harbour
       upper:  
"ABCDEFGHIJKLMNOPQRSTUVWXYZ???????????????????????? 
"
       lower: "abcdefghijklmnopqrstuvwxyz??????G 
?Pp??sS?????????????tF???aT"
Error BASE/1209  String overflow: +
Called from PAD_LETTER(221)
Called from MAIN(187)
---

Brgds,
Viktor

On 2009 Nov 10, at 13:34, druzus@users.sourceforge.net wrote:

> Revision: 12853
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12853&view=rev
> Author:   druzus
> Date:     2009-11-10 12:34:49 +0000 (Tue, 10 Nov 2009)
>
> Log Message:
> -----------
> 2009-11-10 13:34 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/tests/cpinfo.prg
>    + added additional information that binary tables generated by  
> cpinfo.prg
>      have to be used instead of human readable form when such  
> situation can
>      be easy detected
>
>  * harbour/src/codepage/cpsvclip.c
>    * replaced old definition with binary tables generated by  
> cpinfo.prg
>      to fully replicate wrong Clipper NTXSWE.OBJ definition.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/src/codepage/cpsvclip.c
>    trunk/harbour/tests/cpinfo.prg
>
>
> This was sent by the SourceForge.net collaborative development  
> platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at users.sourceforge.net  Tue Nov 10 09:03:38 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Nov 10 09:03:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12854] trunk/harbour
Message-ID: <E1N7rJq-0000l9-Ec@d5vjzd1.ch3.sourceforge.com>

Revision: 12854
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12854&view=rev
Author:   druzus
Date:     2009-11-10 14:03:36 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-10 15:03 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/tests/cpinfo.prg
    ! fixed possible infinite loop in character padding procedure

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/tests/cpinfo.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Nov 10 09:04:18 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 10 09:04:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12853] trunk/harbour
In-Reply-To: <6E0EEA96-B001-4889-9679-F26D1DE0F207@syenar.hu>
References: <E1N7pvu-0003LY-75@3kljzd1.ch3.sourceforge.com>
	<6E0EEA96-B001-4889-9679-F26D1DE0F207@syenar.hu>
Message-ID: <20091110140418.GA21241@34-mo7-2.home.aster.pl>

On Tue, 10 Nov 2009, Szak?ts Viktor wrote:
> Hi Przemek,
> I'm getting RTE, when trying to run cpinfo.prg with certain
> CPs, like the Greek one (ntxgr437.obj) (with Clipper 5.2e):
> Error BASE/1209  String overflow: +
> Called from PAD_LETTER(221)
> Called from MAIN(187)

Thank you very much for information. Fixed.

best regards,
Przemek
From vszakats at users.sourceforge.net  Tue Nov 10 09:11:47 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Nov 10 09:11:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12855] trunk/harbour
Message-ID: <E1N7rRj-0000aY-Hh@74yxhf1.ch3.sourceforge.com>

Revision: 12855
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12855&view=rev
Author:   vszakats
Date:     2009-11-10 14:11:46 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-10 15:05 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * codepage/Makefile
  - codepage/cpesisoc.c
  - codepage/cpeswinc.c
    - Deletes ISO and Win pairs of ES850C.

  * codepage/Makefile
  + codepage/cpgr437.c
  + codepage/cpgr851.c
  + codepage/cpis850.c
  + codepage/cpis861.c
  + codepage/cpdk865.c
  + codepage/cpfi850.c
  + codepage/cpnl850.c
  + codepage/cpno865.c
  + codepage/cppt860.c
    + Added CPs generated via cpinfo.prg from ntx*.obj (C5.2e).
      For these language, I've only 'guessed' the CP assigment:
          cpdk865
          cpfi850
          cpnl850
          cpno865
          cppt860
      TOFIX: Any mistakes in above.

  * codepage/Makefile
  - codepage/cpsvclip.c
  + codepage/cpsv437c.c
    * Renamed to use naming scheme like all others.
    ; TOFIX: 437 is most certainly wrong CP assigment, and 
             it should probably be 850 or 865.

  * codepage/cpfr850.c
  * codepage/cpes850c.c
  * codepage/cpde850.c
  * codepage/cpit850.c
    * Replaced with versions generated by cpinfo.prg.

  ; TODO: cpinfo.prg isn't generating short format of CP source files, 
          so all above may need to be converted to it for better readability.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/codepage/Makefile
    trunk/harbour/src/codepage/cpde850.c
    trunk/harbour/src/codepage/cpes850c.c
    trunk/harbour/src/codepage/cpfr850.c
    trunk/harbour/src/codepage/cpit850.c

Added Paths:
-----------
    trunk/harbour/src/codepage/cpdk865.c
    trunk/harbour/src/codepage/cpfi850.c
    trunk/harbour/src/codepage/cpgr437.c
    trunk/harbour/src/codepage/cpgr851.c
    trunk/harbour/src/codepage/cpis850.c
    trunk/harbour/src/codepage/cpis861.c
    trunk/harbour/src/codepage/cpnl850.c
    trunk/harbour/src/codepage/cpno865.c
    trunk/harbour/src/codepage/cppt860.c
    trunk/harbour/src/codepage/cpsv437c.c

Removed Paths:
-------------
    trunk/harbour/src/codepage/cpesisoc.c
    trunk/harbour/src/codepage/cpeswinc.c
    trunk/harbour/src/codepage/cpsvclip.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maufacc at adinet.com.uy  Tue Nov 10 09:11:49 2009
From: maufacc at adinet.com.uy (Maurizio Faccio adinet)
Date: Tue Nov 10 09:12:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12842] trunk/harbour
In-Reply-To: <E1N7alT-0008S3-8N@c3vjzd1.ch3.sourceforge.com>
References: <E1N7alT-0008S3-8N@c3vjzd1.ch3.sourceforge.com>
Message-ID: <4AF974A5.5060600@adinet.com.uy>



druzus@users.sourceforge.net escribi?:
> Revision: 12842
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12842&view=rev
> Author:   druzus
> Date:     2009-11-09 20:22:48 +0000 (Mon, 09 Nov 2009)
>
> Log Message:
> -----------
> 2009-11-09 21:18 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/ChangeLog
>     * marked last TOFIX note as [DONE] - thanks to Mindaugas
>
>   * harbour/src/rtl/cdpapi.c
>     * use 1-st upper<->lower conversion pair instead of last one
>       if more then one conversion pair exist - it's more natural
>       form in most of cases
>     % skip translation code when two different CDP modules use
>       the same Unicode table
>
>   * harbour/tests/cpinfo.prg
>     + detect CPs which have corresponding upper or lower characters
>       for non alpha characters and inform about it.
>       Such situations is in NTXSPA.OBJ so such CP can be fully
>       replicated in Harbour using alternative CP definition only
>       which uses static tables.
>
>   * harbour/src/codepage/cpes850c.c
>   * harbour/src/codepage/cpesisoc.c
>   * harbour/src/codepage/cpeswinc.c
>     ! removed the hack with changed order for characters which do not
>       have corresponding upper latter.
>       Now there is only one difference between ES850C and Clipper NTXSPA.OBJ
>       In NTXSPA 'UPPER( Chr( 163 ) )' gives "U" though Chr( 163 ) is not
>       marked as letter and not sorted with other letters. For me it looks
>       like a bug anyhow if you want to fully replicate NTXSPA.OBJ in Harbour
>       then current cpes850c.c code should be replaced by code generated
>       using tests/cpinfo.prg compiler by clipper and linked with ntxspa.obj.
>       Such code should be generated using:
>          cpinfo.exe es850c "Spanish CP-850 (ntxspa.obj compatible)" 850
>
>   
That  cause an index that includes UPPER() of a field that contains a 
CHR(163) get corrupted if I use in clipper and harbour

>       Now translations can be done between CPs using different number of
>       letters or even defined for different languages so I have question
>       to Spanish users: Do you need ESISOC and ESWINC for anything?
>   
I never use that files, but I am really new in harbour, I do not know if 
it is required for compatibility with other producs
1/10/09 11:58:54 DOS 5.00 Clipper (R) 5.2e Intl. (x216)  (1995.02.07)
Character encoding: NTXSORT v1.21e x15 24/Jun/93

Thank you  all for your great work.


Maurizio


From vszakats at users.sourceforge.net  Tue Nov 10 09:15:54 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Nov 10 09:16:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12856] trunk/harbour
Message-ID: <E1N7rVi-0000fs-1l@74yxhf1.ch3.sourceforge.com>

Revision: 12856
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12856&view=rev
Author:   vszakats
Date:     2009-11-10 14:15:53 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-10 15:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/codepage/cpes850c.c
  * src/codepage/cpnl850.c
  * src/codepage/cpde850.c
  * src/codepage/cpfi850.c
  * src/codepage/cpit850.c
    ! Wrong CP in descriptions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/codepage/cpde850.c
    trunk/harbour/src/codepage/cpes850c.c
    trunk/harbour/src/codepage/cpfi850.c
    trunk/harbour/src/codepage/cpit850.c
    trunk/harbour/src/codepage/cpnl850.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Nov 10 09:29:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Nov 10 09:29:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12857] trunk/harbour
Message-ID: <E1N7riv-0000wv-H3@74yxhf1.ch3.sourceforge.com>

Revision: 12857
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12857&view=rev
Author:   vszakats
Date:     2009-11-10 14:29:32 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-10 15:25 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbextcdp.ch
    * Updated to reflect recent couple of commits.

  * src/codepage/Makefile
  + src/codepage/cpit850m.c
  + src/codepage/cpde850m.c
  + src/codepage/cpsv850m.c
  + src/codepage/cpnl850m.c
  + src/codepage/cpes850m.c
  + src/codepage/cpfr850m.c
    + Added mdx*.obj compatible CPs, created by cpinfo.prg.
    ; TOFIX: I didn't added mdxuk and mdxusa, simply because 
             it cannot fit in current filename scheme, which 
             uses only two chars to denote language.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbextcdp.ch
    trunk/harbour/src/codepage/Makefile

Added Paths:
-----------
    trunk/harbour/src/codepage/cpde850m.c
    trunk/harbour/src/codepage/cpes850m.c
    trunk/harbour/src/codepage/cpfr850m.c
    trunk/harbour/src/codepage/cpit850m.c
    trunk/harbour/src/codepage/cpnl850m.c
    trunk/harbour/src/codepage/cpsv850m.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From elart at elart.it  Tue Nov 10 10:31:39 2009
From: elart at elart.it (elart)
Date: Tue Nov 10 10:31:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12857] trunk/harbour
In-Reply-To: <E1N7riv-0000wv-H3@74yxhf1.ch3.sourceforge.com>
Message-ID: <W1bwT0oB.1257867099.1010660.marcobra@82.105.36.210>


Hi all, i get this error on Ubuntu 9.10 compiling the 12857 revision

...
gcc  -I. -I../../../../../include  -Wall -W -O3   -ocpde850m.o -c
../../../cpde850m.c
../../../cpde850m.c:43: error: stray ?\32? in program

make[3]: *** [cpde850m.o] Errore 1


Thank you and best regards

Marco
From vszakats at users.sourceforge.net  Tue Nov 10 10:55:34 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Nov 10 10:55:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12858] trunk/harbour
Message-ID: <E1N7t4A-0006mq-4y@3kljzd1.ch3.sourceforge.com>

Revision: 12858
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12858&view=rev
Author:   vszakats
Date:     2009-11-10 15:55:33 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-10 16:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/codepage/cpit850m.c
  * src/codepage/cpde850m.c
  * src/codepage/cpsv850m.c
  * src/codepage/cpnl850m.c
  * src/codepage/cpes850m.c
  * src/codepage/cpfr850m.c
    ! Deleted Chr(26) EOL.

  * src/codepage/Makefile
  - src/codepage/cpgr851.c
  * include/hbextcdp.ch
    - Deleted this CP as we miss CP 851 definition.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbextcdp.ch
    trunk/harbour/src/codepage/Makefile
    trunk/harbour/src/codepage/cpde850m.c
    trunk/harbour/src/codepage/cpes850m.c
    trunk/harbour/src/codepage/cpfr850m.c
    trunk/harbour/src/codepage/cpit850m.c
    trunk/harbour/src/codepage/cpnl850m.c
    trunk/harbour/src/codepage/cpsv850m.c

Removed Paths:
-------------
    trunk/harbour/src/codepage/cpgr851.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From teo at windtelsoft.com  Tue Nov 10 12:07:34 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Tue Nov 10 12:07:47 2009
Subject: [Harbour] hbmk2, double declaring of hbrdd lib
Message-ID: <7E799D8A-3449-43B2-BB44-E3F1BCA3F3C7@windtelsoft.com>

Hello Viktor,

As subject:

gcc test.o hbmk_c2dlz3.o   -Wl,--start-group -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgttrm -lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbmacro -lhbcplr -lhbpp -lhbcommon -lm -ldl -lrt -lz -lhbpcre  -Wl,--end-group -otest -L/usr/lib/harbour


Also can you kindly add to the hbmk2 --help, that is requiered to enclose in double quotes ("") the value given to "-ldflag=" in order to avoid stripping of libnames ?, I think that it's important to *nixes users .


Thank you in advance.


best regards,

Teo

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091110/d58e4587/attachment.html
From bedipritpal at hotmail.com  Tue Nov 10 11:34:44 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Nov 10 12:16:35 2009
Subject: [Harbour] CPU Consumption and hb_idleState()
In-Reply-To: <20091109224440.GA18865@34-mo7-2.home.aster.pl>
References: <26240902.post@talk.nabble.com> <26249073.post@talk.nabble.com>
	<20091108104629.GA26710@34-mo7-2.home.aster.pl>
	<26255827.post@talk.nabble.com>
	<20091108175544.GA14448@34-mo7-2.home.aster.pl>
	<26256802.post@talk.nabble.com>
	<20091109224440.GA18865@34-mo7-2.home.aster.pl>
Message-ID: <26286626.post@talk.nabble.com>


Thanks Przemek


Przemys?aw Czerpak wrote:
> 
> Full log in attachment.
> I only run demoxbp and closed it using [x] button.
> 

This has helped in locating a cople of problems.
Can you repeate the same test again after afreash checkout.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/CPU-Consumption-and-hb_idleState%28%29-tp26240902p26286626.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Tue Nov 10 12:25:30 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Nov 10 12:25:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12860] trunk/harbour
Message-ID: <E1N7uTC-0004B5-QE@bj8yhf1.ch3.sourceforge.com>

Revision: 12860
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12860&view=rev
Author:   druzus
Date:     2009-11-10 17:25:29 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-10 18:24 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/tests/cpinfo.prg
  * harbour/include/hbapicdp.h
  * harbour/include/hbcdpreg.h
    * modified format used for CP definition using binary tables
    + added Latin character striping from non Latin based CPs
    * changed warning message to be more clear. In most of cases when
      this message is shown:
         Warning: irregular CP which needs verification for human
                  readable definition in Harbour
      it should be possible to create human non binary CP definition.
      Usually it should be enough to copy HB_CP_UPPER and HB_CP_LOWER
      strings and verify if final result are compatible by comparing
      automatically generated .c file with binary tables. If you will
      find some CPs where it's not compatible then please inform me
      about it and I'll try to update cpinfo.prg
      When this message is shown:
         Warning: irregular CP which needs special definition in Harbour
                  using binary tables generated by this program
      then binary tables have to be used to replicate exact CP conditions.
      If no warning message is shown then human readable form of CP
      definition can be used without (I hope ;)) additional verification.

  * harbour/src/codepage/cpno865.c
  * harbour/src/codepage/cpit850m.c
  * harbour/src/codepage/cpis850.c
  * harbour/src/codepage/cpfr850.c
  * harbour/src/codepage/cpes850c.c
  * harbour/src/codepage/cpsv850m.c
  * harbour/src/codepage/cpde850m.c
  * harbour/src/codepage/cppt860.c
  * harbour/src/codepage/cpnl850m.c
  * harbour/src/codepage/cpnl850.c
  * harbour/src/codepage/cpde850.c
  * harbour/src/codepage/cpfi850.c
  * harbour/src/codepage/cpit850.c
  * harbour/src/codepage/cpis861.c
  * harbour/src/codepage/cpes850m.c
  * harbour/src/codepage/cpfr850m.c
  * harbour/src/codepage/cpsv437c.c
  * harbour/src/codepage/cpdk865.c
  * harbour/src/codepage/cpgr437.c
    * updated for new format

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapicdp.h
    trunk/harbour/include/hbcdpreg.h
    trunk/harbour/src/codepage/cpde850.c
    trunk/harbour/src/codepage/cpde850m.c
    trunk/harbour/src/codepage/cpdk865.c
    trunk/harbour/src/codepage/cpes850c.c
    trunk/harbour/src/codepage/cpes850m.c
    trunk/harbour/src/codepage/cpfi850.c
    trunk/harbour/src/codepage/cpfr850.c
    trunk/harbour/src/codepage/cpfr850m.c
    trunk/harbour/src/codepage/cpgr437.c
    trunk/harbour/src/codepage/cpis850.c
    trunk/harbour/src/codepage/cpis861.c
    trunk/harbour/src/codepage/cpit850.c
    trunk/harbour/src/codepage/cpit850m.c
    trunk/harbour/src/codepage/cpnl850.c
    trunk/harbour/src/codepage/cpnl850m.c
    trunk/harbour/src/codepage/cpno865.c
    trunk/harbour/src/codepage/cppt860.c
    trunk/harbour/src/codepage/cpsv437c.c
    trunk/harbour/src/codepage/cpsv850m.c
    trunk/harbour/tests/cpinfo.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From elart at elart.it  Tue Nov 10 12:25:50 2009
From: elart at elart.it (elart)
Date: Tue Nov 10 12:25:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12858] trunk/harbour
In-Reply-To: <E1N7t4A-0006mq-4y@3kljzd1.ch3.sourceforge.com>
Message-ID: <WArcIrNV.1257873949.9850980.marcobra@82.105.36.210>


Hi all, on Ubuntu 9.10 32 bits

Revision: 12858 compile error

../../../../../src/codepage/obj/linux/gcc/cpde850m_dyn.o: In function
`HB_FUN_HB_CODEPAGE_HB_CP_ID':
cpde850m.c:(.text+0x0): multiple definition of
`HB_FUN_HB_CODEPAGE_HB_CP_ID'
../../../../../src/codepage/obj/linux/gcc/cpde850_dyn.o:cpde850.c:(.text+0x0):
first defined here
../../../../../src/codepage/obj/linux/gcc/cpdk865_dyn.o: In function
`HB_FUN_HB_CODEPAGE_HB_CP_ID':
cpdk865.c:(.text+0x0): multiple definition of
`HB_FUN_HB_CODEPAGE_HB_CP_ID'
../../../../../src/codepage/obj/linux/gcc/cpde850_dyn.o:cpde850.c:(.text+0x0):
first defined here
../../../../../src/codepage/obj/linux/gcc/cpes850c_dyn.o: In function
`HB_FUN_HB_CODEPAGE_HB_CP_ID':
cpes850c.c:(.text+0x0): multiple definition of
`HB_FUN_HB_CODEPAGE_HB_CP_ID'
../../../../../src/codepage/obj/linux/gcc/cpde850_dyn.o:cpde850.c:(.text+0x0):
first defined here
../../../../../src/codepage/obj/linux/gcc/cpes850m_dyn.o: In function
`HB_FUN_HB_CODEPAGE_HB_CP_ID':
cpes850m.c:(.text+0x0): multiple definition of
`HB_FUN_HB_CODEPAGE_HB_CP_ID'
../../../../../src/codepage/obj/linux/gcc/cpde850_dyn.o:cpde850.c:(.text+0x0):
first defined here
../../../../../src/codepage/obj/linux/gcc/cpfi850_dyn.o: In function
`HB_FUN_HB_CODEPAGE_HB_CP_ID':
cpfi850.c:(.text+0x0): multiple definition of
`HB_FUN_HB_CODEPAGE_HB_CP_ID'
../../../../../src/codepage/obj/linux/gcc/cpde850_dyn.o:cpde850.c:(.text+0x0):
first defined here
../../../../../src/codepage/obj/linux/gcc/cpfr850_dyn.o: In function
`HB_FUN_HB_CODEPAGE_HB_CP_ID':
cpfr850.c:(.text+0x0): multiple definition of
`HB_FUN_HB_CODEPAGE_HB_CP_ID'
../../../../../src/codepage/obj/linux/gcc/cpde850_dyn.o:cpde850.c:(.text+0x0):
first defined here
../../../../../src/codepage/obj/linux/gcc/cpfr850m_dyn.o: In function
`HB_FUN_HB_CODEPAGE_HB_CP_ID':
cpfr850m.c:(.text+0x0): multiple definition of
`HB_FUN_HB_CODEPAGE_HB_CP_ID'
../../../../../src/codepage/obj/linux/gcc/cpde850_dyn.o:cpde850.c:(.text+0x0):
first defined here
../../../../../src/codepage/obj/linux/gcc/cpgr437_dyn.o: In function
`HB_FUN_HB_CODEPAGE_HB_CP_ID':
cpgr437.c:(.text+0x0): multiple definition of
`HB_FUN_HB_CODEPAGE_HB_CP_ID'
../../../../../src/codepage/obj/linux/gcc/cpde850_dyn.o:cpde850.c:(.text+0x0):
first defined here
../../../../../src/codepage/obj/linux/gcc/cpis850_dyn.o: In function
`HB_FUN_HB_CODEPAGE_HB_CP_ID':
cpis850.c:(.text+0x0): multiple definition of
`HB_FUN_HB_CODEPAGE_HB_CP_ID'
../../../../../src/codepage/obj/linux/gcc/cpde850_dyn.o:cpde850.c:(.text+0x0):
first defined here
../../../../../src/codepage/obj/linux/gcc/cpis861_dyn.o: In function
`HB_FUN_HB_CODEPAGE_HB_CP_ID':
cpis861.c:(.text+0x0): multiple definition of
`HB_FUN_HB_CODEPAGE_HB_CP_ID'
../../../../../src/codepage/obj/linux/gcc/cpde850_dyn.o:cpde850.c:(.text+0x0):
first defined here
../../../../../src/codepage/obj/linux/gcc/cpit850_dyn.o: In function
`HB_FUN_HB_CODEPAGE_HB_CP_ID':
cpit850.c:(.text+0x0): multiple definition of
`HB_FUN_HB_CODEPAGE_HB_CP_ID'
../../../../../src/codepage/obj/linux/gcc/cpde850_dyn.o:cpde850.c:(.text+0x0):
first defined here
../../../../../src/codepage/obj/linux/gcc/cpit850m_dyn.o: In function
`HB_FUN_HB_CODEPAGE_HB_CP_ID':
cpit850m.c:(.text+0x0): multiple definition of
`HB_FUN_HB_CODEPAGE_HB_CP_ID'
../../../../../src/codepage/obj/linux/gcc/cpde850_dyn.o:cpde850.c:(.text+0x0):
first defined here
../../../../../src/codepage/obj/linux/gcc/cpnl850_dyn.o: In function
`HB_FUN_HB_CODEPAGE_HB_CP_ID':
cpnl850.c:(.text+0x0): multiple definition of
`HB_FUN_HB_CODEPAGE_HB_CP_ID'
../../../../../src/codepage/obj/linux/gcc/cpde850_dyn.o:cpde850.c:(.text+0x0):
first defined here
../../../../../src/codepage/obj/linux/gcc/cpnl850m_dyn.o: In function
`HB_FUN_HB_CODEPAGE_HB_CP_ID':
cpnl850m.c:(.text+0x0): multiple definition of
`HB_FUN_HB_CODEPAGE_HB_CP_ID'
../../../../../src/codepage/obj/linux/gcc/cpde850_dyn.o:cpde850.c:(.text+0x0):
first defined here
../../../../../src/codepage/obj/linux/gcc/cpno865_dyn.o: In function
`HB_FUN_HB_CODEPAGE_HB_CP_ID':
cpno865.c:(.text+0x0): multiple definition of
`HB_FUN_HB_CODEPAGE_HB_CP_ID'
../../../../../src/codepage/obj/linux/gcc/cpde850_dyn.o:cpde850.c:(.text+0x0):
first defined here
../../../../../src/codepage/obj/linux/gcc/cppt860_dyn.o: In function
`HB_FUN_HB_CODEPAGE_HB_CP_ID':
cppt860.c:(.text+0x0): multiple definition of
`HB_FUN_HB_CODEPAGE_HB_CP_ID'
../../../../../src/codepage/obj/linux/gcc/cpde850_dyn.o:cpde850.c:(.text+0x0):
first defined here
../../../../../src/codepage/obj/linux/gcc/cpsv437c_dyn.o: In function
`HB_FUN_HB_CODEPAGE_HB_CP_ID':
cpsv437c.c:(.text+0x0): multiple definition of
`HB_FUN_HB_CODEPAGE_HB_CP_ID'
../../../../../src/codepage/obj/linux/gcc/cpde850_dyn.o:cpde850.c:(.text+0x0):
first defined here
../../../../../src/codepage/obj/linux/gcc/cpsv850m_dyn.o: In function
`HB_FUN_HB_CODEPAGE_HB_CP_ID':
cpsv850m.c:(.text+0x0): multiple definition of
`HB_FUN_HB_CODEPAGE_HB_CP_ID'
../../../../../src/codepage/obj/linux/gcc/cpde850_dyn.o:cpde850.c:(.text+0x0):
first defined here
collect2: ld returned 1 exit status
make[3]: *** [libharbour-2.0.0.so] Errore 1
make[2]: *** [descend] Errore 2
make[1]: *** [dynlib.inst] Errore 2
make: *** [src.inst] Errore 2


Thank you and best regards

Marco
From vouchcac at users.sourceforge.net  Tue Nov 10 11:30:37 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Nov 10 12:27:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12859] trunk/harbour
Message-ID: <E1N7tc5-0001iN-0Z@dn4whf1.ch3.sourceforge.com>

Revision: 12859
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12859&view=rev
Author:   vouchcac
Date:     2009-11-10 16:30:28 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-09 08:26 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbxbp/xbpgeneric.prg
  * contrib/hbxbp/xbpmenubar.prg
  * contrib/hbxbp/xbptabpage.prg
    ! Fixed some stupid typos and changed the way signals are disconnected.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/contrib/hbxbp/xbpmenubar.prg
    trunk/harbour/contrib/hbxbp/xbptabpage.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Nov 10 12:28:29 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 10 12:28:40 2009
Subject: [Harbour] hbmk2, double declaring of hbrdd lib
In-Reply-To: <7E799D8A-3449-43B2-BB44-E3F1BCA3F3C7@windtelsoft.com>
References: <7E799D8A-3449-43B2-BB44-E3F1BCA3F3C7@windtelsoft.com>
Message-ID: <6124A6EF-D00D-4639-8B49-65320C04AE7E@syenar.hu>

> Hello Viktor,
>
> As subject:
>
> gcc test.o hbmk_c2dlz3.o   -Wl,--start-group -lhbextern -lhbdebug - 
> lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgttrm - 
> lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx -lrddfpt - 
> lhbrdd -lhbhsx -lhbsix -lhbmacro -lhbcplr -lhbpp -lhbcommon -lm -ldl  
> -lrt -lz -lhbpcre  -Wl,--end-group -otest -L/usr/lib/harbour

You can ignore that. hbmk2 has a mode when lib grouping isn't used,
and such duplication is needed in that mode. I didn't create special
cases for both modes when defining lib lists to keep things  
maintainable.
It won't cause any problems AFAIK.

> Also can you kindly add to the hbmk2 --help, that is requiered to  
> enclose in double quotes ("") the value given to "-ldflag=" in order  
> to avoid stripping of libnames ?, I think that it's important to  
> *nixes users .

That's not exactly how it works, and it's not hbmk2
logic that plays role in this case.

Since you're using -ldflag= in command line with
command substitution macro, it will be expanded by
*nix shell, not hbmk2. This means that your command
line will be converted to something like
'hbmk2 -ldflag=-llib1 -llib2 -lib3'

This means an obvious problem, since only the
first option will be passed directly via -ldflag,
the rest will be interpreted as hbmk2 -l option,
where extensions are truncated.

If you use quotes I guess shell won't expand it,
but hbmk2 will instead, that's why it works.

I'd recommend using command files (.hbp or .hbm) to
avoid any differences due different shell expansion
rules across platforms/shells.

Also remember that -ldflag is meant to pass one flag
at a time, so if you want to pass more, you have to
trick hbmk2 (or shell) to handle it as one. Usually
for such lib dependencies it's much more convenient
to use .hbc files, and in those files the whole matter
is handled smoothly, as shown in wxharbour.hbc, since
ldflags= in .hbc files cannot have any cmdline
expansion problems in the first place, plus it
handles multiple options natively.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Nov 10 12:37:46 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 10 12:37:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12860] trunk/harbour
In-Reply-To: <E1N7uTC-0004B5-QE@bj8yhf1.ch3.sourceforge.com>
References: <E1N7uTC-0004B5-QE@bj8yhf1.ch3.sourceforge.com>
Message-ID: <B9DDF56C-DC1F-4E48-8B04-B4888027308E@syenar.hu>

> Log Message:
> -----------
> 2009-11-10 18:24 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/tests/cpinfo.prg
>  * harbour/include/hbapicdp.h
>  * harbour/include/hbcdpreg.h
>    * modified format used for CP definition using binary tables
>    + added Latin character striping from non Latin based CPs
>    * changed warning message to be more clear. In most of cases when
>      this message is shown:
>         Warning: irregular CP which needs verification for human
>                  readable definition in Harbour
>      it should be possible to create human non binary CP definition.
>      Usually it should be enough to copy HB_CP_UPPER and HB_CP_LOWER
>      strings and verify if final result are compatible by comparing
>      automatically generated .c file with binary tables. If you will
>      find some CPs where it's not compatible then please inform me
>      about it and I'll try to update cpinfo.prg
>      When this message is shown:
>         Warning: irregular CP which needs special definition in  
> Harbour
>                  using binary tables generated by this program
>      then binary tables have to be used to replicate exact CP  
> conditions.
>      If no warning message is shown then human readable form of CP
>      definition can be used without (I hope ;)) additional  
> verification.

Could cpinfo.prg automatically decide on the above and
create appropriate raw or readable output?

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Nov 10 12:54:54 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Nov 10 12:55:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12861] trunk/harbour
Message-ID: <E1N7uve-0004Om-MD@d5vjzd1.ch3.sourceforge.com>

Revision: 12861
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12861&view=rev
Author:   vszakats
Date:     2009-11-10 17:54:53 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-10 18:54 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * tests/cpinfo.prg
    + Avoiding memowrit() since it will append a Chr(26) which 
      may cause problems.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/tests/cpinfo.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Nov 10 13:23:04 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 10 13:23:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12860] trunk/harbour
In-Reply-To: <B9DDF56C-DC1F-4E48-8B04-B4888027308E@syenar.hu>
References: <E1N7uTC-0004B5-QE@bj8yhf1.ch3.sourceforge.com>
	<B9DDF56C-DC1F-4E48-8B04-B4888027308E@syenar.hu>
Message-ID: <20091110182304.GA1915@34-mo7-2.home.aster.pl>

On Tue, 10 Nov 2009, Szak?ts Viktor wrote:

Hi,

> Could cpinfo.prg automatically decide on the above and
> create appropriate raw or readable output?

I'v'e just made such modification but when warning mesage appears
then to final file binary table is added inside #if 0 / #endif, i.e.:

   #if 0 /* TOVERIFY: binary tables */

   #define HB_CP_RAW

   static const unsigned char s_flags[ 256 ] = { 0,0,0,0,0,0,0,0, ...
   static const unsigned char s_upper[ 256 ] = { 0,1,2,3,4,5,6,7, ...
   static const unsigned char s_lower[ 256 ] = { 0,1,2,3,4,5,6,7, ...
   static const unsigned char s_sort [ 256 ] = { 0,1,2,3,4,5,6,7, ...

   #endif

It means that someone should recompile new CP code with Harbour and
generate CP file again but this time using cpinfo compiled by Harbour
and compare results.
If they are the same then he should remove above #if 0 / #endif
statement from final SVN file to inform other users that CPs were
verified and works in human readable form.

If generated CP file does not contain TOVERIFY string then it means that
cpinfo can decided to use binary tables or human readable form itself.

I'll commit it in a while and I would like to ask you to verify the
CPs you committed today if you find some spare time.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Nov 10 13:32:23 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Nov 10 13:32:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12862] trunk/harbour
Message-ID: <E1N7vVv-0004W3-8X@c3vjzd1.ch3.sourceforge.com>

Revision: 12862
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12862&view=rev
Author:   druzus
Date:     2009-11-10 18:32:19 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-10 19:31 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbcdpreg.h
    * use macro instead of direct value

  * harbour/tests/cpinfo.prg
    + generate .c files with CP definition in human readable form
      when it's can be safely use or with optional binary table when
      it should be verified if such form is acceptable.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbcdpreg.h
    trunk/harbour/tests/cpinfo.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From zen25000 at zen.co.uk  Tue Nov 10 13:34:25 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Tue Nov 10 13:34:32 2009
Subject: [Harbour] User forum broken - redirect loop
In-Reply-To: <A5B27261-06E1-4FA9-B0E3-CED3DBEA41EC@syenar.hu>
References: <4AF962DA.9050501@zen.co.uk>
	<A5B27261-06E1-4FA9-B0E3-CED3DBEA41EC@syenar.hu>
Message-ID: <4AF9B231.9010500@zen.co.uk>

On 10/11/09 13:33, Viktor Szak?ts wrote:
> Hi Barry,
>
> Pls report such problems on sf.net support channels.
>
> Brgds,
> Viktor

https://sourceforge.net/apps/trac/sourceforge/ticket/6402

From harbour.01 at syenar.hu  Tue Nov 10 13:39:16 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Nov 10 13:39:27 2009
Subject: [Harbour] User forum broken - redirect loop
In-Reply-To: <4AF9B231.9010500@zen.co.uk>
References: <4AF962DA.9050501@zen.co.uk>
	<A5B27261-06E1-4FA9-B0E3-CED3DBEA41EC@syenar.hu>
	<4AF9B231.9010500@zen.co.uk>
Message-ID: <E0D3C04C-0D2A-4CE5-9227-A0534A339149@syenar.hu>

Thank you very much.

Brgds,
Viktor

On 2009 Nov 10, at 19:34, Barry Jackson wrote:

> On 10/11/09 13:33, Viktor Szak?ts wrote:
>> Hi Barry,
>>
>> Pls report such problems on sf.net support channels.
>>
>> Brgds,
>> Viktor
>
> https://sourceforge.net/apps/trac/sourceforge/ticket/6402
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From abe.buch at att.net  Tue Nov 10 13:47:52 2009
From: abe.buch at att.net (AbeB)
Date: Tue Nov 10 13:47:58 2009
Subject: [Harbour] fopen in WINCE
Message-ID: <1257878872788-3981822.post@n2.nabble.com>



it can return a negative result as a valid handle under wince.
it will return -1 for an error 
is that ok? 
i used to check the result of fopen if it's < 0 and take it as an error.

  
-- 
View this message in context: http://n2.nabble.com/fopen-in-WINCE-tp3981822p3981822.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From harbour.01 at syenar.hu  Tue Nov 10 14:01:07 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 10 14:01:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12860] trunk/harbour
In-Reply-To: <20091110182304.GA1915@34-mo7-2.home.aster.pl>
References: <E1N7uTC-0004B5-QE@bj8yhf1.ch3.sourceforge.com>
	<B9DDF56C-DC1F-4E48-8B04-B4888027308E@syenar.hu>
	<20091110182304.GA1915@34-mo7-2.home.aster.pl>
Message-ID: <86EE8107-06B3-46C5-AD12-D95B42E2C13E@syenar.hu>

Can't really evaluate the results (at lest I don't know what
actions to make), so I've attached cpinfo.txt output from Clipper
and Harbour.

BTW, maybe it'd be better to use the cp name instead of cpinfo.txt.

Brgds,
Viktor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.zip
Type: application/zip
Size: 19237 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091110/b711faee/test-0001.zip
-------------- next part --------------

On 2009 Nov 10, at 19:23, Przemys?aw Czerpak wrote:

> On Tue, 10 Nov 2009, Szak?ts Viktor wrote:
>
> Hi,
>
>> Could cpinfo.prg automatically decide on the above and
>> create appropriate raw or readable output?
>
> I'v'e just made such modification but when warning mesage appears
> then to final file binary table is added inside #if 0 / #endif, i.e.:
>
>   #if 0 /* TOVERIFY: binary tables */
>
>   #define HB_CP_RAW
>
>   static const unsigned char s_flags[ 256 ] = { 0,0,0,0,0,0,0,0, ...
>   static const unsigned char s_upper[ 256 ] = { 0,1,2,3,4,5,6,7, ...
>   static const unsigned char s_lower[ 256 ] = { 0,1,2,3,4,5,6,7, ...
>   static const unsigned char s_sort [ 256 ] = { 0,1,2,3,4,5,6,7, ...
>
>   #endif
>
> It means that someone should recompile new CP code with Harbour and
> generate CP file again but this time using cpinfo compiled by Harbour
> and compare results.
> If they are the same then he should remove above #if 0 / #endif
> statement from final SVN file to inform other users that CPs were
> verified and works in human readable form.
>
> If generated CP file does not contain TOVERIFY string then it means  
> that
> cpinfo can decided to use binary tables or human readable form itself.
>
> I'll commit it in a while and I would like to ask you to verify the
> CPs you committed today if you find some spare time.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From gfilatov at front.ru  Tue Nov 10 14:07:04 2009
From: gfilatov at front.ru (Grigory Filatov)
Date: Tue Nov 10 14:07:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12861] trunk/harbour
In-Reply-To: <E1N7uve-0004Om-MD@d5vjzd1.ch3.sourceforge.com>
References: <E1N7uve-0004Om-MD@d5vjzd1.ch3.sourceforge.com>
Message-ID: <26288685.post@talk.nabble.com>


Hi Viktor,

> Avoiding memowrit() since it will append a Chr(26) which may cause
> problems.

You can use the function hb_memowrit() in cpinfo.prg instead of the static
function write_file.

Thanks for your efforts!

--
Regards,
Grigory


vszakats wrote:
> 
> Revision: 12861
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12861&view=rev
> Author:   vszakats
> Date:     2009-11-10 17:54:53 +0000 (Tue, 10 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-10 18:54 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * tests/cpinfo.prg
>     + Avoiding memowrit() since it will append a Chr(26) which 
>       may cause problems.
> 
> 

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12861--trunk-harbour-tp26288211p26288685.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Nov 10 14:09:55 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 10 14:10:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12861] trunk/harbour
In-Reply-To: <26288685.post@talk.nabble.com>
References: <E1N7uve-0004Om-MD@d5vjzd1.ch3.sourceforge.com>
	<26288685.post@talk.nabble.com>
Message-ID: <772F5969-2553-49E6-8AC8-F97EDFCEEE04@syenar.hu>

Hi Grigory,

>> Avoiding memowrit() since it will append a Chr(26) which may cause
>> problems.
>
> You can use the function hb_memowrit() in cpinfo.prg instead of the  
> static
> function write_file.

This tool has to work when compiled with Clipper, too, so
I couldn't use hb_memowrite() here.

> Thanks for your efforts!

Thanks.

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Tue Nov 10 14:55:48 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Nov 10 14:55:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12863] trunk/harbour
Message-ID: <E1N7woe-0006bN-CK@bj8yhf1.ch3.sourceforge.com>

Revision: 12863
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12863&view=rev
Author:   vouchcac
Date:     2009-11-10 19:55:47 +0000 (Tue, 10 Nov 2009)

Log Message:
-----------
2009-11-10 11:55 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpmenubar.prg
    ! Fixed diuble freeing of signals.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/xbpmenubar.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Tue Nov 10 14:57:26 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Nov 10 14:57:32 2009
Subject: [Harbour] CPU Consumption and hb_idleState()
In-Reply-To: <20091109224440.GA18865@34-mo7-2.home.aster.pl>
References: <26240902.post@talk.nabble.com> <26249073.post@talk.nabble.com>
	<20091108104629.GA26710@34-mo7-2.home.aster.pl>
	<26255827.post@talk.nabble.com>
	<20091108175544.GA14448@34-mo7-2.home.aster.pl>
	<26256802.post@talk.nabble.com>
	<20091109224440.GA18865@34-mo7-2.home.aster.pl>
Message-ID: <26289072.post@talk.nabble.com>


Hi


Przemys?aw Czerpak wrote:
> 
> Full log in attachment.
> I only run demoxbp and closed it using [x] button.
> 

Can you re-run for same log after 
/*
 * $Id: ChangeLog 12863 2009-11-10 19:55:47Z vouchcac $
 */

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/CPU-Consumption-and-hb_idleState%28%29-tp26240902p26289072.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From gvarona at ec-red.com  Tue Nov 10 19:07:37 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Tue Nov 10 19:04:29 2009
Subject: [Harbour] Starting in the use of Harbor with Ubuntu 
Message-ID: <4AFA0049.4020801@ec-red.com>

[SPA]
Iniciandome en el uso de Harbour con Ubuntu
Hola, estoy iniciandome en el uso de Harbour bajo Ubuntu y solicito su 
amable atenci?n a las siguientes preguntas:
1. Qu? distribuci?n de Linux utilizan, he elejido Ubuntu por que fue lo 
primero que pude bajar e instalar. ?Cu?l me recomiendan?
2. Que editor o IDE utilizan, en Windows utilizo xMate, habra algo 
similar en Ubuntu

[ENG] By Google
Starting in the use of Harbor with Ubuntu
Hello, I'm starting to use Harbor under Ubuntu and I request your kind 
attention to the following questions:
1. What distribution of Linux use, I Elected Ubuntu was the first thing 
that I could download and install. What do you recommend?
2. That editor or IDE used in xMate use Windows, there will be something 
similar in Ubuntu

TIA

Best Regards
GVS
From bruno.luciani at gmail.com  Tue Nov 10 19:44:21 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Nov 10 19:44:30 2009
Subject: [Harbour] Starting in the use of Harbor with Ubuntu
In-Reply-To: <4AFA0049.4020801@ec-red.com>
References: <4AFA0049.4020801@ec-red.com>
Message-ID: <133778360911101644n229706ffhb19df2310d318ad4@mail.gmail.com>

2009/11/10 Guillermo Varona Silup? <gvarona@ec-red.com>

> [SPA]
> Iniciandome en el uso de Harbour con Ubuntu
> Hola, estoy iniciandome en el uso de Harbour bajo Ubuntu y solicito su
> amable atenci?n a las siguientes preguntas:
> 1. Qu? distribuci?n de Linux utilizan, he elejido Ubuntu por que fue lo
> primero que pude bajar e instalar. ?Cu?l me recomiendan?
> 2. Que editor o IDE utilizan, en Windows utilizo xMate, habra algo similar
> en Ubuntu
>

Guillermo Uso Ubuntu sin problemas actualizado a 9.10  compila descargando
del SVN y teniendo instalado  Build essentials
como editor me gusta KATE

Saludos

Bruno


> [ENG] By Google
> Starting in the use of Harbor with Ubuntu
> Hello, I'm starting to use Harbor under Ubuntu and I request your kind
> attention to the following questions:
> 1. What distribution of Linux use, I Elected Ubuntu was the first thing
> that I could download and install. What do you recommend?
> 2. That editor or IDE used in xMate use Windows, there will be something
> similar in Ubuntu
>

I use Ubuntu last version 9.10 without problems , harbour compiles ok using
SVn version , and you need Build Essentials installed

As editor I like Kate


Regards

Bruno


>
> TIA
>
> Best Regards
> GVS
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091110/d76237e8/attachment.html
From abe.buch at att.net  Tue Nov 10 22:37:37 2009
From: abe.buch at att.net (AbeB)
Date: Tue Nov 10 22:37:43 2009
Subject: [Harbour] dbcreate  error 1010 windows vista64
Message-ID: <1257910657633-3984226.post@n2.nabble.com>


this code generates an error under wista64, never had under XP.

------
    DBCREATE( MTEMPFILE,{;
    {     "ITEMID", "C",   8,  0 }, ;
    {       "ITEM", "C",  12,  0 }, ;
    {      "VITEM", "C",  12,  0 }, ;
    {      "CLASS", "C",   8,  0 }, ;
    {        "SUB", "C",   8,  0 }, ;
    {       "CQTY", "N",   7,  2 }, ;
    {       "DESC", "C",  40,  0 }, ;
    {        "MAN", "C",  15,  0 }, ;
    {     "BUYQTY", "N",    7,  2 }, ;
    {     "SOLDQTY", "N",    7,  2 }, ;
    {      "BUYAMT", "N",   10,  2 }, ;
    {     "SOLDAMT", "N",   10,  2 }, ;
    {     "BUYCASE", "N",    7,  2 }, ;
    {    "SOLDCASE", "N",    7,  2 }, ;
    {      "ONHAND", "N",    7,  2 }, ;
    {  "CASEONHAND", "N",    7,  2 }, ;
    {       "VEND1", "C",  LEN(VEND->VEND),  0 }, ;
    {   "VENDCOST1", "N",   10,  2 }, ;
    {       "VEND2", "C",  LEN(VEND->VEND),  0 }, ;
    {   "VENDCOST2", "N",   10,  2 } })

----------
ERROR BMDBFCDX/1010  Read error: \TEMP\EBD0C222.DBF
Called from: (b)ERRORSYS(29) in Module: ERRORSYS.prg
Called from: DBCREATE(0) in Module: 
-- 
View this message in context: http://n2.nabble.com/dbcreate-error-1010-windows-vista64-tp3984226p3984226.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From zen25000 at zen.co.uk  Wed Nov 11 06:51:22 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Wed Nov 11 06:51:30 2009
Subject: [Harbour] Making lib with hbmk2
In-Reply-To: <4AF8A7B3.8050104@zen.co.uk>
References: <4AF8A7B3.8050104@zen.co.uk>
Message-ID: <4AFAA53A.8060301@zen.co.uk>

On 09/11/09 23:37, Barry Jackson wrote:
> This used to work a few months back:-
>
> $ hbmk2 @barry -hblib -obarry
>
> Now it compiles all the .prg files in barry.hbm to .c and stops with no
> lib created.
> Has the syntax changed? I have not been following the list very closely
> recently.
>
> [baz@jackodesktop lib]$ hbmk2 @barry -hblib -obarry
> hbmk2: Processing configuration: /usr/bin/hbmk.cfg
> Harbour 2.0.0beta3 (Rev.12841)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'l_systmu.prg'...
> Lines 3569, Functions/Procedures 1
> Generating C source output to 'l_systmu.c'... Done.
> ---------------snip 50 or so-----------------------
> Compiling 'l_valdat.prg'...
> Lines 3594, Functions/Procedures 1
> Generating C source output to 'l_valdat.c'... Done.
> [baz@jackodesktop lib]$
>
> Trying to link my main application that uses the lib I get
>
> /usr/bin/ld: cannot find -lbarry
>
> Thanks, Barry
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
OK,
It was producing libbarry.a  in the current directory, not 
/usr/lib/harbour where I was expecting to find it.
Adding -instpath=/usr/lib/harbour/ to barry.hbm and building as root 
fixed it.
I'm learning ;-/
From zen25000 at zen.co.uk  Wed Nov 11 07:05:36 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Wed Nov 11 07:05:43 2009
Subject: [Harbour] Starting in the use of Harbor with Ubuntu
In-Reply-To: <133778360911101644n229706ffhb19df2310d318ad4@mail.gmail.com>
References: <4AFA0049.4020801@ec-red.com>
	<133778360911101644n229706ffhb19df2310d318ad4@mail.gmail.com>
Message-ID: <4AFAA890.5060406@zen.co.uk>

On 11/11/09 00:44, Bruno Luciani wrote:
>
>
> 2009/11/10 Guillermo Varona Silup? <gvarona@ec-red.com
> <mailto:gvarona@ec-red.com>>
>
>     [SPA]
>     Iniciandome en el uso de Harbour con Ubuntu
>     Hola, estoy iniciandome en el uso de Harbour bajo Ubuntu y solicito
>     su amable atenci?n a las siguientes preguntas:
>     1. Qu? distribuci?n de Linux utilizan, he elejido Ubuntu por que fue
>     lo primero que pude bajar e instalar. ?Cu?l me recomiendan?
>     2. Que editor o IDE utilizan, en Windows utilizo xMate, habra algo
>     similar en Ubuntu
>
>
> Guillermo Uso Ubuntu sin problemas actualizado a 9.10  compila
> descargando del SVN y teniendo instalado  Build essentials
> como editor me gusta KATE
>
> Saludos
>
> Bruno
>
>
>     [ENG] By Google
>     Starting in the use of Harbor with Ubuntu
>     Hello, I'm starting to use Harbor under Ubuntu and I request your
>     kind attention to the following questions:
>     1. What distribution of Linux use, I Elected Ubuntu was the first
>     thing that I could download and install. What do you recommend?
>     2. That editor or IDE used in xMate use Windows, there will be
>     something similar in Ubuntu
>
>
> I use Ubuntu last version 9.10 without problems , harbour compiles ok
> using SVn version , and you need Build Essentials installed
>
> As editor I like Kate
>
>
> Regards
>
> Bruno
>
>
>     TIA
>
>     Best Regards
>     GVS
>     _______________________________________________
>     Harbour mailing list
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

Mandriva Linux 2010.0 works fine for me. ( New release just out) Dolphin 
file manager in KDE4 has handy terminal feature on F4 and likewise I 
agree, Kate is an excellent editor with sessions saving to keep all 
projects organised.
Barry

From zen25000 at zen.co.uk  Wed Nov 11 07:20:20 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Wed Nov 11 07:20:27 2009
Subject: [Harbour] User forum broken - redirect loop
In-Reply-To: <E0D3C04C-0D2A-4CE5-9227-A0534A339149@syenar.hu>
References: <4AF962DA.9050501@zen.co.uk>
	<A5B27261-06E1-4FA9-B0E3-CED3DBEA41EC@syenar.hu>
	<4AF9B231.9010500@zen.co.uk>
	<E0D3C04C-0D2A-4CE5-9227-A0534A339149@syenar.hu>
Message-ID: <4AFAAC04.1060907@zen.co.uk>

On 10/11/09 18:39, Viktor Szak?ts wrote:
> Thank you very much.
>
> Brgds,
> Viktor
>
> On 2009 Nov 10, at 19:34, Barry Jackson wrote:
>
>> On 10/11/09 13:33, Viktor Szak?ts wrote:
>>> Hi Barry,
>>>
>>> Pls report such problems on sf.net support channels.
>>>
>>> Brgds,
>>> Viktor
>>
>> https://sourceforge.net/apps/trac/sourceforge/ticket/6402
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
On further investigation this may be a forum configuration problem.
AFAIR I have only ever used my SF login to access the forum, but now 
despite being logged in to SF the Harbour User Forum shows me as a guest 
with no write permissions, furthermore the "login" link is inactive, so 
there is no way to gain access.
Barry.

From vatzct at polly.com.ua  Wed Nov 11 09:01:58 2009
From: vatzct at polly.com.ua (vatzct)
Date: Wed Nov 11 09:01:51 2009
Subject: [Harbour] cpinfo and UA codepage
Message-ID: <4AFAC3D6.3000006@polly.com.ua>

Hi Przemek,

This is the result of cpinfo with UA codepage:


11/11/09 15:52:00 Windows XP 5.1.2600 Service Pack 1 Harbour 2.0.0beta3 
(Rev. 12818)
Character encoding: UA1125
==================================================
letter '?' (159:AU ) is wrongly sorted
letter '?' (175:A L ) is wrongly sorted
letters are not sorted continuously
Warning: irregular CP which needs special definition in Harbour
using binary tables generated by this program
upper: "?????????????????????????????????????"
lower: " ????????????????????????????????????"
HB_CP_UPPER: "????????????????????????????????????? "
HB_CP_LOWER: " ????????????????????????????????????????????????????"
==================================================

11/11/09 15:52:06 Windows XP 5.1.2600 Service Pack 1 Harbour 2.0.0beta3 
(Rev. 12818)
Character encoding: UA866
==================================================
letter '?' (159:AU ) is wrongly sorted
letter '?' (175:A L ) is wrongly sorted
letters are not sorted continuously
Warning: irregular CP which needs special definition in Harbour
using binary tables generated by this program
upper: "???????????????????????????????????"
lower: " ??????????????????????????????????"
HB_CP_UPPER: "??????????????????????????????????? "
HB_CP_LOWER: " ??????????????????????????????????????????????????"
==================================================

11/11/09 15:52:13 Windows XP 5.1.2600 Service Pack 1 Harbour 2.0.0beta3 
(Rev. 12818)
Character encoding: UAKOI8
==================================================
letter '?' (183:AU ) is wrongly sorted
letter '?' (167:A L ) is wrongly sorted
letters are not sorted continuously
Warning: irregular CP which needs special definition in Harbour
using binary tables generated by this program
upper: "?????????????????????????????????????"
lower: "?????????????????????????????????????"
==================================================

11/11/09 15:52:21 Windows XP 5.1.2600 Service Pack 1 Harbour 2.0.0beta3 
(Rev. 12818)
Character encoding: UA1251
==================================================
letter '?' (165:AU ) is wrongly sorted
letters are not sorted continuously
Warning: irregular CP which needs special definition in Harbour
using binary tables generated by this program
upper: "?????????????????????????????????????"
lower: "?????????????????????????????????????"
HB_CP_UPPER: "??????????????????????????????????????"
HB_CP_LOWER: "??????????????????????????????????????"
==================================================

Regards,
Alexey Myronenko
From harbour.01 at syenar.hu  Wed Nov 11 09:28:10 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Nov 11 09:28:20 2009
Subject: [Harbour] User forum broken - redirect loop
In-Reply-To: <4AFAAC04.1060907@zen.co.uk>
References: <4AF962DA.9050501@zen.co.uk>
	<A5B27261-06E1-4FA9-B0E3-CED3DBEA41EC@syenar.hu>
	<4AF9B231.9010500@zen.co.uk>
	<E0D3C04C-0D2A-4CE5-9227-A0534A339149@syenar.hu>
	<4AFAAC04.1060907@zen.co.uk>
Message-ID: <EAFF2355-2780-4F6B-A609-6765F32594AA@syenar.hu>

You have to use https to be able to login.

Brgds,
Viktor

On 2009 Nov 11, at 13:20, Barry Jackson wrote:

> On 10/11/09 18:39, Viktor Szak?ts wrote:
>> Thank you very much.
>>
>> Brgds,
>> Viktor
>>
>> On 2009 Nov 10, at 19:34, Barry Jackson wrote:
>>
>>> On 10/11/09 13:33, Viktor Szak?ts wrote:
>>>> Hi Barry,
>>>>
>>>> Pls report such problems on sf.net support channels.
>>>>
>>>> Brgds,
>>>> Viktor
>>>
>>> https://sourceforge.net/apps/trac/sourceforge/ticket/6402
>>>
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
> On further investigation this may be a forum configuration problem.
> AFAIR I have only ever used my SF login to access the forum, but now  
> despite being logged in to SF the Harbour User Forum shows me as a  
> guest with no write permissions, furthermore the "login" link is  
> inactive, so there is no way to gain access.
> Barry.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From calimero22 at freemail.it  Wed Nov 11 09:58:42 2009
From: calimero22 at freemail.it (calimero22@freemail.it)
Date: Wed Nov 11 09:58:49 2009
Subject: [Harbour] Array
Message-ID: <20091111145842.56410E0009BB@eva105.dadanet.it>

An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091111/0114b8af/attachment.html
From clipper at wssk.wroc.pl  Wed Nov 11 10:32:35 2009
From: clipper at wssk.wroc.pl (Jacek Kubica)
Date: Wed Nov 11 10:34:40 2009
Subject: [Harbour] Array
In-Reply-To: <20091111145842.56410E0009BB@eva105.dadanet.it>
References: <20091111145842.56410E0009BB@eva105.dadanet.it>
Message-ID: <1823617459.20091111163235@wssk.wroc.pl>

Hello Giovanni,

Wednesday, November 11, 2009, 3:58:42 PM, you wrote:

> Is it possible, in Harbour, to use arrays and vectors
> with a string index, like PHP language?
> Example v["dog"]="fuffy" or v["cat"]=1975
> Is it possible that?
> Giovanni Di Maria

Yes it is, using hash (associative) array`s as follow:

*-----------------
Function Main()
*-----------------
local v:= hb_hash()

  v["dog"]:="fuffy"
  v["cat"]:=1975
  
  ? v["dog"]  // -> fuffy
  ? v["cat"]  // -> 1975

Return NIL

-- 
Best regards,

 Jacek Kubica


From bedipritpal at hotmail.com  Wed Nov 11 10:46:10 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Nov 11 10:46:18 2009
Subject: [Harbour] Array
In-Reply-To: <20091111145842.56410E0009BB@eva105.dadanet.it>
References: <20091111145842.56410E0009BB@eva105.dadanet.it>
Message-ID: <26302995.post@talk.nabble.com>


Hi


calimero22 wrote:
> 
> Is it possible, in Harbour, to use arrays and vectors with a string index,
> like PHP language?
> 
> Example v["dog"]="fuffy" or v["cat"]=1975
> 
> Is it possible that?
> 

Yes.
The syntax is :

v := hb_hash()

v["dog"]="fuffy" 
v["cat"]=1975

? v["dog"]
? v["cat"]

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/Array-tp26302649p26302995.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From leonardo at sygecom.com.br  Wed Nov 11 12:37:20 2009
From: leonardo at sygecom.com.br (sygecom)
Date: Wed Nov 11 12:37:26 2009
Subject: [Harbour] how to control the MDI windows in ALIAS ?
Message-ID: <26305352.post@talk.nabble.com>


Do you have any function or command in the Harbour to dynamically control the
same ALIAS?. 
What I really need is to know how to deal with the ALIAS screens MDI, which
will open many time that DBF in the same window and moving the RECNO each
window without moving the other open windows with the same DBF?

Leonardo Machado
-- 
View this message in context: http://old.nabble.com/how-to-control-the-MDI-windows-in-ALIAS---tp26305352p26305352.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Nov 11 13:12:44 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Nov 11 13:12:51 2009
Subject: [Harbour] how to control the MDI windows in ALIAS ?
In-Reply-To: <26305352.post@talk.nabble.com>
References: <26305352.post@talk.nabble.com>
Message-ID: <26305942.post@talk.nabble.com>


Hi


sygecom wrote:
> 
> Do you have any function or command in the Harbour to dynamically control
> the same ALIAS?. 
> What I really need is to know how to deal with the ALIAS screens MDI,
> which will open many time that DBF in the same window and moving the RECNO
> each window without moving the other open windows with the same DBF?
> 

If it is MDI then it will be opening it in the same thread 
so you cannot open the same alias in two windows.

The suggested way to do is do something like this:

USE "MyTable" ALIAS ( MyMDIWindowsSomeID() + "TABLE" ) NEW SHARED

You need to adopt this approach all along whenever you open the 
same table in same thread. If you use multi-thread approach, you do not
have to distinguish alias. But in your case it is MDI window which is 
always tied to same thread where parent window is fired.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/how-to-control-the-MDI-windows-in-ALIAS---tp26305352p26305942.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Wed Nov 11 13:15:15 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Nov 11 13:15:42 2009
Subject: [Harbour] Go Programming Language vs Harbour Programming Languages
Message-ID: <609353e70911111015x412cadc0x3cf3d6656fee3b57@mail.gmail.com>

Google has just announced the release of a new, open sourced
programming language called Go. The company says that Go is
experimental, and that it combines the performance and security
benefits associated with using a compiled language like C++ with the
speed of a dynamic language like Python. http://golang.org/
Go is simple

package main
import "fmt"
func main() {
  fmt.Printf("Hello, ??\n")
}

Go compilers produce fast code fast. Typical builds take a fraction of
a second yet the resulting programs run nearly as quickly as
comparable C or C++ code.

Go is type safe and memory safe. Go has pointers but no pointer
arithmetic. For random access, use slices, which know their limits.

Go promotes writing systems and servers as sets of lightweight
communicating processes, called goroutines, with strong support from
the language. Run thousands of goroutines if you want?and say good-bye
to stack overflows.

Go has fast builds, clean syntax, garbage collection, methods for any
type, and run-time reflection. It feels like a dynamic language but
has the speed and safety of a static language. It's a joy to use.

Harbour seem me more simple,Fast,safe,concurrent,Fun,Open source than
the go Programming languages
Function Main
?? ? "Hello World
?? return


--
Massimo Belgrano
From leonardo at sygecom.com.br  Wed Nov 11 13:26:46 2009
From: leonardo at sygecom.com.br (sygecom)
Date: Wed Nov 11 13:26:53 2009
Subject: [Harbour] how to control the MDI windows in ALIAS ?
In-Reply-To: <26305942.post@talk.nabble.com>
References: <26305352.post@talk.nabble.com> <26305942.post@talk.nabble.com>
Message-ID: <26306161.post@talk.nabble.com>


Hi Pritpal,

Thank you, 
It is exactly MDI. But I thought the Harbor could have some specific
function or command to control it. I do not know well but Seems that in
Visual Fox Pro, something that controls what is a command AGAIN that is used
along with the USE.

Leonardo Machado


Pritpal Bedi wrote:
> 
> Hi
> 
> 
> sygecom wrote:
>> 
>> Do you have any function or command in the Harbour to dynamically control
>> the same ALIAS?. 
>> What I really need is to know how to deal with the ALIAS screens MDI,
>> which will open many time that DBF in the same window and moving the
>> RECNO each window without moving the other open windows with the same
>> DBF?
>> 
> 
> If it is MDI then it will be opening it in the same thread 
> so you cannot open the same alias in two windows.
> 
> The suggested way to do is do something like this:
> 
> USE "MyTable" ALIAS ( MyMDIWindowsSomeID() + "TABLE" ) NEW SHARED
> 
> You need to adopt this approach all along whenever you open the 
> same table in same thread. If you use multi-thread approach, you do not
> have to distinguish alias. But in your case it is MDI window which is 
> always tied to same thread where parent window is fired.
> 
> Regards
> Pritpal Bedi
> 
> 

-- 
View this message in context: http://old.nabble.com/how-to-control-the-MDI-windows-in-ALIAS---tp26305352p26306161.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Wed Nov 11 14:10:24 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Nov 11 14:10:50 2009
Subject: [Harbour] how to control the MDI windows in ALIAS ?
In-Reply-To: <26306161.post@talk.nabble.com>
References: <26305352.post@talk.nabble.com> <26305942.post@talk.nabble.com> 
	<26306161.post@talk.nabble.com>
Message-ID: <609353e70911111110k227774bamc86aad3f0a84ccc8@mail.gmail.com>

from Visual FoxPro 8.0 Language Reference
http://msdn.microsoft.com/en-us/library/aa978637(VS.71).aspx


USE Command
Opens a table and its associated index files, or a SQL view.

 USE [[DatabaseName!]Table | SQLViewName | ?]
   [IN nWorkArea | cTableAlias]   [ONLINE]   [ADMIN]   [AGAIN]
   [NOREQUERY [nDataSessionNumber]]   [NODATA]   [INDEX IndexFileList | ?
   [ORDER [nIndexNumber | IDXFileName   | [TAG] TagName [OF CDXFileName]
      [ASCENDING | DESCENDING]]]]   [ALIAS cTableAlias]   [EXCLUSIVE]
   [SHARED]   [NOUPDATE]   [CONNSTRING cConnectionString |
(m.nStatementHandle) ]
Parameters

[DatabaseName!]TableName
Specifies the name of the table to open. Because spaces are
significant in file names in Microsoft Windows 98 and later, avoid
using extraneous spaces in TableName. If a table name contains spaces,
enclose the table name in quotation marks (" " or ' ').
To open a table not in the current database, qualify the table name
with the database name, using an exclamation point (!) to separate the
database and tables names. If you don't qualify a table with a
database name, Microsoft Visual FoxPro can open tables only in the
current database. If the database name or table name or both contains
spaces, enclose the database and table name in quotation marks (" " or
' ').

Note   Visual FoxPro will not recognize a path name properly if a disk
or directory name actually contains an exclamation point (!).
SQLViewName
Specifies the name of a SQL view in the current database to open. A
SQL view is created with CREATE SQL VIEW. SQLViewName can also be the
name of an offline view created with CREATEOFFLINE( ).
?
Displays the Use dialog, from which you can choose a table to open.
IN nWorkArea
Specifies the work area in which the table is opened. You can close a
table in a specific work area by issuing USE with the IN clause and
the work area number.
The IN clause supports 0 as a work area. Including 0 opens a table in
the lowest available work area. For example, if tables are open in
work areas 1 through 10, the following command opens the customer
table in work area 11:

 USE customer IN 0
IN cTableAlias
Specifies that the table is opened in the work area of a table that is
currently open. The alias of the open table is specified with
cTableAlias.
If you omit nWorkArea and cTableAlias, the table is opened in the
currently selected work area.

ONLINE
Opens an offline view created with CREATEOFFLINE( ). You can specify
the name of the offline view in SQLViewName. You can use TABLEUPDATE(
) to update data on the server.
The offline view must be opened exclusively. Before opening the
offline view with USE, include the EXCLUSIVE clause in USE or SET
EXCLUSIVE to ON.

You cannot open or close an offline view in ONLINE mode from within a
transaction.

ADMIN
Opens an offline view created with CREATEOFFLINE( ) but does not
update the data on the server with the changes made to the offline
view. Opening an offline view with the ADMIN keyword allows you to
make changes to the offline view without updating the data on the
server.
You cannot open or close an offline view in ADMIN mode from within a
transaction.

AGAIN
To open a table concurrently in multiple work areas, you can do one of
the following:
Select another work area and issue USE with the table name and the AGAIN clause.
Issue USE with the table name and the AGAIN clause, and specify a
different work area with the IN clause.
When you open a table again in another work area, the table in the new
work area takes on the attributes of the table in the original work
area. For example, if a table is opened for read-only or exclusive
access and is opened again in another work area, the table is opened
for read-only or exclusive access in the new work area.

Index files opened for the original table are available for the table
you open again if you don't open indexes when you open the table
again. The index order is set to 0 in the work areas where the table
is opened again.

You can open indexes that weren't opened with the original table. This
sets the index order to 0 for the original table.

A table opened again is assigned the default alias of the work area.
You can include an alias every time you open a table in multiple work
areas as long as the aliases are unique.

In Visual FoxPro for Windows, opening a table again in another work
area doesn't consume an additional file handle.

NOREQUERY [nDataSessionNumber]
Specifies that data from a remote SQL view is not downloaded again.
NOREQUERY is available only for SQL views and is typically used when
you open a SQL view again by including the AGAIN clause. Including the
NOREQUERY clause increases performance for large data sets because the
data does not need to be downloaded again.
nDataSessionNumber can be included to specify that data for a remote
SQL view in a specific data session isn't downloaded again. If
nDataSessionNumber is omitted, data isn't downloaded for the view open
in the current data session.

For additional information about the NOREQUERY clause, see Creating Views.

NODATA
Specifies that only the structure of a SQL view is downloaded. The SQL
view's data isn't downloaded. NODATA provides the fastest method for
determining a SQL view's structure.
For additional information about the NODATA clause, see Creating Views.

INDEX IndexFileList
Specifies a set of indexes to open with the table. If a table has a
structural compound index file, the index file is automatically opened
with the table.
IndexFileList can contain any combination of names of single-entry
.idx and compound .cdx index files. You don't have to include the file
name extensions for index files unless an .idx and a .cdx index file
in the index file list have the same name.

The first index file named in the index file list is the master
controlling index file, which controls how records in the table are
accessed and displayed. However, if the first index file is a .cdx
compound index file, records in the table are displayed and accessed
in physical record order.

INDEX ?
Displays the Open dialog with a list of available index files to choose from.
ORDER [nIndexNumber]
Specifies a master controlling single-entry .idx index file or
compound .cdx index file tag other than the first index file or index
tag specified in IndexFileList.
.Idx index files are numbered first, in the order in which they appear
in the index file list. Tags in the structural compound index file (if
one exists) are then numbered in the order in which the tags were
created. Finally, tags in any independent compound index files are
numbered in the order in which they were created. You can also use SET
ORDER to specify the controlling index file or tag. See SET ORDER for
a further discussion of the numbering of index files and tags.

If nIndexNumber is 0, records in the table are displayed and accessed
in physical record order, and the indexes remain open. Including ORDER
0 enables open index files to be updated while presenting the file in
record number order. Including ORDER without nIndexNumber is identical
to including ORDER 0.

ORDER [IDXFileName]
Specifies a single-entry .idx index file as the master controlling index file.
ORDER [TAG TagName] [OF CDXFileName]
Specifies a master controlling tag in a compound .cdx index file. The
tag name can be from the structural compound index file or any open
compound index file. If identical tag names exist in open compound
index files, include OF CDXFileName and specify the name of the
compound index file containing the desired tag.
ASCENDING
Specifies that the table records are accessed and displayed in ascending order.
DESCENDING
Specifies that the table records are accessed and displayed in descending order.
Including ASCENDING or DESCENDING doesn't change the index file or
tag; it alters only the order in which records are displayed and
accessed.

ALIAS cTableAlias
Creates an alias for the table. You can refer to a table by its alias
in commands and functions that require or support an alias.
When a table is opened, it is automatically assigned an alias, which
is the table name if ALIAS isn't included. You can create a different
alias for the table by including ALIAS and a new alias. In Visual
FoxPro, an alias can contain up to 254 letters, digits or underscores
and must begin with a letter or an underscore. In other FoxPro
versions, an alias can contain up to 10 letters, digits or underscores
and must begin with a letter or an underscore.

A default alias is assigned automatically if you use AGAIN to open a
single table simultaneously in multiple work areas and you don't
specify an alias when you open the table in each work area.

A default alias is also assigned if a conflict occurs. For example:

 CLOSE DATABASES
OPEN DATABASE (HOME(2) + 'Data\testdata')
ACTIVATE WINDOW View  && Open the Data Session Window
USE customer ALIAS orders IN 1     && Alias is ORDERS
USE orders IN 3     && Conflict; alias is C
EXCLUSIVE
Opens a table for exclusive use on a network. For more information on
the exclusive use of tables, see SET EXCLUSIVE.
SHARED
Opens a table for shared use on a network. SHARED allows you to open a
table for shared use even when EXCLUSIVE is set ON.
NOUPDATE
Prevents changes to the table and its structure.
CONNSTRING cConnectionString | (m.nStatementHandle)
Specifies a connection string for the ODBC data source. The
cConnectionString parameter can represent parameters normally passed
using either SQLCONNECT( ) or SQLSTRINGCONNECT( ). The
m.nStatementHandle parameter specifies a memory variable representing
an existing statement handle from an existing connection.
When you use cConnectionString, Visual FoxPro passes the connection
string to the remote view that you specify with SQLViewName, which
then uses the connection string to connect to the specified data
source instead of using any previously defined connection string.
Passing an empty string ("") displays the ODBC Data Source dialog box
and makes it possible for the user to select a data source.

Note   If you specify incomplete data in the connection string, the
data source displays a login dialog box for any needed login
information. If you omit the optional CONNSTRING cConnectionString
clause, the remote view uses the currently defined default connection.
For more information about data source connection strings, see your
ODBC driver documentation.
Visual FoxPro supports overriding the default connection for a remote
view and requires the m.nStatementHandle parameter for supporting
shared connections.

Remarks

If you issue USE without a table name, and a table file is open in the
currently selected work area, Visual FoxPro closes the table. Visual
FoxPro also closes a table when another table is opened in the same
work area. You cannot have more than one table open in a work area at
one time.

Example

The following example opens three tables in three different work
areas. The Data Session window is opened to show where the tables are
open and to show the alias for each table.

 CLOSE DATABASES
OPEN DATABASE (HOME(2) + 'Data\testdata')
ACTIVATE WINDOW View

USE customer IN 0  && Opens Customer table
USE employee IN 0  && Opens Employee table
USE products IN 0  && Opens Products table

2009/11/11 sygecom <leonardo@sygecom.com.br>:
>
> Hi Pritpal,
>
> Thank you,
> It is exactly MDI. But I thought the Harbor could have some specific
> function or command to control it. I do not know well but Seems that in
> Visual Fox Pro, something that controls what is a command AGAIN that is used
> along with the USE.
>
> Leonardo Machado
>
>
> Pritpal Bedi wrote:
>>
>> Hi
>>
>>
>> sygecom wrote:
>>>
>>> Do you have any function or command in the Harbour to dynamically control
>>> the same ALIAS?.
>>> What I really need is to know how to deal with the ALIAS screens MDI,
>>> which will open many time that DBF in the same window and moving the
>>> RECNO each window without moving the other open windows with the same
>>> DBF?
>>>
>>
>> If it is MDI then it will be opening it in the same thread
>> so you cannot open the same alias in two windows.
>>
>> The suggested way to do is do something like this:
>>
>> USE "MyTable" ALIAS ( MyMDIWindowsSomeID() + "TABLE" ) NEW SHARED
>>
>> You need to adopt this approach all along whenever you open the
>> same table in same thread. If you use multi-thread approach, you do not
>> have to distinguish alias. But in your case it is MDI window which is
>> always tied to same thread where parent window is fired.
>>
>> Regards
>> Pritpal Bedi
>>
>>
>
> --
> View this message in context: http://old.nabble.com/how-to-control-the-MDI-windows-in-ALIAS---tp26305352p26306161.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Nov 11 14:20:29 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Nov 11 14:20:42 2009
Subject: [Harbour] how to control the MDI windows in ALIAS ?
In-Reply-To: <609353e70911111110k227774bamc86aad3f0a84ccc8@mail.gmail.com>
References: <26305352.post@talk.nabble.com> <26305942.post@talk.nabble.com>
	<26306161.post@talk.nabble.com>
	<609353e70911111110k227774bamc86aad3f0a84ccc8@mail.gmail.com>
Message-ID: <5E5C31ED-004E-4799-8565-0AEA562B2162@syenar.hu>

So messy this language is. No wonder MS wanted to 
kill it in the first place, and didn't apply any 
sane development concept since the very moment they 
bought it. This doc snippet shows it all.

[ Maybe it was already messy, I don't know. ]

Brgds,
Viktor

On 2009 Nov 11, at 20:10, Massimo Belgrano wrote:

> from Visual FoxPro 8.0 Language Reference
> http://msdn.microsoft.com/en-us/library/aa978637(VS.71).aspx
> 
> 
> USE Command
> Opens a table and its associated index files, or a SQL view.
> 
> USE [[DatabaseName!]Table | SQLViewName | ?]
>   [IN nWorkArea | cTableAlias]   [ONLINE]   [ADMIN]   [AGAIN]
>   [NOREQUERY [nDataSessionNumber]]   [NODATA]   [INDEX IndexFileList | ?
>   [ORDER [nIndexNumber | IDXFileName   | [TAG] TagName [OF CDXFileName]
>      [ASCENDING | DESCENDING]]]]   [ALIAS cTableAlias]   [EXCLUSIVE]
>   [SHARED]   [NOUPDATE]   [CONNSTRING cConnectionString |
> (m.nStatementHandle) ]
> Parameters
> 
> [DatabaseName!]TableName
> Specifies the name of the table to open. Because spaces are
> significant in file names in Microsoft Windows 98 and later, avoid
> using extraneous spaces in TableName. If a table name contains spaces,
> enclose the table name in quotation marks (" " or ' ').
> To open a table not in the current database, qualify the table name
> with the database name, using an exclamation point (!) to separate the
> database and tables names. If you don't qualify a table with a
> database name, Microsoft Visual FoxPro can open tables only in the
> current database. If the database name or table name or both contains
> spaces, enclose the database and table name in quotation marks (" " or
> ' ').
> 
> Note   Visual FoxPro will not recognize a path name properly if a disk
> or directory name actually contains an exclamation point (!).
> SQLViewName
> Specifies the name of a SQL view in the current database to open. A
> SQL view is created with CREATE SQL VIEW. SQLViewName can also be the
> name of an offline view created with CREATEOFFLINE( ).
> ?
> Displays the Use dialog, from which you can choose a table to open.
> IN nWorkArea
> Specifies the work area in which the table is opened. You can close a
> table in a specific work area by issuing USE with the IN clause and
> the work area number.
> The IN clause supports 0 as a work area. Including 0 opens a table in
> the lowest available work area. For example, if tables are open in
> work areas 1 through 10, the following command opens the customer
> table in work area 11:
> 
> USE customer IN 0
> IN cTableAlias
> Specifies that the table is opened in the work area of a table that is
> currently open. The alias of the open table is specified with
> cTableAlias.
> If you omit nWorkArea and cTableAlias, the table is opened in the
> currently selected work area.
> 
> ONLINE
> Opens an offline view created with CREATEOFFLINE( ). You can specify
> the name of the offline view in SQLViewName. You can use TABLEUPDATE(
> ) to update data on the server.
> The offline view must be opened exclusively. Before opening the
> offline view with USE, include the EXCLUSIVE clause in USE or SET
> EXCLUSIVE to ON.
> 
> You cannot open or close an offline view in ONLINE mode from within a
> transaction.
> 
> ADMIN
> Opens an offline view created with CREATEOFFLINE( ) but does not
> update the data on the server with the changes made to the offline
> view. Opening an offline view with the ADMIN keyword allows you to
> make changes to the offline view without updating the data on the
> server.
> You cannot open or close an offline view in ADMIN mode from within a
> transaction.
> 
> AGAIN
> To open a table concurrently in multiple work areas, you can do one of
> the following:
> Select another work area and issue USE with the table name and the AGAIN clause.
> Issue USE with the table name and the AGAIN clause, and specify a
> different work area with the IN clause.
> When you open a table again in another work area, the table in the new
> work area takes on the attributes of the table in the original work
> area. For example, if a table is opened for read-only or exclusive
> access and is opened again in another work area, the table is opened
> for read-only or exclusive access in the new work area.
> 
> Index files opened for the original table are available for the table
> you open again if you don't open indexes when you open the table
> again. The index order is set to 0 in the work areas where the table
> is opened again.
> 
> You can open indexes that weren't opened with the original table. This
> sets the index order to 0 for the original table.
> 
> A table opened again is assigned the default alias of the work area.
> You can include an alias every time you open a table in multiple work
> areas as long as the aliases are unique.
> 
> In Visual FoxPro for Windows, opening a table again in another work
> area doesn't consume an additional file handle.
> 
> NOREQUERY [nDataSessionNumber]
> Specifies that data from a remote SQL view is not downloaded again.
> NOREQUERY is available only for SQL views and is typically used when
> you open a SQL view again by including the AGAIN clause. Including the
> NOREQUERY clause increases performance for large data sets because the
> data does not need to be downloaded again.
> nDataSessionNumber can be included to specify that data for a remote
> SQL view in a specific data session isn't downloaded again. If
> nDataSessionNumber is omitted, data isn't downloaded for the view open
> in the current data session.
> 
> For additional information about the NOREQUERY clause, see Creating Views.
> 
> NODATA
> Specifies that only the structure of a SQL view is downloaded. The SQL
> view's data isn't downloaded. NODATA provides the fastest method for
> determining a SQL view's structure.
> For additional information about the NODATA clause, see Creating Views.
> 
> INDEX IndexFileList
> Specifies a set of indexes to open with the table. If a table has a
> structural compound index file, the index file is automatically opened
> with the table.
> IndexFileList can contain any combination of names of single-entry
> .idx and compound .cdx index files. You don't have to include the file
> name extensions for index files unless an .idx and a .cdx index file
> in the index file list have the same name.
> 
> The first index file named in the index file list is the master
> controlling index file, which controls how records in the table are
> accessed and displayed. However, if the first index file is a .cdx
> compound index file, records in the table are displayed and accessed
> in physical record order.
> 
> INDEX ?
> Displays the Open dialog with a list of available index files to choose from.
> ORDER [nIndexNumber]
> Specifies a master controlling single-entry .idx index file or
> compound .cdx index file tag other than the first index file or index
> tag specified in IndexFileList.
> .Idx index files are numbered first, in the order in which they appear
> in the index file list. Tags in the structural compound index file (if
> one exists) are then numbered in the order in which the tags were
> created. Finally, tags in any independent compound index files are
> numbered in the order in which they were created. You can also use SET
> ORDER to specify the controlling index file or tag. See SET ORDER for
> a further discussion of the numbering of index files and tags.
> 
> If nIndexNumber is 0, records in the table are displayed and accessed
> in physical record order, and the indexes remain open. Including ORDER
> 0 enables open index files to be updated while presenting the file in
> record number order. Including ORDER without nIndexNumber is identical
> to including ORDER 0.
> 
> ORDER [IDXFileName]
> Specifies a single-entry .idx index file as the master controlling index file.
> ORDER [TAG TagName] [OF CDXFileName]
> Specifies a master controlling tag in a compound .cdx index file. The
> tag name can be from the structural compound index file or any open
> compound index file. If identical tag names exist in open compound
> index files, include OF CDXFileName and specify the name of the
> compound index file containing the desired tag.
> ASCENDING
> Specifies that the table records are accessed and displayed in ascending order.
> DESCENDING
> Specifies that the table records are accessed and displayed in descending order.
> Including ASCENDING or DESCENDING doesn't change the index file or
> tag; it alters only the order in which records are displayed and
> accessed.
> 
> ALIAS cTableAlias
> Creates an alias for the table. You can refer to a table by its alias
> in commands and functions that require or support an alias.
> When a table is opened, it is automatically assigned an alias, which
> is the table name if ALIAS isn't included. You can create a different
> alias for the table by including ALIAS and a new alias. In Visual
> FoxPro, an alias can contain up to 254 letters, digits or underscores
> and must begin with a letter or an underscore. In other FoxPro
> versions, an alias can contain up to 10 letters, digits or underscores
> and must begin with a letter or an underscore.
> 
> A default alias is assigned automatically if you use AGAIN to open a
> single table simultaneously in multiple work areas and you don't
> specify an alias when you open the table in each work area.
> 
> A default alias is also assigned if a conflict occurs. For example:
> 
> CLOSE DATABASES
> OPEN DATABASE (HOME(2) + 'Data\testdata')
> ACTIVATE WINDOW View  && Open the Data Session Window
> USE customer ALIAS orders IN 1     && Alias is ORDERS
> USE orders IN 3     && Conflict; alias is C
> EXCLUSIVE
> Opens a table for exclusive use on a network. For more information on
> the exclusive use of tables, see SET EXCLUSIVE.
> SHARED
> Opens a table for shared use on a network. SHARED allows you to open a
> table for shared use even when EXCLUSIVE is set ON.
> NOUPDATE
> Prevents changes to the table and its structure.
> CONNSTRING cConnectionString | (m.nStatementHandle)
> Specifies a connection string for the ODBC data source. The
> cConnectionString parameter can represent parameters normally passed
> using either SQLCONNECT( ) or SQLSTRINGCONNECT( ). The
> m.nStatementHandle parameter specifies a memory variable representing
> an existing statement handle from an existing connection.
> When you use cConnectionString, Visual FoxPro passes the connection
> string to the remote view that you specify with SQLViewName, which
> then uses the connection string to connect to the specified data
> source instead of using any previously defined connection string.
> Passing an empty string ("") displays the ODBC Data Source dialog box
> and makes it possible for the user to select a data source.
> 
> Note   If you specify incomplete data in the connection string, the
> data source displays a login dialog box for any needed login
> information. If you omit the optional CONNSTRING cConnectionString
> clause, the remote view uses the currently defined default connection.
> For more information about data source connection strings, see your
> ODBC driver documentation.
> Visual FoxPro supports overriding the default connection for a remote
> view and requires the m.nStatementHandle parameter for supporting
> shared connections.
> 
> Remarks
> 
> If you issue USE without a table name, and a table file is open in the
> currently selected work area, Visual FoxPro closes the table. Visual
> FoxPro also closes a table when another table is opened in the same
> work area. You cannot have more than one table open in a work area at
> one time.
> 
> Example
> 
> The following example opens three tables in three different work
> areas. The Data Session window is opened to show where the tables are
> open and to show the alias for each table.
> 
> CLOSE DATABASES
> OPEN DATABASE (HOME(2) + 'Data\testdata')
> ACTIVATE WINDOW View
> 
> USE customer IN 0  && Opens Customer table
> USE employee IN 0  && Opens Employee table
> USE products IN 0  && Opens Products table
> 
> 2009/11/11 sygecom <leonardo@sygecom.com.br>:
>> 
>> Hi Pritpal,
>> 
>> Thank you,
>> It is exactly MDI. But I thought the Harbor could have some specific
>> function or command to control it. I do not know well but Seems that in
>> Visual Fox Pro, something that controls what is a command AGAIN that is used
>> along with the USE.
>> 
>> Leonardo Machado
>> 
>> 
>> Pritpal Bedi wrote:
>>> 
>>> Hi
>>> 
>>> 
>>> sygecom wrote:
>>>> 
>>>> Do you have any function or command in the Harbour to dynamically control
>>>> the same ALIAS?.
>>>> What I really need is to know how to deal with the ALIAS screens MDI,
>>>> which will open many time that DBF in the same window and moving the
>>>> RECNO each window without moving the other open windows with the same
>>>> DBF?
>>>> 
>>> 
>>> If it is MDI then it will be opening it in the same thread
>>> so you cannot open the same alias in two windows.
>>> 
>>> The suggested way to do is do something like this:
>>> 
>>> USE "MyTable" ALIAS ( MyMDIWindowsSomeID() + "TABLE" ) NEW SHARED
>>> 
>>> You need to adopt this approach all along whenever you open the
>>> same table in same thread. If you use multi-thread approach, you do not
>>> have to distinguish alias. But in your case it is MDI window which is
>>> always tied to same thread where parent window is fired.
>>> 
>>> Regards
>>> Pritpal Bedi
>>> 
>>> 
>> 
>> --
>> View this message in context: http://old.nabble.com/how-to-control-the-MDI-windows-in-ALIAS---tp26305352p26306161.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>> 
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
> 
> 
> 
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From dbtopas at dbtopas.lt  Wed Nov 11 16:21:07 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Nov 11 16:22:51 2009
Subject: [Harbour] how to control the MDI windows in ALIAS ?
In-Reply-To: <5E5C31ED-004E-4799-8565-0AEA562B2162@syenar.hu>
References: <26305352.post@talk.nabble.com>
	<26305942.post@talk.nabble.com>	<26306161.post@talk.nabble.com>	<609353e70911111110k227774bamc86aad3f0a84ccc8@mail.gmail.com>
	<5E5C31ED-004E-4799-8565-0AEA562B2162@syenar.hu>
Message-ID: <4AFB2AC3.70604@dbtopas.lt>

Hi,

>> AGAIN
>> To open a table concurrently in multiple work areas, you can do one of
>> the following:
>> Select another work area and issue USE with the table name and the AGAIN clause.
>> Issue USE with the table name and the AGAIN clause, and specify a
>> different work area with the IN clause.
>> When you open a table again in another work area, the table in the new
>> work area takes on the attributes of the table in the original work
>> area. For example, if a table is opened for read-only or exclusive
>> access and is opened again in another work area, the table is opened
>> for read-only or exclusive access in the new work area.

I do not see a big problem here:

DBUSEAREA(.T., RDDNAME(), DBINFO(DBI_FULLPATH), cNewArea, 
DBINFO(DBI_SHARED), DBINFO(DBI_ISREADONLY))


>> In Visual FoxPro for Windows, opening a table again in another work
>> area doesn't consume an additional file handle.

This will be not true in Harbour, but do you really care.


Regards,
Mindaugas

From mbelgrano at deltain.it  Wed Nov 11 16:32:18 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Nov 11 16:32:46 2009
Subject: [Harbour] how to control the MDI windows in ALIAS ?
In-Reply-To: <4AFB2AC3.70604@dbtopas.lt>
References: <26305352.post@talk.nabble.com> <26305942.post@talk.nabble.com> 
	<26306161.post@talk.nabble.com>
	<609353e70911111110k227774bamc86aad3f0a84ccc8@mail.gmail.com> 
	<5E5C31ED-004E-4799-8565-0AEA562B2162@syenar.hu>
	<4AFB2AC3.70604@dbtopas.lt>
Message-ID: <609353e70911111332q67e3089eg6863ddccbf9c9f64@mail.gmail.com>

Not jet official but i post follow rumor regarding Visual Fox Pro
The new version of Xbase + + 2.0 will have 100% compatibility with the
data, data types and basics: The syntax of programming in Visual
FoxPro.
This unique feature of Xbase + + code possible to maintain the
functional and VFP and just recompile in Xbase + + for Win32
executables have real, fast, with extended functionality and an
endless frontier in the use of new technologies

2009/11/11 Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>:
> Hi,
>
>>> AGAIN
>>> To open a table concurrently in multiple work areas, you can do one of
>>> the following:
>>> Select another work area and issue USE with the table name and the AGAIN
>>> clause.
>>> Issue USE with the table name and the AGAIN clause, and specify a
>>> different work area with the IN clause.
>>> When you open a table again in another work area, the table in the new
>>> work area takes on the attributes of the table in the original work
>>> area. For example, if a table is opened for read-only or exclusive
>>> access and is opened again in another work area, the table is opened
>>> for read-only or exclusive access in the new work area.
>
> I do not see a big problem here:
>
> DBUSEAREA(.T., RDDNAME(), DBINFO(DBI_FULLPATH), cNewArea,
> DBINFO(DBI_SHARED), DBINFO(DBI_ISREADONLY))
>
>
>>> In Visual FoxPro for Windows, opening a table again in another work
>>> area doesn't consume an additional file handle.
>
> This will be not true in Harbour, but do you really care.
>
>
> Regards,
> Mindaugas
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From gvarona at ec-red.com  Wed Nov 11 17:07:46 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Wed Nov 11 17:04:50 2009
Subject: [Harbour] Starting in the use of Harbor with Ubuntu
In-Reply-To: <4AFAA890.5060406@zen.co.uk>
References: <4AFA0049.4020801@ec-red.com>	<133778360911101644n229706ffhb19df2310d318ad4@mail.gmail.com>
	<4AFAA890.5060406@zen.co.uk>
Message-ID: <4AFB35B2.5050907@ec-red.com>

Ok, Bruno and Barry
Thank you very much

Best Regards
GVS

Barry Jackson escribi?:
> On 11/11/09 00:44, Bruno Luciani wrote:
>>
>>
>> 2009/11/10 Guillermo Varona Silup? <gvarona@ec-red.com
>> <mailto:gvarona@ec-red.com>>
>>
>>     [SPA]
>>     Iniciandome en el uso de Harbour con Ubuntu
>>     Hola, estoy iniciandome en el uso de Harbour bajo Ubuntu y solicito
>>     su amable atenci?n a las siguientes preguntas:
>>     1. Qu? distribuci?n de Linux utilizan, he elejido Ubuntu por que fue
>>     lo primero que pude bajar e instalar. ?Cu?l me recomiendan?
>>     2. Que editor o IDE utilizan, en Windows utilizo xMate, habra algo
>>     similar en Ubuntu
>>
>>
>> Guillermo Uso Ubuntu sin problemas actualizado a 9.10  compila
>> descargando del SVN y teniendo instalado  Build essentials
>> como editor me gusta KATE
>>
>> Saludos
>>
>> Bruno
>>
>>
>>     [ENG] By Google
>>     Starting in the use of Harbor with Ubuntu
>>     Hello, I'm starting to use Harbor under Ubuntu and I request your
>>     kind attention to the following questions:
>>     1. What distribution of Linux use, I Elected Ubuntu was the first
>>     thing that I could download and install. What do you recommend?
>>     2. That editor or IDE used in xMate use Windows, there will be
>>     something similar in Ubuntu
>>
>>
>> I use Ubuntu last version 9.10 without problems , harbour compiles ok
>> using SVn version , and you need Build Essentials installed
>>
>> As editor I like Kate
>>
>>
>> Regards
>>
>> Bruno
>>
>>
>>     TIA
>>
>>     Best Regards
>>     GVS
>>     _______________________________________________
>>     Harbour mailing list
>>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>>     http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> Mandriva Linux 2010.0 works fine for me. ( New release just out) 
> Dolphin file manager in KDE4 has handy terminal feature on F4 and 
> likewise I agree, Kate is an excellent editor with sessions saving to 
> keep all projects organised.
> Barry
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>

From zen25000 at zen.co.uk  Wed Nov 11 18:19:09 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Wed Nov 11 18:19:16 2009
Subject: [Harbour] User forum broken - redirect loop
In-Reply-To: <EAFF2355-2780-4F6B-A609-6765F32594AA@syenar.hu>
References: <4AF962DA.9050501@zen.co.uk>
	<A5B27261-06E1-4FA9-B0E3-CED3DBEA41EC@syenar.hu>
	<4AF9B231.9010500@zen.co.uk>
	<E0D3C04C-0D2A-4CE5-9227-A0534A339149@syenar.hu>
	<4AFAAC04.1060907@zen.co.uk>
	<EAFF2355-2780-4F6B-A609-6765F32594AA@syenar.hu>
Message-ID: <4AFB466D.8070806@zen.co.uk>

On 11/11/09 14:28, Viktor Szak?ts wrote:
> You have to use https to be able to login.
>
> Brgds,
> Viktor

Yes - logging in to :-
https://sourceforge.net/apps/phpbb/harbour-project/index.php
is no problem.
The page header welcomes me by name and there is a log out button.
The forum is there but I have no permissions. The login link next to the 
faq link is inactive. No way to get in. If I log out I get a blank 
screen - if I refresh it the page comes back but I am still logged in.
I've tried Linux, Windows, I.E., Firefox, Chrome.... It's broken. :-(
From bruno.luciani at gmail.com  Wed Nov 11 21:39:17 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Nov 11 21:39:25 2009
Subject: [Harbour] Error in HBQT sample
Message-ID: <133778360911111839v4da4e9e6k67f00642c37dde0f@mail.gmail.com>

DemoQT continues to fail in webpage menu in linux ( Ubuntu 9.10 )

Compiled using last SVN version

Bruno

bruno@notebook:~/harbour_svn/harbour/contrib/hbqt/tests$ ./demoqt

Error BASE/1004  Message not found: QWEBVIEW:EXEC
Called from __ERRRT_SBASE(0)
Called from QWEBVIEW:ERROR(0)
Called from (b)HBOBJECT(0)
Called from QWEBVIEW:MSGNOTFOUND(0)
Called from QWEBVIEW:EXEC(0)
Called from DIALOGS(666)
Called from (b)BUILD_MENUBAR(289)
Called from QT_QAPPLICATION_EXEC(0)
Called from QAPPLICATION:EXEC(0)
Called from MAIN(179)
Unrecoverable error 6005: Exception SIGSEGV at address 0x2
Called from MAIN(179) in demoqt.prg
bruno@notebook:~/harbour_svn/harbour/contrib/hbqt/tests$ mc
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091111/c71a5245/attachment.html
From gvarona at ec-red.com  Wed Nov 11 23:41:20 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Wed Nov 11 23:41:28 2009
Subject: [Harbour] How can I tell the make to generate I harbor a specific
	folder?
Message-ID: <4AFB91F0.3000902@ec-red.com>

ENV: Ubuntu 8.04

[SPA]
?C?mo puedo indicarle al make para que me genere harbour en una carpeta
especifica?
Yo estoy haciendo esto:

[ENG] By Google
How can I tell the make to generate I harbor a specific folder?
I'm doing this:

guillermo@guillermo-ubuntu:~/harbour$ export
HB_INSTALL=/home/guillermo/hrbMinGW
guillermo@guillermo-ubuntu:~/harbour$ make install
! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
! MAKE: make 3.81 /bin/sh install
! HB_HOST_PLAT: linux (x86_64)  HB_SHELL: sh
! HB_PLATFORM: linux (x86_64) (autodetected)
! HB_COMPILER: gcc (autodetected: /usr/bin/)
! Component: 'zlib' found in /usr/include
! Component: 'pcre' found in /home/guillermo/harbour/external/pcre (local)
! Component: 'openssl' not found
! Component: 'gpm' not found
! Component: 'slang' not found
! Component: 'curses' not found
! Component: 'x11' found in /usr/include
! Component: 'wattcp/watt-32' not supported on linux platform
! HB_INSTALL_PREFIX automatically set to: /usr/local
! REVISION: 12863M
make[2]: No se hace nada para `install'.
mkdir: no se puede crear el directorio ?/usr/local/include/harbour?:
Permiso denegado
! Can't install, path not found: '/usr/local/include/harbour'
make[1]: *** [install] Error 1
make: *** [include.inst] Error 2
guillermo@guillermo-ubuntu:~/harbour$


Any Tip?

TIA

Best Regards

From alcisoft at arrakis.es  Thu Nov 12 06:05:02 2009
From: alcisoft at arrakis.es (Antonio Martinez)
Date: Thu Nov 12 06:06:16 2009
Subject: [Harbour] Re: how to control the MDI windows in ALIAS ?
References: <26305352.post@talk.nabble.com> <26305942.post@talk.nabble.com>
	<26306161.post@talk.nabble.com><609353e70911111110k227774bamc86aad3f0a84ccc8@mail.gmail.com>
	<5E5C31ED-004E-4799-8565-0AEA562B2162@syenar.hu><4AFB2AC3.70604@dbtopas.lt>
	<609353e70911111332q67e3089eg6863ddccbf9c9f64@mail.gmail.com>
Message-ID: <hdgq69$4ng$1@ger.gmane.org>

Massimo,

xBase++  == promises+ promises+ promises+ new road map+ newer road map+
newest road map+ renewest roadmap == decepcion..

>The new version of Xbase + + 2.0 will have 100% compatibility with the
>data, data types and basics: The syntax of programming in Visual
>FoxPro.




From ckedem at users.sourceforge.net  Thu Nov 12 06:17:57 2009
From: ckedem at users.sourceforge.net (ckedem@users.sourceforge.net)
Date: Thu Nov 12 06:18:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12864] trunk/harbour
Message-ID: <E1N8Xgb-0005Kl-2Z@3kljzd1.ch3.sourceforge.com>

Revision: 12864
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12864&view=rev
Author:   ckedem
Date:     2009-11-12 11:17:55 +0000 (Thu, 12 Nov 2009)

Log Message:
-----------
2009-11-12 13:15 UTC+0200 Chen Kedem <niki@synel.co.il>
  * harbour/config/win/bcc.mk
    ! Change page size from 96 to 128. Page size must be power of 2.
      This fix "invalid page size value ignored" warnings.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/bcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Nov 12 06:24:33 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov 12 06:24:46 2009
Subject: [Harbour] Re: how to control the MDI windows in ALIAS ?
In-Reply-To: <hdgq69$4ng$1@ger.gmane.org>
References: <26305352.post@talk.nabble.com> <26305942.post@talk.nabble.com>
	<26306161.post@talk.nabble.com><609353e70911111110k227774bamc86aad3f0a84ccc8@mail.gmail.com>
	<5E5C31ED-004E-4799-8565-0AEA562B2162@syenar.hu><4AFB2AC3.70604@dbtopas.lt>
	<609353e70911111332q67e3089eg6863ddccbf9c9f64@mail.gmail.com>
	<hdgq69$4ng$1@ger.gmane.org>
Message-ID: <7D5CC2A7-B55F-4B18-A50E-DDF620AFE4F1@syenar.hu>

Plus it's not portable.

Xbase++ is now a Windows-only solution, while Harbour 
runs on just about anything.

Maybe Xbase++ should consider sponsoring Harbour core 
and start converting Xbase++ to an addon. I know, I know... :)

Brgds,
Viktor

On 2009 Nov 12, at 12:05, Antonio Martinez wrote:

> Massimo,
> 
> xBase++  == promises+ promises+ promises+ new road map+ newer road map+
> newest road map+ renewest roadmap == decepcion..
> 
>> The new version of Xbase + + 2.0 will have 100% compatibility with the
>> data, data types and basics: The syntax of programming in Visual
>> FoxPro.
> 
> 
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From adam_l at poczta.onet.pl  Thu Nov 12 06:44:10 2009
From: adam_l at poczta.onet.pl (Adam Lubszczyk)
Date: Thu Nov 12 06:44:19 2009
Subject: [Harbour] STATIC variables in HRB and PCODE DLL
Message-ID: <26315403.post@talk.nabble.com>


Hi!

Sample code:
****** hrbcode.prg (or PCODE dll) *****
FUNCTION abc()
STATIC x:=99
++x
RETURN x
******* main.prg **********
PROCEDURE main()
LOCAL i,h
FOR i:=1 TO 3
  h:=HB_HRBLOAD("hrbcode.hrb")
  ?? &("abc()")
  ?? &("abc()")
  HB_HRBUNLOAD(h)
NEXT
************************
Show:
  100  101  102  103  104  105
I wont work as:
  100  101  100  101  100  101

Is option for HB_HRBLOAD() (also HB_LIBLOAD() for dll) that always
"reinitalize" static variables ?

Adam
-- 
View this message in context: http://old.nabble.com/STATIC-variables-in-HRB-and-PCODE-DLL-tp26315403p26315403.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Nov 12 07:17:52 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov 12 07:18:05 2009
Subject: [Harbour] STATIC variables in HRB and PCODE DLL
In-Reply-To: <26315403.post@talk.nabble.com>
References: <26315403.post@talk.nabble.com>
Message-ID: <BEF047D4-E9DB-43E9-8F5D-34FE135893DE@syenar.hu>

Why not add an explicit init function to reinit that 
variable whenever you need it?

IMO it's not the job of HRB engine to solve such 
programming tasks. Such setting has not much point 
anyway as you may have multiple STATIC vars with 
different init requirement inside on .hrb. Moreover 
it makes your code dependent on the way its 
invoked/loaded.

Brgds,
Viktor

On 2009 Nov 12, at 12:44, Adam Lubszczyk wrote:

> 
> Hi!
> 
> Sample code:
> ****** hrbcode.prg (or PCODE dll) *****
> FUNCTION abc()
> STATIC x:=99
> ++x
> RETURN x
> ******* main.prg **********
> PROCEDURE main()
> LOCAL i,h
> FOR i:=1 TO 3
>  h:=HB_HRBLOAD("hrbcode.hrb")
>  ?? &("abc()")
>  ?? &("abc()")
>  HB_HRBUNLOAD(h)
> NEXT
> ************************
> Show:
>  100  101  102  103  104  105
> I wont work as:
>  100  101  100  101  100  101
> 
> Is option for HB_HRBLOAD() (also HB_LIBLOAD() for dll) that always
> "reinitalize" static variables ?
> 
> Adam
> -- 
> View this message in context: http://old.nabble.com/STATIC-variables-in-HRB-and-PCODE-DLL-tp26315403p26315403.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From gvarona at ec-red.com  Thu Nov 12 07:58:40 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Nov 12 07:55:22 2009
Subject: [Harbour] How can I tell the make to generate I harbor a specific
	folder?
In-Reply-To: <4AFB91F0.3000902@ec-red.com>
References: <4AFB91F0.3000902@ec-red.com>
Message-ID: <4AFC0680.7010804@ec-red.com>

Haciendo esto me funciono:

I worked doing this:

guillermo@guillermo-ubuntu:~/harbour$ export
HB_INSTALL_PREFIX=/home/guillermo/hrbMinGW

Best Regards
GVS


Guillermo Varona Silup? escribi?:
> ENV: Ubuntu 8.04
>
> [SPA]
> ?C?mo puedo indicarle al make para que me genere harbour en una carpeta
> especifica?
> Yo estoy haciendo esto:
>
> [ENG] By Google
> How can I tell the make to generate I harbor a specific folder?
> I'm doing this:
>
> guillermo@guillermo-ubuntu:~/harbour$ export
> HB_INSTALL=/home/guillermo/hrbMinGW
> guillermo@guillermo-ubuntu:~/harbour$ make install
> ! Building Harbour 2.0.0beta3 from source - 
> http://www.harbour-project.org
> ! MAKE: make 3.81 /bin/sh install
> ! HB_HOST_PLAT: linux (x86_64)  HB_SHELL: sh
> ! HB_PLATFORM: linux (x86_64) (autodetected)
> ! HB_COMPILER: gcc (autodetected: /usr/bin/)
> ! Component: 'zlib' found in /usr/include
> ! Component: 'pcre' found in /home/guillermo/harbour/external/pcre 
> (local)
> ! Component: 'openssl' not found
> ! Component: 'gpm' not found
> ! Component: 'slang' not found
> ! Component: 'curses' not found
> ! Component: 'x11' found in /usr/include
> ! Component: 'wattcp/watt-32' not supported on linux platform
> ! HB_INSTALL_PREFIX automatically set to: /usr/local
> ! REVISION: 12863M
> make[2]: No se hace nada para `install'.
> mkdir: no se puede crear el directorio ?/usr/local/include/harbour?:
> Permiso denegado
> ! Can't install, path not found: '/usr/local/include/harbour'
> make[1]: *** [install] Error 1
> make: *** [include.inst] Error 2
> guillermo@guillermo-ubuntu:~/harbour$
>
>
> Any Tip?
>
> TIA
>
> Best Regards
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>

From harbour.01 at syenar.hu  Thu Nov 12 07:58:00 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov 12 07:58:11 2009
Subject: [Harbour] How can I tell the make to generate I harbor a specific
	folder?
In-Reply-To: <4AFC0680.7010804@ec-red.com>
References: <4AFB91F0.3000902@ec-red.com> <4AFC0680.7010804@ec-red.com>
Message-ID: <9782205B-D6D0-48D1-92F6-7CEB120676B5@syenar.hu>

or just don't use install, or use sudo.

I'd kindly ask to pose these question on users forums.

Brgds,
Viktor

On 2009 Nov 12, at 13:58, Guillermo Varona Silup? wrote:

> Haciendo esto me funciono:
> 
> I worked doing this:
> 
> guillermo@guillermo-ubuntu:~/harbour$ export
> HB_INSTALL_PREFIX=/home/guillermo/hrbMinGW
> 
> Best Regards
> GVS
> 
> 
> Guillermo Varona Silup? escribi?:
>> ENV: Ubuntu 8.04
>> 
>> [SPA]
>> ?C?mo puedo indicarle al make para que me genere harbour en una carpeta
>> especifica?
>> Yo estoy haciendo esto:
>> 
>> [ENG] By Google
>> How can I tell the make to generate I harbor a specific folder?
>> I'm doing this:
>> 
>> guillermo@guillermo-ubuntu:~/harbour$ export
>> HB_INSTALL=/home/guillermo/hrbMinGW
>> guillermo@guillermo-ubuntu:~/harbour$ make install
>> ! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
>> ! MAKE: make 3.81 /bin/sh install
>> ! HB_HOST_PLAT: linux (x86_64)  HB_SHELL: sh
>> ! HB_PLATFORM: linux (x86_64) (autodetected)
>> ! HB_COMPILER: gcc (autodetected: /usr/bin/)
>> ! Component: 'zlib' found in /usr/include
>> ! Component: 'pcre' found in /home/guillermo/harbour/external/pcre (local)
>> ! Component: 'openssl' not found
>> ! Component: 'gpm' not found
>> ! Component: 'slang' not found
>> ! Component: 'curses' not found
>> ! Component: 'x11' found in /usr/include
>> ! Component: 'wattcp/watt-32' not supported on linux platform
>> ! HB_INSTALL_PREFIX automatically set to: /usr/local
>> ! REVISION: 12863M
>> make[2]: No se hace nada para `install'.
>> mkdir: no se puede crear el directorio ?/usr/local/include/harbour?:
>> Permiso denegado
>> ! Can't install, path not found: '/usr/local/include/harbour'
>> make[1]: *** [install] Error 1
>> make: *** [include.inst] Error 2
>> guillermo@guillermo-ubuntu:~/harbour$
>> 
>> 
>> Any Tip?
>> 
>> TIA
>> 
>> Best Regards
>> 
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From gvarona at ec-red.com  Thu Nov 12 08:05:26 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Nov 12 08:02:11 2009
Subject: [Harbour] How can I tell the make to generate I harbor a specific
	folder?
In-Reply-To: <9782205B-D6D0-48D1-92F6-7CEB120676B5@syenar.hu>
References: <4AFB91F0.3000902@ec-red.com> <4AFC0680.7010804@ec-red.com>
	<9782205B-D6D0-48D1-92F6-7CEB120676B5@syenar.hu>
Message-ID: <4AFC0816.1030307@ec-red.com>

Viktor Szak?ts escribi?:
> I'd kindly ask to pose these question on users forums.
>   
Ok. Thank you very much

Best Regards
GVS

From niki at synel.co.il  Thu Nov 12 08:29:47 2009
From: niki at synel.co.il (Chen Kedem)
Date: Thu Nov 12 08:29:56 2009
Subject: [Harbour] something is wrong with BCC build
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F0D@Mail-yoq.SYNEL-COMPANY.LTD>

I'm testing Rev12864 with Borland C++Builder 5.0 on a WinNT 4.0.
A normal build run just fine, but when I try to build it with CodeGoard
I get an error.

    set HB_USER_PRGFLAGS=-l-
    set HB_USER_CFLAGS=-v -y -vG -Od
    set HB_USER_DFLAGS=cg32.lib
    set HB_USER_LDFLAGS=cg32.lib
    set HB_BUILD_OPTIM=no

   set HB_COMPILER=bcc

It do work if I take config/rules.mk Rev12579 (the one before current):
------------------------
bcc32.exe  -I. -I../../../../../include -q -tWM -w -w-sig- -Q  -v -y -vG -Od -ohbpp.obj -c ../../../hbpp.c
../../../HBPP.C:
bcc32.exe  -I. -I../../../../../include -q -tWM -w -w-sig- -Q  -v -y -vG -Od -ohbpp_dyn.obj -DHB_DYNLIB -c ../../../hbpp.c
../../../HBPP.C:
bcc32.exe -q -tWM -w -w-sig- -Q -e..\..\..\..\..\bin\win\bcc\hbpp.exe hbpp.obj  -L../../../../../lib/win/bcc  cg32.lib ../../../../../lib/win/bcc/hbnortl.lib ../../../../../lib/win/bcc/hbcommon.lib kernel32.lib user32.lib ws2_32.lib advapi32.lib gdi32.lib
../../../../../bin/win/bcc/hbpp.exe ../../../../../include/hbstdgen.ch -opptable.c -q -c../../../../../ -v../../../../../include/hbverbld.h
Harbour Preprocessor 2.0.0beta3
Copyright (c) 1999-2009, http://www.harbour-project.org/
bcc32.exe  -I. -I../../../../../include -q -tWM -w -w-sig- -Q  -v -y -vG -Od -opptable.obj -c pptable.c
pptable.c:
------------------------

Build with current config/rules.mk Rev12814:
------------------------
bcc32.exe  -I. -I../../../../../include -q -tWM -w -w-sig- -Q  -v -y -vG -Od -ohbpp.obj -c ../../../hbpp.c
../../../HBPP.C:
bcc32.exe  -I. -I../../../../../include -q -tWM -w -w-sig- -Q  -v -y -vG -Od -ohbpp_dyn.obj -DHB_DYNLIB -c ../../../hbpp.c
../../../HBPP.C:
bcc32.exe -q -tWM -w -w-sig- -Q  -L../../../../../lib/win/bcc  cg32.lib -e..\..\..\..\..\bin\win\bcc\hbpp.exe hbpp.obj ../../../../../lib/win/bcc/hbnortl.lib ../../../../../lib/win/bcc/hbcommon.lib kernel32.lib user32.lib ws2_32.lib advapi32.lib gdi32.lib
../../../../../bin/win/bcc/hbpp.exe ../../../../../include/hbstdgen.ch -opptable.c -q -c../../../../../ -v../../../../../include/hbverbld.h
process_begin: CreateProcess(NULL, ../../../../../bin/win/bcc/hbpp.exe ../../../../../include/hbstdgen.ch -opptable.c -q -c../../../../../ -v../../../../../include/hbverbld.h, ...) failed.
make (e=193): Error 193
win-make.exe[3]: *** [pptable.c] Error 193
rm hbpp.obj
win-make.exe[2]: *** [descend] Error 2
win-make.exe[1]: *** [pp.inst] Error 2
win-make.exe: *** [src.inst] Error 2
------------------------

In the later version, hbpp.exe is created in src/pp/obj/win/bcc instead iof bin/win/bcc


  Chen.
From adam_l at poczta.onet.pl  Thu Nov 12 08:52:24 2009
From: adam_l at poczta.onet.pl (Adam Lubszczyk)
Date: Thu Nov 12 08:52:30 2009
Subject: [Harbour] STATIC variables in HRB and PCODE DLL
In-Reply-To: <BEF047D4-E9DB-43E9-8F5D-34FE135893DE@syenar.hu>
References: <26315403.post@talk.nabble.com>
	<BEF047D4-E9DB-43E9-8F5D-34FE135893DE@syenar.hu>
Message-ID: <26319000.post@talk.nabble.com>



Viktor Szak?ts wrote:
> 
> Why not add an explicit init function to reinit that 
> variable whenever you need it?
> 
OK I may add extra init function (And MUST remember write it), but why, if
it already exists function HB_FUNC_INITSTATICS(). 
The problem is that it is invoked only once.
That behavior is very confusing.
Sample, first men wirte module:
*** mod1.prg  -> mod1.hrb ***
FUNTION ABC()
STATIC x:=99
++x
RETURN x
*****
and second men write module:
**** mod2.prg -> mod2.hrb
FUNCTION ABC()  // SAME NAME !!!
STATIC y:=59     // NOT X but Y !!!
y++
RETURN y
******
Now I in my MAINPROGRAM get from script names of modules and functions and
do:
*******
h:=HB_HRBLOAD(module1)  // "mod1.hrb"
 ? &(funcname1)                // "abc()"   -> 100   OK
 ? &(funcname1)                                -> 101   OK
HB_HRBUNLOAD(h)
// same code
h:=HB_HRBLOAD(module2)  // "mod2.hrb"
 ? &(funcname2)                // "abc()"    -> 102 !?!
 ? &(funcname2)                                 -> 103 !?! 
HB_HRBUNLOAD(h)
********



> IMO it's not the job of HRB engine to solve such programming tasks.
> Such setting has not much point 
> anyway as you may have multiple STATIC vars with 
> different init requirement inside on .hrb. Moreover 
> it makes your code dependent on the way its 
> invoked/loaded.
> 
But just to add an option that every time you load the module HRB will
perform
the functions HB_FUNC_INITSTATICS().

Adam
-- 
View this message in context: http://old.nabble.com/STATIC-variables-in-HRB-and-PCODE-DLL-tp26315403p26319000.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From dbtopas at dbtopas.lt  Thu Nov 12 09:08:46 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Nov 12 09:10:29 2009
Subject: [Harbour] something is wrong with BCC build
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F0D@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F0D@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <4AFC16EE.6060509@dbtopas.lt>

Hi,


Chen Kedem wrote:
> I'm testing Rev12864 with Borland C++Builder 5.0 on a WinNT 4.0.
> A normal build run just fine, but when I try to build it with CodeGoard
> I get an error.
> 
> process_begin: CreateProcess(NULL, ../../../../../bin/win/bcc/hbpp.exe ../../../../../include/hbstdgen.ch -opptable.c -q -c../../../../../ -v../../../../../include/hbverbld.h, ...) failed.
> make (e=193): Error 193
> win-make.exe[3]: *** [pptable.c] Error 193

#define ERROR_BAD_EXE_FORMAT             193L

It seems hbpp.exe is broken.


Regards,
Mindaugas
From niki at synel.co.il  Thu Nov 12 09:27:01 2009
From: niki at synel.co.il (Chen Kedem)
Date: Thu Nov 12 09:30:52 2009
Subject: [Harbour] Re: something is wrong with BCC build
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F0D@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F0D@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F10@Mail-yoq.SYNEL-COMPANY.LTD>

Mindaugas,

> It seems hbpp.exe is broken.

Well, it is not broken, it simply not created in the expected place
see my last note:

>> In the later version, hbpp.exe is created in src/pp/obj/win/bcc instead of bin/win/bcc

It seems that BCC does not like the order of the parameters used,
and use some defaults without giving any warning.

  Chen.
From harbour.01 at syenar.hu  Thu Nov 12 09:32:50 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov 12 09:33:00 2009
Subject: [Harbour] Re: something is wrong with BCC build
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F10@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F0D@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F10@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <41A74B12-2613-411D-BCA9-37512B7ACE3F@syenar.hu>

>> It seems hbpp.exe is broken.
> 
> Well, it is not broken, it simply not created in the expected place
> see my last note:
> 
>>> In the later version, hbpp.exe is created in src/pp/obj/win/bcc instead of bin/win/bcc
> 
> It seems that BCC does not like the order of the parameters used,
> and use some defaults without giving any warning.

Here it works as expected with 5.5 and no extra build parameters.

Brgds,
Viktor

From mbelgrano at deltain.it  Thu Nov 12 09:41:18 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Nov 12 09:41:45 2009
Subject: [Harbour] Re: how to control the MDI windows in ALIAS ?
In-Reply-To: <hdgq69$4ng$1@ger.gmane.org>
References: <26305352.post@talk.nabble.com> <26305942.post@talk.nabble.com> 
	<26306161.post@talk.nabble.com>
	<609353e70911111110k227774bamc86aad3f0a84ccc8@mail.gmail.com> 
	<5E5C31ED-004E-4799-8565-0AEA562B2162@syenar.hu>
	<4AFB2AC3.70604@dbtopas.lt> 
	<609353e70911111332q67e3089eg6863ddccbf9c9f64@mail.gmail.com> 
	<hdgq69$4ng$1@ger.gmane.org>
Message-ID: <609353e70911120641s5d33ba2bmd22ffc84335398bd@mail.gmail.com>

I totally agree
I am one of user frustrated by alaska's promise in year 2000-2004
But here a component seem be made by Roger Donnay so Maj arrive

Visual Fox Pro is very large comunity so hi hope that The experience
of harbour in be compatible with Xbase++ (Thank to Priptal xbp) and
idea of vianemo of
exchange the gui syntax Will give the capability  create compatibility
layers to Visual FoxPro

2009/11/12 Antonio Martinez <alcisoft@arrakis.es>:
> Massimo,
>
> xBase++ ?== promises+ promises+ promises+ new road map+ newer road map+
> newest road map+ renewest roadmap == decepcion..
>
>>The new version of Xbase + + 2.0 will have 100% compatibility with the
>>data, data types and basics: The syntax of programming in Visual
>>FoxPro.
>
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From niki at synel.co.il  Thu Nov 12 09:41:50 2009
From: niki at synel.co.il (Chen Kedem)
Date: Thu Nov 12 09:44:56 2009
Subject: [Harbour] Re: something is wrong with BCC build
In-Reply-To: <41A74B12-2613-411D-BCA9-37512B7ACE3F@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F0D@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F10@Mail-yoq.SYNEL-COMPANY.LTD>,
	<41A74B12-2613-411D-BCA9-37512B7ACE3F@syenar.hu>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F11@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

> Here it works as expected with 5.5 and no extra build parameters.

I wrote that in my mail. Normal build DO work,
but if I add an extra library like: set HB_USER_DFLAGS=cg32.lib
it IS broken in current version and Ok with older config/rules.mk

  Chen.
From harbour.01 at syenar.hu  Thu Nov 12 10:06:01 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov 12 10:06:12 2009
Subject: [Harbour] Re: something is wrong with BCC build
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F11@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F0D@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F10@Mail-yoq.SYNEL-COMPANY.LTD>,
	<41A74B12-2613-411D-BCA9-37512B7ACE3F@syenar.hu>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F11@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <92DFE106-6FA2-4A9C-8F10-3ABD485F5E40@syenar.hu>

> Viktor,
> 
>> Here it works as expected with 5.5 and no extra build parameters.
> 
> I wrote that in my mail. Normal build DO work,
> but if I add an extra library like: set HB_USER_DFLAGS=cg32.lib
> it IS broken in current version and Ok with older config/rules.mk

Ah ok, sorry.

Probably we should introduce HB_USER_LIBS for Harbour build 
process, because passing libs via flags in raw form doesn't 
seem like a very good thing to do.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Thu Nov 12 10:24:24 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Nov 12 10:24:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12865] trunk/harbour
Message-ID: <E1N8bX6-0004Fs-8v@d5vjzd1.ch3.sourceforge.com>

Revision: 12865
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12865&view=rev
Author:   vszakats
Date:     2009-11-12 15:24:23 +0000 (Thu, 12 Nov 2009)

Log Message:
-----------
2009-11-12 16:21 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    * Updated dev list max attachment size.

  * INSTALL
  * config/beos/libs.mk
  * config/global.mk
  * config/bsd/libs.mk
  * config/bin.mk
  * config/wce/global.mk
  * config/hpux/libs.mk
  * config/darwin/libs.mk
  * config/dos/djgpp.mk
  * config/win/global.mk
  * config/linux/libs.mk
  * config/os2/gcc.mk
  * config/sunos/libs.mk
    + Added support for HB_USER_LIBS build option to specify 
      extra libs. Note: This is useful only in very special 
      cases, so pls don't use it unless you exactly know what 
      you want to do. The libs have to be specced without 
      prefixes and extensions. It will be added after Harbour 
      libs and before system libs.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/beos/libs.mk
    trunk/harbour/config/bin.mk
    trunk/harbour/config/bsd/libs.mk
    trunk/harbour/config/darwin/libs.mk
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/hpux/libs.mk
    trunk/harbour/config/linux/libs.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/sunos/libs.mk
    trunk/harbour/config/wce/global.mk
    trunk/harbour/config/win/global.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From niki at synel.co.il  Thu Nov 12 11:13:06 2009
From: niki at synel.co.il (Chen Kedem)
Date: Thu Nov 12 11:13:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12865] trunk/harbour
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F13@Mail-yoq.SYNEL-COMPANY.LTD>

After this change, Harbour is built when I set:

    set HB_USER_PRGFLAGS=-l-
    set HB_USER_CFLAGS=-v -y -vG -Od
    set HB_USER_LIBS=cg32
    set HB_BUILD_OPTIM=no
    set HB_COMPILER=bcc

But every EXE which is a complied PRG now gives CodeGuard errors
about pointer arithmetic in invalid memory and other such errors.

CodeGuard replace RTL functions with its own, so maybe the placement
of cg32.lib is wrong. I'll try to investigate, but I'm about to go home, and
could only continue testing on Sunday.

  Chen.
From harbour.01 at syenar.hu  Thu Nov 12 11:27:50 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov 12 11:28:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12865] trunk/harbour
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F13@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F13@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <EF764D91-0E51-4F5A-98D9-FF8F5543DC04@syenar.hu>

Hi Chen,

> After this change, Harbour is built when I set:
> 
>    set HB_USER_PRGFLAGS=-l-
>    set HB_USER_CFLAGS=-v -y -vG -Od
>    set HB_USER_LIBS=cg32
>    set HB_BUILD_OPTIM=no
>    set HB_COMPILER=bcc
> 
> But every EXE which is a complied PRG now gives CodeGuard errors
> about pointer arithmetic in invalid memory and other such errors.

Could be, I don't know what is the proper placement of cg32 lib.
Especially since we're using bcc32 (not ilink32) which will add 
CRTL libs on its own, so it's happening in a hidden way right now.

Probably we should change that to direct ilink32 call, like it's 
done in hbmk2, but I won't have time to make this change and all 
the breakages and testing such step usually comes with.

> CodeGuard replace RTL functions with its own, so maybe the placement
> of cg32.lib is wrong. I'll try to investigate, but I'm about to go home, and
> could only continue testing on Sunday.

Okay.

Brgds,
Viktor

From mbelgrano at deltain.it  Thu Nov 12 12:47:48 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Nov 12 12:48:15 2009
Subject: [Harbour] Create error: net:127.0.0.1:2941:data/_tst_.dbf
Message-ID: <609353e70911120947p6228de86rf9c369937216be6b@mail.gmail.com>

Running netiotst.prg
c:\harbour\contrib\hbnetio\tests>netiotst

NETIO server activated.
Press any key to continue...

NETIO_CONNECT(): .T.

Error DBFCDX/1004  Create error: net:127.0.0.1:2941:data/_tst_.dbf (DOS Error 3)

Called from DBCREATE(0)
Called from CREATEDB(62)
Called from MAIN(40)

Root filesystem: C:\harbour\contrib\hbnetio\utils\
require create data subdirectory
imo is better create if missing in sample code


-- 
Massimo Belgrano
From teo at windtelsoft.com  Thu Nov 12 13:06:26 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Thu Nov 12 13:06:37 2009
Subject: [Harbour] Create error: net:127.0.0.1:2941:data/_tst_.dbf
In-Reply-To: <609353e70911120947p6228de86rf9c369937216be6b@mail.gmail.com>
References: <609353e70911120947p6228de86rf9c369937216be6b@mail.gmail.com>
Message-ID: <AAEA7F10-3230-4A22-BB5E-112E4D71EFE2@windtelsoft.com>


On Nov 12, 2009, at 11:47 AM, Massimo Belgrano wrote:

> Running netiotst.prg
> c:\harbour\contrib\hbnetio\tests>netiotst
> 
> NETIO server activated.
> Press any key to continue...
> 
> NETIO_CONNECT(): .T.
> 
> Error DBFCDX/1004  Create error: net:127.0.0.1:2941:data/_tst_.dbf (DOS Error 3)

Can be this ? :

http://www.google.com/search?client=safari&rls=en&q=dos+error+3&ie=UTF-8&oe=UTF-8

> 
> Called from DBCREATE(0)
> Called from CREATEDB(62)
> Called from MAIN(40)
> 
> Root filesystem: C:\harbour\contrib\hbnetio\utils\
> require create data subdirectory
> imo is better create if missing in sample code


best regards,

Teo

From roberbox at gmail.com  Thu Nov 12 16:24:08 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Thu Nov 12 16:24:21 2009
Subject: [Harbour] Array
In-Reply-To: <26302995.post@talk.nabble.com>
References: <20091111145842.56410E0009BB@eva105.dadanet.it>
	<26302995.post@talk.nabble.com>
Message-ID: <4AFC7CF8.9060106@gmail.com>

Pritpal Bedi wrote:
>> Is it possible, in Harbour, to use arrays and vectors with a string index,
>> like PHP language?
> Yes.
> The syntax is :
> 
> v := hb_hash()

Is there a different way to initialize/create an associative array in 
Harbour?

TIA.

Regards,

Roberto.

From guy.roussin at teledetection.fr  Thu Nov 12 16:36:56 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Thu Nov 12 16:37:05 2009
Subject: [Harbour] Array
In-Reply-To: <4AFC7CF8.9060106@gmail.com>
References: <20091111145842.56410E0009BB@eva105.dadanet.it>	<26302995.post@talk.nabble.com>
	<4AFC7CF8.9060106@gmail.com>
Message-ID: <4AFC7FF8.9080702@teledetection.fr>

Hi,
>
> Is there a different way to initialize/create an associative array in 
> Harbour?
v := {=>}

Guy
From roberbox at gmail.com  Thu Nov 12 16:45:48 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Thu Nov 12 16:45:58 2009
Subject: [Harbour] Array
In-Reply-To: <4AFC7FF8.9080702@teledetection.fr>
References: <20091111145842.56410E0009BB@eva105.dadanet.it>	<26302995.post@talk.nabble.com>	<4AFC7CF8.9060106@gmail.com>
	<4AFC7FF8.9080702@teledetection.fr>
Message-ID: <4AFC820C.70706@gmail.com>

Guy Roussin wrote:
> Hi,
>>
>> Is there a different way to initialize/create an associative array in 
>> Harbour?
> v := {=>}

Thanks!

Regards,

Roberto.


From fperillo at gmail.com  Thu Nov 12 17:55:21 2009
From: fperillo at gmail.com (francesco perillo)
Date: Thu Nov 12 17:55:29 2009
Subject: [Harbour] hbvpdf is "broken" ?
Message-ID: <6943770e0911121455l70396518q10dbec1de67cfb5a@mail.gmail.com>

Well, it compiles and it works... but there are some strangeness in the code....

AAAA)
Start with this code snippet:

#ifdef __XPP__
METHOD tPdf:SetLPI(_nLpi)
#else
METHOD SetLPI(_nLpi)
#endif

local cLpi := alltrim(str(_nLpi))
DEFAULT _nLpi TO 6

   cLpi := iif(cLpi$"1;2;3;4;6;8;12;16;24;48",cLpi,"6")
   ::aReport[ LPI ] := val( cLpi )

   ::PageSize( ::aReport[ PAGESIZE ] )
RETURN

 _nLpi  is used BEFORE assigning it a default value...
then ::PageSize( ::aReport[ PAGESIZE ] ) is called, but  this method
has no use of LPI !



BBBB)

SetLPI is called only once in the code, here:
   ::PageSize( _cPageSize )   // sets page width and height
   ::PageOrient( _cPageOrient )  // sets page orientation and the
CALLS PageSize... correctly because you may have rotated the paper
   ::SetLPI( _nLpi )  // sets the LPI and then CALLS PageSize.... but
the results doesn't change because LPI value is not used....
Probably a refactoring could be:
   ::SetLPI( _nLpi )  // removing the call to PageSize
   ::PageOrient( _cPageOrient )  // sets page orientation AND CALLS
PageSize... since PageOrient is a public method, it is correct that it
calls correctly because you may have rotated the paper

But since PageOrient is PUBLIC, I can call it also in the middle of a
page.... can I ? Later I will try the effect....
A better refactoring could be:
   ::SetLPI( _nLpi )  // removing the call to PageSize
make PageOrient a PROTECTED method (it's called only once)
   ::PageOrient( _cPageOrient )
   ::PageSize( _cPageSize )


CCCC)
What puzzled me the most, I spent some time trying to understand why
my A4 pdf looked strange when I called PageSize( "A4").... and found
this code:

METHOD PageSize( _cPageSize )
#endif

local nSize, aSize := { { "LETTER",    8.50, 11.00 }, ;
                        { "LEGAL" ,    8.50, 14.00 }, ;
                        { "LEDGER",   11.00, 17.00 }, ;
                        { "EXECUTIVE", 7.25, 10.50 }, ;
                        { "A4",        8.27, 11.69 }, ;
                        { "A3",       11.69, 16.54 }, ;
                        { "JIS B4",   10.12, 14.33 }, ;
                        { "JIS B5",    7.16, 10.12 }, ;
                        { "JPOST",     3.94,  5.83 }, ;
                        { "JPOSTD",    5.83,  7.87 }, ;
                        { "COM10",     4.12,  9.50 }, ;
                        { "MONARCH",   3.87,  7.50 }, ;
                        { "C5",        6.38,  9.01 }, ;
                        { "DL",        4.33,  8.66 }, ;
                        { "B5",        6.93,  9.84 } }

DEFAULT _cPageSize TO "LETTER"

   nSize := ascan( aSize, { |arr| arr[ 1 ] = _cPageSize } )

   IF nSize == 0 .or. nSize > 2         // HERE IS THE PROBLEM.....
      nSize := 1
   ENDIF


It seems that I can only have LETTER pdf....


So, after a couple of days spent on this library that looked
interesting, I think I will give up.... it may have some other
"hidden" features...

What's your idea ?


Francesco
From Istvan.Bisz at t-online.hu  Thu Nov 12 17:54:51 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Thu Nov 12 17:55:51 2009
Subject: [Harbour] HBQT, HBXBP - Test - New HB GC and QT interface
Message-ID: <000f01ca63eb$25537010$6ffa5030$@Bisz@t-online.hu>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: contrib.zip
Type: application/x-zip-compressed
Size: 37578 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091112/7da3843e/contrib-0001.bin
From bedipritpal at hotmail.com  Thu Nov 12 18:17:47 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Nov 12 18:17:53 2009
Subject: [Harbour] HBQT, HBXBP - Test - New HB GC and QT interface
In-Reply-To: <000f01ca63eb$25537010$6ffa5030$@Bisz@t-online.hu>
References: <000f01ca63eb$25537010$6ffa5030$@Bisz@t-online.hu>
Message-ID: <26328312.post@talk.nabble.com>


Thanks Bisz


Bisz Istv?n wrote:
> 
> Please find attached the HBQT and HBXBP components modified to eliminate
> the
> crashes already reported on this list.
> 
> ?        The main modification is in the HB GC and QT interface,
> eliminating
> the crashes caused by the double object deletes. The modification is
> implemented in the hbqtgen.prg, QAbstractItemModel.qth, hbqt.h and
> hbqt_destruct.cpp.
> The hbqt interface should be regenerated with the modified components.
> 
>  
> 
> ?        In demoqt.prg the hb_toOutDebug is eliminated on Fedora12
> generates
> crashes. Maybe a new tracing method is necessary to be compatible with all
> platforms.
> 
> ?        In demoqt.prg:
> 
>       oDlg := QWebView():new()
> 
>       oUrl := QUrl():new()
> 
>       oUrl:setUrl( "http://www.harbour.vouch.info" )
> 
>       QT_QWebView_SetUrl( QT_PTROF( oDlg ), QT_PTROF( oUrl ) )
> 
>       oDlg:setWindowTitle( "Harbour-QT Web Page Navigator" )
> 
> /* BI TODO: 
> 
>       oDlg:exec()
> 
> */ 
> 
> sequence is wrong, as the QWebView object has no exec method. This part
> should be redesigned.
> 
>  
> 
> ?        In QAbstractItemModel.qth:
> 
>  
> 
> HB_FUNC( QT_HBDBFMODEL_DESTROY )
> 
> {
> 
> // BI:TODO fix the GPF  hbqt_par_HbDbfModel( 1 )->~HbDbfModel();
> 
> }
> 
>  
> 
> the hbqt_par_HbDbfModel( 1 )->~HbDbfModel(); generates crashes on
> Windows(Vista) and linux (Fedora12, CentOS5.4). An analysis is necessary
> to
> eliminate the bug. Is not related to the Qt interface, as I see.
> 
>  
> 
> ?        In xbpgeneric.prg:
> 
>  
> 
> FUNCTION Xbp_Debug( ... )
> 
>    LOCAL s  := ""
> 
>    LOCAL aP := hb_aParams()
> 
>  
> 
>    aeval( aP, {|e| s += Xbp_XtoS( e ) + ' ' } )
> 
> /* BI TODO: 
> 
>    hb_ToOutDebug( s )
> 
> */
> 
>    RETURN nil
> 
>  
> 
> the   hb_ToOutDebug( s ) is eliminated, see above.
> 
>  
> 
> ?        In xbpgeneric.prg:
> 
>  
> 
> EXIT PROCEDURE Qt_End()
> 
>  
> 
>    Qt_MutexDestroy()
> 
>  
> 
>    oDummy        := NIL
> 
>    oAppWindow    := NIL
> 
>  
> 
>    IF oDeskTop == NIL
> 
>    // BI TODO: Error BASE/1004  Message not found: QAPPLICATION:OWIDGET
> 
>       oDeskTop:oWidget:pPtr := 0
> 
>    ENDIF
> 
>  
> 
>    oApp:quit()
> 
>    // BI TODO: Error BASE/1004  Message not found: QAPPLICATION:OWIDGET
> 
>    // oApp:oWidget:pPtr := 0
> 
>  
> 
>    RETURN
> 
>                the above sequence should be redesigned to eliminate the
> crashes on Linux.
> 
>  
> 
> With the attached modification, demoqt and demoxbp where verified with
> valgrind. The erroneous memory handlings are eliminated. Further tests and
> analysis are necessary.
> 

I am yet to see what you have forwarded but am happy that someone 
has joined hands in this direction.

Could you execute demoxbp.exe also. That will be a real test.
By today evening I will look into your findings.

Again thanks.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HBQT%2C-HBXBP---Test---New-HB-GC-and-QT-interface-tp26328073p26328312.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Nov 12 18:22:18 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov 12 18:22:31 2009
Subject: [Harbour] HBQT, HBXBP - Test - New HB GC and QT interface
In-Reply-To: <000f01ca63eb$25537010$6ffa5030$@Bisz@t-online.hu>
References: <000f01ca63eb$25537010$6ffa5030$@Bisz@t-online.hu>
Message-ID: <2EA9E2E5-FF22-4882-BA1D-CB94AD23C588@syenar.hu>

"ToOutDebug" and friends are not allowed to be used in 
any of our contribs. Ever. Yet they are unfortunately.
There is a large inconsistent mess when it comes to debug 
calls in hbqt/hbxbp.

At the same time I've added this in hbxbp on .prg level:
---
#if defined( __HB_OUTDEBUG__ )                                                                                                                                                                           
   #if defined( __PLATFORM__WINDOWS ) .AND. defined( __HB_WINDEBUG__ )                                                                                                                                   
      #xtranslate HB_OUTDEBUG( [<x>] ) => wapi_OutputDebugString( <x> )                                                                                                                                 
   #else                                                                                                                                                                                                 
      #xtranslate HB_OUTDEBUG( [<x>] ) => hb_TraceString( <x> )                                                                                                                                         
   #endif                                                                                                                                                                                               
#else                                                                                                                                                                                                   
   #xtranslate HB_OUTDEBUG( [<x>] ) => iif( .T.,, )                                                                                                                                                     
#endif                                                                                                                                                                                                   
---

And we have HB_TRACE() on .c level since 10 years.

This should be used, not Windows-only xhb functions, which 
just generate unnecessary noise on this list.

Brgds,
Viktor

On 2009 Nov 12, at 23:54, Bisz Istv?n wrote:

> Hi,
>  
> Please find attached the HBQT and HBXBP components modified to eliminate the crashes already reported on this list.
> ?        The main modification is in the HB GC and QT interface, eliminating the crashes caused by the double object deletes. The modification is implemented in the hbqtgen.prg, QAbstractItemModel.qth, hbqt.h and hbqt_destruct.cpp.
> The hbqt interface should be regenerated with the modified components.
>  
> ?        In demoqt.prg the hb_toOutDebug is eliminated on Fedora12 generates crashes. Maybe a new tracing method is necessary to be compatible with all platforms.
> ?        In demoqt.prg:
>       oDlg := QWebView():new()
>       oUrl := QUrl():new()
>       oUrl:setUrl( "http://www.harbour.vouch.info" )
>       QT_QWebView_SetUrl( QT_PTROF( oDlg ), QT_PTROF( oUrl ) )
>       oDlg:setWindowTitle( "Harbour-QT Web Page Navigator" )
> /* BI TODO:
>       oDlg:exec()
> */
> sequence is wrong, as the QWebView object has no exec method. This part should be redesigned.
>  
> ?        In QAbstractItemModel.qth:
>  
> HB_FUNC( QT_HBDBFMODEL_DESTROY )
> {
> // BI:TODO fix the GPF  hbqt_par_HbDbfModel( 1 )->~HbDbfModel();
> }
>  
> the hbqt_par_HbDbfModel( 1 )->~HbDbfModel(); generates crashes on Windows(Vista) and linux (Fedora12, CentOS5.4). An analysis is necessary to eliminate the bug. Is not related to the Qt interface, as I see.
>  
> ?        In xbpgeneric.prg:
>  
> FUNCTION Xbp_Debug( ... )
>    LOCAL s  := ""
>    LOCAL aP := hb_aParams()
>  
>    aeval( aP, {|e| s += Xbp_XtoS( e ) + ' ' } )
> /* BI TODO:
>    hb_ToOutDebug( s )
> */
>    RETURN nil
>  
> the   hb_ToOutDebug( s ) is eliminated, see above.
>  
> ?        In xbpgeneric.prg:
>  
> EXIT PROCEDURE Qt_End()
>  
>    Qt_MutexDestroy()
>  
>    oDummy        := NIL
>    oAppWindow    := NIL
>  
>    IF oDeskTop == NIL
>    // BI TODO: Error BASE/1004  Message not found: QAPPLICATION:OWIDGET
>       oDeskTop:oWidget:pPtr := 0
>    ENDIF
>  
>    oApp:quit()
>    // BI TODO: Error BASE/1004  Message not found: QAPPLICATION:OWIDGET
>    // oApp:oWidget:pPtr := 0
>  
>    RETURN
>                the above sequence should be redesigned to eliminate the crashes on Linux.
>  
> With the attached modification, demoqt and demoxbp where verified with valgrind. The erroneous memory handlings are eliminated. Further tests and analysis are necessary.
>  
> Best regards,
> Istv?n Bisz
>  
> <contrib.zip>_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Thu Nov 12 18:23:39 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Nov 12 18:23:46 2009
Subject: [Harbour] hbvpdf is "broken" ?
In-Reply-To: <6943770e0911121455l70396518q10dbec1de67cfb5a@mail.gmail.com>
References: <6943770e0911121455l70396518q10dbec1de67cfb5a@mail.gmail.com>
Message-ID: <26328315.post@talk.nabble.com>


Hi


francesco perillo-2 wrote:
> 
> So, after a couple of days spent on this library that looked
> interesting, I think I will give up.... it may have some other
> "hidden" features...
> 
> What's your idea ?
> 

Probably you never read about the origin of the library and its passage
through this level. I suggest you to do so.

It is upto you to accept or discard. You just "looked" into it for two days 
and tired....... I had spent many nights to give it a shape off a more 
cumbersome procedural code, surely I enjoyed all that time.

So the difference is in "constructive" vs "recreational" approach.
Hope you understand what I mean.

Regards
Pritpal Bedi

BTW I never used this libarry for my personal needs.

-- 
View this message in context: http://old.nabble.com/hbvpdf-is-%22broken%22---tp26328049p26328315.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Nov 12 18:32:16 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov 12 18:32:26 2009
Subject: [Harbour] hbvpdf is "broken" ?
In-Reply-To: <6943770e0911121455l70396518q10dbec1de67cfb5a@mail.gmail.com>
References: <6943770e0911121455l70396518q10dbec1de67cfb5a@mail.gmail.com>
Message-ID: <D78A1A8F-E7A5-48E8-B95A-104E55C65884@syenar.hu>

hbvpdf is outdated beyond repair.

Try hbhpdf.

Probably we should remove hbvpdf altogether from SVN, 
as it just creates reports we can't deal with in any 
meaningful way.

Brgds,
Viktor

On 2009 Nov 12, at 23:55, francesco perillo wrote:

> Well, it compiles and it works... but there are some strangeness in the code....
> 
> AAAA)
> Start with this code snippet:
> 
> #ifdef __XPP__
> METHOD tPdf:SetLPI(_nLpi)
> #else
> METHOD SetLPI(_nLpi)
> #endif
> 
> local cLpi := alltrim(str(_nLpi))
> DEFAULT _nLpi TO 6
> 
>   cLpi := iif(cLpi$"1;2;3;4;6;8;12;16;24;48",cLpi,"6")
>   ::aReport[ LPI ] := val( cLpi )
> 
>   ::PageSize( ::aReport[ PAGESIZE ] )
> RETURN
> 
> _nLpi  is used BEFORE assigning it a default value...
> then ::PageSize( ::aReport[ PAGESIZE ] ) is called, but  this method
> has no use of LPI !
> 
> 
> 
> BBBB)
> 
> SetLPI is called only once in the code, here:
>   ::PageSize( _cPageSize )   // sets page width and height
>   ::PageOrient( _cPageOrient )  // sets page orientation and the
> CALLS PageSize... correctly because you may have rotated the paper
>   ::SetLPI( _nLpi )  // sets the LPI and then CALLS PageSize.... but
> the results doesn't change because LPI value is not used....
> Probably a refactoring could be:
>   ::SetLPI( _nLpi )  // removing the call to PageSize
>   ::PageOrient( _cPageOrient )  // sets page orientation AND CALLS
> PageSize... since PageOrient is a public method, it is correct that it
> calls correctly because you may have rotated the paper
> 
> But since PageOrient is PUBLIC, I can call it also in the middle of a
> page.... can I ? Later I will try the effect....
> A better refactoring could be:
>   ::SetLPI( _nLpi )  // removing the call to PageSize
> make PageOrient a PROTECTED method (it's called only once)
>   ::PageOrient( _cPageOrient )
>   ::PageSize( _cPageSize )
> 
> 
> CCCC)
> What puzzled me the most, I spent some time trying to understand why
> my A4 pdf looked strange when I called PageSize( "A4").... and found
> this code:
> 
> METHOD PageSize( _cPageSize )
> #endif
> 
> local nSize, aSize := { { "LETTER",    8.50, 11.00 }, ;
>                        { "LEGAL" ,    8.50, 14.00 }, ;
>                        { "LEDGER",   11.00, 17.00 }, ;
>                        { "EXECUTIVE", 7.25, 10.50 }, ;
>                        { "A4",        8.27, 11.69 }, ;
>                        { "A3",       11.69, 16.54 }, ;
>                        { "JIS B4",   10.12, 14.33 }, ;
>                        { "JIS B5",    7.16, 10.12 }, ;
>                        { "JPOST",     3.94,  5.83 }, ;
>                        { "JPOSTD",    5.83,  7.87 }, ;
>                        { "COM10",     4.12,  9.50 }, ;
>                        { "MONARCH",   3.87,  7.50 }, ;
>                        { "C5",        6.38,  9.01 }, ;
>                        { "DL",        4.33,  8.66 }, ;
>                        { "B5",        6.93,  9.84 } }
> 
> DEFAULT _cPageSize TO "LETTER"
> 
>   nSize := ascan( aSize, { |arr| arr[ 1 ] = _cPageSize } )
> 
>   IF nSize == 0 .or. nSize > 2         // HERE IS THE PROBLEM.....
>      nSize := 1
>   ENDIF
> 
> 
> It seems that I can only have LETTER pdf....
> 
> 
> So, after a couple of days spent on this library that looked
> interesting, I think I will give up.... it may have some other
> "hidden" features...
> 
> What's your idea ?
> 
> 
> Francesco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From Istvan.Bisz at t-online.hu  Thu Nov 12 18:32:15 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Thu Nov 12 18:33:11 2009
Subject: [Harbour] HBQT, HBXBP - Test - New HB GC and QT interface
In-Reply-To: <26328312.post@talk.nabble.com>
References: <000f01ca63eb$25537010$6ffa5030$@Bisz@t-online.hu>
	<26328312.post@talk.nabble.com>
Message-ID: <001b01ca63f0$5e795030$1b6bf090$@Bisz@t-online.hu>

Hi Pritpal,

The modified hbqt, hbxbp, demoqt and demoxbp are now crash free on Windows Vista with Mingw, Fedora12 and CentOS5.4. The log-s produced by valgrind on linux are clean.

Best regards,
Istv?n 

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: 2009. november 13. 0:18
To: harbour@harbour-project.org
Subject: Re: [Harbour] HBQT, HBXBP - Test - New HB GC and QT interface


Thanks Bisz


Bisz Istv?n wrote:
> 
> Please find attached the HBQT and HBXBP components modified to eliminate
> the
> crashes already reported on this list.
> 
> ?        The main modification is in the HB GC and QT interface,
> eliminating
> the crashes caused by the double object deletes. The modification is
> implemented in the hbqtgen.prg, QAbstractItemModel.qth, hbqt.h and
> hbqt_destruct.cpp.
> The hbqt interface should be regenerated with the modified components.
> 
>  
> 
> ?        In demoqt.prg the hb_toOutDebug is eliminated on Fedora12
> generates
> crashes. Maybe a new tracing method is necessary to be compatible with all
> platforms.
> 
> ?        In demoqt.prg:
> 
>       oDlg := QWebView():new()
> 
>       oUrl := QUrl():new()
> 
>       oUrl:setUrl( "http://www.harbour.vouch.info" )
> 
>       QT_QWebView_SetUrl( QT_PTROF( oDlg ), QT_PTROF( oUrl ) )
> 
>       oDlg:setWindowTitle( "Harbour-QT Web Page Navigator" )
> 
> /* BI TODO: 
> 
>       oDlg:exec()
> 
> */ 
> 
> sequence is wrong, as the QWebView object has no exec method. This part
> should be redesigned.
> 
>  
> 
> ?        In QAbstractItemModel.qth:
> 
>  
> 
> HB_FUNC( QT_HBDBFMODEL_DESTROY )
> 
> {
> 
> // BI:TODO fix the GPF  hbqt_par_HbDbfModel( 1 )->~HbDbfModel();
> 
> }
> 
>  
> 
> the hbqt_par_HbDbfModel( 1 )->~HbDbfModel(); generates crashes on
> Windows(Vista) and linux (Fedora12, CentOS5.4). An analysis is necessary
> to
> eliminate the bug. Is not related to the Qt interface, as I see.
> 
>  
> 
> ?        In xbpgeneric.prg:
> 
>  
> 
> FUNCTION Xbp_Debug( ... )
> 
>    LOCAL s  := ""
> 
>    LOCAL aP := hb_aParams()
> 
>  
> 
>    aeval( aP, {|e| s += Xbp_XtoS( e ) + ' ' } )
> 
> /* BI TODO: 
> 
>    hb_ToOutDebug( s )
> 
> */
> 
>    RETURN nil
> 
>  
> 
> the   hb_ToOutDebug( s ) is eliminated, see above.
> 
>  
> 
> ?        In xbpgeneric.prg:
> 
>  
> 
> EXIT PROCEDURE Qt_End()
> 
>  
> 
>    Qt_MutexDestroy()
> 
>  
> 
>    oDummy        := NIL
> 
>    oAppWindow    := NIL
> 
>  
> 
>    IF oDeskTop == NIL
> 
>    // BI TODO: Error BASE/1004  Message not found: QAPPLICATION:OWIDGET
> 
>       oDeskTop:oWidget:pPtr := 0
> 
>    ENDIF
> 
>  
> 
>    oApp:quit()
> 
>    // BI TODO: Error BASE/1004  Message not found: QAPPLICATION:OWIDGET
> 
>    // oApp:oWidget:pPtr := 0
> 
>  
> 
>    RETURN
> 
>                the above sequence should be redesigned to eliminate the
> crashes on Linux.
> 
>  
> 
> With the attached modification, demoqt and demoxbp where verified with
> valgrind. The erroneous memory handlings are eliminated. Further tests and
> analysis are necessary.
> 

I am yet to see what you have forwarded but am happy that someone 
has joined hands in this direction.

Could you execute demoxbp.exe also. That will be a real test.
By today evening I will look into your findings.

Again thanks.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HBQT%2C-HBXBP---Test---New-HB-GC-and-QT-interface-tp26328073p26328312.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From fperillo at gmail.com  Thu Nov 12 19:13:44 2009
From: fperillo at gmail.com (francesco perillo)
Date: Thu Nov 12 19:13:52 2009
Subject: [Harbour] hbvpdf is "broken" ?
In-Reply-To: <26328315.post@talk.nabble.com>
References: <6943770e0911121455l70396518q10dbec1de67cfb5a@mail.gmail.com>
	<26328315.post@talk.nabble.com>
Message-ID: <6943770e0911121613j2ef5a6a8gae969842c0324801@mail.gmail.com>

On Fri, Nov 13, 2009 at 12:23 AM, Pritpal Bedi <bedipritpal@hotmail.com> wrote:
>
> Hi
>
>
> francesco perillo-2 wrote:
>>
>> So, after a couple of days spent on this library that looked
>> interesting, I think I will give up.... it may have some other
>> "hidden" features...
>>
>> What's your idea ?
>>
>
> Probably you never read about the origin of the library and its passage
> through this level. I suggest you to do so.

No, I didn't... It cames from a library that should be called pdf006....
I just went to the repository and checked the last few commits that
were just cosmetic....

> It is upto you to accept or discard. You just "looked" into it for two days
> and tired.......

I tried to include the library in my really-simple printing engine.
I already create pdf printing on PdfCreator but I was looking for a
way to simply create a pdf and saving it to a file without interacting
with the OLE interface of Pdfcreator.
I was committed to this library !

> I had spent many nights to give it a shape off a more
> cumbersome procedural code, surely I enjoyed all that time.

I thank you for your work ! It's important to have a pdf library that
is all in harbour code !!! It can work on linux too ! Haru is a lot of
c code and some seems to be very windows specific...
I'm not saying you did something wrong... the procedural code has the
same problems ! And probably you are in a country where LETTER paper
format is used....

> So the difference is in "constructive" vs "recreational" approach.

Allways constructive !  I was asking if somebody was using this code
in production software ! I'm going back to the PdfCreator way but if
it won't work as planned I have to switch back to hbv o hbp....  and I
personally prefer hbv because it can help me on the linux side......
What I fear is that I may clean up this code, these couple of
errors... but there may be some others ????

Is anybody using this library ?????

> Hope you understand what I mean.

Sorry if you thought this was an attack, it wasn't... it was more a
.... I don't know how to say in english... it was like the crying of a
children when his ice-cream fell off on the road... I really wanted to
use it ....

Francesco
From fperillo at gmail.com  Thu Nov 12 19:16:32 2009
From: fperillo at gmail.com (francesco perillo)
Date: Thu Nov 12 19:16:42 2009
Subject: [Harbour] hbvpdf is "broken" ?
In-Reply-To: <D78A1A8F-E7A5-48E8-B95A-104E55C65884@syenar.hu>
References: <6943770e0911121455l70396518q10dbec1de67cfb5a@mail.gmail.com>
	<D78A1A8F-E7A5-48E8-B95A-104E55C65884@syenar.hu>
Message-ID: <6943770e0911121616y51b7e6c6h107dd2e5c544de62@mail.gmail.com>

> hbvpdf is outdated beyond repair.

But it seems to be the only library that can be used on linux...
there may be others I don't know,,, of course

> Try hbhpdf.

Thanks, but I'm going back to PdfCreator at the moment.... Code was
90% ready....

Francesco
From harbour.01 at syenar.hu  Thu Nov 12 19:20:08 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov 12 19:20:18 2009
Subject: [Harbour] hbvpdf is "broken" ?
In-Reply-To: <6943770e0911121613j2ef5a6a8gae969842c0324801@mail.gmail.com>
References: <6943770e0911121455l70396518q10dbec1de67cfb5a@mail.gmail.com>
	<26328315.post@talk.nabble.com>
	<6943770e0911121613j2ef5a6a8gae969842c0324801@mail.gmail.com>
Message-ID: <80779A65-81AD-4266-837F-DE162E26D0CF@syenar.hu>

> I thank you for your work ! It's important to have a pdf library that
> is all in harbour code !!! It can work on linux too ! Haru is a lot of
> c code and some seems to be very windows specific...

That's totally false information.

libharu is portable ANSI C and there is nothing in it which makes 
it Windows specific. I use it in OS X and Linux builds of my app 
just as well as on Windows x86 and x64. It even works on MS-DOS, 
and as a matter of fact on all other supported Harbour platforms 
except a few specific and rare compiler/platform combinations 
(f.e. wce, pocc64, win/watcom).

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Nov 12 19:21:35 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov 12 19:21:44 2009
Subject: [Harbour] hbvpdf is "broken" ?
In-Reply-To: <6943770e0911121616y51b7e6c6h107dd2e5c544de62@mail.gmail.com>
References: <6943770e0911121455l70396518q10dbec1de67cfb5a@mail.gmail.com>
	<D78A1A8F-E7A5-48E8-B95A-104E55C65884@syenar.hu>
	<6943770e0911121616y51b7e6c6h107dd2e5c544de62@mail.gmail.com>
Message-ID: <723F9DAB-246C-45B3-AF2D-A01C1EEA4564@syenar.hu>

>> hbvpdf is outdated beyond repair.
> 
> But it seems to be the only library that can be used on linux...
> there may be others I don't know,,, of course

I don't know where you got this information from, 
but it's not true, so I just can guess you never 
actually tried it on Linux.

>> Try hbhpdf.
> 
> Thanks, but I'm going back to PdfCreator at the moment.... Code was
> 90% ready....

Whatever you prefer.

Brgds,
Viktor

From fperillo at gmail.com  Thu Nov 12 19:32:15 2009
From: fperillo at gmail.com (francesco perillo)
Date: Thu Nov 12 19:32:23 2009
Subject: [Harbour] hbvpdf is "broken" ?
In-Reply-To: <80779A65-81AD-4266-837F-DE162E26D0CF@syenar.hu>
References: <6943770e0911121455l70396518q10dbec1de67cfb5a@mail.gmail.com>
	<26328315.post@talk.nabble.com>
	<6943770e0911121613j2ef5a6a8gae969842c0324801@mail.gmail.com>
	<80779A65-81AD-4266-837F-DE162E26D0CF@syenar.hu>
Message-ID: <6943770e0911121632wc769314wef61ed01325b687a@mail.gmail.com>

Really good news indeed !  Ok, I now agree with you, hbvpdf may be
removed if nobody actually use it....
From bedipritpal at hotmail.com  Thu Nov 12 20:04:06 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Nov 12 20:04:12 2009
Subject: [Harbour] HBQT, HBXBP - Test - New HB GC and QT interface
In-Reply-To: <2EA9E2E5-FF22-4882-BA1D-CB94AD23C588@syenar.hu>
References: <000f01ca63eb$25537010$6ffa5030$@Bisz@t-online.hu>
	<2EA9E2E5-FF22-4882-BA1D-CB94AD23C588@syenar.hu>
Message-ID: <26328711.post@talk.nabble.com>


Hello


Viktor Szak?ts wrote:
> 
> "ToOutDebug" and friends are not allowed to be used in 
> any of our contribs. Ever. Yet they are unfortunately.
> There is a large inconsistent mess when it comes to debug 
> calls in hbqt/hbxbp.
> 

But then there is no viable alternative to this until library stabilizes.
I think we are aware enough to this fact and have to bear with it.
Every time I commit I cannot go through to clean debug calls 
because the next moment I need them again.



> At the same time I've added this in hbxbp on .prg level:
> ---
> #if defined( __HB_OUTDEBUG__ )                                                                                                                                                                           
>    #if defined( __PLATFORM__WINDOWS ) .AND. defined( __HB_WINDEBUG__ )                                                                                                                                   
>       #xtranslate HB_OUTDEBUG( [<x>] ) => wapi_OutputDebugString( <x> )                                                                                                                                 
>    #else                                                                                                                                                                                                 
>       #xtranslate HB_OUTDEBUG( [<x>] ) => hb_TraceString( <x> )                                                                                                                                         
>    #endif                                                                                                                                                                                               
> #else                                                                                                                                                                                                   
>    #xtranslate HB_OUTDEBUG( [<x>] ) => iif( .T.,, )                                                                                                                                                     
> #endif                                                                                                                                       
> And we have HB_TRACE() on .c level since 10 years.
> 
> 

This is on prg level, fine, and there is no contension.
I will change the call from hb_toOutDebug() to hb_outDebug().
But what about C level? HB_TRACE() is not an option to me.
I am not used to application level debugging nor does it fits my needs.

Anybody who post this noise perhaps does not understand what he should
change to avoid it, however temporarily.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HBQT%2C-HBXBP---Test---New-HB-GC-and-QT-interface-tp26328073p26328711.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Nov 12 20:08:13 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Nov 12 20:08:19 2009
Subject: [Harbour] HBQT, HBXBP - Test - New HB GC and QT interface
In-Reply-To: <001b01ca63f0$5e795030$1b6bf090$@Bisz@t-online.hu>
References: <000f01ca63eb$25537010$6ffa5030$@Bisz@t-online.hu>
	<26328312.post@talk.nabble.com>
	<001b01ca63f0$5e795030$1b6bf090$@Bisz@t-online.hu>
Message-ID: <26328712.post@talk.nabble.com>


Hi


Bisz Istv?n wrote:
> 
> The modified hbqt, hbxbp, demoqt and demoxbp are now crash free on Windows
> Vista with Mingw, Fedora12 and CentOS5.4. The log-s produced by valgrind
> on linux are clean.
> 

Good to know. 

It is not a only matter of crashes when exiting the application,
More concerning aspect is  about the memory usage which goes up with 
every new dialog. Did you keep a watch on task manager while navigating 
browser ? Very important digging-in strategy.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HBQT%2C-HBXBP---Test---New-HB-GC-and-QT-interface-tp26328073p26328712.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Nov 12 20:14:56 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov 12 20:15:05 2009
Subject: [Harbour] HBQT, HBXBP - Test - New HB GC and QT interface
In-Reply-To: <26328711.post@talk.nabble.com>
References: <000f01ca63eb$25537010$6ffa5030$@Bisz@t-online.hu>
	<2EA9E2E5-FF22-4882-BA1D-CB94AD23C588@syenar.hu>
	<26328711.post@talk.nabble.com>
Message-ID: <AF70D096-1C77-4760-BB9E-02060B11B997@syenar.hu>

>> "ToOutDebug" and friends are not allowed to be used in 
>> any of our contribs. Ever. Yet they are unfortunately.
>> There is a large inconsistent mess when it comes to debug 
>> calls in hbqt/hbxbp.
>> 
> 
> But then there is no viable alternative to this until library stabilizes.
> I think we are aware enough to this fact and have to bear with it.
> Every time I commit I cannot go through to clean debug calls 
> because the next moment I need them again.

All you need is *one* #define macro which can be easily 
toggled. Disabled by default, enabled by some local means, 
like HB_USER_CFLAG/PRGFLAG or alike.

We have viable .c level alternative called HB_TRACE(), I'd 
guess you never tried it. Apparently many HBQT users/testers 
are not Windows users, so for them these Windows debug calls 
are useless and are in the way. HB_TRACE() works for everyone 
though, it's just as portable as Harbour.

> But what about C level? HB_TRACE() is not an option to me.
> I am not used to application level debugging nor does it fits my needs.
> 
> Anybody who post this noise perhaps does not understand what he should
> change to avoid it, however temporarily.

Useless debug code should not be left enabled in SVN.
If there is *portable* debug code, it can be enabled 
temporarily, but even this is better to be enabled using 
some macros. Non-portable debug (or xhb lib) stuff should 
however never be left enabled in SVN, not even "temporarily", 
it's simply unuseful for most ppl. It destabilizes SVN, 
so f.e. since xhb lib dependency was introduced in hbqt 
it effectively blocks any sort of beta/rc release.

If you have some time, pls try HB_TRACE(), perhaps if 
you can tell some specifics which are missing from it 
in your opinion, we may try to enhance it, if possible 
in a portable way.

Brgds,
Viktor

From mhsabado at gmail.com  Thu Nov 12 23:23:03 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Thu Nov 12 23:23:12 2009
Subject: [Harbour] Testing Linux
In-Reply-To: <4afc3f1a.1c08c00a.6a4a.2cc3SMTPIN_ADDED@mx.google.com>
References: <4afc3f1a.1c08c00a.6a4a.2cc3SMTPIN_ADDED@mx.google.com>
Message-ID: <4AFCDF27.2070307@gmail.com>

Hi,

I have tried building Harbour under Mandriva 2010 and compiled the 
hello.prg successfully but when I run, I have the following error.  But 
I have verified that the libharbour.so was found under /usr/local/lib 
and /usr/local/lib/harbour. 

Thanks for any help.

Mario
**********************************************
[root@localhost tests]# hbmk2 hello.prg
hbmk2: Processing environment options: -compiler=gcc                   
hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg               
Harbour 2.0.0beta3 (Rev. 12865)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'hello.prg'...
Lines 11, Functions/Procedures 1
Generating C source output to 'hello.c'... Done.
[root@localhost tests]# ./hello
./hello: error while loading shared libraries: libharbour.so: cannot 
open shared object file: No such file or directory
[root@localhost tests]#

***********************************************************************
From guy.roussin at teledetection.fr  Fri Nov 13 02:06:07 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Fri Nov 13 02:06:15 2009
Subject: [Harbour] Testing Linux
In-Reply-To: <4AFCDF27.2070307@gmail.com>
References: <4afc3f1a.1c08c00a.6a4a.2cc3SMTPIN_ADDED@mx.google.com>
	<4AFCDF27.2070307@gmail.com>
Message-ID: <4AFD055F.40806@teledetection.fr>

Hi,
>
>
> I have tried building Harbour under Mandriva 2010 and compiled the 
> hello.prg successfully but when I run, I have the following error.  
> But I have verified that the libharbour.so was found under 
> /usr/local/lib and /usr/local/lib/harbour.
Add as root:
/usr/local/lib/
/usr/local/lib/harbour

in /etc/ld.so.conf

then type:
ldconfig


Guy
From snaiperis at users.sourceforge.net  Fri Nov 13 07:31:39 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Fri Nov 13 07:31:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12866] trunk/harbour
Message-ID: <E1N8vJT-0002Yo-Pu@c3vjzd1.ch3.sourceforge.com>

Revision: 12866
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12866&view=rev
Author:   snaiperis
Date:     2009-11-13 12:31:34 +0000 (Fri, 13 Nov 2009)

Log Message:
-----------
2009-11-13 14:28 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/src/rtl/hbi18n1.c
    ! fixed Lithuanian plural form index

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/hbi18n1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mhsabado at gmail.com  Fri Nov 13 10:03:02 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Fri Nov 13 10:03:14 2009
Subject: [Harbour] Testing Linux
In-Reply-To: <4afd51ed.0a08c00a.7d9e.ffff99d5SMTPIN_ADDED@mx.google.com>
References: <4afd51ed.0a08c00a.7d9e.ffff99d5SMTPIN_ADDED@mx.google.com>
Message-ID: <4AFD7526.5090603@gmail.com>


Hi Guy,
> Message: 9
> Date: Fri, 13 Nov 2009 08:06:07 +0100
> From: Guy Roussin <guy.roussin@teledetection.fr>
> Subject: Re: [Harbour] Testing Linux
> To: "Harbour Project Main Developer List."
> 	<harbour@harbour-project.org>
> Message-ID: <4AFD055F.40806@teledetection.fr>
> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>
> Hi,
>   
>> >
>> >
>> > I have tried building Harbour under Mandriva 2010 and compiled the 
>> > hello.prg successfully but when I run, I have the following error.  
>> > But I have verified that the libharbour.so was found under 
>> > /usr/local/lib and /usr/local/lib/harbour.
>>     
> Add as root:
> /usr/local/lib/
> /usr/local/lib/harbour
>
> in /etc/ld.so.conf
>
> then type:
> ldconfig
>
>
> Guy
That did it!  Thank you for the help.

Best regards,
Mario
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091113/2f008193/attachment.html
From sscc at mweb.co.za  Fri Nov 13 10:09:11 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Nov 13 10:09:24 2009
Subject: [Harbour] SSL
Message-ID: <4AFD7697.2020208@mweb.co.za>

Hi Viktor

I have to write some code to pick up an XML file from an https address.

I did some test with wget to get the client certificate stuff working ok.

Then I downloaded OpenSSL and compiled Harbour.

I ran test.prg in hbssl\tests which seems fine.

Now, I start to understand just what a huge amount of work you must have put 
into this. I have tried studying the documentation but I am pretty lost.

test.prg explains more to me than an afternoon of reading. If it is not too much 
work could you explain in terms of test.prg how a client certificate would get 
hooked into the process? The certificate and private key are in the same pem file.

If that is rather a load, did you have a decent reference? The OpenSSL web site 
is not easy.

Thanks
Alex
From harbour.01 at syenar.hu  Fri Nov 13 10:25:36 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Nov 13 10:25:47 2009
Subject: [Harbour] SSL
In-Reply-To: <4AFD7697.2020208@mweb.co.za>
References: <4AFD7697.2020208@mweb.co.za>
Message-ID: <FBAF7D39-ECA1-4769-B749-038F31A4B3EF@syenar.hu>

Hi Alex,

On 2009 Nov 13, at 16:09, Alex Strickland wrote:

> Hi Viktor
> 
> I have to write some code to pick up an XML file from an https address.
> 
> I did some test with wget to get the client certificate stuff working ok.
> 
> Then I downloaded OpenSSL and compiled Harbour.
> 
> I ran test.prg in hbssl\tests which seems fine.
> 
> Now, I start to understand just what a huge amount of work you must have put into this. I have tried studying the documentation but I am pretty lost.
> 
> test.prg explains more to me than an afternoon of reading. If it is not too much work could you explain in terms of test.prg how a client certificate would get hooked into the process? The certificate and private key are in the same pem file.
> 
> If that is rather a load, did you have a decent reference? The OpenSSL web site is not easy.

Unfortunately not. I had not touched the certificate topic yet.

Brgds,
Viktor

From gerrylist at drouillard.ca  Fri Nov 13 10:54:57 2009
From: gerrylist at drouillard.ca (Gerald Drouillard)
Date: Fri Nov 13 10:55:29 2009
Subject: [Harbour] SSL
In-Reply-To: <4AFD7697.2020208@mweb.co.za>
References: <4AFD7697.2020208@mweb.co.za>
Message-ID: <4AFD8151.1090402@drouillard.ca>

On 11/13/2009 10:09 AM, Alex Strickland wrote:
> Hi Viktor
>
> I have to write some code to pick up an XML file from an https address.
>
> I did some test with wget to get the client certificate stuff working ok.
>
> Then I downloaded OpenSSL and compiled Harbour.
>
> I ran test.prg in hbssl\tests which seems fine.
>
> Now, I start to understand just what a huge amount of work you must have
> put into this. I have tried studying the documentation but I am pretty
> lost.
>
> test.prg explains more to me than an afternoon of reading. If it is not
> too much work could you explain in terms of test.prg how a client
> certificate would get hooked into the process? The certificate and
> private key are in the same pem file.
>
> If that is rather a load, did you have a decent reference? The OpenSSL
> web site is not easy.

Another approach is consider using the curl support.  For us it works great.

-- 
Regards
--------------------------------------
Gerald Drouillard
Technology Architect
Drouillard & Associates, Inc.
http://www.Drouillard.biz
From snaiperis at users.sourceforge.net  Fri Nov 13 13:40:41 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Fri Nov 13 13:40:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12867] trunk/harbour
Message-ID: <E1N914b-0005LW-SD@d5vjzd1.ch3.sourceforge.com>

Revision: 12867
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12867&view=rev
Author:   snaiperis
Date:     2009-11-13 18:40:38 +0000 (Fri, 13 Nov 2009)

Log Message:
-----------
2009-11-13 20:40 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/rddads/ads1.c
    * changed ulRetVal to u32RetVal to be the same name in all file
    * added RTE if AdsSkip(), AdsGotoRecord(), AdsGotoTop(), and 
      AdsGotoBottom() return not AE_SUCCESS. All these functions 
      return 7022 (Maximum index levels) on unbalanced ADS indexes.

    ; TODO: test and add RTE on AdsSeek() and the other remaining record 
      positioning function calls

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/ads1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Fri Nov 13 13:44:38 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Nov 13 13:46:18 2009
Subject: [Harbour] HB_GT_* and HB_GT_*_DEFAULT
Message-ID: <4AFDA916.1000004@dbtopas.lt>

Hi,


does HB_GT_*_DEFAULT request forces HB_GT_* request? Or we should add both?


Regards,
Mindaugas

From druzus at acn.waw.pl  Fri Nov 13 14:55:53 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Nov 13 14:56:02 2009
Subject: [Harbour] HB_GT_* and HB_GT_*_DEFAULT
In-Reply-To: <4AFDA916.1000004@dbtopas.lt>
References: <4AFDA916.1000004@dbtopas.lt>
Message-ID: <20091113195553.GA30089@34-mo7-2.home.aster.pl>

On Fri, 13 Nov 2009, Mindaugas Kavaliauskas wrote:

Hi,

> does HB_GT_*_DEFAULT request forces HB_GT_* request?

It does.

> Or we should add both?

Pure:

   REQUEST HB_GT_*_DEFAUL

is enough.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Nov 13 15:19:28 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Nov 13 15:19:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12860] trunk/harbour
In-Reply-To: <86EE8107-06B3-46C5-AD12-D95B42E2C13E@syenar.hu>
References: <E1N7uTC-0004B5-QE@bj8yhf1.ch3.sourceforge.com>
	<B9DDF56C-DC1F-4E48-8B04-B4888027308E@syenar.hu>
	<20091110182304.GA1915@34-mo7-2.home.aster.pl>
	<86EE8107-06B3-46C5-AD12-D95B42E2C13E@syenar.hu>
Message-ID: <20091113201928.GB30089@34-mo7-2.home.aster.pl>

On Tue, 10 Nov 2009, Szak?ts Viktor wrote:

Hi,

> Can't really evaluate the results (at lest I don't know what
> actions to make), so I've attached cpinfo.txt output from Clipper
> and Harbour.

Now it should be very simple.
Please regenerate cp*.c files again using Clipper and add them to Harbour
SVN. Some of the above files will used human readable form without and
static tables and they for sure can be left in such way.
Some others will use only static tables and they can be converted to
human readable form so they also should be left untouched.
Finally the 3-rd group will use human readable form but will also have
the binary tables disabled by:
   #if 0 /* TOVERIFY: binary tables */
      [...]
   #endif

This CPs should be sooner or later verified by someone. You can also
commit them as is and the verification can be done by anyone using Harbour
compiler only. This verification is very simple process. Is enough to
compile cpinfo.prg by Harbour and generate cp*.c files for given CP which
should be verified. Then this new file should be compared with the one
in SVN, i.e. using diff -u command.
Both files should have static tables disabled by above #if 0 /* ... */
statement and if these static tables are identical then human readable
form is correct.
In such case I suggest to make small modification and change:

   #if 0 /* TOVERIFY: binary tables */

to:

   #if 0 /* VERIFIED: <DATE>, [<developer>] */

so other developers will know that CP was verified and human readable
definition can be safely used.
If it cannot be safely used (generated tables are different) then '#if 0'
should be replaced with '#if 1'
That's all.

> BTW, maybe it'd be better to use the cp name instead of cpinfo.txt.

I have know preferences here though IMHO 'cpinfo' is less enigmatic then
pure 'cp' which will also confuse *nix users causing problems for us when
we ask some less advanced users about 'cp' command output so I do not think
it's good idea.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Nov 13 15:23:56 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Nov 13 15:24:04 2009
Subject: [Harbour] fopen in WINCE
In-Reply-To: <1257878872788-3981822.post@n2.nabble.com>
References: <1257878872788-3981822.post@n2.nabble.com>
Message-ID: <20091113202356.GC30089@34-mo7-2.home.aster.pl>

On Tue, 10 Nov 2009, AbeB wrote:

Hi,

> it can return a negative result as a valid handle under wince.
> it will return -1 for an error 
> is that ok? 
> i used to check the result of fopen if it's < 0 and take it as an error.

You should not use such assumptions. In this case I can pacify it and map
windows handler to 64bit integer what eliminate the problem for 32 bit
systems (BTW it may happen in any 32 bit windows version) but the same
problem may also happen in 64 bit windows version and here such workaround
will not work so I suggest you to clean your code or sooner or later you
will exploit this problem again.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Nov 13 15:27:32 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Nov 13 15:27:39 2009
Subject: [Harbour] dbcreate  error 1010 windows vista64
In-Reply-To: <1257910657633-3984226.post@n2.nabble.com>
References: <1257910657633-3984226.post@n2.nabble.com>
Message-ID: <20091113202732.GD30089@34-mo7-2.home.aster.pl>

On Tue, 10 Nov 2009, AbeB wrote:

Hi,

> this code generates an error under wista64, never had under XP.
> ------
>     DBCREATE( MTEMPFILE,{;
>     {     "ITEMID", "C",   8,  0 }, ;
>     {       "ITEM", "C",  12,  0 }, ;
>     {      "VITEM", "C",  12,  0 }, ;
>     {      "CLASS", "C",   8,  0 }, ;
>     {        "SUB", "C",   8,  0 }, ;
>     {       "CQTY", "N",   7,  2 }, ;
>     {       "DESC", "C",  40,  0 }, ;
>     {        "MAN", "C",  15,  0 }, ;
>     {     "BUYQTY", "N",    7,  2 }, ;
>     {     "SOLDQTY", "N",    7,  2 }, ;
>     {      "BUYAMT", "N",   10,  2 }, ;
>     {     "SOLDAMT", "N",   10,  2 }, ;
>     {     "BUYCASE", "N",    7,  2 }, ;
>     {    "SOLDCASE", "N",    7,  2 }, ;
>     {      "ONHAND", "N",    7,  2 }, ;
>     {  "CASEONHAND", "N",    7,  2 }, ;
>     {       "VEND1", "C",  LEN(VEND->VEND),  0 }, ;
>     {   "VENDCOST1", "N",   10,  2 }, ;
>     {       "VEND2", "C",  LEN(VEND->VEND),  0 }, ;
>     {   "VENDCOST2", "N",   10,  2 } })
> ----------
> ERROR BMDBFCDX/1010  Read error: \TEMP\EBD0C222.DBF
> Called from: (b)ERRORSYS(29) in Module: ERRORSYS.prg
> Called from: DBCREATE(0) in Module: 

Can you replicate this problem with small self contain example?
I.e.:

   proc main()
      dbCreate( "_tst", { { "F1", "C", 10, 0 } }  )
   return

What C compiler have you used?
What is OS error code - try to catch RTE using your worn error code block
to check osCode.
Can someone else replicate this problem?

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Nov 13 15:29:19 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Nov 13 15:29:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12860] trunk/harbour
In-Reply-To: <20091113201928.GB30089@34-mo7-2.home.aster.pl>
References: <E1N7uTC-0004B5-QE@bj8yhf1.ch3.sourceforge.com>
	<B9DDF56C-DC1F-4E48-8B04-B4888027308E@syenar.hu>
	<20091110182304.GA1915@34-mo7-2.home.aster.pl>
	<86EE8107-06B3-46C5-AD12-D95B42E2C13E@syenar.hu>
	<20091113201928.GB30089@34-mo7-2.home.aster.pl>
Message-ID: <5F055337-4A38-4163-B454-82149A0B24E5@syenar.hu>

>> Can't really evaluate the results (at lest I don't know what
>> actions to make), so I've attached cpinfo.txt output from Clipper
>> and Harbour.
> 
> Now it should be very simple.
> Please regenerate cp*.c files again using Clipper and add them to Harbour
> SVN. Some of the above files will used human readable form without and
> static tables and they for sure can be left in such way.
> Some others will use only static tables and they can be converted to
> human readable form so they also should be left untouched.
> Finally the 3-rd group will use human readable form but will also have
> the binary tables disabled by:
>   #if 0 /* TOVERIFY: binary tables */
>      [...]
>   #endif
> 
> This CPs should be sooner or later verified by someone. You can also
> commit them as is and the verification can be done by anyone using Harbour
> compiler only. This verification is very simple process. Is enough to
> compile cpinfo.prg by Harbour and generate cp*.c files for given CP which
> should be verified. Then this new file should be compared with the one
> in SVN, i.e. using diff -u command.
> Both files should have static tables disabled by above #if 0 /* ... */
> statement and if these static tables are identical then human readable
> form is correct.
> In such case I suggest to make small modification and change:
> 
>   #if 0 /* TOVERIFY: binary tables */
> 
> to:
> 
>   #if 0 /* VERIFIED: <DATE>, [<developer>] */
> 
> so other developers will know that CP was verified and human readable
> definition can be safely used.
> If it cannot be safely used (generated tables are different) then '#if 0'
> should be replaced with '#if 1'
> That's all.

All I can do is reupload the ones done with Clipper. 
I hope someone will be able to make the tests.

I'm still not sure what we're testing here? Whether 
cpinfo.prg and Harbour CP engine is correct? Sorry 
for my ignorance.

>> BTW, maybe it'd be better to use the cp name instead of cpinfo.txt.
> 
> I have know preferences here though IMHO 'cpinfo' is less enigmatic then
> pure 'cp' which will also confuse *nix users causing problems for us when
> we ask some less advanced users about 'cp' command output so I do not think
> it's good idea.

I need to clarify: I meant to name of output file cpinfo.txt to 
cphu852.txt format which makes comparison easier, or at least 
more foolproof.

cpinfo is perfect as the name of the tool.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Nov 13 15:31:56 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Nov 13 15:32:12 2009
Subject: [Harbour] dbcreate  error 1010 windows vista64
In-Reply-To: <20091113202732.GD30089@34-mo7-2.home.aster.pl>
References: <1257910657633-3984226.post@n2.nabble.com>
	<20091113202732.GD30089@34-mo7-2.home.aster.pl>
Message-ID: <025C0E55-7F12-4427-83EA-F359279DC9DC@syenar.hu>

I think it's merely a write permission problem.
It'd fail the same way under XP with a restricted 
user account.

It's highly unsafe to use filenames like: "\TEMP\filename.exe"
or anything without a drive letter, or to write to 
any location which isn't verified as a proper temp dir.

Brgds,
Viktor

On 2009 Nov 13, at 21:27, Przemys?aw Czerpak wrote:

> On Tue, 10 Nov 2009, AbeB wrote:
> 
> Hi,
> 
>> this code generates an error under wista64, never had under XP.
>> ------
>>    DBCREATE( MTEMPFILE,{;
>>    {     "ITEMID", "C",   8,  0 }, ;
>>    {       "ITEM", "C",  12,  0 }, ;
>>    {      "VITEM", "C",  12,  0 }, ;
>>    {      "CLASS", "C",   8,  0 }, ;
>>    {        "SUB", "C",   8,  0 }, ;
>>    {       "CQTY", "N",   7,  2 }, ;
>>    {       "DESC", "C",  40,  0 }, ;
>>    {        "MAN", "C",  15,  0 }, ;
>>    {     "BUYQTY", "N",    7,  2 }, ;
>>    {     "SOLDQTY", "N",    7,  2 }, ;
>>    {      "BUYAMT", "N",   10,  2 }, ;
>>    {     "SOLDAMT", "N",   10,  2 }, ;
>>    {     "BUYCASE", "N",    7,  2 }, ;
>>    {    "SOLDCASE", "N",    7,  2 }, ;
>>    {      "ONHAND", "N",    7,  2 }, ;
>>    {  "CASEONHAND", "N",    7,  2 }, ;
>>    {       "VEND1", "C",  LEN(VEND->VEND),  0 }, ;
>>    {   "VENDCOST1", "N",   10,  2 }, ;
>>    {       "VEND2", "C",  LEN(VEND->VEND),  0 }, ;
>>    {   "VENDCOST2", "N",   10,  2 } })
>> ----------
>> ERROR BMDBFCDX/1010  Read error: \TEMP\EBD0C222.DBF
>> Called from: (b)ERRORSYS(29) in Module: ERRORSYS.prg
>> Called from: DBCREATE(0) in Module: 
> 
> Can you replicate this problem with small self contain example?
> I.e.:
> 
>   proc main()
>      dbCreate( "_tst", { { "F1", "C", 10, 0 } }  )
>   return
> 
> What C compiler have you used?
> What is OS error code - try to catch RTE using your worn error code block
> to check osCode.
> Can someone else replicate this problem?
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Nov 13 15:34:03 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Nov 13 15:34:13 2009
Subject: [Harbour] dbcreate  error 1010 windows vista64
In-Reply-To: <025C0E55-7F12-4427-83EA-F359279DC9DC@syenar.hu>
References: <1257910657633-3984226.post@n2.nabble.com>
	<20091113202732.GD30089@34-mo7-2.home.aster.pl>
	<025C0E55-7F12-4427-83EA-F359279DC9DC@syenar.hu>
Message-ID: <2C43A36F-B9D5-47C2-913E-1D8C8F1DDA55@syenar.hu>


On 2009 Nov 13, at 21:31, Viktor Szak?ts wrote:

> I think it's merely a write permission problem.
> It'd fail the same way under XP with a restricted 
> user account.
> 
> It's highly unsafe to use filenames like: "\TEMP\filename.exe"

.ext


From druzus at acn.waw.pl  Fri Nov 13 15:43:30 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Nov 13 15:43:38 2009
Subject: [Harbour] cpinfo and UA codepage
In-Reply-To: <4AFAC3D6.3000006@polly.com.ua>
References: <4AFAC3D6.3000006@polly.com.ua>
Message-ID: <20091113204330.GE30089@34-mo7-2.home.aster.pl>

On Wed, 11 Nov 2009, vatzct wrote:

Hi,


> This is the result of cpinfo with UA codepage:
> 11/11/09 15:52:00 Windows XP 5.1.2600 Service Pack 1 Harbour
> 2.0.0beta3 (Rev. 12818)
> Character encoding: UA1125
> ==================================================
> letter '?' (159:AU ) is wrongly sorted
> letter '?' (175:A L ) is wrongly sorted
[...]

Yes, this test nicely shows bugs in old CP implementation.
For many languages like Ukrainian old CP implementation was completely
broken. The new CP code fixed this and few other problems and it's
the reason I left this note in the ChangeLog:

   2009-11-08 02:43 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
   [...]
      Warning !!! some very serious bugs in national sorting have been
                  fixed. It may cause that old indexes using some national
                  sorting will not be compatible. Please rebuild existing
                  indexes.

so do not forget to recreate indexes (reindex) in all your programs
when you will update your Harbour version (Rev. 12818 still uses the
old buggy CP code). Please also remember that xHarbour still uses
broken CP code so it's not possible to share data between Harbour
and xHarbour as long as it will not be fixed. Otherwise the indexes
will be corrupted.

BTW I'm surprised that Ukrainian, Turkish, Serbian, Russian, Greek and
some other users haven't reported the problems for such long time.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Nov 13 15:52:25 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Nov 13 15:52:33 2009
Subject: [Harbour] how to control the MDI windows in ALIAS ?
In-Reply-To: <4AFB2AC3.70604@dbtopas.lt>
References: <26305352.post@talk.nabble.com> <26305942.post@talk.nabble.com>
	<26306161.post@talk.nabble.com>
	<609353e70911111110k227774bamc86aad3f0a84ccc8@mail.gmail.com>
	<5E5C31ED-004E-4799-8565-0AEA562B2162@syenar.hu>
	<4AFB2AC3.70604@dbtopas.lt>
Message-ID: <20091113205225.GF30089@34-mo7-2.home.aster.pl>

On Wed, 11 Nov 2009, Mindaugas Kavaliauskas wrote:

Hi,

> >>AGAIN
> >>To open a table concurrently in multiple work areas, you can do one of
> >>the following:
> >>Select another work area and issue USE with the table name and the AGAIN clause.
> >>Issue USE with the table name and the AGAIN clause, and specify a
> >>different work area with the IN clause.
> >>When you open a table again in another work area, the table in the new
> >>work area takes on the attributes of the table in the original work
> >>area. For example, if a table is opened for read-only or exclusive
> >>access and is opened again in another work area, the table is opened
> >>for read-only or exclusive access in the new work area.
> I do not see a big problem here:
> DBUSEAREA(.T., RDDNAME(), DBINFO(DBI_FULLPATH), cNewArea,
> DBINFO(DBI_SHARED), DBINFO(DBI_ISREADONLY))

Please remember that in Clipper and Harbour it's possible to disable
alias by using explicitly empty string "" as alias what effectively
resolves the problem with alias conflicts and in above example can be
used instead of cNewArea.

Anyhow this will not allow to reoopen table open in exclusive mode in
other workarea.

> >>In Visual FoxPro for Windows, opening a table again in another work
> >>area doesn't consume an additional file handle.
> 
> This will be not true in Harbour, but do you really care.

In Harbour it's platform dependent behavior. In *nix systems when the
same table, memos or indexes are open more then once then file handles
are shared. It's part of default filebuf.c code and it's necessary to
sync locks between aliased work areas and resolved some other problems
which can appear in POSIX systems.
In the future it will be used also for file caches and pseudo exclusive
mode (exclusive mode for external programs but shared between threads)
which should be quite interesting feature for programs like remote DB
servers.

best regards,
Przemek
From vouchcac at users.sourceforge.net  Fri Nov 13 20:59:02 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Nov 13 20:59:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
Message-ID: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>

Revision: 12868
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12868&view=rev
Author:   vouchcac
Date:     2009-11-14 01:58:58 +0000 (Sat, 14 Nov 2009)

Log Message:
-----------
2009-11-13 17:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)

  * contrib/hbqt/generator/hbqtgen.prg
  * contrib/hbqt/qth/QAbstractItemModel.qth

  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt_destruct.cpp
  * contrib/hbqt/hbqt_garbage.h
  * contrib/hbqt/hbqt_slots.cpp

  * contrib/hbqt/qtcore/QAbstractItemModel.cpp
  * contrib/hbqt/qtcore/QAbstractListModel.cpp
  * contrib/hbqt/qtcore/QAbstractTableModel.cpp
  * contrib/hbqt/qtcore/QBitArray.cpp
  * contrib/hbqt/qtcore/QByteArray.cpp
  * contrib/hbqt/qtcore/QCoreApplication.cpp
  * contrib/hbqt/qtcore/QDataStream.cpp
  * contrib/hbqt/qtcore/QDate.cpp
  * contrib/hbqt/qtcore/QDateTime.cpp
  * contrib/hbqt/qtcore/QDir.cpp
  * contrib/hbqt/qtcore/QEvent.cpp
  * contrib/hbqt/qtcore/QEventLoop.cpp
  * contrib/hbqt/qtcore/QFile.cpp
  * contrib/hbqt/qtcore/QFileInfo.cpp
  * contrib/hbqt/qtcore/QIODevice.cpp
  * contrib/hbqt/qtcore/QLatin1Char.cpp
  * contrib/hbqt/qtcore/QLatin1String.cpp
  * contrib/hbqt/qtcore/QLine.cpp
  * contrib/hbqt/qtcore/QLineF.cpp
  * contrib/hbqt/qtcore/QList.cpp
  * contrib/hbqt/qtcore/QLocale.cpp
  * contrib/hbqt/qtcore/QMimeData.cpp
  * contrib/hbqt/qtcore/QModelIndex.cpp
  * contrib/hbqt/qtcore/QObject.cpp
  * contrib/hbqt/qtcore/QPoint.cpp
  * contrib/hbqt/qtcore/QPointF.cpp
  * contrib/hbqt/qtcore/QProcess.cpp
  * contrib/hbqt/qtcore/QRect.cpp
  * contrib/hbqt/qtcore/QRectF.cpp
  * contrib/hbqt/qtcore/QRegExp.cpp
  * contrib/hbqt/qtcore/QResource.cpp
  * contrib/hbqt/qtcore/QSignalMapper.cpp
  * contrib/hbqt/qtcore/QSize.cpp
  * contrib/hbqt/qtcore/QSizeF.cpp
  * contrib/hbqt/qtcore/QStringList.cpp
  * contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
  * contrib/hbqt/qtcore/QTextCodec.cpp
  * contrib/hbqt/qtcore/QTextDecoder.cpp
  * contrib/hbqt/qtcore/QTextEncoder.cpp
  * contrib/hbqt/qtcore/QTextStream.cpp
  * contrib/hbqt/qtcore/QThread.cpp
  * contrib/hbqt/qtcore/QTime.cpp
  * contrib/hbqt/qtcore/QTimer.cpp
  * contrib/hbqt/qtcore/QTranslator.cpp
  * contrib/hbqt/qtcore/QUrl.cpp
  * contrib/hbqt/qtcore/QVariant.cpp

  * contrib/hbqt/qtgui/QAbstractButton.cpp
  * contrib/hbqt/qtgui/QAbstractItemDelegate.cpp
  * contrib/hbqt/qtgui/QAbstractItemView.cpp
  * contrib/hbqt/qtgui/QAbstractPrintDialog.cpp
  * contrib/hbqt/qtgui/QAbstractProxyModel.cpp
  * contrib/hbqt/qtgui/QAbstractScrollArea.cpp
  * contrib/hbqt/qtgui/QAbstractSlider.cpp
  * contrib/hbqt/qtgui/QAbstractSpinBox.cpp
  * contrib/hbqt/qtgui/QAbstractTextDocumentLayout.cpp
  * contrib/hbqt/qtgui/QAction.cpp
  * contrib/hbqt/qtgui/QActionGroup.cpp
  * contrib/hbqt/qtgui/QApplication.cpp
  * contrib/hbqt/qtgui/QBitmap.cpp
  * contrib/hbqt/qtgui/QBoxLayout.cpp
  * contrib/hbqt/qtgui/QBrush.cpp
  * contrib/hbqt/qtgui/QButtonGroup.cpp
  * contrib/hbqt/qtgui/QCalendarWidget.cpp
  * contrib/hbqt/qtgui/QCheckBox.cpp
  * contrib/hbqt/qtgui/QClipboard.cpp
  * contrib/hbqt/qtgui/QColor.cpp
  * contrib/hbqt/qtgui/QColorDialog.cpp
  * contrib/hbqt/qtgui/QComboBox.cpp
  * contrib/hbqt/qtgui/QCommandLinkButton.cpp
  * contrib/hbqt/qtgui/QCommonStyle.cpp
  * contrib/hbqt/qtgui/QCompleter.cpp
  * contrib/hbqt/qtgui/QConicalGradient.cpp
  * contrib/hbqt/qtgui/QContextMenuEvent.cpp
  * contrib/hbqt/qtgui/QCursor.cpp
  * contrib/hbqt/qtgui/QDateEdit.cpp
  * contrib/hbqt/qtgui/QDateTimeEdit.cpp
  * contrib/hbqt/qtgui/QDesktopWidget.cpp
  * contrib/hbqt/qtgui/QDial.cpp
  * contrib/hbqt/qtgui/QDialog.cpp
  * contrib/hbqt/qtgui/QDirModel.cpp
  * contrib/hbqt/qtgui/QDockWidget.cpp
  * contrib/hbqt/qtgui/QDoubleSpinBox.cpp
  * contrib/hbqt/qtgui/QDragEnterEvent.cpp
  * contrib/hbqt/qtgui/QDragLeaveEvent.cpp
  * contrib/hbqt/qtgui/QDragMoveEvent.cpp
  * contrib/hbqt/qtgui/QDropEvent.cpp
  * contrib/hbqt/qtgui/QErrorMessage.cpp
  * contrib/hbqt/qtgui/QFileDialog.cpp
  * contrib/hbqt/qtgui/QFileIconProvider.cpp
  * contrib/hbqt/qtgui/QFileSystemModel.cpp
  * contrib/hbqt/qtgui/QFocusEvent.cpp
  * contrib/hbqt/qtgui/QFocusFrame.cpp
  * contrib/hbqt/qtgui/QFont.cpp
  * contrib/hbqt/qtgui/QFontComboBox.cpp
  * contrib/hbqt/qtgui/QFontDatabase.cpp
  * contrib/hbqt/qtgui/QFontDialog.cpp
  * contrib/hbqt/qtgui/QFontInfo.cpp
  * contrib/hbqt/qtgui/QFontMetrics.cpp
  * contrib/hbqt/qtgui/QFontMetricsF.cpp
  * contrib/hbqt/qtgui/QFormLayout.cpp
  * contrib/hbqt/qtgui/QFrame.cpp
  * contrib/hbqt/qtgui/QGradient.cpp
  * contrib/hbqt/qtgui/QGridLayout.cpp
  * contrib/hbqt/qtgui/QGroupBox.cpp
  * contrib/hbqt/qtgui/QHBoxLayout.cpp
  * contrib/hbqt/qtgui/QHeaderView.cpp
  * contrib/hbqt/qtgui/QHelpEvent.cpp
  * contrib/hbqt/qtgui/QIcon.cpp
  * contrib/hbqt/qtgui/QImage.cpp
  * contrib/hbqt/qtgui/QImageReader.cpp
  * contrib/hbqt/qtgui/QImageWriter.cpp
  * contrib/hbqt/qtgui/QInputContext.cpp
  * contrib/hbqt/qtgui/QInputDialog.cpp
  * contrib/hbqt/qtgui/QInputEvent.cpp
  * contrib/hbqt/qtgui/QInputMethodEvent.cpp
  * contrib/hbqt/qtgui/QItemSelection.cpp
  * contrib/hbqt/qtgui/QItemSelectionModel.cpp
  * contrib/hbqt/qtgui/QKeyEvent.cpp
  * contrib/hbqt/qtgui/QKeySequence.cpp
  * contrib/hbqt/qtgui/QLabel.cpp
  * contrib/hbqt/qtgui/QLayout.cpp
  * contrib/hbqt/qtgui/QLayoutItem.cpp
  * contrib/hbqt/qtgui/QLCDNumber.cpp
  * contrib/hbqt/qtgui/QLinearGradient.cpp
  * contrib/hbqt/qtgui/QLineEdit.cpp
  * contrib/hbqt/qtgui/QListView.cpp
  * contrib/hbqt/qtgui/QListWidget.cpp
  * contrib/hbqt/qtgui/QListWidgetItem.cpp
  * contrib/hbqt/qtgui/QMainWindow.cpp
  * contrib/hbqt/qtgui/QMatrix.cpp
  * contrib/hbqt/qtgui/QMenu.cpp
  * contrib/hbqt/qtgui/QMenuBar.cpp
  * contrib/hbqt/qtgui/QMessageBox.cpp
  * contrib/hbqt/qtgui/QMouseEvent.cpp
  * contrib/hbqt/qtgui/QMoveEvent.cpp
  * contrib/hbqt/qtgui/QMovie.cpp
  * contrib/hbqt/qtgui/QPageSetupDialog.cpp
  * contrib/hbqt/qtgui/QPaintDevice.cpp
  * contrib/hbqt/qtgui/QPainter.cpp
  * contrib/hbqt/qtgui/QPainterPath.cpp
  * contrib/hbqt/qtgui/QPaintEvent.cpp
  * contrib/hbqt/qtgui/QPalette.cpp
  * contrib/hbqt/qtgui/QPen.cpp
  * contrib/hbqt/qtgui/QPicture.cpp
  * contrib/hbqt/qtgui/QPixmap.cpp
  * contrib/hbqt/qtgui/QPolygon.cpp
  * contrib/hbqt/qtgui/QPolygonF.cpp
  * contrib/hbqt/qtgui/QPrintDialog.cpp
  * contrib/hbqt/qtgui/QPrintEngine.cpp
  * contrib/hbqt/qtgui/QPrinter.cpp
  * contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
  * contrib/hbqt/qtgui/QProgressBar.cpp
  * contrib/hbqt/qtgui/QProgressDialog.cpp
  * contrib/hbqt/qtgui/QPushButton.cpp
  * contrib/hbqt/qtgui/QRadialGradient.cpp
  * contrib/hbqt/qtgui/QRadioButton.cpp
  * contrib/hbqt/qtgui/QRegion.cpp
  * contrib/hbqt/qtgui/QResizeEvent.cpp
  * contrib/hbqt/qtgui/QScrollArea.cpp
  * contrib/hbqt/qtgui/QScrollBar.cpp
  * contrib/hbqt/qtgui/QSessionManager.cpp
  * contrib/hbqt/qtgui/QSizeGrip.cpp
  * contrib/hbqt/qtgui/QSizePolicy.cpp
  * contrib/hbqt/qtgui/QSlider.cpp
  * contrib/hbqt/qtgui/QSound.cpp
  * contrib/hbqt/qtgui/QSpacerItem.cpp
  * contrib/hbqt/qtgui/QSpinBox.cpp
  * contrib/hbqt/qtgui/QSplashScreen.cpp
  * contrib/hbqt/qtgui/QSplitter.cpp
  * contrib/hbqt/qtgui/QStandardItem.cpp
  * contrib/hbqt/qtgui/QStandardItemModel.cpp
  * contrib/hbqt/qtgui/QStatusBar.cpp
  * contrib/hbqt/qtgui/QStringListModel.cpp
  * contrib/hbqt/qtgui/QStyle.cpp
  * contrib/hbqt/qtgui/QStyledItemDelegate.cpp
  * contrib/hbqt/qtgui/QStyleFactory.cpp
  * contrib/hbqt/qtgui/QStyleHintReturn.cpp
  * contrib/hbqt/qtgui/QStyleHintReturnMask.cpp
  * contrib/hbqt/qtgui/QStyleHintReturnVariant.cpp
  * contrib/hbqt/qtgui/QStyleOption.cpp
  * contrib/hbqt/qtgui/QStyleOptionButton.cpp
  * contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
  * contrib/hbqt/qtgui/QStyleOptionComplex.cpp
  * contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
  * contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
  * contrib/hbqt/qtgui/QStyleOptionFrame.cpp
  * contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
  * contrib/hbqt/qtgui/QStyleOptionHeader.cpp
  * contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
  * contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
  * contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
  * contrib/hbqt/qtgui/QStyleOptionSlider.cpp
  * contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
  * contrib/hbqt/qtgui/QStyleOptionTab.cpp
  * contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
  * contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
  * contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
  * contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
  * contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
  * contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
  * contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
  * contrib/hbqt/qtgui/QStylePainter.cpp
  * contrib/hbqt/qtgui/QSystemTrayIcon.cpp
  * contrib/hbqt/qtgui/QTabBar.cpp
  * contrib/hbqt/qtgui/QTableView.cpp
  * contrib/hbqt/qtgui/QTableWidget.cpp
  * contrib/hbqt/qtgui/QTableWidgetItem.cpp
  * contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
  * contrib/hbqt/qtgui/QTabWidget.cpp
  * contrib/hbqt/qtgui/QTextBlock.cpp
  * contrib/hbqt/qtgui/QTextBlockFormat.cpp
  * contrib/hbqt/qtgui/QTextBrowser.cpp
  * contrib/hbqt/qtgui/QTextCharFormat.cpp
  * contrib/hbqt/qtgui/QTextCursor.cpp
  * contrib/hbqt/qtgui/QTextDocument.cpp
  * contrib/hbqt/qtgui/QTextDocumentFragment.cpp
  * contrib/hbqt/qtgui/QTextDocumentWriter.cpp
  * contrib/hbqt/qtgui/QTextEdit.cpp
  * contrib/hbqt/qtgui/QTextFormat.cpp
  * contrib/hbqt/qtgui/QTextFragment.cpp
  * contrib/hbqt/qtgui/QTextFrame.cpp
  * contrib/hbqt/qtgui/QTextFrameFormat.cpp
  * contrib/hbqt/qtgui/QTextImageFormat.cpp
  * contrib/hbqt/qtgui/QTextInlineObject.cpp
  * contrib/hbqt/qtgui/QTextItem.cpp
  * contrib/hbqt/qtgui/QTextLayout.cpp
  * contrib/hbqt/qtgui/QTextLength.cpp
  * contrib/hbqt/qtgui/QTextLine.cpp
  * contrib/hbqt/qtgui/QTextListFormat.cpp
  * contrib/hbqt/qtgui/QTextObject.cpp
  * contrib/hbqt/qtgui/QTextOption.cpp
  * contrib/hbqt/qtgui/QTextTableFormat.cpp
  * contrib/hbqt/qtgui/QTimeEdit.cpp
  * contrib/hbqt/qtgui/QToolBar.cpp
  * contrib/hbqt/qtgui/QToolBox.cpp
  * contrib/hbqt/qtgui/QToolButton.cpp
  * contrib/hbqt/qtgui/QTransform.cpp
  * contrib/hbqt/qtgui/QTreeView.cpp
  * contrib/hbqt/qtgui/QTreeWidget.cpp
  * contrib/hbqt/qtgui/QTreeWidgetItem.cpp
  * contrib/hbqt/qtgui/QValidator.cpp
  * contrib/hbqt/qtgui/QVBoxLayout.cpp
  * contrib/hbqt/qtgui/QWheelEvent.cpp
  * contrib/hbqt/qtgui/QWidget.cpp
  * contrib/hbqt/qtgui/QWidgetAction.cpp
  * contrib/hbqt/qtgui/QWidgetItem.cpp
  * contrib/hbqt/qtgui/QWindowsStyle.cpp
  * contrib/hbqt/qtgui/QWindowsXPStyle.cpp
  * contrib/hbqt/qtgui/QWizard.cpp
  * contrib/hbqt/qtgui/QWizardPage.cpp

  * contrib/hbqt/qtnetwork/QFtp.cpp
  * contrib/hbqt/qtnetwork/QHttp.cpp
  * contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
  * contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
  * contrib/hbqt/qtnetwork/QNetworkRequest.cpp

  * contrib/hbqt/qtwebkit/QWebFrame.cpp
  * contrib/hbqt/qtwebkit/QWebHistory.cpp
  * contrib/hbqt/qtwebkit/QWebHistoryInterface.cpp
  * contrib/hbqt/qtwebkit/QWebHistoryItem.cpp
  * contrib/hbqt/qtwebkit/QWebHitTestResult.cpp
  * contrib/hbqt/qtwebkit/QWebPage.cpp
  * contrib/hbqt/qtwebkit/QWebPluginFactory.cpp
  * contrib/hbqt/qtwebkit/QWebSecurityOrigin.cpp
  * contrib/hbqt/qtwebkit/QWebSettings.cpp
  * contrib/hbqt/qtwebkit/QWebView.cpp

  * contrib/hbxbp/xbpbrowse.prg
  * contrib/hbxbp/xbpgeneric.prg
  * contrib/hbxbp/xbpwindow.prg

  * contrib/hbxbp/tests/demoxbp.prg

    + Implemented Bisz Istvan's patch with few fixes. Big thank you.
      This implementation has a better control over pointers and is dynamic.

    - Completely changed windows logging mechanism. Now it is invoked only 
      when you define #define __debug__ on C and PRG level

    TO WATCH: Please do extensive testing with demoxbp and demoqt. 
              We are almost done with pointer resolution, if I am not mistaking,
              but we further need to look into why system memory does not go down
              and keeps on increasing with every invocation of a dialog.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbqt/hbqt_garbage.h
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractItemModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractListModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QAbstractTableModel.cpp
    trunk/harbour/contrib/hbqt/qtcore/QBitArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QByteArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QCoreApplication.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDataStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDate.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDateTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDir.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEvent.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEventLoop.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFile.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFileInfo.cpp
    trunk/harbour/contrib/hbqt/qtcore/QIODevice.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1Char.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1String.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLine.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLineF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLocale.cpp
    trunk/harbour/contrib/hbqt/qtcore/QMimeData.cpp
    trunk/harbour/contrib/hbqt/qtcore/QModelIndex.cpp
    trunk/harbour/contrib/hbqt/qtcore/QObject.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPoint.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPointF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QProcess.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRect.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRectF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRegExp.cpp
    trunk/harbour/contrib/hbqt/qtcore/QResource.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSignalMapper.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSize.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSizeF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QStringList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextCodec.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextDecoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextEncoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QThread.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTimer.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTranslator.cpp
    trunk/harbour/contrib/hbqt/qtcore/QUrl.cpp
    trunk/harbour/contrib/hbqt/qtcore/QVariant.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractItemDelegate.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractItemView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractPrintDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractProxyModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractScrollArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAbstractTextDocumentLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QActionGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QApplication.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBitmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBrush.cpp
    trunk/harbour/contrib/hbqt/qtgui/QButtonGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCalendarWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCheckBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QClipboard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColorDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommandLinkButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommonStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCompleter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QConicalGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QContextMenuEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDesktopWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDial.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDirModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDoubleSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragEnterEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragLeaveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDragMoveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDropEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QErrorMessage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileIconProvider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileSystemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFocusEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFocusFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFont.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDatabase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontInfo.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetrics.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetricsF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFormLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGridLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHeaderView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHelpEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageReader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputContext.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputMethodEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelection.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelectionModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QKeyEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QKeySequence.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLCDNumber.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLabel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLayoutItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLineEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLinearGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMainWindow.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMatrix.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenu.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenuBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMessageBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMouseEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMoveEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMovie.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPageSetupDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintDevice.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainterPath.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPalette.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPicture.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPixmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygonF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintEngine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrinter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPushButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadialGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadioButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRegion.cpp
    trunk/harbour/contrib/hbqt/qtgui/QResizeEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSessionManager.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizePolicy.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSound.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpacerItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplashScreen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplitter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStatusBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStringListModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleFactory.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturn.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturnMask.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturnVariant.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComplex.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionHeader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTab.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStylePainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyledItemDelegate.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSystemTrayIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlock.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlockFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBrowser.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCharFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocument.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrameFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextImageFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextInlineObject.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLength.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextListFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextObject.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextTableFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTransform.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QVBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QValidator.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWheelEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWindowsStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWindowsXPStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizardPage.cpp
    trunk/harbour/contrib/hbqt/qth/QAbstractItemModel.qth
    trunk/harbour/contrib/hbqt/qtnetwork/QFtp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QNetworkRequest.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebFrame.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebHistory.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebHistoryInterface.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebHistoryItem.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebHitTestResult.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebPage.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebPluginFactory.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebSecurityOrigin.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebSettings.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebView.cpp
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Nov 13 21:07:42 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Nov 13 21:07:52 2009
Subject: [Harbour] cpinfo compiler error in Clipper
Message-ID: <C03B7042-E6BD-4F3C-AD1C-D0F598433E86@syenar.hu>

Either a ';' is missing, or the EOL is not needed.

[What is strange that in Harbour it compiles without 
error.]

---
C:\devl\CLIP52>clipper cpinfo.prg /n
Clipper (R) 5.2e
Copyright (c) 1985-1995, Computer Associates International, Inc.
Microsoft C Floating Point Support Routines
Copyright (c) Microsoft Corp 1984-1987.  All Rights Reserved.
295K available
Compiling CPINFO.PRG
CPINFO.PRG(427)    Error C2001  Syntax error: '+'
1 error

No code generated
---

Brgds,
Viktor

From druzus at acn.waw.pl  Fri Nov 13 22:09:39 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Nov 13 22:09:45 2009
Subject: [Harbour] cpinfo compiler error in Clipper
In-Reply-To: <C03B7042-E6BD-4F3C-AD1C-D0F598433E86@syenar.hu>
References: <C03B7042-E6BD-4F3C-AD1C-D0F598433E86@syenar.hu>
Message-ID: <20091114030939.GA1308@34-mo7-2.home.aster.pl>

On Sat, 14 Nov 2009, Szak?ts Viktor wrote:
> Either a ';' is missing, or the EOL is not needed.

The EOL is not needed. Thank you for information.

> [What is strange that in Harbour it compiles without error.]

Not such strange if you look at this code:

   #ifdef __HARBOUR__
      #define EOL    hb_osNewLine()
   #else
      #define EOL    chr( 13 ) + chr( 10 )
   #endif
   EOL

Clipper and Harbour behavior is the same if you also use the same
EOL macro value.

best regards,
Przemek
From druzus at users.sourceforge.net  Fri Nov 13 22:22:10 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Nov 13 22:22:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12869] trunk/harbour
Message-ID: <E1N99DG-0004of-AB@d5vjzd1.ch3.sourceforge.com>

Revision: 12869
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12869&view=rev
Author:   druzus
Date:     2009-11-14 03:22:09 +0000 (Sat, 14 Nov 2009)

Log Message:
-----------
2009-11-14 04:21 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbdefs.h
    * added small hack to eliminate negative handles from 32 bit windows
      builds. Please remember that this trick can work only in 32 bit
      windows version. In 64 bit ones valid handle after casting to integer
      value can give negative 64 bit number so checking for wrong handle
      please compare them with FS_ERROR (-1) instead of using < 0 or sth
      like that. Otherwise your code may not work properly with some new
      windows versions or may even suddenly stop to work with existing
      ones even if they worked for some time without problems.

  * harbour/src/rdd/dbf1.c
    * pacified warning after adding above hack

  * harbour/tests/cpinfo.prg
    ! removed unnecessary EOL reported by Viktor

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h
    trunk/harbour/src/rdd/dbf1.c
    trunk/harbour/tests/cpinfo.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Nov 13 22:44:21 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Nov 13 22:44:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12869] trunk/harbour
In-Reply-To: <E1N99DG-0004of-AB@d5vjzd1.ch3.sourceforge.com>
References: <E1N99DG-0004of-AB@d5vjzd1.ch3.sourceforge.com>
Message-ID: <46BF154B-DA93-4A23-9332-E70794C456B0@syenar.hu>

Thanks.

On 2009 Nov 14, at 04:22, druzus@users.sourceforge.net wrote:

> Revision: 12869
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12869&view=rev
> Author:   druzus
> Date:     2009-11-14 03:22:09 +0000 (Sat, 14 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-14 04:21 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbdefs.h
>    * added small hack to eliminate negative handles from 32 bit windows
>      builds. Please remember that this trick can work only in 32 bit
>      windows version. In 64 bit ones valid handle after casting to integer
>      value can give negative 64 bit number so checking for wrong handle
>      please compare them with FS_ERROR (-1) instead of using < 0 or sth
>      like that. Otherwise your code may not work properly with some new
>      windows versions or may even suddenly stop to work with existing
>      ones even if they worked for some time without problems.
> 
>  * harbour/src/rdd/dbf1.c
>    * pacified warning after adding above hack
> 
>  * harbour/tests/cpinfo.prg
>    ! removed unnecessary EOL reported by Viktor
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/hbdefs.h
>    trunk/harbour/src/rdd/dbf1.c
>    trunk/harbour/tests/cpinfo.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Nov 13 22:45:38 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Nov 13 22:45:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>
Message-ID: <BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>

Thank you.

Now I'm getting crash on exit using MinGW + Win7.

Brgds,
Viktor

On 2009 Nov 14, at 02:59, vouchcac@users.sourceforge.net wrote:

> Revision: 12868
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12868&view=rev
> Author:   vouchcac
> Date:     2009-11-14 01:58:58 +0000 (Sat, 14 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-13 17:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> 
>  * contrib/hbqt/generator/hbqtgen.prg
>  * contrib/hbqt/qth/QAbstractItemModel.qth
> 
>  * contrib/hbqt/hbqt.h
>  * contrib/hbqt/hbqt_destruct.cpp
>  * contrib/hbqt/hbqt_garbage.h
>  * contrib/hbqt/hbqt_slots.cpp
> 
>  * contrib/hbqt/qtcore/QAbstractItemModel.cpp
>  * contrib/hbqt/qtcore/QAbstractListModel.cpp
>  * contrib/hbqt/qtcore/QAbstractTableModel.cpp
>  * contrib/hbqt/qtcore/QBitArray.cpp
>  * contrib/hbqt/qtcore/QByteArray.cpp
>  * contrib/hbqt/qtcore/QCoreApplication.cpp
>  * contrib/hbqt/qtcore/QDataStream.cpp
>  * contrib/hbqt/qtcore/QDate.cpp
>  * contrib/hbqt/qtcore/QDateTime.cpp
>  * contrib/hbqt/qtcore/QDir.cpp
>  * contrib/hbqt/qtcore/QEvent.cpp
>  * contrib/hbqt/qtcore/QEventLoop.cpp
>  * contrib/hbqt/qtcore/QFile.cpp
>  * contrib/hbqt/qtcore/QFileInfo.cpp
>  * contrib/hbqt/qtcore/QIODevice.cpp
>  * contrib/hbqt/qtcore/QLatin1Char.cpp
>  * contrib/hbqt/qtcore/QLatin1String.cpp
>  * contrib/hbqt/qtcore/QLine.cpp
>  * contrib/hbqt/qtcore/QLineF.cpp
>  * contrib/hbqt/qtcore/QList.cpp
>  * contrib/hbqt/qtcore/QLocale.cpp
>  * contrib/hbqt/qtcore/QMimeData.cpp
>  * contrib/hbqt/qtcore/QModelIndex.cpp
>  * contrib/hbqt/qtcore/QObject.cpp
>  * contrib/hbqt/qtcore/QPoint.cpp
>  * contrib/hbqt/qtcore/QPointF.cpp
>  * contrib/hbqt/qtcore/QProcess.cpp
>  * contrib/hbqt/qtcore/QRect.cpp
>  * contrib/hbqt/qtcore/QRectF.cpp
>  * contrib/hbqt/qtcore/QRegExp.cpp
>  * contrib/hbqt/qtcore/QResource.cpp
>  * contrib/hbqt/qtcore/QSignalMapper.cpp
>  * contrib/hbqt/qtcore/QSize.cpp
>  * contrib/hbqt/qtcore/QSizeF.cpp
>  * contrib/hbqt/qtcore/QStringList.cpp
>  * contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
>  * contrib/hbqt/qtcore/QTextCodec.cpp
>  * contrib/hbqt/qtcore/QTextDecoder.cpp
>  * contrib/hbqt/qtcore/QTextEncoder.cpp
>  * contrib/hbqt/qtcore/QTextStream.cpp
>  * contrib/hbqt/qtcore/QThread.cpp
>  * contrib/hbqt/qtcore/QTime.cpp
>  * contrib/hbqt/qtcore/QTimer.cpp
>  * contrib/hbqt/qtcore/QTranslator.cpp
>  * contrib/hbqt/qtcore/QUrl.cpp
>  * contrib/hbqt/qtcore/QVariant.cpp
> 
>  * contrib/hbqt/qtgui/QAbstractButton.cpp
>  * contrib/hbqt/qtgui/QAbstractItemDelegate.cpp
>  * contrib/hbqt/qtgui/QAbstractItemView.cpp
>  * contrib/hbqt/qtgui/QAbstractPrintDialog.cpp
>  * contrib/hbqt/qtgui/QAbstractProxyModel.cpp
>  * contrib/hbqt/qtgui/QAbstractScrollArea.cpp
>  * contrib/hbqt/qtgui/QAbstractSlider.cpp
>  * contrib/hbqt/qtgui/QAbstractSpinBox.cpp
>  * contrib/hbqt/qtgui/QAbstractTextDocumentLayout.cpp
>  * contrib/hbqt/qtgui/QAction.cpp
>  * contrib/hbqt/qtgui/QActionGroup.cpp
>  * contrib/hbqt/qtgui/QApplication.cpp
>  * contrib/hbqt/qtgui/QBitmap.cpp
>  * contrib/hbqt/qtgui/QBoxLayout.cpp
>  * contrib/hbqt/qtgui/QBrush.cpp
>  * contrib/hbqt/qtgui/QButtonGroup.cpp
>  * contrib/hbqt/qtgui/QCalendarWidget.cpp
>  * contrib/hbqt/qtgui/QCheckBox.cpp
>  * contrib/hbqt/qtgui/QClipboard.cpp
>  * contrib/hbqt/qtgui/QColor.cpp
>  * contrib/hbqt/qtgui/QColorDialog.cpp
>  * contrib/hbqt/qtgui/QComboBox.cpp
>  * contrib/hbqt/qtgui/QCommandLinkButton.cpp
>  * contrib/hbqt/qtgui/QCommonStyle.cpp
>  * contrib/hbqt/qtgui/QCompleter.cpp
>  * contrib/hbqt/qtgui/QConicalGradient.cpp
>  * contrib/hbqt/qtgui/QContextMenuEvent.cpp
>  * contrib/hbqt/qtgui/QCursor.cpp
>  * contrib/hbqt/qtgui/QDateEdit.cpp
>  * contrib/hbqt/qtgui/QDateTimeEdit.cpp
>  * contrib/hbqt/qtgui/QDesktopWidget.cpp
>  * contrib/hbqt/qtgui/QDial.cpp
>  * contrib/hbqt/qtgui/QDialog.cpp
>  * contrib/hbqt/qtgui/QDirModel.cpp
>  * contrib/hbqt/qtgui/QDockWidget.cpp
>  * contrib/hbqt/qtgui/QDoubleSpinBox.cpp
>  * contrib/hbqt/qtgui/QDragEnterEvent.cpp
>  * contrib/hbqt/qtgui/QDragLeaveEvent.cpp
>  * contrib/hbqt/qtgui/QDragMoveEvent.cpp
>  * contrib/hbqt/qtgui/QDropEvent.cpp
>  * contrib/hbqt/qtgui/QErrorMessage.cpp
>  * contrib/hbqt/qtgui/QFileDialog.cpp
>  * contrib/hbqt/qtgui/QFileIconProvider.cpp
>  * contrib/hbqt/qtgui/QFileSystemModel.cpp
>  * contrib/hbqt/qtgui/QFocusEvent.cpp
>  * contrib/hbqt/qtgui/QFocusFrame.cpp
>  * contrib/hbqt/qtgui/QFont.cpp
>  * contrib/hbqt/qtgui/QFontComboBox.cpp
>  * contrib/hbqt/qtgui/QFontDatabase.cpp
>  * contrib/hbqt/qtgui/QFontDialog.cpp
>  * contrib/hbqt/qtgui/QFontInfo.cpp
>  * contrib/hbqt/qtgui/QFontMetrics.cpp
>  * contrib/hbqt/qtgui/QFontMetricsF.cpp
>  * contrib/hbqt/qtgui/QFormLayout.cpp
>  * contrib/hbqt/qtgui/QFrame.cpp
>  * contrib/hbqt/qtgui/QGradient.cpp
>  * contrib/hbqt/qtgui/QGridLayout.cpp
>  * contrib/hbqt/qtgui/QGroupBox.cpp
>  * contrib/hbqt/qtgui/QHBoxLayout.cpp
>  * contrib/hbqt/qtgui/QHeaderView.cpp
>  * contrib/hbqt/qtgui/QHelpEvent.cpp
>  * contrib/hbqt/qtgui/QIcon.cpp
>  * contrib/hbqt/qtgui/QImage.cpp
>  * contrib/hbqt/qtgui/QImageReader.cpp
>  * contrib/hbqt/qtgui/QImageWriter.cpp
>  * contrib/hbqt/qtgui/QInputContext.cpp
>  * contrib/hbqt/qtgui/QInputDialog.cpp
>  * contrib/hbqt/qtgui/QInputEvent.cpp
>  * contrib/hbqt/qtgui/QInputMethodEvent.cpp
>  * contrib/hbqt/qtgui/QItemSelection.cpp
>  * contrib/hbqt/qtgui/QItemSelectionModel.cpp
>  * contrib/hbqt/qtgui/QKeyEvent.cpp
>  * contrib/hbqt/qtgui/QKeySequence.cpp
>  * contrib/hbqt/qtgui/QLabel.cpp
>  * contrib/hbqt/qtgui/QLayout.cpp
>  * contrib/hbqt/qtgui/QLayoutItem.cpp
>  * contrib/hbqt/qtgui/QLCDNumber.cpp
>  * contrib/hbqt/qtgui/QLinearGradient.cpp
>  * contrib/hbqt/qtgui/QLineEdit.cpp
>  * contrib/hbqt/qtgui/QListView.cpp
>  * contrib/hbqt/qtgui/QListWidget.cpp
>  * contrib/hbqt/qtgui/QListWidgetItem.cpp
>  * contrib/hbqt/qtgui/QMainWindow.cpp
>  * contrib/hbqt/qtgui/QMatrix.cpp
>  * contrib/hbqt/qtgui/QMenu.cpp
>  * contrib/hbqt/qtgui/QMenuBar.cpp
>  * contrib/hbqt/qtgui/QMessageBox.cpp
>  * contrib/hbqt/qtgui/QMouseEvent.cpp
>  * contrib/hbqt/qtgui/QMoveEvent.cpp
>  * contrib/hbqt/qtgui/QMovie.cpp
>  * contrib/hbqt/qtgui/QPageSetupDialog.cpp
>  * contrib/hbqt/qtgui/QPaintDevice.cpp
>  * contrib/hbqt/qtgui/QPainter.cpp
>  * contrib/hbqt/qtgui/QPainterPath.cpp
>  * contrib/hbqt/qtgui/QPaintEvent.cpp
>  * contrib/hbqt/qtgui/QPalette.cpp
>  * contrib/hbqt/qtgui/QPen.cpp
>  * contrib/hbqt/qtgui/QPicture.cpp
>  * contrib/hbqt/qtgui/QPixmap.cpp
>  * contrib/hbqt/qtgui/QPolygon.cpp
>  * contrib/hbqt/qtgui/QPolygonF.cpp
>  * contrib/hbqt/qtgui/QPrintDialog.cpp
>  * contrib/hbqt/qtgui/QPrintEngine.cpp
>  * contrib/hbqt/qtgui/QPrinter.cpp
>  * contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
>  * contrib/hbqt/qtgui/QProgressBar.cpp
>  * contrib/hbqt/qtgui/QProgressDialog.cpp
>  * contrib/hbqt/qtgui/QPushButton.cpp
>  * contrib/hbqt/qtgui/QRadialGradient.cpp
>  * contrib/hbqt/qtgui/QRadioButton.cpp
>  * contrib/hbqt/qtgui/QRegion.cpp
>  * contrib/hbqt/qtgui/QResizeEvent.cpp
>  * contrib/hbqt/qtgui/QScrollArea.cpp
>  * contrib/hbqt/qtgui/QScrollBar.cpp
>  * contrib/hbqt/qtgui/QSessionManager.cpp
>  * contrib/hbqt/qtgui/QSizeGrip.cpp
>  * contrib/hbqt/qtgui/QSizePolicy.cpp
>  * contrib/hbqt/qtgui/QSlider.cpp
>  * contrib/hbqt/qtgui/QSound.cpp
>  * contrib/hbqt/qtgui/QSpacerItem.cpp
>  * contrib/hbqt/qtgui/QSpinBox.cpp
>  * contrib/hbqt/qtgui/QSplashScreen.cpp
>  * contrib/hbqt/qtgui/QSplitter.cpp
>  * contrib/hbqt/qtgui/QStandardItem.cpp
>  * contrib/hbqt/qtgui/QStandardItemModel.cpp
>  * contrib/hbqt/qtgui/QStatusBar.cpp
>  * contrib/hbqt/qtgui/QStringListModel.cpp
>  * contrib/hbqt/qtgui/QStyle.cpp
>  * contrib/hbqt/qtgui/QStyledItemDelegate.cpp
>  * contrib/hbqt/qtgui/QStyleFactory.cpp
>  * contrib/hbqt/qtgui/QStyleHintReturn.cpp
>  * contrib/hbqt/qtgui/QStyleHintReturnMask.cpp
>  * contrib/hbqt/qtgui/QStyleHintReturnVariant.cpp
>  * contrib/hbqt/qtgui/QStyleOption.cpp
>  * contrib/hbqt/qtgui/QStyleOptionButton.cpp
>  * contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
>  * contrib/hbqt/qtgui/QStyleOptionComplex.cpp
>  * contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
>  * contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
>  * contrib/hbqt/qtgui/QStyleOptionFrame.cpp
>  * contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
>  * contrib/hbqt/qtgui/QStyleOptionHeader.cpp
>  * contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
>  * contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
>  * contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
>  * contrib/hbqt/qtgui/QStyleOptionSlider.cpp
>  * contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
>  * contrib/hbqt/qtgui/QStyleOptionTab.cpp
>  * contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
>  * contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
>  * contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
>  * contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
>  * contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
>  * contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
>  * contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
>  * contrib/hbqt/qtgui/QStylePainter.cpp
>  * contrib/hbqt/qtgui/QSystemTrayIcon.cpp
>  * contrib/hbqt/qtgui/QTabBar.cpp
>  * contrib/hbqt/qtgui/QTableView.cpp
>  * contrib/hbqt/qtgui/QTableWidget.cpp
>  * contrib/hbqt/qtgui/QTableWidgetItem.cpp
>  * contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
>  * contrib/hbqt/qtgui/QTabWidget.cpp
>  * contrib/hbqt/qtgui/QTextBlock.cpp
>  * contrib/hbqt/qtgui/QTextBlockFormat.cpp
>  * contrib/hbqt/qtgui/QTextBrowser.cpp
>  * contrib/hbqt/qtgui/QTextCharFormat.cpp
>  * contrib/hbqt/qtgui/QTextCursor.cpp
>  * contrib/hbqt/qtgui/QTextDocument.cpp
>  * contrib/hbqt/qtgui/QTextDocumentFragment.cpp
>  * contrib/hbqt/qtgui/QTextDocumentWriter.cpp
>  * contrib/hbqt/qtgui/QTextEdit.cpp
>  * contrib/hbqt/qtgui/QTextFormat.cpp
>  * contrib/hbqt/qtgui/QTextFragment.cpp
>  * contrib/hbqt/qtgui/QTextFrame.cpp
>  * contrib/hbqt/qtgui/QTextFrameFormat.cpp
>  * contrib/hbqt/qtgui/QTextImageFormat.cpp
>  * contrib/hbqt/qtgui/QTextInlineObject.cpp
>  * contrib/hbqt/qtgui/QTextItem.cpp
>  * contrib/hbqt/qtgui/QTextLayout.cpp
>  * contrib/hbqt/qtgui/QTextLength.cpp
>  * contrib/hbqt/qtgui/QTextLine.cpp
>  * contrib/hbqt/qtgui/QTextListFormat.cpp
>  * contrib/hbqt/qtgui/QTextObject.cpp
>  * contrib/hbqt/qtgui/QTextOption.cpp
>  * contrib/hbqt/qtgui/QTextTableFormat.cpp
>  * contrib/hbqt/qtgui/QTimeEdit.cpp
>  * contrib/hbqt/qtgui/QToolBar.cpp
>  * contrib/hbqt/qtgui/QToolBox.cpp
>  * contrib/hbqt/qtgui/QToolButton.cpp
>  * contrib/hbqt/qtgui/QTransform.cpp
>  * contrib/hbqt/qtgui/QTreeView.cpp
>  * contrib/hbqt/qtgui/QTreeWidget.cpp
>  * contrib/hbqt/qtgui/QTreeWidgetItem.cpp
>  * contrib/hbqt/qtgui/QValidator.cpp
>  * contrib/hbqt/qtgui/QVBoxLayout.cpp
>  * contrib/hbqt/qtgui/QWheelEvent.cpp
>  * contrib/hbqt/qtgui/QWidget.cpp
>  * contrib/hbqt/qtgui/QWidgetAction.cpp
>  * contrib/hbqt/qtgui/QWidgetItem.cpp
>  * contrib/hbqt/qtgui/QWindowsStyle.cpp
>  * contrib/hbqt/qtgui/QWindowsXPStyle.cpp
>  * contrib/hbqt/qtgui/QWizard.cpp
>  * contrib/hbqt/qtgui/QWizardPage.cpp
> 
>  * contrib/hbqt/qtnetwork/QFtp.cpp
>  * contrib/hbqt/qtnetwork/QHttp.cpp
>  * contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
>  * contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
>  * contrib/hbqt/qtnetwork/QNetworkRequest.cpp
> 
>  * contrib/hbqt/qtwebkit/QWebFrame.cpp
>  * contrib/hbqt/qtwebkit/QWebHistory.cpp
>  * contrib/hbqt/qtwebkit/QWebHistoryInterface.cpp
>  * contrib/hbqt/qtwebkit/QWebHistoryItem.cpp
>  * contrib/hbqt/qtwebkit/QWebHitTestResult.cpp
>  * contrib/hbqt/qtwebkit/QWebPage.cpp
>  * contrib/hbqt/qtwebkit/QWebPluginFactory.cpp
>  * contrib/hbqt/qtwebkit/QWebSecurityOrigin.cpp
>  * contrib/hbqt/qtwebkit/QWebSettings.cpp
>  * contrib/hbqt/qtwebkit/QWebView.cpp
> 
>  * contrib/hbxbp/xbpbrowse.prg
>  * contrib/hbxbp/xbpgeneric.prg
>  * contrib/hbxbp/xbpwindow.prg
> 
>  * contrib/hbxbp/tests/demoxbp.prg
> 
>    + Implemented Bisz Istvan's patch with few fixes. Big thank you.
>      This implementation has a better control over pointers and is dynamic.
> 
>    - Completely changed windows logging mechanism. Now it is invoked only 
>      when you define #define __debug__ on C and PRG level
> 
>    TO WATCH: Please do extensive testing with demoxbp and demoqt. 
>              We are almost done with pointer resolution, if I am not mistaking,
>              but we further need to look into why system memory does not go down
>              and keeps on increasing with every invocation of a dialog.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
>    trunk/harbour/contrib/hbqt/hbqt.h
>    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
>    trunk/harbour/contrib/hbqt/hbqt_garbage.h
>    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QAbstractItemModel.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QAbstractListModel.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QAbstractTableModel.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QBitArray.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QByteArray.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QCoreApplication.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QDataStream.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QDate.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QDateTime.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QDir.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QEvent.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QEventLoop.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QFile.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QFileInfo.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QIODevice.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QLatin1Char.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QLatin1String.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QLine.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QLineF.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QList.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QLocale.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QMimeData.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QModelIndex.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QObject.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QPoint.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QPointF.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QProcess.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QRect.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QRectF.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QRegExp.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QResource.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QSignalMapper.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QSize.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QSizeF.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QStringList.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QTextCodec.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QTextDecoder.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QTextEncoder.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QTextStream.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QThread.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QTime.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QTimer.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QTranslator.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QUrl.cpp
>    trunk/harbour/contrib/hbqt/qtcore/QVariant.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QAbstractButton.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QAbstractItemDelegate.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QAbstractItemView.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QAbstractPrintDialog.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QAbstractProxyModel.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QAbstractScrollArea.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QAbstractSlider.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QAbstractSpinBox.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QAbstractTextDocumentLayout.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QAction.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QActionGroup.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QApplication.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QBitmap.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QBoxLayout.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QBrush.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QButtonGroup.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QCalendarWidget.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QCheckBox.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QClipboard.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QColor.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QColorDialog.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QComboBox.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QCommandLinkButton.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QCommonStyle.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QCompleter.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QConicalGradient.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QContextMenuEvent.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QCursor.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QDateEdit.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QDateTimeEdit.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QDesktopWidget.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QDial.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QDialog.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QDirModel.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QDockWidget.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QDoubleSpinBox.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QDragEnterEvent.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QDragLeaveEvent.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QDragMoveEvent.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QDropEvent.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QErrorMessage.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QFileDialog.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QFileIconProvider.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QFileSystemModel.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QFocusEvent.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QFocusFrame.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QFont.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QFontComboBox.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QFontDatabase.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QFontDialog.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QFontInfo.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QFontMetrics.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QFontMetricsF.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QFormLayout.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QFrame.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QGradient.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QGridLayout.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QGroupBox.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QHBoxLayout.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QHeaderView.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QHelpEvent.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QIcon.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QImage.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QImageReader.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QImageWriter.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QInputContext.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QInputDialog.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QInputEvent.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QInputMethodEvent.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QItemSelection.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QItemSelectionModel.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QKeyEvent.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QKeySequence.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QLCDNumber.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QLabel.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QLayout.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QLayoutItem.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QLineEdit.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QLinearGradient.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QListView.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QListWidget.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QListWidgetItem.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QMainWindow.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QMatrix.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QMenu.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QMenuBar.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QMessageBox.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QMouseEvent.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QMoveEvent.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QMovie.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QPageSetupDialog.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QPaintDevice.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QPaintEvent.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QPainter.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QPainterPath.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QPalette.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QPen.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QPicture.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QPixmap.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QPolygon.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QPolygonF.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QPrintDialog.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QPrintEngine.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QPrinter.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QProgressBar.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QProgressDialog.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QPushButton.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QRadialGradient.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QRadioButton.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QRegion.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QResizeEvent.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QScrollArea.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QScrollBar.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QSessionManager.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QSizeGrip.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QSizePolicy.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QSlider.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QSound.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QSpacerItem.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QSpinBox.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QSplashScreen.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QSplitter.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStandardItem.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStandardItemModel.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStatusBar.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStringListModel.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyle.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleFactory.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturn.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturnMask.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleHintReturnVariant.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOption.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionButton.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComplex.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFrame.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionHeader.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSlider.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTab.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStylePainter.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QStyledItemDelegate.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QSystemTrayIcon.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTabBar.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTabWidget.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTableView.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTableWidget.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetItem.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextBlock.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextBlockFormat.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextBrowser.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextCharFormat.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextCursor.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextDocument.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentFragment.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentWriter.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextEdit.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextFormat.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextFragment.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextFrame.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextFrameFormat.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextImageFormat.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextInlineObject.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextItem.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextLayout.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextLength.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextLine.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextListFormat.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextObject.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextOption.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTextTableFormat.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTimeEdit.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QToolBar.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QToolBox.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QToolButton.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTransform.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTreeView.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTreeWidget.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QTreeWidgetItem.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QVBoxLayout.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QValidator.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QWheelEvent.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QWidget.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QWidgetAction.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QWidgetItem.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QWindowsStyle.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QWindowsXPStyle.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QWizard.cpp
>    trunk/harbour/contrib/hbqt/qtgui/QWizardPage.cpp
>    trunk/harbour/contrib/hbqt/qth/QAbstractItemModel.qth
>    trunk/harbour/contrib/hbqt/qtnetwork/QFtp.cpp
>    trunk/harbour/contrib/hbqt/qtnetwork/QHttp.cpp
>    trunk/harbour/contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
>    trunk/harbour/contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
>    trunk/harbour/contrib/hbqt/qtnetwork/QNetworkRequest.cpp
>    trunk/harbour/contrib/hbqt/qtwebkit/QWebFrame.cpp
>    trunk/harbour/contrib/hbqt/qtwebkit/QWebHistory.cpp
>    trunk/harbour/contrib/hbqt/qtwebkit/QWebHistoryInterface.cpp
>    trunk/harbour/contrib/hbqt/qtwebkit/QWebHistoryItem.cpp
>    trunk/harbour/contrib/hbqt/qtwebkit/QWebHitTestResult.cpp
>    trunk/harbour/contrib/hbqt/qtwebkit/QWebPage.cpp
>    trunk/harbour/contrib/hbqt/qtwebkit/QWebPluginFactory.cpp
>    trunk/harbour/contrib/hbqt/qtwebkit/QWebSecurityOrigin.cpp
>    trunk/harbour/contrib/hbqt/qtwebkit/QWebSettings.cpp
>    trunk/harbour/contrib/hbqt/qtwebkit/QWebView.cpp
>    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
>    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
>    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
>    trunk/harbour/contrib/hbxbp/xbpwindow.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Fri Nov 13 22:58:37 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Nov 13 22:58:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12870] trunk/harbour
Message-ID: <E1N99mX-0005Gj-Mx@bj8yhf1.ch3.sourceforge.com>

Revision: 12870
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12870&view=rev
Author:   vszakats
Date:     2009-11-14 03:58:36 +0000 (Sat, 14 Nov 2009)

Log Message:
-----------
2009-11-14 04:57 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/codepage/cpde850.c
  * src/codepage/cpes850c.c
  * src/codepage/cpfi850.c
  * src/codepage/cpfr850.c
  * src/codepage/cphu852.c
  * src/codepage/cphu852c.c
  * src/codepage/cpis850.c
  * src/codepage/cpis861.c
  * src/codepage/cpit850.c
  * src/codepage/cpnl850.c
  * src/codepage/cpno865.c
  * src/codepage/cppt860.c
  * src/codepage/cpsv850.c
    + Regenerated using latest cpinfo.prg in C5.2e Intl.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/codepage/cpde850.c
    trunk/harbour/src/codepage/cpes850c.c
    trunk/harbour/src/codepage/cpfi850.c
    trunk/harbour/src/codepage/cpfr850.c
    trunk/harbour/src/codepage/cphu852.c
    trunk/harbour/src/codepage/cphu852c.c
    trunk/harbour/src/codepage/cpis850.c
    trunk/harbour/src/codepage/cpis861.c
    trunk/harbour/src/codepage/cpit850.c
    trunk/harbour/src/codepage/cpnl850.c
    trunk/harbour/src/codepage/cpno865.c
    trunk/harbour/src/codepage/cppt860.c
    trunk/harbour/src/codepage/cpsv850.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Nov 13 23:07:59 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Nov 13 23:08:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12871] trunk/harbour
Message-ID: <E1N99vb-0005Rb-RV@bj8yhf1.ch3.sourceforge.com>

Revision: 12871
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12871&view=rev
Author:   vszakats
Date:     2009-11-14 04:07:58 +0000 (Sat, 14 Nov 2009)

Log Message:
-----------
2009-11-14 05:06 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/codepage/cp_tpl.c
  * src/codepage/cpbg866.c
  * src/codepage/cpbgiso.c
  * src/codepage/cpbgmik.c
  * src/codepage/cpbgwin.c
  * src/codepage/cpcs852.c
  * src/codepage/cpcsiso.c
  * src/codepage/cpcskam.c
  * src/codepage/cpcswin.c
  * src/codepage/cpdeiso.c
  * src/codepage/cpdewin.c
  * src/codepage/cpel737.c
  * src/codepage/cpeliso.c
  * src/codepage/cpelwin.c
  * src/codepage/cpes850.c
  * src/codepage/cpesiso.c
  * src/codepage/cpeswin.c
  * src/codepage/cpeswinm.c
  * src/codepage/cpfriso.c
  * src/codepage/cpfrwin.c
  * src/codepage/cphr437.c
  * src/codepage/cphr852.c
  * src/codepage/cphrwin.c
  * src/codepage/cphuiso.c
  * src/codepage/cphuwin.c
  * src/codepage/cpit437.c
  * src/codepage/cpitisb.c
  * src/codepage/cpitiso.c
  * src/codepage/cpitwin.c
  * src/codepage/cpltwin.c
  * src/codepage/cppl852.c
  * src/codepage/cppliso.c
  * src/codepage/cpplmaz.c
  * src/codepage/cpplwin.c
  * src/codepage/cppt850.c
  * src/codepage/cpptiso.c
  * src/codepage/cpro852.c
  * src/codepage/cproiso.c
  * src/codepage/cprowin.c
  * src/codepage/cpru866.c
  * src/codepage/cpruiso.c
  * src/codepage/cprukoi.c
  * src/codepage/cpruwin.c
  * src/codepage/cpsk852.c
  * src/codepage/cpskiso.c
  * src/codepage/cpskkam.c
  * src/codepage/cpskwin.c
  * src/codepage/cpsl437.c
  * src/codepage/cpsl852.c
  * src/codepage/cpsliso.c
  * src/codepage/cpslwin.c
  * src/codepage/cpsrwin.c
  * src/codepage/cpsv437c.c
  * src/codepage/cpsviso.c
  * src/codepage/cpsvwin.c
  * src/codepage/cptr857.c
  * src/codepage/cptriso.c
  * src/codepage/cptrwin.c
  * src/codepage/cpua1125.c
  * src/codepage/cpua866.c
  * src/codepage/cpuakoi.c
  * src/codepage/cpuawin.c
  * src/codepage/Makefile
    % Deleted now redundant comments.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/codepage/Makefile
    trunk/harbour/src/codepage/cp_tpl.c
    trunk/harbour/src/codepage/cpbg866.c
    trunk/harbour/src/codepage/cpbgiso.c
    trunk/harbour/src/codepage/cpbgmik.c
    trunk/harbour/src/codepage/cpbgwin.c
    trunk/harbour/src/codepage/cpcs852.c
    trunk/harbour/src/codepage/cpcsiso.c
    trunk/harbour/src/codepage/cpcskam.c
    trunk/harbour/src/codepage/cpcswin.c
    trunk/harbour/src/codepage/cpdeiso.c
    trunk/harbour/src/codepage/cpdewin.c
    trunk/harbour/src/codepage/cpel737.c
    trunk/harbour/src/codepage/cpeliso.c
    trunk/harbour/src/codepage/cpelwin.c
    trunk/harbour/src/codepage/cpes850.c
    trunk/harbour/src/codepage/cpesiso.c
    trunk/harbour/src/codepage/cpeswin.c
    trunk/harbour/src/codepage/cpeswinm.c
    trunk/harbour/src/codepage/cpfriso.c
    trunk/harbour/src/codepage/cpfrwin.c
    trunk/harbour/src/codepage/cphr437.c
    trunk/harbour/src/codepage/cphr852.c
    trunk/harbour/src/codepage/cphrwin.c
    trunk/harbour/src/codepage/cphuiso.c
    trunk/harbour/src/codepage/cphuwin.c
    trunk/harbour/src/codepage/cpit437.c
    trunk/harbour/src/codepage/cpitisb.c
    trunk/harbour/src/codepage/cpitiso.c
    trunk/harbour/src/codepage/cpitwin.c
    trunk/harbour/src/codepage/cpltwin.c
    trunk/harbour/src/codepage/cppl852.c
    trunk/harbour/src/codepage/cppliso.c
    trunk/harbour/src/codepage/cpplmaz.c
    trunk/harbour/src/codepage/cpplwin.c
    trunk/harbour/src/codepage/cppt850.c
    trunk/harbour/src/codepage/cpptiso.c
    trunk/harbour/src/codepage/cpro852.c
    trunk/harbour/src/codepage/cproiso.c
    trunk/harbour/src/codepage/cprowin.c
    trunk/harbour/src/codepage/cpru866.c
    trunk/harbour/src/codepage/cpruiso.c
    trunk/harbour/src/codepage/cprukoi.c
    trunk/harbour/src/codepage/cpruwin.c
    trunk/harbour/src/codepage/cpsk852.c
    trunk/harbour/src/codepage/cpskiso.c
    trunk/harbour/src/codepage/cpskkam.c
    trunk/harbour/src/codepage/cpskwin.c
    trunk/harbour/src/codepage/cpsl437.c
    trunk/harbour/src/codepage/cpsl852.c
    trunk/harbour/src/codepage/cpsliso.c
    trunk/harbour/src/codepage/cpslwin.c
    trunk/harbour/src/codepage/cpsrwin.c
    trunk/harbour/src/codepage/cpsv437c.c
    trunk/harbour/src/codepage/cpsviso.c
    trunk/harbour/src/codepage/cpsvwin.c
    trunk/harbour/src/codepage/cptr857.c
    trunk/harbour/src/codepage/cptriso.c
    trunk/harbour/src/codepage/cptrwin.c
    trunk/harbour/src/codepage/cpua1125.c
    trunk/harbour/src/codepage/cpua866.c
    trunk/harbour/src/codepage/cpuakoi.c
    trunk/harbour/src/codepage/cpuawin.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Fri Nov 13 23:57:09 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Nov 13 23:57:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>
	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>
Message-ID: <26347229.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> Now I'm getting crash on exit using MinGW + Win7.
> 

demoxbp.exe ?
And crash at what point? On exit ? If yes, then it is possibly that 

HbDbfModel::~HbDbfModel( void )
{
   hb_itemRelease( block );
   destroy();
}

needs some overhaul. What I think is that - hb_itemRelease( block ); -
has to be guarded in someway, but what, I am unable to figure out.
Przemek can shed light on this aspect.

NOTE: Bisz Istv?n had disabled it to avoid crashes, but I enabled it 
         because, otherwise, hb_out.log was containing a long list of 
         unfreed memory blocks.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12868--trunk-harbour-tp26346347p26347229.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Sat Nov 14 01:41:51 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Nov 14 01:41:57 2009
Subject: [Harbour] Unrecoverable error 9994: Harbour CP (NL850)
	initialization failure
Message-ID: <9257026e0911132241s130a4ddbg6f55462ec6906c75@mail.gmail.com>

At the end of the make -s install under Ubuntu 9.10 i386 I get:

Unrecoverable error 9994: Harbour CP (NL850) initialization failure
make: *** [install] Error 1

just to report these are the warnings I get:

In file included from /usr/include/string.h:640,
                 from ../../../sqlite3.c:6555:
In function ?memset?,
    inlined from ?exprDup? at ../../../sqlite3.c:60527:
/usr/include/bits/string3.h:82: warning: call to
?__warn_memset_zero_len? declared with attribute warning: memset used
with constant zero length parameter; this could be due to transposed
parameters
In file included from /usr/include/string.h:640,
                 from ../../../../../include/hbdefs.h:59,
                 from ../../../../../include/hbvmpub.h:56,
                 from ../../../../../include/hbapi.h:61,
                 from ../../../netiocli.c:63:
In function ?memset?,
    inlined from ?s_fileLock? at ../../../netiocli.c:676:
/usr/include/bits/string3.h:82: warning: call to
?__warn_memset_zero_len? declared with attribute warning: memset used
with constant zero length parameter; this could be due to transposed
parameters

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Sat Nov 14 01:50:27 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Nov 14 01:50:33 2009
Subject: [Harbour] Re: Unrecoverable error 9994: Harbour CP (NL850)
	initialization failure
In-Reply-To: <9257026e0911132241s130a4ddbg6f55462ec6906c75@mail.gmail.com>
References: <9257026e0911132241s130a4ddbg6f55462ec6906c75@mail.gmail.com>
Message-ID: <9257026e0911132250k11833f4av541e8b64699d9a34@mail.gmail.com>

On Sat, Nov 14, 2009 at 7:41 AM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com> wrote:
> At the end of the make -s install under Ubuntu 9.10 i386 I get:
>
> Unrecoverable error 9994: Harbour CP (NL850) initialization failure

Update: every executable created gives the same error.

best regards,
Lorenzo
From Istvan.Bisz at t-online.hu  Sat Nov 14 03:56:00 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Sat Nov 14 03:56:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <26347229.post@talk.nabble.com>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>
	<26347229.post@talk.nabble.com>
Message-ID: <000001ca6508$4a6c5d80$df451880$@Bisz@t-online.hu>

Hi Pritpal,

Thank you for the new QPointer handling integration, now we can handle the QObjects deleted by Qt in his parent-child mechanism. There is a necessity to continue with the HB-Qt interface analysis, concentrating on the:

void * hbqt_gcpointer( int iParam )
{
   QGC_POINTER * p = ( QGC_POINTER * ) hb_parptrGC( gcFuncs(), iParam );

   if( p && p->ph )
   {
      return p->ph;
   }
   else
   {
      return hb_parptr( iParam );
   }
}
 
function enhancements, to signal at harbour level the already deleted Qt objects access tentative.

Now the repository is dead, due to the CP modifications, I will continue with the tests later.
 
Best regards,
Istv?n (my first name)

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: 2009. november 14. 5:57
To: harbour@harbour-project.org
Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour


Hi


Viktor Szak?ts wrote:
> 
> Now I'm getting crash on exit using MinGW + Win7.
> 

demoxbp.exe ?
And crash at what point? On exit ? If yes, then it is possibly that 

HbDbfModel::~HbDbfModel( void )
{
   hb_itemRelease( block );
   destroy();
}

needs some overhaul. What I think is that - hb_itemRelease( block ); -
has to be guarded in someway, but what, I am unable to figure out.
Przemek can shed light on this aspect.

NOTE: Bisz Istv?n had disabled it to avoid crashes, but I enabled it 
         because, otherwise, hb_out.log was containing a long list of 
         unfreed memory blocks.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12868--trunk-harbour-tp26346347p26347229.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Sat Nov 14 04:11:35 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Nov 14 04:12:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <5393510457750970401@unknownmsgid>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com> 
	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>
	<26347229.post@talk.nabble.com> <5393510457750970401@unknownmsgid>
Message-ID: <609353e70911140111gf628a41rb42abe7be87ebeff@mail.gmail.com>

Why "Now the repository is dead"?

2009/11/14 Bisz Istv?n <Istvan.Bisz@t-online.hu>:
> Hi Pritpal,
>
> Thank you for the new QPointer handling integration, now we can handle the QObjects deleted by Qt in his parent-child mechanism. There is a necessity to continue with the HB-Qt interface analysis, concentrating on the:
>
> void * hbqt_gcpointer( int iParam )
> {
> ? QGC_POINTER * p = ( QGC_POINTER * ) hb_parptrGC( gcFuncs(), iParam );
>
> ? if( p && p->ph )
> ? {
> ? ? ?return p->ph;
> ? }
> ? else
> ? {
> ? ? ?return hb_parptr( iParam );
> ? }
> }
>
> function enhancements, to signal at harbour level the already deleted Qt objects access tentative.
>
> Now the repository is dead, due to the CP modifications, I will continue with the tests later.
>
> Best regards,
> Istv?n (my first name)
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
> Sent: 2009. november 14. 5:57
> To: harbour@harbour-project.org
> Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
>
>
> Hi
>
>
> Viktor Szak?ts wrote:
>>
>> Now I'm getting crash on exit using MinGW + Win7.
>>
>
> demoxbp.exe ?
> And crash at what point? On exit ? If yes, then it is possibly that
>
> HbDbfModel::~HbDbfModel( void )
> {
> ? hb_itemRelease( block );
> ? destroy();
> }
>
> needs some overhaul. What I think is that - hb_itemRelease( block ); -
> has to be guarded in someway, but what, I am unable to figure out.
> Przemek can shed light on this aspect.
>
> NOTE: Bisz Istv?n had disabled it to avoid crashes, but I enabled it
> ? ? ? ? because, otherwise, hb_out.log was containing a long list of
> ? ? ? ? unfreed memory blocks.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12868--trunk-harbour-tp26346347p26347229.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From Istvan.Bisz at t-online.hu  Sat Nov 14 04:19:22 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sat Nov 14 04:19:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <609353e70911140111gf628a41rb42abe7be87ebeff@mail.gmail.com>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>
	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>	<26347229.post@talk.nabble.com>
	<5393510457750970401@unknownmsgid>
	<609353e70911140111gf628a41rb42abe7be87ebeff@mail.gmail.com>
Message-ID: <000401ca650b$8dfdb320$a9f91960$@Bisz@t-online.hu>

Try to compile something after the upgrade to the latest revision.

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo Belgrano
Sent: 2009. november 14. 10:12
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour

Why "Now the repository is dead"?

2009/11/14 Bisz Istv?n <Istvan.Bisz@t-online.hu>:
> Hi Pritpal,
>
> Thank you for the new QPointer handling integration, now we can handle the
QObjects deleted by Qt in his parent-child mechanism. There is a necessity
to continue with the HB-Qt interface analysis, concentrating on the:
>
> void * hbqt_gcpointer( int iParam )
> {
> ? QGC_POINTER * p = ( QGC_POINTER * ) hb_parptrGC( gcFuncs(), iParam );
>
> ? if( p && p->ph )
> ? {
> ? ? ?return p->ph;
> ? }
> ? else
> ? {
> ? ? ?return hb_parptr( iParam );
> ? }
> }
>
> function enhancements, to signal at harbour level the already deleted Qt
objects access tentative.
>
> Now the repository is dead, due to the CP modifications, I will continue
with the tests later.
>
> Best regards,
> Istv?n (my first name)
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
> Sent: 2009. november 14. 5:57
> To: harbour@harbour-project.org
> Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
>
>
> Hi
>
>
> Viktor Szak?ts wrote:
>>
>> Now I'm getting crash on exit using MinGW + Win7.
>>
>
> demoxbp.exe ?
> And crash at what point? On exit ? If yes, then it is possibly that
>
> HbDbfModel::~HbDbfModel( void )
> {
> ? hb_itemRelease( block );
> ? destroy();
> }
>
> needs some overhaul. What I think is that - hb_itemRelease( block ); -
> has to be guarded in someway, but what, I am unable to figure out.
> Przemek can shed light on this aspect.
>
> NOTE: Bisz Istv?n had disabled it to avoid crashes, but I enabled it
> ? ? ? ? because, otherwise, hb_out.log was containing a long list of
> ? ? ? ? unfreed memory blocks.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12868--trunk-harbour-
tp26346347p26347229.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Sat Nov 14 04:23:05 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Nov 14 04:23:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <3828151170664634865@unknownmsgid>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com> 
	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>
	<26347229.post@talk.nabble.com> <5393510457750970401@unknownmsgid>
	<609353e70911140111gf628a41rb42abe7be87ebeff@mail.gmail.com> 
	<3828151170664634865@unknownmsgid>
Message-ID: <609353e70911140123n7ed7fbe6l784e20f18336c240@mail.gmail.com>

c:\harbour\contrib\hbqt\tests>hbmk2 demoqt

Unrecoverable error 9994: Harbour CP (NL850) initialization failure


2009/11/14 Bisz Istv?n <Istvan.Bisz@t-online.hu>:
> Try to compile something after the upgrade to the latest revision.
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo Belgrano
> Sent: 2009. november 14. 10:12
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
>
> Why "Now the repository is dead"?
>
> 2009/11/14 Bisz Istv?n <Istvan.Bisz@t-online.hu>:
>> Hi Pritpal,
>>
>> Thank you for the new QPointer handling integration, now we can handle the
> QObjects deleted by Qt in his parent-child mechanism. There is a necessity
> to continue with the HB-Qt interface analysis, concentrating on the:
>>
>> void * hbqt_gcpointer( int iParam )
>> {
>> ? QGC_POINTER * p = ( QGC_POINTER * ) hb_parptrGC( gcFuncs(), iParam );
>>
>> ? if( p && p->ph )
>> ? {
>> ? ? ?return p->ph;
>> ? }
>> ? else
>> ? {
>> ? ? ?return hb_parptr( iParam );
>> ? }
>> }
>>
>> function enhancements, to signal at harbour level the already deleted Qt
> objects access tentative.
>>
>> Now the repository is dead, due to the CP modifications, I will continue
> with the tests later.
>>
>> Best regards,
>> Istv?n (my first name)
>>
>> -----Original Message-----
>> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
>> Sent: 2009. november 14. 5:57
>> To: harbour@harbour-project.org
>> Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
>>
>>
>> Hi
>>
>>
>> Viktor Szak?ts wrote:
>>>
>>> Now I'm getting crash on exit using MinGW + Win7.
>>>
>>
>> demoxbp.exe ?
>> And crash at what point? On exit ? If yes, then it is possibly that
>>
>> HbDbfModel::~HbDbfModel( void )
>> {
>> ? hb_itemRelease( block );
>> ? destroy();
>> }
>>
>> needs some overhaul. What I think is that - hb_itemRelease( block ); -
>> has to be guarded in someway, but what, I am unable to figure out.
>> Przemek can shed light on this aspect.
>>
>> NOTE: Bisz Istv?n had disabled it to avoid crashes, but I enabled it
>> ? ? ? ? because, otherwise, hb_out.log was containing a long list of
>> ? ? ? ? unfreed memory blocks.
>>
>> Regards
>> Pritpal Bedi
>>
>> --
>> View this message in context:
> http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12868--trunk-harbour-
> tp26346347p26347229.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Iscritto all'albo dei CTU presso il Tribunale di Novara per materia Informatica
Delta Informatica S.r.l. (http://www.deltain.it/) (+39 0321 455962)
Analisi e sviluppo software per Lan e Web -  Consulenza informatica - Formazione
From Istvan.Bisz at t-online.hu  Sat Nov 14 05:03:44 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Sat Nov 14 05:03:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <000001ca6508$4a6c5d80$df451880$@Bisz@t-online.hu>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>	<26347229.post@talk.nabble.com>
	<000001ca6508$4a6c5d80$df451880$@Bisz@t-online.hu>
Message-ID: <000501ca6511$c093edd0$41bbc970$@Bisz@t-online.hu>

Hi Pritpal,

Just reviewed the demoqt. 
Could you please commit a version with the following modification:

1. hb_toOutDebug() conditioned by __debug__ or switch to:

#if defined( __HB_OUTDEBUG__ )
   #if defined( __PLATFORM__WINDOWS ) .AND. defined( __HB_WINDEBUG__ )
      #xtranslate HB_OUTDEBUG( [<x>] ) => wapi_OutputDebugString( <x> )
   #else
      #xtranslate HB_OUTDEBUG( [<x>] ) => hb_TraceString( <x> )
   #endif
#else
   #xtranslate HB_OUTDEBUG( [<x>] ) => iif( .T.,, )
#endif

mentioned by Viktor.

2. The sequence:

   CASE cType == "WebPage"
      oDlg := QWebView():new()
      oUrl := QUrl():new()
      oUrl:setUrl( "http://www.harbour.vouch.info" )
      QT_QWebView_SetUrl( QT_PTROF( oDlg ), QT_PTROF( oUrl ) )
      oDlg:setWindowTitle( "Harbour-QT Web Page Navigator" )
      oDlg:exec()

should be replaced with a "not implemented!" message until fixing this issue.

These two things will make it, hopefully, error free on different platforms.

Thank you and best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Bisz Istv?n
Sent: 2009. november 14. 9:56
To: 'Harbour Project Main Developer List.'
Subject: RE: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour

Hi Pritpal,

Thank you for the new QPointer handling integration, now we can handle the QObjects deleted by Qt in his parent-child mechanism. There is a necessity to continue with the HB-Qt interface analysis, concentrating on the:

void * hbqt_gcpointer( int iParam )
{
   QGC_POINTER * p = ( QGC_POINTER * ) hb_parptrGC( gcFuncs(), iParam );

   if( p && p->ph )
   {
      return p->ph;
   }
   else
   {
      return hb_parptr( iParam );
   }
}
 
function enhancements, to signal at harbour level the already deleted Qt objects access tentative.

Now the repository is dead, due to the CP modifications, I will continue with the tests later.
 
Best regards,
Istv?n (my first name)

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: 2009. november 14. 5:57
To: harbour@harbour-project.org
Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour


Hi


Viktor Szak?ts wrote:
> 
> Now I'm getting crash on exit using MinGW + Win7.
> 

demoxbp.exe ?
And crash at what point? On exit ? If yes, then it is possibly that 

HbDbfModel::~HbDbfModel( void )
{
   hb_itemRelease( block );
   destroy();
}

needs some overhaul. What I think is that - hb_itemRelease( block ); -
has to be guarded in someway, but what, I am unable to figure out.
Przemek can shed light on this aspect.

NOTE: Bisz Istv?n had disabled it to avoid crashes, but I enabled it 
         because, otherwise, hb_out.log was containing a long list of 
         unfreed memory blocks.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12868--trunk-harbour-tp26346347p26347229.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Nov 14 05:08:22 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Nov 14 05:08:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <26347229.post@talk.nabble.com>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>
	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>
	<26347229.post@talk.nabble.com>
Message-ID: <AA663FA7-F27D-4B5F-B449-3528B7BC7E22@syenar.hu>

> Viktor Szak?ts wrote:
>> 
>> Now I'm getting crash on exit using MinGW + Win7.
>> 
> 
> demoxbp.exe ?

Yes.

> And crash at what point? On exit ? If yes, then it is possibly that 

Yes.

> HbDbfModel::~HbDbfModel( void )
> {
>   hb_itemRelease( block );
>   destroy();
> }

Also, integrated web browse didn't work, I forget to 
mention that, but that's another issue.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Nov 14 06:00:44 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 14 06:00:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <000401ca650b$8dfdb320$a9f91960$@Bisz@t-online.hu>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>
	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>	<26347229.post@talk.nabble.com>
	<5393510457750970401@unknownmsgid>
	<609353e70911140111gf628a41rb42abe7be87ebeff@mail.gmail.com>
	<000401ca650b$8dfdb320$a9f91960$@Bisz@t-online.hu>
Message-ID: <A7A4BF5F-C3B1-4E14-84A1-07155FC7A668@syenar.hu>

I have no idea for a fix, I simply used cpinfo.prg to 
generate this CP without ever touching the source.

Maybe it needs HB_CP_RAW to be enabled manually?

Brgds,
Viktor

On 2009 Nov 14, at 10:19, Bisz Istv?n wrote:

> Try to compile something after the upgrade to the latest revision.
> 
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo Belgrano
> Sent: 2009. november 14. 10:12
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
> 
> Why "Now the repository is dead"?
> 
> 2009/11/14 Bisz Istv?n <Istvan.Bisz@t-online.hu>:
>> Hi Pritpal,
>> 
>> Thank you for the new QPointer handling integration, now we can handle the
> QObjects deleted by Qt in his parent-child mechanism. There is a necessity
> to continue with the HB-Qt interface analysis, concentrating on the:
>> 
>> void * hbqt_gcpointer( int iParam )
>> {
>>   QGC_POINTER * p = ( QGC_POINTER * ) hb_parptrGC( gcFuncs(), iParam );
>> 
>>   if( p && p->ph )
>>   {
>>      return p->ph;
>>   }
>>   else
>>   {
>>      return hb_parptr( iParam );
>>   }
>> }
>> 
>> function enhancements, to signal at harbour level the already deleted Qt
> objects access tentative.
>> 
>> Now the repository is dead, due to the CP modifications, I will continue
> with the tests later.
>> 
>> Best regards,
>> Istv?n (my first name)
>> 
>> -----Original Message-----
>> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
>> Sent: 2009. november 14. 5:57
>> To: harbour@harbour-project.org
>> Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
>> 
>> 
>> Hi
>> 
>> 
>> Viktor Szak?ts wrote:
>>> 
>>> Now I'm getting crash on exit using MinGW + Win7.
>>> 
>> 
>> demoxbp.exe ?
>> And crash at what point? On exit ? If yes, then it is possibly that
>> 
>> HbDbfModel::~HbDbfModel( void )
>> {
>>   hb_itemRelease( block );
>>   destroy();
>> }
>> 
>> needs some overhaul. What I think is that - hb_itemRelease( block ); -
>> has to be guarded in someway, but what, I am unable to figure out.
>> Przemek can shed light on this aspect.
>> 
>> NOTE: Bisz Istv?n had disabled it to avoid crashes, but I enabled it
>>         because, otherwise, hb_out.log was containing a long list of
>>         unfreed memory blocks.
>> 
>> Regards
>> Pritpal Bedi
>> 
>> --
>> View this message in context:
> http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12868--trunk-harbour-
> tp26346347p26347229.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
> 
> 
> 
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From Istvan.Bisz at t-online.hu  Sat Nov 14 06:06:35 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sat Nov 14 06:06:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <A7A4BF5F-C3B1-4E14-84A1-07155FC7A668@syenar.hu>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>	<26347229.post@talk.nabble.com>	<5393510457750970401@unknownmsgid>	<609353e70911140111gf628a41rb42abe7be87ebeff@mail.gmail.com>	<000401ca650b$8dfdb320$a9f91960$@Bisz@t-online.hu>
	<A7A4BF5F-C3B1-4E14-84A1-07155FC7A668@syenar.hu>
Message-ID: <000601ca651a$88385a30$98a90e90$@Bisz@t-online.hu>

Could you please revert to a stabile status, until a fix is ready?

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. november 14. 12:01
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour

I have no idea for a fix, I simply used cpinfo.prg to 
generate this CP without ever touching the source.

Maybe it needs HB_CP_RAW to be enabled manually?

Brgds,
Viktor

On 2009 Nov 14, at 10:19, Bisz Istv?n wrote:

> Try to compile something after the upgrade to the latest revision.
> 
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo Belgrano
> Sent: 2009. november 14. 10:12
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
> 
> Why "Now the repository is dead"?
> 
> 2009/11/14 Bisz Istv?n <Istvan.Bisz@t-online.hu>:
>> Hi Pritpal,
>> 
>> Thank you for the new QPointer handling integration, now we can handle
the
> QObjects deleted by Qt in his parent-child mechanism. There is a necessity
> to continue with the HB-Qt interface analysis, concentrating on the:
>> 
>> void * hbqt_gcpointer( int iParam )
>> {
>>   QGC_POINTER * p = ( QGC_POINTER * ) hb_parptrGC( gcFuncs(), iParam );
>> 
>>   if( p && p->ph )
>>   {
>>      return p->ph;
>>   }
>>   else
>>   {
>>      return hb_parptr( iParam );
>>   }
>> }
>> 
>> function enhancements, to signal at harbour level the already deleted Qt
> objects access tentative.
>> 
>> Now the repository is dead, due to the CP modifications, I will continue
> with the tests later.
>> 
>> Best regards,
>> Istv?n (my first name)
>> 
>> -----Original Message-----
>> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
>> Sent: 2009. november 14. 5:57
>> To: harbour@harbour-project.org
>> Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
>> 
>> 
>> Hi
>> 
>> 
>> Viktor Szak?ts wrote:
>>> 
>>> Now I'm getting crash on exit using MinGW + Win7.
>>> 
>> 
>> demoxbp.exe ?
>> And crash at what point? On exit ? If yes, then it is possibly that
>> 
>> HbDbfModel::~HbDbfModel( void )
>> {
>>   hb_itemRelease( block );
>>   destroy();
>> }
>> 
>> needs some overhaul. What I think is that - hb_itemRelease( block ); -
>> has to be guarded in someway, but what, I am unable to figure out.
>> Przemek can shed light on this aspect.
>> 
>> NOTE: Bisz Istv?n had disabled it to avoid crashes, but I enabled it
>>         because, otherwise, hb_out.log was containing a long list of
>>         unfreed memory blocks.
>> 
>> Regards
>> Pritpal Bedi
>> 
>> --
>> View this message in context:
>
http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12868--trunk-harbour-
> tp26346347p26347229.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
> 
> 
> 
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sat Nov 14 06:28:04 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 14 06:28:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <000601ca651a$88385a30$98a90e90$@Bisz@t-online.hu>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>	<26347229.post@talk.nabble.com>	<5393510457750970401@unknownmsgid>	<609353e70911140111gf628a41rb42abe7be87ebeff@mail.gmail.com>	<000401ca650b$8dfdb320$a9f91960$@Bisz@t-online.hu>
	<A7A4BF5F-C3B1-4E14-84A1-07155FC7A668@syenar.hu>
	<000601ca651a$88385a30$98a90e90$@Bisz@t-online.hu>
Message-ID: <0CF4CB27-217C-464A-84D9-B168A64424E4@syenar.hu>

> Could you please revert to a stabile status, until a fix is ready?

I'd rather wait for a proper fix.

Until then, the offending file can be deleted from Makefile locally.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Sat Nov 14 06:31:34 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sat Nov 14 06:31:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <0CF4CB27-217C-464A-84D9-B168A64424E4@syenar.hu>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>	<26347229.post@talk.nabble.com>	<5393510457750970401@unknownmsgid>	<609353e70911140111gf628a41rb42abe7be87ebeff@mail.gmail.com>	<000401ca650b$8dfdb320$a9f91960$@Bisz@t-online.hu>	<A7A4BF5F-C3B1-4E14-84A1-07155FC7A668@syenar.hu>	<000601ca651a$88385a30$98a90e90$@Bisz@t-online.hu>
	<0CF4CB27-217C-464A-84D9-B168A64424E4@syenar.hu>
Message-ID: <000701ca651e$053f01c0$0fbd0540$@Bisz@t-online.hu>

It's ok now, as I am short in time. Thank you.


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. november 14. 12:28
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour

> Could you please revert to a stabile status, until a fix is ready?

I'd rather wait for a proper fix.

Until then, the offending file can be deleted from Makefile locally.

Brgds,
Viktor

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From Istvan.Bisz at t-online.hu  Sat Nov 14 07:07:55 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Sat Nov 14 07:08:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <000501ca6511$c093edd0$41bbc970$@Bisz@t-online.hu>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>	<26347229.post@talk.nabble.com>	<000001ca6508$4a6c5d80$df451880$@Bisz@t-online.hu>
	<000501ca6511$c093edd0$41bbc970$@Bisz@t-online.hu>
Message-ID: <000801ca6523$19b03700$4d10a500$@Bisz@t-online.hu>

Hi Pritpal,

See my findings: to activate the tracing of the actual demoqt on Windows+mingw I tried to:

1. compile hbqt with: 
@set HB_USER_CFLAGS=-D__debug__
@set HB_USER_PRGFLAGS=-D__debug__

2. build
hbmk2 demoqt -lxhb -lpsapi

After these steps I have got a running exe, but I can't see any traces on my Vista.
Any advice is useful, thanks.

Best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Bisz Istv?n
Sent: 2009. november 14. 11:04
To: 'Harbour Project Main Developer List.'
Subject: RE: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour

Hi Pritpal,

Just reviewed the demoqt. 
Could you please commit a version with the following modification:

1. hb_toOutDebug() conditioned by __debug__ or switch to:

#if defined( __HB_OUTDEBUG__ )
   #if defined( __PLATFORM__WINDOWS ) .AND. defined( __HB_WINDEBUG__ )
      #xtranslate HB_OUTDEBUG( [<x>] ) => wapi_OutputDebugString( <x> )
   #else
      #xtranslate HB_OUTDEBUG( [<x>] ) => hb_TraceString( <x> )
   #endif
#else
   #xtranslate HB_OUTDEBUG( [<x>] ) => iif( .T.,, )
#endif

mentioned by Viktor.

2. The sequence:

   CASE cType == "WebPage"
      oDlg := QWebView():new()
      oUrl := QUrl():new()
      oUrl:setUrl( "http://www.harbour.vouch.info" )
      QT_QWebView_SetUrl( QT_PTROF( oDlg ), QT_PTROF( oUrl ) )
      oDlg:setWindowTitle( "Harbour-QT Web Page Navigator" )
      oDlg:exec()

should be replaced with a "not implemented!" message until fixing this issue.

These two things will make it, hopefully, error free on different platforms.

Thank you and best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Bisz Istv?n
Sent: 2009. november 14. 9:56
To: 'Harbour Project Main Developer List.'
Subject: RE: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour

Hi Pritpal,

Thank you for the new QPointer handling integration, now we can handle the QObjects deleted by Qt in his parent-child mechanism. There is a necessity to continue with the HB-Qt interface analysis, concentrating on the:

void * hbqt_gcpointer( int iParam )
{
   QGC_POINTER * p = ( QGC_POINTER * ) hb_parptrGC( gcFuncs(), iParam );

   if( p && p->ph )
   {
      return p->ph;
   }
   else
   {
      return hb_parptr( iParam );
   }
}
 
function enhancements, to signal at harbour level the already deleted Qt objects access tentative.

Now the repository is dead, due to the CP modifications, I will continue with the tests later.
 
Best regards,
Istv?n (my first name)

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: 2009. november 14. 5:57
To: harbour@harbour-project.org
Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour


Hi


Viktor Szak?ts wrote:
> 
> Now I'm getting crash on exit using MinGW + Win7.
> 

demoxbp.exe ?
And crash at what point? On exit ? If yes, then it is possibly that 

HbDbfModel::~HbDbfModel( void )
{
   hb_itemRelease( block );
   destroy();
}

needs some overhaul. What I think is that - hb_itemRelease( block ); -
has to be guarded in someway, but what, I am unable to figure out.
Przemek can shed light on this aspect.

NOTE: Bisz Istv?n had disabled it to avoid crashes, but I enabled it 
         because, otherwise, hb_out.log was containing a long list of 
         unfreed memory blocks.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12868--trunk-harbour-tp26346347p26347229.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Sat Nov 14 09:40:14 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Nov 14 09:40:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <A7A4BF5F-C3B1-4E14-84A1-07155FC7A668@syenar.hu>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>
	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>
	<26347229.post@talk.nabble.com> <5393510457750970401@unknownmsgid>
	<609353e70911140111gf628a41rb42abe7be87ebeff@mail.gmail.com>
	<000401ca650b$8dfdb320$a9f91960$@Bisz@t-online.hu>
	<A7A4BF5F-C3B1-4E14-84A1-07155FC7A668@syenar.hu>
Message-ID: <20091114144014.GB15741@34-mo7-2.home.aster.pl>

On Sat, 14 Nov 2009, Szak?ts Viktor wrote:

Hi,

> I have no idea for a fix, I simply used cpinfo.prg to 
> generate this CP without ever touching the source.
> Maybe it needs HB_CP_RAW to be enabled manually?

Exactly.
It's a classic example which cannot be correctly encoded in human
readable form. The problem is caused by the fact that in NL850 upper
and lower letters are sorted in different order.
"?" is sorted before "j" but upper( "?" ) gives "Y" which is sorted
just before "Z" so this CP has to be converted to binary form.
I'll check if I can easy update cpinfo.prg to detect such situations
automatically.
BTW I will have to update existing CDP code to work well with CPs where
CHR(0) is not sorted as 1-st character - the MDX sorting tables needs it.

best regards,
Przemek
From druzus at users.sourceforge.net  Sat Nov 14 10:00:51 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Nov 14 10:00:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12872] trunk/harbour
Message-ID: <E1N9K7P-0000mx-ED@74yxhf1.ch3.sourceforge.com>

Revision: 12872
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12872&view=rev
Author:   druzus
Date:     2009-11-14 15:00:50 +0000 (Sat, 14 Nov 2009)

Log Message:
-----------
2009-11-14 16:00 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/cdpapi.c
    * updated to work well with CPs where CHR( 0 ) is not sorted as 1-st
      character

  * harbour/tests/cpinfo.prg
    * chose binary form for CPs where upper and lower letters are sorted
      in different order

  * harbour/src/codepage/cpnl850.c
    * updated to binary form

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/codepage/cpnl850.c
    trunk/harbour/src/rtl/cdpapi.c
    trunk/harbour/tests/cpinfo.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Nov 14 10:16:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 14 10:16:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12873] trunk/harbour
Message-ID: <E1N9KMg-00062k-Co@dn4whf1.ch3.sourceforge.com>

Revision: 12873
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12873&view=rev
Author:   vszakats
Date:     2009-11-14 15:16:35 +0000 (Sat, 14 Nov 2009)

Log Message:
-----------
2009-11-14 16:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * external/sqlite3/sqlite3.c
  * external/sqlite3/sqlite3.h
    + sqlite upgraded to 3.6.20 (from 3.6.18)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/external/sqlite3/sqlite3.c
    trunk/harbour/external/sqlite3/sqlite3.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From zen25000 at zen.co.uk  Sat Nov 14 11:28:10 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Sat Nov 14 11:28:17 2009
Subject: [Harbour] Testing Linux
In-Reply-To: <4AFD7526.5090603@gmail.com>
References: <4afd51ed.0a08c00a.7d9e.ffff99d5SMTPIN_ADDED@mx.google.com>
	<4AFD7526.5090603@gmail.com>
Message-ID: <4AFEDA9A.4020105@zen.co.uk>

On 13/11/09 15:03, Mario H. Sabado wrote:
>
> Hi Guy,
>> Message: 9
>> Date: Fri, 13 Nov 2009 08:06:07 +0100
>> From: Guy Roussin<guy.roussin@teledetection.fr>
>> Subject: Re: [Harbour] Testing Linux
>> To: "Harbour Project Main Developer List."
>> 	<harbour@harbour-project.org>
>> Message-ID:<4AFD055F.40806@teledetection.fr>
>> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>>
>> Hi,
>>
>>> >
>>> >
>>> >  I have tried building Harbour under Mandriva 2010 and compiled the
>>> >  hello.prg successfully but when I run, I have the following error.
>>> >  But I have verified that the libharbour.so was found under
>>> >  /usr/local/lib and /usr/local/lib/harbour.
>>>
>> Add as root:
>> /usr/local/lib/
>> /usr/local/lib/harbour
>>
>> in /etc/ld.so.conf
>>
>> then type:
>> ldconfig
>>
>>
>> Guy
> That did it! Thank you for the help.
>
> Best regards,
> Mario
>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
Mario, see also :-
https://sourceforge.net/apps/phpbb/harbour-project/viewtopic.php?p=77#p77
From vszakats at users.sourceforge.net  Sat Nov 14 12:11:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 14 12:11:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12874] trunk/harbour
Message-ID: <E1N9M9U-0000R5-Oy@d5vjzd1.ch3.sourceforge.com>

Revision: 12874
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12874&view=rev
Author:   vszakats
Date:     2009-11-14 17:11:06 +0000 (Sat, 14 Nov 2009)

Log Message:
-----------
2009-11-14 18:08 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/hbi18n1.c
    + Added plural form support for these languages:
      CS, FR, GA, HR, HU, JA, KO, LV, PT-BR, RO, SK, SL, SR, TR, UK, VI

  * src/rtl/cputime.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/cputime.c
    trunk/harbour/src/rtl/hbi18n1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sat Nov 14 13:09:18 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Nov 14 13:09:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12875] trunk/harbour
Message-ID: <E1N9N3m-0001IY-NU@d5vjzd1.ch3.sourceforge.com>

Revision: 12875
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12875&view=rev
Author:   vouchcac
Date:     2009-11-14 18:09:17 +0000 (Sat, 14 Nov 2009)

Log Message:
-----------
2009-11-14 10:07 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/gtwvg/wvtwin.ch
    + Added few more constants.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvtwin.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Sat Nov 14 13:13:29 2009
From: Istvan.Bisz at t-online.hu (=?UTF-8?Q?Bisz_Istv=C3=A1n?=)
Date: Sat Nov 14 13:13:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <000801ca6523$19b03700$4d10a500$@Bisz@t-online.hu>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>	<26347229.post@talk.nabble.com>	<000001ca6508$4a6c5d80$df451880$@Bisz@t-online.hu>	<000501ca6511$c093edd0$41bbc970$@Bisz@t-online.hu>
	<000801ca6523$19b03700$4d10a500$@Bisz@t-online.hu>
Message-ID: <000001ca6556$2b313b40$8193b1c0$@Bisz@t-online.hu>

Hi Pritpal,

Please consult demoqt test on Fedora12 listed below:

[Istvan@localhost tests]$ hbmk2 demoqt -lxhb
hbmk2: Processing local make script: hbmk.hbm                                  
hbmk2: Processing configuration: /usr/local/bin/hbmk.cfg                       
Harbour 2.0.0beta3 (Rev. 12874)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'demoqt.prg'...
Lines 1032, Functions/Procedures 22
Generating C source output to 'demoqt.c'... Done.
[Istvan@localhost tests]$ ./demoqt
<unknown>: Fatal IO error 2 (No such file or directory) on X server :0.0.
X Error: BadIDChoice (invalid resource ID chosen for this connection) 14
  Major opcode: 1 (X_CreateWindow)
  Resource id:  0x4400002
X Error: BadIDChoice (invalid resource ID chosen for this connection) 14
  Extension:    148 (RENDER)
  Minor opcode: 4 (RenderCreatePicture)
  Resource id:  0x4400003
X Error: BadIDChoice (invalid resource ID chosen for this connection) 14
  Major opcode: 1 (X_CreateWindow)
  Resource id:  0x4400004
<unknown>: Fatal IO error 11 (Resource temporarily unavailable) on X server :0.0.
The application '<unknown>' lost its connection to the display :0.0;
most likely the X server was shut down or you killed/destroyed
the application.

the error was fixed by the commenting out the 'hb_toOutDebug()' calls.

Best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Bisz Istv?n
Sent: 2009. november 14. 13:08
To: 'Harbour Project Main Developer List.'
Subject: RE: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour

Hi Pritpal,

See my findings: to activate the tracing of the actual demoqt on Windows+mingw I tried to:

1. compile hbqt with: 
@set HB_USER_CFLAGS=-D__debug__
@set HB_USER_PRGFLAGS=-D__debug__

2. build
hbmk2 demoqt -lxhb -lpsapi

After these steps I have got a running exe, but I can't see any traces on my Vista.
Any advice is useful, thanks.

Best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Bisz Istv?n
Sent: 2009. november 14. 11:04
To: 'Harbour Project Main Developer List.'
Subject: RE: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour

Hi Pritpal,

Just reviewed the demoqt. 
Could you please commit a version with the following modification:

1. hb_toOutDebug() conditioned by __debug__ or switch to:

#if defined( __HB_OUTDEBUG__ )
   #if defined( __PLATFORM__WINDOWS ) .AND. defined( __HB_WINDEBUG__ )
      #xtranslate HB_OUTDEBUG( [<x>] ) => wapi_OutputDebugString( <x> )
   #else
      #xtranslate HB_OUTDEBUG( [<x>] ) => hb_TraceString( <x> )
   #endif
#else
   #xtranslate HB_OUTDEBUG( [<x>] ) => iif( .T.,, )
#endif

mentioned by Viktor.

2. The sequence:

   CASE cType == "WebPage"
      oDlg := QWebView():new()
      oUrl := QUrl():new()
      oUrl:setUrl( "http://www.harbour.vouch.info" )
      QT_QWebView_SetUrl( QT_PTROF( oDlg ), QT_PTROF( oUrl ) )
      oDlg:setWindowTitle( "Harbour-QT Web Page Navigator" )
      oDlg:exec()

should be replaced with a "not implemented!" message until fixing this issue.

These two things will make it, hopefully, error free on different platforms.

Thank you and best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Bisz Istv?n
Sent: 2009. november 14. 9:56
To: 'Harbour Project Main Developer List.'
Subject: RE: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour

Hi Pritpal,

Thank you for the new QPointer handling integration, now we can handle the QObjects deleted by Qt in his parent-child mechanism. There is a necessity to continue with the HB-Qt interface analysis, concentrating on the:

void * hbqt_gcpointer( int iParam )
{
   QGC_POINTER * p = ( QGC_POINTER * ) hb_parptrGC( gcFuncs(), iParam );

   if( p && p->ph )
   {
      return p->ph;
   }
   else
   {
      return hb_parptr( iParam );
   }
}
 
function enhancements, to signal at harbour level the already deleted Qt objects access tentative.

Now the repository is dead, due to the CP modifications, I will continue with the tests later.
 
Best regards,
Istv?n (my first name)

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Pritpal Bedi
Sent: 2009. november 14. 5:57
To: harbour@harbour-project.org
Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour


Hi


Viktor Szak?ts wrote:
> 
> Now I'm getting crash on exit using MinGW + Win7.
> 

demoxbp.exe ?
And crash at what point? On exit ? If yes, then it is possibly that 

HbDbfModel::~HbDbfModel( void )
{
   hb_itemRelease( block );
   destroy();
}

needs some overhaul. What I think is that - hb_itemRelease( block ); -
has to be guarded in someway, but what, I am unable to figure out.
Przemek can shed light on this aspect.

NOTE: Bisz Istv?n had disabled it to avoid crashes, but I enabled it 
         because, otherwise, hb_out.log was containing a long list of 
         unfreed memory blocks.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12868--trunk-harbour-tp26346347p26347229.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From vouchcac at users.sourceforge.net  Sat Nov 14 15:18:10 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sat Nov 14 15:18:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12876] trunk/harbour
Message-ID: <E1N9P4U-0003By-FX@d5vjzd1.ch3.sourceforge.com>

Revision: 12876
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12876&view=rev
Author:   vouchcac
Date:     2009-11-14 20:18:09 +0000 (Sat, 14 Nov 2009)

Log Message:
-----------
2009-11-14 12:16 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/tests/demoqt.prg
    ! Fixed to excluse non-working components and streamlined hb_toOutDebug().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/tests/demoqt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sat Nov 14 15:22:36 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Nov 14 15:22:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <000801ca6523$19b03700$4d10a500$@Bisz@t-online.hu>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>
	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>
	<26347229.post@talk.nabble.com>
	<000001ca6508$4a6c5d80$df451880$@Bisz@t-online.hu>
	<000501ca6511$c093edd0$41bbc970$@Bisz@t-online.hu>
	<000801ca6523$19b03700$4d10a500$@Bisz@t-online.hu>
Message-ID: <26353560.post@talk.nabble.com>


Hello Istvan


Bisz Istv?n wrote:
> 
> See my findings: to activate the tracing of the actual demoqt on
> Windows+mingw I tried to:
> 
> 1. compile hbqt with: 
> @set HB_USER_CFLAGS=-D__debug__
> @set HB_USER_PRGFLAGS=-D__debug__
> 
> 2. build
> hbmk2 demoqt -lxhb -lpsapi
> 
> After these steps I have got a running exe, but I can't see any traces on
> my Vista.
> Any advice is useful, thanks.
> 

You need a windows debugger for this purpose.
I use dbgview.exe which you can find on the net. Or tell me 
where should I send it to you.

BTW can you strip the messages to which you are replying?
Just keep relevant portion only into your message. Sometimes
it becomes difficult to locate the excat message of your current reply.
If you are ready with Harbour standard coding we can ask Viktor
to grant your write access on SVN.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12868--trunk-harbour-tp26346347p26353560.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From Istvan.Bisz at t-online.hu  Sat Nov 14 15:40:40 2009
From: Istvan.Bisz at t-online.hu (=?UTF-8?Q?Bisz_Istv=C3=A1n?=)
Date: Sat Nov 14 15:40:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <26353560.post@talk.nabble.com>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>	<26347229.post@talk.nabble.com>	<000001ca6508$4a6c5d80$df451880$@Bisz@t-online.hu>	<000501ca6511$c093edd0$41bbc970$@Bisz@t-online.hu>	<000801ca6523$19b03700$4d10a500$@Bisz@t-online.hu>
	<26353560.post@talk.nabble.com>
Message-ID: <000101ca656a$bb2b3430$31819c90$@Bisz@t-online.hu>

Hi Pritpal,

Thanks.

> You need a windows debugger for this purpose.
> I use dbgview.exe which you can find on the net. Or tell me 
> where should I send it to you.

I will try to download it.

> BTW can you strip the messages to which you are replying?
> Just keep relevant portion only into your message. Sometimes
> it becomes difficult to locate the excat message of your current reply.

OK. I always forget it with this list, as my Outlook works in a different way, requested by others.

> If you are ready with Harbour standard coding we can ask Viktor to grant your write access on SVN.

Maybe I need here an input from your side, in any case thanks for your trustfulness.

Best regards,
Istv?n
 

From Istvan.Bisz at t-online.hu  Sat Nov 14 16:26:40 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Sat Nov 14 16:26:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <26353560.post@talk.nabble.com>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>	<26347229.post@talk.nabble.com>	<000001ca6508$4a6c5d80$df451880$@Bisz@t-online.hu>	<000501ca6511$c093edd0$41bbc970$@Bisz@t-online.hu>	<000801ca6523$19b03700$4d10a500$@Bisz@t-online.hu>
	<26353560.post@talk.nabble.com>
Message-ID: <000301ca6571$29aca2d0$7d05e870$@Bisz@t-online.hu>

Sorry, but maybe the following sequence is surely can be compiled on all platforms:
   
FUNCTION q_toOutDebug( ... )
#ifdef __PLATFORM__WINDOWS
   hb_toOutDebug( ... )
#endif
   RETURN nil


From harbour.01 at syenar.hu  Sat Nov 14 16:34:59 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Nov 14 16:35:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <26353560.post@talk.nabble.com>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>
	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>
	<26347229.post@talk.nabble.com>
	<000001ca6508$4a6c5d80$df451880$@Bisz@t-online.hu>
	<000501ca6511$c093edd0$41bbc970$@Bisz@t-online.hu>
	<000801ca6523$19b03700$4d10a500$@Bisz@t-online.hu>
	<26353560.post@talk.nabble.com>
Message-ID: <ECF7B377-62C6-43E7-B3E9-881D0A02929E@syenar.hu>

What is the reason debug calls need to be re-invented every time?

We have working solution in xbp.ch, and now there is _again_ a 
new one developed in hbqt with different function names, different 
enabler logic and different logging logic (which again breaks 
all non-Windows).

Pls change to this one in hbqt, too:

---
#if defined( __HB_OUTDEBUG__ )
   #if defined( __PLATFORM__WINDOWS ) .AND. defined( __HB_WINDEBUG__ )
      #xtranslate HB_OUTDEBUG( [<x>] ) => wapi_OutputDebugString( <x> )
   #else
      #xtranslate HB_OUTDEBUG( [<x>] ) => hb_TraceString( <x> )
   #endif
#else
   #xtranslate HB_OUTDEBUG( [<x>] ) => iif( .T.,, )
#endif
---

Possibly also __debug__ invocation on C level should be changed 
to __HB_OUTDEBUG__ to have one less variation for the same thing.

Brgds,
Viktor

On 2009 Nov 14, at 21:22, Pritpal Bedi wrote:

> 
> Hello Istvan
> 
> 
> Bisz Istv?n wrote:
>> 
>> See my findings: to activate the tracing of the actual demoqt on
>> Windows+mingw I tried to:
>> 
>> 1. compile hbqt with: 
>> @set HB_USER_CFLAGS=-D__debug__
>> @set HB_USER_PRGFLAGS=-D__debug__
>> 
>> 2. build
>> hbmk2 demoqt -lxhb -lpsapi
>> 
>> After these steps I have got a running exe, but I can't see any traces on
>> my Vista.
>> Any advice is useful, thanks.
>> 
> 
> You need a windows debugger for this purpose.
> I use dbgview.exe which you can find on the net. Or tell me 
> where should I send it to you.
> 
> BTW can you strip the messages to which you are replying?
> Just keep relevant portion only into your message. Sometimes
> it becomes difficult to locate the excat message of your current reply.
> If you are ready with Harbour standard coding we can ask Viktor
> to grant your write access on SVN.
> 
> Regards
> Pritpal Bedi
> 
> -- 
> View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12868--trunk-harbour-tp26346347p26353560.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sat Nov 14 17:17:08 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 14 17:17:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12877] trunk/harbour
Message-ID: <E1N9Qvc-0004iA-4a@bj8yhf1.ch3.sourceforge.com>

Revision: 12877
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12877&view=rev
Author:   vszakats
Date:     2009-11-14 22:17:07 +0000 (Sat, 14 Nov 2009)

Log Message:
-----------
2009-11-14 23:16 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt.ch
  * contrib/hbqt/tests/demoqt.prg
    + Changed to use same .prg level debug trace call method as in hbxbp.
      Enable it with __HB_OUTDEBUG__.
      On Windows to use OutputDebugString() instead of regular Harbour 
      trace calls, also #define __HB_WINDEBUG__. In this case, also link 
      hbwin lib (not xhb lib).
    * Moved QT_PTROF() macro from demo code to header.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt.ch
    trunk/harbour/contrib/hbqt/tests/demoqt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Nov 14 17:36:30 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Nov 14 17:36:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <000101ca656a$bb2b3430$31819c90$@Bisz@t-online.hu>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>	<26347229.post@talk.nabble.com>	<000001ca6508$4a6c5d80$df451880$@Bisz@t-online.hu>	<000501ca6511$c093edd0$41bbc970$@Bisz@t-online.hu>	<000801ca6523$19b03700$4d10a500$@Bisz@t-online.hu>
	<26353560.post@talk.nabble.com>
	<000101ca656a$bb2b3430$31819c90$@Bisz@t-online.hu>
Message-ID: <47CB99A2-E95B-4207-926A-C88C82C536CE@syenar.hu>

Hi Istvan,

>> BTW can you strip the messages to which you are replying?
>> Just keep relevant portion only into your message. Sometimes
>> it becomes difficult to locate the excat message of your current reply.
> 
> OK. I always forget it with this list, as my Outlook works in a different way, requested by others.
> 
>> If you are ready with Harbour standard coding we can ask Viktor to grant your write access on SVN.
> 
> Maybe I need here an input from your side, in any case thanks for your trustfulness.

Please tell us your sf.net username and I'll add you as Harbour dev.

Brgds,
Viktor

From fperillo at gmail.com  Sat Nov 14 18:22:45 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sat Nov 14 18:22:52 2009
Subject: [Harbour] Does anybody have a mercurial repository ?
Message-ID: <6943770e0911141522m537c215bl36342eefe5a0b47a@mail.gmail.com>

I use Mercurial as my versioning tool... I'm trying to convert trunk
from svn to hg but it seems to last forever... Is a mercurial
repository available ?

Francesco
From harbour.01 at syenar.hu  Sat Nov 14 18:32:00 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 14 18:32:09 2009
Subject: [Harbour] Does anybody have a mercurial repository ?
In-Reply-To: <6943770e0911141522m537c215bl36342eefe5a0b47a@mail.gmail.com>
References: <6943770e0911141522m537c215bl36342eefe5a0b47a@mail.gmail.com>
Message-ID: <2F3057E9-9DD4-4EF1-95EA-8339F2EADB3E@syenar.hu>


On 2009 Nov 15, at 00:22, francesco perillo wrote:

> I use Mercurial as my versioning tool... I'm trying to convert trunk
> from svn to hg but it seems to last forever... Is a mercurial
> repository available ?

No.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Nov 14 18:48:44 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Nov 14 18:49:03 2009
Subject: [Harbour] FYI: beta3 release files moved to sf.net
Message-ID: <E252DEAD-41BE-4990-8D64-9C8A79E8C816@syenar.hu>

as subject.

this way it moves our download stats and it 
moves away load from my webspace provider.

'-20090905' postfix has been removed from filenames 
in the process.

Webalizer stats to date:

Nov
Hits	kB	File
41	1179202	harbour-2.0.0beta3-win-20090905.exe
15	282730	harbour-2.0.0beta3-win-20090905.7z
23	108863	harbour-2.0.0beta3-src-20090905.zip

Oct
Hits	kB	File
221	1494402	harbour-2.0.0beta3-win-20090905.exe
67	521257	harbour-2.0.0beta3-win-20090905.7z
23	133706	harbour-2.0.0beta3-src-20090905.zip

Sep
Hits	kB	File
288	2632633	harbour-2.0.0beta3-win-20090905.exe
254	1809235	harbour-2.0.0beta3-win-20090905.7z
81	467573	harbour-2.0.0beta3-src-20090905.zip

"Hits" is obviously off for some (to me) unknown reason.

Brgds,
Viktor

From fperillo at gmail.com  Sat Nov 14 19:16:43 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sat Nov 14 19:16:50 2009
Subject: [Harbour] Bug in compiling trunk with bcc
Message-ID: <6943770e0911141616u44d297b0p5e8087cd3dd9c9b4@mail.gmail.com>

I had to rem this line in config\win\global.mk to compile succesfully in bcc 5.5
# SYSLIBS += kernel32 user32 ws2_32 advapi32 gdi32

bcc has no kernel32.lib and the other ones....

I know that I should not use bcc (features and speed) but it's listed
as supported...

Francesco
From harbour.01 at syenar.hu  Sat Nov 14 19:25:07 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 14 19:25:16 2009
Subject: [Harbour] Bug in compiling trunk with bcc
In-Reply-To: <6943770e0911141616u44d297b0p5e8087cd3dd9c9b4@mail.gmail.com>
References: <6943770e0911141616u44d297b0p5e8087cd3dd9c9b4@mail.gmail.com>
Message-ID: <166A7B76-0696-4621-AE97-7C316A5E1541@syenar.hu>

> I had to rem this line in config\win\global.mk to compile succesfully in bcc 5.5
> # SYSLIBS += kernel32 user32 ws2_32 advapi32 gdi32
> 
> bcc has no kernel32.lib and the other ones....

This is not true. All of them are present in PSDK dir, 
which is part of BCC 5.5 kit.

If it doesn't work for you pls post your env and error, 
I honestly can't imagine anything which can still get 
broken in current SVN. In local tests current SVN just 
links even with improperly installed BCC 5.5.

Brgds,
Viktor

From fperillo at gmail.com  Sat Nov 14 19:43:12 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sat Nov 14 19:43:21 2009
Subject: [Harbour] Bug in compiling trunk with bcc
In-Reply-To: <166A7B76-0696-4621-AE97-7C316A5E1541@syenar.hu>
References: <6943770e0911141616u44d297b0p5e8087cd3dd9c9b4@mail.gmail.com>
	<166A7B76-0696-4621-AE97-7C316A5E1541@syenar.hu>
Message-ID: <6943770e0911141643m4f984cbfvda6884e34a2f5296@mail.gmail.com>

Viktor, you are right as usual....

On Sun, Nov 15, 2009 at 1:25 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
>> I had to rem this line in config\win\global.mk to compile succesfully in bcc 5.5
>> # SYSLIBS += kernel32 user32 ws2_32 advapi32 gdi32
>>
>> bcc has no kernel32.lib and the other ones....
>
> This is not true. All of them are present in PSDK dir,
> which is part of BCC 5.5 kit.

Yes there are.

> If it doesn't work for you pls post your env and error,

Error:
bcc32.exe  -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6
-O2 -OS -Ov -Oi -Oc   -onortl.obj -c ../../../nortl.
c
../../../nortl.c:
tlib.exe /P128  "..\..\..\..\..\lib\win\bcc\hbnortl.lib" -+nortl.obj
TLIB 4.5 Copyright (c) 1987, 1999 Inprise Corporation
Warning: 'nortl' not found in library
bcc32.exe  -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6
-O2 -OS -Ov -Oi -Oc   -ohbpp.obj -c ../../../hbpp.c
../../../hbpp.c:
bcc32.exe  -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6
-O2 -OS -Ov -Oi -Oc   -ohbpp_dyn.obj -DHB_DYNLIB -c
../../../hbpp.c
../../../hbpp.c:
bcc32.exe -q -tWM -w -w-sig- -Q -d -6 -O2 -OS -Ov -Oi -Oc
-L../../../../../lib/win/bcc   -e..\..\..\..\..\bin\win\bcc\h
bpp.exe hbpp.obj ../../../../../lib/win/bcc/hbnortl.lib
../../../../../lib/win/bcc/hbcommon.lib kernel32.lib user32.lib
ws2_32.lib advapi32.lib gdi32.lib
Fatal: Unable to open file 'KERNEL32.LIB'
win-make[3]: *** [hbpp.exe] Error 1
rm hbpp.obj
win-make[2]: *** [descend] Error 2
win-make[1]: *** [pp] Error 2
win-make: *** [src] Error 2

As you can see, kernel32 is listed and since my bcc32.cfg is
-I"c:\dev\l\bcc55\include" -L"c:\dev\l\bcc55\lib"
it's not found....

I now added -L"...\psdk" and works....


I'm only a bit puzzled about the fact that removing that libraries it
compiles, links and works.....

Thanks,
Francesco
From druzus at acn.waw.pl  Sat Nov 14 19:49:44 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Nov 14 19:49:52 2009
Subject: [Harbour] Bug in compiling trunk with bcc
In-Reply-To: <6943770e0911141643m4f984cbfvda6884e34a2f5296@mail.gmail.com>
References: <6943770e0911141616u44d297b0p5e8087cd3dd9c9b4@mail.gmail.com>
	<166A7B76-0696-4621-AE97-7C316A5E1541@syenar.hu>
	<6943770e0911141643m4f984cbfvda6884e34a2f5296@mail.gmail.com>
Message-ID: <20091115004944.GA11649@34-mo7-2.home.aster.pl>

On Sun, 15 Nov 2009, francesco perillo wrote:

Hi,

> I'm only a bit puzzled about the fact that removing that libraries it
> compiles, links and works.....

Amazing, do you know that I can compile and link my application
without xhb.lib and final binaries works.
Does it means that we should say that it's a bug in Harbour SVN
and suggest to remove it? ;-)

best regards,
Przemek
From harbour.01 at syenar.hu  Sat Nov 14 19:51:41 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 14 19:51:50 2009
Subject: [Harbour] Bug in compiling trunk with bcc
In-Reply-To: <6943770e0911141643m4f984cbfvda6884e34a2f5296@mail.gmail.com>
References: <6943770e0911141616u44d297b0p5e8087cd3dd9c9b4@mail.gmail.com>
	<166A7B76-0696-4621-AE97-7C316A5E1541@syenar.hu>
	<6943770e0911141643m4f984cbfvda6884e34a2f5296@mail.gmail.com>
Message-ID: <7ECE98BF-90A2-4794-9721-FCAE6C185573@syenar.hu>

>> If it doesn't work for you pls post your env and error,
> 
> Error:
> bcc32.exe  -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6
> -O2 -OS -Ov -Oi -Oc   -onortl.obj -c ../../../nortl.
> c
> ../../../nortl.c:
> tlib.exe /P128  "..\..\..\..\..\lib\win\bcc\hbnortl.lib" -+nortl.obj
> TLIB 4.5 Copyright (c) 1987, 1999 Inprise Corporation
> Warning: 'nortl' not found in library
> bcc32.exe  -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6
> -O2 -OS -Ov -Oi -Oc   -ohbpp.obj -c ../../../hbpp.c
> ../../../hbpp.c:
> bcc32.exe  -I. -I../../../../../include -q -tWM -w -w-sig- -Q -d -6
> -O2 -OS -Ov -Oi -Oc   -ohbpp_dyn.obj -DHB_DYNLIB -c
> ../../../hbpp.c
> ../../../hbpp.c:
> bcc32.exe -q -tWM -w -w-sig- -Q -d -6 -O2 -OS -Ov -Oi -Oc
> -L../../../../../lib/win/bcc   -e..\..\..\..\..\bin\win\bcc\h
> bpp.exe hbpp.obj ../../../../../lib/win/bcc/hbnortl.lib
> ../../../../../lib/win/bcc/hbcommon.lib kernel32.lib user32.lib
> ws2_32.lib advapi32.lib gdi32.lib
> Fatal: Unable to open file 'KERNEL32.LIB'
> win-make[3]: *** [hbpp.exe] Error 1
> rm hbpp.obj
> win-make[2]: *** [descend] Error 2
> win-make[1]: *** [pp] Error 2
> win-make: *** [src] Error 2
> 
> As you can see, kernel32 is listed and since my bcc32.cfg is
> -I"c:\dev\l\bcc55\include" -L"c:\dev\l\bcc55\lib"
> it's not found....
> 
> I now added -L"...\psdk" and works....

Yes, this is the key. 

Upgrade to latest SVN and PSDK dir is added automatically 
by the build process.

> I'm only a bit puzzled about the fact that removing that libraries it
> compiles, links and works.....

These libs are added internally by BCC even if you don't 
add them explicitly. We're adding them explicitly as 
we're using a std set of system libs for all Windows 
compilers.

Brgds,
Viktor

From druzus at acn.waw.pl  Sat Nov 14 19:59:11 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Nov 14 19:59:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <26347229.post@talk.nabble.com>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>
	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>
	<26347229.post@talk.nabble.com>
Message-ID: <20091115005911.GB11649@34-mo7-2.home.aster.pl>

On Fri, 13 Nov 2009, Pritpal Bedi wrote:

Hi

> Viktor Szak?ts wrote:
> > Now I'm getting crash on exit using MinGW + Win7.
> demoxbp.exe ?
> And crash at what point? On exit ? If yes, then it is possibly that 
> HbDbfModel::~HbDbfModel( void )
> {
>    hb_itemRelease( block );
>    destroy();
> }
> needs some overhaul. What I think is that - hb_itemRelease( block ); -
> has to be guarded in someway, but what, I am unable to figure out.
> Przemek can shed light on this aspect.

I think that it's enough if you look at this code more carefully ;-)
This valgrind log should help you.

   ==8925== Invalid read of size 8
   ==8925==    at 0x75D5930: hb_xRefDec (fm.c:840)
   ==8925==    by 0x75D75F5: hb_gcRefFree (garbage.c:313)
   ==8925==    by 0x75D76FF: hb_itemRelease (itemapi.c:174)
   ==8925==    by 0x4568F0: HbDbfModel::~HbDbfModel() (hbqt_slots.cpp:2475)
   ==8925==    by 0x7605406: hb_vmProc (hvm.c:5732)
   ==8925==    by 0x75E19C1: hb_vmExecute (hvm.c:1619)
   ==8925==    by 0x75E414A: hb_vmSend (hvm.c:5880)
   ==8925==    by 0x75E1DA9: hb_vmExecute (hvm.c:1651)
   ==8925==    by 0x75E414A: hb_vmSend (hvm.c:5880)
   ==8925==    by 0x75E1DA9: hb_vmExecute (hvm.c:1651)
   ==8925==    by 0x75E414A: hb_vmSend (hvm.c:5880)
   ==8925==    by 0x7604100: hb_arrayEval (arrays.c:1329)
   ==8925==    by 0x75CE70F: HB_FUN_AEVAL (arrayshb.c:372)
   ==8925==    by 0x7605406: hb_vmProc (hvm.c:5732)
   ==8925==    by 0x75E19C1: hb_vmExecute (hvm.c:1619)
   ==8925==    by 0x75E414A: hb_vmSend (hvm.c:5880)
   ==8925==  Address 0xc18e500 is 0 bytes inside a block of size 72 free'd
   ==8925==    at 0x4C23DD8: free (in /usr/lib64/valgrind/vgpreload_memcheck-amd64-linux.so)
   ==8925==    by 0x75D76FF: hb_itemRelease (itemapi.c:174)
   ==8925==    by 0x4568E7: HbDbfModel::~HbDbfModel() (hbqt_slots.cpp:2292)
   ==8925==    by 0x7605406: hb_vmProc (hvm.c:5732)
   ==8925==    by 0x75E19C1: hb_vmExecute (hvm.c:1619)
   ==8925==    by 0x75E414A: hb_vmSend (hvm.c:5880)
   ==8925==    by 0x75E1DA9: hb_vmExecute (hvm.c:1651)
   ==8925==    by 0x75E414A: hb_vmSend (hvm.c:5880)
   ==8925==    by 0x75E1DA9: hb_vmExecute (hvm.c:1651)
   ==8925==    by 0x75E414A: hb_vmSend (hvm.c:5880)
   ==8925==    by 0x7604100: hb_arrayEval (arrays.c:1329)
   ==8925==    by 0x75CE70F: HB_FUN_AEVAL (arrayshb.c:372)
   ==8925==    by 0x7605406: hb_vmProc (hvm.c:5732)
   ==8925==    by 0x75E19C1: hb_vmExecute (hvm.c:1619)
   ==8925==    by 0x75E414A: hb_vmSend (hvm.c:5880)
   ==8925==    by 0x75E1DA9: hb_vmExecute (hvm.c:1651)

   HbDbfModel::~HbDbfModel( void )
   {
      hb_itemRelease( block );      // hbqt_slots.cpp:2292
      destroy();
   }

   void HbDbfModel::destroy()
   {
      hb_itemRelease( block );      // hbqt_slots.cpp:2475
   }

As you can see this code calls explicitly hb_itemRelease( block ) twice
and it causes memory corruption.

best regards,
Przemek
From druzus at acn.waw.pl  Sat Nov 14 20:01:27 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Nov 14 20:01:33 2009
Subject: [Harbour] Bug in compiling trunk with bcc
In-Reply-To: <20091115004944.GA11649@34-mo7-2.home.aster.pl>
References: <6943770e0911141616u44d297b0p5e8087cd3dd9c9b4@mail.gmail.com>
	<166A7B76-0696-4621-AE97-7C316A5E1541@syenar.hu>
	<6943770e0911141643m4f984cbfvda6884e34a2f5296@mail.gmail.com>
	<20091115004944.GA11649@34-mo7-2.home.aster.pl>
Message-ID: <20091115010127.GC11649@34-mo7-2.home.aster.pl>

On Sun, 15 Nov 2009, Przemys?aw Czerpak wrote:
[...]

And I forgot about the most important thing.
Welcome to the devel team :-)

best regards,
Przemek
From fperillo at gmail.com  Sat Nov 14 20:09:53 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sat Nov 14 20:10:01 2009
Subject: [Harbour] OLE objects syntax...
Message-ID: <6943770e0911141709u74775d24m9e570755eb10808b@mail.gmail.com>

I have an OLE object (PdfCreator, a pdf printer driver for windows)
that among other methods has the followings:

Public Property Get cOption(ByVal PropertyName As String) As Variant
Public Property Let cOption(ByVal PropertyName As String, ByVal Value
As Variant)

Public Property Get cVisible() As Boolean
Public Property Let cVisible(ByVal Value As Boolean)


My xHarbour code was:
object:cVisible( .T.) and in Harbour object:cVisible := .T.

In Harbour I can:
? object:cOption("property") and have the correct value
but I don't know how to set that value !

object:cOption("property") := .T.
is not accepted by the compiler,
object:cOption("property", .T.) is a run-time error....

Is there another way to set this value ? It may also be a problem of
the OLE object, since I
oAS:Cells( 7, 1 ):Value := "Timestamp:"
but this has the :Value part..... and the compiler accepts it....


Thanks,
Francesco
From fperillo at gmail.com  Sat Nov 14 20:15:32 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sat Nov 14 20:15:38 2009
Subject: [Harbour] Bug in compiling trunk with bcc
In-Reply-To: <7ECE98BF-90A2-4794-9721-FCAE6C185573@syenar.hu>
References: <6943770e0911141616u44d297b0p5e8087cd3dd9c9b4@mail.gmail.com>
	<166A7B76-0696-4621-AE97-7C316A5E1541@syenar.hu>
	<6943770e0911141643m4f984cbfvda6884e34a2f5296@mail.gmail.com>
	<7ECE98BF-90A2-4794-9721-FCAE6C185573@syenar.hu>
Message-ID: <6943770e0911141715p3c206a79yc73166742486816b@mail.gmail.com>

>> I now added -L"...\psdk" and works....
>
> Yes, this is the key.
>
> Upgrade to latest SVN and PSDK dir is added automatically
> by the build process.

I'm at the tip....
Harbour 2.0.0beta3 (Rev. 12877)

I only set
HB_COMPILER=bcc
(since I have a couple others installed)

Francesco
From fperillo at gmail.com  Sat Nov 14 20:18:21 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sat Nov 14 20:18:30 2009
Subject: [Harbour] Bug in compiling trunk with bcc
In-Reply-To: <20091115010127.GC11649@34-mo7-2.home.aster.pl>
References: <6943770e0911141616u44d297b0p5e8087cd3dd9c9b4@mail.gmail.com>
	<166A7B76-0696-4621-AE97-7C316A5E1541@syenar.hu>
	<6943770e0911141643m4f984cbfvda6884e34a2f5296@mail.gmail.com>
	<20091115004944.GA11649@34-mo7-2.home.aster.pl>
	<20091115010127.GC11649@34-mo7-2.home.aster.pl>
Message-ID: <6943770e0911141718i5141bc1dydb2ff924a403a84@mail.gmail.com>

I know that this list is perhaps not the correct one.... I hope you
will forgive me .... :-)

Francesco
From dbtopas at dbtopas.lt  Sat Nov 14 20:37:45 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sat Nov 14 20:39:23 2009
Subject: [Harbour] OLE objects syntax...
In-Reply-To: <6943770e0911141709u74775d24m9e570755eb10808b@mail.gmail.com>
References: <6943770e0911141709u74775d24m9e570755eb10808b@mail.gmail.com>
Message-ID: <4AFF5B69.8020900@dbtopas.lt>

Hi,


> In Harbour I can:
> ? object:cOption("property") and have the correct value
> but I don't know how to set that value !

Do you have any self contained sample?

> object:cOption("property") := .T.
> is not accepted by the compiler,

Just like STR(7) := .T.

> object:cOption("property", .T.) is a run-time error....

What error?

> Is there another way to set this value ? It may also be a problem of
> the OLE object, since I
> oAS:Cells( 7, 1 ):Value := "Timestamp:"
> but this has the :Value part..... and the compiler accepts it....

Just like any object:property := value


Regards,
Mindaugas

From harbour.01 at syenar.hu  Sat Nov 14 21:15:31 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 14 21:15:42 2009
Subject: [Harbour] Bug in compiling trunk with bcc
In-Reply-To: <6943770e0911141715p3c206a79yc73166742486816b@mail.gmail.com>
References: <6943770e0911141616u44d297b0p5e8087cd3dd9c9b4@mail.gmail.com>
	<166A7B76-0696-4621-AE97-7C316A5E1541@syenar.hu>
	<6943770e0911141643m4f984cbfvda6884e34a2f5296@mail.gmail.com>
	<7ECE98BF-90A2-4794-9721-FCAE6C185573@syenar.hu>
	<6943770e0911141715p3c206a79yc73166742486816b@mail.gmail.com>
Message-ID: <27C08F4D-484D-4645-8FA5-47D485728917@syenar.hu>

>> Upgrade to latest SVN and PSDK dir is added automatically
>> by the build process.
> 
> I'm at the tip....
> Harbour 2.0.0beta3 (Rev. 12877)
> 
> I only set
> HB_COMPILER=bcc
> (since I have a couple others installed)

That's the reason. If you do this, the build system will 
not be able to automatically configure BCC.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Nov 14 21:52:44 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 14 21:52:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12878] trunk/harbour
Message-ID: <E1N9VEK-0005YL-9r@dn4whf1.ch3.sourceforge.com>

Revision: 12878
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12878&view=rev
Author:   vszakats
Date:     2009-11-15 02:52:43 +0000 (Sun, 15 Nov 2009)

Log Message:
-----------
2009-11-15 03:50 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/win/bcc.mk
    + Changed to use ilink32 directly to link executables instead of 
      relying on bcc32.
      This changed synced this details with hbmk2.
      Please test, especially on Linux+Wine.
      Also please don't hesitate to make adjustments to this change 
      if needed. BCC isn't my bread and butter and I didn't make 
      extensive tests.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/bcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Nov 14 22:23:22 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 14 22:23:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12879] trunk/harbour
Message-ID: <E1N9Vhy-0003dp-JJ@74yxhf1.ch3.sourceforge.com>

Revision: 12879
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12879&view=rev
Author:   vszakats
Date:     2009-11-15 03:23:21 +0000 (Sun, 15 Nov 2009)

Log Message:
-----------
2009-11-15 04:23 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
  * config/win/bcc.mk
    + Added hack to hack so that bcc autoconfiguration works 
      even when bcc is explicitly selected.
      Now I wonder what will be the next corner case bcc users 
      will come up with.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/config/win/bcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Nov 14 23:22:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 14 23:22:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12880] trunk/harbour
Message-ID: <E1N9Wcp-0005wb-24@3kljzd1.ch3.sourceforge.com>

Revision: 12880
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12880&view=rev
Author:   vszakats
Date:     2009-11-15 04:22:05 +0000 (Sun, 15 Nov 2009)

Log Message:
-----------
2009-11-15 05:12 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/compiler/genc.c
  * src/compiler/gencc.c
    * Using HB_BYTE instead of BYTE in generated .c sources.

  * contrib/Makefile
  + contrib/hbsms
  + contrib/hbsms/Makefile
  + contrib/hbsms/hbsms.hbc
  + contrib/hbsms/hbsms.prg
  + contrib/hbsms/tests
  + contrib/hbsms/tests/hbmk.hbm
  + contrib/hbsms/tests/send.prg
    + Added SMS library. Currently sending is implemented.
      SMS_SEND( <cPort>, <cPhoneNumber>, <cText>, [<lDeliveryReport>], [<cPIN>] ) -> <nErrorCode. 0 = success>
    ; Uses hbtpathy.

  * contrib/hbwin/tests/hbmk.hbm
    ! Missing -es2.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/Makefile
    trunk/harbour/contrib/hbwin/tests/hbmk.hbm
    trunk/harbour/src/compiler/genc.c
    trunk/harbour/src/compiler/gencc.c

Added Paths:
-----------
    trunk/harbour/contrib/hbsms/
    trunk/harbour/contrib/hbsms/Makefile
    trunk/harbour/contrib/hbsms/hbsms.hbc
    trunk/harbour/contrib/hbsms/hbsms.prg
    trunk/harbour/contrib/hbsms/tests/
    trunk/harbour/contrib/hbsms/tests/hbmk.hbm
    trunk/harbour/contrib/hbsms/tests/send.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Nov 14 23:31:22 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 14 23:31:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12881] trunk/harbour
Message-ID: <E1N9Wlm-0001yw-9h@3kljzd1.ch3.sourceforge.com>

Revision: 12881
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12881&view=rev
Author:   vszakats
Date:     2009-11-15 04:31:21 +0000 (Sun, 15 Nov 2009)

Log Message:
-----------
2009-11-15 05:30 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbsms/Makefile
    ! Fixed dependency on tpathy headers.

  * contrib/hbsms/hbsms.prg
  * contrib/hbsms/hbsms.hbc
    - Deleted implementation based on hbwin com port support.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbsms/Makefile
    trunk/harbour/contrib/hbsms/hbsms.hbc
    trunk/harbour/contrib/hbsms/hbsms.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Nov 15 00:35:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 15 00:35:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12882] trunk/harbour
Message-ID: <E1N9XmB-0007X9-BS@bj8yhf1.ch3.sourceforge.com>

Revision: 12882
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12882&view=rev
Author:   vszakats
Date:     2009-11-15 05:35:50 +0000 (Sun, 15 Nov 2009)

Log Message:
-----------
2009-11-15 06:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_destruct.cpp
    ! Fixed the way windows.h is included.
    ! Fixed to exclude Windows stuff on non-Windows systems (in debug mode).
    ; PLEASE KEEP IT THIS WAY.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sun Nov 15 01:14:06 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Nov 15 01:14:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12883] trunk/harbour
Message-ID: <E1N9YNC-0003OK-TV@3kljzd1.ch3.sourceforge.com>

Revision: 12883
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12883&view=rev
Author:   vouchcac
Date:     2009-11-15 06:14:05 +0000 (Sun, 15 Nov 2009)

Log Message:
-----------
2009-11-14 22:05 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/gtwvg/Makefile
  * contrib/gtwvg/wvgsysw.prg
  * contrib/gtwvg/wvgwing.c
  * contrib/gtwvg/wvgwnd.prg
  - contrib/gtwvg/wincallb.c
  - contrib/gtwvg/wincback.prg

  * contrib/gtwvg/tests/demoxbp.prg
    ! Removed 32 bits only code which made GTWVG unusable on 64 bits 
      opering systems. I just discoved a way to assign WndProc to 
      system dialogs and hence this major change is effected.

      Viktor, please let me know if GTWVG now compiles fine on 64 bits.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/gtwvg/tests/demoxbp.prg
    trunk/harbour/contrib/gtwvg/wvgsysw.prg
    trunk/harbour/contrib/gtwvg/wvgwing.c
    trunk/harbour/contrib/gtwvg/wvgwnd.prg

Removed Paths:
-------------
    trunk/harbour/contrib/gtwvg/wincallb.c
    trunk/harbour/contrib/gtwvg/wincback.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Sun Nov 15 01:25:18 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Nov 15 01:25:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12884] trunk/harbour
Message-ID: <E1N9YY2-0003Xj-ER@3kljzd1.ch3.sourceforge.com>

Revision: 12884
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12884&view=rev
Author:   vouchcac
Date:     2009-11-15 06:25:17 +0000 (Sun, 15 Nov 2009)

Log Message:
-----------
2009-11-14 22:21 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_slots.h
    ! Fixed double freeing of HbDbfModel::block because of 
      recalling the same function twice. 
      Przemek ValGrind really helped here, thanks.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Nov 15 01:34:52 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 15 01:35:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12883] trunk/harbour
In-Reply-To: <E1N9YNC-0003OK-TV@3kljzd1.ch3.sourceforge.com>
References: <E1N9YNC-0003OK-TV@3kljzd1.ch3.sourceforge.com>
Message-ID: <F7F72132-FAF6-4D22-AA2C-C5AF91049C80@syenar.hu>

Hi Pritpal,

Yes, now it compiles fine and even the demo works when I use msvc64.
(I have to turn off warnings to make demowvg.prg compile, these should 
better be fixed)

Some icons don't appear on the toolbar, only a white box 
is visible (Calendar, Index, Hide).

With msvc64, I'm getting this warning, which seems to be a valid one:
../../../wvgutils.c(1256) : warning C4244: 'argument' : conversion from 'HB_PTRDIFF' to 'ULONG', possible loss of data

With pocc64, I'm getting this warning:
../../../wvgsink.c(308): warning #2027: Missing prototype for 'hb_oleVariantUpdate'.

With mingw64, I getting these errors (some of these may be mingw64 problems):
---
i686-w64-mingw32-gcc -I../../../../../contrib/hbwin -I. -I../../../../../include  -Wall -W -O3 -fomit-frame-pointer  -DUNICODE  -ogtwvg.o -c ../../../gtwvg.c
In file included from ../../../gtwvg.h:78:0,
                 from ../../../gtwvg.c:90:
z:/devl/mingw-450-64/lib/gcc/../../i686-w64-mingw32/include/commctrl.h:14:2: error: #error _WIN32_IE setting conflicts
In file included from ../../../gtwvg.h:86:0,
                 from ../../../gtwvg.c:90:
z:/devl/mingw-450-64/lib/gcc/../../i686-w64-mingw32/include/shlobj.h:14:2: error: #error _WIN32_IE setting conflicts
In file included from z:/devl/mingw-450-64/lib/gcc/../../i686-w64-mingw32/include/shlobj.h:88:0,
                 from ../../../gtwvg.h:86,
                 from ../../../gtwvg.c:90:
z:/devl/mingw-450-64/lib/gcc/../../i686-w64-mingw32/include/shlguid.h:13:2: error: #error _WIN32_IE setting conflicts
In file included from z:/devl/mingw-450-64/lib/gcc/../../i686-w64-mingw32/include/shlobj.h:98:0,
                 from ../../../gtwvg.h:86,
                 from ../../../gtwvg.c:90:
z:/devl/mingw-450-64/lib/gcc/../../i686-w64-mingw32/include/shobjidl.h:1763:69: error: expected declaration specifiers or '...' before 'SHCOLUMNID'
z:/devl/mingw-450-64/lib/gcc/../../i686-w64-mingw32/include/shobjidl.h:1764:80: error: expected declaration specifiers or '...' before 'SHCOLUMNID'
z:/devl/mingw-450-64/lib/gcc/../../i686-w64-mingw32/include/shobjidl.h:1765:68: error: expected declaration specifiers or '...' before 'SHCOLUMNID'
z:/devl/mingw-450-64/lib/gcc/../../i686-w64-mingw32/include/shobjidl.h:1786:86: error: expected declaration specifiers or '...' before 'SHCOLUMNID'
z:/devl/mingw-450-64/lib/gcc/../../i686-w64-mingw32/include/shobjidl.h:1788:97: error: expected declaration specifiers or '...' before 'SHCOLUMNID'
z:/devl/mingw-450-64/lib/gcc/../../i686-w64-mingw32/include/shobjidl.h:1790:85: error: expected declaration specifiers or '...' before 'SHCOLUMNID'
In file included from ../../../gtwvg.h:86:0,
                 from ../../../gtwvg.c:90:
z:/devl/mingw-450-64/lib/gcc/../../i686-w64-mingw32/include/shlobj.h:1672:5: error: expected specifier-qualifier-list before 'SHCOLUMNID'
In file included from ../../../gtwvg.h:86:0,
                 from ../../../gtwvg.c:90:
z:/devl/mingw-450-64/lib/gcc/../../i686-w64-mingw32/include/shlobj.h:1715:35: error: expected declaration specifiers or '...' before 'LPCSHCOLUMNID'
mingw64-make.exe[1]: *** [gtwvg.o] Error 1
mingw64-make.exe: *** [descend] Error 2
---

Brgds,
Viktor

On 2009 Nov 15, at 07:14, vouchcac@users.sourceforge.net wrote:

> Revision: 12883
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12883&view=rev
> Author:   vouchcac
> Date:     2009-11-15 06:14:05 +0000 (Sun, 15 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-14 22:05 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/gtwvg/Makefile
>  * contrib/gtwvg/wvgsysw.prg
>  * contrib/gtwvg/wvgwing.c
>  * contrib/gtwvg/wvgwnd.prg
>  - contrib/gtwvg/wincallb.c
>  - contrib/gtwvg/wincback.prg
> 
>  * contrib/gtwvg/tests/demoxbp.prg
>    ! Removed 32 bits only code which made GTWVG unusable on 64 bits 
>      opering systems. I just discoved a way to assign WndProc to 
>      system dialogs and hence this major change is effected.
> 
>      Viktor, please let me know if GTWVG now compiles fine on 64 bits.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/gtwvg/Makefile
>    trunk/harbour/contrib/gtwvg/tests/demoxbp.prg
>    trunk/harbour/contrib/gtwvg/wvgsysw.prg
>    trunk/harbour/contrib/gtwvg/wvgwing.c
>    trunk/harbour/contrib/gtwvg/wvgwnd.prg
> 
> Removed Paths:
> -------------
>    trunk/harbour/contrib/gtwvg/wincallb.c
>    trunk/harbour/contrib/gtwvg/wincback.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From niki at synel.co.il  Sun Nov 15 02:16:36 2009
From: niki at synel.co.il (Chen Kedem)
Date: Sun Nov 15 02:16:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12874] trunk/harbour
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F15@Mail-yoq.SYNEL-COMPANY.LTD>

With BCC32 and Rev12884 I get the following warnings:

Warning W8004 ../../../HBI18N1.C 238: 'n10' is assigned a value that is never used in function hb_i18n_pluralindex
Warning W8004 ../../../HBI18N1.C 238: 'n10' is assigned a value that is never used in function hb_i18n_pluralindex


  Chen.
From vszakats at users.sourceforge.net  Sun Nov 15 02:22:30 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 15 02:22:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12885] trunk/harbour
Message-ID: <E1N9ZRO-0003V1-Et@c3vjzd1.ch3.sourceforge.com>

Revision: 12885
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12885&view=rev
Author:   vszakats
Date:     2009-11-15 07:22:25 +0000 (Sun, 15 Nov 2009)

Log Message:
-----------
2009-11-15 08:21 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/hbi18n1.c
    ! Fixed bcc warning in recent commit.

  * contrib/gtwvg/tests/demoxbp.prg
    ! Fixed to use HB_SYMBOL_UNUSED() instead of local solution.

  * contrib/gtwvg/tests/demowvg.prg
    + Added dirbase to icon filenames

  * contrib/gtwvg/Makefile
    + Enabled for msvc64 and pocc64.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/gtwvg/tests/demowvg.prg
    trunk/harbour/contrib/gtwvg/tests/demoxbp.prg
    trunk/harbour/src/rtl/hbi18n1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From niki at synel.co.il  Sun Nov 15 02:30:05 2009
From: niki at synel.co.il (Chen Kedem)
Date: Sun Nov 15 02:30:14 2009
Subject: [Harbour] hbmk2: embedded Harbour and -bldf
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F16@Mail-yoq.SYNEL-COMPANY.LTD>

I built Harbour with set HB_USER_PRGFLAGS=-l-
(thats a lowercase 'L')

---tt55.prg---
proc main
quot("Hello")
return
--------------

..\bin\hbmk2 -bldf tt55 -w -n

Harbour 2.0.0beta3 (Rev. 12884)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'tt55.prg'...
Lines 3, Functions/Procedures 1
Generating C source output to 'tt55.c'... Done.
Cannot open  -l-.prg, assumed external

No code generated.
hbmk2: Error: Running Harbour compiler (embedded). 1
(E:\hrb\bin\harbour.exe) -n2 tt55.prg  -l- -w -n -iE:\hrb\include


The following do work:
..\bin\hbmk2 -l- tt55 -w -n

  Chen.
From Istvan.Bisz at t-online.hu  Sun Nov 15 02:35:51 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sun Nov 15 02:35:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12883] trunk/harbour
In-Reply-To: <F7F72132-FAF6-4D22-AA2C-C5AF91049C80@syenar.hu>
References: <E1N9YNC-0003OK-TV@3kljzd1.ch3.sourceforge.com>
	<F7F72132-FAF6-4D22-AA2C-C5AF91049C80@syenar.hu>
Message-ID: <000001ca65c6$426389b0$c72a9d10$@Bisz@t-online.hu>

Hi Pritpal,

> Yes, now it compiles fine and even the demo works when I use msvc64.
> (I have to turn off warnings to make demowvg.prg compile, these should 
> better be fixed)

With mingw32 ,

@set HB_BUILD_OPTIM=yes
@set HB_BUILD_UNICODE=yes
@set HB_BUILD_MODE=cpp

@set HB_USER_PRGFLAGS=-D__HB_OUTDEBUG__
@set HB_USER_PRGFLAGS=-D__HB_WINDEBUG__
@set HB_USER_PRGFLAGS=-D__debug__
@set HB_USER_CFLAGS=-D__HB_OUTDEBUG__
@set HB_USER_CFLAGS=-D__HB_WINDEBUG__
@set HB_USER_CFLAGS=-D__debug__

I getting this error:
g++  -I. -I../../../../../include  -Wall -W -O3 -fomit-frame-pointer
-march=i586 -mtune=pentiumpro -DUNICODE  -IC:/Qt/2009.04/qt/include
-IC:/Qt/2009.04/qt/include/Qt -IC:/Qt/2009.04/qt/include/QtCore
-IC:/Qt/2009.04/qt/include/QtGui -IC:/Qt/2009.04/qt/include/QtNetwork
-IC:/Qt/2009.04/qt/include/QtWebKit -D__debug__ -ohbqt_destruct.o -c
../../../hbqt_destruct.cpp
../../../hbqt_destruct.cpp: In function 'void just_debug(const char*, ...)':
../../../hbqt_destruct.cpp:123: error: cannot convert 'char*' to 'const
WCHAR*' for argument '1' to 'void OutputDebugStringW(const WCHAR*)'
win-make[3]: *** [hbqt_destruct.o] Error 1
win-make[2]: *** [descend] Error 2
win-make[1]: *** [hbqt.inst] Error 2
win-make: *** [contrib.inst] Error 2

Best regards,
Istv?n


From vszakats at users.sourceforge.net  Sun Nov 15 02:38:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 15 02:38:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12886] trunk/harbour
Message-ID: <E1N9Zgo-0003i3-Gt@c3vjzd1.ch3.sourceforge.com>

Revision: 12886
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12886&view=rev
Author:   vszakats
Date:     2009-11-15 07:38:25 +0000 (Sun, 15 Nov 2009)

Log Message:
-----------
2009-11-15 08:37 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed typo causing build-time flags to not be recognized 
      when using embedded Harbour compiler and -bldf option.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From capelsoft at terra.es  Sun Nov 15 02:44:11 2009
From: capelsoft at terra.es (=?iso-8859-1?Q?Jos=E9_Luis_Capel_~_CapelSoft?=)
Date: Sun Nov 15 02:44:21 2009
Subject: [Harbour] Partial classes
Message-ID: <794938E2438B4B2FB2D5683536B85D04@BASETIERRA1>

Hi all,

I would like your opinion about the concept of 'partial class'.  For example:

//---> First.prg
Class MyClass
    DATA data1
    METHOD MyMethod()
EndClass

METHOD MyMethod() CLASS MyClass
Return Self

//---> Second.Prg
PartialClass MyClass
    DATA data2
    METHOD MyMethod()
EndClass

METHOD MyMethod() CLASS MyClass
RETURN {::Data1, ::Data2}


In this hyphotetic example a unic class is divided into two diferents prg and the result is the sum of the two classes.

Could it be implemented in Harbour??
What is your opinion about that??

Thanks and regards,
Jos? Luis Capel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091115/adbf47fe/attachment.html
From harbour.01 at syenar.hu  Sun Nov 15 02:48:00 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Nov 15 02:48:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12883] trunk/harbour
In-Reply-To: <000001ca65c6$426389b0$c72a9d10$@Bisz@t-online.hu>
References: <E1N9YNC-0003OK-TV@3kljzd1.ch3.sourceforge.com>
	<F7F72132-FAF6-4D22-AA2C-C5AF91049C80@syenar.hu>
	<000001ca65c6$426389b0$c72a9d10$@Bisz@t-online.hu>
Message-ID: <1E52053F-0AE5-4683-B3A3-A7EF801DE73A@syenar.hu>

pls hold on I'll clean the whole debug stuff in both hbxbp and hbqt.

Brgds,
Viktor

On 2009 Nov 15, at 08:35, Bisz Istv?n wrote:

> Hi Pritpal,
> 
>> Yes, now it compiles fine and even the demo works when I use msvc64.
>> (I have to turn off warnings to make demowvg.prg compile, these should 
>> better be fixed)
> 
> With mingw32 ,
> 
> @set HB_BUILD_OPTIM=yes
> @set HB_BUILD_UNICODE=yes
> @set HB_BUILD_MODE=cpp
> 
> @set HB_USER_PRGFLAGS=-D__HB_OUTDEBUG__
> @set HB_USER_PRGFLAGS=-D__HB_WINDEBUG__
> @set HB_USER_PRGFLAGS=-D__debug__
> @set HB_USER_CFLAGS=-D__HB_OUTDEBUG__
> @set HB_USER_CFLAGS=-D__HB_WINDEBUG__
> @set HB_USER_CFLAGS=-D__debug__
> 
> I getting this error:
> g++  -I. -I../../../../../include  -Wall -W -O3 -fomit-frame-pointer
> -march=i586 -mtune=pentiumpro -DUNICODE  -IC:/Qt/2009.04/qt/include
> -IC:/Qt/2009.04/qt/include/Qt -IC:/Qt/2009.04/qt/include/QtCore
> -IC:/Qt/2009.04/qt/include/QtGui -IC:/Qt/2009.04/qt/include/QtNetwork
> -IC:/Qt/2009.04/qt/include/QtWebKit -D__debug__ -ohbqt_destruct.o -c
> ../../../hbqt_destruct.cpp
> ../../../hbqt_destruct.cpp: In function 'void just_debug(const char*, ...)':
> ../../../hbqt_destruct.cpp:123: error: cannot convert 'char*' to 'const
> WCHAR*' for argument '1' to 'void OutputDebugStringW(const WCHAR*)'
> win-make[3]: *** [hbqt_destruct.o] Error 1
> win-make[2]: *** [descend] Error 2
> win-make[1]: *** [hbqt.inst] Error 2
> win-make: *** [contrib.inst] Error 2
> 
> Best regards,
> Istv?n
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From Istvan.Bisz at t-online.hu  Sun Nov 15 03:05:25 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sun Nov 15 03:05:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12883] trunk/harbour
In-Reply-To: <1E52053F-0AE5-4683-B3A3-A7EF801DE73A@syenar.hu>
References: <E1N9YNC-0003OK-TV@3kljzd1.ch3.sourceforge.com>	<F7F72132-FAF6-4D22-AA2C-C5AF91049C80@syenar.hu>	<000001ca65c6$426389b0$c72a9d10$@Bisz@t-online.hu>
	<1E52053F-0AE5-4683-B3A3-A7EF801DE73A@syenar.hu>
Message-ID: <000701ca65ca$63b388f0$2b1a9ad0$@Bisz@t-online.hu>

> pls hold on I'll clean the whole debug stuff in both hbxbp and hbqt.

Great! Thanks.

Best regards,
Istv?n


From niki at synel.co.il  Sun Nov 15 03:05:38 2009
From: niki at synel.co.il (Chen Kedem)
Date: Sun Nov 15 03:05:47 2009
Subject: [Harbour] Partial classes
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F18@Mail-yoq.SYNEL-COMPANY.LTD>

Jos?,

> I would like your opinion about the concept of 'partial class'

This syntax is something I saw in .NET and didn't like it.
For me it look like a hack MS did to allow the separation of the
GUI definition file from the code behind file.

A better way would be to sub class MyClass into MyClass2 and add
everything needed there.

In your sample you have two MyMethod() defined for the same class.
Which of them will be used? How can the user know that?


  Chen.
From harbour.01 at syenar.hu  Sun Nov 15 03:09:28 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Nov 15 03:09:37 2009
Subject: [Harbour] Partial classes
In-Reply-To: <794938E2438B4B2FB2D5683536B85D04@BASETIERRA1>
References: <794938E2438B4B2FB2D5683536B85D04@BASETIERRA1>
Message-ID: <E6B061C2-5AA0-44D5-AED4-E3521EE7D60D@syenar.hu>

My short opinion is that such extra flexibility would just 
increase chaos and help to create write-only code.

To me the cleanest so far class implementation is in Java, 
where each source file is one class, the name of the source 
file equals the class name.

Brgds,
Viktor

On 2009 Nov 15, at 08:44, Jos? Luis Capel ~ CapelSoft wrote:

> Hi all,
>  
> I would like your opinion about the concept of 'partial class'.  For example:
>  
> //---> First.prg
> Class MyClass
>     DATA data1
>     METHOD MyMethod()
> EndClass
>  
> METHOD MyMethod() CLASS MyClass
> Return Self
>  
> //---> Second.Prg
> PartialClass MyClass
>     DATA data2
>     METHOD MyMethod()
> EndClass
>  
> METHOD MyMethod() CLASS MyClass
> RETURN {::Data1, ::Data2}
>  
>  
> In this hyphotetic example a unic class is divided into two diferents prg and the result is the sum of the two classes.
>  
> Could it be implemented in Harbour??
> What is your opinion about that??
>  
> Thanks and regards,
> Jos? Luis Capel
>  
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sun Nov 15 03:44:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 15 03:44:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12887] trunk/harbour
Message-ID: <E1N9aii-0002Zi-R7@d5vjzd1.ch3.sourceforge.com>

Revision: 12887
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12887&view=rev
Author:   vszakats
Date:     2009-11-15 08:44:27 +0000 (Sun, 15 Nov 2009)

Log Message:
-----------
2009-11-15 09:43 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt.h
  * contrib/hbqt/generator/hbqtgen.prg
  * contrib/hbqt/hbqt.ch
  * contrib/hbqt/hbqt_destruct.cpp
  * contrib/hbqt/tests/demoqt.prg
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/Makefile
  * contrib/hbxbp/xbpappevent.prg
  * contrib/hbxbp/xbpsle.prg
  * contrib/hbxbp/xbplistbox.prg
  * contrib/hbxbp/xbppresspace.prg
  * contrib/hbxbp/xbpcheckbox.prg
  * contrib/hbxbp/xbpmenubar.prg
  * contrib/hbxbp/xbpradiobutton.prg
  * contrib/hbxbp/xbprtf.prg
  * contrib/hbxbp/xbpfiledialog.prg
  * contrib/hbxbp/tests/demoxbp.prg
  * contrib/hbxbp/xbpbrowse.prg
  * contrib/hbxbp/xbptabpage.prg
  * contrib/hbxbp/xbpwindow.prg
  * contrib/hbxbp/xbpcombobox.prg
  * contrib/hbxbp/xbpstatusbar.prg
  * contrib/hbxbp/xbppushbutton.prg
  * contrib/hbxbp/xbpprintdialog.prg
  * contrib/hbxbp/xbpbitmap.prg
  * contrib/hbxbp/xbp.ch
  * contrib/hbxbp/xbpprinter.prg
  * contrib/hbxbp/xbpscrollbar.prg
  * contrib/hbxbp/xbpfontdialog.prg
  * contrib/hbxbp/xbphtmlviewer.prg
  * contrib/hbxbp/xbpstatic.prg
  * contrib/hbxbp/xbptreeview.prg
  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbpstyle.prg
  * contrib/hbxbp/xbptoolbar.prg
  * contrib/hbxbp/xbp3state.prg
  * contrib/hbxbp/xbpspinbutton.prg
  * contrib/hbxbp/xbpdataref.prg
  * contrib/hbxbp/xbpgeneric.prg
  * contrib/hbxbp/xbpmle.prg
    ! Fixed to include hbqt.ch from xbp.ch instead of doing it in each file manually.
    * Renamed __debug__ to __HB_DEBUG__
    ! Fixed just_debug() to work in UNICODE mode.
    * Renamed hb_getMemUsed() to hbqt_getmemused()
    * Renamed just_debug() to hbqt_debug()
    + Added multiple parameter support to HB_OUTDEBUG().
    * Renamed HB_OUTDEBUG() to HBQT_DEBUG() in hbqt and HBXBP_DEBUG() in hbxbp.
    ! Fixed #include <Psapi.h> to #include <psapi.h>.
    ! Replaced all debug calls to use HBQT_DEBUG() / HBXBP_DEBUG().
    ; NOTE: After this change __HB_DEBUG__ controls debug mode in both .c and .prg mode.
            Windows specific debug output can still be enabled with __HB_WINDEBUG__.
    ; NOTE: I didn't test any of these. Pls do so.
    ; NOTE: All above is temporary as it would be better add OutputDebugString() support 
            to our RTL trace engine (enabled with a flag), plus multiple parameter 
            support (preferably accepting any types) to HB_TRACESTRING().
            Since my .c skill would kill this effort, or at least make it quite bumpy, 
            I'd kindly ask someone (Przemek, are you there? ;) to implement it. 
            Preferably both.
    ; TODO: Regenerate all hbqt sources.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt.ch
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/tests/demoqt.prg
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbp.ch
    trunk/harbour/contrib/hbxbp/xbp3state.prg
    trunk/harbour/contrib/hbxbp/xbpappevent.prg
    trunk/harbour/contrib/hbxbp/xbpbitmap.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbpcheckbox.prg
    trunk/harbour/contrib/hbxbp/xbpcombobox.prg
    trunk/harbour/contrib/hbxbp/xbpdataref.prg
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbpfiledialog.prg
    trunk/harbour/contrib/hbxbp/xbpfontdialog.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/contrib/hbxbp/xbphtmlviewer.prg
    trunk/harbour/contrib/hbxbp/xbplistbox.prg
    trunk/harbour/contrib/hbxbp/xbpmenubar.prg
    trunk/harbour/contrib/hbxbp/xbpmle.prg
    trunk/harbour/contrib/hbxbp/xbppresspace.prg
    trunk/harbour/contrib/hbxbp/xbpprintdialog.prg
    trunk/harbour/contrib/hbxbp/xbpprinter.prg
    trunk/harbour/contrib/hbxbp/xbppushbutton.prg
    trunk/harbour/contrib/hbxbp/xbpradiobutton.prg
    trunk/harbour/contrib/hbxbp/xbprtf.prg
    trunk/harbour/contrib/hbxbp/xbpscrollbar.prg
    trunk/harbour/contrib/hbxbp/xbpsle.prg
    trunk/harbour/contrib/hbxbp/xbpspinbutton.prg
    trunk/harbour/contrib/hbxbp/xbpstatic.prg
    trunk/harbour/contrib/hbxbp/xbpstatusbar.prg
    trunk/harbour/contrib/hbxbp/xbpstyle.prg
    trunk/harbour/contrib/hbxbp/xbptabpage.prg
    trunk/harbour/contrib/hbxbp/xbptoolbar.prg
    trunk/harbour/contrib/hbxbp/xbptreeview.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From niki at synel.co.il  Sun Nov 15 03:55:12 2009
From: niki at synel.co.il (Chen Kedem)
Date: Sun Nov 15 03:55:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12865] trunk/harbour
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F19@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

> Could be, I don't know what is the proper placement of cg32 lib.
> Especially since we're using bcc32 (not ilink32) which will add
> CRTL libs on its own, so it's happening in a hidden way right now.

Borland's IDE put cg32.lib as first library.

For the test I hardwired config/win/bcc.mk to do that, and used no HB_USER_LIBS:

LD_RULE = $(LD) $(LDFLAGS) $(HB_LDFLAGS) $(HB_USER_LDFLAGS) c0x32.obj $(^F), $(subst /,$(DIRSEP),$(BIN_DIR)/$@), nul, $(subst /,$(DIRSEP),cg32.lib $(LDLIBS)) cw32mt.lib import32.lib $(LDSTRIP)

:

   @$(ECHO) $(ECHOQUOTE), $(subst /,\,$(DYN_DIR)/$@),, $(subst /,\,cg32.lib $(DLIBS)) cw32mt.lib import32.lib$(ECHOQUOTE) >> __dyn__.tmp


and most of Harbour complied Ok, but generation of shared versions of Harbour
binaries failed in postint.bat because cg32.lib is missing. The exe the did created runs
just fine with no false CG errors.

I don't know the right way to enable this as a non hacked build time flag.


btw, thanks of the quick fix in Rev12885 and Rev12886.


  Chen.
From Istvan.Bisz at t-online.hu  Sun Nov 15 04:28:00 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Sun Nov 15 04:28:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12887] trunk/harbour
In-Reply-To: <E1N9aii-0002Zi-R7@d5vjzd1.ch3.sourceforge.com>
References: <E1N9aii-0002Zi-R7@d5vjzd1.ch3.sourceforge.com>
Message-ID: <000801ca65d5$ecbe62e0$c63b28a0$@Bisz@t-online.hu>

Hi Viktor,

>     ; NOTE: I didn't test any of these. Pls do so.

I getting this error:
win-make[3]: *** No rule to make target `../../../hbqt_misc.prg', needed by `hbqt_misc.c'.  Stop.
win-make[2]: *** [descend] Error 2
win-make[1]: *** [hbqt.inst] Error 2
win-make: *** [contrib.inst] Error 2

Best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of vszakats@users.sourceforge.net
Sent: 2009. november 15. 9:44
To: harbour@harbour-project.org
Subject: [Harbour] SF.net SVN: harbour-project:[12887] trunk/harbour

Revision: 12887
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12887&view=rev
Author:   vszakats
Date:     2009-11-15 08:44:27 +0000 (Sun, 15 Nov 2009)

Log Message:
-----------
2009-11-15 09:43 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt.h
  * contrib/hbqt/generator/hbqtgen.prg
  * contrib/hbqt/hbqt.ch
  * contrib/hbqt/hbqt_destruct.cpp
  * contrib/hbqt/tests/demoqt.prg
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/Makefile
  * contrib/hbxbp/xbpappevent.prg
  * contrib/hbxbp/xbpsle.prg
  * contrib/hbxbp/xbplistbox.prg
  * contrib/hbxbp/xbppresspace.prg
  * contrib/hbxbp/xbpcheckbox.prg
  * contrib/hbxbp/xbpmenubar.prg
  * contrib/hbxbp/xbpradiobutton.prg
  * contrib/hbxbp/xbprtf.prg
  * contrib/hbxbp/xbpfiledialog.prg
  * contrib/hbxbp/tests/demoxbp.prg
  * contrib/hbxbp/xbpbrowse.prg
  * contrib/hbxbp/xbptabpage.prg
  * contrib/hbxbp/xbpwindow.prg
  * contrib/hbxbp/xbpcombobox.prg
  * contrib/hbxbp/xbpstatusbar.prg
  * contrib/hbxbp/xbppushbutton.prg
  * contrib/hbxbp/xbpprintdialog.prg
  * contrib/hbxbp/xbpbitmap.prg
  * contrib/hbxbp/xbp.ch
  * contrib/hbxbp/xbpprinter.prg
  * contrib/hbxbp/xbpscrollbar.prg
  * contrib/hbxbp/xbpfontdialog.prg
  * contrib/hbxbp/xbphtmlviewer.prg
  * contrib/hbxbp/xbpstatic.prg
  * contrib/hbxbp/xbptreeview.prg
  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbpstyle.prg
  * contrib/hbxbp/xbptoolbar.prg
  * contrib/hbxbp/xbp3state.prg
  * contrib/hbxbp/xbpspinbutton.prg
  * contrib/hbxbp/xbpdataref.prg
  * contrib/hbxbp/xbpgeneric.prg
  * contrib/hbxbp/xbpmle.prg
    ! Fixed to include hbqt.ch from xbp.ch instead of doing it in each file manually.
    * Renamed __debug__ to __HB_DEBUG__
    ! Fixed just_debug() to work in UNICODE mode.
    * Renamed hb_getMemUsed() to hbqt_getmemused()
    * Renamed just_debug() to hbqt_debug()
    + Added multiple parameter support to HB_OUTDEBUG().
    * Renamed HB_OUTDEBUG() to HBQT_DEBUG() in hbqt and HBXBP_DEBUG() in hbxbp.
    ! Fixed #include <Psapi.h> to #include <psapi.h>.
    ! Replaced all debug calls to use HBQT_DEBUG() / HBXBP_DEBUG().
    ; NOTE: After this change __HB_DEBUG__ controls debug mode in both .c and .prg mode.
            Windows specific debug output can still be enabled with __HB_WINDEBUG__.
    ; NOTE: I didn't test any of these. Pls do so.
    ; NOTE: All above is temporary as it would be better add OutputDebugString() support 
            to our RTL trace engine (enabled with a flag), plus multiple parameter 
            support (preferably accepting any types) to HB_TRACESTRING().
            Since my .c skill would kill this effort, or at least make it quite bumpy, 
            I'd kindly ask someone (Przemek, are you there? ;) to implement it. 
            Preferably both.
    ; TODO: Regenerate all hbqt sources.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt.ch
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/tests/demoqt.prg
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbp.ch
    trunk/harbour/contrib/hbxbp/xbp3state.prg
    trunk/harbour/contrib/hbxbp/xbpappevent.prg
    trunk/harbour/contrib/hbxbp/xbpbitmap.prg
    trunk/harbour/contrib/hbxbp/xbpbrowse.prg
    trunk/harbour/contrib/hbxbp/xbpcheckbox.prg
    trunk/harbour/contrib/hbxbp/xbpcombobox.prg
    trunk/harbour/contrib/hbxbp/xbpdataref.prg
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbpfiledialog.prg
    trunk/harbour/contrib/hbxbp/xbpfontdialog.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/contrib/hbxbp/xbphtmlviewer.prg
    trunk/harbour/contrib/hbxbp/xbplistbox.prg
    trunk/harbour/contrib/hbxbp/xbpmenubar.prg
    trunk/harbour/contrib/hbxbp/xbpmle.prg
    trunk/harbour/contrib/hbxbp/xbppresspace.prg
    trunk/harbour/contrib/hbxbp/xbpprintdialog.prg
    trunk/harbour/contrib/hbxbp/xbpprinter.prg
    trunk/harbour/contrib/hbxbp/xbppushbutton.prg
    trunk/harbour/contrib/hbxbp/xbpradiobutton.prg
    trunk/harbour/contrib/hbxbp/xbprtf.prg
    trunk/harbour/contrib/hbxbp/xbpscrollbar.prg
    trunk/harbour/contrib/hbxbp/xbpsle.prg
    trunk/harbour/contrib/hbxbp/xbpspinbutton.prg
    trunk/harbour/contrib/hbxbp/xbpstatic.prg
    trunk/harbour/contrib/hbxbp/xbpstatusbar.prg
    trunk/harbour/contrib/hbxbp/xbpstyle.prg
    trunk/harbour/contrib/hbxbp/xbptabpage.prg
    trunk/harbour/contrib/hbxbp/xbptoolbar.prg
    trunk/harbour/contrib/hbxbp/xbptreeview.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From fperillo at gmail.com  Sun Nov 15 04:41:08 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sun Nov 15 04:41:16 2009
Subject: [Harbour] OLE objects syntax...
In-Reply-To: <4AFF5B69.8020900@dbtopas.lt>
References: <6943770e0911141709u74775d24m9e570755eb10808b@mail.gmail.com>
	<4AFF5B69.8020900@dbtopas.lt>
Message-ID: <6943770e0911150141w37b3377cu422f3f554d8b4b4d@mail.gmail.com>

Here it is, save it as sample.prg, compiling is with these lines (the
first one doesn't compile...)
Comments and error messages in the code...

hbmk2 sample.prg xhb.lib hbwin.lib -ofirst1 -dFIRST1
hbmk2 sample.prg xhb.lib hbwin.lib -ofirst2 -dFIRST2
hbmk2 sample.prg xhb.lib hbwin.lib -osecond -dSECOND

Thank you
Francesco

---------------- sample.prg
    PRIVATE oPdfApp
    PRIVATE oPdfOptions

// CREATE THE MAIN OBJECT

    IF ( oPdfApp := win_oleGetActiveObject( "PDFCreator.clsPDFCreator"
) ) == NIL
        IF ( oPdfApp := win_oleCreateObject(
"PDFCreator.clsPDFCreator" ) ) == NIL
            Alert( "ERROR! PDFCreator.clsPDFCreator not available. ["
+ Ole2TxtError()+ "]" )
            quit
        ENDIF
    ENDIF

// CREATE AN HELPER OBJECT

    IF ( oPdfOptions := win_oleGetActiveObject(
"PDFCreator.clsPDFCreatorOptions" ) ) == NIL
        IF ( oPdfOptions := win_oleCreateObject(
"PDFCreator.clsPDFCreatorOptions" ) ) == NIL
            Alert( "ERROR! PDFCreator.clsPDFCreatorOptions not
available. [" + Ole2TxtError()+ "]" )
            RETURN NIL
        ENDIF
    END

// SET SOME PARAMETERS FOR THE MAIN OBJECT
    oPdfApp:cVisible := .T.
    oPdfApp:cStart("/NoProcessingAtStartup" , .T. )
    oPdfApp:cPrinterStop := .T.

// HERE STARTS THE PROBLEM !
//
// FIRST SOLUTION:
// Public Property Get cOption(ByVal PropertyName As String) As Variant
// Public Property Let cOption(ByVal PropertyName As String, ByVal
Value As Variant)

#ifdef FIRST1
    oPdfApp:cOption( "UseAutoSave" ) := 1 // Compiler error
#endif
#ifdef FIRST2
    oPdfApp:cOption( "UseAutoSave" , 1 )  // runtime error
#endif
//
// Error BASE/3012  Argument error: COPTION
// Called from WIN_OLEAUTO:COPTION(0)
// Called from SAMPLE(42)
//

// SECOND SOLUTION:
//  use the helper object to set the value, then assign the helper object
//  to a member of the main class
// Public Property Set cOptions(ByVal Options1 As clsPDFCreatorOptions)
//

#ifdef SECOND
    oPdfOptions:UseAutoSave :=  1   // it's ok

// BUT THEN I NEED TO ASSIGN
    oPdfApp:cOptions := oPdfOptions  // runtime error
// Error BASE/3012  Argument error: _COPTIONS
// Called from WIN_OLEAUTO:_COPTIONS(0)
// Called from SAMPLE(60)
#endif

oPdfApp:cClearCache()

oPdfApp:cDefaultPrinter := "PDFCreator"
oPdfApp:cPrinterStop := .T.

oPdfApp:cClose()
From mbelgrano at deltain.it  Sun Nov 15 05:28:50 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Nov 15 05:29:19 2009
Subject: [Harbour] add Compiler version in info
Message-ID: <609353e70911150228v5653579fif7acd34095bbb969@mail.gmail.com>

Is possible in //info
return also c compiler and his version?


-- 
Massimo Belgrano
From calimero22 at freemail.it  Sun Nov 15 05:42:58 2009
From: calimero22 at freemail.it (calimero22@freemail.it)
Date: Sun Nov 15 05:43:04 2009
Subject: [Harbour] add Compiler version in info
Message-ID: <20091115104258.5A7A4200BBA6@eva27.dadanet.it>

An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091115/3d2ec3a2/attachment.html
From niki at synel.co.il  Sun Nov 15 05:49:05 2009
From: niki at synel.co.il (Chen Kedem)
Date: Sun Nov 15 05:49:15 2009
Subject: [Harbour] add Compiler version in info
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F1A@Mail-yoq.SYNEL-COMPANY.LTD>

Massimo,

> Is possible in //info
> return also c compiler and his version?

You have this information in the //build switch.

  Chen.
From mbelgrano at deltain.it  Sun Nov 15 05:55:51 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Nov 15 05:56:18 2009
Subject: [Harbour] add Compiler version in info
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F1A@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F1A@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <609353e70911150255r4497c8f9o5edd917114fe897f@mail.gmail.com>

Very thanks i dont know //build
is exactly what i need

2009/11/15 Chen Kedem <niki@synel.co.il>:
> Massimo,
>
>> Is possible in //info
>> return also c compiler and his version?
>
> You have this information in the //build switch.
>
> ?Chen.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Sun Nov 15 06:06:30 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Nov 15 06:06:59 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
Message-ID: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>

whem develop in harbour   using xmate by andy wos i have a high productivity
When compile my sample without xmate i start immediately because i not
need create xhp for each project
But when i compile and debug my source  is difficult moving from error to editor
With xmate i have a high productivity because
 syntax highlight made easy read
 itellisense give  suggestion about my function and his parameter
 if made error when compile goto source/line of error
 i also use [x]harbour languages guide integrated with f1
 So for me is easy the works

How harbour can facilitate the integration of Xmate?
Pritpal in past have a harbour distribution who integrate xmate so
think that he can understand the importance of visual

another candidate for integration is xdevstudio but is Spanish only afaik

Other option used for visual path

in which way other harbour user find productivity in compile-edit-debug cycle.

-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Sun Nov 15 07:44:57 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 15 07:45:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12888] trunk/harbour
Message-ID: <E1N9eTR-0006Lx-Kx@d5vjzd1.ch3.sourceforge.com>

Revision: 12888
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12888&view=rev
Author:   vszakats
Date:     2009-11-15 12:44:53 +0000 (Sun, 15 Nov 2009)

Log Message:
-----------
2009-11-15 13:35 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  + contrib/hbqt/hbqt_misc.prg
    + Added missing file from commit.

  * contrib/hbqt/qtgui/QPageSetupDialog.cpp
  * contrib/hbqt/qtgui/QGridLayout.cpp
  * contrib/hbqt/qtgui/QWindowsXPStyle.cpp
  * contrib/hbqt/qtgui/QItemSelectionModel.cpp
  * contrib/hbqt/qtgui/QConicalGradient.cpp
  * contrib/hbqt/qtgui/QTextLength.cpp
  * contrib/hbqt/qtgui/QStandardItemModel.cpp
  * contrib/hbqt/qtgui/QItemSelection.cpp
  * contrib/hbqt/qtgui/QTransform.cpp
  * contrib/hbqt/qtgui/QPicture.cpp
  * contrib/hbqt/qtgui/QAction.cpp
  * contrib/hbqt/qtgui/QPaintEvent.cpp
  * contrib/hbqt/qtgui/QStyledItemDelegate.cpp
  * contrib/hbqt/qtgui/QWidget.cpp
  * contrib/hbqt/qtgui/QToolBox.cpp
  * contrib/hbqt/qtgui/QFontDialog.cpp
  * contrib/hbqt/qtgui/QTextListFormat.cpp
  * contrib/hbqt/qtgui/QMouseEvent.cpp
  * contrib/hbqt/qtgui/QTextEdit.cpp
  * contrib/hbqt/qtgui/QFontComboBox.cpp
  * contrib/hbqt/qtgui/QStyleOptionHeader.cpp
  * contrib/hbqt/qtgui/QListView.cpp
  * contrib/hbqt/qtgui/QRadialGradient.cpp
  * contrib/hbqt/qtgui/QCursor.cpp
  * contrib/hbqt/qtgui/QPainterPath.cpp
  * contrib/hbqt/qtgui/QLabel.cpp
  * contrib/hbqt/qtgui/QBrush.cpp
  * contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
  * contrib/hbqt/qtgui/QStylePainter.cpp
  * contrib/hbqt/qtgui/QLinearGradient.cpp
  * contrib/hbqt/qtgui/QProgressBar.cpp
  * contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
  * contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
  * contrib/hbqt/qtgui/QToolBar.cpp
  * contrib/hbqt/qtgui/QFontMetricsF.cpp
  * contrib/hbqt/qtgui/QToolButton.cpp
  * contrib/hbqt/qtgui/QWindowsStyle.cpp
  * contrib/hbqt/qtgui/QColor.cpp
  * contrib/hbqt/qtgui/QListWidget.cpp
  * contrib/hbqt/qtgui/QTextLayout.cpp
  * contrib/hbqt/qtgui/QTextCursor.cpp
  * contrib/hbqt/qtgui/QTextDocument.cpp
  * contrib/hbqt/qtgui/QPolygon.cpp
  * contrib/hbqt/qtgui/QRadioButton.cpp
  * contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
  * contrib/hbqt/qtgui/QFileIconProvider.cpp
  * contrib/hbqt/qtgui/QTextFrameFormat.cpp
  * contrib/hbqt/qtgui/QTextBlockFormat.cpp
  * contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
  * contrib/hbqt/qtgui/QBitmap.cpp
  * contrib/hbqt/qtgui/QCalendarWidget.cpp
  * contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
  * contrib/hbqt/qtgui/QHeaderView.cpp
  * contrib/hbqt/qtgui/QScrollBar.cpp
  * contrib/hbqt/qtgui/QStyleOptionButton.cpp
  * contrib/hbqt/qtgui/QCommandLinkButton.cpp
  * contrib/hbqt/qtgui/QFocusFrame.cpp
  * contrib/hbqt/qtgui/QSizePolicy.cpp
  * contrib/hbqt/qtgui/QApplication.cpp
  * contrib/hbqt/qtgui/QTextFragment.cpp
  * contrib/hbqt/qtgui/QInputDialog.cpp
  * contrib/hbqt/qtgui/QKeySequence.cpp
  * contrib/hbqt/qtgui/QPrinter.cpp
  * contrib/hbqt/qtgui/QActionGroup.cpp
  * contrib/hbqt/qtgui/QTextCharFormat.cpp
  * contrib/hbqt/qtgui/QStyleOptionSlider.cpp
  * contrib/hbqt/qtgui/QInputEvent.cpp
  * contrib/hbqt/qtgui/QWidgetItem.cpp
  * contrib/hbqt/qtgui/QMenu.cpp
  * contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
  * contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
  * contrib/hbqt/qtgui/QFontInfo.cpp
  * contrib/hbqt/qtgui/QImage.cpp
  * contrib/hbqt/qtgui/QIcon.cpp
  * contrib/hbqt/qtgui/QPolygonF.cpp
  * contrib/hbqt/qtgui/QHBoxLayout.cpp
  * contrib/hbqt/qtgui/QTreeWidget.cpp
  * contrib/hbqt/qtgui/QCommonStyle.cpp
  * contrib/hbqt/qtgui/QProgressDialog.cpp
  * contrib/hbqt/qtgui/QButtonGroup.cpp
  * contrib/hbqt/qtgui/QStyleFactory.cpp
  * contrib/hbqt/qtgui/QSystemTrayIcon.cpp
  * contrib/hbqt/qtgui/QListWidgetItem.cpp
  * contrib/hbqt/qtgui/QColorDialog.cpp
  * contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
  * contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
  * contrib/hbqt/qtgui/QInputMethodEvent.cpp
  * contrib/hbqt/qtgui/QDateTimeEdit.cpp
  * contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
  * contrib/hbqt/qtgui/QMainWindow.cpp
  * contrib/hbqt/qtgui/QDesktopWidget.cpp
  * contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
  * contrib/hbqt/qtgui/QWidgetAction.cpp
  * contrib/hbqt/qtgui/QStringListModel.cpp
  * contrib/hbqt/qtgui/QDockWidget.cpp
  * contrib/hbqt/qtgui/QTextBrowser.cpp
  * contrib/hbqt/qtgui/QTableWidget.cpp
  * contrib/hbqt/qtgui/QErrorMessage.cpp
  * contrib/hbqt/qtgui/QWizard.cpp
  * contrib/hbqt/qtgui/QFileSystemModel.cpp
  * contrib/hbqt/qtgui/QDial.cpp
  * contrib/hbqt/qtgui/QTextOption.cpp
  * contrib/hbqt/qtgui/QImageWriter.cpp
  * contrib/hbqt/qtgui/QMenuBar.cpp
  * contrib/hbqt/qtgui/QFontMetrics.cpp
  * contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
  * contrib/hbqt/qtgui/QWizardPage.cpp
  * contrib/hbqt/qtgui/QPrintDialog.cpp
  * contrib/hbqt/qtgui/QStandardItem.cpp
  * contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
  * contrib/hbqt/qtgui/QSplashScreen.cpp
  * contrib/hbqt/qtgui/QSizeGrip.cpp
  * contrib/hbqt/qtgui/QMessageBox.cpp
  * contrib/hbqt/qtgui/QTextImageFormat.cpp
  * contrib/hbqt/qtgui/QGroupBox.cpp
  * contrib/hbqt/qtgui/QImageReader.cpp
  * contrib/hbqt/qtgui/QTextDocumentFragment.cpp
  * contrib/hbqt/qtgui/QPushButton.cpp
  * contrib/hbqt/qtgui/QTreeWidgetItem.cpp
  * contrib/hbqt/qtgui/QBoxLayout.cpp
  * contrib/hbqt/qtgui/QTextFormat.cpp
  * contrib/hbqt/qtgui/QPalette.cpp
  * contrib/hbqt/qtgui/QTextFrame.cpp
  * contrib/hbqt/qtgui/QTextBlock.cpp
  * contrib/hbqt/qtgui/QPainter.cpp
  * contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
  * contrib/hbqt/qtgui/QTextTableFormat.cpp
  * contrib/hbqt/qtgui/QStatusBar.cpp
  * contrib/hbqt/qtgui/QTabWidget.cpp
  * contrib/hbqt/qtgui/QContextMenuEvent.cpp
  * contrib/hbqt/qtgui/QLCDNumber.cpp
  * contrib/hbqt/qtgui/QTextDocumentWriter.cpp
  * contrib/hbqt/qtgui/QStyleOptionTab.cpp
  * contrib/hbqt/qtgui/QDateEdit.cpp
  * contrib/hbqt/qtgui/QCheckBox.cpp
  * contrib/hbqt/qtgui/QSound.cpp
  * contrib/hbqt/qtgui/QTabBar.cpp
  * contrib/hbqt/qtgui/QSpacerItem.cpp
  * contrib/hbqt/qtgui/QFileDialog.cpp
  * contrib/hbqt/qtgui/QDirModel.cpp
  * contrib/hbqt/qtgui/QDialog.cpp
  * contrib/hbqt/qtgui/QFormLayout.cpp
  * contrib/hbqt/qtgui/QStyleOptionFrame.cpp
  * contrib/hbqt/qtgui/QFont.cpp
  * contrib/hbqt/qtgui/QTableWidgetItem.cpp
  * contrib/hbqt/qtgui/QVBoxLayout.cpp
  * contrib/hbqt/qtgui/QMovie.cpp
  * contrib/hbqt/qtgui/QStyleOption.cpp
  * contrib/hbqt/qtgui/QTreeView.cpp
  * contrib/hbqt/qtgui/QTextLine.cpp
  * contrib/hbqt/qtgui/QTextItem.cpp
  * contrib/hbqt/qtgui/QTimeEdit.cpp
  * contrib/hbqt/qtgui/QMatrix.cpp
  * contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
  * contrib/hbqt/qtgui/QSlider.cpp
  * contrib/hbqt/qtgui/QSpinBox.cpp
  * contrib/hbqt/qtgui/QScrollArea.cpp
  * contrib/hbqt/qtgui/QFontDatabase.cpp
  * contrib/hbqt/qtgui/QLineEdit.cpp
  * contrib/hbqt/qtgui/QPixmap.cpp
  * contrib/hbqt/qtgui/QSplitter.cpp
  * contrib/hbqt/qtgui/QComboBox.cpp
  * contrib/hbqt/qtgui/QDoubleSpinBox.cpp
  * contrib/hbqt/qtgui/QStyleOptionComplex.cpp
  * contrib/hbqt/qtgui/QTableView.cpp
  * contrib/hbqt/qtgui/QPen.cpp
  * contrib/hbqt/qtgui/QRegion.cpp
  * contrib/hbqt/qtgui/QFrame.cpp
  * contrib/hbqt/qtgui/QCompleter.cpp
  * contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
  * contrib/hbqt/qtwebkit/QWebSecurityOrigin.cpp
  * contrib/hbqt/qtwebkit/QWebHistoryItem.cpp
  * contrib/hbqt/qtwebkit/QWebHitTestResult.cpp
  * contrib/hbqt/qtwebkit/QWebView.cpp
  * contrib/hbqt/qtwebkit/QWebPage.cpp
  * contrib/hbqt/qtcore/QDate.cpp
  * contrib/hbqt/qtcore/QProcess.cpp
  * contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
  * contrib/hbqt/qtcore/QPoint.cpp
  * contrib/hbqt/qtcore/QTextStream.cpp
  * contrib/hbqt/qtcore/QObject.cpp
  * contrib/hbqt/qtcore/QTimer.cpp
  * contrib/hbqt/qtcore/QEvent.cpp
  * contrib/hbqt/qtcore/QDataStream.cpp
  * contrib/hbqt/qtcore/QResource.cpp
  * contrib/hbqt/qtcore/QModelIndex.cpp
  * contrib/hbqt/qtcore/QTranslator.cpp
  * contrib/hbqt/qtcore/QRect.cpp
  * contrib/hbqt/qtcore/QLineF.cpp
  * contrib/hbqt/qtcore/QTime.cpp
  * contrib/hbqt/qtcore/QPointF.cpp
  * contrib/hbqt/qtcore/QLocale.cpp
  * contrib/hbqt/qtcore/QBitArray.cpp
  * contrib/hbqt/qtcore/QLatin1String.cpp
  * contrib/hbqt/qtcore/QFile.cpp
  * contrib/hbqt/qtcore/QSizeF.cpp
  * contrib/hbqt/qtcore/QMimeData.cpp
  * contrib/hbqt/qtcore/QLine.cpp
  * contrib/hbqt/qtcore/QStringList.cpp
  * contrib/hbqt/qtcore/QUrl.cpp
  * contrib/hbqt/qtcore/QByteArray.cpp
  * contrib/hbqt/qtcore/QRectF.cpp
  * contrib/hbqt/qtcore/QEventLoop.cpp
  * contrib/hbqt/qtcore/QDir.cpp
  * contrib/hbqt/qtcore/QSignalMapper.cpp
  * contrib/hbqt/qtcore/QTextEncoder.cpp
  * contrib/hbqt/qtcore/QLatin1Char.cpp
  * contrib/hbqt/qtcore/QRegExp.cpp
  * contrib/hbqt/qtcore/QFileInfo.cpp
  * contrib/hbqt/qtcore/QDateTime.cpp
  * contrib/hbqt/qtcore/QVariant.cpp
  * contrib/hbqt/qtcore/QThread.cpp
  * contrib/hbqt/qtcore/QTextDecoder.cpp
  * contrib/hbqt/qtcore/QSize.cpp
  * contrib/hbqt/qtcore/QList.cpp
  * contrib/hbqt/qtnetwork/QHttp.cpp
  * contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
  * contrib/hbqt/qtnetwork/QNetworkRequest.cpp
  * contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
  * contrib/hbqt/qtnetwork/QFtp.cpp
    * Regenerated sources.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/qtcore/QBitArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QByteArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDataStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDate.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDateTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDir.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEvent.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEventLoop.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFile.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFileInfo.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1Char.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1String.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLine.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLineF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLocale.cpp
    trunk/harbour/contrib/hbqt/qtcore/QMimeData.cpp
    trunk/harbour/contrib/hbqt/qtcore/QModelIndex.cpp
    trunk/harbour/contrib/hbqt/qtcore/QObject.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPoint.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPointF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QProcess.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRect.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRectF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRegExp.cpp
    trunk/harbour/contrib/hbqt/qtcore/QResource.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSignalMapper.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSize.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSizeF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QStringList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextDecoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextEncoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QThread.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTimer.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTranslator.cpp
    trunk/harbour/contrib/hbqt/qtcore/QUrl.cpp
    trunk/harbour/contrib/hbqt/qtcore/QVariant.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QActionGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QApplication.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBitmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBrush.cpp
    trunk/harbour/contrib/hbqt/qtgui/QButtonGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCalendarWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCheckBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColorDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommandLinkButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommonStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCompleter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QConicalGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QContextMenuEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDesktopWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDial.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDirModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDoubleSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QErrorMessage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileIconProvider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileSystemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFocusFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFont.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDatabase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontInfo.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetrics.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetricsF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFormLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGridLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHeaderView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageReader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputMethodEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelection.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelectionModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QKeySequence.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLCDNumber.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLabel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLineEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLinearGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMainWindow.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMatrix.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenu.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenuBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMessageBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMouseEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMovie.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPageSetupDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainterPath.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPalette.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPicture.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPixmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygonF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrinter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPushButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadialGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadioButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRegion.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizePolicy.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSound.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpacerItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplashScreen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplitter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStatusBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStringListModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleFactory.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComplex.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionHeader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTab.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStylePainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyledItemDelegate.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSystemTrayIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlock.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlockFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBrowser.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCharFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocument.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrameFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextImageFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLength.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextListFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextTableFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTransform.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QVBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWindowsStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWindowsXPStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizardPage.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QFtp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QNetworkRequest.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebHistoryItem.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebHitTestResult.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebPage.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebSecurityOrigin.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebView.cpp

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/hbqt_misc.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sun Nov 15 08:47:12 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Nov 15 08:47:20 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
Message-ID: <20091115134712.GA20573@34-mo7-2.home.aster.pl>

On Sun, 15 Nov 2009, Massimo Belgrano wrote:

Hi,

> whem develop in harbour   using xmate by andy wos i have a high productivity
> When compile my sample without xmate i start immediately because i not
> need create xhp for each project
> But when i compile and debug my source  is difficult moving from error to editor
> With xmate i have a high productivity because
> syntax highlight made easy read
> itellisense give  suggestion about my function and his parameter
> if made error when compile goto source/line of error
> i also use [x]harbour languages guide integrated with f1
> So for me is easy the works
> How harbour can facilitate the integration of Xmate?

In the past I suggested to create configuration for XMate which will
use hbmk2 to compile and link programs.
Now the set of hbmk2 options seems to reach some final form so it should
be easy to create it. I haven't tried but I think it should be possible
to make it quite fast.

> Pritpal in past have a harbour distribution who integrate xmate so
> think that he can understand the importance of visual
> another candidate for integration is xdevstudio but is Spanish only afaik

The 1-st and most important thing is portability. Such tool should work
with MS-Windows, MacOSX, Linux and other POSIX systems using X-Windows
and some portable GUI library like GTK or QT (or even sth older like motif,
xforms, ...).
XMate and xDevStudio work only in Windows what strongly reduce their usages.
XMate is mostly written as .prg code using some xHarbour extensions and
Windows API library created by Andrzej Wo?. Maybe we can try to contact
with Andrzej and ask him about multiplatform version of xMate or free
release at least of part of xMate code which is platform independent so
we can try to adopt it to HBQT or other portable GUI library for Harbour.
Maybe even someone asked about it? BTW Who of us last time contact with
Andrzej? Looking at my mail archive I see that I received last message
from him on 26 Jul 2007.
Andrzej if you are reading please answer or send a message to my private
e-mail address.

> Other option used for visual path
> in which way other harbour user find productivity in compile-edit-debug cycle.

Each of us has own preferences so even if you like some tools then it does
not have to be usable for other users. But I agree that multiplatform version
of xMate can be great extension for Harbour community.

best regards,
Przemek
From Istvan.Bisz at t-online.hu  Sun Nov 15 08:57:01 2009
From: Istvan.Bisz at t-online.hu (=?UTF-8?Q?Bisz_Istv=C3=A1n?=)
Date: Sun Nov 15 08:57:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12888] trunk/harbour
In-Reply-To: <E1N9eTR-0006Lx-Kx@d5vjzd1.ch3.sourceforge.com>
References: <E1N9eTR-0006Lx-Kx@d5vjzd1.ch3.sourceforge.com>
Message-ID: <000401ca65fb$81d38480$857a8d80$@Bisz@t-online.hu>

Hi Viktor,

>     ; NOTE: I didn't test any of these. Pls do so.

I getting this error:

c:/harbour/mingw/lib/win/mingw/libhbqt.a(hbqt_misc.o):hbqt_misc.c:(.data+0x68): undefined reference to `HB_FUN_ISARRAY'

Best regards,
Istv?n


From harbour.01 at syenar.hu  Sun Nov 15 08:59:19 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 15 08:59:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12888] trunk/harbour
In-Reply-To: <000401ca65fb$81d38480$857a8d80$@Bisz@t-online.hu>
References: <E1N9eTR-0006Lx-Kx@d5vjzd1.ch3.sourceforge.com>
	<000401ca65fb$81d38480$857a8d80$@Bisz@t-online.hu>
Message-ID: <79D052F1-CBBC-4C55-BE8A-3783AC3C5E69@syenar.hu>

Thanks. Pls add #include "common.ch" to that file.
I'll commit it a little bit later with some other things.

Brgds,
Viktor

On 2009 Nov 15, at 14:57, Bisz Istv?n wrote:

> Hi Viktor,
> 
>>    ; NOTE: I didn't test any of these. Pls do so.
> 
> I getting this error:
> 
> c:/harbour/mingw/lib/win/mingw/libhbqt.a(hbqt_misc.o):hbqt_misc.c:(.data+0x68): undefined reference to `HB_FUN_ISARRAY'
> 
> Best regards,
> Istv?n
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From Istvan.Bisz at t-online.hu  Sun Nov 15 09:08:15 2009
From: Istvan.Bisz at t-online.hu (=?UTF-8?Q?Bisz_Istv=C3=A1n?=)
Date: Sun Nov 15 09:08:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12888] trunk/harbour
In-Reply-To: <79D052F1-CBBC-4C55-BE8A-3783AC3C5E69@syenar.hu>
References: <E1N9eTR-0006Lx-Kx@d5vjzd1.ch3.sourceforge.com>	<000401ca65fb$81d38480$857a8d80$@Bisz@t-online.hu>
	<79D052F1-CBBC-4C55-BE8A-3783AC3C5E69@syenar.hu>
Message-ID: <000501ca65fd$13716410$3a542c30$@Bisz@t-online.hu>

> Thanks. Pls add #include "common.ch" to that file.
> I'll commit it a little bit later with some other things.

OK. I will proceed in this way.

Best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. november 15. 14:59
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SF.net SVN: harbour-project:[12888] trunk/harbour

Thanks. Pls add #include "common.ch" to that file.
I'll commit it a little bit later with some other things.

Brgds,
Viktor

On 2009 Nov 15, at 14:57, Bisz Istv?n wrote:

> Hi Viktor,
> 
>>    ; NOTE: I didn't test any of these. Pls do so.
> 
> I getting this error:
> 
> c:/harbour/mingw/lib/win/mingw/libhbqt.a(hbqt_misc.o):hbqt_misc.c:(.data+0x68): undefined reference to `HB_FUN_ISARRAY'
> 
> Best regards,
> Istv?n
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Nov 15 09:22:38 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 15 09:22:48 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <20091115134712.GA20573@34-mo7-2.home.aster.pl>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<20091115134712.GA20573@34-mo7-2.home.aster.pl>
Message-ID: <B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>

+1

While I'm comfortable at the command line, I couldn't yet 
find an alternative for Far Manager on *nix systems. I need 
the two panel modes, integrated cmdline plus the very decent 
editor it has. This is the last important bit which ties me 
to the Windows platform on a daily basis. Maybe such portable 
GUI with Harbour integration could help this matter.

[ OFF: Finally I got to use Win9x VM to solve my MS-DOS 
platform needs (only for Harbour). ]

Brgds,
Viktor

On 2009 Nov 15, at 14:47, Przemys?aw Czerpak wrote:

> On Sun, 15 Nov 2009, Massimo Belgrano wrote:
> 
> Hi,
> 
>> whem develop in harbour   using xmate by andy wos i have a high productivity
>> When compile my sample without xmate i start immediately because i not
>> need create xhp for each project
>> But when i compile and debug my source  is difficult moving from error to editor
>> With xmate i have a high productivity because
>> syntax highlight made easy read
>> itellisense give  suggestion about my function and his parameter
>> if made error when compile goto source/line of error
>> i also use [x]harbour languages guide integrated with f1
>> So for me is easy the works
>> How harbour can facilitate the integration of Xmate?
> 
> In the past I suggested to create configuration for XMate which will
> use hbmk2 to compile and link programs.
> Now the set of hbmk2 options seems to reach some final form so it should
> be easy to create it. I haven't tried but I think it should be possible
> to make it quite fast.
> 
>> Pritpal in past have a harbour distribution who integrate xmate so
>> think that he can understand the importance of visual
>> another candidate for integration is xdevstudio but is Spanish only afaik
> 
> The 1-st and most important thing is portability. Such tool should work
> with MS-Windows, MacOSX, Linux and other POSIX systems using X-Windows
> and some portable GUI library like GTK or QT (or even sth older like motif,
> xforms, ...).
> XMate and xDevStudio work only in Windows what strongly reduce their usages.
> XMate is mostly written as .prg code using some xHarbour extensions and
> Windows API library created by Andrzej Wo?. Maybe we can try to contact
> with Andrzej and ask him about multiplatform version of xMate or free
> release at least of part of xMate code which is platform independent so
> we can try to adopt it to HBQT or other portable GUI library for Harbour.
> Maybe even someone asked about it? BTW Who of us last time contact with
> Andrzej? Looking at my mail archive I see that I received last message
> from him on 26 Jul 2007.
> Andrzej if you are reading please answer or send a message to my private
> e-mail address.
> 
>> Other option used for visual path
>> in which way other harbour user find productivity in compile-edit-debug cycle.
> 
> Each of us has own preferences so even if you like some tools then it does
> not have to be usable for other users. But I agree that multiplatform version
> of xMate can be great extension for Harbour community.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From Istvan.Bisz at t-online.hu  Sun Nov 15 10:07:18 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Sun Nov 15 10:07:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12888] trunk/harbour
In-Reply-To: <000501ca65fd$13716410$3a542c30$@Bisz@t-online.hu>
References: <E1N9eTR-0006Lx-Kx@d5vjzd1.ch3.sourceforge.com>	<000401ca65fb$81d38480$857a8d80$@Bisz@t-online.hu>	<79D052F1-CBBC-4C55-BE8A-3783AC3C5E69@syenar.hu>
	<000501ca65fd$13716410$3a542c30$@Bisz@t-online.hu>
Message-ID: <000001ca6605$53125360$f936fa20$@Bisz@t-online.hu>

Hi Viktor,

Your advise solves the build problem.

Now the hbqt trace mechanism works perfectly with DebugView V4.76 on Vista SP2, thank you Pritpal thank you Viktor.

1. the hbqt is build with:
@set HB_USER_PRGFLAGS=-D__HB_DEBUG__ -D__HB_WINDEBUG__
@set HB_USER_CFLAGS=-D__HB_DEBUG__ -D__HB_WINDEBUG__
 
2. the demoqt.exe buliduing command is (windows+mingw):

@set HB_USER_PRGFLAGS=-D__HB_DEBUG__ -D__HB_WINDEBUG__
@set HB_USER_CFLAGS=-D__HB_DEBUG__ -D__HB_WINDEBUG__
hbmk2 -cpp demoqt -lpsapi -lhbwin

3. DebugView started before demoqt.exe

Best regards,
Istv?n


From jlcapel2 at gmail.com  Sun Nov 15 10:16:12 2009
From: jlcapel2 at gmail.com (=?ISO-8859-1?Q?Jos=E9_Luis_Capel?=)
Date: Sun Nov 15 10:16:20 2009
Subject: [Harbour] Partial classes
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F18@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F18@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <ab2a7b4c0911150716l72b69dbfn64818beaba0a3a99@mail.gmail.com>

Hi Chen

Thanks for your answer.

2009/11/15 Chen Kedem <niki@synel.co.il>

> Jos?,
>
> > I would like your opinion about the concept of 'partial class'
>
> This syntax is something I saw in .NET and didn't like it.
> For me it look like a hack MS did to allow the separation of the
> GUI definition file from the code behind file.
>
>
This is what I am looking for: a way to separate visual design code from
programmer code.  Maybe you saw that on C# (this is where I saw).


> A better way would be to sub class MyClass into MyClass2 and add
> everything needed there.
>
> In your sample you have two MyMethod() defined for the same class.
> Which of them will be used? How can the user know that?
>
>
Well... It was only an example and a way to know others opinions different
from me.

Thanks and regards,
Jos? Luis Capel



>
>  Chen.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091115/0dd60990/attachment.html
From Istvan.Bisz at t-online.hu  Sun Nov 15 10:29:04 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Sun Nov 15 10:29:11 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <20091115134712.GA20573@34-mo7-2.home.aster.pl>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<20091115134712.GA20573@34-mo7-2.home.aster.pl>
Message-ID: <000701ca6608$5d6a0080$183e0180$@Bisz@t-online.hu>

Hi,

A visual IDE with a version control system integrated is a minimal requirement for any modern languages.
So +1 xmate+hbqt+svn.

Best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Przemyslaw Czerpak
Sent: 2009. november 15. 14:47
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Edit Compile Debug in visual cycle

On Sun, 15 Nov 2009, Massimo Belgrano wrote:

Hi,

> whem develop in harbour   using xmate by andy wos i have a high productivity
> When compile my sample without xmate i start immediately because i not
> need create xhp for each project
> But when i compile and debug my source  is difficult moving from error to editor
> With xmate i have a high productivity because
> syntax highlight made easy read
> itellisense give  suggestion about my function and his parameter
> if made error when compile goto source/line of error
> i also use [x]harbour languages guide integrated with f1
> So for me is easy the works
> How harbour can facilitate the integration of Xmate?

In the past I suggested to create configuration for XMate which will
use hbmk2 to compile and link programs.
Now the set of hbmk2 options seems to reach some final form so it should
be easy to create it. I haven't tried but I think it should be possible
to make it quite fast.

> Pritpal in past have a harbour distribution who integrate xmate so
> think that he can understand the importance of visual
> another candidate for integration is xdevstudio but is Spanish only afaik

The 1-st and most important thing is portability. Such tool should work
with MS-Windows, MacOSX, Linux and other POSIX systems using X-Windows
and some portable GUI library like GTK or QT (or even sth older like motif,
xforms, ...).
XMate and xDevStudio work only in Windows what strongly reduce their usages.
XMate is mostly written as .prg code using some xHarbour extensions and
Windows API library created by Andrzej Wo?. Maybe we can try to contact
with Andrzej and ask him about multiplatform version of xMate or free
release at least of part of xMate code which is platform independent so
we can try to adopt it to HBQT or other portable GUI library for Harbour.
Maybe even someone asked about it? BTW Who of us last time contact with
Andrzej? Looking at my mail archive I see that I received last message
from him on 26 Jul 2007.
Andrzej if you are reading please answer or send a message to my private
e-mail address.

> Other option used for visual path
> in which way other harbour user find productivity in compile-edit-debug cycle.

Each of us has own preferences so even if you like some tools then it does
not have to be usable for other users. But I agree that multiplatform version
of xMate can be great extension for Harbour community.

best regards,
Przemek
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Sun Nov 15 10:47:40 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Nov 15 10:48:09 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <20091115134712.GA20573@34-mo7-2.home.aster.pl>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com> 
	<20091115134712.GA20573@34-mo7-2.home.aster.pl>
Message-ID: <609353e70911150747n106468a1u2802bccb10120163@mail.gmail.com>

i use follow starting for a array with a list similar to Xmate
FUNCTION CREA_XMATE(filechoice)
   local a_xmate:={},A
   LOCAL X_LOG,X_MATE
   AADD(A_XMATE,"[Version]")
   AADD(A_XMATE,"Type=xMate")
   AADD(A_XMATE,"Number=1.15")
   AADD(A_XMATE,"")
   AADD(A_XMATE,"[Info]")
   AADD(A_XMATE,"Type=Executable")
   AADD(A_XMATE,"Architecture=harbourmingw")
   AADD(A_XMATE,"Include=")
   AADD(A_XMATE,"Define=")
   AADD(A_XMATE,"")
   AADD(A_XMATE,"[xMate]")
   AADD(A_XMATE,"Create Map/List File=No")
   AADD(A_XMATE,"")
   AADD(A_XMATE,"[Project]")
   AADD(A_XMATE,"Run=")
   AADD(A_XMATE,"Params=")
   AADD(A_XMATE,"Final Path=%HOME%")
   AADD(A_XMATE,"Maintain LNK=Yes")
   AADD(A_XMATE,"Default Type=1")
   AADD(A_XMATE,"Error log=")
   AADD(A_XMATE,"")
   AADD(A_XMATE,"[Data Path]")
   AADD(A_XMATE,"Dbf=")
   AADD(A_XMATE,"")
   AADD(A_XMATE,"[Editor]")
   FOR A=1 TO LEN(FILECHOICE)
      AADD(A_XMATE,ALLTRIM(FILECHOICE[A])+"="+STR(A)+",N,N")
   NEXT
   AADD(A_XMATE,"")
   AADD(A_XMATE,"")
   AADD(A_XMATE,"[Files]")
   FOR A=1 TO LEN(FILECHOICE)
      AADD(A_XMATE,ALLTRIM(FILECHOICE[A])+"="+STR(A)+",.F.,0,0,")
   NEXT
   xprjmate=aLltrim(filechoice[1])
   xprjmate=substr(XPRJMATE,1,len(xPRJmate)-4) +".xhp"
   if .not. file(XPRJMATE)
      X_LOG=FCREATE(XPRJMATE)
      FOR a=1 to len(A_XMATE)
         FWRITE(X_LOG,A_XMATE[a]+CHR(13)+CHR(10))
      NEXT

      FCLOSE(X_LOG)
   ENDIF
   RUN(XPRJMATE)
*  returm


--my xmate\harbourmingw.env

[Environment]
Description 1=Harbour + MinGW + DOS
Description 2=
Description 3=
PRG Compiler ver=
C compiler ver=
Subsystem=
Author=GVS
Last update=10/25/2009

[Advanced]
Command types=1,1,1,1,1,1,1,1,1

[Harbour]
HB_INSTALL=C:\HARBOUR\mingw
HB_COMMAND=%HB_BIN_INSTALL%\Harbour.Exe %PRG% /m /n /gc3 /w0 /es2 /b
/i%HB_INC_INSTALL%
Option prefix=/

[C]
C_INSTALL=C:\devl\MinGW
C_COMP_COMMAND=%C_BIN_INSTALL%\gcc.exe%CRLF% -I%HB_INC_INSTALL%%CRLF%
-Wall -W -O3 -march=i586 -mtune=pentiumpro -c %C% -o%OBJ%
C_LIB_COMMAND=%C_BIN_INSTALL%\ar.exe -M < %RSP%
C_LINK_COMMAND=%C_BIN_INSTALL%\gcc.exe -o%EXE% -Wall -W -O3
-march=i586 -mtune=pentiumpro -mwindows %LNK%
C_RC_COMMAND=%C_BIN_INSTALL%\windres.exe -i %RC% -o %RES%
C_DLL_COMMAND=
Option prefix=-

[User]
POSTEXE_COMMAND=
POSTLIB_COMMAND=
POSTDLL_COMMAND=

[Files]
%HB_LIB_INSTALL%\libxhb.a=1
%HB_LIB_INSTALL%\libgtcgi.a=2
%HB_LIB_INSTALL%\libgtgui.a=3
%HB_LIB_INSTALL%\libgtpca.a=4
%HB_LIB_INSTALL%\libgtstd.a=5
%HB_LIB_INSTALL%\libgtwin.a=6
%HB_LIB_INSTALL%\libgtwvg.a=7
%HB_LIB_INSTALL%\libgtwvt.a=8
%HB_LIB_INSTALL%\libhbbmcdx.a=9
%HB_LIB_INSTALL%\libhbbtree.a=10
%HB_LIB_INSTALL%\libhbclipsm.a=11
%HB_LIB_INSTALL%\libhbcommon.a=12
%HB_LIB_INSTALL%\libhbcpage.a=13
%HB_LIB_INSTALL%\libhbcplr.a=14
%HB_LIB_INSTALL%\libhbct.a=15
%HB_LIB_INSTALL%\libhbdebug.a=16
%HB_LIB_INSTALL%\libhbgt.a=17
%HB_LIB_INSTALL%\libhbhsx.a=18
%HB_LIB_INSTALL%\libhblang.a=19
%HB_LIB_INSTALL%\libhbmacro.a=20
%HB_LIB_INSTALL%\libhbmisc.a=21
%HB_LIB_INSTALL%\libhbnf.a=22
%HB_LIB_INSTALL%\libhbodbc.a=23
%HB_LIB_INSTALL%\libhbpcre.a=24
%HB_LIB_INSTALL%\libhbpp.a=25
%HB_LIB_INSTALL%\libhbrdd.a=26
%HB_LIB_INSTALL%\libhbrtl.a=27
%HB_LIB_INSTALL%\libhbsix.a=28
%HB_LIB_INSTALL%\libhbtip.a=29
%HB_LIB_INSTALL%\libhbusrrdd.a=30
%HB_LIB_INSTALL%\libhbvmmt.a=31
%HB_LIB_INSTALL%\libhbwin.a=32
%HB_LIB_INSTALL%\librddado.a=33
%HB_LIB_INSTALL%\librddcdx.a=34
%HB_LIB_INSTALL%\librddfpt.a=35
%HB_LIB_INSTALL%\librddntx.a=36
%HB_LIB_INSTALL%\libhbsqlit3.a=37
%C_LIB_INSTALL%\libolesvr32.a=38
%C_LIB_INSTALL%\libole32.a=39
%C_LIB_INSTALL%\liboleacc.a=40
%C_LIB_INSTALL%\liboleaut32.a=41
%C_LIB_INSTALL%\libolecli32.a=42
%C_LIB_INSTALL%\liboledlg.a=43
%C_LIB_INSTALL%\libolepro32.a=44
%C_LIB_INSTALL%\libuuid.a=45
%C_LIB_INSTALL%\libwinspool.a=46
%C_LIB_INSTALL%\libgdi32.a=47
%C_LIB_INSTALL%\libcomctl32.a=48
%C_LIB_INSTALL%\libcomdlg32.a=49

--my xmate\harbourmsvc2008.env
[Environment]
Description 1=Microsoft + Harbour
Description 2=for multigt application
Description 3=
PRG Compiler ver=hb 1.1
C compiler ver=
Subsystem=
Author=
Last update=02/23/2009

[Advanced]
Command types=1,1,1,1,1,1,1,1,1

[Harbour]
HB_INSTALL=C:\harbour\msvc
HB_COMMAND=%HB_BIN_INSTALL%\Harbour.Exe %PRG% /m /n /gc0 /w1 /es2
/i%HB_INC_INSTALL%
Option prefix=/

[C]
C_INSTALL=C:\Programmis\Microsoft Visual Studio 9.0\VC
C_COMP_COMMAND=%C_BIN_INSTALL%\cl.exe /nologo -TP -W3 -c /GA
-I%HB_INC_INSTALL% -I"C:\Programmi\Microsoft SDKs\Windows\v6.0A\include"
-I%C_INC_INSTALL%  /Fo%OBJ% %C%%CRLF%
C_LIB_COMMAND=%C_BIN_INSTALL%\Lib.Exe /nologo /out:%LIB% @%RSP%
C_LINK_COMMAND=%C_BIN_INSTALL%\Link.Exe  @%LNK% /nologo /subsystem:windows
/force:multiple /NODEFAULTLIB:libc  /LIBPATH:%C_LIB_INSTALL%
/LIBPATH:"C:\Programmi\Microsoft SDKs\Windows\v6.0A\include"
/NODEFAULTLIB:libc
C_RC_COMMAND=C:\Programmi\Microsoft SDKs\Windows\v6.0A\bin\rc.Exe -r
-d__FLAT__ -d__MSVC__ -i%HOME%\resource -i"c:\programmi\Microsoft
SDKs\Windows\v6.0A\include" -i%C_INC_INSTALL% -fo%RES%  %RC%%CRLF%
C_DLL_COMMAND=
Option prefix=-

[User]
POSTEXE_COMMAND=
POSTLIB_COMMAND=
POSTDLL_COMMAND=

[Files]
%HB_LIB_INSTALL%\hbrtl.lib=2
%HB_LIB_INSTALL%\hbvmmt.lib=3
%HB_LIB_INSTALL%\hblang.lib=4
%HB_LIB_INSTALL%\hbmacro.lib=5
%HB_LIB_INSTALL%\hbrdd.lib=6
%HB_LIB_INSTALL%\rddntx.lib=7
%HB_LIB_INSTALL%\rddcdx.lib=8
%HB_LIB_INSTALL%\rddfpt.lib=9
%HB_LIB_INSTALL%\hbcommon.lib=10
%HB_LIB_INSTALL%\hbpp.lib=11
%HB_LIB_INSTALL%\hbsix.lib=12
%HB_LIB_INSTALL%\gtwvg.Lib=13
%HB_LIB_INSTALL%\hbct.lib=14
%HB_LIB_INSTALL%\hbpcre.lib=15
%HB_LIB_INSTALL%\hbusrrdd.lib=16
%HB_LIB_INSTALL%\hbwin.lib=17
%HB_LIB_INSTALL%\hbtip.lib=18
%HB_LIB_INSTALL%\hbmzip.lib=19
%HB_LIB_INSTALL%\hbzlib.lib=20
%HB_LIB_INSTALL%\hbziparc.lib=21
%HB_LIB_INSTALL%\gtcgi.lib=25
%HB_LIB_INSTALL%\gtgui.lib=26
%HB_LIB_INSTALL%\gtwin.lib=27
%HB_LIB_INSTALL%\gtwvt.lib=28
%HB_LIB_INSTALL%\hbnf.lib=29
%HB_LIB_INSTALL%\xhb.lib=29
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\Kernel32.Lib=21
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\User32.Lib=22
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\Gdi32.Lib=23
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\WinSpool.Lib=24
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\ComCtl32.Lib=25
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\ComDlg32.Lib=26
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\AdvAPI32.Lib=27
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\shell32.lib=28
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\Ole32.Lib=29
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\OleAut32.Lib=30
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\Uuid.Lib=31
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\odbc32.lib=32
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\odbccp32.lib=33
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\IPHlpApi.Lib=34
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\Mpr.Lib=35
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\Version.Lib=36
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\WSock32.Lib=37
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\MSImg32.Lib=38

[DLL Files]
%HB_LIB_INSTALL%\hbrtl.lib=2
%HB_LIB_INSTALL%\hbvm.lib=3
%HB_LIB_INSTALL%\gtwin.lib=4
%HB_LIB_INSTALL%\hblang.lib=5
%HB_LIB_INSTALL%\hbmacro.lib=6
%HB_LIB_INSTALL%\hbrdd.lib=7
%HB_LIB_INSTALL%\rddntx.lib=8
%HB_LIB_INSTALL%\rddcdx.lib=9
%HB_LIB_INSTALL%\hbdebug.lib=10
%HB_LIB_INSTALL%\hbcommon.lib=11
%HB_LIB_INSTALL%\hbpp.lib=12
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\Kernel32.Lib=21
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\User32.Lib=22
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\Gdi32.Lib=23
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\WinSpool.Lib=24
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\ComCtl32.Lib=25
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\ComDlg32.Lib=26
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\AdvAPI32.Lib=27
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\shell32.lib=28
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\Ole32.Lib=29
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\OleAut32.Lib=30
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\Uuid.Lib=31
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\odbc32.lib=32
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\odbccp32.lib=33
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\IPHlpApi.Lib=34
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\Mpr.Lib=35
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\Version.Lib=36
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\WSock32.Lib=37
c:\programmi\Microsoft SDKs\Windows\v6.0A\Lib\MSImg32.Lib=38

2009/11/15 Przemys?aw Czerpak <druzus@acn.waw.pl>:
> On Sun, 15 Nov 2009, Massimo Belgrano wrote:
>
> Hi,
>
>> whem develop in harbour ? using xmate by andy wos i have a high productivity
>> When compile my sample without xmate i start immediately because i not
>> need create xhp for each project
>> But when i compile and debug my source ?is difficult moving from error to editor
>> With xmate i have a high productivity because
>> syntax highlight made easy read
>> itellisense give ?suggestion about my function and his parameter
>> if made error when compile goto source/line of error
>> i also use [x]harbour languages guide integrated with f1
>> So for me is easy the works
>> How harbour can facilitate the integration of Xmate?
>
> In the past I suggested to create configuration for XMate which will
> use hbmk2 to compile and link programs.
> Now the set of hbmk2 options seems to reach some final form so it should
> be easy to create it. I haven't tried but I think it should be possible
> to make it quite fast.
>
>> Pritpal in past have a harbour distribution who integrate xmate so
>> think that he can understand the importance of visual
>> another candidate for integration is xdevstudio but is Spanish only afaik
>
> The 1-st and most important thing is portability. Such tool should work
> with MS-Windows, MacOSX, Linux and other POSIX systems using X-Windows
> and some portable GUI library like GTK or QT (or even sth older like motif,
> xforms, ...).
> XMate and xDevStudio work only in Windows what strongly reduce their usages.
> XMate is mostly written as .prg code using some xHarbour extensions and
> Windows API library created by Andrzej Wo?. Maybe we can try to contact
> with Andrzej and ask him about multiplatform version of xMate or free
> release at least of part of xMate code which is platform independent so
> we can try to adopt it to HBQT or other portable GUI library for Harbour.
> Maybe even someone asked about it? BTW Who of us last time contact with
> Andrzej? Looking at my mail archive I see that I received last message
> from him on 26 Jul 2007.
> Andrzej if you are reading please answer or send a message to my private
> e-mail address.
>
>> Other option used for visual path
>> in which way other harbour user find productivity in compile-edit-debug cycle.
>
> Each of us has own preferences so even if you like some tools then it does
> not have to be usable for other users. But I agree that multiplatform version
> of xMate can be great extension for Harbour community.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Sun Nov 15 10:56:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 15 10:56:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12889] trunk/harbour
Message-ID: <E1N9hSf-0007pp-7U@bj8yhf1.ch3.sourceforge.com>

Revision: 12889
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12889&view=rev
Author:   vszakats
Date:     2009-11-15 15:56:19 +0000 (Sun, 15 Nov 2009)

Log Message:
-----------
2009-11-15 16:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_misc.prg
    ! Added missing common.ch.

  * config/beos/gcc.mk
  * config/global.mk
  * config/bsd/gcc.mk
  * config/bin.mk
  * config/wce/mingwarm.mk
  * config/wce/poccarm.mk
  * config/wce/msvcarm.mk
  * config/darwin/gcc.mk
  * config/darwin/icc.mk
  * config/darwin/clang.mk
  * config/hpux/gcc.mk
  * config/dos/watcom.mk
  * config/dos/djgpp.mk
  * config/win/xcc.mk
  * config/win/mingw.mk
  * config/win/pocc.mk
  * config/win/bcc.mk
  * config/win/watcom.mk
  * config/win/icc.mk
  * config/win/cygwin.mk
  * config/win/msvc.mk
  * config/linux/watcom.mk
  * config/linux/gcc.mk
  * config/linux/icc.mk
  * config/linux/sunpro.mk
  * config/os2/watcom.mk
  * config/os2/gcc.mk
  * config/sunos/gcc.mk
  * config/sunos/sunpro.mk
    * Changed build system to add HB_USER_LIBS to the beginning of the 
      lib list, just like in hbmk2.
      Please test, I didn't restest this feature in all targets.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/beos/gcc.mk
    trunk/harbour/config/bin.mk
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/darwin/clang.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/darwin/icc.mk
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/config/global.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/config/linux/icc.mk
    trunk/harbour/config/linux/sunpro.mk
    trunk/harbour/config/linux/watcom.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/config/sunos/gcc.mk
    trunk/harbour/config/sunos/sunpro.mk
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/config/win/cygwin.mk
    trunk/harbour/config/win/icc.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/config/win/pocc.mk
    trunk/harbour/config/win/watcom.mk
    trunk/harbour/config/win/xcc.mk
    trunk/harbour/contrib/hbqt/hbqt_misc.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Nov 15 11:00:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 15 11:00:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12890]
	trunk/harbour/ChangeLog
Message-ID: <E1N9hWd-0007uw-Og@bj8yhf1.ch3.sourceforge.com>

Revision: 12890
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12890&view=rev
Author:   vszakats
Date:     2009-11-15 16:00:26 +0000 (Sun, 15 Nov 2009)

Log Message:
-----------
Added this NOTE to latest ChangeLog entry:

    ; NOTE: The only real world use of this feature that I know of 
            is to inject CodeGuard lib (cg32) to bcc build process.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Sun Nov 15 12:12:17 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sun Nov 15 12:13:54 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>	<20091115134712.GA20573@34-mo7-2.home.aster.pl>
	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>
Message-ID: <4B003671.5000806@dbtopas.lt>

Hi,


Viktor Szak?ts wrote:
> While I'm comfortable at the command line, I couldn't yet 
> find an alternative for Far Manager on *nix systems.

Midnight commander is equivalent on Linux.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Sun Nov 15 13:03:43 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 15 13:03:58 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <4B003671.5000806@dbtopas.lt>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>	<20091115134712.GA20573@34-mo7-2.home.aster.pl>
	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>
	<4B003671.5000806@dbtopas.lt>
Message-ID: <D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>


On 2009 Nov 15, at 18:12, Mindaugas Kavaliauskas wrote:

> Hi,
> 
> 
> Viktor Szak?ts wrote:
>> While I'm comfortable at the command line, I couldn't yet find an alternative for Far Manager on *nix systems.
> 
> Midnight commander is equivalent on Linux.

It's supposed to be, but in practice it's just can't 
work nearly that smoothly. F.e. even PgUp/PgDn died 
(or maybe it never worked) to navigate, I have to 
press Esc twice to exit a View/Edit window, Insert 
key doesn't work, the editor is quite limited in comparison. 
There are several dozens of such annoyances and most 
of them are probably not MC specific but inherent to 
all *nix CUI apps. Or, MC developers simply just don't 
care of these matters, or I'd have to get used to this 
clumsier environment and new/longer key shortcuts, 
and it eventually would get better. I'm trying since 
many years, but so far no success. In 95% of cases I 
end up using plain cmdline instead. To make it worse, 
MC behaves slightly differently depending on the account 
I use, depending on the OS/Terminal app I use, many 
times these differences seriously influence the way 
keys are handled and how output is presented (CP, 
colors). Executing cmds from cmdline always seems to 
put MC in a strange status where I usually have to 
quit it. Etc, etc, etc. All in all, it has a long way 
to come even close to Far Manager. And I didn't mention 
Unicode files or CP issues.

Could be I'm just too stupid to "get" all the quirks 
of *nix CUI app behavior, but to me it looks like one 
of those things that I believe should work a lot 
smoother in this day and age. And I mean, out of the box.

Probably the root of many issues is that *nix terminal 
seems to have a hard time utilizing lots of otherwise 
accessible key combinations, like Shift+Cursor, Insert, 
or Alt+Key.

Brgds,
Viktor

From dbtopas at dbtopas.lt  Sun Nov 15 13:35:57 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sun Nov 15 13:37:33 2009
Subject: [Harbour] OLE objects syntax...
In-Reply-To: <6943770e0911150141w37b3377cu422f3f554d8b4b4d@mail.gmail.com>
References: <6943770e0911141709u74775d24m9e570755eb10808b@mail.gmail.com>	<4AFF5B69.8020900@dbtopas.lt>
	<6943770e0911150141w37b3377cu422f3f554d8b4b4d@mail.gmail.com>
Message-ID: <4B004A0D.4010203@dbtopas.lt>

Hi,


> #ifdef FIRST1
>     oPdfApp:cOption( "UseAutoSave" ) := 1 // Compiler error
> #endif
> #ifdef FIRST2
>     oPdfApp:cOption( "UseAutoSave" , 1 )  // runtime error
> #endif
> //

I've used OleView.exe to see PDFCreator methods. It shows:
[id(0x68030009), propget]
HRESULT cOption([in] BSTR PropertyName, [out, retval] VARIANT*);

[id(0x68030009), propput]
HRESULT cOption([in] BSTR PropertyName, [in] VARIANT);

In current OLE implementation, messages without leading underscore call 
OLE using DISPATCH_PROPERTYGET | DISPATCH_METHOD, and with leading 
underscore using DISPATCH_PROPERTYPUT (with fall back to method 
containing underscore inside name, if OLE method name contains 
underscore itself).

The situation you presented is a lack of supported syntax in xBase world 
for object:method(param) := value

This can be solved by using "_" in front of method to force 
DISPATCH_PROPERTYPUT. So,
    oPdfApp:_cOption( "UseAutoSave" , 1 )
do the job.

I'm not sure if these lines are still valid in this case, since we have 
more than 1 paramter:
          dispparam.rgdispidNamedArgs = &lPropPut;
          dispparam.cNamedArgs = 1;
What is purpose of these if we define DISPATCH_PROPERTYPUT as Invoke() 
parameter? We need some OLE guru here.

Does anyone have a suggestion how to solve this DISPATCH_PROPERTYPUT, 
DISPATCH_PROPERTYGET problem using Harbour syntax. I do not like 
xHarbour behaviour at all. It tries to call methods in various ways:
both using DISPATCH_PROPERTYGET and DISPATCH_PROPERTYPUT, both with and 
without underscore, thus programmer is totally out of control if he 
wants to assign or access a property.


> // Error BASE/3012  Argument error: COPTION
> // Called from WIN_OLEAUTO:COPTION(0)
> // Called from SAMPLE(42)

The real error code is 0x8002000E DISP_E_BADPARAMCOUNT

It would be nice to have real OLE error code instead of 3012, but the 
problem is that error codes are USHORT and OLE errors are ULONG (with 
significant part in upper word). The similar situation is in ADS error 
codes. They has UNSIGNED32 type, but are small values, so no problem to 
cast to USHORT. Can we have ULONG (or LONG) for error subcode and OS 
code? It seems a simple change. hb_errRT_*() already accepts ULONG, we 
have to change hb_err[Get|Put]SubCode() only.


> // SECOND SOLUTION:
> //  use the helper object to set the value, then assign the helper object
> //  to a member of the main class
>     oPdfOptions:UseAutoSave :=  1   // it's ok
> 
> // BUT THEN I NEED TO ASSIGN
>     oPdfApp:cOptions := oPdfOptions  // runtime error
> // Error BASE/3012  Argument error: _COPTIONS
> // Called from WIN_OLEAUTO:_COPTIONS(0)
> // Called from SAMPLE(60)

The real error here is 0x80020003 DISP_E_MEMBERNOTFOUND

[id(0x68030007, propputref]
HRESULT cOptions([in] _clsPDFCreatorOptions* );

It seams the problem is we use DISPATCH_PROPERTYPUT instead of 
DISPATCH_PROPERTYPUTREF, but I completely do not know what is the 
difference between these and how to map Harbour syntax to OLE calls.

An easy (but I do not know if it is correct) way to solve this problem 
is to use DISPATCH_PROPERTYPUT | DISPATCH_PROPERTYPUTREF instead of 
DISPATCH_PROPERTYPUT in Invoke() call. Actually we use such technique on 
access: DISPATCH_PROPERTYGET | DISPATCH_METHOD. But my suggestion is a 
shoot in the dark.


Regards,
Mindaugas

P.S. just to summarize. Any comments on:
1) unsigned long error subcode
2) object:method(param) := value syntax
3) Harbour <-> OLE call mapping
are welcome.

From dbtopas at dbtopas.lt  Sun Nov 15 13:48:32 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sun Nov 15 13:50:08 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>	<20091115134712.GA20573@34-mo7-2.home.aster.pl>	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>
Message-ID: <4B004D00.8090803@dbtopas.lt>

Hi,


Viktor Szak?ts wrote:
> It's supposed to be, but in practice it's just can't 
> work nearly that smoothly. F.e. even PgUp/PgDn died 
> (or maybe it never worked) to navigate, I have to 
> press Esc twice to exit a View/Edit window, Insert 
> key doesn't work, the editor is quite limited in comparison. 

PgUp/PgDn is OK here. Insert is also working (switches between insert 
and overwrite mode). Yes, I need two ESC to exit.

> Executing cmds from cmdline always seems to 
> put MC in a strange status where I usually have to 
> quit it. 

Me too. Sometimes I have a feeling it is because of Ctrl-O. If I hide a 
panels and execute a command. It seems MC start a separate shell, or 
something like that.

> Could be I'm just too stupid to "get" all the quirks 
> of *nix CUI app behavior

Actually, I thought all these problems are only my problems.

I have an idea, that double ESC, not working Insert key (in you case), o 
some random "~[23;" in command line is the problem of terminal settings. 
I'm using PuTTY, but I do not know how to configure it. I guess unix 
gurus has a quick solution to these problems, but I've never tried to 
look for it.

Since I see the same files both on Windows mapped drive and on Samba 
share, I do not use MC to edit .prg, or .c code a lot. Of cause, 
dos2unix call is sometimes annoying.


Regards,
Mindaugas


From harbour.01 at syenar.hu  Sun Nov 15 13:54:30 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Nov 15 13:54:40 2009
Subject: [Harbour] OLE objects syntax...
In-Reply-To: <4B004A0D.4010203@dbtopas.lt>
References: <6943770e0911141709u74775d24m9e570755eb10808b@mail.gmail.com>	<4AFF5B69.8020900@dbtopas.lt>
	<6943770e0911150141w37b3377cu422f3f554d8b4b4d@mail.gmail.com>
	<4B004A0D.4010203@dbtopas.lt>
Message-ID: <1B9A6D80-47F0-4687-863D-CEE7F132E48D@syenar.hu>

>> // Error BASE/3012  Argument error: COPTION
>> // Called from WIN_OLEAUTO:COPTION(0)
>> // Called from SAMPLE(42)
> 
> The real error code is 0x8002000E DISP_E_BADPARAMCOUNT
> 
> It would be nice to have real OLE error code instead of 3012, but the problem is that error codes are USHORT and OLE errors are ULONG (with significant part in upper word). The similar situation is in ADS error codes. They has UNSIGNED32 type, but are small values, so no problem to cast to USHORT. Can we have ULONG (or LONG) for error subcode and OS code? It seems a simple change. hb_errRT_*() already accepts ULONG, we have to change hb_err[Get|Put]SubCode() only.

Yes, it would be a good thing to change gencode, 
subcode and oscode to 32-bit.

I'd suggest using some abstract type in this case f.e. 
HB_ERROR or HB_ERRCODE, or some others from the new 
types, like HB_U32.

Plain ULONG/LONG isn't very good as we'd need to change them 
later anyway.

But, I'm not sure if mapping system error codes directly 
to Harbour gencode is a good idea. It seems to be better 
to put these codes to oscode, or subcode.

Brgds,
Viktor

From druzus at acn.waw.pl  Sun Nov 15 16:42:46 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Nov 15 16:42:53 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <4B004D00.8090803@dbtopas.lt>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<20091115134712.GA20573@34-mo7-2.home.aster.pl>
	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>
	<4B004D00.8090803@dbtopas.lt>
Message-ID: <20091115214246.GA4813@34-mo7-2.home.aster.pl>

On Sun, 15 Nov 2009, Mindaugas Kavaliauskas wrote:

Hi,

> Viktor Szak?ts wrote:
> >It's supposed to be, but in practice it's just can't work nearly
> >that smoothly. F.e. even PgUp/PgDn died (or maybe it never worked)
> >to navigate, I have to press Esc twice to exit a View/Edit window,
> >Insert key doesn't work, the editor is quite limited in
> >comparison.
> PgUp/PgDn is OK here. Insert is also working (switches between
> insert and overwrite mode). Yes, I need two ESC to exit.

All keys works as expected. Double ESC is standard slang feature
which can be used to emulate some exotic for some terminals key
combinatios, i.e. ESC + 1 => F1.
Anyhow in general is not MC but terminal configuration problem though
MC has additional extensions which allows to "fix" some bugs even in
really broken terminal descriptions.

> >Executing cmds from cmdline always seems to put MC in a strange
> >status where I usually have to quit it.
> Me too. Sometimes I have a feeling it is because of Ctrl-O. If I
> hide a panels and execute a command. It seems MC start a separate
> shell, or something like that.

It works perfectly for me. The behavior strictly depends on used terminal.
If MC is working with pure Linux or FreeBSD console then the behavior is
in practice the same as in Norton Commander in DOS. For these terminals
MC can detect previous screen contents (of course if is correctly configured
and system supports necessary extensions, i.e. vcsa devices in Linux.
MC also detects XTERM terminals (using TERM envvar) and in such case it
can also set/restore screen context for executed applications (CTRL+O)
so if you are using some terminal emulators in XWindow then I suggest
to use sth compatible with XTerm. Personally I prefer PTerm which is
part of PuTTY for Linux and other *nixes which is really good terminal
emulator and allows to easy use the same configuration for different
OS-es but of course you can use anything you like though in such case
please double check configuration switches. The main problem is the fact
that we have at least 4 incompatible keyboard sequences in different
XTerm implementations and they have to be synced between terminal emulator
and program executed in such emulator (i.e. MC).

It's also good to know that MC executed programs in pseudoterminal and
it allocates only one pseudoterminal. User can switch between program
executed in pseduoterminal and MC panels using CTRL+O what is not possible
in DOS and often confuse DOS users. Hitting CTRL+O does not freeze bkg
process so if you type new command then it will not be executed as long as
the old one will not have finished. It's important to understand that
shell is also such process. In Norton Commander the command line is part
of NC code not a SHELL so works with completely different conditions.
In MC if you hit CTRL+O then hit any key then once again CTRL+O to return
to MC you will not be able to execute any new command because these "any
key" activated SHELL and as long as you do not hit ENTER new commands
executing is blocked. After ENTER new command (if not empty) is executed
and just before accepting new input SHELL process is STOPped using STOP
signal. MC uses very simple trick with PROMPT_COMMAND to reach this effect
and be informed about the status of bkg SHELL.
In summary it's very simple and clear as long as you know how it works
and also very flexible so it's hard to returned to DOS or Windows and
use Norton Commander or FAR Manager.

> >Could be I'm just too stupid to "get" all the quirks of *nix CUI
> >app behavior
> Actually, I thought all these problems are only my problems.

Please define precisely what is the exact problem and I'll try to help you.

> I have an idea, that double ESC, not working Insert key (in you
> case), o some random "~[23;" in command line is the problem of
> terminal settings. I'm using PuTTY, but I do not know how to
> configure it. I guess unix gurus has a quick solution to these
> problems, but I've never tried to look for it.

MC does not recognize all escape key sequences and unrecognized are simply
not decoded i.e. SHIFT+F11 => 23;2~

> Since I see the same files both on Windows mapped drive and on Samba
> share, I do not use MC to edit .prg, or .c code a lot. Of cause,
> dos2unix call is sometimes annoying.

I use only LF.

best regards,
Przemek
From Istvan.Bisz at t-online.hu  Sun Nov 15 17:07:21 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Sun Nov 15 17:07:27 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <20091115214246.GA4813@34-mo7-2.home.aster.pl>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>	<20091115134712.GA20573@34-mo7-2.home.aster.pl>	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>	<4B003671.5000806@dbtopas.lt>	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
Message-ID: <000301ca6640$012d0c30$03872490$@Bisz@t-online.hu>

Hi,

Is hard to explain to everybody why is necessary to implement a new modern environment to develop something. As I see, is not this list goal at all. If we are reducing our argues to some key combinations, is far away from our goals. So, please be flexible to go from an old to a new approach. Sorry, these are my first reactions.
Istv?n


From druzus at acn.waw.pl  Sun Nov 15 17:08:40 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Nov 15 17:08:47 2009
Subject: [Harbour] OLE objects syntax...
In-Reply-To: <1B9A6D80-47F0-4687-863D-CEE7F132E48D@syenar.hu>
References: <6943770e0911141709u74775d24m9e570755eb10808b@mail.gmail.com>
	<4AFF5B69.8020900@dbtopas.lt>
	<6943770e0911150141w37b3377cu422f3f554d8b4b4d@mail.gmail.com>
	<4B004A0D.4010203@dbtopas.lt>
	<1B9A6D80-47F0-4687-863D-CEE7F132E48D@syenar.hu>
Message-ID: <20091115220840.GB4813@34-mo7-2.home.aster.pl>

On Sun, 15 Nov 2009, Szak?ts Viktor wrote:
> >> // Error BASE/3012  Argument error: COPTION
> >> // Called from WIN_OLEAUTO:COPTION(0)
> >> // Called from SAMPLE(42)
> > The real error code is 0x8002000E DISP_E_BADPARAMCOUNT
> > It would be nice to have real OLE error code instead of 3012, but the problem is that error codes are USHORT and OLE errors are ULONG (with significant part in upper word). The similar situation is in ADS error codes. They has UNSIGNED32 type, but are small values, so no problem to cast to USHORT. Can we have ULONG (or LONG) for error subcode and OS code? It seems a simple change. hb_errRT_*() already accepts ULONG, we have to change hb_err[Get|Put]SubCode() only.
> Yes, it would be a good thing to change gencode, 
> subcode and oscode to 32-bit.
> I'd suggest using some abstract type in this case f.e. 
> HB_ERROR or HB_ERRCODE, or some others from the new 
> types, like HB_U32.
> Plain ULONG/LONG isn't very good as we'd need to change them 
> later anyway.
> But, I'm not sure if mapping system error codes directly 
> to Harbour gencode is a good idea. It seems to be better 
> to put these codes to oscode, or subcode.

Viktor,

The bad thing with abstracted types is the fact the it makes creating
interface between Harbour and other tools harder.
As long as Harbour uses well known types then it's quite easy.
When I have a function in some library which needs as parameter variable as
type 'abc' and returns result as type 'xyz' and I can see exactly the same
types in harbour public functions then creating the wrapper is trivial.
In the moment when we introduce our own new types then we create new
possible problems for many users who have to create some simple extensions
in C. And this is sth what causes that I want to delay this moment as long
as possible. Just simply I'm nearly sure that it will break much more things
then resolve current problems which seems to be really minor in comparison
to potential problems which will be created by users ;-)

In this case I agree that final type for error codes should be existing
HB_ERRCODE and this type should be converted to 'unsigned int' but before
you will change it please check all places in the Harbour SVN which will
be effected by such modification. We have to well know them. I'm mostly
interested in all structures and function parameters which may use USHORT
so they have to be converted to HB_ERRCODE. And of course we will have to
eliminate casting added to pacify MSVC warnings in code like:
      uiOsErrorLast = ( USHORT ) GetLastError();
Such modification fully breaks any binary compatibility in some subsystems
like GT or RDD so if we want to make it then it should be done ASAP before
final 2.0.
So as 1-st step I suggest to systematically replace all USHORT used
in error code context with HB_ERRCODE without changing the HB_ERRCODE
definition.

best regards,
Przemek
From harbour.01 at syenar.hu  Sun Nov 15 17:20:52 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 15 17:21:02 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <000301ca6640$012d0c30$03872490$@Bisz@t-online.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>	<20091115134712.GA20573@34-mo7-2.home.aster.pl>	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>	<4B003671.5000806@dbtopas.lt>	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<000301ca6640$012d0c30$03872490$@Bisz@t-online.hu>
Message-ID: <EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>

> Hi,
> 
> Is hard to explain to everybody why is necessary to implement a new modern environment to develop something. As I see, is not this list goal at all. If we are reducing our argues to some key combinations, is far away from our goals. So, please be flexible to go from an old to a new approach. Sorry, these are my first reactions.
> Istv?n

Don't be mistaken, the MC discussion is just a side-track, pretty much off topic, 
but of course I'd be personally interested in boosting my *nix env using existing 
tools.

Anyhow a GUI IDE of some sort can be a logical next goal for Harbour development. 
I mean, if someone wants to develop such thing keeping in mind our overall goals 
(like portability), I'd certainly not stop him. Personally though I'd rather 
concentrate on core features, we're still missing quite many important bits 
(native UNICODE, SQL stuff, XML support, GTNET). So it's more important IMO to 
provide all the necessary bits in Harbour core to enable developers to create 
such an IDE in a relatively easy way.

IDE is typically a sub-project which can be done quite well separated from 
core Harbour, in parallel with core development. Given there are developers willing 
to spend time on it.

Another related area where Harbour could catch up is missing Harbour/Clipper 
support in several well-known and widely used editors, and also the source code 
scanner ohloh.net is using. Such additions would be great for the language.
(Similarly to a proper wikipedia article). TextEdit (on OS X), JEdit, kate, 
etc. Adding support to these editors is another great way to help developers. 
After all Python, Ruby or Mono also don't have any IDEs built by core team, 
yet they manage quite well on the popularity lists.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Nov 15 17:25:53 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 15 17:26:04 2009
Subject: [Harbour] OLE objects syntax...
In-Reply-To: <20091115220840.GB4813@34-mo7-2.home.aster.pl>
References: <6943770e0911141709u74775d24m9e570755eb10808b@mail.gmail.com>
	<4AFF5B69.8020900@dbtopas.lt>
	<6943770e0911150141w37b3377cu422f3f554d8b4b4d@mail.gmail.com>
	<4B004A0D.4010203@dbtopas.lt>
	<1B9A6D80-47F0-4687-863D-CEE7F132E48D@syenar.hu>
	<20091115220840.GB4813@34-mo7-2.home.aster.pl>
Message-ID: <61E62CFC-D2E7-4A34-A509-943AF1DF559A@syenar.hu>

Hi Przemek,

> Viktor,
> 
> The bad thing with abstracted types is the fact the it makes creating
> interface between Harbour and other tools harder.
> As long as Harbour uses well known types then it's quite easy.
> When I have a function in some library which needs as parameter variable as
> type 'abc' and returns result as type 'xyz' and I can see exactly the same
> types in harbour public functions then creating the wrapper is trivial.
> In the moment when we introduce our own new types then we create new
> possible problems for many users who have to create some simple extensions
> in C. And this is sth what causes that I want to delay this moment as long
> as possible. Just simply I'm nearly sure that it will break much more things
> then resolve current problems which seems to be really minor in comparison
> to potential problems which will be created by users ;-)

My basic proposition is to use HB_ prefixed types instead of 
current Windows names, which seems quite harmless (except a 
few, but important corner cases, like HB_ULONG). I'd like it 
even better if we'd use _plain C types_ wherever possible. 
That would make 3rd party developers the most happy I guess. 
And I agree that we should only use abstract Harbour types 
if they really makes sense, and only then (f.e. HB_SIZE).

> In this case I agree that final type for error codes should be existing
> HB_ERRCODE and this type should be converted to 'unsigned int' but before
> you will change it please check all places in the Harbour SVN which will
> be effected by such modification. We have to well know them. I'm mostly
> interested in all structures and function parameters which may use USHORT
> so they have to be converted to HB_ERRCODE. And of course we will have to
> eliminate casting added to pacify MSVC warnings in code like:
>      uiOsErrorLast = ( USHORT ) GetLastError();
> Such modification fully breaks any binary compatibility in some subsystems
> like GT or RDD so if we want to make it then it should be done ASAP before
> final 2.0.

Okay.

> So as 1-st step I suggest to systematically replace all USHORT used
> in error code context with HB_ERRCODE without changing the HB_ERRCODE
> definition.

Fine, I agree.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Sun Nov 15 17:26:41 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Sun Nov 15 17:26:46 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>	<20091115134712.GA20573@34-mo7-2.home.aster.pl>	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>	<4B003671.5000806@dbtopas.lt>	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>	<4B004D00.8090803@dbtopas.lt>	<20091115214246.GA4813@34-mo7-2.home.aster.pl>	<000301ca6640$012d0c30$03872490$@Bisz@t-online.hu>
	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>
Message-ID: <000401ca6642$b4d6a140$1e83e3c0$@Bisz@t-online.hu>

Sorry, for my first blow-up...

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. november 15. 23:21
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Edit Compile Debug in visual cycle

> Hi,
> 
> Is hard to explain to everybody why is necessary to implement a new modern environment to develop something. As I see, is not this list goal at all. If we are reducing our argues to some key combinations, is far away from our goals. So, please be flexible to go from an old to a new approach. Sorry, these are my first reactions.
> Istv?n

Don't be mistaken, the MC discussion is just a side-track, pretty much off topic, 
but of course I'd be personally interested in boosting my *nix env using existing 
tools.

Anyhow a GUI IDE of some sort can be a logical next goal for Harbour development. 
I mean, if someone wants to develop such thing keeping in mind our overall goals 
(like portability), I'd certainly not stop him. Personally though I'd rather 
concentrate on core features, we're still missing quite many important bits 
(native UNICODE, SQL stuff, XML support, GTNET). So it's more important IMO to 
provide all the necessary bits in Harbour core to enable developers to create 
such an IDE in a relatively easy way.

IDE is typically a sub-project which can be done quite well separated from 
core Harbour, in parallel with core development. Given there are developers willing 
to spend time on it.

Another related area where Harbour could catch up is missing Harbour/Clipper 
support in several well-known and widely used editors, and also the source code 
scanner ohloh.net is using. Such additions would be great for the language.
(Similarly to a proper wikipedia article). TextEdit (on OS X), JEdit, kate, 
etc. Adding support to these editors is another great way to help developers. 
After all Python, Ruby or Mono also don't have any IDEs built by core team, 
yet they manage quite well on the popularity lists.

Brgds,
Viktor

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sun Nov 15 17:35:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 15 17:36:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12891] trunk/harbour
Message-ID: <E1N9nhO-0005ji-OQ@bj8yhf1.ch3.sourceforge.com>

Revision: 12891
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12891&view=rev
Author:   vszakats
Date:     2009-11-15 22:35:57 +0000 (Sun, 15 Nov 2009)

Log Message:
-----------
2009-11-15 23:33 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/errapi.c
    ! Typo in comment.
    * Deleted unnecessary casting.
    % Minor opt in hb_errPutOperation() string parameter defaulting.

  * ChangeLog
  * contrib/hbqt/hbqt_misc.prg
  * contrib/hbxbp/xbpgeneric.prg
    % Minor opt.
    ! Fixed variable name prefixes of STATIC/THREAD STATIC vars.
    ! Fixed to create mutex directly in STATIC var assignment instead of INIT function.
    % Fixed to use hb_releaseCPU() instead of hb_idleSleep( 0.01 ).
      Notice that latter actually slows down execution unnecessarily, 
      so it should only be used when we do actually want to wait.

  * contrib/hbxbp/tests/demoxbp.prg
    ! Eliminated warnings after latest changes.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt_misc.prg
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/src/rtl/errapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Nov 15 17:39:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 15 17:39:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12892] trunk/harbour
Message-ID: <E1N9nkZ-0005mi-7b@bj8yhf1.ch3.sourceforge.com>

Revision: 12892
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12892&view=rev
Author:   vszakats
Date:     2009-11-15 22:39:14 +0000 (Sun, 15 Nov 2009)

Log Message:
-----------
2009-11-15 23:38 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    + Added HB_ERRCODE. Currently the same as USHORT. Will be 
      changed to 'unsigned int' once all USHORT types have been 
      converted to HB_ERRCODE (where applicable).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Nov 15 17:42:00 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 15 17:42:11 2009
Subject: [Harbour] OLE objects syntax...
In-Reply-To: <20091115220840.GB4813@34-mo7-2.home.aster.pl>
References: <6943770e0911141709u74775d24m9e570755eb10808b@mail.gmail.com>
	<4AFF5B69.8020900@dbtopas.lt>
	<6943770e0911150141w37b3377cu422f3f554d8b4b4d@mail.gmail.com>
	<4B004A0D.4010203@dbtopas.lt>
	<1B9A6D80-47F0-4687-863D-CEE7F132E48D@syenar.hu>
	<20091115220840.GB4813@34-mo7-2.home.aster.pl>
Message-ID: <864AFB6C-588A-4119-A2B8-74251EC74DCE@syenar.hu>

> In this case I agree that final type for error codes should be existing
> HB_ERRCODE and this type should be converted to 'unsigned int' but before
> you will change it please check all places in the Harbour SVN which will
> be effected by such modification. We have to well know them. I'm mostly
> interested in all structures and function parameters which may use USHORT
> so they have to be converted to HB_ERRCODE. And of course we will have to
> eliminate casting added to pacify MSVC warnings in code like:
>      uiOsErrorLast = ( USHORT ) GetLastError();
> Such modification fully breaks any binary compatibility in some subsystems
> like GT or RDD so if we want to make it then it should be done ASAP before
> final 2.0.
> So as 1-st step I suggest to systematically replace all USHORT used
> in error code context with HB_ERRCODE without changing the HB_ERRCODE
> definition.

One addition to that: Since we're already using ULONG to store error 
codes in a few places (found internal error code so far), we should 
also change these, but only after we've changed HB_ERRCODE to unsigned int.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Nov 15 18:01:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 15 18:01:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12893] trunk/harbour
Message-ID: <E1N9o6L-00012M-7T@c3vjzd1.ch3.sourceforge.com>

Revision: 12893
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12893&view=rev
Author:   vszakats
Date:     2009-11-15 23:01:44 +0000 (Sun, 15 Nov 2009)

Log Message:
-----------
2009-11-16 00:01 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    - Deleted HB_ERRCODE. It already existed as HB_ERRCODE, 
      mainly used in RDD. That makes this change a bit more 
      complicated than I thought. Plus two more issues:
      1) Some places use ULONG already to pass error code, 
         changing these to HB_ERRCODE will instantly break 
         binary compatibility.
      2) I wonder if DOSERROR() and friends will stay compatible 
         after moving to ULONG HB_ERRCODE.
    ; Please comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Sun Nov 15 18:07:10 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Sun Nov 15 18:07:18 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <000401ca6642$b4d6a140$1e83e3c0$@Bisz@t-online.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>	<20091115134712.GA20573@34-mo7-2.home.aster.pl>	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>	<4B003671.5000806@dbtopas.lt>	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>	<4B004D00.8090803@dbtopas.lt>	<20091115214246.GA4813@34-mo7-2.home.aster.pl>	<000301ca6640$012d0c30$03872490$@Bisz@t-online.hu>	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>
	<000401ca6642$b4d6a140$1e83e3c0$@Bisz@t-online.hu>
Message-ID: <000501ca6648$5ca1da70$15e58f50$@Bisz@t-online.hu>

Hi Viktor,

As I see now, our common harbour project is viable just in the case of integration an IDE offering the modern features.
I don't want to list them, as I see they are known by you. 

Best regards,
Istv?n


From vszakats at users.sourceforge.net  Sun Nov 15 18:15:09 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 15 18:15:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12894] trunk/harbour
Message-ID: <E1N9oJJ-0001FC-B3@c3vjzd1.ch3.sourceforge.com>

Revision: 12894
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12894&view=rev
Author:   vszakats
Date:     2009-11-15 23:15:08 +0000 (Sun, 15 Nov 2009)

Log Message:
-----------
2009-11-16 00:14 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed typo in generated .c stub. It could cause that 
      some automatic initializations didn't work for some 
      compilers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Nov 15 18:31:12 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 15 18:31:21 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <000501ca6648$5ca1da70$15e58f50$@Bisz@t-online.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>	<20091115134712.GA20573@34-mo7-2.home.aster.pl>	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>	<4B003671.5000806@dbtopas.lt>	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>	<4B004D00.8090803@dbtopas.lt>	<20091115214246.GA4813@34-mo7-2.home.aster.pl>	<000301ca6640$012d0c30$03872490$@Bisz@t-online.hu>	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>
	<000401ca6642$b4d6a140$1e83e3c0$@Bisz@t-online.hu>
	<000501ca6648$5ca1da70$15e58f50$@Bisz@t-online.hu>
Message-ID: <FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu>

> Hi Viktor,
> 
> As I see now, our common harbour project is viable just in the case of integration an IDE offering the modern features.
> I don't want to list them, as I see they are known by you. 

They are, and while I still think a programming language 
like Harbour can be useful and usable in a lots of ways 
without a self-developed IDE or "Visual" IDE, such IDE 
should be developed by someone in the first place.

Usefulness isn't really the question here. Although for 
the fun of it, we may start to brainstorm what would be 
the most important properties of a good Harbour IDE.

To me:
0) Availability on OS X, Linux and Windows x86 and x64.
1) Very good editor with block editing capability, syntax 
   highlighting, possibly "intellisense". Project-wide 
   search and replace. Support for all CPs Harbour supports.
2) Integration with VCS.
3) Integrated build tool.
4) Integrated project management.

Brgds,
Viktor

From druzus at acn.waw.pl  Sun Nov 15 21:14:22 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Nov 15 21:14:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12893] trunk/harbour
In-Reply-To: <E1N9o6L-00012M-7T@c3vjzd1.ch3.sourceforge.com>
References: <E1N9o6L-00012M-7T@c3vjzd1.ch3.sourceforge.com>
Message-ID: <20091116021422.GA7829@34-mo7-2.home.aster.pl>

On Sun, 15 Nov 2009, vszakats@users.sourceforge.net wrote:

Hi,

>   * include/hbdefs.h
>     - Deleted HB_ERRCODE. It already existed as HB_ERRCODE, 
>       mainly used in RDD. That makes this change a bit more 
>       complicated than I thought. Plus two more issues:
>       1) Some places use ULONG already to pass error code, 
>          changing these to HB_ERRCODE will instantly break 
>          binary compatibility.
>       2) I wonder if DOSERROR() and friends will stay compatible 
>          after moving to ULONG HB_ERRCODE.
>     ; Please comment.

I've wrote in previous message that HB_ERRCODE is already existing type.
ULONG used in hb_errRT*() functions can be replaced by HB_ERRCODE without
any problem because all such ULONG values are simply casted to USHORT in
current code. This modification finally breaks binary compatibility,
HB_ERRCODE is a value returned by each RDD method and most of public
GT functions so we can join it with other modifications introduced recently
which also broke binary compatibility.

I do not understand why you are asking for DOSERROR() function. For sure
when we increase the range of error codes then it stops to be exactly
Clipper compatible but we can say the same about error codes in error
object and at the beginning of this discussion we decided to change it
and drop strict Clipper compatibility. Anyhow DOSERROR() is a little bit
specific and it should be declared internally as 'int' (current SHORT
definition is wrong) because it should allow to return any value just
like main() or WinMain() function.

best regards,
Przemek
From druzus at acn.waw.pl  Sun Nov 15 21:39:01 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Nov 15 21:39:09 2009
Subject: [Harbour] dbcreate  error 1010 windows vista64
In-Reply-To: <025C0E55-7F12-4427-83EA-F359279DC9DC@syenar.hu>
References: <1257910657633-3984226.post@n2.nabble.com>
	<20091113202732.GD30089@34-mo7-2.home.aster.pl>
	<025C0E55-7F12-4427-83EA-F359279DC9DC@syenar.hu>
Message-ID: <20091116023901.GA8179@34-mo7-2.home.aster.pl>

On Fri, 13 Nov 2009, Szak?ts Viktor wrote:

Hi,

> I think it's merely a write permission problem.
> It'd fail the same way under XP with a restricted 
> user account.

Yes, it's possible anyhow this error code is generated from
hb_dbfReadRecord() and it should not happen for new files
created by dbCreate() because hb_dbfCalcRecCount() should
return 0. And it's the reason why I asked about replicating
exact conditions.
In the past I've found that some versions MS-Windows network clients
had serious bugs and when file was open, then closed and new file
with the same name was created then MS-Windows were returning the
size and body of old file from cache. It was happening only when
files were accessed remotely in exclusive mode.

dbCreate() can perfectly exploit this problem and the description
I read suggested that such situation has happened so probably we
can expect similar bug reports in the future and it will be good
to check exact MS-Windows version used on client and server side
to create some FAQ about it.

best regards,
Przemek
From bedipritpal at hotmail.com  Sun Nov 15 21:46:58 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Nov 15 21:47:04 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<20091115134712.GA20573@34-mo7-2.home.aster.pl>
	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<000301ca6640$012d0c30$03872490$@Bisz@t-online.hu>
	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>
	<000401ca6642$b4d6a140$1e83e3c0$@Bisz@t-online.hu>
	<000501ca6648$5ca1da70$15e58f50$@Bisz@t-online.hu>
	<FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu>
Message-ID: <26366151.post@talk.nabble.com>


Hello Viktor, All


Viktor Szak?ts wrote:
> 
> To me:
> 0) Availability on OS X, Linux and Windows x86 and x64.
> 1) Very good editor with block editing capability, syntax 
>    highlighting, possibly "intellisense". Project-wide 
>    search and replace. Support for all CPs Harbour supports.
> 2) Integration with VCS.
> 3) Integrated build tool.
> 4) Integrated project management.
> 

I have an idea how to accomlish it.
Can you forward the location and name to this project.
To me it is 

harbour/contrin/hbxbp/manager
hbmanager.prg => hbmanager.exe

The project will shape up based on pure prg levels
and hbxbp.lib as its class framework. 

BTW I have tried something and it seems that it is doable.
Once we agree on the name and location, possibly within a 
week I may be able to commit first impressions, nothing fancy, 
but still will show up the prototype.

Any suggessions are welcome.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/Edit-Compile-Debug-in-visual-cycle-tp26358161p26366151.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Sun Nov 15 21:58:28 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Nov 15 21:58:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12860] trunk/harbour
In-Reply-To: <5F055337-4A38-4163-B454-82149A0B24E5@syenar.hu>
References: <E1N7uTC-0004B5-QE@bj8yhf1.ch3.sourceforge.com>
	<B9DDF56C-DC1F-4E48-8B04-B4888027308E@syenar.hu>
	<20091110182304.GA1915@34-mo7-2.home.aster.pl>
	<86EE8107-06B3-46C5-AD12-D95B42E2C13E@syenar.hu>
	<20091113201928.GB30089@34-mo7-2.home.aster.pl>
	<5F055337-4A38-4163-B454-82149A0B24E5@syenar.hu>
Message-ID: <20091116025828.GB8179@34-mo7-2.home.aster.pl>

On Fri, 13 Nov 2009, Szak?ts Viktor wrote:

Hi,

> All I can do is reupload the ones done with Clipper. 
> I hope someone will be able to make the tests.

Thank you very much.

> I'm still not sure what we're testing here? Whether 
> cpinfo.prg and Harbour CP engine is correct? Sorry 
> for my ignorance.

The problem is only with human readable form.
When TOVERIFY is left then it's possible that this form does not
exactly replicate Clipper's CP conditions.
The verification process is trivial and I think Harbour developers
should know it because it may be necessary for some new CPs.
Let's look at current cpde850.c:


   #define HB_CP_ID        DE850
   #define HB_CP_INFO      "German CP-850 (ntxger.obj compatible)"
   #define HB_CP_UNITB     HB_UNITB_850
   #define HB_CP_ACSORT    HB_CDP_ACSORT_NONE
   #define HB_CP_UPPER     "A?BCDEFGHIJKLMNO?PQRS TU?VWXYZ"
   #define HB_CP_LOWER     "a?bcdefghijklmno?pqrs?tu?vwxyz"

   #if 0 /* TOVERIFY: binary tables */

   #define HB_CP_RAW

   static const unsigned char s_flags[ 256 ] = { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,6,0,0,6,0,0,0,0,0,0,0,0,0,10,0,0,0,0,0,6,0,0,0,0,10,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 };
   static const unsigned char s_upper[ 256 ] = { 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,123,124,125,126,127,128,154,130,131,142,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,153,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255 };
   static const unsigned char s_lower[ 256 ] = { 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,132,143,144,145,146,147,148,149,150,151,152,148,129,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255 };
   static const unsigned char s_sort [ 256 ] = { 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,67,68,69,70,71,72,73,74,75,76,77,78,79,80,82,83,84,85,86,87,89,90,91,92,93,94,95,96,97,98,99,100,102,103,104,105,106,107,108,109,110,111,112,113,114,115,117,118,119,120,122,123,125,126,127,128,129,130,131,132,133,134,135,124,136,137,101,138,139,140,141,142,143,144,145,146,66,147,148,149,150,151,116,152,153,154,155,81,88,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,121,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255 };

   #endif

   /* include CP registration code */
   #include "hbcdpreg.h"


by default human readable form is used. If this form is correct then
if we execute cpinfo compiled by Harbour for above DE850 codepage then
it should generate exactly the same file which will have static tables
with binary CP definitions equal.

So I'm simply making:
   cpinfo DE850
and it generates new cpde850.c file. Then I compare this file with the one
from SVN:
   diff -u cpde850.c SVN/harbour/src/codepage/cpde850.c
   --- cpde850.c   2009-11-16 03:50:03.000000000 +0100
   +++ SVN/harbour/harbour/src/codepage/cpde850.c     2009-11-14 05:08:19.000000000 +0100
   @@ -1,5 +1,5 @@
    /*
   - * $Id: cpinfo.prg 12872 2009-11-14 15:00:50Z druzus $
   + * $Id: cpde850.c 12870 2009-11-14 03:58:36Z vszakats $
     */

Only $Id$ is different in above files so we are sure that human readable form
is correct because using it we can create binary tables for CP definitions
which are exactly the same as used in Clipper.

I've just wrote a simply scripts which verified that:
   de850, dk865, es850c, fi850, fr850, gr437, hu852, hu852c,
   is850, is861, it850, nl850, no865, pt860, sv850
are correct so we can safely remove TOVERIFY from them.

best regards,
Przemek
From cvc at oohg.org  Sun Nov 15 22:31:19 2009
From: cvc at oohg.org (Ciro Vargas C)
Date: Sun Nov 15 22:31:26 2009
Subject: [Harbour] c compiler ?
Message-ID: <d6500b450911151931v20b88641s6a1254280c5c76e0@mail.gmail.com>

Hi all:

any way to know what compiler has been used  at compile time in PRG level ?

TIA
Ciro


-- 
http://www.oohg.prg
http://sistemascvc.tripod.com

donaciones para CVC de ooHG

https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
From sscc at mweb.co.za  Mon Nov 16 02:06:11 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Nov 16 02:06:18 2009
Subject: [Harbour] SSL
In-Reply-To: <FBAF7D39-ECA1-4769-B749-038F31A4B3EF@syenar.hu>
References: <4AFD7697.2020208@mweb.co.za>
	<FBAF7D39-ECA1-4769-B749-038F31A4B3EF@syenar.hu>
Message-ID: <4B00F9E3.3000303@mweb.co.za>

Viktor Szak?ts wrote:

> Unfortunately not. I had not touched the certificate topic yet.

No problem, thanks again.

Regards
Alex

From sscc at mweb.co.za  Mon Nov 16 02:08:21 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Nov 16 02:08:30 2009
Subject: [Harbour] SSL
In-Reply-To: <4AFD8151.1090402@drouillard.ca>
References: <4AFD7697.2020208@mweb.co.za> <4AFD8151.1090402@drouillard.ca>
Message-ID: <4B00FA65.801@mweb.co.za>

Gerald Drouillard wrote:

> Another approach is consider using the curl support. For us it works great.

Thanks, I probably will. Are you using the exe or the library?

wget.exe does not appear to support adding a pass key on the command line. I 
think curl.exe does, I would appreciate a heads up if you use it that way.

Thanks and regards
Alex

From mbelgrano at deltain.it  Mon Nov 16 02:36:12 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov 16 02:36:41 2009
Subject: [Harbour] c compiler ?
In-Reply-To: <d6500b450911151931v20b88641s6a1254280c5c76e0@mail.gmail.com>
References: <d6500b450911151931v20b88641s6a1254280c5c76e0@mail.gmail.com>
Message-ID: <609353e70911152336v3c18344ai43a40580d1c4677e@mail.gmail.com>

i not remember but is present in tests\hbtest.prg

2009/11/16 Ciro Vargas C <cvc@oohg.org>:
> Hi all:
>
> any way to know what compiler has been used ?at compile time in PRG level ?
>
> TIA
> Ciro
>
>
> --
> http://www.oohg.prg
> http://sistemascvc.tripod.com
>
> donaciones para CVC de ooHG
>
> https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Mon Nov 16 02:58:04 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov 16 02:58:32 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <26366151.post@talk.nabble.com>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com> 
	<20091115134712.GA20573@34-mo7-2.home.aster.pl>
	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu> 
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu> 
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl> 
	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>
	<FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu> 
	<26366151.post@talk.nabble.com>
Message-ID: <609353e70911152358k1833e612j202bef37cfc160d4@mail.gmail.com>

I can suggest the open source way scintilla http://www.scintilla.org/
same licenze exception of harbour
A free source code editing component for Win32 and GTK+

But hope that Przemek or samebody send a mail to Andy Wos,Vailton
Renato to join effort with a ready to use and good solution



2009/11/16 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hello Viktor, All
>
>
> Viktor Szak?ts wrote:
>>
>> To me:
>> 0) Availability on OS X, Linux and Windows x86 and x64.
>> 1) Very good editor with block editing capability, syntax
>> ? ?highlighting, possibly "intellisense". Project-wide
>> ? ?search and replace. Support for all CPs Harbour supports.
>> 2) Integration with VCS.
>> 3) Integrated build tool.
>> 4) Integrated project management.
>>
>
> I have an idea how to accomlish it.
> Can you forward the location and name to this project.
> To me it is
>
> harbour/contrin/hbxbp/manager
> hbmanager.prg => hbmanager.exe
>
> The project will shape up based on pure prg levels
> and hbxbp.lib as its class framework.
>
> BTW I have tried something and it seems that it is doable.
> Once we agree on the name and location, possibly within a
> week I may be able to commit first impressions, nothing fancy,
> but still will show up the prototype.
>
> Any suggessions are welcome.
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context: http://old.nabble.com/Edit-Compile-Debug-in-visual-cycle-tp26358161p26366151.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Nov 16 03:08:12 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 16 03:08:25 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <26366151.post@talk.nabble.com>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<20091115134712.GA20573@34-mo7-2.home.aster.pl>
	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<000301ca6640$012d0c30$03872490$@Bisz@t-online.hu>
	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>
	<000401ca6642$b4d6a140$1e83e3c0$@Bisz@t-online.hu>
	<000501ca6648$5ca1da70$15e58f50$@Bisz@t-online.hu>
	<FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu>
	<26366151.post@talk.nabble.com>
Message-ID: <A83F6BD5-993E-4479-90BA-CC023A8AFA6B@syenar.hu>

Hi Pritpal,

My proposition is:
/contrib/hbide/

We can discuss about the name (we can even give 
it a fancier name later), but IMO it should 
not be buried under hbxbp dir structure and it 
should start with 'hb'.

Brgds,
Viktor

On 2009 Nov 16, at 03:46, Pritpal Bedi wrote:

> 
> Hello Viktor, All
> 
> 
> Viktor Szak?ts wrote:
>> 
>> To me:
>> 0) Availability on OS X, Linux and Windows x86 and x64.
>> 1) Very good editor with block editing capability, syntax 
>>   highlighting, possibly "intellisense". Project-wide 
>>   search and replace. Support for all CPs Harbour supports.
>> 2) Integration with VCS.
>> 3) Integrated build tool.
>> 4) Integrated project management.
>> 
> 
> I have an idea how to accomlish it.
> Can you forward the location and name to this project.
> To me it is 
> 
> harbour/contrin/hbxbp/manager
> hbmanager.prg => hbmanager.exe
> 
> The project will shape up based on pure prg levels
> and hbxbp.lib as its class framework. 
> 
> BTW I have tried something and it seems that it is doable.
> Once we agree on the name and location, possibly within a 
> week I may be able to commit first impressions, nothing fancy, 
> but still will show up the prototype.
> 
> Any suggessions are welcome.
> 
> Regards
> Pritpal Bedi
> 
> -- 
> View this message in context: http://old.nabble.com/Edit-Compile-Debug-in-visual-cycle-tp26358161p26366151.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From niki at synel.co.il  Mon Nov 16 03:20:41 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Nov 16 03:20:52 2009
Subject: [Harbour] bcc build
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F1B@Mail-yoq.SYNEL-COMPANY.LTD>

Rev12894, BCC32, WinNT4.0
These are not a new issue, but this is the first time I report it.

1) Running: win-make clean
Does not remove these files (all other Harbour files in that directory get deleted):

bin/win/bcc/harbour-20-bcc.tds
bin/win/bcc/harbourmt-20-bcc.tds

2) I don't know if this is intended or not, but these file are recreated only if I manually delete them (they are not recreated after each clean build):

bin/hbmk2.hu_HU.hbl
bin/hbmk2.pt_BR.hbl

3) Trying to build Harbour with CodeGuard fail when trying to create
harbour-20-bcc.dll and harbourmt-20-bcc.dll because of missing cg32.lib
The attached modified config/win/bcc.mk fix this issue and Harbour is built
and run with CodeGuard without errors.
These is one little thingy left, I set HB_USER_LIBS=cg32 and I can see that
because of my patch, cg32.lib is included twice when building harbour.exe,
hbrun.exe, ...

../../../HARBOUR.C:
ilink32.exe  -L"C:\PROGRA~1\Borland\CBUILD~1\Bin\..\Lib" -L"C:\PROGRA~1\Borland\CBUILD~1\Bin\..\Lib\PSDK" -Gn -Tpe    c0x32.obj harbour.obj, ..\..\..\..\..\bin\win\bcc\harbour.exe, nul, cg32.lib ..\..\..\..\..\lib\win\bcc\cg32.lib ..\..\..\..\..\lib\win\bcc\hbcplr.lib ..\..\..\..\..\lib\win\bcc\hbpp.lib ..\..\..\..\..\lib\win\bcc\hbnortl.lib ..\..\..\..\..\lib\win\bcc\hbcommon.lib kernel32.lib user32.lib ws2_32.lib advapi32.lib gdi32.lib cw32mt.lib import32.lib

When compiling with CodeGuard (-vG) there are 3 places that require inclusion
of the bloody cg32.lib:
Regular Harbour utilities, Harbour DLL's, Harbour shared version utilities.


Thanks for your patience,

  Chen.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: BCC_MK.ZIP
Type: application/x-zip-compressed
Size: 1551 bytes
Desc: BCC_MK.ZIP
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091116/4d83c7cf/BCC_MK.bin
From niki at synel.co.il  Mon Nov 16 03:30:58 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Nov 16 03:31:06 2009
Subject: [Harbour] c compiler ?
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F1C@Mail-yoq.SYNEL-COMPANY.LTD>

Ciro,

> any way to know what compiler has been used  at compile time in PRG level ?

HB_Compiler()

  Chen.
From vszakats at users.sourceforge.net  Mon Nov 16 03:53:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 16 03:53:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12895] trunk/harbour
Message-ID: <E1N9xKW-0006SW-J8@bj8yhf1.ch3.sourceforge.com>

Revision: 12895
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12895&view=rev
Author:   vszakats
Date:     2009-11-16 08:52:59 +0000 (Mon, 16 Nov 2009)

Log Message:
-----------
2009-11-16 09:52 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/beos/gcc.mk
  * config/bsd/gcc.mk
  * config/wce/mingwarm.mk
  * config/wce/poccarm.mk
  * config/wce/msvcarm.mk
  * config/darwin/gcc.mk
  * config/darwin/icc.mk
  * config/darwin/clang.mk
  * config/hpux/gcc.mk
  * config/dos/watcom.mk
  * config/dos/djgpp.mk
  * config/win/xcc.mk
  * config/win/mingw.mk
  * config/win/pocc.mk
  * config/win/bcc.mk
  * config/win/watcom.mk
  * config/win/icc.mk
  * config/win/cygwin.mk
  * config/win/msvc.mk
  * config/linux/gcc.mk
  * config/os2/watcom.mk
  * config/os2/gcc.mk
  * config/sunos/gcc.mk
  * config/sunos/sunpro.mk
    + Added HB_USER_LIBS support to dynamic libs.

  * config/globsh.mk
    ! Attempt to fix dynamic lib .tds deletion on clean for bcc.

  * src/codepage/cpno865.c
  * src/codepage/cphu852c.c
  * src/codepage/cpfr850.c
  * src/codepage/cpde850.c
  * src/codepage/cpit850.c
    + Marked as VERIFIED.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/beos/gcc.mk
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/darwin/clang.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/darwin/icc.mk
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/config/globsh.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/config/sunos/gcc.mk
    trunk/harbour/config/sunos/sunpro.mk
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/config/win/cygwin.mk
    trunk/harbour/config/win/icc.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/config/win/pocc.mk
    trunk/harbour/config/win/watcom.mk
    trunk/harbour/config/win/xcc.mk
    trunk/harbour/src/codepage/cpde850.c
    trunk/harbour/src/codepage/cpfr850.c
    trunk/harbour/src/codepage/cphu852c.c
    trunk/harbour/src/codepage/cpit850.c
    trunk/harbour/src/codepage/cpno865.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Nov 16 03:54:16 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 16 03:54:27 2009
Subject: [Harbour] bcc build
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F1B@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F1B@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1262E97E-4F6D-4D93-B01B-9CDBC4237A55@syenar.hu>

Hi Chen,

> 2) I don't know if this is intended or not, but these file are recreated only if I manually delete them (they are not recreated after each clean build):
> 
> bin/hbmk2.hu_HU.hbl
> bin/hbmk2.pt_BR.hbl

They should be recreated on each install, and 
clean doesn't clean them, this is currently normal.

These are created in postinst phase by hbmk2, 
as .hbl (and also resources) are not supported 
by core Harbour build system ATM.

Thanks for your reports/patch, I committed fixes 
for the rest, pls retest.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Mon Nov 16 04:35:47 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Mon Nov 16 04:36:00 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>	<20091115134712.GA20573@34-mo7-2.home.aster.pl>	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>	<4B003671.5000806@dbtopas.lt>	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>	<4B004D00.8090803@dbtopas.lt>	<20091115214246.GA4813@34-mo7-2.home.aster.pl>	<000301ca6640$012d0c30$03872490$@Bisz@t-online.hu>	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>	<000401ca6642$b4d6a140$1e83e3c0$@Bisz@t-online.hu>	<000501ca6648$5ca1da70$15e58f50$@Bisz@t-online.hu>
	<FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu>
Message-ID: <000f01ca66a0$2de36c00$89aa4400$@Bisz@t-online.hu>

> To me:
> 0) Availability on OS X, Linux and Windows x86 and x64.
> 1) Very good editor with block editing capability, syntax 
>    highlighting, possibly "intellisense". Project-wide 
>    search and replace. Support for all CPs Harbour supports.
     ( syntax highlighting for: prg, c and cpp )
> 2) Integration with VCS.
> 3) Integrated build tool.
  3.1) Integrated debugger.
> 4) Integrated project management.

Best regards,
Istv?n


From harbour.01 at syenar.hu  Mon Nov 16 05:24:52 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 16 05:27:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12893] trunk/harbour
In-Reply-To: <20091116021422.GA7829@34-mo7-2.home.aster.pl>
References: <E1N9o6L-00012M-7T@c3vjzd1.ch3.sourceforge.com>
	<20091116021422.GA7829@34-mo7-2.home.aster.pl>
Message-ID: <E2DA7306-091C-40D2-8229-FD6A85AAC80B@syenar.hu>

> I do not understand why you are asking for DOSERROR() function. For sure
> when we increase the range of error codes then it stops to be exactly
> Clipper compatible but we can say the same about error codes in error
> object and at the beginning of this discussion we decided to change it
> and drop strict Clipper compatibility. Anyhow DOSERROR() is a little bit
> specific and it should be declared internally as 'int' (current SHORT
> definition is wrong) because it should allow to return any value just
> like main() or WinMain() function.

If I set it to int, there will be places where truncation will 
be going to happen when HB_ERRCODE (like oscode) is assigned to 
dos error.

Or, we can as well define HB_ERRCODE also as simple int.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Nov 16 05:32:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 16 05:32:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12896] trunk/harbour
Message-ID: <E1N9yt8-0002Yg-D2@74yxhf1.ch3.sourceforge.com>

Revision: 12896
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12896&view=rev
Author:   vszakats
Date:     2009-11-16 10:32:49 +0000 (Mon, 16 Nov 2009)

Log Message:
-----------
2009-11-16 11:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/common/hbffind.c
  * src/rtl/fscopy.c
  * src/rtl/fserr.c
  * src/rtl/hbfeof.c
  * src/rtl/errapi.c
  * src/rtl/hbsocket.c
  * src/rtl/filesys.c
  * src/rtl/philes.c
  * src/rtl/dirdrive.c
  * src/rtl/filebuf.c
  * src/rtl/hbproces.c
  * include/hbstack.h
  * include/hbapifs.h
  * include/hbapierr.h
    * Changed USHORT type for error codes to HB_ERRCODE.
    + More or less changed int type of Extend/Item API call to 
      long type to prepare for HB_ERRCODE change to ULONG.
    ; TODO: Rename variables to reflect new type.
    ; TODO: Change internal error code from ULONG to HB_ERRCODE.
    ; TODO: Inspect rest of Harbour like above. I've only dealt with 
            rtl, vm.
    ; TODO: hbnetio protocol needs to be modified to pass errcode 
            as 32 bit value.
    ; NOTE: There is still disagreement in code in few places 
            in error type and 'int' is used internally, f.e. 
            sockets, some internal OS code conversion funtions.
    ; TODO: Different topic, but we use a lot of USHORTs to 
            store modes, tries, severity, operation, flags and
            few other things which would better be stored as 
            simple int probably.
    ; Please review me.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapierr.h
    trunk/harbour/include/hbapifs.h
    trunk/harbour/include/hbstack.h
    trunk/harbour/src/common/hbffind.c
    trunk/harbour/src/rtl/dirdrive.c
    trunk/harbour/src/rtl/errapi.c
    trunk/harbour/src/rtl/filebuf.c
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/fscopy.c
    trunk/harbour/src/rtl/fserr.c
    trunk/harbour/src/rtl/hbfeof.c
    trunk/harbour/src/rtl/hbproces.c
    trunk/harbour/src/rtl/hbsocket.c
    trunk/harbour/src/rtl/philes.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vatzct at polly.com.ua  Mon Nov 16 05:53:08 2009
From: vatzct at polly.com.ua (vatzct)
Date: Mon Nov 16 05:52:57 2009
Subject: [Harbour] cpinfo and UA codepage
In-Reply-To: <20091113204330.GE30089@34-mo7-2.home.aster.pl>
References: <4AFAC3D6.3000006@polly.com.ua>
	<20091113204330.GE30089@34-mo7-2.home.aster.pl>
Message-ID: <4B012F14.9070609@polly.com.ua>

Przemys?aw Czerpak ???????(??):
> BTW I'm surprised that Ukrainian, Turkish, Serbian, Russian, Greek and
> some other users haven't reported the problems for such long time.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>   
New cpinfo and UA with
Harbour Build Info
---------------------------
Version: Harbour 2.0.0beta3 (Rev. 12894)
Compiler: MinGW GNU C 3.4.5 (32-bit)
Platform: Windows XP 5.1.2600 Service Pack 1
PCode version: 0.2
ChangeLog last entry: 2009-11-16 00:14 UTC+0100 Viktor Szakats 
(harbour.01 syena
r.hu)
ChangeLog ID: ChangeLog 12894 2009-11-15 23:15:08Z vszakats

Built on: Nov 16 2009 08:33:21
Build options:
Language options: (Clipper 5.3) (Clipper 5.x undoc) (Xbase++) (Flagship)


11/16/09 12:17:08 Windows XP 5.1.2600 Service Pack 1 Harbour 2.0.0beta3 
(Rev. 12894)
Character encoding: UA866
==================================================
      upper: "ABCDEFGH???????????I????????????????????????JKLMNOPQRSTUVWXYZ"
      lower: "abcdefgh???????????i????????????????????????jklmnopqrstuvwxyz"
==================================================

11/16/09 12:18:03 Windows XP 5.1.2600 Service Pack 1 Harbour 2.0.0beta3 
(Rev. 12894)
Character encoding: UA1125
==================================================
      upper: "?????????????????????????????????????"
      lower: "?????????????????????????????????????"
==================================================

11/16/09 12:18:33 Windows XP 5.1.2600 Service Pack 1 Harbour 2.0.0beta3 
(Rev. 12894)
Character encoding: UAKOI8
==================================================
letters are not sorted continuously
Warning: irregular CP which needs special definition in Harbour
         using binary tables generated by this program
      upper: "??????????????????????????????? ?????"
      lower: "?????????????????????????????????????"
==================================================

11/16/09 12:18:46 Windows XP 5.1.2600 Service Pack 1 Harbour 2.0.0beta3 
(Rev. 12894)
Character encoding: UA1251
==================================================
      upper: "?????????????????????????????????????"
      lower: "???????????????????????????????????? "
==================================================


1. UA866 contain cyrillic and latin characters other only cyrillic, is 
it normal?
2. In UA866 GHE WITH UPTURN is absent. (in UA866 is 36 cyrillic 
characters, in other 37).

Regards,
Alexey Myronenko
From niki at synel.co.il  Mon Nov 16 06:08:57 2009
From: niki at synel.co.il (Chen Kedem)
Date: Mon Nov 16 06:09:06 2009
Subject: [Harbour] Re: bcc build
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F1B@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F1B@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F1E@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

Tested with Rev12895:

1) Fixed - bin/win/bcc/harbour-20-bcc.tds and bin/win/bcc/harbourmt-20-bcc.tds
are now removed as part of clean.

>> 2) I don't know if this is intended or not, but these file are recreated only if I
>> manually delete them (they are not recreated after each clean build):
>>
>> bin/hbmk2.hu_HU.hbl
>> bin/hbmk2.pt_BR.hbl
>
> They should be recreated on each install, and
> clean doesn't clean them, this is currently normal.
>
> These are created in postinst phase by hbmk2,
> as .hbl (and also resources) are not supported
> by core Harbour build system ATM.

Date and time of these file are NOT changed after install, so I can only assume
these are not re-built during install if they are already exists.

3) Fixed - Harbour can be built with or without CodeGuard.

  Chen.
From e.m.giordano at emagsoftware.it  Mon Nov 16 06:27:35 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Mon Nov 16 06:27:43 2009
Subject: [Harbour] Error in latest SVN
Message-ID: <3761A6629EF94B8BA6C43515A2F6842D@emag>

Error E2356 ../../../errapi.c 984: Type mismatch in redeclaration of 
'hb_errRT_SubstParams'
Error E2344 ../../../../../include\hbapierr.h 156: Earlier declaration of 
'hb_errRT_SubstParams'
Error E2356 ../../../errapi.c 1169: Type mismatch in redeclaration of 
'hb_errRT_BASE_Subst'
Error E2344 ../../../../../include\hbapierr.h 164: Earlier declaration of 
'hb_errRT_BASE_Subst'
Error E2356 ../../../errapi.c 1226: Type mismatch in redeclaration of 
'hb_errRT_BASE_SubstR'
Error E2344 ../../../../../include\hbapierr.h 165: Earlier declaration of 
'hb_errRT_BASE_SubstR'

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From vszakats at users.sourceforge.net  Mon Nov 16 06:33:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 16 06:33:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12897] trunk/harbour
Message-ID: <E1N9zpa-0003aT-0B@74yxhf1.ch3.sourceforge.com>

Revision: 12897
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12897&view=rev
Author:   vszakats
Date:     2009-11-16 11:33:12 +0000 (Mon, 16 Nov 2009)

Log Message:
-----------
2009-11-16 12:32 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/errapi.c
    ! Changed some more ULONG to HB_ERRCODE.

  * contrib/hbxbp/Makefile
  * contrib/hbssl/Makefile
    + Added skip reason text.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbssl/Makefile
    trunk/harbour/contrib/hbxbp/Makefile
    trunk/harbour/src/rtl/errapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Nov 16 06:35:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 16 06:35:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12898] trunk/harbour
Message-ID: <E1N9zrp-0003du-K9@74yxhf1.ch3.sourceforge.com>

Revision: 12898
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12898&view=rev
Author:   vszakats
Date:     2009-11-16 11:35:32 +0000 (Mon, 16 Nov 2009)

Log Message:
-----------
2009-11-16 12:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/filesys.c
    ! Typo in r12896.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/filesys.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Nov 16 06:46:29 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 16 06:46:40 2009
Subject: [Harbour] Re: bcc build
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F1E@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F1B@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F1E@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <BC98FA45-F5B2-4A31-8BF6-9625AF4EAA9C@syenar.hu>

Hi Chen,

Thanks for your results.

> 1) Fixed - bin/win/bcc/harbour-20-bcc.tds and bin/win/bcc/harbourmt-20-bcc.tds
> are now removed as part of clean.
> 
>>> 2) I don't know if this is intended or not, but these file are recreated only if I
>>> manually delete them (they are not recreated after each clean build):
>>> 
>>> bin/hbmk2.hu_HU.hbl
>>> bin/hbmk2.pt_BR.hbl
>> 
>> They should be recreated on each install, and
>> clean doesn't clean them, this is currently normal.
>> 
>> These are created in postinst phase by hbmk2,
>> as .hbl (and also resources) are not supported
>> by core Harbour build system ATM.
> 
> Date and time of these file are NOT changed after install, so I can only assume
> these are not re-built during install if they are already exists.

The reason is that hbmk2 will only rebuild .hbl's if needed.
In essence for .hbl output files "incremental" feature is 
always enabled.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Nov 16 06:49:41 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 16 06:49:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12899] trunk/harbour
Message-ID: <E1NA05V-0003ra-P9@74yxhf1.ch3.sourceforge.com>

Revision: 12899
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12899&view=rev
Author:   vszakats
Date:     2009-11-16 11:49:40 +0000 (Mon, 16 Nov 2009)

Log Message:
-----------
2009-11-16 12:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbxbp/Makefile
    ! Changed HB_INC_QT reference to HB_WITH_QT.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fernando_athayde at yahoo.com.br  Mon Nov 16 07:39:17 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Mon Nov 16 07:39:24 2009
Subject: [Harbour] harbour MT and windows98 crashes
Message-ID: <797897.59266.qm@web52204.mail.re2.yahoo.com>

I am using harbour with -mt, in 2000/XP/Vista/Seven perfectly
but i have a costumer with windows98, and this have a problem (this program execute an illegal operation and will close)
if I remove MT support runs
anyone passed for this?


Thanks
Fernando



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091116/0364cd3f/attachment.html
From vszakats at users.sourceforge.net  Mon Nov 16 08:12:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 16 08:12:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12900] trunk/harbour
Message-ID: <E1NA1NM-0004mg-VN@3kljzd1.ch3.sourceforge.com>

Revision: 12900
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12900&view=rev
Author:   vszakats
Date:     2009-11-16 13:12:11 +0000 (Mon, 16 Nov 2009)

Log Message:
-----------
2009-11-16 14:11 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + HB_USER_LIBS documentation extended.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Nov 16 08:18:57 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 16 08:19:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12901] trunk/harbour
Message-ID: <E1NA1Tt-0004t8-Cs@3kljzd1.ch3.sourceforge.com>

Revision: 12901
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12901&view=rev
Author:   vszakats
Date:     2009-11-16 13:18:56 +0000 (Mon, 16 Nov 2009)

Log Message:
-----------
2009-11-16 14:18 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    + Added HB_VMMAX[U]INT. Equivalent to HB_MAX[U]INT.

  * INSTALL
    * Minor.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From M.Horodyski at pzuzycie.com.pl  Mon Nov 16 08:38:30 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Nov 16 08:38:40 2009
Subject: [Harbour] Type of dbInfo(1)
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64AFF@PINK.zycie.pzu>

Mindaugas, dbInfo(1) from sqlmix is returned U.
Should be .F.

Regards,
Marek Horodyski
From cvc at oohg.org  Mon Nov 16 08:44:53 2009
From: cvc at oohg.org (Ciro Vargas C)
Date: Mon Nov 16 08:45:01 2009
Subject: [Harbour] c compiler ?
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F1C@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F1C@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <d6500b450911160544l45d94c80i671da74c7559c01a@mail.gmail.com>

Very thanks Chen and Massimo, another similar way in a   #ifdef   ?


regards
Ciro

2009/11/16 Chen Kedem <niki@synel.co.il>:
> Ciro,
>
>> any way to know what compiler has been used ?at compile time in PRG level ?
>
> HB_Compiler()
>
> ?Chen.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
http://www.oohg.prg
http://sistemascvc.tripod.com

donaciones para CVC de ooHG

https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
From harbour.01 at syenar.hu  Mon Nov 16 09:04:57 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 16 09:05:09 2009
Subject: [Harbour] c compiler ?
In-Reply-To: <d6500b450911160544l45d94c80i671da74c7559c01a@mail.gmail.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F1C@Mail-yoq.SYNEL-COMPANY.LTD>
	<d6500b450911160544l45d94c80i671da74c7559c01a@mail.gmail.com>
Message-ID: <44894B75-7D58-4CCE-866F-041C2C39348D@syenar.hu>

Generally speaking .prg should never depend on the 
C compiler used to build the software, it's a low-level 
implementation detail. For this reason we don't 
have such macro and I don't think we should have one.

If you need to create different code for different 
compilers (f.e. because some external components are 
or aren't available based on that), you can solve it 
on the build level, and/or you can introduce some 
local macros which control inclusion of these 
components. (hbmk2 helps you to do that)

Brgds,
Viktor

On 2009 Nov 16, at 14:44, Ciro Vargas C wrote:

> Very thanks Chen and Massimo, another similar way in a   #ifdef   ?
> 
> 
> regards
> Ciro
> 
> 2009/11/16 Chen Kedem <niki@synel.co.il>:
>> Ciro,
>> 
>>> any way to know what compiler has been used  at compile time in PRG level ?
>> 
>> HB_Compiler()
>> 
>>  Chen.
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
> 
> 
> 
> -- 
> http://www.oohg.prg
> http://sistemascvc.tripod.com
> 
> donaciones para CVC de ooHG
> 
> https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From M.Horodyski at pzuzycie.com.pl  Mon Nov 16 09:12:00 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Nov 16 09:12:10 2009
Subject: [Harbour] Type of dbInfo(1)
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64AFF@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64AFF@PINK.zycie.pzu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64B24@PINK.zycie.pzu>

>-----Original Message-----
>From: Horodyski Marek (PZUZ) 
>Sent: Monday, November 16, 2009 2:39 PM
>To: Harbour Project Main Developer List.
>Subject: [Harbour] Type of dbInfo(1)
>
>Mindaugas, dbInfo(1) from sqlmix is returned U.
>Should be .F.

Check too ValType of HeaderSize() and RecSize().

Regards,
Marek Horodyski
From cvc at oohg.org  Mon Nov 16 09:12:30 2009
From: cvc at oohg.org (Ciro Vargas C)
Date: Mon Nov 16 09:12:37 2009
Subject: [Harbour] c compiler ?
In-Reply-To: <44894B75-7D58-4CCE-866F-041C2C39348D@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F1C@Mail-yoq.SYNEL-COMPANY.LTD>
	<d6500b450911160544l45d94c80i671da74c7559c01a@mail.gmail.com>
	<44894B75-7D58-4CCE-866F-041C2C39348D@syenar.hu>
Message-ID: <d6500b450911160612h6947dc11n9c1ca536fcf2b597@mail.gmail.com>

OK Viktor thanks.

best regards
Ciro

2009/11/16 Viktor Szak?ts <harbour.01@syenar.hu>:
> Generally speaking .prg should never depend on the
> C compiler used to build the software, it's a low-level
> implementation detail. For this reason we don't
> have such macro and I don't think we should have one.
>
> If you need to create different code for different
> compilers (f.e. because some external components are
> or aren't available based on that), you can solve it
> on the build level, and/or you can introduce some
> local macros which control inclusion of these
> components. (hbmk2 helps you to do that)
>
> Brgds,
> Viktor
>
> On 2009 Nov 16, at 14:44, Ciro Vargas C wrote:
>
>> Very thanks Chen and Massimo, another similar way in a ? #ifdef ? ?
>>
>>
>> regards
>> Ciro
>>
>> 2009/11/16 Chen Kedem <niki@synel.co.il>:
>>> Ciro,
>>>
>>>> any way to know what compiler has been used ?at compile time in PRG level ?
>>>
>>> HB_Compiler()
>>>
>>> ?Chen.
>>> _______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>>
>>
>>
>> --
>> http://www.oohg.prg
>> http://sistemascvc.tripod.com
>>
>> donaciones para CVC de ooHG
>>
>> https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
http://www.oohg.prg
http://sistemascvc.tripod.com

donaciones para CVC de ooHG

https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=5369884
From Istvan.Bisz at t-online.hu  Mon Nov 16 09:23:45 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Mon Nov 16 09:23:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12888] trunk/harbour
In-Reply-To: <000401ca65fb$81d38480$857a8d80$@Bisz@t-online.hu>
References: <E1N9eTR-0006Lx-Kx@d5vjzd1.ch3.sourceforge.com>
	<000401ca65fb$81d38480$857a8d80$@Bisz@t-online.hu>
Message-ID: <000001ca66c8$687411d0$395c3570$@Bisz@t-online.hu>

Hi Viktor,

>     ; NOTE: I didn't test any of these. Pls do so.

I getting this error:
c:/harbour/mingw/lib/win/mingw/libhbxbp.a(xbpwindow.o):xbpwindow.c:(.data+0xd48): undefined reference to `HB_FUN_HB_GETMEMUSED'

Best regards,
Istv?n



From snaiperis at users.sourceforge.net  Mon Nov 16 09:27:47 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Mon Nov 16 09:27:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12902] trunk/harbour
Message-ID: <E1NA2YV-0006K8-SH@c3vjzd1.ch3.sourceforge.com>

Revision: 12902
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12902&view=rev
Author:   snaiperis
Date:     2009-11-16 14:27:46 +0000 (Mon, 16 Nov 2009)

Log Message:
-----------
2009-11-16 16:25 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/rddsql/sqlbase.c
    * redirected DBINFO() method to SUPER, to make support for basic
      DBI_* parameters

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sqlbase.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fperillo at gmail.com  Mon Nov 16 09:28:04 2009
From: fperillo at gmail.com (francesco perillo)
Date: Mon Nov 16 09:28:11 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <-7854970003924756159@unknownmsgid>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<20091115134712.GA20573@34-mo7-2.home.aster.pl>
	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>
	<FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu>
	<-7854970003924756159@unknownmsgid>
Message-ID: <6943770e0911160628h7c2779a1k5ee7b1c8f88625fa@mail.gmail.com>

Why not Eclipse ? I had a half day introductionary course last week
and it seems to be a great tool.... I saw the Java setting and it was
terrific.. !

>> 0) Availability on OS X, Linux and Windows x86 and x64.
Yes

>> 1) Very good editor with block editing capability, syntax
>> ? ?highlighting, possibly "intellisense". Project-wide
>> ? ?search and replace.

Yes

>>Support for all CPs Harbour supports.

Should have

>>  ( syntax highlighting for: prg, c and cpp )
It has for sure for c and cpp, prg can be added

>> 2) Integration with VCS.

Integration with cvs, svn, mercurial git and others

>> 3) Integrated build tool.
>  3.1) Integrated debugger.

Yes, to be programmed

>> 4) Integrated project management.

Yes.

The power of Eclipse is that it is really configurable ! Support for
new languages may be added... but I don't know if the processo is easy
or not....


Francesco
>
> Best regards,
> Istv?n
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From dbtopas at dbtopas.lt  Mon Nov 16 09:36:53 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 16 09:38:28 2009
Subject: [Harbour] Type of dbInfo(1)
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64B24@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64AFF@PINK.zycie.pzu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64B24@PINK.zycie.pzu>
Message-ID: <4B016385.2040106@dbtopas.lt>

Hi,


Horodyski Marek (PZUZ) wrote:
>> Mindaugas, dbInfo(1) from sqlmix is returned U.
>> Should be .F.

Fixed.


> Check too ValType of HeaderSize() and RecSize().

They have no meaning for SQL, so, I do not thing NIL is error. Though, 
it will use inherited values from workarea.c (after my last commit) and 
will return 0.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Mon Nov 16 09:53:12 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 16 09:53:25 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <6943770e0911160628h7c2779a1k5ee7b1c8f88625fa@mail.gmail.com>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<20091115134712.GA20573@34-mo7-2.home.aster.pl>
	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>
	<FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu>
	<-7854970003924756159@unknownmsgid>
	<6943770e0911160628h7c2779a1k5ee7b1c8f88625fa@mail.gmail.com>
Message-ID: <D08079F7-86D9-4B41-A3FF-2F847D67B6F6@syenar.hu>

Yes, good point, probably it would be the wised road and less 
effort with most return.

Creating a proper IDE is difficult, and we won't be able to 
surpass Eclipse ever with our own resources.

I'd personally endorse such direction much wholeheartedly 
than developing a new IDE from ground up.

Question: Does anybody have some experiences on language 
integration into Eclipse?

Brgds,
Viktor

On 2009 Nov 16, at 15:28, francesco perillo wrote:

> Why not Eclipse ? I had a half day introductionary course last week
> and it seems to be a great tool.... I saw the Java setting and it was
> terrific.. !
> 
>>> 0) Availability on OS X, Linux and Windows x86 and x64.
> Yes
> 
>>> 1) Very good editor with block editing capability, syntax
>>>    highlighting, possibly "intellisense". Project-wide
>>>    search and replace.
> 
> Yes
> 
>>> Support for all CPs Harbour supports.
> 
> Should have
> 
>>> ( syntax highlighting for: prg, c and cpp )
> It has for sure for c and cpp, prg can be added
> 
>>> 2) Integration with VCS.
> 
> Integration with cvs, svn, mercurial git and others
> 
>>> 3) Integrated build tool.
>> 3.1) Integrated debugger.
> 
> Yes, to be programmed
> 
>>> 4) Integrated project management.
> 
> Yes.
> 
> The power of Eclipse is that it is really configurable ! Support for
> new languages may be added... but I don't know if the processo is easy
> or not....
> 
> 
> Francesco
>> 
>> Best regards,
>> Istv?n
>> 
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Nov 16 09:54:41 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 16 09:54:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12888] trunk/harbour
In-Reply-To: <000001ca66c8$687411d0$395c3570$@Bisz@t-online.hu>
References: <E1N9eTR-0006Lx-Kx@d5vjzd1.ch3.sourceforge.com>
	<000401ca65fb$81d38480$857a8d80$@Bisz@t-online.hu>
	<000001ca66c8$687411d0$395c3570$@Bisz@t-online.hu>
Message-ID: <CC924942-09E8-4922-A2CF-FEF2AD42CDE9@syenar.hu>

I don't know.

Please feel free to patch these things, there might 
be more, the concept is cleared now, and unfortunately 
I can't dedicate time to clean each of these up.

Thank you all.

Brgds,
Viktor

On 2009 Nov 16, at 15:23, Bisz Istv?n wrote:

> Hi Viktor,
> 
>>    ; NOTE: I didn't test any of these. Pls do so.
> 
> I getting this error:
> c:/harbour/mingw/lib/win/mingw/libhbxbp.a(xbpwindow.o):xbpwindow.c:(.data+0xd48): undefined reference to `HB_FUN_HB_GETMEMUSED'
> 
> Best regards,
> Istv?n
> 
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Mon Nov 16 10:05:03 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov 16 10:05:30 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <D08079F7-86D9-4B41-A3FF-2F847D67B6F6@syenar.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com> 
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu> 
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl> 
	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>
	<FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu> 
	<-7854970003924756159@unknownmsgid>
	<6943770e0911160628h7c2779a1k5ee7b1c8f88625fa@mail.gmail.com> 
	<D08079F7-86D9-4B41-A3FF-2F847D67B6F6@syenar.hu>
Message-ID: <609353e70911160705y3e6ee195m45ed774f123b2bea@mail.gmail.com>

is a sourceforge project Harbour Development Tool for Eclipse
As of 2008-07-15 00:00:00 GMT, this project is no longer under active
development.
http://sourceforge.net/projects/harbour-ide/

Better the eclipse that nothing
but better a xmate,xdevstudio,xpritpal way that eclipse
because have a low level of integration

2009/11/16 Viktor Szak?ts <harbour.01@syenar.hu>:
> Yes, good point, probably it would be the wised road and less
> effort with most return.
>
> Creating a proper IDE is difficult, and we won't be able to
> surpass Eclipse ever with our own resources.
>
> I'd personally endorse such direction much wholeheartedly
> than developing a new IDE from ground up.
>
> Question: Does anybody have some experiences on language
> integration into Eclipse?
>
> Brgds,
> Viktor
>
> On 2009 Nov 16, at 15:28, francesco perillo wrote:
>
>> Why not Eclipse ? I had a half day introductionary course last week
>> and it seems to be a great tool.... I saw the Java setting and it was
>> terrific.. !
>>
>>>> 0) Availability on OS X, Linux and Windows x86 and x64.
>> Yes
>>
>>>> 1) Very good editor with block editing capability, syntax
>>>> ? ?highlighting, possibly "intellisense". Project-wide
>>>> ? ?search and replace.
>>
>> Yes
>>
>>>> Support for all CPs Harbour supports.
>>
>> Should have
>>
>>>> ( syntax highlighting for: prg, c and cpp )
>> It has for sure for c and cpp, prg can be added
>>
>>>> 2) Integration with VCS.
>>
>> Integration with cvs, svn, mercurial git and others
>>
>>>> 3) Integrated build tool.
>>> 3.1) Integrated debugger.
>>
>> Yes, to be programmed
>>
>>>> 4) Integrated project management.
>>
>> Yes.
>>
>> The power of Eclipse is that it is really configurable ! Support for
>> new languages may be added... but I don't know if the processo is easy
>> or not....
>>
>>
>> Francesco
>>>
>>> Best regards,
>>> Istv?n
>>>
>>>
>>> _______________________________________________
>>> Harbour mailing list (attachment size limit: 40KB)
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Mon Nov 16 10:22:31 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 16 10:22:40 2009
Subject: [Harbour] harbour MT and windows98 crashes
In-Reply-To: <797897.59266.qm@web52204.mail.re2.yahoo.com>
References: <797897.59266.qm@web52204.mail.re2.yahoo.com>
Message-ID: <20091116152231.GB8109@34-mo7-2.home.aster.pl>

On Mon, 16 Nov 2009, Fernando Athayde wrote:

Hi,

> I am using harbour with -mt, in 2000/XP/Vista/Seven perfectly
> but i have a costumer with windows98, and this have a problem (this program execute an illegal operation and will close)
> if I remove MT support runs
> anyone passed for this?

I haven't heard about any limitations for Win9x in out MT code.
The only one I know are limitations in C RTL and some C compilers
cannot create binaries which can be used in Win9x so if have such
problems then you should rather look for the solution in C compiler
documentation or maybe try to change used compiler.

best regards,
Przemek
From fperillo at gmail.com  Mon Nov 16 10:23:40 2009
From: fperillo at gmail.com (francesco perillo)
Date: Mon Nov 16 10:23:47 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <D08079F7-86D9-4B41-A3FF-2F847D67B6F6@syenar.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>
	<FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu>
	<-7854970003924756159@unknownmsgid>
	<6943770e0911160628h7c2779a1k5ee7b1c8f88625fa@mail.gmail.com>
	<D08079F7-86D9-4B41-A3FF-2F847D67B6F6@syenar.hu>
Message-ID: <6943770e0911160723t3fa5fc04m3d825dd3d890e9e7@mail.gmail.com>

> Question: Does anybody have some experiences on language
> integration into Eclipse?

Unfortunately I don't have such experience. I'm going to attend a
couple of other courses in the next weeks about basic java programming
and we are going to use Eclipse. The teacher (a university teacher) is
a real expert and a open-source supporter and evangelist... I may ask
him some help...


Francesco
From M.Horodyski at pzuzycie.com.pl  Mon Nov 16 10:32:31 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Nov 16 10:32:40 2009
Subject: [Harbour] Type of dbInfo(1)
In-Reply-To: <4B016385.2040106@dbtopas.lt>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64AFF@PINK.zycie.pzu><FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64B24@PINK.zycie.pzu>
	<4B016385.2040106@dbtopas.lt>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64B71@PINK.zycie.pzu>

>-----Original Message-----
>From: Mindaugas Kavaliauskas [mailto:dbtopas@dbtopas.lt] 
>Sent: Monday, November 16, 2009 3:37 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Type of dbInfo(1)
>
>Hi,
>
>
>Horodyski Marek (PZUZ) wrote:
>>> Mindaugas, dbInfo(1) from sqlmix is returned U.
>>> Should be .F.
>
>Fixed.
>
>
>> Check too ValType of HeaderSize() and RecSize().
>
>They have no meaning for SQL, so, I do not thing NIL is error. 
>Though, it will use inherited values from workarea.c (after my 
>last commit) and will return 0.

That is ok.. Thanks.

Regards,
Marek Horodyski
From druzus at acn.waw.pl  Mon Nov 16 10:36:25 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 16 10:36:32 2009
Subject: [Harbour] cpinfo and UA codepage
In-Reply-To: <4B012F14.9070609@polly.com.ua>
References: <4AFAC3D6.3000006@polly.com.ua>
	<20091113204330.GE30089@34-mo7-2.home.aster.pl>
	<4B012F14.9070609@polly.com.ua>
Message-ID: <20091116153625.GC8109@34-mo7-2.home.aster.pl>

On Mon, 16 Nov 2009, vatzct wrote:

Hi,

> 11/16/09 12:17:08 Windows XP 5.1.2600 Service Pack 1 Harbour
> 2.0.0beta3 (Rev. 12894)
> Character encoding: UA866
> ==================================================
>      upper: "ABCDEFGH???????????I????????????????????????JKLMNOPQRSTUVWXYZ"
>      lower: "abcdefgh???????????i????????????????????????jklmnopqrstuvwxyz"
> ==================================================
> 1. UA866 contain cyrillic and latin characters other only cyrillic,
> is it normal?

I do not know if it's intentional or not because it was not defined by me.
It's effect of the definition which contains latin letters 'I' and 'i' in
src/codepage/cpua866.c.
The question if it's "normal" or not is not for me but to Ukrainian users
so you should answer yourself.

> 2. In UA866 GHE WITH UPTURN is absent. (in UA866 is 36 cyrillic
> characters, in other 37).

If you think that sth is wrong then please update src/codepage/cpua866.c.
You can also try to discuss about it with Pavel Tsarenko which created
such definition. I do not plan to change original definitions created
by Ukrainian users which should now their language much better then me ;-)

The only one thing I can say that now low level CP code is correct.
Rest if your job.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Nov 16 10:43:08 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 16 10:43:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12896] trunk/harbour
In-Reply-To: <E1N9yt8-0002Yg-D2@74yxhf1.ch3.sourceforge.com>
References: <E1N9yt8-0002Yg-D2@74yxhf1.ch3.sourceforge.com>
Message-ID: <20091116154308.GD8109@34-mo7-2.home.aster.pl>

On Mon, 16 Nov 2009, vszakats@users.sourceforge.net wrote:
> 2009-11-16 11:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>     * Changed USHORT type for error codes to HB_ERRCODE.
>     + More or less changed int type of Extend/Item API call to 
>       long type to prepare for HB_ERRCODE change to ULONG.

I think that HB_ERRCODE should be mapped to 32bit not 64 bit integer.
I do not see any place where we may need ULONG.

>     ; TODO: Rename variables to reflect new type.
>     ; TODO: Change internal error code from ULONG to HB_ERRCODE.
>     ; TODO: Inspect rest of Harbour like above. I've only dealt with 
>             rtl, vm.
>     ; TODO: hbnetio protocol needs to be modified to pass errcode 
>             as 32 bit value.
>     ; NOTE: There is still disagreement in code in few places 
>             in error type and 'int' is used internally, f.e. 
>             sockets, some internal OS code conversion funtions.

And it's fine. I do not find any problem here.

>     ; TODO: Different topic, but we use a lot of USHORTs to 
>             store modes, tries, severity, operation, flags and
>             few other things which would better be stored as 
>             simple int probably.

Yes it is and I hope that now you are seeing how complicated is such
modification and above is trivial job for few hours in comparison to
introducing HB_SIZE.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Nov 16 10:54:10 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 16 10:54:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12896] trunk/harbour
In-Reply-To: <20091116154308.GD8109@34-mo7-2.home.aster.pl>
References: <E1N9yt8-0002Yg-D2@74yxhf1.ch3.sourceforge.com>
	<20091116154308.GD8109@34-mo7-2.home.aster.pl>
Message-ID: <3F252358-0CAB-4E94-9AE5-316D7177E3EE@syenar.hu>


On 2009 Nov 16, at 16:43, Przemys?aw Czerpak wrote:

> On Mon, 16 Nov 2009, vszakats@users.sourceforge.net wrote:
>> 2009-11-16 11:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>    * Changed USHORT type for error codes to HB_ERRCODE.
>>    + More or less changed int type of Extend/Item API call to 
>>      long type to prepare for HB_ERRCODE change to ULONG.
> 
> I think that HB_ERRCODE should be mapped to 32bit not 64 bit integer.
> I do not see any place where we may need ULONG.

I didn't mean any 64-bit stuff here, I'm changing hb_parni() to hb_parnl() f.e.

> 
>>    ; TODO: Rename variables to reflect new type.
>>    ; TODO: Change internal error code from ULONG to HB_ERRCODE.
>>    ; TODO: Inspect rest of Harbour like above. I've only dealt with 
>>            rtl, vm.
>>    ; TODO: hbnetio protocol needs to be modified to pass errcode 
>>            as 32 bit value.
>>    ; NOTE: There is still disagreement in code in few places 
>>            in error type and 'int' is used internally, f.e. 
>>            sockets, some internal OS code conversion funtions.
> 
> And it's fine. I do not find any problem here.
> 
>>    ; TODO: Different topic, but we use a lot of USHORTs to 
>>            store modes, tries, severity, operation, flags and
>>            few other things which would better be stored as 
>>            simple int probably.
> 
> Yes it is and I hope that now you are seeing how complicated is such
> modification and above is trivial job for few hours in comparison to
> introducing HB_SIZE.

Ops, this was to teach me a lesson??

I never told all aspects are trivial, but IMO it's doable and 
we should do it eventually. It may even reveal hidden bugs.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Mon Nov 16 11:13:58 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Mon Nov 16 11:14:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <47CB99A2-E95B-4207-926A-C88C82C536CE@syenar.hu>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>	<26347229.post@talk.nabble.com>	<000001ca6508$4a6c5d80$df451880$@Bisz@t-online.hu>	<000501ca6511$c093edd0$41bbc970$@Bisz@t-online.hu>	<000801ca6523$19b03700$4d10a500$@Bisz@t-online.hu>	<26353560.post@talk.nabble.com>	<000101ca656a$bb2b3430$31819c90$@Bisz@t-online.hu>
	<47CB99A2-E95B-4207-926A-C88C82C536CE@syenar.hu>
Message-ID: <000001ca66d7$cdc63040$695290c0$@Bisz@t-online.hu>

Hi Viktor,

Login Name (User Name): 
ibisz

Best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. november 14. 23:36
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour

Hi Istvan,

>> BTW can you strip the messages to which you are replying?
>> Just keep relevant portion only into your message. Sometimes
>> it becomes difficult to locate the excat message of your current reply.
> 
> OK. I always forget it with this list, as my Outlook works in a different
way, requested by others.
> 
>> If you are ready with Harbour standard coding we can ask Viktor to grant
your write access on SVN.
> 
> Maybe I need here an input from your side, in any case thanks for your
trustfulness.

Please tell us your sf.net username and I'll add you as Harbour dev.

Brgds,
Viktor

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Nov 16 11:14:32 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 16 11:14:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12896] trunk/harbour
In-Reply-To: <3F252358-0CAB-4E94-9AE5-316D7177E3EE@syenar.hu>
References: <E1N9yt8-0002Yg-D2@74yxhf1.ch3.sourceforge.com>
	<20091116154308.GD8109@34-mo7-2.home.aster.pl>
	<3F252358-0CAB-4E94-9AE5-316D7177E3EE@syenar.hu>
Message-ID: <20091116161432.GA8821@34-mo7-2.home.aster.pl>

On Mon, 16 Nov 2009, Szak?ts Viktor wrote:

Hi,

> > I think that HB_ERRCODE should be mapped to 32bit not 64 bit integer.
> > I do not see any place where we may need ULONG.
> I didn't mean any 64-bit stuff here, I'm changing hb_parni() to hb_parnl() f.e.

ULONG is 64bit integer in all 64bit systems except Windows so if you want
to use ULONG then it means that you will effectively force using 64bit
integers as error code holder.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Nov 16 11:14:59 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Nov 16 11:15:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12903] trunk/harbour
Message-ID: <E1NA4EF-0006yK-A0@d5vjzd1.ch3.sourceforge.com>

Revision: 12903
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12903&view=rev
Author:   druzus
Date:     2009-11-16 16:14:58 +0000 (Mon, 16 Nov 2009)

Log Message:
-----------
2009-11-16 17:14 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbnetio/netio.h
  * harbour/contrib/hbnetio/netiocli.c
  * harbour/contrib/hbnetio/netiosrv.c
    * changed USHORT to HB_ERRCODE as error code holder
    * use 32bit integers to exchange error codes between server and
      client side
    * pacified warning

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbnetio/netio.h
    trunk/harbour/contrib/hbnetio/netiocli.c
    trunk/harbour/contrib/hbnetio/netiosrv.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fernando_athayde at yahoo.com.br  Mon Nov 16 11:20:02 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Mon Nov 16 11:20:12 2009
Subject: Res: [Harbour] harbour MT and windows98 crashes
In-Reply-To: <20091116152231.GB8109@34-mo7-2.home.aster.pl>
References: <797897.59266.qm@web52204.mail.re2.yahoo.com>
	<20091116152231.GB8109@34-mo7-2.home.aster.pl>
Message-ID: <856396.94786.qm@web52205.mail.re2.yahoo.com>

i uses BCC 5.1
i use MSVC in some months ago, but i have problem, with variables
ex:
CLASS X
   DATA xyz

IF i call
 X:zyx (guess an error) correct xyz
causes break, without message error, then i can?t find where are the error

Thanks
Fernando




________________________________
De: Przemys?aw Czerpak <druzus@acn.waw.pl>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Segunda-feira, 16 de Novembro de 2009 12:22:31
Assunto: Re: [Harbour] harbour MT and windows98 crashes

On Mon, 16 Nov 2009, Fernando Athayde wrote:

Hi,

> I am using harbour with -mt, in 2000/XP/Vista/Seven perfectly
> but i have a costumer with windows98, and this have a problem (this program execute an illegal operation and will close)
> if I remove MT support runs
> anyone passed for this?

I haven't heard about any limitations for Win9x in out MT code.
The only one I know are limitations in C RTL and some C compilers
cannot create binaries which can be used in Win9x so if have such
problems then you should rather look for the solution in C compiler
documentation or maybe try to change used compiler.

best regards,
Przemek
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091116/bd278613/attachment-0001.html
From druzus at acn.waw.pl  Mon Nov 16 11:34:53 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 16 11:35:00 2009
Subject: Res: [Harbour] harbour MT and windows98 crashes
In-Reply-To: <856396.94786.qm@web52205.mail.re2.yahoo.com>
References: <797897.59266.qm@web52204.mail.re2.yahoo.com>
	<20091116152231.GB8109@34-mo7-2.home.aster.pl>
	<856396.94786.qm@web52205.mail.re2.yahoo.com>
Message-ID: <20091116163453.GA9330@34-mo7-2.home.aster.pl>

On Mon, 16 Nov 2009, Fernando Athayde wrote:

Hi,

> i uses BCC 5.1
> i use MSVC in some months ago, but i have problem, with variables
> ex:
> CLASS X
>    DATA xyz
> 
> IF i call
>  X:zyx (guess an error) correct xyz
> causes break, without message error, then i can?t find where are the error

There is nothing ib both compilers what can create such difference
so it was some other problem and you lost the chance to fix it and
you probably still have to leave with it though maybe now it exploits
some other problems. But it's not mine problem.

I haven't heard that BCC has problems with Win9x so there is sth else.
Maybe some tool which uses extensions available only in WinNT but I do
not find anything like that in MT code.
Can you check what happens if you try to execute in Win9x tests/mt/*.prg
test programs?

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Nov 16 11:38:27 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Nov 16 11:38:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12904] trunk/harbour
Message-ID: <E1NA4ax-0007Nf-Hd@d5vjzd1.ch3.sourceforge.com>

Revision: 12904
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12904&view=rev
Author:   druzus
Date:     2009-11-16 16:38:25 +0000 (Mon, 16 Nov 2009)

Log Message:
-----------
2009-11-16 17:35 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapierr.h
  * harbour/src/rtl/errint.c
  * harbour/src/rtl/errintlo.c
  * harbour/src/lang/msghuiso.c
  * harbour/src/lang/msgskiso.c
  * harbour/src/lang/msgrukoi.c
  * harbour/src/lang/msghuwin.c
  * harbour/src/lang/msgzhgb.c
  * harbour/src/lang/msgskwin.c
  * harbour/src/lang/msg_tpl.c
  * harbour/src/lang/msgruwin.c
  * harbour/src/lang/msgelwin.c
  * harbour/src/lang/msgro.c
  * harbour/src/lang/msgpt.c
  * harbour/src/lang/msghriso.c
  * harbour/src/lang/msghrwin.c
  * harbour/src/lang/msgsliso.c
  * harbour/src/lang/msgbe866.c
  * harbour/src/lang/msgslwin.c
  * harbour/src/lang/msghe862.c
  * harbour/src/lang/msgcskam.c
  * harbour/src/lang/msggl.c
  * harbour/src/lang/msgtrwin.c
  * harbour/src/lang/msgbgiso.c
  * harbour/src/lang/msgeo.c
  * harbour/src/lang/msgskkam.c
  * harbour/src/lang/msgbgwin.c
  * harbour/src/lang/msges.c
  * harbour/src/lang/msguakoi.c
  * harbour/src/lang/msgzhb5.c
  * harbour/src/lang/msgeu.c
  * harbour/src/lang/msgpl852.c
  * harbour/src/lang/msguados.c
  * harbour/src/lang/msgsr852.c
  * harbour/src/lang/msguawin.c
  * harbour/src/lang/msgde.c
  * harbour/src/lang/msgtr857.c
  * harbour/src/lang/msgru866.c
  * harbour/src/lang/msgcs852.c
  * harbour/src/lang/msgfr.c
  * harbour/src/lang/msgis850.c
  * harbour/src/lang/msgnl.c
  * harbour/src/lang/msghu852.c
  * harbour/src/lang/msgsk852.c
  * harbour/src/lang/msgplmaz.c
  * harbour/src/lang/msgca.c
  * harbour/src/lang/msgpliso.c
  * harbour/src/lang/msgplwin.c
  * harbour/src/lang/msgbgmik.c
  * harbour/src/lang/msgid.c
  * harbour/src/lang/msgbg866.c
  * harbour/src/lang/msgltwin.c
  * harbour/src/lang/msgptiso.c
  * harbour/src/lang/msgsriso.c
  * harbour/src/lang/msgel.c
  * harbour/src/lang/msgsrwin.c
  * harbour/src/lang/msgbewin.c
  * harbour/src/lang/msgdewin.c
  * harbour/src/lang/msghr437.c
  * harbour/src/lang/msghr852.c
  * harbour/src/lang/msgua866.c
  * harbour/src/lang/msgko.c
  * harbour/src/lang/msghewin.c
  * harbour/src/lang/msgsl437.c
  * harbour/src/lang/msgit.c
  * harbour/src/lang/msgsl852.c
  * harbour/src/lang/msghucwi.c
  * harbour/src/lang/msgcsiso.c
  * harbour/src/lang/msgcswin.c
  * harbour/src/lang/msgeswin.c
    * changed ULONG ulIntCode to HB_ERRCODE errCode in internal errors

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapierr.h
    trunk/harbour/src/lang/msg_tpl.c
    trunk/harbour/src/lang/msgbe866.c
    trunk/harbour/src/lang/msgbewin.c
    trunk/harbour/src/lang/msgbg866.c
    trunk/harbour/src/lang/msgbgiso.c
    trunk/harbour/src/lang/msgbgmik.c
    trunk/harbour/src/lang/msgbgwin.c
    trunk/harbour/src/lang/msgca.c
    trunk/harbour/src/lang/msgcs852.c
    trunk/harbour/src/lang/msgcsiso.c
    trunk/harbour/src/lang/msgcskam.c
    trunk/harbour/src/lang/msgcswin.c
    trunk/harbour/src/lang/msgde.c
    trunk/harbour/src/lang/msgdewin.c
    trunk/harbour/src/lang/msgel.c
    trunk/harbour/src/lang/msgelwin.c
    trunk/harbour/src/lang/msgeo.c
    trunk/harbour/src/lang/msges.c
    trunk/harbour/src/lang/msgeswin.c
    trunk/harbour/src/lang/msgeu.c
    trunk/harbour/src/lang/msgfr.c
    trunk/harbour/src/lang/msggl.c
    trunk/harbour/src/lang/msghe862.c
    trunk/harbour/src/lang/msghewin.c
    trunk/harbour/src/lang/msghr437.c
    trunk/harbour/src/lang/msghr852.c
    trunk/harbour/src/lang/msghriso.c
    trunk/harbour/src/lang/msghrwin.c
    trunk/harbour/src/lang/msghu852.c
    trunk/harbour/src/lang/msghucwi.c
    trunk/harbour/src/lang/msghuiso.c
    trunk/harbour/src/lang/msghuwin.c
    trunk/harbour/src/lang/msgid.c
    trunk/harbour/src/lang/msgis850.c
    trunk/harbour/src/lang/msgit.c
    trunk/harbour/src/lang/msgko.c
    trunk/harbour/src/lang/msgltwin.c
    trunk/harbour/src/lang/msgnl.c
    trunk/harbour/src/lang/msgpl852.c
    trunk/harbour/src/lang/msgpliso.c
    trunk/harbour/src/lang/msgplmaz.c
    trunk/harbour/src/lang/msgplwin.c
    trunk/harbour/src/lang/msgpt.c
    trunk/harbour/src/lang/msgptiso.c
    trunk/harbour/src/lang/msgro.c
    trunk/harbour/src/lang/msgru866.c
    trunk/harbour/src/lang/msgrukoi.c
    trunk/harbour/src/lang/msgruwin.c
    trunk/harbour/src/lang/msgsk852.c
    trunk/harbour/src/lang/msgskiso.c
    trunk/harbour/src/lang/msgskkam.c
    trunk/harbour/src/lang/msgskwin.c
    trunk/harbour/src/lang/msgsl437.c
    trunk/harbour/src/lang/msgsl852.c
    trunk/harbour/src/lang/msgsliso.c
    trunk/harbour/src/lang/msgslwin.c
    trunk/harbour/src/lang/msgsr852.c
    trunk/harbour/src/lang/msgsriso.c
    trunk/harbour/src/lang/msgsrwin.c
    trunk/harbour/src/lang/msgtr857.c
    trunk/harbour/src/lang/msgtrwin.c
    trunk/harbour/src/lang/msgua866.c
    trunk/harbour/src/lang/msguados.c
    trunk/harbour/src/lang/msguakoi.c
    trunk/harbour/src/lang/msguawin.c
    trunk/harbour/src/lang/msgzhb5.c
    trunk/harbour/src/lang/msgzhgb.c
    trunk/harbour/src/rtl/errint.c
    trunk/harbour/src/rtl/errintlo.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Mon Nov 16 11:45:13 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Nov 16 11:45:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12905] trunk/harbour
Message-ID: <E1NA4hV-0007WH-SR@d5vjzd1.ch3.sourceforge.com>

Revision: 12905
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12905&view=rev
Author:   druzus
Date:     2009-11-16 16:45:11 +0000 (Mon, 16 Nov 2009)

Log Message:
-----------
2009-11-16 17:44 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/errapi.c
  * harbour/include/hbapierr.h
    * renamed ulGenCode to errGenCode and ulSubCode to errSubCode

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapierr.h
    trunk/harbour/src/rtl/errapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Mon Nov 16 12:01:49 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Mon Nov 16 12:02:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12888] trunk/harbour
In-Reply-To: <CC924942-09E8-4922-A2CF-FEF2AD42CDE9@syenar.hu>
References: <E1N9eTR-0006Lx-Kx@d5vjzd1.ch3.sourceforge.com>	<000401ca65fb$81d38480$857a8d80$@Bisz@t-online.hu>	<000001ca66c8$687411d0$395c3570$@Bisz@t-online.hu>
	<CC924942-09E8-4922-A2CF-FEF2AD42CDE9@syenar.hu>
Message-ID: <000701ca66de$7d1f0c00$775d2400$@Bisz@t-online.hu>

Hi,

Please find attached the corrected files. If somebody has spare time having write access, commit it. Now I am not yet prepared to do it.

Thank you and best regards,
Istv?n 

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. november 16. 15:55
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SF.net SVN: harbour-project:[12888] trunk/harbour

I don't know.

Please feel free to patch these things, there might 
be more, the concept is cleared now, and unfortunately 
I can't dedicate time to clean each of these up.

Thank you all.

Brgds,
Viktor

On 2009 Nov 16, at 15:23, Bisz Istv?n wrote:

> Hi Viktor,
> 
>>    ; NOTE: I didn't test any of these. Pls do so.
> 
> I getting this error:
> c:/harbour/mingw/lib/win/mingw/libhbxbp.a(xbpwindow.o):xbpwindow.c:(.data+0xd48): undefined reference to `HB_FUN_HB_GETMEMUSED'
> 
> Best regards,
> Istv?n
> 
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbxbp.zip
Type: application/x-zip-compressed
Size: 24640 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091116/7816f545/hbxbp-0001.bin
From mbelgrano at deltain.it  Mon Nov 16 12:26:17 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov 16 12:26:49 2009
Subject: [Harbour] Type of dbInfo(1)
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64AFF@PINK.zycie.pzu>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64AFF@PINK.zycie.pzu>
Message-ID: <609353e70911160926m60f8c215s64511b14207402e0@mail.gmail.com>

i have tried made a sample BUT RECEIVE ERROR unable to connect
what i miss?
i can open sql server management studio with localhost\SQLEXPRESS ,
windows autentication

Follow is my  dbinfo information
DbInfo( <nDefine>, [<xNewSetting>] ) --> xCurrentSetting
Queries and/or changes information about a database file open in a work area.

#include "dbinfo.ch"
 REQUEST SQLMIX

PROC main()
 RDDSETDEFAULT( "SQLMIX" )
   x_stringa="driver=SQL
Server;Server=localhost\SQLEXPRESS};Database=HBTEST;Trusted_Connection=yes;"
   IF RDDINFO( 1001, { "ODBC", x_stringa} )=0
   ? "Unable connect to the server with string " + x_stringa
      RETURN
   ENDIF
  ? RDDINFO(RDDI_EXECUTE, "DROP TABLE hbcountry")
   ? RDDINFO(RDDI_EXECUTE, "CREATE TABLE hbcountry (CODE char(3), NAME
char(50), RESIDENTS int(11))")
   DBUSEAREA( .T.,, "SELECT * FROM hbcountry", "hbcountry" )
 ? "DBINFO(1)"
 ? DBINFO(DBI_ISDBF)  // 1  /* Does this RDD support DBFs? */
 RETURN

2009/11/16 Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>:
> Mindaugas, dbInfo(1) from sqlmix is returned U.
> Should be .F.
>
> Regards,
> Marek Horodyski
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From dbtopas at dbtopas.lt  Mon Nov 16 12:35:47 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 16 12:37:21 2009
Subject: [Harbour] Type of dbInfo(1)
In-Reply-To: <609353e70911160926m60f8c215s64511b14207402e0@mail.gmail.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64AFF@PINK.zycie.pzu>
	<609353e70911160926m60f8c215s64511b14207402e0@mail.gmail.com>
Message-ID: <4B018D73.4080002@dbtopas.lt>

Hi,


Massimo Belgrano wrote:
> i have tried made a sample BUT RECEIVE ERROR unable to connect
> what i miss?
> i can open sql server management studio with localhost\SQLEXPRESS ,
> windows autentication
> ...
>    x_stringa="driver=SQL
> Server;Server=localhost\SQLEXPRESS};Database=HBTEST;Trusted_Connection=yes;"

DSN syntax is a little mystic to me. The only odbc sample I have is 
sddodbc/tests/test1.prg. I do not know how to install databases drivers 
and reach some database using DSN, try to find it in the documentation 
of database server or database driver.


Regards,
Mindaugas
From mbelgrano at deltain.it  Mon Nov 16 12:49:32 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov 16 12:50:00 2009
Subject: [Harbour] Type of dbInfo(1)
In-Reply-To: <4B018D73.4080002@dbtopas.lt>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64AFF@PINK.zycie.pzu> 
	<609353e70911160926m60f8c215s64511b14207402e0@mail.gmail.com> 
	<4B018D73.4080002@dbtopas.lt>
Message-ID: <609353e70911160949w3e268c1aqe55b71598e737644@mail.gmail.com>

Connection string builder
http://www.aboutdb.com/ConnectionStringBuilder.php


2009/11/16 Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>:
> Hi,
>
>
> Massimo Belgrano wrote:
>>
>> i have tried made a sample BUT RECEIVE ERROR unable to connect
>> what i miss?
>> i can open sql server management studio with localhost\SQLEXPRESS ,
>> windows autentication
>> ...
>> ? x_stringa="driver=SQL
>>
>> Server;Server=localhost\SQLEXPRESS};Database=HBTEST;Trusted_Connection=yes;"
>
> DSN syntax is a little mystic to me. The only odbc sample I have is
> sddodbc/tests/test1.prg. I do not know how to install databases drivers and
> reach some database using DSN, try to find it in the documentation of
> database server or database driver.
>
>
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From mbelgrano at deltain.it  Mon Nov 16 13:08:12 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov 16 13:08:41 2009
Subject: [Harbour] Type of dbInfo(1)
In-Reply-To: <609353e70911160949w3e268c1aqe55b71598e737644@mail.gmail.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64AFF@PINK.zycie.pzu> 
	<609353e70911160926m60f8c215s64511b14207402e0@mail.gmail.com> 
	<4B018D73.4080002@dbtopas.lt>
	<609353e70911160949w3e268c1aqe55b71598e737644@mail.gmail.com>
Message-ID: <609353e70911161008t5277a946nfdb02f367f600c90@mail.gmail.com>

i have tried with the generated string but not seem aivable odbc
works in vb and not in harbour_sqlmix
Provider=SQLOLEDB.1;Integrated Security=SSPI;Persist Security
Info=False;Initial Catalog=hbtest;Data Source=localhost\SQLEXPRESS
Provider=SQLNCLI.1;Integrated Security=SSPI;Persist Security
Info=False;Initial Catalog=hbtest;Data Source=localhost\sqlexpress

sql have a native connection?

2009/11/16 Massimo Belgrano <mbelgrano@deltain.it>:
> Connection string builder
> http://www.aboutdb.com/ConnectionStringBuilder.php
>
>
> 2009/11/16 Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>:
>> Hi,
>>
>>
>> Massimo Belgrano wrote:
>>>
>>> i have tried made a sample BUT RECEIVE ERROR unable to connect
>>> what i miss?
>>> i can open sql server management studio with localhost\SQLEXPRESS ,
>>> windows autentication
>>> ...
>>> ? x_stringa="driver=SQL
>>>
>>> Server;Server=localhost\SQLEXPRESS};Database=HBTEST;Trusted_Connection=yes;"
>>
>> DSN syntax is a little mystic to me. The only odbc sample I have is
>> sddodbc/tests/test1.prg. I do not know how to install databases drivers and
>> reach some database using DSN, try to find it in the documentation of
>> database server or database driver.
>>
>>
>> Regards,
>> Mindaugas
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
>
> --
> Massimo Belgrano
>



-- 
Massimo Belgrano

Iscritto all'albo dei CTU presso il Tribunale di Novara per materia Informatica
Delta Informatica S.r.l. (http://www.deltain.it/) (+39 0321 455962)
Analisi e sviluppo software per Lan e Web -  Consulenza informatica - Formazione
From dbtopas at dbtopas.lt  Mon Nov 16 13:13:06 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 16 13:14:42 2009
Subject: [Harbour] Type of dbInfo(1)
In-Reply-To: <609353e70911161008t5277a946nfdb02f367f600c90@mail.gmail.com>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64AFF@PINK.zycie.pzu>
	<609353e70911160926m60f8c215s64511b14207402e0@mail.gmail.com>
	<4B018D73.4080002@dbtopas.lt>	<609353e70911160949w3e268c1aqe55b71598e737644@mail.gmail.com>
	<609353e70911161008t5277a946nfdb02f367f600c90@mail.gmail.com>
Message-ID: <4B019632.500@dbtopas.lt>

Hi,


Massimo Belgrano wrote:
> sql have a native connection?

Sorry, Massimo, I do not understand your question.


Regards,
Mindaugas
From mbelgrano at deltain.it  Mon Nov 16 13:22:15 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov 16 13:22:42 2009
Subject: [Harbour] Type of dbInfo(1)
In-Reply-To: <4B019632.500@dbtopas.lt>
References: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64AFF@PINK.zycie.pzu> 
	<609353e70911160926m60f8c215s64511b14207402e0@mail.gmail.com> 
	<4B018D73.4080002@dbtopas.lt>
	<609353e70911160949w3e268c1aqe55b71598e737644@mail.gmail.com> 
	<609353e70911161008t5277a946nfdb02f367f600c90@mail.gmail.com> 
	<4B019632.500@dbtopas.lt>
Message-ID: <609353e70911161022r6b626dbbx9ade38043eb317e0@mail.gmail.com>

i have tried string generated by  Connection string builder
http://www.aboutdb.com/ConnectionStringBuilder.php


2009/11/16 Mindaugas Kavaliauskas <dbtopas@dbtopas.lt>:
> Hi,
>
>
> Massimo Belgrano wrote:
>>
>> sql have a native connection?
>
> Sorry, Massimo, I do not understand your question.
>
>
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at users.sourceforge.net  Mon Nov 16 13:53:23 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Nov 16 13:53:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12906] trunk/harbour
Message-ID: <E1NA6hX-0005cB-Kj@dn4whf1.ch3.sourceforge.com>

Revision: 12906
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12906&view=rev
Author:   druzus
Date:     2009-11-16 18:53:05 +0000 (Mon, 16 Nov 2009)

Log Message:
-----------
2009-11-16 19:52 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/nortl/nortl.c
    ! fixed left by mistake ULONG ulIntCode in non HVM hb_errInternal()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/nortl/nortl.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Nov 16 14:29:04 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 16 14:29:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <000001ca66d7$cdc63040$695290c0$@Bisz@t-online.hu>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>	<26347229.post@talk.nabble.com>	<000001ca6508$4a6c5d80$df451880$@Bisz@t-online.hu>	<000501ca6511$c093edd0$41bbc970$@Bisz@t-online.hu>	<000801ca6523$19b03700$4d10a500$@Bisz@t-online.hu>	<26353560.post@talk.nabble.com>	<000101ca656a$bb2b3430$31819c90$@Bisz@t-online.hu>
	<47CB99A2-E95B-4207-926A-C88C82C536CE@syenar.hu>
	<000001ca66d7$cdc63040$695290c0$@Bisz@t-online.hu>
Message-ID: <72D7207D-60B1-4C7A-B83B-ABE88A34AFE6@syenar.hu>

Hi Istvan,

Thank you and welcome to the Harbour dev team! :)

Brgds,
Viktor

On 2009 Nov 16, at 17:13, Bisz Istv?n wrote:

> Hi Viktor,
> 
> Login Name (User Name): 
> ibisz
> 
> Best regards,
> Istv?n
> 
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
> Sent: 2009. november 14. 23:36
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
> 
> Hi Istvan,
> 
>>> BTW can you strip the messages to which you are replying?
>>> Just keep relevant portion only into your message. Sometimes
>>> it becomes difficult to locate the excat message of your current reply.
>> 
>> OK. I always forget it with this list, as my Outlook works in a different
> way, requested by others.
>> 
>>> If you are ready with Harbour standard coding we can ask Viktor to grant
> your write access on SVN.
>> 
>> Maybe I need here an input from your side, in any case thanks for your
> trustfulness.
> 
> Please tell us your sf.net username and I'll add you as Harbour dev.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Nov 16 14:32:10 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 16 14:32:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12896] trunk/harbour
In-Reply-To: <20091116161432.GA8821@34-mo7-2.home.aster.pl>
References: <E1N9yt8-0002Yg-D2@74yxhf1.ch3.sourceforge.com>
	<20091116154308.GD8109@34-mo7-2.home.aster.pl>
	<3F252358-0CAB-4E94-9AE5-316D7177E3EE@syenar.hu>
	<20091116161432.GA8821@34-mo7-2.home.aster.pl>
Message-ID: <2F0579D0-8D8E-46A4-AE04-8AB2AB51CA81@syenar.hu>

>>> I think that HB_ERRCODE should be mapped to 32bit not 64 bit integer.
>>> I do not see any place where we may need ULONG.
>> I didn't mean any 64-bit stuff here, I'm changing hb_parni() to hb_parnl() f.e.
> 
> ULONG is 64bit integer in all 64bit systems except Windows so if you want
> to use ULONG then it means that you will effectively force using 64bit
> integers as error code holder.

Ah okay, I don't want to force anyone to anything, 
maybe I was getting wrong the type mappings of  
Harbour API functions to C type all these years.

To me ULONG/LONG means hb_parnl/hb_retnl(), and 
USHORT/SHORT/int/u*int means hb_parni()/hb_retni(). 
Maybe it stuck from the days when we supported 
16 bit systems and from CA-Clipper. Tell me if 
this is not true anymore.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Nov 16 14:33:26 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 16 14:33:37 2009
Subject: Res: [Harbour] harbour MT and windows98 crashes
In-Reply-To: <856396.94786.qm@web52205.mail.re2.yahoo.com>
References: <797897.59266.qm@web52204.mail.re2.yahoo.com>
	<20091116152231.GB8109@34-mo7-2.home.aster.pl>
	<856396.94786.qm@web52205.mail.re2.yahoo.com>
Message-ID: <8E3B3EC7-B243-4B01-8B00-FAC3913C3B30@syenar.hu>

> i uses BCC 5.1
> i use MSVC in some months ago, but i have problem, with variables
> ex:
> CLASS X
>    DATA xyz
> 
> IF i call
>  X:zyx (guess an error) correct xyz
> causes break, without message error, then i can?t find where are the error

This is heavy claim, please back it up with a self-contained 
example.

At first sight I doubt such serious problem can still lurk in 
Harbour source.

Brgds,
Viktor
From vszakats at users.sourceforge.net  Mon Nov 16 14:47:10 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 16 14:47:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12907] trunk/harbour
Message-ID: <E1NA7Xa-0003Ka-E6@74yxhf1.ch3.sourceforge.com>

Revision: 12907
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12907&view=rev
Author:   vszakats
Date:     2009-11-16 19:47:09 +0000 (Mon, 16 Nov 2009)

Log Message:
-----------
2009-11-16 20:46 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbxbp/tests/demoxbp.prg
  * contrib/hbxbp/xbpwindow.prg
    ! Applied patch from Istvan Bisz, fixing some typos in recent commits. 
      Thank you!

  * ChangeLog
    * Few TODOs marked DONE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Mon Nov 16 15:00:36 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Mon Nov 16 15:00:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <72D7207D-60B1-4C7A-B83B-ABE88A34AFE6@syenar.hu>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>	<26347229.post@talk.nabble.com>	<000001ca6508$4a6c5d80$df451880$@Bisz@t-online.hu>	<000501ca6511$c093edd0$41bbc970$@Bisz@t-online.hu>	<000801ca6523$19b03700$4d10a500$@Bisz@t-online.hu>	<26353560.post@talk.nabble.com>	<000101ca656a$bb2b3430$31819c90$@Bisz@t-online.hu>	<47CB99A2-E95B-4207-926A-C88C82C536CE@syenar.hu>	<000001ca66d7$cdc63040$695290c0$@Bisz@t-online.hu>
	<72D7207D-60B1-4C7A-B83B-ABE88A34AFE6@syenar.hu>
Message-ID: <000001ca66f7$77988540$66c98fc0$@Bisz@t-online.hu>

Hi Viktor,

Thank you for the friendly words.
I will need some inputs for newbie regarding the repo update in written form
or some links.

Best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. november 16. 20:29
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour

Hi Istvan,

Thank you and welcome to the Harbour dev team! :)

Brgds,
Viktor

On 2009 Nov 16, at 17:13, Bisz Istv?n wrote:

> Hi Viktor,
> 
> Login Name (User Name): 
> ibisz
> 
> Best regards,
> Istv?n
> 
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
> Sent: 2009. november 14. 23:36
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
> 
> Hi Istvan,
> 
>>> BTW can you strip the messages to which you are replying?
>>> Just keep relevant portion only into your message. Sometimes
>>> it becomes difficult to locate the excat message of your current reply.
>> 
>> OK. I always forget it with this list, as my Outlook works in a different
> way, requested by others.
>> 
>>> If you are ready with Harbour standard coding we can ask Viktor to grant
> your write access on SVN.
>> 
>> Maybe I need here an input from your side, in any case thanks for your
> trustfulness.
> 
> Please tell us your sf.net username and I'll add you as Harbour dev.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Nov 16 15:07:59 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 16 15:08:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <000001ca66f7$77988540$66c98fc0$@Bisz@t-online.hu>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>	<26347229.post@talk.nabble.com>	<000001ca6508$4a6c5d80$df451880$@Bisz@t-online.hu>	<000501ca6511$c093edd0$41bbc970$@Bisz@t-online.hu>	<000801ca6523$19b03700$4d10a500$@Bisz@t-online.hu>	<26353560.post@talk.nabble.com>	<000101ca656a$bb2b3430$31819c90$@Bisz@t-online.hu>	<47CB99A2-E95B-4207-926A-C88C82C536CE@syenar.hu>	<000001ca66d7$cdc63040$695290c0$@Bisz@t-online.hu>
	<72D7207D-60B1-4C7A-B83B-ABE88A34AFE6@syenar.hu>
	<000001ca66f7$77988540$66c98fc0$@Bisz@t-online.hu>
Message-ID: <556232C6-7E13-497F-9E08-28643C8AA49B@syenar.hu>

Hi,

> Hi Viktor,
> 
> Thank you for the friendly words.
> I will need some inputs for newbie regarding the repo update in written form
> or some links.

You can find all essential information in doc/howtosvn.txt.

I you have any doubts after reading the document, don't 
hesitate to ask.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Mon Nov 16 15:13:27 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Mon Nov 16 15:13:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour
In-Reply-To: <556232C6-7E13-497F-9E08-28643C8AA49B@syenar.hu>
References: <E1N97uo-0006id-1r@dn4whf1.ch3.sourceforge.com>	<BCACC029-739F-4305-9C8E-842F1E641742@syenar.hu>	<26347229.post@talk.nabble.com>	<000001ca6508$4a6c5d80$df451880$@Bisz@t-online.hu>	<000501ca6511$c093edd0$41bbc970$@Bisz@t-online.hu>	<000801ca6523$19b03700$4d10a500$@Bisz@t-online.hu>	<26353560.post@talk.nabble.com>	<000101ca656a$bb2b3430$31819c90$@Bisz@t-online.hu>	<47CB99A2-E95B-4207-926A-C88C82C536CE@syenar.hu>	<000001ca66d7$cdc63040$695290c0$@Bisz@t-online.hu>	<72D7207D-60B1-4C7A-B83B-ABE88A34AFE6@syenar.hu>	<000001ca66f7$77988540$66c98fc0$@Bisz@t-online.hu>
	<556232C6-7E13-497F-9E08-28643C8AA49B@syenar.hu>
Message-ID: <000101ca66f9$42882930$c7987b90$@Bisz@t-online.hu>

OK. I am studying...

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. november 16. 21:08
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SF.net SVN: harbour-project:[12868] trunk/harbour

Hi,

> Hi Viktor,
> 
> Thank you for the friendly words.
> I will need some inputs for newbie regarding the repo update in written
form
> or some links.

You can find all essential information in doc/howtosvn.txt.

I you have any doubts after reading the document, don't 
hesitate to ask.

Brgds,
Viktor

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Mon Nov 16 15:31:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 16 15:31:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12908] trunk/harbour
Message-ID: <E1NA8Ej-0000It-Os@dn4whf1.ch3.sourceforge.com>

Revision: 12908
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12908&view=rev
Author:   vszakats
Date:     2009-11-16 20:31:33 +0000 (Mon, 16 Nov 2009)

Log Message:
-----------
2009-11-16 21:29 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbct/ctnet.c
  * contrib/hbct/pos1.c
  * contrib/hbct/ctc.c
  * contrib/hbct/ct.h
  * contrib/hbct/replace.c
  * contrib/hbct/remove.c
    + Changed to use HB_ERRCODE.
    ; Please review me.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/ct.h
    trunk/harbour/contrib/hbct/ctc.c
    trunk/harbour/contrib/hbct/ctnet.c
    trunk/harbour/contrib/hbct/pos1.c
    trunk/harbour/contrib/hbct/remove.c
    trunk/harbour/contrib/hbct/replace.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From zen25000 at zen.co.uk  Mon Nov 16 16:40:59 2009
From: zen25000 at zen.co.uk (Barry Jackson)
Date: Mon Nov 16 16:41:09 2009
Subject: [Harbour] User forum broken - redirect loop
In-Reply-To: <1D6D0020-C75B-460C-B625-E5A7637B1BBC@syenar.hu>
References: <4AF962DA.9050501@zen.co.uk>
	<A5B27261-06E1-4FA9-B0E3-CED3DBEA41EC@syenar.hu>
	<4AF9B231.9010500@zen.co.uk>
	<E0D3C04C-0D2A-4CE5-9227-A0534A339149@syenar.hu>
	<4AFAAC04.1060907@zen.co.uk>
	<EAFF2355-2780-4F6B-A609-6765F32594AA@syenar.hu>
	<4AFB4877.2000202@zen.co.uk>
	<B9FA1EC5-5A9C-4F94-BD75-7432399E8F95@syenar.hu>
	<4B0182E2.7090006@zen.co.uk>
	<1D6D0020-C75B-460C-B625-E5A7637B1BBC@syenar.hu>
Message-ID: <4B01C6EB.6080201@zen.co.uk>

On 16/11/09 19:41, Viktor Szak?ts wrote:
> Hi Barry,
>
>>> Here, it works as expected (with your login) up to the point I try to submit a post, where this happens:
>>> 'Safari can?t open the page.
>>> Too many redirects occurred trying to open ?https://sourceforge.net/apps/phpbb/harbour-project/posting.php?mode=reply&f=3&t=23?. This might occur if you open a page that is redirected to open another page which then is redirected to open the original page.'
>>> [Safari on OS X Snow Leopard 10.6.2]
>>> I hope they will fix it ASAP. I couldn't replicate the login problem you mention in the other mail. Here I could see all forums and I had the "Post Reply" button active.
>>> It's worth mentioning that strangely, I don't get the redirect error when using my own acc to submit a post.
>>> My login however is a special one, since I had created the forum.
>>> Maybe something has gone wrong with your account inside the sf.net systems. It'd be better to check it against someone's account, who has a normal
>>> one.
>>> Brgds,
>>> Viktor
>>
>>
>> Hi Viktor,
>> I spent an hour on IRC with Craig Maloney (System Programmer / Analyst II, Sourceforge.net) this afternoon.
>> After much poking around it seems that my username is no longer on the member's list for Harbour User Group.
>> It was there ten days ago when I posted that topic and has always worked OK in the past (I think I placed the first post!).
>> Can you add it back for me please ?
>
> I'm not exactly sure what you mean. I didn't add or remove
> anyone to/from the forum member list.
>
> I've now check the admin interface and found this:
> ---
> Inactive users
> This is a list of users who have registered but whose accounts are inactive. You can activate, delete or remind (by sending an e-mail) these users if you wish.
>
> USERNAME	JOINED	INACTIVE DATE	REASON	LAST VISIT	MARK
> barjac	2009.06.11 Thu 00:41	2009.11.08 Sun 16:06	Profile details changed	2009.11.08 Sun 16:05
> ---
>
> I've activated you, but I seriously wonder what does this issue mean.
>
> Brgds,
> Viktor
>

Thanks - it's now working fine.
The date and time of the profile details change is correct - I modified 
my signature slightly. That's the last time it worked.
I don't understand what they mean by "inactive", as I had just posted to 
the forum the same day.
Seems very odd and undesirable behaviour.
Cheers,
Barry


From fperillo at gmail.com  Mon Nov 16 16:53:43 2009
From: fperillo at gmail.com (francesco perillo)
Date: Mon Nov 16 16:53:52 2009
Subject: [Harbour] OLE objects syntax...
In-Reply-To: <4B004A0D.4010203@dbtopas.lt>
References: <6943770e0911141709u74775d24m9e570755eb10808b@mail.gmail.com>
	<4AFF5B69.8020900@dbtopas.lt>
	<6943770e0911150141w37b3377cu422f3f554d8b4b4d@mail.gmail.com>
	<4B004A0D.4010203@dbtopas.lt>
Message-ID: <6943770e0911161353v1695907bre29d3a1370390abe@mail.gmail.com>

> This can be solved by using "_" in front of method to force
> DISPATCH_PROPERTYPUT. So,
> ? oPdfApp:_cOption( "UseAutoSave" , 1 )
> do the job.

Yes, it does. Thank you !

I still have problems with 100% cpu load when I call ::cClose() but
I'm investigating on this....

Francesco
From snaiperis at users.sourceforge.net  Mon Nov 16 17:03:41 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Mon Nov 16 17:03:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12909] trunk/harbour
Message-ID: <E1NA9fh-0005Wh-ID@74yxhf1.ch3.sourceforge.com>

Revision: 12909
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12909&view=rev
Author:   snaiperis
Date:     2009-11-16 22:03:40 +0000 (Mon, 16 Nov 2009)

Log Message:
-----------
2009-11-17 00:01 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  + harbour/contrib/rddsql/sddodbc/tests/test2.prg
    + added ODBC sample for MySql database

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/rddsql/sddodbc/tests/test2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From snaiperis at users.sourceforge.net  Mon Nov 16 17:13:17 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Mon Nov 16 17:13:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12910] trunk/harbour
Message-ID: <E1NA9oz-0005hn-1s@74yxhf1.ch3.sourceforge.com>

Revision: 12910
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12910&view=rev
Author:   snaiperis
Date:     2009-11-16 22:13:15 +0000 (Mon, 16 Nov 2009)

Log Message:
-----------
2009-11-17 00:10 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/rddsql/sddodbc/tests/test2.prg
    ! fixed minor error in last commit

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddodbc/tests/test2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fperillo at gmail.com  Mon Nov 16 17:48:40 2009
From: fperillo at gmail.com (francesco perillo)
Date: Mon Nov 16 17:48:48 2009
Subject: [Harbour] OLE objects syntax...
In-Reply-To: <6943770e0911161353v1695907bre29d3a1370390abe@mail.gmail.com>
References: <6943770e0911141709u74775d24m9e570755eb10808b@mail.gmail.com>
	<4AFF5B69.8020900@dbtopas.lt>
	<6943770e0911150141w37b3377cu422f3f554d8b4b4d@mail.gmail.com>
	<4B004A0D.4010203@dbtopas.lt>
	<6943770e0911161353v1695907bre29d3a1370390abe@mail.gmail.com>
Message-ID: <6943770e0911161448g6b6c5afclccc4224372a7bc0f@mail.gmail.com>

>
> I still have problems with 100% cpu load when I call ::cClose() but
> I'm investigating on this....

It seems that I have this problem only in the demo program... I  will
investigate i f possible...

Francesco
From bedipritpal at hotmail.com  Mon Nov 16 18:00:29 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Nov 16 18:00:38 2009
Subject: [Harbour] HBIDE - An Overview
Message-ID: <26379927.post@talk.nabble.com>


Hello All

Just a start for more discussions...

EMERGENCE OF THIS IDEA
===================

Massimo: initiated idea to have "xMate" or "xMate like" 
edit/compile/link/run cycle IDE but available for all platforms
Harbour support.

Viktor: presented the minimum requirements an IDE must contain 
  0) Availability on OS X, Linux and Windows x86 and x64. 
  1) Very good editor with block editing capability, syntax 
     highlighting, possibly "intellisense". Project-wide 
     search and replace. Support for all CPs Harbour supports. 
     ( syntax highlighting for: prg, c and cpp ) 
  2) Integration with VCS. 
  3) Integrated build tool. 
  4) Integrated project management. 

Istvan: extended 3) above as 
  3.1) Integrated debugger. 

Francesco: suggested to integrate "Eclipse" which he thought, 
  and others supported, is a great tool, but also expressed that 
  he has no knowledge, so far, how it can be integrated with Harbour.

MY VIEWPOINT
===========

Since the day Andy started development on xMate, I remained in 
touch with this project and we had numerous talks about its features.
Since then xMate is an integral part of my development cycles. I am rather 
a dire fan of xMate. 

As this is a Windows only solution, it will probably be hard to port it to 
any other platform, unless a great amount of time is not invested into it.
As of now I do not have requirements to convert my applications on all 
platforms and as such xMate completely fulfils my needs.

Having said that, still, I am keen on developing an IDE, to a level
resembling 
to xMate ( because of my intimacy as well a big user base ) in functionality
but extending it in other ways. 

ROADMAP TO HBIDE:
  0. Development style : PRG
  1. Primary coding style : HBXBP
  2. Extended calls ( if could not be included in HBXBP ) : HBQT
  3. Base protocol for COMPILE/LINK cycle : HBMK2
  4. 1st version : xMate like functionality
  5. 2nd version : Integration of Qt CREATOR and .ui components
  6. ...

BENEFITS ( apart from a multi-platform usage ):
  1. Xbase++ class framework will be extended to include some very fine Qt
extensions.
  2. HBQT will be extented to include missing components which might be
necessary.
  3. The resulting application will show up the strength of so many Harbour
features.
  4. The resulting application will offer a application framework for GUI
development
      to the beginners, i.e., it itself will be a demo application.

LOCATION
=======
  harbour/contrib/hbide

NAME
====
  HBIDE - Harbour's Integrated Development Environment

CHANCES OF SUCCESS
=================
  Because project is purely based on PRG code, it is highly possible that 
  a lot of you may join this effort, not only for coding but also for
debugging, suggestions
  and whatever... So I see in optimism for its succeess.

DETERMINATION
============
  I am geared up for its development no matter what will be the
consequences, failure or success.
  First commit will be around this weekend though I am in a position to show
you up something.

NEXT REQUISIT
===========
  Your support in terms of vocalness.


Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HBIDE---An-Overview-tp26379927p26379927.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Mon Nov 16 18:22:36 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov 16 18:23:05 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <26379927.post@talk.nabble.com>
References: <26379927.post@talk.nabble.com>
Message-ID: <609353e70911161522q389d72ear923e8e2b08dfa184@mail.gmail.com>

Rock!
I strong agree with your viepoint xmate like is very important
do you think that is possible syntax high light, intellisense at the
xmate level?
maj be done also a visual debugger?
a little proposal for name hbmate hbvisual (is xmate like)


2009/11/17 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hello All
>
> Just a start for more discussions...
>
> EMERGENCE OF THIS IDEA
> ===================
>
> Massimo: initiated idea to have "xMate" or "xMate like"
> edit/compile/link/run cycle IDE but available for all platforms
> Harbour support.
>
> Viktor: presented the minimum requirements an IDE must contain
> ?0) Availability on OS X, Linux and Windows x86 and x64.
> ?1) Very good editor with block editing capability, syntax
> ? ? highlighting, possibly "intellisense". Project-wide
> ? ? search and replace. Support for all CPs Harbour supports.
> ? ? ( syntax highlighting for: prg, c and cpp )
> ?2) Integration with VCS.
> ?3) Integrated build tool.
> ?4) Integrated project management.
>
> Istvan: extended 3) above as
> ?3.1) Integrated debugger.
>
> Francesco: suggested to integrate "Eclipse" which he thought,
> ?and others supported, is a great tool, but also expressed that
> ?he has no knowledge, so far, how it can be integrated with Harbour.
>
> MY VIEWPOINT
> ===========
>
> Since the day Andy started development on xMate, I remained in
> touch with this project and we had numerous talks about its features.
> Since then xMate is an integral part of my development cycles. I am rather
> a dire fan of xMate.
>
> As this is a Windows only solution, it will probably be hard to port it to
> any other platform, unless a great amount of time is not invested into it.
> As of now I do not have requirements to convert my applications on all
> platforms and as such xMate completely fulfils my needs.
>
> Having said that, still, I am keen on developing an IDE, to a level
> resembling
> to xMate ( because of my intimacy as well a big user base ) in functionality
> but extending it in other ways.
>
> ROADMAP TO HBIDE:
> ?0. Development style : PRG
> ?1. Primary coding style : HBXBP
> ?2. Extended calls ( if could not be included in HBXBP ) : HBQT
> ?3. Base protocol for COMPILE/LINK cycle : HBMK2
> ?4. 1st version : xMate like functionality
> ?5. 2nd version : Integration of Qt CREATOR and .ui components
> ?6. ...
>
> BENEFITS ( apart from a multi-platform usage ):
> ?1. Xbase++ class framework will be extended to include some very fine Qt
> extensions.
> ?2. HBQT will be extented to include missing components which might be
> necessary.
> ?3. The resulting application will show up the strength of so many Harbour
> features.
> ?4. The resulting application will offer a application framework for GUI
> development
> ? ? ?to the beginners, i.e., it itself will be a demo application.
>
> LOCATION
> =======
> ?harbour/contrib/hbide
>
> NAME
> ====
> ?HBIDE - Harbour's Integrated Development Environment
>
> CHANCES OF SUCCESS
> =================
> ?Because project is purely based on PRG code, it is highly possible that
> ?a lot of you may join this effort, not only for coding but also for
> debugging, suggestions
> ?and whatever... So I see in optimism for its succeess.
>
> DETERMINATION
> ============
> ?I am geared up for its development no matter what will be the
> consequences, failure or success.
> ?First commit will be around this weekend though I am in a position to show
> you up something.
>
> NEXT REQUISIT
> ===========
> ?Your support in terms of vocalness.
>
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context: http://old.nabble.com/HBIDE---An-Overview-tp26379927p26379927.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From druzus at users.sourceforge.net  Mon Nov 16 18:36:59 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Nov 16 18:37:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12911] trunk/harbour
Message-ID: <E1NAB7z-00075L-WD@74yxhf1.ch3.sourceforge.com>

Revision: 12911
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12911&view=rev
Author:   druzus
Date:     2009-11-16 23:36:58 +0000 (Mon, 16 Nov 2009)

Log Message:
-----------
2009-11-17 00:36 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/win/bcc.mk
    ! always use \ in paths used as ilink32.exe parameters - ilink does not
      accept / as path delimiter and always use them as switch separators
    ! enclose parameters with paths into "" to avoid \ stripping by shell
    ! removed old hacks used for bcc32.exe and WINE
    Now BCC works again with POSIX shells and WINE.
    Please test these modifications in native MS-Windows environment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/bcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Nov 16 19:06:11 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 16 19:06:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12912] trunk/harbour
Message-ID: <E1NABaF-0006cv-O1@d5vjzd1.ch3.sourceforge.com>

Revision: 12912
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12912&view=rev
Author:   vszakats
Date:     2009-11-17 00:06:04 +0000 (Tue, 17 Nov 2009)

Log Message:
-----------
2009-11-17 01:05 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rdd/dbfntx/dbfntx1.c
  * src/rdd/dbfnsx/dbfnsx1.c
  * src/rdd/dbfcdx/dbfcdx1.c
  * src/rdd/dbffpt/dbffpt1.c
  * contrib/xhb/xhbfunc.c
  * contrib/hbnf/fttext.c
  * contrib/hbbmcdx/bmdbfcdx.c
    + Changed to use HB_ERRCODE.

  * contrib/hbmzip/hbmzip.c
    * Minor formatting.
    ; NOTE/TOFIX: Here there is again 'int' used as error code.

  * contrib/rddsql/sddodbc/tests/test1.prg
  * contrib/rddsql/sddodbc/tests/test2.prg
    ! Fixed to use manifest constants instead of literals in SET() calls.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/hbmzip/hbmzip.c
    trunk/harbour/contrib/hbnf/fttext.c
    trunk/harbour/contrib/rddsql/sddodbc/tests/test1.prg
    trunk/harbour/contrib/rddsql/sddodbc/tests/test2.prg
    trunk/harbour/contrib/xhb/xhbfunc.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rdd/dbffpt/dbffpt1.c
    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/src/rdd/dbfntx/dbfntx1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Mon Nov 16 19:21:41 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Nov 16 19:21:49 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <609353e70911161522q389d72ear923e8e2b08dfa184@mail.gmail.com>
References: <26379927.post@talk.nabble.com>
	<609353e70911161522q389d72ear923e8e2b08dfa184@mail.gmail.com>
Message-ID: <26382342.post@talk.nabble.com>


Hi


Massimo Belgrano-3 wrote:
> 
> I strong agree with your viepoint xmate like is very important
> do you think that is possible syntax high light, intellisense at the
> xmate level?
> 

I am already done with Syntax highlighting.
Intellisense - I need more time, but is not difficult.



> maj be done also a visual debugger?
> 

I am not the right person to do it. Probably someone will integrate.



> a little proposal for name hbmate hbvisual (is xmate like)
> 

No. HBIDE is perfect.

Regards
Pritpal Bedi

BTW: can you set your newsreader not to attach message at the end of your
reply?

-- 
View this message in context: http://old.nabble.com/HBIDE---An-Overview-tp26379927p26382342.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Mon Nov 16 19:24:02 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Nov 16 19:24:08 2009
Subject: [Harbour] HBIDE - An Overview : Application Icon
In-Reply-To: <26379927.post@talk.nabble.com>
References: <26379927.post@talk.nabble.com>
Message-ID: <26382358.post@talk.nabble.com>


Hello All

Can some of you provide a descent icon for HBIDE.exe ?

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HBIDE---An-Overview-tp26379927p26382358.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Mon Nov 16 19:24:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 16 19:24:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12913] trunk/harbour
Message-ID: <E1NABrw-0006tN-76@d5vjzd1.ch3.sourceforge.com>

Revision: 12913
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12913&view=rev
Author:   vszakats
Date:     2009-11-17 00:24:27 +0000 (Tue, 17 Nov 2009)

Log Message:
-----------
2009-11-17 01:23 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/gtwvg/Makefile
  * external/libpng/Makefile
    % Streamlined platform/compiler filtering logic plus more 
      precise skip reason.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/external/libpng/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Mon Nov 16 19:37:08 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov 16 19:37:36 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <26382342.post@talk.nabble.com>
References: <26379927.post@talk.nabble.com>
	<609353e70911161522q389d72ear923e8e2b08dfa184@mail.gmail.com> 
	<26382342.post@talk.nabble.com>
Message-ID: <609353e70911161637v62da1bd9qb41dd5279f84d1d2@mail.gmail.com>

I use gmail

can somebody help me how can i not to attach message at the end of my reply?


2009/11/17 Pritpal Bedi <bedipritpal@hotmail.com>:
> BTW: can you set your newsreader not to attach message at the end of your
> reply?
>

-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Mon Nov 16 19:49:02 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 16 19:49:13 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <609353e70911161637v62da1bd9qb41dd5279f84d1d2@mail.gmail.com>
References: <26379927.post@talk.nabble.com>
	<609353e70911161522q389d72ear923e8e2b08dfa184@mail.gmail.com>
	<26382342.post@talk.nabble.com>
	<609353e70911161637v62da1bd9qb41dd5279f84d1d2@mail.gmail.com>
Message-ID: <B5C05D50-2825-42B6-8533-27C5B9CA298B@syenar.hu>

Simply delete it.

Brgds,
Viktor

On 2009 Nov 17, at 01:37, Massimo Belgrano wrote:

> I use gmail
> 
> can somebody help me how can i not to attach message at the end of my reply?
> 
> 
> 2009/11/17 Pritpal Bedi <bedipritpal@hotmail.com>:
>> BTW: can you set your newsreader not to attach message at the end of your
>> reply?
>> 
> 
> -- 
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Mon Nov 16 20:09:13 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov 16 20:09:41 2009
Subject: [Harbour] HBIDE - An Overview : Application Icon
In-Reply-To: <26382358.post@talk.nabble.com>
References: <26379927.post@talk.nabble.com> <26382358.post@talk.nabble.com>
Message-ID: <609353e70911161709s4848e6f5t57a126fc4148b433@mail.gmail.com>

Power button made with I of IDEHB

2009/11/17 Pritpal Bedi <bedipritpal@hotmail.com>:
>
> Hello All
>
> Can some of you provide a descent icon for HBIDE.exe ?
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context: http://old.nabble.com/HBIDE---An-Overview-tp26379927p26382358.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: idehb.png
Type: image/png
Size: 2463 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091117/5a81d868/idehb.png
From mbelgrano at deltain.it  Mon Nov 16 20:10:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov 16 20:11:25 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <B5C05D50-2825-42B6-8533-27C5B9CA298B@syenar.hu>
References: <26379927.post@talk.nabble.com>
	<609353e70911161522q389d72ear923e8e2b08dfa184@mail.gmail.com> 
	<26382342.post@talk.nabble.com>
	<609353e70911161637v62da1bd9qb41dd5279f84d1d2@mail.gmail.com> 
	<B5C05D50-2825-42B6-8533-27C5B9CA298B@syenar.hu>
Message-ID: <609353e70911161710r4815a4ceif18d0d3acc7be371@mail.gmail.com>

Follow is correct Deleting?

2009/11/17 Viktor Szak?ts <harbour.01@syenar.hu>:
> Simply delete it.
>
> Brgds,
> Viktor
>
> On 2009 Nov 17, at 01:37, Massimo Belgrano wrote:
>
>> I use gmail
>>
>> can somebody help me how can i not to attach message at the end of my reply?
>>
>>
>> 2009/11/17 Pritpal Bedi <bedipritpal@hotmail.com>:
>>> BTW: can you set your newsreader not to attach message at the end of your
>>> reply?
>>>
>>
>> --
>> Massimo Belgrano
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From mhsabado at gmail.com  Mon Nov 16 20:16:51 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Mon Nov 16 20:17:02 2009
Subject: [Harbour] Error Building Harbour with BCC 6.20
In-Reply-To: <4b01d9fe.1a08c00a.7eb7.3131SMTPIN_ADDED@mx.google.com>
References: <4b01d9fe.1a08c00a.7eb7.3131SMTPIN_ADDED@mx.google.com>
Message-ID: <4B01F983.7060900@gmail.com>

Hi Przemek,

I encountered error building Harbour with latest SVN.

Thanks in advance for any help.

Best regards,
Mario
*********************************************************************
ilink32.exe  -L"C:\BCC62\bin\..\Lib" -L"C:\BCC62\bin\..\Lib\PSDK" -Gn 
-Tpe "-L..
\..\..\..\..\lib\win\bcc"   c0x32.obj hbpp.obj, 
"..\..\..\..\..\bin\win\bcc\hbpp
.exe", nul, hbnortl hbcommon kernel32 user32 ws2_32 advapi32 gdi32 
cw32mt import
32
Turbo Incremental Link 6.00 Copyright (c) 1997-2009 Embarcadero 
Technologies, In
c.
Fatal: Unable to open file 'BCC.OBJ'
mingw32-make.exe[3]: *** [hbpp.exe] Error 2
rm hbpp.obj
mingw32-make.exe[2]: *** [descend] Error 2
mingw32-make.exe[1]: *** [pp.inst] Error 2
mingw32-make.exe: *** [src.inst] Error 2
***************************************************************
From harbour.01 at syenar.hu  Mon Nov 16 20:18:18 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 16 20:18:28 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <609353e70911161710r4815a4ceif18d0d3acc7be371@mail.gmail.com>
References: <26379927.post@talk.nabble.com>
	<609353e70911161522q389d72ear923e8e2b08dfa184@mail.gmail.com>
	<26382342.post@talk.nabble.com>
	<609353e70911161637v62da1bd9qb41dd5279f84d1d2@mail.gmail.com>
	<B5C05D50-2825-42B6-8533-27C5B9CA298B@syenar.hu>
	<609353e70911161710r4815a4ceif18d0d3acc7be371@mail.gmail.com>
Message-ID: <1CB46149-8259-4041-A7DC-138A1F801811@syenar.hu>

> Follow is correct Deleting?

Netiquette Guidelines:
   http://tools.ietf.org/html/rfc1855

quote:
    - Be brief without being overly terse.  When replying to a message,
      include enough original material to be understood but no more. It
      is extremely bad form to simply reply to a message by including
      all the previous message: edit out all the irrelevant material.
/quote

Brgds,
Viktor

> 
> 2009/11/17 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Simply delete it.

From harbour.01 at syenar.hu  Mon Nov 16 20:21:05 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 16 20:21:16 2009
Subject: [Harbour] Error Building Harbour with BCC 6.20
In-Reply-To: <4B01F983.7060900@gmail.com>
References: <4b01d9fe.1a08c00a.7eb7.3131SMTPIN_ADDED@mx.google.com>
	<4B01F983.7060900@gmail.com>
Message-ID: <A91071EC-3641-4EE8-B60C-52AA5F6F837E@syenar.hu>

Try changing line 51 in /config/win/bcc.mk to this:

LIBPATHS := $(subst /,\,-L"$(LIB_DIR)")

and report your results.

Brgds,
Viktor

On 2009 Nov 17, at 02:16, Mario H. Sabado wrote:

> Hi Przemek,
> 
> I encountered error building Harbour with latest SVN.
> 
> Thanks in advance for any help.
> 
> Best regards,
> Mario
> *********************************************************************
> ilink32.exe  -L"C:\BCC62\bin\..\Lib" -L"C:\BCC62\bin\..\Lib\PSDK" -Gn -Tpe "-L..
> \..\..\..\..\lib\win\bcc"   c0x32.obj hbpp.obj, "..\..\..\..\..\bin\win\bcc\hbpp
> .exe", nul, hbnortl hbcommon kernel32 user32 ws2_32 advapi32 gdi32 cw32mt import
> 32
> Turbo Incremental Link 6.00 Copyright (c) 1997-2009 Embarcadero Technologies, In
> c.
> Fatal: Unable to open file 'BCC.OBJ'
> mingw32-make.exe[3]: *** [hbpp.exe] Error 2
> rm hbpp.obj
> mingw32-make.exe[2]: *** [descend] Error 2
> mingw32-make.exe[1]: *** [pp.inst] Error 2
> mingw32-make.exe: *** [src.inst] Error 2
> ***************************************************************
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Mon Nov 16 20:23:28 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov 16 20:23:55 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <1CB46149-8259-4041-A7DC-138A1F801811@syenar.hu>
References: <26379927.post@talk.nabble.com>
	<609353e70911161522q389d72ear923e8e2b08dfa184@mail.gmail.com> 
	<26382342.post@talk.nabble.com>
	<609353e70911161637v62da1bd9qb41dd5279f84d1d2@mail.gmail.com> 
	<B5C05D50-2825-42B6-8533-27C5B9CA298B@syenar.hu>
	<609353e70911161710r4815a4ceif18d0d3acc7be371@mail.gmail.com> 
	<1CB46149-8259-4041-A7DC-138A1F801811@syenar.hu>
Message-ID: <609353e70911161723k79c6fb80y907e38a3952631b8@mail.gmail.com>

Thanks for clarification


2009/11/17 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Follow is correct Deleting?
>
> Netiquette Guidelines:
> ? http://tools.ietf.org/html/rfc1855
>

-- 
Massimo Belgrano
From jlcapel2 at gmail.com  Mon Nov 16 21:34:57 2009
From: jlcapel2 at gmail.com (=?ISO-8859-1?Q?Jos=E9_Luis_Capel?=)
Date: Mon Nov 16 21:35:05 2009
Subject: [Harbour] Error building harbour after 2009-11-17 01:23 UTC+0100
	Viktor Szakats (harbour.01 syenar.hu)
Message-ID: <ab2a7b4c0911161834u15aea4ebh4f80452092b18511@mail.gmail.com>

Hi,


SET HB_PLATFORM=win
SET HB_COMPILER=mingw
PATH=%PATH%;E:\Programacion_ant\Mingw\bin
SET HB_INSTALL_PREFIX=E:\Programacion_ant\hb_mingw

win-make install

and then this error appears:

gcc -shared -L../../../../../lib/win/mingw  -o ../../../../../bin/win/mingw/harb
our-20.dll __dyn__.tmp -lkernel32 -luser32 -lws2_32 -ladvapi32 -lgdi32 -Wl,--out
-implib,../../../../../lib/win/mingw/libharbour-20.a,--output-def,../../../../..
/bin/win/mingw/harbour-20.def
Creating library file: ../../../../../lib/win/mingw/libharbour-20.a
../../../../../src/codepage/obj/win/mingw/cpesisoc.o:cpesisoc.c:(.text+0x1b): un
defined reference to `hb_cdpRegister'
../../../../../src/codepage/obj/win/mingw/cpeswinc.o:cpeswinc.c:(.text+0x1b): un
defined reference to `hb_cdpRegister'
../../../../../src/codepage/obj/win/mingw/cphu852s.o:cphu852s.c:(.text+0x1b): un
defined reference to `hb_cdpRegister'
../../../../../src/codepage/obj/win/mingw/cphuisos.o:cphuisos.c:(.text+0x1b): un
defined reference to `hb_cdpRegister'
../../../../../src/codepage/obj/win/mingw/cphuwins.o:cphuwins.c:(.text+0x1b): un
defined reference to `hb_cdpRegister'
../../../../../src/codepage/obj/win/mingw/cpsvclip.o:cpsvclip.c:(.text+0x1b): mo
re undefined references to `hb_cdpRegister' follow
collect2: ld returned 1 exit status
WIN-MAKE[3]: *** [harbour-20.dll] Error 1
WIN-MAKE[2]: *** [descend] Error 2
WIN-MAKE[1]: *** [dynlib.inst] Error 2
WIN-MAKE: *** [src.inst] Error 2

Regards,
Jos? Luis Capel
From druzus at users.sourceforge.net  Mon Nov 16 21:42:48 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Nov 16 21:42:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12914] trunk/harbour
Message-ID: <E1NAE1o-0002Ge-9q@dn4whf1.ch3.sourceforge.com>

Revision: 12914
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12914&view=rev
Author:   druzus
Date:     2009-11-17 02:42:46 +0000 (Tue, 17 Nov 2009)

Log Message:
-----------
2009-11-17 03:42 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/win/bcc.mk
    ! fixed "" quoting in recent modification - please test

  * harbour/src/rdd/workarea.c
  * harbour/src/rdd/dbf1.c
  * harbour/src/rdd/delim1.c
  * harbour/src/rdd/sdf1.c
  * harbour/src/rdd/dbfntx/dbfntx1.c
  * harbour/src/rdd/dbfnsx/dbfnsx1.c
  * harbour/src/rdd/dbfcdx/dbfcdx1.c
  * harbour/src/rdd/dbffpt/dbffpt1.c
  * harbour/src/rdd/hbsix/sxsem.c
  * harbour/src/rdd/usrrdd/usrrdd.c
  * harbour/contrib/rddads/adsx.c
  * harbour/contrib/rddads/ads1.c
    * modified to use HB_ERRCODE instead of USHORT and updated some
      variable names

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/contrib/rddads/ads1.c
    trunk/harbour/contrib/rddads/adsx.c
    trunk/harbour/src/rdd/dbf1.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rdd/dbffpt/dbffpt1.c
    trunk/harbour/src/rdd/dbfnsx/dbfnsx1.c
    trunk/harbour/src/rdd/dbfntx/dbfntx1.c
    trunk/harbour/src/rdd/delim1.c
    trunk/harbour/src/rdd/hbsix/sxsem.c
    trunk/harbour/src/rdd/sdf1.c
    trunk/harbour/src/rdd/usrrdd/usrrdd.c
    trunk/harbour/src/rdd/workarea.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Nov 16 21:45:37 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 16 21:45:44 2009
Subject: [Harbour] Error building harbour after 2009-11-17 01:23
	UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
In-Reply-To: <ab2a7b4c0911161834u15aea4ebh4f80452092b18511@mail.gmail.com>
References: <ab2a7b4c0911161834u15aea4ebh4f80452092b18511@mail.gmail.com>
Message-ID: <20091117024537.GA17202@34-mo7-2.home.aster.pl>

On Tue, 17 Nov 2009, Jos? Luis Capel wrote:

Hi,

> SET HB_PLATFORM=win
> SET HB_COMPILER=mingw
> PATH=%PATH%;E:\Programacion_ant\Mingw\bin
> SET HB_INSTALL_PREFIX=E:\Programacion_ant\hb_mingw
> win-make install
> and then this error appears:
> gcc -shared -L../../../../../lib/win/mingw  -o ../../../../../bin/win/mingw/harb
> our-20.dll __dyn__.tmp -lkernel32 -luser32 -lws2_32 -ladvapi32 -lgdi32 -Wl,--out
> -implib,../../../../../lib/win/mingw/libharbour-20.a,--output-def,../../../../..
> /bin/win/mingw/harbour-20.def
> Creating library file: ../../../../../lib/win/mingw/libharbour-20.a
> ../../../../../src/codepage/obj/win/mingw/cpesisoc.o:cpesisoc.c:(.text+0x1b): un
> defined reference to `hb_cdpRegister'

Thank you for information but I would like to ask you to try
   make clean
before you will report problems next time.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Nov 16 21:46:59 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 16 21:47:06 2009
Subject: [Harbour] Error Building Harbour with BCC 6.20
In-Reply-To: <4B01F983.7060900@gmail.com>
References: <4b01d9fe.1a08c00a.7eb7.3131SMTPIN_ADDED@mx.google.com>
	<4B01F983.7060900@gmail.com>
Message-ID: <20091117024659.GA17352@34-mo7-2.home.aster.pl>

On Tue, 17 Nov 2009, Mario H. Sabado wrote:

Hi,

> I encountered error building Harbour with latest SVN.
> Thanks in advance for any help.
> ilink32.exe  -L"C:\BCC62\bin\..\Lib" -L"C:\BCC62\bin\..\Lib\PSDK"
> -Gn -Tpe "-L..
> \..\..\..\..\lib\win\bcc"   c0x32.obj hbpp.obj,
> "..\..\..\..\..\bin\win\bcc\hbpp
> .exe", nul, hbnortl hbcommon kernel32 user32 ws2_32 advapi32 gdi32
> cw32mt import
> 32
> Turbo Incremental Link 6.00 Copyright (c) 1997-2009 Embarcadero
> Technologies, In
> c.
> Fatal: Unable to open file 'BCC.OBJ'

Thank you.

Please try after:
   2009-11-17 03:42 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

best regards,
Przemek
From jlcapel2 at gmail.com  Mon Nov 16 22:01:29 2009
From: jlcapel2 at gmail.com (=?ISO-8859-1?Q?Jos=E9_Luis_Capel?=)
Date: Mon Nov 16 22:01:36 2009
Subject: [Harbour] Error building harbour after 2009-11-17 01:23 UTC+0100 
	Viktor Szakats (harbour.01 syenar.hu)
In-Reply-To: <20091117024537.GA17202@34-mo7-2.home.aster.pl>
References: <ab2a7b4c0911161834u15aea4ebh4f80452092b18511@mail.gmail.com>
	<20091117024537.GA17202@34-mo7-2.home.aster.pl>
Message-ID: <ab2a7b4c0911161901m1a5cf944o95ba98ac64471c1a@mail.gmail.com>

Przemek,


> Thank you for information but I would like to ask you to try
>   make clean
> before you will report problems next time.
>
>
Yes, you were right!

Now I got it working.

Thanks and regards,
Jos? Luis Capel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091117/47f76634/attachment.html
From vszakats at users.sourceforge.net  Mon Nov 16 22:17:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 16 22:17:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12915] trunk/harbour
Message-ID: <E1NAEZF-0002yZ-H9@dn4whf1.ch3.sourceforge.com>

Revision: 12915
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12915&view=rev
Author:   vszakats
Date:     2009-11-17 03:17:20 +0000 (Tue, 17 Nov 2009)

Log Message:
-----------
2009-11-17 04:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    * Minor formatting.
    + Added information about some commonly used, but yet useless 
      environment settings. These:
         set HB_PATH=<Harbour root dir>
         set HRB_DIR=<Some Harbour dir>
         set INCLUDE=<Harbour include dir>
         set LIB=<Harbour lib dir>
    * Bumped copyright year.
    + Added 'documentation' section to link section. 
    + Added netiquette RFC link for a start.
    + Added hbrun to required tools for cross-builds.

  * bin/hb-func.sh
  * harbour.spec
    + Added hbsms lib.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/harbour.spec


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mhsabado at gmail.com  Mon Nov 16 22:23:05 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Mon Nov 16 22:23:18 2009
Subject: [Harbour] Error Building Harbour with BCC 6.20
In-Reply-To: <4b0215ee.2108c00a.28cb.52f9SMTPIN_ADDED@mx.google.com>
References: <4b0215ee.2108c00a.28cb.52f9SMTPIN_ADDED@mx.google.com>
Message-ID: <4B021719.9000003@gmail.com>


Hi Viktor, Przemek,
> ------------------------------
>
> Message: 3
> Date: Tue, 17 Nov 2009 02:21:05 +0100
> From: Viktor Szak?ts <harbour.01@syenar.hu>
> Subject: Re: [Harbour] Error Building Harbour with BCC 6.20
> To: "Harbour Project Main Developer List."
> 	<harbour@harbour-project.org>
> Message-ID: <A91071EC-3641-4EE8-B60C-52AA5F6F837E@syenar.hu>
> Content-Type: text/plain; charset=us-ascii
>
> Try changing line 51 in /config/win/bcc.mk to this:
>
> LIBPATHS := $(subst /,\,-L"$(LIB_DIR)")
>
> and report your results.
>
> Brgds,
> Viktor
>
> On 2009 Nov 17, at 02:16, Mario H. Sabado wrote:
>
>   
> > Hi Przemek,
> > 
> > I encountered error building Harbour with latest SVN.
> > 
> > Thanks in advance for any help.
> > 
> > Best regards,
> > Mario
> > *********************************************************************
> > ilink32.exe  -L"C:\BCC62\bin\..\Lib" -L"C:\BCC62\bin\..\Lib\PSDK" -Gn -Tpe "-L..
> > \..\..\..\..\lib\win\bcc"   c0x32.obj hbpp.obj, "..\..\..\..\..\bin\win\bcc\hbpp
> > .exe", nul, hbnortl hbcommon kernel32 user32 ws2_32 advapi32 gdi32 cw32mt import
> > 32
> > Turbo Incremental Link 6.00 Copyright (c) 1997-2009 Embarcadero Technologies, In
> > c.
> > Fatal: Unable to open file 'BCC.OBJ'
> > mingw32-make.exe[3]: *** [hbpp.exe] Error 2
> > rm hbpp.obj
> > mingw32-make.exe[2]: *** [descend] Error 2
> > mingw32-make.exe[1]: *** [pp.inst] Error 2
> > mingw32-make.exe: *** [src.inst] Error 2
> > ***************************************************************
I can now compile successfully after latest SVN update by Przemek.

Thanks and best regards.

Mario

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091117/7cd587fe/attachment.html
From vszakats at users.sourceforge.net  Mon Nov 16 22:26:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 16 22:27:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12916] trunk/harbour
Message-ID: <E1NAEiY-0003Mb-A4@dn4whf1.ch3.sourceforge.com>

Revision: 12916
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12916&view=rev
Author:   vszakats
Date:     2009-11-17 03:26:57 +0000 (Tue, 17 Nov 2009)

Log Message:
-----------
2009-11-17 04:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/xhb/xhbfunc.c
    + Ported CURDIRX() function from xhb.
      It's not exactly the same as xhb version uses hb_fsCurDirBuffEx() 
      internally, and I couldn't decipher the added feature above 
      hb_fsCurDirBuff().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/xhbfunc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Tue Nov 17 01:46:37 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Nov 17 01:46:43 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <D08079F7-86D9-4B41-A3FF-2F847D67B6F6@syenar.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>
	<FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu>
	<-7854970003924756159@unknownmsgid>
	<6943770e0911160628h7c2779a1k5ee7b1c8f88625fa@mail.gmail.com>
	<D08079F7-86D9-4B41-A3FF-2F847D67B6F6@syenar.hu>
Message-ID: <9257026e0911162246t461aadb9t56f5f3ed242b7b95@mail.gmail.com>

On Mon, Nov 16, 2009 at 3:53 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Question: Does anybody have some experiences on language
> integration into Eclipse?

As you know, I use Eclipse/C-C++ with Harbour in Linux/OSX/Windows and
lately I moved from mercurial to git.
I've tried to use a syntax colorer plugin but I found it problematic
and I removed it.
Actually I use prgs with "C editor". Not perfect but good enough. I've
changed the format of Harbour's error messages to be the same of gcc
to have the error description directly in the source editor.
Also after Przemyslaw .d management addition working with
Eclipse/Harbour is much like using an interpreter: if you start the
app inside Eclipse it rebuilds it if necessary and also it looks at
the related projects so what you do is edit and run.

The real pluses of Eclipse are the support of almost every technology
like XML, JS, Php, SQL, project managements ( TODOs, tasks ) and since
it's used in many courses of CS so it's easier to start with a new
employee but I'm not sure about the support of C compilers like bcc or
msvc.

Add support to a language require Java programming, since it's not
only about syntax but also profiling, searching and so on.
There are some resources about it. There is also a Dynamic Language
ToolKit DLTK that's used to create ide's for dinamic languages like
PHP, scheme ( see the doc ). I'm not sure if Harbour fit in this
paradigma.

Personally I'm not interested in hbide ( even the much larger PHP
community has moved to Eclipse ) or to add Harbour support to Eclipse.
Of course it'll be nice to have it but I think we have not enough
resources for this.

As you said we need more things like GUI, SQL, XML, Web integration (
Apache module ).
IMHO as it is Harbour is only useful for ex Clipper developers that
have a lot of CUI code to maintain.
The IDE is the last problem I see.

best regards,
Lorenzo
From m.lacecilia at gmail.com  Tue Nov 17 02:40:59 2009
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Tue Nov 17 02:41:05 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <26379927.post@talk.nabble.com>
References: <26379927.post@talk.nabble.com>
Message-ID: <26385643.post@talk.nabble.com>


Hi Pritpal,
as very hot fan of xMate and happy user of the product of Andy, i would
partecipate to your new project.
You can count on me surely as betatester and, due to prg based development,
also in working on not critical pieces of the project, if you need.
Many thanks for your effective work, and best regards.
Maurizio la Cecilia
-- 
View this message in context: http://old.nabble.com/HBIDE---An-Overview-tp26379927p26385643.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Nov 17 03:41:31 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Nov 17 03:41:41 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <9257026e0911162246t461aadb9t56f5f3ed242b7b95@mail.gmail.com>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>
	<FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu>
	<-7854970003924756159@unknownmsgid>
	<6943770e0911160628h7c2779a1k5ee7b1c8f88625fa@mail.gmail.com>
	<D08079F7-86D9-4B41-A3FF-2F847D67B6F6@syenar.hu>
	<9257026e0911162246t461aadb9t56f5f3ed242b7b95@mail.gmail.com>
Message-ID: <7F6BBBAD-456A-4306-B676-CDA34AC9B38A@syenar.hu>

Hi Lorenzo,

Many thanks for your post.

Can you publish anything which may help to use 
Harbour with Eclipse the way you do it? F.e. to 
me the way you use it would be just perfect.
(the only new thing would be using hbmk2 instead 
of your custom solution, but I guess, this is 
achievable in some ways)

IMO if there are any files or settings involved 
we may upload them to SVN directly or create some 
docs with instructions.

Brgds,
Viktor

On 2009 Nov 17, at 07:46, Lorenzo Fiorini wrote:

> On Mon, Nov 16, 2009 at 3:53 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> 
>> Question: Does anybody have some experiences on language
>> integration into Eclipse?
> 
> As you know, I use Eclipse/C-C++ with Harbour in Linux/OSX/Windows and
> lately I moved from mercurial to git.
> I've tried to use a syntax colorer plugin but I found it problematic
> and I removed it.
> Actually I use prgs with "C editor". Not perfect but good enough. I've
> changed the format of Harbour's error messages to be the same of gcc
> to have the error description directly in the source editor.
> Also after Przemyslaw .d management addition working with
> Eclipse/Harbour is much like using an interpreter: if you start the
> app inside Eclipse it rebuilds it if necessary and also it looks at
> the related projects so what you do is edit and run.
> 
> The real pluses of Eclipse are the support of almost every technology
> like XML, JS, Php, SQL, project managements ( TODOs, tasks ) and since
> it's used in many courses of CS so it's easier to start with a new
> employee but I'm not sure about the support of C compilers like bcc or
> msvc.
> 
> Add support to a language require Java programming, since it's not
> only about syntax but also profiling, searching and so on.
> There are some resources about it. There is also a Dynamic Language
> ToolKit DLTK that's used to create ide's for dinamic languages like
> PHP, scheme ( see the doc ). I'm not sure if Harbour fit in this
> paradigma.
> 
> Personally I'm not interested in hbide ( even the much larger PHP
> community has moved to Eclipse ) or to add Harbour support to Eclipse.
> Of course it'll be nice to have it but I think we have not enough
> resources for this.
> 
> As you said we need more things like GUI, SQL, XML, Web integration (
> Apache module ).
> IMHO as it is Harbour is only useful for ex Clipper developers that
> have a lot of CUI code to maintain.
> The IDE is the last problem I see.
> 
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From m.lacecilia at gmail.com  Tue Nov 17 04:04:00 2009
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Tue Nov 17 04:04:07 2009
Subject: [Harbour] HBIDE - An Overview : Application Icon
In-Reply-To: <26382358.post@talk.nabble.com>
References: <26379927.post@talk.nabble.com> <26382358.post@talk.nabble.com>
Message-ID: <26386453.post@talk.nabble.com>


This is based on the wizard idea.


Pritpal Bedi wrote:
> 
> Hello All
> 
> Can some of you provide a descent icon for HBIDE.exe ?
> 
> Regards
> Pritpal Bedi
> 
> 
http://old.nabble.com/file/p26386453/hbIde1.ico hbIde1.ico 
-- 
View this message in context: http://old.nabble.com/HBIDE---An-Overview-tp26379927p26386453.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From m.lacecilia at gmail.com  Tue Nov 17 04:05:27 2009
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Tue Nov 17 04:05:33 2009
Subject: [Harbour] HBIDE - An Overview : Application Icon
In-Reply-To: <26382358.post@talk.nabble.com>
References: <26379927.post@talk.nabble.com> <26382358.post@talk.nabble.com>
Message-ID: <26386461.post@talk.nabble.com>


... and this on the creative work of programming.
Best regards.
Maurizio la Cecilia


Pritpal Bedi wrote:
> 
> Hello All
> 
> Can some of you provide a descent icon for HBIDE.exe ?
> 
> Regards
> Pritpal Bedi
> 
> 
http://old.nabble.com/file/p26386461/hbIde2.ico hbIde2.ico 
-- 
View this message in context: http://old.nabble.com/HBIDE---An-Overview-tp26379927p26386461.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vailtom at gmail.com  Tue Nov 17 04:12:10 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Tue Nov 17 04:12:37 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <7F6BBBAD-456A-4306-B676-CDA34AC9B38A@syenar.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com> 
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl> 
	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>
	<FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu> 
	<-7854970003924756159@unknownmsgid>
	<6943770e0911160628h7c2779a1k5ee7b1c8f88625fa@mail.gmail.com> 
	<D08079F7-86D9-4B41-A3FF-2F847D67B6F6@syenar.hu>
	<9257026e0911162246t461aadb9t56f5f3ed242b7b95@mail.gmail.com> 
	<7F6BBBAD-456A-4306-B676-CDA34AC9B38A@syenar.hu>
Message-ID: <531d7a750911170112w6b49a30fq7827adbeff56cde6@mail.gmail.com>

Hello to all!

Some time ago I got to say something about an IDE developed with Qt
with some developers here in Brazil, but nobody showed no interest. I
believe that [hb]Qt can meet this need well, as it has several
features such as ready-syntax highlight, support processes and be
multi platform.

Take the example of the interface of Qt Creator is simple and
efficient. If we can build something similar (even if it has a DEBUG
first version) would be a great prize.

Brgds,
Vailton Renato
From harbour.01 at syenar.hu  Tue Nov 17 04:25:20 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 17 04:25:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12896] trunk/harbour
In-Reply-To: <2F0579D0-8D8E-46A4-AE04-8AB2AB51CA81@syenar.hu>
References: <E1N9yt8-0002Yg-D2@74yxhf1.ch3.sourceforge.com>
	<20091116154308.GD8109@34-mo7-2.home.aster.pl>
	<3F252358-0CAB-4E94-9AE5-316D7177E3EE@syenar.hu>
	<20091116161432.GA8821@34-mo7-2.home.aster.pl>
	<2F0579D0-8D8E-46A4-AE04-8AB2AB51CA81@syenar.hu>
Message-ID: <B278DDF8-778A-455C-A197-1BA88EBF9DCB@syenar.hu>

I just realized now the situation.

Brgds,
Viktor

On 2009 Nov 16, at 20:32, Viktor Szak?ts wrote:

>>>> I think that HB_ERRCODE should be mapped to 32bit not 64 bit integer.
>>>> I do not see any place where we may need ULONG.
>>> I didn't mean any 64-bit stuff here, I'm changing hb_parni() to hb_parnl() f.e.
>> 
>> ULONG is 64bit integer in all 64bit systems except Windows so if you want
>> to use ULONG then it means that you will effectively force using 64bit
>> integers as error code holder.
> 
> Ah okay, I don't want to force anyone to anything, 
> maybe I was getting wrong the type mappings of  
> Harbour API functions to C type all these years.
> 
> To me ULONG/LONG means hb_parnl/hb_retnl(), and 
> USHORT/SHORT/int/u*int means hb_parni()/hb_retni(). 
> Maybe it stuck from the days when we supported 
> 16 bit systems and from CA-Clipper. Tell me if 
> this is not true anymore.
> 
> Brgds,
> Viktor
> 

From vszakats at users.sourceforge.net  Tue Nov 17 04:33:03 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Nov 17 04:33:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12917] trunk/harbour
Message-ID: <E1NAKQp-0007gc-Uo@74yxhf1.ch3.sourceforge.com>

Revision: 12917
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12917&view=rev
Author:   vszakats
Date:     2009-11-17 09:33:02 +0000 (Tue, 17 Nov 2009)

Log Message:
-----------
2009-11-17 10:32 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/errapi.c
  * src/rtl/philes.c
  * src/rtl/dirdrive.c
  * contrib/hbnf/fttext.c
    * Changed back long versions of Harbour APIs to int version.
      It was an oversight.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbnf/fttext.c
    trunk/harbour/src/rtl/dirdrive.c
    trunk/harbour/src/rtl/errapi.c
    trunk/harbour/src/rtl/philes.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From M.Horodyski at pzuzycie.com.pl  Tue Nov 17 04:34:57 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Tue Nov 17 04:35:06 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <26379927.post@talk.nabble.com>
References: <26379927.post@talk.nabble.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64C1B@PINK.zycie.pzu>

>-----Original Message-----
>From: Pritpal Bedi [mailto:bedipritpal@hotmail.com] 
>Sent: Tuesday, November 17, 2009 12:00 AM
>To: harbour@harbour-project.org
>Subject: [Harbour] HBIDE - An Overview
>
>Hello All
>
>Just a start for more discussions...
>
>EMERGENCE OF THIS IDEA
>===================
>
>Massimo: initiated idea to have "xMate" or "xMate like" 
>edit/compile/link/run cycle IDE but available for all 
>platforms Harbour support.
>
>Viktor: presented the minimum requirements an IDE must contain
>  0) Availability on OS X, Linux and Windows x86 and x64. 
>  1) Very good editor with block editing capability, syntax 
>     highlighting, possibly "intellisense". Project-wide 
>     search and replace. Support for all CPs Harbour supports. 
>     ( syntax highlighting for: prg, c and cpp )
>  2) Integration with VCS. 
>  3) Integrated build tool. 
>  4) Integrated project management. 
>
>Istvan: extended 3) above as
>  3.1) Integrated debugger. 
>
>Francesco: suggested to integrate "Eclipse" which he thought,
>  and others supported, is a great tool, but also expressed that
>  he has no knowledge, so far, how it can be integrated with Harbour.

I used once with Eclipse, but I'm much more satisfied with the NDN (
http://www.ndn.muxe.com/). NDN has a high capacity configuration (simply
great) and very good editor (exaggeration syntax itself can be defined,
I did it to prg and my own scripts, c and c++ is embedded/prposed). In
the version of Linux sometimes tend to trouble (many times ago) - but it
can work. It is freeware. I think that we can customize the NDN using
the drop-down menu to the needs of the project.
On "good day" conditions are met: 0, 1!. I do not know VCS. The rest is
refinement.

Regards,
Marek Horodyski
From harbour.01 at syenar.hu  Tue Nov 17 04:47:13 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 17 04:47:25 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64C1B@PINK.zycie.pzu>
References: <26379927.post@talk.nabble.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64C1B@PINK.zycie.pzu>
Message-ID: <D4FCD1A5-EEB6-4BC1-86D2-94A99C16439C@syenar.hu>

>> Francesco: suggested to integrate "Eclipse" which he thought,
>> and others supported, is a great tool, but also expressed that
>> he has no knowledge, so far, how it can be integrated with Harbour.
> 
> I used once with Eclipse, but I'm much more satisfied with the NDN (
> http://www.ndn.muxe.com/). NDN has a high capacity configuration (simply
> great) and very good editor (exaggeration syntax itself can be defined,
> I did it to prg and my own scripts, c and c++ is embedded/prposed). In
> the version of Linux sometimes tend to trouble (many times ago) - but it
> can work. It is freeware. I think that we can customize the NDN using
> the drop-down menu to the needs of the project.
> On "good day" conditions are met: 0, 1!. I do not know VCS. The rest is
> refinement.

Ah this is good old DOS Navigator (Pbly they should drop "DOS" 
from the name by now ;). Would it work on Darwin, too? I guess 
I'd have to try.

The only 'problem' with NDN is that it does less much less 
mainstream than Eclipse.

"VCS" is generic name for "Version Control System", usually 
means SVN/CVS/GIT/HG/BZR in OSS world.

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Tue Nov 17 05:46:16 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Nov 17 05:46:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12918] trunk/harbour
Message-ID: <E1NALZg-0008NN-Tb@c3vjzd1.ch3.sourceforge.com>

Revision: 12918
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12918&view=rev
Author:   vouchcac
Date:     2009-11-17 10:46:15 +0000 (Tue, 17 Nov 2009)

Log Message:
-----------
2009-11-17 02:29 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide
  + contrib/hbide/hbide.prg
  + contrib/hbide/hbmk.hbm
  + contrib/hbide/resources
  + contrib/hbide/resources/build.png
  + contrib/hbide/resources/buildlaunch.png
  + contrib/hbide/resources/buildrun.png
  + contrib/hbide/resources/close.png
  + contrib/hbide/resources/column.png
  + contrib/hbide/resources/compile.png
  + contrib/hbide/resources/copy.png
  + contrib/hbide/resources/cut.png
  + contrib/hbide/resources/debug.png
  + contrib/hbide/resources/envconfig.png
  + contrib/hbide/resources/exit.png
  + contrib/hbide/resources/filec.png
  + contrib/hbide/resources/fileprg.png
  + contrib/hbide/resources/find.png
  + contrib/hbide/resources/gotoline.png
  + contrib/hbide/resources/gotomark.png
  + contrib/hbide/resources/info.png
  + contrib/hbide/resources/invertcase.png
  + contrib/hbide/resources/launch.png
  + contrib/hbide/resources/lense.png
  + contrib/hbide/resources/matchobj.png
  + contrib/hbide/resources/new.png
  + contrib/hbide/resources/notepad.png
  + contrib/hbide/resources/open.png
  + contrib/hbide/resources/paste.png
  + contrib/hbide/resources/placeremovemark.png
  + contrib/hbide/resources/ppo.png
  + contrib/hbide/resources/print.png
  + contrib/hbide/resources/properties.png
  + contrib/hbide/resources/rebuild.png
  + contrib/hbide/resources/rebuildlaunch.png
  + contrib/hbide/resources/redo.png
  + contrib/hbide/resources/save.png
  + contrib/hbide/resources/search.png
  + contrib/hbide/resources/selectall.png
  + contrib/hbide/resources/stream.png
  + contrib/hbide/resources/text.png
  + contrib/hbide/resources/tolower.png
  + contrib/hbide/resources/tools.png
  + contrib/hbide/resources/toupper.png
  + contrib/hbide/resources/trashpage.png
  + contrib/hbide/resources/undo.png
  + contrib/hbide/resources/vr.png

  * contrib/hbqt/generator/qt45.qtp

  + contrib/hbqt/qth/QSyntaxHighlighter.qth
  *
  * contrib/hbqt/hbqt.ch
  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_slots.h
  * contrib/hbqt/moc_slots.cpp

  * contrib/hbqt/qtgui/filelist.mk
  + contrib/hbqt/qtgui/QSyntaxHighlighter.cpp
  + contrib/hbqt/qtgui/TQSyntaxHighlighter.prg

  * contrib/hbxbp/xbpmenubar.prg
  * contrib/hbxbp/xbptoolbar.prg

  * contrib/hbxbp/tests/demoxbp.prg

    + Added first commit of HBIDE, just something in the making.

      NOTE: I have extracted icons from xMate.exe ( with due apology to Andy )
            to give it a familiar look and feel of xMate because of wide 
            acceptance of its user interface.

      EXECUTE HbIde.exe hbide.prg ( or any .c or .prg file name )

      Suggestions are welcome.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/qt45.qtp
    trunk/harbour/contrib/hbqt/hbqt.ch
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h
    trunk/harbour/contrib/hbqt/moc_slots.cpp
    trunk/harbour/contrib/hbqt/qtgui/filelist.mk
    trunk/harbour/contrib/hbxbp/tests/demoxbp.prg
    trunk/harbour/contrib/hbxbp/xbpmenubar.prg
    trunk/harbour/contrib/hbxbp/xbptoolbar.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/hbmk.hbm
    trunk/harbour/contrib/hbide/resources/
    trunk/harbour/contrib/hbide/resources/build.png
    trunk/harbour/contrib/hbide/resources/buildlaunch.png
    trunk/harbour/contrib/hbide/resources/buildrun.png
    trunk/harbour/contrib/hbide/resources/close.png
    trunk/harbour/contrib/hbide/resources/column.png
    trunk/harbour/contrib/hbide/resources/compile.png
    trunk/harbour/contrib/hbide/resources/copy.png
    trunk/harbour/contrib/hbide/resources/cut.png
    trunk/harbour/contrib/hbide/resources/debug.png
    trunk/harbour/contrib/hbide/resources/envconfig.png
    trunk/harbour/contrib/hbide/resources/exit.png
    trunk/harbour/contrib/hbide/resources/filec.png
    trunk/harbour/contrib/hbide/resources/fileprg.png
    trunk/harbour/contrib/hbide/resources/find.png
    trunk/harbour/contrib/hbide/resources/gotoline.png
    trunk/harbour/contrib/hbide/resources/gotomark.png
    trunk/harbour/contrib/hbide/resources/info.png
    trunk/harbour/contrib/hbide/resources/invertcase.png
    trunk/harbour/contrib/hbide/resources/launch.png
    trunk/harbour/contrib/hbide/resources/lense.png
    trunk/harbour/contrib/hbide/resources/matchobj.png
    trunk/harbour/contrib/hbide/resources/new.png
    trunk/harbour/contrib/hbide/resources/notepad.png
    trunk/harbour/contrib/hbide/resources/open.png
    trunk/harbour/contrib/hbide/resources/paste.png
    trunk/harbour/contrib/hbide/resources/placeremovemark.png
    trunk/harbour/contrib/hbide/resources/ppo.png
    trunk/harbour/contrib/hbide/resources/print.png
    trunk/harbour/contrib/hbide/resources/properties.png
    trunk/harbour/contrib/hbide/resources/rebuild.png
    trunk/harbour/contrib/hbide/resources/rebuildlaunch.png
    trunk/harbour/contrib/hbide/resources/redo.png
    trunk/harbour/contrib/hbide/resources/save.png
    trunk/harbour/contrib/hbide/resources/search.png
    trunk/harbour/contrib/hbide/resources/selectall.png
    trunk/harbour/contrib/hbide/resources/stream.png
    trunk/harbour/contrib/hbide/resources/text.png
    trunk/harbour/contrib/hbide/resources/tolower.png
    trunk/harbour/contrib/hbide/resources/tools.png
    trunk/harbour/contrib/hbide/resources/toupper.png
    trunk/harbour/contrib/hbide/resources/trashpage.png
    trunk/harbour/contrib/hbide/resources/undo.png
    trunk/harbour/contrib/hbide/resources/vr.png
    trunk/harbour/contrib/hbqt/qtgui/QSyntaxHighlighter.cpp
    trunk/harbour/contrib/hbqt/qtgui/TQSyntaxHighlighter.prg
    trunk/harbour/contrib/hbqt/qth/QSyntaxHighlighter.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Nov 17 05:47:39 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Nov 17 05:48:09 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <531d7a750911170112w6b49a30fq7827adbeff56cde6@mail.gmail.com>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com> 
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu> 
	<FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu>
	<-7854970003924756159@unknownmsgid> 
	<6943770e0911160628h7c2779a1k5ee7b1c8f88625fa@mail.gmail.com> 
	<D08079F7-86D9-4B41-A3FF-2F847D67B6F6@syenar.hu>
	<9257026e0911162246t461aadb9t56f5f3ed242b7b95@mail.gmail.com> 
	<7F6BBBAD-456A-4306-B676-CDA34AC9B38A@syenar.hu>
	<531d7a750911170112w6b49a30fq7827adbeff56cde6@mail.gmail.com>
Message-ID: <609353e70911170247t213029f7r55c6d42fed7cf9bd@mail.gmail.com>

Hi Renato
This is the hbide idea of Pripal that you can follow on thread "HBIDE
- An Overview"
I think that you and pritpal will made a great product !
A product written in harbour will give idea Much of powerful is  this languages
Can you think a way for having visual debug?
setting breakpoints in source code and compile and execute with a
library based on debug.lib
In actual debug is possible separate user interface and debug function
better start from scratch?

Hi hope that also  Przemek and other guru partecipating to this
project , discussion

> Some time ago I got to say something about an IDE developed with Qt
> with some developers here in Brazil, but nobody showed no interest. I
> believe that [hb]Qt can meet this need well, as it has several
> features such as ready-syntax highlight, support processes and be
> multi platform.
>
> Take the example of the interface of Qt Creator is simple and
> efficient. If we can build something similar (even if it has a DEBUG
> first version) would be a great prize.



-- 
Massimo Belgrano
From dbtopas at dbtopas.lt  Tue Nov 17 05:54:32 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Nov 17 05:56:05 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <9257026e0911162246t461aadb9t56f5f3ed242b7b95@mail.gmail.com>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>	<4B003671.5000806@dbtopas.lt>	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>	<4B004D00.8090803@dbtopas.lt>	<20091115214246.GA4813@34-mo7-2.home.aster.pl>	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>	<FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu>	<-7854970003924756159@unknownmsgid>	<6943770e0911160628h7c2779a1k5ee7b1c8f88625fa@mail.gmail.com>	<D08079F7-86D9-4B41-A3FF-2F847D67B6F6@syenar.hu>
	<9257026e0911162246t461aadb9t56f5f3ed242b7b95@mail.gmail.com>
Message-ID: <4B0280E8.7000904@dbtopas.lt>

Hi,

Lorenzo Fiorini wrote:
> IMHO as it is Harbour is only useful for ex Clipper developers that
> have a lot of CUI code to maintain.

I've wrote the last CUI in 1999. Later I've used Clipper with Windows 
memory management module and I've wrote pure Windows GUI event driven 
applications in Clipper. Until I've discovered xHarbour in the end of 2004.

So, I do not thing the above sentence is correct.


Regards,
Mindaugas
From mbelgrano at deltain.it  Tue Nov 17 06:07:11 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Nov 17 06:07:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12918] trunk/harbour
In-Reply-To: <E1NALZg-0008NN-Tb@c3vjzd1.ch3.sourceforge.com>
References: <E1NALZg-0008NN-Tb@c3vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70911170307v1658a18ar55e921dbcc8fd8e1@mail.gmail.com>

You are FAL!
Faster as Light (and a rifle)
Look and feel of xMate is very fantastic!


2009/11/17  <vouchcac@users.sourceforge.net>:
> Revision: 12918
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12918&view=rev
> Author: ? vouchcac
> Date: ? ? 2009-11-17 10:46:15 +0000 (Tue, 17 Nov 2009)
>
> Log Message:
> -----------
> 2009-11-17 02:29 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> ?+ contrib/hbide

> ? ? ?NOTE: I have extracted icons from xMate.exe ( with due apology to Andy )
> ? ? ? ? ? ?to give it a familiar look and feel of xMate because of wide
> ? ? ? ? ? ?acceptance of its user interface.
>
> ? ? ?EXECUTE HbIde.exe hbide.prg ( or any .c or .prg file name )
>
> ? ? ?Suggestions are welcome.



-- 
Massimo Belgrano
From lorenzo.fiorini at gmail.com  Tue Nov 17 06:45:12 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Nov 17 06:45:19 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <4B0280E8.7000904@dbtopas.lt>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>
	<FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu>
	<-7854970003924756159@unknownmsgid>
	<6943770e0911160628h7c2779a1k5ee7b1c8f88625fa@mail.gmail.com>
	<D08079F7-86D9-4B41-A3FF-2F847D67B6F6@syenar.hu>
	<9257026e0911162246t461aadb9t56f5f3ed242b7b95@mail.gmail.com>
	<4B0280E8.7000904@dbtopas.lt>
Message-ID: <9257026e0911170345x6fdb2553h47b2bcf5276460d8@mail.gmail.com>

On Tue, Nov 17, 2009 at 11:54 AM, Mindaugas Kavaliauskas
<dbtopas@dbtopas.lt> wrote:

> I've wrote the last CUI in 1999. Later I've used Clipper with Windows memory
> management module and I've wrote pure Windows GUI event driven applications
> in Clipper. Until I've discovered xHarbour in the end of 2004.
>
> So, I do not thing the above sentence is correct.

Yes the sentence is probably too rude.

I also have written a lot of web code with Harbour but I would not
define it as the best tool for creating web apps.

What I meant is that today Harbour svn ( not Harbour+something
else+your code ) lack of important features or has them in an "alpha"
status and that a "specific" IDE is not IMHO among them.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Tue Nov 17 07:05:19 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Nov 17 07:05:31 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <7F6BBBAD-456A-4306-B676-CDA34AC9B38A@syenar.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>
	<FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu>
	<-7854970003924756159@unknownmsgid>
	<6943770e0911160628h7c2779a1k5ee7b1c8f88625fa@mail.gmail.com>
	<D08079F7-86D9-4B41-A3FF-2F847D67B6F6@syenar.hu>
	<9257026e0911162246t461aadb9t56f5f3ed242b7b95@mail.gmail.com>
	<7F6BBBAD-456A-4306-B676-CDA34AC9B38A@syenar.hu>
Message-ID: <9257026e0911170405l378ca347va82c0c2424311929@mail.gmail.com>

On Tue, Nov 17, 2009 at 9:41 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Can you publish anything which may help to use
> Harbour with Eclipse the way you do it? F.e. to
> me the way you use it would be just perfect.
> (the only new thing would be using hbmk2 instead
> of your custom solution, but I guess, this is
> achievable in some ways)

You can easily change make with hbmk2 as default build command.

There are some settings I use but they can be seen as preferences also.
Also depends if you start from already exiting projects or from "free"
directories.

These are the main steps we use:

- install JRE( if not already installed )
- download Eclipse C/C++ from eclipse.prg don't use distro one
- install eclipse
- install WDT ( Web Developer Tools ) ( optional )
- install JDT ( Javascript Developer Tools ) ( optional )
- start a new project ( we use the makefile based one )
- define targets ( all, clean, install )
- link .ch to C Header file editor ( optional )
- link .prg to C Sources Editor ( optional ) and if done remove syntax
annotations

at this point you should be able to run (make) all.

Eclipse as a binary parser and a error parser so it creates a
"Binaries", "Archives", "Includes" virtual folder.

When you clink on a binary it creates a "Run configuration" where you
can define parameters, environment, debug.

Since it is a "point and click" env is difficult to list all the settings.
I'll be happy to help on specific issue.

best regards,
Lorenzo
From mbelgrano at deltain.it  Tue Nov 17 07:06:16 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Nov 17 07:06:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12918] trunk/harbour
In-Reply-To: <E1NALZg-0008NN-Tb@c3vjzd1.ch3.sourceforge.com>
References: <E1NALZg-0008NN-Tb@c3vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70911170406y679c9905je2cdd205622783b3@mail.gmail.com>

For all user that want see comparation without recompile i post my
screenshoot of hbide with xmate

Still  compliment to pritpal

2009/11/17  <vouchcac@users.sourceforge.net>:
> Revision: 12918
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12918&view=rev
> Author: ? vouchcac
> Date: ? ? 2009-11-17 10:46:15 +0000 (Tue, 17 Nov 2009)
>
> ? ? ?Suggestions are welcome.
>

-- 
Massimo Belgrano
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbide.jpg
Type: image/jpeg
Size: 32575 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091117/02a0b2b8/hbide-0001.jpg
From harbour.01 at syenar.hu  Tue Nov 17 08:35:02 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Nov 17 08:35:17 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <9257026e0911170405l378ca347va82c0c2424311929@mail.gmail.com>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<EC6B7996-90C8-4704-AF1F-5C2BF6DDF43D@syenar.hu>
	<FF47A605-2F8D-4874-8657-AB03E2CD1B37@syenar.hu>
	<-7854970003924756159@unknownmsgid>
	<6943770e0911160628h7c2779a1k5ee7b1c8f88625fa@mail.gmail.com>
	<D08079F7-86D9-4B41-A3FF-2F847D67B6F6@syenar.hu>
	<9257026e0911162246t461aadb9t56f5f3ed242b7b95@mail.gmail.com>
	<7F6BBBAD-456A-4306-B676-CDA34AC9B38A@syenar.hu>
	<9257026e0911170405l378ca347va82c0c2424311929@mail.gmail.com>
Message-ID: <7DED01F4-EF3E-445C-8EF0-F22EA3A2AEA5@syenar.hu>

Thanks Lorenzo, I'll give it a shot in some free time.

Brgds,
Viktor

On 2009 Nov 17, at 13:05, Lorenzo Fiorini wrote:

> On Tue, Nov 17, 2009 at 9:41 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> 
>> Can you publish anything which may help to use
>> Harbour with Eclipse the way you do it? F.e. to
>> me the way you use it would be just perfect.
>> (the only new thing would be using hbmk2 instead
>> of your custom solution, but I guess, this is
>> achievable in some ways)
> 
> You can easily change make with hbmk2 as default build command.
> 
> There are some settings I use but they can be seen as preferences also.
> Also depends if you start from already exiting projects or from "free"
> directories.
> 
> These are the main steps we use:
> 
> - install JRE( if not already installed )
> - download Eclipse C/C++ from eclipse.prg don't use distro one
> - install eclipse
> - install WDT ( Web Developer Tools ) ( optional )
> - install JDT ( Javascript Developer Tools ) ( optional )
> - start a new project ( we use the makefile based one )
> - define targets ( all, clean, install )
> - link .ch to C Header file editor ( optional )
> - link .prg to C Sources Editor ( optional ) and if done remove syntax
> annotations
> 
> at this point you should be able to run (make) all.
> 
> Eclipse as a binary parser and a error parser so it creates a
> "Binaries", "Archives", "Includes" virtual folder.
> 
> When you clink on a binary it creates a "Run configuration" where you
> can define parameters, environment, debug.
> 
> Since it is a "point and click" env is difficult to list all the settings.
> I'll be happy to help on specific issue.
> 
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From snaiperis at users.sourceforge.net  Tue Nov 17 08:42:47 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Tue Nov 17 08:42:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12919] trunk/harbour
Message-ID: <E1NAOKV-0002ls-Gx@c3vjzd1.ch3.sourceforge.com>

Revision: 12919
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12919&view=rev
Author:   snaiperis
Date:     2009-11-17 13:42:46 +0000 (Tue, 17 Nov 2009)

Log Message:
-----------
2009-11-17 15:40 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/rddsql/sddodbc/tests/test2.prg
    ! fixed small error in DSN 

  * harbour/contrib/rddsql/sddodbc/odbcdd.c
    +  added support of SQL_WCHAR, SQL_WVARCHAR, SQL_WLONGVARCHAR
    ; NOTE: I get more and more complains about not working sddodbc, 
      because of these data types. I'm unable to get such situation 
      in my programming environvent. So, this addition can be buggy. 
      Please, report any strange behavior of string types data.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddodbc/odbcdd.c
    trunk/harbour/contrib/rddsql/sddodbc/tests/test2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Tue Nov 17 10:22:56 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Nov 17 10:24:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12919] trunk/harbour
In-Reply-To: <E1NAOKV-0002ls-Gx@c3vjzd1.ch3.sourceforge.com>
References: <E1NAOKV-0002ls-Gx@c3vjzd1.ch3.sourceforge.com>
Message-ID: <4B02BFD0.2070604@dbtopas.lt>

Hi,

>   * harbour/contrib/rddsql/sddodbc/odbcdd.c
>     +  added support of SQL_WCHAR, SQL_WVARCHAR, SQL_WLONGVARCHAR
>     ; NOTE: I get more and more complains about not working sddodbc, 
>       because of these data types. I'm unable to get such situation 
>       in my programming environvent. So, this addition can be buggy. 
>       Please, report any strange behavior of string types data.

Marek, are your RDDSQL problems we've discussed at September solved?


Regards,
Mindaugas
From mbelgrano at deltain.it  Tue Nov 17 10:24:03 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Nov 17 10:24:35 2009
Subject: [Harbour] Intresting Link regarding qt and syntax highlight
Message-ID: <609353e70911170724l25dec9f4h3f3512edc4d873c0@mail.gmail.com>

QScintilla project is a port to Qt of Neil Hodgsons Scintilla C++ editor class
http://www.riverbankcomputing.co.uk/static/Docs/QScintilla2/index.html

WYSIWYG HTML Editor
http://labs.trolltech.com/blogs/2009/03/12/wysiwyg-html-editor/


Good for ispiration screenshot
A development environment  with  Syntax highlighting with Automatic
completion, GUI form editor , Integrated debugger. Icon editor.
Subversion support. Database manager.
http://gambasdoc.org/help/doc/release?view#t6

-- 
Massimo Belgrano
From druzus at users.sourceforge.net  Tue Nov 17 11:30:11 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Nov 17 11:30:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12920] trunk/harbour
Message-ID: <E1NAQwV-0004YF-AQ@3kljzd1.ch3.sourceforge.com>

Revision: 12920
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12920&view=rev
Author:   druzus
Date:     2009-11-17 16:30:09 +0000 (Tue, 17 Nov 2009)

Log Message:
-----------
2009-11-17 17:29 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/utils/hbtest/rt_str.prg
    * modified code which tries to replicate Clipper behavior with ULONG
      values also in 64bit systems where ULONG is not 32bit integer

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbtest/rt_str.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Tue Nov 17 12:03:18 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Nov 17 12:04:48 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <20091115214246.GA4813@34-mo7-2.home.aster.pl>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>	<20091115134712.GA20573@34-mo7-2.home.aster.pl>	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>	<4B003671.5000806@dbtopas.lt>	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
Message-ID: <4B02D756.3050204@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
> In Norton Commander the command line is part
> of NC code not a SHELL so works with completely different conditions.
> In MC if you hit CTRL+O then hit any key then once again CTRL+O to return
> to MC you will not be able to execute any new command because these "any
> key" activated SHELL and as long as you do not hit ENTER new commands
> executing is blocked. 

Great! I've just expected to continue typing of command after pressing 
Ctrl+O. OK, now I know the idea of MC.

> In summary it's very simple and clear as long as you know how it works
> and also very flexible so it's hard to returned to DOS or Windows and
> use Norton Commander or FAR Manager.

Why do you can call it flexible? What are advantages of such MC behavior 
(in comparison to pressing Ctrl+O and continuing to enter command)?


A few more questions about MC:

- Let's say I want to see .gz file in plain (or hex) format. I do not 
want F3 to unpack it. How can I do that?

- I want to put current file name into command line. How can I do that? 
(Ctrl+Enter in Far do the job).

- Find file command shortcut is "M-?". What does it mean?

- Does MC editor has column block marking? In Far such block can be 
marked using Alt+arrows. Alt+arrows throws me out of edit window and I 
see OC, OB, OD, or OA in command line. Other unsupported keys also tends 
to put garbage into command line.


I'll have more question after I'll need to make some job on Linux.


Regards,
Mindaugas

From harbour.01 at syenar.hu  Tue Nov 17 12:32:55 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 17 12:33:07 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <4B02D756.3050204@dbtopas.lt>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>	<20091115134712.GA20573@34-mo7-2.home.aster.pl>	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>	<4B003671.5000806@dbtopas.lt>	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<4B02D756.3050204@dbtopas.lt>
Message-ID: <DDD1345F-E314-4F7F-8286-BF9BA681D454@syenar.hu>

Some more random questions:

- On my OS X system mouse always generates chars on screen, instead of moving any mouse pointer.
  Even in xterm. How can that be fixed?
- When I login using my admin acc in terminal, left/right keys don't work, instead I see 'A' and 'B' chars.
  Also the colors are missing.
- I use keyboard cut/paste using Shift+Arrows a lot. Any replacement for that in MC?

>> In summary it's very simple and clear as long as you know how it works
>> and also very flexible so it's hard to returned to DOS or Windows and
>> use Norton Commander or FAR Manager.
> 
> Why do you can call it flexible? What are advantages of such MC behavior (in comparison to pressing Ctrl+O and continuing to enter command)?
> 
> 
> A few more questions about MC:
> 
> - Let's say I want to see .gz file in plain (or hex) format. I do not want F3 to unpack it. How can I do that?
> 
> - I want to put current file name into command line. How can I do that? (Ctrl+Enter in Far do the job).

It's Esc then Enter.

> - Find file command shortcut is "M-?". What does it mean?

I've found that file find is Ctrl+S then you type filename you look for.

BTW file selection is Ctrl+T on OS X if anyone is interested.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Nov 17 13:06:00 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 17 13:06:09 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <4B02D756.3050204@dbtopas.lt>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<20091115134712.GA20573@34-mo7-2.home.aster.pl>
	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<4B02D756.3050204@dbtopas.lt>
Message-ID: <20091117180600.GA14248@34-mo7-2.home.aster.pl>

On Tue, 17 Nov 2009, Mindaugas Kavaliauskas wrote:

Hi,

> >In summary it's very simple and clear as long as you know how it works
> >and also very flexible so it's hard to returned to DOS or Windows and
> >use Norton Commander or FAR Manager.
> Why do you can call it flexible? What are advantages of such MC
> behavior (in comparison to pressing Ctrl+O and continuing to enter
> command)?

It very flexible for me because bkg task are still executed and
not interrupted when I activate panels by CTRL+O. I use this fact
very often and when some commands are working in backgrounds I'm
operating on foreground panels activated by CTRL+O.

> A few more questions about MC:
> - Let's say I want to see .gz file in plain (or hex) format. I do
> not want F3 to unpack it. How can I do that?

SHIFT+F3

> - I want to put current file name into command line. How can I do
> that? (Ctrl+Enter in Far do the job).

In the same way (it's CTRL+J in both cases and on some terminals
CTRL+ENTER works like CTRL+J) anyhow in MC you have much more
possibilities. Of course you can use keystrokes like CTRL+J or
ESC + a / A (current or second panel path) but I usually found
macros much more flexible, i.e. try:
   echo "Current dir: %d, current file %f"
or:
   echo "secind panel dir: %D, and file %F"

> - Find file command shortcut is "M-?". What does it mean?

M- means META KEY (usually ALT on PC keyboards)
M-? means ALT + "?", if you are using ENGLISH PC keyboard then you
will have to hit SHIFT + "/" to take "?" character, so for you this
key combination probably means ALT + SHIFT + "/". If you are using
keyboard where "?" character is generated in different way (i.e.
directly) then final combination can be different.
If you are using terminal where META key cannot be used in combination
with some other shift keys then you can use single ESC hit as META key,
i.e. ESC, SHIFT + "/" will work on all terminals.

BTW ^- means CTRL. i.e. ^Q means CTRL+Q

> - Does MC editor has column block marking? In Far such block can be
> marked using Alt+arrows. Alt+arrows throws me out of edit window and
> I see OC, OB, OD, or OA in command line.

Yes it has. It's activated by F13 or SHIFT+F3 (you should see "C" in
status line instead of "B" when column marking is activated).

> Other unsupported keys also tends to put garbage into command line.

Yes, if MC does not understand some escape key sequence then it simply
cannot decode it as complex key. But it's common behavior for all terminal
programs which do not receive events directly from hardware but as stream
of characters. I cannot help you here though you can use some MC extensions
like user defined key sequences to inform it about such sequences and
expected behavior or at least define them as dummy ones to strip them from
the input stream.

> I'll have more question after I'll need to make some job on Linux.

I'll try to answer.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Nov 17 13:37:14 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 17 13:37:22 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <DDD1345F-E314-4F7F-8286-BF9BA681D454@syenar.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<20091115134712.GA20573@34-mo7-2.home.aster.pl>
	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<4B02D756.3050204@dbtopas.lt>
	<DDD1345F-E314-4F7F-8286-BF9BA681D454@syenar.hu>
Message-ID: <20091117183714.GB14248@34-mo7-2.home.aster.pl>

On Tue, 17 Nov 2009, Szak?ts Viktor wrote:
> Some more random questions:
> - On my OS X system mouse always generates chars on screen, instead of moving any mouse pointer.
>   Even in xterm. How can that be fixed?

You will have to exactly check what this character means.
Probably your terminal program uses non standard escap sequence for
mouse events or you have wrong terminal description in your termcap/terminfo
database or simply TERM envvar is wrongly set.
BTW what echo $TERM shows and what terminal program you are using?

> - When I login using my admin acc in terminal, left/right keys don't work, instead I see 'A' and 'B' chars.
>   Also the colors are missing.

The same problem as above.
   mc -c
forces using colors even if termcap/terminfo do not contain valid entries
for color output.
Anyhow it does not seems to be MC problem.

> - I use keyboard cut/paste using Shift+Arrows a lot. Any replacement for that in MC?

It will depend on used window manager. I.e. I can use mouse to mark any text
and paste it using middle key or SHIFT+INSERT and it's not done by MC but
by terminal program and how it's integrated with the desktop. Please remember
that MC can be executed on completely different computers then the one you
are using directly so the sense of C&P buffer is different here.
Anyhow except the access to main desktop C&P buffer given by terminal program
MC has own copy & past buffer which you can use between different MC instances
on the same user account. You can safe any block in this buffer by pressing
CTRL+F (in fact it's a simple file so you can use many different buffers/files)
and the past it using F15 (or SHIFT+F5).
Of course extended Fn keys needs well configured terminal.

> > - I want to put current file name into command line. How can I do that? (Ctrl+Enter in Far do the job).
> It's Esc then Enter.
> > - Find file command shortcut is "M-?". What does it mean?
> I've found that file find is Ctrl+S then you type filename you look for.
> BTW file selection is Ctrl+T on OS X if anyone is interested.

If you look closer at inkey code in inkey.ch then you will find that
all keys like:
   CTRL+[A-Z]
give values which can be calculated as ASC( "[A-Z]" ) - 64 and the same
fact exists in all terminal programs. So if your terminal program does
not accept some key combination which has corresponding direct value <n>
between 1 and 26 then you can simply use CTRL+<letter> where <letter>
is <n>-th letter, i.e. CTRL+ENTER is CHR(10) and it's the same as
CTRL+M because M is 10-th letter, etc.
CTRL+<letter> combinations works in practice with all devices, as you
can see they are supported for a long time (though looks that even hipper
advanced Clipper users forgot about it ;-)) and very often helps to resolve
problems with non standard keyboards. After 25 years of PC domination
we have again many devices like PDA or cellar phones with often really
strange keyboards so the problem will return in the future.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Nov 17 13:38:13 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Nov 17 13:38:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12921] trunk/harbour
Message-ID: <E1NASwP-0006gW-UR@3kljzd1.ch3.sourceforge.com>

Revision: 12921
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12921&view=rev
Author:   druzus
Date:     2009-11-17 18:38:12 +0000 (Tue, 17 Nov 2009)

Log Message:
-----------
2009-11-17 19:37 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/Makefile
  + harbour/include/hbapistr.h
  * harbour/src/vm/Makefile
  * harbour/src/vm/hvmall.c
  + harbour/src/vm/strapi.c
    + added new C functions to extract strings in different encoding:
         void * hb_itemGetStr( PHB_ITEM pItem, void * cdp,
                               const char ** pStrPtr, ULONG * pulLen );
         void * hb_itemGetStrUTF8( PHB_ITEM pItem,
                                   const char ** pStrPtr, ULONG * pulLen );
         void * hb_itemGetStrU16( PHB_ITEM pItem, int iEndian,
                                  const HB_WCHAR ** pStrPtr, ULONG * pulLen );
      extract from given item string in requested encoding and store pointer
      to this string and its size in characters in last two parameters.
      These functions return handler which is used to lock memory buffer
      with result or NULL if given item does not contain string. All not NULL
      handles returned by above functions have to be free by hb_strfree()
      function:
         void hb_strfree( void * hString );
      As long as they are not freed memory buffer set in pStrPtr is valid
      even if other code overwrote given item.
      The second parameter in hb_itemGetStr() can specify expected CP
      encoding, i.e.:
         hStr = hb_itemGetStr( pItem, hb_setGetOSCP(), &pszText, &ulLen );
         if( hStr )
         {
            ...
            hb_strfree( hStr );
         }
      extracts string in encoding set by Set( _SET_OSCODEPAGE, <cCPID> )
      The second parameter in hb_itemGetStrU16() define endian encoding
      and can be one of the following values:
         #define HB_CDP_ENDIAN_NATIVE        0
         #define HB_CDP_ENDIAN_LITTLE        1
         #define HB_CDP_ENDIAN_BIG           2
      defined in hbapicdp.h

    + added new C functions to copy part of strings to given buffers in
      different encoding:
         ULONG hb_itemCopyStr( PHB_ITEM pItem, void * cdp,
                               char * pStrBuffer, ULONG ulSize );
         ULONG hb_itemCopyStrUTF8( PHB_ITEM pItem,
                                   char * pStrBuffer, ULONG ulSize );
         ULONG hb_itemCopyStrU16( PHB_ITEM pItem, int iEndian,
                                  HB_WCHAR * pStrBuffer, ULONG ulSize );
      hb_itemCopyStr*() functions works in similar way to hb_itemGetStr*()
      ones but they copy the strings to given buffer and return the number
      of characters (not bytes) copied to the buffer.

    + added new C functions to store given strings in different encoding in
      HVM item:
         PHB_ITEM hb_itemPutStrLen( PHB_ITEM pItem, void * cdp,
                                    const char * pStr, ULONG ulLen );
         PHB_ITEM hb_itemPutStrLenUTF8( PHB_ITEM pItem,
                                        const char * pStr, ULONG ulLen );
         PHB_ITEM hb_itemPutStrLenU16( PHB_ITEM pItem, int iEndian,
                                       const HB_WCHAR * pStr, ULONG ulLen );
      These functions accepts strings in different encoding, made some
      conversions (if necessary and internal string representation in HVM is
      different) and then store them as HVM string items.

    + added few extended API functions to operate on strings in different
      encoding:
         void * hb_parstr( int iParam, void * cdp,
                           const char ** pStrPtr, ULONG * pulLen );
         void * hb_parstr_utf8( int iParam,
                                const char ** pStrPtr, ULONG * pulLen );
         void * hb_parstr_u16( int iParam, int iEndian,
                               const HB_WCHAR ** pStrPtr, ULONG * pulLen );

         void hb_retstr( void * cdp, const char * szText );
         void hb_retstr_utf8( const char * szText );
         void hb_retstr_u16( int iEndian, const HB_WCHAR * szText );

         void hb_retstrlen( void * cdp, const char * szText, ULONG ulLen );
         void hb_retstrlen_utf8( const char * szText, ULONG ulLen );
         void hb_retstrlen_u16( int iEndian,
                                const HB_WCHAR * szText, ULONG ulLen );

         int hb_storstr( void * cdp, const char * szText, int iParam );
         int hb_storstr_utf8( const char * szText, int iParam );
         int hb_storstr_u16( int iEndian,
                             const HB_WCHAR * szText, int iParam );

         int hb_storstrlen( void * cdp,
                            const char * szText, ULONG ulLen, int iParam );
         int hb_storstrlen_utf8( const char * szText, ULONG ulLen, int iParam );
         int hb_storstrlen_u16( int iEndian,
                                const HB_WCHAR * szText, ULONG ulLen, int iParam );

      They can be used instead of hb_parc*()/hb_retc*()/hb_storc*() ones and
      allow to easy create code which operates on strings in different
      encoding, i.e.:

            HB_FUNC( MY_STRTOUTF8 )
            {
               const char * str;
               ULONG len;
               void * h;
               h = hb_parstr_utf8( 1, &str, &len );
               if( h )
               {
                  hb_retclen( str, len );
                  hb_strfree( h );
               }
            }

    The above functions allows to create code which operates on different
    string encoding, i.e. UTF8, UCS2/UTF16, some CPs and such code is
    independent from internal HVM string representation so we can use
    internally Unicode or not and it will not effect existing code.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/Makefile
    trunk/harbour/src/vm/Makefile
    trunk/harbour/src/vm/hvmall.c

Added Paths:
-----------
    trunk/harbour/include/hbapistr.h
    trunk/harbour/src/vm/strapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Nov 17 13:43:52 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 17 13:44:03 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <20091117180600.GA14248@34-mo7-2.home.aster.pl>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<20091115134712.GA20573@34-mo7-2.home.aster.pl>
	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<4B02D756.3050204@dbtopas.lt>
	<20091117180600.GA14248@34-mo7-2.home.aster.pl>
Message-ID: <59938B56-BE81-41BF-B89D-32B19377C20F@syenar.hu>

>> A few more questions about MC:
>> - Let's say I want to see .gz file in plain (or hex) format. I do
>> not want F3 to unpack it. How can I do that?
> 
> SHIFT+F3

And here is major source of frustration. On OS X this 
will bring up a copy dialog on xterm and do nothing in 
Terminal.

>> - I want to put current file name into command line. How can I do
>> that? (Ctrl+Enter in Far do the job).
> 
> In the same way (it's CTRL+J in both cases and on some terminals
> CTRL+ENTER works like CTRL+J) anyhow in MC you have much more
> possibilities. Of course you can use keystrokes like CTRL+J or
> ESC + a / A (current or second panel path) but I usually found
> macros much more flexible, i.e. try:
>   echo "Current dir: %d, current file %f"
> or:
>   echo "secind panel dir: %D, and file %F"

Esc + a/A works, Ctrl+J doesn't, Ctrl+Enter does something 
else, but can't see what exactly.

>> - Find file command shortcut is "M-?". What does it mean?
> 
> M- means META KEY (usually ALT on PC keyboards)
> M-? means ALT + "?", if you are using ENGLISH PC keyboard then you
> will have to hit SHIFT + "/" to take "?" character, so for you this
> key combination probably means ALT + SHIFT + "/". If you are using
> keyboard where "?" character is generated in different way (i.e.
> directly) then final combination can be different.
> If you are using terminal where META key cannot be used in combination
> with some other shift keys then you can use single ESC hit as META key,
> i.e. ESC, SHIFT + "/" will work on all terminals.
> 
> BTW ^- means CTRL. i.e. ^Q means CTRL+Q

These things work.

>> - Does MC editor has column block marking? In Far such block can be
>> marked using Alt+arrows. Alt+arrows throws me out of edit window and
>> I see OC, OB, OD, or OA in command line.
> 
> Yes it has. It's activated by F13 or SHIFT+F3 (you should see "C" in
> status line instead of "B" when column marking is activated).
> 
>> Other unsupported keys also tends to put garbage into command line.

Shift+F3 doesn't work on OS X, but F13, which is Print Scrn/SysRq on 
my PC keyboard, does. (it's little bit bad that cursor can't go 
past last char in line, so there is some flickering around.)

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Nov 17 13:55:26 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 17 13:55:34 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <59938B56-BE81-41BF-B89D-32B19377C20F@syenar.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<20091115134712.GA20573@34-mo7-2.home.aster.pl>
	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<4B02D756.3050204@dbtopas.lt>
	<20091117180600.GA14248@34-mo7-2.home.aster.pl>
	<59938B56-BE81-41BF-B89D-32B19377C20F@syenar.hu>
Message-ID: <20091117185526.GA14902@34-mo7-2.home.aster.pl>

On Tue, 17 Nov 2009, Szak?ts Viktor wrote:
> And here is major source of frustration. On OS X this 
> will bring up a copy dialog on xterm and do nothing in 
> Terminal.

It's not MC problem at all so I guess you wanted to say that
MacOSX is frustrating OS for users ;-)
At least it does not seems to be well tuned if default terminals
are wrongly configured.

> Esc + a/A works, Ctrl+J doesn't, Ctrl+Enter does something 
> else, but can't see what exactly.

Again is not MC problem.

> Shift+F3 doesn't work on OS X, but F13, which is Print Scrn/SysRq on 
> my PC keyboard, does. (it's little bit bad that cursor can't go 
> past last char in line, so there is some flickering around.)

Please do not confuse different things.
It does not work in your terminal emulator so I suggest to change it
or report bug to its authors.

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Nov 17 14:33:04 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 17 14:33:15 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <20091117183714.GB14248@34-mo7-2.home.aster.pl>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<20091115134712.GA20573@34-mo7-2.home.aster.pl>
	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<4B02D756.3050204@dbtopas.lt>
	<DDD1345F-E314-4F7F-8286-BF9BA681D454@syenar.hu>
	<20091117183714.GB14248@34-mo7-2.home.aster.pl>
Message-ID: <05B2BA0D-8110-45E6-BE92-04A2A86F86EC@syenar.hu>

>> - On my OS X system mouse always generates chars on screen, instead of moving any mouse pointer.
>>  Even in xterm. How can that be fixed?
> 
> You will have to exactly check what this character means.
> Probably your terminal program uses non standard escap sequence for
> mouse events or you have wrong terminal description in your termcap/terminfo
> database or simply TERM envvar is wrongly set.
> BTW what echo $TERM shows and what terminal program you are using?

'xterm' in this case, this is what 'echo $TERM' shows.

>> - When I login using my admin acc in terminal, left/right keys don't work, instead I see 'A' and 'B' chars.
>>  Also the colors are missing.
> 
> The same problem as above.
>   mc -c
> forces using colors even if termcap/terminfo do not contain valid entries
> for color output.
> Anyhow it does not seems to be MC problem.

I'm just the dumb user here. Could be that someone at 
Apple (or elsewhere) messed up something but it won't 
help my case unfortunately.

>> - I use keyboard cut/paste using Shift+Arrows a lot. Any replacement for that in MC?
> 
> It will depend on used window manager. I.e. I can use mouse to mark any text
> and paste it using middle key or SHIFT+INSERT and it's not done by MC but
> by terminal program and how it's integrated with the desktop. Please remember
> that MC can be executed on completely different computers then the one you
> are using directly so the sense of C&P buffer is different here.
> Anyhow except the access to main desktop C&P buffer given by terminal program
> MC has own copy & past buffer which you can use between different MC instances
> on the same user account. You can safe any block in this buffer by pressing
> CTRL+F (in fact it's a simple file so you can use many different buffers/files)
> and the past it using F15 (or SHIFT+F5).
> Of course extended Fn keys needs well configured terminal.

I know about the mouse copy/paste, but it's just not 
very convenient, since it slows down work quite much.
There are case, f.e. long cmdlines which wrap (BTW 
completely messing up the screen), where such method 
doesn't work, or same is true when field content is 
larger than visible editing area.

>>> - I want to put current file name into command line. How can I do that? (Ctrl+Enter in Far do the job).
>> It's Esc then Enter.
>>> - Find file command shortcut is "M-?". What does it mean?
>> I've found that file find is Ctrl+S then you type filename you look for.
>> BTW file selection is Ctrl+T on OS X if anyone is interested.
> 
> If you look closer at inkey code in inkey.ch then you will find that
> all keys like:
>   CTRL+[A-Z]
> give values which can be calculated as ASC( "[A-Z]" ) - 64 and the same
> fact exists in all terminal programs. So if your terminal program does
> not accept some key combination which has corresponding direct value <n>
> between 1 and 26 then you can simply use CTRL+<letter> where <letter>
> is <n>-th letter, i.e. CTRL+ENTER is CHR(10) and it's the same as
> CTRL+M because M is 10-th letter, etc.
> CTRL+<letter> combinations works in practice with all devices, as you
> can see they are supported for a long time (though looks that even hipper
> advanced Clipper users forgot about it ;-)) and very often helps to resolve
> problems with non standard keyboards. After 25 years of PC domination
> we have again many devices like PDA or cellar phones with often really
> strange keyboards so the problem will return in the future.

I remember these mappings, but my simple problem is that they are 
just not convenient. I mean if I have a bloody 'Ins' key on my keyboard, 
and an 'End' key, why on earth should I remember a Ctrl combination?
It's not only *nix terminal issue (but for the most part it is), some 
parts of it is OS X, missing Insert is a common OS X complaint.

F.e. even in my own app this is a huge problem and makes terminal 
based GTs useless for me and even GTXWC needing some getting used 
to. My app uses pretty much all key combinations available on 
dos/win/os2, and if I have to drop some combinations, like all 
"Shift+key" ones, it's real trouble. It's even worse since I have 
to drop different combinations depending on various factors, like 
term type, keys, OS, etc. I understand MC got designed to adapt 
to these problems, but the end result is a quite clumsy keyboard 
interface IMO, and inconsistent behavior depending on these platforms.

Pretty much off topic rant, but anyway I wish sometimes *nix 
systems in general would focus on those dumb human beings who 
are sitting next to those computers and make their job easier, 
I know there is lots of things to focus on, plus general 
portability needs some sacrifices, but perhaps eventually these 
will get resolved. At least I hope. Maybe a GUI app what emulates 
CUI and has access to all the keys in a proper way is the solution.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Nov 17 15:06:33 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 17 15:06:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12921] trunk/harbour
In-Reply-To: <E1NASwP-0006gW-UR@3kljzd1.ch3.sourceforge.com>
References: <E1NASwP-0006gW-UR@3kljzd1.ch3.sourceforge.com>
Message-ID: <BC6AF603-2C4A-4661-A64C-BE5FB132877C@syenar.hu>

Wow, that's great!

Maybe asking more at this point isn't the most polite thing, 
but I can't resist, do you think it's possible to add new 
pcode to store UTF8 (or U16) strings and some string syntax 
or cmdline switch to generate such strings in pcode?

Brgds,
Viktor

On 2009 Nov 17, at 19:38, druzus@users.sourceforge.net wrote:

> Revision: 12921
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12921&view=rev
> Author:   druzus
> Date:     2009-11-17 18:38:12 +0000 (Tue, 17 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-17 19:37 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/Makefile
>  + harbour/include/hbapistr.h
>  * harbour/src/vm/Makefile
>  * harbour/src/vm/hvmall.c
>  + harbour/src/vm/strapi.c
>    + added new C functions to extract strings in different encoding:
>         void * hb_itemGetStr( PHB_ITEM pItem, void * cdp,
>                               const char ** pStrPtr, ULONG * pulLen );
>         void * hb_itemGetStrUTF8( PHB_ITEM pItem,
>                                   const char ** pStrPtr, ULONG * pulLen );
>         void * hb_itemGetStrU16( PHB_ITEM pItem, int iEndian,
>                                  const HB_WCHAR ** pStrPtr, ULONG * pulLen );
>      extract from given item string in requested encoding and store pointer
>      to this string and its size in characters in last two parameters.
>      These functions return handler which is used to lock memory buffer
>      with result or NULL if given item does not contain string. All not NULL
>      handles returned by above functions have to be free by hb_strfree()
>      function:
>         void hb_strfree( void * hString );
>      As long as they are not freed memory buffer set in pStrPtr is valid
>      even if other code overwrote given item.
>      The second parameter in hb_itemGetStr() can specify expected CP
>      encoding, i.e.:
>         hStr = hb_itemGetStr( pItem, hb_setGetOSCP(), &pszText, &ulLen );
>         if( hStr )
>         {
>            ...
>            hb_strfree( hStr );
>         }
>      extracts string in encoding set by Set( _SET_OSCODEPAGE, <cCPID> )
>      The second parameter in hb_itemGetStrU16() define endian encoding
>      and can be one of the following values:
>         #define HB_CDP_ENDIAN_NATIVE        0
>         #define HB_CDP_ENDIAN_LITTLE        1
>         #define HB_CDP_ENDIAN_BIG           2
>      defined in hbapicdp.h
> 
>    + added new C functions to copy part of strings to given buffers in
>      different encoding:
>         ULONG hb_itemCopyStr( PHB_ITEM pItem, void * cdp,
>                               char * pStrBuffer, ULONG ulSize );
>         ULONG hb_itemCopyStrUTF8( PHB_ITEM pItem,
>                                   char * pStrBuffer, ULONG ulSize );
>         ULONG hb_itemCopyStrU16( PHB_ITEM pItem, int iEndian,
>                                  HB_WCHAR * pStrBuffer, ULONG ulSize );
>      hb_itemCopyStr*() functions works in similar way to hb_itemGetStr*()
>      ones but they copy the strings to given buffer and return the number
>      of characters (not bytes) copied to the buffer.
> 
>    + added new C functions to store given strings in different encoding in
>      HVM item:
>         PHB_ITEM hb_itemPutStrLen( PHB_ITEM pItem, void * cdp,
>                                    const char * pStr, ULONG ulLen );
>         PHB_ITEM hb_itemPutStrLenUTF8( PHB_ITEM pItem,
>                                        const char * pStr, ULONG ulLen );
>         PHB_ITEM hb_itemPutStrLenU16( PHB_ITEM pItem, int iEndian,
>                                       const HB_WCHAR * pStr, ULONG ulLen );
>      These functions accepts strings in different encoding, made some
>      conversions (if necessary and internal string representation in HVM is
>      different) and then store them as HVM string items.
> 
>    + added few extended API functions to operate on strings in different
>      encoding:
>         void * hb_parstr( int iParam, void * cdp,
>                           const char ** pStrPtr, ULONG * pulLen );
>         void * hb_parstr_utf8( int iParam,
>                                const char ** pStrPtr, ULONG * pulLen );
>         void * hb_parstr_u16( int iParam, int iEndian,
>                               const HB_WCHAR ** pStrPtr, ULONG * pulLen );
> 
>         void hb_retstr( void * cdp, const char * szText );
>         void hb_retstr_utf8( const char * szText );
>         void hb_retstr_u16( int iEndian, const HB_WCHAR * szText );
> 
>         void hb_retstrlen( void * cdp, const char * szText, ULONG ulLen );
>         void hb_retstrlen_utf8( const char * szText, ULONG ulLen );
>         void hb_retstrlen_u16( int iEndian,
>                                const HB_WCHAR * szText, ULONG ulLen );
> 
>         int hb_storstr( void * cdp, const char * szText, int iParam );
>         int hb_storstr_utf8( const char * szText, int iParam );
>         int hb_storstr_u16( int iEndian,
>                             const HB_WCHAR * szText, int iParam );
> 
>         int hb_storstrlen( void * cdp,
>                            const char * szText, ULONG ulLen, int iParam );
>         int hb_storstrlen_utf8( const char * szText, ULONG ulLen, int iParam );
>         int hb_storstrlen_u16( int iEndian,
>                                const HB_WCHAR * szText, ULONG ulLen, int iParam );
> 
>      They can be used instead of hb_parc*()/hb_retc*()/hb_storc*() ones and
>      allow to easy create code which operates on strings in different
>      encoding, i.e.:
> 
>            HB_FUNC( MY_STRTOUTF8 )
>            {
>               const char * str;
>               ULONG len;
>               void * h;
>               h = hb_parstr_utf8( 1, &str, &len );
>               if( h )
>               {
>                  hb_retclen( str, len );
>                  hb_strfree( h );
>               }
>            }
> 
>    The above functions allows to create code which operates on different
>    string encoding, i.e. UTF8, UCS2/UTF16, some CPs and such code is
>    independent from internal HVM string representation so we can use
>    internally Unicode or not and it will not effect existing code.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/Makefile
>    trunk/harbour/src/vm/Makefile
>    trunk/harbour/src/vm/hvmall.c
> 
> Added Paths:
> -----------
>    trunk/harbour/include/hbapistr.h
>    trunk/harbour/src/vm/strapi.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Tue Nov 17 15:14:30 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 17 15:14:41 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <20091117185526.GA14902@34-mo7-2.home.aster.pl>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<20091115134712.GA20573@34-mo7-2.home.aster.pl>
	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<4B02D756.3050204@dbtopas.lt>
	<20091117180600.GA14248@34-mo7-2.home.aster.pl>
	<59938B56-BE81-41BF-B89D-32B19377C20F@syenar.hu>
	<20091117185526.GA14902@34-mo7-2.home.aster.pl>
Message-ID: <91FD3977-8D03-4F46-A8DE-EFEC3B46C508@syenar.hu>

> On Tue, 17 Nov 2009, Szak?ts Viktor wrote:
>> And here is major source of frustration. On OS X this 
>> will bring up a copy dialog on xterm and do nothing in 
>> Terminal.
> 
> It's not MC problem at all so I guess you wanted to say that
> MacOSX is frustrating OS for users ;-)
> At least it does not seems to be well tuned if default terminals
> are wrongly configured.

Could easily be. Unfortunately MC doesn't come 
with the system in the first place, it needs to 
be installed from MacPorts.

>> Esc + a/A works, Ctrl+J doesn't, Ctrl+Enter does something 
>> else, but can't see what exactly.
> 
> Again is not MC problem.

Which again helps me not, and in my first mail I 
told it might well be terminal problem or any sort 
of configuration property, but for me it doesn't make 
a difference. All I perceive it that I can't use it.

>> Shift+F3 doesn't work on OS X, but F13, which is Print Scrn/SysRq on 
>> my PC keyboard, does. (it's little bit bad that cursor can't go 
>> past last char in line, so there is some flickering around.)
> 
> Please do not confuse different things.
> It does not work in your terminal emulator so I suggest to change it
> or report bug to its authors.

I don't care who's at fault to be exactly honest.

And I'm a little bit tired to submit reports to OSS 
projects (just to be ignored, or taught some lessons).

Anyhow by time I believe this will be solved, maybe 
not with terminal + MC, but something else. Maybe 
Eclipse as far programming goes. For file management, 
there are nice alternatives, like muCommander or 
ForkLift.

Brds,
Viktor

From gvarona at ec-red.com  Tue Nov 17 14:47:36 2009
From: gvarona at ec-red.com (http://news.gmane.org/gmane.comp.db.sqlite.general)
Date: Tue Nov 17 15:20:15 2009
Subject: [Harbour] Re: HBIDE - An Overview
In-Reply-To: <26379927.post@talk.nabble.com>
References: <26379927.post@talk.nabble.com>
Message-ID: <hduuea$ct4$1@ger.gmane.org>

[SPA]
Muchas Gracias Pritpal por esta gran iniciativa.
La verdad es que ahora que estoy empezando a investigar GNU, hasta ahora
no encuentro nada similar a xMate y sinceramente se extra?a mucho esta
gran herramienta.
Hasta donde mis limitados conocimiento lleguen tratare de aportar en lo
que se me requiera.

[ENG] By Google.

Pritpal thank you very much for this great initiative.
The truth is that now I'm starting to investigate Ubuntu, so far I find
nothing similar to xMate and sincerely taken aback by this great tool.
As far as my limited knowledge to contribute in case reach what I needed.

Best Regards
GVS

BTW: what was ViaNemo? Any news?




Pritpal Bedi escribi?:
> Hello All
> 
> Just a start for more discussions...
> 
> EMERGENCE OF THIS IDEA
> ===================
> 
> Massimo: initiated idea to have "xMate" or "xMate like" 
> edit/compile/link/run cycle IDE but available for all platforms
> Harbour support.
> 
> Viktor: presented the minimum requirements an IDE must contain 
>   0) Availability on OS X, Linux and Windows x86 and x64. 
>   1) Very good editor with block editing capability, syntax 
>      highlighting, possibly "intellisense". Project-wide 
>      search and replace. Support for all CPs Harbour supports. 
>      ( syntax highlighting for: prg, c and cpp ) 
>   2) Integration with VCS. 
>   3) Integrated build tool. 
>   4) Integrated project management. 
> 
> Istvan: extended 3) above as 
>   3.1) Integrated debugger. 
> 
> Francesco: suggested to integrate "Eclipse" which he thought, 
>   and others supported, is a great tool, but also expressed that 
>   he has no knowledge, so far, how it can be integrated with Harbour.
> 
> MY VIEWPOINT
> ===========
> 
> Since the day Andy started development on xMate, I remained in 
> touch with this project and we had numerous talks about its features.
> Since then xMate is an integral part of my development cycles. I am rather 
> a dire fan of xMate. 
> 
> As this is a Windows only solution, it will probably be hard to port it to 
> any other platform, unless a great amount of time is not invested into it.
> As of now I do not have requirements to convert my applications on all 
> platforms and as such xMate completely fulfils my needs.
> 
> Having said that, still, I am keen on developing an IDE, to a level
> resembling 
> to xMate ( because of my intimacy as well a big user base ) in functionality
> but extending it in other ways. 
> 
> ROADMAP TO HBIDE:
>   0. Development style : PRG
>   1. Primary coding style : HBXBP
>   2. Extended calls ( if could not be included in HBXBP ) : HBQT
>   3. Base protocol for COMPILE/LINK cycle : HBMK2
>   4. 1st version : xMate like functionality
>   5. 2nd version : Integration of Qt CREATOR and .ui components
>   6. ...
> 
> BENEFITS ( apart from a multi-platform usage ):
>   1. Xbase++ class framework will be extended to include some very fine Qt
> extensions.
>   2. HBQT will be extented to include missing components which might be
> necessary.
>   3. The resulting application will show up the strength of so many Harbour
> features.
>   4. The resulting application will offer a application framework for GUI
> development
>       to the beginners, i.e., it itself will be a demo application.
> 
> LOCATION
> =======
>   harbour/contrib/hbide
> 
> NAME
> ====
>   HBIDE - Harbour's Integrated Development Environment
> 
> CHANCES OF SUCCESS
> =================
>   Because project is purely based on PRG code, it is highly possible that 
>   a lot of you may join this effort, not only for coding but also for
> debugging, suggestions
>   and whatever... So I see in optimism for its succeess.
> 
> DETERMINATION
> ============
>   I am geared up for its development no matter what will be the
> consequences, failure or success.
>   First commit will be around this weekend though I am in a position to show
> you up something.
> 
> NEXT REQUISIT
> ===========
>   Your support in terms of vocalness.
> 
> 
> Regards
> Pritpal Bedi
> 


From mbelgrano at deltain.it  Tue Nov 17 15:28:47 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Nov 17 15:29:15 2009
Subject: [Harbour] Re: HBIDE - An Overview
In-Reply-To: <hduuea$ct4$1@ger.gmane.org>
References: <26379927.post@talk.nabble.com> <hduuea$ct4$1@ger.gmane.org>
Message-ID: <609353e70911171228y52ae1012sfe862cda3c5beebf@mail.gmail.com>

Is aivable in svn first version of hbide!

2009/11/17 http://news.gmane.org/gmane.comp.db.sqlite.general
<gvarona@ec-red.com>:
> [ENG] By Google.
>
> Pritpal thank you very much for this great initiative.
> The truth is that now I'm starting to investigate Ubuntu, so far I find
> nothing similar to xMate and sincerely taken aback by this great tool.
> As far as my limited knowledge to contribute in case reach what I needed.
>



-- 
Massimo Belgrano
From druzus at acn.waw.pl  Tue Nov 17 15:34:45 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 17 15:34:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12921] trunk/harbour
In-Reply-To: <BC6AF603-2C4A-4661-A64C-BE5FB132877C@syenar.hu>
References: <E1NASwP-0006gW-UR@3kljzd1.ch3.sourceforge.com>
	<BC6AF603-2C4A-4661-A64C-BE5FB132877C@syenar.hu>
Message-ID: <20091117203445.GA15486@34-mo7-2.home.aster.pl>

On Tue, 17 Nov 2009, Szak?ts Viktor wrote:

Hi,

> Wow, that's great!
> Maybe asking more at this point isn't the most polite thing, 
> but I can't resist, do you think it's possible to add new 
> pcode to store UTF8 (or U16) strings and some string syntax 
> or cmdline switch to generate such strings in pcode?

The encoding in source code needs more modifications then introducing
new PCODEs to store files UTF8 or U16 strings and I plan to address it
in the future.
In fact such new PCODEs is that last and the easiest part of all unicode
modifications. More important is moving CP support from RTL to compiler.
Then we will add command line switches to inform compiler about source
code encoding and some code to detect UTF8 or UCS2/UTF16 encoding
automatically. We will also need switch to set encoding in generated
PCODE to add support for compile time CP translation. And of course
we will have to add HVM support for Unicode strings in some encoding
which will be well separated from non core code. Such separation will
allow us to easy change the internal representation without any
interactions to other code. At this moment the less expensive in HVM
management and translations seems to be native machine U16 representation
(flat version of UCS2/UTF16).
We will have to define some arithmetic for unicode and non unicode strings
in math operations or for [] operators. Define metalanguage sorting rules
used with unicode non unicode and mixed strings, etc.
Finally we will have to introduce support for UNICODE strings in generated
PCODE and here we will need new PCODE values.

Please remember that UNICODE does not resolve many problems. In fact using
Unicode introduces new very serious problems so for some applications it's
not possible to use it and Unicode isn't and will never be working
alternative.

best regards,
Przemek
From gvarona at ec-red.com  Tue Nov 17 15:56:22 2009
From: gvarona at ec-red.com (http://news.gmane.org/gmane.comp.db.sqlite.general)
Date: Tue Nov 17 15:53:28 2009
Subject: [Harbour] Re: HBIDE - An Overview
In-Reply-To: <609353e70911171228y52ae1012sfe862cda3c5beebf@mail.gmail.com>
References: <26379927.post@talk.nabble.com> <hduuea$ct4$1@ger.gmane.org>
	<609353e70911171228y52ae1012sfe862cda3c5beebf@mail.gmail.com>
Message-ID: <hdv2f8$rvl$1@ger.gmane.org>

Massimo Belgrano escribi?:
> Is aivable in svn first version of hbide!

[SPA]
Gracias Massimo, ya lo vi y ya compile (WinXP) y estoy maravillado.
Para poder ejecutarlo tuve que copiar 5 DLL a la carpeta donde esta el 
programa, y son estas:
mingwm10.dll
QtCore4.dll
QtGui4.dll
QtNetwork4.dll
QtWebKit4.dll

Como puedo hacer para que el programa tome los archivos desde su 
ubicaci?n original (\qt\bin)?

Creo que ademas vamos a aprender a programar con Qt.

[ENG] By Google

Thanks Massimo, I saw it and I compile (WinXP) and I am amazed.
To run I had to copy 5 DLL to the folder where the program and are these:
mingwm10.dll
QtCore4.dll
QtGui4.dll
QtNetwork4.dll
QtWebKit4.dll

How can I make the program take the files from their original location 
(\qt\bin)?

I think that besides going to learn programming with Qt.

BestRegards
GVS

From harbour.01 at syenar.hu  Tue Nov 17 16:03:45 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 17 16:03:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12921] trunk/harbour
In-Reply-To: <20091117203445.GA15486@34-mo7-2.home.aster.pl>
References: <E1NASwP-0006gW-UR@3kljzd1.ch3.sourceforge.com>
	<BC6AF603-2C4A-4661-A64C-BE5FB132877C@syenar.hu>
	<20091117203445.GA15486@34-mo7-2.home.aster.pl>
Message-ID: <D24035BF-652F-4DEF-9ADE-E785AE8C343E@syenar.hu>

>> Wow, that's great!
>> Maybe asking more at this point isn't the most polite thing, 
>> but I can't resist, do you think it's possible to add new 
>> pcode to store UTF8 (or U16) strings and some string syntax 
>> or cmdline switch to generate such strings in pcode?
> 
> The encoding in source code needs more modifications then introducing
> new PCODEs to store files UTF8 or U16 strings and I plan to address it
> in the future.
> In fact such new PCODEs is that last and the easiest part of all unicode
> modifications. More important is moving CP support from RTL to compiler.
> Then we will add command line switches to inform compiler about source
> code encoding and some code to detect UTF8 or UCS2/UTF16 encoding
> automatically. We will also need switch to set encoding in generated
> PCODE to add support for compile time CP translation. And of course
> we will have to add HVM support for Unicode strings in some encoding
> which will be well separated from non core code. Such separation will
> allow us to easy change the internal representation without any
> interactions to other code. At this moment the less expensive in HVM
> management and translations seems to be native machine U16 representation
> (flat version of UCS2/UTF16).
> We will have to define some arithmetic for unicode and non unicode strings
> in math operations or for [] operators. Define metalanguage sorting rules
> used with unicode non unicode and mixed strings, etc.
> Finally we will have to introduce support for UNICODE strings in generated
> PCODE and here we will need new PCODE values.

Okay, great plans, I'm awaiting to see more, plus probably 
one next step for everyone is to think about how to exploit new 
APIs with current contrib/core/3rd party code, if there is 
now room for such improvements.

I wonder if these can replace HB_TCHAR_* conversion usage.

> Please remember that UNICODE does not resolve many problems. In fact using
> Unicode introduces new very serious problems so for some applications it's
> not possible to use it and Unicode isn't and will never be working
> alternative.

I've yet to write a large Unicode app so it's well possible I'm 
missing some obstacles, however in my case (business app used 
in multiple countries) it would most probably solve much more 
problems than it'd cause. For one thing, I wouldn't have to 
worry again about adding a new CP to the mix. Conversions to 
be done at interface points. Storage of Unicode strings in 
.dbfs seems to be somewhat problematic or at least unusual.

I'd be glad to read more about such serious possible problems you 
have in mind, and also some cases where it would actually be a 
showstopper as you say.

Brgds,
Viktor

From mbelgrano at deltain.it  Tue Nov 17 16:03:58 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Nov 17 16:04:25 2009
Subject: [Harbour] Re: HBIDE - An Overview
In-Reply-To: <hdv2f8$rvl$1@ger.gmane.org>
References: <26379927.post@talk.nabble.com> <hduuea$ct4$1@ger.gmane.org> 
	<609353e70911171228y52ae1012sfe862cda3c5beebf@mail.gmail.com> 
	<hdv2f8$rvl$1@ger.gmane.org>
Message-ID: <609353e70911171303r11f3b04m1b375d8ae49a917f@mail.gmail.com>

I have set follow path
SET PATH=C:\devl\MinGW\bin;c:\harbour\bin;c:\devl\qt\2009.04\qt\bin;%PATH%
and it find required dll by path


2009/11/17 http://news.gmane.org/gmane.comp.db.sqlite.general
<gvarona@ec-red.com>:
> Massimo Belgrano escribi?:
>>
>> Is aivable in svn first version of hbide!
>
> [SPA]
> Gracias Massimo, ya lo vi y ya compile (WinXP) y estoy maravillado.
> Para poder ejecutarlo tuve que copiar 5 DLL a la carpeta donde esta el
> programa, y son estas:
> mingwm10.dll
> QtCore4.dll
> QtGui4.dll
> QtNetwork4.dll
> QtWebKit4.dll
>
> Como puedo hacer para que el programa tome los archivos desde su ubicaci?n
> original (\qt\bin)?
>
> Creo que ademas vamos a aprender a programar con Qt.
>
> [ENG] By Google
>
> Thanks Massimo, I saw it and I compile (WinXP) and I am amazed.
> To run I had to copy 5 DLL to the folder where the program and are these:
> mingwm10.dll
> QtCore4.dll
> QtGui4.dll
> QtNetwork4.dll
> QtWebKit4.dll
>
> How can I make the program take the files from their original location
> (\qt\bin)?
>



-- 
Massimo Belgrano
From eghorbino at yahoo.com  Tue Nov 17 16:32:06 2009
From: eghorbino at yahoo.com (Edmer)
Date: Tue Nov 17 16:32:13 2009
Subject: [Harbour] CPU Consumption and hb_idleState()
In-Reply-To: <26286626.post@talk.nabble.com>
References: <26240902.post@talk.nabble.com> <26249073.post@talk.nabble.com>
	<20091108104629.GA26710@34-mo7-2.home.aster.pl>
	<26255827.post@talk.nabble.com>
	<20091108175544.GA14448@34-mo7-2.home.aster.pl>
	<26256802.post@talk.nabble.com>
	<20091109224440.GA18865@34-mo7-2.home.aster.pl>
	<26286626.post@talk.nabble.com>
Message-ID: <26396481.post@talk.nabble.com>


Hi Pritpal,

I just want to inquire if this issue has been resolved already.

Thanks,
Ed

-- 
View this message in context: http://old.nabble.com/CPU-Consumption-and-hb_idleState%28%29-tp26240902p26396481.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From gvarona at ec-red.com  Tue Nov 17 16:53:21 2009
From: gvarona at ec-red.com (http://news.gmane.org/gmane.comp.db.sqlite.general)
Date: Tue Nov 17 16:50:33 2009
Subject: [Harbour] Re: HBIDE - An Overview
In-Reply-To: <609353e70911171303r11f3b04m1b375d8ae49a917f@mail.gmail.com>
References: <26379927.post@talk.nabble.com> <hduuea$ct4$1@ger.gmane.org>
	<609353e70911171228y52ae1012sfe862cda3c5beebf@mail.gmail.com>
	<hdv2f8$rvl$1@ger.gmane.org>
	<609353e70911171303r11f3b04m1b375d8ae49a917f@mail.gmail.com>
Message-ID: <hdv5q2$79d$1@ger.gmane.org>

Massimo Belgrano escribi?:
> I have set follow path
> SET PATH=C:\devl\MinGW\bin;c:\harbour\bin;c:\devl\qt\2009.04\qt\bin;%PATH%
> and it find required dll by path

Thanks Massimo.

It also was necessary to update my version of QT, with whom he had not 
worked, I worked with a take of hbqtcommand.

BestRegards
GVS

From mbelgrano at deltain.it  Tue Nov 17 17:01:11 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Nov 17 17:01:39 2009
Subject: [Harbour] Re: HBIDE - An Overview
In-Reply-To: <hdv5q2$79d$1@ger.gmane.org>
References: <26379927.post@talk.nabble.com> <hduuea$ct4$1@ger.gmane.org> 
	<609353e70911171228y52ae1012sfe862cda3c5beebf@mail.gmail.com> 
	<hdv2f8$rvl$1@ger.gmane.org>
	<609353e70911171303r11f3b04m1b375d8ae49a917f@mail.gmail.com> 
	<hdv5q2$79d$1@ger.gmane.org>
Message-ID: <609353e70911171401x560299c8x62c8f131c96f209e@mail.gmail.com>

Wich is the actual situation of hbcommand (% complete)
HbQtCommand is a wrapper to compile Harbour/MiniGui programs using HBQT library.
http://sourceforge.net/projects/hbqtcommand/

2009/11/17 http://news.gmane.org/gmane.comp.db.sqlite.general
<gvarona@ec-red.com>:

>
> It also was necessary to update my version of QT, with whom he had not
> worked, I worked with a take of hbqtcommand.
>
> BestRegards
> GVS
>

-- 
Massimo Belgrano
From druzus at acn.waw.pl  Tue Nov 17 17:35:56 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 17 17:36:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12921] trunk/harbour
In-Reply-To: <D24035BF-652F-4DEF-9ADE-E785AE8C343E@syenar.hu>
References: <E1NASwP-0006gW-UR@3kljzd1.ch3.sourceforge.com>
	<BC6AF603-2C4A-4661-A64C-BE5FB132877C@syenar.hu>
	<20091117203445.GA15486@34-mo7-2.home.aster.pl>
	<D24035BF-652F-4DEF-9ADE-E785AE8C343E@syenar.hu>
Message-ID: <20091117223556.GA15999@34-mo7-2.home.aster.pl>

On Tue, 17 Nov 2009, Szak?ts Viktor wrote:
> I wonder if these can replace HB_TCHAR_* conversion usage.

It can, i.e.:

   #ifdef UNICODE
      #define HB_PARSTR( n, str, len )    \
              hb_parstr_u16( n, HB_CDP_ENDIAN_NATIVE, str, len )
   #else
      #define HB_PARSTR( n, str, len )    \
              hb_parstr( n, hb_setGetOSCP(), str, len )
   #endif

   [...]

   HB_FUNC( WAPI_MESSAGEBOX )
   {
      LPTSTR lpStr1, lpStr2;
      void * hStr1, hStr2;

      hStr1 = HB_PARSTR( 2, &lpStr1, NULL );
      hStr2 = HB_PARSTR( 3, &lpStr2, NULL );
      hb_retni( MessageBox( ( HWND ) hb_parptr( 1 ),
                            lpStr1, lpStr2, hb_parni( 4 ) ) );
      hb_strfree( hStr1 );
      hb_strfree( hStr2 );
   }

and we should try to migrate to this version because it works well
with simple CP strings and Unicode strings.
Please note that in this code all conversions are done on the fly
and they respect HVM codepage settings so using new API helps also
in code which do not use unicode string items.

> > Please remember that UNICODE does not resolve many problems. In fact using
> > Unicode introduces new very serious problems so for some applications it's
> > not possible to use it and Unicode isn't and will never be working
> > alternative.
> I've yet to write a large Unicode app so it's well possible I'm 
> missing some obstacles, however in my case (business app used 
> in multiple countries) it would most probably solve much more 
> problems than it'd cause. For one thing, I wouldn't have to 
> worry again about adding a new CP to the mix. Conversions to 
> be done at interface points. Storage of Unicode strings in 
> .dbfs seems to be somewhat problematic or at least unusual.
> I'd be glad to read more about such serious possible problems you 
> have in mind, and also some cases where it would actually be a 
> showstopper as you say.

The 1-st and most important is common sorting algorithm.
If you have three different languages and each of them uses
different national sorting rules then migrating to unicode
you will have to chose some sorting method used for all unicode
strings what means that for at least two languages you will not
be able to replicate exact national sorting conditions. If you
are creating database for phone book and exact national sorting
is a must then you cannot use any language which replaces strict
national sorting with some common for different languages universal
collation algorithm which are used for sorting unicode string and
if support for unicode is not optional then you have to change the
language to some more flexible one which do not force using Unicode.

best regards,
Przemek
From bedipritpal at hotmail.com  Tue Nov 17 18:12:26 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Nov 17 18:12:32 2009
Subject: [Harbour] CPU Consumption and hb_idleState()
In-Reply-To: <26396481.post@talk.nabble.com>
References: <26240902.post@talk.nabble.com> <26249073.post@talk.nabble.com>
	<20091108104629.GA26710@34-mo7-2.home.aster.pl>
	<26255827.post@talk.nabble.com>
	<20091108175544.GA14448@34-mo7-2.home.aster.pl>
	<26256802.post@talk.nabble.com>
	<20091109224440.GA18865@34-mo7-2.home.aster.pl>
	<26286626.post@talk.nabble.com> <26396481.post@talk.nabble.com>
Message-ID: <26399559.post@talk.nabble.com>


Hi


Edmer wrote:
> 
> I just want to inquire if this issue has been resolved already.
> 

Yep.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/CPU-Consumption-and-hb_idleState%28%29-tp26240902p26399559.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Nov 17 18:13:14 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 17 18:13:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12921] trunk/harbour
In-Reply-To: <20091117223556.GA15999@34-mo7-2.home.aster.pl>
References: <E1NASwP-0006gW-UR@3kljzd1.ch3.sourceforge.com>
	<BC6AF603-2C4A-4661-A64C-BE5FB132877C@syenar.hu>
	<20091117203445.GA15486@34-mo7-2.home.aster.pl>
	<D24035BF-652F-4DEF-9ADE-E785AE8C343E@syenar.hu>
	<20091117223556.GA15999@34-mo7-2.home.aster.pl>
Message-ID: <6401FA1C-32E3-4CCB-B1BC-56858132C977@syenar.hu>

Hi Przemek,

>   #ifdef UNICODE
>      #define HB_PARSTR( n, str, len )    \
>              hb_parstr_u16( n, HB_CDP_ENDIAN_NATIVE, str, len )
>   #else
>      #define HB_PARSTR( n, str, len )    \
>              hb_parstr( n, hb_setGetOSCP(), str, len )
>   #endif
> 
>   [...]
> 
>   HB_FUNC( WAPI_MESSAGEBOX )
>   {
>      LPTSTR lpStr1, lpStr2;
>      void * hStr1, hStr2;
> 
>      hStr1 = HB_PARSTR( 2, &lpStr1, NULL );
>      hStr2 = HB_PARSTR( 3, &lpStr2, NULL );
>      hb_retni( MessageBox( ( HWND ) hb_parptr( 1 ),
>                            lpStr1, lpStr2, hb_parni( 4 ) ) );
>      hb_strfree( hStr1 );
>      hb_strfree( hStr2 );
>   }
> 
> and we should try to migrate to this version because it works well
> with simple CP strings and Unicode strings.
> Please note that in this code all conversions are done on the fly
> and they respect HVM codepage settings so using new API helps also
> in code which do not use unicode string items.

So if I understand correctly, it will do both the UNICODE 
conversion and any required OSCP conversion. So f.e. WAPI_SHELLEXECUTE() 
code, which is currently quite on the ugly side, can be highly 
simplified. For other WAPI functions where OSCP conversion 
isn't explicitly implemented ATM, above modification will 
automatically enable it, like in your above WAPI_MESSAGEBOX() 
example.

> The 1-st and most important is common sorting algorithm.
> If you have three different languages and each of them uses
> different national sorting rules then migrating to unicode
> you will have to chose some sorting method used for all unicode
> strings what means that for at least two languages you will not
> be able to replicate exact national sorting conditions. If you
> are creating database for phone book and exact national sorting
> is a must then you cannot use any language which replaces strict
> national sorting with some common for different languages universal
> collation algorithm which are used for sorting unicode string and
> if support for unicode is not optional then you have to change the
> language to some more flexible one which do not force using Unicode.

Unicode sorting is indeed an interesting thing. But to me this 
seems rather a high level app logic problem than a disadvantage 
of Unicode. After all Unicode just makes it possible to store 
different languages next to each other, and in this case sorting 
opens a whole new problem, but even with Unicode encoded strings, 
one can opt to use a certain, language specific collation and 
put other chars f.e. to the end of list. On the database level 
this may be helped by per table (or per index) collation selection.

All in all if native Unicode is good for Java and C#, I believe 
it must be good for Harbour, too. Of course we may need to solve 
some extra Clipper/.dbf-specific problems along the way.

Brgds,
Viktor

From roberbox at gmail.com  Tue Nov 17 18:17:31 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Tue Nov 17 18:17:40 2009
Subject: [Harbour] About Error Messages
In-Reply-To: <20091117223556.GA15999@34-mo7-2.home.aster.pl>
References: <E1NASwP-0006gW-UR@3kljzd1.ch3.sourceforge.com>	<BC6AF603-2C4A-4661-A64C-BE5FB132877C@syenar.hu>	<20091117203445.GA15486@34-mo7-2.home.aster.pl>	<D24035BF-652F-4DEF-9ADE-E785AE8C343E@syenar.hu>
	<20091117223556.GA15999@34-mo7-2.home.aster.pl>
Message-ID: <4B032F0B.9030005@gmail.com>

Hi All,

Is there any way to get more accurate messages for 'undefined reference'?

ie:

I have a testapp called 'hello.prg'.

At the line #8 I've added the following function call:

IsNotHere()

Since the function does not exist, I've got an error message at build:

.hbmk\win\mingw\hello.o:hello.c:(.data+0x38): undefined reference to 
`HB_FUN_ISNOTHERE'

The question is, if is there any way to get the true .prg line number 
for the line calling the non-existing function.

I'm using HBMK2 and MingW.

TIA.
From harbour.01 at syenar.hu  Tue Nov 17 18:33:26 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 17 18:33:38 2009
Subject: [Harbour] About Error Messages
In-Reply-To: <4B032F0B.9030005@gmail.com>
References: <E1NASwP-0006gW-UR@3kljzd1.ch3.sourceforge.com>	<BC6AF603-2C4A-4661-A64C-BE5FB132877C@syenar.hu>	<20091117203445.GA15486@34-mo7-2.home.aster.pl>	<D24035BF-652F-4DEF-9ADE-E785AE8C343E@syenar.hu>
	<20091117223556.GA15999@34-mo7-2.home.aster.pl>
	<4B032F0B.9030005@gmail.com>
Message-ID: <905AEB4E-29E3-4061-BEFF-2882F488A850@syenar.hu>

Hi Roberto,

> Is there any way to get more accurate messages for 'undefined reference'?
> 
> ie:
> 
> I have a testapp called 'hello.prg'.
> 
> At the line #8 I've added the following function call:
> 
> IsNotHere()
> 
> Since the function does not exist, I've got an error message at build:
> 
> .hbmk\win\mingw\hello.o:hello.c:(.data+0x38): undefined reference to `HB_FUN_ISNOTHERE'
> 
> The question is, if is there any way to get the true .prg line number for the line calling the non-existing function.

The message comes from the linker, and the linker has no way to 
know where to look for line number information in original .prg.
It may theoretically have information about .c line numbers if 
compiled with C debug info, but it seems so that linkers don't 
implement such feature and for .prg code it would not help anyway.
Also notice that such message can be result of multiple occurrences 
of ISNOTHERE symbol inside 'hello.o'. So there could be several 
line numbers.

I use very simple 'grep ISNOTHERE *' command to find out occurrences 
of such symbols in question. This works even inside binaries (lib/obj).
This gives exactly the kind of output you're asking for.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Nov 17 19:21:48 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 17 19:21:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12921] trunk/harbour
In-Reply-To: <6401FA1C-32E3-4CCB-B1BC-56858132C977@syenar.hu>
References: <E1NASwP-0006gW-UR@3kljzd1.ch3.sourceforge.com>
	<BC6AF603-2C4A-4661-A64C-BE5FB132877C@syenar.hu>
	<20091117203445.GA15486@34-mo7-2.home.aster.pl>
	<D24035BF-652F-4DEF-9ADE-E785AE8C343E@syenar.hu>
	<20091117223556.GA15999@34-mo7-2.home.aster.pl>
	<6401FA1C-32E3-4CCB-B1BC-56858132C977@syenar.hu>
Message-ID: <20091118002148.GA16648@34-mo7-2.home.aster.pl>

On Wed, 18 Nov 2009, Szak?ts Viktor wrote:
> So if I understand correctly, it will do both the UNICODE 
> conversion and any required OSCP conversion. So f.e. WAPI_SHELLEXECUTE() 
> code, which is currently quite on the ugly side, can be highly 
> simplified. For other WAPI functions where OSCP conversion 
> isn't explicitly implemented ATM, above modification will 
> automatically enable it, like in your above WAPI_MESSAGEBOX() 
> example.

Exactly.

> Unicode sorting is indeed an interesting thing. But to me this 
> seems rather a high level app logic problem than a disadvantage 
> of Unicode. After all Unicode just makes it possible to store 
> different languages next to each other, and in this case sorting 
> opens a whole new problem, but even with Unicode encoded strings, 
> one can opt to use a certain, language specific collation and 
> put other chars f.e. to the end of list. On the database level 
> this may be helped by per table (or per index) collation selection.

In the above you are saying that you do not need native unicode support
because all what you need is some method to store characters for many
different languages. For this we for sure do not need unicode in core
code. Just simply use everywhere UTF8 and add new GT driver which will
operate on UTF8. HVM does not have to know anything about it. Such method
is already used by some GUI libraries for [x]Harbour.

> All in all if native Unicode is good for Java and C#, I believe 
> it must be good for Harbour, too. Of course we may need to solve 
> some extra Clipper/.dbf-specific problems along the way.

I do not find Unicode in Java and C# as good solution.
In general string management in these languages is one of the most
important reasons for me to not use them. Now string management in
Harbour is hundreds or even thousands times faster then in above
languages when a lot of strings have to be allocated, i.e. when
report is created and I would like to keep this performance.

best regards,
Przemek
From roberbox at gmail.com  Tue Nov 17 19:24:02 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Tue Nov 17 19:24:11 2009
Subject: [Harbour] About Error Messages
In-Reply-To: <905AEB4E-29E3-4061-BEFF-2882F488A850@syenar.hu>
References: <E1NASwP-0006gW-UR@3kljzd1.ch3.sourceforge.com>	<BC6AF603-2C4A-4661-A64C-BE5FB132877C@syenar.hu>	<20091117203445.GA15486@34-mo7-2.home.aster.pl>	<D24035BF-652F-4DEF-9ADE-E785AE8C343E@syenar.hu>	<20091117223556.GA15999@34-mo7-2.home.aster.pl>	<4B032F0B.9030005@gmail.com>
	<905AEB4E-29E3-4061-BEFF-2882F488A850@syenar.hu>
Message-ID: <4B033EA2.1070402@gmail.com>

Viktor Szak?ts wrote:

  > I use very simple 'grep ISNOTHERE *' command to find out occurrences
> of such symbols in question. This works even inside binaries (lib/obj).
> This gives exactly the kind of output you're asking for.

Thanks for the explanation.

Assuming that the '.c' reported in the message has always the same 
basename of the '.prg' containing the undefined reference and (as you 
suggest) searching it for such reference to obtain the involved line(s), 
could give to the user a more accurate and 'elegant' message about the 
problem.

Could be very useful if such feature be added via an optional switch to 
hbmk2.

Regards,


From harbour.01 at syenar.hu  Tue Nov 17 20:05:26 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Nov 17 20:05:37 2009
Subject: [Harbour] About Error Messages
In-Reply-To: <4B033EA2.1070402@gmail.com>
References: <E1NASwP-0006gW-UR@3kljzd1.ch3.sourceforge.com>	<BC6AF603-2C4A-4661-A64C-BE5FB132877C@syenar.hu>	<20091117203445.GA15486@34-mo7-2.home.aster.pl>	<D24035BF-652F-4DEF-9ADE-E785AE8C343E@syenar.hu>	<20091117223556.GA15999@34-mo7-2.home.aster.pl>	<4B032F0B.9030005@gmail.com>
	<905AEB4E-29E3-4061-BEFF-2882F488A850@syenar.hu>
	<4B033EA2.1070402@gmail.com>
Message-ID: <A0D5AD11-E901-49F1-943E-03905F579E32@syenar.hu>

> > I use very simple 'grep ISNOTHERE *' command to find out occurrences
>> of such symbols in question. This works even inside binaries (lib/obj).
>> This gives exactly the kind of output you're asking for.
> 
> Thanks for the explanation.
> 
> Assuming that the '.c' reported in the message has always the same basename of the '.prg' containing the undefined reference and (as you suggest) searching it for such reference to obtain the involved line(s), could give to the user a more accurate and 'elegant' message about the problem.
> 
> Could be very useful if such feature be added via an optional switch to hbmk2.

This doesn't look doable to me, or at least such little 
more elegant output is very pricey. First of all, mingw 
is just one of the dozen compilers hbmk2 currently supports. 
hbmk2 would need error output parsers for each of them 
(think about multiple message format across different 
compiler versions to make it even more difficult to maintain). 
Then it would have to know a way to determine original 
.prg source name based on object name. This is sometimes 
easy to guess (it's guessing nevertheless), but not 
easily doable in a generic way (f.e. .clp files, or 
objects included in libs, which have the same name as 
.prg files in actual project, multiple phase builds 
using -hbcmp and friends, .c source objects, objects in 
libs, inline .c). Suppose we have the .prg source name, 
then comes the impossible part: Finding the occurrences of 
symbol in source code. Granted, hbmk2 could do a simple 
string search (if managed to reach this point), but this 
isn't too much added value compared to a simple 'grep' 
issued by user. To do it properly though, it would need 
serious compiler/pp support.

So overall I see not much chance this could make into 
hbmk2, or any similar tool.

Of course if someone has better ideas how to solve 
this problem, I'm interested to hear it.

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Tue Nov 17 20:31:28 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Nov 17 20:31:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12922] trunk/harbour
Message-ID: <E1NAZOK-0002i4-2N@bj8yhf1.ch3.sourceforge.com>

Revision: 12922
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12922&view=rev
Author:   vouchcac
Date:     2009-11-18 01:31:26 +0000 (Wed, 18 Nov 2009)

Log Message:
-----------
2009-11-17 17:26 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  + contrib/hbide/resources/builderror.png
  * contrib/hbide/resources/gotomark.png
  + contrib/hbide/resources/modulelist.png

  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_slots.h
  * contrib/hbqt/moc_slots.cpp

  * contrib/hbxbp/xbpgeneric.prg
  * contrib/hbxbp/xbptabpage.prg
    + Implemented first 4 icons operational. 
      Now, at least you can open/edit/save .prg .c .ch .h files.
      I am interested in any bugs you may encounter in the process.
      Few HBXBP calasses have also been updated in the process.

    QUESTION: How good it will be to extend Xbase++ class framework ?
              Is this the ripe time or we need more inputs ?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/resources/gotomark.png
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h
    trunk/harbour/contrib/hbqt/moc_slots.cpp
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
    trunk/harbour/contrib/hbxbp/xbptabpage.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/builderror.png
    trunk/harbour/contrib/hbide/resources/modulelist.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From roberbox at gmail.com  Tue Nov 17 20:32:05 2009
From: roberbox at gmail.com (Roberto Lopez)
Date: Tue Nov 17 20:32:14 2009
Subject: [Harbour] About Error Messages
In-Reply-To: <A0D5AD11-E901-49F1-943E-03905F579E32@syenar.hu>
References: <E1NASwP-0006gW-UR@3kljzd1.ch3.sourceforge.com>	<BC6AF603-2C4A-4661-A64C-BE5FB132877C@syenar.hu>	<20091117203445.GA15486@34-mo7-2.home.aster.pl>	<D24035BF-652F-4DEF-9ADE-E785AE8C343E@syenar.hu>	<20091117223556.GA15999@34-mo7-2.home.aster.pl>	<4B032F0B.9030005@gmail.com>	<905AEB4E-29E3-4061-BEFF-2882F488A850@syenar.hu>	<4B033EA2.1070402@gmail.com>
	<A0D5AD11-E901-49F1-943E-03905F579E32@syenar.hu>
Message-ID: <4B034E95.30303@gmail.com>

Viktor Szak?ts wrote:

> This doesn't look doable to me, or at least such little 
> more elegant output is very pricey. 
<...>
> So overall I see not much chance this could make into 
> hbmk2, or any similar tool.

Ok.

Thanks for your answer.

Regards,

Roberto.

From harbour.01 at syenar.hu  Tue Nov 17 20:35:14 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 17 20:35:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12922] trunk/harbour
In-Reply-To: <E1NAZOK-0002i4-2N@bj8yhf1.ch3.sourceforge.com>
References: <E1NAZOK-0002i4-2N@bj8yhf1.ch3.sourceforge.com>
Message-ID: <EF65F560-DAE3-4F23-BCE8-8729932D2059@syenar.hu>

>  * contrib/hbxbp/xbpgeneric.prg
>  * contrib/hbxbp/xbptabpage.prg
>    + Implemented first 4 icons operational. 
>      Now, at least you can open/edit/save .prg .c .ch .h files.
>      I am interested in any bugs you may encounter in the process.
>      Few HBXBP calasses have also been updated in the process.
> 
>    QUESTION: How good it will be to extend Xbase++ class framework ?
>              Is this the ripe time or we need more inputs ?

I don't know, but please document it, we have a long history 
in Harbour to document extensions, so we should IMO do this 
also for hbxbp. We don't have any interest in locking in 
users into Harbour + hbxbp, IOW we should allow them to move 
to Xbase++, or create apps which work on both platforms.

The easiest and recommended way to self-document it is by 
using a simple macro, f.e. HBXBP_EXTENSION. Which is #defined 
by default.

Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Nov 17 20:53:41 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 17 20:53:52 2009
Subject: [Harbour] Win98 + MT crash
Message-ID: <75AFB043-A8B0-453F-9BB6-C2665C0E044B@syenar.hu>

Hi Przemek and All,

After seeing reports on HMG Forum about hbmk2 
failing on Win98, I verified it myself and there 
is indeed something wrong with MT mode on Win98 
systems, and it's not directly related to compiler.

So hbmk2 was the test program I used, BCC 5.5 and 
MinGW 4.4.1 builds.

Running hbmk2.exe without parameter, gave these results:
(no console output appeared so it must be crashing 
in startup phase)

---
HBMK2_BCC caused an invalid page fault in
module HBMK2_BCC.EXE at 015f:00467a33.
Registers:
EAX=00000001 CS=015f EIP=00467a33 EFLGS=00010207
EBX=00651ce0 SS=0167 ESP=0064f93c EBP=0065193c
ECX=00000000 DS=0167 ESI=8162b734 FS=241f
EDX=c002ffe0 ES=0167 EDI=8162b8f8 GS=0000
Bytes at CS:EIP:
50 48 75 f6 8b 45 fc 81 c4 80 fb ff ff 53 56 57 
Stack dump:
---

---
HBMK2_MINGW caused an invalid page fault in
module KERNEL32.DLL at 015f:bff9d62b.
Registers:
EAX=006b02b0 CS=015f EIP=bff9d62b EFLGS=00010202
EBX=008aff68 SS=0167 ESP=006b0000 EBP=006b000c
ECX=00000000 DS=0167 ESI=8162b734 FS=140f
EDX=c002ffe0 ES=0167 EDI=8162b8fc GS=0000
Bytes at CS:EIP:
50 64 89 25 00 00 00 00 83 ec 38 8d 45 b8 53 56 
Stack dump:
bffbfe14 bff79290 ffffffff 006b02c0 bff9d739 006af4c0 bff79138 00000000 008aff68 00000000 00000000 00000000 00000000 00000000 00000000 00000000 
---

ST builds with both compilers run properly.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Nov 17 21:00:32 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 17 21:00:40 2009
Subject: [Harbour] Win98 + MT crash
In-Reply-To: <75AFB043-A8B0-453F-9BB6-C2665C0E044B@syenar.hu>
References: <75AFB043-A8B0-453F-9BB6-C2665C0E044B@syenar.hu>
Message-ID: <20091118020032.GA18302@34-mo7-2.home.aster.pl>

On Wed, 18 Nov 2009, Szak?ts Viktor wrote:
> Hi Przemek and All,
> After seeing reports on HMG Forum about hbmk2 
> failing on Win98, I verified it myself and there 
> is indeed something wrong with MT mode on Win98 
> systems, and it's not directly related to compiler.
> So hbmk2 was the test program I used, BCC 5.5 and 
> MinGW 4.4.1 builds.
> Running hbmk2.exe without parameter, gave these results:
> (no console output appeared so it must be crashing 
> in startup phase)

As I wrote in last message in related thread please try to reduce the
problem using .prg files in tests/mt.
Are all of them crashing?
If yes then please try to run mttest01.prg compiled by
MINGW in GDB to see where it crashes.

best regards,
Przemek
From gvarona at ec-red.com  Tue Nov 17 21:31:24 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Tue Nov 17 21:32:01 2009
Subject: [Harbour] Re: HBIDE - An Overview
In-Reply-To: <609353e70911171401x560299c8x62c8f131c96f209e@mail.gmail.com>
References: <26379927.post@talk.nabble.com> <hduuea$ct4$1@ger.gmane.org>
	<609353e70911171228y52ae1012sfe862cda3c5beebf@mail.gmail.com>
	<hdv2f8$rvl$1@ger.gmane.org>	<609353e70911171303r11f3b04m1b375d8ae49a917f@mail.gmail.com>
	<hdv5q2$79d$1@ger.gmane.org>
	<609353e70911171401x560299c8x62c8f131c96f209e@mail.gmail.com>
Message-ID: <hdvm9v$iqq$1@ger.gmane.org>

> Wich is the actual situation of hbcommand (% complete)
> HbQtCommand is a wrapper to compile Harbour/MiniGui programs using HBQT library.
> http://sourceforge.net/projects/hbqtcommand/

I really do not know.
Just download the latest SVN, I did some tests and stay there.

BestRegards
GVS

From druzus at users.sourceforge.net  Tue Nov 17 21:50:14 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Nov 17 21:50:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12923] trunk/harbour
Message-ID: <E1NAacY-0000Yg-Fm@74yxhf1.ch3.sourceforge.com>

Revision: 12923
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12923&view=rev
Author:   druzus
Date:     2009-11-18 02:50:13 +0000 (Wed, 18 Nov 2009)

Log Message:
-----------
2009-11-18 03:49 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/beos/gcc.mk
    ! fixed typo in AR_RULE

  * harbour/config/bsd/gcc.mk
    ! added missing false command to force build interrupt when library cannot
      be created

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/beos/gcc.mk
    trunk/harbour/config/bsd/gcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Wed Nov 18 00:04:04 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Nov 18 00:04:12 2009
Subject: [Harbour] SVN Error
Message-ID: <26402594.post@talk.nabble.com>


Hi

I receive this error after "make clean"

gcc  -I. -I../../../../../include  -Wall -W -O3 -fomit-frame-pointer
-march=i586 -mtune=pentiumpro  -D__HB_WINDEBUG__ -D__HB_DEBUG__
-DHB_FM_STATISTICS -ohbpp.o -c ../../../hbpp.c
gcc  -Wall -W -O3 -fomit-frame-pointer -march=i586 -mtune=pentiumpro 
-L../../../../../lib/win/mingw   -o ..\..\..\..\..\bin\win\mingw\hbpp.exe
hbpp.o -lhbwin -lhbnortl -lhbcommon -lkernel32 -luser32 -lws2_32 -ladvapi32
-lgdi32 
c:/harbour_dev/mingw/bin/../lib/gcc/mingw32/4.4.0/../../../../mingw32/bin/ld.exe:
cannot find -lhbwin
collect2: ld returned 1 exit status
make[3]: *** [hbpp.exe] Error 1
rm hbpp.o
make[2]: *** [descend] Error 2
make[1]: *** [pp.inst] Error 2
make: *** [src.inst] Error 2


Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/SVN-Error-tp26402594p26402594.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From niki at synel.co.il  Wed Nov 18 02:15:16 2009
From: niki at synel.co.il (Chen Kedem)
Date: Wed Nov 18 02:15:24 2009
Subject: [Harbour] Win98 + MT crash
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F26@Mail-yoq.SYNEL-COMPANY.LTD>

Executing hbmk2.exe (Rev12895) on a Win95 I get an error message that
the program try to access undefined function InterlockedCompareExchange
in KERNEL32.DLL

This function exists on WinNT but not on Win95,
maybe the same is true for Win98.

It is used in vm/dlmalloc.c and vm/fm.c

  Chen.
From harbour.01 at syenar.hu  Wed Nov 18 02:22:51 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 18 02:23:03 2009
Subject: [Harbour] SVN Error
In-Reply-To: <26402594.post@talk.nabble.com>
References: <26402594.post@talk.nabble.com>
Message-ID: <1C37AA5B-BE04-47A7-9C6E-6F2E64786395@syenar.hu>

Hi Pritpal,

Delete HB_USER_LIBS envvar from your system.

Brgds,
Viktor

On 2009 Nov 18, at 06:04, Pritpal Bedi wrote:

> 
> Hi
> 
> I receive this error after "make clean"
> 
> gcc  -I. -I../../../../../include  -Wall -W -O3 -fomit-frame-pointer
> -march=i586 -mtune=pentiumpro  -D__HB_WINDEBUG__ -D__HB_DEBUG__
> -DHB_FM_STATISTICS -ohbpp.o -c ../../../hbpp.c
> gcc  -Wall -W -O3 -fomit-frame-pointer -march=i586 -mtune=pentiumpro 
> -L../../../../../lib/win/mingw   -o ..\..\..\..\..\bin\win\mingw\hbpp.exe
> hbpp.o -lhbwin -lhbnortl -lhbcommon -lkernel32 -luser32 -lws2_32 -ladvapi32
> -lgdi32 
> c:/harbour_dev/mingw/bin/../lib/gcc/mingw32/4.4.0/../../../../mingw32/bin/ld.exe:
> cannot find -lhbwin
> collect2: ld returned 1 exit status
> make[3]: *** [hbpp.exe] Error 1
> rm hbpp.o
> make[2]: *** [descend] Error 2
> make[1]: *** [pp.inst] Error 2
> make: *** [src.inst] Error 2
> 
> 
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://old.nabble.com/SVN-Error-tp26402594p26402594.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From niki at synel.co.il  Wed Nov 18 02:36:45 2009
From: niki at synel.co.il (Chen Kedem)
Date: Wed Nov 18 02:36:52 2009
Subject: [Harbour] Win98 + MT crash
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F26@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F26@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F27@Mail-yoq.SYNEL-COMPANY.LTD>

I wrote:
> Executing hbmk2.exe (Rev12895) on a Win95 I get an error message that
> the program try to access undefined function InterlockedCompareExchange
> in KERNEL32.DLL

Another test (Rev12895, BCC32, WinNT):

..\bin\hbmk2 mttest01

Running mttest01.exe on both WinNT and Win95
I get an Argument error HB_THREADJOIN.

..\bin\hbmk2 -mt mttest01

mttest01.exe run fine on WinNT
and missing InterlockedCompareExchange error on Win95.

> It is used in vm/dlmalloc.c and vm/fm.c

And in external/sqlite3/sqlite3.c


  Chen.
From mbelgrano at deltain.it  Wed Nov 18 03:19:27 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Nov 18 03:19:55 2009
Subject: [Harbour] Harbour will do IPC
Message-ID: <609353e70911180019l247d5e81k5706c474ba520c2c@mail.gmail.com>

Wich are the Inter-process communication (IPC) capability of harbour?

http://en.wikipedia.org/wiki/Inter-process_communication
ipc have varies implemen tation  from corba to soap
wich is the harbour way

http://www.codeproject.com/KB/threads/fast_ipc.aspx


-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Wed Nov 18 04:06:46 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 18 04:07:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12921] trunk/harbour
In-Reply-To: <20091118002148.GA16648@34-mo7-2.home.aster.pl>
References: <E1NASwP-0006gW-UR@3kljzd1.ch3.sourceforge.com>
	<BC6AF603-2C4A-4661-A64C-BE5FB132877C@syenar.hu>
	<20091117203445.GA15486@34-mo7-2.home.aster.pl>
	<D24035BF-652F-4DEF-9ADE-E785AE8C343E@syenar.hu>
	<20091117223556.GA15999@34-mo7-2.home.aster.pl>
	<6401FA1C-32E3-4CCB-B1BC-56858132C977@syenar.hu>
	<20091118002148.GA16648@34-mo7-2.home.aster.pl>
Message-ID: <37DEA8E1-6088-4C88-A611-B1F508AE16E7@syenar.hu>

>> Unicode sorting is indeed an interesting thing. But to me this 
>> seems rather a high level app logic problem than a disadvantage 
>> of Unicode. After all Unicode just makes it possible to store 
>> different languages next to each other, and in this case sorting 
>> opens a whole new problem, but even with Unicode encoded strings, 
>> one can opt to use a certain, language specific collation and 
>> put other chars f.e. to the end of list. On the database level 
>> this may be helped by per table (or per index) collation selection.
> 
> In the above you are saying that you do not need native unicode support
> because all what you need is some method to store characters for many
> different languages. For this we for sure do not need unicode in core
> code. Just simply use everywhere UTF8 and add new GT driver which will
> operate on UTF8. HVM does not have to know anything about it. Such method
> is already used by some GUI libraries for [x]Harbour.

I didn't say I don't need it. I said if someone needs strict 
national collation in some places (like the one you mentioned 
in your example) it can be solved even when using Unicode.

What you suggest would seem to be nice solution, but one 
problem is that we're missing such UTF8 support in various 
places of Harbour. With you recent changes though, it 
seems to be possible to reach this state, f.e. by using 
new string conversion functions in places like GTWIN/GTWVT, 
maybe GTXWC, I don't know whether is supports UTF8, but I'd 
guess not, same goes for GTTRM when terminal isn't operating 
in UTF8 mode. So, if I understand correctly, we must use 
new string conversion functions all over Harbour first.

There are some other problems. If I go to use UTF8 for my 
app strings as you suggest, I'd have to change all string 
handling functions to HB_UTF8*() flavors, which means support 
is not transparent (or "native").

>> All in all if native Unicode is good for Java and C#, I believe 
>> it must be good for Harbour, too. Of course we may need to solve 
>> some extra Clipper/.dbf-specific problems along the way.
> 
> I do not find Unicode in Java and C# as good solution.
> In general string management in these languages is one of the most
> important reasons for me to not use them. Now string management in
> Harbour is hundreds or even thousands times faster then in above
> languages when a lot of strings have to be allocated, i.e. when
> report is created and I would like to keep this performance.

I'm happy Harbour is better, but is there a relation 
between dismal C#/Java string handling performance and 
their support of Unicode?

Brgds,
Viktor

From m.lacecilia at gmail.com  Wed Nov 18 04:44:43 2009
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Wed Nov 18 04:44:50 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <26385643.post@talk.nabble.com>
References: <26379927.post@talk.nabble.com> <26385643.post@talk.nabble.com>
Message-ID: <26404961.post@talk.nabble.com>


Again, about hbIDE, i would know what Pritpal and the community thinks about
some choices i believe strategical in the new project.

A) A feature of xMate that i think needs to be absolutely present in hbIDE
is the project embedding. I can, i.e., define a production project
enumerating the own files AND adding to xbp also the linked subprojects
(also xbp, of course) as the engine library project, the gui library
project, and so on. This declaration allows to build in cascade the
subprojects and the main project if some change was made in any source, not
important if of main or sub projects. Also, the open file allows to work in
the same instance of xMate editing any source of main or sub projects.

B) Another very useful tool is the formatter. Obviously, the better choice
is to integrate the hbformat work of Alex Kresin published in the contrib,
after investigating if it lacks of some feature of the highly configurable
formatter of xMate. If is needed some aid about this tool, i could be
useful.

C) A lack (but maybe the only important) of xMate is about the tiled and
aligned windows, so is needed to open two instances of xMate and to arrange
the windows manually to see two sources simultaneously. The behaviour of the
first hbIDE release mantains the same as xMate, so i think better to
evaluate if a tab rearranging or a MDI approach could be a solution.

Waiting for your thought about.
Best regards.
Maurizio la Cecilia


Maurizio la Cecilia wrote:
> 
> Hi Pritpal,
> as very hot fan of xMate and happy user of the product of Andy, i would
> partecipate to your new project.
> You can count on me surely as betatester and, due to prg based
> development, also in working on not critical pieces of the project, if you
> need.
> Many thanks for your effective work, and best regards.
> Maurizio la Cecilia
> 

-- 
View this message in context: http://old.nabble.com/HBIDE---An-Overview-tp26379927p26404961.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From elart at elart.it  Wed Nov 18 04:50:44 2009
From: elart at elart.it (elart)
Date: Wed Nov 18 04:50:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12922] trunk/harbour
In-Reply-To: <E1NAZOK-0002i4-2N@bj8yhf1.ch3.sourceforge.com>
Message-ID: <ihYYqNJs.1258537844.1610650.marcobra@82.105.36.210>


Hi, all

On Ubuntu 9.10 32 bit compiling:

 hbmk2 hbide.prg
hbmk2: Processing local make script: hbmk.hbm
hbmk2: Processing configuration: /usr/bin/hbmk.cfg
Harbour 2.0.0beta3 (Rev. 12923)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'hbide.prg'...
hbide.prg(315) Warning W0001  Ambiguous reference 'QTEXTEDIT_NOWRAP'
500
No code generated.
hbmk2: Error: Running Harbour compiler (embedded). 1
(/usr/bin/harbour) -n2 hbide.prg -w3 -es2 -i/usr/include -i../hbxbp
-i../hbqt

Thank you to share your works and best regards

Marco
From m.lacecilia at gmail.com  Wed Nov 18 05:03:40 2009
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Wed Nov 18 05:03:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12922] trunk/harbour
In-Reply-To: <E1NAZOK-0002i4-2N@bj8yhf1.ch3.sourceforge.com>
References: <E1NAZOK-0002i4-2N@bj8yhf1.ch3.sourceforge.com>
Message-ID: <26405193.post@talk.nabble.com>


Hi Pritpal, the close button no loger works and clicking it the app crashes
with:

Application Internal Error - C:\CVS\harbour\contrib\hbide\hbide.exe
Terminated at: 2009.11.18 10:55:39
Unrecoverable error 6005: Exception error: 

    Exception Code:C0000005
    Exception Address:65182370
    EAX:00000000  EBX:00C6E2F8  ECX:003EFEE0  EDX:0800F000
    ESI:00000000  EDI:01ACB258  EBP:0022FD68
    CS:EIP:001B:65182370  SS:ESP:0023:0022FCB0
    DS:0023  ES:0023  FS:003B  GS:0000
    Flags:00010282
    CS:EIP: 8B 40 04 89 5C 24 04 C7 45 88 03 00 00 00 89 04
    SS:ESP: 003EFE98 00000000 0022FCD8 6A3939F0 00000005 0022FD8C 003E0000
005E51A8 FFFFFFFF 00000000 003EFE98 00C6E2F8 0001FD0C 00000006 0022FC44
0022FD8C

    C stack:
    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...
    65182370 0022FD68   65AD7508 00475ED5 00C6E2F8 0022FDC0 0022FFE0
77C05C94 77BE2070 00000001 00C7853C 00000000

Environment:
XP win workstation, MinGW compiler, latest CVS Harbour build.
Best regards.
Maurizio la Cecilia


vouchcac wrote:
> 
> Revision: 12922
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12922&view=rev
> Author:   vouchcac
> Date:     2009-11-18 01:31:26 +0000 (Wed, 18 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-17 17:26 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>   * contrib/hbide/hbide.prg
>   + contrib/hbide/resources/builderror.png
>   * contrib/hbide/resources/gotomark.png
>   + contrib/hbide/resources/modulelist.png
> 
>   * contrib/hbqt/hbqt_slots.cpp
>   * contrib/hbqt/hbqt_slots.h
>   * contrib/hbqt/moc_slots.cpp
> 
>   * contrib/hbxbp/xbpgeneric.prg
>   * contrib/hbxbp/xbptabpage.prg
>     + Implemented first 4 icons operational. 
>       Now, at least you can open/edit/save .prg .c .ch .h files.
>       I am interested in any bugs you may encounter in the process.
>       Few HBXBP calasses have also been updated in the process.
> 
>     QUESTION: How good it will be to extend Xbase++ class framework ?
>               Is this the ripe time or we need more inputs ?
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/contrib/hbide/hbide.prg
>     trunk/harbour/contrib/hbide/resources/gotomark.png
>     trunk/harbour/contrib/hbqt/hbqt_slots.cpp
>     trunk/harbour/contrib/hbqt/hbqt_slots.h
>     trunk/harbour/contrib/hbqt/moc_slots.cpp
>     trunk/harbour/contrib/hbxbp/xbpgeneric.prg
>     trunk/harbour/contrib/hbxbp/xbptabpage.prg
> 
> Added Paths:
> -----------
>     trunk/harbour/contrib/hbide/resources/builderror.png
>     trunk/harbour/contrib/hbide/resources/modulelist.png
> 
> 
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12922--trunk-harbour-tp26400975p26405193.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Wed Nov 18 05:53:03 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Nov 18 05:53:30 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <26404961.post@talk.nabble.com>
References: <26379927.post@talk.nabble.com> <26385643.post@talk.nabble.com> 
	<26404961.post@talk.nabble.com>
Message-ID: <609353e70911180253s1a8001cdkf508c302d418150a@mail.gmail.com>

This is my corder on info regarding what i love of xmate
1) Integration of xharbour language reference as help
In Option Keyboard mapping user e menu associate fo key f1 i use
follow macro to integrate xharbour language reference in xmate
---------------------
|cTopic|
IF( Empty( cTopic := ::GetText() ), cTopic := ::GetWord(.F.) ),
HtmlHelpTopic( ::hWnd, "c:\harbour\xhdoc\xHarbour Language Reference
Guide.chm", cTopic )

2)Xmate allow use nested project and compile end edit all included project
projecta.xbp will contain projectblib.xbp+source1.prg


2009/11/18 Maurizio la Cecilia <m.lacecilia@gmail.com>:
>


-- 
Massimo Belgrano
From druzus at acn.waw.pl  Wed Nov 18 06:16:43 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov 18 06:16:50 2009
Subject: [Harbour] Win98 + MT crash
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F26@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F26@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20091118111643.GA21286@34-mo7-2.home.aster.pl>

On Wed, 18 Nov 2009, Chen Kedem wrote:

Hi,

> Executing hbmk2.exe (Rev12895) on a Win95 I get an error message that
> the program try to access undefined function InterlockedCompareExchange
> in KERNEL32.DLL
> This function exists on WinNT but not on Win95,
> maybe the same is true for Win98.
> It is used in vm/dlmalloc.c and vm/fm.c

Thank you very much for the information. This function is used only
by DLMALLOC code which is enabled by default in MSVC, BORLAND, MINGW and
WATCOM windows  builds.
Please try to recompile Harbour without DLMALLOC using HB_FM_WIN_ALLOC
macro, i.e.:
   set HB_USER_PRGFLAGS=-DHB_FM_WIN_ALLOC
And check if it's enough to run Harbour application in Win95.
If yes then we can change dlmalloc.c to use something different for
spinlocks what will not cause problems for Win9x.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Nov 18 06:26:34 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Nov 18 06:26:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12922] trunk/harbour
In-Reply-To: <ihYYqNJs.1258537844.1610650.marcobra@82.105.36.210>
References: <ihYYqNJs.1258537844.1610650.marcobra@82.105.36.210>
Message-ID: <D0CD7C11-E3E0-49E7-8F64-489885D762E5@syenar.hu>

You forgot to do 'make install' while you have 
an old version of hbqt header in your main include 
dir.

Brgds,
Viktor

On 2009 Nov 18, at 10:50, elart wrote:

> 
> Hi, all
> 
> On Ubuntu 9.10 32 bit compiling:
> 
> hbmk2 hbide.prg
> hbmk2: Processing local make script: hbmk.hbm
> hbmk2: Processing configuration: /usr/bin/hbmk.cfg
> Harbour 2.0.0beta3 (Rev. 12923)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'hbide.prg'...
> hbide.prg(315) Warning W0001  Ambiguous reference 'QTEXTEDIT_NOWRAP'
> 500
> No code generated.
> hbmk2: Error: Running Harbour compiler (embedded). 1
> (/usr/bin/harbour) -n2 hbide.prg -w3 -es2 -i/usr/include -i../hbxbp
> -i../hbqt
> 
> Thank you to share your works and best regards
> 
> Marco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Nov 18 06:32:53 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 18 06:33:05 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <26404961.post@talk.nabble.com>
References: <26379927.post@talk.nabble.com> <26385643.post@talk.nabble.com>
	<26404961.post@talk.nabble.com>
Message-ID: <DF2BB37C-BF39-4151-9485-34BBAD6D628E@syenar.hu>

It would be quite a huge waste of effort if hbide would 
reinvent the whole feature set of hbmk2.

IMO it should be able to create .hbp files for each project 
on the fly (from the file lists and options set on the GUI) 
and call hbmk2 to do this job.

Overall I think .xbp file compatibility is unimportant, 
but of course hbide could use something similar to store 
the file list and options. Ideally it should store these 
in .hbp files. This will need a hbmk2 compatible option 
parser.

Brgds,
Viktor

On 2009 Nov 18, at 10:44, Maurizio la Cecilia wrote:

> 
> Again, about hbIDE, i would know what Pritpal and the community thinks about
> some choices i believe strategical in the new project.
> 
> A) A feature of xMate that i think needs to be absolutely present in hbIDE
> is the project embedding. I can, i.e., define a production project
> enumerating the own files AND adding to xbp also the linked subprojects
> (also xbp, of course) as the engine library project, the gui library
> project, and so on. This declaration allows to build in cascade the
> subprojects and the main project if some change was made in any source, not
> important if of main or sub projects. Also, the open file allows to work in
> the same instance of xMate editing any source of main or sub projects.
> 
> B) Another very useful tool is the formatter. Obviously, the better choice
> is to integrate the hbformat work of Alex Kresin published in the contrib,
> after investigating if it lacks of some feature of the highly configurable
> formatter of xMate. If is needed some aid about this tool, i could be
> useful.
> 
> C) A lack (but maybe the only important) of xMate is about the tiled and
> aligned windows, so is needed to open two instances of xMate and to arrange
> the windows manually to see two sources simultaneously. The behaviour of the
> first hbIDE release mantains the same as xMate, so i think better to
> evaluate if a tab rearranging or a MDI approach could be a solution.
> 
> Waiting for your thought about.
> Best regards.
> Maurizio la Cecilia
> 
> 
> Maurizio la Cecilia wrote:
>> 
>> Hi Pritpal,
>> as very hot fan of xMate and happy user of the product of Andy, i would
>> partecipate to your new project.
>> You can count on me surely as betatester and, due to prg based
>> development, also in working on not critical pieces of the project, if you
>> need.
>> Many thanks for your effective work, and best regards.
>> Maurizio la Cecilia
>> 
> 
> -- 
> View this message in context: http://old.nabble.com/HBIDE---An-Overview-tp26379927p26404961.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Nov 18 06:34:09 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Nov 18 06:34:21 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <609353e70911180253s1a8001cdkf508c302d418150a@mail.gmail.com>
References: <26379927.post@talk.nabble.com> <26385643.post@talk.nabble.com>
	<26404961.post@talk.nabble.com>
	<609353e70911180253s1a8001cdkf508c302d418150a@mail.gmail.com>
Message-ID: <2EE1A0E6-B647-4D14-9530-E0DEB85822AD@syenar.hu>

> This is my corder on info regarding what i love of xmate
> 1) Integration of xharbour language reference as help
> In Option Keyboard mapping user e menu associate fo key f1 i use
> follow macro to integrate xharbour language reference in xmate
> ---------------------
> |cTopic|
> IF( Empty( cTopic := ::GetText() ), cTopic := ::GetWord(.F.) ),
> HtmlHelpTopic( ::hWnd, "c:\harbour\xhdoc\xHarbour Language Reference
> Guide.chm", cTopic )

hbide is a portable tool, so .chm file is out 
of question.

Brgds,
Viktor

From vailtom at gmail.com  Wed Nov 18 06:38:17 2009
From: vailtom at gmail.com (Vailton Renato)
Date: Wed Nov 18 06:38:43 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <2EE1A0E6-B647-4D14-9530-E0DEB85822AD@syenar.hu>
References: <26379927.post@talk.nabble.com> <26385643.post@talk.nabble.com> 
	<26404961.post@talk.nabble.com>
	<609353e70911180253s1a8001cdkf508c302d418150a@mail.gmail.com> 
	<2EE1A0E6-B647-4D14-9530-E0DEB85822AD@syenar.hu>
Message-ID: <531d7a750911180338v2c5ec023wa297420fc9829b08@mail.gmail.com>

Another option would be more feasible QWebView + html ...

[]'s
Vailton Renato

2009/11/18 Viktor Szak?ts <harbour.01@syenar.hu>
>
> > This is my corder on info regarding what i love of xmate
> > 1) Integration of xharbour language reference as help
> > In Option Keyboard mapping user e menu associate fo key f1 i use
> > follow macro to integrate xharbour language reference in xmate
> > ---------------------
> > |cTopic|
> > IF( Empty( cTopic := ::GetText() ), cTopic := ::GetWord(.F.) ),
> > HtmlHelpTopic( ::hWnd, "c:\harbour\xhdoc\xHarbour Language Reference
> > Guide.chm", cTopic )
>
> hbide is a portable tool, so .chm file is out
> of question.
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Wed Nov 18 06:49:27 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Nov 18 06:49:39 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <531d7a750911180338v2c5ec023wa297420fc9829b08@mail.gmail.com>
References: <26379927.post@talk.nabble.com> <26385643.post@talk.nabble.com>
	<26404961.post@talk.nabble.com>
	<609353e70911180253s1a8001cdkf508c302d418150a@mail.gmail.com>
	<2EE1A0E6-B647-4D14-9530-E0DEB85822AD@syenar.hu>
	<531d7a750911180338v2c5ec023wa297420fc9829b08@mail.gmail.com>
Message-ID: <3BAF67C0-838F-43E5-8CAC-626C4E9A8EDE@syenar.hu>

> Another option would be more feasible QWebView + html ...

Easiest is to open the user's browser with an .html page.

There is a browser on every machines, unnecessary to provide 
yet another one.

I don't even think it's job of hbide to open such files in 
a hard-wired way, but there could be a menu where you can 
add custom files and these would be launched with some keys.

Brgds,
Viktor

From bruno.luciani at gmail.com  Wed Nov 18 06:59:29 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Nov 18 06:59:38 2009
Subject: [Harbour] Re: HBIDE - An Overview
In-Reply-To: <609353e70911171401x560299c8x62c8f131c96f209e@mail.gmail.com>
References: <26379927.post@talk.nabble.com> <hduuea$ct4$1@ger.gmane.org>
	<609353e70911171228y52ae1012sfe862cda3c5beebf@mail.gmail.com>
	<hdv2f8$rvl$1@ger.gmane.org>
	<609353e70911171303r11f3b04m1b375d8ae49a917f@mail.gmail.com>
	<hdv5q2$79d$1@ger.gmane.org>
	<609353e70911171401x560299c8x62c8f131c96f209e@mail.gmail.com>
Message-ID: <133778360911180359p5df63ed9o771f31873260ecc5@mail.gmail.com>

Massimo, the project is in stan-by until HBQT stabilizes

a lot of changes of HBQT produces that hbqtcommand not work correctly

When HBQT is working ok we will continue development

Regards

Bruno


2009/11/17 Massimo Belgrano <mbelgrano@deltain.it>

> Wich is the actual situation of hbcommand (% complete)
> HbQtCommand is a wrapper to compile Harbour/MiniGui programs using HBQT
> library.
> http://sourceforge.net/projects/hbqtcommand/
>
> 2009/11/17 http://news.gmane.org/gmane.comp.db.sqlite.general
> <gvarona@ec-red.com>:
>
> >
> > It also was necessary to update my version of QT, with whom he had not
> > worked, I worked with a take of hbqtcommand.
> >
> > BestRegards
> > GVS
> >
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091118/94305d32/attachment-0001.html
From niki at synel.co.il  Wed Nov 18 07:01:10 2009
From: niki at synel.co.il (Chen Kedem)
Date: Wed Nov 18 07:01:20 2009
Subject: [Harbour] Win98 + MT crash
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2D@Mail-yoq.SYNEL-COMPANY.LTD>

Przemek,

> Please try to recompile Harbour without DLMALLOC using HB_FM_WIN_ALLOC
> macro, i.e.:
>    set HB_USER_PRGFLAGS=-DHB_FM_WIN_ALLOC
> And check if it's enough to run Harbour application in Win95.

I guess its set HB_USER_CFLAGS=-DHB_FM_WIN_ALLOC

On WinNT all is the same (working),
on the Win95 I get huge amount of CodeGuard erros when trying
to run hbmk2.exe (just the exe without parameters)

I do (on the WinNT):

..\bin\hbmk2 mttest01

and run mttest01.exe on the Win95, I get the expected Harbour run time error.

if I do this (on the WinNT):

..\bin\hbmk2 -mt mttest01

and run mttest01.exe on the Win95, well, it crashed Windows into BSoD.


  Chen.
From druzus at acn.waw.pl  Wed Nov 18 07:15:11 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov 18 07:15:18 2009
Subject: [Harbour] Win98 + MT crash
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2D@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2D@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20091118121510.GA2544@34-mo7-2.home.aster.pl>

On Wed, 18 Nov 2009, Chen Kedem wrote:

Hi,

> > Please try to recompile Harbour without DLMALLOC using HB_FM_WIN_ALLOC
> > macro, i.e.:
> >    set HB_USER_PRGFLAGS=-DHB_FM_WIN_ALLOC
> > And check if it's enough to run Harbour application in Win95.
> I guess its set HB_USER_CFLAGS=-DHB_FM_WIN_ALLOC

Yes, sorry my typo.

> On WinNT all is the same (working),
> on the Win95 I get huge amount of CodeGuard erros when trying
> to run hbmk2.exe (just the exe without parameters)

What errors?
Do you have the same errors when you use:
   set HB_USER_CFLAGS=-DHB_FM_STD_ALLOC
instead of HB_FM_WIN_ALLOC?

> I do (on the WinNT):
> ..\bin\hbmk2 mttest01
> and run mttest01.exe on the Win95, I get the expected Harbour run time error.
> if I do this (on the WinNT):
> ..\bin\hbmk2 -mt mttest01
> and run mttest01.exe on the Win95, well, it crashed Windows into BSoD.

But I  guess it was working on WinNT. Can you catch the exact place
where it's crashing? I'm interesting in C call stack.

best regards,
Przemek
From m.lacecilia at gmail.com  Wed Nov 18 07:16:31 2009
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Wed Nov 18 07:16:36 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <DF2BB37C-BF39-4151-9485-34BBAD6D628E@syenar.hu>
References: <26379927.post@talk.nabble.com> <26385643.post@talk.nabble.com>
	<26404961.post@talk.nabble.com>
	<DF2BB37C-BF39-4151-9485-34BBAD6D628E@syenar.hu>
Message-ID: <26406788.post@talk.nabble.com>


Never aimed to reuse or xbp files or preserve xbp format, but to recover the
concept of embedded subproject. hbmk2 IS the Harbour builder and .hb* files
are the standard format.
The target is to have a generated hbp file capable to rebuild not only the
source of the main project, but also the linked library declared as
subproject, including i.e. hbc files as subprojects.
Maybe a directive to declare that the lib isn't only to be linked, but also
to be edited and, if needed, rebuilded could do the job. hbIde could
recognize this parameter and could allow to open also the subproject sources
in the editor and after, at build time, assure that the lib declared as
subprojects are parsed by hbmk2 BEFORE the build of the main project. This
is what xMate smartly does.
If you are parallely developing a production/test program and a subset of
libraries on that you're working hard, the benefits of this approach is
unvaluable in terms of clarity, speed and safety. Try to make the same job
with other project managers, also very effective as xDevStudio, and you'll
return quickly to xMate...
After the growth of hbmk2 to powerful and mature tool, quite all the jobs of
a project manager could be obtained also with a good configuration of a
smart editor as Notepad++, but this concept is very hard to implement out of
an integrated tool.
Best regards,
Maurizio



Viktor Szak?ts wrote:
> 
> It would be quite a huge waste of effort if hbide would 
> reinvent the whole feature set of hbmk2.
> 
> IMO it should be able to create .hbp files for each project 
> on the fly (from the file lists and options set on the GUI) 
> and call hbmk2 to do this job.
> 
> Overall I think .xbp file compatibility is unimportant, 
> but of course hbide could use something similar to store 
> the file list and options. Ideally it should store these 
> in .hbp files. This will need a hbmk2 compatible option 
> parser.
> 
> Brgds,
> Viktor
> 
> On 2009 Nov 18, at 10:44, Maurizio la Cecilia wrote:
> 
>> 
>> Again, about hbIDE, i would know what Pritpal and the community thinks
>> about
>> some choices i believe strategical in the new project.
>> 
>> A) A feature of xMate that i think needs to be absolutely present in
>> hbIDE
>> is the project embedding. I can, i.e., define a production project
>> enumerating the own files AND adding to xbp also the linked subprojects
>> (also xbp, of course) as the engine library project, the gui library
>> project, and so on. This declaration allows to build in cascade the
>> subprojects and the main project if some change was made in any source,
>> not
>> important if of main or sub projects. Also, the open file allows to work
>> in
>> the same instance of xMate editing any source of main or sub projects.
>> 
>> B) Another very useful tool is the formatter. Obviously, the better
>> choice
>> is to integrate the hbformat work of Alex Kresin published in the
>> contrib,
>> after investigating if it lacks of some feature of the highly
>> configurable
>> formatter of xMate. If is needed some aid about this tool, i could be
>> useful.
>> 
>> C) A lack (but maybe the only important) of xMate is about the tiled and
>> aligned windows, so is needed to open two instances of xMate and to
>> arrange
>> the windows manually to see two sources simultaneously. The behaviour of
>> the
>> first hbIDE release mantains the same as xMate, so i think better to
>> evaluate if a tab rearranging or a MDI approach could be a solution.
>> 
>> Waiting for your thought about.
>> Best regards.
>> Maurizio la Cecilia
>> 
>> 
>> Maurizio la Cecilia wrote:
>>> 
>>> Hi Pritpal,
>>> as very hot fan of xMate and happy user of the product of Andy, i would
>>> partecipate to your new project.
>>> You can count on me surely as betatester and, due to prg based
>>> development, also in working on not critical pieces of the project, if
>>> you
>>> need.
>>> Many thanks for your effective work, and best regards.
>>> Maurizio la Cecilia
>>> 
>> 
>> -- 
>> View this message in context:
>> http://old.nabble.com/HBIDE---An-Overview-tp26379927p26404961.html
>> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://old.nabble.com/HBIDE---An-Overview-tp26379927p26406788.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From fernando_athayde at yahoo.com.br  Wed Nov 18 07:27:58 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Wed Nov 18 07:28:05 2009
Subject: [Harbour] Harbour SVN compilation with MinGW (error)
In-Reply-To: <20091118121510.GA2544@34-mo7-2.home.aster.pl>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2D@Mail-yoq.SYNEL-COMPANY.LTD>
	<20091118121510.GA2544@34-mo7-2.home.aster.pl>
Message-ID: <942670.36507.qm@web52210.mail.re2.yahoo.com>

gcc  -I. -I../../../../../../include  -Wall -W -O3 -fomit-frame-pointer -march=i
586 -mtune=pentiumpro   -ogttrm.o -c ../../../gttrm.c
../../../gttrm.c: In function `get_inch':
../../../gttrm.c:1191: error: storage size of 'tv' isn't known
../../../gttrm.c:1193: error: `fd_set' undeclared (first use in this function)
../../../gttrm.c:1193: error: (Each undeclared identifier is reported only once
../../../gttrm.c:1193: error: for each function it appears in.)
../../../gttrm.c:1193: error: syntax error before "rfds"
../../../gttrm.c:1209: warning: implicit declaration of function `FD_ZERO'
../../../gttrm.c:1209: error: `rfds' undeclared (first use in this function)
../../../gttrm.c:1210: error: `wfds' undeclared (first use in this function)
../../../gttrm.c:1218: warning: implicit declaration of function `FD_SET'
../../../gttrm.c:1233: warning: implicit declaration of function `select'
../../../gttrm.c:1237: warning: implicit declaration of function `FD_ISSET'
../../../gttrm.c:1191: warning: unused variable `tv'
../../../gttrm.c: In function `hb_gt_trm_AnsiGetCursorPos':
../../../gttrm.c:1926: warning: unused variable `iTODO'
mingw32-make.exe[4]: *** [gttrm.o] Error 1
mingw32-make.exe[3]: *** [descend] Error 2
mingw32-make.exe[2]: *** [gttrm] Error 2
mingw32-make.exe[1]: *** [rtl] Error 2
mingw32-make.exe: *** [src] Error 2


configurations:
E:\harbour_cvs>mingw32-make.exe
! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
! MAKE: mingw32-make.exe 3.81 E:/cygwin/bin/sh.exe
! HB_INSTALL_PREFIX: e:\harbour_gcc
! HB_BUILD_DLL: yes
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
! HB_PLATFORM: win (x86) (autodetected)
! HB_COMPILER: cygwin (autodetected: E:/cygwin/bin/)
! Component: 'zlib' found in E:/harbour_cvs/external/zlib (local)
! Component: 'pcre' found in E:/harbour_cvs/external/pcre (local)
! Component: 'openssl' not found
! Component: 'gpm' not supported on win platform
! Component: 'slang' not found
! Component: 'curses' not found
! Component: 'x11' not found
! Component: 'wattcp/watt-32' not supported on win platform

Thanks,
Fernando



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091118/e02ed01f/attachment.html
From harbour.01 at syenar.hu  Wed Nov 18 07:31:34 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 18 07:31:46 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <26406788.post@talk.nabble.com>
References: <26379927.post@talk.nabble.com> <26385643.post@talk.nabble.com>
	<26404961.post@talk.nabble.com>
	<DF2BB37C-BF39-4151-9485-34BBAD6D628E@syenar.hu>
	<26406788.post@talk.nabble.com>
Message-ID: <1DB7A2F9-4099-4FFA-ADDD-511FE68C6279@syenar.hu>

> Never aimed to reuse or xbp files or preserve xbp format, but to recover the
> concept of embedded subproject. hbmk2 IS the Harbour builder and .hb* files
> are the standard format.
> The target is to have a generated hbp file capable to rebuild not only the
> source of the main project, but also the linked library declared as
> subproject, including i.e. hbc files as subprojects.

I don't plan to add subproject layout support to hbmk2 
itself ATM, but it seems to be easily doable by calling 
hbmk2 with .hbp files in _proper order_. Such job can be 
done by hbide.

To be more precise hbmk2 already supports multiple 
projects, but caller should provide proper ordering 
of these projects:

- myapp.hbp
  - mylib1.hbp
  - mylib2.hbp
    - mysublib1.hbp

=>

hbmk2 mylib1.hbp mysublib1.hbp mylib2.hbp myapp.hbp

Maybe later we can introduce a concept of .hbs ("solution"?)
file which could describe such tree layout which can 
be internally converted to .hbp filelist in proper order.

Or alternatively some sort of cmdline markup to denote 
such tree: hbmk2 myapp.hbp (mylib1.hbp, mylib2.hbp (mysublib1.hbp))

If someone develops such parsing and tree flattening 
logic separately from hbmk2, it can be moved to hbmk2 
even easier at some point.

> Maybe a directive to declare that the lib isn't only to be linked, but also
> to be edited and, if needed, rebuilded could do the job. hbIde could
> recognize this parameter and could allow to open also the subproject sources
> in the editor and after, at build time, assure that the lib declared as
> subprojects are parsed by hbmk2 BEFORE the build of the main project. This
> is what xMate smartly does.
> If you are parallely developing a production/test program and a subset of
> libraries on that you're working hard, the benefits of this approach is
> unvaluable in terms of clarity, speed and safety. Try to make the same job
> with other project managers, also very effective as xDevStudio, and you'll
> return quickly to xMate...

I do this very easily:
   hbmk2 lib1.hbp lib2.hbp app.hbp

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Nov 18 07:34:04 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Nov 18 07:34:18 2009
Subject: [Harbour] Harbour SVN compilation with MinGW (error)
In-Reply-To: <942670.36507.qm@web52210.mail.re2.yahoo.com>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2D@Mail-yoq.SYNEL-COMPANY.LTD>
	<20091118121510.GA2544@34-mo7-2.home.aster.pl>
	<942670.36507.qm@web52210.mail.re2.yahoo.com>
Message-ID: <7BA6C509-C7C2-437F-B87C-2E646D0605DF@syenar.hu>

It's not mingw, it's Cygwin. Probably you're using some 
old Cygwin version, here it works ok.

Brgds,
Viktor

On 2009 Nov 18, at 13:27, Fernando Athayde wrote:

> gcc  -I. -I../../../../../../include  -Wall -W -O3 -fomit-frame-pointer -march=i
> 586 -mtune=pentiumpro   -ogttrm.o -c ../../../gttrm.c
> ../../../gttrm.c: In function `get_inch':
> ../../../gttrm.c:1191: error: storage size of 'tv' isn't known
> ../../../gttrm.c:1193: error: `fd_set' undeclared (first use in this function)
> ../../../gttrm.c:1193: error: (Each undeclared identifier is reported only once
> ../../../gttrm.c:1193: error: for each function it appears in.)
> ../../../gttrm.c:1193: error: syntax error before "rfds"
> ../../../gttrm.c:1209: warning: implicit declaration of function `FD_ZERO'
> ../../../gttrm.c:1209: error: `rfds' undeclared (first use in this function)
> ../../../gttrm.c:1210: error: `wfds' undeclared (first use in this function)
> ../../../gttrm.c:1218: warning: implicit declaration of function `FD_SET'
> ../../../gttrm.c:1233: warning: implicit declaration of function `select'
> ../../../gttrm.c:1237: warning: implicit declaration of function `FD_ISSET'
> ../../../gttrm.c:1191: warning: unused variable `tv'
> ../../../gttrm.c: In function `hb_gt_trm_AnsiGetCursorPos':
> ../../../gttrm.c:1926: warning: unused variable `iTODO'
> mingw32-make.exe[4]: *** [gttrm.o] Error 1
> mingw32-make.exe[3]: *** [descend] Error 2
> mingw32-make.exe[2]: *** [gttrm] Error 2
> mingw32-make.exe[1]: *** [rtl] Error 2
> mingw32-make.exe: *** [src] Error 2
> 
> 
> configurations:
> E:\harbour_cvs>mingw32-make.exe
> ! Building Harbour 2.0.0beta3 from source -http://www.harbour-project.org
> ! MAKE: mingw32-make.exe 3.81 E:/cygwin/bin/sh.exe
> ! HB_INSTALL_PREFIX: e:\harbour_gcc
> ! HB_BUILD_DLL: yes
> ! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
> ! HB_PLATFORM: win (x86) (autodetected)
> ! HB_COMPILER: cygwin (autodetected: E:/cygwin/bin/)
> ! Component: 'zlib' found in E:/harbour_cvs/external/zlib (local)
> ! Component: 'pcre' found in E:/harbour_cvs/external/pcre (local)
> ! Component: 'openssl' not found
> ! Component: 'gpm' not supported on win platform
> ! Component: 'slang' not found
> ! Component: 'curses' not found
> ! Component: 'x11' not found
> ! Component: 'wattcp/watt-32' not supported on win platform
> 
> Thanks,
> Fernando
> 
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 -Celebridades - M?sica -Esportes_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From phil at newstar.rinet.ru  Wed Nov 18 07:37:09 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Wed Nov 18 07:37:37 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <91FD3977-8D03-4F46-A8DE-EFEC3B46C508@syenar.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com> 
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu> 
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl> 
	<4B02D756.3050204@dbtopas.lt>
	<20091117180600.GA14248@34-mo7-2.home.aster.pl> 
	<59938B56-BE81-41BF-B89D-32B19377C20F@syenar.hu>
	<20091117185526.GA14902@34-mo7-2.home.aster.pl> 
	<91FD3977-8D03-4F46-A8DE-EFEC3B46C508@syenar.hu>
Message-ID: <c10dbf450911180437y76cdcccax8180afbc27ada70d@mail.gmail.com>

On Tue, Nov 17, 2009 at 11:14 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
>>> Esc + a/A works, Ctrl+J doesn't, Ctrl+Enter does something
>>> else, but can't see what exactly.

Use M-Enter (that is, ESC ENTER or ALT-ENTER)

>>> Shift+F3 doesn't work on OS X, but F13, which is Print Scrn/SysRq on
>>> my PC keyboard, does. (it's little bit bad that cursor can't go
>>> past last char in line, so there is some flickering around.)

Use Learn Keys in MC menu to teach it better key bindings for your terminal.
BTW in OS X Terminal.app you can also configure the escape sequences
sent by your keys, using Terminal - Preferences - Keyboard.

> Eclipse as far programming goes. For file management,
> there are nice alternatives, like muCommander or
> ForkLift.

They don't work for remote SSH sessions. MC is the lowest common
denominator, and what works best with MC is using the lowest common
set of key combinations that works everywhere, that is, use ESC
instead of Alt / function keys, use Ctrl-T instead of Ins on MacBooks,
etc.

MC has been long stagnating, but now there is a new dev team which
really tries to make users' life better. Try the current MC from GIT,
or at least 4.7.0-pre4 version. BTW it now has configurable
keybindings. The dev team is very responsive to all kinds of feature
requests and bug reports.

-- Ph.
From phil at newstar.rinet.ru  Wed Nov 18 07:54:16 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Wed Nov 18 07:54:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12921] trunk/harbour
In-Reply-To: <20091117223556.GA15999@34-mo7-2.home.aster.pl>
References: <E1NASwP-0006gW-UR@3kljzd1.ch3.sourceforge.com> 
	<BC6AF603-2C4A-4661-A64C-BE5FB132877C@syenar.hu>
	<20091117203445.GA15486@34-mo7-2.home.aster.pl> 
	<D24035BF-652F-4DEF-9ADE-E785AE8C343E@syenar.hu>
	<20091117223556.GA15999@34-mo7-2.home.aster.pl>
Message-ID: <c10dbf450911180454h38422923vb4aa3079db33ec0d@mail.gmail.com>

2009/11/18 Przemys?aw Czerpak <druzus@acn.waw.pl>:
> The 1-st and most important is common sorting algorithm.
> If you have three different languages and each of them uses
> different national sorting rules then migrating to unicode
> you will have to chose some sorting method used for all unicode
> strings what means that for at least two languages you will not
> be able to replicate exact national sorting conditions. If you
> are creating database for phone book and exact national sorting
> is a must then you cannot use any language which replaces strict
> national sorting with some common for different languages universal
> collation algorithm which are used for sorting unicode string and
> if support for unicode is not optional then you have to change the
> language to some more flexible one which do not force using Unicode.

Here's a quite detailed document on that matter:
http://unicode.org/reports/tr10/

-- Ph.
From mbelgrano at deltain.it  Wed Nov 18 08:04:55 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Nov 18 08:05:23 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <2EE1A0E6-B647-4D14-9530-E0DEB85822AD@syenar.hu>
References: <26379927.post@talk.nabble.com> <26385643.post@talk.nabble.com> 
	<26404961.post@talk.nabble.com>
	<609353e70911180253s1a8001cdkf508c302d418150a@mail.gmail.com> 
	<2EE1A0E6-B647-4D14-9530-E0DEB85822AD@syenar.hu>
Message-ID: <609353e70911180504p68d6ee82i2f570e967c8c024e@mail.gmail.com>

This  is a macro of customization
you can integrate each element as you want with a language script

2009/11/18 Viktor Szak?ts <harbour.01@syenar.hu>:
> hbide is a portable tool, so .chm file is out
> of question.
>
> Brgds,
> Viktor
>

-- 
Massimo Belgrano
From m.lacecilia at gmail.com  Wed Nov 18 08:06:59 2009
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Wed Nov 18 08:07:14 2009
Subject: R: [Harbour] HBIDE - An Overview
In-Reply-To: <1DB7A2F9-4099-4FFA-ADDD-511FE68C6279@syenar.hu>
References: <26379927.post@talk.nabble.com>
	<26385643.post@talk.nabble.com><26404961.post@talk.nabble.com><DF2BB37C-BF39-4151-9485-34BBAD6D628E@syenar.hu><26406788.post@talk.nabble.com>
	<1DB7A2F9-4099-4FFA-ADDD-511FE68C6279@syenar.hu>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAACE+XEINBsdLia0BD22G2g4BAAAAAA==@gmail.com>


> I don't plan to add subproject layout support to hbmk2 
> itself ATM, but it seems to be easily doable by calling 
> hbmk2 with .hbp files in _proper order_. Such job can be 
> done by hbide.

I agree. I think that the concept would be encapsulated in hbIDE, not in
hbmk2.

> To be more precise hbmk2 already supports multiple 
> projects, but caller should provide proper ordering 
> of these projects:
> 
> - myapp.hbp
>   - mylib1.hbp
>   - mylib2.hbp
>     - mysublib1.hbp
> 
> =>
> 
> hbmk2 mylib1.hbp mysublib1.hbp mylib2.hbp myapp.hbp
> 
> Maybe later we can introduce a concept of .hbs ("solution"?)
> file which could describe such tree layout which can 
> be internally converted to .hbp filelist in proper order.
> 
> Or alternatively some sort of cmdline markup to denote 
> such tree: hbmk2 myapp.hbp (mylib1.hbp, mylib2.hbp (mysublib1.hbp))

This could be made by hbIDE, based on own project file describing the
hierarchy of the project.
I think a xMate's .xbp counterpart will a must for hbIDE to treat a project
as a organic object.

> 
> If someone develops such parsing and tree flattening 
> logic separately from hbmk2, it can be moved to hbmk2 
> even easier at some point.

Also, but seems to overload the hbmk2 mission.
 
> I do this very easily:
>    hbmk2 lib1.hbp lib2.hbp app.hbp

Yes. I realize that, but i was meaning at edit time. In xMate the subproject
are seen as part of the main project and isn't nedded to jump from one
project to other in order to edit the sources. Other project managers treat
each project separately and is time consuming and confusing to manage
related sources contained in different projects.
Best regards,
Maurizio

From niki at synel.co.il  Wed Nov 18 08:13:03 2009
From: niki at synel.co.il (Chen Kedem)
Date: Wed Nov 18 08:13:11 2009
Subject: [Harbour] Win98 + MT crash
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2D@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2D@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2E@Mail-yoq.SYNEL-COMPANY.LTD>

Przemek,

>> on the Win95 I get huge amount of CodeGuard erros when trying
>> to run hbmk2.exe (just the exe without parameters)
> What errors?

See sample at the end.

> Do you have the same errors when you use:
>    set HB_USER_CFLAGS=-DHB_FM_STD_ALLOC
> instead of HB_FM_WIN_ALLOC?

Yes, the same type of CodeGuard errors.
(only on the Win95, in the WinNT it works all the time with no errors)
Also, all the errors CodeGuard report have the same ThreadID.

> Can you catch the exact place where it's crashing?
> I'm interesting in C call stack.

Got it!

Harbour is complied with set HB_USER_CFLAGS=-DHB_FM_STD_ALLOC

--tt1.prg--
proc test
return
-----------

..\bin\hbmk2 -debug -inc -mt tt1 -w -n -b cg32.lib

(I used -inc so I'll have c output files, but it was a clean test)

When running tt1.exe on Win95 I get:

Error 00001. 0x100400 (Thread 0xFFFD209F):
Access in invalid memory: Attempt to access 488 byte(s) at 0x00000000.
memset(0x00000000, 0x00 ['
Call Tree:
   0x004483DD(=TT1.EXE:0x01:0473DD) ../../../../ESTACK.C#165
   0x004490D2(=TT1.EXE:0x01:0480D2) ../../../../ESTACK.C#354
   0x0040D69F(=TT1.EXE:0x01:00C69F) ../../../../HVM.C#670
   0x0040DF69(=TT1.EXE:0x01:00CF69) ../../../../HVM.C#916
   0x00479889(=TT1.EXE:0x01:078889) ../../../../MAINSTD.C#96
   0x0053DCDE(=TT1.EXE:0x01:13CCDE)
------------------------------------------
Error 00002. 0x110400 (Thread 0xFFFD209F):
Access in invalid stack: Attempt to access 4 byte(s) at 0x007BFD70.
Call Tree:
   0x00476B6C(=TT1.EXE:0x01:075B6C) ../../../../EXTRAP.C#197
   0xBFF9A3FB(=KERNEL32.DLL:0x02:0223FB)
   0x005369AE(=TT1.EXE:0x01:1359AE)
   0xBFF7663C(=KERNEL32.DLL:0x01:00563C)
   0xBFF859FA(=KERNEL32.DLL:0x02:00D9FA)
   0xFFECBAD7
------------------------------------------
Error 00003. 0x110000 (Thread 0xFFFD209F):
Pointer in invalid stack: 0x007BFD70.
Call Tree:
   0x00476C16(=TT1.EXE:0x01:075C16) ../../../../EXTRAP.C#204
   0xBFF9A3FB(=KERNEL32.DLL:0x02:0223FB)
   0x005369AE(=TT1.EXE:0x01:1359AE)
   0xBFF7663C(=KERNEL32.DLL:0x01:00563C)
   0xBFF859FA(=KERNEL32.DLL:0x02:00D9FA)
   0xFFECBAD7
------------------------------------------

:

------------------------------------------
Error 00031. 0x110400 (r) (Thread 0xFFFD209F):
Access in invalid stack: Attempt to access 4 byte(s) at 0x007BFD8C.
Call Tree:
   0x00476BC6(=TT1.EXE:0x01:075BC6) ../../../../EXTRAP.C#203
   0xBFF9A3FB(=KERNEL32.DLL:0x02:0223FB)
   0x005369AE(=TT1.EXE:0x01:1359AE)
Error 00032. 0x300010 (Thread 0xFFFD209F):
Resource leak: The memory block (0xBD392C) was never freed
The memory block (0x00BD392C) [size: 12 bytes] was allocated with malloc
Call Tree:
   0x00453023(=TT1.EXE:0x01:052023) ../../../../FM.C#592
   0x00446562(=TT1.EXE:0x01:045562) ../../../../DYNSYM.C#122
   0x00446A10(=TT1.EXE:0x01:045A10) ../../../../DYNSYM.C#252
   0x00426583(=TT1.EXE:0x01:025583) ../../../../HVM.C#7790
   0x00426747(=TT1.EXE:0x01:025747) ../../../../HVM.C#7830
   0x00408F3C(=TT1.EXE:0x01:007F3C) debugger.c#771
------------------------------------------
Error 00033. 0x300010 (Thread 0xFFFD209F):
Resource leak: The memory block (0xBD5924) was never freed
The memory block (0x00BD5924) [size: 12 bytes] was allocated with malloc
Call Tree:
   0x00453023(=TT1.EXE:0x01:052023) ../../../../FM.C#592
   0x00446562(=TT1.EXE:0x01:045562) ../../../../DYNSYM.C#122
   0x00446A10(=TT1.EXE:0x01:045A10) ../../../../DYNSYM.C#252
   0x00426583(=TT1.EXE:0x01:025583) ../../../../HVM.C#7790
   0x00426747(=TT1.EXE:0x01:025747) ../../../../HVM.C#7830
   0x004E20A5(=TT1.EXE:0x01:0E10A5) rddsys.c#24
------------------------------------------

:

And many more, I had to kill the program.

Without -mt flag, the program run with no errors.


  Chen.
From harbour.01 at syenar.hu  Wed Nov 18 08:24:09 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 18 08:24:23 2009
Subject: R: [Harbour] HBIDE - An Overview
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAACE+XEINBsdLia0BD22G2g4BAAAAAA==@gmail.com>
References: <26379927.post@talk.nabble.com>
	<26385643.post@talk.nabble.com><26404961.post@talk.nabble.com><DF2BB37C-BF39-4151-9485-34BBAD6D628E@syenar.hu><26406788.post@talk.nabble.com>
	<1DB7A2F9-4099-4FFA-ADDD-511FE68C6279@syenar.hu>
	<!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAACE+XEINBsdLia0BD22G2g4BAAAAAA==@gmail.com>
Message-ID: <1ACF9DEE-485B-455C-A59E-D7C735BC86E6@syenar.hu>

>> Or alternatively some sort of cmdline markup to denote 
>> such tree: hbmk2 myapp.hbp (mylib1.hbp, mylib2.hbp (mysublib1.hbp))
> 
> This could be made by hbIDE, based on own project file describing the
> hierarchy of the project.
> I think a xMate's .xbp counterpart will a must for hbIDE to treat a project
> as a organic object.
> 
>> 
>> If someone develops such parsing and tree flattening 
>> logic separately from hbmk2, it can be moved to hbmk2 
>> even easier at some point.
> 
> Also, but seems to overload the hbmk2 mission.

If we can contain the essence of this feature in 
a hierarchy parser, flattener plus a file format 
and/or cmdline option format, it's IMO doable.

If someone can provide above pieces I can try to 
integrate it into hbmk2. This may make hbide job 
a little bit easier.

>> I do this very easily:
>>   hbmk2 lib1.hbp lib2.hbp app.hbp
> 
> Yes. I realize that, but i was meaning at edit time. In xMate the subproject
> are seen as part of the main project and isn't nedded to jump from one
> project to other in order to edit the sources. Other project managers treat
> each project separately and is time consuming and confusing to manage
> related sources contained in different projects.

You're right it can't be an hbmk2-only thing.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Nov 18 08:27:16 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 18 08:27:30 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <c10dbf450911180437y76cdcccax8180afbc27ada70d@mail.gmail.com>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<4B02D756.3050204@dbtopas.lt>
	<20091117180600.GA14248@34-mo7-2.home.aster.pl>
	<59938B56-BE81-41BF-B89D-32B19377C20F@syenar.hu>
	<20091117185526.GA14902@34-mo7-2.home.aster.pl>
	<91FD3977-8D03-4F46-A8DE-EFEC3B46C508@syenar.hu>
	<c10dbf450911180437y76cdcccax8180afbc27ada70d@mail.gmail.com>
Message-ID: <32DE3464-1AC6-42EE-8559-EBD45D357DAD@syenar.hu>

Hi Phil,

>>>> 
>>>> my PC keyboard, does. (it's little bit bad that cursor can't go
>>>> past last char in line, so there is some flickering around.)
> 
> Use Learn Keys in MC menu to teach it better key bindings for your terminal.
> BTW in OS X Terminal.app you can also configure the escape sequences
> sent by your keys, using Terminal - Preferences - Keyboard.

Hmm, that would need me to sync these setting with keymaps, 
plus key teaching inside MC options. That means at least 2-3 
moving points in this matter, which means it would take a 
lot of trial and error, or long time to figure everything 
on the matter :(

While Far just works as is.

BTW, I have a wish for Far, too, and I remember the first 
alpha versions where this actually worked that way: 
Storing settings in .ini (or .xml) files as opposed to 
registry. Author Eugene Roshal insisted on registry 
(while I insisted that this is a mistake - this was in 
1996), so finally some .bat files have born to save/restore 
reg content, but I miss "portability" to this very date, 
at least as an option. F.e. I store Far executables on 
a VMWare virtual disk (or network share, or host drive), 
and access it from multiple VMs. Now keeping in sync my 
Far preferences between VMs is practically impossible.

If you agree, you could ask for this feature on russian 
Far Manager forums :)

>> Eclipse as far programming goes. For file management,
>> there are nice alternatives, like muCommander or
>> ForkLift.
> 
> They don't work for remote SSH sessions. MC is the lowest common
> denominator, and what works best with MC is using the lowest common
> set of key combinations that works everywhere, that is, use ESC
> instead of Alt / function keys, use Ctrl-T instead of Ins on MacBooks,
> etc.

Thank you. I figured these two, now I have to get used to 
them. But I'll for sure miss things like Alt+<+>, <Gray+> 
and <Shift+Cursor> to make selections in a more sophisticated 
way.

> MC has been long stagnating, but now there is a new dev team which
> really tries to make users' life better. Try the current MC from GIT,
> or at least 4.7.0-pre4 version. BTW it now has configurable
> keybindings. The dev team is very responsive to all kinds of feature
> requests and bug reports.

That very good news, I didn't know about it, MC looked 
standstill for years, now I see a nice group of developer 
team, seeing at the list there is hope they will be able 
to pull MC to the right direction.

I'll try to make a build.

Brgds,
Viktor

From gvarona at ec-red.com  Wed Nov 18 08:51:35 2009
From: gvarona at ec-red.com (http://news.gmane.org/gmane.comp.db.sqlite.general)
Date: Wed Nov 18 08:48:39 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12922] trunk/harbour
In-Reply-To: <26405193.post@talk.nabble.com>
References: <E1NAZOK-0002i4-2N@bj8yhf1.ch3.sourceforge.com>
	<26405193.post@talk.nabble.com>
Message-ID: <he0tun$psr$1@ger.gmane.org>

I feel the same with the 2009.04 version of Qt.

With the 2009.01 version of Qt I get the window that says: "hbide has 
encountered a problem and needs to close"

Deputy Error Reporting Windows preparing to send.

BestRegards
GVS


Maurizio la Cecilia escribi?:
> Hi Pritpal, the close button no loger works and clicking it the app crashes
> with:
> 
> Application Internal Error - C:\CVS\harbour\contrib\hbide\hbide.exe
> Terminated at: 2009.11.18 10:55:39
> Unrecoverable error 6005: Exception error: 
> 
>     Exception Code:C0000005
>     Exception Address:65182370
>     EAX:00000000  EBX:00C6E2F8  ECX:003EFEE0  EDX:0800F000
>     ESI:00000000  EDI:01ACB258  EBP:0022FD68
>     CS:EIP:001B:65182370  SS:ESP:0023:0022FCB0
>     DS:0023  ES:0023  FS:003B  GS:0000
>     Flags:00010282
>     CS:EIP: 8B 40 04 89 5C 24 04 C7 45 88 03 00 00 00 89 04
>     SS:ESP: 003EFE98 00000000 0022FCD8 6A3939F0 00000005 0022FD8C 003E0000
> 005E51A8 FFFFFFFF 00000000 003EFE98 00C6E2F8 0001FD0C 00000006 0022FC44
> 0022FD8C
> 
>     C stack:
>     EIP:     EBP:       Frame: OldEBP, RetAddr, Params...
>     65182370 0022FD68   65AD7508 00475ED5 00C6E2F8 0022FDC0 0022FFE0
> 77C05C94 77BE2070 00000001 00C7853C 00000000
> 
> Environment:
> XP win workstation, MinGW compiler, latest CVS Harbour build.
> Best regards.
> Maurizio la Cecilia
> 
> 
> vouchcac wrote:
>> Revision: 12922
>>          
>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12922&view=rev
>> Author:   vouchcac
>> Date:     2009-11-18 01:31:26 +0000 (Wed, 18 Nov 2009)
>>
>> Log Message:
>> -----------
>> 2009-11-17 17:26 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>>   * contrib/hbide/hbide.prg
>>   + contrib/hbide/resources/builderror.png
>>   * contrib/hbide/resources/gotomark.png
>>   + contrib/hbide/resources/modulelist.png
>>
>>   * contrib/hbqt/hbqt_slots.cpp
>>   * contrib/hbqt/hbqt_slots.h
>>   * contrib/hbqt/moc_slots.cpp
>>
>>   * contrib/hbxbp/xbpgeneric.prg
>>   * contrib/hbxbp/xbptabpage.prg
>>     + Implemented first 4 icons operational. 
>>       Now, at least you can open/edit/save .prg .c .ch .h files.
>>       I am interested in any bugs you may encounter in the process.
>>       Few HBXBP calasses have also been updated in the process.
>>
>>     QUESTION: How good it will be to extend Xbase++ class framework ?
>>               Is this the ripe time or we need more inputs ?
>>
>> Modified Paths:
>> --------------
>>     trunk/harbour/ChangeLog
>>     trunk/harbour/contrib/hbide/hbide.prg
>>     trunk/harbour/contrib/hbide/resources/gotomark.png
>>     trunk/harbour/contrib/hbqt/hbqt_slots.cpp
>>     trunk/harbour/contrib/hbqt/hbqt_slots.h
>>     trunk/harbour/contrib/hbqt/moc_slots.cpp
>>     trunk/harbour/contrib/hbxbp/xbpgeneric.prg
>>     trunk/harbour/contrib/hbxbp/xbptabpage.prg
>>
>> Added Paths:
>> -----------
>>     trunk/harbour/contrib/hbide/resources/builderror.png
>>     trunk/harbour/contrib/hbide/resources/modulelist.png
>>
>>
>> This was sent by the SourceForge.net collaborative development platform,
>> the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
> 

-------------- next part --------------
??< ? x m l   v e r s i o n = " 1 . 0 "   e n c o d i n g = " U T F - 1 6 " ? > 
 
 < D A T A B A S E > 
 
 < E X E   N A M E = " h b i d e . e x e "   F I L T E R = " G R A B M I _ F I L T E R _ P R I V A C Y " > 
 
         < M A T C H I N G _ F I L E   N A M E = " h b i d e . e x e "   S I Z E = " 3 0 9 9 4 9 4 "   C H E C K S U M = " 0 x 6 6 0 4 B 8 D E "   M O D U L E _ T Y P E = " W I N 3 2 "   P E _ C H E C K S U M = " 0 x 2 F E 3 B 2 "   L I N K E R _ V E R S I O N = " 0 x 1 0 0 0 0 "   L I N K _ D A T E = " 1 1 / 1 8 / 2 0 0 9   1 3 : 3 3 : 2 8 "   U P T O _ L I N K _ D A T E = " 1 1 / 1 8 / 2 0 0 9   1 3 : 3 3 : 2 8 "   / > 
 
         < M A T C H I N G _ F I L E   N A M E = " m i n g w m 1 0 . d l l "   S I Z E = " 1 5 9 6 0 "   C H E C K S U M = " 0 x F 7 2 3 4 4 1 5 "   M O D U L E _ T Y P E = " W I N 3 2 "   P E _ C H E C K S U M = " 0 x E E F 2 "   L I N K E R _ V E R S I O N = " 0 x 1 0 0 0 0 "   L I N K _ D A T E = " 0 1 / 1 3 / 2 0 0 5   2 0 : 1 4 : 2 3 "   U P T O _ L I N K _ D A T E = " 0 1 / 1 3 / 2 0 0 5   2 0 : 1 4 : 2 3 "   / > 
 
         < M A T C H I N G _ F I L E   N A M E = " Q t C o r e 4 . d l l "   S I Z E = " 2 7 4 4 3 2 0 "   C H E C K S U M = " 0 x 2 D 0 2 D 3 5 7 "   B I N _ F I L E _ V E R S I O N = " 4 . 5 . 2 . 0 "   B I N _ P R O D U C T _ V E R S I O N = " 4 . 5 . 2 . 0 "   F I L E _ D E S C R I P T I O N = " C + +   a p p l i c a t i o n   d e v e l o p m e n t   f r a m e w o r k . "   C O M P A N Y _ N A M E = " N o k i a   C o r p o r a t i o n   a n d / o r   i t s   s u b s i d i a r y ( - i e s ) "   P R O D U C T _ N A M E = " Q t 4 "   F I L E _ V E R S I O N = " 4 . 5 . 2 . 0 "   O R I G I N A L _ F I L E N A M E = " Q t C o r e 4 . d l l "   L E G A L _ C O P Y R I G H T = " C o p y r i g h t   ( C )   2 0 0 9   N o k i a   C o r p o r a t i o n   a n d / o r   i t s   s u b s i d i a r y ( - i e s ) "   V E R F I L E D A T E H I = " 0 x 0 "   V E R F I L E D A T E L O = " 0 x 0 "   V E R F I L E O S = " 0 x 4 "   V E R F I L E T Y P E = " 0 x 2 "   M O D U L E _ T Y P E = " W I N 3 2 "   P E _ C H E C K S U M = " 0 x 2 A 1 9 6 C "   L I N K E R _ V E R S I O N = " 0 x 1 0 0 0 0 "   U P T O _ B I N _ F I L E _ V E R S I O N = " 4 . 5 . 2 . 0 "   U P T O _ B I N _ P R O D U C T _ V E R S I O N = " 4 . 5 . 2 . 0 "   L I N K _ D A T E = " 0 6 / 2 0 / 2 0 0 9   0 5 : 4 3 : 4 2 "   U P T O _ L I N K _ D A T E = " 0 6 / 2 0 / 2 0 0 9   0 5 : 4 3 : 4 2 "   / > 
 
         < M A T C H I N G _ F I L E   N A M E = " Q t G u i 4 . d l l "   S I Z E = " 1 1 2 6 8 0 9 6 "   C H E C K S U M = " 0 x 8 2 B 9 E 1 B F "   B I N _ F I L E _ V E R S I O N = " 4 . 5 . 2 . 0 "   B I N _ P R O D U C T _ V E R S I O N = " 4 . 5 . 2 . 0 "   F I L E _ D E S C R I P T I O N = " C + +   a p p l i c a t i o n   d e v e l o p m e n t   f r a m e w o r k . "   C O M P A N Y _ N A M E = " N o k i a   C o r p o r a t i o n   a n d / o r   i t s   s u b s i d i a r y ( - i e s ) "   P R O D U C T _ N A M E = " Q t 4 "   F I L E _ V E R S I O N = " 4 . 5 . 2 . 0 "   O R I G I N A L _ F I L E N A M E = " Q t G u i 4 . d l l "   L E G A L _ C O P Y R I G H T = " C o p y r i g h t   ( C )   2 0 0 9   N o k i a   C o r p o r a t i o n   a n d / o r   i t s   s u b s i d i a r y ( - i e s ) "   V E R F I L E D A T E H I = " 0 x 0 "   V E R F I L E D A T E L O = " 0 x 0 "   V E R F I L E O S = " 0 x 4 "   V E R F I L E T Y P E = " 0 x 2 "   M O D U L E _ T Y P E = " W I N 3 2 "   P E _ C H E C K S U M = " 0 x A C 1 C 2 F "   L I N K E R _ V E R S I O N = " 0 x 1 0 0 0 0 "   U P T O _ B I N _ F I L E _ V E R S I O N = " 4 . 5 . 2 . 0 "   U P T O _ B I N _ P R O D U C T _ V E R S I O N = " 4 . 5 . 2 . 0 "   L I N K _ D A T E = " 0 6 / 2 0 / 2 0 0 9   0 6 : 0 4 : 0 4 "   U P T O _ L I N K _ D A T E = " 0 6 / 2 0 / 2 0 0 9   0 6 : 0 4 : 0 4 "   / > 
 
         < M A T C H I N G _ F I L E   N A M E = " Q t N e t w o r k 4 . d l l "   S I Z E = " 1 3 9 2 1 2 8 "   C H E C K S U M = " 0 x C 8 E F C C 1 B "   B I N _ F I L E _ V E R S I O N = " 4 . 5 . 2 . 0 "   B I N _ P R O D U C T _ V E R S I O N = " 4 . 5 . 2 . 0 "   F I L E _ D E S C R I P T I O N = " C + +   a p p l i c a t i o n   d e v e l o p m e n t   f r a m e w o r k . "   C O M P A N Y _ N A M E = " N o k i a   C o r p o r a t i o n   a n d / o r   i t s   s u b s i d i a r y ( - i e s ) "   P R O D U C T _ N A M E = " Q t 4 "   F I L E _ V E R S I O N = " 4 . 5 . 2 . 0 "   O R I G I N A L _ F I L E N A M E = " Q t N e t w o r k 4 . d l l "   L E G A L _ C O P Y R I G H T = " C o p y r i g h t   ( C )   2 0 0 9   N o k i a   C o r p o r a t i o n   a n d / o r   i t s   s u b s i d i a r y ( - i e s ) "   V E R F I L E D A T E H I = " 0 x 0 "   V E R F I L E D A T E L O = " 0 x 0 "   V E R F I L E O S = " 0 x 4 "   V E R F I L E T Y P E = " 0 x 2 "   M O D U L E _ T Y P E = " W I N 3 2 "   P E _ C H E C K S U M = " 0 x 1 5 8 3 E B "   L I N K E R _ V E R S I O N = " 0 x 1 0 0 0 0 "   U P T O _ B I N _ F I L E _ V E R S I O N = " 4 . 5 . 2 . 0 "   U P T O _ B I N _ P R O D U C T _ V E R S I O N = " 4 . 5 . 2 . 0 "   L I N K _ D A T E = " 0 6 / 2 0 / 2 0 0 9   0 5 : 4 6 : 2 1 "   U P T O _ L I N K _ D A T E = " 0 6 / 2 0 / 2 0 0 9   0 5 : 4 6 : 2 1 "   / > 
 
         < M A T C H I N G _ F I L E   N A M E = " Q t W e b K i t 4 . d l l "   S I Z E = " 1 9 5 6 8 6 4 0 "   C H E C K S U M = " 0 x 3 7 3 B 7 2 6 E "   B I N _ F I L E _ V E R S I O N = " 4 . 5 . 2 . 0 "   B I N _ P R O D U C T _ V E R S I O N = " 4 . 5 . 2 . 0 "   F I L E _ D E S C R I P T I O N = " C + +   a p p l i c a t i o n   d e v e l o p m e n t   f r a m e w o r k . "   C O M P A N Y _ N A M E = " N o k i a   C o r p o r a t i o n   a n d / o r   i t s   s u b s i d i a r y ( - i e s ) "   P R O D U C T _ N A M E = " Q t 4 "   F I L E _ V E R S I O N = " 4 . 5 . 2 . 0 "   O R I G I N A L _ F I L E N A M E = " Q t W e b K i t 4 . d l l "   L E G A L _ C O P Y R I G H T = " C o p y r i g h t   ( C )   2 0 0 9   N o k i a   C o r p o r a t i o n   a n d / o r   i t s   s u b s i d i a r y ( - i e s ) "   V E R F I L E D A T E H I = " 0 x 0 "   V E R F I L E D A T E L O = " 0 x 0 "   V E R F I L E O S = " 0 x 4 "   V E R F I L E T Y P E = " 0 x 2 "   M O D U L E _ T Y P E = " W I N 3 2 "   P E _ C H E C K S U M = " 0 x 1 2 A E 1 2 8 "   L I N K E R _ V E R S I O N = " 0 x 1 0 0 0 0 "   U P T O _ B I N _ F I L E _ V E R S I O N = " 4 . 5 . 2 . 0 "   U P T O _ B I N _ P R O D U C T _ V E R S I O N = " 4 . 5 . 2 . 0 "   L I N K _ D A T E = " 0 6 / 2 0 / 2 0 0 9   0 7 : 5 3 : 2 2 "   U P T O _ L I N K _ D A T E = " 0 6 / 2 0 / 2 0 0 9   0 7 : 5 3 : 2 2 "   / > 
 
 < / E X E > 
 
 < E X E   N A M E = " Q t G u i 4 . d l l "   F I L T E R = " G R A B M I _ F I L T E R _ T H I S F I L E O N L Y " > 
 
         < M A T C H I N G _ F I L E   N A M E = " Q t G u i 4 . d l l "   S I Z E = " 1 1 2 6 8 0 9 6 "   C H E C K S U M = " 0 x 8 2 B 9 E 1 B F "   B I N _ F I L E _ V E R S I O N = " 4 . 5 . 2 . 0 "   B I N _ P R O D U C T _ V E R S I O N = " 4 . 5 . 2 . 0 "   F I L E _ D E S C R I P T I O N = " C + +   a p p l i c a t i o n   d e v e l o p m e n t   f r a m e w o r k . "   C O M P A N Y _ N A M E = " N o k i a   C o r p o r a t i o n   a n d / o r   i t s   s u b s i d i a r y ( - i e s ) "   P R O D U C T _ N A M E = " Q t 4 "   F I L E _ V E R S I O N = " 4 . 5 . 2 . 0 "   O R I G I N A L _ F I L E N A M E = " Q t G u i 4 . d l l "   L E G A L _ C O P Y R I G H T = " C o p y r i g h t   ( C )   2 0 0 9   N o k i a   C o r p o r a t i o n   a n d / o r   i t s   s u b s i d i a r y ( - i e s ) "   V E R F I L E D A T E H I = " 0 x 0 "   V E R F I L E D A T E L O = " 0 x 0 "   V E R F I L E O S = " 0 x 4 "   V E R F I L E T Y P E = " 0 x 2 "   M O D U L E _ T Y P E = " W I N 3 2 "   P E _ C H E C K S U M = " 0 x A C 1 C 2 F "   L I N K E R _ V E R S I O N = " 0 x 1 0 0 0 0 "   U P T O _ B I N _ F I L E _ V E R S I O N = " 4 . 5 . 2 . 0 "   U P T O _ B I N _ P R O D U C T _ V E R S I O N = " 4 . 5 . 2 . 0 "   L I N K _ D A T E = " 0 6 / 2 0 / 2 0 0 9   0 6 : 0 4 : 0 4 "   U P T O _ L I N K _ D A T E = " 0 6 / 2 0 / 2 0 0 9   0 6 : 0 4 : 0 4 "   / > 
 
 < / E X E > 
 
 < E X E   N A M E = " k e r n e l 3 2 . d l l "   F I L T E R = " G R A B M I _ F I L T E R _ T H I S F I L E O N L Y " > 
 
         < M A T C H I N G _ F I L E   N A M E = " k e r n e l 3 2 . d l l "   S I Z E = " 1 0 4 2 9 4 4 "   C H E C K S U M = " 0 x 8 B 1 9 B 2 F 6 "   B I N _ F I L E _ V E R S I O N = " 5 . 1 . 2 6 0 0 . 5 7 8 1 "   B I N _ P R O D U C T _ V E R S I O N = " 5 . 1 . 2 6 0 0 . 5 7 8 1 "   P R O D U C T _ V E R S I O N = " 5 . 1 . 2 6 0 0 . 5 7 8 1 "   F I L E _ D E S C R I P T I O N = " D L L   d e   c l i e n t e   A P I   B A S E   d e   W i n d o w s   N T "   C O M P A N Y _ N A M E = " M i c r o s o f t   C o r p o r a t i o n "   P R O D U C T _ N A M E = " S i s t e m a   o p e r a t i v o   M i c r o s o f t ?   W i n d o w s ? "   F I L E _ V E R S I O N = " 5 . 1 . 2 6 0 0 . 5 7 8 1   ( x p s p _ s p 3 _ g d r . 0 9 0 3 2 1 - 1 3 1 7 ) "   O R I G I N A L _ F I L E N A M E = " k e r n e l 3 2 "   I N T E R N A L _ N A M E = " k e r n e l 3 2 "   L E G A L _ C O P Y R I G H T = " C o p y r i g h t   ( C )   M i c r o s o f t   C o r p o r a t i o n .   R e s e r v a d o s   t o d o s   l o s   d e r e c h o s . "   V E R F I L E D A T E H I = " 0 x 0 "   V E R F I L E D A T E L O = " 0 x 0 "   V E R F I L E O S = " 0 x 4 0 0 0 4 "   V E R F I L E T Y P E = " 0 x 2 "   M O D U L E _ T Y P E = " W I N 3 2 "   P E _ C H E C K S U M = " 0 x 1 0 1 E 8 5 "   L I N K E R _ V E R S I O N = " 0 x 5 0 0 0 1 "   U P T O _ B I N _ F I L E _ V E R S I O N = " 5 . 1 . 2 6 0 0 . 5 7 8 1 "   U P T O _ B I N _ P R O D U C T _ V E R S I O N = " 5 . 1 . 2 6 0 0 . 5 7 8 1 "   L I N K _ D A T E = " 0 3 / 2 1 / 2 0 0 9   1 4 : 0 8 : 1 8 "   U P T O _ L I N K _ D A T E = " 0 3 / 2 1 / 2 0 0 9   1 4 : 0 8 : 1 8 "   V E R _ L A N G U A G E = " E s p a ? o l   ( a l f a b e t i z a c i ? n   i n t e r n a c i o n a l )   [ 0 x c 0 a ] "   / > 
 
 < / E X E > 
 
 < / D A T A B A S E > 
 
 
From druzus at acn.waw.pl  Wed Nov 18 09:06:51 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov 18 09:06:58 2009
Subject: [Harbour] Win98 + MT crash
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2E@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2D@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2E@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20091118140651.GA30501@34-mo7-2.home.aster.pl>

On Wed, 18 Nov 2009, Chen Kedem wrote:

Hi,

> Yes, the same type of CodeGuard errors.
> (only on the Win95, in the WinNT it works all the time with no errors)
> Also, all the errors CodeGuard report have the same ThreadID.

It looks like a problem with TLS data.
It's possible that on Win9x it has different low level representation and
our ASM inline code does not work correctly.
Can you make yet another test with harbour compiled with HB_USE_TLS macro
i.e.:
   set HB_USER_CFLAGS=-DHB_USE_TLS -DHB_FM_STD_ALLOC

best regards,
Przemek
From mbelgrano at deltain.it  Wed Nov 18 09:18:17 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Nov 18 09:18:44 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12922] trunk/harbour
In-Reply-To: <he0tun$psr$1@ger.gmane.org>
References: <E1NAZOK-0002i4-2N@bj8yhf1.ch3.sourceforge.com> 
	<26405193.post@talk.nabble.com> <he0tun$psr$1@ger.gmane.org>
Message-ID: <609353e70911180618u71be5b14t1cab61d106d3f1c2@mail.gmail.com>

Here work fine
// build  Harbour Build Info
---------------------------
Version: Harbour 2.0.0beta3 (Rev. 12923)
Compiler: MinGW GNU C 4.4.1 (32-bit)
Platform: Windows 7 6.1.7600
PCode version: 0.2
ChangeLog last entry: 2009-11-18 03:49 UTC+0100 Przemyslaw Czerpak (druzus/at/pr
iv.onet.pl)
ChangeLog ID: ChangeLog 12923 2009-11-18 02:50:13Z druzus

Built on: Nov 18 2009 14:55:04
Build options:
Language options: (Clipper 5.3) (Clipper 5.x undoc) (Xbase++) (Flagship)
Follow my batch
SET HB_WITH_QT=c:\devl\qt\2009.04\qt\include
set HB_DIR_QT=c:\devl\qt\2009.04\qt
SET HB_BUILD_IMPLIB=yes
SET HB_INSTALL_PREFIX=c:\harbour\%HB_COMPILER%
set HB_BIN_INSTALL=%HB_INSTALL_PREFIX%\bin
set HB_LIB_INSTALL=%HB_INSTALL_PREFIX%\lib
set HB_INC_INSTALL=%HB_INSTALL_PREFIX%\include
SET PATH=C:\devl\MinGWtdm\bin;c:\harbour\%HB_COMPILER%\bin;c:\devl\qt\2009.04\qt\bin;%PATH%
mingw32-make clean install


2009/11/18 http://news.gmane.org/gmane.comp.db.sqlite.general
<gvarona@ec-red.com>:
>> Hi Pritpal, the close button no loger works and clicking it the app
>> crashes
>> with:
>>
>> Application Internal Error - C:\CVS\harbour\contrib\hbide\hbide.exe
>> Terminated at: 2009.11.18 10:55:39
>> Environment:
>> XP win workstation, MinGW compiler, latest CVS Harbour build.
>> Best regards.
>> Maurizio la Cecilia

-- 
Massimo Belgrano
From phil at newstar.rinet.ru  Wed Nov 18 09:19:34 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Wed Nov 18 09:20:07 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <32DE3464-1AC6-42EE-8559-EBD45D357DAD@syenar.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com> 
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl> 
	<4B02D756.3050204@dbtopas.lt>
	<20091117180600.GA14248@34-mo7-2.home.aster.pl> 
	<59938B56-BE81-41BF-B89D-32B19377C20F@syenar.hu>
	<20091117185526.GA14902@34-mo7-2.home.aster.pl> 
	<91FD3977-8D03-4F46-A8DE-EFEC3B46C508@syenar.hu>
	<c10dbf450911180437y76cdcccax8180afbc27ada70d@mail.gmail.com> 
	<32DE3464-1AC6-42EE-8559-EBD45D357DAD@syenar.hu>
Message-ID: <c10dbf450911180619h7ebc090ud60bbea9faf40a55@mail.gmail.com>

On Wed, Nov 18, 2009 at 4:27 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
>>>>> my PC keyboard, does. (it's little bit bad that cursor can't go
>>>>> past last char in line, so there is some flickering around.)

I think you mean odd Terminal.app problem when in bash or mc when you
press right on an end of line, cursor moves to the last char. I can
remember solving it by backspace press at that moment.

>> Use Learn Keys in MC menu to teach it better key bindings for your terminal.
>> BTW in OS X Terminal.app you can also configure the escape sequences
>> sent by your keys, using Terminal - Preferences - Keyboard.
>
> Hmm, that would need me to sync these setting with keymaps,
> plus key teaching inside MC options. That means at least 2-3
> moving points in this matter, which means it would take a
> lot of trial and error, or long time to figure everything
> on the matter :(

Actually I never modified Terminal.app keybindings, because Learn Keys
were enough for me

> While Far just works as is.

but just on a single platform ;)

> Storing settings in .ini (or .xml) files as opposed to
> registry. Author Eugene Roshal insisted on registry
> (while I insisted that this is a mistake - this was in
> 1996), so finally some .bat files have born to save/restore
> reg content, but I miss "portability" to this very date,
> at least as an option. F.e. I store Far executables on
> a VMWare virtual disk (or network share, or host drive),
> and access it from multiple VMs. Now keeping in sync my
> Far preferences between VMs is practically impossible.
>
> If you agree, you could ask for this feature on russian
> Far Manager forums :)

Do you mean they ignore English messages? ;)
I am not such a power user of Far as you, I don't have any favorite
configuration sets that I would want to preserve across prophylactic
Windows reinstalls. And if I did, the bat files work. Well, years ago
when I was a primarily Windows user, this Far behaviour irritated me,
(the only settings i wanted to save were sane archiver command lines
instead of the ones supplied with Far) but now I use Windows only
episodically.

> Thank you. I figured these two, now I have to get used to
> them. But I'll for sure miss things like Alt+<+>, <Gray+>
> and <Shift+Cursor> to make selections in a more sophisticated
> way.

+ and - when typed on an empty command line start the select mask dialog.

As for Shift-Cursor, it's not A True NC-Way ;) I guess it initially
appeared in GUI-based NC clones like Windows Commander.
Alt+<+> is indeed an interesting feature if you mean "select all files
with the same name and different extension". But I usually switch to
sorting by name for such operations, it's also safer when you see
files you are selecting. Of course if there are tens of such files
it's faster to type rm filemask.* ENTER, or if you prefer
CUI, type + filemask.* ENTER F8 ENTER.
Although I don't need these two features, I suppose that if someone
would create corresponding tickets on midnight-commander.com, they'll
be reviewed in a short period of time. Even without patches attached.
I'd rather support a feature that would add support for M-Enter and %
macros in the group select dialog.

-- Ph.
From M.Horodyski at pzuzycie.com.pl  Wed Nov 18 09:25:29 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Nov 18 09:25:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12919] trunk/harbour
In-Reply-To: <4B02BFD0.2070604@dbtopas.lt>
References: <E1NAOKV-0002ls-Gx@c3vjzd1.ch3.sourceforge.com>
	<4B02BFD0.2070604@dbtopas.lt>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64F85@PINK.zycie.pzu>

>-----Original Message-----
>From: Mindaugas Kavaliauskas [mailto:dbtopas@dbtopas.lt] 
>Sent: Tuesday, November 17, 2009 4:23 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] SF.net SVN: harbour-project:[12919] 
>trunk/harbour
>
>Hi,
>
>>   * harbour/contrib/rddsql/sddodbc/odbcdd.c
>>     +  added support of SQL_WCHAR, SQL_WVARCHAR, SQL_WLONGVARCHAR
>>     ; NOTE: I get more and more complains about not working sddodbc, 
>>       because of these data types. I'm unable to get such situation 
>>       in my programming environvent. So, this addition can be buggy. 
>>       Please, report any strange behavior of string types data.
>
>Marek, are your RDDSQL problems we've discussed at September solved?

Yes, it is solved and I can read data too from MS SQLSerwer.

Regards,
Marek Horodyski
From phil at newstar.rinet.ru  Wed Nov 18 09:32:35 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Wed Nov 18 09:33:04 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <c10dbf450911180619h7ebc090ud60bbea9faf40a55@mail.gmail.com>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com> 
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<4B02D756.3050204@dbtopas.lt> 
	<20091117180600.GA14248@34-mo7-2.home.aster.pl>
	<59938B56-BE81-41BF-B89D-32B19377C20F@syenar.hu> 
	<20091117185526.GA14902@34-mo7-2.home.aster.pl>
	<91FD3977-8D03-4F46-A8DE-EFEC3B46C508@syenar.hu> 
	<c10dbf450911180437y76cdcccax8180afbc27ada70d@mail.gmail.com> 
	<32DE3464-1AC6-42EE-8559-EBD45D357DAD@syenar.hu>
	<c10dbf450911180619h7ebc090ud60bbea9faf40a55@mail.gmail.com>
Message-ID: <c10dbf450911180632s3de9b768y10c99615f384349f@mail.gmail.com>

On Wed, Nov 18, 2009 at 5:19 PM, Phil Krylov <phil@newstar.rinet.ru> wrote:
>> Storing settings in .ini (or .xml) files as opposed to
>> registry. Author Eugene Roshal insisted on registry
>> (while I insisted that this is a mistake - this was in
>> 1996), so finally some .bat files have born to save/restore
>> reg content, but I miss "portability" to this very date,
>> at least as an option. F.e. I store Far executables on
>> a VMWare virtual disk (or network share, or host drive),
>> and access it from multiple VMs. Now keeping in sync my
>> Far preferences between VMs is practically impossible.
>>
>> If you agree, you could ask for this feature on russian
>> Far Manager forums :)
>
> Do you mean they ignore English messages? ;)

Ok I got a user account on their bugzilla, there is bug 183:
Registry2INI, which proposes to add a cmdline parameter
/ini[:filename.ini] to use ini for reading and writing configuration
registry entries. Last message on that bug dated 2007. I guess if you
write a patch and post it there it might work...

-- Ph.
From M.Horodyski at pzuzycie.com.pl  Wed Nov 18 09:35:38 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Nov 18 09:35:46 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <4B02D756.3050204@dbtopas.lt>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>	<20091115134712.GA20573@34-mo7-2.home.aster.pl>	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu>	<4B003671.5000806@dbtopas.lt>	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu>	<4B004D00.8090803@dbtopas.lt><20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<4B02D756.3050204@dbtopas.lt>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64F8F@PINK.zycie.pzu>

>-----Original Message-----
>From: Mindaugas Kavaliauskas [mailto:dbtopas@dbtopas.lt] 
>Sent: Tuesday, November 17, 2009 6:03 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Edit Compile Debug in visual cycle

...

>- Does MC editor has column block marking? In Far such block can be 
>marked using Alt+arrows. Alt+arrows throws me out of edit window and I 
>see OC, OB, OD, or OA in command line. Other unsupported keys 
>also tends 
>to put garbage into command line.
>
>
>I'll have more question after I'll need to make some job on Linux.
>
>
>Regards,
>Mindaugas


All these possibilities and much mooooore is in NDN (too on Linux
version).

Regards,
Marek Horodyski
From niki at synel.co.il  Wed Nov 18 09:31:55 2009
From: niki at synel.co.il (Chen Kedem)
Date: Wed Nov 18 09:36:02 2009
Subject: [Harbour] Win98 + MT crash
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2E@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2D@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2E@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2F@Mail-yoq.SYNEL-COMPANY.LTD>

Przemek,

> Can you make yet another test with harbour compiled with HB_USE_TLS macro
> i.e.:
>    set HB_USER_CFLAGS=-DHB_USE_TLS -DHB_FM_STD_ALLOC

The build (on the NT) fail with lots (I killed it after 40,000 errors) of CodeGuard
errors while running hbmk2.exe in the "Making shared version of Harbour binaries...".
I get these errors also if I just execute hbmk2.exe with no parameters.
(all tests where made with Rev12895)

  Chen.
From harbour.01 at syenar.hu  Wed Nov 18 09:41:06 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 18 09:41:20 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <c10dbf450911180619h7ebc090ud60bbea9faf40a55@mail.gmail.com>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<4B02D756.3050204@dbtopas.lt>
	<20091117180600.GA14248@34-mo7-2.home.aster.pl>
	<59938B56-BE81-41BF-B89D-32B19377C20F@syenar.hu>
	<20091117185526.GA14902@34-mo7-2.home.aster.pl>
	<91FD3977-8D03-4F46-A8DE-EFEC3B46C508@syenar.hu>
	<c10dbf450911180437y76cdcccax8180afbc27ada70d@mail.gmail.com>
	<32DE3464-1AC6-42EE-8559-EBD45D357DAD@syenar.hu>
	<c10dbf450911180619h7ebc090ud60bbea9faf40a55@mail.gmail.com>
Message-ID: <309562F2-2630-4153-B679-1CD2501D324C@syenar.hu>

>> While Far just works as is.
> 
> but just on a single platform ;)

Yes unfortunately, but at least now it has UNICODE 
support plus x64 support. Looking at the code, it will 
never be ported to other OS though.

I was also trying it with WINE, but the results 
are very inconsistent.

>> Storing settings in .ini (or .xml) files as opposed to
>> registry. Author Eugene Roshal insisted on registry
>> (while I insisted that this is a mistake - this was in
>> 1996), so finally some .bat files have born to save/restore
>> reg content, but I miss "portability" to this very date,
>> at least as an option. F.e. I store Far executables on
>> a VMWare virtual disk (or network share, or host drive),
>> and access it from multiple VMs. Now keeping in sync my
>> Far preferences between VMs is practically impossible.
>> 
>> If you agree, you could ask for this feature on russian
>> Far Manager forums :)
> 
> Do you mean they ignore English messages? ;)

No, but certainly Russian section looked more active :)
(most ChangeLogs/comments and docs are still produced 
in Russian)

Maybe I'll do it later, but given the 5% success rate of 
my reports I'll have to catch some more optimistic 
mood to care enough to create a post and argue about a 
feature. Until then I'm trying to detach myself from Far 
some more.

> I am not such a power user of Far as you, I don't have any favorite
> configuration sets that I would want to preserve across prophylactic
> Windows reinstalls. And if I did, the bat files work. Well, years ago
> when I was a primarily Windows user, this Far behaviour irritated me,
> (the only settings i wanted to save were sane archiver command lines
> instead of the ones supplied with Far) but now I use Windows only
> episodically.

Yes, and how lazy I am, I still didn't import those archiver 
settings from my old PC. Probably that's how old customs die, 
in this case I switched to unzip on cmdline, or I use 
OS X for such purpose.

>> Thank you. I figured these two, now I have to get used to
>> them. But I'll for sure miss things like Alt+<+>, <Gray+>
>> and <Shift+Cursor> to make selections in a more sophisticated
>> way.
> 
> + and - when typed on an empty command line start the select mask dialog.

Thanks, it even works here on OS X.

[ but why PgUp/PgDn doesn't, it escapes me, I've even 
thought it the keys, but it scrolls the whole terminal 
buffer instead. ]

> As for Shift-Cursor, it's not A True NC-Way ;) I guess it initially
> appeared in GUI-based NC clones like Windows Commander.

That's the one I use most seldom, so I can do without :)

> Alt+<+> is indeed an interesting feature if you mean "select all files
> with the same name and different extension". But I usually switch to

Same extension with different name, but yes, it is what you say.

> sorting by name for such operations, it's also safer when you see
> files you are selecting. Of course if there are tens of such files
> it's faster to type rm filemask.* ENTER, or if you prefer
> CUI, type + filemask.* ENTER F8 ENTER.

Hm, can be done, but so much slower.

> Although I don't need these two features, I suppose that if someone
> would create corresponding tickets on midnight-commander.com, they'll
> be reviewed in a short period of time. Even without patches attached.
> I'd rather support a feature that would add support for M-Enter and %
> macros in the group select dialog.

That's also nice.

Maybe I'll create such ticket in the future, as for now, on 
OS X latest GIT trunk doesn't build at all (there is no 
'configure' file and 'autoconf' just errors), so I'll try 
on Linux instead.

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Nov 18 09:42:19 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 18 09:42:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12922] trunk/harbour
In-Reply-To: <26405193.post@talk.nabble.com>
References: <E1NAZOK-0002i4-2N@bj8yhf1.ch3.sourceforge.com>
	<26405193.post@talk.nabble.com>
Message-ID: <F3FA3A29-6556-48FA-B70C-F1D14FC45465@syenar.hu>

Here on Win7 I just can't close it now by any methods, 
only by killing it from Task Manager.

Brgds,
Viktor

On 2009 Nov 18, at 11:03, Maurizio la Cecilia wrote:

> 
> Hi Pritpal, the close button no loger works and clicking it the app crashes
> with:
> 
> Application Internal Error - C:\CVS\harbour\contrib\hbide\hbide.exe
> Terminated at: 2009.11.18 10:55:39
> Unrecoverable error 6005: Exception error: 
> 
>    Exception Code:C0000005
>    Exception Address:65182370
>    EAX:00000000  EBX:00C6E2F8  ECX:003EFEE0  EDX:0800F000
>    ESI:00000000  EDI:01ACB258  EBP:0022FD68
>    CS:EIP:001B:65182370  SS:ESP:0023:0022FCB0
>    DS:0023  ES:0023  FS:003B  GS:0000
>    Flags:00010282
>    CS:EIP: 8B 40 04 89 5C 24 04 C7 45 88 03 00 00 00 89 04
>    SS:ESP: 003EFE98 00000000 0022FCD8 6A3939F0 00000005 0022FD8C 003E0000
> 005E51A8 FFFFFFFF 00000000 003EFE98 00C6E2F8 0001FD0C 00000006 0022FC44
> 0022FD8C
> 
>    C stack:
>    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...
>    65182370 0022FD68   65AD7508 00475ED5 00C6E2F8 0022FDC0 0022FFE0
> 77C05C94 77BE2070 00000001 00C7853C 00000000
> 
> Environment:
> XP win workstation, MinGW compiler, latest CVS Harbour build.
> Best regards.
> Maurizio la Cecilia
> 
> 
> vouchcac wrote:
>> 
>> Revision: 12922
>> 
>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12922&view=rev
>> Author:   vouchcac
>> Date:     2009-11-18 01:31:26 +0000 (Wed, 18 Nov 2009)
>> 
>> Log Message:
>> -----------
>> 2009-11-17 17:26 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>>  * contrib/hbide/hbide.prg
>>  + contrib/hbide/resources/builderror.png
>>  * contrib/hbide/resources/gotomark.png
>>  + contrib/hbide/resources/modulelist.png
>> 
>>  * contrib/hbqt/hbqt_slots.cpp
>>  * contrib/hbqt/hbqt_slots.h
>>  * contrib/hbqt/moc_slots.cpp
>> 
>>  * contrib/hbxbp/xbpgeneric.prg
>>  * contrib/hbxbp/xbptabpage.prg
>>    + Implemented first 4 icons operational. 
>>      Now, at least you can open/edit/save .prg .c .ch .h files.
>>      I am interested in any bugs you may encounter in the process.
>>      Few HBXBP calasses have also been updated in the process.
>> 
>>    QUESTION: How good it will be to extend Xbase++ class framework ?
>>              Is this the ripe time or we need more inputs ?
>> 
>> Modified Paths:
>> --------------
>>    trunk/harbour/ChangeLog
>>    trunk/harbour/contrib/hbide/hbide.prg
>>    trunk/harbour/contrib/hbide/resources/gotomark.png
>>    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
>>    trunk/harbour/contrib/hbqt/hbqt_slots.h
>>    trunk/harbour/contrib/hbqt/moc_slots.cpp
>>    trunk/harbour/contrib/hbxbp/xbpgeneric.prg
>>    trunk/harbour/contrib/hbxbp/xbptabpage.prg
>> 
>> Added Paths:
>> -----------
>>    trunk/harbour/contrib/hbide/resources/builderror.png
>>    trunk/harbour/contrib/hbide/resources/modulelist.png
>> 
>> 
>> This was sent by the SourceForge.net collaborative development platform,
>> the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> 
> 
> -- 
> View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12922--trunk-harbour-tp26400975p26405193.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From phil at newstar.rinet.ru  Wed Nov 18 09:43:52 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Wed Nov 18 09:44:21 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64F8F@PINK.zycie.pzu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com> 
	<20091115134712.GA20573@34-mo7-2.home.aster.pl>
	<B0891F42-D5A5-4D22-B7F4-83F65494B767@syenar.hu> 
	<4B003671.5000806@dbtopas.lt>
	<D841A4A1-AFD2-43A2-942E-557884F219BD@syenar.hu> 
	<4B004D00.8090803@dbtopas.lt>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl> 
	<4B02D756.3050204@dbtopas.lt>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64F8F@PINK.zycie.pzu>
Message-ID: <c10dbf450911180643y5bf860e6v1f6d3bfa85e68575@mail.gmail.com>

On Wed, Nov 18, 2009 at 5:35 PM, Horodyski Marek (PZUZ)
<M.Horodyski@pzuzycie.com.pl> wrote:
> All these possibilities and much mooooore is in NDN (too on Linux
> version).

I never liked Turbo Vision.

Have you tried running NDN on linux? It compiles. It runs. But it does
not work. Also its sources are full of x86 assembly code, so it's
non-portable.

-- Ph.
From druzus at acn.waw.pl  Wed Nov 18 09:45:51 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov 18 09:45:58 2009
Subject: [Harbour] Win98 + MT crash
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2F@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2D@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2E@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2F@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20091118144551.GA31616@34-mo7-2.home.aster.pl>

On Wed, 18 Nov 2009, Chen Kedem wrote:

Hi,

> > Can you make yet another test with harbour compiled with HB_USE_TLS macro
> > i.e.:
> >    set HB_USER_CFLAGS=-DHB_USE_TLS -DHB_FM_STD_ALLOC
> The build (on the NT) fail with lots (I killed it after 40,000 errors) of CodeGuard
> errors while running hbmk2.exe in the "Making shared version of Harbour binaries...".
> I get these errors also if I just execute hbmk2.exe with no parameters.
> (all tests where made with Rev12895)

Yes, but it is result of CodeGuard bug which do not works well with __thread
static variables so this is expected behavior. Can you make simple runtime
test without CodeGuard? I would like to locate the reason of problem. Then
we can look for possible workarounds.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Nov 18 09:46:32 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 18 09:46:53 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <c10dbf450911180632s3de9b768y10c99615f384349f@mail.gmail.com>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<20091115214246.GA4813@34-mo7-2.home.aster.pl>
	<4B02D756.3050204@dbtopas.lt>
	<20091117180600.GA14248@34-mo7-2.home.aster.pl>
	<59938B56-BE81-41BF-B89D-32B19377C20F@syenar.hu>
	<20091117185526.GA14902@34-mo7-2.home.aster.pl>
	<91FD3977-8D03-4F46-A8DE-EFEC3B46C508@syenar.hu>
	<c10dbf450911180437y76cdcccax8180afbc27ada70d@mail.gmail.com>
	<32DE3464-1AC6-42EE-8559-EBD45D357DAD@syenar.hu>
	<c10dbf450911180619h7ebc090ud60bbea9faf40a55@mail.gmail.com>
	<c10dbf450911180632s3de9b768y10c99615f384349f@mail.gmail.com>
Message-ID: <6A844BF3-E7EF-4291-8E61-8DCB8C24357A@syenar.hu>

> On Wed, Nov 18, 2009 at 5:19 PM, Phil Krylov <phil@newstar.rinet.ru> wrote:
>>> Storing settings in .ini (or .xml) files as opposed to
>>> registry. Author Eugene Roshal insisted on registry
>>> (while I insisted that this is a mistake - this was in
>>> 1996), so finally some .bat files have born to save/restore
>>> reg content, but I miss "portability" to this very date,
>>> at least as an option. F.e. I store Far executables on
>>> a VMWare virtual disk (or network share, or host drive),
>>> and access it from multiple VMs. Now keeping in sync my
>>> Far preferences between VMs is practically impossible.
>>> 
>>> If you agree, you could ask for this feature on russian
>>> Far Manager forums :)
>> 
>> Do you mean they ignore English messages? ;)
> 
> Ok I got a user account on their bugzilla, there is bug 183:
> Registry2INI, which proposes to add a cmdline parameter
> /ini[:filename.ini] to use ini for reading and writing configuration
> registry entries. Last message on that bug dated 2007. I guess if you
> write a patch and post it there it might work...

Thanks a lot for information. That's exactly what I'd 
need.

Patch would be difficult to write for me, by now they 
use lots of lists and special stuff inside the registry, 
so probably some registry-emulated-in-disk-file solution 
would be the most transparent way to make this. But this 
would need some more .c skill than I have, and possibly 
some sort of basic xml "engine".

Of course a full switch (back) to .ini would be easier, 
but this would need changing lots of existing code.
(maybe not even an option due to plugins)

Brgds,
Viktor

From phil at newstar.rinet.ru  Wed Nov 18 09:47:42 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Wed Nov 18 09:48:10 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <309562F2-2630-4153-B679-1CD2501D324C@syenar.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com> 
	<4B02D756.3050204@dbtopas.lt>
	<20091117180600.GA14248@34-mo7-2.home.aster.pl> 
	<59938B56-BE81-41BF-B89D-32B19377C20F@syenar.hu>
	<20091117185526.GA14902@34-mo7-2.home.aster.pl> 
	<91FD3977-8D03-4F46-A8DE-EFEC3B46C508@syenar.hu>
	<c10dbf450911180437y76cdcccax8180afbc27ada70d@mail.gmail.com> 
	<32DE3464-1AC6-42EE-8559-EBD45D357DAD@syenar.hu>
	<c10dbf450911180619h7ebc090ud60bbea9faf40a55@mail.gmail.com> 
	<309562F2-2630-4153-B679-1CD2501D324C@syenar.hu>
Message-ID: <c10dbf450911180647r1f214b13r967d4d16b75fca6f@mail.gmail.com>

On Wed, Nov 18, 2009 at 5:41 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> [ but why PgUp/PgDn doesn't, it escapes me, I've even
> thought it the keys, but it scrolls the whole terminal
> buffer instead. ]

It''s Terminal.app's feature. Use Shift-PgUp/PgDn

-- Ph.
From niki at synel.co.il  Wed Nov 18 09:54:30 2009
From: niki at synel.co.il (Chen Kedem)
Date: Wed Nov 18 09:58:01 2009
Subject: [Harbour] Win98 + MT crash
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2F@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2D@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2E@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2F@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F30@Mail-yoq.SYNEL-COMPANY.LTD>

Przemek,

> Yes, but it is result of CodeGuard bug which do not works well with
> __thread static variables

Opps forgot about it.

>    set HB_USER_CFLAGS=-DHB_USE_TLS -DHB_FM_STD_ALLOC

With this and without CodeGuard, mttest01.prg run well on Win95.

  Chen.
From M.Horodyski at pzuzycie.com.pl  Wed Nov 18 10:01:30 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Nov 18 10:01:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12921] trunk/harbour
In-Reply-To: <20091118002148.GA16648@34-mo7-2.home.aster.pl>
References: <E1NASwP-0006gW-UR@3kljzd1.ch3.sourceforge.com><BC6AF603-2C4A-4661-A64C-BE5FB132877C@syenar.hu><20091117203445.GA15486@34-mo7-2.home.aster.pl><D24035BF-652F-4DEF-9ADE-E785AE8C343E@syenar.hu><20091117223556.GA15999@34-mo7-2.home.aster.pl><6401FA1C-32E3-4CCB-B1BC-56858132C977@syenar.hu>
	<20091118002148.GA16648@34-mo7-2.home.aster.pl>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502A64FAF@PINK.zycie.pzu>

>-----Original Message-----
>From: Przemys?aw Czerpak [mailto:druzus@acn.waw.pl] 
>Sent: Wednesday, November 18, 2009 1:22 AM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] SF.net SVN: harbour-project:[12921] 
>trunk/harbour

...

>I do not find Unicode in Java and C# as good solution.
>In general string management in these languages is one of the 
>most important reasons for me to not use them. Now string 
>management in Harbour is hundreds or even thousands times 
>faster then in above languages when a lot of strings have to 

It's true. Within seconds Harbor does what Java can in an hour.

Regards,
Marek Horodyski
From harbour.01 at syenar.hu  Wed Nov 18 10:04:38 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 18 10:04:52 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <c10dbf450911180647r1f214b13r967d4d16b75fca6f@mail.gmail.com>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com>
	<4B02D756.3050204@dbtopas.lt>
	<20091117180600.GA14248@34-mo7-2.home.aster.pl>
	<59938B56-BE81-41BF-B89D-32B19377C20F@syenar.hu>
	<20091117185526.GA14902@34-mo7-2.home.aster.pl>
	<91FD3977-8D03-4F46-A8DE-EFEC3B46C508@syenar.hu>
	<c10dbf450911180437y76cdcccax8180afbc27ada70d@mail.gmail.com>
	<32DE3464-1AC6-42EE-8559-EBD45D357DAD@syenar.hu>
	<c10dbf450911180619h7ebc090ud60bbea9faf40a55@mail.gmail.com>
	<309562F2-2630-4153-B679-1CD2501D324C@syenar.hu>
	<c10dbf450911180647r1f214b13r967d4d16b75fca6f@mail.gmail.com>
Message-ID: <0BDD667E-D69C-47F3-9D9D-BD46796CC376@syenar.hu>

> On Wed, Nov 18, 2009 at 5:41 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
>> [ but why PgUp/PgDn doesn't, it escapes me, I've even
>> thought it the keys, but it scrolls the whole terminal
>> buffer instead. ]
> 
> It''s Terminal.app's feature. Use Shift-PgUp/PgDn

Great, it works! Many thanks for all your help.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Nov 18 10:09:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Nov 18 10:09:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12924] trunk/harbour
Message-ID: <E1NAm9n-00041S-Vz@74yxhf1.ch3.sourceforge.com>

Revision: 12924
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12924&view=rev
Author:   vszakats
Date:     2009-11-18 15:09:18 +0000 (Wed, 18 Nov 2009)

Log Message:
-----------
2009-11-18 16:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbapi.h
    * Changed HB_ERRCODE to be 'insigned int' (was USHORT).
    ; You'll need to rebuild all sources.

  * utils/hbmk2/hbmk2.prg
    % Turned off line numbers (for hbmk2 itself).

  * INSTALL
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/include/hbapi.h
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gvarona at ec-red.com  Wed Nov 18 10:29:42 2009
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Wed Nov 18 10:26:28 2009
Subject: [Harbour] hbformat, Where is the error?
Message-ID: <4B0412E6.6070408@ec-red.com>

Hello friends, this piece of code, where is the mistake?

********Start Code****************************
procedure main

IF BloqueaDbf(10)
   @ 24,0 SAY PADR('Buscando y quitando informaci?n generada 
anteriormente . . .Espere por favor',80) COLOR Color5
   IF nTipo#3
      DELE FOR Estado='K'; lOk := .T.
   ELSE
      DBGOTOP()
      lOkDiaC := .T. // Se quitaron todas las cabeceras
      lOkDiaD := .T. // Se quitaron todos los detalles
      DO WHILE !EOF()
         IF Estado='K'
            SELE DiaD
            DBSEEK(DiaC->Num_Compro)
            DO WHILE DiaC->Num_Compro==Num_Compro .AND. !EOF()
               IF BloqueaReg(10); DBDELETE()
               ELSE;              lOkDiaD := .F. // No se pudo Bloquear 
algun detalle
               ENDIF
               DBSKIP()
            ENDDO
            SELE DiaC
            IF BloqueaReg(10); DBDELETE()
            ELSE;              lOkDiaC := .F. // No se pudo Bloquear 
alguna Cabecera
            ENDIF
         ENDIF
         DBSKIP()
      ENDDO
      IF !lOkDiaC; ALERT("No se pudo Bloquear algun documento; Por 
seguridad, Debe repetir el proceso "); ENDIF
      IF !lOkDiaD; ALERT("No se pudo Bloquear algun item de documento; 
Por seguridad, Debe repetir el proceso "); ENDIF
   ENDIF
ELSE
   ALERT('Proceso Terminado; No se pudo Bloquear '+IF(nTipo=1,'Reg. de 
Compras',IF(nTipo=2,'Reg. de Ventas','Arch. de Diario'))+' . . . '); lOk 
:= .F.
ENDIF
return

FUNCTION Bloqueareg()
return .t.

FUNCTION Bloqueadbf()
return .t.
********End Code****************************

Output HBFormat:

D:\SyS_GVS\Cont\JA>\hrbmingw\bin\hbformat -lFCaseLow=yes depura.prg
Reformatting depura.prg
<
Error          3 on line         20 : ENDDO

Output HBMK2:

D:\SyS_GVS\Cont\JA>\hrbmingw\bin\hbmk2 depura.prg
hbmk2: Processing environment options: -compiler=mingw
Harbour 2.0.0beta3 (Rev. 12923)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'depura.prg'...
Lines 41, Functions/Procedures 3
Generating C source output to 'depura.c'... Done.
D:\SyS_GVS\Cont\JA>

. . . and generates EXE

Any help / tip is welcome

TIA

BestRegards
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091118/105a7ad4/attachment.html
From druzus at users.sourceforge.net  Wed Nov 18 10:33:40 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Nov 18 10:33:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12925] trunk/harbour
Message-ID: <E1NAmXM-0007Wo-2c@bj8yhf1.ch3.sourceforge.com>

Revision: 12925
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12925&view=rev
Author:   druzus
Date:     2009-11-18 15:33:38 +0000 (Wed, 18 Nov 2009)

Log Message:
-----------
2009-11-18 16:33 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbthread.h
     * minor cleanup in comment

  * harbour/src/vm/dlmalloc.c
    * use harbour spinlocks in windows builds to eliminate calling
      InterlockedCompareExchange[Pointer]() function

  * harbour/include/hbstack.h
    ! disabled TLS ASM inline code which seems to not work with Win9x.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbstack.h
    trunk/harbour/include/hbthread.h
    trunk/harbour/src/vm/dlmalloc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From phil at newstar.rinet.ru  Wed Nov 18 10:36:36 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Wed Nov 18 10:37:05 2009
Subject: [Harbour] Edit Compile Debug in visual cycle
In-Reply-To: <6A844BF3-E7EF-4291-8E61-8DCB8C24357A@syenar.hu>
References: <609353e70911150306o6c4762b9t3762e22522a04db0@mail.gmail.com> 
	<20091117180600.GA14248@34-mo7-2.home.aster.pl>
	<59938B56-BE81-41BF-B89D-32B19377C20F@syenar.hu> 
	<20091117185526.GA14902@34-mo7-2.home.aster.pl>
	<91FD3977-8D03-4F46-A8DE-EFEC3B46C508@syenar.hu> 
	<c10dbf450911180437y76cdcccax8180afbc27ada70d@mail.gmail.com> 
	<32DE3464-1AC6-42EE-8559-EBD45D357DAD@syenar.hu>
	<c10dbf450911180619h7ebc090ud60bbea9faf40a55@mail.gmail.com> 
	<c10dbf450911180632s3de9b768y10c99615f384349f@mail.gmail.com> 
	<6A844BF3-E7EF-4291-8E61-8DCB8C24357A@syenar.hu>
Message-ID: <c10dbf450911180736xe9a1b75r54ac40e88375481f@mail.gmail.com>

On Wed, Nov 18, 2009 at 5:46 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> Patch would be difficult to write for me, by now they
> use lots of lists and special stuff inside the registry,
> so probably some registry-emulated-in-disk-file solution
> would be the most transparent way to make this. But this
> would need some more .c skill than I have, and possibly
> some sort of basic xml "engine".

I have not looked in detail but they write there it's enough to patch
registry.cpp to use a file instead of registry.
As for the format, there's standard .ini type format used by regedit.

-- Ph.
From druzus at acn.waw.pl  Wed Nov 18 10:37:00 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov 18 10:37:14 2009
Subject: [Harbour] Win98 + MT crash
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F30@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2D@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2E@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2F@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F30@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20091118153700.GA31767@34-mo7-2.home.aster.pl>

On Wed, 18 Nov 2009, Chen Kedem wrote:

Hi,

> > Yes, but it is result of CodeGuard bug which do not works well with
> > __thread static variables
> Opps forgot about it.
> >    set HB_USER_CFLAGS=-DHB_USE_TLS -DHB_FM_STD_ALLOC
> With this and without CodeGuard, mttest01.prg run well on Win95.

Thank you very much for your tests.
I've have just committed modification which disables ASM inline macros for
TLS and InterlockedCompareExchange[Pointer]() in DLMALLOC.
If possible then I would like to ask you to make final tests. Now it should
work even with CodeGuard.

best regards,
Przemek
From niki at synel.co.il  Wed Nov 18 10:41:57 2009
From: niki at synel.co.il (Chen Kedem)
Date: Wed Nov 18 10:43:35 2009
Subject: [Harbour] Win98 + MT crash
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F30@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2D@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2E@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F30@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F31@Mail-yoq.SYNEL-COMPANY.LTD>

Przemek,

> If possible then I would like to ask you to make final tests. Now it should
> work even with CodeGuard.

Will do that tomorrow morning.

  Chen.
From m.lacecilia at gmail.com  Wed Nov 18 10:56:33 2009
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Wed Nov 18 10:56:48 2009
Subject: R: [Harbour] hbformat, Where is the error?
In-Reply-To: <4B0412E6.6070408@ec-red.com>
References: <4B0412E6.6070408@ec-red.com>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAD6fXoPyYqdOscYyBgKu9FYBAAAAAA==@gmail.com>

No errors in your code.

The problem is the:

IF <condition>  ; <code>

This format is not handled by hbformat.
Avoiding the ; and splitting as usual into multiple lines does the job.
Anyway, a thing to signal to Alex Kresin.
Best regards. 
 
Maurizio la Cecilia               

 

From harbour.01 at syenar.hu  Wed Nov 18 11:00:11 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 18 11:00:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12925] trunk/harbour
In-Reply-To: <E1NAmXM-0007Wo-2c@bj8yhf1.ch3.sourceforge.com>
References: <E1NAmXM-0007Wo-2c@bj8yhf1.ch3.sourceforge.com>
Message-ID: <8C5990C4-FD38-46BB-BF20-0CB61A0B09D3@syenar.hu>

Testing latest rev with new clean build, I got this:

---
! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
! MAKE: mingw64-make.exe 3.81.90 sh.exe clean install  
! HB_INSTALL_PREFIX: F:\devl\hb20
! HB_BUILD_PKG: yes
! HB_BUILD_DLL: yes
! HB_BUILD_SHARED: no
! HB_BUILD_DEBUG: no
! HB_BUILD_OPTIM: yes
! HB_HOST_PLAT: win (x86_64)  HB_SHELL: nt
! HB_PLATFORM: win (x86) (autodetected)
! HB_COMPILER: mingw (autodetected: Z:/devl/MinGW-441/bin/)
! Component: 'zlib' found in F:/work/harbour/harbour/external/zlib (local)
! Component: 'pcre' found in F:/work/harbour/harbour/external/pcre (local)
! Component: 'openssl' found in Z:\devl\openssl-0.9.8k\inc32 
! Component: 'gpm' not supported on win platform
! Component: 'slang' not found
! Component: 'curses' not found
! Component: 'x11' not found
! Component: 'wattcp/watt-32' not supported on win platform
! HB_INSTALL_PREFIX automatically set to: F:\work\harbour\harbour\pkg\win\mingw\harbour-2.0.0beta3-win-mingw
! REVISION: 12925
! 'gtcrs' library skipped (component not found)
! 'gtdos' library skipped (platform not supported)
! 'gtos2' library skipped (platform not supported)
! 'gtsln' library skipped (component not found)
! 'gttrm' library skipped (platform or compiler not supported)
! 'gtxwc' library skipped (component not found)

[...]

gcc  -I. -I../../../../../../include  -Wall -W -O3 -fomit-frame-pointer -march=i586 -mtune=pentiumpro  -DHB_MT_VM  -ohvmall.o -c ../../../../hvmall.c
In file included from ../../../../fm.c:181,
                 from ../../../../hvmall.c:95:
../../../../dlmalloc.c: In function 'internal_mallinfo':
../../../../dlmalloc.c:2825: error: invalid use of void expression
../../../../dlmalloc.c: In function 'internal_malloc_stats':
../../../../dlmalloc.c:2863: error: invalid use of void expression
../../../../dlmalloc.c: In function 'internal_realloc':
../../../../dlmalloc.c:3777: error: invalid use of void expression
../../../../dlmalloc.c: In function 'internal_memalign':
../../../../dlmalloc.c:3868: error: void value not ignored as it ought to be
../../../../dlmalloc.c:3868: error: void value not ignored as it ought to be
../../../../dlmalloc.c: In function 'ialloc':
../../../../dlmalloc.c:3998: error: void value not ignored as it ought to be
../../../../dlmalloc.c:3998: error: void value not ignored as it ought to be
../../../../dlmalloc.c: In function 'malloc':
../../../../dlmalloc.c:4085: error: invalid use of void expression
../../../../dlmalloc.c: In function 'free':
../../../../dlmalloc.c:4211: error: invalid use of void expression
../../../../dlmalloc.c: In function 'malloc_trim':
../../../../dlmalloc.c:4362: error: invalid use of void expression
mingw64-make.exe[4]: *** [hvmall.o] Error 1
mingw64-make.exe[3]: *** [descend] Error 2
mingw64-make.exe[2]: *** [vmmt.inst] Error 2
mingw64-make.exe[1]: *** [vm.inst] Error 2
mingw64-make.exe: *** [src.inst] Error 2
---

Brgds,
Viktor

On 2009 Nov 18, at 16:33, druzus@users.sourceforge.net wrote:

> Revision: 12925
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12925&view=rev
> Author:   druzus
> Date:     2009-11-18 15:33:38 +0000 (Wed, 18 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-18 16:33 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbthread.h
>     * minor cleanup in comment
> 
>  * harbour/src/vm/dlmalloc.c
>    * use harbour spinlocks in windows builds to eliminate calling
>      InterlockedCompareExchange[Pointer]() function
> 
>  * harbour/include/hbstack.h
>    ! disabled TLS ASM inline code which seems to not work with Win9x.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/include/hbstack.h
>    trunk/harbour/include/hbthread.h
>    trunk/harbour/src/vm/dlmalloc.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From dbtopas at dbtopas.lt  Wed Nov 18 10:59:44 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Nov 18 11:01:15 2009
Subject: [Harbour] RDDADS field types
Message-ID: <4B0419F0.7050604@dbtopas.lt>

Hi,


I found some incompatibilities trying to move database from DBF to ADT. 
ADT has more field types than a classic DBF. Field types in FIELDINFO 
method returns long names like: IMAGE, DOUBLE, TIMESTAMP, MODTIME.

This code was written long time ago when Harbour has no support for such 
types and has no HB_FT_* constant defined at all. Know the majority 
(except RAW and CISTRING) of ADT field types are implemented in DBF and 
has corresponding HB_FT_ values, and return a DBF compatible field types 
in DBSTRUCT() array.

I'd like to use these new HB_FT_* types in RDDADS and use inheriten 
FIELDINFO method from base workarea class. This makes a little backward 
incompatibility in comparison to old RDDADS, but a large compatibility 
to DBF RDD behavior. I plan to leave CREATEFIELDS method code and allow 
to use a long field names in ADT table creation, thus, leaving all power 
of ADS field type zoo in the hands of programmer. Does anyone has 
objection to such change?


Regards,
Mindaugas

From harbour.01 at syenar.hu  Wed Nov 18 11:01:57 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 18 11:02:11 2009
Subject: R: [Harbour] hbformat, Where is the error?
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAD6fXoPyYqdOscYyBgKu9FYBAAAAAA==@gmail.com>
References: <4B0412E6.6070408@ec-red.com>
	<!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAD6fXoPyYqdOscYyBgKu9FYBAAAAAA==@gmail.com>
Message-ID: <C9597244-6C1C-439C-9E41-9DEEBD7D7694@syenar.hu>

> No errors in your code.
> 
> The problem is the:
> 
> IF <condition>  ; <code>
> 
> This format is not handled by hbformat.
> Avoiding the ; and splitting as usual into multiple lines does the job.
> Anyway, a thing to signal to Alex Kresin.

BTW, has anyone heard about Alexander lately?

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Nov 18 11:10:31 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Nov 18 11:10:42 2009
Subject: [Harbour] RDDADS field types
In-Reply-To: <4B0419F0.7050604@dbtopas.lt>
References: <4B0419F0.7050604@dbtopas.lt>
Message-ID: <EC46D18F-7CED-4840-B910-1B2C57D7B432@syenar.hu>

> I found some incompatibilities trying to move database from DBF to ADT. ADT has more field types than a classic DBF. Field types in FIELDINFO method returns long names like: IMAGE, DOUBLE, TIMESTAMP, MODTIME.
> 
> This code was written long time ago when Harbour has no support for such types and has no HB_FT_* constant defined at all. Know the majority (except RAW and CISTRING) of ADT field types are implemented in DBF and has corresponding HB_FT_ values, and return a DBF compatible field types in DBSTRUCT() array.
> 
> I'd like to use these new HB_FT_* types in RDDADS and use inheriten FIELDINFO method from base workarea class. This makes a little backward incompatibility in comparison to old RDDADS, but a large compatibility to DBF RDD behavior. I plan to leave CREATEFIELDS method code and allow to use a long field names in ADT table creation, thus, leaving all power of ADS field type zoo in the hands of programmer. Does anyone has objection to such change?

None from me. It's an important fix. Perhaps you can 
also add mapping to CREATEFIELDS() for Harbour type 
codes too, so both method can be used.

Brgds,
Viktor

From druzus at acn.waw.pl  Wed Nov 18 11:23:34 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov 18 11:23:41 2009
Subject: [Harbour] Win98 + MT crash
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F31@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2D@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2E@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2F@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F30@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F31@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20091118162334.GA32589@34-mo7-2.home.aster.pl>

On Wed, 18 Nov 2009, Chen Kedem wrote:

Hi,

> > If possible then I would like to ask you to make final tests. Now it should
> > work even with CodeGuard.
> Will do that tomorrow morning.

Thank you very much.

best regards,
Przemek
From fernando_athayde at yahoo.com.br  Wed Nov 18 11:44:34 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Wed Nov 18 11:44:41 2009
Subject: Res: [Harbour] Harbour SVN compilation with MinGW (error)
In-Reply-To: <7BA6C509-C7C2-437F-B87C-2E646D0605DF@syenar.hu>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2D@Mail-yoq.SYNEL-COMPANY.LTD>
	<20091118121510.GA2544@34-mo7-2.home.aster.pl>
	<942670.36507.qm@web52210.mail.re2.yahoo.com>
	<7BA6C509-C7C2-437F-B87C-2E646D0605DF@syenar.hu>
Message-ID: <829712.76063.qm@web52209.mail.re2.yahoo.com>

i removed cygwin i dont use, it was autodectect in compilation
now happens this:
gcc  -I. -I../../../../../../include  -Wall -W -O3 -fomit-frame-pointer -march=i
586 -mtune=pentiumpro  -DHB_MT_VM  -ohvmall.o -c ../../../../hvmall.c
In file included from ../../../../fm.c:181,
                 from ../../../../hvmall.c:95:
../../../../dlmalloc.c: In function `internal_mallinfo':
../../../../dlmalloc.c:2825: error: wrong type argument to unary exclamation mar
k
../../../../dlmalloc.c: In function `internal_malloc_stats':
../../../../dlmalloc.c:2863: error: wrong type argument to unary exclamation mar
k
../../../../dlmalloc.c: In function `internal_realloc':
../../../../dlmalloc.c:3777: error: wrong type argument to unary exclamation mar
k
../../../../dlmalloc.c: In function `internal_memalign':
../../../../dlmalloc.c:3868: error: void value not ignored as it ought to be
../../../../dlmalloc.c:3868: error: void value not ignored as it ought to be
../../../../dlmalloc.c: In function `ialloc':
../../../../dlmalloc.c:3998: error: void value not ignored as it ought to be
../../../../dlmalloc.c:3998: error: void value not ignored as it ought to be
../../../../dlmalloc.c: In function `malloc':
../../../../dlmalloc.c:4085: error: wrong type argument to unary exclamation mar
k
../../../../dlmalloc.c: In function `free':
../../../../dlmalloc.c:4211: error: wrong type argument to unary exclamation mar
k
../../../../dlmalloc.c: In function `malloc_trim':
../../../../dlmalloc.c:4362: error: wrong type argument to unary exclamation mar
k
mingw32-make.exe[4]: *** [hvmall.o] Error 1
mingw32-make.exe[3]: *** [descend] Error 2
mingw32-make.exe[2]: *** [vmmt] Error 2
mingw32-make.exe[1]: *** [vm] Error 2
mingw32-make.exe: *** [src] Error 2

Thanks
Fernando




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Quarta-feira, 18 de Novembro de 2009 9:34:04
Assunto: Re: [Harbour] Harbour SVN compilation with MinGW (error)

It's not mingw, it's Cygwin. Probably you're using some 
old Cygwin version, here it works ok.

Brgds,
Viktor

On 2009 Nov 18, at 13:27, Fernando Athayde wrote:

> gcc  -I. -I../../../../../../include  -Wall -W -O3 -fomit-frame-pointer -march=i
> 586 -mtune=pentiumpro   -ogttrm.o -c ../../../gttrm.c
> ../../../gttrm.c: In function `get_inch':
> ../../../gttrm.c:1191: error: storage size of 'tv' isn't known
> ../../../gttrm.c:1193: error: `fd_set' undeclared (first use in this function)
> ../../../gttrm.c:1193: error: (Each undeclared identifier is reported only once
> ../../../gttrm.c:1193: error: for each function it appears in.)
> ../../../gttrm.c:1193: error: syntax error before "rfds"
> ../../../gttrm.c:1209: warning: implicit declaration of function `FD_ZERO'
> ../../../gttrm.c:1209: error: `rfds' undeclared (first use in this function)
> ../../../gttrm.c:1210: error: `wfds' undeclared (first use in this function)
> ../../../gttrm.c:1218: warning: implicit declaration of function `FD_SET'
> ../../../gttrm.c:1233: warning: implicit declaration of function `select'
> ../../../gttrm.c:1237: warning: implicit declaration of function `FD_ISSET'
> ../../../gttrm.c:1191: warning: unused variable `tv'
> ../../../gttrm.c: In function `hb_gt_trm_AnsiGetCursorPos':
> ../../../gttrm.c:1926: warning: unused variable `iTODO'
> mingw32-make.exe[4]: *** [gttrm.o] Error 1
> mingw32-make.exe[3]: *** [descend] Error 2
> mingw32-make.exe[2]: *** [gttrm] Error 2
> mingw32-make.exe[1]: *** [rtl] Error 2
> mingw32-make.exe: *** [src] Error 2
> 
> 
> configurations:
> E:\harbour_cvs>mingw32-make.exe
> ! Building Harbour 2.0.0beta3 from source -http://www.harbour-project.org
> ! MAKE: mingw32-make.exe 3.81 E:/cygwin/bin/sh.exe
> ! HB_INSTALL_PREFIX: e:\harbour_gcc
> ! HB_BUILD_DLL: yes
> ! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
> ! HB_PLATFORM: win (x86) (autodetected)
> ! HB_COMPILER: cygwin (autodetected: E:/cygwin/bin/)
> ! Component: 'zlib' found in E:/harbour_cvs/external/zlib (local)
> ! Component: 'pcre' found in E:/harbour_cvs/external/pcre (local)
> ! Component: 'openssl' not found
> ! Component: 'gpm' not supported on win platform
> ! Component: 'slang' not found
> ! Component: 'curses' not found
> ! Component: 'x11' not found
> ! Component: 'wattcp/watt-32' not supported on win platform
> 
> Thanks,
> Fernando
> 
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 -Celebridades - M?sica -Esportes_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091118/6066cbe1/attachment-0001.html
From dbtopas at dbtopas.lt  Wed Nov 18 11:55:48 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Nov 18 11:57:17 2009
Subject: [Harbour] RDDADS field types
In-Reply-To: <EC46D18F-7CED-4840-B910-1B2C57D7B432@syenar.hu>
References: <4B0419F0.7050604@dbtopas.lt>
	<EC46D18F-7CED-4840-B910-1B2C57D7B432@syenar.hu>
Message-ID: <4B042714.1020203@dbtopas.lt>

Hi,


Viktor Szak?ts wrote:
> None from me. It's an important fix. Perhaps you can 
> also add mapping to CREATEFIELDS() for Harbour type 
> codes too, so both method can be used.

Yes, of cause. Such mapping is already implemented, f.e., you can use 
both "M", and "MEMO" as a field type in DBCREATE(). I'll just recheck 
that all types can be used this way.


Regards,
Mindaugas
From gvarona at ec-red.com  Wed Nov 18 12:12:39 2009
From: gvarona at ec-red.com (http://news.gmane.org/gmane.comp.db.sqlite.general)
Date: Wed Nov 18 12:09:42 2009
Subject: [Harbour] Re: R: hbformat, Where is the error?
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAD6fXoPyYqdOscYyBgKu9FYBAAAAAA==@gmail.com>
References: <4B0412E6.6070408@ec-red.com>
	<!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAD6fXoPyYqdOscYyBgKu9FYBAAAAAA==@gmail.com>
Message-ID: <he19nn$62e$1@ger.gmane.org>

Maurizio la Cecilia escribi?:
> No errors in your code.
> > The problem is the:
> > IF <condition>  ; <code>
> > This format is not handled by hbformat.
> Avoiding the ; and splitting as usual into multiple lines does the job.
> Anyway, a thing to signal to Alex Kresin.

Ok Maurizio. Thanks very much.

BestRegards
GVS

From druzus at acn.waw.pl  Wed Nov 18 12:14:46 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov 18 12:14:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12924] trunk/harbour
In-Reply-To: <E1NAm9n-00041S-Vz@74yxhf1.ch3.sourceforge.com>
References: <E1NAm9n-00041S-Vz@74yxhf1.ch3.sourceforge.com>
Message-ID: <20091118171446.GA4864@34-mo7-2.home.aster.pl>

On Wed, 18 Nov 2009, vszakats@users.sourceforge.net wrote:

Hi,

> 2009-11-18 16:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * include/hbapi.h
>     * Changed HB_ERRCODE to be 'insigned int' (was USHORT).
>     ; You'll need to rebuild all sources.

Above completely broke RDD code due to unfinished USHORT->HB_ERRCODE
modifications.

best regards,
Przemek
From bruno.luciani at gmail.com  Wed Nov 18 12:16:33 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Nov 18 12:16:42 2009
Subject: [Harbour] hbformat, Where is the error?
In-Reply-To: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAD6fXoPyYqdOscYyBgKu9FYBAAAAAA==@gmail.com>
References: <4B0412E6.6070408@ec-red.com>
	<!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAD6fXoPyYqdOscYyBgKu9FYBAAAAAA==@gmail.com>
Message-ID: <133778360911180916h3257f09eu95334e49deebe17b@mail.gmail.com>

Maurizio , I just Try HBformat ina a mix PRG

Harbour + OOHG ( minigui )

and giveme an error on line 38

Reformatting factura.prg
<.........
Error          3 on line         38 : END BROWSE

But appears to be reformated ok

Its posible ?  I think that Hbformat reformat ok but not recognizes an oohg
command

I am right ?

Bruno



2009/11/18 Maurizio la Cecilia <m.lacecilia@gmail.com>

> No errors in your code.
>


>
> The problem is the:
>
> IF <condition>  ; <code>
>
> This format is not handled by hbformat.
> Avoiding the ; and splitting as usual into multiple lines does the job.
> Anyway, a thing to signal to Alex Kresin.
> Best regards.
>
> Maurizio la Cecilia
>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091118/c4923447/attachment.html
From druzus at users.sourceforge.net  Wed Nov 18 12:40:37 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Nov 18 12:40:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12926] trunk/harbour
Message-ID: <E1NAoWD-0006i2-06@74yxhf1.ch3.sourceforge.com>

Revision: 12926
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12926&view=rev
Author:   druzus
Date:     2009-11-18 17:40:35 +0000 (Wed, 18 Nov 2009)

Log Message:
-----------
2009-11-18 18:40 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/dlmalloc.c
    ! added workaround for unnecessary checking results of function which
      always have to success

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/dlmalloc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Wed Nov 18 12:48:41 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Nov 18 12:48:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12927] trunk/harbour
Message-ID: <E1NAoe1-0006qa-4c@74yxhf1.ch3.sourceforge.com>

Revision: 12927
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12927&view=rev
Author:   druzus
Date:     2009-11-18 17:48:39 +0000 (Wed, 18 Nov 2009)

Log Message:
-----------
2009-11-18 18:48 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapirdd.h
    ! redefined RDD method table to use HB_ERRCODE instead of USHORT

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapirdd.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ibisz at users.sourceforge.net  Wed Nov 18 13:27:24 2009
From: ibisz at users.sourceforge.net (ibisz@users.sourceforge.net)
Date: Wed Nov 18 13:27:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12928] trunk/harbour
Message-ID: <E1NApFU-0002AV-NY@dn4whf1.ch3.sourceforge.com>

Revision: 12928
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12928&view=rev
Author:   ibisz
Date:     2009-11-18 18:27:21 +0000 (Wed, 18 Nov 2009)

Log Message:
-----------
2009-11-18 18:20 UTC+0100 Istvan Bisz (istvan.bisz/at/t-online.hu)
  * harbour/contrib/hbqt/hbqt_destruct.cpp
  * harbour/contrib/hbqt/hbqt.ch
  * harbour/contrib/hbqt/filelist.mk
  * harbour/contrib/hbqt/hbqt_garbage.h
  * harbour/contrib/hbqt/hbqt.h

  * harbour/contrib/hbqt//generator/hbqtgen.prg

  * harbour/contrib/hbqt/qtcore/filelist.mk
  * harbour/contrib/hbqt/qtcore/QAbstractItemModel.cpp
  * harbour/contrib/hbqt/qtcore/QAbstractListModel.cpp
  * harbour/contrib/hbqt/qtcore/QAbstractTableModel.cpp
  * harbour/contrib/hbqt/qtcore/QBitArray.cpp
  * harbour/contrib/hbqt/qtcore/QByteArray.cpp
  * harbour/contrib/hbqt/qtcore/QCoreApplication.cpp
  * harbour/contrib/hbqt/qtcore/QDataStream.cpp
  * harbour/contrib/hbqt/qtcore/QDate.cpp
  * harbour/contrib/hbqt/qtcore/QDateTime.cpp
  * harbour/contrib/hbqt/qtcore/QDir.cpp
  * harbour/contrib/hbqt/qtcore/QEvent.cpp
  * harbour/contrib/hbqt/qtcore/QEventLoop.cpp
  * harbour/contrib/hbqt/qtcore/QFile.cpp
  * harbour/contrib/hbqt/qtcore/QFileInfo.cpp
  * harbour/contrib/hbqt/qtcore/QIODevice.cpp
  * harbour/contrib/hbqt/qtcore/QLatin1Char.cpp
  * harbour/contrib/hbqt/qtcore/QLatin1String.cpp
  * harbour/contrib/hbqt/qtcore/QLine.cpp
  * harbour/contrib/hbqt/qtcore/QLineF.cpp
  * harbour/contrib/hbqt/qtcore/QList.cpp
  * harbour/contrib/hbqt/qtcore/QLocale.cpp
  * harbour/contrib/hbqt/qtcore/QMimeData.cpp
  * harbour/contrib/hbqt/qtcore/QModelIndex.cpp
  * harbour/contrib/hbqt/qtcore/QObject.cpp
  * harbour/contrib/hbqt/qtcore/QPoint.cpp
  * harbour/contrib/hbqt/qtcore/QPointF.cpp
  * harbour/contrib/hbqt/qtcore/QProcess.cpp
  * harbour/contrib/hbqt/qtcore/QRect.cpp
  * harbour/contrib/hbqt/qtcore/QRectF.cpp
  * harbour/contrib/hbqt/qtcore/QRegExp.cpp
  * harbour/contrib/hbqt/qtcore/QResource.cpp
  * harbour/contrib/hbqt/qtcore/QSignalMapper.cpp
  * harbour/contrib/hbqt/qtcore/QSize.cpp
  * harbour/contrib/hbqt/qtcore/QSizeF.cpp
  * harbour/contrib/hbqt/qtcore/QStringList.cpp
  * harbour/contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
  * harbour/contrib/hbqt/qtcore/QTextCodec.cpp
  * harbour/contrib/hbqt/qtcore/QTextDecoder.cpp
  * harbour/contrib/hbqt/qtcore/QTextEncoder.cpp
  * harbour/contrib/hbqt/qtcore/QTextStream.cpp
  * harbour/contrib/hbqt/qtcore/QThread.cpp
  * harbour/contrib/hbqt/qtcore/QTime.cpp
  * harbour/contrib/hbqt/qtcore/QTimer.cpp
  * harbour/contrib/hbqt/qtcore/QTranslator.cpp
  * harbour/contrib/hbqt/qtcore/QUrl.cpp
  * harbour/contrib/hbqt/qtcore/QVariant.cpp
  * harbour/contrib/hbqt/qtcore/TQAbstractItemModel.prg
  * harbour/contrib/hbqt/qtcore/TQAbstractListModel.prg
  * harbour/contrib/hbqt/qtcore/TQAbstractTableModel.prg
  * harbour/contrib/hbqt/qtcore/TQBitArray.prg
  * harbour/contrib/hbqt/qtcore/TQByteArray.prg
  * harbour/contrib/hbqt/qtcore/TQCoreApplication.prg
  * harbour/contrib/hbqt/qtcore/TQDataStream.prg
  * harbour/contrib/hbqt/qtcore/TQDate.prg
  * harbour/contrib/hbqt/qtcore/TQDateTime.prg
  * harbour/contrib/hbqt/qtcore/TQDir.prg
  * harbour/contrib/hbqt/qtcore/TQEvent.prg
  * harbour/contrib/hbqt/qtcore/TQEventLoop.prg
  * harbour/contrib/hbqt/qtcore/TQFile.prg
  * harbour/contrib/hbqt/qtcore/TQFileInfo.prg
  * harbour/contrib/hbqt/qtcore/TQIODevice.prg
  * harbour/contrib/hbqt/qtcore/TQLatin1Char.prg
  * harbour/contrib/hbqt/qtcore/TQLatin1String.prg
  * harbour/contrib/hbqt/qtcore/TQLine.prg
  * harbour/contrib/hbqt/qtcore/TQLineF.prg
  * harbour/contrib/hbqt/qtcore/TQList.prg
  * harbour/contrib/hbqt/qtcore/TQLocale.prg
  * harbour/contrib/hbqt/qtcore/TQMimeData.prg
  * harbour/contrib/hbqt/qtcore/TQModelIndex.prg
  * harbour/contrib/hbqt/qtcore/TQObject.prg
  * harbour/contrib/hbqt/qtcore/TQPoint.prg
  * harbour/contrib/hbqt/qtcore/TQPointF.prg
  * harbour/contrib/hbqt/qtcore/TQProcess.prg
  * harbour/contrib/hbqt/qtcore/TQRect.prg
  * harbour/contrib/hbqt/qtcore/TQRectF.prg
  * harbour/contrib/hbqt/qtcore/TQRegExp.prg
  * harbour/contrib/hbqt/qtcore/TQResource.prg
  * harbour/contrib/hbqt/qtcore/TQSignalMapper.prg
  * harbour/contrib/hbqt/qtcore/TQSize.prg
  * harbour/contrib/hbqt/qtcore/TQSizeF.prg
  * harbour/contrib/hbqt/qtcore/TQStringList.prg
  * harbour/contrib/hbqt/qtcore/TQTextBoundaryFinder.prg
  * harbour/contrib/hbqt/qtcore/TQTextCodec.prg
  * harbour/contrib/hbqt/qtcore/TQTextDecoder.prg
  * harbour/contrib/hbqt/qtcore/TQTextEncoder.prg
  * harbour/contrib/hbqt/qtcore/TQTextStream.prg
  * harbour/contrib/hbqt/qtcore/TQThread.prg
  * harbour/contrib/hbqt/qtcore/TQTime.prg
  * harbour/contrib/hbqt/qtcore/TQTimer.prg
  * harbour/contrib/hbqt/qtcore/TQTranslator.prg
  * harbour/contrib/hbqt/qtcore/TQUrl.prg
  * harbour/contrib/hbqt/qtcore/TQVariant.prg

  * harbour/contrib/hbqt/qtgui/filelist.mk
  * harbour/contrib/hbqt/qtgui/QAbstractButton.cpp
  * harbour/contrib/hbqt/qtgui/QAbstractItemDelegate.cpp
  * harbour/contrib/hbqt/qtgui/QAbstractItemView.cpp
  * harbour/contrib/hbqt/qtgui/QAbstractPrintDialog.cpp
  * harbour/contrib/hbqt/qtgui/QAbstractProxyModel.cpp
  * harbour/contrib/hbqt/qtgui/QAbstractScrollArea.cpp
  * harbour/contrib/hbqt/qtgui/QAbstractSlider.cpp
  * harbour/contrib/hbqt/qtgui/QAbstractSpinBox.cpp
  * harbour/contrib/hbqt/qtgui/QAbstractTextDocumentLayout.cpp
  * harbour/contrib/hbqt/qtgui/QAction.cpp
  * harbour/contrib/hbqt/qtgui/QActionGroup.cpp
  * harbour/contrib/hbqt/qtgui/QApplication.cpp
  * harbour/contrib/hbqt/qtgui/QBitmap.cpp
  * harbour/contrib/hbqt/qtgui/QBoxLayout.cpp
  * harbour/contrib/hbqt/qtgui/QBrush.cpp
  * harbour/contrib/hbqt/qtgui/QButtonGroup.cpp
  * harbour/contrib/hbqt/qtgui/QCalendarWidget.cpp
  * harbour/contrib/hbqt/qtgui/QCheckBox.cpp
  * harbour/contrib/hbqt/qtgui/QClipboard.cpp
  * harbour/contrib/hbqt/qtgui/QColor.cpp
  * harbour/contrib/hbqt/qtgui/QColorDialog.cpp
  * harbour/contrib/hbqt/qtgui/QComboBox.cpp
  * harbour/contrib/hbqt/qtgui/QCommandLinkButton.cpp
  * harbour/contrib/hbqt/qtgui/QCommonStyle.cpp
  * harbour/contrib/hbqt/qtgui/QCompleter.cpp
  * harbour/contrib/hbqt/qtgui/QConicalGradient.cpp
  * harbour/contrib/hbqt/qtgui/QContextMenuEvent.cpp
  * harbour/contrib/hbqt/qtgui/QCursor.cpp
  * harbour/contrib/hbqt/qtgui/QDateEdit.cpp
  * harbour/contrib/hbqt/qtgui/QDateTimeEdit.cpp
  * harbour/contrib/hbqt/qtgui/QDesktopWidget.cpp
  * harbour/contrib/hbqt/qtgui/QDial.cpp
  * harbour/contrib/hbqt/qtgui/QDialog.cpp
  * harbour/contrib/hbqt/qtgui/QDirModel.cpp
  * harbour/contrib/hbqt/qtgui/QDockWidget.cpp
  * harbour/contrib/hbqt/qtgui/QDoubleSpinBox.cpp
  * harbour/contrib/hbqt/qtgui/QDragEnterEvent.cpp
  * harbour/contrib/hbqt/qtgui/QDragLeaveEvent.cpp
  * harbour/contrib/hbqt/qtgui/QDragMoveEvent.cpp
  * harbour/contrib/hbqt/qtgui/QDropEvent.cpp
  * harbour/contrib/hbqt/qtgui/QErrorMessage.cpp
  * harbour/contrib/hbqt/qtgui/QFileDialog.cpp
  * harbour/contrib/hbqt/qtgui/QFileIconProvider.cpp
  * harbour/contrib/hbqt/qtgui/QFileSystemModel.cpp
  * harbour/contrib/hbqt/qtgui/QFocusEvent.cpp
  * harbour/contrib/hbqt/qtgui/QFocusFrame.cpp
  * harbour/contrib/hbqt/qtgui/QFont.cpp
  * harbour/contrib/hbqt/qtgui/QFontComboBox.cpp
  * harbour/contrib/hbqt/qtgui/QFontDatabase.cpp
  * harbour/contrib/hbqt/qtgui/QFontDialog.cpp
  * harbour/contrib/hbqt/qtgui/QFontInfo.cpp
  * harbour/contrib/hbqt/qtgui/QFontMetrics.cpp
  * harbour/contrib/hbqt/qtgui/QFontMetricsF.cpp
  * harbour/contrib/hbqt/qtgui/QFormLayout.cpp
  * harbour/contrib/hbqt/qtgui/QFrame.cpp
  * harbour/contrib/hbqt/qtgui/QGradient.cpp
  * harbour/contrib/hbqt/qtgui/QGridLayout.cpp
  * harbour/contrib/hbqt/qtgui/QGroupBox.cpp
  * harbour/contrib/hbqt/qtgui/QHBoxLayout.cpp
  * harbour/contrib/hbqt/qtgui/QHeaderView.cpp
  * harbour/contrib/hbqt/qtgui/QHelpEvent.cpp
  * harbour/contrib/hbqt/qtgui/QIcon.cpp
  * harbour/contrib/hbqt/qtgui/QImage.cpp
  * harbour/contrib/hbqt/qtgui/QImageReader.cpp
  * harbour/contrib/hbqt/qtgui/QImageWriter.cpp
  * harbour/contrib/hbqt/qtgui/QInputContext.cpp
  * harbour/contrib/hbqt/qtgui/QInputDialog.cpp
  * harbour/contrib/hbqt/qtgui/QInputEvent.cpp
  * harbour/contrib/hbqt/qtgui/QInputMethodEvent.cpp
  * harbour/contrib/hbqt/qtgui/QItemSelection.cpp
  * harbour/contrib/hbqt/qtgui/QItemSelectionModel.cpp
  * harbour/contrib/hbqt/qtgui/QKeyEvent.cpp
  * harbour/contrib/hbqt/qtgui/QKeySequence.cpp
  * harbour/contrib/hbqt/qtgui/QLabel.cpp
  * harbour/contrib/hbqt/qtgui/QLayout.cpp
  * harbour/contrib/hbqt/qtgui/QLayoutItem.cpp
  * harbour/contrib/hbqt/qtgui/QLCDNumber.cpp
  * harbour/contrib/hbqt/qtgui/QLinearGradient.cpp
  * harbour/contrib/hbqt/qtgui/QLineEdit.cpp
  * harbour/contrib/hbqt/qtgui/QListView.cpp
  * harbour/contrib/hbqt/qtgui/QListWidget.cpp
  * harbour/contrib/hbqt/qtgui/QListWidgetItem.cpp
  * harbour/contrib/hbqt/qtgui/QMainWindow.cpp
  * harbour/contrib/hbqt/qtgui/QMatrix.cpp
  * harbour/contrib/hbqt/qtgui/QMenu.cpp
  * harbour/contrib/hbqt/qtgui/QMenuBar.cpp
  * harbour/contrib/hbqt/qtgui/QMessageBox.cpp
  * harbour/contrib/hbqt/qtgui/QMouseEvent.cpp
  * harbour/contrib/hbqt/qtgui/QMoveEvent.cpp
  * harbour/contrib/hbqt/qtgui/QMovie.cpp
  * harbour/contrib/hbqt/qtgui/QPageSetupDialog.cpp
  * harbour/contrib/hbqt/qtgui/QPaintDevice.cpp
  * harbour/contrib/hbqt/qtgui/QPainter.cpp
  * harbour/contrib/hbqt/qtgui/QPainterPath.cpp
  * harbour/contrib/hbqt/qtgui/QPaintEvent.cpp
  * harbour/contrib/hbqt/qtgui/QPalette.cpp
  * harbour/contrib/hbqt/qtgui/QPen.cpp
  * harbour/contrib/hbqt/qtgui/QPicture.cpp
  * harbour/contrib/hbqt/qtgui/QPixmap.cpp
  * harbour/contrib/hbqt/qtgui/QPolygon.cpp
  * harbour/contrib/hbqt/qtgui/QPolygonF.cpp
  * harbour/contrib/hbqt/qtgui/QPrintDialog.cpp
  * harbour/contrib/hbqt/qtgui/QPrintEngine.cpp
  * harbour/contrib/hbqt/qtgui/QPrinter.cpp
  * harbour/contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
  * harbour/contrib/hbqt/qtgui/QProgressBar.cpp
  * harbour/contrib/hbqt/qtgui/QProgressDialog.cpp
  * harbour/contrib/hbqt/qtgui/QPushButton.cpp
  * harbour/contrib/hbqt/qtgui/QRadialGradient.cpp
  * harbour/contrib/hbqt/qtgui/QRadioButton.cpp
  * harbour/contrib/hbqt/qtgui/QRegion.cpp
  * harbour/contrib/hbqt/qtgui/QResizeEvent.cpp
  * harbour/contrib/hbqt/qtgui/QScrollArea.cpp
  * harbour/contrib/hbqt/qtgui/QScrollBar.cpp
  * harbour/contrib/hbqt/qtgui/QSessionManager.cpp
  * harbour/contrib/hbqt/qtgui/QSizeGrip.cpp
  * harbour/contrib/hbqt/qtgui/QSizePolicy.cpp
  * harbour/contrib/hbqt/qtgui/QSlider.cpp
  * harbour/contrib/hbqt/qtgui/QSound.cpp
  * harbour/contrib/hbqt/qtgui/QSpacerItem.cpp
  * harbour/contrib/hbqt/qtgui/QSpinBox.cpp
  * harbour/contrib/hbqt/qtgui/QSplashScreen.cpp
  * harbour/contrib/hbqt/qtgui/QSplitter.cpp
  * harbour/contrib/hbqt/qtgui/QStandardItem.cpp
  * harbour/contrib/hbqt/qtgui/QStandardItemModel.cpp
  * harbour/contrib/hbqt/qtgui/QStatusBar.cpp
  * harbour/contrib/hbqt/qtgui/QStringListModel.cpp
  * harbour/contrib/hbqt/qtgui/QStyle.cpp
  * harbour/contrib/hbqt/qtgui/QStyledItemDelegate.cpp
  * harbour/contrib/hbqt/qtgui/QStyleFactory.cpp
  * harbour/contrib/hbqt/qtgui/QStyleHintReturn.cpp
  * harbour/contrib/hbqt/qtgui/QStyleHintReturnMask.cpp
  * harbour/contrib/hbqt/qtgui/QStyleHintReturnVariant.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOption.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionButton.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionComplex.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionFrame.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionHeader.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionSlider.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionTab.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
  * harbour/contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
  * harbour/contrib/hbqt/qtgui/QStylePainter.cpp
  * harbour/contrib/hbqt/qtgui/QSyntaxHighlighter.cpp
  * harbour/contrib/hbqt/qtgui/QSystemTrayIcon.cpp
  * harbour/contrib/hbqt/qtgui/QTabBar.cpp
  * harbour/contrib/hbqt/qtgui/QTableView.cpp
  * harbour/contrib/hbqt/qtgui/QTableWidget.cpp
  * harbour/contrib/hbqt/qtgui/QTableWidgetItem.cpp
  * harbour/contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
  * harbour/contrib/hbqt/qtgui/QTabWidget.cpp
  * harbour/contrib/hbqt/qtgui/QTextBlock.cpp
  * harbour/contrib/hbqt/qtgui/QTextBlockFormat.cpp
  * harbour/contrib/hbqt/qtgui/QTextBlockGroup.cpp
  * harbour/contrib/hbqt/qtgui/QTextBrowser.cpp
  * harbour/contrib/hbqt/qtgui/QTextCharFormat.cpp
  * harbour/contrib/hbqt/qtgui/QTextCursor.cpp
  * harbour/contrib/hbqt/qtgui/QTextDocument.cpp
  * harbour/contrib/hbqt/qtgui/QTextDocumentFragment.cpp
  * harbour/contrib/hbqt/qtgui/QTextDocumentWriter.cpp
  * harbour/contrib/hbqt/qtgui/QTextEdit.cpp
  * harbour/contrib/hbqt/qtgui/QTextFormat.cpp
  * harbour/contrib/hbqt/qtgui/QTextFragment.cpp
  * harbour/contrib/hbqt/qtgui/QTextFrame.cpp
  * harbour/contrib/hbqt/qtgui/QTextFrameFormat.cpp
  * harbour/contrib/hbqt/qtgui/QTextImageFormat.cpp
  * harbour/contrib/hbqt/qtgui/QTextInlineObject.cpp
  * harbour/contrib/hbqt/qtgui/QTextItem.cpp
  * harbour/contrib/hbqt/qtgui/QTextLayout.cpp
  * harbour/contrib/hbqt/qtgui/QTextLength.cpp
  * harbour/contrib/hbqt/qtgui/QTextLine.cpp
  * harbour/contrib/hbqt/qtgui/QTextListFormat.cpp
  * harbour/contrib/hbqt/qtgui/QTextObject.cpp
  * harbour/contrib/hbqt/qtgui/QTextOption.cpp
  * harbour/contrib/hbqt/qtgui/QTextTableFormat.cpp
  * harbour/contrib/hbqt/qtgui/QTimeEdit.cpp
  * harbour/contrib/hbqt/qtgui/QToolBar.cpp
  * harbour/contrib/hbqt/qtgui/QToolBox.cpp
  * harbour/contrib/hbqt/qtgui/QToolButton.cpp
  * harbour/contrib/hbqt/qtgui/QTransform.cpp
  * harbour/contrib/hbqt/qtgui/QTreeView.cpp
  * harbour/contrib/hbqt/qtgui/QTreeWidget.cpp
  * harbour/contrib/hbqt/qtgui/QTreeWidgetItem.cpp
  * harbour/contrib/hbqt/qtgui/QValidator.cpp
  * harbour/contrib/hbqt/qtgui/QVBoxLayout.cpp
  * harbour/contrib/hbqt/qtgui/QWheelEvent.cpp
  * harbour/contrib/hbqt/qtgui/QWidget.cpp
  * harbour/contrib/hbqt/qtgui/QWidgetAction.cpp
  * harbour/contrib/hbqt/qtgui/QWidgetItem.cpp
  * harbour/contrib/hbqt/qtgui/QWindowsStyle.cpp
  * harbour/contrib/hbqt/qtgui/QWindowsXPStyle.cpp
  * harbour/contrib/hbqt/qtgui/QWizard.cpp
  * harbour/contrib/hbqt/qtgui/QWizardPage.cpp
  * harbour/contrib/hbqt/qtgui/TQAbstractButton.prg
  * harbour/contrib/hbqt/qtgui/TQAbstractItemDelegate.prg
  * harbour/contrib/hbqt/qtgui/TQAbstractItemView.prg
  * harbour/contrib/hbqt/qtgui/TQAbstractPrintDialog.prg
  * harbour/contrib/hbqt/qtgui/TQAbstractProxyModel.prg
  * harbour/contrib/hbqt/qtgui/TQAbstractScrollArea.prg
  * harbour/contrib/hbqt/qtgui/TQAbstractSlider.prg
  * harbour/contrib/hbqt/qtgui/TQAbstractSpinBox.prg
  * harbour/contrib/hbqt/qtgui/TQAbstractTextDocumentLayout.prg
  * harbour/contrib/hbqt/qtgui/TQAction.prg
  * harbour/contrib/hbqt/qtgui/TQActionGroup.prg
  * harbour/contrib/hbqt/qtgui/TQApplication.prg
  * harbour/contrib/hbqt/qtgui/TQBitmap.prg
  * harbour/contrib/hbqt/qtgui/TQBoxLayout.prg
  * harbour/contrib/hbqt/qtgui/TQBrush.prg
  * harbour/contrib/hbqt/qtgui/TQButtonGroup.prg
  * harbour/contrib/hbqt/qtgui/TQCalendarWidget.prg
  * harbour/contrib/hbqt/qtgui/TQCheckBox.prg
  * harbour/contrib/hbqt/qtgui/TQClipboard.prg
  * harbour/contrib/hbqt/qtgui/TQColor.prg
  * harbour/contrib/hbqt/qtgui/TQColorDialog.prg
  * harbour/contrib/hbqt/qtgui/TQComboBox.prg
  * harbour/contrib/hbqt/qtgui/TQCommandLinkButton.prg
  * harbour/contrib/hbqt/qtgui/TQCommonStyle.prg
  * harbour/contrib/hbqt/qtgui/TQCompleter.prg
  * harbour/contrib/hbqt/qtgui/TQConicalGradient.prg
  * harbour/contrib/hbqt/qtgui/TQContextMenuEvent.prg
  * harbour/contrib/hbqt/qtgui/TQCursor.prg
  * harbour/contrib/hbqt/qtgui/TQDateEdit.prg
  * harbour/contrib/hbqt/qtgui/TQDateTimeEdit.prg
  * harbour/contrib/hbqt/qtgui/TQDesktopWidget.prg
  * harbour/contrib/hbqt/qtgui/TQDial.prg
  * harbour/contrib/hbqt/qtgui/TQDialog.prg
  * harbour/contrib/hbqt/qtgui/TQDirModel.prg
  * harbour/contrib/hbqt/qtgui/TQDockWidget.prg
  * harbour/contrib/hbqt/qtgui/TQDoubleSpinBox.prg
  * harbour/contrib/hbqt/qtgui/TQDragEnterEvent.prg
  * harbour/contrib/hbqt/qtgui/TQDragLeaveEvent.prg
  * harbour/contrib/hbqt/qtgui/TQDragMoveEvent.prg
  * harbour/contrib/hbqt/qtgui/TQDropEvent.prg
  * harbour/contrib/hbqt/qtgui/TQErrorMessage.prg
  * harbour/contrib/hbqt/qtgui/TQFileDialog.prg
  * harbour/contrib/hbqt/qtgui/TQFileIconProvider.prg
  * harbour/contrib/hbqt/qtgui/TQFileSystemModel.prg
  * harbour/contrib/hbqt/qtgui/TQFocusEvent.prg
  * harbour/contrib/hbqt/qtgui/TQFocusFrame.prg
  * harbour/contrib/hbqt/qtgui/TQFont.prg
  * harbour/contrib/hbqt/qtgui/TQFontComboBox.prg
  * harbour/contrib/hbqt/qtgui/TQFontDatabase.prg
  * harbour/contrib/hbqt/qtgui/TQFontDialog.prg
  * harbour/contrib/hbqt/qtgui/TQFontInfo.prg
  * harbour/contrib/hbqt/qtgui/TQFontMetrics.prg
  * harbour/contrib/hbqt/qtgui/TQFontMetricsF.prg
  * harbour/contrib/hbqt/qtgui/TQFormLayout.prg
  * harbour/contrib/hbqt/qtgui/TQFrame.prg
  * harbour/contrib/hbqt/qtgui/TQGradient.prg
  * harbour/contrib/hbqt/qtgui/TQGridLayout.prg
  * harbour/contrib/hbqt/qtgui/TQGroupBox.prg
  * harbour/contrib/hbqt/qtgui/TQHBoxLayout.prg
  * harbour/contrib/hbqt/qtgui/TQHeaderView.prg
  * harbour/contrib/hbqt/qtgui/TQHelpEvent.prg
  * harbour/contrib/hbqt/qtgui/TQIcon.prg
  * harbour/contrib/hbqt/qtgui/TQImage.prg
  * harbour/contrib/hbqt/qtgui/TQImageReader.prg
  * harbour/contrib/hbqt/qtgui/TQImageWriter.prg
  * harbour/contrib/hbqt/qtgui/TQInputContext.prg
  * harbour/contrib/hbqt/qtgui/TQInputDialog.prg
  * harbour/contrib/hbqt/qtgui/TQInputEvent.prg
  * harbour/contrib/hbqt/qtgui/TQInputMethodEvent.prg
  * harbour/contrib/hbqt/qtgui/TQItemSelection.prg
  * harbour/contrib/hbqt/qtgui/TQItemSelectionModel.prg
  * harbour/contrib/hbqt/qtgui/TQKeyEvent.prg
  * harbour/contrib/hbqt/qtgui/TQKeySequence.prg
  * harbour/contrib/hbqt/qtgui/TQLabel.prg
  * harbour/contrib/hbqt/qtgui/TQLayout.prg
  * harbour/contrib/hbqt/qtgui/TQLayoutItem.prg
  * harbour/contrib/hbqt/qtgui/TQLCDNumber.prg
  * harbour/contrib/hbqt/qtgui/TQLinearGradient.prg
  * harbour/contrib/hbqt/qtgui/TQLineEdit.prg
  * harbour/contrib/hbqt/qtgui/TQListView.prg
  * harbour/contrib/hbqt/qtgui/TQListWidget.prg
  * harbour/contrib/hbqt/qtgui/TQListWidgetItem.prg
  * harbour/contrib/hbqt/qtgui/TQMainWindow.prg
  * harbour/contrib/hbqt/qtgui/TQMatrix.prg
  * harbour/contrib/hbqt/qtgui/TQMenu.prg
  * harbour/contrib/hbqt/qtgui/TQMenuBar.prg
  * harbour/contrib/hbqt/qtgui/TQMessageBox.prg
  * harbour/contrib/hbqt/qtgui/TQMouseEvent.prg
  * harbour/contrib/hbqt/qtgui/TQMoveEvent.prg
  * harbour/contrib/hbqt/qtgui/TQMovie.prg
  * harbour/contrib/hbqt/qtgui/TQPageSetupDialog.prg
  * harbour/contrib/hbqt/qtgui/TQPaintDevice.prg
  * harbour/contrib/hbqt/qtgui/TQPainter.prg
  * harbour/contrib/hbqt/qtgui/TQPainterPath.prg
  * harbour/contrib/hbqt/qtgui/TQPaintEvent.prg
  * harbour/contrib/hbqt/qtgui/TQPalette.prg
  * harbour/contrib/hbqt/qtgui/TQPen.prg
  * harbour/contrib/hbqt/qtgui/TQPicture.prg
  * harbour/contrib/hbqt/qtgui/TQPixmap.prg
  * harbour/contrib/hbqt/qtgui/TQPolygon.prg
  * harbour/contrib/hbqt/qtgui/TQPolygonF.prg
  * harbour/contrib/hbqt/qtgui/TQPrintDialog.prg
  * harbour/contrib/hbqt/qtgui/TQPrintEngine.prg
  * harbour/contrib/hbqt/qtgui/TQPrinter.prg
  * harbour/contrib/hbqt/qtgui/TQPrintPreviewDialog.prg
  * harbour/contrib/hbqt/qtgui/TQProgressBar.prg
  * harbour/contrib/hbqt/qtgui/TQProgressDialog.prg
  * harbour/contrib/hbqt/qtgui/TQPushButton.prg
  * harbour/contrib/hbqt/qtgui/TQRadialGradient.prg
  * harbour/contrib/hbqt/qtgui/TQRadioButton.prg
  * harbour/contrib/hbqt/qtgui/TQRegion.prg
  * harbour/contrib/hbqt/qtgui/TQResizeEvent.prg
  * harbour/contrib/hbqt/qtgui/TQScrollArea.prg
  * harbour/contrib/hbqt/qtgui/TQScrollBar.prg
  * harbour/contrib/hbqt/qtgui/TQSessionManager.prg
  * harbour/contrib/hbqt/qtgui/TQSizeGrip.prg
  * harbour/contrib/hbqt/qtgui/TQSizePolicy.prg
  * harbour/contrib/hbqt/qtgui/TQSlider.prg
  * harbour/contrib/hbqt/qtgui/TQSound.prg
  * harbour/contrib/hbqt/qtgui/TQSpacerItem.prg
  * harbour/contrib/hbqt/qtgui/TQSpinBox.prg
  * harbour/contrib/hbqt/qtgui/TQSplashScreen.prg
  * harbour/contrib/hbqt/qtgui/TQSplitter.prg
  * harbour/contrib/hbqt/qtgui/TQStandardItem.prg
  * harbour/contrib/hbqt/qtgui/TQStandardItemModel.prg
  * harbour/contrib/hbqt/qtgui/TQStatusBar.prg
  * harbour/contrib/hbqt/qtgui/TQStringListModel.prg
  * harbour/contrib/hbqt/qtgui/TQStyle.prg
  * harbour/contrib/hbqt/qtgui/TQStyledItemDelegate.prg
  * harbour/contrib/hbqt/qtgui/TQStyleFactory.prg
  * harbour/contrib/hbqt/qtgui/TQStyleHintReturn.prg
  * harbour/contrib/hbqt/qtgui/TQStyleHintReturnMask.prg
  * harbour/contrib/hbqt/qtgui/TQStyleHintReturnVariant.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOption.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionButton.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionComboBox.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionComplex.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionDockWidget.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionFocusRect.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionFrame.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionGroupBox.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionHeader.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionMenuItem.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionProgressBar.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionSizeGrip.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionSlider.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionSpinBox.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionTab.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionTabBarBase.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionTabWidgetFrame.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionTitleBar.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionToolBar.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionToolBox.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionToolButton.prg
  * harbour/contrib/hbqt/qtgui/TQStyleOptionViewItem.prg
  * harbour/contrib/hbqt/qtgui/TQStylePainter.prg
  * harbour/contrib/hbqt/qtgui/TQSyntaxHighlighter.prg
  * harbour/contrib/hbqt/qtgui/TQSystemTrayIcon.prg
  * harbour/contrib/hbqt/qtgui/TQTabBar.prg
  * harbour/contrib/hbqt/qtgui/TQTableView.prg
  * harbour/contrib/hbqt/qtgui/TQTableWidget.prg
  * harbour/contrib/hbqt/qtgui/TQTableWidgetItem.prg
  * harbour/contrib/hbqt/qtgui/TQTableWidgetSelectionRange.prg
  * harbour/contrib/hbqt/qtgui/TQTabWidget.prg
  * harbour/contrib/hbqt/qtgui/TQTextBlock.prg
  * harbour/contrib/hbqt/qtgui/TQTextBlockFormat.prg
  * harbour/contrib/hbqt/qtgui/TQTextBlockGroup.prg
  * harbour/contrib/hbqt/qtgui/TQTextBrowser.prg
  * harbour/contrib/hbqt/qtgui/TQTextCharFormat.prg
  * harbour/contrib/hbqt/qtgui/TQTextCursor.prg
  * harbour/contrib/hbqt/qtgui/TQTextDocument.prg
  * harbour/contrib/hbqt/qtgui/TQTextDocumentFragment.prg
  * harbour/contrib/hbqt/qtgui/TQTextDocumentWriter.prg
  * harbour/contrib/hbqt/qtgui/TQTextEdit.prg
  * harbour/contrib/hbqt/qtgui/TQTextFormat.prg
  * harbour/contrib/hbqt/qtgui/TQTextFragment.prg
  * harbour/contrib/hbqt/qtgui/TQTextFrame.prg
  * harbour/contrib/hbqt/qtgui/TQTextFrameFormat.prg
  * harbour/contrib/hbqt/qtgui/TQTextImageFormat.prg
  * harbour/contrib/hbqt/qtgui/TQTextInlineObject.prg
  * harbour/contrib/hbqt/qtgui/TQTextItem.prg
  * harbour/contrib/hbqt/qtgui/TQTextLayout.prg
  * harbour/contrib/hbqt/qtgui/TQTextLength.prg
  * harbour/contrib/hbqt/qtgui/TQTextLine.prg
  * harbour/contrib/hbqt/qtgui/TQTextListFormat.prg
  * harbour/contrib/hbqt/qtgui/TQTextObject.prg
  * harbour/contrib/hbqt/qtgui/TQTextOption.prg
  * harbour/contrib/hbqt/qtgui/TQTextTableFormat.prg
  * harbour/contrib/hbqt/qtgui/TQTimeEdit.prg
  * harbour/contrib/hbqt/qtgui/TQToolBar.prg
  * harbour/contrib/hbqt/qtgui/TQToolBox.prg
  * harbour/contrib/hbqt/qtgui/TQToolButton.prg
  * harbour/contrib/hbqt/qtgui/TQTransform.prg
  * harbour/contrib/hbqt/qtgui/TQTreeView.prg
  * harbour/contrib/hbqt/qtgui/TQTreeWidget.prg
  * harbour/contrib/hbqt/qtgui/TQTreeWidgetItem.prg
  * harbour/contrib/hbqt/qtgui/TQValidator.prg
  * harbour/contrib/hbqt/qtgui/TQVBoxLayout.prg
  * harbour/contrib/hbqt/qtgui/TQWheelEvent.prg
  * harbour/contrib/hbqt/qtgui/TQWidget.prg
  * harbour/contrib/hbqt/qtgui/TQWidgetAction.prg
  * harbour/contrib/hbqt/qtgui/TQWidgetItem.prg
  * harbour/contrib/hbqt/qtgui/TQWindowsStyle.prg
  * harbour/contrib/hbqt/qtgui/TQWindowsXPStyle.prg
  * harbour/contrib/hbqt/qtgui/TQWizard.prg
  * harbour/contrib/hbqt/qtgui/TQWizardPage.prg

  * harbour/contrib/hbqt/qtnetwork/filelist.mk
  * harbour/contrib/hbqt/qtnetwork/QFtp.cpp
  * harbour/contrib/hbqt/qtnetwork/QHttp.cpp
  * harbour/contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
  * harbour/contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
  * harbour/contrib/hbqt/qtnetwork/QNetworkRequest.cpp
  * harbour/contrib/hbqt/qtnetwork/TQFtp.prg
  * harbour/contrib/hbqt/qtnetwork/TQHttp.prg
  * harbour/contrib/hbqt/qtnetwork/TQHttpRequestHeader.prg
  * harbour/contrib/hbqt/qtnetwork/TQHttpResponseHeader.prg
  * harbour/contrib/hbqt/qtnetwork/TQNetworkRequest.prg

  * harbour/contrib/hbqt/qtwebkit/filelist.mk
  * harbour/contrib/hbqt/qtwebkit/Makefile
  * harbour/contrib/hbqt/qtwebkit/QWebFrame.cpp
  * harbour/contrib/hbqt/qtwebkit/QWebHistory.cpp
  * harbour/contrib/hbqt/qtwebkit/QWebHistoryInterface.cpp
  * harbour/contrib/hbqt/qtwebkit/QWebHistoryItem.cpp
  * harbour/contrib/hbqt/qtwebkit/QWebHitTestResult.cpp
  * harbour/contrib/hbqt/qtwebkit/QWebPage.cpp
  * harbour/contrib/hbqt/qtwebkit/QWebPluginFactory.cpp
  * harbour/contrib/hbqt/qtwebkit/QWebSecurityOrigin.cpp
  * harbour/contrib/hbqt/qtwebkit/QWebSettings.cpp
  * harbour/contrib/hbqt/qtwebkit/QWebView.cpp
  * harbour/contrib/hbqt/qtwebkit/TQWebFrame.prg
  * harbour/contrib/hbqt/qtwebkit/TQWebHistory.prg
  * harbour/contrib/hbqt/qtwebkit/TQWebHistoryInterface.prg
  * harbour/contrib/hbqt/qtwebkit/TQWebHistoryItem.prg
  * harbour/contrib/hbqt/qtwebkit/TQWebHitTestResult.prg
  * harbour/contrib/hbqt/qtwebkit/TQWebPage.prg
  * harbour/contrib/hbqt/qtwebkit/TQWebPluginFactory.prg
  * harbour/contrib/hbqt/qtwebkit/TQWebSecurityOrigin.prg
  * harbour/contrib/hbqt/qtwebkit/TQWebSettings.prg
  * harbour/contrib/hbqt/qtwebkit/TQWebView.prg

  * harbour/contrib/hbqt/tests/demoqt.prg

     * Changed, the QObjects release methods to have the possibility to select
       between: delete operator or object destructor or deleteLater() slot. 
     + Added a new prg level HbQt_Set_Release_Method() to select between:
       #define HBQT_RELEASE_WITH_DELETE                   0
       #define HBQT_RELEASE_WITH_DESTRUTOR                1
       #define HBQT_RELEASE_WITH_DELETE_LATER             2
     ; In demoqt.prg there is a sample how to select the release method.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/generator/hbqtgen.prg
    trunk/harbour/contrib/hbqt/hbqt.ch
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbqt/hbqt_garbage.h
    trunk/harbour/contrib/hbqt/qtcore/QBitArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QByteArray.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDataStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDate.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDateTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QDir.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEvent.cpp
    trunk/harbour/contrib/hbqt/qtcore/QEventLoop.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFile.cpp
    trunk/harbour/contrib/hbqt/qtcore/QFileInfo.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1Char.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLatin1String.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLine.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLineF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QLocale.cpp
    trunk/harbour/contrib/hbqt/qtcore/QMimeData.cpp
    trunk/harbour/contrib/hbqt/qtcore/QModelIndex.cpp
    trunk/harbour/contrib/hbqt/qtcore/QObject.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPoint.cpp
    trunk/harbour/contrib/hbqt/qtcore/QPointF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QProcess.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRect.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRectF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QRegExp.cpp
    trunk/harbour/contrib/hbqt/qtcore/QResource.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSignalMapper.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSize.cpp
    trunk/harbour/contrib/hbqt/qtcore/QSizeF.cpp
    trunk/harbour/contrib/hbqt/qtcore/QStringList.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextBoundaryFinder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextDecoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextEncoder.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTextStream.cpp
    trunk/harbour/contrib/hbqt/qtcore/QThread.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTime.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTimer.cpp
    trunk/harbour/contrib/hbqt/qtcore/QTranslator.cpp
    trunk/harbour/contrib/hbqt/qtcore/QUrl.cpp
    trunk/harbour/contrib/hbqt/qtcore/QVariant.cpp
    trunk/harbour/contrib/hbqt/qtgui/QAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QActionGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QApplication.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBitmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QBrush.cpp
    trunk/harbour/contrib/hbqt/qtgui/QButtonGroup.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCalendarWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCheckBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QColorDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommandLinkButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCommonStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCompleter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QConicalGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QContextMenuEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDateTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDesktopWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDial.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDirModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QDoubleSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QErrorMessage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileIconProvider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFileSystemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFocusFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFont.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDatabase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontInfo.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetrics.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFontMetricsF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFormLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGridLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QHeaderView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImage.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageReader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QImageWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QInputMethodEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelection.cpp
    trunk/harbour/contrib/hbqt/qtgui/QItemSelectionModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QKeySequence.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLCDNumber.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLabel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLineEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QLinearGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QListWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMainWindow.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMatrix.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenu.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMenuBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMessageBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMouseEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QMovie.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPageSetupDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPaintEvent.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPainterPath.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPalette.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPicture.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPixmap.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPolygonF.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrintPreviewDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPrinter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QProgressDialog.cpp
    trunk/harbour/contrib/hbqt/qtgui/QPushButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadialGradient.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRadioButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QRegion.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollArea.cpp
    trunk/harbour/contrib/hbqt/qtgui/QScrollBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSizePolicy.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSound.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpacerItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplashScreen.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSplitter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStandardItemModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStatusBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStringListModel.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleFactory.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComboBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionComplex.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionDockWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFocusRect.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionGroupBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionHeader.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionMenuItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionProgressBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSizeGrip.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSlider.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionSpinBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTab.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabBarBase.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTabWidgetFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionTitleBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyleOptionViewItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStylePainter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QStyledItemDelegate.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSyntaxHighlighter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QSystemTrayIcon.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTabWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTableWidgetSelectionRange.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlock.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBlockFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextBrowser.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCharFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextCursor.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocument.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextDocumentWriter.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFragment.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrame.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextFrameFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextImageFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLength.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextLine.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextListFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextOption.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTextTableFormat.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTimeEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBar.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolBox.cpp
    trunk/harbour/contrib/hbqt/qtgui/QToolButton.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTransform.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeView.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QTreeWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QVBoxLayout.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidget.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetAction.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWidgetItem.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWindowsStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWindowsXPStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizard.cpp
    trunk/harbour/contrib/hbqt/qtgui/QWizardPage.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QFtp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttp.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpRequestHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QHttpResponseHeader.cpp
    trunk/harbour/contrib/hbqt/qtnetwork/QNetworkRequest.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebHistoryItem.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebHitTestResult.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebPage.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebSecurityOrigin.cpp
    trunk/harbour/contrib/hbqt/qtwebkit/QWebView.cpp
    trunk/harbour/contrib/hbqt/tests/demoqt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From m.lacecilia at gmail.com  Wed Nov 18 13:48:53 2009
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Wed Nov 18 13:49:01 2009
Subject: [Harbour] hbformat, Where is the error?
In-Reply-To: <133778360911180916h3257f09eu95334e49deebe17b@mail.gmail.com>
References: <4B0412E6.6070408@ec-red.com>
	<!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAD6fXoPyYqdOscYyBgKu9FYBAAAAAA==@gmail.com>
	<133778360911180916h3257f09eu95334e49deebe17b@mail.gmail.com>
Message-ID: <26413489.post@talk.nabble.com>


You are right.
Because of this i posted about hbformat integration with xMate formatter
features in hbIDE project.
The Harbour's universe is very large and a lot of commands and functions
could be found in Harbour sources, depending from the used libraries.
xMate solves this problem in a very effective fashion allowing high
configurability of keywords and formatting styles.
Best regards.
Maurizio


Bruno Luciani wrote:
> 
> Maurizio , I just Try HBformat ina a mix PRG
> 
> Harbour + OOHG ( minigui )
> 
> and giveme an error on line 38
> 
> Reformatting factura.prg
> <.........
> Error          3 on line         38 : END BROWSE
> 
> But appears to be reformated ok
> 
> Its posible ?  I think that Hbformat reformat ok but not recognizes an
> oohg
> command
> 
> I am right ?
> 
> Bruno
> 
> 
> 
> 2009/11/18 Maurizio la Cecilia <m.lacecilia@gmail.com>
> 
>> No errors in your code.
>>
> 
> 
>>
>> The problem is the:
>>
>> IF <condition>  ; <code>
>>
>> This format is not handled by hbformat.
>> Avoiding the ; and splitting as usual into multiple lines does the job.
>> Anyway, a thing to signal to Alex Kresin.
>> Best regards.
>>
>> Maurizio la Cecilia
>>
>>
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://old.nabble.com/hbformat%2C-Where-is-the-error--tp26409889p26413489.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Nov 18 13:55:39 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Nov 18 13:55:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12928] trunk/harbour
In-Reply-To: <E1NApFU-0002AV-NY@dn4whf1.ch3.sourceforge.com>
References: <E1NApFU-0002AV-NY@dn4whf1.ch3.sourceforge.com>
Message-ID: <26413571.post@talk.nabble.com>


Hello Istvan


ibisz wrote:
> 
> Revision: 12928
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12928&view=rev
> Author:   ibisz
> Date:     2009-11-18 18:27:21 +0000 (Wed, 18 Nov 2009)
> 

This commit paves the way to debug which type of delete proto we are to
stick with.
Really nice thinking.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12928--trunk-harbour-tp26413138p26413571.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Nov 18 13:59:16 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Nov 18 13:59:23 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <133778360911180359p5df63ed9o771f31873260ecc5@mail.gmail.com>
References: <26379927.post@talk.nabble.com> <hduuea$ct4$1@ger.gmane.org>
	<609353e70911171228y52ae1012sfe862cda3c5beebf@mail.gmail.com>
	<hdv2f8$rvl$1@ger.gmane.org>
	<609353e70911171303r11f3b04m1b375d8ae49a917f@mail.gmail.com>
	<hdv5q2$79d$1@ger.gmane.org>
	<609353e70911171401x560299c8x62c8f131c96f209e@mail.gmail.com>
	<133778360911180359p5df63ed9o771f31873260ecc5@mail.gmail.com>
Message-ID: <26413630.post@talk.nabble.com>


Hello Bruno


Bruno Luciani wrote:
> 
> Massimo, the project is in stan-by until HBQT stabilizes
> 
> a lot of changes of HBQT produces that hbqtcommand not work correctly
> 
> When HBQT is working ok we will continue development
> 

Whaere do get an idea that HBQT is "not" stable?

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HBIDE---An-Overview-tp26379927p26413630.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Nov 18 14:03:48 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 18 14:04:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12924] trunk/harbour
In-Reply-To: <20091118171446.GA4864@34-mo7-2.home.aster.pl>
References: <E1NAm9n-00041S-Vz@74yxhf1.ch3.sourceforge.com>
	<20091118171446.GA4864@34-mo7-2.home.aster.pl>
Message-ID: <03BBCDC0-C48C-4A68-9729-84F25262C74B@syenar.hu>

Sorry, I believed HB_ERRCODE is already being used 
in RDD, since it was introduced just for it.

I wanted to verify any such remaining problems with 
the build, but that failed for other temp reason.

Brgds,
Viktor

On 2009 Nov 18, at 18:14, Przemys?aw Czerpak wrote:

> On Wed, 18 Nov 2009, vszakats@users.sourceforge.net wrote:
> 
> Hi,
> 
>> 2009-11-18 16:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * include/hbapi.h
>>    * Changed HB_ERRCODE to be 'insigned int' (was USHORT).
>>    ; You'll need to rebuild all sources.
> 
> Above completely broke RDD code due to unfinished USHORT->HB_ERRCODE
> modifications.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Wed Nov 18 14:04:05 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Nov 18 14:04:11 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <DF2BB37C-BF39-4151-9485-34BBAD6D628E@syenar.hu>
References: <26379927.post@talk.nabble.com> <26385643.post@talk.nabble.com>
	<26404961.post@talk.nabble.com>
	<DF2BB37C-BF39-4151-9485-34BBAD6D628E@syenar.hu>
Message-ID: <26413701.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> It would be quite a huge waste of effort if hbide would 
> reinvent the whole feature set of hbmk2.
> 
> IMO it should be able to create .hbp files for each project 
> on the fly (from the file lists and options set on the GUI) 
> and call hbmk2 to do this job.
> 
> Overall I think .xbp file compatibility is unimportant, 
> but of course hbide could use something similar to store 
> the file list and options. Ideally it should store these 
> in .hbp files. This will need a hbmk2 compatible option 
> parser.
> 

Viktor, you are 100% correct.
I do not plan to reinvent the wheels. I want to reuse 
hbmk2 with .hbc and .hbm formats. I will use .hbp for the native
project management scenario. Additionally I will accept .xhp 
but just one time only at the level of project definition.

I assume that hbmk2 does not have .hbp, right ?

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HBIDE---An-Overview-tp26379927p26413701.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Nov 18 14:12:45 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Nov 18 14:12:51 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <26406788.post@talk.nabble.com>
References: <26379927.post@talk.nabble.com> <26385643.post@talk.nabble.com>
	<26404961.post@talk.nabble.com>
	<DF2BB37C-BF39-4151-9485-34BBAD6D628E@syenar.hu>
	<26406788.post@talk.nabble.com>
Message-ID: <26413866.post@talk.nabble.com>


Hi


Maurizio la Cecilia wrote:
> 
> Never aimed to reuse or xbp files or preserve xbp format, but to recover
> the concept of embedded subproject. hbmk2 IS the Harbour builder and .hb*
> files are the standard format.
> The target is to have a generated hbp file capable to rebuild not only the
> source of the main project, but also the linked library declared as
> subproject, including i.e. hbc files as subprojects.
> 

Yes, this is exactly I have in my mind.
Accept .xhp on project definition level, have embedded projects inside main
project, 
rebuild all if there is a need, exactly simulating xMate but in a different
way.



> Maybe a directive to declare that the lib isn't only to be linked, but
> also to be edited and, if needed, rebuilded could do the job. hbIde could
> recognize this parameter and could allow to open also the subproject
> sources in the editor and after, at build time, assure that the lib
> declared as subprojects are parsed by hbmk2 BEFORE the build of the main
> project. This is what xMate smartly does.
> 

Agreed.



> After the growth of hbmk2 to powerful and mature tool, quite all the jobs
> of a project manager could be obtained also with a good configuration of a
> smart editor as Notepad++, but this concept is very hard to implement out
> of an integrated tool.
> 

Totally irrelevant to the topic.

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/HBIDE---An-Overview-tp26379927p26413866.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Wed Nov 18 14:16:14 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Nov 18 14:16:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12929] trunk/harbour
Message-ID: <E1NAq0k-0004xd-5g@c3vjzd1.ch3.sourceforge.com>

Revision: 12929
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12929&view=rev
Author:   druzus
Date:     2009-11-18 19:16:08 +0000 (Wed, 18 Nov 2009)

Log Message:
-----------
2009-11-18 20:15 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/strapi.c
    ! fixed return value in hb_itemCopyStr()

  * harbour/contrib/hbct/files.c
  * harbour/contrib/hbct/disk.c
    ! fixed to work with HB_ERRCODE declared as unsigned int

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/disk.c
    trunk/harbour/contrib/hbct/files.c
    trunk/harbour/src/vm/strapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Wed Nov 18 14:17:10 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Wed Nov 18 14:17:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12928] trunk/harbour
In-Reply-To: <26413571.post@talk.nabble.com>
References: <E1NApFU-0002AV-NY@dn4whf1.ch3.sourceforge.com>
	<26413571.post@talk.nabble.com>
Message-ID: <000001ca6883$ba9cc080$2fd64180$@Bisz@t-online.hu>

Hello Pritpal,

> Really nice thinking.
Thank you!

The really new element is the delayLater() integration in the analysis. This
method can be used before the first Qt event-loop starting or during a
running event loop. After the last loop has been stopped, we should switch
to the delete operator. This is the program ending case, after the
QApplication():exec() returning. The Qt engine starts a new event-loop in
each modal dialog exec() method, if it is not specified explicitly.

Best regards,
Istv?n Bisz


From druzus at acn.waw.pl  Wed Nov 18 14:17:25 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov 18 14:17:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12924] trunk/harbour
In-Reply-To: <03BBCDC0-C48C-4A68-9729-84F25262C74B@syenar.hu>
References: <E1NAm9n-00041S-Vz@74yxhf1.ch3.sourceforge.com>
	<20091118171446.GA4864@34-mo7-2.home.aster.pl>
	<03BBCDC0-C48C-4A68-9729-84F25262C74B@syenar.hu>
Message-ID: <20091118191725.GA30192@34-mo7-2.home.aster.pl>

On Wed, 18 Nov 2009, Szak?ts Viktor wrote:
> Sorry, I believed HB_ERRCODE is already being used 
> in RDD, since it was introduced just for it.

Np, it only shows how dangerous are such modifications and how many
problems they can create, I've just committed next fixes and I can
only guess that not last ones.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Nov 18 14:17:56 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 18 14:18:08 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <26413701.post@talk.nabble.com>
References: <26379927.post@talk.nabble.com> <26385643.post@talk.nabble.com>
	<26404961.post@talk.nabble.com>
	<DF2BB37C-BF39-4151-9485-34BBAD6D628E@syenar.hu>
	<26413701.post@talk.nabble.com>
Message-ID: <CBE25593-57CC-488C-901D-955B653A54BE@syenar.hu>

Hi Pritpal,

> Viktor Szak?ts wrote:
>> 
>> It would be quite a huge waste of effort if hbide would 
>> reinvent the whole feature set of hbmk2.
>> 
>> IMO it should be able to create .hbp files for each project 
>> on the fly (from the file lists and options set on the GUI) 
>> and call hbmk2 to do this job.
>> 
>> Overall I think .xbp file compatibility is unimportant, 
>> but of course hbide could use something similar to store 
>> the file list and options. Ideally it should store these 
>> in .hbp files. This will need a hbmk2 compatible option 
>> parser.
>> 
> 
> Viktor, you are 100% correct.
> I do not plan to reinvent the wheels. I want to reuse 
> hbmk2 with .hbc and .hbm formats. I will use .hbp for the native
> project management scenario. Additionally I will accept .xhp 
> but just one time only at the level of project definition.
> 
> I assume that hbmk2 does not have .hbp, right ?

I'm not sure what you mean, maybe ".hbp parser"? hbmk2 doesn't 
have an .hbp parser _API_ ATM, but it of course does have 
a parser internally. With some internal rearrangement, it's 
pbly possible to create an API call to parse an .hbp file, 
and return a structure with the full content.

[ with some limitations, f.e. in such context it's quite 
difficult to retain external references to .hbm/.hbp files 
on a save operation, but that's probably not a big problem 
overall. ]

Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Nov 18 14:19:24 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 18 14:19:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12929] trunk/harbour
In-Reply-To: <E1NAq0k-0004xd-5g@c3vjzd1.ch3.sourceforge.com>
References: <E1NAq0k-0004xd-5g@c3vjzd1.ch3.sourceforge.com>
Message-ID: <64AE4352-620C-47BF-B2B0-132AF29208A9@syenar.hu>

Thank you. There is some similar logic done in hbmzip.c code, 
pls double check it.

Brgds,
Viktor

On 2009 Nov 18, at 20:16, druzus@users.sourceforge.net wrote:

> Revision: 12929
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12929&view=rev
> Author:   druzus
> Date:     2009-11-18 19:16:08 +0000 (Wed, 18 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-18 20:15 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/vm/strapi.c
>    ! fixed return value in hb_itemCopyStr()
> 
>  * harbour/contrib/hbct/files.c
>  * harbour/contrib/hbct/disk.c
>    ! fixed to work with HB_ERRCODE declared as unsigned int
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbct/disk.c
>    trunk/harbour/contrib/hbct/files.c
>    trunk/harbour/src/vm/strapi.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Wed Nov 18 14:28:55 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Nov 18 14:29:01 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <CBE25593-57CC-488C-901D-955B653A54BE@syenar.hu>
References: <26379927.post@talk.nabble.com> <26385643.post@talk.nabble.com>
	<26404961.post@talk.nabble.com>
	<DF2BB37C-BF39-4151-9485-34BBAD6D628E@syenar.hu>
	<26413701.post@talk.nabble.com>
	<CBE25593-57CC-488C-901D-955B653A54BE@syenar.hu>
Message-ID: <26414153.post@talk.nabble.com>


Viktor 


Viktor Szak?ts wrote:
> 
> I'm not sure what you mean, maybe ".hbp parser"? hbmk2 doesn't 
> have an .hbp parser _API_ ATM, but it of course does have 
> a parser internally. With some internal rearrangement, it's 
> pbly possible to create an API call to parse an .hbp file, 
> and return a structure with the full content.
> 
> [ with some limitations, f.e. in such context it's quite 
> difficult to retain external references to .hbm/.hbp files 
> on a save operation, but that's probably not a big problem 
> overall. ]
> 

I am lost a little.

hbmk2 exploits 
 .hbc
 .hbm

I was considering retaining HBIDE settings and all allied stuff 
in .hbp extention. But by above I gathered that .hbp extention 
is already being exploited by hbmk2.

If it is not hard, can you provide some basic structure info about 
.hbc, .hbm and .hbp ( if it is in use ) ?

I plan to recreate all the files necessary to launch hbmk2 from an HBIDE
project definition.

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/HBIDE---An-Overview-tp26379927p26414153.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Wed Nov 18 14:37:19 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Nov 18 14:37:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12930] trunk/harbour
Message-ID: <E1NAqL9-0005IR-OM@c3vjzd1.ch3.sourceforge.com>

Revision: 12930
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12930&view=rev
Author:   druzus
Date:     2009-11-18 19:37:18 +0000 (Wed, 18 Nov 2009)

Log Message:
-----------
2009-11-18 20:37 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/harbour.spec
    ! fixed to build hbsms library

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/harbour.spec


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Nov 18 14:47:51 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 18 14:48:01 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <26414153.post@talk.nabble.com>
References: <26379927.post@talk.nabble.com> <26385643.post@talk.nabble.com>
	<26404961.post@talk.nabble.com>
	<DF2BB37C-BF39-4151-9485-34BBAD6D628E@syenar.hu>
	<26413701.post@talk.nabble.com>
	<CBE25593-57CC-488C-901D-955B653A54BE@syenar.hu>
	<26414153.post@talk.nabble.com>
Message-ID: <F02CF23A-2DE6-447C-8F57-4C3087034A34@syenar.hu>

> Viktor Szak?ts wrote:
>> 
>> I'm not sure what you mean, maybe ".hbp parser"? hbmk2 doesn't 
>> have an .hbp parser _API_ ATM, but it of course does have 
>> a parser internally. With some internal rearrangement, it's 
>> pbly possible to create an API call to parse an .hbp file, 
>> and return a structure with the full content.
>> 
>> [ with some limitations, f.e. in such context it's quite 
>> difficult to retain external references to .hbm/.hbp files 
>> on a save operation, but that's probably not a big problem 
>> overall. ]
>> 
> 
> I am lost a little.
> 
> hbmk2 exploits 
> .hbc
> .hbm
> 
> I was considering retaining HBIDE settings and all allied stuff 
> in .hbp extention. But by above I gathered that .hbp extention 
> is already being exploited by hbmk2.

Yes, .hbp has the same format as .hbm, but it's used to denote 
a project. If you pass multiple .hbp files to hbmk2, it will 
build each of them in separate passes.

> If it is not hard, can you provide some basic structure info about 
> .hbc, .hbm and .hbp ( if it is in use ) ?

It is, but if you stick to the format, you can still use it.
In this case it'd be better to expose the parsing logic from hbmk2 
code through an API though.

.hbp is the same as .hbm as far as the format goes, It's a 
file which contains command line options with the exact same 
syntax you would use on cmdline, you can have more than one 
options in one line and you can have any number of lines. 
Comment line begin with # as a convention. I suggest to create 
one option each line to keep it clean.

> I plan to recreate all the files necessary to launch hbmk2 from an HBIDE
> project definition.

That's good.

Brgds,
Viktor

From bedipritpal at hotmail.com  Wed Nov 18 15:38:46 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Nov 18 15:38:52 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <F02CF23A-2DE6-447C-8F57-4C3087034A34@syenar.hu>
References: <26379927.post@talk.nabble.com> <26385643.post@talk.nabble.com>
	<26404961.post@talk.nabble.com>
	<DF2BB37C-BF39-4151-9485-34BBAD6D628E@syenar.hu>
	<26413701.post@talk.nabble.com>
	<CBE25593-57CC-488C-901D-955B653A54BE@syenar.hu>
	<26414153.post@talk.nabble.com>
	<F02CF23A-2DE6-447C-8F57-4C3087034A34@syenar.hu>
Message-ID: <26415302.post@talk.nabble.com>


Hello Viktor


Viktor Szak?ts wrote:
> 
> It is, but if you stick to the format, you can still use it.
> In this case it'd be better to expose the parsing logic from hbmk2 
> code through an API though.
> 

Let it be like it. I will give another extension.
I hope .id* extensions will prevail. Better options are welcome.



> .hbp is the same as .hbm as far as the format goes, It's a 
> file which contains command line options with the exact same 
> syntax you would use on cmdline, you can have more than one 
> options in one line and you can have any number of lines. 
> Comment line begin with # as a convention. I suggest to create 
> one option each line to keep it clean.
> 

Now I better understand .hbp and .hbm.
I can build entire project only with .hbm. How does .hbc fits 
into the picture. Probably I may think of splitting the logic 
in .hbc and .hbm.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HBIDE---An-Overview-tp26379927p26415302.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Nov 18 16:11:47 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 18 16:11:57 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <26415302.post@talk.nabble.com>
References: <26379927.post@talk.nabble.com> <26385643.post@talk.nabble.com>
	<26404961.post@talk.nabble.com>
	<DF2BB37C-BF39-4151-9485-34BBAD6D628E@syenar.hu>
	<26413701.post@talk.nabble.com>
	<CBE25593-57CC-488C-901D-955B653A54BE@syenar.hu>
	<26414153.post@talk.nabble.com>
	<F02CF23A-2DE6-447C-8F57-4C3087034A34@syenar.hu>
	<26415302.post@talk.nabble.com>
Message-ID: <BBA5E385-DDAB-4BDF-AF27-8B4384625BB2@syenar.hu>

>> It is, but if you stick to the format, you can still use it.
>> In this case it'd be better to expose the parsing logic from hbmk2 
>> code through an API though.
>> 
> 
> Let it be like it. I will give another extension.
> I hope .id* extensions will prevail. Better options are welcome.

I have a suggestion.

- Store project source files in an .hbm file.
- Store project options in an optional .hbp file.
- Store additional, UI controlled options in any sort of 
  format you prefer.

On build:

- Combine .hbm + .hbp + generate extra .hbm from additional 
  UI control options, and pass that to hbmk2.

This gives easy parametrization through .hbp file directly, 
it also gives you the option to allow control of essential 
project parameters from UI, and you can easily create 
filename parser for .hbm file which contains only a list of 
filename.

Using some clever file format, you may 1) combine these 
three files into one (remember that .hbm and .hbp can 
even be one line each), or 2) you can use a method where 
the project name is the filename and above three different 
setting categories are stored by different extensions:

1) myproject.hbi

HBM=file1.prg file2.prg file3.prg
HBP=-l -m -w3 -head=native
MYOPTION1=...
MYOPTION2=...

2)

myproject.hbm (filelist)
myproject.hbp (raw options - optional)
myproject.hbi (hbide specific option format)

I'd suggest using .hbi for hbide project format, be it either 
the combined one or this latter solution.

Perhaps 1) is the more elegant here.

>> .hbp is the same as .hbm as far as the format goes, It's a 
>> file which contains command line options with the exact same 
>> syntax you would use on cmdline, you can have more than one 
>> options in one line and you can have any number of lines. 
>> Comment line begin with # as a convention. I suggest to create 
>> one option each line to keep it clean.
>> 
> 
> Now I better understand .hbp and .hbm.
> I can build entire project only with .hbm. How does .hbc fits 
> into the picture. Probably I may think of splitting the logic 
> in .hbc and .hbm.

Maybe I told it wrongly. .hbp is the one you need for projects.

Then again, the difference between the two is rather by usage / 
convention, technically they are the same. 

By my intent .hbp contains everything needed to build a project, 
f.e. file list and output name. .hbm contains only "some" settings, 
f.e. generic .prg compilation options, or anything which can 
be *reused* across multiple projects / targets. Typical example 
is hbmk.hbm which is automatically parsed even.

The only special property of .hbp extension is that it is 
recognized by hbmk2 and in this case it will automatically 
build it as a separate project. This is useful if you want 
to build multiple projects by one hbmk2 invocation.

You can force this behavior for any extension (f.e. .hbm) 
by using -target option.

See this docs from ChangeLog 2009-05-25 10:11 UTC+0200:
---
      Updated usage:
      There are three ways to do multitarget hbmk2 sessions:
      1.) hbmk2 [<common_params1>] -target=target1[.hbm|.prg] [<common_params2>] -target=target2[.hbm|.prg] [<common_params3>]
          Examples:
             hbmk2 -target=prog1 -target=prog2 -target=prog3
             hbmk2 -target=prog1.prg -target=prog2.prg -target=prog3.prg
             hbmk2 -target=mylib1.hbm -target=mylib2.hbm -target=myapp.hbm
             hbmk2 -trace -pause -target=mylib1.hbm -target=mylib2.hbm -target=myapp.hbm -beep
      2.) hbmk2 [<common_params1>] -target <target1_params> -target <target2_params> [-notarget <common_params2>]
          Examples:
             hbmk2 -target hello1.prg -target hello2.prg
             hbmk2 -trace -target hello1.prg -target hello2.prg
             hbmk2 -trace -target hello1.prg -target hello2.prg -notarget -beep
      3.) hbmk2 [<common_params1>] target1.hbp [<common_params2>] target2.hbp [<common_params3>]
          where .hbp is an .hbm file just with an .hbp extension.
          Examples:
             hbmk2 mylib1.hbp mylib.hbp myapp.hbp
             hbmk2 -trace -pause mylib1.hbp mylib2.hbp myapp.hbp -beep
---

Overall I strongly suggest to use 3.) which uses .hbp 
extension for project files.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Nov 18 16:47:15 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Nov 18 16:47:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12931] trunk/harbour
Message-ID: <E1NAsMt-0005YO-Gi@bj8yhf1.ch3.sourceforge.com>

Revision: 12931
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12931&view=rev
Author:   vszakats
Date:     2009-11-18 21:47:14 +0000 (Wed, 18 Nov 2009)

Log Message:
-----------
2009-11-18 22:41 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added dependency tree to flat dependency list converter.
      (no cyclic reference check here)

  * contrib/gtwvg/wvgwing.c
    ! Fixed for Windows x64 platform.

  * contrib/gtwvg/Makefile
    + Enabled for Cygwin, IA64 and mingw64 compilers.
      Latest mingw64 experimental builds build it fine.
      This means all win compilers are supported except xcc.
    ; NOTE: Now it's disabled only for xcc.
            Can someone with xcc installed try gtwvg? Maybe it can 
            be made work so we can drop this exception.

  * config/global.mk
  * utils/hbmk2/hbmk2.prg
    + Added autodetection of x86_64 build of mingw64.
      (in hbmk2 it's recognized even if host platform isn't x64)

  * INSTALL
    + Added darwin -> win/mingw64 cross-platform scenario.
      Such binaries are now provided by the mingw64 project.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/global.mk
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/gtwvg/wvgwing.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Wed Nov 18 18:28:09 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Nov 18 18:28:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12932] trunk/harbour
Message-ID: <E1NAtwX-0008GU-K2@3kljzd1.ch3.sourceforge.com>

Revision: 12932
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12932&view=rev
Author:   vouchcac
Date:     2009-11-18 23:28:08 +0000 (Wed, 18 Nov 2009)

Log Message:
-----------
2009-11-18 15:26 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbpgeneric.prg
    ! Change the way HBXBP_DEBUG() shows up the values. In my scheme of things 
      the whole HBQT's debug system is revolving around this way.

  * contrib/hbide/hbide.prg
    + More basic visual components to host different project elements.
      Keep on playing with it. I am gathering all pitfalls.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Wed Nov 18 18:36:06 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 18 18:36:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12932] trunk/harbour
In-Reply-To: <E1NAtwX-0008GU-K2@3kljzd1.ch3.sourceforge.com>
References: <E1NAtwX-0008GU-K2@3kljzd1.ch3.sourceforge.com>
Message-ID: <8DD08A1B-2281-4241-AC04-EFCA342366B5@syenar.hu>

> 2009-11-18 15:26 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbxbp/xbpgeneric.prg
>    ! Change the way HBXBP_DEBUG() shows up the values. In my scheme of things 
>      the whole HBQT's debug system is revolving around this way.

You removed type information and added two extra spaces. 
How is this a scheme? Do you use an automated debug info 
parser?

Anyhow this way it's closer to a generic solution, so to 
me it's fine as well.

But, to keep consistency pls also modify hbqt/hbqt_misc.prg 
which has similar code.

You can also delete old version, no need to keep all these 
things in commented form. It just "pollutes" the source.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Wed Nov 18 18:38:14 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Nov 18 18:38:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12933] trunk/harbour
Message-ID: <E1NAu6I-0007Wh-B7@bj8yhf1.ch3.sourceforge.com>

Revision: 12933
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12933&view=rev
Author:   vszakats
Date:     2009-11-18 23:38:13 +0000 (Wed, 18 Nov 2009)

Log Message:
-----------
2009-11-19 00:37 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    * Don't display translator if detected language is en-US.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/tests/demowvg.prg
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Wed Nov 18 18:45:39 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Wed Nov 18 18:45:48 2009
Subject: [Harbour] HBIDE - An Overview
In-Reply-To: <26413630.post@talk.nabble.com>
References: <26379927.post@talk.nabble.com> <hduuea$ct4$1@ger.gmane.org>
	<609353e70911171228y52ae1012sfe862cda3c5beebf@mail.gmail.com>
	<hdv2f8$rvl$1@ger.gmane.org>
	<609353e70911171303r11f3b04m1b375d8ae49a917f@mail.gmail.com>
	<hdv5q2$79d$1@ger.gmane.org>
	<609353e70911171401x560299c8x62c8f131c96f209e@mail.gmail.com>
	<133778360911180359p5df63ed9o771f31873260ecc5@mail.gmail.com>
	<26413630.post@talk.nabble.com>
Message-ID: <133778360911181545u6a05bcfl8a4c8e8771fcec66@mail.gmail.com>

Not is this

Is the memory problem that obligate you to make

extensive changes to HBQT that make a lot of modifications
in HBQT working

I think that problems is Corrected ? It is ?

And now , Carozo  ( which is the creator of HBqtcommand ) is traveling in
germany

until 4 december , I think in this date we will continue with HBqtcommand
development

Bruno



2009/11/18 Pritpal Bedi <bedipritpal@hotmail.com>

>
> Hello Bruno
>
>
> Bruno Luciani wrote:
> >
> > Massimo, the project is in stan-by until HBQT stabilizes
> >
> > a lot of changes of HBQT produces that hbqtcommand not work correctly
> >
> > When HBQT is working ok we will continue development
> >
>
> Whaere do get an idea that HBQT is "not" stable?
>
> Regards
> Pritpal Bedi
>
> --
> View this message in context:
> http://old.nabble.com/HBIDE---An-Overview-tp26379927p26413630.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091118/e73a33c9/attachment.html
From eghorbino at yahoo.com  Thu Nov 19 00:24:53 2009
From: eghorbino at yahoo.com (Edmer)
Date: Thu Nov 19 00:25:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12933] trunk/harbour
In-Reply-To: <E1NAu6I-0007Wh-B7@bj8yhf1.ch3.sourceforge.com>
References: <E1NAu6I-0007Wh-B7@bj8yhf1.ch3.sourceforge.com>
Message-ID: <26420597.post@talk.nabble.com>


Hi Viktor,

Do you think we are ready for a stable release now - any time frame for
releasing the next stable release ?

Thank you,
Ed

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12933--trunk-harbour-tp26417861p26420597.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Thu Nov 19 01:58:33 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Nov 19 01:58:39 2009
Subject: [Harbour] Qt 4.6rc1 and Snow Leopard
Message-ID: <9257026e0911182258h7fb37368le157caf03a5d5e72@mail.gmail.com>

Qt 4.6 has added support for Snow Leopard and Windows 7 so I'm trying
to build hbqt under Snow Leopard 64 bit.

I've installed the sdk but it's based on many frameworks.

Any idea how to set the make env?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Thu Nov 19 02:48:37 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov 19 02:48:48 2009
Subject: [Harbour] Qt 4.6rc1 and Snow Leopard
In-Reply-To: <9257026e0911182258h7fb37368le157caf03a5d5e72@mail.gmail.com>
References: <9257026e0911182258h7fb37368le157caf03a5d5e72@mail.gmail.com>
Message-ID: <1221D79B-3BB7-426A-90FF-ECD1CECCC52F@syenar.hu>

Hi Lorenzo,

Here it builds without any extra settings on SL 64-bit, 
although this is with 4.5.

Did they change placement of Frameworks, or what errors 
do you get?

Brgds,
Viktor

On 2009 Nov 19, at 07:58, Lorenzo Fiorini wrote:

> Qt 4.6 has added support for Snow Leopard and Windows 7 so I'm trying
> to build hbqt under Snow Leopard 64 bit.
> 
> I've installed the sdk but it's based on many frameworks.
> 
> Any idea how to set the make env?
> 
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Thu Nov 19 03:20:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Nov 19 03:20:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12934] trunk/harbour
Message-ID: <E1NB2FF-00008J-EC@c3vjzd1.ch3.sourceforge.com>

Revision: 12934
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12934&view=rev
Author:   vszakats
Date:     2009-11-19 08:20:00 +0000 (Thu, 19 Nov 2009)

Log Message:
-----------
2009-11-19 09:16 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt_misc.prg
  * contrib/hbxbp/xbpgeneric.prg
    * Synced two similar debug functions after latest change.
    % Deleted commented line. gtwvg/hbqt/hbxbp components are 
      literally full of commented lines, #if 0 parts 
      and such things. IMO these should be deleted from 
      final code otherwise it gives the (possibly wrong) 
      impression that the code is not-mature and in a 
      temporary development state. Remember that SVN keeps 
      a copy of every older version of source so in case 
      it's needed it can always be retreived, so there is no 
      need to keep old code commented "just in case".
      Everyone please keep that in mind.

  * contrib/gtwvg/tests/demowvg.prg
    ! Fixed all warnings which prevented it from being 
      built.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/tests/demowvg.prg
    trunk/harbour/contrib/hbqt/hbqt_misc.prg
    trunk/harbour/contrib/hbxbp/xbpgeneric.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fperillo at gmail.com  Thu Nov 19 03:22:38 2009
From: fperillo at gmail.com (francesco perillo)
Date: Thu Nov 19 03:22:46 2009
Subject: [Harbour] Qt 4.6rc1 and Snow Leopard
In-Reply-To: <1221D79B-3BB7-426A-90FF-ECD1CECCC52F@syenar.hu>
References: <9257026e0911182258h7fb37368le157caf03a5d5e72@mail.gmail.com>
	<1221D79B-3BB7-426A-90FF-ECD1CECCC52F@syenar.hu>
Message-ID: <6943770e0911190022p5b9860b1o2ad9467e5aa86b6e@mail.gmail.com>

I also would like to compile and test Qt support... any doc ?

Francesco
From vszakats at users.sourceforge.net  Thu Nov 19 03:42:35 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Nov 19 03:42:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12935] trunk/harbour
Message-ID: <E1NB2b5-0007M4-3p@dn4whf1.ch3.sourceforge.com>

Revision: 12935
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12935&view=rev
Author:   vszakats
Date:     2009-11-19 08:42:33 +0000 (Thu, 19 Nov 2009)

Log Message:
-----------
2009-11-19 09:41 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/gtwvg/Makefile
    + Enabled for xcc.

  * contrib/gtwvg/wvgwing.c
    ! Fixed warning with xcc.

  * config/win/xcc.mk
    ! Added minor hack to make xcc work on Windows.
      (can't handle header dir with ending pathsep)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/win/xcc.mk
    trunk/harbour/contrib/gtwvg/Makefile
    trunk/harbour/contrib/gtwvg/wvgwing.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Thu Nov 19 04:45:49 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Nov 19 04:45:55 2009
Subject: [Harbour] Qt 4.6rc1 and Snow Leopard
In-Reply-To: <1221D79B-3BB7-426A-90FF-ECD1CECCC52F@syenar.hu>
References: <9257026e0911182258h7fb37368le157caf03a5d5e72@mail.gmail.com>
	<1221D79B-3BB7-426A-90FF-ECD1CECCC52F@syenar.hu>
Message-ID: <9257026e0911190145q6663bf6enf30f5445812cf440@mail.gmail.com>

On Thu, Nov 19, 2009 at 8:48 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Here it builds without any extra settings on SL 64-bit,
> although this is with 4.5.
>
> Did they change placement of Frameworks, or what errors
> do you get?

In file included from
/Library/Frameworks/QtCore.framework/Headers/qnamespace.h:45,
                 from
/Library/Frameworks/QtCore.framework/Headers/qobjectdefs.h:45,
                 from /Library/Frameworks/QtCore.framework/Headers/qobject.h:47,
                 from /Library/Frameworks/QtCore.framework/Headers/QObject:1,
                 from ../../../hbqt_slots.h:61,
                 from ../../../moc_slots.cpp:10:
/Library/Frameworks/QtCore.framework/Headers/qglobal.h:288:2: error:
#error "You are building a 64-bit application, but using a 32-bit
version of Qt. Check your build configuration."
../../../moc_slots.cpp:14:2: error: #error "This file was generated
using the moc from 4.5.0. It"
../../../moc_slots.cpp:15:2: error: #error "cannot be used with the
include files from this version of Qt."
../../../moc_slots.cpp:16:2: error: #error "(The moc has changed too much.)"

best regards,
Lorenzo
From elart at elart.it  Thu Nov 19 04:48:26 2009
From: elart at elart.it (elart)
Date: Thu Nov 19 04:48:34 2009
Subject: [Harbour] Cannot compile hbide: harbour-project:[12935]
	trunk/harbour
In-Reply-To: <E1NB2b5-0007M4-3p@dn4whf1.ch3.sourceforge.com>
Message-ID: <j2kjHyQF.1258624106.1281630.marcobra@82.105.36.210>


Hi all, on Ubuntu 9.10 32 bit, i still get this error on compile
.../contrib/hbide:

ubuntu@ubuntu-desktop:~/src/harbour/contrib/hbide$ hbmk2 hbide.prg
hbmk2: Processing local make script: hbmk.hbm
hbmk2: Processing configuration: /usr/bin/hbmk.cfg
Harbour 2.0.0beta3 (Rev. 12933)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'hbide.prg'...
hbide.prg(331) Warning W0001  Ambiguous reference 'QTEXTEDIT_NOWRAP'
500
No code generated.
hbmk2: Error: Running Harbour compiler (embedded). 1
(/usr/bin/harbour) -n2 hbide.prg -w3 -es2 -i/usr/include -i../hbxbp
-i../hbqt


i have already reported this error
http://article.gmane.org/gmane.comp.lang.harbour.devel/21923

you answer me:

You forgot to do 'make install' while you have an old version of hbqt
header in your main include dir... here:
http://article.gmane.org/gmane.comp.lang.harbour.devel/21927

I always do make install... and  here the result of:

ls -la /usr/include/hbqt*
-rw-r--r-- 1 root root 193427 2009-11-19 09:59 /usr/include/hbqt.ch

locate


My installed libqt:

libqt3-compat-headers
libqt3-headers
libqt3-mt
libqt3-mt-dev
libqt4-assistant
libqt4-dbus
libqt4-designer
libqt4-dev
libqt4-gui
libqt4-help
libqt4-network
libqt4-opengl
libqt4-opengl-dev
libqt4-phonon
libqt4-qt3support
libqt4-script
libqt4-scripttools
libqt4-sql
libqt4-sql-mysql
libqt4-sql-sqlite
libqt4-svg
libqt4-test
libqt4-webkit
libqt4-xml
libqt4-xmlpatterns
libqtcore4
libqtgui4
libqtscript4-core
libqtscript4-gui
libqtscript4-network
libqtscript4-sql
libqtscript4-uitools
libqtscript4-xml

Thank you and best regards

Marco
From elart at elart.it  Thu Nov 19 04:58:52 2009
From: elart at elart.it (elart)
Date: Thu Nov 19 04:58:59 2009
Subject: [Harbour] Cannot compile hbide: harbour-project:[12935]
	trunk/harbour
In-Reply-To: <E1NB2b5-0007M4-3p@dn4whf1.ch3.sourceforge.com>
Message-ID: <2y4ZziTH.1258624732.4792730.marcobra@82.105.36.210>


Hi all, still getting error on compiling .../contrib/hbide on Ubuntu 9.10
32 bit

Already asked http://article.gmane.org/gmane.comp.lang.harbour.devel/21923

and answered http://article.gmane.org/gmane.comp.lang.harbour.devel/21927

Here installed hbqt.ch

ls -la /usr/include/hbqt.ch
-rw-r--r-- 1 root root 193427 2009-11-19 09:59 /usr/include/hbqt.ch

I still have this error...

ubuntu@ubuntu-desktop:~/src/harbour/contrib/hbide$ hbmk2 hbide.prg

hbmk2: Processing local make script: hbmk.hbm
hbmk2: Processing configuration: /usr/bin/hbmk.cfg
Harbour 2.0.0beta3 (Rev. 12933)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'hbide.prg'...
hbide.prg(331) Warning W0001  Ambiguous reference 'QTEXTEDIT_NOWRAP'
500
No code generated.
hbmk2: Error: Running Harbour compiler (embedded). 1
(/usr/bin/harbour) -n2 hbide.prg -w3 -es2 -i/usr/include -i../hbxbp
-i../hbqt


My related qt installed packages:

libqt3-compat-headers
libqt3-headers
libqt3-mt
libqt3-mt-dev
libqt4-assistant
libqt4-dbus
libqt4-designer
libqt4-dev
libqt4-gui
libqt4-help
libqt4-network
libqt4-opengl
libqt4-opengl-dev
libqt4-phonon
libqt4-qt3support
libqt4-script
libqt4-scripttools
libqt4-sql
libqt4-sql-mysql
libqt4-sql-sqlite
libqt4-svg
libqt4-test
libqt4-webkit
libqt4-xml
libqt4-xmlpatterns
libqtcore4
libqtgui4
libqtscript4-core
libqtscript4-gui
libqtscript4-network
libqtscript4-sql
libqtscript4-uitools
libqtscript4-xml
From harbour.01 at syenar.hu  Thu Nov 19 05:03:02 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov 19 05:03:13 2009
Subject: [Harbour] Qt 4.6rc1 and Snow Leopard
In-Reply-To: <9257026e0911190145q6663bf6enf30f5445812cf440@mail.gmail.com>
References: <9257026e0911182258h7fb37368le157caf03a5d5e72@mail.gmail.com>
	<1221D79B-3BB7-426A-90FF-ECD1CECCC52F@syenar.hu>
	<9257026e0911190145q6663bf6enf30f5445812cf440@mail.gmail.com>
Message-ID: <692A85F2-522A-4A46-8F3F-90809A5753A4@syenar.hu>

> On Thu, Nov 19, 2009 at 8:48 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> 
>> Here it builds without any extra settings on SL 64-bit,
>> although this is with 4.5.
>> 
>> Did they change placement of Frameworks, or what errors
>> do you get?
> 
> In file included from
> /Library/Frameworks/QtCore.framework/Headers/qnamespace.h:45,
>                 from
> /Library/Frameworks/QtCore.framework/Headers/qobjectdefs.h:45,
>                 from /Library/Frameworks/QtCore.framework/Headers/qobject.h:47,
>                 from /Library/Frameworks/QtCore.framework/Headers/QObject:1,
>                 from ../../../hbqt_slots.h:61,
>                 from ../../../moc_slots.cpp:10:
> /Library/Frameworks/QtCore.framework/Headers/qglobal.h:288:2: error:
> #error "You are building a 64-bit application, but using a 32-bit
> version of Qt. Check your build configuration."

I'm not getting this, I guess because I've installed the 64-bit 
compatible build.

> ../../../moc_slots.cpp:14:2: error: #error "This file was generated
> using the moc from 4.5.0. It"
> ../../../moc_slots.cpp:15:2: error: #error "cannot be used with the
> include files from this version of Qt."
> ../../../moc_slots.cpp:16:2: error: #error "(The moc has changed too much.)"

This is a problem with current hbqt/gtqtc build implementation.

This "moc" file is hardcoded to our repository and such 
"moc" file is tied to the QT version of the uploader of 
that file. (I've seen its version fluctuate between 4.5, 
4.5.1 and 4.5.2, but fortunately these are compatible)

We should probably generate it dynamically based on QT 
version found on users' systems.

In the meantime you can regenerate it locally, but we 
should ask Pritpal what is way to do that.

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Nov 19 05:05:26 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov 19 05:05:36 2009
Subject: [Harbour] Cannot compile hbide: harbour-project:[12935]
	trunk/harbour
In-Reply-To: <2y4ZziTH.1258624732.4792730.marcobra@82.105.36.210>
References: <2y4ZziTH.1258624732.4792730.marcobra@82.105.36.210>
Message-ID: <53EF6CE5-A495-4067-9FAA-9366F2079BF2@syenar.hu>

I can just repeat it, this time in more generic 
wording: You have an old hbqt header somewhere in 
your environment. Use -trace to find out what 
header dirs (-I) are exactly set in your case.

Delete it, or update it.

Brgds,
Viktor

On 2009 Nov 19, at 10:58, elart wrote:

> 
> Hi all, still getting error on compiling .../contrib/hbide on Ubuntu 9.10
> 32 bit
> 
> Already asked http://article.gmane.org/gmane.comp.lang.harbour.devel/21923
> 
> and answered http://article.gmane.org/gmane.comp.lang.harbour.devel/21927
> 
> Here installed hbqt.ch
> 
> ls -la /usr/include/hbqt.ch
> -rw-r--r-- 1 root root 193427 2009-11-19 09:59 /usr/include/hbqt.ch
> 
> I still have this error...
> 
> ubuntu@ubuntu-desktop:~/src/harbour/contrib/hbide$ hbmk2 hbide.prg
> 
> hbmk2: Processing local make script: hbmk.hbm
> hbmk2: Processing configuration: /usr/bin/hbmk.cfg
> Harbour 2.0.0beta3 (Rev. 12933)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'hbide.prg'...
> hbide.prg(331) Warning W0001  Ambiguous reference 'QTEXTEDIT_NOWRAP'
> 500
> No code generated.
> hbmk2: Error: Running Harbour compiler (embedded). 1
> (/usr/bin/harbour) -n2 hbide.prg -w3 -es2 -i/usr/include -i../hbxbp
> -i../hbqt
> 
> 
> My related qt installed packages:
> 
> libqt3-compat-headers
> libqt3-headers
> libqt3-mt
> libqt3-mt-dev
> libqt4-assistant
> libqt4-dbus
> libqt4-designer
> libqt4-dev
> libqt4-gui
> libqt4-help
> libqt4-network
> libqt4-opengl
> libqt4-opengl-dev
> libqt4-phonon
> libqt4-qt3support
> libqt4-script
> libqt4-scripttools
> libqt4-sql
> libqt4-sql-mysql
> libqt4-sql-sqlite
> libqt4-svg
> libqt4-test
> libqt4-webkit
> libqt4-xml
> libqt4-xmlpatterns
> libqtcore4
> libqtgui4
> libqtscript4-core
> libqtscript4-gui
> libqtscript4-network
> libqtscript4-sql
> libqtscript4-uitools
> libqtscript4-xml
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Thu Nov 19 05:31:56 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Nov 19 05:32:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12936] trunk/harbour
Message-ID: <E1NB4Iu-0002Iy-4P@c3vjzd1.ch3.sourceforge.com>

Revision: 12936
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12936&view=rev
Author:   vszakats
Date:     2009-11-19 10:31:52 +0000 (Thu, 19 Nov 2009)

Log Message:
-----------
2009-11-19 11:30 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/Makefile
  - contrib/hbqt/moc_slots.cpp
    + Added dynamic generation of moc_slots.cpp by calling moc 
      tool.
    ; TODO: If this is ok, do the same in gtqtc.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile

Removed Paths:
-------------
    trunk/harbour/contrib/hbqt/moc_slots.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Thu Nov 19 05:35:02 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Nov 19 05:35:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12937] trunk/harbour
Message-ID: <E1NB4Lu-0002NH-5w@c3vjzd1.ch3.sourceforge.com>

Revision: 12937
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12937&view=rev
Author:   vszakats
Date:     2009-11-19 10:34:52 +0000 (Thu, 19 Nov 2009)

Log Message:
-----------
2009-11-19 11:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/Makefile
    * Minor adjustment to prev.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Thu Nov 19 05:36:03 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Nov 19 05:36:10 2009
Subject: [Harbour] Qt 4.6rc1 and Snow Leopard
In-Reply-To: <692A85F2-522A-4A46-8F3F-90809A5753A4@syenar.hu>
References: <9257026e0911182258h7fb37368le157caf03a5d5e72@mail.gmail.com>
	<1221D79B-3BB7-426A-90FF-ECD1CECCC52F@syenar.hu>
	<9257026e0911190145q6663bf6enf30f5445812cf440@mail.gmail.com>
	<692A85F2-522A-4A46-8F3F-90809A5753A4@syenar.hu>
Message-ID: <9257026e0911190236t7710226do64635f6924e6b860@mail.gmail.com>

On Thu, Nov 19, 2009 at 11:03 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> I'm not getting this, I guess because I've installed the 64-bit
> compatible build.

Sorry, where did you get it? I've seen only one OSX SDK.

> In the meantime you can regenerate it locally, but we
> should ask Pritpal what is way to do that.

Ok, thanks.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Thu Nov 19 05:42:44 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov 19 05:42:53 2009
Subject: [Harbour] Qt 4.6rc1 and Snow Leopard
In-Reply-To: <9257026e0911190236t7710226do64635f6924e6b860@mail.gmail.com>
References: <9257026e0911182258h7fb37368le157caf03a5d5e72@mail.gmail.com>
	<1221D79B-3BB7-426A-90FF-ECD1CECCC52F@syenar.hu>
	<9257026e0911190145q6663bf6enf30f5445812cf440@mail.gmail.com>
	<692A85F2-522A-4A46-8F3F-90809A5753A4@syenar.hu>
	<9257026e0911190236t7710226do64635f6924e6b860@mail.gmail.com>
Message-ID: <8A300A34-A61C-41D3-9842-24CDB0A14968@syenar.hu>

> On Thu, Nov 19, 2009 at 11:03 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> 
>> I'm not getting this, I guess because I've installed the 64-bit
>> compatible build.
> 
> Sorry, where did you get it? I've seen only one OSX SDK.

I got it from the page. For 4.5 there were two options, 
one which uses Carbon and another which uses Cocoa, and 
one of them was 64-bit ready.

> 
>> In the meantime you can regenerate it locally, but we
>> should ask Pritpal what is way to do that.
> 
> Ok, thanks.

Pls try after my latest commit.

Brgds,
Viktor

From niki at synel.co.il  Thu Nov 19 05:49:01 2009
From: niki at synel.co.il (Chen Kedem)
Date: Thu Nov 19 05:49:10 2009
Subject: [Harbour] Win98 + MT crash
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F31@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2D@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2E@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2F@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F30@Mail-yoq.SYNEL-COMPANY.LTD>,
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F31@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F32@Mail-yoq.SYNEL-COMPANY.LTD>

Przemek,

> If possible then I would like to ask you to make final tests. Now it should
> work even with CodeGuard.

Tested with Rev12933, with and without CodeGuard.
All tests/mt/mttest*.prg (apart from mttest10.prg that needs GUI)
are working now on both WinNT and Win95.

btw, my Win95 machine is a Pentium-S 100MHz 96MB ram, so I modified
mttest06 and mttest07 to use smaller N_COUNT and N_JOBS when running
with CodeGuard (unmodified mttest05 took 3 hours to finished).

  Chen.
From vszakats at users.sourceforge.net  Thu Nov 19 05:51:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Nov 19 05:51:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12938] trunk/harbour
Message-ID: <E1NB4c8-0002dJ-74@c3vjzd1.ch3.sourceforge.com>

Revision: 12938
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12938&view=rev
Author:   vszakats
Date:     2009-11-19 10:51:33 +0000 (Thu, 19 Nov 2009)

Log Message:
-----------
2009-11-19 11:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/gtqtc/Makefile
  * contrib/gtqtc/gtqtcs/Makefile
  - contrib/gtqtc/moc_gtqtc.cpp
    ! Fixed to generate moc file dynamically.
    % Changed to use detect.mk in hbqt for QT detection.

  * contrib/hbqt/hbqts/Makefile
    ! Fixed for HB_QT_STATIC=yes mode after latest change.

  * contrib/hbqt/Makefile
  * contrib/hbqt/detect.mk
    * Moved MOC_BIN detection to detect.mk.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtqtc/Makefile
    trunk/harbour/contrib/gtqtc/gtqtcs/Makefile
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/detect.mk
    trunk/harbour/contrib/hbqt/hbqts/Makefile

Removed Paths:
-------------
    trunk/harbour/contrib/gtqtc/moc_gtqtc.cpp


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Nov 19 06:05:47 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 19 06:05:54 2009
Subject: [Harbour] Win98 + MT crash
In-Reply-To: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F32@Mail-yoq.SYNEL-COMPANY.LTD>
References: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2D@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2E@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F2F@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F30@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F31@Mail-yoq.SYNEL-COMPANY.LTD>
	<1A07FEDC778C3E4AA417F089511F859C1D7F0D6F32@Mail-yoq.SYNEL-COMPANY.LTD>
Message-ID: <20091119110547.GA13324@34-mo7-2.home.aster.pl>

On Thu, 19 Nov 2009, Chen Kedem wrote:

Hi,

> > If possible then I would like to ask you to make final tests. Now it should
> > work even with CodeGuard.
> Tested with Rev12933, with and without CodeGuard.
> All tests/mt/mttest*.prg (apart from mttest10.prg that needs GUI)
> are working now on both WinNT and Win95.

Thank you very much for you help and tests.
So now Win9x builds are functional again at least for base core code.
It will be good to make peridically some regression tests.

> btw, my Win95 machine is a Pentium-S 100MHz 96MB ram, so I modified
> mttest06 and mttest07 to use smaller N_COUNT and N_JOBS when running
> with CodeGuard (unmodified mttest05 took 3 hours to finished).

Ops, yes this values were tunes for modern computers and native executing
without CodeGuard/Valgrind or other similar virtual environment.
Again thank you for your time.

best regards,
Przemek
From druzus at users.sourceforge.net  Thu Nov 19 07:34:59 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Nov 19 07:35:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12939] trunk/harbour
Message-ID: <E1NB6Dz-0005B3-0V@dn4whf1.ch3.sourceforge.com>

Revision: 12939
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12939&view=rev
Author:   druzus
Date:     2009-11-19 12:34:57 +0000 (Thu, 19 Nov 2009)

Log Message:
-----------
2009-11-19 13:34 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rdd/dbfcdx/dbfcdx1.c
    ! minor typo in comment

  * harbour/contrib/rddsql/sddmy/mysqldd.c
  * harbour/contrib/rddsql/sddpg/pgsqldd.c
  * harbour/contrib/rddsql/sddfb/fbirddd.c
  * harbour/contrib/rddsql/sddodbc/odbcdd.c
    ! small fix for include dirs in XCC builds

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sddfb/fbirddd.c
    trunk/harbour/contrib/rddsql/sddmy/mysqldd.c
    trunk/harbour/contrib/rddsql/sddodbc/odbcdd.c
    trunk/harbour/contrib/rddsql/sddpg/pgsqldd.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Thu Nov 19 08:21:05 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Nov 19 08:21:15 2009
Subject: [Harbour] Cannot compile hbide: harbour-project:[12935] 
	trunk/harbour
In-Reply-To: <2y4ZziTH.1258624732.4792730.marcobra@82.105.36.210>
References: <E1NB2b5-0007M4-3p@dn4whf1.ch3.sourceforge.com>
	<2y4ZziTH.1258624732.4792730.marcobra@82.105.36.210>
Message-ID: <133778360911190521s35815369l2c13cdb42faaba87@mail.gmail.com>

Elart

I am compiling HBIDE in Ubuntu 9.10 32 bits without problem
using SVN harvour and libs from ubuntu QT

Bruno

2009/11/19 elart <elart@elart.it>

>
> Hi all, still getting error on compiling .../contrib/hbide on Ubuntu 9.10
> 32 bit
>
> Already asked http://article.gmane.org/gmane.comp.lang.harbour.devel/21923
>
> and answered http://article.gmane.org/gmane.comp.lang.harbour.devel/21927
>
> Here installed hbqt.ch
>
> ls -la /usr/include/hbqt.ch
> -rw-r--r-- 1 root root 193427 2009-11-19 09:59 /usr/include/hbqt.ch
>
> I still have this error...
>
> ubuntu@ubuntu-desktop:~/src/harbour/contrib/hbide$ hbmk2 hbide.prg
>
> hbmk2: Processing local make script: hbmk.hbm
> hbmk2: Processing configuration: /usr/bin/hbmk.cfg
> Harbour 2.0.0beta3 (Rev. 12933)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'hbide.prg'...
> hbide.prg(331) Warning W0001  Ambiguous reference 'QTEXTEDIT_NOWRAP'
> 500
> No code generated.
> hbmk2: Error: Running Harbour compiler (embedded). 1
> (/usr/bin/harbour) -n2 hbide.prg -w3 -es2 -i/usr/include -i../hbxbp
> -i../hbqt
>
>
> My related qt installed packages:
>
> libqt3-compat-headers
> libqt3-headers
> libqt3-mt
> libqt3-mt-dev
> libqt4-assistant
> libqt4-dbus
> libqt4-designer
> libqt4-dev
> libqt4-gui
> libqt4-help
> libqt4-network
> libqt4-opengl
> libqt4-opengl-dev
> libqt4-phonon
> libqt4-qt3support
> libqt4-script
> libqt4-scripttools
> libqt4-sql
> libqt4-sql-mysql
> libqt4-sql-sqlite
> libqt4-svg
> libqt4-test
> libqt4-webkit
> libqt4-xml
> libqt4-xmlpatterns
> libqtcore4
> libqtgui4
> libqtscript4-core
> libqtscript4-gui
> libqtscript4-network
> libqtscript4-sql
> libqtscript4-uitools
> libqtscript4-xml
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091119/370837be/attachment.html
From bruno.luciani at gmail.com  Thu Nov 19 08:22:18 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Nov 19 08:22:26 2009
Subject: [Harbour] Cannot compile hbide: harbour-project:[12935] 
	trunk/harbour
In-Reply-To: <53EF6CE5-A495-4067-9FAA-9366F2079BF2@syenar.hu>
References: <2y4ZziTH.1258624732.4792730.marcobra@82.105.36.210>
	<53EF6CE5-A495-4067-9FAA-9366F2079BF2@syenar.hu>
Message-ID: <133778360911190522k7040211dya8d4d551fe5b3afd@mail.gmail.com>

May be this is the problem

I make a fresh install of ubuntu

Bruno

2009/11/19 Viktor Szak?ts <harbour.01@syenar.hu>

> I can just repeat it, this time in more generic
> wording: You have an old hbqt header somewhere in
> your environment. Use -trace to find out what
> header dirs (-I) are exactly set in your case.
>
> Delete it, or update it.
>
> Brgds,
> Viktor
>
> On 2009 Nov 19, at 10:58, elart wrote:
>
> >
> > Hi all, still getting error on compiling .../contrib/hbide on Ubuntu 9.10
> > 32 bit
> >
> > Already asked
> http://article.gmane.org/gmane.comp.lang.harbour.devel/21923
> >
> > and answered
> http://article.gmane.org/gmane.comp.lang.harbour.devel/21927
> >
> > Here installed hbqt.ch
> >
> > ls -la /usr/include/hbqt.ch
> > -rw-r--r-- 1 root root 193427 2009-11-19 09:59 /usr/include/hbqt.ch
> >
> > I still have this error...
> >
> > ubuntu@ubuntu-desktop:~/src/harbour/contrib/hbide$ hbmk2 hbide.prg
> >
> > hbmk2: Processing local make script: hbmk.hbm
> > hbmk2: Processing configuration: /usr/bin/hbmk.cfg
> > Harbour 2.0.0beta3 (Rev. 12933)
> > Copyright (c) 1999-2009, http://www.harbour-project.org/
> > Compiling 'hbide.prg'...
> > hbide.prg(331) Warning W0001  Ambiguous reference 'QTEXTEDIT_NOWRAP'
> > 500
> > No code generated.
> > hbmk2: Error: Running Harbour compiler (embedded). 1
> > (/usr/bin/harbour) -n2 hbide.prg -w3 -es2 -i/usr/include -i../hbxbp
> > -i../hbqt
> >
> >
> > My related qt installed packages:
> >
> > libqt3-compat-headers
> > libqt3-headers
> > libqt3-mt
> > libqt3-mt-dev
> > libqt4-assistant
> > libqt4-dbus
> > libqt4-designer
> > libqt4-dev
> > libqt4-gui
> > libqt4-help
> > libqt4-network
> > libqt4-opengl
> > libqt4-opengl-dev
> > libqt4-phonon
> > libqt4-qt3support
> > libqt4-script
> > libqt4-scripttools
> > libqt4-sql
> > libqt4-sql-mysql
> > libqt4-sql-sqlite
> > libqt4-svg
> > libqt4-test
> > libqt4-webkit
> > libqt4-xml
> > libqt4-xmlpatterns
> > libqtcore4
> > libqtgui4
> > libqtscript4-core
> > libqtscript4-gui
> > libqtscript4-network
> > libqtscript4-sql
> > libqtscript4-uitools
> > libqtscript4-xml
> > _______________________________________________
> > Harbour mailing list (attachment size limit: 40KB)
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091119/f32c9a9b/attachment.html
From lorenzo.fiorini at gmail.com  Thu Nov 19 10:27:14 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Nov 19 10:27:22 2009
Subject: [Harbour] Qt 4.6rc1 and Snow Leopard
In-Reply-To: <8A300A34-A61C-41D3-9842-24CDB0A14968@syenar.hu>
References: <9257026e0911182258h7fb37368le157caf03a5d5e72@mail.gmail.com>
	<1221D79B-3BB7-426A-90FF-ECD1CECCC52F@syenar.hu>
	<9257026e0911190145q6663bf6enf30f5445812cf440@mail.gmail.com>
	<692A85F2-522A-4A46-8F3F-90809A5753A4@syenar.hu>
	<9257026e0911190236t7710226do64635f6924e6b860@mail.gmail.com>
	<8A300A34-A61C-41D3-9842-24CDB0A14968@syenar.hu>
Message-ID: <9257026e0911190727l324c2479s81d628bc758ea8cd@mail.gmail.com>

On Thu, Nov 19, 2009 at 11:42 AM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> I got it from the page. For 4.5 there were two options,
> one which uses Carbon and another which uses Cocoa, and
> one of them was 64-bit ready.

http://qt.nokia.com/developer/qt-4.6-preview#download-the-qt-4-1

The difference is between SDK and the "binary packages".

What they call "binary packages" Qt 4.6.0 RC for Mac OS X Cocoa is the 64bit.

The SDK seems only a 32bit build.

best regards,
Lorenzo
From Istvan.Bisz at t-online.hu  Thu Nov 19 10:36:47 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Thu Nov 19 10:37:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12938] trunk/harbour
In-Reply-To: <E1NB4c8-0002dJ-74@c3vjzd1.ch3.sourceforge.com>
References: <E1NB4c8-0002dJ-74@c3vjzd1.ch3.sourceforge.com>
Message-ID: <000301ca692e$1d87eda0$5897c8e0$@Bisz@t-online.hu>

Hi Viktor,

On Fedora 12 we have now:

================================================
native build:
================================================
../../../gtcrs.c: In function ?void mouse_init(InOutBase*)?:
../../../gtcrs.c:1244: warning: deprecated conversion from string constant to ?char*?
../../../gtcrs.c: In function ?void mouse_init(InOutBase*)?:
../../../gtcrs.c:1244: warning: deprecated conversion from string constant to ?char*?
../../../ctc.c: In function ?USHORT ct_error(USHORT, HB_ERRCODE, HB_ERRCODE, const char*, const char*, HB_ERRCODE, USHORT, ULONG, ...)?:
../../../ctc.c:73: warning: format ?%lu? expects type ?long unsigned int?, but argument 3 has type ?HB_ERRCODE?
../../../ctc.c:73: warning: format ?%lu? expects type ?long unsigned int?, but argument 4 has type ?HB_ERRCODE?
../../../ctc.c: In function ?void* ct_error_subst(USHORT, HB_ERRCODE, HB_ERRCODE, const char*, const char*, HB_ERRCODE, USHORT, ULONG, ...)?:
../../../ctc.c:140: warning: format ?%lu? expects type ?long unsigned int?, but argument 3 has type ?HB_ERRCODE?
../../../ctc.c:140: warning: format ?%lu? expects type ?long unsigned int?, but argument 4 has type ?HB_ERRCODE?
/bin/sh: moc: command not found
make[3]: *** [moc_slots.cpp] Error 127
make[2]: *** [descend] Error 2
make[1]: *** [hbqt.inst] Error 2
make: *** [contrib.inst] Error 2
================================================
Windows cross build:
================================================
In file included from ../../../fm.c:181,
                 from ../../../hvmall.c:95:
../../../dlmalloc.c: In function 'void* dlmalloc(size_t)':
../../../dlmalloc.c:4107: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4105: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4104: note: initialized from here
../../../dlmalloc.c:4125: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4123: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4122: note: initialized from here
../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4134: note: initialized from here
../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3766: note: initialized from here
../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3727: note: initialized from here
../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../dlmalloc.c:3244: note: initialized from here
../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3302: note: initialized from here
../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3358: note: initialized from here
../../../dlmalloc.c: In function 'void dlfree(void*)':
../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4283: note: initialized from here
../../../../maindllp.c: In function 'char* hb_parvdsbuff(char*, int, ...)':
../../../../maindllp.c:451: warning: deprecated conversion from string constant to 'char*'
In file included from ../../../../fm.c:181,
                 from ../../../../hvmall.c:95:
../../../../dlmalloc.c: In function 'void* dlmalloc(size_t)':
../../../../dlmalloc.c:4107: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4105: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4104: note: initialized from here
../../../../dlmalloc.c:4125: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4123: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4122: note: initialized from here
../../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4134: note: initialized from here
../../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3766: note: initialized from here
../../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3727: note: initialized from here
../../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../../dlmalloc.c:3244: note: initialized from here
../../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3302: note: initialized from here
../../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3358: note: initialized from here
../../../../dlmalloc.c: In function 'void dlfree(void*)':
../../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4283: note: initialized from here
../../../ctc.c: In function 'USHORT ct_error(USHORT, HB_ERRCODE, HB_ERRCODE, const char*, const char*, HB_ERRCODE, USHORT, ULONG, ...)':
../../../ctc.c:73: warning: format '%lu' expects type 'long unsigned int', but argument 3 has type 'HB_ERRCODE'
../../../ctc.c:73: warning: format '%lu' expects type 'long unsigned int', but argument 4 has type 'HB_ERRCODE'
../../../ctc.c: In function 'void* ct_error_subst(USHORT, HB_ERRCODE, HB_ERRCODE, const char*, const char*, HB_ERRCODE, USHORT, ULONG, ...)':
../../../ctc.c:140: warning: format '%lu' expects type 'long unsigned int', but argument 3 has type 'HB_ERRCODE'
../../../ctc.c:140: warning: format '%lu' expects type 'long unsigned int', but argument 4 has type 'HB_ERRCODE'
/bin/sh: /usr/i686-pc-mingw32/sys-root/mingw/include..binmoc.exe: No such file or directory
make[3]: *** [moc_slots.cpp] Error 127
make[2]: *** [descend] Error 2
make[1]: *** [hbqt.inst] Error 2
make: *** [contrib.inst] Error 2

Best regards,
Istv?n


From harbour.01 at syenar.hu  Thu Nov 19 10:49:14 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov 19 10:49:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12938] trunk/harbour
In-Reply-To: <000301ca692e$1d87eda0$5897c8e0$@Bisz@t-online.hu>
References: <E1NB4c8-0002dJ-74@c3vjzd1.ch3.sourceforge.com>
	<000301ca692e$1d87eda0$5897c8e0$@Bisz@t-online.hu>
Message-ID: <7A42E2BC-5F16-4156-91B9-ECE05E78B50C@syenar.hu>

Hi Istvan,

On 2009 Nov 19, at 16:36, Bisz Istv?n wrote:

> Hi Viktor,
> 
> On Fedora 12 we have now:
> 
> ================================================
> native build:
> ================================================
> ../../../gtcrs.c: In function ?void mouse_init(InOutBase*)?:
> ../../../gtcrs.c:1244: warning: deprecated conversion from string constant to ?char*?
> ../../../gtcrs.c: In function ?void mouse_init(InOutBase*)?:
> ../../../gtcrs.c:1244: warning: deprecated conversion from string constant to ?char*?

I can't comment that.

[ probably the same as in maindllp.c. What compiler/version is this? ]

> ../../../ctc.c: In function ?USHORT ct_error(USHORT, HB_ERRCODE, HB_ERRCODE, const char*, const char*, HB_ERRCODE, USHORT, ULONG, ...)?:
> ../../../ctc.c:73: warning: format ?%lu? expects type ?long unsigned int?, but argument 3 has type ?HB_ERRCODE?
> ../../../ctc.c:73: warning: format ?%lu? expects type ?long unsigned int?, but argument 4 has type ?HB_ERRCODE?
> ../../../ctc.c: In function ?void* ct_error_subst(USHORT, HB_ERRCODE, HB_ERRCODE, const char*, const char*, HB_ERRCODE, USHORT, ULONG, ...)?:
> ../../../ctc.c:140: warning: format ?%lu? expects type ?long unsigned int?, but argument 3 has type ?HB_ERRCODE?
> ../../../ctc.c:140: warning: format ?%lu? expects type ?long unsigned int?, but argument 4 has type ?HB_ERRCODE?

Format string problem after ERRCODE change.

> /bin/sh: moc: command not found

*nix users will have to advise where to look for this 
component. F.e. on Darwin, it's installed to system 
location, which is in PATH.

I can add extra logic if needed, but I need to know 
what would that be. 'moc' is commonly needed for anything 
which uses QT, so I suppose it must be there somewhere.

> ================================================
> Windows cross build:
> ================================================
> In file included from ../../../fm.c:181,
>                 from ../../../hvmall.c:95:
> ../../../dlmalloc.c: In function 'void* dlmalloc(size_t)':
> ../../../dlmalloc.c:4107: warning: dereferencing pointer 'b' does break strict-aliasing rules
> ../../../dlmalloc.c:4105: warning: dereferencing pointer 'b' does break strict-aliasing rules
> ../../../dlmalloc.c:4104: note: initialized from here
> ../../../dlmalloc.c:4125: warning: dereferencing pointer 'b' does break strict-aliasing rules
> ../../../dlmalloc.c:4123: warning: dereferencing pointer 'b' does break strict-aliasing rules
> ../../../dlmalloc.c:4122: note: initialized from here
> ../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
> ../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
> ../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
> ../../../dlmalloc.c:4134: note: initialized from here
> ../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3766: note: initialized from here
> ../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3727: note: initialized from here
> ../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
> ../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
> ../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
> ../../../dlmalloc.c:3244: note: initialized from here
> ../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3302: note: initialized from here
> ../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3358: note: initialized from here
> ../../../dlmalloc.c: In function 'void dlfree(void*)':
> ../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
> ../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
> ../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
> ../../../dlmalloc.c:4283: note: initialized from here
> ../../../../maindllp.c: In function 'char* hb_parvdsbuff(char*, int, ...)':
> ../../../../maindllp.c:451: warning: deprecated conversion from string constant to 'char*'

Probably a ( char * ) cast is needed in that line.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Thu Nov 19 10:56:16 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Thu Nov 19 10:56:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12938] trunk/harbour
In-Reply-To: <7A42E2BC-5F16-4156-91B9-ECE05E78B50C@syenar.hu>
References: <E1NB4c8-0002dJ-74@c3vjzd1.ch3.sourceforge.com>	<000301ca692e$1d87eda0$5897c8e0$@Bisz@t-online.hu>
	<7A42E2BC-5F16-4156-91B9-ECE05E78B50C@syenar.hu>
Message-ID: <000401ca6930$d4328db0$7c97a910$@Bisz@t-online.hu>

Hi Viktor,

> *nix users will have to advise where to look for this 
> component. F.e. on Darwin, it's installed to system 
> location, which is in PATH.

> I can add extra logic if needed, but I need to know 
> what would that be. 'moc' is commonly needed for anything 
> which uses QT, so I suppose it must be there somewhere.

Until now I found this, needs some investigations:

Information for build automoc-1.0-0.13.rc3.fc12
ID 116339 
Package Name automoc 
Version 1.0 
Release 0.13.rc3.fc12 
Epoch  
Summary Automatic moc for Qt 4 
Description This package contains the automoc4 binary which is used to run moc on the
right source files in a Qt 4 or KDE 4 application.
Moc is the meta object compiler which is a widely used tool with Qt and
creates standard C++ files to provide syntactic sugar of the signal/slots
mechanism.

Best regards,
Istv?n


From vszakats at users.sourceforge.net  Thu Nov 19 11:07:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Nov 19 11:07:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12940] trunk/harbour
Message-ID: <E1NB9XA-0003i5-BB@74yxhf1.ch3.sourceforge.com>

Revision: 12940
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12940&view=rev
Author:   vszakats
Date:     2009-11-19 16:06:58 +0000 (Thu, 19 Nov 2009)

Log Message:
-----------
2009-11-19 17:06 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/errapi.c
  * contrib/hbct/ctc.c
    ! Fixed printf() format strings after recent HB_ERRCODE change.

  * contrib/hbqt/tests/demoqt.prg
    % Deleted hb_idleSleep( 1 ) after main window creation.
      Please advise if it was put there with some reason.

  * contrib/hbqt/hbqt_slots.cpp
    ! Fixed to use hb_releaseCPU() instead of hb_idleSleep( 0.2 ).
      I'm not sure whether this code part was active, but looked like 
      a very bad workaround if the 0.2 sec sleep was really needed there.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/ctc.c
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/tests/demoqt.prg
    trunk/harbour/src/rtl/errapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Nov 19 11:09:55 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov 19 11:10:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12938] trunk/harbour
In-Reply-To: <000401ca6930$d4328db0$7c97a910$@Bisz@t-online.hu>
References: <E1NB4c8-0002dJ-74@c3vjzd1.ch3.sourceforge.com>	<000301ca692e$1d87eda0$5897c8e0$@Bisz@t-online.hu>
	<7A42E2BC-5F16-4156-91B9-ECE05E78B50C@syenar.hu>
	<000401ca6930$d4328db0$7c97a910$@Bisz@t-online.hu>
Message-ID: <03FDBF93-C5F4-4AE1-AE1E-E1960A3345AD@syenar.hu>

Thank you. Does this mean this extra package 
is required to get moc installed? [ In this 
case we shall document it. ]

Can you check where 'moc' executable is located 
on your system after installing this pkg? If it's 
installed in non-standard location, is there any 
envvar or command to find out its location?

BTW, on Ubuntu 9.10 moc is located in /usr/bin/
just like on Darwin.

Brgds,
Viktor

On 2009 Nov 19, at 16:56, Bisz Istv?n wrote:

> Hi Viktor,
> 
>> *nix users will have to advise where to look for this 
>> component. F.e. on Darwin, it's installed to system 
>> location, which is in PATH.
> 
>> I can add extra logic if needed, but I need to know 
>> what would that be. 'moc' is commonly needed for anything 
>> which uses QT, so I suppose it must be there somewhere.
> 
> Until now I found this, needs some investigations:
> 
> Information for build automoc-1.0-0.13.rc3.fc12
> ID 116339 
> Package Name automoc 
> Version 1.0 
> Release 0.13.rc3.fc12 
> Epoch  
> Summary Automatic moc for Qt 4 
> Description This package contains the automoc4 binary which is used to run moc on the
> right source files in a Qt 4 or KDE 4 application.
> Moc is the meta object compiler which is a widely used tool with Qt and
> creates standard C++ files to provide syntactic sugar of the signal/slots
> mechanism.
> 
> Best regards,
> Istv?n
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Thu Nov 19 11:23:22 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Nov 19 11:23:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12938] trunk/harbour
In-Reply-To: <03FDBF93-C5F4-4AE1-AE1E-E1960A3345AD@syenar.hu>
References: <E1NB4c8-0002dJ-74@c3vjzd1.ch3.sourceforge.com>
	<7A42E2BC-5F16-4156-91B9-ECE05E78B50C@syenar.hu>
	<03FDBF93-C5F4-4AE1-AE1E-E1960A3345AD@syenar.hu>
Message-ID: <9257026e0911190823o49869e0ek49aad570fd2b68a9@mail.gmail.com>

On Thu, Nov 19, 2009 at 5:09 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> BTW, on Ubuntu 9.10 moc is located in /usr/bin/
> just like on Darwin.

If you install QT's standard SDK package it goes to /opt/qtsdk/qt/bin.

Only very new distros have QT >= 4.5, I would be nice to provide
support of standard QT packages also.

best regards,
Lorenzo
From Istvan.Bisz at t-online.hu  Thu Nov 19 11:24:11 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Thu Nov 19 11:24:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12938] trunk/harbour
In-Reply-To: <03FDBF93-C5F4-4AE1-AE1E-E1960A3345AD@syenar.hu>
References: <E1NB4c8-0002dJ-74@c3vjzd1.ch3.sourceforge.com>	<000301ca692e$1d87eda0$5897c8e0$@Bisz@t-online.hu>	<7A42E2BC-5F16-4156-91B9-ECE05E78B50C@syenar.hu>	<000401ca6930$d4328db0$7c97a910$@Bisz@t-online.hu>
	<03FDBF93-C5F4-4AE1-AE1E-E1960A3345AD@syenar.hu>
Message-ID: <000501ca6934$bbe0d3d0$33a27b70$@Bisz@t-online.hu>

> BTW, on Ubuntu 9.10 moc is located in /usr/bin/ just like on Darwin.

Thanks, finally I can locate it: /usr/bin/moc-q4 is the executable. We should change moc to moc-q4 for Fedora. Probable the distro designers distinguishes between Qt3 and Qt4 variants. 
These findings where without the mentioned automoc installation, this may be is an another issue.

Best regards,
Istv?n


From Istvan.Bisz at t-online.hu  Thu Nov 19 11:30:41 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Thu Nov 19 11:30:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12938] trunk/harbour
In-Reply-To: <000501ca6934$bbe0d3d0$33a27b70$@Bisz@t-online.hu>
References: <E1NB4c8-0002dJ-74@c3vjzd1.ch3.sourceforge.com>	<000301ca692e$1d87eda0$5897c8e0$@Bisz@t-online.hu>	<7A42E2BC-5F16-4156-91B9-ECE05E78B50C@syenar.hu>	<000401ca6930$d4328db0$7c97a910$@Bisz@t-online.hu>	<03FDBF93-C5F4-4AE1-AE1E-E1960A3345AD@syenar.hu>
	<000501ca6934$bbe0d3d0$33a27b70$@Bisz@t-online.hu>
Message-ID: <000601ca6935$a2bc40f0$e834c2d0$@Bisz@t-online.hu>

> Thanks, finally I can locate it: /usr/bin/moc-q4 is the executable.
I am in dialog with me, sorry...

Thanks, finally I can locate it: /usr/bin/moc-qt4 is the executable. We should change moc to moc-qt4 for Fedora.


From vszakats at users.sourceforge.net  Thu Nov 19 12:53:11 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Nov 19 12:53:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12941] trunk/harbour
Message-ID: <E1NBBBv-0007gc-0s@bj8yhf1.ch3.sourceforge.com>

Revision: 12941
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12941&view=rev
Author:   vszakats
Date:     2009-11-19 17:53:10 +0000 (Thu, 19 Nov 2009)

Log Message:
-----------

2009-11-19 18:48 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/detect.mk
    + Added more sophisticated autodetection of moc 
      executable. Please test on you system.
      Envvar HB_QT_MOC_BIN can always be used to specify the 
      name of QT 'moc' executable, so if autodetection fails, 
      please use it and report the value that worked for you.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/detect.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Thu Nov 19 13:03:43 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Thu Nov 19 13:03:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12938] trunk/harbour
In-Reply-To: <7A42E2BC-5F16-4156-91B9-ECE05E78B50C@syenar.hu>
References: <E1NB4c8-0002dJ-74@c3vjzd1.ch3.sourceforge.com>	<000301ca692e$1d87eda0$5897c8e0$@Bisz@t-online.hu>
	<7A42E2BC-5F16-4156-91B9-ECE05E78B50C@syenar.hu>
Message-ID: <000c01ca6942$a245c580$e6d15080$@Bisz@t-online.hu>

Hi Viktor,

> I can't comment that.

> [ probably the same as in maindllp.c. What compiler/version is this? ]

It looks to be 4.4.2:

Information for build gcc-4.4.2-10.fc12
ID 141251 
Package Name gcc 
Version 4.4.2 
Release 10.fc12 
Epoch  
Summary Various compilers (C, C++, Objective-C, Java, ...) 
Description The gcc package contains the GNU Compiler Collection version 4.4.
You'll need this package in order to compile C code. 

Best regards,
Istv?n


From harbour.01 at syenar.hu  Thu Nov 19 13:17:34 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov 19 13:17:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12938] trunk/harbour
In-Reply-To: <000c01ca6942$a245c580$e6d15080$@Bisz@t-online.hu>
References: <E1NB4c8-0002dJ-74@c3vjzd1.ch3.sourceforge.com>	<000301ca692e$1d87eda0$5897c8e0$@Bisz@t-online.hu>
	<7A42E2BC-5F16-4156-91B9-ECE05E78B50C@syenar.hu>
	<000c01ca6942$a245c580$e6d15080$@Bisz@t-online.hu>
Message-ID: <B4529190-326D-45B6-A38F-2248FFDE9855@syenar.hu>

>> I can't comment that.
> 
>> [ probably the same as in maindllp.c. What compiler/version is this? ]
> 
> It looks to be 4.4.2:
> 
> Information for build gcc-4.4.2-10.fc12
> ID 141251 
> Package Name gcc 
> Version 4.4.2 
> Release 10.fc12 
> Epoch  
> Summary Various compilers (C, C++, Objective-C, Java, ...) 
> Description The gcc package contains the GNU Compiler Collection version 4.4.
> You'll need this package in order to compile C code. 

Thank you for the information.

Here are 4.4.2 changes documented:
   http://gcc.gnu.org/gcc-4.4/changes.html

Please feel free to fix these new errors/warnings.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Thu Nov 19 13:37:01 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Thu Nov 19 13:37:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12941] trunk/harbour
In-Reply-To: <E1NBBBv-0007gc-0s@bj8yhf1.ch3.sourceforge.com>
References: <E1NBBBv-0007gc-0s@bj8yhf1.ch3.sourceforge.com>
Message-ID: <000d01ca6947$49030690$db0913b0$@Bisz@t-online.hu>

Hi Viktor,

>    + Added more sophisticated autodetection of moc 
>      executable. Please test on you system.
>      Envvar HB_QT_MOC_BIN can always be used to specify the 
>      name of QT 'moc' executable, so if autodetection fails, 
>      please use it and report the value that worked for you.

On Fedora 12 we have now:

================================================
native build:
Information for build gcc-4.4.2-10.fc12
ID 141251
Package Name gcc
Version 4.4.2
Release 10.fc12
================================================

../../../gtcrs.c: In function ?void mouse_init(InOutBase*)?:
../../../gtcrs.c:1244: warning: deprecated conversion from string constant to ?char*?
../../../gtcrs.c: In function ?void mouse_init(InOutBase*)?:
../../../gtcrs.c:1244: warning: deprecated conversion from string constant to ?char*?

================================================
Windows cross build:
Information for build mingw32-gcc-4.4.1-3.fc12
ID 132548 
Package Name mingw32-gcc 
Version 4.4.1 
Release 3.fc12 
================================================

In file included from ../../../fm.c:181,
                 from ../../../hvmall.c:95:
../../../dlmalloc.c: In function 'void* dlmalloc(size_t)':
../../../dlmalloc.c:4107: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4105: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4104: note: initialized from here
../../../dlmalloc.c:4125: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4123: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4122: note: initialized from here
../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4134: note: initialized from here
../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3766: note: initialized from here
../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3727: note: initialized from here
../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../dlmalloc.c:3244: note: initialized from here
../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3302: note: initialized from here
../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3358: note: initialized from here
../../../dlmalloc.c: In function 'void dlfree(void*)':
../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4283: note: initialized from here
../../../../maindllp.c: In function 'char* hb_parvdsbuff(char*, int, ...)':
../../../../maindllp.c:451: warning: deprecated conversion from string constant to 'char*'
In file included from ../../../../fm.c:181,
                 from ../../../../hvmall.c:95:
../../../../dlmalloc.c: In function 'void* dlmalloc(size_t)':
../../../../dlmalloc.c:4107: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4105: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4104: note: initialized from here
../../../../dlmalloc.c:4125: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4123: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4122: note: initialized from here
../../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4134: note: initialized from here
../../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3766: note: initialized from here
../../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3727: note: initialized from here
../../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../../dlmalloc.c:3244: note: initialized from here
../../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3302: note: initialized from here
../../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3358: note: initialized from here
../../../../dlmalloc.c: In function 'void dlfree(void*)':
../../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4283: note: initialized from here
/bin/sh: /usr/i686-pc-mingw32/sys-root/mingw/include..binmoc.exe: No such file or directory
make[3]: *** [moc_slots.cpp] Error 127
make[2]: *** [descend] Error 2
make[1]: *** [hbqt.inst] Error 2
make: *** [contrib.inst] Error 2

Best regards,
Istv?n


From Istvan.Bisz at t-online.hu  Thu Nov 19 13:46:26 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Thu Nov 19 13:46:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12938] trunk/harbour
In-Reply-To: <B4529190-326D-45B6-A38F-2248FFDE9855@syenar.hu>
References: <E1NB4c8-0002dJ-74@c3vjzd1.ch3.sourceforge.com>	<000301ca692e$1d87eda0$5897c8e0$@Bisz@t-online.hu>	<7A42E2BC-5F16-4156-91B9-ECE05E78B50C@syenar.hu>	<000c01ca6942$a245c580$e6d15080$@Bisz@t-online.hu>
	<B4529190-326D-45B6-A38F-2248FFDE9855@syenar.hu>
Message-ID: <001101ca6948$99d2c7d0$cd785770$@Bisz@t-online.hu>

Hi Viktor,

> Here are 4.4.2 changes documented:
>   http://gcc.gnu.org/gcc-4.4/changes.html

> Please feel free to fix these new errors/warnings.

Now we have with gcc 4.4.2. just the following issue(s):

================================================

../../../gtcrs.c: In function ?void mouse_init(InOutBase*)?:
../../../gtcrs.c:1244: warning: deprecated conversion from string constant
to ?char*?
../../../gtcrs.c: In function ?void mouse_init(InOutBase*)?:
../../../gtcrs.c:1244: warning: deprecated conversion from string constant
to ?char*?

================================================

It makes no sense to enter in these(or this) more deeply.

Best regards,
Istv?n


From vszakats at users.sourceforge.net  Thu Nov 19 13:57:57 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Nov 19 13:58:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12942] trunk/harbour
Message-ID: <E1NBCCa-0000JA-W4@bj8yhf1.ch3.sourceforge.com>

Revision: 12942
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12942&view=rev
Author:   vszakats
Date:     2009-11-19 18:57:55 +0000 (Thu, 19 Nov 2009)

Log Message:
-----------
2009-11-19 19:57 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/detect.mk
    ! Fix attempt to handle cross-build situations.

  * src/rtl/errintlo.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/detect.mk
    trunk/harbour/src/rtl/errintlo.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Nov 19 14:01:27 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov 19 14:01:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12938] trunk/harbour
In-Reply-To: <001101ca6948$99d2c7d0$cd785770$@Bisz@t-online.hu>
References: <E1NB4c8-0002dJ-74@c3vjzd1.ch3.sourceforge.com>	<000301ca692e$1d87eda0$5897c8e0$@Bisz@t-online.hu>	<7A42E2BC-5F16-4156-91B9-ECE05E78B50C@syenar.hu>	<000c01ca6942$a245c580$e6d15080$@Bisz@t-online.hu>
	<B4529190-326D-45B6-A38F-2248FFDE9855@syenar.hu>
	<001101ca6948$99d2c7d0$cd785770$@Bisz@t-online.hu>
Message-ID: <4F5B6CA5-2AA7-4940-B379-85D3BDD6F48D@syenar.hu>

>> Here are 4.4.2 changes documented:
>>  http://gcc.gnu.org/gcc-4.4/changes.html
> 
>> Please feel free to fix these new errors/warnings.
> 
> Now we have with gcc 4.4.2. just the following issue(s):
> 
> ================================================
> 
> ../../../gtcrs.c: In function ?void mouse_init(InOutBase*)?:
> ../../../gtcrs.c:1244: warning: deprecated conversion from string constant
> to ?char*?
> ../../../gtcrs.c: In function ?void mouse_init(InOutBase*)?:
> ../../../gtcrs.c:1244: warning: deprecated conversion from string constant
> to ?char*?
> 
> ================================================
> 
> It makes no sense to enter in these(or this) more deeply.

Well, we should fix it, but since I could only guess, 
it would take a lot of commit - report - commit - etc cycles.

You can try adding ( char * ) cast as I suggested, 
at least in maindllp.c.

I hope Przemek can take a better look at it.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Thu Nov 19 14:38:36 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Thu Nov 19 14:38:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12942] trunk/harbour
In-Reply-To: <E1NBCCa-0000JA-W4@bj8yhf1.ch3.sourceforge.com>
References: <E1NBCCa-0000JA-W4@bj8yhf1.ch3.sourceforge.com>
Message-ID: <001501ca694f$e3a2f180$aae8d480$@Bisz@t-online.hu>

Hi Viktor,

>  * contrib/hbqt/detect.mk
>    ! Fix attempt to handle cross-build situations.

On Fedora 12 we have now:

================================================
native build:
Information for build gcc-4.4.2-10.fc12
ID 141251
Package Name gcc
Version 4.4.2
Release 10.fc12
================================================
../../../gtcrs.c: In function ?void mouse_init(InOutBase*)?:
../../../gtcrs.c:1244: warning: deprecated conversion from string constant to ?char*?
../../../gtcrs.c: In function ?void mouse_init(InOutBase*)?:
../../../gtcrs.c:1244: warning: deprecated conversion from string constant to ?char*?
================================================
Windows cross build:
Information for build mingw32-gcc-4.4.1-3.fc12
ID 132548
Package Name mingw32-gcc
Version 4.4.1
Release 3.fc12
================================================
In file included from ../../../fm.c:181,
                 from ../../../hvmall.c:95:
../../../dlmalloc.c: In function 'void* dlmalloc(size_t)':
../../../dlmalloc.c:4107: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4105: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4104: note: initialized from here
../../../dlmalloc.c:4125: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4123: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4122: note: initialized from here
../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4134: note: initialized from here
../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3766: note: initialized from here
../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3727: note: initialized from here
../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../dlmalloc.c:3244: note: initialized from here
../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3302: note: initialized from here
../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3358: note: initialized from here
../../../dlmalloc.c: In function 'void dlfree(void*)':
../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4283: note: initialized from here
../../../../maindllp.c: In function 'char* hb_parvdsbuff(char*, int, ...)':
../../../../maindllp.c:451: warning: deprecated conversion from string constant to 'char*'
In file included from ../../../../fm.c:181,
                 from ../../../../hvmall.c:95:
../../../../dlmalloc.c: In function 'void* dlmalloc(size_t)':
../../../../dlmalloc.c:4107: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4105: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4104: note: initialized from here
../../../../dlmalloc.c:4125: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4123: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4122: note: initialized from here
../../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4134: note: initialized from here
../../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3766: note: initialized from here
../../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3727: note: initialized from here
../../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../../dlmalloc.c:3244: note: initialized from here
../../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3302: note: initialized from here
../../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3358: note: initialized from here
../../../../dlmalloc.c: In function 'void dlfree(void*)':
../../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4283: note: initialized from here
In file included from moc_slots.cpp:10:
../../../../../contrib/hbqt/hbqt_slots.h:72:21: error: QWebFrame: No such file or directory
In file included from moc_slots.cpp:10:
../../../../../contrib/hbqt/hbqt_slots.h:246: error: 'QWebFrame' has not been declared
../../../../../contrib/hbqt/hbqt_slots.h:248: error: 'QWebFrame' has not been declared
../../../../../contrib/hbqt/hbqt_slots.h:257: error: 'QWebFrame' has not been declared
../../../../../contrib/hbqt/hbqt_slots.h:259: error: 'QWebFrame' has not been declared
../../../../../contrib/hbqt/hbqt_slots.h:260: error: 'QWebFrame' has not been declared
../../../../../contrib/hbqt/hbqt_slots.h:260: error: 'QWebHistoryItem' has not been declared
../../../../../contrib/hbqt/hbqt_slots.h:265: error: 'QNetworkReply' has not been declared
moc_slots.cpp: In member function 'virtual int Slots::qt_metacall(QMetaObject::Call, int, void**)':
moc_slots.cpp:607: error: expected type-specifier before 'QWebFrame'
moc_slots.cpp:607: error: expected '>' before 'QWebFrame'
moc_slots.cpp:607: error: expected '(' before 'QWebFrame'
moc_slots.cpp:607: error: 'QWebFrame' was not declared in this scope
moc_slots.cpp:607: error: expected primary-expression before ')' token
moc_slots.cpp:609: error: expected type-specifier before 'QWebFrame'
moc_slots.cpp:609: error: expected '>' before 'QWebFrame'
moc_slots.cpp:609: error: expected '(' before 'QWebFrame'
moc_slots.cpp:609: error: expected primary-expression before ')' token
moc_slots.cpp:618: error: expected type-specifier before 'QWebFrame'
moc_slots.cpp:618: error: expected '>' before 'QWebFrame'
moc_slots.cpp:618: error: expected '(' before 'QWebFrame'
moc_slots.cpp:618: error: expected primary-expression before ')' token
moc_slots.cpp:620: error: expected type-specifier before 'QWebFrame'
moc_slots.cpp:620: error: expected '>' before 'QWebFrame'
moc_slots.cpp:620: error: expected '(' before 'QWebFrame'
moc_slots.cpp:620: error: expected primary-expression before ')' token
moc_slots.cpp:621: error: expected type-specifier before 'QWebFrame'
moc_slots.cpp:621: error: expected '>' before 'QWebFrame'
moc_slots.cpp:621: error: expected '(' before 'QWebFrame'
moc_slots.cpp:621: error: expected primary-expression before ')' token
moc_slots.cpp:621: error: expected type-specifier before 'QWebHistoryItem'
moc_slots.cpp:621: error: expected '>' before 'QWebHistoryItem'
moc_slots.cpp:621: error: expected '(' before 'QWebHistoryItem'
moc_slots.cpp:621: error: 'QWebHistoryItem' was not declared in this scope
moc_slots.cpp:621: error: expected primary-expression before ')' token
moc_slots.cpp:621: error: expected ')' before ';' token
moc_slots.cpp:626: error: expected type-specifier before 'QNetworkReply'
moc_slots.cpp:626: error: expected '>' before 'QNetworkReply'
moc_slots.cpp:626: error: expected '(' before 'QNetworkReply'
moc_slots.cpp:626: error: 'QNetworkReply' was not declared in this scope
moc_slots.cpp:626: error: expected primary-expression before ')' token
make[3]: *** [moc_slots.o] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [hbqt.inst] Error 2
make: *** [contrib.inst] Error 2
================================================

Thank you the above issues are solved, we are back to the original, but not so desired status, see below: 

Now we are facing with an already reported issue: Migw32 without QtWebKit port. Here as I think we will need a common thinking, how to solve in cross building the limited Qt support. In Fedora 'migw' Qt port of the QWebKit is missing. I don't know the status of the other distroes.
Here we need a splitting of the already monolithic hbqt components and an very clever detection of the components (The QtCore and QtGui should be compulsory, just the QtNetwork and QtWebkit are optional until now) ported by the distro designers. 

Best regards,
Istv?n


From druzus at acn.waw.pl  Thu Nov 19 15:02:35 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 19 15:02:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12941] trunk/harbour
In-Reply-To: <000d01ca6947$49030690$db0913b0$@Bisz@t-online.hu>
References: <E1NBBBv-0007gc-0s@bj8yhf1.ch3.sourceforge.com>
	<000d01ca6947$49030690$db0913b0$@Bisz@t-online.hu>
Message-ID: <20091119200235.GA12214@34-mo7-2.home.aster.pl>

On Thu, 19 Nov 2009, Bisz Istv?n wrote:

Hi,

> ../../../gtcrs.c: In function ?void mouse_init(InOutBase*)?:
> ../../../gtcrs.c:1244: warning: deprecated conversion from string constant to ?char*?
> ../../../gtcrs.c: In function ?void mouse_init(InOutBase*)?:
> ../../../gtcrs.c:1244: warning: deprecated conversion from string constant to ?char*?

Looks that in fedora tigetnum() parameter is declared without const.
I do not think  that we should pacify this warning to hide problems
in pure quality distributions.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Nov 19 15:03:48 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov 19 15:03:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12942] trunk/harbour
In-Reply-To: <001501ca694f$e3a2f180$aae8d480$@Bisz@t-online.hu>
References: <E1NBCCa-0000JA-W4@bj8yhf1.ch3.sourceforge.com>
	<001501ca694f$e3a2f180$aae8d480$@Bisz@t-online.hu>
Message-ID: <C7744DCB-D92D-4FF2-B508-B9C82868B483@syenar.hu>

> ../../../../../contrib/hbqt/hbqt_slots.h:246: error: 'QWebFrame' has not been declared
> ../../../../../contrib/hbqt/hbqt_slots.h:248: error: 'QWebFrame' has not been declared
> ../../../../../contrib/hbqt/hbqt_slots.h:257: error: 'QWebFrame' has not been declared
> ../../../../../contrib/hbqt/hbqt_slots.h:259: error: 'QWebFrame' has not been declared
> ../../../../../contrib/hbqt/hbqt_slots.h:260: error: 'QWebFrame' has not been declared
> ../../../../../contrib/hbqt/hbqt_slots.h:260: error: 'QWebHistoryItem' has not been declared
> ../../../../../contrib/hbqt/hbqt_slots.h:265: error: 'QNetworkReply' has not been declared
> moc_slots.cpp: In member function 'virtual int Slots::qt_metacall(QMetaObject::Call, int, void**)':
> moc_slots.cpp:607: error: expected type-specifier before 'QWebFrame'
> moc_slots.cpp:607: error: expected '>' before 'QWebFrame'
> moc_slots.cpp:607: error: expected '(' before 'QWebFrame'
> moc_slots.cpp:607: error: 'QWebFrame' was not declared in this scope
> moc_slots.cpp:607: error: expected primary-expression before ')' token
> moc_slots.cpp:621: error: expected '(' before 'QWebHistoryItem'
> moc_slots.cpp:621: error: 'QWebHistoryItem' was not declared in this scope
> moc_slots.cpp:621: error: expected primary-expression before ')' token
> moc_slots.cpp:621: error: expected ')' before ';' token
> moc_slots.cpp:626: error: expected type-specifier before 'QNetworkReply'
> moc_slots.cpp:626: error: expected '>' before 'QNetworkReply'
> moc_slots.cpp:626: error: expected '(' before 'QNetworkReply'
> moc_slots.cpp:626: error: 'QNetworkReply' was not declared in this scope
> moc_slots.cpp:626: error: expected primary-expression before ')' token
> make[3]: *** [moc_slots.o] Error 1
> make[2]: *** [descend] Error 2
> make[1]: *** [hbqt.inst] Error 2
> make: *** [contrib.inst] Error 2
> ================================================
> 
> Thank you the above issues are solved, we are back to the original, but not so desired status, see below: 
> 
> Now we are facing with an already reported issue: Migw32 without QtWebKit port. Here as I think we will need a common thinking, how to solve in cross building the limited Qt support. In Fedora 'migw' Qt port of the QWebKit is missing. I don't know the status of the other distroes.
> Here we need a splitting of the already monolithic hbqt components and an very clever detection of the components (The QtCore and QtGui should be compulsory, just the QtNetwork and QtWebkit are optional until now) ported by the distro designers. 

To me it's still a mistery how can QT operate with 
such monolithic constructs as moc_slots.cpp and 
hbqt_slots.cpp. I didn't try, but I suppose this 
means we can't just drop hbqtwebkit from a build, 
because it would cause unresolved externals at that 
instant. This looks very wrong and ugly (but maybe 
not, someone should try it: hint). If this is 
a QT property, we need to find some hacks to work 
around it, but if there is a proper way to get around 
it and make above parts granular/modular we should 
aim for it. Ideally I'd drop central hbqt lib 
completely.

If only the first (hack) option is possible, I'd 
like to leave debunking this build matter to the 
interested users, unfortunately I'm not one of them.
It looks and ugly road to the wrong direction.

Other solutions:
- We say Harbour needs a _full_ QT component. Period.
- We drop QWebKit from supported components completely.

Brgds,
Viktor

From Istvan.Bisz at t-online.hu  Thu Nov 19 15:08:09 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Thu Nov 19 15:08:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12941] trunk/harbour
In-Reply-To: <20091119200235.GA12214@34-mo7-2.home.aster.pl>
References: <E1NBBBv-0007gc-0s@bj8yhf1.ch3.sourceforge.com>	<000d01ca6947$49030690$db0913b0$@Bisz@t-online.hu>
	<20091119200235.GA12214@34-mo7-2.home.aster.pl>
Message-ID: <000001ca6954$03feccc0$0bfc6640$@Bisz@t-online.hu>

Hi Przemek,

Do you think that we should forward these to the Fedora(or gcc) developers?

Best regards,
Istv?n
 

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Przemyslaw Czerpak
Sent: 2009. november 19. 21:03
To: Harbour Project Main Developer List.
Subject: Re: RE: [Harbour] SF.net SVN: harbour-project:[12941] trunk/harbour

On Thu, 19 Nov 2009, Bisz Istv?n wrote:

Hi,

> ../../../gtcrs.c: In function ?void mouse_init(InOutBase*)?:
> ../../../gtcrs.c:1244: warning: deprecated conversion from string constant to ?char*?
> ../../../gtcrs.c: In function ?void mouse_init(InOutBase*)?:
> ../../../gtcrs.c:1244: warning: deprecated conversion from string constant to ?char*?

Looks that in fedora tigetnum() parameter is declared without const.
I do not think  that we should pacify this warning to hide problems
in pure quality distributions.

best regards,
Przemek
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From Istvan.Bisz at t-online.hu  Thu Nov 19 15:12:44 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Thu Nov 19 15:12:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12942] trunk/harbour
In-Reply-To: <C7744DCB-D92D-4FF2-B508-B9C82868B483@syenar.hu>
References: <E1NBCCa-0000JA-W4@bj8yhf1.ch3.sourceforge.com>	<001501ca694f$e3a2f180$aae8d480$@Bisz@t-online.hu>
	<C7744DCB-D92D-4FF2-B508-B9C82868B483@syenar.hu>
Message-ID: <000101ca6954$a7cd2810$f7677830$@Bisz@t-online.hu>

Hi Viktor,

I personally am opting to this: - We drop QWebKit from supported components
completely.
Each distribution has its own solution.
 
Best regards,
Istv?n


From harbour.01 at syenar.hu  Thu Nov 19 15:22:41 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov 19 15:22:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12942] trunk/harbour
In-Reply-To: <000101ca6954$a7cd2810$f7677830$@Bisz@t-online.hu>
References: <E1NBCCa-0000JA-W4@bj8yhf1.ch3.sourceforge.com>	<001501ca694f$e3a2f180$aae8d480$@Bisz@t-online.hu>
	<C7744DCB-D92D-4FF2-B508-B9C82868B483@syenar.hu>
	<000101ca6954$a7cd2810$f7677830$@Bisz@t-online.hu>
Message-ID: <A53E6F10-90F2-4A0A-AFA7-882890892DFD@syenar.hu>

> Hi Viktor,
> 
> I personally am opting to this: - We drop QWebKit from supported components
> completely.
> Each distribution has its own solution.

Okay, I don't mind to drop it either, but only 
if there is no solution to make hbqt modular.

I invite everyone to form an opinion on this, 
considering also the other options listed 
in my prev mail.

Brgds,
Viktor

From druzus at acn.waw.pl  Thu Nov 19 16:09:09 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 19 16:09:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12941]
	trunk/harbour
In-Reply-To: <000001ca6954$03feccc0$0bfc6640$@Bisz@t-online.hu>
References: <E1NBBBv-0007gc-0s@bj8yhf1.ch3.sourceforge.com>
	<000d01ca6947$49030690$db0913b0$@Bisz@t-online.hu>
	<20091119200235.GA12214@34-mo7-2.home.aster.pl>
	<000001ca6954$03feccc0$0bfc6640$@Bisz@t-online.hu>
Message-ID: <20091119210909.GA12411@34-mo7-2.home.aster.pl>

On Thu, 19 Nov 2009, Bisz Istv?n wrote:

Hi,

> Do you think that we should forward these to the Fedora(or gcc) developers?

Rather to Fedora or NCURSES developers. It's not GCC related problem.

in ncurses tigetnum is declared as:
   #undef  NCURSES_CONST
   #define NCURSES_CONST const
   [...]
   extern NCURSES_EXPORT(int) tigetnum (NCURSES_CONST char *);

in PDCURSES (DJGPP):
   int tigetnum(const char *);

in NET BSD curses:
   int tgetnum(const char *);

In some very old curses versions it was declared as:
   int tigetnum(char *);
but in most of cases this declaration was fixed long time ago though
AFAIR SunOS still uses the wrong declaration. It should be 'const char *'.

For some reasons in the recent FC the wrong declaration was reactivated.
Probably some mistake in [n]curses build or configuration process but
I do not have any FC installed to check it. Or maybe some developer
make it compatible with some old curses documentation without understanding
what he really does (such declaration forbids using literal constants as
parameter).
I do not believe that internally new [n]curses begins to change this
parameter and I do not plan to introduce some hacks with writable
strings though in fact the man who changed declaration in FC forces
such modification but in my opinion it's only typo or side effect of
not enough knowledge.
Anyhow as I know the life the problem will return so please change
gtcrs.h[1244] to:
      ioBase->mButtons = tigetnum( ( char * ) "btns" );
to pacify it. I do not have enough energy to fight with it ;-)

best regards,
Przemek
From bruno.luciani at gmail.com  Thu Nov 19 16:26:52 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Nov 19 16:26:59 2009
Subject: [Harbour] HB_SendMail ( )
Message-ID: <133778360911191326l3c47cc0dx446c15ad4c754c99@mail.gmail.com>

Did  HBsendmail    support   ssl  conections ?

Gmail need this feature to send mail trough



Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091119/daefbd66/attachment.html
From mbelgrano at deltain.it  Thu Nov 19 16:42:54 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Nov 19 16:43:22 2009
Subject: [Harbour] HB_SendMail ( )
In-Reply-To: <133778360911191326l3c47cc0dx446c15ad4c754c99@mail.gmail.com>
References: <133778360911191326l3c47cc0dx446c15ad4c754c99@mail.gmail.com>
Message-ID: <609353e70911191342p5270c73fqca033e9c13dd8e97@mail.gmail.com>

i found same info
TIP_SSL() function to return whether SSL functionality is available or not.
from C:\harbour\contrib\hbtip\tests\gmail.prg
/*
 * $Id: gmail.prg 11982 2009-08-07 02:41:18Z vszakats $
 */

/*
 * Copyright 2009 Viktor Szakats (harbour.01 syenar.hu)
 * www - http://www.harbour-project.org
 */

#include "common.ch"
#include "simpleio.ch"

PROCEDURE Main( cFrom, cPassword, cTo )

   DEFAULT cFrom     TO "<myname@gmail.com>"
   DEFAULT cPassword TO "<mypassword>"
   DEFAULT cTo       TO "addressee@domain.com"

   ? hb_SendMail( "smtp.gmail.com",;
                  465,;
                  cFrom,;
                  cTo,;
                  NIL /* CC */,;
                  {} /* BCC */,;
                  "test: body",;
                  "test: subject",;
                  NIL /* attachment */,;
                  cFrom,;
                  cPassword,;
                  "",;
                  NIL /* nPriority */,;
                  NIL /* lRead */,;
                  .T. /* lTrace */,;
                  .F.,;
                  NIL /* lNoAuth */,;
                  NIL /* nTimeOut */,;
                  NIL /* cReplyTo */,;
                  .T. )

   RETURN


2009/11/19 Bruno Luciani <bruno.luciani@gmail.com>:
> Did? HBsendmail??? support?? ssl? conections ?
>
> Gmail need this feature to send mail trough
>
>



--
From Istvan.Bisz at t-online.hu  Thu Nov 19 17:11:07 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Thu Nov 19 17:11:14 2009
Subject: [Harbour] SF.net SVN:
	harbour-project:[12941]	trunk/harbour
In-Reply-To: <20091119210909.GA12411@34-mo7-2.home.aster.pl>
References: <E1NBBBv-0007gc-0s@bj8yhf1.ch3.sourceforge.com>	<000d01ca6947$49030690$db0913b0$@Bisz@t-online.hu>	<20091119200235.GA12214@34-mo7-2.home.aster.pl>	<000001ca6954$03feccc0$0bfc6640$@Bisz@t-online.hu>
	<20091119210909.GA12411@34-mo7-2.home.aster.pl>
Message-ID: <000001ca6965$31a54ad0$94efe070$@Bisz@t-online.hu>

Hi Przemek,

> Anyhow as I know the life the problem will return so please change
> gtcrs.h[1244] to:
>       ioBase->mButtons = tigetnum( ( char * ) "btns" );
> to pacify it. I do not have enough energy to fight with it ;-)

??? Ok. My age is 58 (without so match energy, just advisees), we need here a compromised solution. 

Thanks.
Istv?n 

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Przemyslaw Czerpak
Sent: 2009. november 19. 22:09
To: Harbour Project Main Developer List.
Subject: Re: RE: RE: [Harbour] SF.net SVN: harbour-project:[12941] trunk/harbour

On Thu, 19 Nov 2009, Bisz Istv?n wrote:

Hi,

> Do you think that we should forward these to the Fedora(or gcc) developers?

Rather to Fedora or NCURSES developers. It's not GCC related problem.

in ncurses tigetnum is declared as:
   #undef  NCURSES_CONST
   #define NCURSES_CONST const
   [...]
   extern NCURSES_EXPORT(int) tigetnum (NCURSES_CONST char *);

in PDCURSES (DJGPP):
   int tigetnum(const char *);

in NET BSD curses:
   int tgetnum(const char *);

In some very old curses versions it was declared as:
   int tigetnum(char *);
but in most of cases this declaration was fixed long time ago though
AFAIR SunOS still uses the wrong declaration. It should be 'const char *'.

For some reasons in the recent FC the wrong declaration was reactivated.
Probably some mistake in [n]curses build or configuration process but
I do not have any FC installed to check it. Or maybe some developer
make it compatible with some old curses documentation without understanding
what he really does (such declaration forbids using literal constants as
parameter).
I do not believe that internally new [n]curses begins to change this
parameter and I do not plan to introduce some hacks with writable
strings though in fact the man who changed declaration in FC forces
such modification but in my opinion it's only typo or side effect of
not enough knowledge.
Anyhow as I know the life the problem will return so please change
gtcrs.h[1244] to:
      ioBase->mButtons = tigetnum( ( char * ) "btns" );
to pacify it. I do not have enough energy to fight with it ;-)

best regards,
Przemek
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at users.sourceforge.net  Thu Nov 19 18:18:43 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Nov 19 18:18:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12943] trunk/harbour
Message-ID: <E1NBGGx-0006tr-7v@c3vjzd1.ch3.sourceforge.com>

Revision: 12943
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12943&view=rev
Author:   druzus
Date:     2009-11-19 23:18:42 +0000 (Thu, 19 Nov 2009)

Log Message:
-----------
2009-11-20 00:18 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/gtcrs/gtcrs.c
    * pacified warning caused by wrong tigetnum() declarations in some
      curses versions

  * harbour/src/rtl/gtsln/gtsln.c
    ! fixed non ANSI-C variable declarations

  * harbour/include/hbsetup.h
    + added macros for PURE and CONST function attributes

  * harbour/contrib/hbct/ctc.c
    * modified variable names

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbct/ctc.c
    trunk/harbour/include/hbsetup.h
    trunk/harbour/src/rtl/gtcrs/gtcrs.c
    trunk/harbour/src/rtl/gtsln/gtsln.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Thu Nov 19 18:55:18 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Thu Nov 19 18:55:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12942] trunk/harbour
In-Reply-To: <001501ca694f$e3a2f180$aae8d480$@Bisz@t-online.hu>
References: <E1NBCCa-0000JA-W4@bj8yhf1.ch3.sourceforge.com>
	<001501ca694f$e3a2f180$aae8d480$@Bisz@t-online.hu>
Message-ID: <000001ca6973$bf7fa6d0$3e7ef470$@Bisz@t-online.hu>

Hi Pritpal,

> Now we are facing with an already reported issue: Migw32 without QtWebKit port. Here as I think we will need a common thinking, how to solve in cross building the limited Qt support. > > In Fedora 'migw' Qt port of the QWebKit is missing. I don't know the status of the other distroes.
> Here we need a splitting of the already monolithic hbqt components and an very clever detection of the components (The QtCore and QtGui should be compulsory, just the QtNetwork and
> QtWebkit are optional until now) ported by the distro designers. 

As we know this is an implementation issue. Here we need your last words. Thank you.
 
Best regards,
Istv?n


From Istvan.Bisz at t-online.hu  Thu Nov 19 19:31:09 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Thu Nov 19 19:32:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12943] trunk/harbour
In-Reply-To: <E1NBGGx-0006tr-7v@c3vjzd1.ch3.sourceforge.com>
References: <E1NBGGx-0006tr-7v@c3vjzd1.ch3.sourceforge.com>
Message-ID: <000001ca6978$c1f3c1d0$45db4570$@Bisz@t-online.hu>

Hi Przemek,

>  * contrib/hbqt/detect.mk
>    ! Fix attempt to handle cross-build situations.

On Fedora 12 we have now:

================================================
native build:
Information for build gcc-4.4.2-10.fc12
ID 141251
Package Name gcc
Version 4.4.2
Release 10.fc12
================================================
- no error - Thank you Przemak!!! 
================================================
Windows cross build:
Information for build mingw32-gcc-4.4.1-3.fc12
ID 132548
Package Name mingw32-gcc
Version 4.4.1
Release 3.fc12
We still have the undesired, already mentioned issue.
================================================
In file included from ../../../fm.c:181,
                 from ../../../hvmall.c:95:
../../../dlmalloc.c: In function 'void* dlmalloc(size_t)':
../../../dlmalloc.c:4107: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4105: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4104: note: initialized from here
../../../dlmalloc.c:4125: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4123: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4122: note: initialized from here
../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4134: note: initialized from here
../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3766: note: initialized from here
../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3727: note: initialized from here
../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../dlmalloc.c:3244: note: initialized from here
../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3302: note: initialized from here
../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3358: note: initialized from here
../../../dlmalloc.c: In function 'void dlfree(void*)':
../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4283: note: initialized from here
../../../../maindllp.c: In function 'char* hb_parvdsbuff(char*, int, ...)':
../../../../maindllp.c:451: warning: deprecated conversion from string constant to 'char*'
In file included from ../../../../fm.c:181,
                 from ../../../../hvmall.c:95:
../../../../dlmalloc.c: In function 'void* dlmalloc(size_t)':
../../../../dlmalloc.c:4107: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4105: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4104: note: initialized from here
../../../../dlmalloc.c:4125: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4123: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4122: note: initialized from here
../../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4134: note: initialized from here
../../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3766: note: initialized from here
../../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3727: note: initialized from here
../../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../../dlmalloc.c:3244: note: initialized from here
../../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3302: note: initialized from here
../../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3358: note: initialized from here
../../../../dlmalloc.c: In function 'void dlfree(void*)':
../../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4283: note: initialized from here
In file included from moc_slots.cpp:10:
../../../../../contrib/hbqt/hbqt_slots.h:72:21: error: QWebFrame: No such file or directory
In file included from moc_slots.cpp:10:
../../../../../contrib/hbqt/hbqt_slots.h:246: error: 'QWebFrame' has not been declared
../../../../../contrib/hbqt/hbqt_slots.h:248: error: 'QWebFrame' has not been declared
../../../../../contrib/hbqt/hbqt_slots.h:257: error: 'QWebFrame' has not been declared
../../../../../contrib/hbqt/hbqt_slots.h:259: error: 'QWebFrame' has not been declared
../../../../../contrib/hbqt/hbqt_slots.h:260: error: 'QWebFrame' has not been declared
../../../../../contrib/hbqt/hbqt_slots.h:260: error: 'QWebHistoryItem' has not been declared
../../../../../contrib/hbqt/hbqt_slots.h:265: error: 'QNetworkReply' has not been declared
moc_slots.cpp: In member function 'virtual int Slots::qt_metacall(QMetaObject::Call, int, void**)':
moc_slots.cpp:607: error: expected type-specifier before 'QWebFrame'
moc_slots.cpp:607: error: expected '>' before 'QWebFrame'
moc_slots.cpp:607: error: expected '(' before 'QWebFrame'
moc_slots.cpp:607: error: 'QWebFrame' was not declared in this scope
moc_slots.cpp:607: error: expected primary-expression before ')' token
moc_slots.cpp:609: error: expected type-specifier before 'QWebFrame'
moc_slots.cpp:609: error: expected '>' before 'QWebFrame'
moc_slots.cpp:609: error: expected '(' before 'QWebFrame'
moc_slots.cpp:609: error: expected primary-expression before ')' token
moc_slots.cpp:618: error: expected type-specifier before 'QWebFrame'
moc_slots.cpp:618: error: expected '>' before 'QWebFrame'
moc_slots.cpp:618: error: expected '(' before 'QWebFrame'
moc_slots.cpp:618: error: expected primary-expression before ')' token
moc_slots.cpp:620: error: expected type-specifier before 'QWebFrame'
moc_slots.cpp:620: error: expected '>' before 'QWebFrame'
moc_slots.cpp:620: error: expected '(' before 'QWebFrame'
moc_slots.cpp:620: error: expected primary-expression before ')' token
moc_slots.cpp:621: error: expected type-specifier before 'QWebFrame'
moc_slots.cpp:621: error: expected '>' before 'QWebFrame'
moc_slots.cpp:621: error: expected '(' before 'QWebFrame'
moc_slots.cpp:621: error: expected primary-expression before ')' token
moc_slots.cpp:621: error: expected type-specifier before 'QWebHistoryItem'
moc_slots.cpp:621: error: expected '>' before 'QWebHistoryItem'
moc_slots.cpp:621: error: expected '(' before 'QWebHistoryItem'
moc_slots.cpp:621: error: 'QWebHistoryItem' was not declared in this scope
moc_slots.cpp:621: error: expected primary-expression before ')' token
moc_slots.cpp:621: error: expected ')' before ';' token
moc_slots.cpp:626: error: expected type-specifier before 'QNetworkReply'
moc_slots.cpp:626: error: expected '>' before 'QNetworkReply'
moc_slots.cpp:626: error: expected '(' before 'QNetworkReply'
moc_slots.cpp:626: error: 'QNetworkReply' was not declared in this scope
moc_slots.cpp:626: error: expected primary-expression before ')' token
make[3]: *** [moc_slots.o] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [hbqt.inst] Error 2
make: *** [contrib.inst] Error 2

Best regards,
Istv?n



From fperillo at gmail.com  Thu Nov 19 19:34:35 2009
From: fperillo at gmail.com (francesco perillo)
Date: Thu Nov 19 19:34:43 2009
Subject: [Harbour] A small analysis of hb_sendmail
Message-ID: <6943770e0911191634t78769e8fr8688ea9c6ff055e8@mail.gmail.com>

Harbour trunk of a couple of days ago, compiled with bcc 5.5

Using hb_sendmail(....) I get in the mail server log:
2009-11-19 23:09:57 SMTP connection from [XXXXX] (TCP/IP connection count = 1)
2009-11-19 23:09:58 SMTP protocol synchronization error (input sent
without waiting for greeting): rejected connection from H=YYYYYY
[XXXXXX] input="EHLO tipClientSMTP\r\nQUIT\r\n"


This means that hb_sendmail->TipClientSMTP -> TipClient are sending
bytes before the server introduces itself with a 220 message that I
believe is mandatory ! The server can be out of service and can
announce itself with a 5xx error....

So it looks like there is a missing ::GetOk() in OpenSecure and
Open....  Something like:
METHOD Open( cUrl, lTLS ) CLASS tIPClientSMTP

   IF ! ::super:Open( cUrl )
      RETURN .F.
   ENDIF

   IF ! ::GetOk()  // Wait for the inital banner from the server
      RETURN .F.
   ENDIF

   DEFAULT lTLS TO .F.


If I set timeouts to 10 seconds (1 second is way to low as a default,
btw) add this code to Open and OpenSecure everythings seems to
work....

But looking at some debug output I put in the code, there is something
strange....


In OpenSecure:
00000081	196.01771545	[428] InetSendAll: EHLO tipClientSMTP 	
00000082	196.04241943	[428] GetOk: 250-YYYY Hello XXX [XXX]	
00000083	196.04264832	[428] GetOk: 250-SIZE 33554432	
00000084	196.04287720	[428] GetOk: 250-PIPELINING	
00000085	196.04298401	[428] GetOk: 250 HELP

"250-" means that there are more 250 codes coming
"250 " means it is the last one...

00000086	206.04336548	[428] GetOk: 	
00000087	216.04341125	[428] GetOk: 	

A couple of GetOk that end in timeout... 20 seconds later...
00000088	216.04345703	[428] InetSendAll: QUIT 	


Then in Open:

00000092	217.12054443	[428] InetSendAll: HELO tipClientSMTP 	
00000093	217.14497375	[428] GetOk: 250 mail.tours.it Hello
adsl203-144-114.mclink.it [213.203.144.114]
The server answers immediately but the program waits 10 seconds (the
timeout) in another GetOk....  which one !?

00000094	227.16149902	[428] GetOk: 	
00000095	227.16178894	[428] InetSendAll: MAIL FROM: <fatture@XXX> 	
00000096	227.18704224	[428] GetOk: 250 OK	
00000097	227.18734741	[428] InetSendAll: RCPT TO: <sender@XXXX> 	
00000098	227.21192932	[428] GetOk: 250 Accepted	

Here it seems to be ok, also after the DATA part....


So I added:
            ELSEIF "PLAIN" $ oInMail:cReply
               lAuthPlain := .T.
#if defined( HB_HAS_OPENSSL )
            ELSEIF "STARTTLS" $ oInMail:cReply
               lAuthTLS := .T.
#endif
            ELSEIF Left( oInMail:cReply, 4 ) == "250 "
                EXIT
            ENDIF
         ENDDO


Some rows later, I remmed this loop since it does nothing... and
GetOk() is already called in Open()... It works OK as a proof of
concept but here the server is responding to a HELO message and there
MAY be multiline 250 messages, like for EHLO message...

      // DO WHILE .T.
      //    IF ! oInMail:GetOk()
      //       EXIT
      //    ENDIF
      //    IF oInMail:cReply == NIL
      //       EXIT
      //    ENDIF
      // ENDDO


It's too late this evening, tomorrow I will change this part to a loop
that checks for "250 " starting to check from tha already filled
cReply (for one line 250....)


FINALLY: there are some small problems in hb_sendmail
implementation... and the first one that started my review should
create problems to almost every user that connect to a non-local mail
server.....
- it doesn't fully respect handling return codes (it doesn't
understand when there are no more replies to wait for)
- it's said that User/Password/pop3 server are mandatory but I didn't
specifieed them (I don't need them!)
- I believe lAuth default value should be set depending on the
presence of User/password... but I should study the code a bit
more....


Francesco
From bruno.luciani at gmail.com  Thu Nov 19 19:52:59 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Nov 19 19:53:08 2009
Subject: [Harbour] HB_SendMail ( )
In-Reply-To: <609353e70911191342p5270c73fqca033e9c13dd8e97@mail.gmail.com>
References: <133778360911191326l3c47cc0dx446c15ad4c754c99@mail.gmail.com>
	<609353e70911191342p5270c73fqca033e9c13dd8e97@mail.gmail.com>
Message-ID: <133778360911191652r12b912f1yb4a9d0dec0517a65@mail.gmail.com>

Thanks Massimo

Bruno

2009/11/19 Massimo Belgrano <mbelgrano@deltain.it>

> i found same info
> TIP_SSL() function to return whether SSL functionality is available or not.
> from C:\harbour\contrib\hbtip\tests\gmail.prg
> /*
>  * $Id: gmail.prg 11982 2009-08-07 02:41:18Z vszakats $
>  */
>
> /*
>  * Copyright 2009 Viktor Szakats (harbour.01 syenar.hu)
>  * www - http://www.harbour-project.org
>  */
>
> #include "common.ch"
> #include "simpleio.ch"
>
> PROCEDURE Main( cFrom, cPassword, cTo )
>
>   DEFAULT cFrom     TO "<myname@gmail.com>"
>   DEFAULT cPassword TO "<mypassword>"
>   DEFAULT cTo       TO "addressee@domain.com"
>
>   ? hb_SendMail( "smtp.gmail.com",;
>                  465,;
>                  cFrom,;
>                  cTo,;
>                  NIL /* CC */,;
>                  {} /* BCC */,;
>                  "test: body",;
>                  "test: subject",;
>                  NIL /* attachment */,;
>                  cFrom,;
>                  cPassword,;
>                  "",;
>                  NIL /* nPriority */,;
>                  NIL /* lRead */,;
>                  .T. /* lTrace */,;
>                  .F.,;
>                  NIL /* lNoAuth */,;
>                  NIL /* nTimeOut */,;
>                  NIL /* cReplyTo */,;
>                  .T. )
>
>   RETURN
>
>
> 2009/11/19 Bruno Luciani <bruno.luciani@gmail.com>:
> > Did  HBsendmail    support   ssl  conections ?
> >
> > Gmail need this feature to send mail trough
> >
> >
>
>
>
> --
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091119/c5347075/attachment-0001.html
From jerryfinuliar at operamail.com  Thu Nov 19 20:04:14 2009
From: jerryfinuliar at operamail.com (Jerry Finuliar)
Date: Thu Nov 19 20:04:20 2009
Subject: [Harbour] Demoqt
Message-ID: <20091120010414.4C9C2448C8@ws5-1.us4.outblaze.com>

Hi,

In case this is not yet reported in. Demoqt seems to stay in memory after closing

it via X button.

Cheers,

-- 
_______________________________________________
Surf the Web in a faster, safer and easier way:
Download Opera 9 at http://www.opera.com

Powered by Outblaze
From jerryfinuliar at operamail.com  Thu Nov 19 20:06:46 2009
From: jerryfinuliar at operamail.com (Jerry Finuliar)
Date: Thu Nov 19 20:06:53 2009
Subject: [Harbour] Demoqt
Message-ID: <20091120010646.C056C448C8@ws5-1.us4.outblaze.com>

Opps, forgot to mention my env. WinXP SP3, Harbour SVN 12943 and Mingw 3.4.5



-- 
_______________________________________________
Surf the Web in a faster, safer and easier way:
Download Opera 9 at http://www.opera.com

Powered by Outblaze
From druzus at acn.waw.pl  Thu Nov 19 20:35:07 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 19 20:35:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12943] trunk/harbour
In-Reply-To: <000001ca6978$c1f3c1d0$45db4570$@Bisz@t-online.hu>
References: <E1NBGGx-0006tr-7v@c3vjzd1.ch3.sourceforge.com>
	<000001ca6978$c1f3c1d0$45db4570$@Bisz@t-online.hu>
Message-ID: <20091120013507.GA15604@34-mo7-2.home.aster.pl>

On Fri, 20 Nov 2009, Bisz Istv?n wrote:

Hi,

> In file included from ../../../fm.c:181,
>                  from ../../../hvmall.c:95:
> ../../../dlmalloc.c: In function 'void* dlmalloc(size_t)':
> ../../../dlmalloc.c:4107: warning: dereferencing pointer 'b' does break strict-aliasing rules
> ../../../dlmalloc.c:4105: warning: dereferencing pointer 'b' does break strict-aliasing rules
> ../../../dlmalloc.c:4104: note: initialized from here
> ../../../dlmalloc.c:4125: warning: dereferencing pointer 'b' does break strict-aliasing rules
> ../../../dlmalloc.c:4123: warning: dereferencing pointer 'b' does break strict-aliasing rules
> ../../../dlmalloc.c:4122: note: initialized from here
> ../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
> ../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
> ../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
> ../../../dlmalloc.c:4134: note: initialized from here
> ../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3766: note: initialized from here
> ../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3727: note: initialized from here
> ../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
> ../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
> ../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
> ../../../dlmalloc.c:3244: note: initialized from here
> ../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3302: note: initialized from here
> ../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
> ../../../dlmalloc.c:3358: note: initialized from here
> ../../../dlmalloc.c: In function 'void dlfree(void*)':
> ../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
> ../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
> ../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
> ../../../dlmalloc.c:4283: note: initialized from here

DLMALLOC is 3-rd party code.
I do not know if we should try to pacify above warnings.

> ../../../../maindllp.c: In function 'char* hb_parvdsbuff(char*, int, ...)':
> ../../../../maindllp.c:451: warning: deprecated conversion from string constant to 'char*'

This is a bug and I'll commit fix ASAP.
Thank you very much for information.

> In file included from moc_slots.cpp:10:
> ../../../../../contrib/hbqt/hbqt_slots.h:72:21: error: QWebFrame: No such file or directory

You have quite precise information about the source of problem.
Building such libraries in cross builds usually is not easy because they
strongly depends on header files which can be different in local installation
then the one used on destination platform.
Anyhow you can try. In such case you should check why QWebFrame cannot be
found. So please check where is located in your distribution and what
are GCC parameters when this file is compiled (paths set with -I parameter
by hbqt/detect.mk)

If you send this information then maybe I can say sth more about it.

Thank you for your help.

Best regards,
Przemek
From druzus at users.sourceforge.net  Thu Nov 19 20:38:34 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Nov 19 20:38:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12944] trunk/harbour
Message-ID: <E1NBISI-0006mu-0c@bj8yhf1.ch3.sourceforge.com>

Revision: 12944
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12944&view=rev
Author:   druzus
Date:     2009-11-20 01:38:32 +0000 (Fri, 20 Nov 2009)

Log Message:
-----------
2009-11-20 02:38 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/maindllp.c
    ! fixed return value in hb_parvdsbuff() used when original
      hb_parvdsbuff() cannot be found

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/maindllp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Nov 19 21:14:41 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Nov 19 21:14:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12945] trunk/harbour
Message-ID: <E1NBJ1F-0001QC-6c@c3vjzd1.ch3.sourceforge.com>

Revision: 12945
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12945&view=rev
Author:   vouchcac
Date:     2009-11-20 02:14:38 +0000 (Fri, 20 Nov 2009)

Log Message:
-----------
2009-11-19 18:12 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt.hbc
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_slots.h
  * contrib/hbxbp/xbphtmlviewer.prg
    - Removed QtWebKit support. Code still resides in the files.
      I plan to separate it next week. Please post if still any error is
      reported related with QWebKit involved cross builds.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt.hbc
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h
    trunk/harbour/contrib/hbxbp/xbphtmlviewer.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Thu Nov 19 23:25:37 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Thu Nov 19 23:25:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12943] trunk/harbour
In-Reply-To: <000001ca6978$c1f3c1d0$45db4570$@Bisz@t-online.hu>
References: <E1NBGGx-0006tr-7v@c3vjzd1.ch3.sourceforge.com>
	<000001ca6978$c1f3c1d0$45db4570$@Bisz@t-online.hu>
Message-ID: <alpine.DEB.2.00.0911200459310.11887@dawn.royalcomp.hu>

On Fri, 20 Nov 2009, Bisz Istv?n wrote:


 > ../../../dlmalloc.c: In function 'void* dlmalloc(size_t)':
 > ../../../dlmalloc.c:4107: warning: dereferencing pointer 'b' does break strict-aliasing rules

there is an updated dlmalloc available from 
ftp://gee.cs.oswego.edu/pub/misc/ (2.8.4 as opposed to the in-tree 
2.8.3, with a good 3.5yrs between them). my quick build tests show 
that neither watcom nor mingw (4.2.1 here) like it as-is, but to my 
untrained eye they don't look too difficult (from a cursory look it 
looks like they have something to do with mmap, to which end the 
in-tree version has some local changes).

maybe przemek would want to take a peek whether updating to the newer 
upstream is of any benefit to hvm.

-- 
[-]

mkdir /nonexistent
From labitas at gmail.com  Fri Nov 20 03:30:42 2009
From: labitas at gmail.com (Saulius Zrelskis)
Date: Fri Nov 20 03:30:50 2009
Subject: [Harbour] A small analysis of hb_sendmail
In-Reply-To: <6943770e0911191634t78769e8fr8688ea9c6ff055e8@mail.gmail.com>
References: <6943770e0911191634t78769e8fr8688ea9c6ff055e8@mail.gmail.com>
Message-ID: <2386af1b0911200030g3042048cy2477e83dcb63f0de@mail.gmail.com>

Francesco,

>...
> - it doesn't fully respect handling return codes (it doesn't
> understand when there are no more replies to wait for)
>...

In FTP protocol space after reply code means it is last line of
multi-line replies

Best regards,
Saulius
From Istvan.Bisz at t-online.hu  Fri Nov 20 04:05:19 2009
From: Istvan.Bisz at t-online.hu (=?UTF-8?Q?Bisz_Istv=C3=A1n?=)
Date: Fri Nov 20 04:05:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12945] trunk/harbour
In-Reply-To: <E1NBJ1F-0001QC-6c@c3vjzd1.ch3.sourceforge.com>
References: <E1NBJ1F-0001QC-6c@c3vjzd1.ch3.sourceforge.com>
Message-ID: <000a01ca69c0$95cd7db0$c1687910$@Bisz@t-online.hu>

Hi Pritpal,

>    - Removed QtWebKit support. Code still resides in the files.
>      I plan to separate it next week. Please post if still any error is
>      reported related with QWebKit involved cross builds.

On Fedora 12 we have now:

================================================
native build:
Information for build gcc-4.4.2-10.fc12
ID 141251
Package Name gcc
Version 4.4.2
Release 10.fc12
================================================
../../../hbqt_slots.cpp:250: warning: ?void SlotsExecIntIntRect(QObject*, char*, int, int, const QRect&)? defined but not used
../../../hbqt_slots.cpp:308: warning: ?void SlotsExecString3(QObject*, char*, const QString&, const QString&, const QString&)? defined but not used
../../../hbqt_slots.cpp:347: warning: ?void SlotsExecRect(QObject*, char*, const QRect&)? defined but not used
../../../hbqt_slots.cpp:365: warning: ?void SlotsExecUrl(QObject*, char*, const QUrl&)? defined but not used
../../../hbqt_slots.cpp:437: warning: ?void SlotsExecNetworkRequest(QObject*, char*, const QNetworkRequest&)? defined but not used
../../../hbqt_slots.cpp:472: warning: ?void SlotsExecPointerString(QObject*, char*, void*, QString)? defined but not used
================================================
Windows cross build:
Information for build mingw32-gcc-4.4.1-3.fc12
ID 132548
Package Name mingw32-gcc
Version 4.4.1
Release 3.fc12
================================================
In file included from ../../../fm.c:181,
                 from ../../../hvmall.c:95:
../../../dlmalloc.c: In function 'void* dlmalloc(size_t)':
../../../dlmalloc.c:4107: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4105: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4104: note: initialized from here
../../../dlmalloc.c:4125: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4123: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../dlmalloc.c:4122: note: initialized from here
../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4134: note: initialized from here
../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3766: note: initialized from here
../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3727: note: initialized from here
../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../dlmalloc.c:3244: note: initialized from here
../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3302: note: initialized from here
../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../dlmalloc.c:3358: note: initialized from here
../../../dlmalloc.c: In function 'void dlfree(void*)':
../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../dlmalloc.c:4283: note: initialized from here
In file included from ../../../../fm.c:181,
                 from ../../../../hvmall.c:95:
../../../../dlmalloc.c: In function 'void* dlmalloc(size_t)':
../../../../dlmalloc.c:4107: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4105: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4104: note: initialized from here
../../../../dlmalloc.c:4125: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4123: warning: dereferencing pointer 'b' does break strict-aliasing rules
../../../../dlmalloc.c:4122: note: initialized from here
../../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4134: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4134: note: initialized from here
../../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3766: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3766: note: initialized from here
../../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3727: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3727: note: initialized from here
../../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../../dlmalloc.c:3245: warning: dereferencing pointer 'bin' does break strict-aliasing rules
../../../../dlmalloc.c:3244: note: initialized from here
../../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3302: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3302: note: initialized from here
../../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3358: warning: dereferencing pointer 'F' does break strict-aliasing rules
../../../../dlmalloc.c:3358: note: initialized from here
../../../../dlmalloc.c: In function 'void dlfree(void*)':
../../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4283: warning: dereferencing pointer 'B' does break strict-aliasing rules
../../../../dlmalloc.c:4283: note: initialized from here
In file included from moc_slots.cpp:10:
../../../../../contrib/hbqt/hbqt_slots.h:72:21: error: QWebFrame: No such file or directory
make[3]: *** [moc_slots.o] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [hbqt.inst] Error 2
make: *** [contrib.inst] Error 2
================================================

Best regards,
Istv?n


From Istvan.Bisz at t-online.hu  Fri Nov 20 04:28:23 2009
From: Istvan.Bisz at t-online.hu (=?UTF-8?Q?Bisz_Istv=C3=A1n?=)
Date: Fri Nov 20 04:28:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12943] trunk/harbour
In-Reply-To: <20091120013507.GA15604@34-mo7-2.home.aster.pl>
References: <E1NBGGx-0006tr-7v@c3vjzd1.ch3.sourceforge.com>	<000001ca6978$c1f3c1d0$45db4570$@Bisz@t-online.hu>
	<20091120013507.GA15604@34-mo7-2.home.aster.pl>
Message-ID: <000301ca69c3$ceaf13c0$6c0d3b40$@Bisz@t-online.hu>

Hi Przemek, 

> You have quite precise information about the source of problem.
> Building such libraries in cross builds usually is not easy because they strongly depends on header files which can be different in local installation then the one used on destination > platform.
> Anyhow you can try. In such case you should check why QWebFrame cannot be found. So please check where is located in your distribution and what are GCC parameters when this file is compiled (paths set with -I parameter by hbqt/detect.mk)

> If you send this information then maybe I can say sth more about it.

Thank you, all other things are pacified (except dlmalloc.c, but this is an another issue).
The WebFrame is picked up by Pritpal, here we will need a flexible approach replacing the monolithic one.

Best regards,
Istv?n


From ranier at cultura.com.br  Fri Nov 20 08:02:57 2009
From: ranier at cultura.com.br (Ranier Vilela)
Date: Fri Nov 20 07:00:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12943] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0911200459310.11887@dawn.royalcomp.hu>
References: <E1NBGGx-0006tr-7v@c3vjzd1.ch3.sourceforge.com>	<000001ca6978$c1f3c1d0$45db4570$@Bisz@t-online.hu>
	<alpine.DEB.2.00.0911200459310.11887@dawn.royalcomp.hu>
Message-ID: <4B069381.8020908@cultura.com.br>

Tamas TEVESZ escreveu:
> On Fri, 20 Nov 2009, Bisz Istv?n wrote:
>
>
>  > ../../../dlmalloc.c: In function 'void* dlmalloc(size_t)':
>  > ../../../dlmalloc.c:4107: warning: dereferencing pointer 'b' does break strict-aliasing rules
>
> there is an updated dlmalloc available from 
> ftp://gee.cs.oswego.edu/pub/misc/ (2.8.4 as opposed to the in-tree 
> 2.8.3, with a good 3.5yrs between them). my quick build tests show 
> that neither watcom nor mingw (4.2.1 here) like it as-is, but to my 
> untrained eye they don't look too difficult (from a cursory look it 
> looks like they have something to do with mmap, to which end the 
> in-tree version has some local changes).
>
> maybe przemek would want to take a peek whether updating to the newer 
> upstream is of any benefit to hvm.
Sorry, if is a off-topic....

There are alternative to dlmalloc, ptmalloc3 is out here 
http://www.malloc.de/malloc/ptmalloc3-current.tar.gz
"*New ptmalloc3 release May 31st, 2006!*

Here <http://www.malloc.de/malloc/ptmalloc3-current.tar.gz> you can 
download the third version of *ptmalloc* (C source code), a fast, 
memory-efficient implementation of *malloc* for Unix systems. *ptmalloc* 
is based on code by Doug Lea <http://gee.cs.oswego.edu/> and was 
extended for use with multiple threads (especially on SMP systems).

On Linux <http://www.linux.org/> systems, *ptmalloc* has been put to 
work for years as part of the GNU C library 
<http://www.gnu.org/software/libc/libc.html>."

Maybe is a better swicth dlmalloc?

Ptmalloc is based on dlmalloc.

Best regards,

Ranier Vilela

From druzus at acn.waw.pl  Fri Nov 20 07:09:28 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Nov 20 07:09:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12943] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0911200459310.11887@dawn.royalcomp.hu>
References: <E1NBGGx-0006tr-7v@c3vjzd1.ch3.sourceforge.com>
	<000001ca6978$c1f3c1d0$45db4570$@Bisz@t-online.hu>
	<alpine.DEB.2.00.0911200459310.11887@dawn.royalcomp.hu>
Message-ID: <20091120120928.GA18452@34-mo7-2.home.aster.pl>

On Fri, 20 Nov 2009, Tamas TEVESZ wrote:

Hi,

>  > ../../../dlmalloc.c: In function 'void* dlmalloc(size_t)':
>  > ../../../dlmalloc.c:4107: warning: dereferencing pointer 'b' does break strict-aliasing rules
> there is an updated dlmalloc available from 
> ftp://gee.cs.oswego.edu/pub/misc/ (2.8.4 as opposed to the in-tree 
> 2.8.3, with a good 3.5yrs between them). my quick build tests show 
> that neither watcom nor mingw (4.2.1 here) like it as-is, but to my 
> untrained eye they don't look too difficult (from a cursory look it 
> looks like they have something to do with mmap, to which end the 
> in-tree version has some local changes).
> maybe przemek would want to take a peek whether updating to the newer 
> upstream is of any benefit to hvm.

I haven't time too look at this whole code so I cannot say what exactly
is fixed by version 2.8.4 in comparison to 2.8.3. 2.8.4 is used with
nedmalloc designed to improve performance in MT programs but I added to
Harbour exactly the same functionality using pure 2.8.3 code (it's
enabled by HB_FM_DLMT_ALLOC macro). Anyhow the above problem is exactly
the same in both versions and the warning messages are perfectly valid.
This code really breaks stric-aliasing rules to make a trick with lists
of small memory chunks:

   struct malloc_chunk {
     size_t               prev_foot; /* Size of previous chunk (if free).  */
     size_t               head;      /* Size and inuse bits. */
     struct malloc_chunk* fd;        /* double links -- used only if free. */
     struct malloc_chunk* bk;
   };
   [...]

   struct malloc_state {
     [...]
     mchunkptr  smallbins[(NSMALLBINS+1)*2];
     [...]
   }
   [...]

   #define smallbin_at(M, i)   ((sbinptr)((char*)&((M)->smallbins[(i)<<1])))
                                ^^^^^^^^^^^^^^^^^
As you can see it's a trick to safe few bytes in allocated memory and chunks
are overlapped. It works because effectively only fk and bk is used but it
really confuse compilers which tries to optimize code assuming that any two
different structures cannot use common memory region. Such situation is legal
only for structures which are aliases of the same memory area. In fact it's
a bug for modern C compiler which in some cases can cause that wrong code
is generated.

The clean solution is very simple. It's enough to remove above hack and
declare smallbins as:
     mchunk     smallbins[NSMALLBINS];
and smallbin_at(M, i) as:
     #define smallbin_at(M, i)   (&((M)->smallbins[(i)]))
In such varsion to code is clean without any hacks like above but for
each mstate we need few additional bytes which will not be used, it's
exactly 31 * 2 * sizeof( void* ) per mstate what gives 248 byte @ 32bit
machines and 496 @ 64bit machines.
In ST mode we are using only one mstate and in MT mode if Harbour is
compiled with HB_FM_DLMT_ALLOC we can use one mspace per thread.
In all cases it's rather small peace of memory which can be ignored
so if you want then I can commit such modification.
Probably it's also possible to make some tricks with casting which may
also hide the problem (at least warnings). Anyhow in this case we have
real structure overlapping so there is a risk that in some cases wrong
code will be generated though silently without any warnings.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Nov 20 07:09:41 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Nov 20 07:09:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12943] trunk/harbour
In-Reply-To: <4B069381.8020908@cultura.com.br>
References: <E1NBGGx-0006tr-7v@c3vjzd1.ch3.sourceforge.com>	<000001ca6978$c1f3c1d0$45db4570$@Bisz@t-online.hu>
	<alpine.DEB.2.00.0911200459310.11887@dawn.royalcomp.hu>
	<4B069381.8020908@cultura.com.br>
Message-ID: <EF4C3E9B-B6E1-43D1-8596-1113EB4F0624@syenar.hu>

>> there is an updated dlmalloc available from ftp://gee.cs.oswego.edu/pub/misc/ (2.8.4 as opposed to the in-tree 2.8.3, with a good 3.5yrs between them). my quick build tests show that neither watcom nor mingw (4.2.1 here) like it as-is, but to my untrained eye they don't look too difficult (from a cursory look it looks like they have something to do with mmap, to which end the in-tree version has some local changes).
>> 
>> maybe przemek would want to take a peek whether updating to the newer upstream is of any benefit to hvm.
> Sorry, if is a off-topic....
> 
> There are alternative to dlmalloc, ptmalloc3 is out here http://www.malloc.de/malloc/ptmalloc3-current.tar.gz
> "*New ptmalloc3 release May 31st, 2006!*
> 
> Here <http://www.malloc.de/malloc/ptmalloc3-current.tar.gz> you can download the third version of *ptmalloc* (C source code), a fast, memory-efficient implementation of *malloc* for Unix systems. *ptmalloc* is based on code by Doug Lea <http://gee.cs.oswego.edu/> and was extended for use with multiple threads (especially on SMP systems).
> 
> On Linux <http://www.linux.org/> systems, *ptmalloc* has been put to work for years as part of the GNU C library <http://www.gnu.org/software/libc/libc.html>."
> 
> Maybe is a better swicth dlmalloc?
> 
> Ptmalloc is based on dlmalloc.

FWIW dlmalloc 2.8.4 was had problems with quite a few of our 
target compilers (this is why I pulled it shortly after upgrade 
in SVN), maybe ptmalloc is more portable.

I'd like to suggest to postpone any allocator engine upgrade 
to after stable release, as such modification will cause many 
regressions and turbulence in all out targets.

BTW, this is the ChangeLog entry about the revert:
---
2009-07-29 17:46 UTC+0200 Viktor Szakats (harbour.01 syenar.hu)
  * source/vm/dlmalloc.c
    ! Restored 2.8.3.
      Huge amount of warnings (all Windows compilers), compile time (pocc, watcom)
      and build time (mingw) errors, incompatibility with fm.c parts, with 2.8.4,
      so I opted to revert.
      I hope someone will give it another go, as it should provide better MT
      performance on Windows, unfortunately this feature doesn't seem to be well
      tested at this point.
---

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Nov 20 07:26:33 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Nov 20 07:29:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12943] trunk/harbour
In-Reply-To: <20091120120928.GA18452@34-mo7-2.home.aster.pl>
References: <E1NBGGx-0006tr-7v@c3vjzd1.ch3.sourceforge.com>
	<000001ca6978$c1f3c1d0$45db4570$@Bisz@t-online.hu>
	<alpine.DEB.2.00.0911200459310.11887@dawn.royalcomp.hu>
	<20091120120928.GA18452@34-mo7-2.home.aster.pl>
Message-ID: <C03BBC90-8AB9-4CCB-9557-40FEDEC6F40E@syenar.hu>

Hi Przemek,

>> maybe przemek would want to take a peek whether updating to the newer 
>> upstream is of any benefit to hvm.
[...]
> In ST mode we are using only one mstate and in MT mode if Harbour is
> compiled with HB_FM_DLMT_ALLOC we can use one mspace per thread.
> In all cases it's rather small peace of memory which can be ignored
> so if you want then I can commit such modification.
> Probably it's also possible to make some tricks with casting which may
> also hide the problem (at least warnings). Anyhow in this case we have
> real structure overlapping so there is a risk that in some cases wrong
> code will be generated though silently without any warnings.

I'd say go for it.

Any reason we don't seem to have HB_FM_DLMT_ALLOC 
enabled by default when building vmmt lib? I think 
we should enable it.

BTW I love reading such e-mails as above.

Brgds,
Viktor

From snaiperis at users.sourceforge.net  Fri Nov 20 07:30:43 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Fri Nov 20 07:30:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12947] trunk/harbour
Message-ID: <E1NBSdP-0000fz-TG@3kljzd1.ch3.sourceforge.com>

Revision: 12947
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12947&view=rev
Author:   snaiperis
Date:     2009-11-20 12:30:42 +0000 (Fri, 20 Nov 2009)

Log Message:
-----------
2009-11-20 14:28 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  + harbour/contrib/rddsql/hbrddsql.ch
  * harbour/contrib/rddsql/hbrddsql.h
    * DBI_ and RDDI_ defines moved to .ch file

  * harbour/contrib/rddsql/sddmy/tests/test1.prg
  * harbour/contrib/rddsql/sddodbc/tests/test1.prg
  * harbour/contrib/rddsql/sddodbc/tests/test2.prg
    * hbrddsql.ch include used

  * harbour/contrib/rddsql/sddodbc/tests/test2.prg
    ! fixed small error in DSN 

  * harbour/contrib/rddsql/sddodbc/odbcdd.c
    * implemented error processing

  * harbour/contrib/rddsql/sddfb/fbirddd.c
  * harbour/contrib/rddsql/sddmy/mysqldd.c
  * harbour/contrib/rddsql/sddodbc/odbcdd.c
  * harbour/contrib/rddsql/sddpg/pgsqldd.c
  * harbour/contrib/rddsql/sqlbase.c
  * harbour/contrib/rddsql/sqlmix.c
    * source formatting
    * changed error variables type to HB_ERRCODE

  * harbour/contrib/rddsql/sddfb/fbirddd.c
  * harbour/contrib/rddsql/sddmy/mysqldd.c
    * moved unsupported (by some compiler) compile time condition 
      check to RDD initialisation run-time condition check

  * harbour/contrib/rddsql/hbrddsql.h
  * harbour/contrib/rddsql/sqlbase.c
    * implemented connection area counter. Now connection can be 
      closed only after all its workareas are closed.

  * harbour/contrib/rddsql/hbrddsql.h
  * harbour/contrib/rddsql/sqlbase.c
    * SQL error text, error number, last query, etc. Moved from 
      connection to static variables, because I'm unable to return 
      errors for a failed connect otherwise.
    ; TODO: MT support. Error text and code are stored in static 
      variable, it should be moved to thread static in the future. 
      But there is more problems in MT support. F.e., can we use 
      use the same connection for a few threads? 

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/hbrddsql.h
    trunk/harbour/contrib/rddsql/sddfb/fbirddd.c
    trunk/harbour/contrib/rddsql/sddmy/mysqldd.c
    trunk/harbour/contrib/rddsql/sddmy/tests/test1.prg
    trunk/harbour/contrib/rddsql/sddodbc/odbcdd.c
    trunk/harbour/contrib/rddsql/sddodbc/tests/test1.prg
    trunk/harbour/contrib/rddsql/sddodbc/tests/test2.prg
    trunk/harbour/contrib/rddsql/sddpg/pgsqldd.c
    trunk/harbour/contrib/rddsql/sqlbase.c
    trunk/harbour/contrib/rddsql/sqlmix.c

Added Paths:
-----------
    trunk/harbour/contrib/rddsql/hbrddsql.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Nov 20 07:32:50 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Nov 20 07:33:00 2009
Subject: [Harbour] OLE objects syntax...
In-Reply-To: <4B004A0D.4010203@dbtopas.lt>
References: <6943770e0911141709u74775d24m9e570755eb10808b@mail.gmail.com>	<4AFF5B69.8020900@dbtopas.lt>
	<6943770e0911150141w37b3377cu422f3f554d8b4b4d@mail.gmail.com>
	<4B004A0D.4010203@dbtopas.lt>
Message-ID: <7A90CC68-D44D-4C16-8F6E-ACF491F97DF3@syenar.hu>

Hi Mindaugas,

> An easy (but I do not know if it is correct) way to solve this problem is to use DISPATCH_PROPERTYPUT | DISPATCH_PROPERTYPUTREF instead of DISPATCH_PROPERTYPUT in Invoke() call. Actually we use such technique on access: DISPATCH_PROPERTYGET | DISPATCH_METHOD. But my suggestion is a shoot in the dark.
> 
> 
> Regards,
> Mindaugas
> 
> P.S. just to summarize. Any comments on:
> 1) unsigned long error subcode

This is solved by now, so you may utilize now unsigned int
HB_ERRCODE values when throwing RTEs.

Brgds,
Viktor

From dbtopas at dbtopas.lt  Fri Nov 20 07:40:47 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Nov 20 07:42:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12943] trunk/harbour
In-Reply-To: <20091120120928.GA18452@34-mo7-2.home.aster.pl>
References: <E1NBGGx-0006tr-7v@c3vjzd1.ch3.sourceforge.com>	<000001ca6978$c1f3c1d0$45db4570$@Bisz@t-online.hu>	<alpine.DEB.2.00.0911200459310.11887@dawn.royalcomp.hu>
	<20091120120928.GA18452@34-mo7-2.home.aster.pl>
Message-ID: <4B068E4F.8070607@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
> I haven't time too look at this whole code so I cannot say what exactly
> is fixed by version 2.8.4 in comparison to 2.8.3. 2.8.4 is used with
> nedmalloc designed to improve performance in MT programs but I added to
> Harbour exactly the same functionality using pure 2.8.3 code (it's
> enabled by HB_FM_DLMT_ALLOC macro). 

Wow! I still had an idea in my mind to try port ptmalloc or nedmalloc in 
spare time, because plain dlmalloc is not good for MT.

Usually I look at details of your changes, but I've never noticed that 
we have such feature from 2009-03-29. Thanks for _DLMT_!


Regards,
Mindaugas
From vszakats at users.sourceforge.net  Fri Nov 20 07:18:59 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Nov 20 07:42:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12946] trunk/harbour
Message-ID: <E1NBSS3-000548-4w@d5vjzd1.ch3.sourceforge.com>

Revision: 12946
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12946&view=rev
Author:   vszakats
Date:     2009-11-20 12:18:58 +0000 (Fri, 20 Nov 2009)

Log Message:
-----------
2009-11-20 13:18 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/errapi.c
    * Renamed error variables to use new prefix.

  * ChangeLog
    ! Typo.

  * contrib/hbwin/win_osc.c
    + Added OS_WIN7. Borrowed from xhb / Patrick Mast.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_osc.c
    trunk/harbour/src/rtl/errapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Fri Nov 20 07:45:24 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Nov 20 07:45:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12943] trunk/harbour
In-Reply-To: <4B068E4F.8070607@dbtopas.lt>
References: <E1NBGGx-0006tr-7v@c3vjzd1.ch3.sourceforge.com>	<000001ca6978$c1f3c1d0$45db4570$@Bisz@t-online.hu>	<alpine.DEB.2.00.0911200459310.11887@dawn.royalcomp.hu>
	<20091120120928.GA18452@34-mo7-2.home.aster.pl>
	<4B068E4F.8070607@dbtopas.lt>
Message-ID: <95707797-8CAA-49D9-B3B6-C2E42FB08DD3@syenar.hu>

> Przemys?aw Czerpak wrote:
>> I haven't time too look at this whole code so I cannot say what exactly
>> is fixed by version 2.8.4 in comparison to 2.8.3. 2.8.4 is used with
>> nedmalloc designed to improve performance in MT programs but I added to
>> Harbour exactly the same functionality using pure 2.8.3 code (it's
>> enabled by HB_FM_DLMT_ALLOC macro). 
> 
> Wow! I still had an idea in my mind to try port ptmalloc or nedmalloc in spare time, because plain dlmalloc is not good for MT.
> 
> Usually I look at details of your changes, but I've never noticed that we have such feature from 2009-03-29. Thanks for _DLMT_!

Same here :)

Brgds,
Viktor

From vszakats at users.sourceforge.net  Fri Nov 20 07:45:53 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Nov 20 07:45:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12948] trunk/harbour
Message-ID: <E1NBSs5-0005UA-KY@d5vjzd1.ch3.sourceforge.com>

Revision: 12948
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12948&view=rev
Author:   vszakats
Date:     2009-11-20 12:45:41 +0000 (Fri, 20 Nov 2009)

Log Message:
-----------
2009-11-20 13:44 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/rddsql/rddsql.hbc
    + Added incpaths=. so now .ch file will be automatically found.

  * contrib/rddsql/sddmy/tests/test1.prg
  * contrib/rddsql/sddodbc/tests/test1.prg
  * contrib/rddsql/sddodbc/tests/test2.prg
    - Deleted explicit paths from #include directives.
      (after above .hbc change this isn't necessary)

  * contrib/rddsql/Makefile
    + Added to install .ch file.

  * contrib/rddsql/hbrddsql.ch
    + Added NOTE, that file is used also by C code.
    ! Added EOL at EOF.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/Makefile
    trunk/harbour/contrib/rddsql/hbrddsql.ch
    trunk/harbour/contrib/rddsql/rddsql.hbc
    trunk/harbour/contrib/rddsql/sddmy/tests/test1.prg
    trunk/harbour/contrib/rddsql/sddodbc/tests/test1.prg
    trunk/harbour/contrib/rddsql/sddodbc/tests/test2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Nov 20 07:57:11 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Nov 20 07:57:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12949] trunk/harbour
Message-ID: <E1NBT31-0005fO-Ln@d5vjzd1.ch3.sourceforge.com>

Revision: 12949
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12949&view=rev
Author:   vszakats
Date:     2009-11-20 12:57:07 +0000 (Fri, 20 Nov 2009)

Log Message:
-----------
2009-11-20 13:56 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/set.c
    ! USHORT -> HB_ERRCODE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/set.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Nov 20 08:15:13 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Nov 20 08:15:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12943] trunk/harbour
In-Reply-To: <4B069381.8020908@cultura.com.br>
References: <E1NBGGx-0006tr-7v@c3vjzd1.ch3.sourceforge.com>
	<000001ca6978$c1f3c1d0$45db4570$@Bisz@t-online.hu>
	<alpine.DEB.2.00.0911200459310.11887@dawn.royalcomp.hu>
	<4B069381.8020908@cultura.com.br>
Message-ID: <20091120131513.GA7228@34-mo7-2.home.aster.pl>

On Fri, 20 Nov 2009, Ranier Vilela wrote:

Hi,

> There are alternative to dlmalloc, ptmalloc3 is out here
> http://www.malloc.de/malloc/ptmalloc3-current.tar.gz
> "*New ptmalloc3 release May 31st, 2006!*
> 
> Here <http://www.malloc.de/malloc/ptmalloc3-current.tar.gz> you can
> download the third version of *ptmalloc* (C source code), a fast,
> memory-efficient implementation of *malloc* for Unix systems.
> *ptmalloc* is based on code by Doug Lea <http://gee.cs.oswego.edu/>
> and was extended for use with multiple threads (especially on SMP
> systems).

PTMALLOC is in 99% original DLMALLOC code with some small modifications
to improve performance in MT programs but we also have it when Harbour
is compiled with HB_FM_DLMT_ALLOC macro.

> On Linux <http://www.linux.org/> systems, *ptmalloc* has been put to
> work for years as part of the GNU C library
> <http://www.gnu.org/software/libc/libc.html>."
> Maybe is a better swicth dlmalloc?
> Ptmalloc is based on dlmalloc.

It is DLMALLOC with really minor modifications so for us it will not
create any significant difference.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Nov 20 08:29:41 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Nov 20 08:29:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12943] trunk/harbour
In-Reply-To: <C03BBC90-8AB9-4CCB-9557-40FEDEC6F40E@syenar.hu>
References: <E1NBGGx-0006tr-7v@c3vjzd1.ch3.sourceforge.com>
	<000001ca6978$c1f3c1d0$45db4570$@Bisz@t-online.hu>
	<alpine.DEB.2.00.0911200459310.11887@dawn.royalcomp.hu>
	<20091120120928.GA18452@34-mo7-2.home.aster.pl>
	<C03BBC90-8AB9-4CCB-9557-40FEDEC6F40E@syenar.hu>
Message-ID: <20091120132941.GB7228@34-mo7-2.home.aster.pl>

On Fri, 20 Nov 2009, Szak?ts Viktor wrote:

Hi,

> I'd say go for it.

I'll commit it in a while.

> Any reason we don't seem to have HB_FM_DLMT_ALLOC 
> enabled by default when building vmmt lib? I think 
> we should enable it.

For all platforms which now uses DLMALLOC I think it can be enabled.
For sure for 64bit builds. Using many mspaces on 32bit platforms may
cause memory fragmentation. For 99% of programs it should not be a
problem but if someone created code which allocates very large memory
blocks containg hundreds of megabytes then it may create problems.
On 64bit platforms the address space is large enough to fully eliminate
this problem.
There is also yet another problem with DLMALLOC. Valgrind does not
recognize it so it cannot create some memory statistics when it's used
instead of default memory manager which is replaced dynamically by
valgrind. It means that for Linux it should be optional.
Anyhow I've just made some test with Suse11.2-x86@64 and DLMALLOC
compiled with hvmall.c is noticeable faster then default memory
manager and speed difference is quite huge (~15% in speedtst.prg).
so in some cases it can be important extension for final code.

best regards,
Przemek
From druzus at users.sourceforge.net  Fri Nov 20 08:30:57 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Nov 20 08:31:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12950] trunk/harbour
Message-ID: <E1NBTZh-0006KM-Ox@d5vjzd1.ch3.sourceforge.com>

Revision: 12950
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12950&view=rev
Author:   druzus
Date:     2009-11-20 13:30:53 +0000 (Fri, 20 Nov 2009)

Log Message:
-----------
2009-11-20 14:30 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/dlmalloc.c
    ! removed hack with overlapped structures with small chunks to not
      confuse C compilers which can make strict-aliasing optimizations

  * harbour/src/vm/set.c
    ! removed old casting left by mistake in hb_conSetCursor() calls

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/dlmalloc.c
    trunk/harbour/src/vm/set.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Nov 20 09:06:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Nov 20 09:06:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12951] trunk/harbour
Message-ID: <E1NBU8R-0005ZW-Cx@c3vjzd1.ch3.sourceforge.com>

Revision: 12951
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12951&view=rev
Author:   vszakats
Date:     2009-11-20 14:06:50 +0000 (Fri, 20 Nov 2009)

Log Message:
-----------
2009-11-20 15:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbdefs.h
    * Removed reliance on old type when defining some new types.

  * contrib/hbcurl/hbcurl.c
  * contrib/hbssl/ssl.c
  * contrib/hbssl/evpmd.c
    * Changed ULONG to HB_SIZE.
      (HB_SIZE currently is the same as ULONG)

  * contrib/hbssl/evp.c
    * Changed ULONG to size_t in one place.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbcurl/hbcurl.c
    trunk/harbour/contrib/hbssl/evp.c
    trunk/harbour/contrib/hbssl/evpmd.c
    trunk/harbour/contrib/hbssl/ssl.c
    trunk/harbour/include/hbdefs.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Fri Nov 20 10:18:08 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Nov 20 10:18:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12952] trunk/harbour
Message-ID: <E1NBVFQ-0003AO-OB@3kljzd1.ch3.sourceforge.com>

Revision: 12952
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12952&view=rev
Author:   vouchcac
Date:     2009-11-20 15:18:06 +0000 (Fri, 20 Nov 2009)

Log Message:
-----------
2009-11-20 07:15 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt.ch
    + Added some more constants.

  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_slots.h
    ! Further cleanup of QWebKit elimination.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt.ch
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Fri Nov 20 10:53:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Nov 20 10:53:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12953] trunk/harbour
Message-ID: <E1NBVnE-0002af-9V@dn4whf1.ch3.sourceforge.com>

Revision: 12953
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12953&view=rev
Author:   vszakats
Date:     2009-11-20 15:52:58 +0000 (Fri, 20 Nov 2009)

Log Message:
-----------

2009-11-20 16:51 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rdd/usrrdd/usrrdd.c
    ! USHORT -> HB_ERRCODE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rdd/usrrdd/usrrdd.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fperillo at gmail.com  Fri Nov 20 11:14:43 2009
From: fperillo at gmail.com (francesco perillo)
Date: Fri Nov 20 11:14:51 2009
Subject: [Harbour] To Pritpal about hbide
Message-ID: <6943770e0911200814p5c55c021g7f5a6682c57858e8@mail.gmail.com>

Hi,
I was told that hbide will integrate support for svn...

Since I'm an user of Mercurial I'd like to talk with you to cooperate
to add support for this dvcs...

Francesco
From vszakats at users.sourceforge.net  Fri Nov 20 11:26:17 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Nov 20 11:26:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12954] trunk/harbour
Message-ID: <E1NBWJN-0004oM-MJ@74yxhf1.ch3.sourceforge.com>

Revision: 12954
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12954&view=rev
Author:   vszakats
Date:     2009-11-20 16:26:16 +0000 (Fri, 20 Nov 2009)

Log Message:
-----------
2009-11-20 17:25 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.pt_BR.po
  * utils/hbmk2/hbmk2.hu_HU.po
  * utils/hbmk2/hbmk2.prg
    + Added missing Fossil VCS from help text.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.hu_HU.po
    trunk/harbour/utils/hbmk2/hbmk2.prg
    trunk/harbour/utils/hbmk2/hbmk2.pt_BR.po


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Fri Nov 20 12:39:47 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Fri Nov 20 12:40:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12952] trunk/harbour
In-Reply-To: <E1NBVFQ-0003AO-OB@3kljzd1.ch3.sourceforge.com>
References: <E1NBVFQ-0003AO-OB@3kljzd1.ch3.sourceforge.com>
Message-ID: <000901ca6a08$74bfa600$5e3ef200$@Bisz@t-online.hu>

Hi Pritpal,

>    ! Further cleanup of QWebKit elimination.

Thank you, now I am able to native-build and Windows cross-build harbour without any warning or error messages.
For the cross build, as QtWebKit and QWindowsXPStyle is not supported by the migw32-Qt port, it was necessary to make some changes in the make system listed below:

1. in contrib/hbqt/Makefile:
from:
DIRS += \
      qtcore \
      qtgui \
      qtnetwork \
      qtwebkit    
to:
DIRS += \
      qtcore \
      qtgui \
      qtnetwork

2. in contrib/hbqt/qtgui/filelist.mk
from:
...
   QWindowsStyle.cpp \
   QWindowsXPStyle.cpp \
   QWizard.cpp \
   QWizardPage.cpp \
...
   TQWindowsStyle.prg \
   TQWindowsXPStyle.prg \
   TQWizard.prg \
   TQWizardPage.prg \
...
to:
...
   QWindowsStyle.cpp \
   QWizard.cpp \
   QWizardPage.cpp \
...
   TQWindowsStyle.prg \
   TQWizard.prg \
   TQWizardPage.prg \
...

The QWindowsXPStyle should be eliminated from the platform independent part, or we need here a logic to granulate qtgui.

Best regards,
Istv?n


From m.lacecilia at gmail.com  Fri Nov 20 12:49:49 2009
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Fri Nov 20 12:49:55 2009
Subject: [Harbour] GTwin console window
Message-ID: <26443609.post@talk.nabble.com>


Ther'is a way to maximize the windows of a console application (GTwin)?
I means no fullscreen mode, but resize avoiding any scrollbar.
In my compiled app, the horizontal size don't match the 80 chars * charwidth
pixel and is needed to click the maximize button on the titlebar to avoid
the display of the horizontal scrollbar.
Any hint?
TIA
Maurizio

PS: BTW, i posted the same message on user forum, but results to be freezed.
It's true?
-- 
View this message in context: http://old.nabble.com/GTwin-console-window-tp26443609p26443609.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Nov 20 13:00:13 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Nov 20 13:00:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12952] trunk/harbour
In-Reply-To: <000901ca6a08$74bfa600$5e3ef200$@Bisz@t-online.hu>
References: <E1NBVFQ-0003AO-OB@3kljzd1.ch3.sourceforge.com>
	<000901ca6a08$74bfa600$5e3ef200$@Bisz@t-online.hu>
Message-ID: <1162E345-6C3E-43F8-84EC-3571CC0DF579@syenar.hu>

> 2. in contrib/hbqt/qtgui/filelist.mk
> from:
> ...
>   QWindowsStyle.cpp \
>   QWindowsXPStyle.cpp \
>   QWizard.cpp \
>   QWizardPage.cpp \
> ...
>   TQWindowsStyle.prg \
>   TQWindowsXPStyle.prg \
>   TQWizard.prg \
>   TQWizardPage.prg \
> 
> The QWindowsXPStyle should be eliminated from the platform independent part, or we need here a logic to granulate qtgui.

I'd vote to delete WindowsXPStyle. It's not a portable 
QT element, and if support it, we just help creating 
non-portable apps using hbqt, which is not good.

It also came up quite a few times in reports from non-win 
users.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Nov 20 13:02:52 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Nov 20 13:03:02 2009
Subject: [Harbour] GTwin console window
In-Reply-To: <26443609.post@talk.nabble.com>
References: <26443609.post@talk.nabble.com>
Message-ID: <06E8BF39-F58F-4727-940D-048485D9A4DA@syenar.hu>

> Ther'is a way to maximize the windows of a console application (GTwin)?
> I means no fullscreen mode, but resize avoiding any scrollbar.
> In my compiled app, the horizontal size don't match the 80 chars * charwidth
> pixel and is needed to click the maximize button on the titlebar to avoid
> the display of the horizontal scrollbar.
> Any hint?

There is no programmatic way to control native win console window 
look/behavior besides setting the number of rows/cols of screen area.

Solution: Use GTWVT.

Brgds,
Viktor

From vouchcac at users.sourceforge.net  Fri Nov 20 17:34:04 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Nov 20 17:34:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12955] trunk/harbour
Message-ID: <E1NBc3I-0001sn-FN@3kljzd1.ch3.sourceforge.com>

Revision: 12955
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12955&view=rev
Author:   vouchcac
Date:     2009-11-20 22:34:03 +0000 (Fri, 20 Nov 2009)

Log Message:
-----------
2009-11-20 14:32 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/generator/qt45.qtp
  * contrib/hbqt/Makefile
  * contrib/hbqt/qtgui/filelist.mk
  * contrib/hbqt/qtgui/QWindowsXPStyle.cpp
  * contrib/hbqt/qtgui/TQWindowsXPStyle.prg
  * contrib/hbqt/qth/QWindowsXPStyle.qth
    - Deleted QWindowXPStyle class source header and definition.

  * contrib/hbqt/hbqt.ch
    + Added more constants.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/Makefile
    trunk/harbour/contrib/hbqt/generator/qt45.qtp
    trunk/harbour/contrib/hbqt/hbqt.ch
    trunk/harbour/contrib/hbqt/qtgui/filelist.mk

Removed Paths:
-------------
    trunk/harbour/contrib/hbqt/qtgui/QWindowsXPStyle.cpp
    trunk/harbour/contrib/hbqt/qtgui/TQWindowsXPStyle.prg
    trunk/harbour/contrib/hbqt/qth/QWindowsXPStyle.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Fri Nov 20 17:36:38 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Nov 20 17:36:46 2009
Subject: [Harbour] To Pritpal about hbide
In-Reply-To: <6943770e0911200814p5c55c021g7f5a6682c57858e8@mail.gmail.com>
References: <6943770e0911200814p5c55c021g7f5a6682c57858e8@mail.gmail.com>
Message-ID: <26451351.post@talk.nabble.com>


Hi


francesco perillo-2 wrote:
> 
> I was told that hbide will integrate support for svn...
> 
> Since I'm an user of Mercurial I'd like to talk with you to cooperate
> to add support for this dvcs...
> 

Probably it is too early a question/solution integration during the 
process of HDIDE evolution. Let we first reach project management stage.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/To-Pritpal-about-hbide-tp26446002p26451351.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Fri Nov 20 18:00:19 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Nov 20 18:00:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12955] trunk/harbour
In-Reply-To: <E1NBc3I-0001sn-FN@3kljzd1.ch3.sourceforge.com>
References: <E1NBc3I-0001sn-FN@3kljzd1.ch3.sourceforge.com>
Message-ID: <7DA65B07-F49B-45ED-9F8B-6B9DC5CD916D@syenar.hu>

Thank you very much.

Brgds,
Viktor

On 2009 Nov 20, at 23:34, vouchcac@users.sourceforge.net wrote:

> Revision: 12955
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12955&view=rev
> Author:   vouchcac
> Date:     2009-11-20 22:34:03 +0000 (Fri, 20 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-20 14:32 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbqt/generator/qt45.qtp
>  * contrib/hbqt/Makefile
>  * contrib/hbqt/qtgui/filelist.mk
>  * contrib/hbqt/qtgui/QWindowsXPStyle.cpp
>  * contrib/hbqt/qtgui/TQWindowsXPStyle.prg
>  * contrib/hbqt/qth/QWindowsXPStyle.qth
>    - Deleted QWindowXPStyle class source header and definition.
> 
>  * contrib/hbqt/hbqt.ch
>    + Added more constants.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbqt/Makefile
>    trunk/harbour/contrib/hbqt/generator/qt45.qtp
>    trunk/harbour/contrib/hbqt/hbqt.ch
>    trunk/harbour/contrib/hbqt/qtgui/filelist.mk
> 
> Removed Paths:
> -------------
>    trunk/harbour/contrib/hbqt/qtgui/QWindowsXPStyle.cpp
>    trunk/harbour/contrib/hbqt/qtgui/TQWindowsXPStyle.prg
>    trunk/harbour/contrib/hbqt/qth/QWindowsXPStyle.qth
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Fri Nov 20 18:13:58 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Nov 20 18:14:03 2009
Subject: [Harbour] HBMK2 - Possibility of accepting buffer of .hbm format
Message-ID: <26451781.post@talk.nabble.com>


Hello Viktor

Is it possible to pass string buffer to hbmk2 in .hbm format?

I want to avoid writing to .hbm disk file and then invoke hbmk2.
This will open another black window on the screen.

Also, can I capture the output of compile/link processes ?

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/HBMK2---Possibility-of-accepting-buffer-of-.hbm-format-tp26451781p26451781.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From fperillo at gmail.com  Fri Nov 20 18:30:29 2009
From: fperillo at gmail.com (francesco perillo)
Date: Fri Nov 20 18:30:36 2009
Subject: [Harbour] Please try this sendmail patch
Message-ID: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>

Is anybody using hb_sendmail() ? I already said that it is not fully
smtp protocol compliant.... and my tests (trunk compiled with bcc)
didn't worked at all due to this incoorect protocol implementation....

So, if you are using this patch and it works ok for you, please tell me !

If it works for you or doesn't, please test this patch in
contrib\hbtip and report.

Thanks,
Francesco


Index: smtpcli.prg
===================================================================
--- smtpcli.prg	(revision 12954)
+++ smtpcli.prg	(working copy)
@@ -96,10 +97,11 @@
       bTrace := {| cMsg | iif( PCount() > 0, oLog:Add( cMsg ), oLog:Close() ) }
    ENDIF

    ::super:New( oUrl, bTrace, oCredentials )

    ::nDefaultPort := iif( ::oUrl:cProto == "smtps", 465, 25 )
-   ::nConnTimeout := 5000
+   ::nConnTimeout := 50000
    ::nAccessMode := TIP_WO  // a write only

    RETURN Self
@@ -110,6 +112,10 @@
       RETURN .F.
    ENDIF

+   IF ! ::GetOk()
+      RETURN .F.
+   ENDIF
+
    DEFAULT lTLS TO .F.

    IF lTLS
@@ -129,6 +135,10 @@
       RETURN .F.
    ENDIF

+   IF ! ::GetOk()
+      RETURN .F.
+   ENDIF
+
    DEFAULT lTLS TO .F.

    IF lTLS
From harbour.01 at syenar.hu  Fri Nov 20 18:37:18 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Nov 20 18:37:28 2009
Subject: [Harbour] HBMK2 - Possibility of accepting buffer of .hbm format
In-Reply-To: <26451781.post@talk.nabble.com>
References: <26451781.post@talk.nabble.com>
Message-ID: <3AAE1CAD-C48C-4960-B684-E6904F61718A@syenar.hu>

Hi Pritpal,

> Hello Viktor
> 
> Is it possible to pass string buffer to hbmk2 in .hbm format?
> 
> I want to avoid writing to .hbm disk file and then invoke hbmk2.

Yes, simply pass all parameters on the command line.

> This will open another black window on the screen.

Check how to spawn subprocesses in hbmk2 code. Black 
screen is easy to avoid.

> Also, can I capture the output of compile/link processes ?

Yes, you can, also check hb_process*() API. It's actually 
used in hbmk2 code in a few places.

Brgds,
Viktor

From bruno.luciani at gmail.com  Fri Nov 20 19:06:20 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Nov 20 19:06:27 2009
Subject: [Harbour] Please try this sendmail patch
In-Reply-To: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>
References: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>
Message-ID: <133778360911201606od3bddf6xf2b7141b3f839633@mail.gmail.com>

Francesco

Actually I use HB_Sendmail from svn and works ok

Bruno Luciani

2009/11/20 francesco perillo <fperillo@gmail.com>

> Is anybody using hb_sendmail() ? I already said that it is not fully
> smtp protocol compliant.... and my tests (trunk compiled with bcc)
> didn't worked at all due to this incoorect protocol implementation....
>
> So, if you are using this patch and it works ok for you, please tell me !
>
> If it works for you or doesn't, please test this patch in
> contrib\hbtip and report.
>
> Thanks,
> Francesco
>
>
> Index: smtpcli.prg
> ===================================================================
> --- smtpcli.prg (revision 12954)
> +++ smtpcli.prg (working copy)
> @@ -96,10 +97,11 @@
>       bTrace := {| cMsg | iif( PCount() > 0, oLog:Add( cMsg ), oLog:Close()
> ) }
>    ENDIF
>
>    ::super:New( oUrl, bTrace, oCredentials )
>
>    ::nDefaultPort := iif( ::oUrl:cProto == "smtps", 465, 25 )
> -   ::nConnTimeout := 5000
> +   ::nConnTimeout := 50000
>    ::nAccessMode := TIP_WO  // a write only
>
>    RETURN Self
> @@ -110,6 +112,10 @@
>       RETURN .F.
>    ENDIF
>
> +   IF ! ::GetOk()
> +      RETURN .F.
> +   ENDIF
> +
>    DEFAULT lTLS TO .F.
>
>    IF lTLS
> @@ -129,6 +135,10 @@
>       RETURN .F.
>    ENDIF
>
> +   IF ! ::GetOk()
> +      RETURN .F.
> +   ENDIF
> +
>    DEFAULT lTLS TO .F.
>
>    IF lTLS
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091120/c0dd1274/attachment-0001.html
From fperillo at gmail.com  Fri Nov 20 19:23:41 2009
From: fperillo at gmail.com (francesco perillo)
Date: Fri Nov 20 19:23:48 2009
Subject: [Harbour] Please try this sendmail patch
In-Reply-To: <133778360911201606od3bddf6xf2b7141b3f839633@mail.gmail.com>
References: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>
	<133778360911201606od3bddf6xf2b7141b3f839633@mail.gmail.com>
Message-ID: <6943770e0911201623j13b14283pded731292b78fe46@mail.gmail.com>

Hi Bruno,
thank you for your reply.

I have some ideas ...

can you please show me how do you call hb_sendmail() ?

can you please compile and run contrib/hbtip/tests/gmail.prg (after
changing the data inside) and run it ?

Which are your operating system and compiler used ?

Thank you
Francesco
From harbour.01 at syenar.hu  Fri Nov 20 19:27:14 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Nov 20 19:27:23 2009
Subject: [Harbour] Please try this sendmail patch
In-Reply-To: <133778360911201606od3bddf6xf2b7141b3f839633@mail.gmail.com>
References: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>
	<133778360911201606od3bddf6xf2b7141b3f839633@mail.gmail.com>
Message-ID: <AED0EBF3-67AE-417B-BBA0-3F03993A5FC9@syenar.hu>

With SSL (gmail) I used to experience some instability 
in sending process. Sometimes it doesn't "catch it". 
Maybe timeout issue. I don't use hbtip mail for anything 
critical ATM, so I just didn't care to spend another big 
chunk of time to get to the end of it.

Brgds,
Viktor

On 2009 Nov 21, at 01:06, Bruno Luciani wrote:

> Francesco
> 
> Actually I use HB_Sendmail from svn and works ok
> 
> Bruno Luciani
> 
> 2009/11/20 francesco perillo <fperillo@gmail.com>
> Is anybody using hb_sendmail() ? I already said that it is not fully
> smtp protocol compliant.... and my tests (trunk compiled with bcc)
> didn't worked at all due to this incoorect protocol implementation....
> 
> So, if you are using this patch and it works ok for you, please tell me !
> 
> If it works for you or doesn't, please test this patch in
> contrib\hbtip and report.
> 
> Thanks,
> Francesco
> 
> 
> Index: smtpcli.prg
> ===================================================================
> --- smtpcli.prg (revision 12954)
> +++ smtpcli.prg (working copy)
> @@ -96,10 +97,11 @@
>       bTrace := {| cMsg | iif( PCount() > 0, oLog:Add( cMsg ), oLog:Close() ) }
>    ENDIF
> 
>    ::super:New( oUrl, bTrace, oCredentials )
> 
>    ::nDefaultPort := iif( ::oUrl:cProto == "smtps", 465, 25 )
> -   ::nConnTimeout := 5000
> +   ::nConnTimeout := 50000
>    ::nAccessMode := TIP_WO  // a write only
> 
>    RETURN Self
> @@ -110,6 +112,10 @@
>       RETURN .F.
>    ENDIF
> 
> +   IF ! ::GetOk()
> +      RETURN .F.
> +   ENDIF
> +
>    DEFAULT lTLS TO .F.
> 
>    IF lTLS
> @@ -129,6 +135,10 @@
>       RETURN .F.
>    ENDIF
> 
> +   IF ! ::GetOk()
> +      RETURN .F.
> +   ENDIF
> +
>    DEFAULT lTLS TO .F.
> 
>    IF lTLS
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bruno.luciani at gmail.com  Fri Nov 20 19:37:35 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Nov 20 19:37:42 2009
Subject: [Harbour] Please try this sendmail patch
In-Reply-To: <6943770e0911201623j13b14283pded731292b78fe46@mail.gmail.com>
References: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>
	<133778360911201606od3bddf6xf2b7141b3f839633@mail.gmail.com>
	<6943770e0911201623j13b14283pded731292b78fe46@mail.gmail.com>
Message-ID: <133778360911201637xa44d1banfde679a22153be7a@mail.gmail.com>

I am not using SSL

I use it in windows in an OOHG aplication , and compiled using Mingw


function sendcaja(cuerpo)
if hb_sendmail('200.xxx.xxx.xxx',,'from@domain',{'adress1@domain
','adress2@domain'},,,cuerpo,'Cierre de caja')
   else
       msginfo("No se pudo contactar el servidor de correo ","Verifique
conectividad ")
endif
return


When I have some time for tests I try gmail.prg

Bruno

2009/11/20 francesco perillo <fperillo@gmail.com>

> Hi Bruno,
> thank you for your reply.
>
> I have some ideas ...
>
> can you please show me how do you call hb_sendmail() ?
>
> can you please compile and run contrib/hbtip/tests/gmail.prg (after
> changing the data inside) and run it ?
>
> Which are your operating system and compiler used ?
>
> Thank you
> Francesco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091120/1ad7e658/attachment.html
From fperillo at gmail.com  Fri Nov 20 19:44:22 2009
From: fperillo at gmail.com (francesco perillo)
Date: Fri Nov 20 19:44:33 2009
Subject: [Harbour] Please try this sendmail patch
In-Reply-To: <133778360911201637xa44d1banfde679a22153be7a@mail.gmail.com>
References: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>
	<133778360911201606od3bddf6xf2b7141b3f839633@mail.gmail.com>
	<6943770e0911201623j13b14283pded731292b78fe46@mail.gmail.com>
	<133778360911201637xa44d1banfde679a22153be7a@mail.gmail.com>
Message-ID: <6943770e0911201644i25942226p98a89e0edd8d50e4@mail.gmail.com>

> I am not using SSL
> I use it in windows in an OOHG aplication , and compiled using Mingw
ok
>
> hb_sendmail('200.xxx.xxx.xxx',,'from@domain',{'adress1@domain','adress2@domain'},,,cuerpo,'Cierre de caja')

Is it possible to have (in private mail) the IP of the server and an
address I can send some test mails to ?

In the meanwhile I will also try to install mingw....

> When I have some time for tests I try gmail.prg

Don't lose time if you don't have openssl installed....

Francesco
From fperillo at gmail.com  Fri Nov 20 19:44:50 2009
From: fperillo at gmail.com (francesco perillo)
Date: Fri Nov 20 19:44:52 2009
Subject: [Harbour] Please try this sendmail patch
In-Reply-To: <AED0EBF3-67AE-417B-BBA0-3F03993A5FC9@syenar.hu>
References: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>
	<133778360911201606od3bddf6xf2b7141b3f839633@mail.gmail.com>
	<AED0EBF3-67AE-417B-BBA0-3F03993A5FC9@syenar.hu>
Message-ID: <6943770e0911201644n4b0b52e0lbd58d69f03146249@mail.gmail.com>

gmail only supports SSL mail or TLS on port 25... in my bcc setup I
don't have openssl so I can't connect to gmail (at the moment)....

Do you have a server you connect without authentication on port 25 for
mail delivery ? Does it work for you ?

Standard timeout is 1 second... gmail is quick but....

I'm thinking to switch to another system.... creating the mail file on
disk and run an external to do the delivery....

Francesco
From vouchcac at users.sourceforge.net  Fri Nov 20 20:45:57 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Nov 20 20:46:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12956] trunk/harbour
Message-ID: <E1NBf2z-00036L-NY@dn4whf1.ch3.sourceforge.com>

Revision: 12956
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12956&view=rev
Author:   vouchcac
Date:     2009-11-21 01:45:51 +0000 (Sat, 21 Nov 2009)

Log Message:
-----------
2009-11-20 17:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbplistbox.prg
  * contrib/hbide/hbide.prg
    + Implemented prototype of <Project Tree Structure>.
      Also play with various icons. Docks at the right and at the bottom can be collapsed.
      Please forward suggesstions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbxbp/xbplistbox.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Fri Nov 20 21:11:41 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Nov 20 21:11:48 2009
Subject: [Harbour] Please try this sendmail patch
In-Reply-To: <6943770e0911201644i25942226p98a89e0edd8d50e4@mail.gmail.com>
References: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>
	<133778360911201606od3bddf6xf2b7141b3f839633@mail.gmail.com>
	<6943770e0911201623j13b14283pded731292b78fe46@mail.gmail.com>
	<133778360911201637xa44d1banfde679a22153be7a@mail.gmail.com>
	<6943770e0911201644i25942226p98a89e0edd8d50e4@mail.gmail.com>
Message-ID: <133778360911201811s5fdc7b4bncef290677dab30d2@mail.gmail.com>

My server uses TLS

But you can' t  use it , it is blocked for all IP' s

I only can Send Mail from My Public and Fixed IP

It is an antispam protection , sorry about that

Bruno

2009/11/20 francesco perillo <fperillo@gmail.com>

> > I am not using SSL
> > I use it in windows in an OOHG aplication , and compiled using Mingw
> ok
> >
> > hb_sendmail('200.xxx.xxx.xxx',,'from@domain',{'adress1@domain
> ','adress2@domain'},,,cuerpo,'Cierre de caja')
>
> Is it possible to have (in private mail) the IP of the server and an
> address I can send some test mails to ?
>
> In the meanwhile I will also try to install mingw....
>
> > When I have some time for tests I try gmail.prg
>
> Don't lose time if you don't have openssl installed....
>
> Francesco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091120/8864ffc5/attachment.html
From amigosam at adinet.com.uy  Fri Nov 20 21:12:13 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Fri Nov 20 21:12:45 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12956] trunk/harbour
In-Reply-To: <E1NBf2z-00036L-NY@dn4whf1.ch3.sourceforge.com>
References: <E1NBf2z-00036L-NY@dn4whf1.ch3.sourceforge.com>
Message-ID: <he7i9r$hoi$1@ger.gmane.org>

vouchcac@users.sourceforge.net escribi?:
>   * contrib/hbide/hbide.prg
>     + Implemented prototype of <Project Tree Structure>.
>       Also play with various icons. Docks at the right and at the bottom can be collapsed.
>       Please forward suggesstions.

Hi Pritpal

I was playing with the new toy and noticed something weird:

Open the app, then click on close button and everything is ok.
Open it again, then open hbide.prg with the source editor, close both 
tabs and try to close the app. It freezes and has to be killed with the 
task manager.

SO: win XP, harbour+mingw

Regards
Angel

From bruno.luciani at gmail.com  Fri Nov 20 21:13:08 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Nov 20 21:13:16 2009
Subject: [Harbour] Please try this sendmail patch
In-Reply-To: <6943770e0911201644n4b0b52e0lbd58d69f03146249@mail.gmail.com>
References: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>
	<133778360911201606od3bddf6xf2b7141b3f839633@mail.gmail.com>
	<AED0EBF3-67AE-417B-BBA0-3F03993A5FC9@syenar.hu>
	<6943770e0911201644n4b0b52e0lbd58d69f03146249@mail.gmail.com>
Message-ID: <133778360911201813k51c49a7avfa2113c144321420@mail.gmail.com>

May be BLAT ?

Bruno

2009/11/20 francesco perillo <fperillo@gmail.com>

> gmail only supports SSL mail or TLS on port 25... in my bcc setup I
> don't have openssl so I can't connect to gmail (at the moment)....
>
> Do you have a server you connect without authentication on port 25 for
> mail delivery ? Does it work for you ?
>
> Standard timeout is 1 second... gmail is quick but....
>
> I'm thinking to switch to another system.... creating the mail file on
> disk and run an external to do the delivery....
>
> Francesco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091120/5df99e7f/attachment.html
From bruno.luciani at gmail.com  Fri Nov 20 21:15:19 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Nov 20 21:15:27 2009
Subject: [Harbour] Please try this sendmail patch
In-Reply-To: <6943770e0911201644n4b0b52e0lbd58d69f03146249@mail.gmail.com>
References: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>
	<133778360911201606od3bddf6xf2b7141b3f839633@mail.gmail.com>
	<AED0EBF3-67AE-417B-BBA0-3F03993A5FC9@syenar.hu>
	<6943770e0911201644n4b0b52e0lbd58d69f03146249@mail.gmail.com>
Message-ID: <133778360911201815n6511be0au1d0f06d13fa29c96@mail.gmail.com>

Try this

http://www.e-eeasy.com/SMTPServerList.aspx

Bruno

2009/11/20 francesco perillo <fperillo@gmail.com>

> gmail only supports SSL mail or TLS on port 25... in my bcc setup I
> don't have openssl so I can't connect to gmail (at the moment)....
>
> Do you have a server you connect without authentication on port 25 for
> mail delivery ? Does it work for you ?
>
> Standard timeout is 1 second... gmail is quick but....
>
> I'm thinking to switch to another system.... creating the mail file on
> disk and run an external to do the delivery....
>
> Francesco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091120/9e9bd793/attachment.html
From harbour.01 at syenar.hu  Fri Nov 20 21:35:39 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Nov 20 21:35:49 2009
Subject: [Harbour] Please try this sendmail patch
In-Reply-To: <133778360911201815n6511be0au1d0f06d13fa29c96@mail.gmail.com>
References: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>
	<133778360911201606od3bddf6xf2b7141b3f839633@mail.gmail.com>
	<AED0EBF3-67AE-417B-BBA0-3F03993A5FC9@syenar.hu>
	<6943770e0911201644n4b0b52e0lbd58d69f03146249@mail.gmail.com>
	<133778360911201815n6511be0au1d0f06d13fa29c96@mail.gmail.com>
Message-ID: <EFB3B78E-1B94-4B60-918A-7A516D3530F9@syenar.hu>

gmail SMTPS servers are perfect for testing.

Brgds,
Viktor

On 2009 Nov 21, at 03:15, Bruno Luciani wrote:

> Try this
> 
> http://www.e-eeasy.com/SMTPServerList.aspx
> 
> Bruno
> 
> 2009/11/20 francesco perillo <fperillo@gmail.com>
> gmail only supports SSL mail or TLS on port 25... in my bcc setup I
> don't have openssl so I can't connect to gmail (at the moment)....
> 
> Do you have a server you connect without authentication on port 25 for
> mail delivery ? Does it work for you ?
> 
> Standard timeout is 1 second... gmail is quick but....
> 
> I'm thinking to switch to another system.... creating the mail file on
> disk and run an external to do the delivery....
> 
> Francesco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bruno.luciani at gmail.com  Fri Nov 20 21:38:13 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Nov 20 21:38:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12956] trunk/harbour
In-Reply-To: <E1NBf2z-00036L-NY@dn4whf1.ch3.sourceforge.com>
References: <E1NBf2z-00036L-NY@dn4whf1.ch3.sourceforge.com>
Message-ID: <133778360911201838x3176bd2ej881d2d6714bbaf9b@mail.gmail.com>

Error compiling HBIDE last SVN  Ubuntu Linux 9.10

/////////////////////////////////////////////////////////////////////////////////////////

bruno@notebook:~/harbour_svn/harbour/contrib/hbide$ hbmk2 hbide
hbmk2: Processing local make script:
hbmk.hbm
hbmk2: Processing configuration:
/usr/local/bin/hbmk.cfg
Harbour 2.0.0beta3 (Rev. 12933)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'hbide.prg'...
hbide.prg(708) Warning W0001  Ambiguous reference
'QMAINWINDOW_ALLOWTABBEDDOCKS'
hbide.prg(708) Warning W0001  Ambiguous reference
'QMAINWINDOW_FORCETABBEDDOCKS'
hbide.prg(709) Warning W0001  Ambiguous reference 'QTABWIDGET_SOUTH'
hbide.prg(730) Warning W0001  Ambiguous reference
'QDOCKWIDGET_DOCKWIDGETCLOSABLE'
hbide.prg(730) Warning W0001  Ambiguous reference
'QDOCKWIDGET_DOCKWIDGETMOVABLE'
hbide.prg(766) Warning W0001  Ambiguous reference
'QDOCKWIDGET_DOCKWIDGETCLOSABLE'
hbide.prg(787) Warning W0001  Ambiguous reference
'QDOCKWIDGET_DOCKWIDGETCLOSABLE'
hbide.prg(808) Warning W0001  Ambiguous reference
'QDOCKWIDGET_DOCKWIDGETCLOSABLE'

No code generated.
hbmk2: Error: Running Harbour compiler (embedded).
1
(/usr/local/bin/harbour) -n2 hbide.prg -w3 -es2 -i/usr/local/include/harbour
-i../hbxbp -i../hbqt
bruno@notebook:~/harbour_svn/harbour/contrib/hbide$

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

2009/11/20 <vouchcac@users.sourceforge.net>

> Revision: 12956
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12956&view=rev
> Author:   vouchcac
> Date:     2009-11-21 01:45:51 +0000 (Sat, 21 Nov 2009)
>
> Log Message:
> -----------
> 2009-11-20 17:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbxbp/xbplistbox.prg
>  * contrib/hbide/hbide.prg
>    + Implemented prototype of <Project Tree Structure>.
>      Also play with various icons. Docks at the right and at the bottom can
> be collapsed.
>      Please forward suggesstions.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbide/hbide.prg
>    trunk/harbour/contrib/hbxbp/xbplistbox.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091120/09096ca8/attachment.html
From bruno.luciani at gmail.com  Fri Nov 20 21:39:54 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Nov 20 21:40:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12956] trunk/harbour
In-Reply-To: <133778360911201838x3176bd2ej881d2d6714bbaf9b@mail.gmail.com>
References: <E1NBf2z-00036L-NY@dn4whf1.ch3.sourceforge.com>
	<133778360911201838x3176bd2ej881d2d6714bbaf9b@mail.gmail.com>
Message-ID: <133778360911201839w79c4a8carb29f27719b274be8@mail.gmail.com>

*Sorry my mistake , I forget to make install

Bruno
*
2009/11/20 Bruno Luciani <bruno.luciani@gmail.com>

> Error compiling HBIDE last SVN  Ubuntu Linux 9.10
>
>
> /////////////////////////////////////////////////////////////////////////////////////////
>
> bruno@notebook:~/harbour_svn/harbour/contrib/hbide$ hbmk2 hbide
> hbmk2: Processing local make script:
> hbmk.hbm
> hbmk2: Processing configuration:
> /usr/local/bin/hbmk.cfg
> Harbour 2.0.0beta3 (Rev. 12933)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'hbide.prg'...
> hbide.prg(708) Warning W0001  Ambiguous reference
> 'QMAINWINDOW_ALLOWTABBEDDOCKS'
> hbide.prg(708) Warning W0001  Ambiguous reference
> 'QMAINWINDOW_FORCETABBEDDOCKS'
> hbide.prg(709) Warning W0001  Ambiguous reference 'QTABWIDGET_SOUTH'
> hbide.prg(730) Warning W0001  Ambiguous reference
> 'QDOCKWIDGET_DOCKWIDGETCLOSABLE'
> hbide.prg(730) Warning W0001  Ambiguous reference
> 'QDOCKWIDGET_DOCKWIDGETMOVABLE'
> hbide.prg(766) Warning W0001  Ambiguous reference
> 'QDOCKWIDGET_DOCKWIDGETCLOSABLE'
> hbide.prg(787) Warning W0001  Ambiguous reference
> 'QDOCKWIDGET_DOCKWIDGETCLOSABLE'
> hbide.prg(808) Warning W0001  Ambiguous reference
> 'QDOCKWIDGET_DOCKWIDGETCLOSABLE'
>
> No code generated.
> hbmk2: Error: Running Harbour compiler (embedded).
> 1
> (/usr/local/bin/harbour) -n2 hbide.prg -w3 -es2
> -i/usr/local/include/harbour -i../hbxbp -i../hbqt
> bruno@notebook:~/harbour_svn/harbour/contrib/hbide$
>
>
> ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
>
> 2009/11/20 <vouchcac@users.sourceforge.net>
>
> Revision: 12956
>>
>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12956&view=rev
>> Author:   vouchcac
>> Date:     2009-11-21 01:45:51 +0000 (Sat, 21 Nov 2009)
>>
>> Log Message:
>> -----------
>> 2009-11-20 17:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>>  * contrib/hbxbp/xbplistbox.prg
>>  * contrib/hbide/hbide.prg
>>    + Implemented prototype of <Project Tree Structure>.
>>      Also play with various icons. Docks at the right and at the bottom
>> can be collapsed.
>>      Please forward suggesstions.
>>
>> Modified Paths:
>> --------------
>>    trunk/harbour/ChangeLog
>>    trunk/harbour/contrib/hbide/hbide.prg
>>    trunk/harbour/contrib/hbxbp/xbplistbox.prg
>>
>>
>> This was sent by the SourceForge.net collaborative development platform,
>> the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091120/7c79dfba/attachment-0001.html
From lorenzo.fiorini at gmail.com  Fri Nov 20 22:45:03 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Nov 20 22:45:10 2009
Subject: [Harbour] Please try this sendmail patch
In-Reply-To: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>
References: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>
Message-ID: <9257026e0911201945j45fc8c8oa5670af4e7f18bb9@mail.gmail.com>

On Sat, Nov 21, 2009 at 12:30 AM, francesco perillo <fperillo@gmail.com> wrote:

> Is anybody using hb_sendmail() ? I already said that it is not fully
> smtp protocol compliant.... and my tests (trunk compiled with bcc)
> didn't worked at all due to this incoorect protocol implementation....

I use it in all my apps and I don't see problems with Qmail and
postfix SMTP servers using plain password authentication.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Fri Nov 20 23:39:56 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Nov 20 23:40:02 2009
Subject: [Harbour] osx harbour.dylib not found issue
Message-ID: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com>

To get ./demoqt working after hbmk2 demoqt I have to do ln -s
libharbour.dylib harbour.dylib.

 Any comment?

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Sat Nov 21 00:44:26 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Nov 21 00:44:32 2009
Subject: [Harbour] Added support for OSX frameworks in hb* scripts
Message-ID: <9257026e0911202144h2e326098ra67dfd622255c9c7@mail.gmail.com>

I've locally added support for -f<name> for hb* scripts.

In bin/hb-func.sh
...
-f[^-]*)     HB_USRLIBS="\${HB_USRLIBS} -framework \${v#-f}" ;;
...

this makes hbmk usable for Qt like:

 hbmk -n demoqt.prg -lhbqt -lhbqtcore -lhbqtgui -lhbqtnetwork -fQtCore
-fQtGui -fQtNetwork -lsupc++

and I've also added a -hbqt switch to reduce it to:

hbmk -n demoqt.prg -hbqt

like the -xbgtk -xhgtk -hwgui that already exist.

Is there a better way to implement it?

best regards,
Lorenzo
From fperillo at gmail.com  Sat Nov 21 02:30:22 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sat Nov 21 02:30:28 2009
Subject: [Harbour] Please try this sendmail patch
In-Reply-To: <9257026e0911201945j45fc8c8oa5670af4e7f18bb9@mail.gmail.com>
References: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>
	<9257026e0911201945j45fc8c8oa5670af4e7f18bb9@mail.gmail.com>
Message-ID: <6943770e0911202330m49f93a43o15c047f78292ecac@mail.gmail.com>

At the moment I tried hb_sendmail against exim without any form of
authentication, just plain old clear-text smtp.... I will try Qmail
and other servers this evening but I have to remove the patch first...

The "problem" is that hb_sendmail() sends the EHLO or HELO command
without waiting for the 220 "here I am" from the server... and they
both refuse it....

Francesco
From bedipritpal at hotmail.com  Sat Nov 21 02:42:38 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Nov 21 02:42:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12956] trunk/harbour
In-Reply-To: <he7i9r$hoi$1@ger.gmane.org>
References: <E1NBf2z-00036L-NY@dn4whf1.ch3.sourceforge.com>
	<he7i9r$hoi$1@ger.gmane.org>
Message-ID: <26454136.post@talk.nabble.com>


Hi


Angel Pais wrote:
> 
> I was playing with the new toy and noticed something weird:
> 
> Open the app, then click on close button and everything is ok.
> Open it again, then open hbide.prg with the source editor, close both 
> tabs and try to close the app. It freezes and has to be killed with the 
> task manager.
> 
> SO: win XP, harbour+mingw
> 

I know. I will concentrate on it once I will establish the parent/childs 
relations for all the interface widgets. It is message loop which has gone 
weired because not all the widgets are created through Xbp* class framework.
This tool is of hibrid mode using Xbp class framework with HBQT classes for 
some widgets which are not available in Xbp.

This is the reason I floated the idea of extending Xbase++ framework
which has not been accepted by the group by now.

But I am feeling the pinch of this omission.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12956--trunk-harbour-tp26452981p26454136.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sat Nov 21 02:44:21 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Nov 21 02:44:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12956] trunk/harbour
In-Reply-To: <133778360911201838x3176bd2ej881d2d6714bbaf9b@mail.gmail.com>
References: <E1NBf2z-00036L-NY@dn4whf1.ch3.sourceforge.com>
	<133778360911201838x3176bd2ej881d2d6714bbaf9b@mail.gmail.com>
Message-ID: <26454137.post@talk.nabble.com>


Bruno


Bruno Luciani wrote:
> 
> Error compiling HBIDE last SVN  Ubuntu Linux 9.10
> 
> 'QMAINWINDOW_ALLOWTABBEDDOCKS'
> 

I expect some mature messages though you have quickly reverted it.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12956--trunk-harbour-tp26452981p26454137.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Nov 21 03:45:54 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Nov 21 03:46:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12956] trunk/harbour
In-Reply-To: <26454136.post@talk.nabble.com>
References: <E1NBf2z-00036L-NY@dn4whf1.ch3.sourceforge.com>
	<he7i9r$hoi$1@ger.gmane.org> <26454136.post@talk.nabble.com>
Message-ID: <64E707EB-309E-49FB-ACC0-1A80072898F1@syenar.hu>

Hi Pritpal,

>> SO: win XP, harbour+mingw
>> 
> 
> I know. I will concentrate on it once I will establish the parent/childs 
> relations for all the interface widgets. It is message loop which has gone 
> weired because not all the widgets are created through Xbp* class framework.
> This tool is of hibrid mode using Xbp class framework with HBQT classes for 
> some widgets which are not available in Xbp.
> 
> This is the reason I floated the idea of extending Xbase++ framework
> which has not been accepted by the group by now.
> 
> But I am feeling the pinch of this omission.

AFAIK the only one reaction came from me 
telling you _can_ extend it, just guard all 
the extensions with HBXBP_EXTENSION. This looks 
like a pretty simple thing to do (although 
it needs some paying attention of course), 
and not a huge price to pay to create extensions.

Since I assume clean extensions come in 
the form of new classes or new methods/vars 
in existing Xbase++ compatibility classes, 
another solution is to mark all these class/
method/var names with distinctive prefix 
(hb_/hb). I'd advise against hidden extensions 
like new parameters to existing methods or 
change of behavior, since these are much 
difficult to handle, but if you need to do 
such thing, the HBXBP_EXTENSION trick would 
work as well.

Any of above is even useful for yourself if 
you ever want to do any Xbase++ compatibility 
testing of hbxbp code.

Two more thoughs:

1) Apart from this, IMO it would be a great 
plus if users could mix hbxbp and hbqt usage 
in one app, as I'm sure there will ever be 
someone who find hbxbp feature not enough for 
their apps, and wants to use some hbqt features 
directly (and don't have the freedom or will 
to extend hbxbp). I assume it's not always nice 
to extend base hbxbp classes for _every_ need 
that appears when coding hbide.

2) hbide could be a nice showcase to present 
elegant way of hbxbp programming and if/where 
needed a nice showcase of mixing hbxbp and hbqt 
the "proper" way.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Nov 21 04:42:54 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Nov 21 04:43:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12956] trunk/harbour
In-Reply-To: <26454137.post@talk.nabble.com>
References: <E1NBf2z-00036L-NY@dn4whf1.ch3.sourceforge.com>
	<133778360911201838x3176bd2ej881d2d6714bbaf9b@mail.gmail.com>
	<26454137.post@talk.nabble.com>
Message-ID: <1A23EDF6-E953-47D2-AB73-DDD979602928@syenar.hu>

> Bruno Luciani wrote:
>> 
>> Error compiling HBIDE last SVN  Ubuntu Linux 9.10
>> 
>> 'QMAINWINDOW_ALLOWTABBEDDOCKS'
>> 
> 
> I expect some mature messages though you have quickly reverted it.

It's FAQ by now: It happens when older hbqt headers are 
present in central Harbour include dir, or in any dir 
user specifies using INCLUDE envvar. [ BTW, INCLUDE var 
usage is generally not a recommended pattern to follow. ]

There are two solutions:
1) Update hbqt.ch in this/these locations. As for central 
   Harbour dir, this needs 'make install' (just as Bruno wrote 
   replying his own e-mail)
2) Delete hbqt.ch from this/these locations. This way 
   hbide and all Harbour samples will still build properly, 
   but it may break local dev environment depending on what 
   setup is used, so use it with caution. 

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Nov 21 04:52:39 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Nov 21 04:52:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12943] trunk/harbour
In-Reply-To: <20091120132941.GB7228@34-mo7-2.home.aster.pl>
References: <E1NBGGx-0006tr-7v@c3vjzd1.ch3.sourceforge.com>
	<000001ca6978$c1f3c1d0$45db4570$@Bisz@t-online.hu>
	<alpine.DEB.2.00.0911200459310.11887@dawn.royalcomp.hu>
	<20091120120928.GA18452@34-mo7-2.home.aster.pl>
	<C03BBC90-8AB9-4CCB-9557-40FEDEC6F40E@syenar.hu>
	<20091120132941.GB7228@34-mo7-2.home.aster.pl>
Message-ID: <F59AF999-5A74-417B-A5B8-E2FD70BB1D7E@syenar.hu>

Hi Przemek,

On 2009 Nov 20, at 14:29, Przemys?aw Czerpak wrote:

> On Fri, 20 Nov 2009, Szak?ts Viktor wrote:
> 
> Hi,
> 
>> I'd say go for it.
> 
> I'll commit it in a while.

Thank you, I saw you did it since.

>> Any reason we don't seem to have HB_FM_DLMT_ALLOC 
>> enabled by default when building vmmt lib? I think 
>> we should enable it.
> 
> For all platforms which now uses DLMALLOC I think it can be enabled.
> For sure for 64bit builds. Using many mspaces on 32bit platforms may
> cause memory fragmentation. For 99% of programs it should not be a
> problem but if someone created code which allocates very large memory
> blocks containg hundreds of megabytes then it may create problems.
> On 64bit platforms the address space is large enough to fully eliminate
> this problem.
> There is also yet another problem with DLMALLOC. Valgrind does not
> recognize it so it cannot create some memory statistics when it's used
> instead of default memory manager which is replaced dynamically by
> valgrind. It means that for Linux it should be optional.
> Anyhow I've just made some test with Suse11.2-x86@64 and DLMALLOC
> compiled with hvmall.c is noticeable faster then default memory
> manager and speed difference is quite huge (~15% in speedtst.prg).
> so in some cases it can be important extension for final code.

Well, pls feel free to decide, to me, from your words it seems 
it can be enabled for win/os2 platforms without any restrictions. 
For "valgrind platforms", IMO we may also enable it by 
default and disable it for debug builds only, since I believe 
the latter is typically used for valgrind testing.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Nov 21 05:11:34 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 21 05:11:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12957] trunk/harbour
Message-ID: <E1NBmwI-0008GD-2k@d5vjzd1.ch3.sourceforge.com>

Revision: 12957
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12957&view=rev
Author:   vszakats
Date:     2009-11-21 10:11:32 +0000 (Sat, 21 Nov 2009)

Log Message:
-----------
2009-11-21 11:10 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbsetup.h
  * utils/hbmk2/hbmk2.prg
  * config/darwin/clang.mk
    + Using __clang__ for Clang detection instead of locally rolled 
      solution.

  * src/common/hbver.c
    + Added Clang compiler detection.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/darwin/clang.mk
    trunk/harbour/include/hbsetup.h
    trunk/harbour/src/common/hbver.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Sat Nov 21 07:15:54 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Nov 21 07:34:26 2009
Subject: [Harbour] To Pritpal about hbide
In-Reply-To: <6943770e0911200814p5c55c021g7f5a6682c57858e8@mail.gmail.com>
References: <6943770e0911200814p5c55c021g7f5a6682c57858e8@mail.gmail.com>
Message-ID: <609353e70911210415i26823b9ag5c3fc88f26b3e5bf@mail.gmail.com>

You can start adding

2009/11/20 francesco perillo <fperillo@gmail.com>:
> Hi,
> I was told that hbide will integrate support for svn...
>
> Since I'm an user of Mercurial I'd like to talk with you to cooperate
> to add support for this dvcs...
>
> Francesco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Iscritto all'albo dei CTU presso il Tribunale di Novara per materia Informatica
Delta Informatica S.r.l. (http://www.deltain.it/) (+39 0321 455962)
Analisi e sviluppo software per Lan e Web -  Consulenza informatica - Formazione
From m.lacecilia at gmail.com  Sat Nov 21 06:49:21 2009
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Sat Nov 21 07:34:36 2009
Subject: [Harbour] GTwin console window
In-Reply-To: <26455726.post@talk.nabble.com>
References: <26443609.post@talk.nabble.com>
	<06E8BF39-F58F-4727-940D-048485D9A4DA@syenar.hu>
	<26455726.post@talk.nabble.com>
Message-ID: <26455796.post@talk.nabble.com>


Forget previous message...
Found the -gui switch and solved the problem.
Best regards.
Maurizio


Maurizio la Cecilia wrote:
> 
> Thanks for the clarification.
> Anyway, i tested the gtwvt approach and crashed in the double console
> window problem.
> Also compiling wvtext.prg in tests folder with the command:
> hbmk2 wvtest.prg
> gives me the same result.
> The gtapi.txt in the doc folder gives some directive to avoid this empty
> console window added, but i don't resolve to obtain the only wvt window be
> displayed.
> Sorry for my sure misunderstood.
> Best regards.
> Maurizio
> 
> 
> Viktor Szak?ts wrote:
>> 
>>> Ther'is a way to maximize the windows of a console application (GTwin)?
>>> I means no fullscreen mode, but resize avoiding any scrollbar.
>>> In my compiled app, the horizontal size don't match the 80 chars *
>>> charwidth
>>> pixel and is needed to click the maximize button on the titlebar to
>>> avoid
>>> the display of the horizontal scrollbar.
>>> Any hint?
>> 
>> There is no programmatic way to control native win console window 
>> look/behavior besides setting the number of rows/cols of screen area.
>> 
>> Solution: Use GTWVT.
>> 
>> Brgds,
>> Viktor
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> 
> 
> 

-- 
View this message in context: http://old.nabble.com/GTwin-console-window-tp26443609p26455796.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From m.lacecilia at gmail.com  Sat Nov 21 06:38:29 2009
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Sat Nov 21 07:34:44 2009
Subject: [Harbour] GTwin console window
In-Reply-To: <06E8BF39-F58F-4727-940D-048485D9A4DA@syenar.hu>
References: <26443609.post@talk.nabble.com>
	<06E8BF39-F58F-4727-940D-048485D9A4DA@syenar.hu>
Message-ID: <26455726.post@talk.nabble.com>


Thanks for the clarification.
Anyway, i tested the gtwvt approach and crashed in the double console window
problem.
Also compiling wvtext.prg in tests folder with the command:
hbmk2 wvtest.prg
gives me the same result.
The gtapi.txt in the doc folder gives some directive to avoid this empty
console window added, but i don't resolve to obtain the only wvt window be
displayed.
Sorry for my sure misunderstood.
Best regards.
Maurizio


Viktor Szak?ts wrote:
> 
>> Ther'is a way to maximize the windows of a console application (GTwin)?
>> I means no fullscreen mode, but resize avoiding any scrollbar.
>> In my compiled app, the horizontal size don't match the 80 chars *
>> charwidth
>> pixel and is needed to click the maximize button on the titlebar to avoid
>> the display of the horizontal scrollbar.
>> Any hint?
> 
> There is no programmatic way to control native win console window 
> look/behavior besides setting the number of rows/cols of screen area.
> 
> Solution: Use GTWVT.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://old.nabble.com/GTwin-console-window-tp26443609p26455726.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Nov 21 07:08:27 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Nov 21 07:37:48 2009
Subject: [Harbour] hbide RTE
Message-ID: <346FE32D-092C-4358-B74D-AD292451F22F@syenar.hu>

Hi Pritpal,

I still can't simply close hbide window with close button or 
normal app/window closing means.

While I've been trying, I got this:
---
Error BASE/1004  No exported method: ACHILDREN
Called from ACHILDREN(0)  
Called from XBPTABPAGE:DESTROY(0)  
Called from (b)XBPWINDOW_DESTROY(0)  
Called from AEVAL(0)  
Called from XBPWINDOW:DESTROY(0)  
Called from XBPTABWIDGET:DESTROY(0)  
Called from (b)XBPWINDOW_DESTROY(0)  
Called from AEVAL(0)  
Called from XBPDRAWINGAREA:DESTROY(0)  
Called from (b)XBPWINDOW_DESTROY(0)  
Called from AEVAL(0)  
Called from XBPDIALOG:DESTROY(0)  
Called from HBIDE:CREATE(325)  
Called from MAIN(104)  Segmentation fault
---

OS X 10.6.2 64-bit with QT 4.6 RC.

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Nov 21 06:16:55 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 21 07:39:38 2009
Subject: [Harbour] osx harbour.dylib not found issue
In-Reply-To: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com>
References: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com>
Message-ID: <DABE34FD-B91A-4998-A5B3-B257A114BE19@syenar.hu>

Rather hbmk2 should be modified if possible to load 
it without requiring such links.

Any ideas how to do this?

This is current link command when using -shared mode:
---
hbmk2: Linker command:                                                         
/Developer/usr/bin/gcc hbide.o hbmk_KNOaaX.o   -lhbxbp -lhbqt -lhbqtcore -lhbqtgui -lhbqtnetwork -lsupc++ -lhbcplr -lhbdebug /Library/Frameworks/QtCore.framework/QtCore /Library/Frameworks/QtGui.framework/QtGui /Library/Frameworks/QtNetwork.framework/QtNetwork /Users/vszakats/harbour/lib/darwin/gcc/libharbour.dylib -bind_at_load -o hbide -L/Users/vszakats/harbour/lib/darwin/gcc
---

Brgds,
Viktor

On 2009 Nov 21, at 05:39, Lorenzo Fiorini wrote:

> To get ./demoqt working after hbmk2 demoqt I have to do ln -s
> libharbour.dylib harbour.dylib.
> 
> Any comment?
> 
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sat Nov 21 07:54:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 21 07:54:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12959]
	trunk/harbour/ChangeLog
Message-ID: <E1NBpTb-00035J-DP@c3vjzd1.ch3.sourceforge.com>

Revision: 12959
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12959&view=rev
Author:   vszakats
Date:     2009-11-21 12:53:58 +0000 (Sat, 21 Nov 2009)

Log Message:
-----------
Typo in ChangeLog entry:

2009-11-20 13:18 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  [...]
  * contrib/hbwin/win_osc.c
    + Added OS_ISWIN7(). Borrowed from xhb / Patrick Mast.

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From m.lacecilia at gmail.com  Sat Nov 21 06:18:31 2009
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Sat Nov 21 07:56:14 2009
Subject: R: [Harbour] Re: SF.net SVN: harbour-project:[12956] trunk/harbour
In-Reply-To: <he7i9r$hoi$1@ger.gmane.org>
References: <E1NBf2z-00036L-NY@dn4whf1.ch3.sourceforge.com>
	<he7i9r$hoi$1@ger.gmane.org>
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAAEPH+zHhktcRvfQAgK18GwzCgAAAEAAAAJ+fWImix8ZHgxBUkAI8k0kBAAAAAA==@gmail.com>

I confirm this behaviour.

And i suggest also to take in count of the .INI files in the project
structure, as could be useful to rebuild the app after a change in one of
these files.
xMate hitself has support for ini files, but don't includes this files in
the search and replace function. I think that, because often the content of
ini file is related to code, we could include also this type in selection of
search and replace function.
Thanks for the great work you're making, Pritpal.
Best regards.
Maurizio

> -----Messaggio originale-----
> Da: Angel Pais [mailto:amigosam@adinet.com.uy] 
> Inviato: sabato 21 novembre 2009 3.12
> A: harbour@harbour-project.org
> Oggetto: [Harbour] Re: SF.net SVN: harbour-project:[12956] 
> trunk/harbour
> 
> vouchcac@users.sourceforge.net escribi?:
> >   * contrib/hbide/hbide.prg
> >     + Implemented prototype of <Project Tree Structure>.
> >       Also play with various icons. Docks at the right and 
> at the bottom can be collapsed.
> >       Please forward suggesstions.
> 
> Hi Pritpal
> 
> I was playing with the new toy and noticed something weird:
> 
> Open the app, then click on close button and everything is ok.
> Open it again, then open hbide.prg with the source editor, close both 
> tabs and try to close the app. It freezes and has to be 
> killed with the 
> task manager.
> 
> SO: win XP, harbour+mingw
> 
> Regards
> Angel
> 
> 
> 

From vszakats at users.sourceforge.net  Sat Nov 21 06:38:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 21 08:27:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12958] trunk/harbour
Message-ID: <E1NBoIf-00057b-OI@3kljzd1.ch3.sourceforge.com>

Revision: 12958
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12958&view=rev
Author:   vszakats
Date:     2009-11-21 11:38:44 +0000 (Sat, 21 Nov 2009)

Log Message:
-----------
2009-11-21 12:38 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed to make clang behave like gcc when decorating lib references.
    ! Fixed to include clang in 'allgcc' filter.
    + Added native header detection when using clang.
    ! Internal change to use detected c compiler name instead of 
      hard-wired 'gcc' when doing native header detection for .c files
      (using -MM option).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Nov 21 09:29:55 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 21 09:30:05 2009
Subject: [Harbour] Please try this sendmail patch
In-Reply-To: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>
References: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>
Message-ID: <49F77159-02C3-4D30-90C7-FAD3F31801C9@syenar.hu>

Hi Francesco,

> If it works for you or doesn't, please test this patch in
> contrib\hbtip and report.

The additional two GetOK() calls don't look correct to me, 
first of all because they happen right after opening the 
connection when no request has been sent out to SMTP server 
yet.

Second because GetOK() _is_ actually called after HELO and 
EHLO requests in line 124 and 143.

Can you try whether upping the timeout by itself solves your 
problems?

Brgds,
Viktor

> 
> Index: smtpcli.prg
> ===================================================================
> --- smtpcli.prg	(revision 12954)
> +++ smtpcli.prg	(working copy)
> @@ -96,10 +97,11 @@
>       bTrace := {| cMsg | iif( PCount() > 0, oLog:Add( cMsg ), oLog:Close() ) }
>    ENDIF
> 
>    ::super:New( oUrl, bTrace, oCredentials )
> 
>    ::nDefaultPort := iif( ::oUrl:cProto == "smtps", 465, 25 )
> -   ::nConnTimeout := 5000
> +   ::nConnTimeout := 50000
>    ::nAccessMode := TIP_WO  // a write only
> 
>    RETURN Self
> @@ -110,6 +112,10 @@
>       RETURN .F.
>    ENDIF
> 
> +   IF ! ::GetOk()
> +      RETURN .F.
> +   ENDIF
> +
>    DEFAULT lTLS TO .F.
> 
>    IF lTLS
> @@ -129,6 +135,10 @@
>       RETURN .F.
>    ENDIF
> 
> +   IF ! ::GetOk()
> +      RETURN .F.
> +   ENDIF
> +
>    DEFAULT lTLS TO .F.
> 
>    IF lTLS
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From Istvan.Bisz at t-online.hu  Sat Nov 21 09:38:12 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Sat Nov 21 09:38:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12956] trunk/harbour
References: <E1NBf2z-00036L-NY@dn4whf1.ch3.sourceforge.com> 
Message-ID: <000401ca6ab8$40d33270$c2799750$@Bisz@t-online.hu>

Hi Pritpal,

>    + Implemented prototype of <Project Tree Structure>.
>      Also play with various icons. Docks at the right and at the bottom can be collapsed.
>      Please forward suggesstions.

Great approach! Just some suggestion:

1. The docks in the left, right and down window should be collapsed when the focus goes on the main window and expanded back if the arrow goes in the corresponding leftmost rightmost and downmost position. I think this is an easier handling if is it possible with the existing tools.

2. Please study the attached material of a sample project generated by CodeWright, very powerful and universal IDE supporting the Clipper family too. Maybe you can find some ideas in your implementation.

Best regards,
Istv?n

-------------- next part --------------
A non-text attachment was scrubbed...
Name: CodeWright.zip
Type: application/x-zip-compressed
Size: 27230 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091121/49dbb955/CodeWright-0001.bin
From amigosam at adinet.com.uy  Sat Nov 21 09:39:47 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sat Nov 21 09:43:49 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12956] trunk/harbour
In-Reply-To: <26454136.post@talk.nabble.com>
References: <E1NBf2z-00036L-NY@dn4whf1.ch3.sourceforge.com>	<he7i9r$hoi$1@ger.gmane.org>
	<26454136.post@talk.nabble.com>
Message-ID: <he8u3g$bnl$1@ger.gmane.org>

Pritpal Bedi escribi?:
> Hi
> ...
> This is the reason I floated the idea of extending Xbase++ framework
> which has not been accepted by the group by now.
> 

Well on this I disagree with Viktor. I dont need backward compatibility 
with xbase++, so extending claes and/or creating new ones is ok with me.
Once this class framework is ready for production apps I wont look back 
to Alaska's product. And since I intend to develop cross platforms apps 
compatibility is in fact impossible.
This is just my oppinion of course, you are the Master and hbxbp is your 
child.

Best Regards
Angel

From lorenzo.fiorini at gmail.com  Sat Nov 21 09:55:32 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Nov 21 09:55:39 2009
Subject: [Harbour] osx harbour.dylib not found issue
In-Reply-To: <DABE34FD-B91A-4998-A5B3-B257A114BE19@syenar.hu>
References: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com>
	<DABE34FD-B91A-4998-A5B3-B257A114BE19@syenar.hu>
Message-ID: <9257026e0911210655s7d26556bi5c13884e5fdff154@mail.gmail.com>

On Sat, Nov 21, 2009 at 12:16 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Rather hbmk2 should be modified if possible to load
> it without requiring such links.

hbmk2 -traceonly demoqt
hbmk2: Processing environment options: -compiler=gcc
hbmk2: Processing local make script: hbmk.hbm
hbmk2: Processing configuration: /opt/harbour/bin/hbmk.cfg
hbmk2: Harbour compiler command (embedded):
(/opt/harbour/bin/harbour) -n2 demoqt.prg -w3 -es2
-i/opt/harbour/include/harbour -i..
hbmk2: C compiler command:
gcc -c -O3  -Wall -W -I/opt/harbour/include/harbour -I.. demoqt.c
/var/folders/5Y/5Yrw2w+kGvqg7LiwM4q2Yk+++TI/-Tmp-/hbmk_gvsy4s.c
hbmk2: Linker command:
gcc demoqt.o hbmk_gvsy4s.o   -lhbqt -lhbqtcore -lhbqtgui -lhbqtnetwork
-lsupc++ -lhbcplr -lhbdebug -lharbour
/Library/Frameworks/QtCore.framework/QtCore
/Library/Frameworks/QtGui.framework/QtGui
/Library/Frameworks/QtNetwork.framework/QtNetwork -bind_at_load -o
demoqt -L/opt/harbour/lib/harbour

I see a difference: I have a -lharbour you have
/Users/vszakats/harbour/lib/darwin/gcc/libharbour.dylib
I've tried to add -shared but it doesn't change.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sat Nov 21 10:07:51 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 21 10:08:02 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12956] trunk/harbour
In-Reply-To: <he8u3g$bnl$1@ger.gmane.org>
References: <E1NBf2z-00036L-NY@dn4whf1.ch3.sourceforge.com>	<he7i9r$hoi$1@ger.gmane.org>
	<26454136.post@talk.nabble.com> <he8u3g$bnl$1@ger.gmane.org>
Message-ID: <51FAF344-3E29-414F-9D1F-D2EBEDD2E35D@syenar.hu>

> Pritpal Bedi escribi?:
>> Hi
>> ...
>> This is the reason I floated the idea of extending Xbase++ framework
>> which has not been accepted by the group by now.
> 
> Well on this I disagree with Viktor. I dont need backward compatibility with xbase++, so extending claes and/or creating new ones is ok with me.

I don't know where the misconception comes from about my 
POV on this, but I'd like to stop it now.

This is exactly what I wrote:
---
"I don't know, but please document it, we have a long history 
in Harbour to document extensions, so we should IMO do this 
also for hbxbp. We don't have any interest in locking in 
users into Harbour + hbxbp, IOW we should allow them to move 
to Xbase++, or create apps which work on both platforms.

The easiest and recommended way to self-document it is by 
using a simple macro, f.e. HBXBP_EXTENSION. Which is #defined 
by default."
---

Which seems quite clear, but to clarify further, it means 
that while I can't decide whether we _should_ extend (I trust 
Pritpal and actual Xbase++/hbqt users on this), but I know we 
_may_ extend it, if we stick to a few rules: we extend it wisely 
and document all extensions in code. These rules should be 
similar to what we've been using when extending Clipper, maybe 
not so strict.

IMO it's very important to do extensions along a documented 
procedure, otherwise there is no guarantee whatsoever that 
Xbase++ compatibility can be kept, or even tested. Which 
means we cut off Harbour + hbxbp as an upgrade path for 
Xbase++ users and make the transition a one way step, 
plus we can't guarantee any sort of parallelism through 
the transition process (I mean app can't be build for both 
platforms at the same time).

If make Xbase++ users life more difficult to move to Harbour, 
it means Harbour userbase can't grow the way it otherwise 
would. Which isn't very good.

[ about a few technical aspects of extending wisely and 
in documented way, pls see my recent msg. ]

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Nov 21 12:15:57 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 21 12:16:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12960] trunk/harbour
Message-ID: <E1NBtYz-0002qI-PK@dn4whf1.ch3.sourceforge.com>

Revision: 12960
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12960&view=rev
Author:   vszakats
Date:     2009-11-21 17:15:56 +0000 (Sat, 21 Nov 2009)

Log Message:
-----------
2009-11-21 18:13 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added clang support to link to dylib with full dirspec 
      (when Harbour is not used/installed in a system location)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Nov 21 12:39:16 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 21 12:39:26 2009
Subject: [Harbour] osx harbour.dylib not found issue
In-Reply-To: <9257026e0911210655s7d26556bi5c13884e5fdff154@mail.gmail.com>
References: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com>
	<DABE34FD-B91A-4998-A5B3-B257A114BE19@syenar.hu>
	<9257026e0911210655s7d26556bi5c13884e5fdff154@mail.gmail.com>
Message-ID: <7DE69884-D50E-4A71-BB80-DA75975F7E9B@syenar.hu>

Hi Lorenzo,

>> Rather hbmk2 should be modified if possible to load
>> it without requiring such links.
> 
> hbmk2 -traceonly demoqt
> gcc demoqt.o hbmk_gvsy4s.o   -lhbqt -lhbqtcore -lhbqtgui -lhbqtnetwork
> -lsupc++ -lhbcplr -lhbdebug -lharbour
> /Library/Frameworks/QtCore.framework/QtCore
> /Library/Frameworks/QtGui.framework/QtGui
> /Library/Frameworks/QtNetwork.framework/QtNetwork -bind_at_load -o
> demoqt -L/opt/harbour/lib/harbour
> 
> I see a difference: I have a -lharbour you have
> /Users/vszakats/harbour/lib/darwin/gcc/libharbour.dylib
> I've tried to add -shared but it doesn't change.

This difference is due to the fact that Harbour is installed 
to system location on your system and not on mine. hbmk2 will 
adapt and use full dirspec to link against dylib. Anyhow the 
problem is present in both cases apparently.

What I don't understand is how come hbmk2 links against 
libharbour.dylib, yet when running it, it's looking for 
harbour.dylib ? (I also have the impression this is a 
regression)

---
silver:hbide vszakats$ ../../bin/hbmk2 hbide -shared -trace
[...]
hbmk2: Linker command:                                                         
/Developer/usr/bin/clang hbide.o hbmk_oeG2NQ.o   -lhbxbp -lhbqt -lhbqtcore -lhbqtgui -lhbqtnetwork -lsupc++ -lhbcplr -lhbdebug /Library/Frameworks/QtCore.framework/QtCore /Library/Frameworks/QtGui.framework/QtGui /Library/Frameworks/QtNetwork.framework/QtNetwork /Users/vszakats/harbour/lib/darwin/clang/libharbour.dylib -o hbide -L/Users/vszakats/harbour/lib/darwin/clang

silver:hbide vszakats$ ./hbide
dyld: Library not loaded: harbour.dylib
  Referenced from: /Users/vszakats/harbour/contrib/hbide/./hbide
  Reason: image not found
Trace/BPT trap
---

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Sat Nov 21 12:55:21 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Nov 21 12:55:27 2009
Subject: [Harbour] osx harbour.dylib not found issue
In-Reply-To: <7DE69884-D50E-4A71-BB80-DA75975F7E9B@syenar.hu>
References: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com>
	<DABE34FD-B91A-4998-A5B3-B257A114BE19@syenar.hu>
	<9257026e0911210655s7d26556bi5c13884e5fdff154@mail.gmail.com>
	<7DE69884-D50E-4A71-BB80-DA75975F7E9B@syenar.hu>
Message-ID: <9257026e0911210955h73f04530m4621055be1e79aec@mail.gmail.com>

On Sat, Nov 21, 2009 at 6:39 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> This difference is due to the fact that Harbour is installed
> to system location on your system and not on mine. hbmk2 will
> adapt and use full dirspec to link against dylib. Anyhow the
> problem is present in both cases apparently.

In my local repo I remove all that HB_SYSLOC logic in the global.mk.
I don't understand the need to have different logic for different paths.
Moreover /opt is completely different from /usr since it's never used
by the system.

If the user doesn't define a path Harbour should choose a safe default
but if the user defines it I don't see the reason why the build system
should override the choice.

However in this case I'm using the standard svn.

best regards,
Lorenzo
From fperillo at gmail.com  Sat Nov 21 13:19:13 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sat Nov 21 13:19:20 2009
Subject: [Harbour] Please try this sendmail patch
In-Reply-To: <49F77159-02C3-4D30-90C7-FAD3F31801C9@syenar.hu>
References: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>
	<49F77159-02C3-4D30-90C7-FAD3F31801C9@syenar.hu>
Message-ID: <6943770e0911211019v38b75811o32156bb89bb73054@mail.gmail.com>

Viktor, I DID try to just raise timeouts and I did some more tests.

My MTA is exim and it is very "strict" on the protocol.

Try to issue this command:
telnet <mailserver> 25
and you will get a
"220 message"
and ONLY IN THIS MOMENT you can issue commands !

Exim doesn't accept any command before the 220 is sent ! In the past,
a lot of spam software did send the HELO without waiting for the 220
banner and exim killed them....

Gmail accepts the message without the patch and probably the same will
happen with other MTAs....


I want to say that  in a particular case (external antivirus + backend
MTA) I have
"220-message 1"
"220 message 2"
and if the backend is  down I get a
"5xx error message"

> Second because GetOK() _is_ actually called after HELO and
> EHLO requests in line 124 and 143.

It is correct that it is called after HELO/EHLO ! But the reply must
be correctly checked !

Finally, please try the patch....

Thanks,
Francesco
From fperillo at gmail.com  Sat Nov 21 13:20:30 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sat Nov 21 13:20:38 2009
Subject: [Harbour] To Pritpal about hbide
In-Reply-To: <609353e70911210415i26823b9ag5c3fc88f26b3e5bf@mail.gmail.com>
References: <6943770e0911200814p5c55c021g7f5a6682c57858e8@mail.gmail.com>
	<609353e70911210415i26823b9ag5c3fc88f26b3e5bf@mail.gmail.com>
Message-ID: <6943770e0911211020mcf2f77eid6569432adb7b46f@mail.gmail.com>

I have to understand how to compile hbide (with Qt) before .....

:-)

Francesco
From harbour.01 at syenar.hu  Sat Nov 21 13:21:56 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 21 13:22:05 2009
Subject: [Harbour] osx harbour.dylib not found issue
In-Reply-To: <9257026e0911210955h73f04530m4621055be1e79aec@mail.gmail.com>
References: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com>
	<DABE34FD-B91A-4998-A5B3-B257A114BE19@syenar.hu>
	<9257026e0911210655s7d26556bi5c13884e5fdff154@mail.gmail.com>
	<7DE69884-D50E-4A71-BB80-DA75975F7E9B@syenar.hu>
	<9257026e0911210955h73f04530m4621055be1e79aec@mail.gmail.com>
Message-ID: <21B47C04-9E57-4CEA-8D2C-32C265971A73@syenar.hu>

>> This difference is due to the fact that Harbour is installed
>> to system location on your system and not on mine. hbmk2 will
>> adapt and use full dirspec to link against dylib. Anyhow the
>> problem is present in both cases apparently.
> 
> In my local repo I remove all that HB_SYSLOC logic in the global.mk.
> I don't understand the need to have different logic for different paths.
> Moreover /opt is completely different from /usr since it's never used
> by the system.

I've explained this several times. Without this logic, 
only broken shared builds could be created without sudo 
rights (and/or extra manual configuration).

BTW, I personally don't care much about what we 
consider "system location". We have a list based on 
past feedback, but we can take in/out any dirs, in 
this case we can take out /opt, if that causes 
problems. (and I guess it does as it's indeed not 
in default lib dir search list)

We also have some pending plans to make reforms 
to system location detection, which also involves 
looking for actual LD_PATH list to make this decision, 
but these will be done only after 2.0.0 stable as 
it shall be done with other build changes causing 
lots of turbulence on all platforms.

> If the user doesn't define a path Harbour should choose a safe default
> but if the user defines it I don't see the reason why the build system
> should override the choice.

Pls remember, that because of strong opinion of *nix users 
and because most other packages work that way we opted to 
make the default path a system path. So f.e. I who don't 
want to pollute non-user areas with Harbour test builds, 
always have to override install path, yet I don't have these 
path in LD_PATH, simply because I prefer to not hard-wire 
such things into my system settings, and keep everything 
portable/moveable. Well, 'nough said.

> However in this case I'm using the standard svn.

No doubt and the problem at hand doesn't seem to have much 
to do with above issue, since it happens in both scenarios.

F.e., here is otool (ldd equivalent on OS X) output:
---
hbmk2: Linker command:                                                         
/Developer/usr/bin/clang hbide.o hbmk_5HIQqC.o   -lhbxbp -lhbqt -lhbqtcore -lhbqtgui -lhbqtnetwork -lsupc++ -lhbcplr -lhbdebug /Library/Frameworks/QtCore.framework/QtCore /Library/Frameworks/QtGui.framework/QtGui /Library/Frameworks/QtNetwork.framework/QtNetwork /Users/vszakats/harbour/lib/darwin/clang/libharbour.dylib -o hbide -L/Users/vszakats/harbour/lib/darwin/clang

silver:hbide vszakats$ otool -L hbide
hbide:
	QtCore.framework/Versions/4/QtCore (compatibility version 4.6.0, current version 4.6.0)
	QtGui.framework/Versions/4/QtGui (compatibility version 4.6.0, current version 4.6.0)
	QtNetwork.framework/Versions/4/QtNetwork (compatibility version 4.6.0, current version 4.6.0)
	harbour.dylib (compatibility version 2.0.0, current version 2.0.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 125.0.0)

---

Why whole dir is stripped and why 'lib' prefix is stripped 
from dylib reference? Maybe because of -L option with the 
same dir?

Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Nov 21 13:46:31 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 21 13:46:41 2009
Subject: [Harbour] Please try this sendmail patch
In-Reply-To: <6943770e0911211019v38b75811o32156bb89bb73054@mail.gmail.com>
References: <6943770e0911201530j4fb340b8o817c5f4243173f87@mail.gmail.com>
	<49F77159-02C3-4D30-90C7-FAD3F31801C9@syenar.hu>
	<6943770e0911211019v38b75811o32156bb89bb73054@mail.gmail.com>
Message-ID: <966D43BB-9D20-4B65-8E20-D5CFACA8486C@syenar.hu>

Hi Francesco,

> Viktor, I DID try to just raise timeouts and I did some more tests.
> 
> My MTA is exim and it is very "strict" on the protocol.
> 
> Try to issue this command:
> telnet <mailserver> 25
> and you will get a
> "220 message"
> and ONLY IN THIS MOMENT you can issue commands !
> 
> Exim doesn't accept any command before the 220 is sent ! In the past,
> a lot of spam software did send the HELO without waiting for the 220
> banner and exim killed them....
> 
> Gmail accepts the message without the patch and probably the same will
> happen with other MTAs....
> 
> 
> I want to say that  in a particular case (external antivirus + backend
> MTA) I have
> "220-message 1"
> "220 message 2"
> and if the backend is  down I get a
> "5xx error message"

Thanks for the explanation, you're right. Before reading 
through your msg I've also checked RFC821 
(http://james.apache.org/server/rfclist/smtp/rfc0821.txt) 
and it also says what you say in chapter 4.3.

I'll make some tests as soon as Win7 reboots itself 
correctly (2nd attempt) after BSOD-ing on my test build.

I did a quick test with gmail and it's okay, plus 
finally the protocol conversation makes some sense.

Thanks for your report, this has been a bug ever since 
hbtip existed.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Nov 21 13:49:51 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 21 13:49:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12961] trunk/harbour
Message-ID: <E1NBv1r-0005lH-B7@74yxhf1.ch3.sourceforge.com>

Revision: 12961
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12961&view=rev
Author:   vszakats
Date:     2009-11-21 18:49:50 +0000 (Sat, 21 Nov 2009)

Log Message:
-----------
2009-11-21 19:48 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/smtpcli.prg
    ! Fixed long time SMTP protocol implementation bug reported 
      (with patch) by Francesco Perillo. Thank you.
      The problem manifested itself only with strictly 
      standard compliant SMTP server (setups?) like recent 
      Exim versions.
    + Upped timeout from 5000 to 50000.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/smtpcli.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Sat Nov 21 13:59:16 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Nov 21 13:59:24 2009
Subject: [Harbour] osx harbour.dylib not found issue
In-Reply-To: <21B47C04-9E57-4CEA-8D2C-32C265971A73@syenar.hu>
References: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com>
	<DABE34FD-B91A-4998-A5B3-B257A114BE19@syenar.hu>
	<9257026e0911210655s7d26556bi5c13884e5fdff154@mail.gmail.com>
	<7DE69884-D50E-4A71-BB80-DA75975F7E9B@syenar.hu>
	<9257026e0911210955h73f04530m4621055be1e79aec@mail.gmail.com>
	<21B47C04-9E57-4CEA-8D2C-32C265971A73@syenar.hu>
Message-ID: <9257026e0911211059l4ffa47deue64669f0ecceed01@mail.gmail.com>

On Sat, Nov 21, 2009 at 7:21 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Why whole dir is stripped and why 'lib' prefix is stripped
> from dylib reference? Maybe because of -L option with the
> same dir?

The problem seems not in the hbmk2 but how the libharbour.dylib is generated.

In my local repo I set HB_DLL=no and I use the "old" hb-mkslib logic
that's now commented out in hb-func.sh and it works as expected.

In the "old way" otool -D /opt/harbour/lib/libharbour.dylib returns
libharbour.dylib in the "svn way" it returns harbour.dylib.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sat Nov 21 14:09:33 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 21 14:09:43 2009
Subject: [Harbour] osx harbour.dylib not found issue
In-Reply-To: <9257026e0911211059l4ffa47deue64669f0ecceed01@mail.gmail.com>
References: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com>
	<DABE34FD-B91A-4998-A5B3-B257A114BE19@syenar.hu>
	<9257026e0911210655s7d26556bi5c13884e5fdff154@mail.gmail.com>
	<7DE69884-D50E-4A71-BB80-DA75975F7E9B@syenar.hu>
	<9257026e0911210955h73f04530m4621055be1e79aec@mail.gmail.com>
	<21B47C04-9E57-4CEA-8D2C-32C265971A73@syenar.hu>
	<9257026e0911211059l4ffa47deue64669f0ecceed01@mail.gmail.com>
Message-ID: <3A55109B-D2C4-4D9C-A110-9448B274302E@syenar.hu>

>> Why whole dir is stripped and why 'lib' prefix is stripped
>> from dylib reference? Maybe because of -L option with the
>> same dir?
> 
> The problem seems not in the hbmk2 but how the libharbour.dylib is generated.
> 
> In my local repo I set HB_DLL=no and I use the "old" hb-mkslib logic
> that's now commented out in hb-func.sh and it works as expected.
> 
> In the "old way" otool -D /opt/harbour/lib/libharbour.dylib returns
> libharbour.dylib in the "svn way" it returns harbour.dylib.

Could you post the command that's executed when using hb-mkslib?

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Sat Nov 21 14:19:18 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Nov 21 14:19:24 2009
Subject: [Harbour] osx harbour.dylib not found issue
In-Reply-To: <3A55109B-D2C4-4D9C-A110-9448B274302E@syenar.hu>
References: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com>
	<DABE34FD-B91A-4998-A5B3-B257A114BE19@syenar.hu>
	<9257026e0911210655s7d26556bi5c13884e5fdff154@mail.gmail.com>
	<7DE69884-D50E-4A71-BB80-DA75975F7E9B@syenar.hu>
	<9257026e0911210955h73f04530m4621055be1e79aec@mail.gmail.com>
	<21B47C04-9E57-4CEA-8D2C-32C265971A73@syenar.hu>
	<9257026e0911211059l4ffa47deue64669f0ecceed01@mail.gmail.com>
	<3A55109B-D2C4-4D9C-A110-9448B274302E@syenar.hu>
Message-ID: <9257026e0911211119gc40e492y82662c40e11f9c6c@mail.gmail.com>

On Sat, Nov 21, 2009 at 8:09 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
>>> Why whole dir is stripped and why 'lib' prefix is stripped
>>> from dylib reference? Maybe because of -L option with the
>>> same dir?
>>
>> The problem seems not in the hbmk2 but how the libharbour.dylib is generated.
>>
>> In my local repo I set HB_DLL=no and I use the "old" hb-mkslib logic
>> that's now commented out in hb-func.sh and it works as expected.
>>
>> In the "old way" otool -D /opt/harbour/lib/libharbour.dylib returns
>> libharbour.dylib in the "svn way" it returns harbour.dylib.
>
> Could you post the command that's executed when using hb-mkslib?

from bin/hb-mkdyn.sh
...
if [ "${SLIB_EXT}" = ".dylib" ]; then
    FULLNAME="${BASE}.${VERSION}${SLIB_EXT}"
    libtool -dynamic -install_name "${BASE}${SLIB_EXT}" \
        -compatibility_version ${MAJOR}.${MINOR} -current_version ${VERSION} \
        -flat_namespace -undefined warning -multiply_defined suppress
-single_module ${HB_USER_DFLAGS} \
        -o "${DSTDIR}/${FULLNAME}" "$@" && \
    ln -sf "${FULLNAME}" "${DSTDIR}${BASE}.${MAJOR}${SLIB_EXT}" && \
    ln -sf "${FULLNAME}" "${DSTDIR}${BASE}${SLIB_EXT}"
...

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Sat Nov 21 14:25:46 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Nov 21 14:25:52 2009
Subject: [Harbour] osx harbour.dylib not found issue
In-Reply-To: <21B47C04-9E57-4CEA-8D2C-32C265971A73@syenar.hu>
References: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com>
	<DABE34FD-B91A-4998-A5B3-B257A114BE19@syenar.hu>
	<9257026e0911210655s7d26556bi5c13884e5fdff154@mail.gmail.com>
	<7DE69884-D50E-4A71-BB80-DA75975F7E9B@syenar.hu>
	<9257026e0911210955h73f04530m4621055be1e79aec@mail.gmail.com>
	<21B47C04-9E57-4CEA-8D2C-32C265971A73@syenar.hu>
Message-ID: <9257026e0911211125n74a09929sbc326a2c5e626d60@mail.gmail.com>

On Sat, Nov 21, 2009 at 7:21 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Why whole dir is stripped and why 'lib' prefix is stripped
> from dylib reference? Maybe because of -L option with the
> same dir

Could it be this?

config/darwin/gcc.mk
...
DY_RULE = $(DY) $(DFLAGS) -install_name "harbour$(DYN_EXT)"
-compatibility_version $(HB_VER_MAJOR).$(HB_VER_MINOR)
-current_version $(HB_VER_MAJOR).$(HB_VER_MINOR).$(HB_VER_RELEASE)
$(HB_USER_DFLAGS) $(DY_OUT)$(DYN_DIR)/$@ $^ $(DLIBS) $(DYSTRIP) &&
$(LN) $(@F) $(DYN_FILE2) && $(LN) $(@F)
$(DYN_DIR)/$(DYN_PREF)$(DYNNAME2).$(HB_VER_MAJOR)$(DYN_EXT)
...

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sat Nov 21 14:26:17 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 21 14:26:28 2009
Subject: [Harbour] osx harbour.dylib not found issue
In-Reply-To: <9257026e0911211119gc40e492y82662c40e11f9c6c@mail.gmail.com>
References: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com>
	<DABE34FD-B91A-4998-A5B3-B257A114BE19@syenar.hu>
	<9257026e0911210655s7d26556bi5c13884e5fdff154@mail.gmail.com>
	<7DE69884-D50E-4A71-BB80-DA75975F7E9B@syenar.hu>
	<9257026e0911210955h73f04530m4621055be1e79aec@mail.gmail.com>
	<21B47C04-9E57-4CEA-8D2C-32C265971A73@syenar.hu>
	<9257026e0911211059l4ffa47deue64669f0ecceed01@mail.gmail.com>
	<3A55109B-D2C4-4D9C-A110-9448B274302E@syenar.hu>
	<9257026e0911211119gc40e492y82662c40e11f9c6c@mail.gmail.com>
Message-ID: <976F3245-3381-4743-8D0D-C3CC2166B20C@syenar.hu>

>>> In my local repo I set HB_DLL=no and I use the "old" hb-mkslib logic
>>> that's now commented out in hb-func.sh and it works as expected.
>>> 
>>> In the "old way" otool -D /opt/harbour/lib/libharbour.dylib returns
>>> libharbour.dylib in the "svn way" it returns harbour.dylib.
>> 
>> Could you post the command that's executed when using hb-mkslib?
> 
> from bin/hb-mkdyn.sh
> ...
> if [ "${SLIB_EXT}" = ".dylib" ]; then
>    FULLNAME="${BASE}.${VERSION}${SLIB_EXT}"
>    libtool -dynamic -install_name "${BASE}${SLIB_EXT}" \
>        -compatibility_version ${MAJOR}.${MINOR} -current_version ${VERSION} \
>        -flat_namespace -undefined warning -multiply_defined suppress
> -single_module ${HB_USER_DFLAGS} \
>        -o "${DSTDIR}/${FULLNAME}" "$@" && \
>    ln -sf "${FULLNAME}" "${DSTDIR}${BASE}.${MAJOR}${SLIB_EXT}" && \
>    ln -sf "${FULLNAME}" "${DSTDIR}${BASE}${SLIB_EXT}"
> ...

I know this. I'd have been interested in the actual 
command executed, for me it's nearly impossible to 
reverse engineer all these variables, so it's not 
much of a help.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Nov 21 14:29:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 21 14:29:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12962] trunk/harbour
Message-ID: <E1NBve3-0006TD-GF@74yxhf1.ch3.sourceforge.com>

Revision: 12962
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12962&view=rev
Author:   vszakats
Date:     2009-11-21 19:29:18 +0000 (Sat, 21 Nov 2009)

Log Message:
-----------
2009-11-21 20:28 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/darwin/gcc.mk
  * config/darwin/icc.mk
  * config/darwin/clang.mk
    ! Attempt to fix darwin dylib generation, added lib prefix 
      to install name parameter.
    ; TOFIX: Adding path to lib reference still doesn't work, 
             so shared binaries will still not work unless 
             Harbour is installed to system location.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/darwin/clang.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/darwin/icc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Nov 21 14:32:52 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 21 14:33:01 2009
Subject: [Harbour] osx harbour.dylib not found issue
In-Reply-To: <9257026e0911211125n74a09929sbc326a2c5e626d60@mail.gmail.com>
References: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com>
	<DABE34FD-B91A-4998-A5B3-B257A114BE19@syenar.hu>
	<9257026e0911210655s7d26556bi5c13884e5fdff154@mail.gmail.com>
	<7DE69884-D50E-4A71-BB80-DA75975F7E9B@syenar.hu>
	<9257026e0911210955h73f04530m4621055be1e79aec@mail.gmail.com>
	<21B47C04-9E57-4CEA-8D2C-32C265971A73@syenar.hu>
	<9257026e0911211125n74a09929sbc326a2c5e626d60@mail.gmail.com>
Message-ID: <0C2DF1EF-890C-4F0D-9EA6-56EF5770FE2F@syenar.hu>

>> Why whole dir is stripped and why 'lib' prefix is stripped
>> from dylib reference? Maybe because of -L option with the
>> same dir
> 
> Could it be this?
> 
> config/darwin/gcc.mk
> ...
> DY_RULE = $(DY) $(DFLAGS) -install_name "harbour$(DYN_EXT)"
> -compatibility_version $(HB_VER_MAJOR).$(HB_VER_MINOR)
> -current_version $(HB_VER_MAJOR).$(HB_VER_MINOR).$(HB_VER_RELEASE)
> $(HB_USER_DFLAGS) $(DY_OUT)$(DYN_DIR)/$@ $^ $(DLIBS) $(DYSTRIP) &&
> $(LN) $(@F) $(DYN_FILE2) && $(LN) $(@F)
> $(DYN_DIR)/$(DYN_PREF)$(DYNNAME2).$(HB_VER_MAJOR)$(DYN_EXT)
> ...

What do you mean? This is the line responsible for 
creating dylibs under GNU Make, yes, and that's what 
I had meant to compare with actual hb-mkslib command 
executed.

Anyway, as a guess, which also worked here, I added 
lib prefix to one of the parameters and committed it.

Dirs still don't work in dylib references.

Brgds,
Viktor

From jarabal at gmail.com  Sat Nov 21 14:34:53 2009
From: jarabal at gmail.com (Xavi)
Date: Sat Nov 21 14:36:12 2009
Subject: [Harbour] Changes in win_prn in order to not increase gdi objects
 and read the initial properties of the printer.
Message-ID: <4B0840DD.9030100@gmail.com>

As subject. If no objection, please Viktor, could you update the repository.
Thanks.

-- 
Xavi

-------------- next part --------------
A non-text attachment was scrubbed...
Name: win_tprn1.zip
Type: application/x-zip
Size: 12008 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091121/b6c1ebb5/win_tprn1-0001.bin
From phil at newstar.rinet.ru  Sat Nov 21 14:47:21 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Sat Nov 21 14:47:46 2009
Subject: [Harbour] osx harbour.dylib not found issue
In-Reply-To: <0C2DF1EF-890C-4F0D-9EA6-56EF5770FE2F@syenar.hu>
References: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com> 
	<DABE34FD-B91A-4998-A5B3-B257A114BE19@syenar.hu>
	<9257026e0911210655s7d26556bi5c13884e5fdff154@mail.gmail.com> 
	<7DE69884-D50E-4A71-BB80-DA75975F7E9B@syenar.hu>
	<9257026e0911210955h73f04530m4621055be1e79aec@mail.gmail.com> 
	<21B47C04-9E57-4CEA-8D2C-32C265971A73@syenar.hu>
	<9257026e0911211125n74a09929sbc326a2c5e626d60@mail.gmail.com> 
	<0C2DF1EF-890C-4F0D-9EA6-56EF5770FE2F@syenar.hu>
Message-ID: <c10dbf450911211147t1cb76e1aj9b87cc50f43f7c4c@mail.gmail.com>

I had fixed this locally by changing

-install_name "harbour$(DYN_EXT)"

to

-install_name "libharbour$(DYN_EXT)"

in DY_RULE (should probably fix also mkdyn).

Anyhow, this is a hack as install_name should (usually) be set to the
full installation path.

--Ph.
From harbour.01 at syenar.hu  Sat Nov 21 14:47:43 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 21 14:47:54 2009
Subject: [Harbour] Re: Changes in win_prn in order to not increase gdi
	objects and read the initial properties of the printer.
In-Reply-To: <4B0840DD.9030100@gmail.com>
References: <4B0840DD.9030100@gmail.com>
Message-ID: <B48533DB-E676-43EC-87B5-EAC719919DE1@syenar.hu>

Hi Xavi,

The document properties feature is okay, buy the 
font trick seems to breaks if multiple WIN_CREATEFONT() 
calls are issued (either in ST or MT mode), since 
it uses a static variable to store GC block related 
information.

Brgds,
Viktor

On 2009 Nov 21, at 20:34, Xavi wrote:

> As subject. If no objection, please Viktor, could you update the repository.
> Thanks.
> 
> -- 
> Xavi
> 
> <win_tprn1.zip>

From harbour.01 at syenar.hu  Sat Nov 21 15:08:27 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Nov 21 15:08:36 2009
Subject: [Harbour] osx harbour.dylib not found issue
In-Reply-To: <c10dbf450911211147t1cb76e1aj9b87cc50f43f7c4c@mail.gmail.com>
References: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com>
	<DABE34FD-B91A-4998-A5B3-B257A114BE19@syenar.hu>
	<9257026e0911210655s7d26556bi5c13884e5fdff154@mail.gmail.com>
	<7DE69884-D50E-4A71-BB80-DA75975F7E9B@syenar.hu>
	<9257026e0911210955h73f04530m4621055be1e79aec@mail.gmail.com>
	<21B47C04-9E57-4CEA-8D2C-32C265971A73@syenar.hu>
	<9257026e0911211125n74a09929sbc326a2c5e626d60@mail.gmail.com>
	<0C2DF1EF-890C-4F0D-9EA6-56EF5770FE2F@syenar.hu>
	<c10dbf450911211147t1cb76e1aj9b87cc50f43f7c4c@mail.gmail.com>
Message-ID: <9B81564E-C654-4B48-AF91-E292FA1F86D7@syenar.hu>

> I had fixed this locally by changing
> 
> -install_name "harbour$(DYN_EXT)"
> 
> to
> 
> -install_name "libharbour$(DYN_EXT)"
> 
> in DY_RULE (should probably fix also mkdyn).

Just did this on SVN, pls make some tests and 
report if there is still something missing.

> Anyhow, this is a hack as install_name should (usually) be set to the
> full installation path.

Thank you, this sheds light on the remaining TOFIX.

One problem is that we have separate build and install 
passes and at build time we may not know the final location 
of dylibs. Plus such requirement makes it not possible 
to move around .dylib once it's created (but maybe this 
how it's meant to be done on OS X).

What to do?

1) Use whatever HB_INSTALL_PREFIX we may have at build pass.
2) Reapply this parameter on install? (if that's possible)
3) Else?

Brgds,
Viktor

From jarabal at gmail.com  Sat Nov 21 15:18:49 2009
From: jarabal at gmail.com (Xavi)
Date: Sat Nov 21 15:20:09 2009
Subject: [Harbour] Re: Changes in win_prn in order to not increase gdi
	objects and read the initial properties of the printer.
In-Reply-To: <B48533DB-E676-43EC-87B5-EAC719919DE1@syenar.hu>
References: <4B0840DD.9030100@gmail.com>
	<B48533DB-E676-43EC-87B5-EAC719919DE1@syenar.hu>
Message-ID: <4B084B29.40403@gmail.com>

Ok, I think a solution although would be easier to WIN_CREATEFONT return 
hFont. :)

-- 
Xavi

Viktor Szak?ts escribi?:
> Hi Xavi,
>
> The document properties feature is okay, buy the 
> font trick seems to breaks if multiple WIN_CREATEFONT() 
> calls are issued (either in ST or MT mode), since 
> it uses a static variable to store GC block related 
> information.
>
> Brgds,
> Viktor
>
> On 2009 Nov 21, at 20:34, Xavi wrote:
>
>   
>> As subject. If no objection, please Viktor, could you update the repository.
>> Thanks.
>>
>> -- 
>> Xavi
>>
>> <win_tprn1.zip>
>>     
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>   
From harbour.01 at syenar.hu  Sat Nov 21 15:39:58 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 21 15:40:08 2009
Subject: [Harbour] Re: Changes in win_prn in order to not increase gdi
	objects and read the initial properties of the printer.
In-Reply-To: <4B084B29.40403@gmail.com>
References: <4B0840DD.9030100@gmail.com>
	<B48533DB-E676-43EC-87B5-EAC719919DE1@syenar.hu>
	<4B084B29.40403@gmail.com>
Message-ID: <1A851787-D774-48AE-8FA6-838634B2B2DB@syenar.hu>

> Ok, I think a solution although would be easier to WIN_CREATEFONT return hFont. :)

Indeed, pls feel free to rework it that way. We will 
simply document it, and I believe not many users use 
it directly.

Brgds,
Viktor

From phil at newstar.rinet.ru  Sat Nov 21 15:53:01 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Sat Nov 21 15:53:27 2009
Subject: [Harbour] osx harbour.dylib not found issue
In-Reply-To: <9B81564E-C654-4B48-AF91-E292FA1F86D7@syenar.hu>
References: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com> 
	<DABE34FD-B91A-4998-A5B3-B257A114BE19@syenar.hu>
	<9257026e0911210655s7d26556bi5c13884e5fdff154@mail.gmail.com> 
	<7DE69884-D50E-4A71-BB80-DA75975F7E9B@syenar.hu>
	<9257026e0911210955h73f04530m4621055be1e79aec@mail.gmail.com> 
	<21B47C04-9E57-4CEA-8D2C-32C265971A73@syenar.hu>
	<9257026e0911211125n74a09929sbc326a2c5e626d60@mail.gmail.com> 
	<0C2DF1EF-890C-4F0D-9EA6-56EF5770FE2F@syenar.hu>
	<c10dbf450911211147t1cb76e1aj9b87cc50f43f7c4c@mail.gmail.com> 
	<9B81564E-C654-4B48-AF91-E292FA1F86D7@syenar.hu>
Message-ID: <c10dbf450911211253q7eb1f443r8f1b1e5e7d3a164c@mail.gmail.com>

On Sat, Nov 21, 2009 at 11:08 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> of dylibs. Plus such requirement makes it not possible
> to move around .dylib once it's created (but maybe this
> how it's meant to be done on OS X).
>
> What to do?
>
> 1) Use whatever HB_INSTALL_PREFIX we may have at build pass.
> 2) Reapply this parameter on install? (if that's possible)

probably it can be done using otool.

> 3) Else?

I think that on OS X, one is supposed to produce application bundles
which include all libraries not installed by Apple. If you want dylibs
for including into app bundles, you should use @executable_path token
instead of full path in install_name and have no problems. If
install_name (copied to executable from dylib at link time) does not
have a correct full path to dylib or @executable_path, one has to set
DYLD_LIBRARY_PATH envvar for app to locate it.

It seems that these are the only two dylib relocation options offered.

-- Ph.
From phil at newstar.rinet.ru  Sat Nov 21 15:58:44 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Sat Nov 21 16:00:43 2009
Subject: [Harbour] osx harbour.dylib not found issue
In-Reply-To: <c10dbf450911211253q7eb1f443r8f1b1e5e7d3a164c@mail.gmail.com>
References: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com> 
	<9257026e0911210655s7d26556bi5c13884e5fdff154@mail.gmail.com> 
	<7DE69884-D50E-4A71-BB80-DA75975F7E9B@syenar.hu>
	<9257026e0911210955h73f04530m4621055be1e79aec@mail.gmail.com> 
	<21B47C04-9E57-4CEA-8D2C-32C265971A73@syenar.hu>
	<9257026e0911211125n74a09929sbc326a2c5e626d60@mail.gmail.com> 
	<0C2DF1EF-890C-4F0D-9EA6-56EF5770FE2F@syenar.hu>
	<c10dbf450911211147t1cb76e1aj9b87cc50f43f7c4c@mail.gmail.com> 
	<9B81564E-C654-4B48-AF91-E292FA1F86D7@syenar.hu>
	<c10dbf450911211253q7eb1f443r8f1b1e5e7d3a164c@mail.gmail.com>
Message-ID: <c10dbf450911211258i36d4477ft4a9cd75dfdb1dd37@mail.gmail.com>

On Sat, Nov 21, 2009 at 11:53 PM, Phil Krylov <phil@newstar.rinet.ru> wrote:
> On Sat, Nov 21, 2009 at 11:08 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
>> 2) Reapply this parameter on install? (if that's possible)
>
> probably it can be done using otool.

there seems to be a specific tool for this - install_name_tool.

-- Ph.
From vszakats at users.sourceforge.net  Sat Nov 21 16:38:40 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 21 16:38:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12963] trunk/harbour
Message-ID: <E1NBxfE-0002SJ-ET@c3vjzd1.ch3.sourceforge.com>

Revision: 12963
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12963&view=rev
Author:   vszakats
Date:     2009-11-21 21:38:39 +0000 (Sat, 21 Nov 2009)

Log Message:
-----------
2009-11-21 22:37 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_tprn.prg
  * contrib/hbwin/win_prn1.c
    + Added ::GetDocumentProperties() method.
    + Calling ::GetDocumentProperties() from ::New() to setup defaults.
    ; Patch submitted by Xavi. Thank you.

  * contrib/hbwin/win_prn2.c
    % Modified GETPRINTERS() code to use optimal array creation code, 
      use less redundancy and synced functionally similar code 
      parts with each other, deleted unnecessary code parts.
    * Greatly cleaned GETPRINTERS() code (names, layout).
    ! Fixed GETPRINTERS() code. It had fatal flaw in non-NT 
      branch, so I seriously wonder how could it work for anyone 
      in the past. It seems it wasn't even tested by submitter 
      before commited to xhb repository in year 2005.
      Someone pls test it on Win9x, I don't have any printers 
      installed there.

  * contrib/hbwin/win_prn1.c
  * contrib/hbwin/legacy.prg
    * Moved WIN_GETEXEFILENAME() to legacy function collection, 
      at the same time rewritten to simply call HB_ARGV( 0 ).

  * contrib/hbwin/win_prn1.c
    % WIN_FILLRECT(), WIN_ARC(), WIN_ELLIPSE() optimized.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/legacy.prg
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/hbwin/win_tprn.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Nov 21 16:51:49 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 21 16:51:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12964] trunk/harbour
Message-ID: <E1NBxrx-0002f9-Ag@c3vjzd1.ch3.sourceforge.com>

Revision: 12964
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12964&view=rev
Author:   vszakats
Date:     2009-11-21 21:51:48 +0000 (Sat, 21 Nov 2009)

Log Message:
-----------
2009-11-21 22:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn2.c
    ! Fixed few type mis-uses (BOOL instead of DWORD and vice versa)
    % Optimized hb_isLegacyDevice().
    % Marked some static strings as static.
    % Marked locally used C worker functions as static.
      This may cause incompatibility if someone used these via 
      undocumented ways. They were never officially published 
      through .h headers.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Sat Nov 21 16:53:20 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Nov 21 16:53:25 2009
Subject: [Harbour] osx harbour.dylib not found issue
In-Reply-To: <9B81564E-C654-4B48-AF91-E292FA1F86D7@syenar.hu>
References: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com>
	<DABE34FD-B91A-4998-A5B3-B257A114BE19@syenar.hu>
	<9257026e0911210655s7d26556bi5c13884e5fdff154@mail.gmail.com>
	<7DE69884-D50E-4A71-BB80-DA75975F7E9B@syenar.hu>
	<9257026e0911210955h73f04530m4621055be1e79aec@mail.gmail.com>
	<21B47C04-9E57-4CEA-8D2C-32C265971A73@syenar.hu>
	<9257026e0911211125n74a09929sbc326a2c5e626d60@mail.gmail.com>
	<0C2DF1EF-890C-4F0D-9EA6-56EF5770FE2F@syenar.hu>
	<c10dbf450911211147t1cb76e1aj9b87cc50f43f7c4c@mail.gmail.com>
	<9B81564E-C654-4B48-AF91-E292FA1F86D7@syenar.hu>
Message-ID: <9257026e0911211353m1e2aea8du22dfffebb168ac46@mail.gmail.com>

On Sat, Nov 21, 2009 at 9:08 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Just did this on SVN, pls make some tests and
> report if there is still something missing.

For me now it's ok.

Now everything works using DYLD_LIBRARY_PATH=/opt/harbour/lib ./demoqt.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sat Nov 21 17:02:32 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Nov 21 17:02:41 2009
Subject: [Harbour] osx harbour.dylib not found issue
In-Reply-To: <c10dbf450911211253q7eb1f443r8f1b1e5e7d3a164c@mail.gmail.com>
References: <9257026e0911202039p2a3aa2eevd8dc3c3201d41da4@mail.gmail.com>
	<DABE34FD-B91A-4998-A5B3-B257A114BE19@syenar.hu>
	<9257026e0911210655s7d26556bi5c13884e5fdff154@mail.gmail.com>
	<7DE69884-D50E-4A71-BB80-DA75975F7E9B@syenar.hu>
	<9257026e0911210955h73f04530m4621055be1e79aec@mail.gmail.com>
	<21B47C04-9E57-4CEA-8D2C-32C265971A73@syenar.hu>
	<9257026e0911211125n74a09929sbc326a2c5e626d60@mail.gmail.com>
	<0C2DF1EF-890C-4F0D-9EA6-56EF5770FE2F@syenar.hu>
	<c10dbf450911211147t1cb76e1aj9b87cc50f43f7c4c@mail.gmail.com>
	<9B81564E-C654-4B48-AF91-E292FA1F86D7@syenar.hu>
	<c10dbf450911211253q7eb1f443r8f1b1e5e7d3a164c@mail.gmail.com>
Message-ID: <3BFF569B-D682-4141-840A-05CFF790BC7A@syenar.hu>

Hi Phil,

>> 1) Use whatever HB_INSTALL_PREFIX we may have at build pass.
>> 2) Reapply this parameter on install? (if that's possible)
> 
> probably it can be done using otool.
> 
>> 3) Else?
> 
> I think that on OS X, one is supposed to produce application bundles
> which include all libraries not installed by Apple. If you want dylibs
> for including into app bundles, you should use @executable_path token
> instead of full path in install_name and have no problems. If
> install_name (copied to executable from dylib at link time) does not
> have a correct full path to dylib or @executable_path, one has to set
> DYLD_LIBRARY_PATH envvar for app to locate it.
> 
> It seems that these are the only two dylib relocation options offered.

Thank you very much for the information and research.

install_name_tool needs old value, so it's not very 
easy to work with at first sight.

I most probably won't have enough time to make deeper 
changes here now, so if you have free time + motivation, 
pls feel free to make modifications in that direction.

Pbly the easiest would be to embed HB_INSTALL_PREFIX 
in install name on build when HB_SYSLOC != yes. It 
would cover most real-life scenarios.

Brgds,
Viktor

From amigosam at adinet.com.uy  Sat Nov 21 17:37:13 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Sat Nov 21 17:37:32 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12956] trunk/harbour
In-Reply-To: <51FAF344-3E29-414F-9D1F-D2EBEDD2E35D@syenar.hu>
References: <E1NBf2z-00036L-NY@dn4whf1.ch3.sourceforge.com>	<he7i9r$hoi$1@ger.gmane.org>	<26454136.post@talk.nabble.com>
	<he8u3g$bnl$1@ger.gmane.org>
	<51FAF344-3E29-414F-9D1F-D2EBEDD2E35D@syenar.hu>
Message-ID: <he9q2m$3b4$1@ger.gmane.org>

Viktor Szak?ts escribi?:
>> Pritpal Bedi escribi?:
>>> Hi 
>>> ...
>>> This is the reason I floated the idea of extending Xbase++ framework
>>> which has not been accepted by the group by now.
>> Well on this I disagree with Viktor. I dont need backward compatibility with xbase++, so extending claes and/or creating new ones is ok with me.
> 
> I don't know where the misconception comes from about my 
> POV on this, but I'd like to stop it now.
> 

Hi Viktor !

Well first of all my english is not very good so I could be 
misunderstood. I've said I was in disagree with you when refering 
backward compatibility among xbase++ and harbour. For me xbase++ is more 
like a "philosofy of work" than a rigid set of rules. If compatibiliy 
risks the viability of the qt GUI we need, then I think we can and we 
should break it. I insist: It's only my personaly POV.

> This is exactly what I wrote:
> ---
> "I don't know, but please document it, we have a long history 
> in Harbour to document extensions, so we should IMO do this 
> also for hbxbp. We don't have any interest in locking in 
> users into Harbour + hbxbp, IOW we should allow them to move 
> to Xbase++, or create apps which work on both platforms.
> 
> The easiest and recommended way to self-document it is by 
> using a simple macro, f.e. HBXBP_EXTENSION. Which is #defined 
> by default."
> ---

Agreed !
> 
> Which seems quite clear, but to clarify further, it means 
> that while I can't decide whether we _should_ extend (I trust 
> Pritpal and actual Xbase++/hbqt users on this), but I know we 
> _may_ extend it, if we stick to a few rules: we extend it wisely 
> and document all extensions in code. These rules should be 
> similar to what we've been using when extending Clipper, maybe 
> not so strict.
> 
> IMO it's very important to do extensions along a documented 
> procedure, otherwise there is no guarantee whatsoever that 
> Xbase++ compatibility can be kept, or even tested. Which 
> means we cut off Harbour + hbxbp as an upgrade path for 
> Xbase++ users and make the transition a one way step, 
> plus we can't guarantee any sort of parallelism through 
> the transition process (I mean app can't be build for both 
> platforms at the same time).
> 
Also agreed !

> If make Xbase++ users life more difficult to move to Harbour, 
> it means Harbour userbase can't grow the way it otherwise 
> would. Which isn't very good.
> 

I don?t think hords of xbase users will come here since they are so 
Windows headed. They like things like OLE, skins, owner drawn parts, GUI 
fancy objects, all kind of non multiplatform M$ toys. Also the false 
feeling of support you get when you pay for something.
Anyway the whole idea and consistency of the xbase++ GUI framework is a 
good model to follow. It's yet to prove if it's easy to integtrate tools 
like qtcreator and qt development style in this model or we'll have to 
invent a whole new development philosofy derived from the zillion c++ 
examples they have on their page.

> [ about a few technical aspects of extending wisely and 
> in documented way, pls see my recent msg. ]

Yes I've read it and I trust your judjement and the vision of quality 
you have imprinted into Harbour project.
This post was only a very personal POV ( I insist ) and has no intention 
to harm anyone.

My best regards and continue with your superb managing of the project.

Angel


From harbour.01 at syenar.hu  Sat Nov 21 17:59:58 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 21 18:00:09 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12956] trunk/harbour
In-Reply-To: <he9q2m$3b4$1@ger.gmane.org>
References: <E1NBf2z-00036L-NY@dn4whf1.ch3.sourceforge.com>	<he7i9r$hoi$1@ger.gmane.org>	<26454136.post@talk.nabble.com>
	<he8u3g$bnl$1@ger.gmane.org>
	<51FAF344-3E29-414F-9D1F-D2EBEDD2E35D@syenar.hu>
	<he9q2m$3b4$1@ger.gmane.org>
Message-ID: <AEF6264A-936A-4EB3-BB73-CD3BDC3166A6@syenar.hu>

Hi Angel,

>> I don't know where the misconception comes from about my POV on this, but I'd like to stop it now.
> 
> Hi Viktor !
> 
> Well first of all my english is not very good so I could be misunderstood. I've said I was in disagree with you when refering backward compatibility among xbase++ and harbour. For me xbase++ is more like a "philosofy of work" than a rigid set of rules. If compatibiliy risks the viability of the qt GUI we need, then I think we can and we should break it. I insist: It's only my personaly POV.

The whole movement started from creating an 
_Xbase++ compatible GUI class_, which says 
it clear.

(Hence the name of the lib: hbxbp)

If we were starting a GUI class "inspired 
by" Xbase++, or "contains elements of" Xbase++, 
or "loosely based" on Xbase++, the situation 
would for sure be different, but this wasn't 
the original statement / goal.

>> If make Xbase++ users life more difficult to move to Harbour, it means Harbour userbase can't grow the way it otherwise would. Which isn't very good.
> 
> I don?t think hords of xbase users will come here since they are so Windows headed. They like things like OLE, skins, owner drawn parts, GUI fancy objects, all kind of non multiplatform M$ toys. Also the false feeling of support you get when you pay for something.

We can force no one to come here and we don't 
want to. However, if we start to mess up compatibility 
we for sure lock out all potential users from ever 
migrating. This is quite bad, as we don't thrive in 
large user base regarding Harbour, and the best 
thing we can do is attract users from other 
parts of the xbase (not the product) arena to keep 
the project alive and with some sort of purpose.

> Anyway the whole idea and consistency of the xbase++ GUI framework is a good model to follow. It's yet to prove if it's easy to integtrate tools like qtcreator and qt development style in this model or we'll have to invent a whole new development philosofy derived from the zillion c++ examples they have on their page.

Yes, I agree. We have other possibilities to achieve 
this, just to name a few:

1) Create another contrib which is "based-on" or 
even completely different from hbxbp and build our 
own general (preferably) or hbqt orientated GUI 
classes.

2) Solve interoperation of _addons libs_ (classes) 
and direct hbqt objects with hbxbp.

There is more.

>> [ about a few technical aspects of extending wisely and in documented way, pls see my recent msg. ]
> 
> Yes I've read it and I trust your judjement and the vision of quality you have imprinted into Harbour project.
> This post was only a very personal POV ( I insist ) and has no intention to harm anyone.

No problem at all, and your opinion is very welcome, 
I just wanted to make it clear that the original 
proposition about my opinion was wrongly put :)

> My best regards and continue with your superb managing of the project.

Thank you.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Nov 21 18:02:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 21 18:02:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12965] trunk/harbour
Message-ID: <E1NByyZ-0002Ly-M7@d5vjzd1.ch3.sourceforge.com>

Revision: 12965
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12965&view=rev
Author:   vszakats
Date:     2009-11-21 23:02:42 +0000 (Sat, 21 Nov 2009)

Log Message:
-----------
2009-11-21 00:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn2.c
    ! Fixed PRINTEREXISTS() in UNICODE mode (hidden by wrong cast).
    % Type cleanup (f.e. not using Windows type where not necessary).
    % Cleaned away unnecessary casts.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From m.lacecilia at gmail.com  Sat Nov 21 18:30:51 2009
From: m.lacecilia at gmail.com (Maurizio la Cecilia)
Date: Sat Nov 21 18:30:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12965] trunk/harbour
In-Reply-To: <E1NByyZ-0002Ly-M7@d5vjzd1.ch3.sourceforge.com>
References: <E1NByyZ-0002Ly-M7@d5vjzd1.ch3.sourceforge.com>
Message-ID: <26461464.post@talk.nabble.com>


Please, Viktor, add this line:

   METHOD GetDocumentProperties() INLINE win_GetDocumentProperties(
::PrinterName, @::FormType, @::Landscape, @::Copies, @::BinNumber,
@::fDuplexType, @::fPrintQuality )

to win_prn class declaration as missed from source of Xavi.
Best regards.
Maurizio


vszakats wrote:
> 
> Revision: 12965
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12965&view=rev
> Author:   vszakats
> Date:     2009-11-21 23:02:42 +0000 (Sat, 21 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-21 00:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbwin/win_prn2.c
>     ! Fixed PRINTEREXISTS() in UNICODE mode (hidden by wrong cast).
>     % Type cleanup (f.e. not using Windows type where not necessary).
>     % Cleaned away unnecessary casts.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/contrib/hbwin/win_prn2.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12965--trunk-harbour-tp26461291p26461464.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sat Nov 21 20:37:33 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Nov 21 20:37:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12965] trunk/harbour
In-Reply-To: <26461464.post@talk.nabble.com>
References: <E1NByyZ-0002Ly-M7@d5vjzd1.ch3.sourceforge.com>
	<26461464.post@talk.nabble.com>
Message-ID: <4BBA227A-635B-401A-989D-B5EC921C64C4@syenar.hu>

Ops, thank you, cut it and forgot to paste it back :/

Brgds,
Viktor

On 2009 Nov 22, at 00:30, Maurizio la Cecilia wrote:

> 
> Please, Viktor, add this line:
> 
>   METHOD GetDocumentProperties() INLINE win_GetDocumentProperties(
> ::PrinterName, @::FormType, @::Landscape, @::Copies, @::BinNumber,
> @::fDuplexType, @::fPrintQuality )
> 
> to win_prn class declaration as missed from source of Xavi.
> Best regards.
> Maurizio
> 
> 
> vszakats wrote:
>> 
>> Revision: 12965
>> 
>> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12965&view=rev
>> Author:   vszakats
>> Date:     2009-11-21 23:02:42 +0000 (Sat, 21 Nov 2009)
>> 
>> Log Message:
>> -----------
>> 2009-11-21 00:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * contrib/hbwin/win_prn2.c
>>    ! Fixed PRINTEREXISTS() in UNICODE mode (hidden by wrong cast).
>>    % Type cleanup (f.e. not using Windows type where not necessary).
>>    % Cleaned away unnecessary casts.
>> 
>> Modified Paths:
>> --------------
>>    trunk/harbour/ChangeLog
>>    trunk/harbour/contrib/hbwin/win_prn2.c
>> 
>> 
>> This was sent by the SourceForge.net collaborative development platform,
>> the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> 
> 
> -- 
> View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12965--trunk-harbour-tp26461291p26461464.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Sat Nov 21 21:00:57 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 21 21:01:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12966] trunk/harbour
Message-ID: <E1NC1l3-0001kg-A2@3kljzd1.ch3.sourceforge.com>

Revision: 12966
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12966&view=rev
Author:   vszakats
Date:     2009-11-22 02:00:56 +0000 (Sun, 22 Nov 2009)

Log Message:
-----------
2009-11-22 03:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_tprn.prg
    ! Accidentally missed GetDocumentProperties() method added.
    % Converted all INLINE methods to normal ones (for optimal performance).

  * contrib/hbwin/win_tcom.prg
    % Converted all INLINE methods to normal ones (for optimal performance).

  * contrib/hbwin/win_prn1.c
    % Using hb_arraySet*() APIs.

  * contrib/hbwin/win_prn2.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/hbwin/win_tcom.prg
    trunk/harbour/contrib/hbwin/win_tprn.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Sat Nov 21 21:36:07 2009
From: jarabal at gmail.com (Xavi)
Date: Sat Nov 21 21:37:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12966] trunk/harbour
In-Reply-To: <E1NC1l3-0001kg-A2@3kljzd1.ch3.sourceforge.com>
References: <E1NC1l3-0001kg-A2@3kljzd1.ch3.sourceforge.com>
Message-ID: <4B08A397.9080705@gmail.com>

Please be patient Viktor I have changed all win_prn1.c
This version solves the problem and adapts to MT.
Could you mix your latest changes and update the repository.

-- 
Xavi

vszakats@users.sourceforge.net escribi?:
> Revision: 12966
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12966&view=rev
> Author:   vszakats
> Date:     2009-11-22 02:00:56 +0000 (Sun, 22 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-22 03:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbwin/win_tprn.prg
>     ! Accidentally missed GetDocumentProperties() method added.
>     % Converted all INLINE methods to normal ones (for optimal performance).
> 
>   * contrib/hbwin/win_tcom.prg
>     % Converted all INLINE methods to normal ones (for optimal performance).
> 
>   * contrib/hbwin/win_prn1.c
>     % Using hb_arraySet*() APIs.
> 
>   * contrib/hbwin/win_prn2.c
>     * Minor formatting.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/contrib/hbwin/win_prn1.c
>     trunk/harbour/contrib/hbwin/win_prn2.c
>     trunk/harbour/contrib/hbwin/win_tcom.prg
>     trunk/harbour/contrib/hbwin/win_tprn.prg
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 


-------------- next part --------------
/*
 * $Id: $
 */

/*
 * Harbour Project source code:
 * Printing subsystem for Windows using GUI printing
 *     Copyright 2004 Peter Rees <peter@rees.co.nz>
 *                    Rees Software & Systems Ltd
 *
 * See COPYING for licensing terms.
 *
 * www - http://www.harbour-project.org
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option )
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.   If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/ ).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.   To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
*/

/*

  TPRINT() was designed to make it easy to emulate Clipper Dot Matrix printing.
  Dot Matrix printing was in CPI ( Characters per inch & Lines per inch ).
  Even though "Mapping Mode" for TPRINT() is MM_TEXT, ::SetFont() accepts the
  nWidth parameter in CPI not Pixels. Also the default ::LineHeight is for
  6 lines per inch so ::NewLine() works as per "LineFeed" on Dot Matrix printers.
  If you do not like this then inherit from the class and override anything you want

  Simple example

  TO DO:    Colour printing
            etc....

  Peter Rees 21 January 2004 <peter@rees.co.nz>

*/

#define HB_OS_WIN_USED

#include "Maket.h"

#include "hbapi.h"
#include "hbapiitm.h"
#include "hbthread.h"

#if defined( HB_OS_WIN ) && !defined( HB_OS_WIN_CE )

#include <winspool.h>

#ifndef INVALID_FILE_SIZE
   #define INVALID_FILE_SIZE ( DWORD ) 0xFFFFFFFF
#endif

/* MT macros */
#define HB_WP_LOCK         hb_threadEnterCriticalSection( &s_WPMtx );
#define HB_WP_UNLOCK       hb_threadLeaveCriticalSection( &s_WPMtx );
static HB_CRITICAL_NEW( s_WPMtx );

typedef struct
{
   HDC   mhDC;
   HFONT mhFont;
} HB_HDC_WP, * PHB_HDC_WP;

static HB_GARBAGE_FUNC( win_HDC_release )
{
   void ** ph = ( void ** ) Cargo;

   /* Check if pointer is not NULL to avoid multiple freeing */
   if( ph && *ph )
   {
      PHB_HDC_WP phDCS = *ph;

      /* Delete, if any, Printer Font when release Printer DC [jarabal] */
      if( phDCS->mhFont ) DeleteObject( phDCS->mhFont );
      /* Destroy the object */
      DeleteDC( phDCS->mhDC );

      /* set pointer to NULL to avoid multiple freeing */
      *ph = NULL;
   }
}

static const HB_GC_FUNCS s_gc_HDC_funcs =
{
   win_HDC_release,
   hb_gcDummyMark
};

static PHB_HDC_WP win_HDC_WP_par( int iParam )
{
   void ** ph = ( void ** ) hb_parptrGC( &s_gc_HDC_funcs, iParam );

   return ph ?  *ph : NULL;
}

static HDC win_HDC_par( int iParam )
{
   void ** ph = ( void ** ) hb_parptrGC( &s_gc_HDC_funcs, iParam );
   PHB_HDC_WP phDCS = *ph;

   return ph ? (phDCS ? phDCS->mhDC : NULL) : ( HDC ) hb_parptr( iParam );
}

static HB_GARBAGE_FUNC( win_HPEN_release )
{
   void ** ph = ( void ** ) Cargo;

   /* Check if pointer is not NULL to avoid multiple freeing */
   if( ph && * ph )
   {
      /* Destroy the object */
      DeleteObject( ( HDC ) * ph );

      /* set pointer to NULL to avoid multiple freeing */
      * ph = NULL;
   }
}

static const HB_GC_FUNCS s_gc_HPEN_funcs =
{
   win_HPEN_release,
   hb_gcDummyMark
};

HB_FUNC( WIN_CREATEDC )
{
   if( HB_ISCHAR( 1 ) )
   {
      LPTSTR lpText = HB_TCHAR_CONVTO( hb_parc( 1 ) );
      PHB_HDC_WP phDCS = ( PHB_HDC_WP ) hb_xgrab( sizeof( HB_HDC_WP ) );
      PHB_HDC_WP * ph = ( PHB_HDC_WP * ) hb_gcAllocate( sizeof( PHB_HDC_WP ), &s_gc_HDC_funcs );

      memset( phDCS, 0, sizeof( HB_HDC_WP ) );
      phDCS->mhDC = CreateDC( TEXT( "" ), lpText, NULL, NULL );

      *ph = phDCS;
      hb_retptrGC( ph );

      HB_TCHAR_FREE( lpText );
   }
   else
      hb_retptr( NULL );
}

HB_FUNC( WIN_STARTDOC )
{
   HDC hDC = win_HDC_par( 1 );
   DOCINFO sDoc;
   BOOL Result = FALSE;

   if( hDC )
   {
      const char * szDocName = hb_parc( 2 );
      LPTSTR lpDocName = szDocName ? HB_TCHAR_CONVTO( szDocName ) : NULL;
      sDoc.cbSize = sizeof( DOCINFO );
      sDoc.lpszDocName = lpDocName;
      sDoc.lpszOutput = NULL;
      sDoc.lpszDatatype = NULL;
      sDoc.fwType = 0;
      Result = ( BOOL ) ( StartDoc( hDC, &sDoc ) > 0 );

      if( lpDocName )
         HB_TCHAR_FREE( lpDocName );
   }

   hb_retl( Result );
}

HB_FUNC( WIN_ENDDOC )
{
   BOOL Result = FALSE;
   HDC hDC = win_HDC_par( 1 );

   if( hDC )
   {
      if( hb_parl( 2 ) )
         Result = ( AbortDoc( hDC ) > 0 );
      else
         Result = ( EndDoc( hDC ) > 0 );
   }

   hb_retl( Result );
}

HB_FUNC( WIN_ABORTDOC )
{
   HDC hDC = win_HDC_par( 1 );

   hb_retl( hDC && ( AbortDoc( hDC ) > 0 ) );
}

HB_FUNC( WIN_DELETEDC )
{
   win_HDC_release( hb_parptrGC( &s_gc_HDC_funcs, 1 ) );
   hb_retni( 0 );               /* Return zero as a new handle even if fails */
}

HB_FUNC( WIN_STARTPAGE )
{
   HDC hDC = win_HDC_par( 1 );

   hb_retl( hDC && StartPage( hDC ) > 0 );
}

HB_FUNC( WIN_ENDPAGE )
{
   HDC hDC = win_HDC_par( 1 );

   hb_retl( hDC && EndPage( hDC ) > 0 );
}

HB_FUNC( WIN_TEXTOUT )
{
   LONG Result = 0;
   HDC hDC = win_HDC_par( 1 );
   ULONG ulLen = hb_parclen( 4 );
   SIZE sSize;

   if( hDC && ulLen )
   {
      int iLen = hb_parni( 5 );

      if( iLen > ( int ) ulLen )
         iLen = ( int ) ulLen;

      if( iLen > 0 )
      {
         int iRow = hb_parni( 2 );
         int iCol = hb_parni( 3 );
         int iWidth = hb_parni( 6 ); /* defaults to 0 */
         LPTSTR lpData = HB_TCHAR_CONVNTO( hb_parc( 4 ), iLen );

         if( hb_parnl( 7 ) == 1 )
            SetTextAlign( ( HDC ) hDC, TA_NOUPDATECP | TA_BOTTOM | TA_RIGHT );
         else if( hb_parnl( 7 ) == 2 )
            SetTextAlign( ( HDC ) hDC, TA_NOUPDATECP | TA_BOTTOM | TA_CENTER );
         else
            SetTextAlign( ( HDC ) hDC, TA_NOUPDATECP | TA_BOTTOM | TA_LEFT );

         if( iWidth < 0 && iLen < 1024 )
         {
            int n = iLen, aFixed[1024];

            iWidth = -iWidth;

            while( n )
               aFixed[--n] = iWidth;

            if( ExtTextOut( hDC, iRow, iCol, 0, NULL, lpData, iLen, aFixed ) )
               Result = ( LONG ) ( iLen * iWidth );
         }
         else if( TextOut( hDC, iRow, iCol, lpData, iLen ) )
         {
            GetTextExtentPoint32( hDC, lpData, iLen, &sSize ); /* Get the length of the text in device size */
            Result = ( LONG ) sSize.cx; /* return the width so we can update the current pen position (::PosY) */
         }

         HB_TCHAR_FREE( lpData );
      }
   }

   hb_retnl( Result );
}

HB_FUNC( WIN_GETTEXTSIZE )
{
   LONG Result = 0;
   HDC hDC = win_HDC_par( 1 );
   ULONG ulLen = hb_parclen( 2 );

   if( hDC && ulLen )
   {
      int iLen = hb_parni( 3 );
      LPTSTR lpData;
      SIZE sSize;

      if( ( ULONG ) iLen > ulLen )
         iLen = ulLen;

      lpData = HB_TCHAR_CONVNTO( hb_parc( 2 ), iLen );

      GetTextExtentPoint32( hDC, lpData, iLen, &sSize );       /* Get the length of the text in device size */

      if( !hb_parldef( 4, 1 ) )
         Result = ( LONG ) sSize.cy;    /* return the height */
      else
         Result = ( LONG ) sSize.cx;    /* return the width */

      HB_TCHAR_FREE( lpData );
   }

   hb_retnl( Result );
}


HB_FUNC( WIN_GETCHARSIZE )
{
   LONG Result = 0;
   HDC hDC = win_HDC_par( 1 );

   if( hDC )
   {
      TEXTMETRIC tm;

      GetTextMetrics( hDC, &tm );
      if( hb_parl( 2 ) )
         Result = ( LONG ) tm.tmHeight;
      else
         Result = ( LONG ) tm.tmAveCharWidth;
   }

   hb_retnl( Result );
}

HB_FUNC( WIN_GETDEVICECAPS )
{
   HDC hDC = win_HDC_par( 1 );

   hb_retnl( hDC && HB_ISNUM( 2 ) ? ( long ) GetDeviceCaps( hDC, hb_parnl( 2 ) ) : 0 );
}

HB_FUNC( WIN_SETMAPMODE )
{
   HDC hDC = win_HDC_par( 1 );

   hb_retnl( hDC && HB_ISNUM( 2 ) ? SetMapMode( hDC, hb_parnl( 2 ) ) : 0 );
}

HB_FUNC( WIN_MULDIV )
{
   hb_retnl( MulDiv( hb_parnl( 1 ), hb_parnl( 2 ), hb_parnl( 3 ) ) );
}

HB_FUNC( WIN_CREATEFONT )
{
   BOOL Result = FALSE;
   PHB_HDC_WP phDCS = win_HDC_WP_par( 1 );

   if( phDCS ){
      const char * pszFont = hb_parc( 2 );
      LPTSTR lpFont = pszFont ? HB_TCHAR_CONVTO( pszFont ) : NULL;
      int iHeight = hb_parni( 3 );
      int iMul = hb_parni( 4 );
      int iDiv = hb_parni( 5 );
      int iWidth;
      int iWeight = hb_parni( 6 );
      DWORD dwUnderLine = ( DWORD ) hb_parl( 7 );
      DWORD dwItalic = ( DWORD ) hb_parl( 8 );
      DWORD dwCharSet = ( DWORD ) hb_parnl( 9 );

      iWeight = iWeight > 0 ? iWeight : FW_NORMAL;
      iHeight = -MulDiv( iHeight, GetDeviceCaps( phDCS->mhDC, LOGPIXELSY ), 72 );
      if( iDiv )
         iWidth = MulDiv( abs( iMul ), GetDeviceCaps( phDCS->mhDC, LOGPIXELSX ), abs( iDiv ) );
      else
         iWidth = 0;               /* Use the default font width */

      HB_WP_LOCK
      phDCS->mhFont = CreateFont( iHeight, iWidth, 0, 0, iWeight, dwItalic, dwUnderLine, 0,
                          dwCharSet, OUT_DEVICE_PRECIS, CLIP_DEFAULT_PRECIS, DRAFT_QUALITY,
                          DEFAULT_PITCH | FF_DONTCARE, lpFont );
      if( phDCS->mhFont )
      {
         HFONT hOldFont = ( HFONT ) SelectObject( phDCS->mhDC, phDCS->mhFont );

         if( hOldFont )
            DeleteObject( hOldFont );

         Result = TRUE;
      }
      HB_WP_UNLOCK

      if( lpFont )
         HB_TCHAR_FREE( lpFont );
   }

   hb_retl( Result );
}

HB_FUNC( WIN_GETPRINTERFONTNAME )
{
   HDC hDC = win_HDC_par( 1 );

   if( hDC )
   {
      unsigned char cFont[ 128 ];

      GetTextFace( hDC, sizeof( cFont ) - 1, ( LPTSTR ) cFont );

      hb_retc( ( char * ) cFont );
   }
   else
      hb_retc_null();
}

HB_FUNC( WIN_BITMAPSOK )
{
   HDC hDC = win_HDC_par( 1 );

   hb_retl( hDC && ( GetDeviceCaps( hDC, RASTERCAPS ) & RC_STRETCHDIB ) );
}

HB_FUNC( WIN_SETDOCUMENTPROPERTIES )
{
   BOOL Result = FALSE;
   HDC hDC = win_HDC_par( 1 );

   if( hDC )
   {
      HANDLE hPrinter;
      const char * pszPrinterName = hb_parc( 2 );
      LPTSTR lpPrinterName = pszPrinterName ? HB_TCHAR_CONVTO( pszPrinterName ) : NULL;

      if( OpenPrinter( lpPrinterName, &hPrinter, NULL ) )
      {
         PDEVMODE pDevMode = NULL;
         LONG lSize = DocumentProperties( 0, hPrinter, lpPrinterName, pDevMode, pDevMode, 0 );

         if( lSize > 0 )
         {
            pDevMode = ( PDEVMODE ) hb_xgrab( lSize );

            if( pDevMode )
            {
               DocumentProperties( 0, hPrinter, lpPrinterName, pDevMode, pDevMode, DM_OUT_BUFFER );

               if( HB_ISNUM( 3 ) && hb_parnl( 3 ) )        /* 22/02/2007 don't change if 0 */
                  pDevMode->dmPaperSize = ( short ) hb_parnl( 3 );

               if( HB_ISLOG( 4 ) )
                  pDevMode->dmOrientation = ( short ) ( hb_parl( 4 ) ? 2 : 1 );

               if( HB_ISNUM( 5 ) && hb_parnl( 5 ) > 0 )
                  pDevMode->dmCopies = ( short ) hb_parnl( 5 );

               if( HB_ISNUM( 6 ) && hb_parnl( 6 ) )        /* 22/02/2007 don't change if 0 */
                  pDevMode->dmDefaultSource = ( short ) hb_parnl( 6 );

               if( HB_ISNUM( 7 ) && hb_parnl( 7 ) )        /* 22/02/2007 don't change if 0 */
                  pDevMode->dmDuplex = ( short ) hb_parnl( 7 );

               if( HB_ISNUM( 8 ) && hb_parnl( 8 ) )        /* 22/02/2007 don't change if 0 */
                  pDevMode->dmPrintQuality = ( short ) hb_parnl( 8 );

               Result = ( ResetDC( hDC, pDevMode ) != NULL );

               hb_xfree( pDevMode );
            }
         }

         ClosePrinter( hPrinter );
      }

      if( lpPrinterName )
         HB_TCHAR_FREE( lpPrinterName );
   }

   hb_retl( Result );
}

HB_FUNC( WIN_GETDOCUMENTPROPERTIES )
{
   BOOL Result = FALSE;
   HANDLE hPrinter;
   const char * pszPrinterName = hb_parc( 1 );
   LPTSTR lpPrinterName = pszPrinterName ? HB_TCHAR_CONVTO( pszPrinterName ) : NULL;

   if( OpenPrinter( lpPrinterName, &hPrinter, NULL ) )
   {
      PDEVMODE pDevMode = NULL;
      LONG lSize = DocumentProperties( 0, hPrinter, lpPrinterName, pDevMode, pDevMode, 0 );

      if( lSize > 0 )
      {
         pDevMode = ( PDEVMODE ) hb_xgrab( lSize );

         if( pDevMode )
         {
            DocumentProperties( 0, hPrinter, lpPrinterName, pDevMode, pDevMode, DM_OUT_BUFFER );

            hb_stornl( pDevMode->dmPaperSize, 2 );
            hb_storl( pDevMode->dmOrientation == 2, 3 );
            hb_stornl( pDevMode->dmCopies, 4 );
            hb_stornl( pDevMode->dmDefaultSource, 5 );
            hb_stornl( pDevMode->dmDuplex, 6 );
            hb_stornl( pDevMode->dmPrintQuality, 7 );
            Result = TRUE;

            hb_xfree( pDevMode );
         }
      }

      ClosePrinter( hPrinter );
   }

   if( lpPrinterName )
      HB_TCHAR_FREE( lpPrinterName );

   hb_retl( Result );
}

/* Functions for Loading & Printing bitmaps */

HB_FUNC( WIN_LOADBITMAPFILE )
{
   LPTSTR lpFileName = HB_TCHAR_CONVTO( hb_parcx( 1 ) );
   BOOL bSuccess = FALSE;
   DWORD dwFileSize = 0, dwHighSize, dwBytesRead;
   HANDLE hFile;
   BITMAPFILEHEADER * pbmfh = NULL;

   hFile = CreateFile( ( LPCTSTR ) lpFileName, GENERIC_READ, FILE_SHARE_READ, NULL, OPEN_EXISTING,
                       FILE_FLAG_SEQUENTIAL_SCAN, NULL );

   HB_TCHAR_FREE( lpFileName );

   if( hFile != INVALID_HANDLE_VALUE )
   {
      dwFileSize = GetFileSize( hFile, &dwHighSize );

      if( ( dwFileSize != INVALID_FILE_SIZE ) && ! dwHighSize )  /* Do not continue if File size error or TOO big for memory */
      {
         pbmfh = ( BITMAPFILEHEADER * ) hb_xgrab( dwFileSize );

         if( pbmfh )
         {
            bSuccess = ReadFile( hFile, pbmfh, dwFileSize, &dwBytesRead, NULL );
            bSuccess = bSuccess && ( dwBytesRead == dwFileSize ) && ( pbmfh->bfType == *( WORD * ) "BM" );      /*&& (pbmfh->bfSize == dwFileSize) ;*/
         }
      }

      CloseHandle( hFile );
   }

   if( bSuccess )
   {
      hb_retclen( ( char * ) pbmfh, dwFileSize );

      if( pbmfh )
         hb_xfree( pbmfh );
   }
   else
   {
      hb_retc_null();

      if( pbmfh )
         hb_xfree( pbmfh );
   }
}

HB_FUNC( WIN_DRAWBITMAP )
{
   HDC hDC = win_HDC_par( 1 );

   if( hDC ){
      BITMAPFILEHEADER *pbmfh = ( BITMAPFILEHEADER * ) hb_parc( 2 );
      BITMAPINFO *pbmi;
      BYTE *pBits;
      int cxDib, cyDib;

      pbmi = ( BITMAPINFO * ) ( pbmfh + 1 );
      pBits = ( BYTE * ) pbmfh + pbmfh->bfOffBits;

      if( pbmi->bmiHeader.biSize == sizeof( BITMAPCOREHEADER ) )
      {                            /* Remember there are 2 types of BitMap File */
         cxDib = ( ( BITMAPCOREHEADER * ) pbmi )->bcWidth;
         cyDib = ( ( BITMAPCOREHEADER * ) pbmi )->bcHeight;
      }
      else
      {
         cxDib = pbmi->bmiHeader.biWidth;
         cyDib = abs( pbmi->bmiHeader.biHeight );
      }

      SetStretchBltMode( hDC, COLORONCOLOR );

      hb_retl( StretchDIBits( hDC, hb_parni( 3 ), hb_parni( 4 ), hb_parni( 5 ), hb_parni( 6 ),
                              0, 0, cxDib, cyDib, pBits, pbmi,
                              DIB_RGB_COLORS, SRCCOPY ) != ( int ) GDI_ERROR );
   } else
      hb_retl( FALSE );
}

static int CALLBACK FontEnumCallBack( LOGFONT * lplf, TEXTMETRIC * lpntm, DWORD FontType,
                                      LPVOID pArray )
{
   PHB_ITEM SubItems = hb_itemNew( NULL );
   char * pszFaceName = HB_TCHAR_CONVFROM( lplf->lfFaceName );

   hb_arrayNew( SubItems, 4 );
   hb_itemPutC( hb_arrayGetItemPtr( SubItems, 1 ), pszFaceName );
   hb_itemPutL( hb_arrayGetItemPtr( SubItems, 2 ), lplf->lfPitchAndFamily & FIXED_PITCH );
   hb_itemPutL( hb_arrayGetItemPtr( SubItems, 3 ), FontType & TRUETYPE_FONTTYPE );
   hb_itemPutNL( hb_arrayGetItemPtr( SubItems, 4 ), lpntm->tmCharSet );
   hb_arrayAddForward( ( PHB_ITEM ) pArray, SubItems );
   hb_itemRelease( SubItems );
   HB_TCHAR_FREE( pszFaceName );

   return TRUE;
}

HB_FUNC( WIN_ENUMFONTS )
{
   HDC hDC = win_HDC_par( 1 );

   if( hDC )
   {
      PHB_ITEM pArray = hb_itemNew( NULL );

      hb_arrayNew( pArray, 0 );

      EnumFonts( hDC, ( LPCTSTR ) NULL, ( FONTENUMPROC ) FontEnumCallBack, ( LPARAM ) pArray );

      hb_itemReturnRelease( pArray );
   }
}

HB_FUNC( WIN_SETCOLOR )
{
   HDC hDC = win_HDC_par( 1 );

   if( hDC ){

      SetTextColor( hDC, ( COLORREF ) hb_parnl( 2 ) );

      if( HB_ISNUM( 3 ) )
         SetBkColor( hDC, ( COLORREF ) hb_parnl( 3 ) );

      if( HB_ISNUM( 4 ) )
         SetTextAlign( hDC, hb_parni( 4 ) );
   }
}

HB_FUNC( WIN_SETPEN )
{
   HDC hDC = win_HDC_par( 1 );

   if( hDC ){
      HPEN hOldPen;

      void ** ph = ( void ** ) hb_gcAllocate( sizeof( HPEN * ), &s_gc_HPEN_funcs );

      * ph = ( void * ) CreatePen( hb_parni( 2 ),                /* pen style */
                                   hb_parni( 3 ),                /* pen width */
                                   ( COLORREF ) hb_parnl( 4 )    /* pen color */
                                 );

      hOldPen = ( HPEN ) SelectObject( hDC, ( HPEN ) * ph );

      if( hOldPen )
         DeleteObject( hOldPen );

      hb_retptrGC( ph );

   } else
      hb_retptr( NULL );
}

HB_FUNC( WIN_FILLRECT )
{
   HDC hDC = win_HDC_par( 1 );

   if( hDC ){
      HBRUSH hBrush = CreateSolidBrush( ( COLORREF ) hb_parnl( 6 ) );
      RECT rct;

      rct.left = hb_parni( 2 );
      rct.top = hb_parni( 3 );
      rct.right = hb_parni( 4 );
      rct.bottom = hb_parni( 5 );

      FillRect( hDC, &rct, hBrush );

      DeleteObject( hBrush );
   }
}

HB_FUNC( WIN_LINETO )
{
   HDC hDC = win_HDC_par( 1 );
   int x1 = hb_parni( 2 );
   int y1 = hb_parni( 3 );
   int x2 = hb_parni( 4 );
   int y2 = hb_parni( 5 );

   hb_retl( hDC ? MoveToEx( hDC, x1, y1, NULL ) && LineTo( hDC, x2, y2 ) : 0 );
}

HB_FUNC( WIN_RECTANGLE )
{
   HDC hDC = win_HDC_par( 1 );
   int x1 = hb_parni( 2 );
   int y1 = hb_parni( 3 );
   int x2 = hb_parni( 4 );
   int y2 = hb_parni( 5 );
   int iWidth = hb_parni( 6 );
   int iHeight = hb_parni( 7 );

   if( iWidth && iHeight )
      hb_retl( hDC ? RoundRect( hDC, x1, y1, x2, y2, iWidth, iHeight ) : 0 );
   else
      hb_retl( hDC ? Rectangle( hDC, x1, y1, x2, y2 ) : 0 );
}

HB_FUNC( WIN_ARC )
{
   HDC hDC = win_HDC_par( 1 );

   hb_retl( hDC ? Arc(  hDC /* hDC */,
                        hb_parni( 2 ) /* x1 */,
                        hb_parni( 3 ) /* y1 */,
                        hb_parni( 4 ) /* x2 */,
                        hb_parni( 5 ) /* y2 */,
                        0,
                        0,
                        0,
                        0 ) : 0 );
}

HB_FUNC( WIN_ELLIPSE )
{
   HDC hDC = win_HDC_par( 1 );

   hb_retl( hDC ? Ellipse( hDC /* hDC */,
                           hb_parni( 2 ) /* x1 */,
                           hb_parni( 3 ) /* y1 */,
                           hb_parni( 4 ) /* x2 */,
                           hb_parni( 5 ) /* y2 */ ) : 0 );
}

HB_FUNC( WIN_SETBKMODE )
{
   HDC hDC = win_HDC_par( 1 );

   hb_retnl( hDC ? SetBkMode( win_HDC_par( 1 ), hb_parnl( 2 ) ) : 0 );
}

#endif
-------------- next part --------------
A non-text attachment was scrubbed...
Name: win_tprn1.zip
Type: application/x-zip
Size: 12315 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091122/4b2e5ff3/win_tprn1-0001.bin
From vszakats at users.sourceforge.net  Sat Nov 21 21:37:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 21 21:37:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12967] trunk/harbour
Message-ID: <E1NC2Ki-0002OK-GS@3kljzd1.ch3.sourceforge.com>

Revision: 12967
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12967&view=rev
Author:   vszakats
Date:     2009-11-22 02:37:47 +0000 (Sun, 22 Nov 2009)

Log Message:
-----------
2009-11-22 03:37 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn2.c
    * Further type cleanup.
    % Using macro instead of storing static number in variable.
    ! Fixed GETPRINTER() after recent change on Win9x systems.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Sat Nov 21 21:42:50 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sat Nov 21 21:42:57 2009
Subject: [Harbour] llvm ident fixup
Message-ID: <alpine.DEB.2.00.0911220338270.11887@dawn.royalcomp.hu>


viktor,

i believe the following is better at identifying the actual llvm 
frontend used:

tinky:~/w/xhb/hbci/harbour-build$ ../inst/linux/llvm/c/bin/harbour -build 2>&1 | fgrep Compiler
Compiler: LLVM/GNU C 4.2.1 (64-bit)
tinky:~/w/xhb/hbci/harbour-build$ ../inst/linux/llvm/cpp/bin/harbour -build 2>&1 | fgrep Compiler
Compiler: LLVM/GNU C++ 4.2.1 (64-bit)

without this, llvm/gcc gets identified as gcc.

i don't have clang, but if that doesn't break for you, could you 
please apply this?

thanks,

Index: src/common/hbver.c
===================================================================
--- src/common/hbver.c	(revision 12965)
+++ src/common/hbver.c	(working copy)
@@ -623,11 +623,11 @@
       pszName = "EMX/RSXNT/Win32 GNU C";
    #elif defined( __EMX__ )
       pszName = "EMX GNU C";
-   #elif defined( __clang__ )
-      #if defined( __llvm__ )
-         pszName = "Clang/LLVM C";
+   #elif defined( __llvm__ )
+      #if defined( __clang__ )
+         pszName = "LLVM/Clang  C";
       #else
-         pszName = "Clang/GNU C";
+         pszName = "LLVM/GNU C";
       #endif
    #else
       pszName = "GNU C";


-- 
[-]

mkdir /nonexistent
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hbver.diff
Type: text/x-diff
Size: 644 bytes
Desc: 
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091122/63723cf3/hbver.bin
From harbour.01 at syenar.hu  Sat Nov 21 21:59:40 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Nov 21 21:59:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12966] trunk/harbour
In-Reply-To: <4B08A397.9080705@gmail.com>
References: <E1NC1l3-0001kg-A2@3kljzd1.ch3.sourceforge.com>
	<4B08A397.9080705@gmail.com>
Message-ID: <FE6651C4-F8BF-4152-81F9-2814F85DA304@syenar.hu>

Hi Xavi,

You've converted the static variable to a thread 
protected variable, but this doesn't solve the 
real problem. The real problem is not MT, but 
simple multiple calls to WIN_CREATEFONT(), even 
in single thread.

IMO we don't need any such heavy tricks here.
Simply the interface should be descrambled so 
that it gives back proper handles to caller code, 
which stores these handles, and they're getting 
released when going out of scope. Or, if two 
Windows handles belong to one Harbour level 
object, a helper structure should be used 
in garbage collector functions and this way 
it's possible to release both when the variable 
goes out of scope.

[ I'm also not sure if it's correct to use 
thread local variables is garbage collector 
code, but it looks a bit suspicious, since 
a value may be passed to other thread and 
live there from that point. ]

Apologize if I'm missing something here, which 
makes this case special, but I can't see it ATM.

Brgds,
Viktor

On 2009 Nov 22, at 03:36, Xavi wrote:

> Please be patient Viktor I have changed all win_prn1.c
> This version solves the problem and adapts to MT.
> Could you mix your latest changes and update the repository.
> 
> -- 
> Xavi
> 
> vszakats@users.sourceforge.net escribi?:
>> Revision: 12966
>>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12966&view=rev
>> Author:   vszakats
>> Date:     2009-11-22 02:00:56 +0000 (Sun, 22 Nov 2009)
>> Log Message:
>> -----------
>> 2009-11-22 03:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * contrib/hbwin/win_tprn.prg
>>    ! Accidentally missed GetDocumentProperties() method added.
>>    % Converted all INLINE methods to normal ones (for optimal performance).
>>  * contrib/hbwin/win_tcom.prg
>>    % Converted all INLINE methods to normal ones (for optimal performance).
>>  * contrib/hbwin/win_prn1.c
>>    % Using hb_arraySet*() APIs.
>>  * contrib/hbwin/win_prn2.c
>>    * Minor formatting.
>> Modified Paths:
>> --------------
>>    trunk/harbour/ChangeLog
>>    trunk/harbour/contrib/hbwin/win_prn1.c
>>    trunk/harbour/contrib/hbwin/win_prn2.c
>>    trunk/harbour/contrib/hbwin/win_tcom.prg
>>    trunk/harbour/contrib/hbwin/win_tprn.prg
>> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> /*
> * $Id: $
> */
> 
> /*
> * Harbour Project source code:
> * Printing subsystem for Windows using GUI printing
> *     Copyright 2004 Peter Rees <peter@rees.co.nz>
> *                    Rees Software & Systems Ltd
> *
> * See COPYING for licensing terms.
> *
> * www - http://www.harbour-project.org
> *
> * This program is free software; you can redistribute it and/or modify
> * it under the terms of the GNU General Public License as published by
> * the Free Software Foundation; either version 2, or (at your option )
> * any later version.
> *
> * This program is distributed in the hope that it will be useful,
> * but WITHOUT ANY WARRANTY; without even the implied warranty of
> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
> * GNU General Public License for more details.
> *
> * You should have received a copy of the GNU General Public License
> * along with this software; see the file COPYING.   If not, write to
> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
> * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/ ).
> *
> * As a special exception, the Harbour Project gives permission for
> * additional uses of the text contained in its release of Harbour.
> *
> * The exception is that, if you link the Harbour libraries with other
> * files to produce an executable, this does not by itself cause the
> * resulting executable to be covered by the GNU General Public License.
> * Your use of that executable is in no way restricted on account of
> * linking the Harbour library code into it.
> *
> * This exception does not however invalidate any other reasons why
> * the executable file might be covered by the GNU General Public License.
> *
> * This exception applies only to the code released by the Harbour
> * Project under the name Harbour.  If you copy code from other
> * Harbour Project or Free Software Foundation releases into a copy of
> * Harbour, as the General Public License permits, the exception does
> * not apply to the code that you add in this way.   To avoid misleading
> * anyone as to the status of such modified files, you must delete
> * this exception notice from them.
> *
> * If you write modifications of your own for Harbour, it is your choice
> * whether to permit this exception to apply to your modifications.
> * If you do not wish that, delete this exception notice.
> */
> 
> /*
> 
>  TPRINT() was designed to make it easy to emulate Clipper Dot Matrix printing.
>  Dot Matrix printing was in CPI ( Characters per inch & Lines per inch ).
>  Even though "Mapping Mode" for TPRINT() is MM_TEXT, ::SetFont() accepts the
>  nWidth parameter in CPI not Pixels. Also the default ::LineHeight is for
>  6 lines per inch so ::NewLine() works as per "LineFeed" on Dot Matrix printers.
>  If you do not like this then inherit from the class and override anything you want
> 
>  Simple example
> 
>  TO DO:    Colour printing
>            etc....
> 
>  Peter Rees 21 January 2004 <peter@rees.co.nz>
> 
> */
> 
> #define HB_OS_WIN_USED
> 
> #include "Maket.h"
> 
> #include "hbapi.h"
> #include "hbapiitm.h"
> #include "hbthread.h"
> 
> #if defined( HB_OS_WIN ) && !defined( HB_OS_WIN_CE )
> 
> #include <winspool.h>
> 
> #ifndef INVALID_FILE_SIZE
>   #define INVALID_FILE_SIZE ( DWORD ) 0xFFFFFFFF
> #endif
> 
> /* MT macros */
> #define HB_WP_LOCK         hb_threadEnterCriticalSection( &s_WPMtx );
> #define HB_WP_UNLOCK       hb_threadLeaveCriticalSection( &s_WPMtx );
> static HB_CRITICAL_NEW( s_WPMtx );
> 
> typedef struct
> {
>   HDC   mhDC;
>   HFONT mhFont;
> } HB_HDC_WP, * PHB_HDC_WP;
> 
> static HB_GARBAGE_FUNC( win_HDC_release )
> {
>   void ** ph = ( void ** ) Cargo;
> 
>   /* Check if pointer is not NULL to avoid multiple freeing */
>   if( ph && *ph )
>   {
>      PHB_HDC_WP phDCS = *ph;
> 
>      /* Delete, if any, Printer Font when release Printer DC [jarabal] */
>      if( phDCS->mhFont ) DeleteObject( phDCS->mhFont );
>      /* Destroy the object */
>      DeleteDC( phDCS->mhDC );
> 
>      /* set pointer to NULL to avoid multiple freeing */
>      *ph = NULL;
>   }
> }
> 
> static const HB_GC_FUNCS s_gc_HDC_funcs =
> {
>   win_HDC_release,
>   hb_gcDummyMark
> };
> 
> static PHB_HDC_WP win_HDC_WP_par( int iParam )
> {
>   void ** ph = ( void ** ) hb_parptrGC( &s_gc_HDC_funcs, iParam );
> 
>   return ph ?  *ph : NULL;
> }
> 
> static HDC win_HDC_par( int iParam )
> {
>   void ** ph = ( void ** ) hb_parptrGC( &s_gc_HDC_funcs, iParam );
>   PHB_HDC_WP phDCS = *ph;
> 
>   return ph ? (phDCS ? phDCS->mhDC : NULL) : ( HDC ) hb_parptr( iParam );
> }
> 
> static HB_GARBAGE_FUNC( win_HPEN_release )
> {
>   void ** ph = ( void ** ) Cargo;
> 
>   /* Check if pointer is not NULL to avoid multiple freeing */
>   if( ph && * ph )
>   {
>      /* Destroy the object */
>      DeleteObject( ( HDC ) * ph );
> 
>      /* set pointer to NULL to avoid multiple freeing */
>      * ph = NULL;
>   }
> }
> 
> static const HB_GC_FUNCS s_gc_HPEN_funcs =
> {
>   win_HPEN_release,
>   hb_gcDummyMark
> };
> 
> HB_FUNC( WIN_CREATEDC )
> {
>   if( HB_ISCHAR( 1 ) )
>   {
>      LPTSTR lpText = HB_TCHAR_CONVTO( hb_parc( 1 ) );
>      PHB_HDC_WP phDCS = ( PHB_HDC_WP ) hb_xgrab( sizeof( HB_HDC_WP ) );
>      PHB_HDC_WP * ph = ( PHB_HDC_WP * ) hb_gcAllocate( sizeof( PHB_HDC_WP ), &s_gc_HDC_funcs );
> 
>      memset( phDCS, 0, sizeof( HB_HDC_WP ) );
>      phDCS->mhDC = CreateDC( TEXT( "" ), lpText, NULL, NULL );
> 
>      *ph = phDCS;
>      hb_retptrGC( ph );
> 
>      HB_TCHAR_FREE( lpText );
>   }
>   else
>      hb_retptr( NULL );
> }
> 
> HB_FUNC( WIN_STARTDOC )
> {
>   HDC hDC = win_HDC_par( 1 );
>   DOCINFO sDoc;
>   BOOL Result = FALSE;
> 
>   if( hDC )
>   {
>      const char * szDocName = hb_parc( 2 );
>      LPTSTR lpDocName = szDocName ? HB_TCHAR_CONVTO( szDocName ) : NULL;
>      sDoc.cbSize = sizeof( DOCINFO );
>      sDoc.lpszDocName = lpDocName;
>      sDoc.lpszOutput = NULL;
>      sDoc.lpszDatatype = NULL;
>      sDoc.fwType = 0;
>      Result = ( BOOL ) ( StartDoc( hDC, &sDoc ) > 0 );
> 
>      if( lpDocName )
>         HB_TCHAR_FREE( lpDocName );
>   }
> 
>   hb_retl( Result );
> }
> 
> HB_FUNC( WIN_ENDDOC )
> {
>   BOOL Result = FALSE;
>   HDC hDC = win_HDC_par( 1 );
> 
>   if( hDC )
>   {
>      if( hb_parl( 2 ) )
>         Result = ( AbortDoc( hDC ) > 0 );
>      else
>         Result = ( EndDoc( hDC ) > 0 );
>   }
> 
>   hb_retl( Result );
> }
> 
> HB_FUNC( WIN_ABORTDOC )
> {
>   HDC hDC = win_HDC_par( 1 );
> 
>   hb_retl( hDC && ( AbortDoc( hDC ) > 0 ) );
> }
> 
> HB_FUNC( WIN_DELETEDC )
> {
>   win_HDC_release( hb_parptrGC( &s_gc_HDC_funcs, 1 ) );
>   hb_retni( 0 );               /* Return zero as a new handle even if fails */
> }
> 
> HB_FUNC( WIN_STARTPAGE )
> {
>   HDC hDC = win_HDC_par( 1 );
> 
>   hb_retl( hDC && StartPage( hDC ) > 0 );
> }
> 
> HB_FUNC( WIN_ENDPAGE )
> {
>   HDC hDC = win_HDC_par( 1 );
> 
>   hb_retl( hDC && EndPage( hDC ) > 0 );
> }
> 
> HB_FUNC( WIN_TEXTOUT )
> {
>   LONG Result = 0;
>   HDC hDC = win_HDC_par( 1 );
>   ULONG ulLen = hb_parclen( 4 );
>   SIZE sSize;
> 
>   if( hDC && ulLen )
>   {
>      int iLen = hb_parni( 5 );
> 
>      if( iLen > ( int ) ulLen )
>         iLen = ( int ) ulLen;
> 
>      if( iLen > 0 )
>      {
>         int iRow = hb_parni( 2 );
>         int iCol = hb_parni( 3 );
>         int iWidth = hb_parni( 6 ); /* defaults to 0 */
>         LPTSTR lpData = HB_TCHAR_CONVNTO( hb_parc( 4 ), iLen );
> 
>         if( hb_parnl( 7 ) == 1 )
>            SetTextAlign( ( HDC ) hDC, TA_NOUPDATECP | TA_BOTTOM | TA_RIGHT );
>         else if( hb_parnl( 7 ) == 2 )
>            SetTextAlign( ( HDC ) hDC, TA_NOUPDATECP | TA_BOTTOM | TA_CENTER );
>         else
>            SetTextAlign( ( HDC ) hDC, TA_NOUPDATECP | TA_BOTTOM | TA_LEFT );
> 
>         if( iWidth < 0 && iLen < 1024 )
>         {
>            int n = iLen, aFixed[1024];
> 
>            iWidth = -iWidth;
> 
>            while( n )
>               aFixed[--n] = iWidth;
> 
>            if( ExtTextOut( hDC, iRow, iCol, 0, NULL, lpData, iLen, aFixed ) )
>               Result = ( LONG ) ( iLen * iWidth );
>         }
>         else if( TextOut( hDC, iRow, iCol, lpData, iLen ) )
>         {
>            GetTextExtentPoint32( hDC, lpData, iLen, &sSize ); /* Get the length of the text in device size */
>            Result = ( LONG ) sSize.cx; /* return the width so we can update the current pen position (::PosY) */
>         }
> 
>         HB_TCHAR_FREE( lpData );
>      }
>   }
> 
>   hb_retnl( Result );
> }
> 
> HB_FUNC( WIN_GETTEXTSIZE )
> {
>   LONG Result = 0;
>   HDC hDC = win_HDC_par( 1 );
>   ULONG ulLen = hb_parclen( 2 );
> 
>   if( hDC && ulLen )
>   {
>      int iLen = hb_parni( 3 );
>      LPTSTR lpData;
>      SIZE sSize;
> 
>      if( ( ULONG ) iLen > ulLen )
>         iLen = ulLen;
> 
>      lpData = HB_TCHAR_CONVNTO( hb_parc( 2 ), iLen );
> 
>      GetTextExtentPoint32( hDC, lpData, iLen, &sSize );       /* Get the length of the text in device size */
> 
>      if( !hb_parldef( 4, 1 ) )
>         Result = ( LONG ) sSize.cy;    /* return the height */
>      else
>         Result = ( LONG ) sSize.cx;    /* return the width */
> 
>      HB_TCHAR_FREE( lpData );
>   }
> 
>   hb_retnl( Result );
> }
> 
> 
> HB_FUNC( WIN_GETCHARSIZE )
> {
>   LONG Result = 0;
>   HDC hDC = win_HDC_par( 1 );
> 
>   if( hDC )
>   {
>      TEXTMETRIC tm;
> 
>      GetTextMetrics( hDC, &tm );
>      if( hb_parl( 2 ) )
>         Result = ( LONG ) tm.tmHeight;
>      else
>         Result = ( LONG ) tm.tmAveCharWidth;
>   }
> 
>   hb_retnl( Result );
> }
> 
> HB_FUNC( WIN_GETDEVICECAPS )
> {
>   HDC hDC = win_HDC_par( 1 );
> 
>   hb_retnl( hDC && HB_ISNUM( 2 ) ? ( long ) GetDeviceCaps( hDC, hb_parnl( 2 ) ) : 0 );
> }
> 
> HB_FUNC( WIN_SETMAPMODE )
> {
>   HDC hDC = win_HDC_par( 1 );
> 
>   hb_retnl( hDC && HB_ISNUM( 2 ) ? SetMapMode( hDC, hb_parnl( 2 ) ) : 0 );
> }
> 
> HB_FUNC( WIN_MULDIV )
> {
>   hb_retnl( MulDiv( hb_parnl( 1 ), hb_parnl( 2 ), hb_parnl( 3 ) ) );
> }
> 
> HB_FUNC( WIN_CREATEFONT )
> {
>   BOOL Result = FALSE;
>   PHB_HDC_WP phDCS = win_HDC_WP_par( 1 );
> 
>   if( phDCS ){
>      const char * pszFont = hb_parc( 2 );
>      LPTSTR lpFont = pszFont ? HB_TCHAR_CONVTO( pszFont ) : NULL;
>      int iHeight = hb_parni( 3 );
>      int iMul = hb_parni( 4 );
>      int iDiv = hb_parni( 5 );
>      int iWidth;
>      int iWeight = hb_parni( 6 );
>      DWORD dwUnderLine = ( DWORD ) hb_parl( 7 );
>      DWORD dwItalic = ( DWORD ) hb_parl( 8 );
>      DWORD dwCharSet = ( DWORD ) hb_parnl( 9 );
> 
>      iWeight = iWeight > 0 ? iWeight : FW_NORMAL;
>      iHeight = -MulDiv( iHeight, GetDeviceCaps( phDCS->mhDC, LOGPIXELSY ), 72 );
>      if( iDiv )
>         iWidth = MulDiv( abs( iMul ), GetDeviceCaps( phDCS->mhDC, LOGPIXELSX ), abs( iDiv ) );
>      else
>         iWidth = 0;               /* Use the default font width */
> 
>      HB_WP_LOCK
>      phDCS->mhFont = CreateFont( iHeight, iWidth, 0, 0, iWeight, dwItalic, dwUnderLine, 0,
>                          dwCharSet, OUT_DEVICE_PRECIS, CLIP_DEFAULT_PRECIS, DRAFT_QUALITY,
>                          DEFAULT_PITCH | FF_DONTCARE, lpFont );
>      if( phDCS->mhFont )
>      {
>         HFONT hOldFont = ( HFONT ) SelectObject( phDCS->mhDC, phDCS->mhFont );
> 
>         if( hOldFont )
>            DeleteObject( hOldFont );
> 
>         Result = TRUE;
>      }
>      HB_WP_UNLOCK
> 
>      if( lpFont )
>         HB_TCHAR_FREE( lpFont );
>   }
> 
>   hb_retl( Result );
> }
> 
> HB_FUNC( WIN_GETPRINTERFONTNAME )
> {
>   HDC hDC = win_HDC_par( 1 );
> 
>   if( hDC )
>   {
>      unsigned char cFont[ 128 ];
> 
>      GetTextFace( hDC, sizeof( cFont ) - 1, ( LPTSTR ) cFont );
> 
>      hb_retc( ( char * ) cFont );
>   }
>   else
>      hb_retc_null();
> }
> 
> HB_FUNC( WIN_BITMAPSOK )
> {
>   HDC hDC = win_HDC_par( 1 );
> 
>   hb_retl( hDC && ( GetDeviceCaps( hDC, RASTERCAPS ) & RC_STRETCHDIB ) );
> }
> 
> HB_FUNC( WIN_SETDOCUMENTPROPERTIES )
> {
>   BOOL Result = FALSE;
>   HDC hDC = win_HDC_par( 1 );
> 
>   if( hDC )
>   {
>      HANDLE hPrinter;
>      const char * pszPrinterName = hb_parc( 2 );
>      LPTSTR lpPrinterName = pszPrinterName ? HB_TCHAR_CONVTO( pszPrinterName ) : NULL;
> 
>      if( OpenPrinter( lpPrinterName, &hPrinter, NULL ) )
>      {
>         PDEVMODE pDevMode = NULL;
>         LONG lSize = DocumentProperties( 0, hPrinter, lpPrinterName, pDevMode, pDevMode, 0 );
> 
>         if( lSize > 0 )
>         {
>            pDevMode = ( PDEVMODE ) hb_xgrab( lSize );
> 
>            if( pDevMode )
>            {
>               DocumentProperties( 0, hPrinter, lpPrinterName, pDevMode, pDevMode, DM_OUT_BUFFER );
> 
>               if( HB_ISNUM( 3 ) && hb_parnl( 3 ) )        /* 22/02/2007 don't change if 0 */
>                  pDevMode->dmPaperSize = ( short ) hb_parnl( 3 );
> 
>               if( HB_ISLOG( 4 ) )
>                  pDevMode->dmOrientation = ( short ) ( hb_parl( 4 ) ? 2 : 1 );
> 
>               if( HB_ISNUM( 5 ) && hb_parnl( 5 ) > 0 )
>                  pDevMode->dmCopies = ( short ) hb_parnl( 5 );
> 
>               if( HB_ISNUM( 6 ) && hb_parnl( 6 ) )        /* 22/02/2007 don't change if 0 */
>                  pDevMode->dmDefaultSource = ( short ) hb_parnl( 6 );
> 
>               if( HB_ISNUM( 7 ) && hb_parnl( 7 ) )        /* 22/02/2007 don't change if 0 */
>                  pDevMode->dmDuplex = ( short ) hb_parnl( 7 );
> 
>               if( HB_ISNUM( 8 ) && hb_parnl( 8 ) )        /* 22/02/2007 don't change if 0 */
>                  pDevMode->dmPrintQuality = ( short ) hb_parnl( 8 );
> 
>               Result = ( ResetDC( hDC, pDevMode ) != NULL );
> 
>               hb_xfree( pDevMode );
>            }
>         }
> 
>         ClosePrinter( hPrinter );
>      }
> 
>      if( lpPrinterName )
>         HB_TCHAR_FREE( lpPrinterName );
>   }
> 
>   hb_retl( Result );
> }
> 
> HB_FUNC( WIN_GETDOCUMENTPROPERTIES )
> {
>   BOOL Result = FALSE;
>   HANDLE hPrinter;
>   const char * pszPrinterName = hb_parc( 1 );
>   LPTSTR lpPrinterName = pszPrinterName ? HB_TCHAR_CONVTO( pszPrinterName ) : NULL;
> 
>   if( OpenPrinter( lpPrinterName, &hPrinter, NULL ) )
>   {
>      PDEVMODE pDevMode = NULL;
>      LONG lSize = DocumentProperties( 0, hPrinter, lpPrinterName, pDevMode, pDevMode, 0 );
> 
>      if( lSize > 0 )
>      {
>         pDevMode = ( PDEVMODE ) hb_xgrab( lSize );
> 
>         if( pDevMode )
>         {
>            DocumentProperties( 0, hPrinter, lpPrinterName, pDevMode, pDevMode, DM_OUT_BUFFER );
> 
>            hb_stornl( pDevMode->dmPaperSize, 2 );
>            hb_storl( pDevMode->dmOrientation == 2, 3 );
>            hb_stornl( pDevMode->dmCopies, 4 );
>            hb_stornl( pDevMode->dmDefaultSource, 5 );
>            hb_stornl( pDevMode->dmDuplex, 6 );
>            hb_stornl( pDevMode->dmPrintQuality, 7 );
>            Result = TRUE;
> 
>            hb_xfree( pDevMode );
>         }
>      }
> 
>      ClosePrinter( hPrinter );
>   }
> 
>   if( lpPrinterName )
>      HB_TCHAR_FREE( lpPrinterName );
> 
>   hb_retl( Result );
> }
> 
> /* Functions for Loading & Printing bitmaps */
> 
> HB_FUNC( WIN_LOADBITMAPFILE )
> {
>   LPTSTR lpFileName = HB_TCHAR_CONVTO( hb_parcx( 1 ) );
>   BOOL bSuccess = FALSE;
>   DWORD dwFileSize = 0, dwHighSize, dwBytesRead;
>   HANDLE hFile;
>   BITMAPFILEHEADER * pbmfh = NULL;
> 
>   hFile = CreateFile( ( LPCTSTR ) lpFileName, GENERIC_READ, FILE_SHARE_READ, NULL, OPEN_EXISTING,
>                       FILE_FLAG_SEQUENTIAL_SCAN, NULL );
> 
>   HB_TCHAR_FREE( lpFileName );
> 
>   if( hFile != INVALID_HANDLE_VALUE )
>   {
>      dwFileSize = GetFileSize( hFile, &dwHighSize );
> 
>      if( ( dwFileSize != INVALID_FILE_SIZE ) && ! dwHighSize )  /* Do not continue if File size error or TOO big for memory */
>      {
>         pbmfh = ( BITMAPFILEHEADER * ) hb_xgrab( dwFileSize );
> 
>         if( pbmfh )
>         {
>            bSuccess = ReadFile( hFile, pbmfh, dwFileSize, &dwBytesRead, NULL );
>            bSuccess = bSuccess && ( dwBytesRead == dwFileSize ) && ( pbmfh->bfType == *( WORD * ) "BM" );      /*&& (pbmfh->bfSize == dwFileSize) ;*/
>         }
>      }
> 
>      CloseHandle( hFile );
>   }
> 
>   if( bSuccess )
>   {
>      hb_retclen( ( char * ) pbmfh, dwFileSize );
> 
>      if( pbmfh )
>         hb_xfree( pbmfh );
>   }
>   else
>   {
>      hb_retc_null();
> 
>      if( pbmfh )
>         hb_xfree( pbmfh );
>   }
> }
> 
> HB_FUNC( WIN_DRAWBITMAP )
> {
>   HDC hDC = win_HDC_par( 1 );
> 
>   if( hDC ){
>      BITMAPFILEHEADER *pbmfh = ( BITMAPFILEHEADER * ) hb_parc( 2 );
>      BITMAPINFO *pbmi;
>      BYTE *pBits;
>      int cxDib, cyDib;
> 
>      pbmi = ( BITMAPINFO * ) ( pbmfh + 1 );
>      pBits = ( BYTE * ) pbmfh + pbmfh->bfOffBits;
> 
>      if( pbmi->bmiHeader.biSize == sizeof( BITMAPCOREHEADER ) )
>      {                            /* Remember there are 2 types of BitMap File */
>         cxDib = ( ( BITMAPCOREHEADER * ) pbmi )->bcWidth;
>         cyDib = ( ( BITMAPCOREHEADER * ) pbmi )->bcHeight;
>      }
>      else
>      {
>         cxDib = pbmi->bmiHeader.biWidth;
>         cyDib = abs( pbmi->bmiHeader.biHeight );
>      }
> 
>      SetStretchBltMode( hDC, COLORONCOLOR );
> 
>      hb_retl( StretchDIBits( hDC, hb_parni( 3 ), hb_parni( 4 ), hb_parni( 5 ), hb_parni( 6 ),
>                              0, 0, cxDib, cyDib, pBits, pbmi,
>                              DIB_RGB_COLORS, SRCCOPY ) != ( int ) GDI_ERROR );
>   } else
>      hb_retl( FALSE );
> }
> 
> static int CALLBACK FontEnumCallBack( LOGFONT * lplf, TEXTMETRIC * lpntm, DWORD FontType,
>                                      LPVOID pArray )
> {
>   PHB_ITEM SubItems = hb_itemNew( NULL );
>   char * pszFaceName = HB_TCHAR_CONVFROM( lplf->lfFaceName );
> 
>   hb_arrayNew( SubItems, 4 );
>   hb_itemPutC( hb_arrayGetItemPtr( SubItems, 1 ), pszFaceName );
>   hb_itemPutL( hb_arrayGetItemPtr( SubItems, 2 ), lplf->lfPitchAndFamily & FIXED_PITCH );
>   hb_itemPutL( hb_arrayGetItemPtr( SubItems, 3 ), FontType & TRUETYPE_FONTTYPE );
>   hb_itemPutNL( hb_arrayGetItemPtr( SubItems, 4 ), lpntm->tmCharSet );
>   hb_arrayAddForward( ( PHB_ITEM ) pArray, SubItems );
>   hb_itemRelease( SubItems );
>   HB_TCHAR_FREE( pszFaceName );
> 
>   return TRUE;
> }
> 
> HB_FUNC( WIN_ENUMFONTS )
> {
>   HDC hDC = win_HDC_par( 1 );
> 
>   if( hDC )
>   {
>      PHB_ITEM pArray = hb_itemNew( NULL );
> 
>      hb_arrayNew( pArray, 0 );
> 
>      EnumFonts( hDC, ( LPCTSTR ) NULL, ( FONTENUMPROC ) FontEnumCallBack, ( LPARAM ) pArray );
> 
>      hb_itemReturnRelease( pArray );
>   }
> }
> 
> HB_FUNC( WIN_SETCOLOR )
> {
>   HDC hDC = win_HDC_par( 1 );
> 
>   if( hDC ){
> 
>      SetTextColor( hDC, ( COLORREF ) hb_parnl( 2 ) );
> 
>      if( HB_ISNUM( 3 ) )
>         SetBkColor( hDC, ( COLORREF ) hb_parnl( 3 ) );
> 
>      if( HB_ISNUM( 4 ) )
>         SetTextAlign( hDC, hb_parni( 4 ) );
>   }
> }
> 
> HB_FUNC( WIN_SETPEN )
> {
>   HDC hDC = win_HDC_par( 1 );
> 
>   if( hDC ){
>      HPEN hOldPen;
> 
>      void ** ph = ( void ** ) hb_gcAllocate( sizeof( HPEN * ), &s_gc_HPEN_funcs );
> 
>      * ph = ( void * ) CreatePen( hb_parni( 2 ),                /* pen style */
>                                   hb_parni( 3 ),                /* pen width */
>                                   ( COLORREF ) hb_parnl( 4 )    /* pen color */
>                                 );
> 
>      hOldPen = ( HPEN ) SelectObject( hDC, ( HPEN ) * ph );
> 
>      if( hOldPen )
>         DeleteObject( hOldPen );
> 
>      hb_retptrGC( ph );
> 
>   } else
>      hb_retptr( NULL );
> }
> 
> HB_FUNC( WIN_FILLRECT )
> {
>   HDC hDC = win_HDC_par( 1 );
> 
>   if( hDC ){
>      HBRUSH hBrush = CreateSolidBrush( ( COLORREF ) hb_parnl( 6 ) );
>      RECT rct;
> 
>      rct.left = hb_parni( 2 );
>      rct.top = hb_parni( 3 );
>      rct.right = hb_parni( 4 );
>      rct.bottom = hb_parni( 5 );
> 
>      FillRect( hDC, &rct, hBrush );
> 
>      DeleteObject( hBrush );
>   }
> }
> 
> HB_FUNC( WIN_LINETO )
> {
>   HDC hDC = win_HDC_par( 1 );
>   int x1 = hb_parni( 2 );
>   int y1 = hb_parni( 3 );
>   int x2 = hb_parni( 4 );
>   int y2 = hb_parni( 5 );
> 
>   hb_retl( hDC ? MoveToEx( hDC, x1, y1, NULL ) && LineTo( hDC, x2, y2 ) : 0 );
> }
> 
> HB_FUNC( WIN_RECTANGLE )
> {
>   HDC hDC = win_HDC_par( 1 );
>   int x1 = hb_parni( 2 );
>   int y1 = hb_parni( 3 );
>   int x2 = hb_parni( 4 );
>   int y2 = hb_parni( 5 );
>   int iWidth = hb_parni( 6 );
>   int iHeight = hb_parni( 7 );
> 
>   if( iWidth && iHeight )
>      hb_retl( hDC ? RoundRect( hDC, x1, y1, x2, y2, iWidth, iHeight ) : 0 );
>   else
>      hb_retl( hDC ? Rectangle( hDC, x1, y1, x2, y2 ) : 0 );
> }
> 
> HB_FUNC( WIN_ARC )
> {
>   HDC hDC = win_HDC_par( 1 );
> 
>   hb_retl( hDC ? Arc(  hDC /* hDC */,
>                        hb_parni( 2 ) /* x1 */,
>                        hb_parni( 3 ) /* y1 */,
>                        hb_parni( 4 ) /* x2 */,
>                        hb_parni( 5 ) /* y2 */,
>                        0,
>                        0,
>                        0,
>                        0 ) : 0 );
> }
> 
> HB_FUNC( WIN_ELLIPSE )
> {
>   HDC hDC = win_HDC_par( 1 );
> 
>   hb_retl( hDC ? Ellipse( hDC /* hDC */,
>                           hb_parni( 2 ) /* x1 */,
>                           hb_parni( 3 ) /* y1 */,
>                           hb_parni( 4 ) /* x2 */,
>                           hb_parni( 5 ) /* y2 */ ) : 0 );
> }
> 
> HB_FUNC( WIN_SETBKMODE )
> {
>   HDC hDC = win_HDC_par( 1 );
> 
>   hb_retnl( hDC ? SetBkMode( win_HDC_par( 1 ), hb_parnl( 2 ) ) : 0 );
> }
> 
> #endif
> <win_tprn1.zip>

From harbour.01 at syenar.hu  Sat Nov 21 22:10:13 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Nov 21 22:10:24 2009
Subject: [Harbour] llvm ident fixup
In-Reply-To: <alpine.DEB.2.00.0911220338270.11887@dawn.royalcomp.hu>
References: <alpine.DEB.2.00.0911220338270.11887@dawn.royalcomp.hu>
Message-ID: <1EE7493C-517F-4089-B6DE-3FC013DE2643@syenar.hu>

Hi Tamas,

OIndex: src/common/hbver.c
> 
> ===================================================================
> --- src/common/hbver.c	(revision 12965)
> +++ src/common/hbver.c	(working copy)
> @@ -623,11 +623,11 @@
>       pszName = "EMX/RSXNT/Win32 GNU C";
>    #elif defined( __EMX__ )
>       pszName = "EMX GNU C";
> -   #elif defined( __clang__ )
> -      #if defined( __llvm__ )
> -         pszName = "Clang/LLVM C";
> +   #elif defined( __llvm__ )
> +      #if defined( __clang__ )
> +         pszName = "LLVM/Clang  C";
>       #else
> -         pszName = "Clang/GNU C";
> +         pszName = "LLVM/GNU C";
>       #endif
>    #else
>       pszName = "GNU C";

Seems good to me, but we should also 
add non-LLVM Clang frontend to the mix.
(this still exists f.e. for C++ code)

I'll commit something pretty soon, pls 
take a look at it.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sat Nov 21 22:17:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 21 22:17:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12968] trunk/harbour
Message-ID: <E1NC2wz-0007IY-DU@c3vjzd1.ch3.sourceforge.com>

Revision: 12968
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12968&view=rev
Author:   vszakats
Date:     2009-11-22 03:17:20 +0000 (Sun, 22 Nov 2009)

Log Message:
-----------
2009-11-22 04:12 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn2.c
    % GETPRINTERS(): Changed to use printer list retrieving on NT 
      systems to the one used on Win9x systems. This greatly simplifies 
      the code.
    % GETPRINTERS(): Optimized out one PHB_ITEM variable.
    % GETPRINTERS(): Moved variables closer to their user blocks.
    * GETPRINTERS(): Using empty strings instead of inconsistent 
                     "Error"/"ERROR" texts on error.
                     (INCOMPATIBLE).
    ; Pls test.

  * src/common/hbver.c
    + Some changes to the way LLVM/CLang are detected. One 
      remaining combination was now added also.
      Pls review me.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/src/common/hbver.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Sat Nov 21 22:50:36 2009
From: jarabal at gmail.com (Xavi)
Date: Sat Nov 21 22:51:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12966] trunk/harbour
In-Reply-To: <FE6651C4-F8BF-4152-81F9-2814F85DA304@syenar.hu>
References: <E1NC1l3-0001kg-A2@3kljzd1.ch3.sourceforge.com>
	<4B08A397.9080705@gmail.com>
	<FE6651C4-F8BF-4152-81F9-2814F85DA304@syenar.hu>
Message-ID: <4B08B50C.4010801@gmail.com>

Viktor,

> simple multiple calls to WIN_CREATEFONT(), even 
> in single thread.

Sorry but I do not understand.
WIN_CREATEFONT() only has a live font eliminating the prior and this font is saved for each DCS to make sure it is removed.
It's the logic of the existing function maybe have to be called WIN_CREATEFONTWPDC :) because it is not a function of creating 
generic fonts rather to print fonts with TPrint()

-- 
Xavi

Viktor Szak?ts escribi?:
> Hi Xavi,
> 
> You've converted the static variable to a thread 
> protected variable, but this doesn't solve the 
> real problem. The real problem is not MT, but 
> simple multiple calls to WIN_CREATEFONT(), even 
> in single thread.
> 
> IMO we don't need any such heavy tricks here.
> Simply the interface should be descrambled so 
> that it gives back proper handles to caller code, 
> which stores these handles, and they're getting 
> released when going out of scope. Or, if two 
> Windows handles belong to one Harbour level 
> object, a helper structure should be used 
> in garbage collector functions and this way 
> it's possible to release both when the variable 
> goes out of scope.
> 
> [ I'm also not sure if it's correct to use 
> thread local variables is garbage collector 
> code, but it looks a bit suspicious, since 
> a value may be passed to other thread and 
> live there from that point. ]
> 
> Apologize if I'm missing something here, which 
> makes this case special, but I can't see it ATM.
> 
> Brgds,
> Viktor
> 

From lorenzo.fiorini at gmail.com  Sun Nov 22 02:53:48 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Nov 22 02:53:54 2009
Subject: [Harbour] hbqt success under Linux, Win, OSX and next step
Message-ID: <9257026e0911212353q49a02225w5042e5b7ad91629f@mail.gmail.com>

Today I've been able to build and run demoqt under Ubuntu 9.04, Win
XPSP3 and OSX 10.6 using the same harbour tree. I don't know the
status of the gc and memory related issues but the demoqt starts and
quits on all platforms without errors. The native look and feel is
really good and all the controls works as expected.

I wonder how many developers are "really" interested to invest time
and code in hbqt ( not only suggestions or requests ) and what are the
goals ( f.e "port xyz lib code to OSX" or "create new apps" or "port
CUI code to GUI" ).

Personally I'm much more interested in web technologies but I
understand that a multiplatform "Desktop GUI" is important for Harbour
and since there isn't a C5x GUI to use as blueprint, I hope that
instead to promptly start 5 different incompatible implementations (
in pure xBase style :) we'll take some time to think about how to
proceed.

best regards,
Lorenzo
From bedipritpal at hotmail.com  Sun Nov 22 03:12:13 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Nov 22 03:12:19 2009
Subject: [Harbour] hbqt success under Linux, Win, OSX and next step
In-Reply-To: <9257026e0911212353q49a02225w5042e5b7ad91629f@mail.gmail.com>
References: <9257026e0911212353q49a02225w5042e5b7ad91629f@mail.gmail.com>
Message-ID: <26463443.post@talk.nabble.com>


Hi Lorenzo


Lorenzo Fiorini-2 wrote:
> 
> Today I've been able to build and run demoqt under Ubuntu 9.04, Win
> XPSP3 and OSX 10.6 using the same harbour tree. I don't know the
> status of the gc and memory related issues but the demoqt starts and
> quits on all platforms without errors. The native look and feel is
> really good and all the controls works as expected.
> 

Can you forward your view points on demoxbp also.
This is more near to xbase syntax and probably the already documented 
class framework.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/hbqt-success-under-Linux%2C-Win%2C-OSX-and-next-step-tp26463380p26463443.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Sun Nov 22 03:15:36 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Nov 22 03:15:42 2009
Subject: [Harbour] hbqt success under Linux, Win, OSX and next step
In-Reply-To: <9257026e0911212353q49a02225w5042e5b7ad91629f@mail.gmail.com>
References: <9257026e0911212353q49a02225w5042e5b7ad91629f@mail.gmail.com>
Message-ID: <26463455.post@talk.nabble.com>


Hi


Lorenzo Fiorini-2 wrote:
> 
> Today I've been able to build and run demoqt under Ubuntu 9.04, Win
> XPSP3 and OSX 10.6 using the same harbour tree. I don't know the
> 

Also look at contrib/hbide.
This application is what I will be extending in future. Demoqt was only
a proof of concept, the real fruitation of the concepts lies in demoxbp or
hbide.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/hbqt-success-under-Linux%2C-Win%2C-OSX-and-next-step-tp26463380p26463455.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From calimero22 at freemail.it  Sun Nov 22 04:01:23 2009
From: calimero22 at freemail.it (calimero22@freemail.it)
Date: Sun Nov 22 04:01:30 2009
Subject: [Harbour] HB_GET
Message-ID: <20091122090123.C2961200A6AA@eva222.dadanet.it>

An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091122/1d9398dd/attachment.html
From harbour.01 at syenar.hu  Sun Nov 22 06:03:30 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 22 06:03:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12966] trunk/harbour
In-Reply-To: <4B08B50C.4010801@gmail.com>
References: <E1NC1l3-0001kg-A2@3kljzd1.ch3.sourceforge.com>
	<4B08A397.9080705@gmail.com>
	<FE6651C4-F8BF-4152-81F9-2814F85DA304@syenar.hu>
	<4B08B50C.4010801@gmail.com>
Message-ID: <10202817-4212-4FB4-AEC2-17C72F552A3D@syenar.hu>

> Sorry but I do not understand.
> WIN_CREATEFONT() only has a live font eliminating the prior and this font is saved for each DCS to make sure it is removed.
> It's the logic of the existing function maybe have to be called WIN_CREATEFONTWPDC :) because it is not a function of creating generic fonts rather to print fonts with TPrint()

I don't think so. Anyhow, I don't see a reason 
to make it complicated and mix the GC pointer 
concept with thread static variables either, it also 
seems wrongs, as AFAIU you can have multiple HDCs 
open in one thread, and HFONTs are paired with HDCs.

IMO the Harbour HDC/HFONT holder structure (the same 
you added) needs to be moved to GC.

[ Or (as you've suggested first), WIN_CREATEFONT() has to 
be changed to return HFONT, and let the higher level 
code handle these details, this makes the hbwin code 
simpler, but allows more mess ups on the app level. ]

Unfortunately I can't explain it better than I did, 
maybe someone else will.

Brgds,
Viktor

From ice at extreme.hu  Sun Nov 22 06:07:01 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sun Nov 22 06:07:10 2009
Subject: [Harbour] llvm ident fixup
In-Reply-To: <1EE7493C-517F-4089-B6DE-3FC013DE2643@syenar.hu>
References: <alpine.DEB.2.00.0911220338270.11887@dawn.royalcomp.hu>
	<1EE7493C-517F-4089-B6DE-3FC013DE2643@syenar.hu>
Message-ID: <alpine.DEB.2.00.0911221202420.11887@dawn.royalcomp.hu>

On Sun, 22 Nov 2009, Viktor Szak?ts wrote:

hi,

 > I'll commit something pretty soon, pls 
 > take a look at it.

it gives the expected results with llvm/g{cc,++}, thanks.

-- 
[-]

mkdir /nonexistent
From vszakats at users.sourceforge.net  Sun Nov 22 06:29:24 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 22 06:29:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12969] trunk/harbour
Message-ID: <E1NCAdA-0000BR-JW@74yxhf1.ch3.sourceforge.com>

Revision: 12969
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12969&view=rev
Author:   vszakats
Date:     2009-11-22 11:29:23 +0000 (Sun, 22 Nov 2009)

Log Message:
-----------
2009-11-22 12:29 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn2.c
    * Variables renamed to reflect their types.
    * Further cleanups.
    + Added TOFIX to use Harbour IO instead of win to read a disk file.
    * Changed to use HB_SIZE instead of ULONG for string lengths/sizes.
    + Added HB_SIZE casts to silence 64-bit warnings (to two places).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sun Nov 22 06:38:18 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Nov 22 06:38:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12970] trunk/harbour
Message-ID: <E1NCAlm-00065y-PR@3kljzd1.ch3.sourceforge.com>

Revision: 12970
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12970&view=rev
Author:   druzus
Date:     2009-11-22 11:38:17 +0000 (Sun, 22 Nov 2009)

Log Message:
-----------
2009-11-22 12:38 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  + harbour/config/linux/clang.mk
    + added support for CLANG in LINUX builds

  * harbour/include/hbatomic.h
    + added assembler code for SPINLOCKs in WATCOM x86 builds

  * harbour/src/vm/fm.c
    * enabled HB_FM_DLMT_ALLOC by default in MT HVM if HB_FM_DL_ALLOC is
      also enabled

  * harbour/src/vm/dlmalloc.c
    * modifications for non MS-Windows WATCOM builds
      TOFIX: now it compiles in Linux and OS2 builds but it still does not
             work

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbatomic.h
    trunk/harbour/src/vm/dlmalloc.c
    trunk/harbour/src/vm/fm.c

Added Paths:
-----------
    trunk/harbour/config/linux/clang.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Nov 22 06:53:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 22 06:53:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12971] trunk/harbour
Message-ID: <E1NCB06-0000Xd-PA@74yxhf1.ch3.sourceforge.com>

Revision: 12971
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12971&view=rev
Author:   vszakats
Date:     2009-11-22 11:53:05 +0000 (Sun, 22 Nov 2009)

Log Message:
-----------
2009-11-22 12:43 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn2.c
    + PRINTFILERAW(): Changed to use Harbour File I/O API instead
      of Windows one to read from a disk file.
    * More variable name / macro usage cleanup.

    ! TOFIX: PRINTFILERAW() has suspicious code aiming to delete 
      Chr( 26 ) from input files. In current implementation it can 
      strip Chr( 26 ) even from inside the file if the file is 
      larger than read buffer, which means it will corrupt input 
      and may cause wrong output to be printed (f.e. if that Chr( 26 ) 
      is part of a printer control char sequence).

  * INSTALL
    + Added linux/clang to the target mix.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbwin/win_prn2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Nov 22 06:58:47 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 22 06:58:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
Message-ID: <E1NCB5b-0000d6-1M@74yxhf1.ch3.sourceforge.com>

Revision: 12972
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12972&view=rev
Author:   vszakats
Date:     2009-11-22 11:58:46 +0000 (Sun, 22 Nov 2009)

Log Message:
-----------
2009-11-22 12:58 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added support for linux/clang. (untested)
      (what package has to be installed? I installed llvm yesterday, 
      but couldn't find clang on Ubuntu)

  * config/linux/clang.mk
    ! Added SVN props.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/linux/clang.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg

Property Changed:
----------------
    trunk/harbour/config/linux/clang.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Nov 22 06:59:49 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 22 06:59:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12971] trunk/harbour
In-Reply-To: <E1NCB06-0000Xd-PA@74yxhf1.ch3.sourceforge.com>
References: <E1NCB06-0000Xd-PA@74yxhf1.ch3.sourceforge.com>
Message-ID: <7C8C447F-4BD1-4CDD-81A9-5EAC3AA98E0B@syenar.hu>

> 2009-11-22 12:43 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * contrib/hbwin/win_prn2.c
>    + PRINTFILERAW(): Changed to use Harbour File I/O API instead
>      of Windows one to read from a disk file.

Window users please test above as I didn't.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Sun Nov 22 07:06:32 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Nov 22 07:06:38 2009
Subject: [Harbour] hbqt success under Linux, Win, OSX and next step
In-Reply-To: <26463443.post@talk.nabble.com>
References: <9257026e0911212353q49a02225w5042e5b7ad91629f@mail.gmail.com>
	<26463443.post@talk.nabble.com>
Message-ID: <9257026e0911220406h2391995aif48d05a616260dfa@mail.gmail.com>

On Sun, Nov 22, 2009 at 9:12 AM, Pritpal Bedi <bedipritpal@hotmail.com> wrote:

> Can you forward your view points on demoxbp also.
> This is more near to xbase syntax and probably the already documented
> class framework.

This is one point: the relationship between hbqt and hbxbp.

I've never used xbase so for me the syntax and the classes of hbqt are
closer to GTK and Java ( the GUIs that I have used ) than xbp ones.

I've always liked xhgtk because it follows closely GTK standards at
the point that is possible to use the documentation of GTK to learn
xhgtk and I'm not surprised that  Marcos Antonio Gambeta continues
this clever path.

I understand that we need to find a "path" between harbour UI objects
( says, gets, tbrowses ) and hbqt and if the group agree that this is
hbxbp it's ok for me, but I'd ask to consider also alternative paths.

Clearly hbxbp has a great value if you have xbp code but we need to
define what happens when we need to change it or extend it.
Stating "let's use it because it's documented" implies "we'll follow
it now and in the future".
Are we sure we want to have an UI defined and updated elsewhere?

best regards,
Lorenzo
From ice at extreme.hu  Sun Nov 22 07:07:21 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sun Nov 22 07:07:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
In-Reply-To: <E1NCB5b-0000d6-1M@74yxhf1.ch3.sourceforge.com>
References: <E1NCB5b-0000d6-1M@74yxhf1.ch3.sourceforge.com>
Message-ID: <alpine.DEB.2.00.0911221303200.11887@dawn.royalcomp.hu>

On Sun, 22 Nov 2009, vszakats@users.sourceforge.net wrote:

 >     + Added support for linux/clang. (untested)
 >       (what package has to be installed? I installed llvm yesterday, 
 >       but couldn't find clang on Ubuntu)

it's not there afaict. what is there is llvm-gcc-4.2, but the package 
in 9.10 (curiously it was good in earlier bubuntus, talk about qa) is 
fubar, you will have to add /usr/lib/llvm/llvm/gcc-4.2/bin to your 
$PATH (or symlink stuff in there to someplace that is in your path) 
for it to be able to work.

could you also add this (llvm-gcc) target to the mix? for all intents 
and purposes, it is the very same as the gcc target, except compilers 
being llvm-gcc and llvm-g++ instead of gcc and g++, respectively.

-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Sun Nov 22 07:18:59 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 22 07:19:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0911221303200.11887@dawn.royalcomp.hu>
References: <E1NCB5b-0000d6-1M@74yxhf1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0911221303200.11887@dawn.royalcomp.hu>
Message-ID: <81017108-A66E-40F6-B009-10FB6ABE5725@syenar.hu>

>>    + Added support for linux/clang. (untested)
>>      (what package has to be installed? I installed llvm yesterday, 
>>      but couldn't find clang on Ubuntu)
> 
> it's not there afaict. what is there is llvm-gcc-4.2, but the package 
> in 9.10 (curiously it was good in earlier bubuntus, talk about qa) is 
> fubar, you will have to add /usr/lib/llvm/llvm/gcc-4.2/bin to your 
> $PATH (or symlink stuff in there to someplace that is in your path) 
> for it to be able to work.

Thanks for the tip, I missed exactly that bit yesterday 
when my first tests went wrong.

> could you also add this (llvm-gcc) target to the mix? for all intents 
> and purposes, it is the very same as the gcc target, except compilers 
> being llvm-gcc and llvm-g++ instead of gcc and g++, respectively.

Can you try if it works by setting HB_CCPREFIX=llvm- 
and using gcc target? If this seems ok, I may add it, 
I'm thinking of a wrapper to gcc.mk to keep redundancy 
low.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Nov 22 07:21:00 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 22 07:21:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12973] trunk/harbour
Message-ID: <E1NCBR6-0000fr-GD@dn4whf1.ch3.sourceforge.com>

Revision: 12973
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12973&view=rev
Author:   vszakats
Date:     2009-11-22 12:20:59 +0000 (Sun, 22 Nov 2009)

Log Message:
-----------
2009-11-22 13:20 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn2.c
    * More cleanups (name usage mainly).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Nov 22 07:27:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 22 07:27:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12974] trunk/harbour
Message-ID: <E1NCBX7-0000qc-1l@dn4whf1.ch3.sourceforge.com>

Revision: 12974
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12974&view=rev
Author:   vszakats
Date:     2009-11-22 12:27:12 +0000 (Sun, 22 Nov 2009)

Log Message:
-----------
2009-11-22 13:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn2.c
    * And some more cleanups (name usage mainly). Hopefully the 
      last one around this area.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Sun Nov 22 07:48:13 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Nov 22 07:48:20 2009
Subject: [Harbour] Problem in OLE implementation
Message-ID: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>

In the following sample, GetRows() method returns NIL (correctly returns an 
array using xHarbour):

function main()

   local oCn, oRs, aRows

   oCn   := CreateObject( 'ADODB.Connection' )
   oCn:ConnectionString := "Provider=Microsoft.Jet.OLEDB.4.0;Data 
Source=e:\fwharbour\samples\xbrtest.mdb;User Id=admin;Password=;"
   oCn:Open()
   if oCn:State == 1
      ? 'Connection Open'
      oRs                  := TOleAuto():New( 'ADODB.RecordSet' )
      oRs:ActiveConnection := oCn
      oRs:Source           := 'CUSTOMER'
      oRs:CursorLocation   := 3  // adUseClient
      oRs:LockType         := 3  // adLockOptimistic

      oRs:Open()
      if oRs:State > 0
         ? 'Recordset Open'
         ? 'RecordCount = ', oRs:RecordCount()
         oRs:MoveFirst()
         aRows             := oRs:GetRows()
         oRs:MoveFirst()
         if ValType( aRows ) == 'A'
            ? 'oRs:GetRows Successful'
            ? 'Len( aRows ) =', Len( aRows )
            ? 'oRs:Fields(0):Value=', oRs:Fields(0):Value
            ? 'aRows[1][1]=', aRows[1][1]
         elseif aRows == nil
            ? 'oRs:GetRows returned nil'
         else
            ? 'oRs:GetRows return type =', ValType( aRows )
         endif
         oRs:Close()
      else
         ? 'RecordSet Open Fail'
      endif
      oCn:Close()
   else
      ? 'Connection Open Fail'
   endif

   inkey( 0 )

return nil

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From ice at extreme.hu  Sun Nov 22 08:16:59 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sun Nov 22 08:17:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
In-Reply-To: <81017108-A66E-40F6-B009-10FB6ABE5725@syenar.hu>
References: <E1NCB5b-0000d6-1M@74yxhf1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0911221303200.11887@dawn.royalcomp.hu>
	<81017108-A66E-40F6-B009-10FB6ABE5725@syenar.hu>
Message-ID: <alpine.DEB.2.00.0911221401130.11887@dawn.royalcomp.hu>

On Sun, 22 Nov 2009, Viktor Szak?ts wrote:

 > > could you also add this (llvm-gcc) target to the mix? for all intents 
 > > and purposes, it is the very same as the gcc target, except compilers 
 > > being llvm-gcc and llvm-g++ instead of gcc and g++, respectively.
 > 
 > Can you try if it works by setting HB_CCPREFIX=llvm- 
 > and using gcc target? If this seems ok, I may add it, 

no, it doesn't:

HB_BUILD_DEBUG=yes
HB_CONTRIBLIBS=no
HB_COMMERCE=yes
HB_INSTALL_PREFIX=/home/ice/w/xhb/hbci/inst/linux/gcc/c
HB_COMPILER=gcc
HB_BUILD_MODE=c
HB_BUILD_OPTIM=no
HB_PLATFORM=linux
HB_CCPREFIX=llvm-
===
! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
! MAKE: make 3.81 /bin/sh   
! HB_INSTALL_PREFIX: /home/ice/w/xhb/hbci/inst/linux/gcc/c
! HB_BUILD_DEBUG: yes
! HB_BUILD_OPTIM: no
! HB_BUILD_MODE: c
! HB_CONTRIBLIBS: no
! HB_HOST_PLAT: linux (x86_64)  HB_SHELL: sh
! HB_PLATFORM: linux (x86_64) 
! HB_COMPILER: gcc 
! Component: 'zlib' found in /usr/include 
! Component: 'pcre' found in /usr/include 
! Component: 'openssl' found in /usr/include 
! Component: 'gpm' explicitly disabled
! Component: 'slang' explicitly disabled
! Component: 'curses' found in /usr/include 
! Component: 'x11' found in /usr/include 
! Component: 'wattcp/watt-32' not supported on linux platform
! REVISION: 12974
make[2]: Nothing to be done for `all'.
make[1]: Nothing to be done for `all'.
llvm-gcc  -I. -I../../../../../include  -g -DHB_TR_LEVEL_DEBUG  -I/usr/include -I/usr/include  -o_hbhbpdf.o -c ../../../_hbhbpdf.c
[...]
llvm-gcc  -I. -I../../../../../include  -Wall -W -g -DHB_TR_LEVEL_DEBUG   -ostrwild_dyn.o -DHB_DYNLIB -fpic -c ../../../strwild.c
( llvm-ar   rcs ../../../../../lib/linux/gcc/libhbcommon.a expropt1.o expropt2.o hbffind.o hbfopen.o hbfsapi.o hbgete.o hbwince.o hbhash.o hbprintf.o hbstr.o hbdate.o hbmem.o hbtrace.o hbver.o hbverdsp.o hbarch.o reserved.o strwild.o  ) || ( rm -f ../../../../../lib/linux/gcc/libhbcommon.a && false )
llvm-gcc  -I. -I../../../../../include  -Wall -W -g -DHB_TR_LEVEL_DEBUG   -onortl.o -c ../../../nortl.c
( llvm-ar   rcs ../../../../../lib/linux/gcc/libhbnortl.a nortl.o  ) || ( rm -f ../../../../../lib/linux/gcc/libhbnortl.a && false )
llvm-gcc  -I. -I../../../../../include  -Wall -W -g -DHB_TR_LEVEL_DEBUG   -ohbpp.o -c ../../../hbpp.c
llvm-gcc  -I. -I../../../../../include  -Wall -W -g -DHB_TR_LEVEL_DEBUG   -ohbpp_dyn.o -DHB_DYNLIB -fpic -c ../../../hbpp.c
llvm-gcc  -Wall -W -g  -L../../../../../lib/linux/gcc   -o../../../../../bin/linux/gcc/hbpp hbpp.o -lhbnortl -lhbcommon -lm ../../../../../lib/linux/gcc/libhbnortl.a: could not read symbols: Archive has no index; run ranlib to add one
collect2: ld returned 1 exit status
make[3]: *** [hbpp] Error 1
rm hbpp.o
make[2]: *** [descend] Error 2
make[1]: *** [pp] Error 2
make: *** [src] Error 2

but using this:

--- gcc.mk      2009-11-22 14:00:24.000000000 +0100
+++ llvm-gcc.mk 2009-11-22 14:03:30.000000000 +0100
@@ -3,9 +3,9 @@
 #
 
 ifeq ($(HB_BUILD_MODE),cpp)
-   HB_CMP := g++
+   HB_CMP := llvm-g++
 else
-   HB_CMP := gcc
+   HB_CMP := llvm-gcc
 endif
 
 OBJ_EXT := .o

it does (HB_COMPILER=llvm-gcc). i have no idea what the essential 
difference is, but this way it does, HB_CCPREFIX way it doesn't. i've 
also modified postinst.sh like

Index: postinst.sh
===================================================================
--- postinst.sh (revision 12974)
+++ postinst.sh (working copy)
@@ -49,7 +49,8 @@
    [ "$HB_COMPILER" = "cygwin" ] || \
    [ "$HB_COMPILER" = "djgpp" ] || \
    [ "$HB_COMPILER" = "icc" ] || \
-   [ "$HB_COMPILER" = "sunpro" ]
+   [ "$HB_COMPILER" = "sunpro" ] || \
+   [ "$HB_COMPILER" = "llvm-gcc" ]
 then
     if [ -n "${HB_TOOLS_PREF}" ]; then
         
hb_mkdyn="${HB_INST_PKGPREF}${HB_BIN_INSTALL}/${HB_TOOLS_PREF}-mkdyn"

this, and the installed tree seems mostly ok (what not ok is the 
dynlib link generation, which is probably due to hb-mkdyn.sh also in 
need of some massaging).

full build logs of both cases are available if needed (my build tests 
only do hb core, ie. no contribs or anything).

-- 
[-]

mkdir /nonexistent
From dbtopas at dbtopas.lt  Sun Nov 22 09:04:16 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sun Nov 22 09:06:24 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>
Message-ID: <4B0944E0.5060101@dbtopas.lt>

Hi,


Enrico Maria Giordano wrote:
> In the following sample, GetRows() method returns NIL (correctly returns 
> an array using xHarbour):


Can you provide some file to be tested using the following sample? In my 
case sample does not work because e:\fwharbour\samples\xbrtest.mdb does 
not exist.


Regards,
Mindaugas
From e.m.giordano at emagsoftware.it  Sun Nov 22 09:26:02 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Sun Nov 22 09:26:13 2009
Subject: [Harbour] Problem in OLE implementation
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>
	<4B0944E0.5060101@dbtopas.lt>
Message-ID: <4607596E01AF49ABA5B0EBEAC84B11E8@emag>


-----Messaggio Originale----- 
Da: "Mindaugas Kavaliauskas" <dbtopas@dbtopas.lt>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: domenica 22 novembre 2009 15.04
Oggetto: Re: [Harbour] Problem in OLE implementation


> Can you provide some file to be tested using the following sample? In my 
> case sample does not work because e:\fwharbour\samples\xbrtest.mdb does 
> not exist.

Attached.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic
-------------- next part --------------
A non-text attachment was scrubbed...
Name: xbrtestmdb.zip
Type: application/x-zip-compressed
Size: 31662 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091122/a1b60ca3/xbrtestmdb-0001.bin
From tech at 2dinfo.com.br  Sun Nov 22 11:12:39 2009
From: tech at 2dinfo.com.br (Tecnologia)
Date: Sun Nov 22 10:13:10 2009
Subject: [Harbour] hbqt success under Linux, Win, OSX and next step
In-Reply-To: <9257026e0911212353q49a02225w5042e5b7ad91629f@mail.gmail.com>
References: <9257026e0911212353q49a02225w5042e5b7ad91629f@mail.gmail.com>
Message-ID: <09BBA41FED7E427A93618B627172906F@noteleo>

Lorenzo Fiorini wrote:

> Today I've been able to build and run demoqt under Ubuntu 9.04, Win
> XPSP3 and OSX 10.6 using the same harbour tree. I don't know the
> status of the gc and memory related issues but the demoqt starts and
> quits on all platforms without errors. The native look and feel is
> really good and all the controls works as expected.

What are the differences between Qt and wxWidgets?

After installing qt 4.5 sdk, "mingw32-make -f makefile" in hbqt folder, 
results in the message below.
How can I build hbqt in windows with bcc or mingw?

Thank you
Leandro

==============================================================================
C:\harbour\contrib\hbqt>mingw32-make -f makefile
! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
! MAKE: mingw32-make 3.81 sh.exe
! HB_INSTALL_PREFIX: c:\harbour
! HB_LIB_INSTALL: c:\harbour\lib
! HB_INC_INSTALL: c:\harbour\include
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
! HB_PLATFORM: win (x86) (autodetected)
! HB_COMPILER: mingw
! Component: 'zlib' found in C:/harbour/external/zlib (local)
! Component: 'pcre' found in C:/harbour/external/pcre (local)
! Component: 'openssl' not found
! Component: 'gpm' not supported on win platform
! Component: 'slang' not found
! Component: 'curses' not found
! Component: 'x11' not found
! Component: 'wattcp/watt-32' not supported on win platform
! 'hbqt' library skipped ('qt' not found)
 

From jarabal at gmail.com  Sun Nov 22 11:11:47 2009
From: jarabal at gmail.com (Xavi)
Date: Sun Nov 22 11:13:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12966] trunk/harbour
In-Reply-To: <10202817-4212-4FB4-AEC2-17C72F552A3D@syenar.hu>
References: <E1NC1l3-0001kg-A2@3kljzd1.ch3.sourceforge.com>
	<4B08A397.9080705@gmail.com>
	<FE6651C4-F8BF-4152-81F9-2814F85DA304@syenar.hu>
	<4B08B50C.4010801@gmail.com>
	<10202817-4212-4FB4-AEC2-17C72F552A3D@syenar.hu>
Message-ID: <4B0962C3.4040604@gmail.com>

Viktor,

> I don't think so. Anyhow, I don't see a reason 
> to make it complicated and mix the GC pointer 
> concept with thread static variables either, it also 
> seems wrongs, as AFAIU you can have multiple HDCs 
> open in one thread, and HFONTs are paired with HDCs.

I just them trying to correct existing C code and do them 100% compatible with existing programs: win_tprn.prg and win_prn1.c
not is my analysis. Now, with the existing code in the repository, TPrinter WIN_PRN increases GDIs objects because it's
impossible eliminate the font created when creating the class or calling WIN_CREATEFONT, this is a bug, AFAIK.

> [ Or (as you've suggested first), WIN_CREATEFONT() has to 
> be changed to return HFONT, and let the higher level 
> code handle these details, this makes the hbwin code 
> simpler, but allows more mess ups on the app level. ]

Yes but would not be compatible with existing code ( I remember __hrbLoad :) and also introduces an interesting exercise, BTW.

IMHO we could corrected or changed if new bugs are found or we opt for a better solution, this is the repository concept and so
we can *learn*. Return hFont and create a DESTRUCTOR for TPrinter() to remove hFont is not difficult but I think we miss an
opportunity.

Best regards,
-- 
Xavi


From harbour.01 at syenar.hu  Sun Nov 22 11:35:36 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Nov 22 11:35:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12966] trunk/harbour
In-Reply-To: <4B0962C3.4040604@gmail.com>
References: <E1NC1l3-0001kg-A2@3kljzd1.ch3.sourceforge.com>
	<4B08A397.9080705@gmail.com>
	<FE6651C4-F8BF-4152-81F9-2814F85DA304@syenar.hu>
	<4B08B50C.4010801@gmail.com>
	<10202817-4212-4FB4-AEC2-17C72F552A3D@syenar.hu>
	<4B0962C3.4040604@gmail.com>
Message-ID: <B9F67FAC-960F-4F1F-9EDE-0B0CA357AA74@syenar.hu>

>> I don't think so. Anyhow, I don't see a reason to make it complicated and mix the GC pointer concept with thread static variables either, it also seems wrongs, as AFAIU you can have multiple HDCs open in one thread, and HFONTs are paired with HDCs.
> 
> I just them trying to correct existing C code and do them 100% compatible with existing programs: win_tprn.prg and win_prn1.c
> not is my analysis. Now, with the existing code in the repository, TPrinter WIN_PRN increases GDIs objects because it's
> impossible eliminate the font created when creating the class or calling WIN_CREATEFONT, this is a bug, AFAIK.

I perfectly understand this.

>> [ Or (as you've suggested first), WIN_CREATEFONT() has to be changed to return HFONT, and let the higher level code handle these details, this makes the hbwin code simpler, but allows more mess ups on the app level. ]
> 
> Yes but would not be compatible with existing code ( I remember __hrbLoad :) and also introduces an interesting exercise, BTW.
> 
> IMHO we could corrected or changed if new bugs are found or we opt for a better solution, this is the repository concept and so
> we can *learn*. Return hFont and create a DESTRUCTOR for TPrinter() to remove hFont is not difficult but I think we miss an
> opportunity.

Please note it's not a coincidence I told you to feel 
free modifying WIN_CREATEFONT(). Compatibility in this 
case is secondary, firstly the name of the function 
changed 2 times in the last 1.5 years (without any 
complaint), second, in xhb (where this function comes 
from originally), this function is _not even a public one_.
Hence: compatibility is secondary, I guesstimate that 
waste majority of users use it via the .prg level class.

But, I believe it's possible to solve it using the method 
I outlined. It's up to you to consider them.

I can't add more to this thread at this point.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Nov 22 12:12:35 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 22 12:12:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12975] trunk/harbour
Message-ID: <E1NCFzH-00055T-Je@bj8yhf1.ch3.sourceforge.com>

Revision: 12975
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12975&view=rev
Author:   vszakats
Date:     2009-11-22 17:12:34 +0000 (Sun, 22 Nov 2009)

Log Message:
-----------
2009-11-22 17:57 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn2.c
    ! Fixed to use hb_xfree() instead of HB_TCHAR_FREE() where 
      allocation is done using hb_xgrab(). This could pbly 
      cause leaks in some rare cases.
    % PRINTEREXISTS() now uses the same method on NT and Win9x 
      systems.
    * XISPRINTER() will now fall back to default printer also 
      when an empty string is passed as parameter.
    * Some minor variable declaration, initialization and naming 
      cleanups and optimizations.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Sun Nov 22 12:25:13 2009
From: Istvan.Bisz at t-online.hu (=?UTF-8?Q?Bisz_Istv=C3=A1n?=)
Date: Sun Nov 22 12:25:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12974] trunk/harbour
In-Reply-To: <E1NCBX7-0000qc-1l@dn4whf1.ch3.sourceforge.com>
References: <E1NCBX7-0000qc-1l@dn4whf1.ch3.sourceforge.com>
Message-ID: <001601ca6b98$c06906f0$413b14d0$@Bisz@t-online.hu>

Hi,

On Fedora 12 we have now:

native build (gcc):
Information for build gcc-4.4.2-10.fc12
ID 141251
Package Name gcc
Version 4.4.2
Release 10.fc12
================================================
Clean build without errors or warnings
================================================

native build (clang):
Information for build llvm-2.6-0.5.pre1.fc12
ID 131354
Package Name llvm
Version 2.6
Release 0.5.pre1.fc12 
================================================
Clean build without errors just some warnings and one strange issue, see below:

../../../sqlite3.c:46237:3: warning: expression result unused [-Wunused-value]
  expandBlob(pMem);
  ^~~~~~~~~~~~~~~~
../../../sqlite3.c:46136:74: note: instantiated from:
#define expandBlob(P) (((P)->flags&MEM_Zero)?sqlite3VdbeMemExpandBlob(P):0)
                                                                         ^
../../../sqlite3.c:47057:3: warning: expression result unused [-Wunused-value]
  expandBlob(pVal);
  ^~~~~~~~~~~~~~~~
../../../sqlite3.c:46136:74: note: instantiated from:
#define expandBlob(P) (((P)->flags&MEM_Zero)?sqlite3VdbeMemExpandBlob(P):0)
                                                                         ^
../../../sqlite3.c:53779:5: warning: expression result unused [-Wunused-value]
    ExpandBlob(pIn1);
    ^~~~~~~~~~~~~~~~
../../../sqlite3.c:51635:74: note: instantiated from:
#define ExpandBlob(P) (((P)->flags&MEM_Zero)?sqlite3VdbeMemExpandBlob(P):0)
                                                                         ^
../../../sqlite3.c:53780:5: warning: expression result unused [-Wunused-value]
    ExpandBlob(pIn3);
    ^~~~~~~~~~~~~~~~
../../../sqlite3.c:51635:74: note: instantiated from:
#define ExpandBlob(P) (((P)->flags&MEM_Zero)?sqlite3VdbeMemExpandBlob(P):0)
                                                                         ^
../../../sqlite3.c:54354:5: warning: expression result unused [-Wunused-value]
    ExpandBlob(u.an.pRec);
    ^~~~~~~~~~~~~~~~~~~~~
../../../sqlite3.c:51635:74: note: instantiated from:
#define ExpandBlob(P) (((P)->flags&MEM_Zero)?sqlite3VdbeMemExpandBlob(P):0)
                                                                         ^
../../../sqlite3.c:55446:5: warning: expression result unused [-Wunused-value]
    ExpandBlob(pIn3);
    ^~~~~~~~~~~~~~~~
../../../sqlite3.c:51635:74: note: instantiated from:
#define ExpandBlob(P) (((P)->flags&MEM_Zero)?sqlite3VdbeMemExpandBlob(P):0)
                                                                         ^
6 diagnostics generated.
================================================

Windows cross build (mingw):
Information for build mingw32-gcc-4.4.1-3.fc12
ID 132548
Package Name mingw32-gcc
Version 4.4.1
Release 3.fc12
================================================
Clean build without errors just some warnings:
../../../win_prn2.c: In function 'int hb_PrintFileRaw(const char*, const char*, const char*)':
../../../win_prn2.c:442: warning: deprecated conversion from string constant to 'WCHAR*'
================================================

The clang build is executed with 'export HB_WITH_QT=no'. Without this setting, very strange, the clang itself crashes, maybe I am fault, I don't know the statuses of the other distros.

Best regards,
Istv?n


From harbour.01 at syenar.hu  Sun Nov 22 12:29:49 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 22 12:30:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0911221401130.11887@dawn.royalcomp.hu>
References: <E1NCB5b-0000d6-1M@74yxhf1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0911221303200.11887@dawn.royalcomp.hu>
	<81017108-A66E-40F6-B009-10FB6ABE5725@syenar.hu>
	<alpine.DEB.2.00.0911221401130.11887@dawn.royalcomp.hu>
Message-ID: <6221ED36-4E1D-417F-90B6-1FA53448D209@syenar.hu>

Thanks. I could only guess here, so I'll leave addition 
of llvmgcc.mk for someone else. (just please don't add 
a dash in the HB_COMPILER name).

Brgds,
Viktor

On 2009 Nov 22, at 14:16, Tamas TEVESZ wrote:

> On Sun, 22 Nov 2009, Viktor Szak?ts wrote:
> 
>>> could you also add this (llvm-gcc) target to the mix? for all intents 
>>> and purposes, it is the very same as the gcc target, except compilers 
>>> being llvm-gcc and llvm-g++ instead of gcc and g++, respectively.
>> 
>> Can you try if it works by setting HB_CCPREFIX=llvm- 
>> and using gcc target? If this seems ok, I may add it, 
> 
> no, it doesn't:
> 
> HB_BUILD_DEBUG=yes
> HB_CONTRIBLIBS=no
> HB_COMMERCE=yes
> HB_INSTALL_PREFIX=/home/ice/w/xhb/hbci/inst/linux/gcc/c
> HB_COMPILER=gcc
> HB_BUILD_MODE=c
> HB_BUILD_OPTIM=no
> HB_PLATFORM=linux
> HB_CCPREFIX=llvm-
> ===
> ! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
> ! MAKE: make 3.81 /bin/sh   
> ! HB_INSTALL_PREFIX: /home/ice/w/xhb/hbci/inst/linux/gcc/c
> ! HB_BUILD_DEBUG: yes
> ! HB_BUILD_OPTIM: no
> ! HB_BUILD_MODE: c
> ! HB_CONTRIBLIBS: no
> ! HB_HOST_PLAT: linux (x86_64)  HB_SHELL: sh
> ! HB_PLATFORM: linux (x86_64) 
> ! HB_COMPILER: gcc 
> ! Component: 'zlib' found in /usr/include 
> ! Component: 'pcre' found in /usr/include 
> ! Component: 'openssl' found in /usr/include 
> ! Component: 'gpm' explicitly disabled
> ! Component: 'slang' explicitly disabled
> ! Component: 'curses' found in /usr/include 
> ! Component: 'x11' found in /usr/include 
> ! Component: 'wattcp/watt-32' not supported on linux platform
> ! REVISION: 12974
> make[2]: Nothing to be done for `all'.
> make[1]: Nothing to be done for `all'.
> llvm-gcc  -I. -I../../../../../include  -g -DHB_TR_LEVEL_DEBUG  -I/usr/include -I/usr/include  -o_hbhbpdf.o -c ../../../_hbhbpdf.c
> [...]
> llvm-gcc  -I. -I../../../../../include  -Wall -W -g -DHB_TR_LEVEL_DEBUG   -ostrwild_dyn.o -DHB_DYNLIB -fpic -c ../../../strwild.c
> ( llvm-ar   rcs ../../../../../lib/linux/gcc/libhbcommon.a expropt1.o expropt2.o hbffind.o hbfopen.o hbfsapi.o hbgete.o hbwince.o hbhash.o hbprintf.o hbstr.o hbdate.o hbmem.o hbtrace.o hbver.o hbverdsp.o hbarch.o reserved.o strwild.o  ) || ( rm -f ../../../../../lib/linux/gcc/libhbcommon.a && false )
> llvm-gcc  -I. -I../../../../../include  -Wall -W -g -DHB_TR_LEVEL_DEBUG   -onortl.o -c ../../../nortl.c
> ( llvm-ar   rcs ../../../../../lib/linux/gcc/libhbnortl.a nortl.o  ) || ( rm -f ../../../../../lib/linux/gcc/libhbnortl.a && false )
> llvm-gcc  -I. -I../../../../../include  -Wall -W -g -DHB_TR_LEVEL_DEBUG   -ohbpp.o -c ../../../hbpp.c
> llvm-gcc  -I. -I../../../../../include  -Wall -W -g -DHB_TR_LEVEL_DEBUG   -ohbpp_dyn.o -DHB_DYNLIB -fpic -c ../../../hbpp.c
> llvm-gcc  -Wall -W -g  -L../../../../../lib/linux/gcc   -o../../../../../bin/linux/gcc/hbpp hbpp.o -lhbnortl -lhbcommon -lm ../../../../../lib/linux/gcc/libhbnortl.a: could not read symbols: Archive has no index; run ranlib to add one
> collect2: ld returned 1 exit status
> make[3]: *** [hbpp] Error 1
> rm hbpp.o
> make[2]: *** [descend] Error 2
> make[1]: *** [pp] Error 2
> make: *** [src] Error 2
> 
> but using this:
> 
> --- gcc.mk      2009-11-22 14:00:24.000000000 +0100
> +++ llvm-gcc.mk 2009-11-22 14:03:30.000000000 +0100
> @@ -3,9 +3,9 @@
> #
> 
> ifeq ($(HB_BUILD_MODE),cpp)
> -   HB_CMP := g++
> +   HB_CMP := llvm-g++
> else
> -   HB_CMP := gcc
> +   HB_CMP := llvm-gcc
> endif
> 
> OBJ_EXT := .o
> 
> it does (HB_COMPILER=llvm-gcc). i have no idea what the essential 
> difference is, but this way it does, HB_CCPREFIX way it doesn't. i've 
> also modified postinst.sh like
> 
> Index: postinst.sh
> ===================================================================
> --- postinst.sh (revision 12974)
> +++ postinst.sh (working copy)
> @@ -49,7 +49,8 @@
>    [ "$HB_COMPILER" = "cygwin" ] || \
>    [ "$HB_COMPILER" = "djgpp" ] || \
>    [ "$HB_COMPILER" = "icc" ] || \
> -   [ "$HB_COMPILER" = "sunpro" ]
> +   [ "$HB_COMPILER" = "sunpro" ] || \
> +   [ "$HB_COMPILER" = "llvm-gcc" ]
> then
>     if [ -n "${HB_TOOLS_PREF}" ]; then
> 
> hb_mkdyn="${HB_INST_PKGPREF}${HB_BIN_INSTALL}/${HB_TOOLS_PREF}-mkdyn"
> 
> this, and the installed tree seems mostly ok (what not ok is the 
> dynlib link generation, which is probably due to hb-mkdyn.sh also in 
> need of some massaging).
> 
> full build logs of both cases are available if needed (my build tests 
> only do hb core, ie. no contribs or anything).
> 
> -- 
> [-]
> 
> mkdir /nonexistent
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Nov 22 12:39:43 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 22 12:39:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12974] trunk/harbour
In-Reply-To: <001601ca6b98$c06906f0$413b14d0$@Bisz@t-online.hu>
References: <E1NCBX7-0000qc-1l@dn4whf1.ch3.sourceforge.com>
	<001601ca6b98$c06906f0$413b14d0$@Bisz@t-online.hu>
Message-ID: <80D5EAC2-B0D1-4917-9B9C-FE7DBB972588@syenar.hu>

> ================================================
> 
> Windows cross build (mingw):
> Information for build mingw32-gcc-4.4.1-3.fc12
> ID 132548
> Package Name mingw32-gcc
> Version 4.4.1
> Release 3.fc12
> ================================================
> Clean build without errors just some warnings:
> ../../../win_prn2.c: In function 'int hb_PrintFileRaw(const char*, const char*, const char*)':
> ../../../win_prn2.c:442: warning: deprecated conversion from string constant to 'WCHAR*'
> ================================================

Is it this line?:
DocInfo.pDatatype = TEXT( "RAW" );

Strangely I'm not getting it with mingw 4.4.1 (on Windows), 
not even in UNICODE mode.

I'm passing this on, any idea?

Brgds,
Viktor

From bruno.luciani at gmail.com  Sun Nov 22 13:14:07 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Nov 22 13:14:15 2009
Subject: [Harbour] To Pritpal about hbide
In-Reply-To: <6943770e0911211020mcf2f77eid6569432adb7b46f@mail.gmail.com>
References: <6943770e0911200814p5c55c021g7f5a6682c57858e8@mail.gmail.com>
	<609353e70911210415i26823b9ag5c3fc88f26b3e5bf@mail.gmail.com>
	<6943770e0911211020mcf2f77eid6569432adb7b46f@mail.gmail.com>
Message-ID: <133778360911221014n9713164l22c39ce8bf0f7d9f@mail.gmail.com>

Easy

hbmk2 hbide

Bruno


2009/11/21 francesco perillo <fperillo@gmail.com>

> I have to understand how to compile hbide (with Qt) before .....
>
> :-)
>
> Francesco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091122/48b7e9e4/attachment.html
From vszakats at users.sourceforge.net  Sun Nov 22 13:14:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 22 13:14:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12976] trunk/harbour
Message-ID: <E1NCGxR-0003ge-UE@3kljzd1.ch3.sourceforge.com>

Revision: 12976
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12976&view=rev
Author:   vszakats
Date:     2009-11-22 18:14:44 +0000 (Sun, 22 Nov 2009)

Log Message:
-----------
2009-11-22 19:13 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn2.c
    % Merged C level functions into Harbour level ones.
      (PRINTERPORTTONAME() got simplified a great deal as a result.)
    ! Fixed to initialize remaining numbers passed by ref to winapi.
    * More type cleanup.

  + contrib/hbwin/tests/testprn3.prg
    + Added test for printing support functions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn2.c

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/tests/testprn3.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Sun Nov 22 13:15:13 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sun Nov 22 13:15:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12974] trunk/harbour
In-Reply-To: <80D5EAC2-B0D1-4917-9B9C-FE7DBB972588@syenar.hu>
References: <E1NCBX7-0000qc-1l@dn4whf1.ch3.sourceforge.com>	<001601ca6b98$c06906f0$413b14d0$@Bisz@t-online.hu>
	<80D5EAC2-B0D1-4917-9B9C-FE7DBB972588@syenar.hu>
Message-ID: <001701ca6b9f$bc7385a0$355a90e0$@Bisz@t-online.hu>

> Is it this line?:
No, the previous log was generated just before your last commit.
Now we have:
../../../win_prn2.c: In function 'int hb_PrintFileRaw(const char*, const
char*, const char*)':
../../../win_prn2.c:429: warning: deprecated conversion from string constant
to 'WCHAR*'

But if this component is under heavy changes, please ignore my log, it is
just a status.

BTW, see below the mentioned clang crash: 

0   clang-cc  0x08c78a9c
1   clang-cc  0x08c79125
2             0x0068c400 __kernel_sigreturn + 0
3   clang-cc  0x080f715d
4   clang-cc  0x080fe281
5   clang-cc  0x080fe46f
6   clang-cc  0x080f617c
7   clang-cc  0x08062585
8   clang-cc  0x0823f4f1
9   clang-cc  0x080536a7
10  clang-cc  0x08057955 main + 5733
11  libc.so.6 0x00a8ebb6 __libc_start_main + 230
12  clang-cc  0x0804c8b1
Stack dump:
0.	Program arguments: /usr/bin/../libexec/clang-cc -triple
i386-pc-linux-gnu -S -disable-free -main-file-name moc_slots.cpp
--relocation-model static --disable-fp-elim --unwind-tables=0
--mcpu=pentium4 --fmath-errno=1 -I. -I../../../../../include -I/usr/include
-I/usr/include/Qt -I/usr/include/QtCore -I/usr/include/QtGui
-I/usr/include/QtNetwork -I/usr/include/QtWebKit -O3 -Wall -W
-fdiagnostics-show-option -o /tmp/cc-l4jMgU.s -x c++ moc_slots.cpp 
1.	/usr/include/QtCore/qglobal.h:1702:1: current parser token 'inline'
2.	/usr/include/QtCore/qglobal.h:1701:13: LLVM IR generation of
declaration 'operator=='
clang: error: compiler command failed due to signal 11 (use -v to see
invocation)
make[3]: *** [moc_slots.o] Error 245
make[2]: *** [descend] Error 2
make[1]: *** [hbqt.inst] Error 2
make: *** [contrib.inst] Error 2

Any idea?

Best regards,
Istv?n


From harbour.01 at syenar.hu  Sun Nov 22 13:21:05 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Nov 22 13:21:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12974] trunk/harbour
In-Reply-To: <001701ca6b9f$bc7385a0$355a90e0$@Bisz@t-online.hu>
References: <E1NCBX7-0000qc-1l@dn4whf1.ch3.sourceforge.com>	<001601ca6b98$c06906f0$413b14d0$@Bisz@t-online.hu>
	<80D5EAC2-B0D1-4917-9B9C-FE7DBB972588@syenar.hu>
	<001701ca6b9f$bc7385a0$355a90e0$@Bisz@t-online.hu>
Message-ID: <626CB869-2EBC-4E57-BAD0-366E42CFC1A4@syenar.hu>

>> Is it this line?:
> No, the previous log was generated just before your last commit.
> Now we have:
> ../../../win_prn2.c: In function 'int hb_PrintFileRaw(const char*, const
> char*, const char*)':
> ../../../win_prn2.c:429: warning: deprecated conversion from string constant
> to 'WCHAR*'

Yes, it is the line. Now my problem is that I 
haven't changed this specific line, and I didn't 
have any plans for a fix either.

No idea what's wrong with it. I also don't get 
why does it complain about WCHAR unless you 
turned on UNICODE mode for mingw.

> But if this component is under heavy changes, please ignore my log, it is
> just a status.
> 
> BTW, see below the mentioned clang crash: 

clang - at least on OS X - doesn't support C++ yet, 
so it's automatically falling back calling g++ for 
C++ files. Maybe this mechanism doesn't kick in 
on Linux.

Brgds,
Viktor

From druzus at acn.waw.pl  Sun Nov 22 13:33:05 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Nov 22 13:33:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0911221401130.11887@dawn.royalcomp.hu>
References: <E1NCB5b-0000d6-1M@74yxhf1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0911221303200.11887@dawn.royalcomp.hu>
	<81017108-A66E-40F6-B009-10FB6ABE5725@syenar.hu>
	<alpine.DEB.2.00.0911221401130.11887@dawn.royalcomp.hu>
Message-ID: <20091122183305.GA30816@linux-4bod.home.aster.pl>

On Sun, 22 Nov 2009, Tamas TEVESZ wrote:

Hi,

>  > > could you also add this (llvm-gcc) target to the mix? for all intents 
>  > > and purposes, it is the very same as the gcc target, except compilers 
>  > > being llvm-gcc and llvm-g++ instead of gcc and g++, respectively.
>  > Can you try if it works by setting HB_CCPREFIX=llvm- 
>  > and using gcc target? If this seems ok, I may add it, 
> no, it doesn't:
[...]
> HB_COMPILER=gcc
> HB_BUILD_OPTIM=no

Why do you disable optimization?

> HB_PLATFORM=linux
> HB_CCPREFIX=llvm-
[...]
> llvm-gcc  -I. -I../../../../../include  -Wall -W -g -DHB_TR_LEVEL_DEBUG   -ohbpp_dyn.o -DHB_DYNLIB -fpic -c ../../../hbpp.c
> llvm-gcc  -Wall -W -g  -L../../../../../lib/linux/gcc   -o../../../../../bin/linux/gcc/hbpp hbpp.o -lhbnortl -lhbcommon -lm
> ../../../../../lib/linux/gcc/libhbnortl.a:
> could not read symbols: Archive has no index; run ranlib to add one
> collect2: ld returned 1 exit status

You have quite precise error message here.
I've just checked that also in Suse11.2 llvm-ranlib does not create index
which can be recognized by llvm-gcc. It's probably bug which should be
reported to LLVM developers.
As workaround I used ranlib instead of llvm-ranlib to create indexes and
created full harbour build using HB_CCPREFIX=llvm- without any problems.

Index: harbour/config/linux/gcc.mk
===================================================================
-AR_RULE = ( $(AR) $(ARFLAGS) $(HB_USER_AFLAGS) rcs $(LIB_DIR)/$@ $(^F) $(ARSTRIP) ) || ( $(RM) $(LIB_DIR)/$@ && false )
+AR_RULE = ( $(AR) $(ARFLAGS) $(HB_USER_AFLAGS) rcs $(LIB_DIR)/$@ $(^F) $(ARSTRIP) && ranlib $(LIB_DIR)/$@ ) || ( $(RM) $(LIB_DIR)/$@ && false )

I also made speed tests using speedtst.prg for pure GCC, llvm-gcc,
and CLANG builds. Here are results (HB_FM_DL_ALLOC was enabled in all
builds to force the same memory manager and make results more comparable)

   2009.11.22 19:11:15 Linux 2.6.31.5-0.1-desktop x86_64
   Harbour 2.0.0beta3 (Rev. 12970) GNU C 4.4 (64-bit) x86-64
   [...]
   [ total application time: ]....................................15.62
   [ total real time: ]...........................................15.65


   2009.11.22 19:21:52 Linux 2.6.31.5-0.1-desktop x86_64
   Harbour 2.0.0beta3 (Rev. 12970) LLVM/GNU C 4.2.1 (64-bit) x86-64
   [...]
   [ total application time: ]....................................17.73
   [ total real time: ]...........................................17.76

   2009.11.22 19:27:42 Linux 2.6.31.5-0.1-desktop x86_64
   Harbour 2.0.0beta3 (Rev. 12970) LLVM/Clang C 4.2.1 (64-bit) x86-64
   [...]
   [ total application time: ]....................................18.11
   [ total real time: ]...........................................18.14

as you can see native GCC build is noticeable faster then LLVM-GCC (~14%)
and CLANG (~16%) ones.

> but using this:
[...]
> it does (HB_COMPILER=llvm-gcc). i have no idea what the essential 
> difference is, but this way it does, HB_CCPREFIX way it doesn't. i've 
> also modified postinst.sh like

The difference is that such version used 'ar' instead of 'llvm-ar'
which created working library indexes.
Probably as dirty hack you can try to replace 'llvm-ar' with link to 'ar'
and HB_CCPREFIX will work for you without any problems.

best regards,
Przemek
From Istvan.Bisz at t-online.hu  Sun Nov 22 13:35:38 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sun Nov 22 13:35:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12974] trunk/harbour
In-Reply-To: <626CB869-2EBC-4E57-BAD0-366E42CFC1A4@syenar.hu>
References: <E1NCBX7-0000qc-1l@dn4whf1.ch3.sourceforge.com>	<001601ca6b98$c06906f0$413b14d0$@Bisz@t-online.hu>	<80D5EAC2-B0D1-4917-9B9C-FE7DBB972588@syenar.hu>	<001701ca6b9f$bc7385a0$355a90e0$@Bisz@t-online.hu>
	<626CB869-2EBC-4E57-BAD0-366E42CFC1A4@syenar.hu>
Message-ID: <001e01ca6ba2$97252b70$c56f8250$@Bisz@t-online.hu>

> clang - at least on OS X - doesn't support C++ yet, 
> so it's automatically falling back calling g++ for 
> C++ files. Maybe this mechanism doesn't kick in 
> on Linux.

Thank you for the info.
Here is a fragment from http://clang.llvm.org/cxx_status.html: "Currently
most of the C++ features are missing;".

I just tried the clang features on Fedora 12, but from now it is clear that
some components based on c++ can't be integrated in clang builds, at least
from source level.

Sorry for this noise.

Best regards,
Istv?n


From druzus at users.sourceforge.net  Sun Nov 22 13:39:29 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Nov 22 13:39:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12977] trunk/harbour
Message-ID: <E1NCHLN-0006e3-5k@bj8yhf1.ch3.sourceforge.com>

Revision: 12977
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12977&view=rev
Author:   druzus
Date:     2009-11-22 18:39:28 +0000 (Sun, 22 Nov 2009)

Log Message:
-----------
2009-11-22 19:39 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/win_prn2.c
    * removed trailing spaces from empty lines

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Nov 22 14:30:33 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 22 14:30:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12977] trunk/harbour
In-Reply-To: <E1NCHLN-0006e3-5k@bj8yhf1.ch3.sourceforge.com>
References: <E1NCHLN-0006e3-5k@bj8yhf1.ch3.sourceforge.com>
Message-ID: <F1827F9A-1438-45C6-A424-BF5B888A5DFE@syenar.hu>

Yep thanks and sorry, since I've moved to 64-bit 
build of Far Manager, I lost the plugin which handled 
this matter.

Anyway, I'll try to settle back to 32-bit, luckily 
the plugin ('trucer') works ok with 2.0.

Brgds,
Viktor

On 2009 Nov 22, at 19:39, druzus@users.sourceforge.net wrote:

> Revision: 12977
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12977&view=rev
> Author:   druzus
> Date:     2009-11-22 18:39:28 +0000 (Sun, 22 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-22 19:39 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/contrib/hbwin/win_prn2.c
>    * removed trailing spaces from empty lines
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbwin/win_prn2.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From jarabal at gmail.com  Sun Nov 22 14:31:25 2009
From: jarabal at gmail.com (Xavi)
Date: Sun Nov 22 14:32:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12966] trunk/harbour
In-Reply-To: <B9F67FAC-960F-4F1F-9EDE-0B0CA357AA74@syenar.hu>
References: <E1NC1l3-0001kg-A2@3kljzd1.ch3.sourceforge.com>
	<4B08A397.9080705@gmail.com>
	<FE6651C4-F8BF-4152-81F9-2814F85DA304@syenar.hu>
	<4B08B50C.4010801@gmail.com>
	<10202817-4212-4FB4-AEC2-17C72F552A3D@syenar.hu>
	<4B0962C3.4040604@gmail.com>
	<B9F67FAC-960F-4F1F-9EDE-0B0CA357AA74@syenar.hu>
Message-ID: <4B09918D.3030905@gmail.com>

Ok, I change WIN_CREATEFONT to return GC solvent the bug and adapt TPrinter for this in attache files.

-- 
Xavi

Viktor Szak?ts escribi?:
>>> I don't think so. Anyhow, I don't see a reason to make it complicated and mix the GC pointer concept with thread static variables either, it also seems wrongs, as AFAIU you can have multiple HDCs open in one thread, and HFONTs are paired with HDCs.
>> I just them trying to correct existing C code and do them 100% compatible with existing programs: win_tprn.prg and win_prn1.c
>> not is my analysis. Now, with the existing code in the repository, TPrinter WIN_PRN increases GDIs objects because it's
>> impossible eliminate the font created when creating the class or calling WIN_CREATEFONT, this is a bug, AFAIK.
> 
> I perfectly understand this.
> 
>>> [ Or (as you've suggested first), WIN_CREATEFONT() has to be changed to return HFONT, and let the higher level code handle these details, this makes the hbwin code simpler, but allows more mess ups on the app level. ]
>> Yes but would not be compatible with existing code ( I remember __hrbLoad :) and also introduces an interesting exercise, BTW.
>>
>> IMHO we could corrected or changed if new bugs are found or we opt for a better solution, this is the repository concept and so
>> we can *learn*. Return hFont and create a DESTRUCTOR for TPrinter() to remove hFont is not difficult but I think we miss an
>> opportunity.
> 
> Please note it's not a coincidence I told you to feel 
> free modifying WIN_CREATEFONT(). Compatibility in this 
> case is secondary, firstly the name of the function 
> changed 2 times in the last 1.5 years (without any 
> complaint), second, in xhb (where this function comes 
> from originally), this function is _not even a public one_.
> Hence: compatibility is secondary, I guesstimate that 
> waste majority of users use it via the .prg level class.
> 
> But, I believe it's possible to solve it using the method 
> I outlined. It's up to you to consider them.
> 
> I can't add more to this thread at this point.
> 
> Brgds,
> Viktor
> 
> 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: win_tprn1.zip
Type: application/x-zip
Size: 12131 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091122/8544fdbe/win_tprn1-0001.bin
From harbour.01 at syenar.hu  Sun Nov 22 14:43:38 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 22 14:43:47 2009
Subject: [Harbour] Re: Re: Re: Re: Win_prn problem.
In-Reply-To: <18d502870911090040r1a112deew50d43574e4b4c5aa@mail.gmail.com>
References: <hd4ahg$3h6$1@ger.gmane.org>
	<609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com>
	<hd4gui$l8q$1@ger.gmane.org>
	<609353e70911071141r1f93a800ne3e3ab032d1495c1@mail.gmail.com>
	<hd6d8b$la2$1@ger.gmane.org>
	<609353e70911080534n1c327690qae2f1e1f05d7bb98@mail.gmail.com>
	<hd7ctd$eh1$1@ger.gmane.org>
	<609353e70911081407s298f73bai1dc4f8a7272a611e@mail.gmail.com>
	<hd7l2k$46n$1@ger.gmane.org>
	<609353e70911090004h7d01346bkad8fbd9881e8fa8@mail.gmail.com>
	<18d502870911090040r1a112deew50d43574e4b4c5aa@mail.gmail.com>
Message-ID: <370975DB-72F6-4998-BA8E-E356E07DC572@syenar.hu>

I've tried this sample (with little difference, 
I put output to console), and for me it listed 
the font names as expect in msvc and msvc64.

What was exactly the problem here? this is 
missing from original mail.

Brgds,
Viktor

On 2009 Nov 9, at 09:40, Viktor Szak?ts wrote:

> Seems like a UNICODE translation problem (not a difference 
> in local environment).
> 
> Brgds,
> Viktor
> 
> On Mon, Nov 9, 2009 at 9:04 AM, Massimo Belgrano <mbelgrano@deltain.it> wrote:
> The problem is that here works and  in your computer not works
> Wich result Have you  with freepdf as default driver?
> IMO oPrn:TextOut('Font Is: '+oPrn:FontName,.t.) request info to print driver
> 
> 2009/11/9 Itamar Lins <itamarlins@bol.com.br>
> But the return of command "oPrn:TextOut('Font Is: '+oPrn:FontName,.t.)" is wrong, using MSVC.
>  
> No problem with print driver emulating pdf, because HP printer Deskjet is returning wrong results too.
> Is a problem with class win_prn or unicode... because it worked before without problems and do not know what version of SVN caused this problem.
>  
> Ps. I use service pack 3 with XP OS.
>  
> Best regards,
> Itamar M. Lins Jr.
> 
> "Massimo Belgrano" <mbelgrano@deltain.it> escreveu na mensagem news:609353e70911081407s298f73bai1dc4f8a7272a611e@mail.gmail.com...
> No i have compiled with msvc 2008 and work fine (as first screen shoot)
> Remember that i use freepdf, so problem Maj be  due by your print driver emulating pdf
> 
> follow my //info msvc
> Harbour Terminal: Windows native console
> Harbour 2.0.0beta3 (Rev. 12836)
> Windows Vista 6.0.6002 Service Pack 2
> DS avail=867528KB  OS avail=2066396KB  EMM avail=0KB  MemStat:Off  MT:Off
> 
> Follow my Microsoft c++ version c:\Program Files\Microsoft Visual Studio 9.0\VC\bin\cl
> Microsoft (R) 32-bit C/C++ Optimizing Compiler versione 15.00.30729.01 per 80x86
> 
> 2009/11/8 Itamar Lins <itamarlins@bol.com.br>
> Hi! Massimo.
> The conclusion is there exist a problem with MSVC unicode ?
>  
> I do not know to solve this. :-(
>  
> Best regards,
> Itamar M. Lins Jr.
> 
> 
> -- 
> Massimo Belgrano
> 
> 
> 
> 
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 
> 
> 
> -- 
> Massimo Belgrano
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

From vszakats at users.sourceforge.net  Sun Nov 22 15:04:36 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 22 15:04:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12978] trunk/harbour
Message-ID: <E1NCIfk-0000Lc-Ni@74yxhf1.ch3.sourceforge.com>

Revision: 12978
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12978&view=rev
Author:   vszakats
Date:     2009-11-22 20:04:35 +0000 (Sun, 22 Nov 2009)

Log Message:
-----------
2009-11-22 21:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_tprn.prg
  * contrib/hbwin/win_prn1.c
    ! Fixed HFONT leak in WIN_CREATEFONT(). This also means the
      function works a little bit differently, so in case you are
      using it directly, be warned that this change is INCOMPATIBLE.
      It will now return a font handle instead of boolean value
      signaling success.
    ! Fixed several functions to check for valid HDC.
    % Deleted redundant code from WIN_DELETEDC().
    ; Submitted by Xavi. Thank you.
      (plus these small modifications by me:)
    ! Fixed formatting to use the same coding style as the rest of
      the file (and all our sources).
    ! Fixed to use FALSE instead of 0.

  * INSTALL
    + Added note to HOW TO PARTICIPATE section to use the same
      coding style as found in original files when adding patches.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_tprn.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Nov 22 15:05:01 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Nov 22 15:05:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12966] trunk/harbour
In-Reply-To: <4B09918D.3030905@gmail.com>
References: <E1NC1l3-0001kg-A2@3kljzd1.ch3.sourceforge.com>
	<4B08A397.9080705@gmail.com>
	<FE6651C4-F8BF-4152-81F9-2814F85DA304@syenar.hu>
	<4B08B50C.4010801@gmail.com>
	<10202817-4212-4FB4-AEC2-17C72F552A3D@syenar.hu>
	<4B0962C3.4040604@gmail.com>
	<B9F67FAC-960F-4F1F-9EDE-0B0CA357AA74@syenar.hu>
	<4B09918D.3030905@gmail.com>
Message-ID: <3F20EB40-9F0F-4C07-94EA-8D153C5EE974@syenar.hu>

Thank you Xavi, it's perfect this way.

(pls try to use our coding style, this saves 
me valuable time).

Brgds,
Viktor

On 2009 Nov 22, at 20:31, Xavi wrote:

> Ok, I change WIN_CREATEFONT to return GC solvent the bug and adapt TPrinter for this in attache files.
> 
> -- 
> Xavi
> 
> Viktor Szak?ts escribi?:
>>>> I don't think so. Anyhow, I don't see a reason to make it complicated and mix the GC pointer concept with thread static variables either, it also seems wrongs, as AFAIU you can have multiple HDCs open in one thread, and HFONTs are paired with HDCs.
>>> I just them trying to correct existing C code and do them 100% compatible with existing programs: win_tprn.prg and win_prn1.c
>>> not is my analysis. Now, with the existing code in the repository, TPrinter WIN_PRN increases GDIs objects because it's
>>> impossible eliminate the font created when creating the class or calling WIN_CREATEFONT, this is a bug, AFAIK.
>> I perfectly understand this.
>>>> [ Or (as you've suggested first), WIN_CREATEFONT() has to be changed to return HFONT, and let the higher level code handle these details, this makes the hbwin code simpler, but allows more mess ups on the app level. ]
>>> Yes but would not be compatible with existing code ( I remember __hrbLoad :) and also introduces an interesting exercise, BTW.
>>> 
>>> IMHO we could corrected or changed if new bugs are found or we opt for a better solution, this is the repository concept and so
>>> we can *learn*. Return hFont and create a DESTRUCTOR for TPrinter() to remove hFont is not difficult but I think we miss an
>>> opportunity.
>> Please note it's not a coincidence I told you to feel free modifying WIN_CREATEFONT(). Compatibility in this case is secondary, firstly the name of the function changed 2 times in the last 1.5 years (without any complaint), second, in xhb (where this function comes from originally), this function is _not even a public one_.
>> Hence: compatibility is secondary, I guesstimate that waste majority of users use it via the .prg level class.
>> But, I believe it's possible to solve it using the method I outlined. It's up to you to consider them.
>> I can't add more to this thread at this point.
>> Brgds,
>> Viktor
> 
> <win_tprn1.zip>

From vszakats at users.sourceforge.net  Sun Nov 22 15:30:27 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 22 15:30:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12979] trunk/harbour
Message-ID: <E1NCJ4l-000075-2B@d5vjzd1.ch3.sourceforge.com>

Revision: 12979
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12979&view=rev
Author:   vszakats
Date:     2009-11-22 20:30:25 +0000 (Sun, 22 Nov 2009)

Log Message:
-----------
2009-11-22 21:29 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn1.c
    * Renamed some variables to reflect their real type.
    ! Fixed to use HB_SIZE instead of int and ULONG.
    * Using long instead of LONG for non-Windows API related values.
    * Synced parn*/retn*/storn* usage with actual types used by
      Windows API (l vs. i).
    * Added a few cats and removed a few others.
    ! Fixed WIN_GETPRINTERFONTNAME() for UNICODE mode.
      (warning masked by explicit cast).
    ; Please make tests, I didn't do any functional tests on 
      any of the above (and I'm also not using them).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Nov 22 15:45:28 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 22 15:45:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12980] trunk/harbour
Message-ID: <E1NCJJI-0000Lv-Fm@d5vjzd1.ch3.sourceforge.com>

Revision: 12980
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12980&view=rev
Author:   vszakats
Date:     2009-11-22 20:45:27 +0000 (Sun, 22 Nov 2009)

Log Message:
-----------
2009-11-22 21:45 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn1.c
  * contrib/hbwin/win_prn2.c
    * Using HB_BOOL for Harbour variables.
    * Few minor cleanups.
    ; TOFIX: CreateFile() is used in one place instead of Harbour 
             File I/O. Anyone?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_prn2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Sun Nov 22 15:47:40 2009
From: Istvan.Bisz at t-online.hu (=?iso-8859-1?Q?Bisz_Istv=E1n?=)
Date: Sun Nov 22 15:47:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12974] trunk/harbour
In-Reply-To: <80D5EAC2-B0D1-4917-9B9C-FE7DBB972588@syenar.hu>
References: <E1NCBX7-0000qc-1l@dn4whf1.ch3.sourceforge.com>	<001601ca6b98$c06906f0$413b14d0$@Bisz@t-online.hu>
	<80D5EAC2-B0D1-4917-9B9C-FE7DBB972588@syenar.hu>
Message-ID: <000601ca6bb5$088c5e70$19a51b50$@Bisz@t-online.hu>

> Strangely I'm not getting it with mingw 4.4.1 (on Windows), not even in
UNICODE mode.

I still have this, at this time on Vista + mingw 4.4.1 (just a double check,
maybe helps):

g++  -I. -I../../../../../include  -Wall -W -O3 -fomit-frame-pointer
-march=i586 -mtune=pentiumpro -DUNICODE   -owin_prn2.o -c
../../../win_prn2.c
../../../win_prn2.c: In function 'void HB_FUN_PRINTFILERAW()':
../../../win_prn2.c:405: warning: deprecated conversion from string constant
to 'WCHAR*'


From harbour.01 at syenar.hu  Sun Nov 22 16:09:01 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Nov 22 16:09:11 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12974] trunk/harbour
In-Reply-To: <000601ca6bb5$088c5e70$19a51b50$@Bisz@t-online.hu>
References: <E1NCBX7-0000qc-1l@dn4whf1.ch3.sourceforge.com>	<001601ca6b98$c06906f0$413b14d0$@Bisz@t-online.hu>
	<80D5EAC2-B0D1-4917-9B9C-FE7DBB972588@syenar.hu>
	<000601ca6bb5$088c5e70$19a51b50$@Bisz@t-online.hu>
Message-ID: <5A1E2C1A-3CE3-4FA0-9529-E5E9B830ABD2@syenar.hu>

>> Strangely I'm not getting it with mingw 4.4.1 (on Windows), not even in
> UNICODE mode.
> 
> I still have this, at this time on Vista + mingw 4.4.1 (just a double check,
> maybe helps):
> 
> g++  -I. -I../../../../../include  -Wall -W -O3 -fomit-frame-pointer
> -march=i586 -mtune=pentiumpro -DUNICODE   -owin_prn2.o -c
> ../../../win_prn2.c
> ../../../win_prn2.c: In function 'void HB_FUN_PRINTFILERAW()':
> ../../../win_prn2.c:405: warning: deprecated conversion from string constant
> to 'WCHAR*'

Sorry, I can't reproduce.

Oh. I see you turned on C++ mode for MinGW (pls include your 
make setup to make such things clear)...

Now, in C++ I also get it.

Still have no idea how to fix it though. (it's an ages old 
problem).

Brgds,
Viktor

From harbour.01 at syenar.hu  Sun Nov 22 16:40:23 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 22 16:40:34 2009
Subject: [Harbour] Re: Re: Re: Re: Win_prn problem.
In-Reply-To: <370975DB-72F6-4998-BA8E-E356E07DC572@syenar.hu>
References: <hd4ahg$3h6$1@ger.gmane.org>
	<609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com>
	<hd4gui$l8q$1@ger.gmane.org>
	<609353e70911071141r1f93a800ne3e3ab032d1495c1@mail.gmail.com>
	<hd6d8b$la2$1@ger.gmane.org>
	<609353e70911080534n1c327690qae2f1e1f05d7bb98@mail.gmail.com>
	<hd7ctd$eh1$1@ger.gmane.org>
	<609353e70911081407s298f73bai1dc4f8a7272a611e@mail.gmail.com>
	<hd7l2k$46n$1@ger.gmane.org>
	<609353e70911090004h7d01346bkad8fbd9881e8fa8@mail.gmail.com>
	<18d502870911090040r1a112deew50d43574e4b4c5aa@mail.gmail.com>
	<370975DB-72F6-4998-BA8E-E356E07DC572@syenar.hu>
Message-ID: <64D3E786-B3D3-475D-B309-DD1812B7037E@syenar.hu>

Hi Itamar,

I've accidentally found the problem while 
reviewing hbwin code, so if you try now it 
should work. I've since realized that the 
output looked indeed wrong, but I didn't know 
what to look for.

Brgds,
Viktor

On 2009 Nov 22, at 20:43, Viktor Szak?ts wrote:

> I've tried this sample (with little difference, 
> I put output to console), and for me it listed 
> the font names as expect in msvc and msvc64.
> 
> What was exactly the problem here? this is 
> missing from original mail.
> 
> Brgds,
> Viktor
> 
> On 2009 Nov 9, at 09:40, Viktor Szak?ts wrote:
> 
>> Seems like a UNICODE translation problem (not a difference 
>> in local environment).
>> 
>> Brgds,
>> Viktor
>> 
>> On Mon, Nov 9, 2009 at 9:04 AM, Massimo Belgrano <mbelgrano@deltain.it> wrote:
>> The problem is that here works and  in your computer not works
>> Wich result Have you  with freepdf as default driver?
>> IMO oPrn:TextOut('Font Is: '+oPrn:FontName,.t.) request info to print driver
>> 
>> 2009/11/9 Itamar Lins <itamarlins@bol.com.br>
>> But the return of command "oPrn:TextOut('Font Is: '+oPrn:FontName,.t.)" is wrong, using MSVC.
>> 
>> No problem with print driver emulating pdf, because HP printer Deskjet is returning wrong results too.
>> Is a problem with class win_prn or unicode... because it worked before without problems and do not know what version of SVN caused this problem.
>> 
>> Ps. I use service pack 3 with XP OS.
>> 
>> Best regards,
>> Itamar M. Lins Jr.
>> 
>> "Massimo Belgrano" <mbelgrano@deltain.it> escreveu na mensagem news:609353e70911081407s298f73bai1dc4f8a7272a611e@mail.gmail.com...
>> No i have compiled with msvc 2008 and work fine (as first screen shoot)
>> Remember that i use freepdf, so problem Maj be  due by your print driver emulating pdf
>> 
>> follow my //info msvc
>> Harbour Terminal: Windows native console
>> Harbour 2.0.0beta3 (Rev. 12836)
>> Windows Vista 6.0.6002 Service Pack 2
>> DS avail=867528KB  OS avail=2066396KB  EMM avail=0KB  MemStat:Off  MT:Off
>> 
>> Follow my Microsoft c++ version c:\Program Files\Microsoft Visual Studio 9.0\VC\bin\cl
>> Microsoft (R) 32-bit C/C++ Optimizing Compiler versione 15.00.30729.01 per 80x86
>> 
>> 2009/11/8 Itamar Lins <itamarlins@bol.com.br>
>> Hi! Massimo.
>> The conclusion is there exist a problem with MSVC unicode ?
>> 
>> I do not know to solve this. :-(
>> 
>> Best regards,
>> Itamar M. Lins Jr.
>> 
>> 
>> -- 
>> Massimo Belgrano
>> 
>> 
>> 
>> 
>> 
>> 
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> 
>> 
>> 
>> -- 
>> Massimo Belgrano
>> 
>> 
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
>> 
> 

From druzus at users.sourceforge.net  Sun Nov 22 18:43:57 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Nov 22 18:44:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12981] trunk/harbour
Message-ID: <E1NCM61-0003D0-Hx@d5vjzd1.ch3.sourceforge.com>

Revision: 12981
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12981&view=rev
Author:   druzus
Date:     2009-11-22 23:43:56 +0000 (Sun, 22 Nov 2009)

Log Message:
-----------
2009-11-23 00:43 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/config/global.mk
    + added yet another path for cross-mingw compiler detection

  * harbour/contrib/hbwin/win_prn2.c
    ! fixed iResult defined twice by mistake

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/global.mk
    trunk/harbour/contrib/hbwin/win_prn2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Nov 22 18:46:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 22 18:47:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12982] trunk/harbour
Message-ID: <E1NCM8w-0000H2-Sh@3kljzd1.ch3.sourceforge.com>

Revision: 12982
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12982&view=rev
Author:   vszakats
Date:     2009-11-22 23:46:57 +0000 (Sun, 22 Nov 2009)

Log Message:
-----------
2009-11-23 00:46 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/vm/arrays.c
  * src/debug/dbgentry.c
  * contrib/xhb/xhbarr.c
  * contrib/xhb/xhberrc.c
  * contrib/xhb/cstructc.c
    * Changed to use native Harbour API function names instead of
      xhb compatibility ones:
         hb_itemForwardValue() -> hb_itemMove()
         hb_itemPutCStatic()   -> hb_itemPutCConst()

  * contrib/hbbmcdx/bmdbfcdx.c
  * contrib/rddsql/sqlbase.c
  * contrib/rddads/adsfunc.c
  * contrib/hbwin/wce_simc.c
  * contrib/hbwin/win_prn1.c
  * contrib/hbwin/win_prn2.c
    % hb_itemNew() + hb_arrayNew() combination replaced
      with single hb_itemArrayNew() call.

  * include/hbapi.h
  * include/hbapiitm.h
    * Marked some legacy/compatibility functions with HB_LEGACY_LEVEL2.
      This means they will be deleted in next major release version:
        LEGACY/DEPRECATED        RECOMMENDED EQUIVALENT
        ----------------------   -----------------------
        hb_retcAdopt()           hb_retc_buffer()
        hb_retclenAdopt()        hb_retclen_buffer()
        hb_retcStatic()          hb_retc_const()
        hb_storclenAdopt()       hb_storclen_buffer()
        hb_itemPutCRawStatic()   hb_itemPutCLConst()
        hb_itemForwardValue()    hb_itemMove()
        hb_itemPutCStatic()      hb_itemPutCConst()
        hb_arraySetCPtr()        hb_arraySetCLPtr()

  * contrib/hbwin/win_tprn.prg
    * Minor formatting.

  * contrib/hbwin/win_osc.c
    * Using HB_BOOL.
    * Varible type notation fixed.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/hbwin/wce_simc.c
    trunk/harbour/contrib/hbwin/win_osc.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/hbwin/win_tprn.prg
    trunk/harbour/contrib/rddads/adsfunc.c
    trunk/harbour/contrib/rddsql/sqlbase.c
    trunk/harbour/contrib/xhb/cstructc.c
    trunk/harbour/contrib/xhb/xhbarr.c
    trunk/harbour/contrib/xhb/xhberrc.c
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbapiitm.h
    trunk/harbour/src/debug/dbgentry.c
    trunk/harbour/src/vm/arrays.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Nov 22 19:05:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 22 19:06:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12983] trunk/harbour
Message-ID: <E1NCMRK-0000Zh-In@3kljzd1.ch3.sourceforge.com>

Revision: 12983
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12983&view=rev
Author:   vszakats
Date:     2009-11-23 00:05:57 +0000 (Mon, 23 Nov 2009)

Log Message:
-----------
2009-11-23 01:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/axcore.c
  * contrib/hbwin/oleinit.c
  * contrib/hbwin/wapi_winbase.c
  * contrib/hbwin/win_misc.c
  * contrib/hbwin/hbwinole.h
  * contrib/hbwin/olecore.c
  * contrib/hbwin/win_dll.c
    * BOOL -> HB_BOOL (where applicable)
    * ULONG, unsigned long -> HB_SIZE (where applicable)

  * contrib/hbwin/wce_smsc.c
    % Optimized out BOOL var.

  * contrib/hbwin/win_dll.c
    * ULONG -> unsigned long

  * contrib/hbwin/win_prn1.c
  * contrib/hbwin/win_regc.c
  * contrib/hbwin/win_osc.c
  * contrib/hbwin/win_dll.c
    ! Formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/axcore.c
    trunk/harbour/contrib/hbwin/hbwinole.h
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/contrib/hbwin/oleinit.c
    trunk/harbour/contrib/hbwin/wapi_winbase.c
    trunk/harbour/contrib/hbwin/wce_smsc.c
    trunk/harbour/contrib/hbwin/win_dll.c
    trunk/harbour/contrib/hbwin/win_misc.c
    trunk/harbour/contrib/hbwin/win_osc.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_regc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Sun Nov 22 19:09:48 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sun Nov 22 19:09:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
In-Reply-To: <20091122183305.GA30816@linux-4bod.home.aster.pl>
References: <E1NCB5b-0000d6-1M@74yxhf1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0911221303200.11887@dawn.royalcomp.hu>
	<81017108-A66E-40F6-B009-10FB6ABE5725@syenar.hu>
	<alpine.DEB.2.00.0911221401130.11887@dawn.royalcomp.hu>
	<20091122183305.GA30816@linux-4bod.home.aster.pl>
Message-ID: <alpine.DEB.2.00.0911230059060.11887@dawn.royalcomp.hu>

On Sun, 22 Nov 2009, Przemys?aw Czerpak wrote:

hi,

 > > HB_COMPILER=gcc
 > > HB_BUILD_OPTIM=no
 > 
 > Why do you disable optimization?

i don't know, i forgot already. the original intent was probably that 
probably noone else builds with optimizations disabled, so at least my 
tests should have a case for it.

 > You have quite precise error message here.
 > I've just checked that also in Suse11.2 llvm-ranlib does not create index
 > which can be recognized by llvm-gcc. It's probably bug which should be
 > reported to LLVM developers.
 > As workaround I used ranlib instead of llvm-ranlib to create indexes and
 > created full harbour build using HB_CCPREFIX=llvm- without any problems.

that is exactly what's happening, and according to llvm bugzilla, this 
is what should be happening, see:

http://www.mail-archive.com/llvmbugs@cs.uiuc.edu/msg03238.html

 > The difference is that such version used 'ar' instead of 'llvm-ar'
 > which created working library indexes.
 > Probably as dirty hack you can try to replace 'llvm-ar' with link to 'ar'
 > and HB_CCPREFIX will work for you without any problems.

so it may be that the solution is not HB_CCPREFIX after all, but a 
separate llvmgcc target, which, for starters, only sets HB_CMP.

it seems that the supposed improvements using llvm start pouring when 
it's also used for linking, see for example:

http://www.nntp.perl.org/group/perl.perl5.porters/2008/06/msg137461.html

this could be added as a next step, once an llvmgcc target is in 
there. HB_CCPREFIX seems absolutely not the way to go.

-- 
[-]

mkdir /nonexistent
From vouchcac at users.sourceforge.net  Sun Nov 22 19:11:35 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Sun Nov 22 19:11:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12984] trunk/harbour
Message-ID: <E1NCMWl-0003NQ-Qa@dn4whf1.ch3.sourceforge.com>

Revision: 12984
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12984&view=rev
Author:   vouchcac
Date:     2009-11-23 00:11:34 +0000 (Mon, 23 Nov 2009)

Log Message:
-----------
2009-11-22 15:45 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.hbm
    ! Call hbmk2 hbid.hbm which includes all required files.

  + contrib/hbide/idestylesheets.prg
    + Added to implement Qt's powerful feature to apply style sheets to a widget.

  + contrib/hbide/idetags.prg
  + contrib/hbide/ideparseexpr.c
    + Code provided by Andy Wos almost an year back. Never thought 
      it will be of much use for this purpose. Big thank you Andy.

  + contrib/hbide/freadlin.c
    ! Pulled from contrib/xhb. There may be a better option.
    
  * contrib/hbqt/hbqt.ch
    + Added more constants.

  * contrib/hbqt/hbqt_destruct.cpp
    + New PRG level function HB_FUNC( HBQT_QTPTR_FROM_GCPOINTER ) which
      returns Qt pointer sent the GC pointer as only parameter.

  * contrib/hbxbp/xbptabpage.prg
    ! Changed the way callback slots were implemented.

  * contrib/hbide/hbide.prg
    + Implemented right-hand <Functions List>.
      Just click on it and editor tab will scroll to the begining of function.
      It was very tricky and has the potential to improve. Please play.

    ! Implemented "Save" with <ESC> or via <Save> icon.
      You can start real-time editing if you want to.

      Open many sources, change the tabs, press <ESC>s or edit and save.
      Let me know if this behavior is ok. Note: after last tab is closed, hbide.exe 
      terminates.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbqt/hbqt.ch
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbxbp/xbptabpage.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/freadlin.c
    trunk/harbour/contrib/hbide/hbide.hbm
    trunk/harbour/contrib/hbide/ideparseexpr.c
    trunk/harbour/contrib/hbide/idestylesheets.prg
    trunk/harbour/contrib/hbide/idetags.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Nov 22 19:25:54 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 22 19:26:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12985] trunk/harbour
Message-ID: <E1NCMkc-0000s7-9C@3kljzd1.ch3.sourceforge.com>

Revision: 12985
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12985&view=rev
Author:   vszakats
Date:     2009-11-23 00:25:53 +0000 (Mon, 23 Nov 2009)

Log Message:
-----------
2009-11-23 01:24 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn2.c
    + Added support for fifth 'share' element to GETPRINTERS()
      returned array. This syncs it with xhb.

  - contrib/hbide/hbide.hbm
  + contrib/hbide/hbide.hbp
    * Renamed project file to have .hbp extension.

  - contrib/hbide/hbmk.hbm
    - Not needed anymore. Deleted.

  * contrib/hbide/ideparseexpr.c
    ! strnicmp() -> hb_strnicmp()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/ideparseexpr.c
    trunk/harbour/contrib/hbwin/win_prn2.c

Added Paths:
-----------
    trunk/harbour/contrib/hbide/hbide.hbp

Removed Paths:
-------------
    trunk/harbour/contrib/hbide/hbide.hbm
    trunk/harbour/contrib/hbide/hbmk.hbm


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ice at extreme.hu  Sun Nov 22 19:43:15 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Sun Nov 22 19:43:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0911230059060.11887@dawn.royalcomp.hu>
References: <E1NCB5b-0000d6-1M@74yxhf1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0911221303200.11887@dawn.royalcomp.hu>
	<81017108-A66E-40F6-B009-10FB6ABE5725@syenar.hu>
	<alpine.DEB.2.00.0911221401130.11887@dawn.royalcomp.hu>
	<20091122183305.GA30816@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911230059060.11887@dawn.royalcomp.hu>
Message-ID: <alpine.DEB.2.00.0911230139530.11887@dawn.royalcomp.hu>



 > separate llvmgcc target, which, for starters, only sets HB_CMP.

i'm fighting with the attached llvmgcc target definition, but i got 
stuck, and can't ffigure out where do cflags leak into ldflags. just 
try building it, you'll see.

cluebat, please?

-- 
[-]

mkdir /nonexistent
-------------- next part --------------
#
# $Id: gcc.mk 12895 2009-11-16 08:52:59Z vszakats $
#

ifeq ($(HB_BUILD_MODE),cpp)
   HB_CMP := llvm-g++
else
   HB_CMP := llvm-gcc
endif

OBJ_EXT := .o
LIB_PREF := lib
LIB_EXT := .a

HB_DYN_COPT := -DHB_DYNLIB -fpic

CC := $(HB_CCACHE) $(HB_CCPREFIX)$(HB_CMP)$(HB_CCPOSTFIX)
CC_IN := -c
CC_OUT := -o

CPPFLAGS := -I. -I$(HB_INC_COMPILE)
CFLAGS := -emit-llvm
LDFLAGS := -native

ifneq ($(HB_BUILD_WARN),no)
   CFLAGS += -Wall -W
endif

ifneq ($(HB_BUILD_OPTIM),no)
   CFLAGS += -O3
endif

ifeq ($(HB_BUILD_DEBUG),yes)
   CFLAGS += -g
endif

ifneq ($(filter $(HB_BUILD_STRIP),all lib),)
   ARSTRIP = && strip -S $(LIB_DIR)/$@
endif
ifneq ($(filter $(HB_BUILD_STRIP),all bin),)
   LDSTRIP := -s
   DYSTRIP := -s
endif

# LD := $(HB_CCACHE) $(HB_CCPREFIX)$(HB_CMP)$(HB_CCPOSTFIX)
LD := llvm-ld
LD_OUT := -o$(subst x,x, )

LIBPATHS := $(foreach dir,$(LIB_DIR) $(SYSLIBPATHS),-L$(dir))
LDLIBS := $(foreach lib,$(HB_USER_LIBS) $(LIBS) $(SYSLIBS),-l$(lib))

LDFLAGS += $(LIBPATHS)

AR := llvm-ar
ARFLAGS :=
AR_RULE = ( $(AR) $(ARFLAGS) $(HB_USER_AFLAGS) rcs $(LIB_DIR)/$@ $(^F) $(ARSTRIP) ) || ( $(RM) $(LIB_DIR)/$@ && false )

DY := $(CC)
DFLAGS := -shared $(LIBPATHS)
DY_OUT := -o$(subst x,x, )
DLIBS := $(foreach lib,$(HB_USER_LIBS) $(SYSLIBS),-l$(lib))

DY_RULE = $(DY) $(DFLAGS) $(HB_USER_DFLAGS) $(DY_OUT)$(DYN_DIR)/$@ $^ $(DLIBS) $(DYSTRIP) && $(LN) $(@F) $(DYN_FILE2)

include $(TOP)$(ROOT)config/rules.mk
From harbour.01 at syenar.hu  Sun Nov 22 19:54:43 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 22 19:54:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0911230139530.11887@dawn.royalcomp.hu>
References: <E1NCB5b-0000d6-1M@74yxhf1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0911221303200.11887@dawn.royalcomp.hu>
	<81017108-A66E-40F6-B009-10FB6ABE5725@syenar.hu>
	<alpine.DEB.2.00.0911221401130.11887@dawn.royalcomp.hu>
	<20091122183305.GA30816@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911230059060.11887@dawn.royalcomp.hu>
	<alpine.DEB.2.00.0911230139530.11887@dawn.royalcomp.hu>
Message-ID: <BF919D32-9ADA-4842-9096-FD650FB9D5FA@syenar.hu>

>> separate llvmgcc target, which, for starters, only sets HB_CMP.
> 
> i'm fighting with the attached llvmgcc target definition, but i got 
> stuck, and can't ffigure out where do cflags leak into ldflags. just 
> try building it, you'll see.
> cluebat, please?

For some reason CPPFLAGS is passed to linker 
(while CFLAGS isn't). This is so since the beginning, 
and no one has touched this remaining strangeness yet.

Ideally none of them should be passed to linker.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Nov 22 20:14:56 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 22 20:15:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12986] trunk/harbour
Message-ID: <E1NCNW4-0001bJ-2a@3kljzd1.ch3.sourceforge.com>

Revision: 12986
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12986&view=rev
Author:   vszakats
Date:     2009-11-23 01:14:54 +0000 (Mon, 23 Nov 2009)

Log Message:
-----------
2009-11-23 02:13 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/diskspac.c
  * src/rtl/disksphb.c
  * contrib/hbwin/win_prn2.c
    ! Fixed to use WIDE version of dynamically called
      functions in UNICODE builds.

  * ChangeLog
    + TODO marked as DONE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/src/rtl/diskspac.c
    trunk/harbour/src/rtl/disksphb.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Sun Nov 22 23:36:46 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Nov 22 23:36:53 2009
Subject: [Harbour] CurDir() - Memory Leakage
Message-ID: <26472731.post@talk.nabble.com>


Hi

This is memory statistics output:

Application Memory Allocation Report - C:\harbour\contrib\hbide\hbide.exe
Terminated at: 2009.11.22 15:40:17
Total memory allocated: 6010366 bytes (18312 block(s))
Warning, memory allocated but not released: 804 bytes (3 block(s))
Block 1 0x1f1da40 (size 264) CURDIR(0),
"433A5C686172626F75725C636F6E747269625C686269646500E4590000000000000000000D008100000000000D0099FF580EE00000000000C0E4590000000000000000000D008100000000000D0098FF7052C70000000000D0E4590000000000000000000D008100000000000D0097FF500FE00000000000E0E4590000000000000000000D008100000000000D0096FF4810E00000000000F0E4590000000000000000000D008100000000000D0095FF181FE0000000000000E5590000000000000000000D008100000000000D0094FFF07FDD000000000010E5590000000000000000000D008100000000000D0093FF302EE0000000000020E5590000000000"
Block 2 0x1eb0060 (size 264) CURDIR(0), "C:\harbour\contrib\hbide.56
2009-11-21 01:45:51Z vouchcac $.. */..../*.. * Harbour Project source
code:.. *.. * Copyright 2009 Andy Wos.. * www -
http://www.harbour-project.org.. *.. * This program is free software; you
can redistribute it and/or modify.. "
Block 3 0x1935490 (size 264) CURDIR(0),
"433A5C686172626F75725C636F6E747269625C6862696465006C6F723A20726762283139382C3139382C313938293B207D0D0A514469616C6F672020207B20636F6C6F723A2072676228302C302C30293B207D0D0A514C696E6545646974207B206261636B67726F756E642D636F6C6F723A20726762283235352C3235352C323535293B207D0D0A004554484F4400006800000082000000000000001900000000004C454654000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000202038549301285693010000000048624964653A6275696C644F75747075"
------------------------------------------------------------------------

CurDir() needs to be fixed.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/CurDir%28%29---Memory-Leakage-tp26472731p26472731.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From ice at extreme.hu  Mon Nov 23 01:02:23 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Mon Nov 23 01:02:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
In-Reply-To: <BF919D32-9ADA-4842-9096-FD650FB9D5FA@syenar.hu>
References: <E1NCB5b-0000d6-1M@74yxhf1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0911221303200.11887@dawn.royalcomp.hu>
	<81017108-A66E-40F6-B009-10FB6ABE5725@syenar.hu>
	<alpine.DEB.2.00.0911221401130.11887@dawn.royalcomp.hu>
	<20091122183305.GA30816@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911230059060.11887@dawn.royalcomp.hu>
	<alpine.DEB.2.00.0911230139530.11887@dawn.royalcomp.hu>
	<BF919D32-9ADA-4842-9096-FD650FB9D5FA@syenar.hu>
Message-ID: <alpine.DEB.2.00.0911230650140.11887@dawn.royalcomp.hu>

On Mon, 23 Nov 2009, Viktor Szak?ts wrote:

 > > i'm fighting with the attached llvmgcc target definition, but i got 
 > > stuck, and can't ffigure out where do cflags leak into ldflags. just 
 > > try building it, you'll see.
 > > cluebat, please?
 > 
 > For some reason CPPFLAGS is passed to linker 
 > (while CFLAGS isn't). This is so since the beginning, 
 > and no one has touched this remaining strangeness yet.

it's actually CFLAGS, and is in rules.mk:66

is there any ill effect were it to be removed? i'm in a sort of a 
hurry now, but without this, at least linux/gcc, linux/g++, 
linux/sunpro and linux x os2/watcom c++ is still ok, whereas llvmgcc 
definitely gets further on (and now blows up in what at cursory 
eyeballing seems to be hb-mkdyn, which is understandable).

-- 
[-]

mkdir /nonexistent
From vouchcac at users.sourceforge.net  Mon Nov 23 01:32:01 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Nov 23 01:32:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12987] trunk/harbour
Message-ID: <E1NCSSv-0000ga-8G@d5vjzd1.ch3.sourceforge.com>

Revision: 12987
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12987&view=rev
Author:   vouchcac
Date:     2009-11-23 06:31:57 +0000 (Mon, 23 Nov 2009)

Log Message:
-----------

2009-11-22 22:27 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbide/idetags.prg
    ! Changed the way <Function List> was being populated.
    ! Fixed to not enter in Editing mode when double-clicked in <Function List>.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idetags.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mhsabado at gmail.com  Mon Nov 23 02:48:24 2009
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Mon Nov 23 02:48:43 2009
Subject: [Harbour] Error Building with Mingw and Mandriva
In-Reply-To: <4b0a118d.0108c00a.5551.ffff84a8SMTPIN_ADDED@mx.google.com>
References: <4b0a118d.0108c00a.5551.ffff84a8SMTPIN_ADDED@mx.google.com>
Message-ID: <4B0A3E48.8080702@gmail.com>

Hi,

I have the following error when building Harbour from the latest SVN.

Thanks,
Mario

**************************************************************
! Using QT 'moc' bin: D:\Qt\2009.04\qt\bin
gcc  -I. -I../../../../../include  -Wall -W -O3 -fomit-frame-pointer 
-march=i586
 -mtune=pentiumpro  -ID:\Qt\2009.04\qt\include 
-ID:\Qt\2009.04\qt\include/Qt -ID
:\Qt\2009.04\qt\include/QtCore -ID:\Qt\2009.04\qt\include/QtGui 
-ID:\Qt\2009.04\
qt\include/QtNetwork -ID:\Qt\2009.04\qt\include/QtWebKit  -omoc_slots.o 
-c ../..
/../moc_slots.cpp
../../../moc_slots.cpp: In member function `virtual int 
Slots::qt_metacall(QMeta
Object::Call, int, void**)':
../../../moc_slots.cpp:606: error: `contentsChanged' was not declared in 
this sc
ope
../../../moc_slots.cpp:607: error: `QWebFrame' has not been declared
../../../moc_slots.cpp:607: error: expected `>' before '*' token
../../../moc_slots.cpp:607: error: expected `(' before '*' token
../../../moc_slots.cpp:607: error: expected primary-expression before 
')' token
../../../moc_slots.cpp:608: error: `downloadRequested' was not declared 
in this
scope
../../../moc_slots.cpp:609: error: `QWebFrame' has not been declared
../../../moc_slots.cpp:609: error: expected `>' before '*' token
../../../moc_slots.cpp:609: error: expected `(' before '*' token
../../../moc_slots.cpp:609: error: expected primary-expression before 
')' token
../../../moc_slots.cpp:610: error: `geometryChangeRequested' was not 
declared in
 this scope
../../../moc_slots.cpp:611: error: `linkClicked' was not declared in 
this scope
../../../moc_slots.cpp:612: error: no matching function for call to 
`Slots::link
Hovered(const QString&, const QString&, const QString&)'
../../../hbqt_slots.h:317: note: candidates are: void 
Slots::linkHovered(const Q
String&)
../../../moc_slots.cpp:613: error: `loadFinished' was not declared in 
this scope

../../../moc_slots.cpp:614: error: `loadProgress' was not declared in 
this scope

../../../moc_slots.cpp:615: error: `loadStarted' was not declared in 
this scope
../../../moc_slots.cpp:616: error: `menuBarVisibilityChangeRequested' 
was not de
clared in this scope
../../../moc_slots.cpp:617: error: `microFocusChanged' was not declared 
in this
scope
../../../moc_slots.cpp:618: error: `QWebFrame' has not been declared
../../../moc_slots.cpp:618: error: expected `>' before '*' token
../../../moc_slots.cpp:618: error: expected `(' before '*' token
../../../moc_slots.cpp:618: error: expected primary-expression before 
')' token
../../../moc_slots.cpp:619: error: `repaintRequested' was not declared 
in this s
cope
../../../moc_slots.cpp:620: error: `QWebFrame' has not been declared
../../../moc_slots.cpp:620: error: expected `>' before '*' token
../../../moc_slots.cpp:620: error: expected `(' before '*' token
../../../moc_slots.cpp:620: error: expected primary-expression before 
')' token
../../../moc_slots.cpp:621: error: `QWebFrame' has not been declared
../../../moc_slots.cpp:621: error: expected `>' before '*' token
../../../moc_slots.cpp:621: error: expected `(' before '*' token
../../../moc_slots.cpp:621: error: expected primary-expression before 
')' token
../../../moc_slots.cpp:621: error: `QWebHistoryItem' has not been declared
../../../moc_slots.cpp:621: error: expected `>' before '*' token
../../../moc_slots.cpp:621: error: expected `(' before '*' token
../../../moc_slots.cpp:621: error: expected primary-expression before 
')' token
../../../moc_slots.cpp:621: error: expected `)' before ';' token
../../../moc_slots.cpp:622: error: `scrollRequested' was not declared in 
this sc
ope
../../../moc_slots.cpp:623: error: `statusBarMessage' was not declared 
in this s
cope
../../../moc_slots.cpp:624: error: `statusBarVisibilityChangeRequested' 
was not
declared in this scope
../../../moc_slots.cpp:625: error: `toolBarVisibilityChangeRequested' 
was not de
clared in this scope
../../../moc_slots.cpp:626: error: `QNetworkReply' has not been declared
../../../moc_slots.cpp:626: error: expected `>' before '*' token
../../../moc_slots.cpp:626: error: expected `(' before '*' token
../../../moc_slots.cpp:626: error: expected primary-expression before 
')' token
../../../moc_slots.cpp:627: error: `windowCloseRequested' was not 
declared in th
is scope
../../../moc_slots.cpp:628: error: `iconChanged' was not declared in 
this scope
../../../moc_slots.cpp:629: error: `titleChanged' was not declared in 
this scope

../../../moc_slots.cpp:630: error: `urlChanged' was not declared in this 
scope
../../../moc_slots.cpp:606: warning: unused variable 'contentsChanged'
../../../moc_slots.cpp:608: warning: unused variable 'downloadRequested'
../../../moc_slots.cpp:610: warning: unused variable 
'geometryChangeRequested'
../../../moc_slots.cpp:611: warning: unused variable 'linkClicked'
../../../moc_slots.cpp:613: warning: unused variable 'loadFinished'
../../../moc_slots.cpp:614: warning: unused variable 'loadProgress'
../../../moc_slots.cpp:615: warning: unused variable 'loadStarted'
../../../moc_slots.cpp:616: warning: unused variable 
'menuBarVisibilityChangeReq
uested'
../../../moc_slots.cpp:617: warning: unused variable 'microFocusChanged'
../../../moc_slots.cpp:619: warning: unused variable 'repaintRequested'
../../../moc_slots.cpp:622: warning: unused variable 'scrollRequested'
../../../moc_slots.cpp:623: warning: unused variable 'statusBarMessage'
../../../moc_slots.cpp:624: warning: unused variable 
'statusBarVisibilityChangeR
equested'
../../../moc_slots.cpp:625: warning: unused variable 
'toolBarVisibilityChangeReq
uested'
../../../moc_slots.cpp:627: warning: unused variable 'windowCloseRequested'
../../../moc_slots.cpp:628: warning: unused variable 'iconChanged'
../../../moc_slots.cpp:629: warning: unused variable 'titleChanged'
../../../moc_slots.cpp:630: warning: unused variable 'urlChanged'
mingw32-make.exe[3]: *** [moc_slots.o] Error 1
mingw32-make.exe[2]: *** [descend] Error 2
mingw32-make.exe[1]: *** [hbqt.inst] Error 2
mingw32-make.exe: *** [contrib.inst] Error 2
****************************************************************
From vszakats at users.sourceforge.net  Mon Nov 23 03:14:25 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 23 03:14:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12988] trunk/harbour
Message-ID: <E1NCU41-0007aW-IZ@3kljzd1.ch3.sourceforge.com>

Revision: 12988
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12988&view=rev
Author:   vszakats
Date:     2009-11-23 08:14:24 +0000 (Mon, 23 Nov 2009)

Log Message:
-----------
2009-11-23 09:11 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/filesys.c
    ! Fixed leak in hb_fsCurDirBuff() report by Pritpal.
      Please test/review.

  * contrib/hbwin/win_prn2.c
    * Changed prefix of HB_SIZE type variables.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/src/rtl/filesys.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vatzct at polly.com.ua  Mon Nov 23 03:21:58 2009
From: vatzct at polly.com.ua (vatzct)
Date: Mon Nov 23 03:21:41 2009
Subject: [Harbour] Unrecoverable error 9994: Harbour CP (UA866)
	initialization failure
Message-ID: <4B0A4626.4080605@polly.com.ua>

Hi!

! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
! MAKE: mingw32-make 3.81 sh.exe clean install
! HB_INSTALL_PREFIX: c:\dev\harbour\
! HB_BUILD_DLL: no
! HB_BUILD_SHARED: no
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
! HB_PLATFORM: win (x86) (autodetected)
! HB_COMPILER: mingw (autodetected: c:/mingw/bin/)
...
./bin/win/mingw/hbrun.exe --hb:gtcgi ./bin/postinst.prg

Unrecoverable error 9994: Harbour CP (UA866) initialization failure
mingw32-make: *** [install] Error 1

Regards,
Alexey Myronenko
From harbour.01 at syenar.hu  Mon Nov 23 04:11:16 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 23 04:11:25 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0911230650140.11887@dawn.royalcomp.hu>
References: <E1NCB5b-0000d6-1M@74yxhf1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0911221303200.11887@dawn.royalcomp.hu>
	<81017108-A66E-40F6-B009-10FB6ABE5725@syenar.hu>
	<alpine.DEB.2.00.0911221401130.11887@dawn.royalcomp.hu>
	<20091122183305.GA30816@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911230059060.11887@dawn.royalcomp.hu>
	<alpine.DEB.2.00.0911230139530.11887@dawn.royalcomp.hu>
	<BF919D32-9ADA-4842-9096-FD650FB9D5FA@syenar.hu>
	<alpine.DEB.2.00.0911230650140.11887@dawn.royalcomp.hu>
Message-ID: <D4FC21AB-7D54-46D4-A1C3-7F9371E53AE9@syenar.hu>

>>> i'm fighting with the attached llvmgcc target definition, but i got 
>>> stuck, and can't ffigure out where do cflags leak into ldflags. just 
>>> try building it, you'll see.
>>> cluebat, please?
>> 
>> For some reason CPPFLAGS is passed to linker 
>> (while CFLAGS isn't). This is so since the beginning, 
>> and no one has touched this remaining strangeness yet.
> 
> it's actually CFLAGS, and is in rules.mk:66
> 
> is there any ill effect were it to be removed? i'm in a sort of a 

I suspect there is, anyhow it would be good to solve this.

> hurry now, but without this, at least linux/gcc, linux/g++, 
> linux/sunpro and linux x os2/watcom c++ is still ok, whereas llvmgcc 
> definitely gets further on (and now blows up in what at cursory 
> eyeballing seems to be hb-mkdyn, which is understandable).

hb-mkdyn is used only for some smaller tasks at 
postinst phase, the dynlibs are now created 
directly by the make system, so maybe the problem 
isn't that bad.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Nov 23 04:27:10 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 23 04:27:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12989] trunk/harbour
Message-ID: <E1NCVCQ-00041u-0Q@74yxhf1.ch3.sourceforge.com>

Revision: 12989
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12989&view=rev
Author:   vszakats
Date:     2009-11-23 09:27:08 +0000 (Mon, 23 Nov 2009)

Log Message:
-----------
2009-11-23 10:25 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn2.c
    ! Commented buggy code dealing with Chr( 256 ) strippage in PRINTFILERAW().
      While I can imagine Chr( 26 ) may cause a little inconvenience
      when sent to printer, it will just be a small visual one, and it's
      very easy to overcome by using HB_MEMOWRIT() instead of MEMOWRIT()
      to create the disk file, if the file was created by other means,
      the Chr( 26 ) won't be there anyway. Anyhow I opted to have a clear cut
      behavior even if it's slightly incompatible because old implementation
      was buggy, and IMO such printing function shouldn't do behind-the-scenes
      alterations on the data to be printed. After all the function is called
      "RAW".
      INCOMPATIBLE for files which has an ending Chr( 26 ).

  * contrib/hbide/hbide.prg
    ! Removed CURDRIVE() and CURDIR() usage.
      Notice that on *nix platforms there is no such thing as
      drive letter, plus some platforms don't even have the
      concept of current dir. CURDRIVE() is also an XBase++
      specific call, so it may not be available in Harbour core.
    ! Removed hard-wired Windows specific path from save dialog.
      (it was a template yet)

  * config/rules.mk
    ! Deleted CFLAGS from default link rule.
      After quick scan through the make files this shouldn't cause
      problems. Please test and if it does, we should add missing
      options to LDFLAGS.
    ; TODO: Clean CPPFLAGS vs. CFLAGS usage in all .mk files.
            They should all uniformly use CFLAGS now.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/rules.mk
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbwin/win_prn2.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Nov 23 04:29:35 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 23 04:29:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12990]
	trunk/harbour/ChangeLog
Message-ID: <E1NCVEl-00044M-Q6@74yxhf1.ch3.sourceforge.com>

Revision: 12990
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12990&view=rev
Author:   vszakats
Date:     2009-11-23 09:29:34 +0000 (Mon, 23 Nov 2009)

Log Message:
-----------
little typos in last entry

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From itamarlins at bol.com.br  Mon Nov 23 04:54:22 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Mon Nov 23 04:57:06 2009
Subject: [Harbour] Re: Re: Re: Re: Re: Win_prn problem.
References: <hd4ahg$3h6$1@ger.gmane.org><609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com><hd4gui$l8q$1@ger.gmane.org><609353e70911071141r1f93a800ne3e3ab032d1495c1@mail.gmail.com><hd6d8b$la2$1@ger.gmane.org><609353e70911080534n1c327690qae2f1e1f05d7bb98@mail.gmail.com><hd7ctd$eh1$1@ger.gmane.org><609353e70911081407s298f73bai1dc4f8a7272a611e@mail.gmail.com><hd7l2k$46n$1@ger.gmane.org><609353e70911090004h7d01346bkad8fbd9881e8fa8@mail.gmail.com><18d502870911090040r1a112deew50d43574e4b4c5aa@mail.gmail.com><370975DB-72F6-4998-BA8E-E356E07DC572@syenar.hu>
	<64D3E786-B3D3-475D-B309-DD1812B7037E@syenar.hu>
Message-ID: <hedm8i$2qq$1@ger.gmane.org>

Hi!
The return of command "oPrn:TextOut('Font Is: '+oPrn:FontName,.t.)" is 
correct now.
But not  is possible yet print draw box double horizontal for example. I get 


My test with pdfcreator print is.

Function Main

aPrn := GetPrinters()
If empty(aPrn)
   MsgStop("Error")
   return .f.
EndIf

oPrn := win_prn():New(GetDefaultPrinter())
oPrn :LandScape := .f.
oPrn :Copies    :=  1

if !oPrn:Create()
     MsgStop("error")
     return nil
endif

if !oPrn:StartDoc("test")
    MsgStop("Error")
    return nil
EndIf

oPrn:CharSet(255)
oPrn:Setfont('Lucida Console',,11,,,,255)
oPrn:SetPrc(1,0) //Is necessary, because if I omit not print first line.

oPrn:TextOut('Charset is: '+str(oPrn:Charset(),5),.t.)
oPrn:TextOut('Font Is: '+oPrn:FontName,.t.)

For n := 1  to 255
  oPrn:TextOut(chr(n),.t.)

  if n == 60 .or. n == 120 .or. n == 180 .or. n == 240
   oPrn:NewPage()
  EndIf
Next

oPrn:EndDoc()

MSVC, windows XP
/*
 * $Id: ChangeLog 12988 2009-11-23 08:14:24Z vszakats $
 */

Best regards,
Itamar M. Lins Jr.

"Viktor Szakts" <harbour.01@syenar.hu> 
escreveu na mensagem news:64D3E786-B3D3-475D-B309-DD1812B7037E@syenar.hu...
Hi Itamar,

I've accidentally found the problem while
reviewing hbwin code, so if you try now it
should work. I've since realized that the
output looked indeed wrong, but I didn't know
what to look for.

Brgds,
Viktor




From harbour.01 at syenar.hu  Mon Nov 23 05:02:06 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 23 05:02:16 2009
Subject: [Harbour] Re: Re: Re: Re: Re: Win_prn problem.
In-Reply-To: <hedm8i$2qq$1@ger.gmane.org>
References: <hd4ahg$3h6$1@ger.gmane.org><609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com><hd4gui$l8q$1@ger.gmane.org><609353e70911071141r1f93a800ne3e3ab032d1495c1@mail.gmail.com><hd6d8b$la2$1@ger.gmane.org><609353e70911080534n1c327690qae2f1e1f05d7bb98@mail.gmail.com><hd7ctd$eh1$1@ger.gmane.org><609353e70911081407s298f73bai1dc4f8a7272a611e@mail.gmail.com><hd7l2k$46n$1@ger.gmane.org><609353e70911090004h7d01346bkad8fbd9881e8fa8@mail.gmail.com><18d502870911090040r1a112deew50d43574e4b4c5aa@mail.gmail.com><370975DB-72F6-4998-BA8E-E356E07DC572@syenar.hu>
	<64D3E786-B3D3-475D-B309-DD1812B7037E@syenar.hu>
	<hedm8i$2qq$1@ger.gmane.org>
Message-ID: <0DF2BF0B-F341-4023-9A3B-5980069A7111@syenar.hu>

> Hi!
> The return of command "oPrn:TextOut('Font Is: '+oPrn:FontName,.t.)" is 
> correct now.

Amen.

> But not  is possible yet print draw box double horizontal for example. I get 
> ?????

I'll let someone else to solve this for you, 
anyhow it's not a Harbour bug.

Brgds,
Viktor

From dmacias at mail.udg.mx  Mon Nov 23 05:23:20 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Mon Nov 23 05:23:38 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
Message-ID: <4B0A6298.5060106@mail.udg.mx>

Przemek:

 >  * harbour/src/vm/dlmalloc.c
 >    * modifications for non MS-Windows WATCOM builds
 >      TOFIX: now it compiles in Linux and OS2 builds but it still does
 >not work

Do you need some tests on OS/2 ?

David Macias



From vszakats at users.sourceforge.net  Mon Nov 23 07:17:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 23 07:17:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12991] trunk/harbour
Message-ID: <E1NCXrI-0002KW-3u@dn4whf1.ch3.sourceforge.com>

Revision: 12991
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12991&view=rev
Author:   vszakats
Date:     2009-11-23 12:17:30 +0000 (Mon, 23 Nov 2009)

Log Message:
-----------
2009-11-23 13:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/beos/gcc.mk
  * config/bsd/gcc.mk
  * config/wce/mingwarm.mk
  * config/wce/poccarm.mk
  * config/wce/msvcarm.mk
  * config/darwin/gcc.mk
  * config/darwin/icc.mk
  * config/darwin/clang.mk
  * config/hpux/gcc.mk
  * config/dos/watcom.mk
  * config/dos/djgpp.mk
  * config/win/xcc.mk
  * config/win/mingw.mk
  * config/win/pocc.mk
  * config/win/bcc.mk
  * config/win/watcom.mk
  * config/win/icc.mk
  * config/win/pocc64.mk
  * config/win/cygwin.mk
  * config/win/msvc.mk
  * config/linux/watcom.mk
  * config/linux/gcc.mk
  * config/linux/icc.mk
  * config/linux/clang.mk
  * config/linux/sunpro.mk
  * config/os2/watcom.mk
  * config/os2/gcc.mk
  * config/sunos/gcc.mk
  * config/sunos/sunpro.mk
    + Uniformly using CFLAGS to store C compilation flags, instead
      of a previous mixture of CPPFLAGS and CFLAGS.

  * config/rules.mk
    - Deleted CPPFLAGS.

  * INSTALL
  * bin/postinst.bat
    ! Minor fixes in texts.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/postinst.bat
    trunk/harbour/config/beos/gcc.mk
    trunk/harbour/config/bsd/gcc.mk
    trunk/harbour/config/darwin/clang.mk
    trunk/harbour/config/darwin/gcc.mk
    trunk/harbour/config/darwin/icc.mk
    trunk/harbour/config/dos/djgpp.mk
    trunk/harbour/config/dos/watcom.mk
    trunk/harbour/config/hpux/gcc.mk
    trunk/harbour/config/linux/clang.mk
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/config/linux/icc.mk
    trunk/harbour/config/linux/sunpro.mk
    trunk/harbour/config/linux/watcom.mk
    trunk/harbour/config/os2/gcc.mk
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/config/rules.mk
    trunk/harbour/config/sunos/gcc.mk
    trunk/harbour/config/sunos/sunpro.mk
    trunk/harbour/config/wce/mingwarm.mk
    trunk/harbour/config/wce/msvcarm.mk
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/bcc.mk
    trunk/harbour/config/win/cygwin.mk
    trunk/harbour/config/win/icc.mk
    trunk/harbour/config/win/mingw.mk
    trunk/harbour/config/win/msvc.mk
    trunk/harbour/config/win/pocc.mk
    trunk/harbour/config/win/pocc64.mk
    trunk/harbour/config/win/watcom.mk
    trunk/harbour/config/win/xcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Nov 23 07:52:45 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 23 07:52:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0911230059060.11887@dawn.royalcomp.hu>
References: <E1NCB5b-0000d6-1M@74yxhf1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0911221303200.11887@dawn.royalcomp.hu>
	<81017108-A66E-40F6-B009-10FB6ABE5725@syenar.hu>
	<alpine.DEB.2.00.0911221401130.11887@dawn.royalcomp.hu>
	<20091122183305.GA30816@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911230059060.11887@dawn.royalcomp.hu>
Message-ID: <20091123125245.GA29583@linux-4bod.home.aster.pl>

On Mon, 23 Nov 2009, Tamas TEVESZ wrote:

Hi,

>  > You have quite precise error message here.
>  > I've just checked that also in Suse11.2 llvm-ranlib does not create index
>  > which can be recognized by llvm-gcc. It's probably bug which should be
>  > reported to LLVM developers.
>  > As workaround I used ranlib instead of llvm-ranlib to create indexes and
>  > created full harbour build using HB_CCPREFIX=llvm- without any problems.
> that is exactly what's happening, and according to llvm bugzilla, this 
> is what should be happening, see:
> http://www.mail-archive.com/llvmbugs@cs.uiuc.edu/msg03238.html

Please note that we are calling llvm-gcc to link final application
and it does not work. I haven't check if it does not call llvm-ld
but native ld or llvm-ld does not work correctly. It doesn't matter
for us. Important is only that calling llvm-gcc to create binaries
does not work with libraries created by llvm-ar what is a problem
which should be resolved by packager or llvm authors. It's not
out job to add workarounds for such things into core harbour code.

> so it may be that the solution is not HB_CCPREFIX after all, but a 
> separate llvmgcc target, which, for starters, only sets HB_CMP.

I still to think that it's good idea to encode workarounds for problems
with other packages into harbour core code. IMHO much simpler temporary
solution is:
   ln -sf /usr/bin/ar /usr/bin/llvm/ar
from root account until someone will have not create llvm-gcc packages with
llvm-gcc which can work with llvm-ar correctly.

> it seems that the supposed improvements using llvm start pouring when 
> it's also used for linking, see for example:
> http://www.nntp.perl.org/group/perl.perl5.porters/2008/06/msg137461.html
> this could be added as a next step, once an llvmgcc target is in 
> there.

It will not give any real improvement to Harbour HVM because we already
enabled inter procedural optimization in whole HVM code by introducing
hvmall.c so it works for compiler which do not have link time IPO. Few
months ago I tested using ICC that it gives in practice the same
improvement and introducing link time IPO does give farther speed
optimizations but strongly increase the size of final binaries.
So if LLVM/GCC does not disable some compile time IPO which exist in GCC
then at current state there is not chance that using LLVM or CLANG we will
have faster final code because we do not leave any time critical code
which can be improved yet by link time IPO.

> HB_CCPREFIX seems absolutely not the way to go.

Can you explain the above. I do not understand it.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Nov 23 07:59:26 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 23 07:59:33 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <4B0A6298.5060106@mail.udg.mx>
References: <4B0A6298.5060106@mail.udg.mx>
Message-ID: <20091123125926.GB29583@linux-4bod.home.aster.pl>

On Mon, 23 Nov 2009, David Arturo Macias Corona wrote:

Hi,

> >  * harbour/src/vm/dlmalloc.c
> >    * modifications for non MS-Windows WATCOM builds
> >      TOFIX: now it compiles in Linux and OS2 builds but it still does
> >not work
> Do you need some tests on OS/2 ?

Yes but first we will have to add support for OS2 MMAP emulation
just like in MS-Windows builds where VirtualAlloc() is used to
emulate mmap().

This code is used for WIN32 builds:

   /* Win32 MMAP via VirtualAlloc */
   static void* win32mmap(size_t size) {
     void* ptr = VirtualAlloc(0, size, MEM_RESERVE|MEM_COMMIT, PAGE_READWRITE);
     return (ptr != 0)? ptr: MFAIL;
   }

   /* For direct MMAP, use MEM_TOP_DOWN to minimize interference */
   static void* win32direct_mmap(size_t size) {
     void* ptr = VirtualAlloc(0, size, MEM_RESERVE|MEM_COMMIT|MEM_TOP_DOWN,
                              PAGE_READWRITE);
     return (ptr != 0)? ptr: MFAIL;
   }

   /* This function supports releasing coalesed segments */
   static int win32munmap(void* ptr, size_t size) {
     MEMORY_BASIC_INFORMATION minfo;
     char* cptr = (char*)ptr; /* NOTE: Harbour fix for MSVC C++ mode compile error. Also fixed in dlmalloc 2.8.4b. [vszakats] */
     while (size) {
       if (VirtualQuery(cptr, &minfo, sizeof(minfo)) == 0)
         return -1;
       if (minfo.BaseAddress != cptr || minfo.AllocationBase != cptr ||
           minfo.State != MEM_COMMIT || minfo.RegionSize > size)
         return -1;
       if (VirtualFree(cptr, 0, MEM_RELEASE) == 0)
         return -1;
       cptr += minfo.RegionSize;
       size -= minfo.RegionSize;
     }
     return 0;
   }

   #define CALL_MMAP(s)         win32mmap(s)
   #define CALL_MUNMAP(a, s)    win32munmap((a), (s))
   #define DIRECT_MMAP(s)       win32direct_mmap(s)

and we have to translate it to OS2 API. Probably it's sth trivial for OS2
users but I will have to look in the internet for OS2 API documentation
to find corresponding functions giving similar functionality. If no one
will help then I'll try to make it myself and I'll ask you to make some
tests.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Nov 23 08:02:00 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 23 08:02:07 2009
Subject: [Harbour] Unrecoverable error 9994: Harbour CP (UA866)
	initialization failure
In-Reply-To: <4B0A4626.4080605@polly.com.ua>
References: <4B0A4626.4080605@polly.com.ua>
Message-ID: <20091123130200.GC29583@linux-4bod.home.aster.pl>

On Mon, 23 Nov 2009, vatzct wrote:

Hi,

> ! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
> ! MAKE: mingw32-make 3.81 sh.exe clean install
> ! HB_INSTALL_PREFIX: c:\dev\harbour\
> ! HB_BUILD_DLL: no
> ! HB_BUILD_SHARED: no
> ! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
> ! HB_PLATFORM: win (x86) (autodetected)
> ! HB_COMPILER: mingw (autodetected: c:/mingw/bin/)
> ...
> ./bin/win/mingw/hbrun.exe --hb:gtcgi ./bin/postinst.prg
> Unrecoverable error 9994: Harbour CP (UA866) initialization failure
> mingw32-make: *** [install] Error 1

You are using modified cpua866.c which have wrongly defined letters
strings. Now such wrongly defined strings are detected by CPD API code
which refuse to register broken CPs generating above error.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Nov 23 08:06:13 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Nov 23 08:06:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12992] trunk/harbour
Message-ID: <E1NCYcP-0006tx-M5@d5vjzd1.ch3.sourceforge.com>

Revision: 12992
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12992&view=rev
Author:   druzus
Date:     2009-11-23 13:06:05 +0000 (Mon, 23 Nov 2009)

Log Message:
-----------
2009-11-23 14:05 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/filesys.c
    % eliminated memory allocation from hb_fsCurDirBuff() if non UNICODE
      WIN32 API is used

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/filesys.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vatzct at polly.com.ua  Mon Nov 23 08:11:55 2009
From: vatzct at polly.com.ua (vatzct)
Date: Mon Nov 23 08:11:40 2009
Subject: [Harbour] Unrecoverable error 9994: Harbour CP
	(UA866)	initialization failure
In-Reply-To: <20091123130200.GC29583@linux-4bod.home.aster.pl>
References: <4B0A4626.4080605@polly.com.ua>
	<20091123130200.GC29583@linux-4bod.home.aster.pl>
Message-ID: <4B0A8A1B.9030108@polly.com.ua>

Przemys?aw Czerpak ???????(??):
> On Mon, 23 Nov 2009, vatzct wrote:
>
> Hi,
>
>   
>> ! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
>> ! MAKE: mingw32-make 3.81 sh.exe clean install
>> ! HB_INSTALL_PREFIX: c:\dev\harbour\
>> ! HB_BUILD_DLL: no
>> ! HB_BUILD_SHARED: no
>> ! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
>> ! HB_PLATFORM: win (x86) (autodetected)
>> ! HB_COMPILER: mingw (autodetected: c:/mingw/bin/)
>> ...
>> ./bin/win/mingw/hbrun.exe --hb:gtcgi ./bin/postinst.prg
>> Unrecoverable error 9994: Harbour CP (UA866) initialization failure
>> mingw32-make: *** [install] Error 1
>>     
>
> You are using modified cpua866.c which have wrongly defined letters
> strings. Now such wrongly defined strings are detected by CPD API code
> which refuse to register broken CPs generating above error.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>   
Thanks.

I'm download original cpua866.c and now all ok.

Regards,
Alexey Myronenko
From maurilio.longo at libero.it  Mon Nov 23 08:19:51 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Nov 23 08:20:01 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <20091123125926.GB29583@linux-4bod.home.aster.pl>
References: <4B0A6298.5060106@mail.udg.mx>
	<20091123125926.GB29583@linux-4bod.home.aster.pl>
Message-ID: <4B0A8BF7.2040807@libero.it>

Przemyslaw,

there is no MMAP api on OS/2. Long ago I write an emulation layer which is
still around to help porting miniSQL to OS/2. It worked ok, but it was an hack
with several limitations (in particular for mmapping shared regions).

In my opinion dlmalloc should not be used on OS/2 if it does not work without
mmap().

Best regards.

Maurilio.


Przemys?aw Czerpak wrote:
> On Mon, 23 Nov 2009, David Arturo Macias Corona wrote:
> 
> Hi,
> 
>>>  * harbour/src/vm/dlmalloc.c
>>>    * modifications for non MS-Windows WATCOM builds
>>>      TOFIX: now it compiles in Linux and OS2 builds but it still does
>>> not work
>> Do you need some tests on OS/2 ?
> 
> Yes but first we will have to add support for OS2 MMAP emulation
> just like in MS-Windows builds where VirtualAlloc() is used to
> emulate mmap().
> 
> This code is used for WIN32 builds:
> 
>    /* Win32 MMAP via VirtualAlloc */
>    static void* win32mmap(size_t size) {
>      void* ptr = VirtualAlloc(0, size, MEM_RESERVE|MEM_COMMIT, PAGE_READWRITE);
>      return (ptr != 0)? ptr: MFAIL;
>    }
> 
>    /* For direct MMAP, use MEM_TOP_DOWN to minimize interference */
>    static void* win32direct_mmap(size_t size) {
>      void* ptr = VirtualAlloc(0, size, MEM_RESERVE|MEM_COMMIT|MEM_TOP_DOWN,
>                               PAGE_READWRITE);
>      return (ptr != 0)? ptr: MFAIL;
>    }
> 
>    /* This function supports releasing coalesed segments */
>    static int win32munmap(void* ptr, size_t size) {
>      MEMORY_BASIC_INFORMATION minfo;
>      char* cptr = (char*)ptr; /* NOTE: Harbour fix for MSVC C++ mode compile error. Also fixed in dlmalloc 2.8.4b. [vszakats] */
>      while (size) {
>        if (VirtualQuery(cptr, &minfo, sizeof(minfo)) == 0)
>          return -1;
>        if (minfo.BaseAddress != cptr || minfo.AllocationBase != cptr ||
>            minfo.State != MEM_COMMIT || minfo.RegionSize > size)
>          return -1;
>        if (VirtualFree(cptr, 0, MEM_RELEASE) == 0)
>          return -1;
>        cptr += minfo.RegionSize;
>        size -= minfo.RegionSize;
>      }
>      return 0;
>    }
> 
>    #define CALL_MMAP(s)         win32mmap(s)
>    #define CALL_MUNMAP(a, s)    win32munmap((a), (s))
>    #define DIRECT_MMAP(s)       win32direct_mmap(s)
> 
> and we have to translate it to OS2 API. Probably it's sth trivial for OS2
> users but I will have to look in the internet for OS2 API documentation
> to find corresponding functions giving similar functionality. If no one
> will help then I'll try to make it myself and I'll ask you to make some
> tests.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From ice at extreme.hu  Mon Nov 23 08:20:19 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Mon Nov 23 08:20:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
In-Reply-To: <20091123125245.GA29583@linux-4bod.home.aster.pl>
References: <E1NCB5b-0000d6-1M@74yxhf1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0911221303200.11887@dawn.royalcomp.hu>
	<81017108-A66E-40F6-B009-10FB6ABE5725@syenar.hu>
	<alpine.DEB.2.00.0911221401130.11887@dawn.royalcomp.hu>
	<20091122183305.GA30816@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911230059060.11887@dawn.royalcomp.hu>
	<20091123125245.GA29583@linux-4bod.home.aster.pl>
Message-ID: <alpine.DEB.2.00.0911231356400.11887@dawn.royalcomp.hu>

On Mon, 23 Nov 2009, Przemys?aw Czerpak wrote:

 > > that is exactly what's happening, and according to llvm bugzilla, this 
 > > is what should be happening, see:
 > > http://www.mail-archive.com/llvmbugs@cs.uiuc.edu/msg03238.html
 > 
 > Please note that we are calling llvm-gcc to link final application
 > and it does not work. I haven't check if it does not call llvm-ld
 > but native ld or llvm-ld does not work correctly. It doesn't matter
 > for us. Important is only that calling llvm-gcc to create binaries
 > does not work with libraries created by llvm-ar what is a problem
 > which should be resolved by packager or llvm authors. It's not
 > out job to add workarounds for such things into core harbour code.
 > 
 > > so it may be that the solution is not HB_CCPREFIX after all, but a 
 > > separate llvmgcc target, which, for starters, only sets HB_CMP.
 > 
 > I still to think that it's good idea to encode workarounds for problems
 > with other packages into harbour core code. IMHO much simpler temporary
 > solution is:
 >    ln -sf /usr/bin/ar /usr/bin/llvm/ar
 > from root account until someone will have not create llvm-gcc packages with
 > llvm-gcc which can work with llvm-ar correctly.

they work together correctly, if they are configured to work together 
correctly. my first stab, they were not. i'm much further now, and 
almost have a complete compilation+link cycle without workarounds like 
above (as i slowly start to understand how llvm + frontends work).

 > > it seems that the supposed improvements using llvm start pouring when 
 > > it's also used for linking, see for example:
 > > http://www.nntp.perl.org/group/perl.perl5.porters/2008/06/msg137461.html
 > > this could be added as a next step, once an llvmgcc target is in 
 > > there.
 > 
 > It will not give any real improvement to Harbour HVM because we already
 > enabled inter procedural optimization in whole HVM code by introducing
 > hvmall.c so it works for compiler which do not have link time IPO. Few
 > months ago I tested using ICC that it gives in practice the same
 > improvement and introducing link time IPO does give farther speed
 > optimizations but strongly increase the size of final binaries.
 > So if LLVM/GCC does not disable some compile time IPO which exist in GCC
 > then at current state there is not chance that using LLVM or CLANG we will
 > have faster final code because we do not leave any time critical code
 > which can be improved yet by link time IPO.

i wholeheartedly believe you, but i still do not see this as a futile 
excercise. if nothing else, *i* will learn something new.

 > > HB_CCPREFIX seems absolutely not the way to go.
 > 
 > Can you explain the above. I do not understand it.

i do not really understand what is it you do not understand. 
HB_CCPREFIX is just that, prepending some prefix to the compiler and 
binutils and stuff names. in this llvmgcc case, modifying several 
compiler options is also needed, so setting only prefix is not enough.

-- 
[-]

mkdir /nonexistent
From vatzct at polly.com.ua  Mon Nov 23 08:26:27 2009
From: vatzct at polly.com.ua (vatzct)
Date: Mon Nov 23 08:26:13 2009
Subject: [Harbour] valtype and type
Message-ID: <4B0A8D83.9060404@polly.com.ua>

Valtype and type show differrent result (sample below). Who is wrong me, 
valtype or type?

FUNCTION main(  )

   LOCAL str_sep := "()", yy_sep, xx_sep, xy

   local str_arr:='("ID","C",1,0)("CVAR","C",20,0)("ZVAR","C",100,0)'
   xx_sep := NumToken( str_arr, str_sep )
   for ii := 1 TO xx_sep
      ss := token( str_arr, str_sep, ii )
      ?ss
      yy_sep := NumToken( ss, "," )
      IF yy_sep == 4
         for y := 1 TO yy_sep
             xy := token(ss,",",y)
             ?y,xy,valtype(xy),type(xy)
         next
      ENDIF
   next
   RETURN nil


My result is

C:\hrb\test\token\>testtoken.exe

"ID","C",1,0
         1 "ID" C C
         2 "C" C C
         3 1 C N
         4 0 C N
"CVAR","C",20,0
         1 "CVAR" C C
         2 "C" C C
         3 20 C N
         4 0 C N
"ZVAR","C",100,0
         1 "ZVAR" C C
         2 "C" C C
         3 100 C N
         4 0 C N

Regards,
Alexey Myronenko
From druzus at acn.waw.pl  Mon Nov 23 08:44:04 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 23 08:44:11 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <4B0A8BF7.2040807@libero.it>
References: <4B0A6298.5060106@mail.udg.mx>
	<20091123125926.GB29583@linux-4bod.home.aster.pl>
	<4B0A8BF7.2040807@libero.it>
Message-ID: <20091123134404.GA7877@linux-4bod.home.aster.pl>

On Mon, 23 Nov 2009, Maurilio Longo wrote:
> there is no MMAP api on OS/2.

Just like in MS-Windows.

> Long ago I write an emulation layer which is
> still around to help porting miniSQL to OS/2. It worked ok, but it was an hack
> with several limitations (in particular for mmapping shared regions).
> In my opinion dlmalloc should not be used on OS/2 if it does not work without
> mmap().

It works without MMAP.
It does not need strict MMAPs but only access to functions which allocates
and frees range of memory pages from system. See code below used in
MS-Windows builds. I do not know details of OS2 API but seems that adding
support for OS2 is only simple replacing Virtual*() WIN-API functions with
Dos*Mem() OS2-API functions. If I'm right then above modification can be
done in few minutes. What do you think about it?

best regards,
Przemek


> > This code is used for WIN32 builds:
> > 
> >    /* Win32 MMAP via VirtualAlloc */
> >    static void* win32mmap(size_t size) {
> >      void* ptr = VirtualAlloc(0, size, MEM_RESERVE|MEM_COMMIT, PAGE_READWRITE);
> >      return (ptr != 0)? ptr: MFAIL;
> >    }
> > 
> >    /* For direct MMAP, use MEM_TOP_DOWN to minimize interference */
> >    static void* win32direct_mmap(size_t size) {
> >      void* ptr = VirtualAlloc(0, size, MEM_RESERVE|MEM_COMMIT|MEM_TOP_DOWN,
> >                               PAGE_READWRITE);
> >      return (ptr != 0)? ptr: MFAIL;
> >    }
> > 
> >    /* This function supports releasing coalesed segments */
> >    static int win32munmap(void* ptr, size_t size) {
> >      MEMORY_BASIC_INFORMATION minfo;
> >      char* cptr = (char*)ptr; /* NOTE: Harbour fix for MSVC C++ mode compile error. Also fixed in dlmalloc 2.8.4b. [vszakats] */
> >      while (size) {
> >        if (VirtualQuery(cptr, &minfo, sizeof(minfo)) == 0)
> >          return -1;
> >        if (minfo.BaseAddress != cptr || minfo.AllocationBase != cptr ||
> >            minfo.State != MEM_COMMIT || minfo.RegionSize > size)
> >          return -1;
> >        if (VirtualFree(cptr, 0, MEM_RELEASE) == 0)
> >          return -1;
> >        cptr += minfo.RegionSize;
> >        size -= minfo.RegionSize;
> >      }
> >      return 0;
> >    }
> > 
> >    #define CALL_MMAP(s)         win32mmap(s)
> >    #define CALL_MUNMAP(a, s)    win32munmap((a), (s))
> >    #define DIRECT_MMAP(s)       win32direct_mmap(s)
From druzus at acn.waw.pl  Mon Nov 23 08:46:18 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 23 08:46:24 2009
Subject: [Harbour] valtype and type
In-Reply-To: <4B0A8D83.9060404@polly.com.ua>
References: <4B0A8D83.9060404@polly.com.ua>
Message-ID: <20091123134618.GB7877@linux-4bod.home.aster.pl>

On Mon, 23 Nov 2009, vatzct wrote:

Hi,

> Valtype and type show differrent result (sample below). Who is wrong
> me, valtype or type?

VALTYPE() and TYPE() makes two different things so their results
cannot be compatible. VALTYPE() returnes type of given item.
TYPE() check type of expression passed as 1-st character item.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Nov 23 08:59:01 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 23 08:59:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0911231356400.11887@dawn.royalcomp.hu>
References: <E1NCB5b-0000d6-1M@74yxhf1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0911221303200.11887@dawn.royalcomp.hu>
	<81017108-A66E-40F6-B009-10FB6ABE5725@syenar.hu>
	<alpine.DEB.2.00.0911221401130.11887@dawn.royalcomp.hu>
	<20091122183305.GA30816@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911230059060.11887@dawn.royalcomp.hu>
	<20091123125245.GA29583@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911231356400.11887@dawn.royalcomp.hu>
Message-ID: <20091123135900.GC7877@linux-4bod.home.aster.pl>

On Mon, 23 Nov 2009, Tamas TEVESZ wrote:
>  > I still to think that it's good idea to encode workarounds for problems
>  > with other packages into harbour core code. IMHO much simpler temporary
>  > solution is:
>  >    ln -sf /usr/bin/ar /usr/bin/llvm/ar
>  > from root account until someone will have not create llvm-gcc packages with
>  > llvm-gcc which can work with llvm-ar correctly.
> they work together correctly, if they are configured to work together 
> correctly. my first stab, they were not. i'm much further now, and 
> almost have a complete compilation+link cycle without workarounds like 
> above (as i slowly start to understand how llvm + frontends work).

So I hope that in next releases llvm-gcc will be configured to work
correctly with .a files created by llvm-ar. I still do not see any
reasons to touch Harbour.

>  > Can you explain the above. I do not understand it.
> i do not really understand what is it you do not understand. 
> HB_CCPREFIX is just that, prepending some prefix to the compiler and 
> binutils and stuff names. in this llvmgcc case, modifying several 
> compiler options is also needed, so setting only prefix is not enough.

And we have HB_CCPREFIX because it's standard method of using different
GCC based compilers in single system. I.e. for Suse Linux we have over
30 different GCC based compilers which like LLVM can be used in such way
and this list is systematically growing up.
IMHO HB_CCPREFIX is very nice solution to not introduce explicit support
for each of them into Harbour core code and then update them to keep such
builds alive. Instead using HB_CCPREFIX user can easy compile Harbour using
any GCC based compiler installed in his system when he need it. I still
do not understand why you said:
   "HB_CCPREFIX seems absolutely not the way to go"
For me it's prefect solution. Of course of some configuration switches are
still missing to easy use different GCC based compilers using HB_CCPREFIX
then we should add them.

best regards,
Przemek
From ice at extreme.hu  Mon Nov 23 09:57:03 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Mon Nov 23 09:57:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
In-Reply-To: <20091123135900.GC7877@linux-4bod.home.aster.pl>
References: <E1NCB5b-0000d6-1M@74yxhf1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0911221303200.11887@dawn.royalcomp.hu>
	<81017108-A66E-40F6-B009-10FB6ABE5725@syenar.hu>
	<alpine.DEB.2.00.0911221401130.11887@dawn.royalcomp.hu>
	<20091122183305.GA30816@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911230059060.11887@dawn.royalcomp.hu>
	<20091123125245.GA29583@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911231356400.11887@dawn.royalcomp.hu>
	<20091123135900.GC7877@linux-4bod.home.aster.pl>
Message-ID: <alpine.DEB.2.00.0911231501330.11887@dawn.royalcomp.hu>

On Mon, 23 Nov 2009, Przemys?aw Czerpak wrote:

 > > they work together correctly, if they are configured to work together 
 > > correctly. my first stab, they were not. i'm much further now, and 
 > > almost have a complete compilation+link cycle without workarounds like 
 > > above (as i slowly start to understand how llvm + frontends work).
 > 
 > So I hope that in next releases llvm-gcc will be configured to work
 > correctly with .a files created by llvm-ar. I still do not see any
 > reasons to touch Harbour.

the end-user has to configure them to work together. i have to 
configure to work them together.

this is how this goes:

you can have llvm-gcc emit elf objects, in which case the standard elf 
binutils can work with whatever llvm-gcc emits. this is the case i 
don't care about (and this is the case that probably can be pulled off 
with just using HB_CCPREFIX).

you can have llvm-gcc emit llvm bitcode, in which case the object 
format is not elf, but a blob that the rest of the *llvm* toolchain 
can work with (and consequently any *elf* toolchain can not). this is 
the case i've been massaging for the past couple of days.

 > And we have HB_CCPREFIX because it's standard method of using different
 > GCC based compilers in single system.

*if* they use a similarly working toolchain, yes. but you can't 
separate the compiler from the toolchain anyhow, and the toolchain 
here is different enough to warrant a distinct target.

 > I.e. for Suse Linux we have over
 > 30 different GCC based compilers which like LLVM can be used in such way
 > and this list is systematically growing up.
 > IMHO HB_CCPREFIX is very nice solution to not introduce explicit support
 > for each of them into Harbour core code and then update them to keep such
 > builds alive. Instead using HB_CCPREFIX user can easy compile Harbour using
 > any GCC based compiler installed in his system when he need it. I still
 > do not understand why you said:
 >    "HB_CCPREFIX seems absolutely not the way to go"
 > For me it's prefect solution. Of course of some configuration switches are
 > still missing to easy use different GCC based compilers using HB_CCPREFIX
 > then we should add them.

again, if they use a similarly working toolchain. HB_CCPREFIX is 
perfectly ok what it is used for, but this is not that case.

i am attaching a diff as to where i am at now. gcc.mk and llvmgcc.mk 
are not *that* different (much more different than gcc.mk and 
clang.mk, though), i'd be curious to see what additional knobs would 
you add to the HB_CCPREFIX stuff to merge these two, without creating 
spaghetti in gcc.mk.

ifeq ($(HB_CCPREFIX),llvm-)
CFLAGS := -emit-llvm
else
CFLAGS :=
endif

? this is just as explicit support as it is with a distinct target, 
just worse, for it is "hidden" (inside another target, that is).

add to that that in this case we are not in 
let-the-compiler-do-the-linking-land anymore, and it gets even more 
complicated.

HB_CCPREFIX is not for this this case. (i most certainly didn't mean 
HB_CCPREFIX to be a bad way *in general*, i only meant, and still mean 
HB_CCPREFIX is a bad way *for llvm-gcc*.)

now, as for the diff.

i have removed leaking CFLAGS to the linker, and there is no ill 
effect i see in my build tests (the two that used to fail before that 
still fail, all the rest builds and install just as they used to). 
i'm hazarding a guess that if (big if) it affects anything, that is 
not the gnu toolchain, and it's apparently not watcom either. someone 
should do tests with msvc and borland and the rest of the gang, but i 
don't really think there will be any fallout.

the rest just adds an llvmgcc target, which, at this stage compiles 
and installs mostly fine (both c and c++ modes). the only thing i'm 
missing is the libharbour{,mt}.so -> libharbour{mt}-2.0.0.so symlinks 
in the installed lib/ directory. what makes these?

also, viktor, could you please add this to hbmk2? probably not in the 
tree first, but sending me (or the list) a diff to that end would be a 
big step forward.

thanks,

-- 
[-]

mkdir /nonexistent
-------------- next part --------------
A non-text attachment was scrubbed...
Name: llvmgcc.diff
Type: text/x-diff
Size: 2287 bytes
Desc: 
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091123/b7ab7247/llvmgcc.bin
From druzus at users.sourceforge.net  Mon Nov 23 10:28:32 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Nov 23 10:28:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12993] trunk/harbour
Message-ID: <E1NCaq8-0001jH-Q9@c3vjzd1.ch3.sourceforge.com>

Revision: 12993
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12993&view=rev
Author:   druzus
Date:     2009-11-23 15:28:31 +0000 (Mon, 23 Nov 2009)

Log Message:
-----------
2009-11-23 16:28 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/mpkg_rpm_win.sh
    + added yet another path for cross-mingw compiler detection

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/mpkg_rpm_win.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gvarona at ec-red.com  Mon Nov 23 11:18:23 2009
From: gvarona at ec-red.com (http://news.gmane.org/gmane.comp.db.sqlite.general)
Date: Mon Nov 23 11:15:32 2009
Subject: [Harbour] Function or routine, in console mode,
 to select a file and get the file name and path
Message-ID: <heecdu$ekt$1@ger.gmane.org>

[SPA]
?Habr? alguna funci?n o rutina, en modo consola, para seleccionar un
archivo y obtener el nombre de del archivo y su ruta?
Algo similar a GetFile() del API de Windows.

[ENG] By Google
Is there any function or routine, in console mode, to select a file and
get the file name and path?
Something similar to GetFile () Windows API.

TIA

BestRegars
GVS

From harbour.01 at syenar.hu  Mon Nov 23 11:43:05 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 23 11:43:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0911231501330.11887@dawn.royalcomp.hu>
References: <E1NCB5b-0000d6-1M@74yxhf1.ch3.sourceforge.com>
	<alpine.DEB.2.00.0911221303200.11887@dawn.royalcomp.hu>
	<81017108-A66E-40F6-B009-10FB6ABE5725@syenar.hu>
	<alpine.DEB.2.00.0911221401130.11887@dawn.royalcomp.hu>
	<20091122183305.GA30816@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911230059060.11887@dawn.royalcomp.hu>
	<20091123125245.GA29583@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911231356400.11887@dawn.royalcomp.hu>
	<20091123135900.GC7877@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911231501330.11887@dawn.royalcomp.hu>
Message-ID: <5D9B0DA2-9BB2-453E-AF64-DFB2B6288A28@syenar.hu>

Hi Przemek, Tamas and All,

After reading the conversion now I totally don't 
understand what is the situation with LLVM-GCC.

[ Notice that I've committed patch for 
CPPFLAGS/CFLAGS issue today, so now we have only 
CFLAGS, and no leakage into linker flags. ]

Looking at attached .mk file, it applies these 
settings:

HB_CCPREFIX=llvm-
HB_USER_CFLAGS=-emit-llvm
HB_USER_LDFLAGS=-native

Plus: It switches to call llvm-ld directly 
instead of using the compiler for bin and dyn 
linking.

I'm insure what to do yet. I don't have much against 
new targets when it's justified, but on the other 
hand the number of them is growing in a rate when 
it can quickly become unmaintainable (I maintain 
them, so I know). Please also take into account 
that llvm-gcc isn't just meant to support Linux, 
and if we start to add support to all *nix targets, 
that means a lot of new files to maintain. (same 
goes to clang BTW).

So:
- What is the final status with llvm linking?
  why can't llvm-gcc do these tasks, when it claims 
  gcc compatibility?
- Is there any room to consolidate target .mk 
  files, or any other method to make maintenance feasible?

Finally:
- Is llvm-gcc such a _mature_ target that we should 
  add it to Harbour yet?
- What extra does it offer over llvm/clang?

Brgds,
Viktor

On 2009 Nov 23, at 15:57, Tamas TEVESZ wrote:

> On Mon, 23 Nov 2009, Przemys?aw Czerpak wrote:
> 
>>> they work together correctly, if they are configured to work together 
>>> correctly. my first stab, they were not. i'm much further now, and 
>>> almost have a complete compilation+link cycle without workarounds like 
>>> above (as i slowly start to understand how llvm + frontends work).
>> 
>> So I hope that in next releases llvm-gcc will be configured to work
>> correctly with .a files created by llvm-ar. I still do not see any
>> reasons to touch Harbour.
> 
> the end-user has to configure them to work together. i have to 
> configure to work them together.
> 
> this is how this goes:
> 
> you can have llvm-gcc emit elf objects, in which case the standard elf 
> binutils can work with whatever llvm-gcc emits. this is the case i 
> don't care about (and this is the case that probably can be pulled off 
> with just using HB_CCPREFIX).
> 
> you can have llvm-gcc emit llvm bitcode, in which case the object 
> format is not elf, but a blob that the rest of the *llvm* toolchain 
> can work with (and consequently any *elf* toolchain can not). this is 
> the case i've been massaging for the past couple of days.
> 
>> And we have HB_CCPREFIX because it's standard method of using different
>> GCC based compilers in single system.
> 
> *if* they use a similarly working toolchain, yes. but you can't 
> separate the compiler from the toolchain anyhow, and the toolchain 
> here is different enough to warrant a distinct target.
> 
>> I.e. for Suse Linux we have over
>> 30 different GCC based compilers which like LLVM can be used in such way
>> and this list is systematically growing up.
>> IMHO HB_CCPREFIX is very nice solution to not introduce explicit support
>> for each of them into Harbour core code and then update them to keep such
>> builds alive. Instead using HB_CCPREFIX user can easy compile Harbour using
>> any GCC based compiler installed in his system when he need it. I still
>> do not understand why you said:
>>   "HB_CCPREFIX seems absolutely not the way to go"
>> For me it's prefect solution. Of course of some configuration switches are
>> still missing to easy use different GCC based compilers using HB_CCPREFIX
>> then we should add them.
> 
> again, if they use a similarly working toolchain. HB_CCPREFIX is 
> perfectly ok what it is used for, but this is not that case.
> 
> i am attaching a diff as to where i am at now. gcc.mk and llvmgcc.mk 
> are not *that* different (much more different than gcc.mk and 
> clang.mk, though), i'd be curious to see what additional knobs would 
> you add to the HB_CCPREFIX stuff to merge these two, without creating 
> spaghetti in gcc.mk.
> 
> ifeq ($(HB_CCPREFIX),llvm-)
> CFLAGS := -emit-llvm
> else
> CFLAGS :=
> endif
> 
> ? this is just as explicit support as it is with a distinct target, 
> just worse, for it is "hidden" (inside another target, that is).
> 
> add to that that in this case we are not in 
> let-the-compiler-do-the-linking-land anymore, and it gets even more 
> complicated.
> 
> HB_CCPREFIX is not for this this case. (i most certainly didn't mean 
> HB_CCPREFIX to be a bad way *in general*, i only meant, and still mean 
> HB_CCPREFIX is a bad way *for llvm-gcc*.)
> 
> now, as for the diff.
> 
> i have removed leaking CFLAGS to the linker, and there is no ill 
> effect i see in my build tests (the two that used to fail before that 
> still fail, all the rest builds and install just as they used to). 
> i'm hazarding a guess that if (big if) it affects anything, that is 
> not the gnu toolchain, and it's apparently not watcom either. someone 
> should do tests with msvc and borland and the rest of the gang, but i 
> don't really think there will be any fallout.
> 
> the rest just adds an llvmgcc target, which, at this stage compiles 
> and installs mostly fine (both c and c++ modes). the only thing i'm 
> missing is the libharbour{,mt}.so -> libharbour{mt}-2.0.0.so symlinks 
> in the installed lib/ directory. what makes these?
> 
> also, viktor, could you please add this to hbmk2? probably not in the 
> tree first, but sending me (or the list) a diff to that end would be a 
> big step forward.
> 
> thanks,
> 
> -- 
> [-]
> 
> mkdir /nonexistent<llvmgcc.diff>_______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From maurilio.longo at libero.it  Mon Nov 23 11:45:57 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Nov 23 11:46:06 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <20091123134404.GA7877@linux-4bod.home.aster.pl>
References: <4B0A6298.5060106@mail.udg.mx>	<20091123125926.GB29583@linux-4bod.home.aster.pl>	<4B0A8BF7.2040807@libero.it>
	<20091123134404.GA7877@linux-4bod.home.aster.pl>
Message-ID: <4B0ABC45.1030709@libero.it>

Przemyslaw,

yes, DosAllocMem() and DosQueryMem() should be enough. I'm not sure about the
coalescing thing, since DosQueryMem() gives you back size of a memory object
in bytes and access control flags while the windows version seems to be giving
back more infos.


Maurilio.

Przemys?aw Czerpak wrote:
> On Mon, 23 Nov 2009, Maurilio Longo wrote:
>> there is no MMAP api on OS/2.
> 
> Just like in MS-Windows.
> 
>> Long ago I write an emulation layer which is
>> still around to help porting miniSQL to OS/2. It worked ok, but it was an hack
>> with several limitations (in particular for mmapping shared regions).
>> In my opinion dlmalloc should not be used on OS/2 if it does not work without
>> mmap().
> 
> It works without MMAP.
> It does not need strict MMAPs but only access to functions which allocates
> and frees range of memory pages from system. See code below used in
> MS-Windows builds. I do not know details of OS2 API but seems that adding
> support for OS2 is only simple replacing Virtual*() WIN-API functions with
> Dos*Mem() OS2-API functions. If I'm right then above modification can be
> done in few minutes. What do you think about it?
> 
> best regards,
> Przemek
> 
> 
>>> This code is used for WIN32 builds:
>>>
>>>    /* Win32 MMAP via VirtualAlloc */
>>>    static void* win32mmap(size_t size) {
>>>      void* ptr = VirtualAlloc(0, size, MEM_RESERVE|MEM_COMMIT, PAGE_READWRITE);
>>>      return (ptr != 0)? ptr: MFAIL;
>>>    }
>>>
>>>    /* For direct MMAP, use MEM_TOP_DOWN to minimize interference */
>>>    static void* win32direct_mmap(size_t size) {
>>>      void* ptr = VirtualAlloc(0, size, MEM_RESERVE|MEM_COMMIT|MEM_TOP_DOWN,
>>>                               PAGE_READWRITE);
>>>      return (ptr != 0)? ptr: MFAIL;
>>>    }
>>>
>>>    /* This function supports releasing coalesed segments */
>>>    static int win32munmap(void* ptr, size_t size) {
>>>      MEMORY_BASIC_INFORMATION minfo;
>>>      char* cptr = (char*)ptr; /* NOTE: Harbour fix for MSVC C++ mode compile error. Also fixed in dlmalloc 2.8.4b. [vszakats] */
>>>      while (size) {
>>>        if (VirtualQuery(cptr, &minfo, sizeof(minfo)) == 0)
>>>          return -1;
>>>        if (minfo.BaseAddress != cptr || minfo.AllocationBase != cptr ||
>>>            minfo.State != MEM_COMMIT || minfo.RegionSize > size)
>>>          return -1;
>>>        if (VirtualFree(cptr, 0, MEM_RELEASE) == 0)
>>>          return -1;
>>>        cptr += minfo.RegionSize;
>>>        size -= minfo.RegionSize;
>>>      }
>>>      return 0;
>>>    }
>>>
>>>    #define CALL_MMAP(s)         win32mmap(s)
>>>    #define CALL_MUNMAP(a, s)    win32munmap((a), (s))
>>>    #define DIRECT_MMAP(s)       win32direct_mmap(s)
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Mon Nov 23 13:11:08 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 23 13:11:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
In-Reply-To: <5D9B0DA2-9BB2-453E-AF64-DFB2B6288A28@syenar.hu>
References: <alpine.DEB.2.00.0911221303200.11887@dawn.royalcomp.hu>
	<81017108-A66E-40F6-B009-10FB6ABE5725@syenar.hu>
	<alpine.DEB.2.00.0911221401130.11887@dawn.royalcomp.hu>
	<20091122183305.GA30816@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911230059060.11887@dawn.royalcomp.hu>
	<20091123125245.GA29583@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911231356400.11887@dawn.royalcomp.hu>
	<20091123135900.GC7877@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911231501330.11887@dawn.royalcomp.hu>
	<5D9B0DA2-9BB2-453E-AF64-DFB2B6288A28@syenar.hu>
Message-ID: <20091123181108.GA16993@linux-4bod.home.aster.pl>

On Mon, 23 Nov 2009, Szak?ts Viktor wrote:
> Hi Przemek, Tamas and All,
> After reading the conversion now I totally don't 
> understand what is the situation with LLVM-GCC.

The situation is very simple. llvm-ar cannot work correctly with
llvm-gc and it's a bug in this tools. It doesn't matter what type
of object is generated. I.e. in ICC where 'xiar' is used instead
of 'ar' we can use archives which contains meta code for link time
IPO without any problems. In LLVM not and without any doubts it's
sth what should be fixed by LLVM compiler authors or packagers who
create binary packages for given distribution. That's all.
As long as it will not be resolved then it's necessary to use different
hacks which allows to link into final application binary compiled
with and without meta code or using some new extensions.
In general link time IPO is very simple idea. Instead of creating
final machine code during compilation phase some meta code is generated
which can be reused for farther optimizations during linking. In most of
cases such optimization is simple autoinlining and then optimizing final
function which contains inlined code. In general it's exactly the same
job as done at compile time but allows to inline functions from different
.o/.obj. Because we are compiling time critical part of HVM code as single
hvmall.c file then it's fully optimized at compile time and using link time
IPO does not improve overall performance in this code at all. It can only
help in some external function calls but this is minor part of executed
code so the difference is also very small.
Returning to link time IPO. Compiler has to generate meta code and store
it in object files. Sometimes it generates code in two versions as native
machine code and meta code and store it in single file so linker can choose
the preferred version, i.e. when link time optimizations are disabled then
it uses directly machine code and ignores meta code. Library tools should
understand extended object file formats and create valid libraries.
They can be extended to create more complicated indexes in final libraries
which can improve the performance of link time optimizations. Finally linker
has to understand new object file formats and new library formats with
extended information if any.
So far this functionality is not present in LLVM-GCC. For some reasons
llvm-gcc uses internally native 'ld' though as parameters it receives files
in new format (i.e. libraries with new indexes or byte code files compiled
with -O4 switch) which are not recognized by native 'ld' so as workaround
we have to make some tricks to force using llvm-ld.
I hope that in the future llvm-gc will recognize file format automatically
so it can be used like ICC or other compilers which supports link time
optimization using meta code store din object files.
BTW new version of GCC will also support IPO when -O4 optimization is
used and LLVM-GCC already accepts this switch which can be used to force
generating byte code instead of machine code in .o files. Anyhow it also
does not help to resolve the link time problem and even with -O4 and .o
files containing byte code still native 'ld' is used instead of llvm-ld :-(

best regards,
Przemek
From jarabal at gmail.com  Mon Nov 23 13:34:39 2009
From: jarabal at gmail.com (Xavi)
Date: Mon Nov 23 13:36:05 2009
Subject: [Harbour] Win_prn SetPen change.
Message-ID: <4B0AD5BF.2060100@gmail.com>

Changes in WIN_SETPEN to do like WIN_CREATEFONT and adapt SetPen in WIN_PRN class.
And Minor formatting. :(
Please Viktor, could you update the repository.

Thanks.
-- 
Xavi


-------------- next part --------------
A non-text attachment was scrubbed...
Name: win_tprn1.zip
Type: application/x-zip
Size: 12021 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091123/574e067f/win_tprn1.bin
From druzus at acn.waw.pl  Mon Nov 23 13:59:27 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 23 13:59:34 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <4B0ABC45.1030709@libero.it>
References: <4B0A6298.5060106@mail.udg.mx>
	<20091123125926.GB29583@linux-4bod.home.aster.pl>
	<4B0A8BF7.2040807@libero.it>
	<20091123134404.GA7877@linux-4bod.home.aster.pl>
	<4B0ABC45.1030709@libero.it>
Message-ID: <20091123185926.GA17717@linux-4bod.home.aster.pl>

On Mon, 23 Nov 2009, Maurilio Longo wrote:

Hi,

> yes, DosAllocMem() and DosQueryMem() should be enough. I'm not sure about the
> coalescing thing, since DosQueryMem() gives you back size of a memory object
> in bytes and access control flags while the windows version seems to be giving
> back more infos.

It should not be a problem. VirtualQuery() is used to free continues memory
region allocated in more then one VirtualAlloc() calls and seems that we can
easy replicate all MS-Windows conditions using DosQueryMem()
Seems that the final version can look like the code below.
I'm only not sure about OBJ_TILE usage. In fact it's optional to reduce
fragmentation so we do not have to use it at all but if we can find sth
to for allocation virtual memory addresses from two different sides of
process virtual address space then it will be nice.


   #define INCL_DOSMEMMGR

   /* OS/2 MMAP via DosAllocMem */
   static void* os2mmap(size_t size) {
     void* ptr;
     if (DosAllocMem(&ptr, size, PAG_COMMIT|PAG_READ|PAG_WRITE) != 0 )
       return MFAIL;
     return ptr;
   }

   /* For direct MMAP, use OBJ_TILE to minimize interference */
   static void* os2direct_mmap(size_t size) {
     void* ptr;
     if (DosAllocMem(&ptr, size, PAG_COMMIT|PAG_READ|PAG_WRITE|OBJ_TILE) != 0 )
       return MFAIL;
     return ptr;
   }

   /* This function supports releasing coalesed segments */
   static int os2munmap(void* ptr, size_t size) {
     while (size) {
       ULONG ulSize = size, ulFlags = 0;
       if (DosQueryMem(ptr, &ulSize, &ulFlags) != 0)
         return -1;
       if ((ulFlags & PAG_BASE) == 0 ||(ulFlags & PAG_COMMIT) == 0 ||
           ulSize > size)
         return -1;
       if (DosFreeMem(ptr) != 0)
         return -1;
       ptr = ( void * ) ( ( char * ) ptr + ulSize );
       size -= ulSize;
     }
     return 0;
   }

   #define CALL_MMAP(s)         os2mmap(s)
   #define CALL_MUNMAP(a, s)    os2munmap((a), (s))
   #define DIRECT_MMAP(s)       os2direct_mmap(s)


If you can confirm that it should work then I'll commit it to SVN and
I would like to ask you or David to make tests in real OS2 environment.

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Nov 23 14:27:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 23 14:27:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12994] trunk/harbour
Message-ID: <E1NCeZD-0001QN-9v@3kljzd1.ch3.sourceforge.com>

Revision: 12994
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12994&view=rev
Author:   vszakats
Date:     2009-11-23 19:27:18 +0000 (Mon, 23 Nov 2009)

Log Message:
-----------
2009-11-23 20:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_tprn.prg
  * contrib/hbwin/win_prn1.c
    ! Fixed ::SETPEN() and WIN_SETPEN() to not leak objects.
      Patch submitted by Xavi.

  * config/wce/poccarm.mk
  * config/win/pocc.mk
    % Removed some unnecessary logic, thus making it similar to all
      other compiler setups.

  * ChangeLog
    * TODO marked as DONE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/wce/poccarm.mk
    trunk/harbour/config/win/pocc.mk
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_tprn.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From gfilatov at front.ru  Mon Nov 23 14:36:21 2009
From: gfilatov at front.ru (Grigory Filatov)
Date: Mon Nov 23 14:36:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12947] trunk/harbour
In-Reply-To: <E1NBSdP-0000fz-TG@3kljzd1.ch3.sourceforge.com>
References: <E1NBSdP-0000fz-TG@3kljzd1.ch3.sourceforge.com>
Message-ID: <26484463.post@talk.nabble.com>


Hello  Mindaugas,

I have a small bugreport ;-(

We have a GPF in the sample arrayrdd.prg at the calling of the function
DBCLOSEALL() after last changes in the hbrddsql contrib library.

Can somebody confirm this problem?

--
Kind Regards,
Grigory


snaiperis wrote:
> 
> Revision: 12947
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12947&view=rev
> Author:   snaiperis
> Date:     2009-11-20 12:30:42 +0000 (Fri, 20 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-20 14:28 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
>   + harbour/contrib/rddsql/hbrddsql.ch
>   * harbour/contrib/rddsql/hbrddsql.h
>     * DBI_ and RDDI_ defines moved to .ch file
> 
>   * harbour/contrib/rddsql/sddmy/tests/test1.prg
>   * harbour/contrib/rddsql/sddodbc/tests/test1.prg
>   * harbour/contrib/rddsql/sddodbc/tests/test2.prg
>     * hbrddsql.ch include used
> 
>   * harbour/contrib/rddsql/sddodbc/tests/test2.prg
>     ! fixed small error in DSN 
> 
>   * harbour/contrib/rddsql/sddodbc/odbcdd.c
>     * implemented error processing
> 
>   * harbour/contrib/rddsql/sddfb/fbirddd.c
>   * harbour/contrib/rddsql/sddmy/mysqldd.c
>   * harbour/contrib/rddsql/sddodbc/odbcdd.c
>   * harbour/contrib/rddsql/sddpg/pgsqldd.c
>   * harbour/contrib/rddsql/sqlbase.c
>   * harbour/contrib/rddsql/sqlmix.c
>     * source formatting
>     * changed error variables type to HB_ERRCODE
> 
>   * harbour/contrib/rddsql/sddfb/fbirddd.c
>   * harbour/contrib/rddsql/sddmy/mysqldd.c
>     * moved unsupported (by some compiler) compile time condition 
>       check to RDD initialisation run-time condition check
> 
>   * harbour/contrib/rddsql/hbrddsql.h
>   * harbour/contrib/rddsql/sqlbase.c
>     * implemented connection area counter. Now connection can be 
>       closed only after all its workareas are closed.
> 
>   * harbour/contrib/rddsql/hbrddsql.h
>   * harbour/contrib/rddsql/sqlbase.c
>     * SQL error text, error number, last query, etc. Moved from 
>       connection to static variables, because I'm unable to return 
>       errors for a failed connect otherwise.
>     ; TODO: MT support. Error text and code are stored in static 
>       variable, it should be moved to thread static in the future. 
>       But there is more problems in MT support. F.e., can we use 
>       use the same connection for a few threads? 
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/contrib/rddsql/hbrddsql.h
>     trunk/harbour/contrib/rddsql/sddfb/fbirddd.c
>     trunk/harbour/contrib/rddsql/sddmy/mysqldd.c
>     trunk/harbour/contrib/rddsql/sddmy/tests/test1.prg
>     trunk/harbour/contrib/rddsql/sddodbc/odbcdd.c
>     trunk/harbour/contrib/rddsql/sddodbc/tests/test1.prg
>     trunk/harbour/contrib/rddsql/sddodbc/tests/test2.prg
>     trunk/harbour/contrib/rddsql/sddpg/pgsqldd.c
>     trunk/harbour/contrib/rddsql/sqlbase.c
>     trunk/harbour/contrib/rddsql/sqlmix.c
> 
> Added Paths:
> -----------
>     trunk/harbour/contrib/rddsql/hbrddsql.ch
> 
> 
> 

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-12947--trunk-harbour-tp26442583p26484463.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Nov 23 15:25:44 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 23 15:25:55 2009
Subject: [Harbour] Re: Win_prn SetPen change.
In-Reply-To: <4B0AD5BF.2060100@gmail.com>
References: <4B0AD5BF.2060100@gmail.com>
Message-ID: <9260E180-02C1-41D9-84E1-0A6A4E22C705@syenar.hu>

Hi Xavi,

On 2009 Nov 23, at 19:34, Xavi wrote:

> Changes in WIN_SETPEN to do like WIN_CREATEFONT and adapt SetPen in WIN_PRN class.
> And Minor formatting. :(
> Please Viktor, could you update the repository.

Thank you very much, it's in SVN now.

Brgds,
Viktor

From snaiperis at users.sourceforge.net  Mon Nov 23 15:44:46 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Mon Nov 23 15:44:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12995] trunk/harbour
Message-ID: <E1NCfmA-0006F4-2i@d5vjzd1.ch3.sourceforge.com>

Revision: 12995
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12995&view=rev
Author:   snaiperis
Date:     2009-11-23 20:44:39 +0000 (Mon, 23 Nov 2009)

Log Message:
-----------
2009-11-23 22:42 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/rddsql/sqlbase.c
    ! fixed connection counter decrementation for not connected areas

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddsql/sqlbase.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Mon Nov 23 15:45:45 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 23 15:47:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12947] trunk/harbour
In-Reply-To: <26484463.post@talk.nabble.com>
References: <E1NBSdP-0000fz-TG@3kljzd1.ch3.sourceforge.com>
	<26484463.post@talk.nabble.com>
Message-ID: <4B0AF479.3050809@dbtopas.lt>

Hi,


Grigory Filatov wrote:
> We have a GPF in the sample arrayrdd.prg at the calling of the function
> DBCLOSEALL() after last changes in the hbrddsql contrib library.

Thank, You. Should be fixed.

BTW, it would be nice if hbmk2 -map switch will add -s option (detailed 
map) in BCC. Current map file contains only segment table and it is not 
useful to track down GPF place. I've tried to look at hbmk2 source, but 
I was unable to find a way to add it :)


Regards,
Mindaugas
From harbour.01 at syenar.hu  Mon Nov 23 15:59:42 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 23 15:59:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
In-Reply-To: <20091123181108.GA16993@linux-4bod.home.aster.pl>
References: <alpine.DEB.2.00.0911221303200.11887@dawn.royalcomp.hu>
	<81017108-A66E-40F6-B009-10FB6ABE5725@syenar.hu>
	<alpine.DEB.2.00.0911221401130.11887@dawn.royalcomp.hu>
	<20091122183305.GA30816@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911230059060.11887@dawn.royalcomp.hu>
	<20091123125245.GA29583@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911231356400.11887@dawn.royalcomp.hu>
	<20091123135900.GC7877@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911231501330.11887@dawn.royalcomp.hu>
	<5D9B0DA2-9BB2-453E-AF64-DFB2B6288A28@syenar.hu>
	<20091123181108.GA16993@linux-4bod.home.aster.pl>
Message-ID: <59A634D7-457D-482D-802B-8CB3C5ADA454@syenar.hu>

> The situation is very simple. llvm-ar cannot work correctly with
> llvm-gc and it's a bug in this tools. It doesn't matter what type
> of object is generated. I.e. in ICC where 'xiar' is used instead
> of 'ar' we can use archives which contains meta code for link time
> IPO without any problems. In LLVM not and without any doubts it's
> sth what should be fixed by LLVM compiler authors or packagers who
> create binary packages for given distribution. That's all.
[...]
> BTW new version of GCC will also support IPO when -O4 optimization is
> used and LLVM-GCC already accepts this switch which can be used to force
> generating byte code instead of machine code in .o files. Anyhow it also
> does not help to resolve the link time problem and even with -O4 and .o
> files containing byte code still native 'ld' is used instead of llvm-ld :-(

Thanks a lot. So, shortly the problem is that 'llvm-gcc' 
wrongly calls 'ld', instead of its own 'llvm-ld'.

It would certainly be better if llvm-gcc could automatically 
(or via cmdline options?) call the correct ld tool.

I made a test on the Windows llvm-gcc build, and there apparently 
a similar problem exist where llvm-gcc.exe tries to execute 
as.exe (which is not supplied) instead of llvm-as.exe (which is).
This means I have to add MinGW bin dir to PATH in order to make 
llvm-gcc.exe work. If I rename supplied llvm-as.exe to as.exe, 
it chokes on incompatible cmdline handling, telling:
"as: Unknown command line argument '-ohbver.o'.  Try: 'as --help'"

The linking problem is apparently the same as on Linux.
ld.exe will be called instead of llvm-gc.exe, with same error.

It's a little strange such problems are still in this software, 
or could be that we (I) miss the concept.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Nov 23 16:03:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 23 16:03:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12996] trunk/harbour
Message-ID: <E1NCg4U-0006Ym-JY@d5vjzd1.ch3.sourceforge.com>

Revision: 12996
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12996&view=rev
Author:   vszakats
Date:     2009-11-23 21:03:31 +0000 (Mon, 23 Nov 2009)

Log Message:
-----------
2009-11-23 22:02 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Turn on detailed maps for bcc targets when -map option is used.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Nov 23 16:50:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 23 16:50:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12997] trunk/harbour
Message-ID: <E1NCgo4-0007hM-Qh@c3vjzd1.ch3.sourceforge.com>

Revision: 12997
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12997&view=rev
Author:   vszakats
Date:     2009-11-23 21:50:47 +0000 (Mon, 23 Nov 2009)

Log Message:
-----------
2009-11-23 22:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Fixed to use '-ofilename' to spec C compiler object
      output, instead '-o filename'. Following linux/clang.mk.
      (There is utter chaos with this -o option)

  * config/darwin/clang.mk
    + Documented fact that '-ofilename' also works (just
      like in linux/clang).

  * config/linux/gcc.mk
  * config/linux/icc.mk
  * config/linux/clang.mk
  * config/linux/sunpro.mk
  * config/linux/global.mk
    % Moved strip configuration to global.mk.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/darwin/clang.mk
    trunk/harbour/config/linux/clang.mk
    trunk/harbour/config/linux/gcc.mk
    trunk/harbour/config/linux/global.mk
    trunk/harbour/config/linux/icc.mk
    trunk/harbour/config/linux/sunpro.mk
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Nov 23 17:42:46 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 23 17:42:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12972] trunk/harbour
In-Reply-To: <59A634D7-457D-482D-802B-8CB3C5ADA454@syenar.hu>
References: <alpine.DEB.2.00.0911221401130.11887@dawn.royalcomp.hu>
	<20091122183305.GA30816@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911230059060.11887@dawn.royalcomp.hu>
	<20091123125245.GA29583@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911231356400.11887@dawn.royalcomp.hu>
	<20091123135900.GC7877@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911231501330.11887@dawn.royalcomp.hu>
	<5D9B0DA2-9BB2-453E-AF64-DFB2B6288A28@syenar.hu>
	<20091123181108.GA16993@linux-4bod.home.aster.pl>
	<59A634D7-457D-482D-802B-8CB3C5ADA454@syenar.hu>
Message-ID: <20091123224246.GA29034@linux-4bod.home.aster.pl>

On Mon, 23 Nov 2009, Szak?ts Viktor wrote:

Hi,

> I made a test on the Windows llvm-gcc build, and there apparently 
> a similar problem exist where llvm-gcc.exe tries to execute 
> as.exe (which is not supplied) instead of llvm-as.exe (which is).
> This means I have to add MinGW bin dir to PATH in order to make 
> llvm-gcc.exe work. If I rename supplied llvm-as.exe to as.exe, 
> it chokes on incompatible cmdline handling, telling:
> "as: Unknown command line argument '-ohbver.o'.  Try: 'as --help'"
> The linking problem is apparently the same as on Linux.
> ld.exe will be called instead of llvm-gc.exe, with same error.
> It's a little strange such problems are still in this software, 
> or could be that we (I) miss the concept.

It's not wrong that llvm-gcc calls native linker or assembler.
In some cases it's expect behavior. The problem is that it does
not check when it can use native tools and when it has to use
its own ones because files generated by LLVM tools are not compatible
with platform native tools, i.e.:

   /*** tst.c ***/
   #include <stdio.h>
   int main( void )
   {
      printf( "Hello World !!!\n" );
      return 0;
   }

   druzus:/tmp/3# llvm-gcc -O3 tst.c

works without any problems:
   druzus:/tmp/3# file a.out
   a.out: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.4, not stripped

but if you try to enable link time optimisations using -O4 then:

   druzus:/tmp# llvm-gcc -O4 tst.c
   /tmp/cc2wOHbI.o: file not recognized: File format not recognized
   collect2: ld returned 1 exit status

so it generate .o file with meta code instead of machine code but it does
not switch to llvm-ld and internally still try to use native ld as linker
which of course cannot understand LLVM meta code. If you want to create final
application then you have to make it manually by:

   druzus:/tmp/3# llvm-gcc -O4 tst.c -c
   druzus:/tmp/3# llvm-ld tst.o -native
   druzus:/tmp/3# file a.out
   a.out: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.4, not stripped

Please note that llvm-ld is not real linker for native machine code but it
can generate ASM or C code from optimized meta code and then executes platform
native assembler or C compiler and linker. In current LLVM binaries the main
problem is caused by the fact that llvm-gcc does not automatically switch to
llvm-ld when it's necessary and seems that we do not have any llvm-gcc
switches to force using llvm-ld. In summary it seems to be minor problem
which should be easy to resolve by LLVM-GCC developers or even someone
else interested enough to look at LLVM-GCC code to fix it.
Anyhow I haven't looked at this code so all what I've wrote is only
result of short LLVM-GCC tests.

best regards,
Przemek
From dbtopas at dbtopas.lt  Mon Nov 23 18:07:10 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 23 18:09:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <E1NCAlm-00065y-PR@3kljzd1.ch3.sourceforge.com>
References: <E1NCAlm-00065y-PR@3kljzd1.ch3.sourceforge.com>
Message-ID: <4B0B159E.2010405@dbtopas.lt>

Hi,


>   * harbour/src/vm/fm.c
>     * enabled HB_FM_DLMT_ALLOC by default in MT HVM if HB_FM_DL_ALLOC is
>       also enabled

BTW, what is HB_FM_DLMT_ALLOC performance in comparison to native Linux 
malloc() (in MT mode of cause)?


Regards,
Mindaugas
From tech at 2dinfo.com.br  Mon Nov 23 19:14:15 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Mon Nov 23 18:14:49 2009
Subject: [Harbour] how to build hbqt library under Windows?
Message-ID: <438461F703824203A5A5F622F5327E0B@noteleo>

I'm using WinxP SP3 + mingw32 + Qt 4.5

Mingw32-make results on the following:

C:\harbour\contrib\hbqt>mingw32-make -f makefile
! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
! MAKE: mingw32-make 3.81 sh.exe
! HB_INSTALL_PREFIX: c:\harbour
! HB_LIB_INSTALL: c:\harbour\lib
! HB_INC_INSTALL: c:\harbour\include
! HB_HOST_PLAT: win (x86)  HB_SHELL: nt
! HB_PLATFORM: win (x86) (autodetected)
! HB_COMPILER: mingw
! Component: 'zlib' found in C:/harbour/external/zlib (local)
! Component: 'pcre' found in C:/harbour/external/pcre (local)
! Component: 'openssl' not found
! Component: 'gpm' not supported on win platform
! Component: 'slang' not found
! Component: 'curses' not found
! Component: 'x11' not found
! Component: 'wattcp/watt-32' not supported on win platform
! 'hbqt' library skipped ('qt' not found)


Is it necessary to install all this "not found" libs above to build hbqt? 

Thanks
Leandro Damasio
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091123/f833ed66/attachment-0001.html
From tech at 2dinfo.com.br  Mon Nov 23 19:25:09 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Mon Nov 23 18:25:41 2009
Subject: [Harbour] Singleton
Message-ID: <51B4EC61EB8542A0A3145118B49B8397@noteleo>

Is there native support to singleton (design pattern) classes in harbour?
Thanks
Leandro Rocha
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091123/96637313/attachment.html
From mbelgrano at deltain.it  Mon Nov 23 18:33:00 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov 23 18:33:27 2009
Subject: [Harbour] how to build hbqt library under Windows?
In-Reply-To: <438461F703824203A5A5F622F5327E0B@noteleo>
References: <438461F703824203A5A5F622F5327E0B@noteleo>
Message-ID: <609353e70911231533m2f851f16u91136a1f6c621929@mail.gmail.com>

try
SET HB_WITH_QT=c:\devl\qt\2009.04\qt\include
set HB_DIR_QT=c:\devl\qt\2009.04\qt

2009/11/24 Leandro Damasio <tech@2dinfo.com.br>:
> I'm using WinxP SP3 + mingw32 + Qt 4.5
>
> Mingw32-make results on the following:
>
> C:\harbour\contrib\hbqt>mingw32-make -f makefile
> ! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
> ! MAKE: mingw32-make 3.81 sh.exe
> ! HB_INSTALL_PREFIX: c:\harbour
> ! HB_LIB_INSTALL: c:\harbour\lib
> ! HB_INC_INSTALL: c:\harbour\include
> ! HB_HOST_PLAT: win (x86)? HB_SHELL: nt
> ! HB_PLATFORM: win (x86) (autodetected)
> ! HB_COMPILER: mingw
> ! Component: 'zlib' found in C:/harbour/external/zlib (local)
> ! Component: 'pcre' found in C:/harbour/external/pcre (local)
> ! Component: 'openssl' not found
> ! Component: 'gpm' not supported on win platform
> ! Component: 'slang' not found
> ! Component: 'curses' not found
> ! Component: 'x11' not found
> ! Component: 'wattcp/watt-32' not supported on win platform
> ! 'hbqt' library skipped ('qt' not found)
>
> Is it necessary to install all this "not found" libs above to build hbqt?
>
> Thanks
> Leandro Damasio



-- 
Massimo Belgrano
From tech at 2dinfo.com.br  Mon Nov 23 20:26:09 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Mon Nov 23 19:26:39 2009
Subject: [Harbour] how to build hbqt library under Windows?
In-Reply-To: <609353e70911231533m2f851f16u91136a1f6c621929@mail.gmail.com>
References: <438461F703824203A5A5F622F5327E0B@noteleo>
	<609353e70911231533m2f851f16u91136a1f6c621929@mail.gmail.com>
Message-ID: <41C4A1E133DB45BFB11B887B8D3BF380@noteleo>

Massimo Belgrano said:
> try
> SET HB_WITH_QT=c:\devl\qt\2009.04\qt\include
> set HB_DIR_QT=c:\devl\qt\2009.04\qt
> 

ok Massimo
thank you
Leandro 
From vouchcac at users.sourceforge.net  Mon Nov 23 20:25:06 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Nov 23 20:25:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12998] trunk/harbour
Message-ID: <E1NCk9S-0007Nh-Qe@3kljzd1.ch3.sourceforge.com>

Revision: 12998
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12998&view=rev
Author:   vouchcac
Date:     2009-11-24 01:25:05 +0000 (Tue, 24 Nov 2009)

Log Message:
-----------
2009-11-23 17:21 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.hbp
  * contrib/hbide/hbide.prg
  + contrib/hbide/idemisc.prg
    ! Implemented to execute context sensitive popups.
      Right click on <Funtions List> right-hand area.

  * contrib/hbxbp/xbpdialog.prg
  * contrib/hbxbp/xbplistbox.prg
  * contrib/hbxbp/xbptreeview.prg
  * contrib/hbxbp/xbpwindow.prg
    + Neccessary constructs to honour context menu requests.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbxbp/xbpdialog.prg
    trunk/harbour/contrib/hbxbp/xbplistbox.prg
    trunk/harbour/contrib/hbxbp/xbptreeview.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/idemisc.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Mon Nov 23 20:24:49 2009
From: jarabal at gmail.com (Xavi)
Date: Mon Nov 23 20:26:13 2009
Subject: [Harbour] Re: Re: Re: Re: Re: Win_prn problem.
In-Reply-To: <0DF2BF0B-F341-4023-9A3B-5980069A7111@syenar.hu>
References: <hd4ahg$3h6$1@ger.gmane.org><609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com><hd4gui$l8q$1@ger.gmane.org><609353e70911071141r1f93a800ne3e3ab032d1495c1@mail.gmail.com><hd6d8b$la2$1@ger.gmane.org><609353e70911080534n1c327690qae2f1e1f05d7bb98@mail.gmail.com><hd7ctd$eh1$1@ger.gmane.org><609353e70911081407s298f73bai1dc4f8a7272a611e@mail.gmail.com><hd7l2k$46n$1@ger.gmane.org><609353e70911090004h7d01346bkad8fbd9881e8fa8@mail.gmail.com><18d502870911090040r1a112deew50d43574e4b4c5aa@mail.gmail.com><370975DB-72F6-4998-BA8E-E356E07DC572@syenar.hu>	<64D3E786-B3D3-475D-B309-DD1812B7037E@syenar.hu>	<hedm8i$2qq$1@ger.gmane.org>
	<0DF2BF0B-F341-4023-9A3B-5980069A7111@syenar.hu>
Message-ID: <4B0B35E1.6090802@gmail.com>

Itamar,

  > But not  is possible yet print draw box double horizontal for example. I get
  > ?????

This seems a conflict with charset.
http://msdn.microsoft.com/en-us/library/dd183499%28VS.85%29.aspx
Please read fdwCharSet parameter if it can help you.

oPrn:CharSet(OEM_CHARSET)
oPrn:Setfont('Lucida Console',,11) // oPrn:Setfont('Terminal',,12)

Please Viktor, is it possible to update hbwin.ch?

-- 
Xavi

Viktor Szak?ts escribi?:
>> Hi!
>> The return of command "oPrn:TextOut('Font Is: '+oPrn:FontName,.t.)" is 
>> correct now.
> 
> Amen.
> 
>> But not  is possible yet print draw box double horizontal for example. I get 
>> ?????
> 
> I'll let someone else to solve this for you, 
> anyhow it's not a Harbour bug.
> 
> Brgds,
> Viktor
> 

-------------- next part --------------
/*
 * $Id: hbwin.ch 12732 2009-10-19 21:17:04Z vszakats $
 */

/*
 * Harbour Project source code:
 * hbwin header
 *
 * Copyright 2008 Viktor Szakats (harbour.01 syenar.hu)
 * Copyright 2004 Peter Rees <peter@rees.co.nz>
 *                Rees Software & Systems Ltd
 * www - http://www.harbour-project.org
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.  If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.  To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
 *
 */

#ifndef HBWIN_CH_
#define HBWIN_CH_

/* Registry related values */

#define HKEY_CLASSES_ROOT      0x80000000
#define HKEY_CURRENT_USER      0x80000001
#define HKEY_LOCAL_MACHINE     0x80000002
#define HKEY_USERS             0x80000003
#define HKEY_PERFORMANCE_DATA  0x80000004
#define HKEY_CURRENT_CONFIG    0x80000005
#define HKEY_DYN_DATA          0x80000006

/* win_Port() related values */

/* The following are from winbase.h */

#define CBR_110                110
#define CBR_300                300
#define CBR_600                600
#define CBR_1200               1200
#define CBR_2400               2400
#define CBR_4800               4800
#define CBR_9600               9600
#define CBR_14400              14400
#define CBR_19200              19200
#define CBR_38400              38400
#define CBR_56000              56000
#define CBR_57600              57600
#define CBR_115200             115200
#define CBR_128000             128000
#define CBR_256000             256000

#define NOPARITY               0
#define ODDPARITY              1
#define EVENPARITY             2
#define MARKPARITY             3
#define SPACEPARITY            4

#define ONESTOPBIT             0
#define ONE5STOPBITS           1
#define TWOSTOPBITS            2

/* DTR Control Flow Values. */
#define DTR_CONTROL_DISABLE    0x00
#define DTR_CONTROL_ENABLE     0x01
#define DTR_CONTROL_HANDSHAKE  0x02

/* RTS Control Flow Values */
#define RTS_CONTROL_DISABLE    0x00
#define RTS_CONTROL_ENABLE     0x01
#define RTS_CONTROL_HANDSHAKE  0x02
#define RTS_CONTROL_TOGGLE     0x03

#define WIN_COM_DBGBASIC       0x01
#define WIN_COM_DBGFLOW        0x02
#define WIN_COM_DBGXTRAFLOW    0x04
#define WIN_COM_DBGOTHER       0x08
#define WIN_COM_DBGTIMEOUTS    0x10
#define WIN_COM_DBGQUEUE       0x20
#define WIN_COM_DBGALL         0x3F

/* win_Prn() related values */

#define FORM_A4                9

#define PS_SOLID               0

#define RGB( nR, nG, nB )      ( nR + ( nG * 256 ) + ( nB * 256 * 256 ) )

#define RGB_BLACK              RGB( 0x00, 0x00, 0x00 )
#define RGB_BLUE               RGB( 0x00, 0x00, 0x85 )
#define RGB_GREEN              RGB( 0x00, 0x85, 0x00 )
#define RGB_CYAN               RGB( 0x00, 0x85, 0x85 )
#define RGB_RED                RGB( 0x85, 0x00, 0x00 )
#define RGB_MAGENTA            RGB( 0x85, 0x00, 0x85 )
#define RGB_BROWN              RGB( 0x85, 0x85, 0x00 )
#define RGB_WHITE              RGB( 0xC6, 0xC6, 0xC6 )

/* Cut from wingdi.h */

#define MM_TEXT                1
#define MM_LOMETRIC            2
#define MM_HIMETRIC            3
#define MM_LOENGLISH           4
#define MM_HIENGLISH           5

#define FW_DONTCARE	0
#define FW_THIN	100
#define FW_EXTRALIGHT	200
#define FW_ULTRALIGHT	FW_EXTRALIGHT
#define FW_LIGHT	300
#define FW_NORMAL	400
#define FW_REGULAR	400
#define FW_MEDIUM	500
#define FW_SEMIBOLD	600
#define FW_DEMIBOLD	FW_SEMIBOLD
#define FW_BOLD	700
#define FW_EXTRABOLD	800
#define FW_ULTRABOLD	FW_EXTRABOLD
#define FW_HEAVY	900
#define FW_BLACK	FW_HEAVY
#define ANSI_CHARSET	0
#define DEFAULT_CHARSET	1
#define SYMBOL_CHARSET	2
#define SHIFTJIS_CHARSET	128
#define HANGEUL_CHARSET	129
#define HANGUL_CHARSET  129
#define GB2312_CHARSET	134
#define CHINESEBIG5_CHARSET	136
#define GREEK_CHARSET	161
#define TURKISH_CHARSET	162
#define HEBREW_CHARSET	177
#define ARABIC_CHARSET	178
#define BALTIC_CHARSET	186
#define RUSSIAN_CHARSET	204
#define THAI_CHARSET	222
#define EASTEUROPE_CHARSET	238
#define OEM_CHARSET	255
#define JOHAB_CHARSET	130
#define VIETNAMESE_CHARSET	163
#define MAC_CHARSET 77

/* Device Parameters for win_GetDeviceCaps() */

#define HORZSIZE               4   // Horizontal size in millimeters
#define VERTSIZE               6   // Vertical size in millimeters
#define HORZRES                8   // Horizontal width in pixels
#define VERTRES                10  // Vertical height in pixels
#define NUMBRUSHES             16  // Number of brushes the device has
#define NUMPENS                18  // Number of pens the device has
#define NUMFONTS               22  // Number of fonts the device has
#define NUMCOLORS              24  // Number of colors the device supports
#define RASTERCAPS             38  // Bitblt capabilities

#define LOGPIXELSX             88  // Logical pixels/inch in X
#define LOGPIXELSY             90  // Logical pixels/inch in Y

#define PHYSICALWIDTH          110 // Physical Width in device units
#define PHYSICALHEIGHT         111 // Physical Height in device units
#define PHYSICALOFFSETX        112 // Physical Printable Area x margin
#define PHYSICALOFFSETY        113 // Physical Printable Area y margin
#define SCALINGFACTORX         114 // Scaling factor x
#define SCALINGFACTORY         115 // Scaling factor y

/* bin selections */
#define DMBIN_FIRST            DMBIN_UPPER
#define DMBIN_UPPER            1
#define DMBIN_ONLYONE          1
#define DMBIN_LOWER            2
#define DMBIN_MIDDLE           3
#define DMBIN_MANUAL           4
#define DMBIN_ENVELOPE         5
#define DMBIN_ENVMANUAL        6
#define DMBIN_AUTO             7
#define DMBIN_TRACTOR          8
#define DMBIN_SMALLFMT         9
#define DMBIN_LARGEFMT         10
#define DMBIN_LARGECAPACITY    11
#define DMBIN_CASSETTE         14
#define DMBIN_FORMSOURCE       15
#define DMBIN_LAST             DMBIN_FORMSOURCE

/* print qualities */
#define DMRES_DRAFT            ( -1 )
#define DMRES_LOW              ( -2 )
#define DMRES_MEDIUM           ( -3 )
#define DMRES_HIGH             ( -4 )

/* duplex enable */
#define DMDUP_SIMPLEX          1
#define DMDUP_VERTICAL         2
#define DMDUP_HORIZONTAL       3

/* Text Alignment Options */
#define TA_NOUPDATECP          0
#define TA_UPDATECP            1

#define TA_LEFT                0
#define TA_RIGHT               2
#define TA_CENTER              6

#define TA_TOP                 0
#define TA_BOTTOM              8
#define TA_BASELINE            24

#define MM_TO_INCH             25.4

#endif /* HBWIN_CH_ */
From druzus at acn.waw.pl  Mon Nov 23 20:43:45 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 23 20:43:51 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <4B0B159E.2010405@dbtopas.lt>
References: <E1NCAlm-00065y-PR@3kljzd1.ch3.sourceforge.com>
	<4B0B159E.2010405@dbtopas.lt>
Message-ID: <20091124014345.GA9197@linux-4bod.home.aster.pl>

On Tue, 24 Nov 2009, Mindaugas Kavaliauskas wrote:

Hi,

> >  * harbour/src/vm/fm.c
> >    * enabled HB_FM_DLMT_ALLOC by default in MT HVM if HB_FM_DL_ALLOC is
> >      also enabled
> BTW, what is HB_FM_DLMT_ALLOC performance in comparison to native
> Linux malloc() (in MT mode of cause)?

It's not trivial to well compare performance of different memory allocators
in MT mode. To give precise answer we should prepare some series of dedicated
tests anyhow using speedtst.prg in different mode we can create basic tests
and the performance seems to be quite good. In practice the same as with
NEDMALLOC or PTMALLOC but this is nearly the same code so it's expected.
DLMALLOC is compiled as part of Harbour core code with strong optimization
switches and well optimized as part of hvmall.c so it's usually a little
bit faster in all tests.
SUSE Linux uses Hoard Memory Allocator which seems to be the best memory
allocator for MT mode. In older SUSE builds I made some tests on x86@32
and it was always faster then DLMALLOC in ST and MT modes. Recently I've
repeated test with SUSE 11.2 x86@64 and in ST mode DLMALLOC is faster but
slower in MT mode. I guess that faster ST mode is mostly result of better
optimizations when DLMALLOC is compiled as part of hvmall.c. In MT mode
is slower but the difference is not very huge in concurrent access when
HB_FM_DLMT_ALLOC is enabled, here are results you can compare:

1) ./speedtst

DLMALLOC ST mode:
   [ total application time: ]....................................15.47
   [ total real time: ]...........................................15.47

Hoard ST mode:
   [ total application time: ]....................................16.76
   [ total real time: ]...........................................16.78


2) ./speedtst

DLMT MT MODE:
   [ total application time: ]....................................19.58
   [ total real time: ]...........................................19.59

Hoard ST mode:
   [ total application time: ]....................................18.50
   [ total real time: ]...........................................18.50


3) ./speedtst --thread

DLMT
   [ total application time: ]....................................26.65
   [ total real time: ]............................................9.73
Hoard:
   [ total application time: ]....................................24.37
   [ total real time: ]............................................8.68


4) ./speedtst --thread=3 --scale

DLMT:
   [   TOTAL   ]_________________________________ 59.95  29.64 ->  2.02
   [ total application time: ]...................................147.05
   [ total real time: ]...........................................89.60
Hoard:
   [   TOTAL   ]_________________________________ 57.93  32.01 ->  1.81
   [ total application time: ]...................................149.78
   [ total real time: ]...........................................89.95


As you can see in the last test DLMT has even better scalability what
allows to reduce the speed difference and DLMT was finally a little bit
faster. Anyhow this test uses only 3 threads which very nicely play with
DLMT and I expect that when much bigger number of threads is used on multi
CPU hardware then Hoard will be more efficient i.e. in test (3) we have
56 threads and here Hoard is still faster. But of course it does not
change the fact that DLMT results are really good.

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Nov 23 20:51:44 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Nov 23 20:51:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12999] trunk/harbour
Message-ID: <E1NCkZE-0002qx-Ee@d5vjzd1.ch3.sourceforge.com>

Revision: 12999
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12999&view=rev
Author:   druzus
Date:     2009-11-24 01:51:43 +0000 (Tue, 24 Nov 2009)

Log Message:
-----------
2009-11-24 02:51 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/dlmalloc.c
  * harbour/src/vm/hvmall.c
    + added support for DLMALLOC in OS/2 builds.
      I would like to ask OS/2 users to make harbour OS/2 build tests
      using WATCOM and GCC with HB_USER_CFLAGS=-DHB_FM_DL_ALLOC to
      check if it works.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/dlmalloc.c
    trunk/harbour/src/vm/hvmall.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Mon Nov 23 21:08:20 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Nov 23 21:08:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13000] trunk/harbour
Message-ID: <E1NCkpI-0004UK-8t@dn4whf1.ch3.sourceforge.com>

Revision: 13000
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13000&view=rev
Author:   vouchcac
Date:     2009-11-24 02:08:19 +0000 (Tue, 24 Nov 2009)

Log Message:
-----------
2009-11-23 18:09 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
    ! Few more additions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ale.seribeli at ig.com.br  Mon Nov 23 22:53:37 2009
From: ale.seribeli at ig.com.br (Ale SB)
Date: Mon Nov 23 22:53:43 2009
Subject: [Harbour] OpenSSl
Message-ID: <26490130.post@talk.nabble.com>


not possovel use Openssl with BCC?

I'm trying to generate binaries with Build 13000.
-- 
View this message in context: http://old.nabble.com/OpenSSl-tp26490130p26490130.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From maurilio.longo at libero.it  Tue Nov 24 03:16:55 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Nov 24 03:17:05 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <20091123185926.GA17717@linux-4bod.home.aster.pl>
References: <4B0A6298.5060106@mail.udg.mx>	<20091123125926.GB29583@linux-4bod.home.aster.pl>	<4B0A8BF7.2040807@libero.it>	<20091123134404.GA7877@linux-4bod.home.aster.pl>	<4B0ABC45.1030709@libero.it>
	<20091123185926.GA17717@linux-4bod.home.aster.pl>
Message-ID: <4B0B9677.7050705@libero.it>

Przemys?aw Czerpak wrote:
> 
> It should not be a problem. VirtualQuery() is used to free continues memory
> region allocated in more then one VirtualAlloc() calls and seems that we can
> easy replicate all MS-Windows conditions using DosQueryMem()
> Seems that the final version can look like the code below.
> I'm only not sure about OBJ_TILE usage. In fact it's optional to reduce

It is used when memory needs to be accessed by 16bit code (thunking), for
example when passing a pointer to such code.

I think you can safely remove it.

> fragmentation so we do not have to use it at all but if we can find sth
> to for allocation virtual memory addresses from two different sides of
> process virtual address space then it will be nice.
> 
I don't think you can decide from where inside the address space you can
allocate memory.

> 
>    #define INCL_DOSMEMMGR
> 
>    #define CALL_MMAP(s)         os2mmap(s)
>    #define CALL_MUNMAP(a, s)    os2munmap((a), (s))
>    #define DIRECT_MMAP(s)       os2direct_mmap(s)
> 
> 
> If you can confirm that it should work then I'll commit it to SVN and
> I would like to ask you or David to make tests in real OS2 environment.
> 

I'll do some tests later today and then I'll let you know.

Maurilio.

PS. When calling DosAllocMem() a 64Kb object gets allocated even for a single
byte request. Is there something to make dlmalloc aware of this fact?
Otherwise we could end up wasting a lot of memory.

"Note: DosAllocMem and DosAllocSharedMem both allocate a block of memory of
the size requested rounded up to the nearest page. On OS/2 Warp, the system
allocates a 64K object without attributes on every allocation.

For example, for a DosAllocMem call with a size of 1, the system allocates a
4096-byte block of committed memory plus 61440 bytes without attributes. "

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Tue Nov 24 03:43:39 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Nov 24 03:43:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13001] trunk/harbour
Message-ID: <E1NCqzr-00030L-Ck@bj8yhf1.ch3.sourceforge.com>

Revision: 13001
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13001&view=rev
Author:   vszakats
Date:     2009-11-24 08:43:38 +0000 (Tue, 24 Nov 2009)

Log Message:
-----------
2009-11-24 09:42 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/hbwin.ch
    + Added new macros submitted by Xavi.
      Formatting (tab removal/alignment) applied.

  * config/detfun.mk
    + Displays "Configure with HB_WITH_*" text on non-*nix systems,
      when an external component is not found.
      Comments are welcome whether this is useful, it looks a bit
      verbose/ugly to me.

  * INSTALL
    * Minor change in wording.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/detfun.mk
    trunk/harbour/contrib/hbwin/hbwin.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Tue Nov 24 03:46:27 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Nov 24 03:46:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12999] trunk/harbour
In-Reply-To: <E1NCkZE-0002qx-Ee@d5vjzd1.ch3.sourceforge.com>
References: <E1NCkZE-0002qx-Ee@d5vjzd1.ch3.sourceforge.com>
Message-ID: <4B0B9D63.7020309@libero.it>

Przemyslaw,

it build cleanly with GCC and hbtest runs ok! :)

Maurilio.

druzus@users.sourceforge.net wrote:
> Revision: 12999
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=12999&view=rev
> Author:   druzus
> Date:     2009-11-24 01:51:43 +0000 (Tue, 24 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-24 02:51 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/src/vm/dlmalloc.c
>   * harbour/src/vm/hvmall.c
>     + added support for DLMALLOC in OS/2 builds.
>       I would like to ask OS/2 users to make harbour OS/2 build tests
>       using WATCOM and GCC with HB_USER_CFLAGS=-DHB_FM_DL_ALLOC to
>       check if it works.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/src/vm/dlmalloc.c
>     trunk/harbour/src/vm/hvmall.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Nov 24 03:52:33 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 24 03:52:44 2009
Subject: [Harbour] OpenSSl
In-Reply-To: <26490130.post@talk.nabble.com>
References: <26490130.post@talk.nabble.com>
Message-ID: <3A090CA3-E87A-4853-A3CE-23243A58BC3D@syenar.hu>

Shortly: no.

See:

2009-11-01 13:23 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/detect.mk
    - Disabled OpenSSL detection for bcc.
      For some reason it's building with errors now.
      I can't figure what change caused this as it was building
      fine a month ago. It's not the hbssl source code, openssl
      sources are the same, I have no time to figure it out.
      Anyway it wasn't working with bcc at link time anyway.

Brgds,
Viktor

On 2009 Nov 24, at 04:53, Ale SB wrote:

> 
> not possovel use Openssl with BCC?
> 
> I'm trying to generate binaries with Build 13000.
> -- 
> View this message in context: http://old.nabble.com/OpenSSl-tp26490130p26490130.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Tue Nov 24 04:08:43 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 24 04:08:50 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <4B0B9677.7050705@libero.it>
References: <4B0A6298.5060106@mail.udg.mx>
	<20091123125926.GB29583@linux-4bod.home.aster.pl>
	<4B0A8BF7.2040807@libero.it>
	<20091123134404.GA7877@linux-4bod.home.aster.pl>
	<4B0ABC45.1030709@libero.it>
	<20091123185926.GA17717@linux-4bod.home.aster.pl>
	<4B0B9677.7050705@libero.it>
Message-ID: <20091124090843.GA13874@linux-4bod.home.aster.pl>

On Tue, 24 Nov 2009, Maurilio Longo wrote:

Hi,

> I'll do some tests later today and then I'll let you know.

Thank you,

> PS. When calling DosAllocMem() a 64Kb object gets allocated even for a single
> byte request. Is there something to make dlmalloc aware of this fact?
> Otherwise we could end up wasting a lot of memory.
> "Note: DosAllocMem and DosAllocSharedMem both allocate a block of memory of
> the size requested rounded up to the nearest page. On OS/2 Warp, the system
> allocates a 64K object without attributes on every allocation.
> For example, for a DosAllocMem call with a size of 1, the system allocates a
> 4096-byte block of committed memory plus 61440 bytes without attributes. "

To be more precise. It only reserves 64KB from process virtual memory
address space but allocates physical memory in 4KB pages. Quite common
situation on many systems i.e. MS-Windows system_info.dwAllocationGranularity.

DLMALLOC is memory manager which is designed to work between OS and
application so eliminating such overhead is one of its basic
functionality. And it's really good MM so I also expect that using
it should improve the performance of Harbour applications in OS/2
and reduce total memory allocated from system.
By default in OS/2 builds HAVE_MORECORE is set to 0 what causes that
MORECORE_CONTIGUOUS is also set to 0 and then DEFAULT_GRANULARITY is
set to 64K what is the expected allocation granularity in OS/2.

best regards,
Przemek
From druzus at acn.waw.pl  Tue Nov 24 04:16:23 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 24 04:16:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12999] trunk/harbour
In-Reply-To: <4B0B9D63.7020309@libero.it>
References: <E1NCkZE-0002qx-Ee@d5vjzd1.ch3.sourceforge.com>
	<4B0B9D63.7020309@libero.it>
Message-ID: <20091124091623.GA14053@linux-4bod.home.aster.pl>

On Tue, 24 Nov 2009, Maurilio Longo wrote:

Hi,

> it build cleanly with GCC and hbtest runs ok! :)

Thank you very much :-)

I would like to ask you to make also some basic speed tests.
I'm interesting in results of speedtst.prg with Harbour compiled
with and without HB_FM_DL_ALLOC.
For ST mode:
   hbmk2 -m -m -w -es2 -l -kmo -gc3 speedtst.prg
and then results of:
      speedtst.exe

For MT mode:
   hbmk2 -m -m -w -es2 -l -kmo -gc3 -mt speedtst.prg
and then results of:
      speedtst.exe
      speedtst.exe -thread
      speedtst.exe -thread=2 --scale

best regards,
Przemek
From maurilio.longo at libero.it  Tue Nov 24 04:36:15 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Nov 24 04:36:27 2009
Subject: [Harbour] make install on OS/2
Message-ID: <4B0BA90F.7080609@libero.it>

Viktor,

make install on OS/2 with GCC erases Changelog, INSTALL, COPYING, TODO files.

Any hints about the problem source?

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Tue Nov 24 04:38:24 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Nov 24 04:38:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13002] trunk/harbour
Message-ID: <E1NCrqq-0000jC-Fr@c3vjzd1.ch3.sourceforge.com>

Revision: 13002
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13002&view=rev
Author:   vszakats
Date:     2009-11-24 09:38:23 +0000 (Tue, 24 Nov 2009)

Log Message:
-----------
2009-11-24 10:37 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/Makefile
  + contrib/hbwin/win_prn3.c
  + contrib/hbwin/tests/testprn4.prg
    + Added SETDEFAULTPRINTER().
      This is Microsoft sample code taken from xhb repository,
      formatting, fixes and other modifications applied (like
      to use Harbour memory allocation functions),
      also added support for UNICODE mode.

  * contrib/hbwin/tests/testprn3.prg
    * Minor.

  * ChangeLog
    * Marked change as DONE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/tests/testprn3.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/tests/testprn4.prg
    trunk/harbour/contrib/hbwin/win_prn3.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Tue Nov 24 04:42:53 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Nov 24 04:43:02 2009
Subject: [Harbour] make install on OS/2
In-Reply-To: <4B0BA90F.7080609@libero.it>
References: <4B0BA90F.7080609@libero.it>
Message-ID: <64BEC541-1D88-405C-9B98-CD38229D3198@syenar.hu>

Hi Maurilio,

> make install on OS/2 with GCC erases Changelog, INSTALL, COPYING, TODO files.
> 
> Any hints about the problem source?

No :(

As to my knowledge, these files are only touched from 
bin/postinst.prg, each in an hb_FCopy() operation.

Maybe hb_FCopy() has some problems on OS/2? hb_FCopy() 
uses code similar to __COPYFILE() internally.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Tue Nov 24 04:49:21 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Nov 24 04:49:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13003] trunk/harbour
Message-ID: <E1NCs1R-0000tz-Om@c3vjzd1.ch3.sourceforge.com>

Revision: 13003
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13003&view=rev
Author:   vszakats
Date:     2009-11-24 09:49:16 +0000 (Tue, 24 Nov 2009)

Log Message:
-----------
2009-11-24 10:48 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/hbwin.ch
    + Added copy of HB_WINPRN_* constants from .c source.
      (Ugly, but currently there is no way to include hbwin.ch 
      to .c code due to lots of colliding names)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/hbwin.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Tue Nov 24 05:00:37 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Nov 24 05:00:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13004] trunk/harbour
Message-ID: <E1NCsCL-000162-Jm@c3vjzd1.ch3.sourceforge.com>

Revision: 13004
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13004&view=rev
Author:   vszakats
Date:     2009-11-24 10:00:36 +0000 (Tue, 24 Nov 2009)

Log Message:
-----------
2009-11-24 10:57 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/Makefile
  * contrib/hbwin/win_prn2.c
  * contrib/hbwin/win_prn3.c
  + contrib/hbwin/legacycp.c
    + Added new names for Windows printer support functions:
        WIN_PRINTEREXISTS()     (old name: PRINTEREXISTS())
        WIN_PRINTERSTATUS()     (old name: XISPRINTER())
        WIN_PRINTERPORTTONAME() (old name: PRINTERPORTTONAME())
        WIN_GETPRINTERS()       (old name: GETPRINTERS())
        WIN_GETDEFAULTPRINTER() (old name: GETDEFAULTPRINTER())
        WIN_SETDEFAULTPRINTER() (old name: SETDEFAULTPRINTER())
        WIN_PRINTFILERAW()      (old name: PRINTFILERAW())

    ; Old names still work, and they are guarded with HB_WIN_LEGACY_LEVEL_OFF
      macro, in case someone would like to disable them.
    ; Please use new names, old ones will be deleted enventually.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/hbwin/win_prn3.c

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/legacycp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Tue Nov 24 05:28:46 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Nov 24 05:30:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12998] trunk/harbour
In-Reply-To: <E1NCk9S-0007Nh-Qe@3kljzd1.ch3.sourceforge.com>
References: <E1NCk9S-0007Nh-Qe@3kljzd1.ch3.sourceforge.com>
Message-ID: <4B0BB55E.9040005@dbtopas.lt>

Hi,

>   * contrib/hbide/hbide.hbp
>   * contrib/hbide/hbide.prg
>   + contrib/hbide/idemisc.prg
>     ! Implemented to execute context sensitive popups.
>       Right click on <Funtions List> right-hand area.


GPF if not of popup menu actions is selected (by clicking outside of popup).

BTW, compile toolbar button closes source.


Regards,
Mindaugas
From dbtopas at dbtopas.lt  Tue Nov 24 05:56:35 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Nov 24 05:58:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <20091124014345.GA9197@linux-4bod.home.aster.pl>
References: <E1NCAlm-00065y-PR@3kljzd1.ch3.sourceforge.com>	<4B0B159E.2010405@dbtopas.lt>
	<20091124014345.GA9197@linux-4bod.home.aster.pl>
Message-ID: <4B0BBBE3.8010102@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
> As you can see in the last test DLMT has even better scalability what
> allows to reduce the speed difference and DLMT was finally a little bit
> faster. Anyhow this test uses only 3 threads which very nicely play with
> DLMT and I expect that when much bigger number of threads is used on multi
> CPU hardware then Hoard will be more efficient i.e. in test (3) we have
> 56 threads and here Hoard is still faster. But of course it does not
> change the fact that DLMT results are really good.

Thank You for test results. I like the simplicity of DLMT, and I think 
this implementation is better than trying to adapt more complex PT*, 
NED* or other ALLOCs. 16 separate mspaces is enough for most 
applications. Only on some heavy loaded servers we may need more active 
threads (minority of us have such number of CPU). This number 16 can be 
increased for a specific applications. Perhaps the only drawback of 
current implementation is that unused mspaces are destroyed only on 
application exit, but it this can be improved using some logic dependent 
on GC activation or thread destruction.


Regards,
Mindaugas

From vszakats at users.sourceforge.net  Tue Nov 24 06:09:38 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Nov 24 06:09:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13005] trunk/harbour
Message-ID: <E1NCtH8-0002BP-GS@c3vjzd1.ch3.sourceforge.com>

Revision: 13005
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13005&view=rev
Author:   vszakats
Date:     2009-11-24 11:09:37 +0000 (Tue, 24 Nov 2009)

Log Message:
-----------
2009-11-24 12:07 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/hbwin.ch
  * contrib/hbwin/win_prn2.c
    + Added support for server name in WIN_PRINTERLIST() (GETPRINTER())

  * contrib/hbwin/win_prn2.c
  * contrib/hbwin/win_prn3.c
  * contrib/hbwin/legacycp.c
  * ChangeLog
    * Some renaming, to keep all functions in the WIN_PRINT*() namespace.
      Prev entry updated.

  * contrib/hbwin/tests/testprn.prg
  * contrib/hbwin/tests/testprn2.prg
  * contrib/hbwin/tests/testprn3.prg
  * contrib/hbwin/tests/testprn4.prg
    * Updated tests to use new function names.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/contrib/hbwin/legacycp.c
    trunk/harbour/contrib/hbwin/tests/testprn.prg
    trunk/harbour/contrib/hbwin/tests/testprn2.prg
    trunk/harbour/contrib/hbwin/tests/testprn3.prg
    trunk/harbour/contrib/hbwin/tests/testprn4.prg
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/contrib/hbwin/win_prn3.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Nov 24 06:16:09 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Nov 24 06:16:37 2009
Subject: [Harbour] A sample of unicode
Message-ID: <609353e70911240316j4e79eecfs8af10f328db026d2@mail.gmail.com>

Anyone here can share or made a sample Unicode.prg
Explain harbour support of unicode by sample
(like mt)

-- 
Massimo Belgrano
From ale.seribeli at ig.com.br  Tue Nov 24 06:39:47 2009
From: ale.seribeli at ig.com.br (Ale SB)
Date: Tue Nov 24 06:39:53 2009
Subject: [Harbour] Error MsVc 2008...
Message-ID: <26494446.post@talk.nabble.com>


How to solve this problem?

firebird.c
C:\Firebird\include\ibase.h(137) : error C2371: 'SCHAR' : nueva definici?n;
tipos b?sicos distintos
        g:\svn\harbour\include\hbdefs.h(201) : vea la declaraci?n de 'SCHAR'
../../../firebird.c(137) : error C2664: 'isc_attach_database' : no se puede
convertir el par?metro 3 de 'const char *' a 'char *'
        Se pierden certificadores en la conversi?n
../../../firebird.c(223) : error C2664: 'isc_dsql_execute_immediate' : no se
puede convertir el par?metro 5 de 'const char *' a 'char *'
        Se pierden certificadores en la conversi?n

-------------
MyMake.Bat
.
SET CC_DIR=c:\VC2008

SET INCLUDE=%CC_DIR%\INCLUDE;%INCLUDE%
SET LIB=%CC_DIR%\Lib;%LIB%

SET
LIBPATH=C:\WINDOWS\Microsoft.NET\Framework\v3.5;C:\WINDOWS\Microsoft.NET\Framework\v2.0.50727;c:\VC2008\LIB;

set PATH=g:\svn\harbour;%CC_DIR%\Bin;C:\Arquivos de programas\Microsoft
Visual Studio 9.0\Common7\IDE;%PATH%

rem - debug test
rem set HB_BUILD_DEBUG=yes
rem set HB_TR_OUTPUT=hb_debug.txt
rem SET HB_TR_LEVEL=hb_tr_debug

set HB_WITH_ADS=C:\ads_8_1\acesdk
set HB_WITH_FIREBIRD=C:\Firebird\include
set HB_WITH_FREEIMAGE=g:\FreeImage\Dist
set HB_WITH_CURL=C:\curl\include
set HB_WITH_MYSQL=C:\mysql\include
set HB_WITH_OPENSSL=C:\openssl\include

set HB_DIR_ADS=C:\ADS_8_1\acesdk
set HB_DIR_FIREBIRD=C:\Firebird
set HB_DIR_FREEIMAGE=g:\FreeImage
set HB_DIR_CURL=C:\curl
set HB_DIR_MYSQL=C:\mysql
set HB_DIR_OPENSSL=C:\openssl

set HB_BUILD_IMPLIB=yes

set HB_BUILD_DLL=yes
set HB_COMPILER=msvc
set HB_INSTALL_PREFIX=g:\hbmsvc
-- 
View this message in context: http://old.nabble.com/Error-MsVc-2008...-tp26494446p26494446.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Tue Nov 24 06:52:22 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 24 06:52:32 2009
Subject: [Harbour] Error MsVc 2008...
In-Reply-To: <26494446.post@talk.nabble.com>
References: <26494446.post@talk.nabble.com>
Message-ID: <A04503FC-7611-4823-9482-F9DF334B6E87@syenar.hu>

> How to solve this problem?

Use 2.1.x version of Firebird.

> firebird.c
> C:\Firebird\include\ibase.h(137) : error C2371: 'SCHAR' : nueva definici?n;
> tipos b sicos distintos
>        g:\svn\harbour\include\hbdefs.h(201) : vea la declaraci?n de 'SCHAR'
> ../../../firebird.c(137) : error C2664: 'isc_attach_database' : no se puede
> convertir el par metro 3 de 'const char *' a 'char *'
>        Se pierden certificadores en la conversi?n
> ../../../firebird.c(223) : error C2664: 'isc_dsql_execute_immediate' : no se
> puede convertir el par metro 5 de 'const char *' a 'char *'
>        Se pierden certificadores en la conversi?n

Brgds,
Viktor

From fperillo at gmail.com  Tue Nov 24 06:57:26 2009
From: fperillo at gmail.com (francesco perillo)
Date: Tue Nov 24 06:57:34 2009
Subject: [Harbour] Since you are on win_prn subsystem...
Message-ID: <6943770e0911240357j73214710n389e87592a0b4054@mail.gmail.com>

I'd like to point out that the following text present in testprn.prg is false:

        oPrinter:TextOut("Notice: UNDERLINE only prints correctly if
there is a blank line after",.T.)
        oPrinter:TextOut("        it. This is because of ::LineHeight
and the next line",.T.)
        oPrinter:TextOut("        printing over top of the underline.
To avoid this happening",.T.)
        oPrinter:TextOut("        you can to alter ::LineHeight or use
a smaller font")

Infact you can use WIN_SETBKMODE to set background as transparent and
you can "overprint" withour problems....

Francesco
From druzus at users.sourceforge.net  Tue Nov 24 07:21:00 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Nov 24 07:21:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13006] trunk/harbour
Message-ID: <E1NCuOC-0002al-4O@dn4whf1.ch3.sourceforge.com>

Revision: 13006
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13006&view=rev
Author:   druzus
Date:     2009-11-24 12:20:59 +0000 (Tue, 24 Nov 2009)

Log Message:
-----------
2009-11-24 13:20 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/cdpapi.c
    ! fixed bad typo in hb_cdpTranslateChar() function

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/rtl/cdpapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Tue Nov 24 07:29:59 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Nov 24 07:30:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12999] trunk/harbour
In-Reply-To: <20091124091623.GA14053@linux-4bod.home.aster.pl>
References: <E1NCkZE-0002qx-Ee@d5vjzd1.ch3.sourceforge.com>	<4B0B9D63.7020309@libero.it>
	<20091124091623.GA14053@linux-4bod.home.aster.pl>
Message-ID: <4B0BD1C7.3000401@libero.it>

Przemyslaw,

hbmk2 fails with an exception inside harbourm.dll.

hbtest and hbrun, instead, work flawlessly.

What can it be?

Maurilio.

Przemys?aw Czerpak wrote:
> On Tue, 24 Nov 2009, Maurilio Longo wrote:
> 
> Hi,
> 
>> it build cleanly with GCC and hbtest runs ok! :)
> 
> Thank you very much :-)
> 
> I would like to ask you to make also some basic speed tests.
> I'm interesting in results of speedtst.prg with Harbour compiled
> with and without HB_FM_DL_ALLOC.
> For ST mode:
>    hbmk2 -m -m -w -es2 -l -kmo -gc3 speedtst.prg
> and then results of:
>       speedtst.exe
> 
> For MT mode:
>    hbmk2 -m -m -w -es2 -l -kmo -gc3 -mt speedtst.prg
> and then results of:
>       speedtst.exe
>       speedtst.exe -thread
>       speedtst.exe -thread=2 --scale
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Tue Nov 24 07:47:07 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Nov 24 07:47:14 2009
Subject: [Harbour] make install on OS/2
In-Reply-To: <64BEC541-1D88-405C-9B98-CD38229D3198@syenar.hu>
References: <4B0BA90F.7080609@libero.it>
	<64BEC541-1D88-405C-9B98-CD38229D3198@syenar.hu>
Message-ID: <4B0BD5CB.80801@libero.it>

Viktor,

postinst.prg uses HB_INSTALL_PREFIX to copy those files, and on my PC it
points to their current position. So it seems hb_FCopy() does not handle a
copy onto itself of a file and truncates it instead.

Best regards.

Maurilio.


Viktor Szak?ts wrote:
> Hi Maurilio,
> 
>> make install on OS/2 with GCC erases Changelog, INSTALL, COPYING, TODO files.
>>
>> Any hints about the problem source?
> 
> No :(
> 
> As to my knowledge, these files are only touched from 
> bin/postinst.prg, each in an hb_FCopy() operation.
> 
> Maybe hb_FCopy() has some problems on OS/2? hb_FCopy() 
> uses code similar to __COPYFILE() internally.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Nov 24 07:53:02 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Nov 24 07:53:12 2009
Subject: [Harbour] make install on OS/2
In-Reply-To: <4B0BD5CB.80801@libero.it>
References: <4B0BA90F.7080609@libero.it>
	<64BEC541-1D88-405C-9B98-CD38229D3198@syenar.hu>
	<4B0BD5CB.80801@libero.it>
Message-ID: <8AEB172B-EF16-41D0-99F5-DCF0471E60E0@syenar.hu>

> Viktor,
> 
> postinst.prg uses HB_INSTALL_PREFIX to copy those files, and on my PC it
> points to their current position. So it seems hb_FCopy() does not handle a
> copy onto itself of a file and truncates it instead.

That's a pretty huge problem.

I have to correct myself HB_FCOPY() is my own code, not 
__COPYFILE() related. Anyhow I don't know how to fix it 
properly. Probably using hb_fsExtOpen() could help, like 
in __COPYFILE(), but I'm unsure of exact meaning of all 
open flags.

HB_FCOPY() currently opens source in shared mode, and it 
would be good to keep it that way.

Any takers?

Brgds,
Viktor

From maurilio.longo at libero.it  Tue Nov 24 08:08:50 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Nov 24 08:08:57 2009
Subject: [Harbour] make install on OS/2
In-Reply-To: <8AEB172B-EF16-41D0-99F5-DCF0471E60E0@syenar.hu>
References: <4B0BA90F.7080609@libero.it>	<64BEC541-1D88-405C-9B98-CD38229D3198@syenar.hu>	<4B0BD5CB.80801@libero.it>
	<8AEB172B-EF16-41D0-99F5-DCF0471E60E0@syenar.hu>
Message-ID: <4B0BDAE2.6080606@libero.it>

Viktor,

we need a way to be able to tell whether pszSource && pszDest are indeed the
same file on disk and abort the copy.

Maurilio.

Viktor Szak?ts wrote:
>> Viktor,
>>
>> postinst.prg uses HB_INSTALL_PREFIX to copy those files, and on my PC it
>> points to their current position. So it seems hb_FCopy() does not handle a
>> copy onto itself of a file and truncates it instead.
> 
> That's a pretty huge problem.
> 
> I have to correct myself HB_FCOPY() is my own code, not 
> __COPYFILE() related. Anyhow I don't know how to fix it 
> properly. Probably using hb_fsExtOpen() could help, like 
> in __COPYFILE(), but I'm unsure of exact meaning of all 
> open flags.
> 
> HB_FCOPY() currently opens source in shared mode, and it 
> would be good to keep it that way.
> 
> Any takers?
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Tue Nov 24 08:22:29 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Nov 24 08:22:42 2009
Subject: [Harbour] make install on OS/2
In-Reply-To: <8AEB172B-EF16-41D0-99F5-DCF0471E60E0@syenar.hu>
References: <4B0BA90F.7080609@libero.it>	<64BEC541-1D88-405C-9B98-CD38229D3198@syenar.hu>	<4B0BD5CB.80801@libero.it>
	<8AEB172B-EF16-41D0-99F5-DCF0471E60E0@syenar.hu>
Message-ID: <4B0BDE15.8090406@libero.it>

Viktor,

another idea could be to open the source file in FO_DENYWRITE mode, so that
the open of the destination file fails while I can still read it from a
different process.

BTW, given that I'm going to copy the source somewhere the assurance that
nobody changes it while I'm copying it could be a good thing.

What do you think about this?

Maurilio.

Viktor Szak?ts wrote:
>> Viktor,
>>
>> postinst.prg uses HB_INSTALL_PREFIX to copy those files, and on my PC it
>> points to their current position. So it seems hb_FCopy() does not handle a
>> copy onto itself of a file and truncates it instead.
> 
> That's a pretty huge problem.
> 
> I have to correct myself HB_FCOPY() is my own code, not 
> __COPYFILE() related. Anyhow I don't know how to fix it 
> properly. Probably using hb_fsExtOpen() could help, like 
> in __COPYFILE(), but I'm unsure of exact meaning of all 
> open flags.
> 
> HB_FCOPY() currently opens source in shared mode, and it 
> would be good to keep it that way.
> 
> Any takers?
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Nov 24 08:27:45 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Nov 24 08:27:55 2009
Subject: [Harbour] make install on OS/2
In-Reply-To: <4B0BDAE2.6080606@libero.it>
References: <4B0BA90F.7080609@libero.it>	<64BEC541-1D88-405C-9B98-CD38229D3198@syenar.hu>	<4B0BD5CB.80801@libero.it>
	<8AEB172B-EF16-41D0-99F5-DCF0471E60E0@syenar.hu>
	<4B0BDAE2.6080606@libero.it>
Message-ID: <F3111FCC-AD23-4D1E-9459-B94FE06EBD00@syenar.hu>

Hi Maurilio,

> Viktor,
> 
> we need a way to be able to tell whether pszSource && pszDest are indeed the
> same file on disk and abort the copy.

That's a very tough thing to do, and IMO not 
possible in a reliable (and portable) way.
Files can have links, they can be mapped to 
different network shares, etctec.

Can you test if __COPYFILE() also behaves like 
this on OS/2?

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Nov 24 08:27:57 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 24 08:28:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12999] trunk/harbour
In-Reply-To: <4B0BD1C7.3000401@libero.it>
References: <E1NCkZE-0002qx-Ee@d5vjzd1.ch3.sourceforge.com>
	<4B0B9D63.7020309@libero.it>
	<20091124091623.GA14053@linux-4bod.home.aster.pl>
	<4B0BD1C7.3000401@libero.it>
Message-ID: <20091124132757.GA27451@linux-4bod.home.aster.pl>

On Tue, 24 Nov 2009, Maurilio Longo wrote:

Hi,

> hbmk2 fails with an exception inside harbourm.dll.
> hbtest and hbrun, instead, work flawlessly.
> What can it be?

Only HBMK2 uses MT HVM so probably code for MT locks inside
DLMALLOC in OS2 builds is broken. It should be easy to fix it.
Depending on available atomic macros one of two versions is used,
see dlmalloc[1467]

   #ifdef HB_SPINLOCK_USE

   static int spin_acquire_lock( HB_SPINLOCK_T *l )
   {
      HB_SPINLOCK_ACQUIRE( l );
      return 0;
   }

   #define MLOCK_T HB_SPINLOCK_T
   #define INITIAL_LOCK(l)      *(l)=HB_SPINLOCK_INIT
   #define ACQUIRE_LOCK(l)      spin_acquire_lock(l)
   #define RELEASE_LOCK(l)      HB_SPINLOCK_RELEASE(l)
   #define MLOCK_INIT           HB_SPINLOCK_INIT

   #elif defined( HB_OS_OS2 )

   #define MLOCK_T HB_RAWCRITICAL_T
   #define INITIAL_LOCK(l)      HB_CRITICAL_INIT(*(l))
   #define ACQUIRE_LOCK(l)      HB_CRITICAL_LOCK(*(l))
   #define RELEASE_LOCK(l)      HB_CRITICAL_UNLOCK(*(l))
   #define MLOCK_INIT           { 0 }

   #elif !defined( WIN32 )


If you are using OS2@x86 and GCC then the first version (HB_SPINLOCK_USE)
should be enabled. This code is used also on other platforms so it should
work without any problems so maybe in OS2 builds HB_CPU_X86 is not set
(BTW I'll commit some minor modification to the code which sets this macro
in a while). The second version inside HB_OS_OS2 section is not tested at
all and it's highly possible that it does not work. Can you check which
version is used in your build?
Just simply add:
   int version_HB_SPINLOCK_USE;
and:
   int version_HB_OS_OS2;
to above code and check which variable will be reported as unused.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Nov 24 08:30:00 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Nov 24 08:30:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13007] trunk/harbour
Message-ID: <E1NCvSy-0004HT-6G@c3vjzd1.ch3.sourceforge.com>

Revision: 13007
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13007&view=rev
Author:   druzus
Date:     2009-11-24 13:29:59 +0000 (Tue, 24 Nov 2009)

Log Message:
-----------
2009-11-24 14:29 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbsetup.h
    * minor extension to CPU detection macros

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbsetup.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Tue Nov 24 08:38:18 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Nov 24 08:38:31 2009
Subject: [Harbour] make does not see changed files?
Message-ID: <4B0BE1CA.3080608@libero.it>

Hi,

OS/2 GCC,

inside src/vm I issue a

touch fm.c
touch hbvmall.c

then a make

and this is what I get

(E:\repository\harbour\src\vm)make
! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
! MAKE: make 3.81 D:\OS2\CMD.EXE
! HB_USER_CFLAGS: -DHB_FM_DL_ALLOC
! HB_BIN_INSTALL: e:\harbour\bin
! HB_LIB_INSTALL: e:\harbour\lib
! HB_INC_INSTALL: e:\harbour\include
! HB_DOC_INSTALL: e:\harbour\doc
! HB_BUILD_SHARED: yes
! HB_BUILD_STRIP: all
! HB_HOST_PLAT: os2 (x86)  HB_SHELL: os2
! HB_PLATFORM: os2 (x86) (autodetected)
! HB_COMPILER: gcc
! Component: 'zlib' found in E:/repository/harbour/external/zlib (local)
! Component: 'pcre' found in E:/repository/harbour/external/pcre (local)
! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
! Component: 'gpm' not supported on os2 platform
! Component: 'slang' not found. Configure with HB_WITH_SLANG.
! Component: 'curses' not supported on os2 platform
! Component: 'x11' not found. Configure with HB_WITH_X11.
! Component: 'wattcp/watt-32' not supported on os2 platform
! HB_INSTALL_PREFIX automatically set to: E:\repository\harbour
make[1]: `../../../../../lib/os2/gcc/hbvm.a' is up to date.
make[2]: `../../../../../../lib/os2/gcc/hbmainstd.a' is up to date.
make[2]: `../../../../../../lib/os2/gcc/hbmaindllh.a' is up to date.
make[2]: `../../../../../../lib/os2/gcc/hbvmmt.a' is up to date.

So, changes to the source files are not detected?

Is this ok?

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Tue Nov 24 08:44:50 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Nov 24 08:44:57 2009
Subject: [Harbour] make does not see changed files?
In-Reply-To: <4B0BE1CA.3080608@libero.it>
References: <4B0BE1CA.3080608@libero.it>
Message-ID: <4B0BE352.1030502@libero.it>

Wait,

my mistake. It is hvmall and not hbvmall.c :)

Touching the correct one works as expected.

fm.c is included and probably this is the reason it is not seen as changed.

Maurilio.


Maurilio Longo wrote:
> Hi,
> 
> OS/2 GCC,
> 
> inside src/vm I issue a
> 
> touch fm.c
> touch hbvmall.c
> 
> then a make
> 
> and this is what I get
> 
> (E:\repository\harbour\src\vm)make
> ! Building Harbour 2.0.0beta3 from source - http://www.harbour-project.org
> ! MAKE: make 3.81 D:\OS2\CMD.EXE
> ! HB_USER_CFLAGS: -DHB_FM_DL_ALLOC
> ! HB_BIN_INSTALL: e:\harbour\bin
> ! HB_LIB_INSTALL: e:\harbour\lib
> ! HB_INC_INSTALL: e:\harbour\include
> ! HB_DOC_INSTALL: e:\harbour\doc
> ! HB_BUILD_SHARED: yes
> ! HB_BUILD_STRIP: all
> ! HB_HOST_PLAT: os2 (x86)  HB_SHELL: os2
> ! HB_PLATFORM: os2 (x86) (autodetected)
> ! HB_COMPILER: gcc
> ! Component: 'zlib' found in E:/repository/harbour/external/zlib (local)
> ! Component: 'pcre' found in E:/repository/harbour/external/pcre (local)
> ! Component: 'openssl' not found. Configure with HB_WITH_OPENSSL.
> ! Component: 'gpm' not supported on os2 platform
> ! Component: 'slang' not found. Configure with HB_WITH_SLANG.
> ! Component: 'curses' not supported on os2 platform
> ! Component: 'x11' not found. Configure with HB_WITH_X11.
> ! Component: 'wattcp/watt-32' not supported on os2 platform
> ! HB_INSTALL_PREFIX automatically set to: E:\repository\harbour
> make[1]: `../../../../../lib/os2/gcc/hbvm.a' is up to date.
> make[2]: `../../../../../../lib/os2/gcc/hbmainstd.a' is up to date.
> make[2]: `../../../../../../lib/os2/gcc/hbmaindllh.a' is up to date.
> make[2]: `../../../../../../lib/os2/gcc/hbvmmt.a' is up to date.
> 
> So, changes to the source files are not detected?
> 
> Is this ok?
> 
> Maurilio.
> 
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Tue Nov 24 08:47:26 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 24 08:47:32 2009
Subject: [Harbour] make does not see changed files?
In-Reply-To: <4B0BE1CA.3080608@libero.it>
References: <4B0BE1CA.3080608@libero.it>
Message-ID: <20091124134725.GA28060@linux-4bod.home.aster.pl>

On Tue, 24 Nov 2009, Maurilio Longo wrote:

Hi,

> OS/2 GCC,
> inside src/vm I issue a
> touch fm.c
> touch hbvmall.c
[...]
> make[1]: `../../../../../lib/os2/gcc/hbvm.a' is up to date.
> make[2]: `../../../../../../lib/os2/gcc/hbmainstd.a' is up to date.
> make[2]: `../../../../../../lib/os2/gcc/hbmaindllh.a' is up to date.
> make[2]: `../../../../../../lib/os2/gcc/hbvmmt.a' is up to date.
> So, changes to the source files are not detected?
> Is this ok?

Yes, you touched hbvmall.c instead of hvmall.c

best regards,
Przemek
From maurilio.longo at libero.it  Tue Nov 24 08:48:38 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Nov 24 08:48:46 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12999] trunk/harbour
In-Reply-To: <20091124132757.GA27451@linux-4bod.home.aster.pl>
References: <E1NCkZE-0002qx-Ee@d5vjzd1.ch3.sourceforge.com>	<4B0B9D63.7020309@libero.it>	<20091124091623.GA14053@linux-4bod.home.aster.pl>	<4B0BD1C7.3000401@libero.it>
	<20091124132757.GA27451@linux-4bod.home.aster.pl>
Message-ID: <4B0BE436.1050101@libero.it>

Przemyslaw,

dlmalloc[1452], HB_SPINLOCK_USE is set.

I'll try using OS/2 section to see if it works.

Maurilio.


Przemys?aw Czerpak wrote:
> On Tue, 24 Nov 2009, Maurilio Longo wrote:
> 
> Hi,
> 
>> hbmk2 fails with an exception inside harbourm.dll.
>> hbtest and hbrun, instead, work flawlessly.
>> What can it be?
> 
> Only HBMK2 uses MT HVM so probably code for MT locks inside
> DLMALLOC in OS2 builds is broken. It should be easy to fix it.
> Depending on available atomic macros one of two versions is used,
> see dlmalloc[1467]
> 
>    #ifdef HB_SPINLOCK_USE
> 
>    static int spin_acquire_lock( HB_SPINLOCK_T *l )
>    {
>       HB_SPINLOCK_ACQUIRE( l );
>       return 0;
>    }
> 
>    #define MLOCK_T HB_SPINLOCK_T
>    #define INITIAL_LOCK(l)      *(l)=HB_SPINLOCK_INIT
>    #define ACQUIRE_LOCK(l)      spin_acquire_lock(l)
>    #define RELEASE_LOCK(l)      HB_SPINLOCK_RELEASE(l)
>    #define MLOCK_INIT           HB_SPINLOCK_INIT
> 
>    #elif defined( HB_OS_OS2 )
> 
>    #define MLOCK_T HB_RAWCRITICAL_T
>    #define INITIAL_LOCK(l)      HB_CRITICAL_INIT(*(l))
>    #define ACQUIRE_LOCK(l)      HB_CRITICAL_LOCK(*(l))
>    #define RELEASE_LOCK(l)      HB_CRITICAL_UNLOCK(*(l))
>    #define MLOCK_INIT           { 0 }
> 
>    #elif !defined( WIN32 )
> 
> 
> If you are using OS2@x86 and GCC then the first version (HB_SPINLOCK_USE)
> should be enabled. This code is used also on other platforms so it should
> work without any problems so maybe in OS2 builds HB_CPU_X86 is not set
> (BTW I'll commit some minor modification to the code which sets this macro
> in a while). The second version inside HB_OS_OS2 section is not tested at
> all and it's highly possible that it does not work. Can you check which
> version is used in your build?
> Just simply add:
>    int version_HB_SPINLOCK_USE;
> and:
>    int version_HB_OS_OS2;
> to above code and check which variable will be reported as unused.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Tue Nov 24 09:15:06 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Nov 24 09:15:15 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12999] trunk/harbour
In-Reply-To: <4B0BE436.1050101@libero.it>
References: <E1NCkZE-0002qx-Ee@d5vjzd1.ch3.sourceforge.com>	<4B0B9D63.7020309@libero.it>	<20091124091623.GA14053@linux-4bod.home.aster.pl>	<4B0BD1C7.3000401@libero.it>	<20091124132757.GA27451@linux-4bod.home.aster.pl>
	<4B0BE436.1050101@libero.it>
Message-ID: <4B0BEA6A.1060803@libero.it>

No,

even changhing it this way:

dlmalloc.c[1452] onward

#if /*defined( HB_OS_OS2 ) ||*/ defined( HB_OS_WIN ) || defined( __WATCOMC__ )
#  ifndef HB_SPINLOCK_USE
#     define HB_SPINLOCK_USE
#  endif
#endif

#ifdef HB_SPINLOCK_USE
#  include "hbthread.h"
#  include "hbatomic.h"
#endif

#ifndef HB_SPINLOCK_T
#  undef HB_SPINLOCK_USE
#endif

#ifdef HB_SPINLOCK_USE
static int spin_acquire_lock( HB_SPINLOCK_T *l )
{
   HB_SPINLOCK_ACQUIRE( l );
   return 0;
}

#define MLOCK_T HB_SPINLOCK_T
#define INITIAL_LOCK(l)      *(l)=HB_SPINLOCK_INIT
#define ACQUIRE_LOCK(l)      spin_acquire_lock(l)
#define RELEASE_LOCK(l)      HB_SPINLOCK_RELEASE(l)
#define MLOCK_INIT           HB_SPINLOCK_INIT

#elif defined( HB_OS_OS2 )
#include "hbthread.h"
#include "hbatomic.h"

#define MLOCK_T HB_RAWCRITICAL_T
#define INITIAL_LOCK(l)      HB_CRITICAL_INIT(*(l))
#define ACQUIRE_LOCK(l)      HB_CRITICAL_LOCK(*(l))
#define RELEASE_LOCK(l)      HB_CRITICAL_UNLOCK(*(l))
#define MLOCK_INIT           { 0 }

did not solve the problem and hbmk2 dies as soon as it is called.

Maurilio

Maurilio Longo wrote:
> Przemyslaw,
> 
> dlmalloc[1452], HB_SPINLOCK_USE is set.
> 
> I'll try using OS/2 section to see if it works.
> 
> Maurilio.
> 
> 
> Przemys?aw Czerpak wrote:
>> On Tue, 24 Nov 2009, Maurilio Longo wrote:
>>
>> Hi,
>>
>>> hbmk2 fails with an exception inside harbourm.dll.
>>> hbtest and hbrun, instead, work flawlessly.
>>> What can it be?
>> Only HBMK2 uses MT HVM so probably code for MT locks inside
>> DLMALLOC in OS2 builds is broken. It should be easy to fix it.
>> Depending on available atomic macros one of two versions is used,
>> see dlmalloc[1467]
>>
>>    #ifdef HB_SPINLOCK_USE
>>
>>    static int spin_acquire_lock( HB_SPINLOCK_T *l )
>>    {
>>       HB_SPINLOCK_ACQUIRE( l );
>>       return 0;
>>    }
>>
>>    #define MLOCK_T HB_SPINLOCK_T
>>    #define INITIAL_LOCK(l)      *(l)=HB_SPINLOCK_INIT
>>    #define ACQUIRE_LOCK(l)      spin_acquire_lock(l)
>>    #define RELEASE_LOCK(l)      HB_SPINLOCK_RELEASE(l)
>>    #define MLOCK_INIT           HB_SPINLOCK_INIT
>>
>>    #elif defined( HB_OS_OS2 )
>>
>>    #define MLOCK_T HB_RAWCRITICAL_T
>>    #define INITIAL_LOCK(l)      HB_CRITICAL_INIT(*(l))
>>    #define ACQUIRE_LOCK(l)      HB_CRITICAL_LOCK(*(l))
>>    #define RELEASE_LOCK(l)      HB_CRITICAL_UNLOCK(*(l))
>>    #define MLOCK_INIT           { 0 }
>>
>>    #elif !defined( WIN32 )
>>
>>
>> If you are using OS2@x86 and GCC then the first version (HB_SPINLOCK_USE)
>> should be enabled. This code is used also on other platforms so it should
>> work without any problems so maybe in OS2 builds HB_CPU_X86 is not set
>> (BTW I'll commit some minor modification to the code which sets this macro
>> in a while). The second version inside HB_OS_OS2 section is not tested at
>> all and it's highly possible that it does not work. Can you check which
>> version is used in your build?
>> Just simply add:
>>    int version_HB_SPINLOCK_USE;
>> and:
>>    int version_HB_OS_OS2;
>> to above code and check which variable will be reported as unused.
>>
>> best regards,
>> Przemek
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Nov 24 09:15:28 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Nov 24 09:15:37 2009
Subject: [Harbour] make install on OS/2
In-Reply-To: <4B0BDE15.8090406@libero.it>
References: <4B0BA90F.7080609@libero.it>	<64BEC541-1D88-405C-9B98-CD38229D3198@syenar.hu>	<4B0BD5CB.80801@libero.it>
	<8AEB172B-EF16-41D0-99F5-DCF0471E60E0@syenar.hu>
	<4B0BDE15.8090406@libero.it>
Message-ID: <FC1EF626-3BFF-4F9B-8874-AB5773BC152C@syenar.hu>

> Viktor,
> 
> another idea could be to open the source file in FO_DENYWRITE mode, so that
> the open of the destination file fails while I can still read it from a
> different process.
> 
> BTW, given that I'm going to copy the source somewhere the assurance that
> nobody changes it while I'm copying it could be a good thing.
> 
> What do you think about this?

I intentionally used shared mode, otherwise it's not possible 
to copy files which are open for writing f.e. in Windows. Plus 
I'm not sure such mode would be a guarantee on all platforms/filesystems.

We can do this as a last resort.

Brgds,
Viktor

From tech at 2dinfo.com.br  Tue Nov 24 10:26:50 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Tue Nov 24 09:34:26 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
Message-ID: <77377B95AE9042CB9938DC6143593711@noteleo>

Hi,

My name is Leandro Damasio and I have started to follow Harbour Project Main Developer List few days ago. I recently started 2D Informatica with my associate Ted, to develop commercial aplications using [x]Harbour. We used xHarbour + BCC55 + HWGUI for about 3 years, until we read xhb-diff.txt document and decided to try Harbour instead.

We are about to realease 2DWGUI, an Object Oriented Harbour API to Win32 GUI, and its going to be a free product but not opensource from start.

Our experience with opensource development is minimal, but I believe we could be useful by giving sugestions and/or reporting problems at least.

My first try:

Does harbour have native support to singleton classes? Its an useful design pattern to declare unique instance objects, so the same instance is reacheable/accessible globally by just calling for the the class name.
We implemented Singleton objects in xHarbour, but I'm sure the native implementation should be done better by someone who knows the object machine inside.

The Singleton Class usage is like below:

<code>

CLASS Aplication SINGLETON

    DATA Status

    METHOD Init(aParams)
    METHOD Run()
    METHOD End()

ENDCLASS


Procedure Main (...)

Aplication():Init(hb_aParams())

Func2()

Aplication():End()

Return


Static Function Func2()

Aplication():Run()

Return Aplication():Status

</code>

If it is not implemented yet, do you think its a good idea to implement natively?

Thanks 
Leandro Damasio
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091124/b1c8e795/attachment.html
From maurilio.longo at libero.it  Tue Nov 24 09:40:58 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Nov 24 09:41:06 2009
Subject: [Harbour] make install on OS/2
In-Reply-To: <F3111FCC-AD23-4D1E-9459-B94FE06EBD00@syenar.hu>
References: <4B0BA90F.7080609@libero.it>	<64BEC541-1D88-405C-9B98-CD38229D3198@syenar.hu>	<4B0BD5CB.80801@libero.it>	<8AEB172B-EF16-41D0-99F5-DCF0471E60E0@syenar.hu>	<4B0BDAE2.6080606@libero.it>
	<F3111FCC-AD23-4D1E-9459-B94FE06EBD00@syenar.hu>
Message-ID: <4B0BF07A.4030009@libero.it>

Viktor,

I've added a define to postinst.prg

#define hb_FCopy( x, y )   __COPYFILE( x, y )

and this is what I got

! 'sddodbc' library skipped ('odbc' not supported on os2 platform)
! 'hbxbp' library skipped (platform not supported)
./bin/os2/gcc/hbrun.exe --hb:gtcgi ./bin/postinst.prg
! Making e:\harbour\bin\hbmk.cfg...
Error BASE/2012  Create error: E:\repository\harbour\ChangeLog
(DOS Error 5) (Quit, Retry, Default)
Error BASE/2012  Create error: E:\repository\harbour\ChangeLog (DOS Error 5)
Called from __COPYFILE(0)
Called from MAIN(56)
Called from HB_HRBRUN(0)
Called from _APPMAIN(0)  make: *** [install] Error 1


Maurilio.


Viktor Szak?ts wrote:
> Hi Maurilio,
> 
>> Viktor,
>>
>> we need a way to be able to tell whether pszSource && pszDest are indeed the
>> same file on disk and abort the copy.
> 
> That's a very tough thing to do, and IMO not 
> possible in a reliable (and portable) way.
> Files can have links, they can be mapped to 
> different network shares, etctec.
> 
> Can you test if __COPYFILE() also behaves like 
> this on OS/2?
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Tue Nov 24 09:48:33 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Nov 24 09:48:41 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <77377B95AE9042CB9938DC6143593711@noteleo>
References: <77377B95AE9042CB9938DC6143593711@noteleo>
Message-ID: <4B0BF241.1050506@libero.it>

Leandro,

On xbase++ you can create them this way

http://databear.wordpress.com/2009/08/28/xbase-singleton-pattern/

Maybe you can adopt this to harbour.

Maurilio.


Leandro Damasio wrote:
> Hi,
>  
> My name is Leandro Damasio and I have started to follow Harbour Project
> Main Developer List few days ago. I recently started 2D Informatica with
> my associate Ted, to develop commercial aplications using [x]Harbour. We
> used xHarbour + BCC55 + HWGUI for about 3 years, until we read
> xhb-diff.txt document and decided to try Harbour instead.
>  
> We are about to realease 2DWGUI, an Object Oriented Harbour API to Win32
> GUI, and its going to be a free product but not opensource from start.
>  
> Our experience with opensource development is minimal, but I believe we
> could be useful by giving sugestions and/or reporting problems at least.
>  
> My first try:
>  
> Does harbour have native support to singleton classes? Its an useful
> design pattern to declare unique instance objects, so the same instance
> is reacheable/accessible globally by just calling for the the class name.
> We implemented Singleton objects in xHarbour, but I'm sure the native
> implementation should be done better by someone who knows the object
> machine inside.
>  
> The Singleton Class usage is like below:
>  
> <code>
>  
> CLASS Aplication SINGLETON
>  
>     DATA Status
>  
>     METHOD Init(aParams)
>     METHOD Run()
>     METHOD End()
>  
> ENDCLASS
>  
>  
> Procedure Main (...)
>  
> Aplication():Init(hb_aParams())
>  
> Func2()
>  
> Aplication():End()
>  
> Return
>  
>  
> Static Function Func2()
>  
> Aplication():Run()
>  
> Return Aplication():Status
>  
> </code>
>  
> If it is not implemented yet, do you think its a good idea to implement
> natively?
>  
> Thanks
> Leandro Damasio
>  
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Tue Nov 24 09:59:27 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 24 09:59:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12999] trunk/harbour
In-Reply-To: <4B0BEA6A.1060803@libero.it>
References: <E1NCkZE-0002qx-Ee@d5vjzd1.ch3.sourceforge.com>
	<4B0B9D63.7020309@libero.it>
	<20091124091623.GA14053@linux-4bod.home.aster.pl>
	<4B0BD1C7.3000401@libero.it>
	<20091124132757.GA27451@linux-4bod.home.aster.pl>
	<4B0BE436.1050101@libero.it> <4B0BEA6A.1060803@libero.it>
Message-ID: <20091124145927.GA28691@linux-4bod.home.aster.pl>

On Tue, 24 Nov 2009, Maurilio Longo wrote:

Hi,

> No,
> even changhing it this way:
> dlmalloc.c[1452] onward
> #if /*defined( HB_OS_OS2 ) ||*/ defined( HB_OS_WIN ) || defined( __WATCOMC__ )
[...]
> did not solve the problem and hbmk2 dies as soon as it is called.

I haven't expected that disabling spin locks will help. I only
wanted to be sure that spin locks are used by default in OS2 builds.
I think that the problem is inside hb_mspace() when it's executed
before HVM stack is initialized. In OS2 we have unique to other systems
method to access TLS and it will cause GPF if we try to access hb_stack
pointer before TLS key is initialized.
If I'm right and this is the source of problem then it should be enough
to make small modification in hb_mspace() function and replace:

   if( hb_stackId() && hb_stack.allocator )

with:

   #undef hb_stackTotalItems
   if( hb_stackTotalItems() && hb_stack.allocator )

Can you restore spin locks and test above code?

best regards,
Przemek
From itamarlins at bol.com.br  Tue Nov 24 10:03:32 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Tue Nov 24 10:06:25 2009
Subject: [Harbour] Re: Re: Re: Re: Re: Re: Win_prn problem.
References: <hd4ahg$3h6$1@ger.gmane.org><609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com><hd4gui$l8q$1@ger.gmane.org><609353e70911071141r1f93a800ne3e3ab032d1495c1@mail.gmail.com><hd6d8b$la2$1@ger.gmane.org><609353e70911080534n1c327690qae2f1e1f05d7bb98@mail.gmail.com><hd7ctd$eh1$1@ger.gmane.org><609353e70911081407s298f73bai1dc4f8a7272a611e@mail.gmail.com><hd7l2k$46n$1@ger.gmane.org><609353e70911090004h7d01346bkad8fbd9881e8fa8@mail.gmail.com><18d502870911090040r1a112deew50d43574e4b4c5aa@mail.gmail.com><370975DB-72F6-4998-BA8E-E356E07DC572@syenar.hu>	<64D3E786-B3D3-475D-B309-DD1812B7037E@syenar.hu>	<hedm8i$2qq$1@ger.gmane.org><0DF2BF0B-F341-4023-9A3B-5980069A7111@syenar.hu>
	<4B0B35E1.6090802@gmail.com>
Message-ID: <hegso9$qlv$1@ger.gmane.org>

Hi!
Now with , oPrn:CharSet(OEM_CHARSET)
I get error, variable not exist.
Error BASE/1003  Vari vel no existe: OEM_CHARSET
SVN  * $Id: ChangeLog 13006 2009-11-24 12:20:59Z druzus $

Best regards,
Itamar M. Lins Jr.

"Xavi" <jarabal@gmail.com> escreveu na 
mensagem news:4B0B35E1.6090802@gmail.com...
> Itamar,
>
>  > But not  is possible yet print draw box double horizontal for example. 
> I get
>  > 
>
> This seems a conflict with charset.
> http://msdn.microsoft.com/en-us/library/dd183499%28VS.85%29.aspx
> Please read fdwCharSet parameter if it can help you.
>
> oPrn:CharSet(OEM_CHARSET)
> oPrn:Setfont('Lucida Console',,11) // oPrn:Setfont('Terminal',,12)
>
> Please Viktor, is it possible to update hbwin.ch?
>
> -- 
> Xavi
>
> Viktor Szakts escribi:
>>> Hi!
>>> The return of command "oPrn:TextOut('Font Is: '+oPrn:FontName,.t.)" is
>>> correct now.
>>
>> Amen.
>>
>>> But not  is possible yet print draw box double horizontal for example. I 
>>> get
>>> 
>>
>> I'll let someone else to solve this for you,
>> anyhow it's not a Harbour bug.
>>
>> Brgds,
>> Viktor
>>
>
>


--------------------------------------------------------------------------------


> /*
> * $Id: hbwin.ch 12732 2009-10-19 21:17:04Z vszakats $
> */
>
> /*
> * Harbour Project source code:
> * hbwin header
> *
> * Copyright 2008 Viktor Szakats (harbour.01 syenar.hu)
> * Copyright 2004 Peter Rees <peter@rees.co.nz>
> *                Rees Software & Systems Ltd
> * www - http://www.harbour-project.org
> *
> * This program is free software; you can redistribute it and/or modify
> * it under the terms of the GNU General Public License as published by
> * the Free Software Foundation; either version 2, or (at your option)
> * any later version.
> *
> * This program is distributed in the hope that it will be useful,
> * but WITHOUT ANY WARRANTY; without even the implied warranty of
> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
> * GNU General Public License for more details.
> *
> * You should have received a copy of the GNU General Public License
> * along with this software; see the file COPYING.  If not, write to
> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
> * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
> *
> * As a special exception, the Harbour Project gives permission for
> * additional uses of the text contained in its release of Harbour.
> *
> * The exception is that, if you link the Harbour libraries with other
> * files to produce an executable, this does not by itself cause the
> * resulting executable to be covered by the GNU General Public License.
> * Your use of that executable is in no way restricted on account of
> * linking the Harbour library code into it.
> *
> * This exception does not however invalidate any other reasons why
> * the executable file might be covered by the GNU General Public License.
> *
> * This exception applies only to the code released by the Harbour
> * Project under the name Harbour.  If you copy code from other
> * Harbour Project or Free Software Foundation releases into a copy of
> * Harbour, as the General Public License permits, the exception does
> * not apply to the code that you add in this way.  To avoid misleading
> * anyone as to the status of such modified files, you must delete
> * this exception notice from them.
> *
> * If you write modifications of your own for Harbour, it is your choice
> * whether to permit this exception to apply to your modifications.
> * If you do not wish that, delete this exception notice.
> *
> */
>
> #ifndef HBWIN_CH_
> #define HBWIN_CH_
>
> /* Registry related values */
>
> #define HKEY_CLASSES_ROOT      0x80000000
> #define HKEY_CURRENT_USER      0x80000001
> #define HKEY_LOCAL_MACHINE     0x80000002
> #define HKEY_USERS             0x80000003
> #define HKEY_PERFORMANCE_DATA  0x80000004
> #define HKEY_CURRENT_CONFIG    0x80000005
> #define HKEY_DYN_DATA          0x80000006
>
> /* win_Port() related values */
>
> /* The following are from winbase.h */
>
> #define CBR_110                110
> #define CBR_300                300
> #define CBR_600                600
> #define CBR_1200               1200
> #define CBR_2400               2400
> #define CBR_4800               4800
> #define CBR_9600               9600
> #define CBR_14400              14400
> #define CBR_19200              19200
> #define CBR_38400              38400
> #define CBR_56000              56000
> #define CBR_57600              57600
> #define CBR_115200             115200
> #define CBR_128000             128000
> #define CBR_256000             256000
>
> #define NOPARITY               0
> #define ODDPARITY              1
> #define EVENPARITY             2
> #define MARKPARITY             3
> #define SPACEPARITY            4
>
> #define ONESTOPBIT             0
> #define ONE5STOPBITS           1
> #define TWOSTOPBITS            2
>
> /* DTR Control Flow Values. */
> #define DTR_CONTROL_DISABLE    0x00
> #define DTR_CONTROL_ENABLE     0x01
> #define DTR_CONTROL_HANDSHAKE  0x02
>
> /* RTS Control Flow Values */
> #define RTS_CONTROL_DISABLE    0x00
> #define RTS_CONTROL_ENABLE     0x01
> #define RTS_CONTROL_HANDSHAKE  0x02
> #define RTS_CONTROL_TOGGLE     0x03
>
> #define WIN_COM_DBGBASIC       0x01
> #define WIN_COM_DBGFLOW        0x02
> #define WIN_COM_DBGXTRAFLOW    0x04
> #define WIN_COM_DBGOTHER       0x08
> #define WIN_COM_DBGTIMEOUTS    0x10
> #define WIN_COM_DBGQUEUE       0x20
> #define WIN_COM_DBGALL         0x3F
>
> /* win_Prn() related values */
>
> #define FORM_A4                9
>
> #define PS_SOLID               0
>
> #define RGB( nR, nG, nB )      ( nR + ( nG * 256 ) + ( nB * 256 * 256 ) )
>
> #define RGB_BLACK              RGB( 0x00, 0x00, 0x00 )
> #define RGB_BLUE               RGB( 0x00, 0x00, 0x85 )
> #define RGB_GREEN              RGB( 0x00, 0x85, 0x00 )
> #define RGB_CYAN               RGB( 0x00, 0x85, 0x85 )
> #define RGB_RED                RGB( 0x85, 0x00, 0x00 )
> #define RGB_MAGENTA            RGB( 0x85, 0x00, 0x85 )
> #define RGB_BROWN              RGB( 0x85, 0x85, 0x00 )
> #define RGB_WHITE              RGB( 0xC6, 0xC6, 0xC6 )
>
> /* Cut from wingdi.h */
>
> #define MM_TEXT                1
> #define MM_LOMETRIC            2
> #define MM_HIMETRIC            3
> #define MM_LOENGLISH           4
> #define MM_HIENGLISH           5
>
> #define FW_DONTCARE 0
> #define FW_THIN 100
> #define FW_EXTRALIGHT 200
> #define FW_ULTRALIGHT FW_EXTRALIGHT
> #define FW_LIGHT 300
> #define FW_NORMAL 400
> #define FW_REGULAR 400
> #define FW_MEDIUM 500
> #define FW_SEMIBOLD 600
> #define FW_DEMIBOLD FW_SEMIBOLD
> #define FW_BOLD 700
> #define FW_EXTRABOLD 800
> #define FW_ULTRABOLD FW_EXTRABOLD
> #define FW_HEAVY 900
> #define FW_BLACK FW_HEAVY
> #define ANSI_CHARSET 0
> #define DEFAULT_CHARSET 1
> #define SYMBOL_CHARSET 2
> #define SHIFTJIS_CHARSET 128
> #define HANGEUL_CHARSET 129
> #define HANGUL_CHARSET  129
> #define GB2312_CHARSET 134
> #define CHINESEBIG5_CHARSET 136
> #define GREEK_CHARSET 161
> #define TURKISH_CHARSET 162
> #define HEBREW_CHARSET 177
> #define ARABIC_CHARSET 178
> #define BALTIC_CHARSET 186
> #define RUSSIAN_CHARSET 204
> #define THAI_CHARSET 222
> #define EASTEUROPE_CHARSET 238
> #define OEM_CHARSET 255
> #define JOHAB_CHARSET 130
> #define VIETNAMESE_CHARSET 163
> #define MAC_CHARSET 77
>
> /* Device Parameters for win_GetDeviceCaps() */
>
> #define HORZSIZE               4   // Horizontal size in millimeters
> #define VERTSIZE               6   // Vertical size in millimeters
> #define HORZRES                8   // Horizontal width in pixels
> #define VERTRES                10  // Vertical height in pixels
> #define NUMBRUSHES             16  // Number of brushes the device has
> #define NUMPENS                18  // Number of pens the device has
> #define NUMFONTS               22  // Number of fonts the device has
> #define NUMCOLORS              24  // Number of colors the device supports
> #define RASTERCAPS             38  // Bitblt capabilities
>
> #define LOGPIXELSX             88  // Logical pixels/inch in X
> #define LOGPIXELSY             90  // Logical pixels/inch in Y
>
> #define PHYSICALWIDTH          110 // Physical Width in device units
> #define PHYSICALHEIGHT         111 // Physical Height in device units
> #define PHYSICALOFFSETX        112 // Physical Printable Area x margin
> #define PHYSICALOFFSETY        113 // Physical Printable Area y margin
> #define SCALINGFACTORX         114 // Scaling factor x
> #define SCALINGFACTORY         115 // Scaling factor y
>
> /* bin selections */
> #define DMBIN_FIRST            DMBIN_UPPER
> #define DMBIN_UPPER            1
> #define DMBIN_ONLYONE          1
> #define DMBIN_LOWER            2
> #define DMBIN_MIDDLE           3
> #define DMBIN_MANUAL           4
> #define DMBIN_ENVELOPE         5
> #define DMBIN_ENVMANUAL        6
> #define DMBIN_AUTO             7
> #define DMBIN_TRACTOR          8
> #define DMBIN_SMALLFMT         9
> #define DMBIN_LARGEFMT         10
> #define DMBIN_LARGECAPACITY    11
> #define DMBIN_CASSETTE         14
> #define DMBIN_FORMSOURCE       15
> #define DMBIN_LAST             DMBIN_FORMSOURCE
>
> /* print qualities */
> #define DMRES_DRAFT            ( -1 )
> #define DMRES_LOW              ( -2 )
> #define DMRES_MEDIUM           ( -3 )
> #define DMRES_HIGH             ( -4 )
>
> /* duplex enable */
> #define DMDUP_SIMPLEX          1
> #define DMDUP_VERTICAL         2
> #define DMDUP_HORIZONTAL       3
>
> /* Text Alignment Options */
> #define TA_NOUPDATECP          0
> #define TA_UPDATECP            1
>
> #define TA_LEFT                0
> #define TA_RIGHT               2
> #define TA_CENTER              6
>
> #define TA_TOP                 0
> #define TA_BOTTOM              8
> #define TA_BASELINE            24
>
> #define MM_TO_INCH             25.4
>
> #endif /* HBWIN_CH_ */
>


--------------------------------------------------------------------------------


> 



From maurilio.longo at libero.it  Tue Nov 24 10:22:09 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Nov 24 10:22:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12999] trunk/harbour
In-Reply-To: <20091124145927.GA28691@linux-4bod.home.aster.pl>
References: <E1NCkZE-0002qx-Ee@d5vjzd1.ch3.sourceforge.com>	<4B0B9D63.7020309@libero.it>	<20091124091623.GA14053@linux-4bod.home.aster.pl>	<4B0BD1C7.3000401@libero.it>	<20091124132757.GA27451@linux-4bod.home.aster.pl>	<4B0BE436.1050101@libero.it>
	<4B0BEA6A.1060803@libero.it>
	<20091124145927.GA28691@linux-4bod.home.aster.pl>
Message-ID: <4B0BFA21.8020300@libero.it>

Przemyslaw,

no, I've changed it this way

static mspace hb_mspace( void )
{
   HB_STACK_TLS_PRELOAD

   //if( hb_stackId() && hb_stack.allocator )
   #undef hb_stackTotalItems
   if( hb_stackTotalItems() && hb_stack.allocator )
      return ( ( PHB_MSPACE ) hb_stack.allocator )->ms;

   if( !s_gm )
      s_gm = create_mspace( 0, 1 );

   return s_gm;
}

but it still dies upon startup.

Maurilio.


Przemys?aw Czerpak wrote:
> On Tue, 24 Nov 2009, Maurilio Longo wrote:
> 
> Hi,
> 
>> No,
>> even changhing it this way:
>> dlmalloc.c[1452] onward
>> #if /*defined( HB_OS_OS2 ) ||*/ defined( HB_OS_WIN ) || defined( __WATCOMC__ )
> [...]
>> did not solve the problem and hbmk2 dies as soon as it is called.
> 
> I haven't expected that disabling spin locks will help. I only
> wanted to be sure that spin locks are used by default in OS2 builds.
> I think that the problem is inside hb_mspace() when it's executed
> before HVM stack is initialized. In OS2 we have unique to other systems
> method to access TLS and it will cause GPF if we try to access hb_stack
> pointer before TLS key is initialized.
> If I'm right and this is the source of problem then it should be enough
> to make small modification in hb_mspace() function and replace:
> 
>    if( hb_stackId() && hb_stack.allocator )
> 
> with:
> 
>    #undef hb_stackTotalItems
>    if( hb_stackTotalItems() && hb_stack.allocator )
> 
> Can you restore spin locks and test above code?
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Tue Nov 24 10:27:03 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Nov 24 10:27:14 2009
Subject: [Harbour] make install on OS/2
In-Reply-To: <4B0BF07A.4030009@libero.it>
References: <4B0BA90F.7080609@libero.it>	<64BEC541-1D88-405C-9B98-CD38229D3198@syenar.hu>	<4B0BD5CB.80801@libero.it>	<8AEB172B-EF16-41D0-99F5-DCF0471E60E0@syenar.hu>	<4B0BDAE2.6080606@libero.it>
	<F3111FCC-AD23-4D1E-9459-B94FE06EBD00@syenar.hu>
	<4B0BF07A.4030009@libero.it>
Message-ID: <4F874269-B02C-4B4F-B111-0A896BF99849@syenar.hu>

Thanks for your test.

I've made some comparison with __COPYFILE(), 
and it looks safe to adapt its file opening 
method also in hb_fsCopy().

I'll commit it soon.

Brgds,
Viktor

On 2009 Nov 24, at 15:40, Maurilio Longo wrote:

> Viktor,
> 
> I've added a define to postinst.prg
> 
> #define hb_FCopy( x, y )   __COPYFILE( x, y )
> 
> and this is what I got
> 
> ! 'sddodbc' library skipped ('odbc' not supported on os2 platform)
> ! 'hbxbp' library skipped (platform not supported)
> ./bin/os2/gcc/hbrun.exe --hb:gtcgi ./bin/postinst.prg
> ! Making e:\harbour\bin\hbmk.cfg...
> Error BASE/2012  Create error: E:\repository\harbour\ChangeLog
> (DOS Error 5) (Quit, Retry, Default)
> Error BASE/2012  Create error: E:\repository\harbour\ChangeLog (DOS Error 5)
> Called from __COPYFILE(0)
> Called from MAIN(56)
> Called from HB_HRBRUN(0)
> Called from _APPMAIN(0)  make: *** [install] Error 1
> 
> 
> Maurilio.
> 
> 
> Viktor Szak?ts wrote:
>> Hi Maurilio,
>> 
>>> Viktor,
>>> 
>>> we need a way to be able to tell whether pszSource && pszDest are indeed the
>>> same file on disk and abort the copy.
>> 
>> That's a very tough thing to do, and IMO not 
>> possible in a reliable (and portable) way.
>> Files can have links, they can be mapped to 
>> different network shares, etctec.
>> 
>> Can you test if __COPYFILE() also behaves like 
>> this on OS/2?
>> 
>> Brgds,
>> Viktor
>> 
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> 
> 
> -- 
> __________
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Tue Nov 24 10:30:14 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 24 10:30:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12999] trunk/harbour
In-Reply-To: <4B0BFA21.8020300@libero.it>
References: <E1NCkZE-0002qx-Ee@d5vjzd1.ch3.sourceforge.com>
	<4B0B9D63.7020309@libero.it>
	<20091124091623.GA14053@linux-4bod.home.aster.pl>
	<4B0BD1C7.3000401@libero.it>
	<20091124132757.GA27451@linux-4bod.home.aster.pl>
	<4B0BE436.1050101@libero.it> <4B0BEA6A.1060803@libero.it>
	<20091124145927.GA28691@linux-4bod.home.aster.pl>
	<4B0BFA21.8020300@libero.it>
Message-ID: <20091124153013.GA29408@linux-4bod.home.aster.pl>

On Tue, 24 Nov 2009, Maurilio Longo wrote:

Hi,

> Przemyslaw,
> no, I've changed it this way
> static mspace hb_mspace( void )
> {
>    HB_STACK_TLS_PRELOAD
> 
>    //if( hb_stackId() && hb_stack.allocator )
>    #undef hb_stackTotalItems
>    if( hb_stackTotalItems() && hb_stack.allocator )
>       return ( ( PHB_MSPACE ) hb_stack.allocator )->ms;
>    if( !s_gm )
>       s_gm = create_mspace( 0, 1 );
>    return s_gm;
> }
> but it still dies upon startup.

Sorry my typo, the problem is also inside HB_STACK_TLS_PRELOAD macro so
it should be changed to:

   static mspace hb_mspace( void )
   {
      #undef hb_stackTotalItems
      if( hb_stackTotalItems() )
      {
         HB_STACK_TLS_PRELOAD
         if( hb_stack.allocator )
            return ( ( PHB_MSPACE ) hb_stack.allocator )->ms;
      }
      if( !s_gm )
         s_gm = create_mspace( 0, 1 );
      return s_gm;
   }

Please test.
In a while I'll commit modification which should resolve this problem.

best regards,
Przemek
From ranier at cultura.com.br  Tue Nov 24 11:46:49 2009
From: ranier at cultura.com.br (Ranier Vilela)
Date: Tue Nov 24 10:43:57 2009
Subject: [Harbour] Book "Programming with Harbour"
Message-ID: <4B0C0DF9.1020709@cultura.com.br>

Hi Przemek,

I?d like invite you to write a book to Harbour "Programming with Harbour".
I strong believe that your name is reference for all xbase developers, 
and your expertise
will have large chance of success in sales.
Clear part dedicated to xBase, I?d like suggest the chapter "C API", 
covered by topics
about interfacing C with Harbour.
This chapter is my greatest interest.

I believe that book will be improve the development with Harbour.

Best regards,

Ranier Vilela


From vouchcac at users.sourceforge.net  Tue Nov 24 10:45:55 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Nov 24 10:46:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13008] trunk/harbour
Message-ID: <E1NCxaV-0003rB-HT@3kljzd1.ch3.sourceforge.com>

Revision: 13008
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13008&view=rev
Author:   vouchcac
Date:     2009-11-24 15:45:54 +0000 (Tue, 24 Nov 2009)

Log Message:
-----------
2009-11-24 07:43 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbplistbox.prg
  * contrib/hbxbp/xbptreeview.prg
  * contrib/hbide/hbide.hbp
  * contrib/hbide/hbide.prg
  + contrib/hbide/ideactions.prg
    + More grandulariy.
  * contrib/hbide/idemisc.prg
    + Added and fixed many artifacts.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.hbp
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbxbp/xbplistbox.prg
    trunk/harbour/contrib/hbxbp/xbptreeview.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/ideactions.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Nov 24 10:49:06 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Nov 24 10:49:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13009] trunk/harbour
Message-ID: <E1NCxda-0007kl-FB@d5vjzd1.ch3.sourceforge.com>

Revision: 13009
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13009&view=rev
Author:   druzus
Date:     2009-11-24 15:49:02 +0000 (Tue, 24 Nov 2009)

Log Message:
-----------
2009-11-24 16:48 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/dlmalloc.c
    % use harbour spin locks if available by default in all builds

  * harbour/include/hbatomic.h
    * removed HB_SPINLOCK_SLEEP macro and enable code to always yield
      the processor in spin locks
    * cover double spin lock setting by HB_SPINLOCK_REPEAT

  * harbour/src/vm/garbage.c
    * removed unused HB_SPINLOCK_SLEEP macro

  * harbour/include/hbstack.h
  * harbour/src/vm/estack.c
    + added new internal function hb_stackAllocator()
    * disable hb_stackTotalItems() stack macro so this function can be
      used also in internal HVM code to check if stack is initialized

  * harbour/src/vm/fm.c
    ! use hb_stackAllocator() to access pointer to DLMALLOC mspace
      It should fix GPF when DLMT was used in OS2 builds - please test.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbatomic.h
    trunk/harbour/include/hbstack.h
    trunk/harbour/src/vm/dlmalloc.c
    trunk/harbour/src/vm/estack.c
    trunk/harbour/src/vm/fm.c
    trunk/harbour/src/vm/garbage.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fernando_athayde at yahoo.com.br  Tue Nov 24 10:51:05 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Tue Nov 24 10:51:14 2009
Subject: Res: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <77377B95AE9042CB9938DC6143593711@noteleo>
References: <77377B95AE9042CB9938DC6143593711@noteleo>
Message-ID: <449034.93104.qm@web52204.mail.re2.yahoo.com>

why don?t you help a development of hbqt, seems a good api (multiplataform), and you can make include files in a hwgui format

Thanks
Fernando Athayde




________________________________
De: Leandro Damasio <tech@2dinfo.com.br>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Ter?a-feira, 24 de Novembro de 2009 12:26:50
Assunto: [Harbour] Singleton Design Pattern in harbour objects

 
Hi,
 
My name is Leandro Damasio and I have started to 
follow Harbour Project Main Developer List few days ago. I recently started 2D 
Informatica with my associate Ted, to develop commercial aplications using 
[x]Harbour. We used xHarbour + BCC55 + HWGUI for about 3 years, until we read 
xhb-diff.txt document and decided to try Harbour instead.
 
We are about to realease 2DWGUI, an Object Oriented 
Harbour API to Win32 GUI, and its going to be a free product but not opensource 
from start.
 
Our experience with opensource development is 
minimal, but I believe we could be useful by giving sugestions and/or reporting 
problems at least.
 
My first try:
 
Does harbour have native support to singleton 
classes? Its an useful design pattern to declare unique instance objects, so the 
same instance is reacheable/accessible globally by just calling for the the 
class name.
We implemented Singleton objects in xHarbour, 
but I'm sure the native implementation should be done better by someone who 
knows the object machine inside.
 
The Singleton Class usage is like 
below:
 
<code>
 
CLASS Aplication SINGLETON
 
    DATA Status
 
    METHOD 
Init(aParams)
    METHOD Run()
    METHOD End()
 
ENDCLASS
 
 
Procedure Main (...)
 
Aplication():Init(hb_aParams())
 
Func2()
 
Aplication():End()
 
Return
 
 
Static Function Func2()
 
Aplication():Run()
 
Return Aplication():Status
 
</code>
 
If it is not implemented yet, do you think its a 
good idea to implement natively?
 
Thanks 
Leandro Damasio


      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091124/5d9d01ab/attachment-0001.html
From mbelgrano at deltain.it  Tue Nov 24 10:51:26 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Nov 24 10:51:54 2009
Subject: [Harbour] Book "Programming with Harbour"
In-Reply-To: <4B0C0DF9.1020709@cultura.com.br>
References: <4B0C0DF9.1020709@cultura.com.br>
Message-ID: <609353e70911240751g6587f639l78cc6442171edac@mail.gmail.com>

+1

2009/11/24 Ranier Vilela <ranier@cultura.com.br>:
> Hi Przemek,
>
> I?d like invite you to write a book to Harbour "Programming with Harbour".
> I strong believe that your name is reference for all xbase developers, and
> your expertise
> will have large chance of success in sales.
> Clear part dedicated to xBase, I?d like suggest the chapter "C API", covered
> by topics
> about interfacing C with Harbour.
> This chapter is my greatest interest.
>
> I believe that book will be improve the development with Harbour.
>
> Best regards,
>
> Ranier Vilela
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From maurilio.longo at libero.it  Tue Nov 24 10:57:41 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Nov 24 10:57:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12999] trunk/harbour
In-Reply-To: <20091124153013.GA29408@linux-4bod.home.aster.pl>
References: <E1NCkZE-0002qx-Ee@d5vjzd1.ch3.sourceforge.com>	<4B0B9D63.7020309@libero.it>	<20091124091623.GA14053@linux-4bod.home.aster.pl>	<4B0BD1C7.3000401@libero.it>	<20091124132757.GA27451@linux-4bod.home.aster.pl>	<4B0BE436.1050101@libero.it>
	<4B0BEA6A.1060803@libero.it>	<20091124145927.GA28691@linux-4bod.home.aster.pl>	<4B0BFA21.8020300@libero.it>
	<20091124153013.GA29408@linux-4bod.home.aster.pl>
Message-ID: <4B0C0275.90703@libero.it>

Ok,

now hbmk2 works.

Let's do some tests now about speed .)

Thanks a lot.

Maurilio.


Przemys?aw Czerpak wrote:
> On Tue, 24 Nov 2009, Maurilio Longo wrote:
> 
> Hi,
> 
>> Przemyslaw,
>> no, I've changed it this way
>> static mspace hb_mspace( void )
>> {
>>    HB_STACK_TLS_PRELOAD
>>
>>    //if( hb_stackId() && hb_stack.allocator )
>>    #undef hb_stackTotalItems
>>    if( hb_stackTotalItems() && hb_stack.allocator )
>>       return ( ( PHB_MSPACE ) hb_stack.allocator )->ms;
>>    if( !s_gm )
>>       s_gm = create_mspace( 0, 1 );
>>    return s_gm;
>> }
>> but it still dies upon startup.
> 
> Sorry my typo, the problem is also inside HB_STACK_TLS_PRELOAD macro so
> it should be changed to:
> 
>    static mspace hb_mspace( void )
>    {
>       #undef hb_stackTotalItems
>       if( hb_stackTotalItems() )
>       {
>          HB_STACK_TLS_PRELOAD
>          if( hb_stack.allocator )
>             return ( ( PHB_MSPACE ) hb_stack.allocator )->ms;
>       }
>       if( !s_gm )
>          s_gm = create_mspace( 0, 1 );
>       return s_gm;
>    }
> 
> Please test.
> In a while I'll commit modification which should resolve this problem.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Tue Nov 24 10:58:19 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Tue Nov 24 10:58:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13010] trunk/harbour
Message-ID: <E1NCxmV-0006gL-MK@c3vjzd1.ch3.sourceforge.com>

Revision: 13010
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13010&view=rev
Author:   vszakats
Date:     2009-11-24 15:58:17 +0000 (Tue, 24 Nov 2009)

Log Message:
-----------
2009-11-24 16:57 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/fscopy.c
    ! Fixed to use the same file opening method as in __COPYFILE().
      This should fix creating zero byte file on OS/2 when the source
      and target file is the same.
    ; Please test.

  * contrib/hbwin/win_prn3.c
    * Minor.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/win_prn3.c
    trunk/harbour/src/rtl/fscopy.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Tue Nov 24 11:03:10 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Nov 24 11:04:01 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <449034.93104.qm@web52204.mail.re2.yahoo.com>
References: <77377B95AE9042CB9938DC6143593711@noteleo>
	<449034.93104.qm@web52204.mail.re2.yahoo.com>
Message-ID: <609353e70911240803j14acf002xc5e40461b1aa2cd7@mail.gmail.com>

A minigui wrapper to qt is done by hbqtcommand
a xbase++ wrapper to qt is done by Pritpal in contrib\xhp
so a hwgui wrapper will be intresting to try the qt powerfull

In future hi hope that we can manage set syntax  to cover differences by GUI
like designed in vianemo
also a  wvt wrapper will be intresting
set GUISYNTAX to XBP,MINIGUI,FIVEWIN,HWGUI,WVT...VFP



2009/11/24 Fernando Athayde <fernando_athayde@yahoo.com.br>:
> why don?t you help a development of hbqt, seems a good api (multiplataform),
> and you can make include files in a hwgui format
>
> Thanks
> Fernando Athayde

-- 
Massimo Belgrano
From fperillo at gmail.com  Tue Nov 24 11:03:58 2009
From: fperillo at gmail.com (francesco perillo)
Date: Tue Nov 24 11:04:10 2009
Subject: [Harbour] Book "Programming with Harbour"
In-Reply-To: <609353e70911240751g6587f639l78cc6442171edac@mail.gmail.com>
References: <4B0C0DF9.1020709@cultura.com.br>
	<609353e70911240751g6587f639l78cc6442171edac@mail.gmail.com>
Message-ID: <6943770e0911240803w5a6bfal424648fb010a1698@mail.gmail.com>

Probably "Harbour internals" is a better title....

Unfortunately there are only 24 hours per day... and if Przemek writes
the book, he can't work of getting Harbour better and better.... :-)

Do you have an idea of how many people are currently using harbour for
producing software that is "on sale" ?

10 ? 100 ? 1000 ? 1 million ?

Francesco
From druzus at acn.waw.pl  Tue Nov 24 11:04:13 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 24 11:04:22 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12999] trunk/harbour
In-Reply-To: <4B0C0275.90703@libero.it>
References: <4B0B9D63.7020309@libero.it>
	<20091124091623.GA14053@linux-4bod.home.aster.pl>
	<4B0BD1C7.3000401@libero.it>
	<20091124132757.GA27451@linux-4bod.home.aster.pl>
	<4B0BE436.1050101@libero.it> <4B0BEA6A.1060803@libero.it>
	<20091124145927.GA28691@linux-4bod.home.aster.pl>
	<4B0BFA21.8020300@libero.it>
	<20091124153013.GA29408@linux-4bod.home.aster.pl>
	<4B0C0275.90703@libero.it>
Message-ID: <20091124160413.GA26894@linux-4bod.home.aster.pl>

On Tue, 24 Nov 2009, Maurilio Longo wrote:
> Ok,
> now hbmk2 works.

Thank you very much for your tests.

> Let's do some tests now about speed .)

If possible please sync with current SVN and use clean SVN source
code before your start tests.
I've just committed above modifications in a little bit faster version.

best regards,
Przemek
From mbelgrano at deltain.it  Tue Nov 24 11:11:58 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Nov 24 11:12:25 2009
Subject: [Harbour] Book "Programming with Harbour"
In-Reply-To: <6943770e0911240803w5a6bfal424648fb010a1698@mail.gmail.com>
References: <4B0C0DF9.1020709@cultura.com.br>
	<609353e70911240751g6587f639l78cc6442171edac@mail.gmail.com> 
	<6943770e0911240803w5a6bfal424648fb010a1698@mail.gmail.com>
Message-ID: <609353e70911240811m318896cajea687e4103107489@mail.gmail.com>

1000 are user active in developer mailing
I know a high number of user that use harbour and not write any messages
I think that with this book the number of harbour user will grow

2009/11/24 francesco perillo <fperillo@gmail.com>:
> Probably "Harbour internals" is a better title....
>
> Do you have an idea of how many people are currently using harbour for
> producing software that is "on sale" ?
>
> 10 ? 100 ? 1000 ? 1 million ?
>



-- 
Massimo Belgrano
From maurilio.longo at libero.it  Tue Nov 24 11:17:42 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Nov 24 11:17:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13010] trunk/harbour
In-Reply-To: <E1NCxmV-0006gL-MK@c3vjzd1.ch3.sourceforge.com>
References: <E1NCxmV-0006gL-MK@c3vjzd1.ch3.sourceforge.com>
Message-ID: <4B0C0726.5030503@libero.it>

Issue fixed.

Thanks a lot.

Maurilio.


vszakats@users.sourceforge.net wrote:
> Revision: 13010
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13010&view=rev
> Author:   vszakats
> Date:     2009-11-24 15:58:17 +0000 (Tue, 24 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-24 16:57 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * src/rtl/fscopy.c
>     ! Fixed to use the same file opening method as in __COPYFILE().
>       This should fix creating zero byte file on OS/2 when the source
>       and target file is the same.
>     ; Please test.
> 
>   * contrib/hbwin/win_prn3.c
>     * Minor.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/contrib/hbwin/win_prn3.c
>     trunk/harbour/src/rtl/fscopy.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From maurilio.longo at libero.it  Tue Nov 24 11:19:23 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Nov 24 11:19:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13009] trunk/harbour
In-Reply-To: <E1NCxda-0007kl-FB@d5vjzd1.ch3.sourceforge.com>
References: <E1NCxda-0007kl-FB@d5vjzd1.ch3.sourceforge.com>
Message-ID: <4B0C078B.7030704@libero.it>

Przemyslaw,

OS/2 works ok.

Thanks a lot.

Maurilio.


druzus@users.sourceforge.net wrote:
> Revision: 13009
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13009&view=rev
> Author:   druzus
> Date:     2009-11-24 15:49:02 +0000 (Tue, 24 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-24 16:48 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/src/vm/dlmalloc.c
>     % use harbour spin locks if available by default in all builds
> 
>   * harbour/include/hbatomic.h
>     * removed HB_SPINLOCK_SLEEP macro and enable code to always yield
>       the processor in spin locks
>     * cover double spin lock setting by HB_SPINLOCK_REPEAT
> 
>   * harbour/src/vm/garbage.c
>     * removed unused HB_SPINLOCK_SLEEP macro
> 
>   * harbour/include/hbstack.h
>   * harbour/src/vm/estack.c
>     + added new internal function hb_stackAllocator()
>     * disable hb_stackTotalItems() stack macro so this function can be
>       used also in internal HVM code to check if stack is initialized
> 
>   * harbour/src/vm/fm.c
>     ! use hb_stackAllocator() to access pointer to DLMALLOC mspace
>       It should fix GPF when DLMT was used in OS2 builds - please test.
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/include/hbatomic.h
>     trunk/harbour/include/hbstack.h
>     trunk/harbour/src/vm/dlmalloc.c
>     trunk/harbour/src/vm/estack.c
>     trunk/harbour/src/vm/fm.c
>     trunk/harbour/src/vm/garbage.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From calimero22 at freemail.it  Tue Nov 24 11:32:58 2009
From: calimero22 at freemail.it (calimero22@freemail.it)
Date: Tue Nov 24 11:33:04 2009
Subject: [Harbour] Book "Programming with Harbour"
Message-ID: <20091124163258.37A9C6803616@eva125.dadanet.it>

An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091124/e57e0780/attachment.html
From fernando_athayde at yahoo.com.br  Tue Nov 24 11:33:41 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Tue Nov 24 11:33:47 2009
Subject: Res: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <609353e70911240803j14acf002xc5e40461b1aa2cd7@mail.gmail.com>
References: <77377B95AE9042CB9938DC6143593711@noteleo>
	<449034.93104.qm@web52204.mail.re2.yahoo.com>
	<609353e70911240803j14acf002xc5e40461b1aa2cd7@mail.gmail.com>
Message-ID: <284554.96900.qm@web52205.mail.re2.yahoo.com>

gret, guess harbour with one gui mantened by group, is fabulous


Thanks,
Fernando




________________________________
De: Massimo Belgrano <mbelgrano@deltain.it>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Ter?a-feira, 24 de Novembro de 2009 13:03:10
Assunto: Re: [Harbour] Singleton Design Pattern in harbour objects

A minigui wrapper to qt is done by hbqtcommand
a xbase++ wrapper to qt is done by Pritpal in contrib\xhp
so a hwgui wrapper will be intresting to try the qt powerfull

In future hi hope that we can manage set syntax  to cover differences by GUI
like designed in vianemo
also a  wvt wrapper will be intresting
set GUISYNTAX to XBP,MINIGUI,FIVEWIN,HWGUI,WVT...VFP



2009/11/24 Fernando Athayde <fernando_athayde@yahoo.com.br>:
> why don?t you help a development of hbqt, seems a good api (multiplataform),
> and you can make include files in a hwgui format
>
> Thanks
> Fernando Athayde

-- 
Massimo Belgrano
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091124/0dbf8b2c/attachment-0001.html
From harbour.01 at syenar.hu  Tue Nov 24 11:36:11 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 24 11:36:27 2009
Subject: [Harbour] Book "Programming with Harbour"
In-Reply-To: <20091124163258.37A9C6803616@eva125.dadanet.it>
References: <20091124163258.37A9C6803616@eva125.dadanet.it>
Message-ID: <A611C764-B793-4FC9-ADC6-6604585A0F8B@syenar.hu>

Would you contribute to documentation writing?

Brgds,
Viktor

On 2009 Nov 24, at 17:32, calimero22@freemail.it wrote:

> 
> Hi 
> In my experience about Harbour, it's a language VERY POWERFULL!! 
> But if this language is without DOCUMENTATION, his powerfull il lose. 
> Giovanni Di Maria 
> 
> 
> 
> 
> 
> --- Dada Music Movement, tutta la musica che vuoi! --- _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From itamarlins at bol.com.br  Tue Nov 24 11:41:43 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Tue Nov 24 11:44:29 2009
Subject: [Harbour] Re: Re: Re: Re: Re: Re: Win_prn problem.
References: <hd4ahg$3h6$1@ger.gmane.org><609353e70911071005r74f0cdd8vaba36f379ff076cb@mail.gmail.com><hd4gui$l8q$1@ger.gmane.org><609353e70911071141r1f93a800ne3e3ab032d1495c1@mail.gmail.com><hd6d8b$la2$1@ger.gmane.org><609353e70911080534n1c327690qae2f1e1f05d7bb98@mail.gmail.com><hd7ctd$eh1$1@ger.gmane.org><609353e70911081407s298f73bai1dc4f8a7272a611e@mail.gmail.com><hd7l2k$46n$1@ger.gmane.org><609353e70911090004h7d01346bkad8fbd9881e8fa8@mail.gmail.com><18d502870911090040r1a112deew50d43574e4b4c5aa@mail.gmail.com><370975DB-72F6-4998-BA8E-E356E07DC572@syenar.hu>	<64D3E786-B3D3-475D-B309-DD1812B7037E@syenar.hu>	<hedm8i$2qq$1@ger.gmane.org><0DF2BF0B-F341-4023-9A3B-5980069A7111@syenar.hu><4B0B35E1.6090802@gmail.com>
	<hegso9$qlv$1@ger.gmane.org>
Message-ID: <heh2gc$hhg$1@ger.gmane.org>

Sorry, my fault,
#include "hbwin.ch"
But, the problem persist. :-(

Best regards,
Itamar M. Lins Jr.

"Itamar Lins" <itamarlins@bol.com.br> escreveu 
na mensagem news:hegso9$qlv$1@ger.gmane.org...
> Hi!
> Now with , oPrn:CharSet(OEM_CHARSET)
> I get error, variable not exist.
> Error BASE/1003  Vari vel no existe: OEM_CHARSET
> SVN  * $Id: ChangeLog 13006 2009-11-24 12:20:59Z druzus $
>
> Best regards,
> Itamar M. Lins Jr.
>
> "Xavi" <jarabal@gmail.com> escreveu na 
> mensagem news:4B0B35E1.6090802@gmail.com...
>> Itamar,
>>
>>  > But not  is possible yet print draw box double horizontal for example. 
>> I get
>>  > 
>>
>> This seems a conflict with charset.
>> http://msdn.microsoft.com/en-us/library/dd183499%28VS.85%29.aspx
>> Please read fdwCharSet parameter if it can help you.
>>
>> oPrn:CharSet(OEM_CHARSET)
>> oPrn:Setfont('Lucida Console',,11) // oPrn:Setfont('Terminal',,12)
>>
>> Please Viktor, is it possible to update hbwin.ch?
>>
>> -- 
>> Xavi
>>
>> Viktor Szakts escribi:
>>>> Hi!
>>>> The return of command "oPrn:TextOut('Font Is: '+oPrn:FontName,.t.)" is
>>>> correct now.
>>>
>>> Amen.
>>>
>>>> But not  is possible yet print draw box double horizontal for example. 
>>>> I get
>>>> 
>>>
>>> I'll let someone else to solve this for you,
>>> anyhow it's not a Harbour bug.
>>>
>>> Brgds,
>>> Viktor
>>>
>>
>>
>
>
> --------------------------------------------------------------------------------
>
>
>> /*
>> * $Id: hbwin.ch 12732 2009-10-19 21:17:04Z vszakats $
>> */
>>
>> /*
>> * Harbour Project source code:
>> * hbwin header
>> *
>> * Copyright 2008 Viktor Szakats (harbour.01 syenar.hu)
>> * Copyright 2004 Peter Rees 
>> <peter@rees.co.nz>
>> *                Rees Software & Systems Ltd
>> * www - http://www.harbour-project.org
>> *
>> * This program is free software; you can redistribute it and/or modify
>> * it under the terms of the GNU General Public License as published by
>> * the Free Software Foundation; either version 2, or (at your option)
>> * any later version.
>> *
>> * This program is distributed in the hope that it will be useful,
>> * but WITHOUT ANY WARRANTY; without even the implied warranty of
>> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
>> * GNU General Public License for more details.
>> *
>> * You should have received a copy of the GNU General Public License
>> * along with this software; see the file COPYING.  If not, write to
>> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
>> * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
>> *
>> * As a special exception, the Harbour Project gives permission for
>> * additional uses of the text contained in its release of Harbour.
>> *
>> * The exception is that, if you link the Harbour libraries with other
>> * files to produce an executable, this does not by itself cause the
>> * resulting executable to be covered by the GNU General Public License.
>> * Your use of that executable is in no way restricted on account of
>> * linking the Harbour library code into it.
>> *
>> * This exception does not however invalidate any other reasons why
>> * the executable file might be covered by the GNU General Public License.
>> *
>> * This exception applies only to the code released by the Harbour
>> * Project under the name Harbour.  If you copy code from other
>> * Harbour Project or Free Software Foundation releases into a copy of
>> * Harbour, as the General Public License permits, the exception does
>> * not apply to the code that you add in this way.  To avoid misleading
>> * anyone as to the status of such modified files, you must delete
>> * this exception notice from them.
>> *
>> * If you write modifications of your own for Harbour, it is your choice
>> * whether to permit this exception to apply to your modifications.
>> * If you do not wish that, delete this exception notice.
>> *
>> */
>>
>> #ifndef HBWIN_CH_
>> #define HBWIN_CH_
>>
>> /* Registry related values */
>>
>> #define HKEY_CLASSES_ROOT      0x80000000
>> #define HKEY_CURRENT_USER      0x80000001
>> #define HKEY_LOCAL_MACHINE     0x80000002
>> #define HKEY_USERS             0x80000003
>> #define HKEY_PERFORMANCE_DATA  0x80000004
>> #define HKEY_CURRENT_CONFIG    0x80000005
>> #define HKEY_DYN_DATA          0x80000006
>>
>> /* win_Port() related values */
>>
>> /* The following are from winbase.h */
>>
>> #define CBR_110                110
>> #define CBR_300                300
>> #define CBR_600                600
>> #define CBR_1200               1200
>> #define CBR_2400               2400
>> #define CBR_4800               4800
>> #define CBR_9600               9600
>> #define CBR_14400              14400
>> #define CBR_19200              19200
>> #define CBR_38400              38400
>> #define CBR_56000              56000
>> #define CBR_57600              57600
>> #define CBR_115200             115200
>> #define CBR_128000             128000
>> #define CBR_256000             256000
>>
>> #define NOPARITY               0
>> #define ODDPARITY              1
>> #define EVENPARITY             2
>> #define MARKPARITY             3
>> #define SPACEPARITY            4
>>
>> #define ONESTOPBIT             0
>> #define ONE5STOPBITS           1
>> #define TWOSTOPBITS            2
>>
>> /* DTR Control Flow Values. */
>> #define DTR_CONTROL_DISABLE    0x00
>> #define DTR_CONTROL_ENABLE     0x01
>> #define DTR_CONTROL_HANDSHAKE  0x02
>>
>> /* RTS Control Flow Values */
>> #define RTS_CONTROL_DISABLE    0x00
>> #define RTS_CONTROL_ENABLE     0x01
>> #define RTS_CONTROL_HANDSHAKE  0x02
>> #define RTS_CONTROL_TOGGLE     0x03
>>
>> #define WIN_COM_DBGBASIC       0x01
>> #define WIN_COM_DBGFLOW        0x02
>> #define WIN_COM_DBGXTRAFLOW    0x04
>> #define WIN_COM_DBGOTHER       0x08
>> #define WIN_COM_DBGTIMEOUTS    0x10
>> #define WIN_COM_DBGQUEUE       0x20
>> #define WIN_COM_DBGALL         0x3F
>>
>> /* win_Prn() related values */
>>
>> #define FORM_A4                9
>>
>> #define PS_SOLID               0
>>
>> #define RGB( nR, nG, nB )      ( nR + ( nG * 256 ) + ( nB * 256 * 256 ) )
>>
>> #define RGB_BLACK              RGB( 0x00, 0x00, 0x00 )
>> #define RGB_BLUE               RGB( 0x00, 0x00, 0x85 )
>> #define RGB_GREEN              RGB( 0x00, 0x85, 0x00 )
>> #define RGB_CYAN               RGB( 0x00, 0x85, 0x85 )
>> #define RGB_RED                RGB( 0x85, 0x00, 0x00 )
>> #define RGB_MAGENTA            RGB( 0x85, 0x00, 0x85 )
>> #define RGB_BROWN              RGB( 0x85, 0x85, 0x00 )
>> #define RGB_WHITE              RGB( 0xC6, 0xC6, 0xC6 )
>>
>> /* Cut from wingdi.h */
>>
>> #define MM_TEXT                1
>> #define MM_LOMETRIC            2
>> #define MM_HIMETRIC            3
>> #define MM_LOENGLISH           4
>> #define MM_HIENGLISH           5
>>
>> #define FW_DONTCARE 0
>> #define FW_THIN 100
>> #define FW_EXTRALIGHT 200
>> #define FW_ULTRALIGHT FW_EXTRALIGHT
>> #define FW_LIGHT 300
>> #define FW_NORMAL 400
>> #define FW_REGULAR 400
>> #define FW_MEDIUM 500
>> #define FW_SEMIBOLD 600
>> #define FW_DEMIBOLD FW_SEMIBOLD
>> #define FW_BOLD 700
>> #define FW_EXTRABOLD 800
>> #define FW_ULTRABOLD FW_EXTRABOLD
>> #define FW_HEAVY 900
>> #define FW_BLACK FW_HEAVY
>> #define ANSI_CHARSET 0
>> #define DEFAULT_CHARSET 1
>> #define SYMBOL_CHARSET 2
>> #define SHIFTJIS_CHARSET 128
>> #define HANGEUL_CHARSET 129
>> #define HANGUL_CHARSET  129
>> #define GB2312_CHARSET 134
>> #define CHINESEBIG5_CHARSET 136
>> #define GREEK_CHARSET 161
>> #define TURKISH_CHARSET 162
>> #define HEBREW_CHARSET 177
>> #define ARABIC_CHARSET 178
>> #define BALTIC_CHARSET 186
>> #define RUSSIAN_CHARSET 204
>> #define THAI_CHARSET 222
>> #define EASTEUROPE_CHARSET 238
>> #define OEM_CHARSET 255
>> #define JOHAB_CHARSET 130
>> #define VIETNAMESE_CHARSET 163
>> #define MAC_CHARSET 77
>>
>> /* Device Parameters for win_GetDeviceCaps() */
>>
>> #define HORZSIZE               4   // Horizontal size in millimeters
>> #define VERTSIZE               6   // Vertical size in millimeters
>> #define HORZRES                8   // Horizontal width in pixels
>> #define VERTRES                10  // Vertical height in pixels
>> #define NUMBRUSHES             16  // Number of brushes the device has
>> #define NUMPENS                18  // Number of pens the device has
>> #define NUMFONTS               22  // Number of fonts the device has
>> #define NUMCOLORS              24  // Number of colors the device 
>> supports
>> #define RASTERCAPS             38  // Bitblt capabilities
>>
>> #define LOGPIXELSX             88  // Logical pixels/inch in X
>> #define LOGPIXELSY             90  // Logical pixels/inch in Y
>>
>> #define PHYSICALWIDTH          110 // Physical Width in device units
>> #define PHYSICALHEIGHT         111 // Physical Height in device units
>> #define PHYSICALOFFSETX        112 // Physical Printable Area x margin
>> #define PHYSICALOFFSETY        113 // Physical Printable Area y margin
>> #define SCALINGFACTORX         114 // Scaling factor x
>> #define SCALINGFACTORY         115 // Scaling factor y
>>
>> /* bin selections */
>> #define DMBIN_FIRST            DMBIN_UPPER
>> #define DMBIN_UPPER            1
>> #define DMBIN_ONLYONE          1
>> #define DMBIN_LOWER            2
>> #define DMBIN_MIDDLE           3
>> #define DMBIN_MANUAL           4
>> #define DMBIN_ENVELOPE         5
>> #define DMBIN_ENVMANUAL        6
>> #define DMBIN_AUTO             7
>> #define DMBIN_TRACTOR          8
>> #define DMBIN_SMALLFMT         9
>> #define DMBIN_LARGEFMT         10
>> #define DMBIN_LARGECAPACITY    11
>> #define DMBIN_CASSETTE         14
>> #define DMBIN_FORMSOURCE       15
>> #define DMBIN_LAST             DMBIN_FORMSOURCE
>>
>> /* print qualities */
>> #define DMRES_DRAFT            ( -1 )
>> #define DMRES_LOW              ( -2 )
>> #define DMRES_MEDIUM           ( -3 )
>> #define DMRES_HIGH             ( -4 )
>>
>> /* duplex enable */
>> #define DMDUP_SIMPLEX          1
>> #define DMDUP_VERTICAL         2
>> #define DMDUP_HORIZONTAL       3
>>
>> /* Text Alignment Options */
>> #define TA_NOUPDATECP          0
>> #define TA_UPDATECP            1
>>
>> #define TA_LEFT                0
>> #define TA_RIGHT               2
>> #define TA_CENTER              6
>>
>> #define TA_TOP                 0
>> #define TA_BOTTOM              8
>> #define TA_BASELINE            24
>>
>> #define MM_TO_INCH             25.4
>>
>> #endif /* HBWIN_CH_ */
>>
>
>
> --------------------------------------------------------------------------------
>
>
>>
>
>
> 



From tech at 2dinfo.com.br  Tue Nov 24 12:51:34 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Tue Nov 24 11:52:20 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <4B0BF241.1050506@libero.it>
References: <77377B95AE9042CB9938DC6143593711@noteleo>
	<4B0BF241.1050506@libero.it>
Message-ID: <F2D16A73C7CF40449AD6CE03C3D545C1@noteleo>

> Leandro,
>
> On xbase++ you can create them this way
>
> http://databear.wordpress.com/2009/08/28/xbase-singleton-pattern/
>
> Maybe you can adopt this to harbour.
>
> Maurilio.

Thank you Maurilio

The author suggests to use class var and class methods to implement 
singleton behaviour in xbase++. In most cases this aproach would work in 
practice for sure in harbour too, but just as a workaround, because 
Singleton pattern is about the class instantiation. The aproach suggested to 
xbase++ would force the programmer to use the CLASS clause repeatedly to 
every DATA and METHOD declaration, even when he wants for sure unique access 
to all the members of a class.

I believe it would be usefull and simpler if one could just declare a class 
as Singleton and have always acess to the same object instance when calling 
the class by name.

What do you think?

Regards,
Leandro Damasio

 

From tech at 2dinfo.com.br  Tue Nov 24 12:51:42 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Tue Nov 24 11:52:52 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <449034.93104.qm@web52204.mail.re2.yahoo.com>
References: <77377B95AE9042CB9938DC6143593711@noteleo>
	<449034.93104.qm@web52204.mail.re2.yahoo.com>
Message-ID: <54C897C4242D478FB7A4FC0F177A60F2@noteleo>

> why don?t you help a development of hbqt, seems a good api (multiplataform), and you can make include files in a hwgui format

Hi Fernando
Thank you for the invitation! Hbqt seems really very interesting project. Of course I would like to help if I could or when I can, but I have to learn more about how it works first.
My current commercial focus and programming background are based on Windows. I just didn't ever hear about QT or wxWidgets until some days ago and I got very glad to know such powerfull crossplataform solutions for harbour as wxHarbour and hbqt. I've been studing both.
Now our aplications at 2DInfo are been changed from xHarbour to Harbour and from hwGUI to 2DWGUI and once we finish this work, crossplataform funcionality is going to be the next step and then I hope we will be ready to participate more activelly.
Best Regards
Leandro Damasio




From: Fernando Athayde 
Sent: Tuesday, November 24, 2009 12:51 PM
To: Harbour Project Main Developer List. 
Subject: Res: [Harbour] Singleton Design Pattern in harbour objects


why don?t you help a development of hbqt, seems a good api (multiplataform), and you can make include files in a hwgui format

Thanks
Fernando Athayde




--------------------------------------------------------------------------------
De: Leandro Damasio <tech@2dinfo.com.br>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Ter?a-feira, 24 de Novembro de 2009 12:26:50
Assunto: [Harbour] Singleton Design Pattern in harbour objects


Hi,

My name is Leandro Damasio and I have started to follow Harbour Project Main Developer List few days ago. I recently started 2D Informatica with my associate Ted, to develop commercial aplications using [x]Harbour. We used xHarbour + BCC55 + HWGUI for about 3 years, until we read xhb-diff.txt document and decided to try Harbour instead.

We are about to realease 2DWGUI, an Object Oriented Harbour API to Win32 GUI, and its going to be a free product but not opensource from start.

Our experience with opensource development is minimal, but I believe we could be useful by giving sugestions and/or reporting problems at least.

My first try:

Does harbour have native support to singleton classes? Its an useful design pattern to declare unique instance objects, so the same instance is reacheable/accessible globally by just calling for the the class name.
We implemented Singleton objects in xHarbour, but I'm sure the native implementation should be done better by someone who knows the object machine inside.

The Singleton Class usage is like below:

<code>

CLASS Aplication SINGLETON

    DATA Status

    METHOD Init(aParams)
    METHOD Run()
    METHOD End()

ENDCLASS


Procedure Main (...)

Aplication():Init(hb_aParams())

Func2()

Aplication():End()

Return


Static Function Func2()

Aplication():Run()

Return Aplication():Status

</code>

If it is not implemented yet, do you think its a good idea to implement natively?

Thanks 
Leandro Damasio



--------------------------------------------------------------------------------
Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10 - Celebridades - M?sica - Esportes 


--------------------------------------------------------------------------------


_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091124/43ee7164/attachment-0001.html
From ranier at cultura.com.br  Tue Nov 24 13:11:59 2009
From: ranier at cultura.com.br (Ranier Vilela)
Date: Tue Nov 24 12:08:58 2009
Subject: [Harbour] Book "Programming with Harbour"
In-Reply-To: <6943770e0911240803w5a6bfal424648fb010a1698@mail.gmail.com>
References: <4B0C0DF9.1020709@cultura.com.br>	<609353e70911240751g6587f639l78cc6442171edac@mail.gmail.com>
	<6943770e0911240803w5a6bfal424648fb010a1698@mail.gmail.com>
Message-ID: <4B0C21EF.8070708@cultura.com.br>

francesco perillo escreveu:
> Probably "Harbour internals" is a better title....
>
> Unfortunately there are only 24 hours per day... and if Przemek writes
> the book, he can't work of getting Harbour better and better.... :-)
>
> Do you have an idea of how many people are currently using harbour for
> producing software that is "on sale" ?
>
> 10 ? 100 ? 1000 ? 1 million ?
>
> Francesco
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
Yes, I know.
Take a lot of time.
But this is one option to Prezemk, receive support for their work with 
Harbour.
And, if he like this idea, why not write with two hands, Viktor also is 
expertise in Harbour too.

Book: Programming wth Harbour
Authors: Przemyslaw Czerpak and Viktor Szakats

I will buy the book.

Best regards,

Ranier Vilela

From bruno.luciani at gmail.com  Tue Nov 24 12:12:17 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Nov 24 12:12:25 2009
Subject: [Harbour] Book "Programming with Harbour"
In-Reply-To: <4B0C21EF.8070708@cultura.com.br>
References: <4B0C0DF9.1020709@cultura.com.br>
	<609353e70911240751g6587f639l78cc6442171edac@mail.gmail.com>
	<6943770e0911240803w5a6bfal424648fb010a1698@mail.gmail.com>
	<4B0C21EF.8070708@cultura.com.br>
Message-ID: <133778360911240912o3bc91f5co29969b38e51560e3@mail.gmail.com>

Uau .....

I pay the book in advance

Bruno

2009/11/24 Ranier Vilela <ranier@cultura.com.br>

> francesco perillo escreveu:
>
>  Probably "Harbour internals" is a better title....
>>
>> Unfortunately there are only 24 hours per day... and if Przemek writes
>> the book, he can't work of getting Harbour better and better.... :-)
>>
>> Do you have an idea of how many people are currently using harbour for
>> producing software that is "on sale" ?
>>
>> 10 ? 100 ? 1000 ? 1 million ?
>>
>> Francesco
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> Yes, I know.
> Take a lot of time.
> But this is one option to Prezemk, receive support for their work with
> Harbour.
> And, if he like this idea, why not write with two hands, Viktor also is
> expertise in Harbour too.
>
> Book: Programming wth Harbour
> Authors: Przemyslaw Czerpak and Viktor Szakats
>
> I will buy the book.
>
> Best regards,
>
> Ranier Vilela
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091124/63e492f6/attachment.html
From mbelgrano at deltain.it  Tue Nov 24 12:12:25 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Nov 24 12:12:52 2009
Subject: [Harbour] Book "Programming with Harbour"
In-Reply-To: <4B0C21EF.8070708@cultura.com.br>
References: <4B0C0DF9.1020709@cultura.com.br>
	<609353e70911240751g6587f639l78cc6442171edac@mail.gmail.com> 
	<6943770e0911240803w5a6bfal424648fb010a1698@mail.gmail.com> 
	<4B0C21EF.8070708@cultura.com.br>
Message-ID: <609353e70911240912m275d4edcw23f3d901d078eb14@mail.gmail.com>

I also buy book


2009/11/24 Ranier Vilela <ranier@cultura.com.br>:
> Book: Programming wth Harbour
> Authors: Przemyslaw Czerpak and Viktor Szakats
>
> I will buy the book.
>



-- 
Massimo Belgrano
From teo at windtelsoft.com  Tue Nov 24 12:57:21 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Tue Nov 24 12:57:30 2009
Subject: [Harbour] Book "Programming with Harbour"
In-Reply-To: <4B0C0DF9.1020709@cultura.com.br>
References: <4B0C0DF9.1020709@cultura.com.br>
Message-ID: <28ADB6AD-F15E-45F1-A61C-DE56684110AF@windtelsoft.com>


On Nov 24, 2009, at 10:46 AM, Ranier Vilela wrote:

> Hi Przemek,
> 
> I?d like invite you to write a book to Harbour "Programming with Harbour".
> I strong believe that your name is reference for all xbase developers, and your expertise
> will have large chance of success in sales.
> Clear part dedicated to xBase, I?d like suggest the chapter "C API", covered by topics
> about interfacing C with Harbour.
> This chapter is my greatest interest.
> 
> I believe that book will be improve the development with Harbour.


Rather, I believe that Harbour is already such a powerfull language that the main goal would be to spread usage by creating successful/popular applications with it.

Also i believe that Przemek is too a business man (and for sure all the developers here), so may be the statement would be:

"why not creating a fund to support the creation of a comprehensive C Api for Harbour ".

I gladly will support it with my first $500 USD.


best regards,

Teo

From teo at windtelsoft.com  Tue Nov 24 12:57:27 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Tue Nov 24 12:57:40 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <77377B95AE9042CB9938DC6143593711@noteleo>
References: <77377B95AE9042CB9938DC6143593711@noteleo>
Message-ID: <8E3249CD-7474-4E81-8A1F-20402A26CEDD@windtelsoft.com>


On Nov 24, 2009, at 9:26 AM, Leandro Damasio wrote:

> Hi,
>  
> My name is Leandro Damasio and I have started to follow Harbour Project Main Developer List few days ago. I recently started 2D Informatica with my associate Ted, to develop commercial aplications using [x]Harbour. We used xHarbour + BCC55 + HWGUI for about 3 years, until we read xhb-diff.txt document and decided to try Harbour instead.
>  
> We are about to realease 2DWGUI, an Object Oriented Harbour API to Win32 GUI, and its going to be a free product but not opensource from start.
>  
> Our experience with opensource development is minimal, but I believe we could be useful by giving sugestions and/or reporting problems at least.
>  
> My first try:
>  
> Does harbour have native support to singleton classes? Its an useful design pattern to declare unique instance objects, so the same instance is reacheable/accessible globally by just calling for the the class name.
> We implemented Singleton objects in xHarbour, but I'm sure the native implementation should be done better by someone who knows the object machine inside.
>  
> The Singleton Class usage is like below:
>  
> <code>
>  
> CLASS Aplication SINGLETON
>  
>     DATA Status
>  
>     METHOD Init(aParams)
>     METHOD Run()
>     METHOD End()
>  
> ENDCLASS
>  
>  
> Procedure Main (...)
>  
> Aplication():Init(hb_aParams())
>  
> Func2()
>  
> Aplication():End()
>  
> Return
>  
>  
> Static Function Func2()
>  
> Aplication():Run()
>  
> Return Aplication():Status
>  
> </code>

Hi Leandro,

In wxHarbour I've implemented this in the way that wxWidgets does, in fact you need to implement the same setup (closely) in wxWidgets for C++ that in wxHarbour:

In every wxWidget application you need to instance a subclass from the wxApp class (at least you must do it for GUI apps, console ones doesn't require wxApp), the wxApp class is used among other things for:

	- Start the main application process by calling the ::OnInit() method
	- Start the main GUI app message/event loop
	- Contain application wide properties and method's.

A typically wxHarbour app, would be:

<prg>
#include "wxharbour.ch"

FUNCTION Main()

  IMPLEMENT_APP( MyApp():New() )

RETURN NIL

CLASS MyApp FROM wxApp
PRIVATE:
PROTECTED:
PUBLIC:
  DATA frame
  METHOD OnInit()
PUBLISHED:
ENDCLASS

METHOD FUNCTION OnInit() CLASS MyApp

  CREATE FRAME ::frame ;
    TITLE "Frame1"
		
  @ BUTTON "ShowTitle" ACTION {|| wxMessageBox( wxGetApp():frame:GetTitle() ) }

  SHOW WINDOW ::frame FIT CENTRE

RETURN .T.
</prg>

The "MyApp" class is instantiated in the "Main" function, and it can be retrieved anywhere in the app by using the "wxGetApp()" function, so it can be used in a application wide way.

>  
> If it is not implemented yet, do you think its a good idea to implement natively?

I don't understand what do you mean by natively, if you mean to:
	- Limit the number of instances
	- automate the instantiation
	- calling in the app

I think that it can be done easily by simply using the Harbour's Preprocessor capabilities.


best regards,

Teo

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091124/04cd4d5a/attachment-0001.html
From bruno.luciani at gmail.com  Tue Nov 24 13:04:46 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Nov 24 13:04:55 2009
Subject: [Harbour] What I am doing wrong ? or is a bug ( HBIDE )
Message-ID: <133778360911241004i61a7fa29v9391ce17e9eba6e5@mail.gmail.com>

Linux Ubuntu 9.10  Harbour Rev 13010

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////

bruno@notebook:~/harbour_svn/harbour/contrib/hbide$ hbmk2 hbide hbide.hbp
hbmk2: Processing configuration:
/usr/local/bin/hbmk.cfg
hbmk2: Compiling Harbour
sources...
Harbour 2.0.0beta3 (Rev. 13010)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'hbide.prg'...
hbide.prg(973) Warning W0032  Variable 'NRET' is assigned but not used in
function 'HBIDE_FETCHNEWPROJECT(940)'

No code generated.
hbmk2: Error: Running Harbour compiler (embedded).
1
(/usr/local/bin/harbour) -n2 hbide.prg hbide.prg idestylesheets.prg
idetags.prg idemisc.prg ideactions.prg -w3 -es2 -o.hbmk/linux/gcc/
-i/usr/local/include/harbour -i../hbxbp -i../hbqt
bruno@notebook:~/harbour_svn/harbour/contrib/hbide$


Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091124/3edeed49/attachment.html
From amigosam at adinet.com.uy  Tue Nov 24 13:09:46 2009
From: amigosam at adinet.com.uy (Angel Pais)
Date: Tue Nov 24 13:10:24 2009
Subject: [Harbour] Re: Book "Programming with Harbour"
In-Reply-To: <28ADB6AD-F15E-45F1-A61C-DE56684110AF@windtelsoft.com>
References: <4B0C0DF9.1020709@cultura.com.br>
	<28ADB6AD-F15E-45F1-A61C-DE56684110AF@windtelsoft.com>
Message-ID: <heh7h7$4bd$1@ger.gmane.org>

It's clear by now that sooner or later Harbour will have to implement 
some kind of sponsorship or foundation.
Do we have an attorney among us ?
But the million dollar question is....   Who is Mr Harbour ??

Just food for thougth...

From mbelgrano at deltain.it  Tue Nov 24 13:11:53 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Nov 24 13:12:21 2009
Subject: [Harbour] What I am doing wrong ? or is a bug ( HBIDE )
In-Reply-To: <133778360911241004i61a7fa29v9391ce17e9eba6e5@mail.gmail.com>
References: <133778360911241004i61a7fa29v9391ce17e9eba6e5@mail.gmail.com>
Message-ID: <609353e70911241011i7913a953q6d87d4e2dd5b72a7@mail.gmail.com>

hbmk2 hbide -w2
Remember that here is a work in progress

2009/11/24 Bruno Luciani <bruno.luciani@gmail.com>:
> Linux Ubuntu 9.10? Harbour Rev 13010
>
> /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
>
> bruno@notebook:~/harbour_svn/harbour/contrib/hbide$ hbmk2 hbide hbide.hbp
> hbmk2: Processing configuration:
> /usr/local/bin/hbmk.cfg
> hbmk2: Compiling Harbour
> sources...
> Harbour 2.0.0beta3 (Rev. 13010)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'hbide.prg'...
> hbide.prg(973) Warning W0032? Variable 'NRET' is assigned but not used in
> function 'HBIDE_FETCHNEWPROJECT(940)'
>
> No code generated.
> hbmk2: Error: Running Harbour compiler (embedded).
> 1
> (/usr/local/bin/harbour) -n2 hbide.prg hbide.prg idestylesheets.prg
> idetags.prg idemisc.prg ideactions.prg -w3 -es2 -o.hbmk/linux/gcc/
> -i/usr/local/include/harbour -i../hbxbp -i../hbqt
> bruno@notebook:~/harbour_svn/harbour/contrib/hbide$
>
>
> Bruno
>

-- 
Massimo Belgrano
From mbelgrano at deltain.it  Tue Nov 24 13:16:06 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Nov 24 13:16:33 2009
Subject: [Harbour] Re: Book "Programming with Harbour"
In-Reply-To: <heh7h7$4bd$1@ger.gmane.org>
References: <4B0C0DF9.1020709@cultura.com.br>
	<28ADB6AD-F15E-45F1-A61C-DE56684110AF@windtelsoft.com> 
	<heh7h7$4bd$1@ger.gmane.org>
Message-ID: <609353e70911241016m296d237au91337af4a592b5ac@mail.gmail.com>

Today is
Przemyslaw Czerpak
Viktor Szakats


2009/11/24 Angel Pais <amigosam@adinet.com.uy>:

> But the million dollar question is.... ? Who is Mr Harbour ??

-- 
Massimo Belgrano
From bruno.luciani at gmail.com  Tue Nov 24 13:23:48 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Nov 24 13:23:55 2009
Subject: [Harbour] What I am doing wrong ? or is a bug ( HBIDE )
In-Reply-To: <609353e70911241011i7913a953q6d87d4e2dd5b72a7@mail.gmail.com>
References: <133778360911241004i61a7fa29v9391ce17e9eba6e5@mail.gmail.com>
	<609353e70911241011i7913a953q6d87d4e2dd5b72a7@mail.gmail.com>
Message-ID: <133778360911241023i1a4ff746v82eb97ffd59f0e55@mail.gmail.com>

Yes of course , I just trying to see the news

Thanks

Bruno

2009/11/24 Massimo Belgrano <mbelgrano@deltain.it>

> hbmk2 hbide -w2
> Remember that here is a work in progress
>
> 2009/11/24 Bruno Luciani <bruno.luciani@gmail.com>:
> > Linux Ubuntu 9.10  Harbour Rev 13010
> >
> >
> /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
> >
> > bruno@notebook:~/harbour_svn/harbour/contrib/hbide$ hbmk2 hbide
> hbide.hbp
> > hbmk2: Processing configuration:
> > /usr/local/bin/hbmk.cfg
> > hbmk2: Compiling Harbour
> > sources...
> > Harbour 2.0.0beta3 (Rev. 13010)
> > Copyright (c) 1999-2009, http://www.harbour-project.org/
> > Compiling 'hbide.prg'...
> > hbide.prg(973) Warning W0032  Variable 'NRET' is assigned but not used in
> > function 'HBIDE_FETCHNEWPROJECT(940)'
> >
> > No code generated.
> > hbmk2: Error: Running Harbour compiler (embedded).
> > 1
> > (/usr/local/bin/harbour) -n2 hbide.prg hbide.prg idestylesheets.prg
> > idetags.prg idemisc.prg ideactions.prg -w3 -es2 -o.hbmk/linux/gcc/
> > -i/usr/local/include/harbour -i../hbxbp -i../hbqt
> > bruno@notebook:~/harbour_svn/harbour/contrib/hbide$
> >
> >
> > Bruno
> >
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091124/7601ac4f/attachment.html
From mbelgrano at deltain.it  Tue Nov 24 13:54:09 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Nov 24 13:54:37 2009
Subject: [Harbour] Little idea
Message-ID: <609353e70911241054m5cb9dd19r6ec10ac4c3c06221@mail.gmail.com>

I have found follow instresting idea , can we made also with harbour

>If you want to link to this website or one of the resources, please use the following links. They point to the mirrors of >SourceForge and are guaranteed to link to the current release always, whereas the actual links on the project page will change >with each release:
>Website:
>http://windirstat.info
>Current installer (contains both, Ansi and Unicode, releases):
>http://windirstat.info/wds_current_setup.exe
>Current Source release:
>http://windirstat.info/wds_current_source.zip or http://windirstat.info/wds_current_source.7z


-- 
Massimo Belgrano

I
From tech at 2dinfo.com.br  Tue Nov 24 15:54:18 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Tue Nov 24 14:55:21 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <8E3249CD-7474-4E81-8A1F-20402A26CEDD@windtelsoft.com>
References: <77377B95AE9042CB9938DC6143593711@noteleo>
	<8E3249CD-7474-4E81-8A1F-20402A26CEDD@windtelsoft.com>
Message-ID: <0138EA939601445EB9038E3303FC30B8@noteleo>

Hello Teo!

>I don't understand what do you mean by natively, if you mean to:
>- Limit the number of instances
>- automate the instantiation
>- calling in the app

By native singleton pattern class implementation I mean to provide that a class could be declared as a singleton class and that this singleton class just instanciates once a single object instance which should be then referenced every time the class would be referenced. By native implementation I also mean the conceptual implementation of a singleton classes in harbour.

I'm sure there are lots of ways to get singleton-like behaviour from a class, but the more examples I see on how to get it, more it sounds like a general need and more it seems that native implementation would be usefull to the users (and maybe good to the language too).

The sintax and behaviour I propose would work like the example below

Regards,
Leandro Damasio


EXAMPLE:
=========

Case 1) A singleton class:

<code> 

<PRG> 

//---------------------------------------------------------------------------------------------------//
CLASS MyClass SINGLETON // THIS IS A SINGLETON CLASS!!!

    DATA Status INIT 0
    METHOD ChangeStatus() INLINE ::Status := 1

ENDCLASS


******************************* 
Procedure Main
*******************************

? MyClass():Status // 0 

// first new object is instantiated and kept as the single one

? MyClass():ChangeStatus() // 1

// single object is referred to run :Changestatus()

? MyClass():Status // 1

// single object status has changed

Return


Case 2) A not singleton class:

//---------------------------------------------------------------------------------------------------//

CLASS MyClass // NOT A SINGLETON CLASS!!!

    DATA Status INIT 0
    METHOD ChangeStatus() INLINE ::status := 1

ENDCLASS
 
*******************************
Procedure Main
*******************************

? MyClass():Status // 0
// first new object was instantiated

? MyClass():ChangeStatus() // 1
// second new object runs :ChangeStatus()

? MyClass():Status // 0
// third new object is instantiated

Return

</PRG>

</code>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091124/0fb4be72/attachment-0001.html
From harbour.01 at syenar.hu  Tue Nov 24 15:16:27 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Nov 24 15:16:37 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <0138EA939601445EB9038E3303FC30B8@noteleo>
References: <77377B95AE9042CB9938DC6143593711@noteleo>
	<8E3249CD-7474-4E81-8A1F-20402A26CEDD@windtelsoft.com>
	<0138EA939601445EB9038E3303FC30B8@noteleo>
Message-ID: <A51271E9-21AE-4B06-BE15-98F180DC4EA9@syenar.hu>

This looks like a PUBLIC var initialized with 
an object from an INIT PROC and protected from 
additional instances.

Brgds,
Viktor

On 2009 Nov 24, at 21:54, Leandro Damasio wrote:

> Hello Teo!
> 
> >I don't understand what do you mean by natively, if you mean to:
> >- Limit the number of instances
> >- automate the instantiation
> >- calling in the app
>  
> By native singleton pattern class implementation I mean to provide that a class could be declared as a singleton class and that this singleton class just instanciates once a single object instance which should be then referenced every time the class would be referenced. By native implementation I also mean the conceptual implementation of a singleton classes in harbour.
>  
> I'm sure there are lots of ways to get singleton-like behaviour from a class, but the more examples I see on how to get it, more it sounds like a general need and more it seems that native implementation would be usefull to the users (and maybe good to the language too).
>  
> The sintax and behaviour I propose would work like the example below
>  
> Regards,
> Leandro Damasio
>  
>  
> EXAMPLE:
> =========
>  
> Case 1) A singleton class:
>  
> <code>
>  
> <PRG> 
>  
> //---------------------------------------------------------------------------------------------------//
> CLASS MyClass SINGLETON // THIS IS A SINGLETON CLASS!!!
>  
>     DATA Status INIT 0
>     METHOD ChangeStatus() INLINE ::Status := 1
>  
> ENDCLASS
>  
>  
> ******************************* 
> Procedure Main
> *******************************
>  
> ? MyClass():Status // 0
>  
> // first new object is instantiated and kept as the single one
>  
> ? MyClass():ChangeStatus() // 1
>  
> // single object is referred to run :Changestatus()
>  
> ? MyClass():Status // 1
>  
> // single object status has changed
>  
> Return
>  
>  
> Case 2) A not singleton class:
>  
> //---------------------------------------------------------------------------------------------------//
>  
> CLASS MyClass // NOT A SINGLETON CLASS!!!
>  
>     DATA Status INIT 0
>     METHOD ChangeStatus() INLINE ::status := 1
>  
> ENDCLASS
>  
> *******************************
> Procedure Main
> *******************************
>  
> ? MyClass():Status // 0
> // first new object was instantiated
>  
> ? MyClass():ChangeStatus() // 1
> // second new object runs :ChangeStatus()
>  
> ? MyClass():Status // 0
> // third new object is instantiated
>  
> Return
>  
> </PRG>
>  
> </code>
>  
>  
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From teo at windtelsoft.com  Tue Nov 24 15:29:31 2009
From: teo at windtelsoft.com (Teo Fonrouge)
Date: Tue Nov 24 15:29:43 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <0138EA939601445EB9038E3303FC30B8@noteleo>
References: <77377B95AE9042CB9938DC6143593711@noteleo>
	<8E3249CD-7474-4E81-8A1F-20402A26CEDD@windtelsoft.com>
	<0138EA939601445EB9038E3303FC30B8@noteleo>
Message-ID: <8CBEBE5F-DCA2-4C52-8503-575EC2335A0C@windtelsoft.com>


On Nov 24, 2009, at 2:54 PM, Leandro Damasio wrote:

> Hello Teo!
> 
> >I don't understand what do you mean by natively, if you mean to:
> >- Limit the number of instances
> >- automate the instantiation
> >- calling in the app
>  
> By native singleton pattern class implementation I mean to provide that a class could be declared as a singleton class and that this singleton class just instanciates once a single object instance which should be then referenced every time the class would be referenced. By native implementation I also mean the conceptual implementation of a singleton classes in harbour.
>  
> I'm sure there are lots of ways to get singleton-like behaviour from a class, but the more examples I see on how to get it, more it sounds like a general need and more it seems that native implementation would be usefull to the users (and maybe good to the language too).
>  
> The sintax and behaviour I propose would work like the example below
>  
> Regards,
> Leandro Damasio
>  
>  
> EXAMPLE:
> =========
>  
> Case 1) A singleton class:
>  
> <code>
>  
> <PRG> 
>  
> //---------------------------------------------------------------------------------------------------//
> CLASS MyClass SINGLETON // THIS IS A SINGLETON CLASS!!!
>  
>     DATA Status INIT 0
>     METHOD ChangeStatus() INLINE ::Status := 1
>  
> ENDCLASS
>  
>  
> ******************************* 
> Procedure Main
> *******************************
>  
> ? MyClass():Status // 0
>  
> // first new object is instantiated and kept as the single one
>  
> ? MyClass():ChangeStatus() // 1
>  
> // single object is referred to run :Changestatus()
>  
> ? MyClass():Status // 1
>  
> // single object status has changed
>  
> Return
>  
>  
> Case 2) A not singleton class:
>  
> //---------------------------------------------------------------------------------------------------//
>  
> CLASS MyClass // NOT A SINGLETON CLASS!!!
>  
>     DATA Status INIT 0
>     METHOD ChangeStatus() INLINE ::status := 1
>  
> ENDCLASS
>  
> *******************************
> Procedure Main
> *******************************
>  
> ? MyClass():Status // 0
> // first new object was instantiated
>  
> ? MyClass():ChangeStatus() // 1
> // second new object runs :ChangeStatus()
>  
> ? MyClass():Status // 0
> // third new object is instantiated
>  
> Return
>  
> </PRG>
>  
> </code>
>  

Hello Leandro,

I know that you want to integrate it at low level in the Harbour Object engine, but how about the following sample:

<prg>
#include "hbclass.ch"

#xcommand SINGLETON CLASS <clsName> [ FROM <fromCls> ] => ;
    FUNCTION <clsName>() ;;
      STATIC obj ;;
    RETURN iif( obj = NIL, obj := S_<clsName>(), obj ) ;;
    CLASS S_<clsName> [ FROM <fromCls> ]

#xcommand SINGLETON METHOD <mtdName> CLASS <clsName> => ;
    METHOD <mtdName> CLASS S_<clsName>

SINGLETON CLASS MyClass
    DATA Status INIT 0
    METHOD ChangeStatus() INLINE ::Status := 1
    METHOD RevertStatus()
END CLASS

SINGLETON METHOD RevertStatus CLASS MyClass
RETURN ::Status := 0

FUNCTION Main()

    ? MyClass():Status  // 0
    ? MyClass():ChangeStatus()  // 1
    ? MyClass():Status  // 1
    ? MyClass():RevertStatus()  // 0

RETURN NIL
</prg>


best regards,

Teo

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091124/187e8552/attachment.html
From tech at 2dinfo.com.br  Tue Nov 24 17:28:30 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Tue Nov 24 16:29:19 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <A51271E9-21AE-4B06-BE15-98F180DC4EA9@syenar.hu>
References: <77377B95AE9042CB9938DC6143593711@noteleo><8E3249CD-7474-4E81-8A1F-20402A26CEDD@windtelsoft.com><0138EA939601445EB9038E3303FC30B8@noteleo>
	<A51271E9-21AE-4B06-BE15-98F180DC4EA9@syenar.hu>
Message-ID: <FFCC0C233E96479B8131AC86FFD37B9D@noteleo>

Viktor Szak?ts said:

> This looks like a PUBLIC var initialized with
> an object from an INIT PROC and protected from
> additional instances.

Thanks Viktor

Sure it could be explicitly implemented as you suggested for some cases, but 
my intention is to propose a more comprehensive solution.

If singleton clause could be hardcoded in the class declaration, a developer 
could program a singleton class and share it with other users without to 
care if they know that it has to be instantiated only once or if they know 
how to assure acess to a unique instance of it - the class would be a 
singleton class and that would be all.

Singleton classes happen in programming because there are singleton objects 
in real life, so the native concept of singleton classes in harbour would 
make programming safer, easier and clearer.

Regards,
Leandro Damasio




 

From dbtopas at dbtopas.lt  Tue Nov 24 16:43:44 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Nov 24 16:45:49 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <0138EA939601445EB9038E3303FC30B8@noteleo>
References: <77377B95AE9042CB9938DC6143593711@noteleo>	<8E3249CD-7474-4E81-8A1F-20402A26CEDD@windtelsoft.com>
	<0138EA939601445EB9038E3303FC30B8@noteleo>
Message-ID: <4B0C5390.4050508@dbtopas.lt>

Hi,

> Case 1) A singleton class:
> <code>
> <PRG> 
>  
> //---------------------------------------------------------------------------------------------------//
> CLASS MyClass SINGLETON // THIS IS A SINGLETON CLASS!!!
>     DATA Status INIT 0
>     METHOD ChangeStatus() INLINE ::Status := 1
> ENDCLASS
>  
>  
> ******************************* 
> Procedure Main
> *******************************
> ? MyClass():Status // 0
> ? MyClass():ChangeStatus() // 1
> ? MyClass():Status // 1
> Return
>  
>  
> Case 2) A not singleton class:
> CLASS MyClass // NOT A SINGLETON CLASS!!!
>     DATA Status INIT 0
>     METHOD ChangeStatus() INLINE ::status := 1
> ENDCLASS
>  
> ? MyClass():Status // 0
> ? MyClass():ChangeStatus() // 1
> ? MyClass():Status // 0
> Return

Since I do not know anything about singletons and doubletons, here is 
two simple different implementations that came to my mind (and I guess 5 
more different approaches can be use to get the expected result):

#include "hbclass.ch"

STATIC s_oSingleton1

PROC main()
   ? MyClass1():Status
   ? MyClass1():ChangeStatus()
   ? MyClass1():Status

   ? MyClass2():Status
   ? MyClass2():ChangeStatus()
   ? MyClass2():Status
RETURN

FUNC MyClass1()
   IF s_oSingleton1 == NIL
      s_oSingleton1 := MyClass1Real()
   ENDIF
RETURN s_oSingleton1

CLASS MyClass1Real
   DATA Status           INIT 0
   METHOD ChangeStatus() INLINE ::Status := 1
ENDCLASS

CLASS MyClass2
   CLASSDATA Status      INIT 0
   METHOD ChangeStatus() INLINE ::Status := 1
ENDCLASS



Regards,
Mindaugas
From bedipritpal at hotmail.com  Tue Nov 24 17:08:44 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Nov 24 17:08:50 2009
Subject: [Harbour] What I am doing wrong ? or is a bug ( HBIDE )
In-Reply-To: <133778360911241004i61a7fa29v9391ce17e9eba6e5@mail.gmail.com>
References: <133778360911241004i61a7fa29v9391ce17e9eba6e5@mail.gmail.com>
Message-ID: <26504136.post@talk.nabble.com>


Hi


Bruno Luciani wrote:
> 
> Linux Ubuntu 9.10  Harbour Rev 13010
> 
> /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
> 
> bruno@notebook:~/harbour_svn/harbour/contrib/hbide$ hbmk2 hbide hbide.hbp
> hbmk2: Processing configuration:
> /usr/local/bin/hbmk.cfg
> hbmk2: Compiling Harbour
> sources...
> Harbour 2.0.0beta3 (Rev. 13010)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'hbide.prg'...
> hbide.prg(973) Warning W0032  Variable 'NRET' is assigned but not used in
> function 'HBIDE_FETCHNEWPROJECT(940)'
> 
> No code generated.
> 

Compile hbxbp with -d__HB_DEBUG__ -d__HB_WINDEBUG__

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/What-I-am-doing-wrong---or-is-a-bug-%28-HBIDE-%29-tp26500685p26504136.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From eghorbino at yahoo.com  Tue Nov 24 17:14:45 2009
From: eghorbino at yahoo.com (Edmer)
Date: Tue Nov 24 17:14:50 2009
Subject: [Harbour] CurDir() - Memory Leakage
In-Reply-To: <26472731.post@talk.nabble.com>
References: <26472731.post@talk.nabble.com>
Message-ID: <26504218.post@talk.nabble.com>


Hi,

I just want to follow up if this has already been fixed.

Thanks,
Ed

-- 
View this message in context: http://old.nabble.com/CurDir%28%29---Memory-Leakage-tp26472731p26504218.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vouchcac at users.sourceforge.net  Tue Nov 24 17:26:31 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Nov 24 17:26:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13011] trunk/harbour
Message-ID: <E1ND3qB-0004HV-BE@c3vjzd1.ch3.sourceforge.com>

Revision: 13011
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13011&view=rev
Author:   vouchcac
Date:     2009-11-24 22:26:30 +0000 (Tue, 24 Nov 2009)

Log Message:
-----------
2009-11-24 14:20 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbxbp/xbplistbox.prg

  + contrib/hbide/resources/zoomin.png
  + contrib/hbide/resources/zoomout.png

  * contrib/hbide/ideactions.prg
  * contrib/hbide/idemisc.prg
  * contrib/hbide/hbide.prg
    + Added ZoomIn, ZoomOut toolbar buttons for in-place zoom-in/out 
        text decoration. Very handy visualization.
    + Implemented undo/redo/cut/copy/paste/select all/to upper/to lower/invert case/ icons.
    ! Fixed many artifacts.

    Please play with the tool and report back your experiences.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbide/idemisc.prg
    trunk/harbour/contrib/hbxbp/xbplistbox.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/zoomin.png
    trunk/harbour/contrib/hbide/resources/zoomout.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Tue Nov 24 17:28:51 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Nov 24 17:28:59 2009
Subject: [Harbour] CurDir() - Memory Leakage
In-Reply-To: <26504218.post@talk.nabble.com>
References: <26472731.post@talk.nabble.com> <26504218.post@talk.nabble.com>
Message-ID: <26504402.post@talk.nabble.com>




Edmer wrote:
> 
> Hi,
> 
> I just want to follow up if this has already been fixed.
> 

Yes fixed.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/CurDir%28%29---Memory-Leakage-tp26472731p26504402.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From tech at 2dinfo.com.br  Tue Nov 24 18:48:33 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Tue Nov 24 17:49:12 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <8CBEBE5F-DCA2-4C52-8503-575EC2335A0C@windtelsoft.com>
References: <77377B95AE9042CB9938DC6143593711@noteleo><8E3249CD-7474-4E81-8A1F-20402A26CEDD@windtelsoft.com><0138EA939601445EB9038E3303FC30B8@noteleo>
	<8CBEBE5F-DCA2-4C52-8503-575EC2335A0C@windtelsoft.com>
Message-ID: <662DA5194A5A4318A9FE22C98DCA928C@noteleo>

Teo Fonrouge said:

> I know that you want to integrate it at low level in the Harbour Object engine, but how about the following sample:
>#xcommand SINGLETON CLASS <clsName> [ FROM <fromCls> ] => ;
>    FUNCTION <clsName>() ;;
>      STATIC obj ;;
>    RETURN iif( obj = NIL, obj := S_<clsName>(), obj ) ;;
>    CLASS S_<clsName> [ FROM <fromCls> ]

Hi Teo,
Yes this is a smart solution, although it is limited to one singleton class per module, but my intention is to implement a unified solution to singleton classes in shared libraries.
My proposal is that it be implemented in such a way that one developer can declare a singleton class, program its composition and behavior, box it in a library and share it to other programmers knowing for sure that nobody will can double instantiate it and cause error, because he declared to the machine that this can't be done.
Best regards
Leandro Damasio


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091124/da970173/attachment.html
From harbour.01 at syenar.hu  Tue Nov 24 17:49:11 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Tue Nov 24 17:49:22 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <FFCC0C233E96479B8131AC86FFD37B9D@noteleo>
References: <77377B95AE9042CB9938DC6143593711@noteleo><8E3249CD-7474-4E81-8A1F-20402A26CEDD@windtelsoft.com><0138EA939601445EB9038E3303FC30B8@noteleo>
	<A51271E9-21AE-4B06-BE15-98F180DC4EA9@syenar.hu>
	<FFCC0C233E96479B8131AC86FFD37B9D@noteleo>
Message-ID: <AC8099CA-6843-4B7D-9318-4095886285AC@syenar.hu>

>> This looks like a PUBLIC var initialized with
>> an object from an INIT PROC and protected from
>> additional instances.
> 
> Thanks Viktor
> 
> Sure it could be explicitly implemented as you suggested for some cases, but my intention is to propose a more comprehensive solution.
> 
> If singleton clause could be hardcoded in the class declaration, a developer could program a singleton class and share it with other users without to care if they know that it has to be instantiated only once or if they know how to assure acess to a unique instance of it - the class would be a singleton class and that would be all.
> 
> Singleton classes happen in programming because there are singleton objects in real life, so the native concept of singleton classes in harbour would make programming safer, easier and clearer.

I understand, but before we start implementing something 
brand new native, which BTW leads quite far away as far 
I can see it, even my simple proposed method can be used 
without too much concern, and even it can be used by 3rd 
party libs to provide such singletons, or whatever we call 
it. AFAICS it's nothing more than a variable (or function) 
accessible by all program modules with some value, in this 
case, it's a single instance class.

If anything, Harbour may support single instance classes 
natively to help this case, and this is probably possible 
to add without deep changes, but I'm not sure we should add 
a brand new base variable type/scope/implementation until 
we know all the benefits which this can give us over already 
existing methods. Few of us have proposed solutions, it'd 
be nice if you could comment on them.

Brgds,
Viktor

From tech at 2dinfo.com.br  Tue Nov 24 19:21:29 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Tue Nov 24 18:22:06 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <4B0C5390.4050508@dbtopas.lt>
References: <77377B95AE9042CB9938DC6143593711@noteleo>	<8E3249CD-7474-4E81-8A1F-20402A26CEDD@windtelsoft.com><0138EA939601445EB9038E3303FC30B8@noteleo>
	<4B0C5390.4050508@dbtopas.lt>
Message-ID: <4E00D46DA26B4803A567CFA93FA1DEDA@noteleo>

Mindaugas Kavaliauskas said:

> Since I do not know anything about singletons and doubletons, here is two 
> simple different implementations that came to my mind (and I guess 5 more 
> different approaches can be use to get the expected result):
>

Hello Mindaugas,

Please forgive me , I wasn't comprehensive enough in my examples and let the 
wrong idea that I din't know how to simulate singleton-like behavior of a 
class.

I'm a newbie here, please be patient.   :)

My proposition is that singleton class support for harbour be implemented in 
such a way that one programmer can declare a singleton class, box it in a 
library and share it to other harbour users around the world, knowing for 
sure that nobody could instantiate it more than once per execution (even by 
mistake)  and that there should be no need to provide any exceptional 
instructions, formalities, tips or tricks with the library to assure that 
the user will always acess the same unique instance of the class during all 
the execution of the program, because the class was declared as a singleton 
class and the machine would know how to deal with it, even if the user 
doesn't even know what does singleton means.

Regards
Leandro Damasio


 

From mbelgrano at deltain.it  Tue Nov 24 18:26:55 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Tue Nov 24 18:27:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13011] trunk/harbour
In-Reply-To: <E1ND3qB-0004HV-BE@c3vjzd1.ch3.sourceforge.com>
References: <E1ND3qB-0004HV-BE@c3vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70911241526i49b46bd8obc1e69d2b2f60903@mail.gmail.com>

c:\harbour\contrib\hbide>hbmk2 hbide.hbp -w2 -d__HB_DEBUG__ -d__HB_WINDEBUG__
hbmk2: Processing environment options: -compiler=mingw
hbmk2: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
hbmk2: Compiling Harbour sources...
Harbour 2.0.0beta3 (Rev. 13011)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'hbide.prg'...
Lines 5412, Functions/Procedures 33
Generating C source output to '.hbmk\win\mingw\hbide.c'... Done.
Compiling 'idemisc.prg'...
Lines 8216, Functions/Procedures 4
Generating C source output to '.hbmk\win\mingw\idemisc.c'... Done.
Compiling 'ideactions.prg'...
Lines 11071, Functions/Procedures 2
Generating C source output to '.hbmk\win\mingw\ideactions.c'... Done.
hbmk2: Compiling...
hbmk2: Linking... hbide.exe
.hbmk\win\mingw\hbide.o:hbide.c:(.data+0x688): undefined reference to `HB_FUN__H
BXBP_DEBUG'

2009/11/24  <vouchcac@users.sourceforge.net>:
> Revision: 13011
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13011&view=rev
> Author: ? vouchcac
> Date: ? ? 2009-11-24 22:26:30 +0000 (Tue, 24 Nov 2009)
>
> Log Message:
> ? ?Please play with the tool and report back your experiences.
>


-- 
Massimo Belgrano
From ale.seribeli at ig.com.br  Tue Nov 24 18:35:29 2009
From: ale.seribeli at ig.com.br (Ale SB)
Date: Tue Nov 24 18:35:35 2009
Subject: [Harbour] cUrl functions ?
Message-ID: <26505222.post@talk.nabble.com>


In PHP I have these functions:

curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1)

curl_exec($ch)

In the harbour there is any function consistent with these?

-- 
View this message in context: http://old.nabble.com/cUrl-functions---tp26505222p26505222.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Tue Nov 24 18:42:23 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 24 18:42:30 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <662DA5194A5A4318A9FE22C98DCA928C@noteleo>
References: <77377B95AE9042CB9938DC6143593711@noteleo>
	<8E3249CD-7474-4E81-8A1F-20402A26CEDD@windtelsoft.com>
	<0138EA939601445EB9038E3303FC30B8@noteleo>
	<8CBEBE5F-DCA2-4C52-8503-575EC2335A0C@windtelsoft.com>
	<662DA5194A5A4318A9FE22C98DCA928C@noteleo>
Message-ID: <20091124234223.GA4735@linux-4bod.home.aster.pl>

On Tue, 24 Nov 2009, Leandro Damasio wrote:

Hi,

> > I know that you want to integrate it at low level in the Harbour Object
> > engine, but how about the following sample:
> >
> > #xcommand SINGLETON CLASS <clsName> [ FROM <fromCls> ] => ;
> >    FUNCTION <clsName>() ;;
> >      STATIC obj ;;
> >    RETURN iif( obj = NIL, obj := S_<clsName>(), obj ) ;;
> >    CLASS S_<clsName> [ FROM <fromCls> ]
> 
> Hi Teo,
> Yes this is a smart solution, although it is limited to one singleton
> class per module, but my intention is to implement a unified solution
> to singleton classes in shared libraries.

I do not see any reason for such limitation.
The above #xcommand is universal rule you can define once in some global
.ch file and then you can use it as many times as you want in one or many
modules. I would only modify it a little bit adding protection against
1-st concurrent call in MT environment and making real class function
static so it will not be accessible from external code.

   #xcommand SINGLETON CLASS <!clsName!> ;
             [ FROM <!fromCls1!> [,<!fromClsN!>] ] => ;
      FUNCTION <clsName>() ;;
         STATIC obj, once ;;
         IF obj == NIL ;;
            hb_threadOnce( @once, {|| obj := __S_<clsName>() } ) ;;
         END ;;
      RETURN obj;;
      CLASS <clsName> [ FROM <fromCls1> ] [, <fromClsN> ] STATIC ;
            FUNCTION __S_<clsName>

It can be extended yet but I do not want to make it less readable using
some more complicated PP rules.

> My proposal is that it be implemented in such a way that one developer
> can declare a singleton class, program its composition and behavior,
> box it in a library and share it to other programmers knowing for sure
> that nobody will can double instantiate it and cause error, because he
> declared to the machine that this can't be done.

So the above #xcommand is sth what you are looking for.
It passes all conditions you've defined so far.
Anyhow really important parts of such feature are not defined at all
and it's not trivial to create such definition and then implement it
keeping basic OOP rules so I would expect that users may want to adopt
this command for his own needs.

best regards,
Przemek
From druzus at users.sourceforge.net  Tue Nov 24 18:50:59 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Nov 24 18:51:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13012] trunk/harbour
Message-ID: <E1ND59v-0008Gp-79@74yxhf1.ch3.sourceforge.com>

Revision: 13012
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13012&view=rev
Author:   druzus
Date:     2009-11-24 23:50:57 +0000 (Tue, 24 Nov 2009)

Log Message:
-----------
2009-11-25 00:50 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/fm.c
    * enabled HB_FM_DL_ALLOC by default in OS2 OpenWatcom builds

  * harbour/config/os2/watcom.mk
    ! enabled -bm flag (MT code) in OS2 OpenWatcom builds - now when
      HB_FM_DL_ALLOC is enabled by default it should not kill the
      performance. Please make tests with OS2 OpenWatcom builds.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/os2/watcom.mk
    trunk/harbour/src/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Tue Nov 24 18:54:19 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Tue Nov 24 18:54:25 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <20091123125926.GB29583@linux-4bod.home.aster.pl>
References: <4B0A6298.5060106@mail.udg.mx>
	<20091123125926.GB29583@linux-4bod.home.aster.pl>
Message-ID: <20091124235419.GA5679@linux-4bod.home.aster.pl>

On Mon, 23 Nov 2009, Przemys?aw Czerpak wrote:

Hi David,

> > >  * harbour/src/vm/dlmalloc.c
> > >    * modifications for non MS-Windows WATCOM builds
> > >      TOFIX: now it compiles in Linux and OS2 builds but it still does
> > >not work
> > Do you need some tests on OS/2 ?
> Yes but first we will have to add support for OS2 MMAP emulation
> just like in MS-Windows builds where VirtualAlloc() is used to
> emulate mmap().

It's already done and Maurilio tested GCC builds.
I would like to ask you to make test with OpenWatcom.
Now DLMALLOC is enabled by default in OpenWatcom OS2 builds so
it's enough to compile current Harbour SVN code and then check
if default harbour tools work correctly.

best regards,
Przemek
From dbtopas at dbtopas.lt  Tue Nov 24 18:55:13 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Nov 24 18:57:16 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <4E00D46DA26B4803A567CFA93FA1DEDA@noteleo>
References: <77377B95AE9042CB9938DC6143593711@noteleo>	<8E3249CD-7474-4E81-8A1F-20402A26CEDD@windtelsoft.com><0138EA939601445EB9038E3303FC30B8@noteleo>	<4B0C5390.4050508@dbtopas.lt>
	<4E00D46DA26B4803A567CFA93FA1DEDA@noteleo>
Message-ID: <4B0C7261.5080406@dbtopas.lt>

Hi,


Leandro Damasio wrote:
> My proposition is that singleton class support for harbour be 
> implemented in such a way that one programmer can declare a singleton 
> class, box it in a library and share it to other harbour users around 
> the world, knowing for sure that nobody could instantiate it more than 
> once per execution (even by mistake)  and that there should be no need 
> to provide any exceptional instructions, formalities, tips or tricks 
> with the library to assure that the user will always acess the same 
> unique instance of the class during all the execution of the program, 
> because the class was declared as a singleton class and the machine 
> would know how to deal with it, even if the user doesn't even know what 
> does singleton means.

I do not see a problems here also. In both my and Teo's sample extra 
class is created but it i not hidden from "other users around the world" 
(i.e. MyClass1Real() function is public and visible). It is easy to make 
this function static and accessible only from same module public funcion 
(only from MyClass1()). This could be implemented using preprocessor and 
magic word SINGLETON, but I do not thing it's something special to be 
required to implement as a fundamental class feature.

If you'll ever look at .ppo file generated from CLASS sentence you'll be 
surprised that this CLASS something is actually a function, and that 
method definitions are only a calls to methods like :AddMethod() of some 
magic class HBClass() and these :AddMethod() are actually a call to 
__clsAddMsg(). Just see src/rtl/tclass.prg.

So, you can be sure: if Teo's preprocessor sample is not enough to make 
you believe you have a real singleton, be sure that you do not have any 
real class at all, even if you think so. You are a newbie here, so, 
Harbour is a little cheating on you ;)


Regards,
Mindaugas
From harbour.01 at syenar.hu  Tue Nov 24 20:03:39 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Tue Nov 24 20:03:48 2009
Subject: [Harbour] cUrl functions ?
In-Reply-To: <26505222.post@talk.nabble.com>
References: <26505222.post@talk.nabble.com>
Message-ID: <0A22B852-04C9-40B1-AE01-BB2910CE9CB9@syenar.hu>

Hi,

> In PHP I have these functions:
> 
> curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1)
> 
> curl_exec($ch)
> 
> In the harbour there is any function consistent with these?

I don't know what CURLOPT_RETURNTRANSFER means, it's 
not amongst documented libcurl parameters.

Brgds,
Viktor

From druzus at users.sourceforge.net  Tue Nov 24 20:19:04 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Nov 24 20:19:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13013] trunk/harbour
Message-ID: <E1ND6XA-0005MH-7v@3kljzd1.ch3.sourceforge.com>

Revision: 13013
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13013&view=rev
Author:   druzus
Date:     2009-11-25 01:19:03 +0000 (Wed, 25 Nov 2009)

Log Message:
-----------
2009-11-25 02:18 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/tests/bldtest/bldtest.c
    * disabled requirement for signed 'char' type - current Harbour code
      should work with 'char' defined as signed and unsigned value.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/tests/bldtest/bldtest.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ale.seribeli at ig.com.br  Tue Nov 24 20:33:30 2009
From: ale.seribeli at ig.com.br (Ale SB)
Date: Tue Nov 24 20:33:35 2009
Subject: [Harbour] cUrl functions ?
In-Reply-To: <0A22B852-04C9-40B1-AE01-BB2910CE9CB9@syenar.hu>
References: <26505222.post@talk.nabble.com>
	<0A22B852-04C9-40B1-AE01-BB2910CE9CB9@syenar.hu>
Message-ID: <26506259.post@talk.nabble.com>


CURLOPT_RETURNTRANSFER ==>
TRUE to return the transfer as a string return value from curl_exec ()
instead of sending directly to the output

CURLOPT_BINARYTRANSFER==>
TRUE to return the raw output when CURLOPT_RETURNTRANSFER is used.

curl_exec ==>
Executes a given cURL session.

This function must be called after you initialize a CURL session and all the
options for CURL session are set.

http://br2.php.net/manual/pt_BR/ref.curl.php

I really do not know why these functions are not in the Dll curl.
I must have some function consistent with these in PHP.
I would be grateful if someone who knows the curl can help me.

Thanks


Viktor Szak?ts wrote:
> 
> Hi,
> 
>> In PHP I have these functions:
>> 
>> curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1)
>> 
>> curl_exec($ch)
>> 
>> In the harbour there is any function consistent with these?
> 
> I don't know what CURLOPT_RETURNTRANSFER means, it's 
> not amongst documented libcurl parameters.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://old.nabble.com/cUrl-functions---tp26505222p26506259.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bruno.luciani at gmail.com  Tue Nov 24 21:05:51 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Tue Nov 24 21:05:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13011] trunk/harbour
In-Reply-To: <609353e70911241526i49b46bd8obc1e69d2b2f60903@mail.gmail.com>
References: <E1ND3qB-0004HV-BE@c3vjzd1.ch3.sourceforge.com>
	<609353e70911241526i49b46bd8obc1e69d2b2f60903@mail.gmail.com>
Message-ID: <133778360911241805v421a640ep2bcb589cacbcf119@mail.gmail.com>

using hbmk2 hbide.hbp -w2

works ok

Bruno

2009/11/24 Massimo Belgrano <mbelgrano@deltain.it>

> c:\harbour\contrib\hbide>hbmk2 hbide.hbp -w2 -d__HB_DEBUG__
> -d__HB_WINDEBUG__
> hbmk2: Processing environment options: -compiler=mingw
> hbmk2: Processing configuration: c:\harbour\mingw\bin\hbmk.cfg
> hbmk2: Compiling Harbour sources...
> Harbour 2.0.0beta3 (Rev. 13011)
> Copyright (c) 1999-2009, http://www.harbour-project.org/
> Compiling 'hbide.prg'...
> Lines 5412, Functions/Procedures 33
> Generating C source output to '.hbmk\win\mingw\hbide.c'... Done.
> Compiling 'idemisc.prg'...
> Lines 8216, Functions/Procedures 4
> Generating C source output to '.hbmk\win\mingw\idemisc.c'... Done.
> Compiling 'ideactions.prg'...
> Lines 11071, Functions/Procedures 2
> Generating C source output to '.hbmk\win\mingw\ideactions.c'... Done.
> hbmk2: Compiling...
> hbmk2: Linking... hbide.exe
> .hbmk\win\mingw\hbide.o:hbide.c:(.data+0x688): undefined reference to
> `HB_FUN__H
> BXBP_DEBUG'
>
> 2009/11/24  <vouchcac@users.sourceforge.net>:
> > Revision: 13011
> >
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13011&view=rev
> > Author:   vouchcac
> > Date:     2009-11-24 22:26:30 +0000 (Tue, 24 Nov 2009)
> >
> > Log Message:
> >    Please play with the tool and report back your experiences.
> >
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091124/3eddce08/attachment.html
From jarabal at gmail.com  Tue Nov 24 21:09:33 2009
From: jarabal at gmail.com (Xavi)
Date: Tue Nov 24 21:10:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13013] trunk/harbour
In-Reply-To: <E1ND6XA-0005MH-7v@3kljzd1.ch3.sourceforge.com>
References: <E1ND6XA-0005MH-7v@3kljzd1.ch3.sourceforge.com>
Message-ID: <4B0C91DD.4070803@gmail.com>

In file included from ../../../../hvmall.c:94:
../../../../fm.c: In function 'hb_xquery':
../../../../fm.c:1312: warning: unused variable '_hb_stack_ptr_'
../../../../fm.c:1318: warning: unused variable '_hb_stack_ptr_'

-- 
Xavi

From vouchcac at users.sourceforge.net  Tue Nov 24 21:21:23 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Tue Nov 24 21:21:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13014] trunk/harbour
Message-ID: <E1ND7VT-0002GK-LO@74yxhf1.ch3.sourceforge.com>

Revision: 13014
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13014&view=rev
Author:   vouchcac
Date:     2009-11-25 02:21:22 +0000 (Wed, 25 Nov 2009)

Log Message:
-----------
2009-11-24 18:20 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
    + Started <Project Properties> Dialog.
      Your comments are welcome. I am interested what else might be required for
      peoject management property so that we are comfortable in future.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Tue Nov 24 21:24:51 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Tue Nov 24 21:24:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13015] trunk/harbour
Message-ID: <E1ND7Yp-0004PY-Qs@dn4whf1.ch3.sourceforge.com>

Revision: 13015
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13015&view=rev
Author:   druzus
Date:     2009-11-25 02:24:50 +0000 (Wed, 25 Nov 2009)

Log Message:
-----------
2009-11-25 03:24 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/fm.c
    * removed not longer used HVM stack pointer variables

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Wed Nov 25 03:14:30 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Nov 25 03:14:41 2009
Subject: [Harbour] dlmalloc OS/2 GCC results
Message-ID: <4B0CE766.1090600@libero.it>

Przemyslaw,

dlmalloc makes a BIG difference, really outstanding, to the point that in MT
mode, without it, there is no advantage in going MT!

Here are the result of OS/2 with GCC, each file has the output of:

speedtst in st mode
speedtst in mt mode
speedtst --thread
speedtst --thread=2 --scale.

spdt.txt is without dlmalloc; spdt-dl.txt is with dlmalloc.

They were collected on a dual core laptop with a centrino duo.

Thanks so much for porting dlmalloc to OS/2.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


-------------- next part --------------

2009.11.25 00:29:35 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13011) EMX GNU C 3.3.5 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.00
[ T002: x := L_N ]..............................................0.00
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.00
[ T005: x := S_N ]..............................................0.00
[ T006: x := S_D ]..............................................0.00
[ T007: x := M->M_C ]...........................................0.00
[ T008: x := M->M_N ]...........................................0.00
[ T009: x := M->M_D ]...........................................0.00
[ T010: x := M->P_C ]...........................................0.00
[ T011: x := M->P_N ]...........................................0.00
[ T012: x := M->P_D ]...........................................0.00
[ T013: x := F_C ]..............................................0.00
[ T014: x := F_N ]..............................................0.00
[ T015: x := F_D ]..............................................0.00
[ T016: x := o:Args ]...........................................0.00
[ T017: x := o[2] ].............................................0.00
[ T018: round( i / 1000, 2 ) ]..................................0.00
[ T019: str( i / 1000 ) ].......................................0.13
[ T020: val( s ) ]..............................................0.00
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.06
[ T022: dtos( d - i % 10000 ) ].................................0.00
[ T023: eval( { || i % 16 } ) ].................................0.10
[ T024: eval( bc := { || i % 16 } ) ]...........................0.00
[ T025: eval( { |x| x % 16 }, i ) ].............................0.03
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.00
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.00
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.00
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.00
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................0.39
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................0.52
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.13
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.06
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.00
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.00
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.00
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.00
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.00
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.00
[ T040: ascan( a, i % 16 ) ]....................................0.00
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................0.39
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.03
[ T043: x := a ]................................................0.00
[ T044: x := {} ]...............................................0.00
[ T045: f0() ]..................................................0.00
[ T046: f1( i ) ]...............................................0.00
[ T047: f2( c[1...8] ) ]........................................0.00
[ T048: f2( c[1...40000] ) ]....................................0.00
[ T049: f2( @c[1...40000] ) ]...................................0.00
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.00
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.03
[ T052: f2( a ) ]...............................................0.00
[ T053: x := f4() ].............................................0.13
[ T054: x := f5() ].............................................0.00
[ T055: x := space(16) ]........................................0.00
[ T056: f_prv( c ) ]............................................0.29
====================================================================
[ total application time: ].....................................3.23
[ total real time: ]...........................................29.78

2009.11.25 00:30:36 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13011) (MT) EMX GNU C 3.3.5 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.00
[ T002: x := L_N ]..............................................0.00
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.00
[ T005: x := S_N ]..............................................0.00
[ T006: x := S_D ]..............................................0.00
[ T007: x := M->M_C ]...........................................0.00
[ T008: x := M->M_N ]...........................................0.00
[ T009: x := M->M_D ]...........................................0.00
[ T010: x := M->P_C ]...........................................0.00
[ T011: x := M->P_N ]...........................................0.00
[ T012: x := M->P_D ]...........................................0.00
[ T013: x := F_C ]..............................................0.03
[ T014: x := F_N ]..............................................0.00
[ T015: x := F_D ]..............................................0.00
[ T016: x := o:Args ]...........................................0.00
[ T017: x := o[2] ].............................................0.03
[ T018: round( i / 1000, 2 ) ]..................................0.10
[ T019: str( i / 1000 ) ].......................................0.00
[ T020: val( s ) ]..............................................0.06
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.00
[ T022: dtos( d - i % 10000 ) ].................................0.00
[ T023: eval( { || i % 16 } ) ].................................0.10
[ T024: eval( bc := { || i % 16 } ) ]...........................0.00
[ T025: eval( { |x| x % 16 }, i ) ].............................0.10
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.00
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.00
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.03
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.00
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................0.87
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................0.61
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.06
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.03
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.06
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.03
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.06
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.00
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.06
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.03
[ T040: ascan( a, i % 16 ) ]....................................0.03
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................0.42
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.23
[ T043: x := a ]................................................0.00
[ T044: x := {} ]...............................................0.00
[ T045: f0() ]..................................................0.00
[ T046: f1( i ) ]...............................................0.03
[ T047: f2( c[1...8] ) ]........................................0.00
[ T048: f2( c[1...40000] ) ]....................................0.00
[ T049: f2( @c[1...40000] ) ]...................................0.00
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.00
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.16
[ T052: f2( a ) ]...............................................0.10
[ T053: x := f4() ].............................................0.10
[ T054: x := f5() ].............................................0.00
[ T055: x := space(16) ]........................................0.00
[ T056: f_prv( c ) ]............................................0.00
====================================================================
[ total application time: ].....................................4.42
[ total real time: ]...........................................40.78

2009.11.25 00:31:36 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13011) (MT)+ EMX GNU C 3.3.5 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.10
[ T002: x := L_N ]..............................................2.55
[ T003: x := L_D ]..............................................2.55
[ T004: x := S_C ]..............................................2.23
[ T005: x := S_N ]..............................................2.65
[ T006: x := S_D ]..............................................2.55
[ T007: x := M->M_C ]...........................................4.00
[ T008: x := M->M_N ]...........................................1.35
[ T009: x := M->M_D ]...........................................0.06
[ T010: x := M->P_C ]...........................................2.19
[ T011: x := M->P_N ]...........................................2.13
[ T012: x := M->P_D ]...........................................1.68
[ T013: x := F_C ]..............................................5.13
[ T014: x := F_N ]..............................................3.06
[ T015: x := F_D ]..............................................1.74
[ T016: x := o:Args ]...........................................3.68
[ T017: x := o[2] ].............................................3.74
[ T018: round( i / 1000, 2 ) ]..................................3.13
[ T019: str( i / 1000 ) ].......................................5.87
[ T020: val( s ) ]..............................................4.10
[ T021: val( a [ i % 16 + 1 ] ) ]...............................5.58
[ T022: dtos( d - i % 10000 ) ].................................5.45
[ T023: eval( { || i % 16 } ) ].................................3.32
[ T024: eval( bc := { || i % 16 } ) ]...........................1.97
[ T025: eval( { |x| x % 16 }, i ) ].............................2.03
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................1.61
[ T027: eval( { |x| f1( x ) }, i ) ]............................2.42
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................2.71
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................1.74
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................5.06
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................0.03
[ T032: x := valtype( x ) +  valtype( i ) ].....................4.39
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........2.45
[ T034: x := a[ i % 16 + 1 ] == s ].............................4.45
[ T035: x := a[ i % 16 + 1 ] = s ]..............................4.90
[ T036: x := a[ i % 16 + 1 ] >= s ].............................5.52
[ T037: x := a[ i % 16 + 1 ] <= s ].............................5.13
[ T038: x := a[ i % 16 + 1 ] < s ]..............................4.03
[ T039: x := a[ i % 16 + 1 ] > s ]..............................4.23
[ T040: ascan( a, i % 16 ) ]....................................0.68
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................1.55
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....2.52
[ T043: x := a ]................................................0.00
[ T044: x := {} ]...............................................0.97
[ T045: f0() ]..................................................0.32
[ T046: f1( i ) ]...............................................0.71
[ T047: f2( c[1...8] ) ]........................................0.77
[ T048: f2( c[1...40000] ) ]....................................0.29
[ T049: f2( @c[1...40000] ) ]...................................0.90
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.55
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.35
[ T052: f2( a ) ]...............................................0.87
[ T053: x := f4() ].............................................0.35
[ T054: x := f5() ].............................................0.74
[ T055: x := space(16) ]........................................0.81
[ T056: f_prv( c ) ]............................................1.03
====================================================================
[ total application time: ].....................................0.00
[ total real time: ]...........................................23.77

2009.11.25 00:32:10 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13011) (MT)+ EMX GNU C 3.3.5 (32-bit) x86
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.27   0.13 ->  2.03
[ T002: x := L_N ]____________________________________  0.15   0.08 ->  1.96
[ T003: x := L_D ]____________________________________  0.14   0.08 ->  1.88
[ T004: x := S_C ]____________________________________  0.31   0.60 ->  0.53
[ T005: x := S_N ]____________________________________  0.18   0.10 ->  1.89
[ T006: x := S_D ]____________________________________  0.19   0.09 ->  2.00
[ T007: x := M->M_C ]_________________________________  0.38   0.20 ->  1.96
[ T008: x := M->M_N ]_________________________________  0.26   0.13 ->  1.93
[ T009: x := M->M_D ]_________________________________  0.25   0.13 ->  1.94
[ T010: x := M->P_C ]_________________________________  0.31   0.19 ->  1.63
[ T011: x := M->P_N ]_________________________________  0.26   0.13 ->  2.02
[ T012: x := M->P_D ]_________________________________  0.25   0.13 ->  1.97
[ T013: x := F_C ]____________________________________  0.75   0.38 ->  1.96
[ T014: x := F_N ]____________________________________  0.57   0.29 ->  1.96
[ T015: x := F_D ]____________________________________  0.34   0.17 ->  1.95
[ T016: x := o:Args ]_________________________________  0.66   0.34 ->  1.93
[ T017: x := o[2] ]___________________________________  0.46   0.24 ->  1.91
[ T018: round( i / 1000, 2 ) ]________________________  0.81   0.42 ->  1.94
[ T019: str( i / 1000 ) ]_____________________________  2.66   1.35 ->  1.97
[ T020: val( s ) ]____________________________________  0.78   0.40 ->  1.97
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  1.41   0.71 ->  1.97
[ T022: dtos( d - i % 10000 ) ]_______________________  1.39   0.71 ->  1.95
[ T023: eval( { || i % 16 } ) ]_______________________  1.80   1.98 ->  0.91
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.88   0.45 ->  1.95
[ T025: eval( { |x| x % 16 }, i ) ]___________________  1.18   1.67 ->  0.71
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.86   0.45 ->  1.93
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  1.31   1.59 ->  0.83
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.99   0.50 ->  1.96
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  0.99   0.50 ->  1.96
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________ 11.26   6.00 ->  1.88
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______ 12.32   7.04 ->  1.75
[ T032: x := valtype( x ) +  valtype( i ) ]___________  1.46   0.74 ->  1.98
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  2.80   1.41 ->  1.98
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  1.14   0.57 ->  1.99
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  1.17   0.59 ->  1.98
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  1.18   0.60 ->  1.98
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  1.18   0.60 ->  1.97
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  1.18   0.60 ->  1.95
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  1.19   0.60 ->  1.99
[ T040: ascan( a, i % 16 ) ]__________________________  1.13   0.58 ->  1.97
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________ 10.17   6.12 ->  1.66
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  3.21   2.45 ->  1.31
[ T043: x := a ]______________________________________  0.28   0.14 ->  2.03
[ T044: x := {} ]_____________________________________  0.61   0.77 ->  0.79
[ T045: f0() ]________________________________________  0.28   0.14 ->  1.92
[ T046: f1( i ) ]_____________________________________  0.39   0.20 ->  1.95
[ T047: f2( c[1...8] ) ]______________________________  0.48   0.24 ->  1.95
[ T048: f2( c[1...40000] ) ]__________________________  0.48   0.24 ->  2.04
[ T049: f2( @c[1...40000] ) ]_________________________  0.35   0.17 ->  2.02
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.55   0.28 ->  1.99
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  1.43   0.72 ->  1.99
[ T052: f2( a ) ]_____________________________________  0.50   0.26 ->  1.91
[ T053: x := f4() ]___________________________________  2.26   1.15 ->  1.97
[ T054: x := f5() ]___________________________________  0.91   0.45 ->  2.00
[ T055: x := space(16) ]______________________________  0.73   0.37 ->  1.97
[ T056: f_prv( c ) ]__________________________________  1.56   0.78 ->  1.99
============================================================================
[   TOTAL   ]_________________________________________ 81.00  47.95 ->  1.69
============================================================================
[ total application time: ].....................................2.32
[ total real time: ]..........................................128.95
-------------- next part --------------

2009.11.25 00:55:14 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13011) EMX GNU C 3.3.5 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.00
====================================================================
[ T001: x := L_C ]..............................................0.00
[ T002: x := L_N ]..............................................0.00
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.03
[ T005: x := S_N ]..............................................0.00
[ T006: x := S_D ]..............................................0.00
[ T007: x := M->M_C ]...........................................0.00
[ T008: x := M->M_N ]...........................................0.00
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.03
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.00
[ T013: x := F_C ]..............................................0.00
[ T014: x := F_N ]..............................................0.03
[ T015: x := F_D ]..............................................0.03
[ T016: x := o:Args ]...........................................0.03
[ T017: x := o[2] ].............................................0.00
[ T018: round( i / 1000, 2 ) ]..................................0.00
[ T019: str( i / 1000 ) ].......................................0.10
[ T020: val( s ) ]..............................................0.10
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.06
[ T022: dtos( d - i % 10000 ) ].................................0.10
[ T023: eval( { || i % 16 } ) ].................................0.06
[ T024: eval( bc := { || i % 16 } ) ]...........................0.03
[ T025: eval( { |x| x % 16 }, i ) ].............................0.10
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.00
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.32
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.06
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.06
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................1.16
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................0.81
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.10
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.13
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.03
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.03
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.03
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.00
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.03
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.13
[ T040: ascan( a, i % 16 ) ]....................................0.00
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................0.71
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.23
[ T043: x := a ]................................................0.03
[ T044: x := {} ]...............................................0.06
[ T045: f0() ]..................................................0.00
[ T046: f1( i ) ]...............................................0.03
[ T047: f2( c[1...8] ) ]........................................0.00
[ T048: f2( c[1...40000] ) ]....................................0.00
[ T049: f2( @c[1...40000] ) ]...................................0.00
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.00
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.00
[ T052: f2( a ) ]...............................................0.00
[ T053: x := f4() ].............................................0.06
[ T054: x := f5() ].............................................0.03
[ T055: x := space(16) ]........................................0.10
[ T056: f_prv( c ) ]............................................0.26
====================================================================
[ total application time: ].....................................5.19
[ total real time: ]...........................................40.59

2009.11.25 00:56:10 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13011) (MT) EMX GNU C 3.3.5 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.00
====================================================================
[ T001: x := L_C ]..............................................0.00
[ T002: x := L_N ]..............................................0.00
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.00
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.00
[ T007: x := M->M_C ]...........................................0.03
[ T008: x := M->M_N ]...........................................0.00
[ T009: x := M->M_D ]...........................................0.06
[ T010: x := M->P_C ]...........................................0.00
[ T011: x := M->P_N ]...........................................0.00
[ T012: x := M->P_D ]...........................................0.00
[ T013: x := F_C ]..............................................0.06
[ T014: x := F_N ]..............................................0.00
[ T015: x := F_D ]..............................................0.00
[ T016: x := o:Args ]...........................................0.00
[ T017: x := o[2] ].............................................0.10
[ T018: round( i / 1000, 2 ) ]..................................0.03
[ T019: str( i / 1000 ) ].......................................0.13
[ T020: val( s ) ]..............................................0.10
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.00
[ T022: dtos( d - i % 10000 ) ].................................0.23
[ T023: eval( { || i % 16 } ) ].................................0.26
[ T024: eval( bc := { || i % 16 } ) ]...........................0.00
[ T025: eval( { |x| x % 16 }, i ) ].............................0.10
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.03
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.06
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.13
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.03
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................1.00
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................1.39
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.10
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.35
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.10
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.00
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.32
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.03
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.06
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.00
[ T040: ascan( a, i % 16 ) ]....................................0.16
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................0.68
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.39
[ T043: x := a ]................................................0.03
[ T044: x := {} ]...............................................0.03
[ T045: f0() ]..................................................0.00
[ T046: f1( i ) ]...............................................0.00
[ T047: f2( c[1...8] ) ]........................................0.06
[ T048: f2( c[1...40000] ) ]....................................0.00
[ T049: f2( @c[1...40000] ) ]...................................0.00
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.06
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.10
[ T052: f2( a ) ]...............................................0.03
[ T053: x := f4() ].............................................0.19
[ T054: x := f5() ].............................................0.23
[ T055: x := space(16) ]........................................0.06
[ T056: f_prv( c ) ]............................................0.16
====================================================================
[ total application time: ].....................................6.94
[ total real time: ]...........................................47.72

2009.11.25 00:57:05 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13011) (MT)+ EMX GNU C 3.3.5 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.00
====================================================================
[ T001: x := L_C ]..............................................1.45
[ T002: x := L_N ]..............................................1.42
[ T003: x := L_D ]..............................................0.06
[ T004: x := S_C ]..............................................0.19
[ T005: x := S_N ]..............................................0.74
[ T006: x := S_D ]..............................................1.26
[ T007: x := M->M_C ]...........................................1.03
[ T008: x := M->M_N ]...........................................1.13
[ T009: x := M->M_D ]...........................................1.19
[ T010: x := M->P_C ]...........................................1.48
[ T011: x := M->P_N ]...........................................0.13
[ T012: x := M->P_D ]...........................................1.16
[ T013: x := F_C ].............................................15.61
[ T014: x := F_N ]..............................................1.03
[ T015: x := F_D ]..............................................1.10
[ T016: x := o:Args ]...........................................1.19
[ T017: x := o[2] ].............................................0.84
[ T018: round( i / 1000, 2 ) ]..................................1.48
[ T019: str( i / 1000 ) ]......................................12.97
[ T020: val( s ) ]..............................................1.52
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.00
[ T022: dtos( d - i % 10000 ) ]................................14.00
[ T023: eval( { || i % 16 } ) ].................................7.97
[ T024: eval( bc := { || i % 16 } ) ]...........................1.68
[ T025: eval( { |x| x % 16 }, i ) ]............................14.19
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................2.13
[ T027: eval( { |x| f1( x ) }, i ) ]...........................11.94
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................1.35
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................1.39
[ T030: x := &( "f1(" + str(i) + ")" ) ].......................13.19
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............25.19
[ T032: x := valtype( x ) +  valtype( i ) ].....................9.58
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ].........14.48
[ T034: x := a[ i % 16 + 1 ] == s ].............................1.94
[ T035: x := a[ i % 16 + 1 ] = s ]..............................1.65
[ T036: x := a[ i % 16 + 1 ] >= s ].............................2.03
[ T037: x := a[ i % 16 + 1 ] <= s ].............................1.65
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.90
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.00
[ T040: ascan( a, i % 16 ) ]....................................2.06
[ T041: ascan( a, { |x| x == i % 16 } ) ]......................10.77
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....7.81
[ T043: x := a ]................................................0.13
[ T044: x := {} ]..............................................11.19
[ T045: f0() ]..................................................0.10
[ T046: f1( i ) ]...............................................0.00
[ T047: f2( c[1...8] ) ]........................................0.19
[ T048: f2( c[1...40000] ) ]....................................0.00
[ T049: f2( @c[1...40000] ) ]...................................0.00
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.26
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.13
[ T052: f2( a ) ]...............................................0.16
[ T053: x := f4() ]............................................11.97
[ T054: x := f5() ].............................................8.19
[ T055: x := space(16) ].......................................11.45
[ T056: f_prv( c ) ]............................................6.39
====================================================================
[ total application time: ].....................................0.00
[ total real time: ]...........................................56.66

2009.11.25 00:58:21 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13011) (MT)+ EMX GNU C 3.3.5 (32-bit) x86
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.25   0.32 ->  0.78
[ T002: x := L_N ]____________________________________  0.14   0.07 ->  2.01
[ T003: x := L_D ]____________________________________  0.15   0.07 ->  2.07
[ T004: x := S_C ]____________________________________  0.32   0.60 ->  0.53
[ T005: x := S_N ]____________________________________  0.19   0.09 ->  1.99
[ T006: x := S_D ]____________________________________  0.18   0.09 ->  1.94
[ T007: x := M->M_C ]_________________________________  0.38   0.19 ->  1.97
[ T008: x := M->M_N ]_________________________________  0.24   0.12 ->  1.98
[ T009: x := M->M_D ]_________________________________  0.25   0.13 ->  1.98
[ T010: x := M->P_C ]_________________________________  0.31   0.19 ->  1.58
[ T011: x := M->P_N ]_________________________________  0.24   0.13 ->  1.92
[ T012: x := M->P_D ]_________________________________  0.25   0.12 ->  2.00
[ T013: x := F_C ]____________________________________  1.16   4.23 ->  0.27
[ T014: x := F_N ]____________________________________  0.58   0.30 ->  1.95
[ T015: x := F_D ]____________________________________  0.35   0.18 ->  1.98
[ T016: x := o:Args ]_________________________________  0.64   0.32 ->  1.98
[ T017: x := o[2] ]___________________________________  0.50   0.25 ->  1.97
[ T018: round( i / 1000, 2 ) ]________________________  0.83   0.43 ->  1.93
[ T019: str( i / 1000 ) ]_____________________________  2.98   3.74 ->  0.80
[ T020: val( s ) ]____________________________________  0.77   0.39 ->  1.98
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  1.36   0.70 ->  1.96
[ T022: dtos( d - i % 10000 ) ]_______________________  1.89   2.43 ->  0.78
[ T023: eval( { || i % 16 } ) ]_______________________  2.80   5.68 ->  0.49
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.91   0.47 ->  1.92
[ T025: eval( { |x| x % 16 }, i ) ]___________________  1.80   2.66 ->  0.67
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.89   0.46 ->  1.94
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  1.86   2.28 ->  0.81
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.95   0.48 ->  1.99
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  0.94   0.47 ->  1.99
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________ 14.23  26.22 ->  0.54
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______ 16.22  34.17 ->  0.47
[ T032: x := valtype( x ) +  valtype( i ) ]___________  1.84   2.50 ->  0.74
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  3.30   3.51 ->  0.94
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  1.21   0.72 ->  1.67
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  1.25   0.74 ->  1.70
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  1.26   0.74 ->  1.70
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  1.26   0.77 ->  1.63
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  1.26   0.76 ->  1.66
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  1.27   0.75 ->  1.68
[ T040: ascan( a, i % 16 ) ]__________________________  1.14   0.58 ->  1.97
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________ 11.12   8.84 ->  1.26
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  4.38   6.39 ->  0.69
[ T043: x := a ]______________________________________  0.28   0.14 ->  1.99
[ T044: x := {} ]_____________________________________  1.08   2.85 ->  0.38
[ T045: f0() ]________________________________________  0.28   0.14 ->  1.94
[ T046: f1( i ) ]_____________________________________  0.00   0.73 ->  0.00
[ T047: f2( c[1...8] ) ]______________________________  0.48   0.00 ->  0.00
[ T048: f2( c[1...40000] ) ]__________________________  0.45   0.24 ->  1.89
[ T049: f2( @c[1...40000] ) ]_________________________  0.34   0.17 ->  1.99
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.57   0.40 ->  1.43
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  1.44   0.83 ->  1.73
[ T052: f2( a ) ]_____________________________________  0.49   0.25 ->  1.94
[ T053: x := f4() ]___________________________________  2.69   3.23 ->  0.83
[ T054: x := f5() ]___________________________________  1.34   3.45 ->  0.39
[ T055: x := space(16) ]______________________________  1.20   3.53 ->  0.34
[ T056: f_prv( c ) ]__________________________________  2.18   3.54 ->  0.62
============================================================================
[   TOTAL   ]_________________________________________ 96.65 133.79 ->  0.72
============================================================================
[ total application time: ].....................................2.13
[ total real time: ]..........................................230.45
From harbour.01 at syenar.hu  Wed Nov 25 03:16:30 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 25 03:16:41 2009
Subject: [Harbour] cUrl functions ?
In-Reply-To: <26506259.post@talk.nabble.com>
References: <26505222.post@talk.nabble.com>
	<0A22B852-04C9-40B1-AE01-BB2910CE9CB9@syenar.hu>
	<26506259.post@talk.nabble.com>
Message-ID: <D994E122-46F7-4F8A-84FC-AA749576A401@syenar.hu>

> CURLOPT_RETURNTRANSFER ==>
> TRUE to return the transfer as a string return value from curl_exec ()
> instead of sending directly to the output

In Harbour this is implemented as HB_CURLOPT_DL_BUFF_GET.

> CURLOPT_BINARYTRANSFER==>
> TRUE to return the raw output when CURLOPT_RETURNTRANSFER is used.

Harbour always returns what libcurl returns.

> curl_exec ==>
> Executes a given cURL session.
> 
> This function must be called after you initialize a CURL session and all the
> options for CURL session are set.
> 
> http://br2.php.net/manual/pt_BR/ref.curl.php
> 
> I really do not know why these functions are not in the Dll curl.
> I must have some function consistent with these in PHP.
> I would be grateful if someone who knows the curl can help me.

Pls check contrib/hbcurl/tests/ftp_uldl.prg

Brgds,
Viktor

From maurilio.longo at libero.it  Wed Nov 25 03:30:28 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Nov 25 03:30:36 2009
Subject: [Harbour] dlmalloc OS/2 GCC results
In-Reply-To: <4B0CE766.1090600@libero.it>
References: <4B0CE766.1090600@libero.it>
Message-ID: <4B0CEB24.7010701@libero.it>

Please note that

total application time

is wrong for MT builds.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From vszakats at users.sourceforge.net  Wed Nov 25 03:39:24 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Nov 25 03:39:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13016] trunk/harbour
Message-ID: <E1NDDPI-00074d-4Z@d5vjzd1.ch3.sourceforge.com>

Revision: 13016
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13016&view=rev
Author:   vszakats
Date:     2009-11-25 08:38:43 +0000 (Wed, 25 Nov 2009)

Log Message:
-----------
2009-11-25 09:34 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    * -bm watcom option disabled for linux to get in sync with
      GNU Make system.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Wed Nov 25 05:00:34 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Nov 25 05:00:42 2009
Subject: [Harbour] dlmalloc OS/2 GCC results
In-Reply-To: <4B0CEB24.7010701@libero.it>
References: <4B0CE766.1090600@libero.it> <4B0CEB24.7010701@libero.it>
Message-ID: <4B0D0042.7080704@libero.it>

A last note,

speedtst.prg built as

hbmk2 -st (or -mt) -gc3 -gtcgi speedtst.prg

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From dmacias at mail.udg.mx  Wed Nov 25 04:49:37 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Nov 25 05:03:34 2009
Subject: [Harbour] OS/2: Harbour 13015
Message-ID: <4B0CFDB1.6010402@mail.udg.mx>

Viktor:

Harbour under OS/2 fail in release 13015 in OMF type

  * $Id: ChangeLog 13015 2009-11-25 02:24:50Z druzus $
2009-11-25 03:24 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

It was working fine days ago with:

  * $Id: ChangeLog 12894 2009-11-15 23:15:08Z vszakats $
2009-11-16 00:14 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)

Error reported is:
--------------------------------
ld.exe: malformed input file (not rel or archive) hbpp.o
make[3]: *** [hbpp.exe] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [pp] Error 2
make: *** [src] Error 2
--------------------------------

Showing ld.exe in place of emxomfld.exe imply immediatly it is using non
OMF type (a.out type)

Make_gnu.log show:

For 12894:
----------------------------------
gcc  -I. -I../../../../../include  -Zomf -Wall -W -O3  -DTCPV40HDRS
-DHB_FM_STATISTICS_OFF -ohbpp.o -c ../../../hbpp.c
gcc  -Zomf -Wall -W -O3  -L../../../../../lib/os2/gccomf
-Le:\usr\lib\tcpipv4  -o ..\..\..\..\..\bin\os2\gccomf\hbpp.exe hbpp.o
-lhbnortl -lhbcommon
----------------------------------

For 13015:
----------------------------------
gcc  -I. -I../../../../../include -Zomf -Wall -W -O3  -DTCPV40HDRS
-DHB_FM_STATISTICS_OFF -ohbpp.o -c ../../../hbpp.c
gcc  -L../../../../../lib/os2/gccomf  -Le:\usr\lib\tcpipv4  -o
..\..\..\..\..\bin\os2\gccomf\hbpp.exe hbpp.o -lhbnortl -lhbcommon
----------------------------------

13015 is missing "-Zomf -Wall -W -O3" for hbpp.exe


I checked os2\gcc.mk, os2\gccomf.mk, os2\global.mk, ... pp\Makefile, ...
and I do not found some evident cause of error, so it is somewhere due
recent changes

Do you have any idea ?

David Macias



From druzus at acn.waw.pl  Wed Nov 25 05:04:36 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov 25 05:04:43 2009
Subject: [Harbour] dlmalloc OS/2 GCC results
In-Reply-To: <4B0CE766.1090600@libero.it>
References: <4B0CE766.1090600@libero.it>
Message-ID: <20091125100436.GA8046@linux-4bod.home.aster.pl>

On Wed, 25 Nov 2009, Maurilio Longo wrote:

Hi,

> dlmalloc makes a BIG difference, really outstanding, to the point that in MT
> mode, without it, there is no advantage in going MT!
> Here are the result of OS/2 with GCC, each file has the output of:
> speedtst in st mode
> speedtst in mt mode
> speedtst --thread
> speedtst --thread=2 --scale.
> spdt.txt is without dlmalloc; spdt-dl.txt is with dlmalloc.
> They were collected on a dual core laptop with a centrino duo.

As I can see it also quite nicely improve the speed of ST application.
In ST mode speedtst using standard memory allocator is ~36% slower then
speedtst using DLMALLOC so probably it's good idea to use DLMALLOC
as default memory manager in GCC for OS2.

> Thanks so much for porting dlmalloc to OS/2.

Thank you very much for your help.

OS2 version of DLMALLOC also allows to enable -bm switch in OpenWatcom
builds without horrible performance degradation. -bm force MT version
of some CRTL functions and OpenWatcom memory manager for MT mode is
incredible slow - much slower then it should be using simple mutex to
protect access to MM internals.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Nov 25 05:13:07 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov 25 05:13:14 2009
Subject: [Harbour] OS/2: Harbour 13015
In-Reply-To: <4B0CFDB1.6010402@mail.udg.mx>
References: <4B0CFDB1.6010402@mail.udg.mx>
Message-ID: <20091125101307.GA8215@linux-4bod.home.aster.pl>

On Wed, 25 Nov 2009, David Arturo Macias Corona wrote:

Hi,

> For 12894:
> ----------------------------------
> gcc  -I. -I../../../../../include  -Zomf -Wall -W -O3  -DTCPV40HDRS
> -DHB_FM_STATISTICS_OFF -ohbpp.o -c ../../../hbpp.c
> gcc  -Zomf -Wall -W -O3  -L../../../../../lib/os2/gccomf
> -Le:\usr\lib\tcpipv4  -o ..\..\..\..\..\bin\os2\gccomf\hbpp.exe hbpp.o
> -lhbnortl -lhbcommon
> ----------------------------------
> For 13015:
> ----------------------------------
> gcc  -I. -I../../../../../include -Zomf -Wall -W -O3  -DTCPV40HDRS
> -DHB_FM_STATISTICS_OFF -ohbpp.o -c ../../../hbpp.c
> gcc  -L../../../../../lib/os2/gccomf  -Le:\usr\lib\tcpipv4  -o
> ..\..\..\..\..\bin\os2\gccomf\hbpp.exe hbpp.o -lhbnortl -lhbcommon
> ----------------------------------
> 13015 is missing "-Zomf -Wall -W -O3" for hbpp.exe

Viktor recently cleaned compile and link time switches and the above
is samll side effect of this modification which should be easy to fix.

-Wall -W -O3 are not necessary at link time. Important is only -Zomf
and it should be added to linker switches. Now in os2/gcc.mk we have:

   ifeq ($(HB_COMPILER),gccomf)
      CFLAGS += -Zomf
   endif

so it's only added to compile switches. If it's necessary at compile
time then please leave:
      CFLAGS += -Zomf
and only add:
      LDFLAGS += -Zomf
If it's not necessary then simple replace CFLAGS with LDFLAGS.

best regards,
Przemek
From harbour.01 at syenar.hu  Wed Nov 25 05:14:35 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Nov 25 05:14:46 2009
Subject: [Harbour] OS/2: Harbour 13015
In-Reply-To: <4B0CFDB1.6010402@mail.udg.mx>
References: <4B0CFDB1.6010402@mail.udg.mx>
Message-ID: <27F92A73-26FC-4D2A-A02D-6B539F451E8C@syenar.hu>

Hi David,

Thanks for the report, this is related to this change:
---
2009-11-23 10:25 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
[...]
  * config/rules.mk
    ! Deleted CFLAGS from default link rule.
      After quick scan through the make files this shouldn't cause
      problems. Please test and if it does, we should add missing
      options to LDFLAGS.
---

Pls retry after my next commit.

Brgds,
Viktor

On 2009 Nov 25, at 10:49, David Arturo Macias Corona wrote:

> Viktor:
> 
> Harbour under OS/2 fail in release 13015 in OMF type
> 
> * $Id: ChangeLog 13015 2009-11-25 02:24:50Z druzus $
> 2009-11-25 03:24 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> 
> It was working fine days ago with:
> 
> * $Id: ChangeLog 12894 2009-11-15 23:15:08Z vszakats $
> 2009-11-16 00:14 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
> 
> Error reported is:
> --------------------------------
> ld.exe: malformed input file (not rel or archive) hbpp.o
> make[3]: *** [hbpp.exe] Error 1
> make[2]: *** [descend] Error 2
> make[1]: *** [pp] Error 2
> make: *** [src] Error 2
> --------------------------------
> 
> Showing ld.exe in place of emxomfld.exe imply immediatly it is using non
> OMF type (a.out type)
> 
> Make_gnu.log show:
> 
> For 12894:
> ----------------------------------
> gcc  -I. -I../../../../../include  -Zomf -Wall -W -O3  -DTCPV40HDRS
> -DHB_FM_STATISTICS_OFF -ohbpp.o -c ../../../hbpp.c
> gcc  -Zomf -Wall -W -O3  -L../../../../../lib/os2/gccomf
> -Le:\usr\lib\tcpipv4  -o ..\..\..\..\..\bin\os2\gccomf\hbpp.exe hbpp.o
> -lhbnortl -lhbcommon
> ----------------------------------
> 
> For 13015:
> ----------------------------------
> gcc  -I. -I../../../../../include -Zomf -Wall -W -O3  -DTCPV40HDRS
> -DHB_FM_STATISTICS_OFF -ohbpp.o -c ../../../hbpp.c
> gcc  -L../../../../../lib/os2/gccomf  -Le:\usr\lib\tcpipv4  -o
> ..\..\..\..\..\bin\os2\gccomf\hbpp.exe hbpp.o -lhbnortl -lhbcommon
> ----------------------------------
> 
> 13015 is missing "-Zomf -Wall -W -O3" for hbpp.exe
> 
> 
> I checked os2\gcc.mk, os2\gccomf.mk, os2\global.mk, ... pp\Makefile, ...
> and I do not found some evident cause of error, so it is somewhere due
> recent changes
> 
> Do you have any idea ?
> 
> David Macias
> 
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Wed Nov 25 05:16:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Nov 25 05:16:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13017] trunk/harbour
Message-ID: <E1NDEun-0006Kl-FT@c3vjzd1.ch3.sourceforge.com>

Revision: 13017
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13017&view=rev
Author:   vszakats
Date:     2009-11-25 10:15:54 +0000 (Wed, 25 Nov 2009)

Log Message:
-----------
2009-11-25 11:11 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/os2/gcc.mk
    ! Fixed (after recent cleanup of CFLAGS usage) to add -Zomf 
      for gccomf target to link command.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/config/os2/gcc.mk


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dmacias at mail.udg.mx  Wed Nov 25 05:33:15 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Nov 25 05:33:38 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
Message-ID: <4B0D07EB.3070902@mail.udg.mx>

Przemek:

 >2009-11-25 00:50 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
 >  * harbour/src/vm/fm.c
 >    * enabled HB_FM_DL_ALLOC by default in OS2 OpenWatcom builds
 >
 >  * harbour/config/os2/watcom.mk
 >    ! enabled -bm flag (MT code) in OS2 OpenWatcom builds - now when
 >      HB_FM_DL_ALLOC is enabled by default it should not kill the
 >      performance. Please make tests with OS2 OpenWatcom builds.

 >It's already done and Maurilio tested GCC builds.
 >I would like to ask you to make test with OpenWatcom.
 >Now DLMALLOC is enabled by default in OpenWatcom OS2 builds so
 >it's enough to compile current Harbour SVN code and then check
 >if default harbour tools work correctly.

In fact I was doing tests with Harbour 13006 - OpenWatcom while Maurilio 
reported hbmk2 failure and you and him started to fix it

Harbour 13006 - OpenWatcom-DHB_FM_DL_ALLOC was failing with hbmk2.exe 
too so I decided not to report until a newer changes

Below are results using:
------------------------
    hbmk2 -m -n -w -es2 -l -kmo -gc3 speedtst.prg
       speedtst.exe
    hbmk2 -m -n -w -es2 -l -kmo -gc3 -mt speedtst.prg
       speedtst.exe
       speedtst.exe --thread
       speedtst.exe --thread=2 --scale
------------------------

for:

a) Rev. 13006 without  -DHB_FM_DL_ALLOC
b) Rev. 13015 without  -DHB_FM_DL_ALLOC, BUT ENABLED BY DEFAULT
c) Rev. 13015 with  -DHB_FM_DL_ALLOC, BUT ENABLED BY DEFAULT

As now "HB_FM_DL_ALLOC is enabled by default" then b) and c) should be 
equal and they mean two runs of same type

And now how HB_FM_DL_ALLOC can be disabled ?



And for --thread results, are you ready ... ?
they fail with GPF as before

When we stop tests with OS/2-Harbour-OpenWatcom 1.7a in December 2008 we 
left two pendings:

a) Use of -bm
  MT require -bm but ST no, and using -bm doubled run time, so we were 
force to build an Harbour for ST (without -bm) and other Harbour for MT 
(with -bm)
  I see you are dealing with it now

b) Failure of --thread (--scale) with GPF
  OS/2-Harbour-OpenWatcom 1.7a was failing in MT with more than one thread
  I expected it was fixed with 1.8, but no
  As you may remember, cause was isolated until routines for devices input

  When you decide we can continue to fix it

David Macias



  ******* Start, Rev. 13006 without  -DHB_FM_DL_ALLOC *******

2009.11.24 07:36:22 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13006) Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.00
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.03
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.03
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.03
[ T011: x := M->P_N ]...........................................0.00
[ T012: x := M->P_D ]...........................................0.00
[ T013: x := F_C ]..............................................0.13
[ T014: x := F_N ]..............................................0.13
[ T015: x := F_D ]..............................................0.10
[ T016: x := o:Args ]...........................................0.10
[ T017: x := o[2] ].............................................0.06
[ T018: round( i / 1000, 2 ) ]..................................0.16
[ T019: str( i / 1000 ) ].......................................0.39
[ T020: val( s ) ]..............................................0.16
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.29
[ T022: dtos( d - i % 10000 ) ].................................0.29
[ T023: eval( { || i % 16 } ) ].................................0.29
[ T024: eval( bc := { || i % 16 } ) ]...........................0.13
[ T025: eval( { |x| x % 16 }, i ) ].............................0.23
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.16
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.23
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.19
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.23
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................1.68
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................2.10
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.32
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.52
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.16
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.19
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.19
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.19
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.19
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.19
[ T040: ascan( a, i % 16 ) ]....................................0.19
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................1.97
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.55
[ T043: x := a ]................................................0.03
[ T044: x := {} ]...............................................0.10
[ T045: f0() ]..................................................0.03
[ T046: f1( i ) ]...............................................0.06
[ T047: f2( c[1...8] ) ]........................................0.06
[ T048: f2( c[1...40000] ) ]....................................0.03
[ T049: f2( @c[1...40000] ) ]...................................0.03
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.10
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.29
[ T052: f2( a ) ]...............................................0.06
[ T053: x := f4() ].............................................0.55
[ T054: x := f5() ].............................................0.16
[ T055: x := space(16) ]........................................0.13
[ T056: f_prv( c ) ]............................................0.23
====================================================================
[ total application time: ]....................................15.74
[ total real time: ]...........................................15.69

2009.11.24 07:36:42 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13006) (MT) Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.06
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.06
[ T005: x := S_N ]..............................................0.00
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.10
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.06
[ T011: x := M->P_N ]...........................................0.06
[ T012: x := M->P_D ]...........................................0.03
[ T013: x := F_C ]..............................................1.42
[ T014: x := F_N ]..............................................0.13
[ T015: x := F_D ]..............................................0.10
[ T016: x := o:Args ]...........................................0.16
[ T017: x := o[2] ].............................................0.13
[ T018: round( i / 1000, 2 ) ]..................................0.19
[ T019: str( i / 1000 ) ].......................................1.61
[ T020: val( s ) ]..............................................0.19
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.35
[ T022: dtos( d - i % 10000 ) ].................................1.55
[ T023: eval( { || i % 16 } ) ].................................2.84
[ T024: eval( bc := { || i % 16 } ) ]...........................0.19
[ T025: eval( { |x| x % 16 }, i ) ].............................1.52
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.23
[ T027: eval( { |x| f1( x ) }, i ) ]............................1.61
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.29
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.26
[ T030: x := &( "f1(" + str(i) + ")" ) ].......................10.68
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]...............13.81
[ T032: x := valtype( x ) +  valtype( i ) ].....................1.65
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........1.87
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.29
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.32
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.32
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.32
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.32
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.32
[ T040: ascan( a, i % 16 ) ]....................................0.29
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................5.19
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....3.26
[ T043: x := a ]................................................0.06
[ T044: x := {} ]...............................................1.35
[ T045: f0() ]..................................................0.06
[ T046: f1( i ) ]...............................................0.10
[ T047: f2( c[1...8] ) ]........................................0.13
[ T048: f2( c[1...40000] ) ]....................................0.13
[ T049: f2( @c[1...40000] ) ]...................................0.06
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.13
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.45
[ T052: f2( a ) ]...............................................0.13
[ T053: x := f4() ].............................................1.94
[ T054: x := f5() ].............................................1.42
[ T055: x := space(16) ]........................................1.39
[ T056: f_prv( c ) ]............................................1.71
====================================================================
[ total application time: ]....................................62.94
[ total real time: ]...........................................62.99

2009.11.24 07:37:45 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13006) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
2009.11.24 07:37:45 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13006) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 2
N_LOOPS: 1000000
                                                         1 th.  2 th. 
factor
============================================================================


  ******* End, Rev. 13006 without  -DHB_FM_DL_ALLOC *******



  ******* Start, Rev. 13015 without  -DHB_FM_DL_ALLOC, BUT ENABLED BY 
DEFAULT *******

2009.11.24 22:54:47 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13015) Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.00
[ T002: x := L_N ]..............................................0.00
[ T003: x := L_D ]..............................................0.03
[ T004: x := S_C ]..............................................0.03
[ T005: x := S_N ]..............................................0.00
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.03
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.03
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.03
[ T013: x := F_C ]..............................................0.10
[ T014: x := F_N ]..............................................0.13
[ T015: x := F_D ]..............................................0.10
[ T016: x := o:Args ]...........................................0.10
[ T017: x := o[2] ].............................................0.06
[ T018: round( i / 1000, 2 ) ]..................................0.16
[ T019: str( i / 1000 ) ].......................................0.39
[ T020: val( s ) ]..............................................0.16
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.26
[ T022: dtos( d - i % 10000 ) ].................................0.29
[ T023: eval( { || i % 16 } ) ].................................0.23
[ T024: eval( bc := { || i % 16 } ) ]...........................0.16
[ T025: eval( { |x| x % 16 }, i ) ].............................0.19
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.16
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.23
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.19
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.23
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................1.74
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................2.03
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.29
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.45
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.16
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.19
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.19
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.19
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.19
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.19
[ T040: ascan( a, i % 16 ) ]....................................0.19
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................1.94
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.48
[ T043: x := a ]................................................0.00
[ T044: x := {} ]...............................................0.06
[ T045: f0() ]..................................................0.06
[ T046: f1( i ) ]...............................................0.06
[ T047: f2( c[1...8] ) ]........................................0.06
[ T048: f2( c[1...40000] ) ]....................................0.06
[ T049: f2( @c[1...40000] ) ]...................................0.06
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.06
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.29
[ T052: f2( a ) ]...............................................0.06
[ T053: x := f4() ].............................................0.58
[ T054: x := f5() ].............................................0.16
[ T055: x := space(16) ]........................................0.10
[ T056: f_prv( c ) ]............................................0.23
====================================================================
[ total application time: ]....................................15.45
[ total real time: ]...........................................15.63

2009.11.24 22:55:07 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13015) (MT) Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.06
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.03
[ T004: x := S_C ]..............................................0.06
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.06
[ T008: x := M->M_N ]...........................................0.06
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.06
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.06
[ T013: x := F_C ]..............................................0.16
[ T014: x := F_N ]..............................................0.16
[ T015: x := F_D ]..............................................0.10
[ T016: x := o:Args ]...........................................0.16
[ T017: x := o[2] ].............................................0.10
[ T018: round( i / 1000, 2 ) ]..................................0.19
[ T019: str( i / 1000 ) ].......................................0.45
[ T020: val( s ) ]..............................................0.23
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.35
[ T022: dtos( d - i % 10000 ) ].................................0.39
[ T023: eval( { || i % 16 } ) ].................................0.45
[ T024: eval( bc := { || i % 16 } ) ]...........................0.23
[ T025: eval( { |x| x % 16 }, i ) ].............................0.35
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.23
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.42
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.35
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.32
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................2.81
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................3.29
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.39
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.65
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.32
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.35
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.32
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.35
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.35
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.32
[ T040: ascan( a, i % 16 ) ]....................................0.29
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................3.00
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.94
[ T043: x := a ]................................................0.06
[ T044: x := {} ]...............................................0.16
[ T045: f0() ]..................................................0.06
[ T046: f1( i ) ]...............................................0.10
[ T047: f2( c[1...8] ) ]........................................0.13
[ T048: f2( c[1...40000] ) ]....................................0.13
[ T049: f2( @c[1...40000] ) ]...................................0.10
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.16
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.45
[ T052: f2( a ) ]...............................................0.13
[ T053: x := f4() ].............................................0.68
[ T054: x := f5() ].............................................0.26
[ T055: x := space(16) ]........................................0.19
[ T056: f_prv( c ) ]............................................0.45
====================================================================
[ total application time: ]....................................23.55
[ total real time: ]...........................................23.85

2009.11.24 22:55:31 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13015) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
2009.11.24 22:55:31 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13015) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 2
N_LOOPS: 1000000
                                                         1 th.  2 th. 
factor
============================================================================

  ******* End, Rev. 13015 without  -DHB_FM_DL_ALLOC, BUT ENABLED BY 
DEFAULT *******



  ******* Start, Rev. 13015 with  -DHB_FM_DL_ALLOC, AND ENABLED BY 
DEFAULT *******

2009.11.24 22:40:32 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13015) Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.03
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.00
[ T008: x := M->M_N ]...........................................0.00
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.03
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.03
[ T013: x := F_C ]..............................................0.13
[ T014: x := F_N ]..............................................0.13
[ T015: x := F_D ]..............................................0.06
[ T016: x := o:Args ]...........................................0.10
[ T017: x := o[2] ].............................................0.06
[ T018: round( i / 1000, 2 ) ]..................................0.16
[ T019: str( i / 1000 ) ].......................................0.39
[ T020: val( s ) ]..............................................0.16
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.26
[ T022: dtos( d - i % 10000 ) ].................................0.26
[ T023: eval( { || i % 16 } ) ].................................0.23
[ T024: eval( bc := { || i % 16 } ) ]...........................0.16
[ T025: eval( { |x| x % 16 }, i ) ].............................0.19
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.16
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.23
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.19
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.19
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................1.74
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................2.00
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.29
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.48
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.19
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.19
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.19
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.19
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.19
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.19
[ T040: ascan( a, i % 16 ) ]....................................0.19
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................1.94
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.52
[ T043: x := a ]................................................0.03
[ T044: x := {} ]...............................................0.06
[ T045: f0() ]..................................................0.03
[ T046: f1( i ) ]...............................................0.10
[ T047: f2( c[1...8] ) ]........................................0.06
[ T048: f2( c[1...40000] ) ]....................................0.06
[ T049: f2( @c[1...40000] ) ]...................................0.03
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.10
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.29
[ T052: f2( a ) ]...............................................0.06
[ T053: x := f4() ].............................................0.58
[ T054: x := f5() ].............................................0.13
[ T055: x := space(16) ]........................................0.10
[ T056: f_prv( c ) ]............................................0.19
====================================================================
[ total application time: ]....................................15.48
[ total real time: ]...........................................15.46

2009.11.24 22:40:53 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13015) (MT) Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.06
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.06
[ T005: x := S_N ]..............................................0.00
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.10
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.10
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.03
[ T013: x := F_C ]..............................................0.19
[ T014: x := F_N ]..............................................0.16
[ T015: x := F_D ]..............................................0.06
[ T016: x := o:Args ]...........................................0.19
[ T017: x := o[2] ].............................................0.10
[ T018: round( i / 1000, 2 ) ]..................................0.23
[ T019: str( i / 1000 ) ].......................................0.45
[ T020: val( s ) ]..............................................0.23
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.39
[ T022: dtos( d - i % 10000 ) ].................................0.39
[ T023: eval( { || i % 16 } ) ].................................0.48
[ T024: eval( bc := { || i % 16 } ) ]...........................0.19
[ T025: eval( { |x| x % 16 }, i ) ].............................0.35
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.26
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.42
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.29
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.29
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................2.81
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................3.26
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.45
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.65
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.32
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.32
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.29
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.32
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.32
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.29
[ T040: ascan( a, i % 16 ) ]....................................0.29
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................2.87
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.94
[ T043: x := a ]................................................0.06
[ T044: x := {} ]...............................................0.16
[ T045: f0() ]..................................................0.10
[ T046: f1( i ) ]...............................................0.10
[ T047: f2( c[1...8] ) ]........................................0.16
[ T048: f2( c[1...40000] ) ]....................................0.16
[ T049: f2( @c[1...40000] ) ]...................................0.10
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.16
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.45
[ T052: f2( a ) ]...............................................0.16
[ T053: x := f4() ].............................................0.74
[ T054: x := f5() ].............................................0.26
[ T055: x := space(16) ]........................................0.23
[ T056: f_prv( c ) ]............................................0.48
====================================================================
[ total application time: ]....................................23.55
[ total real time: ]...........................................23.62

2009.11.24 22:41:17 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13015) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
2009.11.24 22:41:17 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13015) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 2
N_LOOPS: 1000000
                                                         1 th.  2 th. 
factor
============================================================================

  ******* End, Rev. 13015 with  -DHB_FM_DL_ALLOC, AND ENABLED BY DEFAULT 
*******




From druzus at acn.waw.pl  Wed Nov 25 05:36:34 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov 25 05:36:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <4B0BBBE3.8010102@dbtopas.lt>
References: <E1NCAlm-00065y-PR@3kljzd1.ch3.sourceforge.com>
	<4B0B159E.2010405@dbtopas.lt>
	<20091124014345.GA9197@linux-4bod.home.aster.pl>
	<4B0BBBE3.8010102@dbtopas.lt>
Message-ID: <20091125103634.GA8323@linux-4bod.home.aster.pl>

On Tue, 24 Nov 2009, Mindaugas Kavaliauskas wrote:

Hi,

> Thank You for test results. I like the simplicity of DLMT, and I
> think this implementation is better than trying to adapt more
> complex PT*, NED* or other ALLOCs.

They are also using thread local mspaces. The main difference is
caused by the fact that they are designed as more general solutions.

> 16 separate mspaces is enough for
> most applications. Only on some heavy loaded servers we may need
> more active threads (minority of us have such number of CPU). This
> number 16 can be increased for a specific applications. Perhaps the
> only drawback of current implementation is that unused mspaces are
> destroyed only on application exit, but it this can be improved

I do not think it's problem. DLMALLOC release unused memory blocks
to the system so the overhead is minimal if all allocated memory
in given mspace is freed.

> using some logic dependent on GC activation or thread destruction.

See above and do not forget that memory allocated by one thread can
be accessible by other threads so you cannot free mspaces when thread
is destroyed. Anyhow if you want to force freeing unused mspaces which
do not have any active memory blocks then it can be done quite easy
by adding small function which will scan all allocated mspaces and
free the ones which do not have any memory "in use". This function
can be activated by GC and it can be extended to make also memory
trimming for all existing mspaces (dlmalloc_trim()).

best regards,
Przemek
From dmacias at mail.udg.mx  Wed Nov 25 05:53:39 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Nov 25 05:53:59 2009
Subject: [Harbour] Re: OS/2: Harbour 13015
Message-ID: <4B0D0CB3.6010601@mail.udg.mx>

Viktor, Przemek:

 >Viktor recently cleaned compile and link time switches and the above
 >is samll side effect of this modification which should be easy to fix.

Even so "small" it stoped everything  :-)

 >Thanks for the report, this is related to this change:

 >2009-11-25 11:11 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
 >  * config/os2/gcc.mk
 >    ! Fixed (after recent cleanup of CFLAGS usage) to add -Zomf
 >      for gccomf target to link command.

Now is working fine, thanks

David Macias


From mbelgrano at deltain.it  Wed Nov 25 06:01:40 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Nov 25 06:02:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13014] trunk/harbour
In-Reply-To: <E1ND7VT-0002GK-LO@74yxhf1.ch3.sourceforge.com>
References: <E1ND7VT-0002GK-LO@74yxhf1.ch3.sourceforge.com>
Message-ID: <609353e70911250301j51694ef7i29a8e0ad6150e8a2@mail.gmail.com>

In project property you request:
Project type,title,location,working dir,destination dir,output name, compile
link launch parameter,launch program
Missed List of file(prg,ch,c,rc,) with the possibility of add file only for
editing like *.txt that contain note
hbc
Imo project file must be a wizard for creation of  hbp.
so i suggest a section [hbide] in hbp to save extended information

a hbp can have
../hbxbp/hbxbp.hbc     // hbc template library
-inc                            // flag hbmk
-w3 -es2                     // harbour flag
-ohbide                      // outpunt dir
hbide.prg                   // list prg
freadlin.c                  // list c

I have tried use hbide and i have modification with more file open with the
exception of not capability ti see when a source is made modification
all work fine and in exit right request each file changed to save
Zoom work very fine and allow adapt hbide to each resolution
Copy and past work without problem
also Undo work fine (also using more file)
Column /stream selection is not jet working
Button tolower/toupper if is made on more row lost cr /line feed

in this release i have not found list of function of  project
is possible create list of function with/without  active #definition
#ifdef HB_COMPAT_C53
PROCEDURE myReader53( oGet, oGetList, oMenu, aMsg )
#else
PROCEDURE myReader52( oGet )
#endif


Very impressive how much is possible do with harbour hbqt,hbxbp

I can try use in real environment as editing tool  if you can add a serch
button that is most used in my real life
Still compliment


2009/11/25 <vouchcac@users.sourceforge.net>

> Revision: 13014
>
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13014&view=rev
> Author:   vouchcac
> Date:     2009-11-25 02:21:22 +0000 (Wed, 25 Nov 2009)
>
> Log Message:
> -----------
> 2009-11-24 18:20 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbide/hbide.prg
>    + Started <Project Properties> Dialog.
>      Your comments are welcome. I am interested what else might be required
> for
>      peoject management property so that we are comfortable in future.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbide/hbide.prg
>
>
> This was sent by the SourceForge.net collaborative development platform,
> the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091125/43972e64/attachment.html
From druzus at acn.waw.pl  Wed Nov 25 06:20:12 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov 25 06:20:19 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <4B0D07EB.3070902@mail.udg.mx>
References: <4B0D07EB.3070902@mail.udg.mx>
Message-ID: <20091125112012.GA8469@linux-4bod.home.aster.pl>

On Wed, 25 Nov 2009, David Arturo Macias Corona wrote:

Hi,

> Below are results using:
> ------------------------
>    hbmk2 -m -n -w -es2 -l -kmo -gc3 speedtst.prg
>       speedtst.exe
>    hbmk2 -m -n -w -es2 -l -kmo -gc3 -mt speedtst.prg
>       speedtst.exe
>       speedtst.exe --thread
>       speedtst.exe --thread=2 --scale
> ------------------------
> for:
> a) Rev. 13006 without  -DHB_FM_DL_ALLOC
> b) Rev. 13015 without  -DHB_FM_DL_ALLOC, BUT ENABLED BY DEFAULT
> c) Rev. 13015 with  -DHB_FM_DL_ALLOC, BUT ENABLED BY DEFAULT
> And now how HB_FM_DL_ALLOC can be disabled ?

Just simply use only recent SVN version and -DHB_FM_STD_ALLOC to disable
DLMALLOC.

> And for --thread results, are you ready ... ?
> they fail with GPF as before
> When we stop tests with OS/2-Harbour-OpenWatcom 1.7a in December
> 2008 we left two pendings:
> a) Use of -bm
>  MT require -bm but ST no, and using -bm doubled run time, so we
> were force to build an Harbour for ST (without -bm) and other
> Harbour for MT (with -bm)
>  I see you are dealing with it now

I know about it but I intentionally disabled -bm because it was killing
the performance in MT mode due to OpenWatcom memory manage used in MT
builds. Now it's enabled by default because DLMALLOC does not create such
problems.

> b) Failure of --thread (--scale) with GPF
>  OS/2-Harbour-OpenWatcom 1.7a was failing in MT with more than one thread
>  I expected it was fixed with 1.8, but no
>  As you may remember, cause was isolated until routines for devices input
>  When you decide we can continue to fix it

It was a bug in OpenWatcom which was exploited in some calling convention
when some specific OS2 API functions were used, i.e. some mouse and
keyboard functions in GTOS2. It was hard to locate the exact problem
because this bug was corrupting C call stack indirectly and the problem
was not exploited when the given OS2 API function was executed but when
Harbour function containing calls to such OS2 API function was executed.

When Maurilio changed some OpenWatcom switches used to control calling
convention then the problem disappeared. I thought that we are keeping
these settings but if not then we will have to find them again and
reactivate.
It will be necessary to recompile Harbour using different switches.
First please try to remove -bm.
If it does not help in next step then please try to use stack calling
convention instead of register one and change:
   CFLAGS += -5r -fp5
to:
   CFLAGS += -5s -fp5
(If you are suing hbmk2 to create final application then you will have
to sync this switch and change -5r ot -5s in hbmk2.prg[2704]
If it does not help too then we will have to make some deeper tests.

best regards,
Przemek
From mbelgrano at deltain.it  Wed Nov 25 08:29:06 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Nov 25 08:29:34 2009
Subject: [Harbour] Possible write a wrapper library for gtwvw function to qt?
Message-ID: <609353e70911250529s5f255807u25bab794b6770535@mail.gmail.com>

Gtwvw seem have a large audiences in xharbour, and qt seem rock as demostred
by powerfull hbide

This is GTWVW documentation in english :
http://www.4shared.com/file/154673314/15cd45c6/doc_gtwvw_english.html

Is possible easy write in prg a wrapper for gtwvw function?
How many developer here can be intrested?
Is possible start compatibility with wvt function

-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091125/f2069313/attachment.html
From druzus at acn.waw.pl  Wed Nov 25 08:35:42 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov 25 08:35:49 2009
Subject: [Harbour] Re: OS/2: Harbour 13015
In-Reply-To: <4B0D0CB3.6010601@mail.udg.mx>
References: <4B0D0CB3.6010601@mail.udg.mx>
Message-ID: <20091125133542.GA9413@linux-4bod.home.aster.pl>

On Wed, 25 Nov 2009, David Arturo Macias Corona wrote:

Hi,

> >Viktor recently cleaned compile and link time switches and the above
> >is samll side effect of this modification which should be easy to fix.
> Even so "small" it stoped everything  :-)

Yes but it was easy to fix when the problem was reported and now we have
cleanly divided compiler and linker flags. For many years none of us has
wanted to touch this problem and clean it.

BTW I would like to start build tests on different platforms.
I hope that we will release final 2.0 before Christmas.

best regards,
Przemek
From sscc at mweb.co.za  Wed Nov 25 08:46:45 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Nov 25 08:47:07 2009
Subject: [Harbour] Re: OS/2: Harbour 13015
In-Reply-To: <20091125133542.GA9413@linux-4bod.home.aster.pl>
References: <4B0D0CB3.6010601@mail.udg.mx>
	<20091125133542.GA9413@linux-4bod.home.aster.pl>
Message-ID: <4B0D3545.1010701@mweb.co.za>

Przemys?aw Czerpak wrote:

> BTW I would like to start build tests on different platforms.
> I hope that we will release final 2.0 before Christmas.

Do you have any plans to introduce HB_FCREATE() etc before final version?

Regards
Alex

From druzus at acn.waw.pl  Wed Nov 25 09:11:18 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov 25 09:11:25 2009
Subject: [Harbour] Re: OS/2: Harbour 13015
In-Reply-To: <4B0D3545.1010701@mweb.co.za>
References: <4B0D0CB3.6010601@mail.udg.mx>
	<20091125133542.GA9413@linux-4bod.home.aster.pl>
	<4B0D3545.1010701@mweb.co.za>
Message-ID: <20091125141118.GA10082@linux-4bod.home.aster.pl>

On Wed, 25 Nov 2009, Alex Strickland wrote:

Hi,

> >BTW I would like to start build tests on different platforms.
> >I hope that we will release final 2.0 before Christmas.
> Do you have any plans to introduce HB_FCREATE() etc before final version?

I think it's too big modification to introduce it just before
new release and I will want to work on it without any dead lines.
I've committed everything what I planed for next stable release
and now I think it's time to give it to users and also allow 3-rd
party developers to adopt their products to modified Harbour API.

best regards,
Przemek
From sscc at mweb.co.za  Wed Nov 25 09:16:54 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Wed Nov 25 09:17:10 2009
Subject: [Harbour] Re: OS/2: Harbour 13015
In-Reply-To: <20091125141118.GA10082@linux-4bod.home.aster.pl>
References: <4B0D0CB3.6010601@mail.udg.mx>	<20091125133542.GA9413@linux-4bod.home.aster.pl>	<4B0D3545.1010701@mweb.co.za>
	<20091125141118.GA10082@linux-4bod.home.aster.pl>
Message-ID: <4B0D3C56.1040807@mweb.co.za>

Przemys?aw Czerpak wrote:

> I think it's too big modification to introduce it just before
> new release and I will want to work on it without any dead lines.
> I've committed everything what I planed for next stable release
> and now I think it's time to give it to users and also allow 3-rd
> party developers to adopt their products to modified Harbour API.

OK, thanks for the info, and thank you for some amazing work.

Regards
Alex

From dmacias at mail.udg.mx  Wed Nov 25 09:20:02 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Nov 25 09:20:22 2009
Subject: [Harbour] Re: OS/2: Harbour 13015
Message-ID: <4B0D3D12.2040103@mail.udg.mx>

Przemek:

 >Yes but it was easy to fix when the problem was reported and now we
 >have cleanly divided compiler and linker flags. For many years none of
 >us has wanted to touch this problem and clean it.

It is fine

 >BTW I would like to start build tests on different platforms.
 >I hope that we will release final 2.0 before Christmas.

It sound very well  :-)

David Macias


From tech at 2dinfo.com.br  Wed Nov 25 10:33:25 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Wed Nov 25 09:34:03 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <AC8099CA-6843-4B7D-9318-4095886285AC@syenar.hu>
References: <77377B95AE9042CB9938DC6143593711@noteleo><8E3249CD-7474-4E81-8A1F-20402A26CEDD@windtelsoft.com><0138EA939601445EB9038E3303FC30B8@noteleo><A51271E9-21AE-4B06-BE15-98F180DC4EA9@syenar.hu><FFCC0C233E96479B8131AC86FFD37B9D@noteleo>
	<AC8099CA-6843-4B7D-9318-4095886285AC@syenar.hu>
Message-ID: <0238506B3DF742BB87EFF93F053A4457@noteleo>

Hi

> I understand, but before we start implementing something
> brand new native, which BTW leads quite far away as far
> I can see it, even my simple proposed method can be used
> without too much concern, and even it can be used by 3rd
> party libs to provide such singletons, or whatever we call
> it. AFAICS it's nothing more than a variable (or function)
> accessible by all program modules with some value, in this
> case, it's a single instance class.

Yes Victor, I see your point. I insisted on a deeper aproach because I was 
hoping the discussion would reach issues like singleton inheritance, but now 
I understand it's not a convenient discussion for now.

>
> If anything, Harbour may support single instance classes
> natively to help this case, and this is probably possible
> to add without deep changes, but I'm not sure we should add
> a brand new base variable type/scope/implementation until
> we know all the benefits which this can give us over already
> existing methods.

Ok.

> Few of us have proposed solutions, it'd
> be nice if you could comment on them.
>

Oops! Sorry, I thought I was doing that!

Thank you

Regards
Leandro Damasio
 

From tech at 2dinfo.com.br  Wed Nov 25 10:33:30 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Wed Nov 25 09:34:15 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <20091124234223.GA4735@linux-4bod.home.aster.pl>
References: <77377B95AE9042CB9938DC6143593711@noteleo><8E3249CD-7474-4E81-8A1F-20402A26CEDD@windtelsoft.com><0138EA939601445EB9038E3303FC30B8@noteleo><8CBEBE5F-DCA2-4C52-8503-575EC2335A0C@windtelsoft.com><662DA5194A5A4318A9FE22C98DCA928C@noteleo>
	<20091124234223.GA4735@linux-4bod.home.aster.pl>
Message-ID: <A8AB9FC95CC64D5281BCF935C52008BF@noteleo>

Hi

> I do not see any reason for such limitation.
> The above #xcommand is universal rule you can define once in some global
> .ch file and then you can use it as many times as you want in one or many
> modules. I would only modify it a little bit adding protection against
> 1-st concurrent call in MT environment and making real class function
> static so it will not be accessible from external code.
>
>   #xcommand SINGLETON CLASS <!clsName!> ;
>             [ FROM <!fromCls1!> [,<!fromClsN!>] ] => ;
>      FUNCTION <clsName>() ;;
>         STATIC obj, once ;;
>         IF obj == NIL ;;
>            hb_threadOnce( @once, {|| obj := __S_<clsName>() } ) ;;
>         END ;;
>      RETURN obj;;
>      CLASS <clsName> [ FROM <fromCls1> ] [, <fromClsN> ] STATIC ;
>            FUNCTION __S_<clsName>
>
> It can be extended yet but I do not want to make it less readable using
> some more complicated PP rules.
> So the above #xcommand is sth what you are looking for.
> It passes all conditions you've defined so far.

You are right Przemek. I finally see how strong and appropriate this aproach 
is for harbour users today.

> Anyhow really important parts of such feature are not defined at all
> and it's not trivial to create such definition and then implement it
> keeping basic OOP rules so I would expect that users may want to adopt
> this command for his own needs.

I see. I understand Singleton is not a OOP fundamental, but a design 
pattern. The fundamentals came first - the usage patterns just come later of 
course, even if after some time, they end becoming fundamentals too.

I had hope that once singleton-like situations hapens to everyone sometime 
we could define what is not defined yet about singleton classes 
implementation and implement it to the deepest levels, like singleton 
inheritance for example.

I'll adopt your version of Teo's suggestion, because it is more economic and 
so effective as using the CLASS c structure [in class.h] to keep the 
PHB_ITEM of the singleton object instance.

Thanks for the help!

Regards,
Leandro Damasio 

From tech at 2dinfo.com.br  Wed Nov 25 10:33:35 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Wed Nov 25 09:34:22 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <4B0C7261.5080406@dbtopas.lt>
References: <77377B95AE9042CB9938DC6143593711@noteleo>	<8E3249CD-7474-4E81-8A1F-20402A26CEDD@windtelsoft.com><0138EA939601445EB9038E3303FC30B8@noteleo>	<4B0C5390.4050508@dbtopas.lt><4E00D46DA26B4803A567CFA93FA1DEDA@noteleo>
	<4B0C7261.5080406@dbtopas.lt>
Message-ID: <3708C16DB00C45BD99F1F00E240CE511@noteleo>

Hello Mindaugas

> I do not see a problems here also. In both my and Teo's sample extra class 
> is created but it i not hidden from "other users around the world" (i.e. 
> MyClass1Real() function is public and visible). It is easy to make this 
> function static and accessible only from same module public funcion (only 
> from MyClass1()).

Yes, you are right.

> This could be implemented using preprocessor and magic word SINGLETON, but 
> I do not thing it's something special to be required to implement as a 
> fundamental class feature.

OK. I finally see that although singleton classes are very useful, they are 
not OOP fundamental and therefore it's not interesting to harbour to 
implement is as a native OOP feature.

> If you'll ever look at .ppo file generated from CLASS sentence you'll be 
> surprised that this CLASS something is actually a function, and that 
> method definitions are only a calls to methods like :AddMethod() of some 
> magic class HBClass() and these :AddMethod() are actually a call to 
> __clsAddMsg(). Just see src/rtl/tclass.prg.

Yes Mindaugas, I understand that. The former solution model I could find was 
really close to Teo's aproach, but I implemented it directly in hbclass.ch 
instead of a separete header.
Later I took a deeper path and keept the pointer to the singleton instance 
in the CLASS c structure (class.h) and marked the structure with a boolean 
flag to indicate wheather a class is singleton, because I was looking 
forward to implement also a singleton inheritance mechanism, but it revealed 
as something beyond my technical reach :)

Finally I see that this deeper aproach is not better then the aproach Teo 
suggested, because there's no official definition (yet) about how should 
desing patterns interact to OOP fundamentals. Singleton inheritance, for 
example, is a complicated issue : if class A() is singleton and class B() 
inherits from A, sould class B be singleton too? Or whatif a third class C() 
also inherits from A, would the threee of them share the same singleton 
instance? Its something to be figured out...

Now I'm pretty convinced that Teo's aproach is the most appropriate.

> So, you can be sure: if Teo's preprocessor sample is not enough to make 
> you believe you have a real singleton, be sure that you do not have any 
> real class at all, even if you think so.

I believe you understand now what I wanted to mean by a real singleton 
implementation, don't you?

>You are a newbie here, so, Harbour is a little cheating on you ;)

I think you got me! ;)

Thank you all for the help!

Beat regards
Leandro Damasio


 

From dbtopas at dbtopas.lt  Wed Nov 25 09:40:13 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Nov 25 09:42:14 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <20091125103634.GA8323@linux-4bod.home.aster.pl>
References: <E1NCAlm-00065y-PR@3kljzd1.ch3.sourceforge.com>	<4B0B159E.2010405@dbtopas.lt>	<20091124014345.GA9197@linux-4bod.home.aster.pl>	<4B0BBBE3.8010102@dbtopas.lt>
	<20091125103634.GA8323@linux-4bod.home.aster.pl>
Message-ID: <4B0D41CD.1000700@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
>> using some logic dependent on GC activation or thread destruction.
> 
> See above and do not forget that memory allocated by one thread can
> be accessible by other threads so you cannot free mspaces when thread
> is destroyed. Anyhow if you want to force freeing unused mspaces which
> do not have any active memory blocks then it can be done quite easy
> by adding small function which will scan all allocated mspaces and
> free the ones which do not have any memory "in use". This function
> can be activated by GC and it can be extended to make also memory
> trimming for all existing mspaces (dlmalloc_trim()).

Yes, I found out (quickly after writing my last letter) the fact that 
calling simple mspace_destroy() is not possible. After thread exist 
memory can be used by another thread, but mspace_trim() can be used on 
exit. It was not clear for me how another thread can free allocated 
memory from different mspace, and this idea made me to take a deeper 
look into internals of dlmalloc. The FOOTERS is the answer, though it 
increases usage of memory a little. We can add INSECURE define also if 
we want to have a small speed improvement.

Since memory can be allocated from any mspace, sometimes it can be 
useful to change hbstack allocator (if two or more threads are using the 
same mspace, but some mspaces are unused - it can happen after some 
thread exits). But this optimisation is not critical, I think we have 
more issues in Harbour now instead of trying to make more complex MM.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Wed Nov 25 09:48:42 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Wed Nov 25 09:48:53 2009
Subject: [Harbour] Singleton Design Pattern in harbour objects
In-Reply-To: <0238506B3DF742BB87EFF93F053A4457@noteleo>
References: <77377B95AE9042CB9938DC6143593711@noteleo><8E3249CD-7474-4E81-8A1F-20402A26CEDD@windtelsoft.com><0138EA939601445EB9038E3303FC30B8@noteleo><A51271E9-21AE-4B06-BE15-98F180DC4EA9@syenar.hu><FFCC0C233E96479B8131AC86FFD37B9D@noteleo>
	<AC8099CA-6843-4B7D-9318-4095886285AC@syenar.hu>
	<0238506B3DF742BB87EFF93F053A4457@noteleo>
Message-ID: <B0CAF578-2160-431C-B638-525B33B4183C@syenar.hu>

>> case, it's a single instance class.
> 
> Yes Victor, I see your point. I insisted on a deeper aproach because I was hoping the discussion would reach issues like singleton inheritance, but now I understand it's not a convenient discussion for now.
> 
>> 
>> If anything, Harbour may support single instance classes
>> natively to help this case, and this is probably possible
>> to add without deep changes, but I'm not sure we should add
>> a brand new base variable type/scope/implementation until
>> we know all the benefits which this can give us over already
>> existing methods.
> 
> Ok.
> 
>> Few of us have proposed solutions, it'd
>> be nice if you could comment on them.
>> 
> 
> Oops! Sorry, I thought I was doing that!

Yes, I've seen it, but when I wrote my e-mail 
this wasn't yet the case. I'm happy for the 
healthy discussion since.

Brgds,
Viktor

From bedipritpal at hotmail.com  Wed Nov 25 10:09:48 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Nov 25 10:09:55 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13014] trunk/harbour
In-Reply-To: <609353e70911250301j51694ef7i29a8e0ad6150e8a2@mail.gmail.com>
References: <E1ND7VT-0002GK-LO@74yxhf1.ch3.sourceforge.com>
	<609353e70911250301j51694ef7i29a8e0ad6150e8a2@mail.gmail.com>
Message-ID: <26514346.post@talk.nabble.com>


Hi


Massimo Belgrano-3 wrote:
> 
> In project property you request:
> Project type,title,location,working dir,destination dir,output name,
> compile
> link launch parameter,launch program
> Missed List of file(prg,ch,c,rc,) with the possibility of add file only
> for
> editing like *.txt that contain note
> hbc
> Imo project file must be a wizard for creation of  hbp.
> so i suggest a section [hbide] in hbp to save extended information
> 
> a hbp can have
> ../hbxbp/hbxbp.hbc     // hbc template library
> -inc                            // flag hbmk
> -w3 -es2                     // harbour flag
> -ohbide                      // outpunt dir
> hbide.prg                   // list prg
> freadlin.c                  // list c
> 
> I have tried use hbide and i have modification with more file open with
> the
> exception of not capability ti see when a source is made modification
> all work fine and in exit right request each file changed to save
> Zoom work very fine and allow adapt hbide to each resolution
> Copy and past work without problem
> also Undo work fine (also using more file)
> Column /stream selection is not jet working
> Button tolower/toupper if is made on more row lost cr /line feed
> 
> in this release i have not found list of function of  project
> is possible create list of function with/without  active #definition
> #ifdef HB_COMPAT_C53
> PROCEDURE myReader53( oGet, oGetList, oMenu, aMsg )
> #else
> PROCEDURE myReader52( oGet )
> #endif
> 
> Very impressive how much is possible do with harbour hbqt,hbxbp
> 
> I can try use in real environment as editing tool  if you can add a serch
> button that is most used in my real life
> Still compliment
> 

Thank you very much for your input.
More features will be added on commit-by-commit basis.

Please keep testing. This input always reminds me what else
I am missing in features list or implemented in a buggy way.

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13014--trunk-harbour-tp26506620p26514346.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Wed Nov 25 10:20:54 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov 25 10:21:02 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <4B0D41CD.1000700@dbtopas.lt>
References: <E1NCAlm-00065y-PR@3kljzd1.ch3.sourceforge.com>
	<4B0B159E.2010405@dbtopas.lt>
	<20091124014345.GA9197@linux-4bod.home.aster.pl>
	<4B0BBBE3.8010102@dbtopas.lt>
	<20091125103634.GA8323@linux-4bod.home.aster.pl>
	<4B0D41CD.1000700@dbtopas.lt>
Message-ID: <20091125152054.GA10621@linux-4bod.home.aster.pl>

On Wed, 25 Nov 2009, Mindaugas Kavaliauskas wrote:

Hi,

[...]
> Since memory can be allocated from any mspace, sometimes it can be
> useful to change hbstack allocator (if two or more threads are using
> the same mspace, but some mspaces are unused - it can happen after
> some thread exits). But this optimisation is not critical, I think
> we have more issues in Harbour now instead of trying to make more
> complex MM.

Yes, but these are very good propositions and quite easy to implement
so maybe I'll add it soon at least partially.
For sure memory trimming when mspace becomes unused and calling general
memory cleanup function from GC can be added in few lines. Such memory
cleanup function can be activated in two different states:
1. when all threads are frozen
2. after releasing unused blocks
In the 1-st step it can balance mspace usage and in 2-nd it can call
mspace trimming.
In fact the 2-nd step is optional and everything can be done in 1-st
one. Just simply sometimes it will cause that memory freed by GC will
be released to system on 2-nd GC call what does not have to be bad idea
because it may reduce unnecessary memory allocation/deallocation between
process and OS.
I also think that it's time to enable by default HB_GC_AUTO. With new
hb_gcAllocate() function which returns locked blocks (they are unlocked
automatically when they are attached to any know Harbour item) it's safe
to activate GC in any user code. Of course if it does not try to make
some operations directly on HVM internal structures in some unsafe way
but anyone who use private HVM API is doing it for his own risk and
should adopt his code to follow HVM modifications so it's not our problem.

best regards,
Przemek
From druzus at users.sourceforge.net  Wed Nov 25 10:56:58 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Nov 25 10:57:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13018] trunk/harbour
Message-ID: <E1NDKEk-0002SA-Jr@3kljzd1.ch3.sourceforge.com>

Revision: 13018
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13018&view=rev
Author:   druzus
Date:     2009-11-25 15:56:57 +0000 (Wed, 25 Nov 2009)

Log Message:
-----------
2009-11-25 16:56 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/hvm.c
    % minor improvement

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ale.seribeli at ig.com.br  Wed Nov 25 10:57:53 2009
From: ale.seribeli at ig.com.br (Ale SB)
Date: Wed Nov 25 10:57:59 2009
Subject: [Harbour] Suspicious pointer conversion in function...
Message-ID: <26515244.post@talk.nabble.com>


I know WARNNING is not a mistake, but it bothers me a lot, after I migrated
to 2.0-beta3 Harbor began to appear in this FastReport:

Warning W8075 G:\\FiveWin\\Fast_4.8.24\\FastRepH.prg 80: Suspicious pointer
conversion in function HB_FUN_CALL_PROC_C
Warning W8075 G:\\FiveWin\\Fast_4.8.24\\FastRepH.prg 86: Suspicious pointer
conversion in function 
.
.
function is:
HB_FUNC( CALL_PROC_C )
{   
   proc_C CurProc = (proc_C)hb_parnl(1);
   CurProc(hb_parc(2));
}

HB_FUNC( CALL_PROC_IC )
{   
   proc_IC CurProc = (proc_IC)hb_parnl(1);
   CurProc(hb_parnl(2), hb_parc(3));
}

How to solve?

FastReport 4.8.24 + Harbour 2.0 beta 3 Build 13017 + Bcc55 + Fwh911

Thanks
-- 
View this message in context: http://old.nabble.com/Suspicious-pointer-conversion-in-function...-tp26515244p26515244.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Wed Nov 25 11:16:33 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Wed Nov 25 11:16:40 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13019] trunk/harbour
Message-ID: <E1NDKXh-0000Mf-V6@dn4whf1.ch3.sourceforge.com>

Revision: 13019
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13019&view=rev
Author:   vszakats
Date:     2009-11-25 16:16:29 +0000 (Wed, 25 Nov 2009)

Log Message:
-----------

2009-11-25 17:10 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/Makefile
  + contrib/hbwin/legacycv.c
  * contrib/hbwin/win_os.prg
  * contrib/hbwin/win_osc.c
  * contrib/hbwin/win_tprn.prg
    + Added new names for win version support functions:
        WIN_OSISNT()          <= OS_ISWINNT()
        WIN_OSISNT351()       <= OS_ISWINNT351()
        WIN_OSISNT4()         <= OS_ISWINNT4()
        WIN_OSIS2000ORUPPER() <= OS_ISWIN2000_OR_LATER()
        WIN_OSIS2000()        <= OS_ISWIN2000()
        WIN_OSISXP()          <= OS_ISWINXP()
        WIN_OSIS2003()        <= OS_ISWIN2003()
        WIN_OSISVISTA()       <= OS_ISWINVISTA()
        WIN_OSIS7()           <= OS_ISWIN7()
        WIN_OSIS9X()          <= OS_ISWIN9X()
        WIN_OSIS95()          <= OS_ISWIN95()
        WIN_OSIS98()          <= OS_ISWIN98()
        WIN_OSISME()          <= OS_ISWINME()
        WIN_OSISTSCLIENT()    <= OS_ISWTSCLIENT()
        WIN_OSVERSIONINFO()   <= OS_VERSIONINFO()
        WIN_OSNETREGOK()      <= OS_NETREGOK()
        WIN_OSNETVREDIROK()   <= OS_NETVREDIROK()
    ; Old names still work, and they are guarded with HB_WIN_LEGACY_LEVEL_OFF
      macro, in case someone would like to disable them.
      Please use new names, old names may disappear in the future.

  * contrib/hbwin/wce_simc.c
  * contrib/hbwin/wce_smsc.c
  * contrib/hbwin/wce_sim.prg
    + Added new names for WinCE SMS/SIM support functions:
        WCE_SIMINITIALIZE()           <= SIMINITIALIZE()
        WCE_SIMDEINITIALIZE()         <= SIMDEINITIALIZE()
        WCE_SIMPHONEBOOKSTATUS()      <= SIMPHONEBOOKSTATUS()
        WCE_SIMREADPHONEBOOKENTRY()   <= SIMREADPHONEBOOKENTRY()
        WCE_SIMWRITEPHONEBOOKENTRY()  <= SIMWRITEPHONEBOOKENTRY()
        WCE_SIMDELETEPHONEBOOKENTRY() <= SIMDELETEPHONEBOOKENTRY()
        WCE_SMSSENDMESSAGE()          <= SMSSENDMESSAGE()
    ; INCOMPATIBLE.

    ; NOTE: With these changes hbwin namespace is clean except
            for legacy definitions and .dll functions. DLL functions
            need a major overhaul anyway (plus there is Xbase++ and
            xhb compatibility concerns there), so for now it's OK.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/Makefile
    trunk/harbour/contrib/hbwin/wce_sim.prg
    trunk/harbour/contrib/hbwin/wce_simc.c
    trunk/harbour/contrib/hbwin/wce_smsc.c
    trunk/harbour/contrib/hbwin/win_os.prg
    trunk/harbour/contrib/hbwin/win_osc.c
    trunk/harbour/contrib/hbwin/win_tprn.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbwin/legacycv.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From snaiperis at users.sourceforge.net  Wed Nov 25 12:11:57 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Wed Nov 25 12:12:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13020] trunk/harbour
Message-ID: <E1NDLPJ-0003vJ-EI@3kljzd1.ch3.sourceforge.com>

Revision: 13020
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13020&view=rev
Author:   snaiperis
Date:     2009-11-25 17:11:56 +0000 (Wed, 25 Nov 2009)

Log Message:
-----------
2009-11-25 19:10 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/rddads/ads1.c
    * changed field type mapping of HB_FT_* define, ADS_* define, 
      DBCREATE()/DBSTRUCT() array type member. Now we have mapping 
      compatible to DBF files as much as possible.

    ; INCOMPATIBILITIES to old ads1.c:
      * ADS_VARCHAR is mapped to HB_FT_VARLENGTH instead of old mapping 
        to HB_FT_MEMO. HB_FT_MEMO has a fixed size in DBF (ex., 10), 
        but ADS_VARCHAR is variable length field, so, HB_FT_VARLENGTH
        much more correct
      * fieldinfo method (DBSTRUCT() at .prg level) returns one byte 
        field type if possible. The exceptions are RAW, CICHARACTER, 
        and VARBINARY fields. So, you'll get a DBF compatible type P 
        instead of IMAGE, B instead of DOUBLE, T instead of TIME, etc.
      Other field mappings are extension to existing code and should 
      not be seen as incompatibility to end used.

    ; Current field type mappings are:
        C; Character,n     HB_FT_STRING,n                      ADS_STRING
        N; Numeric,n,d     HB_FT_LONG,n,d                      ADS_NUMERIC
        D; Date,n          HB_FT_DATE,3 or 4 or 8              ADS_COMPACTDATE; ADS_DATE
        ShortDate          HB_FT_DATE,3                        ADS_COMPACTDATE
        L; Logical         HB_FT_LOGICAL,1                     ADS_LOGICAL
        M; Memo,n          HB_FT_MEMO,4 or 9 or 8              ADS_MEMO
        B; Double,,d       HB_FT_DOUBLE,8,d                    ADS_DOUBLE
        I; Integer,n       HB_FT_INTEGER, 2 or 4 or 8          ADS_SHORTINT; ADS_INTEGER; ADS_LONGLONG
        ShortInt           HB_FT_INTEGER,2                     ADS_SHORTINT
        Longlong           HB_FT_INTEGER,8                     ADS_LONGLONG
        P; Image           HB_FT_IMAGE,9 or 10                 ADS_IMAGE
        W; Binary          HB_FT_BLOB,4 or 9 or 10             ADS_BINARY
        Y; Money           HB_FT_CURRENCY,8,4                  ADS_MONEY
        Z; CurDouble,,d    HB_FT_CURDOUBLE,8,d                 ADS_CURDOUBLE
        T,4; Time          HB_FT_TIME,4                        ADS_TIME
        @; T,8; TimeStamp  HB_FT_TIMESTAMP,8                   ADS_TIMESTAMP
        +; AutoInc         HB_FT_AUTOINC,4                     ADS_AUTOINC
        ^; RowVersion      HB_FT_ROWVER,8                      ADS_ROWVERSION
        =; ModTime         HB_FT_MODTIME,8                     ADS_MODTIME
        Raw,n              HB_FT_STRING,n (+HB_FF_BINARY)      ADS_RAW
        Q; VarChar,n       HB_FT_VARLENGTH,n                   ADS_VARCHAR; ADS_VARCHAR_FOX
        VarBinary,n        HB_FT_VARLENGTH,n (+HB_FF_BINARY)   ADS_VARBINARY_FOX; ADS_RAW
        CICharacter,n      HB_FT_STRING,n                      ADS_CISTRING

    ; ADS help has many ambiguities. Here is the most important I found:
        * Both ADS_VARCHAR and ADS_VARCHAR_FOX defines exists, but 
          VarChar filed type is documented only for VFP DBFs. Does 
          commom DBF support this field type?
        * It is not clear what ADS_* define corresponds to VarBinary 
          field. Both ADS_VARBINARY_FOX and ADS_RAW does not sound 
          to be a good choice.
        * ADS documents field types CharacterNoCPTrans, MemoNoCPTrans, 
          VarCharNoCPTrans available in VFP tables, but no corresponding
          ADS_* defines exist. These type are not supported by RDDDADS.
        * Autoincrement field type in DBF is called "Autoinc", in ADT 
          "Autoicrement". Test shows that both name are acceptedt by 
          AdsCreateTable().
        * ADS_LONGLONG define exists, but LomgLong field type is not 
          documented at all. It is not clear how to pass field type to 
          AdsCreateTable(): "Integer,8" or "LongLong". Test required!
        * Can extended DBF types like ShortDate and Image be used with 
          VFP DBF files? (Some other field typess are defined twice 
          both in extended DBF and VFP DBF)
        * Documented field type ShortInteger generates 5012 ADS error on 
          AdsCreateTable(). A simple workaround used: "ShortInt" passed
          instead of documented field name.

    ! Some ANSI <-> OEM translations moved under ADS_USE_OEM_TRANSLATION
      switch (the other translations was already there)

    ; Please, test and report bugs.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/rddads/ads1.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From mbelgrano at deltain.it  Wed Nov 25 13:20:50 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Nov 25 13:21:17 2009
Subject: [Harbour] Please Join to Harbour group on facebook
Message-ID: <609353e70911251020p41371095g7cdb4da7a14df1fb@mail.gmail.com>

I invite everybody to join harbour group on?facebook

http://www.facebook.com/group.php?gid=48795263775

This is a usergroup is for people who apreciate Harbour & Clipper
Folloving harbour group anybody can be informed about harbour news


--
Massimo Belgrano
From dbtopas at dbtopas.lt  Wed Nov 25 13:37:28 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Nov 25 13:39:34 2009
Subject: [Harbour] Suspicious pointer conversion in function...
In-Reply-To: <26515244.post@talk.nabble.com>
References: <26515244.post@talk.nabble.com>
Message-ID: <4B0D7968.5060605@dbtopas.lt>

Hi,


Ale SB wrote:
> Warning W8075 G:\\FiveWin\\Fast_4.8.24\\FastRepH.prg 80: Suspicious pointer
> conversion in function HB_FUN_CALL_PROC_C
> .
> function is:
> HB_FUNC( CALL_PROC_C )
> {   
>    proc_C CurProc = (proc_C)hb_parnl(1);
>    CurProc(hb_parc(2));
> 
> How to solve?

Use pointer type for pointers instead of numeric.


Regards,
Mindaugas
From dbtopas at dbtopas.lt  Wed Nov 25 15:06:29 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Nov 25 15:08:45 2009
Subject: [Harbour] Re: OS/2: Harbour 13015
In-Reply-To: <20091125133542.GA9413@linux-4bod.home.aster.pl>
References: <4B0D0CB3.6010601@mail.udg.mx>
	<20091125133542.GA9413@linux-4bod.home.aster.pl>
Message-ID: <4B0D8E45.7060602@dbtopas.lt>

Hi,

Przemys?aw Czerpak wrote:
> BTW I would like to start build tests on different platforms.
> I hope that we will release final 2.0 before Christmas.

This is perhaps a question to Viktor. When the depreciated function 
support expires? Do we have some rules for this?

Actually I have a problem with MessageBox() (from hbwin/legacyco.c) it 
clashes with my own library, so each time I do free SVN update I should 
delete this source C file from Makefile. Legacy support is from 2009-05-13.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Wed Nov 25 15:32:04 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 25 15:32:27 2009
Subject: [Harbour] Re: OS/2: Harbour 13015
In-Reply-To: <4B0D8E45.7060602@dbtopas.lt>
References: <4B0D0CB3.6010601@mail.udg.mx>
	<20091125133542.GA9413@linux-4bod.home.aster.pl>
	<4B0D8E45.7060602@dbtopas.lt>
Message-ID: <50F9C713-2D3B-4D14-8495-F4656B5EF71F@syenar.hu>

> Przemys?aw Czerpak wrote:
>> BTW I would like to start build tests on different platforms.
>> I hope that we will release final 2.0 before Christmas.
> 
> This is perhaps a question to Viktor. When the depreciated function support expires? Do we have some rules for this?

We have rules for HB_LEGACY_LEVEL2, where we say 
they gonna be fully removed in next major version, 
which means whatever version that follows 2.0.

> Actually I have a problem with MessageBox() (from hbwin/legacyco.c) it clashes with my own library, so each time I do free SVN update I should delete this source C file from Makefile. Legacy support is from 2009-05-13.

For these legacy functions I defined no date by 
myself. Since they are .prg level functions users 
are probably more sensitive about losing them.

I'd personally either opt to drop them after 
next major version (f.e. 3.0), or, f.e. with 
hbwin lib we can move them to xhb lib, since their 
major purpose is to keep compatibility with xhb, 
because most of these functions came from there 
originally.

We can do the hbwin legacy move even now. The 
rest, f.e. hbodbc and hbmysql legacy functions 
can be guarded with HB_LEGACY_LEVEL2, since 
they are not used by that many users AFAIMC.

But, back to your actual problem, you must be 
using some other legacy functions which makes 
this file pulled in. IMO you could simply solve 
your problem by changing this legacy call to the 
new equivalent, and legacyco.c would not be linked 
at all. That's the reason I moved these legacy 
wrappers in separate files in the first place.

Brgds,
Viktor

From dbtopas at dbtopas.lt  Wed Nov 25 15:50:14 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Nov 25 15:52:14 2009
Subject: [Harbour] Re: OS/2: Harbour 13015
In-Reply-To: <50F9C713-2D3B-4D14-8495-F4656B5EF71F@syenar.hu>
References: <4B0D0CB3.6010601@mail.udg.mx>	<20091125133542.GA9413@linux-4bod.home.aster.pl>	<4B0D8E45.7060602@dbtopas.lt>
	<50F9C713-2D3B-4D14-8495-F4656B5EF71F@syenar.hu>
Message-ID: <4B0D9886.4080200@dbtopas.lt>

Hi,


Viktor Szak?ts wrote:
> But, back to your actual problem, you must be 
> using some other legacy functions which makes 
> this file pulled in. IMO you could simply solve 
> your problem by changing this legacy call to the 
> new equivalent, and legacyco.c would not be linked 
> at all. That's the reason I moved these legacy 
> wrappers in separate files in the first place.

Hmmm... I do not thing I need this file (or use any legacy function from 
it), because after I delete it from hbwin.lib I have no problem linking 
application.

And I do not remember the exact link time warning about duplicated 
MessageBox, I just have a habit to delete this file from Makefile :)

I general this is no problem about me, but I was interested in legacy 
support policy.


Regards,
Mindaugas
From ale.seribeli at ig.com.br  Wed Nov 25 15:55:07 2009
From: ale.seribeli at ig.com.br (Ale SB)
Date: Wed Nov 25 15:55:14 2009
Subject: [Harbour] Suspicious pointer conversion in function...
In-Reply-To: <4B0D7968.5060605@dbtopas.lt>
References: <26515244.post@talk.nabble.com> <4B0D7968.5060605@dbtopas.lt>
Message-ID: <26520134.post@talk.nabble.com>


Hi,

The original function is thus:

typedef void (*proc_C)(char * param);

HB_FUNC( CALL_PROC_C )
{   
   proc_C CurProc = (proc_C)hb_parnl(1);
   CurProc(hb_parc(2));
}

If I do this, just the WARNNING, but it's alright I do this, or I may have
future problems with the function?

HB_FUNC( CALL_PROC_C )
{   
   proc_C CurProc = (proc_C)hb_parnl(1);
   CurProc(hb_parnl(2));
}

thanks



Mindaugas Kavaliauskas wrote:
> 
> Hi,
> 
> 
> Ale SB wrote:
>> Warning W8075 G:\\FiveWin\\Fast_4.8.24\\FastRepH.prg 80: Suspicious
>> pointer
>> conversion in function HB_FUN_CALL_PROC_C
>> .
>> function is:
>> HB_FUNC( CALL_PROC_C )
>> {   
>>    proc_C CurProc = (proc_C)hb_parnl(1);
>>    CurProc(hb_parc(2));
>> 
>> How to solve?
> 
> Use pointer type for pointers instead of numeric.
> 
> 
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

-- 
View this message in context: http://old.nabble.com/Suspicious-pointer-conversion-in-function...-tp26515244p26520134.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Nov 25 16:06:01 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 25 16:06:10 2009
Subject: [Harbour] Re: OS/2: Harbour 13015
In-Reply-To: <4B0D9886.4080200@dbtopas.lt>
References: <4B0D0CB3.6010601@mail.udg.mx>	<20091125133542.GA9413@linux-4bod.home.aster.pl>	<4B0D8E45.7060602@dbtopas.lt>
	<50F9C713-2D3B-4D14-8495-F4656B5EF71F@syenar.hu>
	<4B0D9886.4080200@dbtopas.lt>
Message-ID: <BAC2AA59-B228-4112-86A5-69ABFC1EBE1B@syenar.hu>

> Viktor Szak?ts wrote:
>> But, back to your actual problem, you must be using some other legacy functions which makes this file pulled in. IMO you could simply solve your problem by changing this legacy call to the new equivalent, and legacyco.c would not be linked at all. That's the reason I moved these legacy wrappers in separate files in the first place.
> 
> Hmmm... I do not thing I need this file (or use any legacy function from it), because after I delete it from hbwin.lib I have no problem linking application.

It may also be a link order problem.

If this is so, you can try swapping the order of hbwin 
and your own lib, so that your own MESSAGEBOX() symbol 
gets caught first.

It may also be possible that some hbwin code itself still 
refers to some legacy function names. In this case it 
should be fixed.

> And I do not remember the exact link time warning about duplicated MessageBox, I just have a habit to delete this file from Makefile :)

If you see it, please post it.

> I general this is no problem about me, but I was interested in legacy support policy.

IMO it's important, others may have the same problem, 
and the whole point of this legacy/renaming movement 
is to avoid the problem you're just having :)

What I noticed is that old hbwin legacy functions miss 
the new guard '#if !defined( HB_WIN_LEGACY_LEVEL_OFF )'.
Please feel free to add this to legacyco and legacycd, 
this way you can simply build Harbour with:
   set HB_USER_CFLAGS=-DHB_WIN_LEGACY_LEVEL_OFF

And all these old symbols will be excluded.

Brgds,
Viktor

From dmacias at mail.udg.mx  Wed Nov 25 16:50:23 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Nov 25 16:50:36 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
Message-ID: <4B0DA69F.2010206@mail.udg.mx>

I send this message three times: send, no reject, never arrive to 
Harbour list

This is the first half

David Macias


Przemek:

And here more results ...

Harbour 13017

Below are results using:
------------------------
    hbmk2 -m -n -w -es2 -l -kmo -gc3 speedtst.prg
       speedtst.exe
    hbmk2 -m -n -w -es2 -l -kmo -gc3 -mt speedtst.prg
       speedtst.exe
       speedtst.exe --thread
       speedtst.exe --thread=2 --scale
------------------------

for:

a) gcc433, OMF type, with -DHB_FM_DL_ALLOC
b) gcc433, OMF type, without -DHB_FM_DL_ALLOC

c) gcc335, a.out type, with -DHB_FM_DL_ALLOC
d) gcc335, a.out type, without -DHB_FM_DL_ALLOC


Same hardware used with OpenWatcom, gcc433, gcc335, so comparison
between C compilers are valid in this case

David Macias


*** Start, a) gcc433, OMF type, with -DHB_FM_DL_ALLOC ***

2009.11.25 05:41:35 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) EMX GNU C 4.3.3 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.03
[ T004: x := S_C ]..............................................0.03
[ T005: x := S_N ]..............................................0.06
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.06
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.06
[ T010: x := M->P_C ]...........................................0.06
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.06
[ T013: x := F_C ]..............................................0.16
[ T014: x := F_N ]..............................................0.19
[ T015: x := F_D ]..............................................0.06
[ T016: x := o:Args ]...........................................0.16
[ T017: x := o[2] ].............................................0.06
[ T018: round( i / 1000, 2 ) ]..................................0.13
[ T019: str( i / 1000 ) ].......................................0.39
[ T020: val( s ) ]..............................................0.19
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.29
[ T022: dtos( d - i % 10000 ) ].................................0.29
[ T023: eval( { || i % 16 } ) ].................................0.26
[ T024: eval( bc := { || i % 16 } ) ]...........................0.16
[ T025: eval( { |x| x % 16 }, i ) ].............................0.23
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.16
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.26
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.23
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.23
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................2.32
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................2.77
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.29
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.52
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.23
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.23
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.26
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.26
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.26
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.23
[ T040: ascan( a, i % 16 ) ]....................................0.19
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................2.00
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.58
[ T043: x := a ]................................................0.00
[ T044: x := {} ]...............................................0.10
[ T045: f0() ]..................................................0.03
[ T046: f1( i ) ]...............................................0.10
[ T047: f2( c[1...8] ) ]........................................0.06
[ T048: f2( c[1...40000] ) ]....................................0.10
[ T049: f2( @c[1...40000] ) ]...................................0.03
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.10
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.32
[ T052: f2( a ) ]...............................................0.06
[ T053: x := f4() ].............................................1.55
[ T054: x := f5() ].............................................0.19
[ T055: x := space(16) ]........................................0.13
[ T056: f_prv( c ) ]............................................0.23
====================================================================
[ total application time: ]....................................19.00
[ total real time: ]...........................................18.94

2009.11.25 05:42:06 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT) EMX GNU C 4.3.3 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.06
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.03
[ T004: x := S_C ]..............................................0.06
[ T005: x := S_N ]..............................................0.06
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.10
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.10
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.06
[ T013: x := F_C ]..............................................0.23
[ T014: x := F_N ]..............................................0.19
[ T015: x := F_D ]..............................................0.10
[ T016: x := o:Args ]...........................................0.16
[ T017: x := o[2] ].............................................0.10
[ T018: round( i / 1000, 2 ) ]..................................0.16
[ T019: str( i / 1000 ) ].......................................0.45
[ T020: val( s ) ]..............................................0.23
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.39
[ T022: dtos( d - i % 10000 ) ].................................0.39
[ T023: eval( { || i % 16 } ) ].................................0.39
[ T024: eval( bc := { || i % 16 } ) ]...........................0.23
[ T025: eval( { |x| x % 16 }, i ) ].............................0.29
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.23
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.35
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.29
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.29
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................3.42
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................4.00
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.35
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.61
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.32
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.29
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.32
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.32
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.35
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.29
[ T040: ascan( a, i % 16 ) ]....................................0.26
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................2.71
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.87
[ T043: x := a ]................................................0.06
[ T044: x := {} ]...............................................0.13
[ T045: f0() ]..................................................0.06
[ T046: f1( i ) ]...............................................0.13
[ T047: f2( c[1...8] ) ]........................................0.10
[ T048: f2( c[1...40000] ) ]....................................0.10
[ T049: f2( @c[1...40000] ) ]...................................0.10
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.10
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.42
[ T052: f2( a ) ]...............................................0.13
[ T053: x := f4() ].............................................1.61
[ T054: x := f5() ].............................................0.26
[ T055: x := space(16) ]........................................0.23
[ T056: f_prv( c ) ]............................................0.39
====================================================================
[ total application time: ]....................................24.94
[ total real time: ]...........................................24.84

2009.11.25 05:42:31 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT)+ EMX GNU C 4.3.3 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................1.97
[ T002: x := L_N ]..............................................1.87
[ T003: x := L_D ]..............................................1.81
[ T004: x := S_C ]..............................................1.84
[ T005: x := S_N ]..............................................1.74
[ T006: x := S_D ]..............................................1.65
[ T007: x := M->M_C ]...........................................2.10
[ T008: x := M->M_N ]...........................................1.52
[ T009: x := M->M_D ]...........................................1.77
[ T010: x := M->P_C ]...........................................1.74
[ T011: x := M->P_N ]...........................................1.71
[ T012: x := M->P_D ]...........................................1.39
[ T013: x := F_C ]..............................................0.77
[ T014: x := F_N ]..............................................0.68
[ T015: x := F_D ]..............................................0.48
[ T016: x := o:Args ]...........................................2.90
[ T017: x := o[2] ].............................................1.65
[ T018: round( i / 1000, 2 ) ]..................................2.35
[ T019: str( i / 1000 ) ].......................................3.48
[ T020: val( s ) ]..............................................2.65
[ T021: val( a [ i % 16 + 1 ] ) ]...............................3.06
[ T022: dtos( d - i % 10000 ) ].................................3.06
[ T023: eval( { || i % 16 } ) ].................................0.61
[ T024: eval( bc := { || i % 16 } ) ]...........................1.35
[ T025: eval( { |x| x % 16 }, i ) ].............................1.00
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................1.29
[ T027: eval( { |x| f1( x ) }, i ) ]............................1.29
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................1.06
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................1.06
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................6.48
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................3.65
[ T032: x := valtype( x ) +  valtype( i ) ].....................1.19
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........2.03
[ T034: x := a[ i % 16 + 1 ] == s ].............................1.19
[ T035: x := a[ i % 16 + 1 ] = s ]..............................1.35
[ T036: x := a[ i % 16 + 1 ] >= s ].............................1.74
[ T037: x := a[ i % 16 + 1 ] <= s ].............................2.61
[ T038: x := a[ i % 16 + 1 ] < s ]..............................2.48
[ T039: x := a[ i % 16 + 1 ] > s ]..............................2.71
[ T040: ascan( a, i % 16 ) ]....................................1.81
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................1.48
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....5.35
[ T043: x := a ]................................................0.65
[ T044: x := {} ]...............................................1.45
[ T045: f0() ]..................................................0.81
[ T046: f1( i ) ]...............................................1.29
[ T047: f2( c[1...8] ) ]........................................1.35
[ T048: f2( c[1...40000] ) ]....................................1.58
[ T049: f2( @c[1...40000] ) ]...................................0.68
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.87
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................2.68
[ T052: f2( a ) ]...............................................0.84
[ T053: x := f4() ].............................................2.74
[ T054: x := f5() ].............................................1.65
[ T055: x := space(16) ]........................................1.45
[ T056: f_prv( c ) ]............................................2.06
====================================================================
[ total application time: ].....................................0.03
[ total real time: ]...........................................25.33

2009.11.25 05:42:57 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT)+ EMX GNU C 4.3.3 (32-bit) x86
THREADS: 2
N_LOOPS: 1000000
                                                         1 th.  2 th.
factor
============================================================================
[ T001: x := L_C ]____________________________________  0.17   0.17 ->  1.00
[ T002: x := L_N ]____________________________________  0.12   0.12 ->  1.00
[ T003: x := L_D ]____________________________________  0.12   0.14 ->  0.88
[ T004: x := S_C ]____________________________________  0.22   0.22 ->  0.99
[ T005: x := S_N ]____________________________________  0.16   0.16 ->  1.00
[ T006: x := S_D ]____________________________________  0.16   0.16 ->  1.01
[ T007: x := M->M_C ]_________________________________  0.22   0.22 ->  1.00
[ T008: x := M->M_N ]_________________________________  0.17   0.00 ->  0.00
[ T009: x := M->M_D ]_________________________________  0.52   0.16 ->  3.19
[ T010: x := M->P_C ]_________________________________  0.19   0.20 ->  0.98
[ T011: x := M->P_N ]_________________________________  0.00   0.07 ->  0.00
[ T012: x := M->P_D ]_________________________________  0.17   0.17 ->  1.02
[ T013: x := F_C ]____________________________________  0.54   0.54 ->  0.99
[ T014: x := F_N ]____________________________________  0.43   0.42 ->  1.02
[ T015: x := F_D ]____________________________________  0.24   0.24 ->  1.00
[ T016: x := o:Args ]_________________________________  0.42   0.42 ->  0.99
[ T017: x := o[2] ]___________________________________  0.31   0.31 ->  1.02
[ T018: round( i / 1000, 2 ) ]________________________  0.39   0.39 ->  0.99
[ T019: str( i / 1000 ) ]_____________________________  1.14   1.14 ->  1.00
[ T020: val( s ) ]____________________________________  0.53   0.52 ->  1.01
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  0.86   0.86 ->  1.00
[ T022: dtos( d - i % 10000 ) ]_______________________  0.82   0.82 ->  1.00
[ T023: eval( { || i % 16 } ) ]_______________________  0.87   0.89 ->  0.98
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.54   0.52 ->  1.05
[ T025: eval( { |x| x % 16 }, i ) ]___________________  0.67   0.68 ->  1.00
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.55   0.54 ->  1.01
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  0.79   0.79 ->  1.00
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.66   0.66 ->  0.99
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  0.66   0.65 ->  1.01
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________  6.87   7.06 ->  0.97
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______  7.96   8.24 ->  0.97
[ T032: x := valtype( x ) +  valtype( i ) ]___________  0.85   0.86 ->  0.99
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  1.41   1.41 ->  1.00
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.66   0.66 ->  1.00
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  0.69   0.69 ->  1.01
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  0.69   0.69 ->  1.00
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  0.72   0.71 ->  1.01
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  0.72   0.72 ->  1.00
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  0.70   0.70 ->  1.00
[ T040: ascan( a, i % 16 ) ]__________________________  0.53   0.53 ->  1.01
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________  5.33   5.34 ->  1.00
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  1.85   1.85 ->  1.00
[ T043: x := a ]______________________________________  0.17   0.17 ->  1.01
[ T044: x := {} ]_____________________________________  0.34   0.34 ->  0.98
[ T045: f0() ]________________________________________  0.19   0.19 ->  1.02
[ T046: f1( i ) ]_____________________________________  0.28   0.29 ->  0.99
[ T047: f2( c[1...8] ) ]______________________________  0.28   0.28 ->  1.01
[ T048: f2( c[1...40000] ) ]__________________________  0.28   0.28 ->  0.99
[ T049: f2( @c[1...40000] ) ]_________________________  0.22   0.22 ->  1.00
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.33   0.33 ->  0.99
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  0.86   0.86 ->  1.00
[ T052: f2( a ) ]_____________________________________  0.31   0.30 ->  1.03
[ T053: x := f4() ]___________________________________  3.30   3.29 ->  1.00
[ T054: x := f5() ]___________________________________  0.61   0.62 ->  1.00
[ T055: x := space(16) ]______________________________  0.51   0.50 ->  1.03
[ T056: f_prv( c ) ]__________________________________  0.93   0.99 ->  0.94
============================================================================
[   TOTAL   ]_________________________________________ 50.25  50.31 ->  1.00
============================================================================
[ total application time: ]....................................50.58
[ total real time: ]..........................................100.74

*** End, a) gcc433, OMF type, with -DHB_FM_DL_ALLOC ***


*** Start b) gcc433, OMF type, without -DHB_FM_DL_ALLOC ***

2009.11.25 06:38:49 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) EMX GNU C 4.3.3 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.00
====================================================================
[ T001: x := L_C ]..............................................0.06
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.06
[ T004: x := S_C ]..............................................0.10
[ T005: x := S_N ]..............................................0.06
[ T006: x := S_D ]..............................................0.10
[ T007: x := M->M_C ]...........................................0.06
[ T008: x := M->M_N ]...........................................0.06
[ T009: x := M->M_D ]...........................................0.06
[ T010: x := M->P_C ]...........................................0.06
[ T011: x := M->P_N ]...........................................0.10
[ T012: x := M->P_D ]...........................................0.06
[ T013: x := F_C ]..............................................0.35
[ T014: x := F_N ]..............................................0.19
[ T015: x := F_D ]..............................................0.10
[ T016: x := o:Args ]...........................................0.13
[ T017: x := o[2] ].............................................0.10
[ T018: round( i / 1000, 2 ) ]..................................0.19
[ T019: str( i / 1000 ) ].......................................0.55
[ T020: val( s ) ]..............................................0.19
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.35
[ T022: dtos( d - i % 10000 ) ].................................0.48
[ T023: eval( { || i % 16 } ) ].................................0.61
[ T024: eval( bc := { || i % 16 } ) ]...........................0.19
[ T025: eval( { |x| x % 16 }, i ) ].............................0.42
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.23
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.45
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.26
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.29
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................3.35
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................4.16
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.45
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.68
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.23
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.26
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.29
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.26
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.29
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.29
[ T040: ascan( a, i % 16 ) ]....................................0.19
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................2.48
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....1.03
[ T043: x := a ]................................................0.06
[ T044: x := {} ]...............................................0.26
[ T045: f0() ]..................................................0.06
[ T046: f1( i ) ]...............................................0.13
[ T047: f2( c[1...8] ) ]........................................0.10
[ T048: f2( c[1...40000] ) ]....................................0.10
[ T049: f2( @c[1...40000] ) ]...................................0.10
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.13
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.32
[ T052: f2( a ) ]...............................................0.10
[ T053: x := f4() ].............................................1.74
[ T054: x := f5() ].............................................0.35
[ T055: x := space(16) ]........................................0.35
[ T056: f_prv( c ) ]............................................0.35
====================================================================
[ total application time: ]....................................24.26
[ total real time: ]...........................................24.16

2009.11.25 06:39:27 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT) EMX GNU C 4.3.3 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.06
[ T002: x := L_N ]..............................................0.00
[ T003: x := L_D ]..............................................0.03
[ T004: x := S_C ]..............................................0.10
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.06
[ T007: x := M->M_C ]...........................................0.06
[ T008: x := M->M_N ]...........................................0.06
[ T009: x := M->M_D ]...........................................0.06
[ T010: x := M->P_C ]...........................................0.06
[ T011: x := M->P_N ]...........................................0.06
[ T012: x := M->P_D ]...........................................0.06
[ T013: x := F_C ]..............................................0.32
[ T014: x := F_N ]..............................................0.19
[ T015: x := F_D ]..............................................0.10
[ T016: x := o:Args ]...........................................0.16
[ T017: x := o[2] ].............................................0.13
[ T018: round( i / 1000, 2 ) ]..................................0.13
[ T019: str( i / 1000 ) ].......................................0.58
[ T020: val( s ) ]..............................................0.23
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.39
[ T022: dtos( d - i % 10000 ) ].................................0.45
[ T023: eval( { || i % 16 } ) ].................................0.68
[ T024: eval( bc := { || i % 16 } ) ]...........................0.23
[ T025: eval( { |x| x % 16 }, i ) ].............................0.42
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.26
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.45
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.29
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.29
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................4.10
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................4.97
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.45
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.74
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.29
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.29
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.32
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.32
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.32
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.29
[ T040: ascan( a, i % 16 ) ]....................................0.23
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................2.94
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....1.19
[ T043: x := a ]................................................0.03
[ T044: x := {} ]...............................................0.26
[ T045: f0() ]..................................................0.06
[ T046: f1( i ) ]...............................................0.10
[ T047: f2( c[1...8] ) ]........................................0.13
[ T048: f2( c[1...40000] ) ]....................................0.10
[ T049: f2( @c[1...40000] ) ]...................................0.10
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.13
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.39
[ T052: f2( a ) ]...............................................0.10
[ T053: x := f4() ].............................................1.74
[ T054: x := f5() ].............................................0.32
[ T055: x := space(16) ]........................................0.32
[ T056: f_prv( c ) ]............................................0.45
====================================================================
[ total application time: ]....................................28.52
[ total real time: ]...........................................28.40

2009.11.25 06:39:55 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT)+ EMX GNU C 4.3.3 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.06
====================================================================
[ T001: x := L_C ]..............................................1.48
[ T002: x := L_N ]..............................................1.61
[ T003: x := L_D ]..............................................1.58
[ T004: x := S_C ]..............................................1.42
[ T005: x := S_N ]..............................................1.35
[ T006: x := S_D ]..............................................0.90
[ T007: x := M->M_C ]...........................................1.29
[ T008: x := M->M_N ]...........................................1.19
[ T009: x := M->M_D ]...........................................1.06
[ T010: x := M->P_C ]...........................................1.16
[ T011: x := M->P_N ]...........................................0.97
[ T012: x := M->P_D ]...........................................0.87
[ T013: x := F_C ]..............................................0.00
[ T014: x := F_N ]..............................................0.68
[ T015: x := F_D ]..............................................0.97
[ T016: x := o:Args ]...........................................4.42
[ T017: x := o[2] ].............................................1.90
[ T018: round( i / 1000, 2 ) ]..................................4.42
[ T019: str( i / 1000 ) ].......................................4.39
[ T020: val( s ) ]..............................................4.94
[ T021: val( a [ i % 16 + 1 ] ) ]...............................5.52
[ T022: dtos( d - i % 10000 ) ].................................5.74
[ T023: eval( { || i % 16 } ) ].................................2.06
[ T024: eval( bc := { || i % 16 } ) ]...........................1.81
[ T025: eval( { |x| x % 16 }, i ) ].............................1.74
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................6.90
[ T027: eval( { |x| f1( x ) }, i ) ]............................1.55
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................4.90
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................3.29
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................7.16
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................3.55
[ T032: x := valtype( x ) +  valtype( i ) ].....................5.10
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........3.45
[ T034: x := a[ i % 16 + 1 ] == s ].............................4.87
[ T035: x := a[ i % 16 + 1 ] = s ]..............................5.10
[ T036: x := a[ i % 16 + 1 ] >= s ].............................4.90
[ T037: x := a[ i % 16 + 1 ] <= s ].............................5.00
[ T038: x := a[ i % 16 + 1 ] < s ]..............................5.06
[ T039: x := a[ i % 16 + 1 ] > s ]..............................4.45
[ T040: ascan( a, i % 16 ) ]....................................3.84
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................6.48
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....3.74
[ T043: x := a ]................................................3.77
[ T044: x := {} ]...............................................1.26
[ T045: f0() ]..................................................2.32
[ T046: f1( i ) ]...............................................3.68
[ T047: f2( c[1...8] ) ]........................................4.26
[ T048: f2( c[1...40000] ) ]....................................3.39
[ T049: f2( @c[1...40000] ) ]...................................2.32
[ T050: f2( @c[1...40000] ), c2 := c ]..........................2.39
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................4.87
[ T052: f2( a ) ]...............................................3.03
[ T053: x := f4() ].............................................2.26
[ T054: x := f5() ].............................................4.00
[ T055: x := space(16) ]........................................3.48
[ T056: f_prv( c ) ]............................................3.26
====================================================================
[ total application time: ].....................................0.06
[ total real time: ]...........................................28.93

2009.11.25 06:40:25 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT)+ EMX GNU C 4.3.3 (32-bit) x86
THREADS: 2
N_LOOPS: 1000000
                                                         1 th.  2 th.
factor
============================================================================
[ T001: x := L_C ]____________________________________  0.17   0.17 ->  1.00
[ T002: x := L_N ]____________________________________  0.12   0.12 ->  1.01
[ T003: x := L_D ]____________________________________  0.13   0.12 ->  1.03
[ T004: x := S_C ]____________________________________  0.22   0.22 ->  1.00
[ T005: x := S_N ]____________________________________  0.16   0.16 ->  1.00
[ T006: x := S_D ]____________________________________  0.16   0.16 ->  1.01
[ T007: x := M->M_C ]_________________________________  0.23   0.24 ->  0.97
[ T008: x := M->M_N ]_________________________________  0.17   0.17 ->  1.00
[ T009: x := M->M_D ]_________________________________  0.17   0.18 ->  0.91
[ T010: x := M->P_C ]_________________________________  0.20   0.20 ->  1.01
[ T011: x := M->P_N ]_________________________________  0.17   0.17 ->  1.00
[ T012: x := M->P_D ]_________________________________  0.17   0.17 ->  1.00
[ T013: x := F_C ]____________________________________  0.74   0.74 ->  1.00
[ T014: x := F_N ]____________________________________  0.42   0.42 ->  1.00
[ T015: x := F_D ]____________________________________  0.23   0.23 ->  1.00
[ T016: x := o:Args ]_________________________________  0.40   0.39 ->  1.03
[ T017: x := o[2] ]___________________________________  0.31   0.32 ->  1.00
[ T018: round( i / 1000, 2 ) ]________________________  0.38   0.40 ->  0.95
[ T019: str( i / 1000 ) ]_____________________________  1.30   1.30 ->  1.00
[ T020: val( s ) ]____________________________________  0.52   0.52 ->  1.00
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  0.85   0.85 ->  1.00
[ T022: dtos( d - i % 10000 ) ]_______________________  1.05   1.05 ->  1.00
[ T023: eval( { || i % 16 } ) ]_______________________  1.47   1.45 ->  1.01
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.52   0.52 ->  0.99
[ T025: eval( { |x| x % 16 }, i ) ]___________________  0.98   0.96 ->  1.02
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.54   0.54 ->  0.99
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  1.04   1.03 ->  1.01
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.65   0.65 ->  1.00
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  0.65   0.65 ->  1.00
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________  8.21   8.56 ->  0.96
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______  9.93  10.42 ->  0.95
[ T032: x := valtype( x ) +  valtype( i ) ]___________  1.00   1.00 ->  1.00
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  1.61   1.61 ->  1.00
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.67   0.67 ->  1.00
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  0.71   0.69 ->  1.02
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  0.71   0.71 ->  1.00
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  0.72   0.72 ->  1.00
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  0.69   0.71 ->  0.97
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  0.72   0.72 ->  1.00
[ T040: ascan( a, i % 16 ) ]__________________________  0.54   0.54 ->  1.00
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________  6.11   6.14 ->  1.00
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  2.43   2.42 ->  1.00
[ T043: x := a ]______________________________________  0.18   0.18 ->  1.02
[ T044: x := {} ]_____________________________________  0.59   0.57 ->  1.03
[ T045: f0() ]________________________________________  0.00   0.13 ->  0.00
[ T046: f1( i ) ]_____________________________________  0.27   0.27 ->  0.99
[ T047: f2( c[1...8] ) ]______________________________  0.28   0.28 ->  1.00
[ T048: f2( c[1...40000] ) ]__________________________  0.28   0.28 ->  1.00
[ T049: f2( @c[1...40000] ) ]_________________________  0.33   0.21 ->  1.56
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.35   0.35 ->  1.01
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  0.86   0.86 ->  1.00
[ T052: f2( a ) ]_____________________________________  0.29   0.29 ->  1.00
[ T053: x := f4() ]___________________________________  3.50   3.47 ->  1.01
[ T054: x := f5() ]___________________________________  0.73   0.74 ->  1.00
[ T055: x := space(16) ]______________________________  0.69   0.70 ->  0.99
[ T056: f_prv( c ) ]__________________________________  1.00   1.00 ->  1.00
============================================================================
[   TOTAL   ]_________________________________________ 57.50  58.33 ->  0.99
============================================================================
[ total application time: ]....................................58.55
[ total real time: ]..........................................115.96

*** End b) gcc433, OMF type, without -DHB_FM_DL_ALLOC ***


From dmacias at mail.udg.mx  Wed Nov 25 16:54:46 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Nov 25 16:55:03 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
Message-ID: <4B0DA7A6.8000606@mail.udg.mx>

I send this message three times: send, no reject, never arrive to 
Harbour list

Seem to be due message length


This is the SECOND half ( gcc335 results )


David Macias



Przemek:

And here more results ...

Harbour 13017

Below are results using:
------------------------
    hbmk2 -m -n -w -es2 -l -kmo -gc3 speedtst.prg
       speedtst.exe
    hbmk2 -m -n -w -es2 -l -kmo -gc3 -mt speedtst.prg
       speedtst.exe
       speedtst.exe --thread
       speedtst.exe --thread=2 --scale
------------------------

for:

a) gcc433, OMF type, with -DHB_FM_DL_ALLOC
b) gcc433, OMF type, without -DHB_FM_DL_ALLOC

c) gcc335, a.out type, with -DHB_FM_DL_ALLOC
d) gcc335, a.out type, without -DHB_FM_DL_ALLOC


Same hardware used with OpenWatcom, gcc433, gcc335, so comparison
between C compilers are valid in this case

David Macias


*** Start c) gcc335, a.out type, with -DHB_FM_DL_ALLOC ***

2009.11.25 07:25:48 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) EMX GNU C 3.3.5 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.00
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.03
[ T005: x := S_N ]..............................................0.00
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.03
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.00
[ T010: x := M->P_C ]...........................................0.03
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.03
[ T013: x := F_C ]..............................................0.13
[ T014: x := F_N ]..............................................0.10
[ T015: x := F_D ]..............................................0.06
[ T016: x := o:Args ]...........................................0.10
[ T017: x := o[2] ].............................................0.10
[ T018: round( i / 1000, 2 ) ]..................................0.13
[ T019: str( i / 1000 ) ].......................................0.55
[ T020: val( s ) ]..............................................0.13
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.26
[ T022: dtos( d - i % 10000 ) ].................................0.29
[ T023: eval( { || i % 16 } ) ].................................0.23
[ T024: eval( bc := { || i % 16 } ) ]...........................0.16
[ T025: eval( { |x| x % 16 }, i ) ].............................0.19
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.16
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.19
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.19
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.16
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................2.10
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................2.29
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.26
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.58
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.23
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.19
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.19
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.23
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.23
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.23
[ T040: ascan( a, i % 16 ) ]....................................0.26
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................1.97
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.58
[ T043: x := a ]................................................0.03
[ T044: x := {} ]...............................................0.06
[ T045: f0() ]..................................................0.03
[ T046: f1( i ) ]...............................................0.06
[ T047: f2( c[1...8] ) ]........................................0.03
[ T048: f2( c[1...40000] ) ]....................................0.06
[ T049: f2( @c[1...40000] ) ]...................................0.06
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.10
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.23
[ T052: f2( a ) ]...............................................0.06
[ T053: x := f4() ].............................................0.52
[ T054: x := f5() ].............................................0.16
[ T055: x := space(16) ]........................................0.16
[ T056: f_prv( c ) ]............................................0.23
====================================================================
[ total application time: ]....................................16.39
[ total real time: ]...........................................16.19

2009.11.25 07:26:14 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT) EMX GNU C 3.3.5 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.06
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.00
[ T007: x := M->M_C ]...........................................0.10
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.06
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.06
[ T013: x := F_C ]..............................................0.16
[ T014: x := F_N ]..............................................0.10
[ T015: x := F_D ]..............................................0.06
[ T016: x := o:Args ]...........................................0.13
[ T017: x := o[2] ].............................................0.13
[ T018: round( i / 1000, 2 ) ]..................................0.13
[ T019: str( i / 1000 ) ].......................................0.65
[ T020: val( s ) ]..............................................0.16
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.32
[ T022: dtos( d - i % 10000 ) ].................................0.32
[ T023: eval( { || i % 16 } ) ].................................0.45
[ T024: eval( bc := { || i % 16 } ) ]...........................0.19
[ T025: eval( { |x| x % 16 }, i ) ].............................0.32
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.19
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.35
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.23
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.23
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................3.06
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................3.45
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.35
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.68
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.29
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.29
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.29
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.29
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.26
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.29
[ T040: ascan( a, i % 16 ) ]....................................0.26
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................2.58
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.84
[ T043: x := a ]................................................0.03
[ T044: x := {} ]...............................................0.13
[ T045: f0() ]..................................................0.03
[ T046: f1( i ) ]...............................................0.10
[ T047: f2( c[1...8] ) ]........................................0.10
[ T048: f2( c[1...40000] ) ]....................................0.13
[ T049: f2( @c[1...40000] ) ]...................................0.06
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.13
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.39
[ T052: f2( a ) ]...............................................0.10
[ T053: x := f4() ].............................................0.58
[ T054: x := f5() ].............................................0.19
[ T055: x := space(16) ]........................................0.19
[ T056: f_prv( c ) ]............................................0.39
====================================================================
[ total application time: ]....................................22.03
[ total real time: ]...........................................21.95

2009.11.25 07:26:36 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT)+ EMX GNU C 3.3.5 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................1.10
[ T002: x := L_N ]..............................................1.03
[ T003: x := L_D ]..............................................0.39
[ T004: x := S_C ]..............................................1.26
[ T005: x := S_N ]..............................................0.68
[ T006: x := S_D ]..............................................0.35
[ T007: x := M->M_C ]...........................................2.10
[ T008: x := M->M_N ]...........................................1.19
[ T009: x := M->M_D ]...........................................0.94
[ T010: x := M->P_C ]...........................................0.84
[ T011: x := M->P_N ]...........................................2.74
[ T012: x := M->P_D ]...........................................0.77
[ T013: x := F_C ]..............................................4.19
[ T014: x := F_N ]..............................................3.61
[ T015: x := F_D ]..............................................1.32
[ T016: x := o:Args ]...........................................6.87
[ T017: x := o[2] ].............................................4.13
[ T018: round( i / 1000, 2 ) ]..................................6.48
[ T019: str( i / 1000 ) ].......................................8.71
[ T020: val( s ) ]..............................................5.19
[ T021: val( a [ i % 16 + 1 ] ) ]...............................7.32
[ T022: dtos( d - i % 10000 ) ].................................7.10
[ T023: eval( { || i % 16 } ) ].................................0.00
[ T024: eval( bc := { || i % 16 } ) ]...........................0.32
[ T025: eval( { |x| x % 16 }, i ) ].............................0.13
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.68
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.16
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.48
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.00
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................5.03
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................1.90
[ T032: x := valtype( x ) +  valtype( i ) ].....................7.81
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........9.00
[ T034: x := a[ i % 16 + 1 ] == s ].............................6.81
[ T035: x := a[ i % 16 + 1 ] = s ]..............................6.68
[ T036: x := a[ i % 16 + 1 ] >= s ].............................6.45
[ T037: x := a[ i % 16 + 1 ] <= s ].............................6.45
[ T038: x := a[ i % 16 + 1 ] < s ]..............................7.10
[ T039: x := a[ i % 16 + 1 ] > s ]..............................6.74
[ T040: ascan( a, i % 16 ) ]....................................6.39
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................1.42
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....8.48
[ T043: x := a ]................................................2.48
[ T044: x := {} ]...............................................3.68
[ T045: f0() ]..................................................2.23
[ T046: f1( i ) ]...............................................2.42
[ T047: f2( c[1...8] ) ]........................................4.13
[ T048: f2( c[1...40000] ) ]....................................3.00
[ T049: f2( @c[1...40000] ) ]...................................2.39
[ T050: f2( @c[1...40000] ), c2 := c ]..........................5.45
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................9.00
[ T052: f2( a ) ]...............................................2.55
[ T053: x := f4() ].............................................9.39
[ T054: x := f5() ].............................................5.32
[ T055: x := space(16) ]........................................4.13
[ T056: f_prv( c ) ]............................................8.23
====================================================================
[ total application time: ].....................................0.10
[ total real time: ]...........................................22.53

2009.11.25 07:26:59 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT)+ EMX GNU C 3.3.5 (32-bit) x86
THREADS: 2
N_LOOPS: 1000000
                                                         1 th.  2 th.
factor
============================================================================
[ T001: x := L_C ]____________________________________  0.14   0.14 ->  0.98
[ T002: x := L_N ]____________________________________  0.09   0.08 ->  1.02
[ T003: x := L_D ]____________________________________  0.09   0.08 ->  1.02
[ T004: x := S_C ]____________________________________  0.17   0.17 ->  1.02
[ T005: x := S_N ]____________________________________  0.10   0.10 ->  1.00
[ T006: x := S_D ]____________________________________  0.11   0.10 ->  1.01
[ T007: x := M->M_C ]_________________________________  0.21   0.21 ->  1.00
[ T008: x := M->M_N ]_________________________________  0.14   0.14 ->  0.97
[ T009: x := M->M_D ]_________________________________  0.14   0.14 ->  1.01
[ T010: x := M->P_C ]_________________________________  0.17   0.17 ->  1.01
[ T011: x := M->P_N ]_________________________________  0.14   0.14 ->  0.99
[ T012: x := M->P_D ]_________________________________  0.15   0.19 ->  0.76
[ T013: x := F_C ]____________________________________  0.43   0.43 ->  1.00
[ T014: x := F_N ]____________________________________  0.30   0.31 ->  0.99
[ T015: x := F_D ]____________________________________  0.20   0.20 ->  1.01
[ T016: x := o:Args ]_________________________________  0.37   0.38 ->  0.97
[ T017: x := o[2] ]___________________________________  0.26   0.26 ->  1.01
[ T018: round( i / 1000, 2 ) ]________________________  0.42   0.41 ->  1.00
[ T019: str( i / 1000 ) ]_____________________________  1.37   1.37 ->  1.00
[ T020: val( s ) ]____________________________________  0.43   0.43 ->  1.00
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  0.75   0.73 ->  1.02
[ T022: dtos( d - i % 10000 ) ]_______________________  0.73   0.74 ->  0.99
[ T023: eval( { || i % 16 } ) ]_______________________  0.97   0.95 ->  1.01
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.51   0.51 ->  1.00
[ T025: eval( { |x| x % 16 }, i ) ]___________________  0.64   0.64 ->  1.00
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.47   0.47 ->  1.00
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  0.71   0.71 ->  1.00
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.55   0.55 ->  1.00
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  0.56   0.56 ->  1.00
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________  6.11   6.86 ->  0.89
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______  6.79   7.15 ->  0.95
[ T032: x := valtype( x ) +  valtype( i ) ]___________  0.80   0.80 ->  1.00
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  1.49   1.50 ->  1.00
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.61   0.61 ->  1.00
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  0.63   0.63 ->  1.00
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  0.63   0.64 ->  1.00
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  0.63   0.64 ->  1.00
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  0.64   0.64 ->  1.00
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  0.64   0.64 ->  1.00
[ T040: ascan( a, i % 16 ) ]__________________________  0.61   0.69 ->  0.89
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________  5.46   5.44 ->  1.00
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  1.72   1.72 ->  1.00
[ T043: x := a ]______________________________________  0.15   0.15 ->  1.00
[ T044: x := {} ]_____________________________________  0.31   0.32 ->  0.98
[ T045: f0() ]________________________________________  0.16   0.16 ->  0.99
[ T046: f1( i ) ]_____________________________________  0.22   0.22 ->  1.00
[ T047: f2( c[1...8] ) ]______________________________  0.27   0.01 -> 22.25
[ T048: f2( c[1...40000] ) ]__________________________  0.40   0.28 ->  1.43
[ T049: f2( @c[1...40000] ) ]_________________________  0.20   0.20 ->  1.00
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.31   0.30 ->  1.04
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  0.76   0.80 ->  0.95
[ T052: f2( a ) ]_____________________________________  0.28   0.29 ->  0.97
[ T053: x := f4() ]___________________________________  1.21   2.22 ->  0.55
[ T054: x := f5() ]___________________________________  0.00   0.52 ->  0.00
[ T055: x := space(16) ]______________________________  0.40   0.00 ->  0.00
[ T056: f_prv( c ) ]__________________________________  1.07   0.84 ->  1.28
============================================================================
[   TOTAL   ]_________________________________________ 43.78  45.57 ->  0.96
============================================================================
[ total application time: ]....................................44.35
[ total real time: ]...........................................89.49

*** End c) gcc335, a.out type, with -DHB_FM_DL_ALLOC ***


*** Start d) gcc335, a.out type, without -DHB_FM_DL_ALLOC ***

2009.11.25 08:16:27 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) EMX GNU C 3.3.5 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.00
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.03
[ T004: x := S_C ]..............................................0.06
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.06
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.06
[ T010: x := M->P_C ]...........................................0.06
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.06
[ T013: x := F_C ]..............................................0.29
[ T014: x := F_N ]..............................................0.16
[ T015: x := F_D ]..............................................0.10
[ T016: x := o:Args ]...........................................0.13
[ T017: x := o[2] ].............................................0.10
[ T018: round( i / 1000, 2 ) ]..................................0.19
[ T019: str( i / 1000 ) ].......................................0.71
[ T020: val( s ) ]..............................................0.16
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.32
[ T022: dtos( d - i % 10000 ) ].................................0.48
[ T023: eval( { || i % 16 } ) ].................................0.61
[ T024: eval( bc := { || i % 16 } ) ]...........................0.19
[ T025: eval( { |x| x % 16 }, i ) ].............................0.42
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.19
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.42
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.19
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.19
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................3.26
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................3.74
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.45
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.74
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.26
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.26
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.26
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.26
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.26
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.26
[ T040: ascan( a, i % 16 ) ]....................................0.29
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................2.48
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....1.00
[ T043: x := a ]................................................0.03
[ T044: x := {} ]...............................................0.26
[ T045: f0() ]..................................................0.06
[ T046: f1( i ) ]...............................................0.06
[ T047: f2( c[1...8] ) ]........................................0.10
[ T048: f2( c[1...40000] ) ]....................................0.10
[ T049: f2( @c[1...40000] ) ]...................................0.06
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.13
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.26
[ T052: f2( a ) ]...............................................0.10
[ T053: x := f4() ].............................................0.71
[ T054: x := f5() ].............................................0.32
[ T055: x := space(16) ]........................................0.29
[ T056: f_prv( c ) ]............................................0.42
====================================================================
[ total application time: ]....................................22.16
[ total real time: ]...........................................22.16

2009.11.25 08:17:01 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT) EMX GNU C 3.3.5 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.00
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.03
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.06
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.06
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.03
[ T013: x := F_C ]..............................................0.26
[ T014: x := F_N ]..............................................0.13
[ T015: x := F_D ]..............................................0.06
[ T016: x := o:Args ]...........................................0.13
[ T017: x := o[2] ].............................................0.10
[ T018: round( i / 1000, 2 ) ]..................................0.16
[ T019: str( i / 1000 ) ].......................................0.71
[ T020: val( s ) ]..............................................0.19
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.29
[ T022: dtos( d - i % 10000 ) ].................................0.45
[ T023: eval( { || i % 16 } ) ].................................0.68
[ T024: eval( bc := { || i % 16 } ) ]...........................0.19
[ T025: eval( { |x| x % 16 }, i ) ].............................0.42
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.19
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.42
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.23
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.23
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................3.90
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................4.45
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.48
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.77
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.26
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.29
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.29
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.26
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.26
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.26
[ T040: ascan( a, i % 16 ) ]....................................0.29
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................2.90
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....1.13
[ T043: x := a ]................................................0.03
[ T044: x := {} ]...............................................0.26
[ T045: f0() ]..................................................0.06
[ T046: f1( i ) ]...............................................0.06
[ T047: f2( c[1...8] ) ]........................................0.10
[ T048: f2( c[1...40000] ) ]....................................0.10
[ T049: f2( @c[1...40000] ) ]...................................0.06
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.13
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.32
[ T052: f2( a ) ]...............................................0.10
[ T053: x := f4() ].............................................0.71
[ T054: x := f5() ].............................................0.32
[ T055: x := space(16) ]........................................0.29
[ T056: f_prv( c ) ]............................................0.52
====================================================================
[ total application time: ]....................................25.87
[ total real time: ]...........................................25.87

2009.11.25 08:17:27 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT)+ EMX GNU C 3.3.5 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.90
[ T002: x := L_N ]..............................................0.68
[ T003: x := L_D ]..............................................1.00
[ T004: x := S_C ]..............................................0.42
[ T005: x := S_N ]..............................................0.23
[ T006: x := S_D ]..............................................0.61
[ T007: x := M->M_C ]...........................................0.58
[ T008: x := M->M_N ]...........................................0.35
[ T009: x := M->M_D ]...........................................0.71
[ T010: x := M->P_C ]...........................................0.84
[ T011: x := M->P_N ]...........................................0.71
[ T012: x := M->P_D ]...........................................0.71
[ T013: x := F_C ]..............................................2.16
[ T014: x := F_N ]..............................................0.97
[ T015: x := F_D ]..............................................0.77
[ T016: x := o:Args ]...........................................0.81
[ T017: x := o[2] ].............................................0.61
[ T018: round( i / 1000, 2 ) ]..................................0.19
[ T019: str( i / 1000 ) ].......................................3.03
[ T020: val( s ) ]..............................................0.29
[ T021: val( a [ i % 16 + 1 ] ) ]...............................1.23
[ T022: dtos( d - i % 10000 ) ].................................2.74
[ T023: eval( { || i % 16 } ) ].................................1.16
[ T024: eval( bc := { || i % 16 } ) ]...........................2.68
[ T025: eval( { |x| x % 16 }, i ) ].............................0.00
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................1.74
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.42
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................1.84
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................2.10
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................5.94
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................1.87
[ T032: x := valtype( x ) +  valtype( i ) ].....................1.45
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........3.94
[ T034: x := a[ i % 16 + 1 ] == s ].............................3.52
[ T035: x := a[ i % 16 + 1 ] = s ]..............................3.58
[ T036: x := a[ i % 16 + 1 ] >= s ].............................3.61
[ T037: x := a[ i % 16 + 1 ] <= s ].............................3.26
[ T038: x := a[ i % 16 + 1 ] < s ]..............................1.90
[ T039: x := a[ i % 16 + 1 ] > s ]..............................2.68
[ T040: ascan( a, i % 16 ) ]....................................3.39
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................4.48
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....4.06
[ T043: x := a ]................................................0.00
[ T044: x := {} ]...............................................3.55
[ T045: f0() ]..................................................1.26
[ T046: f1( i ) ]...............................................2.03
[ T047: f2( c[1...8] ) ]........................................1.74
[ T048: f2( c[1...40000] ) ]....................................1.84
[ T049: f2( @c[1...40000] ) ]...................................1.68
[ T050: f2( @c[1...40000] ), c2 := c ]..........................1.65
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................2.81
[ T052: f2( a ) ]...............................................1.61
[ T053: x := f4() ].............................................2.06
[ T054: x := f5() ].............................................1.68
[ T055: x := space(16) ]........................................0.48
[ T056: f_prv( c ) ]............................................1.55
====================================================================
[ total application time: ].....................................0.13
[ total real time: ]...........................................26.31

2009.11.25 08:17:53 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT)+ EMX GNU C 3.3.5 (32-bit) x86
THREADS: 2
N_LOOPS: 1000000
                                                         1 th.  2 th.
factor
============================================================================
[ T001: x := L_C ]____________________________________  0.13   0.15 ->  0.89
[ T002: x := L_N ]____________________________________  0.09   0.08 ->  1.02
[ T003: x := L_D ]____________________________________  0.08   0.09 ->  0.98
[ T004: x := S_C ]____________________________________  0.17   0.17 ->  0.99
[ T005: x := S_N ]____________________________________  0.10   0.10 ->  1.01
[ T006: x := S_D ]____________________________________  0.11   0.10 ->  1.05
[ T007: x := M->M_C ]_________________________________  0.20   0.21 ->  0.99
[ T008: x := M->M_N ]_________________________________  0.14   0.14 ->  0.99
[ T009: x := M->M_D ]_________________________________  0.20   0.14 ->  1.47
[ T010: x := M->P_C ]_________________________________  0.17   0.17 ->  1.00
[ T011: x := M->P_N ]_________________________________  0.14   0.14 ->  1.01
[ T012: x := M->P_D ]_________________________________  0.00   0.66 ->  0.00
[ T013: x := F_C ]____________________________________  0.00   0.60 ->  0.00
[ T014: x := F_N ]____________________________________  0.32   0.00 ->  0.00
[ T015: x := F_D ]____________________________________  0.48   0.20 ->  2.39
[ T016: x := o:Args ]_________________________________  0.35   0.35 ->  0.99
[ T017: x := o[2] ]___________________________________  0.26   0.26 ->  1.00
[ T018: round( i / 1000, 2 ) ]________________________  0.00   1.09 ->  0.00
[ T019: str( i / 1000 ) ]_____________________________  1.59   1.59 ->  1.00
[ T020: val( s ) ]____________________________________  0.62   0.41 ->  1.51
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  1.04   0.01 -> 80.23
[ T022: dtos( d - i % 10000 ) ]_______________________  1.02   0.97 ->  1.05
[ T023: eval( { || i % 16 } ) ]_______________________  1.46   1.47 ->  1.00
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.48   0.48 ->  1.00
[ T025: eval( { |x| x % 16 }, i ) ]___________________  0.93   0.92 ->  1.00
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.47   0.47 ->  0.99
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  0.95   0.92 ->  1.03
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.00   0.50 ->  0.00
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  0.51   0.51 ->  1.00
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________  8.88   7.25 ->  1.22
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______  8.94   9.19 ->  0.97
[ T032: x := valtype( x ) +  valtype( i ) ]___________  0.99   0.99 ->  1.00
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  1.70   2.70 ->  0.63
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.00   0.32 ->  0.00
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  0.64   0.89 ->  0.71
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  0.64   0.63 ->  1.00
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  0.65   0.65 ->  1.00
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  0.65   0.65 ->  1.00
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  0.63   0.65 ->  0.98
[ T040: ascan( a, i % 16 ) ]__________________________  0.62   0.62 ->  0.99
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________  5.96   5.97 ->  1.00
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  2.33   2.31 ->  1.01
[ T043: x := a ]______________________________________  0.15   0.14 ->  1.01
[ T044: x := {} ]_____________________________________  0.55   0.56 ->  0.98
[ T045: f0() ]________________________________________  0.15   0.15 ->  1.00
[ T046: f1( i ) ]_____________________________________  0.21   0.21 ->  1.00
[ T047: f2( c[1...8] ) ]______________________________  0.25   0.25 ->  1.00
[ T048: f2( c[1...40000] ) ]__________________________  0.25   0.24 ->  1.01
[ T049: f2( @c[1...40000] ) ]_________________________  0.19   0.19 ->  1.01
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.28   0.28 ->  1.01
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  0.72   0.72 ->  1.01
[ T052: f2( a ) ]_____________________________________  0.26   0.26 ->  1.01
[ T053: x := f4() ]___________________________________  1.47   1.41 ->  1.04
[ T054: x := f5() ]___________________________________  0.70   0.69 ->  1.01
[ T055: x := space(16) ]______________________________  0.63   0.64 ->  0.98
[ T056: f_prv( c ) ]__________________________________  1.10   1.11 ->  0.99
============================================================================
[   TOTAL   ]_________________________________________ 51.51  52.57 ->  0.98
============================================================================
[ total application time: ]....................................52.42
[ total real time: ]..........................................104.55

*** End d) gcc335, a.out type, without -DHB_FM_DL_ALLOC ***




From dbtopas at dbtopas.lt  Wed Nov 25 17:01:14 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Nov 25 17:03:16 2009
Subject: [Harbour] Suspicious pointer conversion in function...
In-Reply-To: <26520134.post@talk.nabble.com>
References: <26515244.post@talk.nabble.com> <4B0D7968.5060605@dbtopas.lt>
	<26520134.post@talk.nabble.com>
Message-ID: <4B0DA92A.5010507@dbtopas.lt>

Hi,

Ale SB wrote:
> If I do this, just the WARNNING, but it's alright I do this, or I may have
> future problems with the function?

Yes, you'll have on Win64.

Regards,
Mindaugas
From bedipritpal at hotmail.com  Wed Nov 25 18:51:01 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Nov 25 18:51:07 2009
Subject: [Harbour] HBXBP - Class Framework Change
Message-ID: <26522373.post@talk.nabble.com>


Hello All

There are situations when a XBP Part is constructed through a 
pointer retreived directly from a call to Qt wrapper. This object 
is neither has any XBP parent or owner nor does it carry visual 
coordinates, but still we want to exploit its other elements like 
signal/slots which are already implemented in HBXBP effectively.

To avoid duplicay of efforts and keep the calls straight, 
I thought two ways to encapsulate this behavior:

oBtn := XbpPushButton():new():create( , , , , , , pQtObject )
                                                                  ^^^^^^   
additional 7th param.
oBtn := XbpPushButton():new():create(  pQtObject )
                                                       ^^^^^^^  
theOnlyAndOnlyParam

This will be flagged as an Harbour extension.

Opinions?

BTW I have been able to exploit .ui widget resources created with Qt Creator 
purely on HBXBP and HBQT levels. The above design decision has to be taken 
based on opening of this new horizon.

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/HBXBP---Class-Framework-Change-tp26522373p26522373.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Nov 25 19:05:46 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Wed Nov 25 19:05:56 2009
Subject: [Harbour] HBXBP - Class Framework Change
In-Reply-To: <26522373.post@talk.nabble.com>
References: <26522373.post@talk.nabble.com>
Message-ID: <4DD180C5-1DC7-4746-8DD7-31E1206AA52D@syenar.hu>

Hi Pritpal,

I don't know if it's possible to make (I guess 
it is), but I'd suggest to use an alternate method 
for this case, like ::createFromQT( ..., pQtObject )

By appending new parameter you first break the 
rule of keeping param list intact for xbp 
compatibility, plus you cut the way off from 
adapting to future xbp versions, where Alaska 
adds new parameters to any of these lists. If 
such thing happens, and we have no guarantee 
it won't, it will create a mess which is impossible 
to ever resolve cleanly.

Brgds,
Viktor

On 2009 Nov 26, at 00:51, Pritpal Bedi wrote:

> 
> Hello All
> 
> There are situations when a XBP Part is constructed through a 
> pointer retreived directly from a call to Qt wrapper. This object 
> is neither has any XBP parent or owner nor does it carry visual 
> coordinates, but still we want to exploit its other elements like 
> signal/slots which are already implemented in HBXBP effectively.
> 
> To avoid duplicay of efforts and keep the calls straight, 
> I thought two ways to encapsulate this behavior:
> 
> oBtn := XbpPushButton():new():create( , , , , , , pQtObject )
>                                                                  ^^^^^^   
> additional 7th param.
> oBtn := XbpPushButton():new():create(  pQtObject )
>                                                       ^^^^^^^  
> theOnlyAndOnlyParam
> 
> This will be flagged as an Harbour extension.
> 
> Opinions?
> 
> BTW I have been able to exploit .ui widget resources created with Qt Creator 
> purely on HBXBP and HBQT levels. The above design decision has to be taken 
> based on opening of this new horizon.
> 
> Regards
> Pritpal Bedi
> -- 
> View this message in context: http://old.nabble.com/HBXBP---Class-Framework-Change-tp26522373p26522373.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Wed Nov 25 19:17:20 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Nov 25 19:17:26 2009
Subject: [Harbour] HBXBP - Class Framework Change
In-Reply-To: <4DD180C5-1DC7-4746-8DD7-31E1206AA52D@syenar.hu>
References: <26522373.post@talk.nabble.com>
	<4DD180C5-1DC7-4746-8DD7-31E1206AA52D@syenar.hu>
Message-ID: <26522619.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> I don't know if it's possible to make (I guess 
> it is), but I'd suggest to use an alternate method 
> for this case, like ::createFromQT( ..., pQtObject )
> 
> By appending new parameter you first break the 
> rule of keeping param list intact for xbp 
> compatibility, plus you cut the way off from 
> adapting to future xbp versions, where Alaska 
> adds new parameters to any of these lists. If 
> such thing happens, and we have no guarantee 
> it won't, it will create a mess which is impossible 
> to ever resolve cleanly.
> 

Yep, you are right. 
::createFromQT( ..., pQtObject )
is good enough. Also this way it can be implemented
only at one place in class XbpWindow.

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/HBXBP---Class-Framework-Change-tp26522373p26522619.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From snaiperis at users.sourceforge.net  Wed Nov 25 19:26:17 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Wed Nov 25 19:26:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13021] trunk/harbour
Message-ID: <E1NDSBd-0000Pi-7j@74yxhf1.ch3.sourceforge.com>

Revision: 13021
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13021&view=rev
Author:   snaiperis
Date:     2009-11-26 00:26:16 +0000 (Thu, 26 Nov 2009)

Log Message:
-----------
2009-11-26 02:25 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/hbwin/axcore.c
  * harbour/contrib/hbwin/olecore.c
    * added OLE error code as OS code. Changed subsystem from BASE to OLE
    ; NOTE: function hb_errRT_OLE() is static and defined in both modules.
      I'm not sure about the future parameters of the function, so, 
      I do not want to make it public.

  * harbour/contrib/hbwin/legacycd.c
  * harbour/contrib/hbwin/legacyco.c
    * moved code inside #ifndef HB_WIN_LEGACY_LEVEL_OFF

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/axcore.c
    trunk/harbour/contrib/hbwin/legacycd.c
    trunk/harbour/contrib/hbwin/legacyco.c
    trunk/harbour/contrib/hbwin/olecore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bedipritpal at hotmail.com  Wed Nov 25 19:41:25 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Nov 25 19:41:32 2009
Subject: [Harbour] HBQT - QUiLoader.dll - Is supported on all platforms?
Message-ID: <26522799.post@talk.nabble.com>


Hello All

As I have devised a way to exploit 
Qt Creator designed forms in XML format having .ui extension,
it becomes mandatory to have include QUiTools.dll in the library 
list. As it is a "must have" component, I believe that all *nix
distributions must be supporting it.

Please note that we cannot live without it.

Your input is requested till I commit very important changes.
I do not want to face situation like QtWebKit.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HBQT---QUiLoader.dll---Is-supported-on-all-platforms--tp26522799p26522799.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Nov 25 19:44:14 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Nov 25 19:44:19 2009
Subject: [Harbour] HBQT - QUiLoader.dll - Is supported on all platforms?
In-Reply-To: <26522799.post@talk.nabble.com>
References: <26522799.post@talk.nabble.com>
Message-ID: <26522820.post@talk.nabble.com>


Sorry, I was a little fast


Pritpal Bedi wrote:
> 
> it becomes mandatory to have include QUiTools.dll in the library 
> 

QUiLoader =>  QtUiTools.lib and .dll

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/HBQT---QUiLoader.dll---Is-supported-on-all-platforms--tp26522799p26522820.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at users.sourceforge.net  Wed Nov 25 21:46:13 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Wed Nov 25 21:46:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13022] trunk/harbour
Message-ID: <E1NDUN3-0002Xb-DQ@74yxhf1.ch3.sourceforge.com>

Revision: 13022
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13022&view=rev
Author:   druzus
Date:     2009-11-26 02:46:11 +0000 (Thu, 26 Nov 2009)

Log Message:
-----------
2009-11-26 03:45 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapi.h
  * harbour/include/hbvm.h
  * harbour/include/hbvmpub.h
  * harbour/include/hbstack.h
  * harbour/src/vm/hvm.c
  * harbour/src/vm/estack.c
  * harbour/src/vm/fm.c
  * harbour/src/vm/garbage.c
    + added new function hb_xclean() executed by GC just before resuming
      suspended threads - it can be used by memory manager to clean
      internal structures and release unused memory to OS.
    % release unused memory to OS in hb_xclean() when DLMALLOC is used
    % release unused memory in all mspaces to OS in hb_xclean() when
      HB_FM_DLMT_ALLOC is used
    % release unused memory in mspace when last thread detach it
    % balance used mspaces between threads in hb_xclean() when
      HB_FM_DLMT_ALLOC is used

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapi.h
    trunk/harbour/include/hbstack.h
    trunk/harbour/include/hbvm.h
    trunk/harbour/include/hbvmpub.h
    trunk/harbour/src/vm/estack.c
    trunk/harbour/src/vm/fm.c
    trunk/harbour/src/vm/garbage.c
    trunk/harbour/src/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Nov 25 22:00:28 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov 25 22:00:35 2009
Subject: [Harbour] Book "Programming with Harbour"
In-Reply-To: <4B0C0DF9.1020709@cultura.com.br>
References: <4B0C0DF9.1020709@cultura.com.br>
Message-ID: <20091126030028.GA13456@linux-4bod.home.aster.pl>

On Tue, 24 Nov 2009, Ranier Vilela wrote:

Hi Ranier,

> I?d like invite you to write a book to Harbour "Programming with Harbour".
> I strong believe that your name is reference for all xbase
> developers, and your expertise
> will have large chance of success in sales.
> Clear part dedicated to xBase, I?d like suggest the chapter "C API",
> covered by topics
> about interfacing C with Harbour.
> This chapter is my greatest interest.
> I believe that book will be improve the development with Harbour.

Thank you very much for you proposition but it's rather impossible
that I will ever try to realize it. 1-st my English is too poor to
even try. 2-nd I will not find time for it. I have a lot of my own
business jobs and it's very hard for me to find enough spare time
to develop Harbour. I also have family (wonderful wife, two daughters
and son) and I would like to spend some time with them.
I'm really sorry but finding additional spare time to write books is
unrealistic idea for me now :-)

best regards,
Przemek
From vouchcac at users.sourceforge.net  Wed Nov 25 22:05:20 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Wed Nov 25 22:05:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13023] trunk/harbour
Message-ID: <E1NDUfY-0006B7-30@bj8yhf1.ch3.sourceforge.com>

Revision: 13023
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13023&view=rev
Author:   vouchcac
Date:     2009-11-26 03:05:18 +0000 (Thu, 26 Nov 2009)

Log Message:
-----------
2009-11-25 18:53 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg

  * contrib/hbqt/generator/qt45.qtp

  * contrib/hbqt/hbqt.ch
  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt.hbc
  * contrib/hbqt/hbqt_destruct.cpp
  * contrib/hbqt/hbqt_garbage.h

  * contrib/hbqt/qtcore/filelist.mk

  + contrib/hbqt/qtcore/QUiLoader.cpp
  + contrib/hbqt/qtcore/TQUiLoader.prg
  + contrib/hbqt/qth/QUiLoader.qth

  * contrib/hbxbp/xbpcombobox.prg
  * contrib/hbxbp/xbpparthandler.prg
  * contrib/hbxbp/xbppushbutton.prg
  * contrib/hbxbp/xbpwindow.prg

  * contrib/hbide/resources/finddialog.ui
    + Implemented some very basic support for "Qt Creator" designer created .ui forms.
    + Based on above implementation hbide now supports "Find" operation. It is set to 
      search "Harbour" at present and is scheduled to be perfected this week-end.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbqt/generator/qt45.qtp
    trunk/harbour/contrib/hbqt/hbqt.ch
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt.hbc
    trunk/harbour/contrib/hbqt/hbqt_destruct.cpp
    trunk/harbour/contrib/hbqt/hbqt_garbage.h
    trunk/harbour/contrib/hbqt/qtcore/filelist.mk
    trunk/harbour/contrib/hbxbp/xbpcombobox.prg
    trunk/harbour/contrib/hbxbp/xbpparthandler.prg
    trunk/harbour/contrib/hbxbp/xbppushbutton.prg
    trunk/harbour/contrib/hbxbp/xbpwindow.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/finddialog.ui
    trunk/harbour/contrib/hbqt/qtcore/QUiLoader.cpp
    trunk/harbour/contrib/hbqt/qtcore/TQUiLoader.prg
    trunk/harbour/contrib/hbqt/qth/QUiLoader.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Wed Nov 25 22:06:11 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Wed Nov 25 22:06:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <20091125152054.GA10621@linux-4bod.home.aster.pl>
References: <E1NCAlm-00065y-PR@3kljzd1.ch3.sourceforge.com>
	<4B0B159E.2010405@dbtopas.lt>
	<20091124014345.GA9197@linux-4bod.home.aster.pl>
	<4B0BBBE3.8010102@dbtopas.lt>
	<20091125103634.GA8323@linux-4bod.home.aster.pl>
	<4B0D41CD.1000700@dbtopas.lt>
	<20091125152054.GA10621@linux-4bod.home.aster.pl>
Message-ID: <20091126030611.GB13456@linux-4bod.home.aster.pl>

On Wed, 25 Nov 2009, Przemys?aw Czerpak wrote:

Hi,

> Yes, but these are very good propositions and quite easy to implement
> so maybe I'll add it soon at least partially.

I've just committed it:

2009-11-26 03:45 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapi.h
  * harbour/include/hbvm.h
  * harbour/include/hbvmpub.h
  * harbour/include/hbstack.h
  * harbour/src/vm/hvm.c
  * harbour/src/vm/estack.c
  * harbour/src/vm/fm.c
  * harbour/src/vm/garbage.c
    + added new function hb_xclean() executed by GC just before resuming
      suspended threads - it can be used by memory manager to clean
      internal structures and release unused memory to OS.
    % release unused memory to OS in hb_xclean() when DLMALLOC is used
    % release unused memory in all mspaces to OS in hb_xclean() when
      HB_FM_DLMT_ALLOC is used
    % release unused memory in mspace when last thread detach it
    % balance used mspaces between threads in hb_xclean() when
      HB_FM_DLMT_ALLOC is used

Please look at it. I think it should address most important problems.
We can extend it and detect thread activity (number of allocations in
given mspace) for better mspace balancing but it will begin to be
really more complicated. Now it's still very simple.

best regards,
Przemek
From niki at synel.co.il  Thu Nov 26 01:29:18 2009
From: niki at synel.co.il (Chen Kedem)
Date: Thu Nov 26 01:29:27 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F44@Mail-yoq.SYNEL-COMPANY.LTD>

David,

> I send this message three times: send, no reject, never arrive to Harbour list
> Seem to be due message length

The list block every post which is longer than 40KB. Such post wait for the
list moderator to manually approve it (as you can see all your messages found
their way to the list at the end).

In the future, just ZIP such long text and attached it to the message.


  Chen.
From vszakats at users.sourceforge.net  Thu Nov 26 02:32:42 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Thu Nov 26 02:32:49 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13024] trunk/harbour
Message-ID: <E1NDYqI-0002FG-Ha@bj8yhf1.ch3.sourceforge.com>

Revision: 13024
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13024&view=rev
Author:   vszakats
Date:     2009-11-26 07:32:41 +0000 (Thu, 26 Nov 2009)

Log Message:
-----------
2009-11-26 08:31 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/hbqt.hbc
  * contrib/hbqt/hbqts.hbc
    + Added QtUiTools for darwin. (tested)
    + Added QtUiTools for linux. (not tested)
    ! Added QtUiTools lib for static QT hbqts.hbc.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/hbqt.hbc
    trunk/harbour/contrib/hbqt/hbqts.hbc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Nov 26 03:04:01 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov 26 03:04:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <20091125152054.GA10621@linux-4bod.home.aster.pl>
References: <E1NCAlm-00065y-PR@3kljzd1.ch3.sourceforge.com>
	<4B0B159E.2010405@dbtopas.lt>
	<20091124014345.GA9197@linux-4bod.home.aster.pl>
	<4B0BBBE3.8010102@dbtopas.lt>
	<20091125103634.GA8323@linux-4bod.home.aster.pl>
	<4B0D41CD.1000700@dbtopas.lt>
	<20091125152054.GA10621@linux-4bod.home.aster.pl>
Message-ID: <23A1700E-8314-48CF-BA10-2DEAF9A79A77@syenar.hu>

> I also think that it's time to enable by default HB_GC_AUTO. With new

+1

Brgds,
Viktor

From francek.prijatelj at siol.net  Thu Nov 26 03:12:07 2009
From: francek.prijatelj at siol.net (=?windows-1250?Q?FRAN=C8EK_PRIJATELJ?=)
Date: Thu Nov 26 03:12:16 2009
Subject: [Harbour] Error compiling last revision
Message-ID: <4B0E3857.9080603@siol.net>

Hi

Building last revision (platform : WinXP  MSVC8),  i get following errors:


./bin/win/msvc/hbrun.exe --hb:gtcgi ./bin/postinst.prg
! Making C:\HRB\msvc_D_Tr\bin\hbmk.cfg...
.\bin\postinst.bat
! Making shared version of Harbour binaries...
hbrun.c

Unrecoverable error 6005: Exception error:

     Exception Code:C0000005
     Exception Address:0043C3F6
     EAX:00000000  EBX:00000001  ECX:00000000  EDX:00000000
     ESI:004FE3B8  EDI:00000000  EBP:00000000
     CS:EIP:001B:0043C3F6  SS:ESP:0023:0012FF2C
     DS:0023  ES:0023  FS:003B  GS:0000
     Flags:00010202
     CS:EIP: 8B 47 20 33 ED 3B 05 30 E4 4F 00 75 48 39 2D 34
     SS:ESP: 00000001 00000000 0043F0B5 00000000 00000000 00000000 
003B22A4 00000006 00456806 00000A28 00143088 7C80AA49 0012FFC0 00456C1C 
00000001 00000001

     C stack:
     EIP:     EBP:       Frame: OldEBP, RetAddr, Params...

Modules:
0x00400000 0x00103000 C:\HRB\SVN\SRC-SVN\bin\win\msvc\hbmk2.exe
0x7C900000 0x000B0000 C:\WINDOWS\system32\ntdll.dll
0x7C800000 0x000F4000 C:\WINDOWS\system32\kernel32.dll
0x77D40000 0x00090000 C:\WINDOWS\system32\USER32.dll
0x77F10000 0x00046000 C:\WINDOWS\system32\GDI32.dll
0x77B40000 0x00022000 C:\WINDOWS\system32\Apphelp.dll
0x77DD0000 0x0009B000 C:\WINDOWS\system32\ADVAPI32.DLL
0x77E70000 0x00091000 C:\WINDOWS\system32\RPCRT4.dll

hbmk2.c

Unrecoverable error 6005: Exception error:

     Exception Code:C0000005
     Exception Address:0043C3F6
     EAX:00000000  EBX:00000001  ECX:00000000  EDX:00000000
     ESI:004FE3B8  EDI:00000000  EBP:00000000
     CS:EIP:001B:0043C3F6  SS:ESP:0023:0012FF2C
     DS:0023  ES:0023  FS:003B  GS:0000
     Flags:00010202
     CS:EIP: 8B 47 20 33 ED 3B 05 30 E4 4F 00 75 48 39 2D 34
     SS:ESP: 00000001 00000000 0043F0B5 00000000 00000000 00000000 
003B22A4 00000006 00456806 00000A28 00143088 7C80AA49 0012FFC0 00456C1C 
00000001 00000001

     C stack:
     EIP:     EBP:       Frame: OldEBP, RetAddr, Params...

Modules:
0x00400000 0x00103000 C:\HRB\SVN\SRC-SVN\bin\win\msvc\hbmk2.exe
0x7C900000 0x000B0000 C:\WINDOWS\system32\ntdll.dll
0x7C800000 0x000F4000 C:\WINDOWS\system32\kernel32.dll
0x77D40000 0x00090000 C:\WINDOWS\system32\USER32.dll
0x77F10000 0x00046000 C:\WINDOWS\system32\GDI32.dll
0x77DD0000 0x0009B000 C:\WINDOWS\system32\ADVAPI32.DLL
0x77E70000 0x00091000 C:\WINDOWS\system32\RPCRT4.dll

BRGS
Fran?ek
-------------- next part --------------
A non-text attachment was scrubbed...
Name: francek_prijatelj.vcf
Type: text/x-vcard
Size: 182 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091126/bb16921e/francek_prijatelj.vcf
From marcosgambeta at uol.com.br  Thu Nov 26 04:32:56 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Thu Nov 26 04:33:07 2009
Subject: [Harbour] hbmk2, Visual C++ 2008 Express and GPF
Message-ID: <4B0E4B48.1060902@uol.com.br>

Compiling Harbour (r.13024) with Visual C++ 2008 Express, i have gpf?s 
when calling hbmk2.

------------------------------------------------------------------------
hb_out.log
------------------------------------------------------------------------
Application Internal Error - 
D:\hrbsvnmsvc\harbour-project\harbour\bin\hbmk2.exe
Terminated at: 2009.11.26 07:21:38
Unrecoverable error 6005: Exception error:

     Exception Code:C0000005
     Exception Address:0043C336
     EAX:00000000  EBX:00000001  ECX:00000000  EDX:00000000
     ESI:004FC2F8  EDI:00000000  EBP:0012FF88
     CS:EIP:001B:0043C336  SS:ESP:0023:0012FF00
     DS:0023  ES:0023  FS:003B  GS:0000
     Flags:00010202
     CS:EIP: 8B 47 20 33 ED 3B 05 70 C3 4F 00 75 48 39 2D 74
     SS:ESP: 00000001 0012FF88 0043EFC5 00000000 00000000 00000000 
001522A4 00000006 004568B6 00000000 001841B0 7FFD7000 00456CBC 00000001 
00000001 00152334

     C stack:
     EIP:     EBP:       Frame: OldEBP, RetAddr, Params...
     0043C336 0012FF88   0012FF94 7604D0E9 7FFD7000
     7604D0E9 0012FF94   0012FFD4 76E619BB 7FFD7000 7676586C 00000000 
00000000 7FFD7000 C0000005 7609FD89 7609FD89
     76E619BB 0012FFD4   0012FFEC 76E6198E 00488518 7FFD7000 00000000 
00000000


Modules:
0x00400000 0x00101000 D:\hrbsvnmsvc\harbour-project\harbour\bin\hbmk2.exe
0x76E20000 0x00127000 C:\Windows\system32\ntdll.dll
0x76000000 0x000DC000 C:\Windows\system32\kernel32.dll
0x75D40000 0x0009D000 C:\Windows\system32\USER32.dll
0x754F0000 0x0004B000 C:\Windows\system32\GDI32.dll
0x760E0000 0x000C6000 C:\Windows\system32\ADVAPI32.dll
0x761B0000 0x000C3000 C:\Windows\system32\RPCRT4.dll
0x754D0000 0x0001E000 C:\Windows\system32\IMM32.DLL
0x756D0000 0x000C8000 C:\Windows\system32\MSCTF.dll
0x76FC0000 0x000AA000 C:\Windows\system32\msvcrt.dll
0x77070000 0x00009000 C:\Windows\system32\LPK.DLL
0x75CC0000 0x0007D000 C:\Windows\system32\USP10.dll

------------------------------------------------------------------------


OS is Vista Ultimate SP2.


Regards,
Marcos Gambeta

From Istvan.Bisz at t-online.hu  Thu Nov 26 04:34:38 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Thu Nov 26 04:34:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13024] trunk/harbour
In-Reply-To: <E1NDYqI-0002FG-Ha@bj8yhf1.ch3.sourceforge.com>
References: <E1NDYqI-0002FG-Ha@bj8yhf1.ch3.sourceforge.com>
Message-ID: <000b01ca6e7b$ad2694a0$0773bde0$@Bisz@t-online.hu>

Hi Viktor,

>    + Added QtUiTools for darwin. (tested)
>    + Added QtUiTools for linux. (not tested)
>    ! Added QtUiTools lib for static QT hbqts.hbc.

I think we will not have problems with the QtUiTools integration on the native linux builds. As we know, the problem with QtWebkit appears just during the cross builds, making the hbqt lib build impossible. Now this is solved with a drastic temporary solution by cutting out the references to QtWebkit headers and functions from hbqt_slots.h and hbqt_slots.c. Probably the final solution will contain new hbqtWebKit_slots.h and hbqtWebKit_slots.c in qtwebkit subfolder.

My proposal is to help the designers in building new Qt interfaces with correct interdependencies, avoiding a monolithic structure, with updating the Qt make system.

Now we have the following sequence in the hbqt/detect.mk:
...
ifneq ($(HB_HAS_QT),)
   ifeq ($(_QT_DARWIN),yes)
      HB_CFLAGS += -I/Library/Frameworks/QtCore.framework/Headers
      HB_CFLAGS += -I/Library/Frameworks/QtGui.framework/Headers
      HB_CFLAGS += -I/Library/Frameworks/QtNetwork.framework/Headers
      HB_CFLAGS += -I/Library/Frameworks/QtWebKit.framework/Headers
   else
      HB_CFLAGS += $(foreach d,$(HB_HAS_QT),-I$(d) -I$(d)/Qt -I$(d)/QtCore -I$(d)/QtGui -I$(d)/QtNetwork -I$(d)/QtWebKit)
   endif
...

The above sequence offers undesired references. For example HB_CFLAGS should not contain -I/Library/Frameworks/QtWebKit.framework/Headers or the linux correspondent (etc.) in the hbqt, hbqtcore, hbqtgui and hbqtnetwork builds. This include-path should be used just for the hbqtwebkit library build.

Please analyze the idea mentioned above, taking into consideration that a new element will appear soon due to Pritpal developments.
A flexible solution here will make the Qt interface more clear without undesired interdependencies.

Best regards,
Istv?n


From marcos.gambeta at yahoo.com.br  Thu Nov 26 04:37:44 2009
From: marcos.gambeta at yahoo.com.br (Marcos Gambeta)
Date: Thu Nov 26 04:37:53 2009
Subject: [Harbour] hbmk2, Visual C++ 2008 Express and GPF
In-Reply-To: <4B0E4B48.1060902@uol.com.br>
References: <4B0E4B48.1060902@uol.com.br>
Message-ID: <4B0E4C68.4060609@yahoo.com.br>

Marcos Gambeta escreveu:
 > Compiling Harbour (r.13024) with Visual C++ 2008 Express, i have 
gpf?s when calling hbmk2.

Sorry, i reported the same problem reported by Francek Prijatelj.


Regards,
Marcos Gambeta



From harbour.01 at syenar.hu  Thu Nov 26 05:16:40 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov 26 05:16:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13024] trunk/harbour
In-Reply-To: <000b01ca6e7b$ad2694a0$0773bde0$@Bisz@t-online.hu>
References: <E1NDYqI-0002FG-Ha@bj8yhf1.ch3.sourceforge.com>
	<000b01ca6e7b$ad2694a0$0773bde0$@Bisz@t-online.hu>
Message-ID: <25BE9BCB-913D-41F5-8443-46F01A8766CC@syenar.hu>

Hi Istvan,

>>   + Added QtUiTools for darwin. (tested)
>>   + Added QtUiTools for linux. (not tested)
>>   ! Added QtUiTools lib for static QT hbqts.hbc.
> 
> I think we will not have problems with the QtUiTools integration on the native linux builds. As we know, the problem with QtWebkit appears just during the cross builds, making the hbqt lib build impossible. Now this is solved with a drastic temporary solution by cutting out the references to QtWebkit headers and functions from hbqt_slots.h and hbqt_slots.c. Probably the final solution will contain new hbqtWebKit_slots.h and hbqtWebKit_slots.c in qtwebkit subfolder.
> 
> My proposal is to help the designers in building new Qt interfaces with correct interdependencies, avoiding a monolithic structure, with updating the Qt make system.
> 
> Now we have the following sequence in the hbqt/detect.mk:
> ...
> ifneq ($(HB_HAS_QT),)
>   ifeq ($(_QT_DARWIN),yes)
>      HB_CFLAGS += -I/Library/Frameworks/QtCore.framework/Headers
>      HB_CFLAGS += -I/Library/Frameworks/QtGui.framework/Headers
>      HB_CFLAGS += -I/Library/Frameworks/QtNetwork.framework/Headers
>      HB_CFLAGS += -I/Library/Frameworks/QtWebKit.framework/Headers
>   else
>      HB_CFLAGS += $(foreach d,$(HB_HAS_QT),-I$(d) -I$(d)/Qt -I$(d)/QtCore -I$(d)/QtGui -I$(d)/QtNetwork -I$(d)/QtWebKit)
>   endif
> ...
> 
> The above sequence offers undesired references. For example HB_CFLAGS should not contain -I/Library/Frameworks/QtWebKit.framework/Headers or the linux correspondent (etc.) in the hbqt, hbqtcore, hbqtgui and hbqtnetwork builds. This include-path should be used just for the hbqtwebkit library build.
> 
> Please analyze the idea mentioned above, taking into consideration that a new element will appear soon due to Pritpal developments.
> A flexible solution here will make the Qt interface more clear without undesired interdependencies.

I know about this, but until the source code itself 
contains monolithic code, I don't see any point on 
spending time to solve this problem on the build level.
I would just be a waste of time at this point.

As I wrote in prev mail, IMO it'd be much better to 
avoid hbqt lib altogether and move any lib dependent 
stuff (including above flags) to qt lib level. But, 
this job needs to be solved on source level first, 
and it's enough to follow by build system afterwards.

After the source will have been changed and hbqt 
eliminated, above build level change is quite easy 
to make.

Brgds,
Viktor

From maurilio.longo at libero.it  Thu Nov 26 05:21:26 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Nov 26 05:21:34 2009
Subject: [Harbour] hbmk2 rev 13024
Message-ID: <4B0E56A6.6020609@libero.it>

Przemyslaw,

I've activated dlmalloc on OS/2 build, updated svn to rev. 13024, now, calling
 hbmk2, even without passing any parameter to it I get:

  hbmk2 [options] [<script[s]>] <src[s][.prg|.c|.obj|.o|.rc|.res|.po|.pot|.hbl|@
.clp|.d]>

Options:
  -o<outname>        output file name
  -l<libname>        link with <libname> library. <libname> should be without
                     path, extension and 'lib' prefix (unless part of libname).
  -L<libpath>        additional path to search for libraries
  -i<p>|-incpath=<p> additional path to search for headers
  -static|-shared    link with static/shared libs
  -mt|-st            link with multi/single-thread VM
  -gt<name>          link with GT<name> GT driver, can be repeated to link with
                     more GTs. First one will be the default at runtime
  -hblib             create static library
  -hbdyn             create dynamic library
  -help|--help       long help

Exception c0000005 at address 0x1d44dc9f

Killed by SIGSEGV
pid=0x6194 ppid=0x0050 tid=0x0001 slot=0x00e1 pri=0x0200 mc=0x0001
E:\HARBOUR\BIN\HBMK2.EXE
HARBOURM 0:002adc9f
cs:eip=005b:1d44dc9f      ss:esp=0053:021aff20      ebp=021aff38
 ds=0053      es=0053      fs=150b      gs=0000     efl=00010202
eax=00000000 ebx=1e5b0358 ecx=00050000 edx=045602bc edi=00000001 esi=00000000
Process dumping was disabled, use DUMPPROC / PROCDUMP to enable it.


This is inside harbourm.dll and while exiting from the program. Can it be
something related to hb_xclean() ?

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Thu Nov 26 05:22:26 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov 26 05:22:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13024] trunk/harbour
In-Reply-To: <000b01ca6e7b$ad2694a0$0773bde0$@Bisz@t-online.hu>
References: <E1NDYqI-0002FG-Ha@bj8yhf1.ch3.sourceforge.com>
	<000b01ca6e7b$ad2694a0$0773bde0$@Bisz@t-online.hu>
Message-ID: <EF83F3DB-94FD-4F8C-8733-F461B378E5A9@syenar.hu>

Hi Istvan, Pritpal,

BTW, I've just checked, and webkit references (in .mk file) 
and sources are still on SVN, although they are not used 
anymore.

IMO, these should be deleted. Can someone of you do this?

Brgds,
Viktor

On 2009 Nov 26, at 10:34, Bisz Istv?n wrote:

> Hi Viktor,
> 
>>   + Added QtUiTools for darwin. (tested)
>>   + Added QtUiTools for linux. (not tested)
>>   ! Added QtUiTools lib for static QT hbqts.hbc.
> 
> I think we will not have problems with the QtUiTools integration on the native linux builds. As we know, the problem with QtWebkit appears just during the cross builds, making the hbqt lib build impossible. Now this is solved with a drastic temporary solution by cutting out the references to QtWebkit headers and functions from hbqt_slots.h and hbqt_slots.c. Probably the final solution will contain new hbqtWebKit_slots.h and hbqtWebKit_slots.c in qtwebkit subfolder.
> 
> My proposal is to help the designers in building new Qt interfaces with correct interdependencies, avoiding a monolithic structure, with updating the Qt make system.
> 
> Now we have the following sequence in the hbqt/detect.mk:
> ...
> ifneq ($(HB_HAS_QT),)
>   ifeq ($(_QT_DARWIN),yes)
>      HB_CFLAGS += -I/Library/Frameworks/QtCore.framework/Headers
>      HB_CFLAGS += -I/Library/Frameworks/QtGui.framework/Headers
>      HB_CFLAGS += -I/Library/Frameworks/QtNetwork.framework/Headers
>      HB_CFLAGS += -I/Library/Frameworks/QtWebKit.framework/Headers
>   else
>      HB_CFLAGS += $(foreach d,$(HB_HAS_QT),-I$(d) -I$(d)/Qt -I$(d)/QtCore -I$(d)/QtGui -I$(d)/QtNetwork -I$(d)/QtWebKit)
>   endif
> ...
> 
> The above sequence offers undesired references. For example HB_CFLAGS should not contain -I/Library/Frameworks/QtWebKit.framework/Headers or the linux correspondent (etc.) in the hbqt, hbqtcore, hbqtgui and hbqtnetwork builds. This include-path should be used just for the hbqtwebkit library build.
> 
> Please analyze the idea mentioned above, taking into consideration that a new element will appear soon due to Pritpal developments.
> A flexible solution here will make the Qt interface more clear without undesired interdependencies.
> 
> Best regards,
> Istv?n
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vouchcac at users.sourceforge.net  Thu Nov 26 05:29:59 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Nov 26 05:30:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13025] trunk/harbour
Message-ID: <E1NDbbr-0003sW-AZ@c3vjzd1.ch3.sourceforge.com>

Revision: 13025
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13025&view=rev
Author:   vouchcac
Date:     2009-11-26 10:29:57 +0000 (Thu, 26 Nov 2009)

Log Message:
-----------
2009-11-26 02:27 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbqt/hbqt_slots.cpp
  * contrib/hbqt/hbqt_slots.h

  * contrib/hbqt/qtgui/QLabel.cpp
  * contrib/hbqt/qth/QLabel.qth

  + contrib/hbide/resources/tabcmodified.png
  + contrib/hbide/resources/tabmodified.PNG
  + contrib/hbide/resources/tabreadonly.png
  + contrib/hbide/resources/tabunmodified.png

  * contrib/hbide/hbide.prg
  * contrib/hbide/ideactions.prg
    + Implemented "Find" functionality. CTRL_F or <Find> icon can be clicked.
      Input some string in "Find what" field and keep on pressing <Enter>.
    + Implemented "Print with Preview" of current source code.
    ! Document Tab Image is toggled for "Modified and UnModified" states.
    ! Fixed some more artifacts.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg
    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
    trunk/harbour/contrib/hbqt/hbqt_slots.h
    trunk/harbour/contrib/hbqt/qtgui/QLabel.cpp
    trunk/harbour/contrib/hbqt/qth/QLabel.qth

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/tabcmodified.png
    trunk/harbour/contrib/hbide/resources/tabmodified.PNG
    trunk/harbour/contrib/hbide/resources/tabreadonly.png
    trunk/harbour/contrib/hbide/resources/tabunmodified.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From Istvan.Bisz at t-online.hu  Thu Nov 26 05:41:58 2009
From: Istvan.Bisz at t-online.hu (=?utf-8?Q?Bisz_Istv=C3=A1n?=)
Date: Thu Nov 26 05:42:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13024] trunk/harbour
In-Reply-To: <EF83F3DB-94FD-4F8C-8733-F461B378E5A9@syenar.hu>
References: <E1NDYqI-0002FG-Ha@bj8yhf1.ch3.sourceforge.com>	<000b01ca6e7b$ad2694a0$0773bde0$@Bisz@t-online.hu>
	<EF83F3DB-94FD-4F8C-8733-F461B378E5A9@syenar.hu>
Message-ID: <001201ca6e85$148cfbd0$3da6f370$@Bisz@t-online.hu>

Hi Viktor,

Nobody desire this, OK, I just proposed an another way to build them in the future.

Best regards,
Istv?n

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Viktor Szak?ts
Sent: 2009. november 26. 11:22
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] SF.net SVN: harbour-project:[13024] trunk/harbour

Hi Istvan, Pritpal,

BTW, I've just checked, and webkit references (in .mk file) 
and sources are still on SVN, although they are not used 
anymore.

IMO, these should be deleted. Can someone of you do this?

Brgds,
Viktor

On 2009 Nov 26, at 10:34, Bisz Istv?n wrote:

> Hi Viktor,
> 
>>   + Added QtUiTools for darwin. (tested)
>>   + Added QtUiTools for linux. (not tested)
>>   ! Added QtUiTools lib for static QT hbqts.hbc.
> 
> I think we will not have problems with the QtUiTools integration on the native linux builds. As we know, the problem with QtWebkit appears just during the cross builds, making the hbqt lib build impossible. Now this is solved with a drastic temporary solution by cutting out the references to QtWebkit headers and functions from hbqt_slots.h and hbqt_slots.c. Probably the final solution will contain new hbqtWebKit_slots.h and hbqtWebKit_slots.c in qtwebkit subfolder.
> 
> My proposal is to help the designers in building new Qt interfaces with correct interdependencies, avoiding a monolithic structure, with updating the Qt make system.
> 
> Now we have the following sequence in the hbqt/detect.mk:
> ...
> ifneq ($(HB_HAS_QT),)
>   ifeq ($(_QT_DARWIN),yes)
>      HB_CFLAGS += -I/Library/Frameworks/QtCore.framework/Headers
>      HB_CFLAGS += -I/Library/Frameworks/QtGui.framework/Headers
>      HB_CFLAGS += -I/Library/Frameworks/QtNetwork.framework/Headers
>      HB_CFLAGS += -I/Library/Frameworks/QtWebKit.framework/Headers
>   else
>      HB_CFLAGS += $(foreach d,$(HB_HAS_QT),-I$(d) -I$(d)/Qt -I$(d)/QtCore -I$(d)/QtGui -I$(d)/QtNetwork -I$(d)/QtWebKit)
>   endif
> ...
> 
> The above sequence offers undesired references. For example HB_CFLAGS should not contain -I/Library/Frameworks/QtWebKit.framework/Headers or the linux correspondent (etc.) in the hbqt, hbqtcore, hbqtgui and hbqtnetwork builds. This include-path should be used just for the hbqtwebkit library build.
> 
> Please analyze the idea mentioned above, taking into consideration that a new element will appear soon due to Pritpal developments.
> A flexible solution here will make the Qt interface more clear without undesired interdependencies.
> 
> Best regards,
> Istv?n
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Nov 26 05:47:25 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov 26 05:47:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13025] trunk/harbour
In-Reply-To: <E1NDbbr-0003sW-AZ@c3vjzd1.ch3.sourceforge.com>
References: <E1NDbbr-0003sW-AZ@c3vjzd1.ch3.sourceforge.com>
Message-ID: <0A3B6DAF-8DBC-479C-ABA6-909C7AB8099F@syenar.hu>

Hi Pritpal,

One minor report: One of the files have uppercase .PNG 
extension. This will create problems on case-sensitive 
file systems, so could you correct it to have lowercase .png?

With SVN you first have to delete it and readd it afterwards.

Brgds,
Viktor

On 2009 Nov 26, at 11:29, vouchcac@users.sourceforge.net wrote:

> Revision: 13025
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13025&view=rev
> Author:   vouchcac
> Date:     2009-11-26 10:29:57 +0000 (Thu, 26 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-26 02:27 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/hbqt/hbqt_slots.cpp
>  * contrib/hbqt/hbqt_slots.h
> 
>  * contrib/hbqt/qtgui/QLabel.cpp
>  * contrib/hbqt/qth/QLabel.qth
> 
>  + contrib/hbide/resources/tabcmodified.png
>  + contrib/hbide/resources/tabmodified.PNG
>  + contrib/hbide/resources/tabreadonly.png
>  + contrib/hbide/resources/tabunmodified.png
> 
>  * contrib/hbide/hbide.prg
>  * contrib/hbide/ideactions.prg
>    + Implemented "Find" functionality. CTRL_F or <Find> icon can be clicked.
>      Input some string in "Find what" field and keep on pressing <Enter>.
>    + Implemented "Print with Preview" of current source code.
>    ! Document Tab Image is toggled for "Modified and UnModified" states.
>    ! Fixed some more artifacts.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/hbide/hbide.prg
>    trunk/harbour/contrib/hbide/ideactions.prg
>    trunk/harbour/contrib/hbqt/hbqt_slots.cpp
>    trunk/harbour/contrib/hbqt/hbqt_slots.h
>    trunk/harbour/contrib/hbqt/qtgui/QLabel.cpp
>    trunk/harbour/contrib/hbqt/qth/QLabel.qth
> 
> Added Paths:
> -----------
>    trunk/harbour/contrib/hbide/resources/tabcmodified.png
>    trunk/harbour/contrib/hbide/resources/tabmodified.PNG
>    trunk/harbour/contrib/hbide/resources/tabreadonly.png
>    trunk/harbour/contrib/hbide/resources/tabunmodified.png
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Nov 26 05:51:21 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov 26 05:51:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13024] trunk/harbour
In-Reply-To: <001201ca6e85$148cfbd0$3da6f370$@Bisz@t-online.hu>
References: <E1NDYqI-0002FG-Ha@bj8yhf1.ch3.sourceforge.com>	<000b01ca6e7b$ad2694a0$0773bde0$@Bisz@t-online.hu>
	<EF83F3DB-94FD-4F8C-8733-F461B378E5A9@syenar.hu>
	<001201ca6e85$148cfbd0$3da6f370$@Bisz@t-online.hu>
Message-ID: <13F370B4-1CFC-4769-947D-AF7A7C181CBF@syenar.hu>

> Hi Viktor,
> 
> Nobody desire this, OK, I just proposed an another way to build them in the future.

No, I f.e. absolutely desire this, but IMO it's 
just premature to start this cleanup with the 
build system.

So far I saw no reaction whatsoever to any of my 
propositions regarding the removal of monolithic 
parts of hbqt lib, which gives me not much motivation 
to invest more time on the build-side, since it 
may well turn out to be a waste of time. That's all.

To repeat: If someone cleans hbqt from any such 
cross QT subsystem dependencies, I'll be the first 
to adapt the build system accordingly.

Brgds,
Viktor

From dmacias at mail.udg.mx  Thu Nov 26 06:07:56 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Nov 26 06:08:24 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
Message-ID: <4B0E618C.2090302@mail.udg.mx>

 >The list block every post which is longer than 40KB. Such post wait for
 > the list moderator to manually approve it (as you can see all your
 >messages found their way to the list at the end).

 >In the future, just ZIP such long text and attached it to the message.

OK, thanks Chen

Just for comment, sometimes my mail service provider or any other in the 
road block messages with .zip attached without notification, so I try to 
avoid .zip attachments

David Macias


From dmacias at mail.udg.mx  Thu Nov 26 06:14:17 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Nov 26 06:14:38 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
Message-ID: <4B0E6309.3070707@mail.udg.mx>

Przemek:

more and more results ...

Harbour 13017

Below are results using:
------------------------
    hbmk2 -m -n -w -es2 -l -kmo -gc3 speedtst.prg
       speedtst.exe
    hbmk2 -m -n -w -es2 -l -kmo -gc3 -mt speedtst.prg
       speedtst.exe
       speedtst.exe --thread
       speedtst.exe --thread=2 --scale
------------------------

for:

e) gcc335, OMF type, with -DHB_FM_DL_ALLOC
f) gcc335, OMF type, without -DHB_FM_DL_ALLOC

Same hardware used with OpenWatcom, gcc433, gcc335, so comparison
between C compilers are valid in this case

David Macias


*** Start, e) gcc335, OMF type, with -DHB_FM_DL_ALLOC ***

2009.11.26 03:26:06 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) EMX GNU C 3.3.5 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.00
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.03
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.00
[ T007: x := M->M_C ]...........................................0.03
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.03
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.03
[ T013: x := F_C ]..............................................0.10
[ T014: x := F_N ]..............................................0.13
[ T015: x := F_D ]..............................................0.06
[ T016: x := o:Args ]...........................................0.13
[ T017: x := o[2] ].............................................0.06
[ T018: round( i / 1000, 2 ) ]..................................0.13
[ T019: str( i / 1000 ) ].......................................0.55
[ T020: val( s ) ]..............................................0.16
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.29
[ T022: dtos( d - i % 10000 ) ].................................0.29
[ T023: eval( { || i % 16 } ) ].................................0.26
[ T024: eval( bc := { || i % 16 } ) ]...........................0.16
[ T025: eval( { |x| x % 16 }, i ) ].............................0.19
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.16
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.23
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.16
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.19
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................2.10
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................2.23
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.29
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.55
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.19
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.26
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.23
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.23
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.23
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.23
[ T040: ascan( a, i % 16 ) ]....................................0.26
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................1.97
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.55
[ T043: x := a ]................................................0.03
[ T044: x := {} ]...............................................0.06
[ T045: f0() ]..................................................0.03
[ T046: f1( i ) ]...............................................0.06
[ T047: f2( c[1...8] ) ]........................................0.06
[ T048: f2( c[1...40000] ) ]....................................0.06
[ T049: f2( @c[1...40000] ) ]...................................0.03
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.06
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.19
[ T052: f2( a ) ]...............................................0.06
[ T053: x := f4() ].............................................0.55
[ T054: x := f5() ].............................................0.16
[ T055: x := space(16) ]........................................0.10
[ T056: f_prv( c ) ]............................................0.26
====================================================================
[ total application time: ]....................................16.48
[ total real time: ]...........................................16.46

2009.11.26 03:26:33 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT) EMX GNU C 3.3.5 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.03
[ T004: x := S_C ]..............................................0.06
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.10
[ T008: x := M->M_N ]...........................................0.06
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.06
[ T011: x := M->P_N ]...........................................0.06
[ T012: x := M->P_D ]...........................................0.03
[ T013: x := F_C ]..............................................0.19
[ T014: x := F_N ]..............................................0.13
[ T015: x := F_D ]..............................................0.10
[ T016: x := o:Args ]...........................................0.19
[ T017: x := o[2] ].............................................0.13
[ T018: round( i / 1000, 2 ) ]..................................0.16
[ T019: str( i / 1000 ) ].......................................0.61
[ T020: val( s ) ]..............................................0.19
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.32
[ T022: dtos( d - i % 10000 ) ].................................0.39
[ T023: eval( { || i % 16 } ) ].................................0.45
[ T024: eval( bc := { || i % 16 } ) ]...........................0.23
[ T025: eval( { |x| x % 16 }, i ) ].............................0.32
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.23
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.35
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.29
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.29
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................3.10
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................3.32
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.42
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.71
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.29
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.32
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.32
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.32
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.32
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.29
[ T040: ascan( a, i % 16 ) ]....................................0.32
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................2.71
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.87
[ T043: x := a ]................................................0.03
[ T044: x := {} ]...............................................0.16
[ T045: f0() ]..................................................0.06
[ T046: f1( i ) ]...............................................0.10
[ T047: f2( c[1...8] ) ]........................................0.10
[ T048: f2( c[1...40000] ) ]....................................0.10
[ T049: f2( @c[1...40000] ) ]...................................0.10
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.13
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.45
[ T052: f2( a ) ]...............................................0.13
[ T053: x := f4() ].............................................0.58
[ T054: x := f5() ].............................................0.23
[ T055: x := space(16) ]........................................0.19
[ T056: f_prv( c ) ]............................................0.42
====================================================================
[ total application time: ]....................................23.19
[ total real time: ]...........................................23.23

2009.11.26 03:26:56 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT)+ EMX GNU C 3.3.5 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................1.19
[ T002: x := L_N ]..............................................0.65
[ T003: x := L_D ]..............................................1.06
[ T004: x := S_C ]..............................................1.42
[ T005: x := S_N ]..............................................1.68
[ T006: x := S_D ]..............................................0.58
[ T007: x := M->M_C ]...........................................1.84
[ T008: x := M->M_N ]...........................................0.97
[ T009: x := M->M_D ]...........................................1.35
[ T010: x := M->P_C ]...........................................1.55
[ T011: x := M->P_N ]...........................................1.52
[ T012: x := M->P_D ]...........................................1.48
[ T013: x := F_C ]..............................................0.00
[ T014: x := F_N ]..............................................0.29
[ T015: x := F_D ]..............................................0.23
[ T016: x := o:Args ]...........................................1.97
[ T017: x := o[2] ].............................................1.68
[ T018: round( i / 1000, 2 ) ]..................................2.35
[ T019: str( i / 1000 ) ].......................................2.87
[ T020: val( s ) ]..............................................2.06
[ T021: val( a [ i % 16 + 1 ] ) ]...............................2.39
[ T022: dtos( d - i % 10000 ) ].................................2.48
[ T023: eval( { || i % 16 } ) ].................................0.71
[ T024: eval( bc := { || i % 16 } ) ]...........................1.39
[ T025: eval( { |x| x % 16 }, i ) ].............................1.26
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................1.19
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.77
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................1.16
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................1.06
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................5.65
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................2.94
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.35
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........1.06
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.90
[ T035: x := a[ i % 16 + 1 ] = s ]..............................1.03
[ T036: x := a[ i % 16 + 1 ] >= s ].............................1.19
[ T037: x := a[ i % 16 + 1 ] <= s ].............................1.16
[ T038: x := a[ i % 16 + 1 ] < s ]..............................1.55
[ T039: x := a[ i % 16 + 1 ] > s ]..............................1.87
[ T040: ascan( a, i % 16 ) ]....................................1.84
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................1.81
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....3.81
[ T043: x := a ]................................................0.26
[ T044: x := {} ]...............................................1.06
[ T045: f0() ]..................................................0.32
[ T046: f1( i ) ]...............................................0.58
[ T047: f2( c[1...8] ) ]........................................1.29
[ T048: f2( c[1...40000] ) ]....................................0.81
[ T049: f2( @c[1...40000] ) ]...................................0.58
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.68
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................1.77
[ T052: f2( a ) ]...............................................0.81
[ T053: x := f4() ].............................................1.94
[ T054: x := f5() ].............................................0.94
[ T055: x := space(16) ]........................................0.35
[ T056: f_prv( c ) ]............................................1.19
====================================================================
[ total application time: ].....................................0.10
[ total real time: ]...........................................22.15

2009.11.26 03:27:19 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT)+ EMX GNU C 3.3.5 (32-bit) x86
THREADS: 2
N_LOOPS: 1000000
                                                         1 th.  2 th. 
factor
============================================================================
[ T001: x := L_C ]____________________________________  0.14   0.13 ->  1.02
[ T002: x := L_N ]____________________________________  0.09   0.09 ->  1.00
[ T003: x := L_D ]____________________________________  0.09   0.09 ->  1.00
[ T004: x := S_C ]____________________________________  0.17   0.17 ->  1.01
[ T005: x := S_N ]____________________________________  0.10   0.10 ->  1.01
[ T006: x := S_D ]____________________________________  0.10   0.11 ->  0.97
[ T007: x := M->M_C ]_________________________________  0.21   0.20 ->  1.01
[ T008: x := M->M_N ]_________________________________  0.14   0.14 ->  1.01
[ T009: x := M->M_D ]_________________________________  0.14   0.14 ->  0.99
[ T010: x := M->P_C ]_________________________________  0.17   0.17 ->  1.01
[ T011: x := M->P_N ]_________________________________  0.14   0.14 ->  1.01
[ T012: x := M->P_D ]_________________________________  0.14   0.14 ->  1.01
[ T013: x := F_C ]____________________________________  0.40   0.40 ->  0.99
[ T014: x := F_N ]____________________________________  0.31   0.31 ->  1.00
[ T015: x := F_D ]____________________________________  0.20   0.20 ->  1.01
[ T016: x := o:Args ]_________________________________  0.35   0.35 ->  1.00
[ T017: x := o[2] ]___________________________________  0.25   0.25 ->  1.00
[ T018: round( i / 1000, 2 ) ]________________________  0.41   0.41 ->  1.00
[ T019: str( i / 1000 ) ]_____________________________  1.36   1.36 ->  1.00
[ T020: val( s ) ]____________________________________  0.42   0.42 ->  1.00
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  0.71   0.71 ->  1.00
[ T022: dtos( d - i % 10000 ) ]_______________________  0.72   0.73 ->  1.00
[ T023: eval( { || i % 16 } ) ]_______________________  0.96   0.95 ->  1.01
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.47   0.47 ->  1.00
[ T025: eval( { |x| x % 16 }, i ) ]___________________  0.68   0.68 ->  1.00
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.45   0.45 ->  1.00
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  0.71   0.70 ->  1.01
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.51   0.51 ->  1.00
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  0.51   0.52 ->  0.99
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________  6.19   6.79 ->  0.91
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______  6.57   6.92 ->  0.95
[ T032: x := valtype( x ) +  valtype( i ) ]___________  0.79   0.79 ->  1.00
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  1.47   1.46 ->  1.00
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.59   0.59 ->  1.00
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  0.63   0.63 ->  1.00
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  0.62   0.62 ->  1.01
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  0.63   0.63 ->  1.00
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  0.63   0.62 ->  1.00
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  0.62   0.63 ->  1.00
[ T040: ascan( a, i % 16 ) ]__________________________  0.62   0.62 ->  1.00
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________  5.23   5.23 ->  1.00
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  1.69   1.70 ->  1.00
[ T043: x := a ]______________________________________  0.15   0.15 ->  1.02
[ T044: x := {} ]_____________________________________  0.31   0.31 ->  0.99
[ T045: f0() ]________________________________________  0.15   0.15 ->  1.01
[ T046: f1( i ) ]_____________________________________  0.21   0.21 ->  0.99
[ T047: f2( c[1...8] ) ]______________________________  0.25   0.26 ->  1.00
[ T048: f2( c[1...40000] ) ]__________________________  0.26   0.26 ->  1.00
[ T049: f2( @c[1...40000] ) ]_________________________  0.19   0.19 ->  0.99
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.28   0.28 ->  1.00
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  0.77   0.77 ->  1.00
[ T052: f2( a ) ]_____________________________________  0.27   0.27 ->  1.00
[ T053: x := f4() ]___________________________________  1.19   1.19 ->  1.00
[ T054: x := f5() ]___________________________________  0.48   0.49 ->  0.99
[ T055: x := space(16) ]______________________________  0.39   0.40 ->  0.97
[ T056: f_prv( c ) ]__________________________________  0.83   0.83 ->  1.00
============================================================================
[   TOTAL   ]_________________________________________ 43.02  43.99 ->  0.98
============================================================================
[ total application time: ].....................................0.06
[ total real time: ]...........................................87.19

*** End, e) gcc335, OMF type, with -DHB_FM_DL_ALLOC ***


*** Start f) gcc335, OMF type, without -DHB_FM_DL_ALLOC ***


2009.11.26 04:53:57 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) EMX GNU C 3.3.5 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.00
[ T003: x := L_D ]..............................................0.00
[ T004: x := S_C ]..............................................0.03
[ T005: x := S_N ]..............................................0.00
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.03
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.03
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.03
[ T013: x := F_C ]..............................................0.26
[ T014: x := F_N ]..............................................0.13
[ T015: x := F_D ]..............................................0.06
[ T016: x := o:Args ]...........................................0.10
[ T017: x := o[2] ].............................................0.06
[ T018: round( i / 1000, 2 ) ]..................................0.16
[ T019: str( i / 1000 ) ].......................................0.68
[ T020: val( s ) ]..............................................0.16
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.29
[ T022: dtos( d - i % 10000 ) ].................................0.45
[ T023: eval( { || i % 16 } ) ].................................0.58
[ T024: eval( bc := { || i % 16 } ) ]...........................0.13
[ T025: eval( { |x| x % 16 }, i ) ].............................0.35
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.13
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.39
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.16
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.16
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................3.16
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................3.58
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.42
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.71
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.23
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.23
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.23
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.26
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.23
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.23
[ T040: ascan( a, i % 16 ) ]....................................0.26
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................2.39
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.97
[ T043: x := a ]................................................0.03
[ T044: x := {} ]...............................................0.19
[ T045: f0() ]..................................................0.06
[ T046: f1( i ) ]...............................................0.06
[ T047: f2( c[1...8] ) ]........................................0.06
[ T048: f2( c[1...40000] ) ]....................................0.10
[ T049: f2( @c[1...40000] ) ]...................................0.06
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.06
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.23
[ T052: f2( a ) ]...............................................0.06
[ T053: x := f4() ].............................................0.68
[ T054: x := f5() ].............................................0.29
[ T055: x := space(16) ]........................................0.26
[ T056: f_prv( c ) ]............................................0.42
====================================================================
[ total application time: ]....................................22.06
[ total real time: ]...........................................22.07

2009.11.26 04:54:33 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT) EMX GNU C 3.3.5 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.00
[ T003: x := L_D ]..............................................0.03
[ T004: x := S_C ]..............................................0.06
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.06
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.06
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.06
[ T013: x := F_C ]..............................................0.26
[ T014: x := F_N ]..............................................0.13
[ T015: x := F_D ]..............................................0.10
[ T016: x := o:Args ]...........................................0.13
[ T017: x := o[2] ].............................................0.10
[ T018: round( i / 1000, 2 ) ]..................................0.16
[ T019: str( i / 1000 ) ].......................................0.71
[ T020: val( s ) ]..............................................0.16
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.32
[ T022: dtos( d - i % 10000 ) ].................................0.45
[ T023: eval( { || i % 16 } ) ].................................0.71
[ T024: eval( bc := { || i % 16 } ) ]...........................0.23
[ T025: eval( { |x| x % 16 }, i ) ].............................0.39
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.19
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.42
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.23
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.23
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................3.87
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................4.35
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.48
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.77
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.26
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.29
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.29
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.26
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.29
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.29
[ T040: ascan( a, i % 16 ) ]....................................0.26
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................2.90
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....1.13
[ T043: x := a ]................................................0.06
[ T044: x := {} ]...............................................0.26
[ T045: f0() ]..................................................0.03
[ T046: f1( i ) ]...............................................0.06
[ T047: f2( c[1...8] ) ]........................................0.10
[ T048: f2( c[1...40000] ) ]....................................0.10
[ T049: f2( @c[1...40000] ) ]...................................0.06
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.13
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.35
[ T052: f2( a ) ]...............................................0.10
[ T053: x := f4() ].............................................0.71
[ T054: x := f5() ].............................................0.32
[ T055: x := space(16) ]........................................0.29
[ T056: f_prv( c ) ]............................................0.55
====================================================================
[ total application time: ]....................................26.13
[ total real time: ]...........................................26.06

2009.11.26 04:54:59 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT)+ EMX GNU C 3.3.5 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................1.71
[ T002: x := L_N ]..............................................0.13
[ T003: x := L_D ]..............................................0.45
[ T004: x := S_C ]..............................................1.42
[ T005: x := S_N ]..............................................1.19
[ T006: x := S_D ]..............................................1.19
[ T007: x := M->M_C ]...........................................1.61
[ T008: x := M->M_N ]...........................................1.58
[ T009: x := M->M_D ]...........................................1.42
[ T010: x := M->P_C ]...........................................2.13
[ T011: x := M->P_N ]...........................................1.19
[ T012: x := M->P_D ]...........................................1.00
[ T013: x := F_C ]..............................................0.00
[ T014: x := F_N ]..............................................0.26
[ T015: x := F_D ]..............................................0.16
[ T016: x := o:Args ]...........................................2.71
[ T017: x := o[2] ].............................................1.52
[ T018: round( i / 1000, 2 ) ]..................................3.06
[ T019: str( i / 1000 ) ].......................................4.45
[ T020: val( s ) ]..............................................3.58
[ T021: val( a [ i % 16 + 1 ] ) ]...............................3.10
[ T022: dtos( d - i % 10000 ) ].................................3.26
[ T023: eval( { || i % 16 } ) ].................................1.97
[ T024: eval( bc := { || i % 16 } ) ]...........................3.87
[ T025: eval( { |x| x % 16 }, i ) ].............................2.26
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................3.29
[ T027: eval( { |x| f1( x ) }, i ) ]............................1.81
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................2.77
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................3.00
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................6.13
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................3.13
[ T032: x := valtype( x ) +  valtype( i ) ].....................2.06
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........2.45
[ T034: x := a[ i % 16 + 1 ] == s ].............................1.94
[ T035: x := a[ i % 16 + 1 ] = s ]..............................2.58
[ T036: x := a[ i % 16 + 1 ] >= s ].............................2.26
[ T037: x := a[ i % 16 + 1 ] <= s ].............................1.26
[ T038: x := a[ i % 16 + 1 ] < s ]..............................4.03
[ T039: x := a[ i % 16 + 1 ] > s ]..............................1.45
[ T040: ascan( a, i % 16 ) ]....................................1.16
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................5.19
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....2.68
[ T043: x := a ]................................................1.26
[ T044: x := {} ]...............................................1.97
[ T045: f0() ]..................................................2.58
[ T046: f1( i ) ]...............................................2.32
[ T047: f2( c[1...8] ) ]........................................1.74
[ T048: f2( c[1...40000] ) ]....................................1.16
[ T049: f2( @c[1...40000] ) ]...................................0.81
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.39
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................4.55
[ T052: f2( a ) ]...............................................2.48
[ T053: x := f4() ].............................................4.23
[ T054: x := f5() ].............................................1.97
[ T055: x := space(16) ]........................................2.16
[ T056: f_prv( c ) ]............................................2.94
====================================================================
[ total application time: ].....................................0.26
[ total real time: ]...........................................26.25

2009.11.26 04:55:26 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT)+ EMX GNU C 3.3.5 (32-bit) x86
THREADS: 2
N_LOOPS: 1000000
                                                         1 th.  2 th. 
factor
============================================================================
[ T001: x := L_C ]____________________________________  0.15   0.13 ->  1.10
[ T002: x := L_N ]____________________________________  0.08   0.08 ->  0.98
[ T003: x := L_D ]____________________________________  0.08   0.08 ->  1.02
[ T004: x := S_C ]____________________________________  0.18   0.17 ->  1.10
[ T005: x := S_N ]____________________________________  0.10   0.10 ->  1.01
[ T006: x := S_D ]____________________________________  0.10   0.10 ->  0.99
[ T007: x := M->M_C ]_________________________________  0.20   0.20 ->  1.00
[ T008: x := M->M_N ]_________________________________  0.13   0.13 ->  0.99
[ T009: x := M->M_D ]_________________________________  0.14   0.14 ->  0.99
[ T010: x := M->P_C ]_________________________________  0.17   0.17 ->  1.01
[ T011: x := M->P_N ]_________________________________  0.14   0.14 ->  0.99
[ T012: x := M->P_D ]_________________________________  0.14   0.14 ->  1.00
[ T013: x := F_C ]____________________________________  0.60   0.60 ->  0.99
[ T014: x := F_N ]____________________________________  0.30   0.30 ->  1.01
[ T015: x := F_D ]____________________________________  0.20   0.19 ->  1.02
[ T016: x := o:Args ]_________________________________  0.35   0.35 ->  1.01
[ T017: x := o[2] ]___________________________________  0.26   0.26 ->  1.00
[ T018: round( i / 1000, 2 ) ]________________________  0.43   0.43 ->  1.00
[ T019: str( i / 1000 ) ]_____________________________  1.53   1.53 ->  1.00
[ T020: val( s ) ]____________________________________  0.41   0.41 ->  1.00
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  0.71   0.71 ->  1.00
[ T022: dtos( d - i % 10000 ) ]_______________________  0.98   0.98 ->  1.00
[ T023: eval( { || i % 16 } ) ]_______________________  1.45   1.47 ->  0.98
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.50   0.49 ->  1.01
[ T025: eval( { |x| x % 16 }, i ) ]___________________  0.95   0.95 ->  1.00
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.47   0.47 ->  1.00
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  0.89   0.91 ->  0.97
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.51   0.51 ->  1.00
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  0.52   0.52 ->  1.01
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________  7.77   8.28 ->  0.94
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______  8.62   8.95 ->  0.96
[ T032: x := valtype( x ) +  valtype( i ) ]___________  0.98   0.98 ->  1.00
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  1.70   1.69 ->  1.00
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.62   0.62 ->  1.00
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  0.64   0.64 ->  1.00
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  0.64   0.64 ->  1.00
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  0.64   0.64 ->  1.00
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  0.64   0.64 ->  1.00
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  0.64   0.64 ->  1.00
[ T040: ascan( a, i % 16 ) ]__________________________  0.61   0.62 ->  1.00
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________  5.74   5.76 ->  1.00
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  2.33   2.32 ->  1.01
[ T043: x := a ]______________________________________  0.14   0.15 ->  0.97
[ T044: x := {} ]_____________________________________  0.57   0.56 ->  1.01
[ T045: f0() ]________________________________________  0.15   0.15 ->  1.01
[ T046: f1( i ) ]_____________________________________  0.21   0.21 ->  1.00
[ T047: f2( c[1...8] ) ]______________________________  0.24   0.24 ->  1.00
[ T048: f2( c[1...40000] ) ]__________________________  0.25   0.24 ->  1.01
[ T049: f2( @c[1...40000] ) ]_________________________  0.19   0.19 ->  0.98
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.28   0.28 ->  1.01
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  0.72   0.72 ->  1.00
[ T052: f2( a ) ]_____________________________________  0.25   0.25 ->  1.00
[ T053: x := f4() ]___________________________________  1.44   1.42 ->  1.01
[ T054: x := f5() ]___________________________________  0.70   0.71 ->  1.00
[ T055: x := space(16) ]______________________________  0.65   0.63 ->  1.04
[ T056: f_prv( c ) ]__________________________________  1.09   1.09 ->  1.00
============================================================================
[   TOTAL   ]_________________________________________ 51.13  51.93 ->  0.98
============================================================================
[ total application time: ]....................................52.06
[ total real time: ]..........................................103.38

*** End f) gcc335, OMF type, without -DHB_FM_DL_ALLOC ***



From fperillo at gmail.com  Thu Nov 26 06:15:36 2009
From: fperillo at gmail.com (francesco perillo)
Date: Thu Nov 26 06:15:48 2009
Subject: [Harbour] Short or long variable names ?
Message-ID: <6943770e0911260315j1f83a952h3fcbc93e27bb556f@mail.gmail.com>

I'm doing some refactoring on really old old code. I have some 1
letter, no meaning, confusing  variable names...

I'd like to know if there is a "cost" associated with using longer
variable names in PUBLIC, PRIVATE and LOCAL.

Francesco
PS: I know the cost in negligible nowadays... just curious
From druzus at users.sourceforge.net  Thu Nov 26 06:18:26 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Nov 26 06:18:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13026] trunk/harbour
Message-ID: <E1NDcMk-0005sD-I9@dn4whf1.ch3.sourceforge.com>

Revision: 13026
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13026&view=rev
Author:   druzus
Date:     2009-11-26 11:18:25 +0000 (Thu, 26 Nov 2009)

Log Message:
-----------
2009-11-26 12:18 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/fm.c
    ! fixed stupid typo I made just before recent commit which caused
      GPF when not all mspaces where initialized

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From ranier at cultura.com.br  Thu Nov 26 07:26:12 2009
From: ranier at cultura.com.br (Ranier Vilela)
Date: Thu Nov 26 06:23:10 2009
Subject: [Harbour] Book "Programming with Harbour"
In-Reply-To: <20091126030028.GA13456@linux-4bod.home.aster.pl>
References: <4B0C0DF9.1020709@cultura.com.br>
	<20091126030028.GA13456@linux-4bod.home.aster.pl>
Message-ID: <4B0E73E4.6020806@cultura.com.br>

Przemys?aw Czerpak escreveu:
> On Tue, 24 Nov 2009, Ranier Vilela wrote:
>
> Hi Ranier,
>
>   
>> I?d like invite you to write a book to Harbour "Programming with Harbour".
>> I strong believe that your name is reference for all xbase
>> developers, and your expertise
>> will have large chance of success in sales.
>> Clear part dedicated to xBase, I?d like suggest the chapter "C API",
>> covered by topics
>> about interfacing C with Harbour.
>> This chapter is my greatest interest.
>> I believe that book will be improve the development with Harbour.
>>     
> Thank you very much for you proposition but it's rather impossible
> that I will ever try to realize it. 1-st my English is too poor to
> even try. 2-nd I will not find time for it. I have a lot of my own
> business jobs and it's very hard for me to find enough spare time
> to develop Harbour. I also have family (wonderful wife, two daughters
> and son) and I would like to spend some time with them.
> I'm really sorry but finding additional spare time to write books is
> unrealistic idea for me now :-)
>
> best regards,
> Przemek
Thank you for the answer. Sometimes we forget that we have family.
Congratulations for your beautiful family.

Best regards,

Ranier Vilela

From druzus at acn.waw.pl  Thu Nov 26 06:24:23 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 06:24:30 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <4B0DA7A6.8000606@mail.udg.mx>
References: <4B0DA7A6.8000606@mail.udg.mx>
Message-ID: <20091126112423.GA24624@linux-4bod.home.aster.pl>

On Wed, 25 Nov 2009, David Arturo Macias Corona wrote:
> I send this message three times: send, no reject, never arrive to
> Harbour list
> Seem to be due message length

Yes, the limit is 40KB. Longer messages have to be accepted by moderator.
In such case you can store results in .zip file as Chen suggested.

> This is the SECOND half ( gcc335 results )

Thank you very much.
In your tests DLMALLOC is also noticeable faster then memory managers
used by GCC in both versions though on single CPU machine the difference
is not so huge in MT tests.
The last thing which we should check is OpenWatcom OS2 build which
seems to fail with current build switches in MT mode. Can you make
some tests with different build switches, i.e. using stack calling
convention instead of register one? (-5r -> -5s)

best regards,
Przemek
From druzus at acn.waw.pl  Thu Nov 26 06:27:01 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 06:27:07 2009
Subject: [Harbour] hbmk2 rev 13024
In-Reply-To: <4B0E56A6.6020609@libero.it>
References: <4B0E56A6.6020609@libero.it>
Message-ID: <20091126112701.GB24624@linux-4bod.home.aster.pl>

On Thu, 26 Nov 2009, Maurilio Longo wrote:

FRAN?EK, Marcos, Maurilio,

> I've activated dlmalloc on OS/2 build, updated svn to rev. 13024, now, calling
>  hbmk2, even without passing any parameter to it I get:
[...]
> Exception c0000005 at address 0x1d44dc9f
[..]
> This is inside harbourm.dll and while exiting from the program. Can it be
> something related to hb_xclean() ?

Yes, stupid "last second" modification just before commit and without
any tests :-(. Should be fixed by:
   2009-11-26 12:18 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

best regards,
Przemek
From druzus at acn.waw.pl  Thu Nov 26 06:33:53 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 06:34:00 2009
Subject: [Harbour] Short or long variable names ?
In-Reply-To: <6943770e0911260315j1f83a952h3fcbc93e27bb556f@mail.gmail.com>
References: <6943770e0911260315j1f83a952h3fcbc93e27bb556f@mail.gmail.com>
Message-ID: <20091126113353.GA28924@linux-4bod.home.aster.pl>

On Thu, 26 Nov 2009, francesco perillo wrote:

Hi,

> I'm doing some refactoring on really old old code. I have some 1
> letter, no meaning, confusing  variable names...
> I'd like to know if there is a "cost" associated with using longer
> variable names in PUBLIC, PRIVATE and LOCAL.

If you are asking about runtime speed overhead caused by longer variable
names then there is no difference if you are using shorter or smaller
variables names. LOCAL variable names are not stored in final binaries
at all (with the exception to code emitted for debugger with -b switch)
and PUBLIC, PRIVATE, FILED variables are not accessed by name but using
pointers to symbol table so length of real names is unimportant.

best regards,
Przemek
From dmacias at mail.udg.mx  Thu Nov 26 07:00:00 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Nov 26 07:00:32 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
Message-ID: <4B0E6DC0.2040109@mail.udg.mx>

Przemek:

and a summary ...

Harbour 13017, except where noted

Below are results using:
------------------------
    hbmk2 -m -n -w -es2 -l -kmo -gc3 speedtst.prg
       speedtst.exe
    hbmk2 -m -n -w -es2 -l -kmo -gc3 -mt speedtst.prg
       speedtst.exe
       speedtst.exe --thread
       speedtst.exe --thread=2 --scale
------------------------

and in same order

Same hardware used with OpenWatcom, gcc433, gcc335, so comparison
between C compilers are valid in this case


Strange result for OpenWatcom (13006)

Everything is better with -DHB_FM_DL_ALLOC

Question (sorry but I do not what imply):
executables created with same source but different library type ( OMF, 
a.out ) should have same performance ?

Example: speedtst.exe build with gcc335 in OMF type and a.out type

David Macias


OpenWatcom, with -DHB_FM_DL_ALLOC enabled by default

[ total application time: ]....................................15.48
[ total real time: ]...........................................15.46

[ total application time: ]....................................23.55
[ total real time: ]...........................................23.62


OpenWatcom, without -DHB_FM_DL_ALLOC ( and without -bm )

Note: Rev. 13006

[ total application time: ]....................................15.74
[ total real time: ]...........................................15.69

[ total application time: ]....................................62.94
[ total real time: ]...........................................62.99


gcc433, OMF type, with -DHB_FM_DL_ALLOC

[ total application time: ]....................................19.00
[ total real time: ]...........................................18.94

[ total application time: ]....................................24.94
[ total real time: ]...........................................24.84

[ total application time: ].....................................0.03
[ total real time: ]...........................................25.33

[ total application time: ]....................................50.58
[ total real time: ]..........................................100.74


gcc433, OMF type, without -DHB_FM_DL_ALLOC

[ total application time: ]....................................24.26
[ total real time: ]...........................................24.16

[ total application time: ]....................................28.52
[ total real time: ]...........................................28.40

[ total application time: ].....................................0.06
[ total real time: ]...........................................28.93

[ total application time: ]....................................58.55
[ total real time: ]..........................................115.96


gcc335, OMF type, with -DHB_FM_DL_ALLOC

[ total application time: ]....................................16.48
[ total real time: ]...........................................16.46

[ total application time: ]....................................23.19
[ total real time: ]...........................................23.23

[ total application time: ].....................................0.10
[ total real time: ]...........................................22.15

[ total application time: ].....................................0.06
[ total real time: ]...........................................87.19


gcc335, OMF type, without -DHB_FM_DL_ALLOC

[ total application time: ]....................................22.06
[ total real time: ]...........................................22.07

[ total application time: ]....................................26.13
[ total real time: ]...........................................26.06

[ total application time: ].....................................0.26
[ total real time: ]...........................................26.25

[ total application time: ]....................................52.06
[ total real time: ]..........................................103.38


gcc335, a.out type, with -DHB_FM_DL_ALLOC

[ total application time: ]....................................16.39
[ total real time: ]...........................................16.19

[ total application time: ]....................................22.03
[ total real time: ]...........................................21.95

[ total application time: ].....................................0.10
[ total real time: ]...........................................22.53

[ total application time: ]....................................44.35
[ total real time: ]...........................................89.49


gcc335, a.out type, without -DHB_FM_DL_ALLOC

[ total application time: ]....................................22.16
[ total real time: ]...........................................22.16

[ total application time: ]....................................25.87
[ total real time: ]...........................................25.87

[ total application time: ].....................................0.13
[ total real time: ]...........................................26.31

[ total application time: ]....................................52.42
[ total real time: ]..........................................104.55


From fperillo at gmail.com  Thu Nov 26 07:06:03 2009
From: fperillo at gmail.com (francesco perillo)
Date: Thu Nov 26 07:06:12 2009
Subject: [Harbour] Short or long variable names ?
In-Reply-To: <20091126113353.GA28924@linux-4bod.home.aster.pl>
References: <6943770e0911260315j1f83a952h3fcbc93e27bb556f@mail.gmail.com>
	<20091126113353.GA28924@linux-4bod.home.aster.pl>
Message-ID: <6943770e0911260406l466a4c6cy8063db93deaf4f59@mail.gmail.com>

> If you are asking about runtime speed overhead caused by longer variable
> names then there is no difference if you are using shorter or smaller
> variables names. LOCAL variable names are not stored in final binaries
> at all (with the exception to code emitted for debugger with -b switch)

For LOCALs, ok. They have a certain visibility and the compiler can
create optimized code.

For PRIVATE/PUBLIC... I can create these variables at runtime using
macros or internal calls...

> and PUBLIC, PRIVATE, FILED variables are not accessed by name but using
> pointers to symbol table

Sorry, just to have more infos..

Imagine a PUBLIC variable created at runtime; in this case the
compiler can't refer directly to symbol table position but must lookup
the variable name at runtime somehow... I may understand from your
words that harbour creates a local symbol table with only the variable
names and then does a "runtime binding" when entering the function....
in this way it can handle visibility PUBLIC/PRIVATE...
In this way, in the pcode harbour only references "position 1 in the
symbol table" and it will be runtime engine to fill it with correct
values (or pointers to correct values....)
I imagine it is more complicated than this, I just wanted to validate
the general idea....
Francesco
From marcosgambeta at uol.com.br  Thu Nov 26 07:20:19 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Thu Nov 26 07:20:25 2009
Subject: [Harbour] hbmk2 rev 13024
In-Reply-To: <20091126112701.GB24624@linux-4bod.home.aster.pl>
References: <4B0E56A6.6020609@libero.it>
	<20091126112701.GB24624@linux-4bod.home.aster.pl>
Message-ID: <4B0E7283.9040108@uol.com.br>

Przemyslaw Czerpak escreveu:
> 
> Yes, stupid "last second" modification just before commit and without
> any tests :-(. Should be fixed by:
>    2009-11-26 12:18 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> 

Yes, is ok now (after a clean build).

Thanks!

Marcos Gambeta

From tech at 2dinfo.com.br  Thu Nov 26 08:21:17 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Thu Nov 26 07:21:58 2009
Subject: [Harbour] Qt libs static link
Message-ID: <DA75E035EF364233B4C3DD9F19A0FEDB@noteleo>

Hello
How to build hbqt programs with QT static libs, independent from QT dlls? 
Is it possible?
Thanks
Leandro Damasio
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091126/20577e5c/attachment-0001.html
From dmacias at mail.udg.mx  Thu Nov 26 07:39:04 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Nov 26 07:39:23 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
Message-ID: <4B0E76E8.6070800@mail.udg.mx>

Przemek:

 >> b) Failure of --thread (--scale) with GPF
 >>  OS/2-Harbour-OpenWatcom 1.7a was failing in MT with more than one
 >>thread
 >>  I expected it was fixed with 1.8, but no
 >>  As you may remember, cause was isolated until routines for devices
 >>input
 >>  When you decide we can continue to fix it

 >It was a bug in OpenWatcom which was exploited in some calling
 >convention when some specific OS2 API functions were used, i.e. some
 >mouse and keyboard functions in GTOS2. It was hard to locate the exact
 >problem because this bug was corrupting C call stack indirectly and the
 > problem was not exploited when the given OS2 API function was executed
 > but when Harbour function containing calls to such OS2 API function
 >was executed.

 >When Maurilio changed some OpenWatcom switches used to control calling
 >convention then the problem disappeared. I thought that we are keeping
 >these settings but if not then we will have to find them again and
 >reactivate.
 >It will be necessary to recompile Harbour using different switches.
 >First please try to remove -bm.
 >If it does not help in next step then please try to use stack calling
 >convention instead of register one and change:
 >   CFLAGS += -5r -fp5
 >to:
 >   CFLAGS += -5s -fp5
 >(If you are suing hbmk2 to create final application then you will have
 >to sync this switch and change -5r ot -5s in hbmk2.prg[2704]
 >If it does not help too then we will have to make some deeper tests.


 >Thank you very much.
 >In your tests DLMALLOC is also noticeable faster then memory managers
 >used by GCC in both versions though on single CPU machine the
 >difference is not so huge in MT tests.
 >The last thing which we should check is OpenWatcom OS2 build which
 >seems to fail with current build switches in MT mode. Can you make
 >some tests with different build switches, i.e. using stack calling
 >convention instead of register one? (-5r -> -5s)

I tested with Harbour 13017 changing (-5r -> -5s) in os2\watcom.mk and 
hbmk2.prg
Failure is the same:
*************************
2009.11.26 06:15:24 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13017) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 2
N_LOOPS: 1000000
                                                         1 th.  2 th. 
factor
============================================================================SYS1
808:
The process has stopped.  The software diagnostic
code (exception code) is  0001.
[E:\harbour911b\harbour\bin\os2\watcom]
[E:\harbour911b\harbour\bin\os2\watcom]help sys1808

SYS1808:
The process has stopped.  The software diagnostic
code (exception code) is ***.

EXPLANATION: The program generated an exception that the system cannot
resolve.  The soft ware diagnostic code allows determination of what
type of exception was generated.

ACTION: Correct the problem or try a different version of the program.
*************************

About:
"When Maurilio changed some OpenWatcom switches used to control calling
convention then the problem disappeared"

The problem never disappeared. After his tests I explained about 
switches and suggested him to review entire messages related to tests

Before we tried with any switch combinations and never resolved. I have 
track of it

So we are as we left in December 2008
The proper way is to review those messages to recall tests state, 
refresh our minds and then continue with new suggestions

As was and is "hard to locate the exact problem" perhaps we should leave 
to resolve after Harbour 2.0 ( Dec 2009, "Harbour Winter 2009 edition" )

but if you want ( and I want ) to resolve immediatly, give me guidelines 
  :-)

David Macias

From druzus at acn.waw.pl  Thu Nov 26 07:47:54 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 07:48:00 2009
Subject: [Harbour] Short or long variable names ?
In-Reply-To: <6943770e0911260406l466a4c6cy8063db93deaf4f59@mail.gmail.com>
References: <6943770e0911260315j1f83a952h3fcbc93e27bb556f@mail.gmail.com>
	<20091126113353.GA28924@linux-4bod.home.aster.pl>
	<6943770e0911260406l466a4c6cy8063db93deaf4f59@mail.gmail.com>
Message-ID: <20091126124754.GA7146@linux-4bod.home.aster.pl>

On Thu, 26 Nov 2009, francesco perillo wrote:

Hi,

> > If you are asking about runtime speed overhead caused by longer variable
> > names then there is no difference if you are using shorter or smaller
> > variables names. LOCAL variable names are not stored in final binaries
> > at all (with the exception to code emitted for debugger with -b switch)
> For LOCALs, ok. They have a certain visibility and the compiler can
> create optimized code.
> For PRIVATE/PUBLIC... I can create these variables at runtime using
> macros or internal calls...

Yes it is but also in macro compiler they are accessed using addresses
in symbol table. Looking for address is symbol table is done using binary
search.

> 
> > and PUBLIC, PRIVATE, FILED variables are not accessed by name but using
> > pointers to symbol table
> Sorry, just to have more infos..
> 
> Imagine a PUBLIC variable created at runtime; in this case the
> compiler can't refer directly to symbol table position but must lookup
> the variable name at runtime somehow... I may understand from your
> words that harbour creates a local symbol table with only the variable
> names and then does a "runtime binding" when entering the function....
> in this way it can handle visibility PUBLIC/PRIVATE...
> In this way, in the pcode harbour only references "position 1 in the
> symbol table" and it will be runtime engine to fill it with correct
> values (or pointers to correct values....)
> I imagine it is more complicated than this, I just wanted to validate
> the general idea....

When you compile code which uses memvars (public or private variables)
then compiler generates references to symbol table which is register
in global symbol table at application startup so later when application
is executed it does not cause any speed overhead. Just simply accessing
memvar variable which is <n>-th symbol in generated symbol table we have
PCODE like:
   HB_P_PUSHMEMVAR <n>
and then it's executed as:
   hb_stackPush( symbol_table[ <n> ]->memvar );
without any name lookup, etc. As you can see in speedtst there is very
minor speed difference (in practice unnoticable) between locals, statics
and memvars.

When you create memvar variable dynamically using macro compiler
(in code like: 'var := 1' compiler knows that 'var' variable should
be used and if it does not exists created so it adds 'var' to module
symbol table and use this entry to access corresponding memvar variable
without any name lookup) then macrocompiler also converts all symbols
in compiled text into references to global symbol table and then generate
PCODE which operates only on such addresses in similar as in PCODE
generated by compiler but instead of using module symbol table it stores
addresses directly in generated PCODE.
So during execution there is also no name lookup. The only name scanning
is part of macro compilation process and it uses binary search scanning
global symbol table. Such scanning is done for all symbols in macrocompiled
code, i.e. function and message names or fields not only for memvars and
here the length of used symbols is in practice unimportant for speed.
To see the difference you will have to create some program which will use
only symbols like:
   "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA001"
   "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA002"
   [...]
   "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAXYX"
   [...]
for all memvars, fields, function, messages, class names, etc. and
even in such case the speed difference will be very small and hard
to measure/notice and of course it will effect only the cost of
macrocompilation but it's absolutely unimportant for later execution
of such macrocompiled code.

The same is in Clipper though the maximum symbol length (10 characters)
is smaller then in Harbour.
I know that you can find some incredible theories about memvars in
Clipper using different mail list archives but 95% of them was created
by people who did not know too much about real Clipper internals.
Probably the only real serious problem with memvars in Clipper was
limited size of global symbol table in 16-bit applications and then
series memory problems which were exploited when this limit was exceed.

best regards,
Przemek
From maurilio.longo at libero.it  Thu Nov 26 08:05:38 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Nov 26 08:05:51 2009
Subject: [Harbour] speedtst and vm
Message-ID: <4B0E7D22.6070300@libero.it>

Przemyslaw,

I've made a couple of tests: in the first one speedtst was built with

hbmk2 -mt speedtst

in the second with

hbmk2 -mt -gc2 speedtst

Now, calling

speedtst --thread=2 --scale

on a PIV HT with OS/2 and a SMP kernel I see that the first speedtst when run
has a scaling factor of 1.18 while the second one has a scaling factor of 1.32.

Question is: is this simply a result of the more work the vm has to do
compared to the -gc3 build or are there serialization points inside the vm
which slow the first speedtst compared to the second?

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From druzus at acn.waw.pl  Thu Nov 26 08:07:34 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 08:07:40 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <4B0E6DC0.2040109@mail.udg.mx>
References: <4B0E6DC0.2040109@mail.udg.mx>
Message-ID: <20091126130734.GB7146@linux-4bod.home.aster.pl>

On Thu, 26 Nov 2009, David Arturo Macias Corona wrote:

Hi,


> and a summary ...
> Harbour 13017, except where noted
> Below are results using:
> ------------------------
>    hbmk2 -m -n -w -es2 -l -kmo -gc3 speedtst.prg
>       speedtst.exe
>    hbmk2 -m -n -w -es2 -l -kmo -gc3 -mt speedtst.prg
>       speedtst.exe
>       speedtst.exe --thread
>       speedtst.exe --thread=2 --scale
> ------------------------
> and in same order
> Same hardware used with OpenWatcom, gcc433, gcc335, so comparison
> between C compilers are valid in this case
> Strange result for OpenWatcom (13006)

If you are talking about very slow MT mode then it's the cost
of -bm switch. MT safe memory manager in OpenWatcom is very slow.
BTW instead of using older version of SVN (13006) then you can use:
   set HB_USER_CFLAGS=-DHB_FM_STD_ALLOC
to force default memory manager in given C compiler.

> Everything is better with -DHB_FM_DL_ALLOC

Thank you for your tests. I expected similar results.

> Question (sorry but I do not what imply):
> executables created with same source but different library type (
> OMF, a.out ) should have same performance ?

It depends on internal format. It's possible that the speed will be
noticeable different if two formats forces different addressing and
code reallocation modes. I.e. some formats may forbid using direct
memory global addresses and the code will be slower due to forced
indirect addressing or runtime offset calculations.
I do not know the details of OMF and a.out formats in OS/2 to given
you precise answer.

> Example: speedtst.exe build with gcc335 in OMF type and a.out type

Your test results suggest that there is no significant speed difference
between both formats.

> OpenWatcom, with -DHB_FM_DL_ALLOC enabled by default
> [ total application time: ]....................................15.48
> [ total real time: ]...........................................15.46
> 
> [ total application time: ]....................................23.55
> [ total real time: ]...........................................23.62
> 
> OpenWatcom, without -DHB_FM_DL_ALLOC ( and without -bm )
> 
> Note: Rev. 13006
> [ total application time: ]....................................15.74
> [ total real time: ]...........................................15.69
> 
> [ total application time: ]....................................62.94
> [ total real time: ]...........................................62.99

So in both cases OpenWatcom builds do not work in MT mode when more then
one thread is created and GTOS2 is used and I would like to ask you to
make tests with build switches (see my other mail) to reactivate settings
which resolved the problem in the past.

best regards,
Przemek
From maurilio.longo at libero.it  Thu Nov 26 08:08:31 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Nov 26 08:08:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13026] trunk/harbour
In-Reply-To: <E1NDcMk-0005sD-I9@dn4whf1.ch3.sourceforge.com>
References: <E1NDcMk-0005sD-I9@dn4whf1.ch3.sourceforge.com>
Message-ID: <4B0E7DCF.6090906@libero.it>

Fixed,

thanks.

Maurilio.

druzus@users.sourceforge.net wrote:
> Revision: 13026
>           http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13026&view=rev
> Author:   druzus
> Date:     2009-11-26 11:18:25 +0000 (Thu, 26 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-26 12:18 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/src/vm/fm.c
>     ! fixed stupid typo I made just before recent commit which caused
>       GPF when not all mspaces where initialized
> 
> Modified Paths:
> --------------
>     trunk/harbour/ChangeLog
>     trunk/harbour/src/vm/fm.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From tech at 2dinfo.com.br  Thu Nov 26 09:16:19 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Thu Nov 26 08:17:22 2009
Subject: [Harbour] Qt libs static link
In-Reply-To: <DA75E035EF364233B4C3DD9F19A0FEDB@noteleo>
References: <DA75E035EF364233B4C3DD9F19A0FEDB@noteleo>
Message-ID: <97452E23027542DA83E74E934DD39448@noteleo>

I mean, how to build HBqt based programs with QT libs statically linked?
tks
Leandro Damasio



From: Leandro Damasio 
Sent: Thursday, November 26, 2009 10:21 AM
To: Harbour Project Main Developer List. 
Subject: [Harbour] Qt libs static link


Hello
How to build hbqt programs with QT static libs, independent from QT dlls? 
Is it possible?
Thanks
Leandro Damasio


--------------------------------------------------------------------------------


_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091126/e028ce05/attachment.html
From harbour.01 at syenar.hu  Thu Nov 26 08:35:30 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Thu Nov 26 08:35:41 2009
Subject: [Harbour] Qt libs static link
In-Reply-To: <97452E23027542DA83E74E934DD39448@noteleo>
References: <DA75E035EF364233B4C3DD9F19A0FEDB@noteleo>
	<97452E23027542DA83E74E934DD39448@noteleo>
Message-ID: <29C647AA-CCFC-458A-BE64-C5900C86DFA8@syenar.hu>

Hi Leandro,

I'd suggest to peek into INSTALL doc, where you'll 
find answers for all your build related questions.

Brgds,
Viktor

On 2009 Nov 26, at 15:16, Leandro Damasio wrote:

> I mean, how to build HBqt based programs with QT libs statically linked?
> tks
> Leandro Damasio
>  
> 
> From: Leandro Damasio
> Sent: Thursday, November 26, 2009 10:21 AM
> To: Harbour Project Main Developer List.
> Subject: [Harbour] Qt libs static link
> 
> Hello
> How to build hbqt programs with QT static libs, independent from QT dlls?
> Is it possible?
> Thanks
> Leandro Damasio
> 
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From paolorus at 2bm.it  Thu Nov 26 08:54:38 2009
From: paolorus at 2bm.it (Paolo Russignan)
Date: Thu Nov 26 08:54:48 2009
Subject: [Harbour] Errore Excel with TOLE
Message-ID: <4B0E889E.9070008@2bm.it>

Hello,
using the class "Tole" to enter into the Excel object is created I get 
an error "-2147024891" (from the Microsoft documentation is returned to 
the following description of the General Access Denied Error). The 
program that runs on an error by the virtualization of a terminal server 
2003 or 2000.
Someone can help me?
Thanks
From fperillo at gmail.com  Thu Nov 26 09:31:04 2009
From: fperillo at gmail.com (francesco perillo)
Date: Thu Nov 26 09:31:12 2009
Subject: [Harbour] Short or long variable names ?
In-Reply-To: <20091126124754.GA7146@linux-4bod.home.aster.pl>
References: <6943770e0911260315j1f83a952h3fcbc93e27bb556f@mail.gmail.com>
	<20091126113353.GA28924@linux-4bod.home.aster.pl>
	<6943770e0911260406l466a4c6cy8063db93deaf4f59@mail.gmail.com>
	<20091126124754.GA7146@linux-4bod.home.aster.pl>
Message-ID: <6943770e0911260631y33078d18vf217578cbaa1d812@mail.gmail.com>

Thank you very much for your clarification.

Part of my code dates back to dBaseIII+.... fully interpreted code...

I'm thinking about a particular case... I will test it and in case I
will ask you again...

thank you again
Francesco
From druzus at acn.waw.pl  Thu Nov 26 09:56:52 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 09:56:58 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <4B0E76E8.6070800@mail.udg.mx>
References: <4B0E76E8.6070800@mail.udg.mx>
Message-ID: <20091126145652.GA8172@linux-4bod.home.aster.pl>

On Thu, 26 Nov 2009, David Arturo Macias Corona wrote:

Hi,

> About:
> "When Maurilio changed some OpenWatcom switches used to control calling
> convention then the problem disappeared"
> 
> The problem never disappeared. After his tests I explained about
> switches and suggested him to review entire messages related to
> tests
> Before we tried with any switch combinations and never resolved. I
> have track of it
> So we are as we left in December 2008

Sorry but now I'm really confused. All what I know about results
of real life OS/2 test comes from you and Maurilio messages.
Now I'm OpenWatcom builds reading that it was never working
correctly in MT mode in whole Harbour history and always fail
in MT mode when second thread accessed GTOS2 function (I guess
that speedtst works correctly with current SVN code when is linked
with GTCGI).
Can you and Maurilio confirm it?

> The proper way is to review those messages to recall tests state,
> refresh our minds and then continue with new suggestions

Did it work in the past after modifications in build time switches or not?
If not then there is no reason to look for old messages.

> As was and is "hard to locate the exact problem" perhaps we should
> leave to resolve after Harbour 2.0 ( Dec 2009, "Harbour Winter 2009
> edition" )

To be clear. It _was_ hard to locate to exact problem but after your
test I know the exact problem so this part is resolved and it's not
related to Harbour source code at all. The problem is caused by code
generated by OpenWatom for functions which have in their body calls to
some of APIENTRY16 functions like KbdCharIn(). When non main thread
tries to execute such function then it GPFs. It's unimportant how
APIENTRY16 function is used. Important is only the fact that it's
used. I.e. if we have function like:

   static int hb_gt_os2_ReadKey( PHB_GT pGT, int iEventMask )
   {
      return 0;
   }

then it works but if we have function like:

   static int hb_gt_os2_ReadKey( PHB_GT pGT, int iEventMask )
   {
      if( pGT == NULL )
         KbdCharIn( s_key, IO_NOWAIT, ( HKBD ) * s_hk );
      return 0;
   }

Then it will GPF though pGT is always not NULL so KbdCharIn() is never
executed.
Above conclusion is the result of your test done in last year.

So there is only question about finding workaround in OpenWatcom build
configuration to resolve it. Of course if such workaround exists.
I thought that more or less intentionally Maurilio found it and it
was committed to Harbour repository.
These should be switches related to C stack usage i.e. switches to
control calling convention.

It's also possible that we may find some programing workaround,
i.e. using functions to encapsulate calls to APIENTRY16, i.e.

void hb_os2_KbdCharIn( PKBDKEYINFO pKbdInfo, USHORT flags, HKBD hKbd )
{
   KbdCharIn( pKbdInfo, flags, hKbd );
}

and then use hb_os2_KbdCharIn() in hb_gt_os2_ReadKey() instead of
KbdCharIn(). It may help because hb_gt_os2_ReadKey() is used indirectly
by pointer to function and maybe only in such situation the OpenWatcom
bug is exploited. But such method is only hack which may not work or
suddenly stop to work in the future due to compile and link time
optimizations, i.e. compiler may automatically inline above function
creating the same code as for initial version.

> but if you want ( and I want ) to resolve immediatly, give me
> guidelines  :-)

If you have some time to make tests then we can try to look for
workarounds for the problem but 1-st I would like to be sure if it
was working in the past and if yes then restore exact build time
switches used for working version to locate the ones which helped
to resolve the problem.

best regards,
Przemek
From tech at 2dinfo.com.br  Thu Nov 26 11:15:57 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Thu Nov 26 10:16:47 2009
Subject: [Harbour] Qt libs static link
In-Reply-To: <29C647AA-CCFC-458A-BE64-C5900C86DFA8@syenar.hu>
References: <DA75E035EF364233B4C3DD9F19A0FEDB@noteleo><97452E23027542DA83E74E934DD39448@noteleo>
	<29C647AA-CCFC-458A-BE64-C5900C86DFA8@syenar.hu>
Message-ID: <400B79783F074210B95BF67F757ECFCE@noteleo>

> I'd suggest to peek into INSTALL doc, where you'll
> find answers for all your build related questions.

Found it on harbour INSTALL doc
Thanks Viktor!
Leandro Damasio


--------------------------------------------------
From: "Viktor Szak?ts" <harbour.01@syenar.hu>
Sent: Thursday, November 26, 2009 10:35 AM
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Subject: Re: [Harbour] Qt libs static link

> Hi Leandro,
>
> I'd suggest to peek into INSTALL doc, where you'll
> find answers for all your build related questions.
>
> Brgds,
> Viktor
>
> On 2009 Nov 26, at 15:16, Leandro Damasio wrote:
>
>> I mean, how to build HBqt based programs with QT libs statically linked?
>> tks
>> Leandro Damasio
>>
>>
>> From: Leandro Damasio
>> Sent: Thursday, November 26, 2009 10:21 AM
>> To: Harbour Project Main Developer List.
>> Subject: [Harbour] Qt libs static link
>>
>> Hello
>> How to build hbqt programs with QT static libs, independent from QT dlls?
>> Is it possible?
>> Thanks
>> Leandro Damasio
>>
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour 

From gvarona at ec-red.com  Thu Nov 26 10:56:25 2009
From: gvarona at ec-red.com (http://news.gmane.org/gmane.comp.db.sqlite.general)
Date: Thu Nov 26 10:53:29 2009
Subject: [Harbour] Error in command: @...GET LISTBOX,
 The list box's drop-down buttonn not appear
Message-ID: <hem88n$c2f$1@ger.gmane.org>


----------------------------------------------
#include "inkey.ch"

procedure main
LOCAL wTipo := "T2", aTipo := {}

AADD(aTipo,{"Tipo 1","T1"})
AADD(aTipo,{"Tipo 2","T2"})
AADD(aTipo,{"Tipo 3","T3"})

//
SET( _SET_EVENTMASK, INKEY_ALL )
MSETCURSOR( .T. )
CLS

@ 05,40,10,70 GET wTipo LISTBOX aTipo CAPTION '&Tipo :' DROPDOWN 
SCROLLBAR COLOR "W/N,B/W+,W/N,W+/B,W/N,N/W*,G/W*,N/G"
READ

RETURN
----------------------------------------------

Output in Clipper:

  Tipo : Tipo 2                        ?

Output in Harbour:

  Tipo : Tipo 2                        

The list box's drop-down buttonn not appear

TIA

Best Regards
GVS

From maurilio.longo at libero.it  Thu Nov 26 11:04:29 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Thu Nov 26 11:05:02 2009
Subject: [Harbour] speedtst and vm
In-Reply-To: <4B0E7D22.6070300@libero.it>
References: <4B0E7D22.6070300@libero.it>
Message-ID: <4B0EA70D.20009@libero.it>

Sorry,

the second one is built with

hbmk2 -mt -gc3 speedtst

and not -gc2 as I wrongly wrote before.

Maurilio.


Maurilio Longo wrote:
> Przemyslaw,
> 
> I've made a couple of tests: in the first one speedtst was built with
> 
> hbmk2 -mt speedtst
> 
> in the second with
> 
> hbmk2 -mt -gc2 speedtst
> 
> Now, calling
> 
> speedtst --thread=2 --scale
> 
> on a PIV HT with OS/2 and a SMP kernel I see that the first speedtst when run
> has a scaling factor of 1.18 while the second one has a scaling factor of 1.32.
> 
> Question is: is this simply a result of the more work the vm has to do
> compared to the -gc3 build or are there serialization points inside the vm
> which slow the first speedtst compared to the second?
> 
> Best regards.
> 
> Maurilio.
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From mbelgrano at deltain.it  Thu Nov 26 11:26:59 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Nov 26 11:27:28 2009
Subject: [Harbour] Error in command: @...GET LISTBOX, The list box's 
	drop-down buttonn not appear
In-Reply-To: <hem88n$c2f$1@ger.gmane.org>
References: <hem88n$c2f$1@ger.gmane.org>
Message-ID: <609353e70911260826p59ac992dhcdcd5fac00e0ce38@mail.gmail.com>

I have tried but harbour report
      Tipo : Tipo 2                        ?


Follow my //build
Harbour Build Info
---------------------------
Version: Harbour 2.0.0beta3 (Rev. 13026)
Compiler: MinGW GNU C 4.4.1 (32-bit)
Platform: Windows 7 6.1.7600
PCode version: 0.2
ChangeLog last entry: 2009-11-26 12:18 UTC+0100 Przemyslaw Czerpak (druzus/at/pr
iv.onet.pl)
ChangeLog ID: ChangeLog 13026 2009-11-26 11:18:25Z druzus

Built on: Nov 26 2009 12:22:47
Build options:
Language options: (Clipper 5.3) (Clipper 5.x undoc) (Xbase++) (Flagship)
---------------------------
// info
Harbour Terminal: Windows native console
Harbour 2.0.0beta3 (Rev. 13026)
Windows 7 6.1.7600
DS avail=1085800KB  OS avail=2063320KB  EMM avail=0KB  MemStat:Off  MT:Off


2009/11/26 http://news.gmane.org/gmane.comp.db.sqlite.general
<gvarona@ec-red.com>:
>
> ----------------------------------------------
> #include "inkey.ch"
>
> procedure main
> LOCAL wTipo := "T2", aTipo := {}
>
> AADD(aTipo,{"Tipo 1","T1"})
> AADD(aTipo,{"Tipo 2","T2"})
> AADD(aTipo,{"Tipo 3","T3"})
>
> //
> SET( _SET_EVENTMASK, INKEY_ALL )
> MSETCURSOR( .T. )
> CLS
>
> @ 05,40,10,70 GET wTipo LISTBOX aTipo CAPTION '&Tipo :' DROPDOWN SCROLLBAR
> COLOR "W/N,B/W+,W/N,W+/B,W/N,N/W*,G/W*,N/G"
> READ
>
> RETURN
> ----------------------------------------------
>
> Output in Clipper:
>
> ?Tipo : Tipo 2 ? ? ? ? ? ? ? ? ? ? ? ??
>
> Output in Harbour:
>
> ?Tipo : Tipo 2
> The list box's drop-down buttonn not appear
>
> TIA
>
> Best Regards
> GVS
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From gvarona at ec-red.com  Thu Nov 26 11:49:28 2009
From: gvarona at ec-red.com (http://news.gmane.org/gmane.comp.db.sqlite.general)
Date: Thu Nov 26 11:46:33 2009
Subject: [Harbour] Re: Error in command: @...GET LISTBOX,
 The list box's    drop-down buttonn not appear
In-Reply-To: <609353e70911260826p59ac992dhcdcd5fac00e0ce38@mail.gmail.com>
References: <hem88n$c2f$1@ger.gmane.org>
	<609353e70911260826p59ac992dhcdcd5fac00e0ce38@mail.gmail.com>
Message-ID: <hembc7$lvv$1@ger.gmane.org>

I have this:

D:\prueba>\hrbmingw\bin\harbour -build
Harbour 2.0.0beta3 (Rev. 13026)
Copyright (c) 1999-2009, http://www.harbour-project.org/

Harbour Build Info
---------------------------
Version: Harbour 2.0.0beta3 (Rev. 13026)
Compiler: MinGW GNU C 3.4.5 (32-bit)
Platform: Windows XP 5.1.2600 Service Pack 3
PCode version: 0.2
ChangeLog last entry: 2009-11-26 12:18 UTC+0100 Przemyslaw Czerpak 
(druzus/at/priv.onet.pl)
ChangeLog ID: ChangeLog 13026 2009-11-26 11:18:25Z druzus

Built on: Nov 26 2009 09:50:19
Build options:
Language options: (Clipper 5.3) (Clipper 5.x undoc) (Xbase++) (Flagship)
---------------------------

D:\prueba>lbh //info
Harbour Terminal: Windows native console
Harbour 2.0.0beta3 (Rev. 13026)
Windows XP 5.1.2600 Service Pack 3
DS avail=725864KB  OS avail=2079616KB  EMM avail=0KB  MemStat:Off  MT:Off
--------------------------------

What could be?
Suggestions / help are welcome

TIA

BestRegars
GVS


Massimo Belgrano escribi?:
> I have tried but harbour report
>       Tipo : Tipo 2                        ?
> 
> 
> Follow my //build
> Harbour Build Info
> ---------------------------
> Version: Harbour 2.0.0beta3 (Rev. 13026)
> Compiler: MinGW GNU C 4.4.1 (32-bit)
> Platform: Windows 7 6.1.7600
> PCode version: 0.2
> ChangeLog last entry: 2009-11-26 12:18 UTC+0100 Przemyslaw Czerpak (druzus/at/pr
> iv.onet.pl)
> ChangeLog ID: ChangeLog 13026 2009-11-26 11:18:25Z druzus
> 
> Built on: Nov 26 2009 12:22:47
> Build options:
> Language options: (Clipper 5.3) (Clipper 5.x undoc) (Xbase++) (Flagship)
> ---------------------------
> // info
> Harbour Terminal: Windows native console
> Harbour 2.0.0beta3 (Rev. 13026)
> Windows 7 6.1.7600
> DS avail=1085800KB  OS avail=2063320KB  EMM avail=0KB  MemStat:Off  MT:Off
> 
> 
> 2009/11/26 http://news.gmane.org/gmane.comp.db.sqlite.general
> <gvarona@ec-red.com>:
>> ----------------------------------------------
>> #include "inkey.ch"
>>
>> procedure main
>> LOCAL wTipo := "T2", aTipo := {}
>>
>> AADD(aTipo,{"Tipo 1","T1"})
>> AADD(aTipo,{"Tipo 2","T2"})
>> AADD(aTipo,{"Tipo 3","T3"})
>>
>> //
>> SET( _SET_EVENTMASK, INKEY_ALL )
>> MSETCURSOR( .T. )
>> CLS
>>
>> @ 05,40,10,70 GET wTipo LISTBOX aTipo CAPTION '&Tipo :' DROPDOWN SCROLLBAR
>> COLOR "W/N,B/W+,W/N,W+/B,W/N,N/W*,G/W*,N/G"
>> READ
>>
>> RETURN
>> ----------------------------------------------
>>
>> Output in Clipper:
>>
>>  Tipo : Tipo 2                        ?
>>
>> Output in Harbour:
>>
>>  Tipo : Tipo 2
>> The list box's drop-down buttonn not appear
>>
>> TIA
>>
>> Best Regards
>> GVS
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 
> 
> 

From abe.buch at att.net  Thu Nov 26 11:48:53 2009
From: abe.buch at att.net (AbeB)
Date: Thu Nov 26 11:48:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13020] trunk/harbour
In-Reply-To: <E1NDLPJ-0003vJ-EI@3kljzd1.ch3.sourceforge.com>
References: <E1NDLPJ-0003vJ-EI@3kljzd1.ch3.sourceforge.com>
Message-ID: <1259254133863-4072049.post@n2.nabble.com>


Hi Mindaugas,

First a Thank You.

Nothing related to these modifications but to ADS.
I reported a while back a bug in ads which is still not fixed.

after poisoning the record pointer by doing a SKIP, a index..while will
start from record 1, instead of from the current record

it's only on REMOTE
and only after a SKIP.

here is a test.
--------------------------

#INCLUDE "ads.ch"

PROC MAIN()
FIELD FLD1
LOCAL I
REQUEST ADS
//SET SERVER LOCAL
SET SERVER REMOTE
rddSetDefault( "ADSCDX" )
? "rdd:", rddSetDefault()
ERASE( "test.cdx" )
DBCREATE( "test.dbf", {{"FLD1", "N", 10 , 0}} )
USE test
INDEX ON FLD1 TAG TEMP
ORDSETFOCUS( "TEMP" )
? ORDSETFOCUS()
FOR I  := 1 TO 100
    APPEND BLANK
    FLD1 := I
NEXT
ERASE("temp2.idx")
GO TOP
SKIP 50
//SEEK fld1 // <-will fix it.
INDEX ON FLD1 TAG TEMP2 WHILE FLD1 < 99 TO temp2.idx
? ORDSETFOCUS()
? "===="
ORDSETFOCUS( "TEMP" )
? ORDSETFOCUS()
GO TOP
? FLD1
GO BOTTOM
? FLD1
ORDSETFOCUS( "TEMP2" )
? ORDSETFOCUS()
GO TOP
? FLD1
GO BOTTOM
? FLD1
USE
RETURN
-------------
result shoul be

rdd: ADSCDX
TEMP
TEMP2
====
TEMP
1
100
TEMP2
51
98
------------------

snaiperis wrote:
> 
> Revision: 13020
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13020&view=rev
> Author:   snaiperis
> Date:     2009-11-25 17:11:56 +0000 (Wed, 25 Nov 2009)
> 
> 
> 

-- 
View this message in context: http://n2.nabble.com/SF-net-SVN-harbour-project-13020-trunk-harbour-tp4066231p4072049.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From arcadia2 at sbcglobal.net  Thu Nov 26 12:12:04 2009
From: arcadia2 at sbcglobal.net (bill robertson)
Date: Thu Nov 26 12:12:01 2009
Subject: [Harbour] fopen(), fcreate(), etc.
References: <4B0E76E8.6070800@mail.udg.mx>
	<20091126145652.GA8172@linux-4bod.home.aster.pl>
Message-ID: <E5A0A095F50B4D9FAA67026F9C9604E4@billrob>

Hi All,

There is a problem with fopen() and I suspect fcreate(), etc in philes.c. In 
philes.c, you will notice that hb_fsOpen is cast to HB_NHANDLE which is 
typedef as a pointer to unsigned int in hbdefs.h. This means that the 
F_ERROR (-1) is made positive (2^32-1 or +4,294,967,295) so you have an 
invalid file pointer if a file doesn't exist.

For example this pgm returns invalid handle 2^32-1

//-----------------------------------------
function main()
? "File Handle:", fopen("Nonsense.file")
return 0


From mbelgrano at deltain.it  Thu Nov 26 12:17:56 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Nov 26 12:18:24 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13025] trunk/harbour
In-Reply-To: <E1NDbbr-0003sW-AZ@c3vjzd1.ch3.sourceforge.com>
References: <E1NDbbr-0003sW-AZ@c3vjzd1.ch3.sourceforge.com>
Message-ID: <609353e70911260917p4d878c3bwe8074e7b13346cbe@mail.gmail.com>

I have Verified basic find and works
List only is not managed (when activated must exclude replace)
Search in current project,In folder/ subdir is not managed
Possible have numbered row ,Goto
possible multiple file in  command line or open a hbp as list of field
Having same command line that hbide so will be easy compile in hbmk
A project strutture based on builder structure will be easy to develop
For translation of hbide have you same way?


My question are because i want try daily use for editing

2009/11/26  <vouchcac@users.sourceforge.net>:
> ?* contrib/hbide/ideactions.prg
> ? ?+ Implemented "Find" functionality. CTRL_F or <Find> icon can be clicked.
> ? ? ?Input some string in "Find what" field and keep on pressing <Enter>.
> ? ?+ Implemented "Print with Preview" of current source code.
> ? ?! Document Tab Image is toggled for "Modified and UnModified" states.
> ? ?! Fixed some more artifacts.
>

-- 
Massimo Belgrano
From mbelgrano at deltain.it  Thu Nov 26 12:21:34 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Nov 26 12:22:02 2009
Subject: [Harbour] fopen(), fcreate(), etc.
In-Reply-To: <E5A0A095F50B4D9FAA67026F9C9604E4@billrob>
References: <4B0E76E8.6070800@mail.udg.mx>
	<20091126145652.GA8172@linux-4bod.home.aster.pl> 
	<E5A0A095F50B4D9FAA67026F9C9604E4@billrob>
Message-ID: <609353e70911260921kc0b02cfn681710497c613d63@mail.gmail.com>

I confirm that display
File Handle: 4294967295

2009/11/26 bill robertson <arcadia2@sbcglobal.net>:
> Hi All,
>
> There is a problem with fopen() and I suspect fcreate(), etc in philes.c. In
> philes.c, you will notice that hb_fsOpen is cast to HB_NHANDLE which is
> typedef as a pointer to unsigned int in hbdefs.h. This means that the
> F_ERROR (-1) is made positive (2^32-1 or +4,294,967,295) so you have an
> invalid file pointer if a file doesn't exist.
>
> For example this pgm returns invalid handle 2^32-1
>
> //-----------------------------------------
> function main()
> ? "File Handle:", fopen("Nonsense.file")
> return 0
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From vouchcac at users.sourceforge.net  Thu Nov 26 12:33:39 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Nov 26 12:33:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13027] trunk/harbour
Message-ID: <E1NDiDr-0008JB-95@74yxhf1.ch3.sourceforge.com>

Revision: 13027
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13027&view=rev
Author:   vouchcac
Date:     2009-11-26 17:33:37 +0000 (Thu, 26 Nov 2009)

Log Message:
-----------
2009-11-26 09:32 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  - contrib/hbide/resources/tabmodified.PNG
  + contrib/hbide/resources/tabmodified.png
    ! Lower cased file name.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/hbide/resources/tabmodified.png


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Thu Nov 26 12:37:42 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Nov 26 12:37:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13028] trunk/harbour
Message-ID: <E1NDiHm-0008Mg-I5@74yxhf1.ch3.sourceforge.com>

Revision: 13028
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13028&view=rev
Author:   vouchcac
Date:     2009-11-26 17:37:41 +0000 (Thu, 26 Nov 2009)

Log Message:
-----------
2009-11-26 09:34 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  - contrib/hbide/resources/tabmodified.PNG
  * contrib/xhb/Makefile
    ! Changed the order of files in linklist.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/tests/demowvg.prg
    trunk/harbour/contrib/xhb/Makefile

Removed Paths:
-------------
    trunk/harbour/contrib/hbide/resources/tabmodified.PNG


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Nov 26 12:53:42 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 12:53:52 2009
Subject: [Harbour] fopen(), fcreate(), etc.
In-Reply-To: <E5A0A095F50B4D9FAA67026F9C9604E4@billrob>
References: <4B0E76E8.6070800@mail.udg.mx>
	<20091126145652.GA8172@linux-4bod.home.aster.pl>
	<E5A0A095F50B4D9FAA67026F9C9604E4@billrob>
Message-ID: <20091126175342.GA13716@linux-4bod.home.aster.pl>

On Thu, 26 Nov 2009, bill robertson wrote:

Hi,

> There is a problem with fopen() and I suspect fcreate(), etc in
> philes.c. In philes.c, you will notice that hb_fsOpen is cast to
> HB_NHANDLE which is typedef as a pointer to unsigned int in
> hbdefs.h. This means that the F_ERROR (-1) is made positive (2^32-1
> or +4,294,967,295) so you have an invalid file pointer if a file
> doesn't exist.
> For example this pgm returns invalid handle 2^32-1
> //-----------------------------------------
> function main()
> ? "File Handle:", fopen("Nonsense.file")
> return 0

You are right and it's side effect of hack I added here:

2009-11-14 04:21 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbdefs.h
    * added small hack to eliminate negative handles from 32 bit windows
      builds. Please remember that this trick can work only in 32 bit
      windows version. In 64 bit ones valid handle after casting to integer
      value can give negative 64 bit number so checking for wrong handle
      please compare them with FS_ERROR (-1) instead of using < 0 or sth
      like that. Otherwise your code may not work properly with some new
      windows versions or may even suddenly stop to work with existing
      ones even if they worked for some time without problems.

I'll remove it soon.
Thank you for the information.
To all users. Please remember that on some platforms negative handles
can be valid and only -1 indicates wrong handle (0 is valid handle on
all supported platforms).

best regards,
Przemek
From mbelgrano at deltain.it  Thu Nov 26 13:09:16 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Nov 26 13:09:50 2009
Subject: [Harbour] fopen(), fcreate(), etc.
In-Reply-To: <20091126175342.GA13716@linux-4bod.home.aster.pl>
References: <4B0E76E8.6070800@mail.udg.mx>
	<20091126145652.GA8172@linux-4bod.home.aster.pl> 
	<E5A0A095F50B4D9FAA67026F9C9604E4@billrob>
	<20091126175342.GA13716@linux-4bod.home.aster.pl>
Message-ID: <609353e70911261009o799e244bxdbd20556237b5221@mail.gmail.com>

Good add sample to regression hbtest?

2009/11/26 Przemys?aw Czerpak <druzus@acn.waw.pl>:
> On Thu, 26 Nov 2009, bill robertson wrote:
>
> Hi,
>
>> There is a problem with fopen() and I suspect fcreate(), etc in
>> philes.c. In philes.c, you will notice that hb_fsOpen is cast to
>> HB_NHANDLE which is typedef as a pointer to unsigned int in
>> hbdefs.h. This means that the F_ERROR (-1) is made positive (2^32-1
>> or +4,294,967,295) so you have an invalid file pointer if a file
>> doesn't exist.
>> For example this pgm returns invalid handle 2^32-1
>> //-----------------------------------------
>> function main()
>> ? "File Handle:", fopen("Nonsense.file")
>> return 0
>
> You are right and it's side effect of hack I added here:
>
> 2009-11-14 04:21 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> ?* harbour/include/hbdefs.h
> ? ?* added small hack to eliminate negative handles from 32 bit windows
> ? ? ?builds. Please remember that this trick can work only in 32 bit
> ? ? ?windows version. In 64 bit ones valid handle after casting to integer
> ? ? ?value can give negative 64 bit number so checking for wrong handle
> ? ? ?please compare them with FS_ERROR (-1) instead of using < 0 or sth
> ? ? ?like that. Otherwise your code may not work properly with some new
> ? ? ?windows versions or may even suddenly stop to work with existing
> ? ? ?ones even if they worked for some time without problems.
>
> I'll remove it soon.
> Thank you for the information.
> To all users. Please remember that on some platforms negative handles
> can be valid and only -1 indicates wrong handle (0 is valid handle on
> all supported platforms).
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From abe.buch at att.net  Thu Nov 26 13:14:55 2009
From: abe.buch at att.net (AbeB)
Date: Thu Nov 26 13:15:02 2009
Subject: [Harbour] Wince + Tone() or PlaySound()
Message-ID: <1259259295232-4072493.post@n2.nabble.com>


Hi,
Does TONE() work on WinCE for anyone? (dosn't work for me)

how about PlaySound()

this is what i have  in test.prg
-----------------------
Proc main()

PLAYSOUND( ".\SOUND_OK.WAV")

#PRAGMA BEGINDUMP

#include <windows.h>
#include <mmsystem.h>
#include <hbapi.h>

HB_FUNC( PLAYSOUND )
{
hb_retl( PlaySound( hb_parc(1), NULL,SND_ASYNC | SND_FILENAME ) );
}

#PRAGMA ENDDUMP
----------------------

warning: passing argument 1 of 'PlaySound' from incompatible pointer type



-- 
View this message in context: http://n2.nabble.com/Wince-Tone-or-PlaySound-tp4072493p4072493.html
Sent from the harbour-devel mailing list archive at Nabble.com.
From druzus at acn.waw.pl  Thu Nov 26 13:51:10 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 13:51:18 2009
Subject: [Harbour] fopen(), fcreate(), etc.
In-Reply-To: <609353e70911261009o799e244bxdbd20556237b5221@mail.gmail.com>
References: <4B0E76E8.6070800@mail.udg.mx>
	<20091126145652.GA8172@linux-4bod.home.aster.pl>
	<E5A0A095F50B4D9FAA67026F9C9604E4@billrob>
	<20091126175342.GA13716@linux-4bod.home.aster.pl>
	<609353e70911261009o799e244bxdbd20556237b5221@mail.gmail.com>
Message-ID: <20091126185110.GA14608@linux-4bod.home.aster.pl>

On Thu, 26 Nov 2009, Massimo Belgrano wrote:
> Good add sample to regression hbtest?

Yes, thank you.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Nov 26 14:08:33 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov 26 14:08:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13027] trunk/harbour
In-Reply-To: <E1NDiDr-0008JB-95@74yxhf1.ch3.sourceforge.com>
References: <E1NDiDr-0008JB-95@74yxhf1.ch3.sourceforge.com>
Message-ID: <883F56E7-559A-4D4D-B5EA-0FEF33D786D7@syenar.hu>

Thanks a bunch Pritpal.

Brgds,
Viktor

On 2009 Nov 26, at 18:33, vouchcac@users.sourceforge.net wrote:

> Revision: 13027
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13027&view=rev
> Author:   vouchcac
> Date:     2009-11-26 17:33:37 +0000 (Thu, 26 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-26 09:32 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  - contrib/hbide/resources/tabmodified.PNG
>  + contrib/hbide/resources/tabmodified.png
>    ! Lower cased file name.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
> 
> Added Paths:
> -----------
>    trunk/harbour/contrib/hbide/resources/tabmodified.png
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Thu Nov 26 14:16:46 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 14:16:52 2009
Subject: [Harbour] Wince + Tone() or PlaySound()
In-Reply-To: <1259259295232-4072493.post@n2.nabble.com>
References: <1259259295232-4072493.post@n2.nabble.com>
Message-ID: <20091126191646.GB14608@linux-4bod.home.aster.pl>

On Thu, 26 Nov 2009, AbeB wrote:
> Does TONE() work on WinCE for anyone? (dosn't work for me)

TONE() is implemented by GT subsystem so the most important question
is which GT you are using in your applications.

In WinCE builds Beep() WIN API function is used for Harbour TONE() function
in the following GTs: GTWIN, GTWVT, GTGUI.
If it works or not depends on used hardware and system.

> how about PlaySound()
> this is what i have  in test.prg
> -----------------------
> Proc main()
> PLAYSOUND( ".\SOUND_OK.WAV")
> #PRAGMA BEGINDUMP
> #include <windows.h>
> #include <mmsystem.h>
> #include <hbapi.h>
> HB_FUNC( PLAYSOUND )
> {
>    hb_retl( PlaySound( hb_parc(1), NULL,SND_ASYNC | SND_FILENAME ) );
> }
> #PRAGMA ENDDUMP
> ----------------------
> warning: passing argument 1 of 'PlaySound' from incompatible pointer type

Very good warning - this code really uses incompatible pointer.
It should be fixed for all windows builds to be compatible with UNICODE
WIN API. In WinCE only UNICODE API exists.
Here is modified version which should work with all windows version.
It needs current SVN code.

   #include <windows.h>
   #include <mmsystem.h>
   #include "hbapistr.h"
   #include "hbset.h"

   #ifdef UNICODE
      #define HB_PARSTR( n, s, l )  \
                           hb_parstr_u16( n, HB_CDP_ENDIAN_NATIVE, s, l )
   #else
      #define HB_PARSTR( n, s, l )  hb_parstr( n, hb_setGetOSCP(), s, l )
   #endif

   HB_FUNC( PLAYSOUND )
   {
      LPCTSTR lpStr;
      void * hStr;

      hStr = HB_PARSTR( 1, &lpStr, NULL );
      hb_retl( hStr && PlaySound( lpStr, NULL, SND_ASYNC | SND_FILENAME ) );
      hb_strfree( hStr );
   }

I haven't tested it. Just written.

best regards,
Przemek
From harbour.01 at syenar.hu  Thu Nov 26 14:22:31 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov 26 14:22:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13028] trunk/harbour
In-Reply-To: <E1NDiHm-0008Mg-I5@74yxhf1.ch3.sourceforge.com>
References: <E1NDiHm-0008Mg-I5@74yxhf1.ch3.sourceforge.com>
Message-ID: <2E4EF95F-9A74-4488-9340-1F9696884678@syenar.hu>

Hi Pritpal,

Could you pls tell, why changing the order of xhb 
objs was needed?

So far the obj order was not significant in _any_ 
of our libs, and I'd like to know why is xhb lib 
an exception now.

Brgds,
Viktor

On 2009 Nov 26, at 18:37, vouchcac@users.sourceforge.net wrote:

> Revision: 13028
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13028&view=rev
> Author:   vouchcac
> Date:     2009-11-26 17:37:41 +0000 (Thu, 26 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-26 09:34 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  - contrib/hbide/resources/tabmodified.PNG
>  * contrib/xhb/Makefile
>    ! Changed the order of files in linklist.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/gtwvg/tests/demowvg.prg
>    trunk/harbour/contrib/xhb/Makefile
> 
> Removed Paths:
> -------------
>    trunk/harbour/contrib/hbide/resources/tabmodified.PNG
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Thu Nov 26 15:15:29 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Nov 26 15:15:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13028] trunk/harbour
In-Reply-To: <2E4EF95F-9A74-4488-9340-1F9696884678@syenar.hu>
References: <E1NDiHm-0008Mg-I5@74yxhf1.ch3.sourceforge.com>
	<2E4EF95F-9A74-4488-9340-1F9696884678@syenar.hu>
Message-ID: <26534421.post@talk.nabble.com>


Hi


Viktor Szak?ts wrote:
> 
> Could you pls tell, why changing the order of xhb 
> objs was needed?
> 
> So far the obj order was not significant in _any_ 
> of our libs, and I'd like to know why is xhb lib 
> an exception now.
> 

If you remember I reported back that in hb_ToOutDebug(),
hb_outDebug() is called, which, in mingw environment was being
flagged as "unresolved external". Changing this order fixed it.

It was long back and I exactly do not know now what I did 
as we have changed debugging proto for HBQT. This change was 
just hanging in my local environment so I committed.
May be this is unimportant now.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13028--trunk-harbour-tp26532755p26534421.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From ice at extreme.hu  Thu Nov 26 15:22:24 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Thu Nov 26 15:22:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <20091126030611.GB13456@linux-4bod.home.aster.pl>
References: <E1NCAlm-00065y-PR@3kljzd1.ch3.sourceforge.com>
	<4B0B159E.2010405@dbtopas.lt>
	<20091124014345.GA9197@linux-4bod.home.aster.pl>
	<4B0BBBE3.8010102@dbtopas.lt>
	<20091125103634.GA8323@linux-4bod.home.aster.pl>
	<4B0D41CD.1000700@dbtopas.lt>
	<20091125152054.GA10621@linux-4bod.home.aster.pl>
	<20091126030611.GB13456@linux-4bod.home.aster.pl>
Message-ID: <alpine.DEB.2.00.0911262119410.8775@dawn.royalcomp.hu>

On Thu, 26 Nov 2009, Przemys?aw Czerpak wrote:

hi,

 > I've just committed it:
 > 
 > 2009-11-26 03:45 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)

a typo seems to have snuck in.

Index: src/vm/hvm.c
===================================================================
--- src/vm/hvm.c	(revision 13028)
+++ src/vm/hvm.c	(working copy)
@@ -11401,7 +11401,7 @@
 
 void hb_vmUpdateAllocator( PHB_ALLOCUPDT_FUNC pFunc, int iCount )
 {
-   HB_TRACE(HB_TR_DEBUG, ("hb_vmUpdateAllocator(%p, %d)", pFunc, int iCount));
+   HB_TRACE(HB_TR_DEBUG, ("hb_vmUpdateAllocator(%p, %d)", pFunc, iCount));
 
 #if defined( HB_MT_VM )
    if( s_vmStackLst )



-- 
[-]

mkdir /nonexistent
From harbour.01 at syenar.hu  Thu Nov 26 15:45:48 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov 26 15:45:58 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13028] trunk/harbour
In-Reply-To: <26534421.post@talk.nabble.com>
References: <E1NDiHm-0008Mg-I5@74yxhf1.ch3.sourceforge.com>
	<2E4EF95F-9A74-4488-9340-1F9696884678@syenar.hu>
	<26534421.post@talk.nabble.com>
Message-ID: <DFDD1832-AC33-4C0E-B3A9-49A157E40C04@syenar.hu>

Hi Pritpal,

> Viktor Szak?ts wrote:
>> 
>> Could you pls tell, why changing the order of xhb 
>> objs was needed?
>> 
>> So far the obj order was not significant in _any_ 
>> of our libs, and I'd like to know why is xhb lib 
>> an exception now.
>> 
> 
> If you remember I reported back that in hb_ToOutDebug(),
> hb_outDebug() is called, which, in mingw environment was being
> flagged as "unresolved external". Changing this order fixed it.
> 
> It was long back and I exactly do not know now what I did 
> as we have changed debugging proto for HBQT. This change was 
> just hanging in my local environment so I committed.
> May be this is unimportant now.

Yes, it seems unimportant now, and it was never 
a good fix. Please note, that the order of file 
listing inside Makefiles, doesn't give a guarantee 
on the order of objects inside libs. Depending on 
target compiler lib assembly implementation, it 
may be changed by f.e. by incremental build.

What counts is the ordering of libs. Probably 
you did it when lib grouping change was in a 
temporary state on SVN.

I did a quick test with hbmk2 with and without 
-nolibgrouping and it works properly with old 
obj order.

Please retest and if there is any error report 
it. If not, IMO you should restore it, otherwise 
we may keep wondering in the future why was this 
change needed.

BTW, as we're closing a release, I think you can 
also safely disable these debug calls from the 
GTWVG demo code.

Brgds,
Viktor

From gvarona at ec-red.com  Thu Nov 26 15:53:20 2009
From: gvarona at ec-red.com (http://news.gmane.org/gmane.comp.db.sqlite.general)
Date: Thu Nov 26 15:50:23 2009
Subject: [Harbour] Re: Error in command: @...GET LISTBOX,
 The list box's    drop-down buttonn not appear
In-Reply-To: <609353e70911260826p59ac992dhcdcd5fac00e0ce38@mail.gmail.com>
References: <hem88n$c2f$1@ger.gmane.org>
	<609353e70911260826p59ac992dhcdcd5fac00e0ce38@mail.gmail.com>
Message-ID: <hemplf$2op$1@ger.gmane.org>

[SPA]
Algo extra?o esta pasando, cuando pongo pantalla completa (con 
ALT+Enter), alli si aparece.
En Clipper aparece en ambos modos.

?Alg?n TIP?

[ENG] By Google
Something strange is happening, when I put full screen (with ALT + 
Enter), alli if it appears.
In Clipper appears in both modes.

Any TIP?

TIA

BestRegards
GVS

Massimo Belgrano escribi?:
> I have tried but harbour report
>       Tipo : Tipo 2                        ?
> 
> 
> Follow my //build
> Harbour Build Info
> ---------------------------
> Version: Harbour 2.0.0beta3 (Rev. 13026)
> Compiler: MinGW GNU C 4.4.1 (32-bit)
> Platform: Windows 7 6.1.7600
> PCode version: 0.2
> ChangeLog last entry: 2009-11-26 12:18 UTC+0100 Przemyslaw Czerpak (druzus/at/pr
> iv.onet.pl)
> ChangeLog ID: ChangeLog 13026 2009-11-26 11:18:25Z druzus
> 
> Built on: Nov 26 2009 12:22:47
> Build options:
> Language options: (Clipper 5.3) (Clipper 5.x undoc) (Xbase++) (Flagship)
> ---------------------------
> // info
> Harbour Terminal: Windows native console
> Harbour 2.0.0beta3 (Rev. 13026)
> Windows 7 6.1.7600
> DS avail=1085800KB  OS avail=2063320KB  EMM avail=0KB  MemStat:Off  MT:Off
> 
> 
> 2009/11/26 http://news.gmane.org/gmane.comp.db.sqlite.general
> <gvarona@ec-red.com>:
>> ----------------------------------------------
>> #include "inkey.ch"
>>
>> procedure main
>> LOCAL wTipo := "T2", aTipo := {}
>>
>> AADD(aTipo,{"Tipo 1","T1"})
>> AADD(aTipo,{"Tipo 2","T2"})
>> AADD(aTipo,{"Tipo 3","T3"})
>>
>> //
>> SET( _SET_EVENTMASK, INKEY_ALL )
>> MSETCURSOR( .T. )
>> CLS
>>
>> @ 05,40,10,70 GET wTipo LISTBOX aTipo CAPTION '&Tipo :' DROPDOWN SCROLLBAR
>> COLOR "W/N,B/W+,W/N,W+/B,W/N,N/W*,G/W*,N/G"
>> READ
>>
>> RETURN
>> ----------------------------------------------
>>
>> Output in Clipper:
>>
>>  Tipo : Tipo 2                        ?
>>
>> Output in Harbour:
>>
>>  Tipo : Tipo 2
>> The list box's drop-down buttonn not appear
>>
>> TIA
>>
>> Best Regards
>> GVS
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
> 
> 
> 

From druzus at acn.waw.pl  Thu Nov 26 16:11:05 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 16:11:12 2009
Subject: [Harbour] speedtst and vm
In-Reply-To: <4B0EA70D.20009@libero.it>
References: <4B0E7D22.6070300@libero.it>
 <4B0EA70D.20009@libero.it>
Message-ID: <20091126211105.GA16446@linux-4bod.home.aster.pl>

On Thu, 26 Nov 2009, Maurilio Longo wrote:

Hi,

> the second one is built with
> hbmk2 -mt -gc3 speedtst
> and not -gc2 as I wrongly wrote before.
> > I've made a couple of tests: in the first one speedtst was built with
> > hbmk2 -mt speedtst
> > in the second with
> > hbmk2 -mt -gc2 speedtst
> > 
> > Now, calling
> > speedtst --thread=2 --scale
> > 
> > on a PIV HT with OS/2 and a SMP kernel I see that the first speedtst when run
> > has a scaling factor of 1.18 while the second one has a scaling factor of 1.32.
> > 
> > Question is: is this simply a result of the more work the vm has to do
> > compared to the -gc3 build or are there serialization points inside the vm
> > which slow the first speedtst compared to the second?

No. Just simply the proportions between cost of different operations has
been changed or it's effect of some activity of other processes which
reduce simultaneous access to two different CPUs. Please remember that
in this test real time is used so any other code executed by OS strongly
reduce the scalability factor.

Harbour core code is MT safe in practice without any internal locks.
There is only one exception bound with memory allocation. Allocating
new complex items like codeblocks, arrays, hashes or GC pointers activates
code which needs mutex lock to register new GC memory block in a list of
GC blocks. It's very short lock but when you execute test like --scale in
speedtst where two threads make exactly the same operations in a loop then
it can highly exploits this fact and reduce scalability factor. How much it
depends on used hardware and OS. In speedtst.prg few tests allocates and
destroys complex items in a loop. [ T044: x := {} ] which does not make
anything more is the best to illustrate maximal overhead using given
hardware and OS. The cost of failing locks strongly depends on hardware
and test shows that sometimes there are huge differences between very
similar computers which use only a little bit different mainboards and/or
CPUs. Important is also the cost of suspending and resuming threads when
lock fails which depends on used OS (sometimes also CRTL).
It's very important for good scalability to eliminate all possible locks
which can often fail. The best is the code which is fully reentrant safe
and do not use any locks but test shows that locks which nearly always
success do not reduce performance.
As I said in Harbour core code only memory allocation for complex items
uses internal locks. But also outside Harbour core code memory manager
which is not optimized to work well in MT environment can use internal
locks and reduce the scalability. In such case HB_FM_DLMT_ALLOC can be
used which uses 16 separate memory pools to reduce possible conflicts
on multi CPU machines.

In the future we can try to use similar trick to reduce possible conflicts
in code which allocates new complex items. For sure it will nicely improve
scalability in tests like [ T044: x := {} ] but in real applications which
make also other things then allocating empty array in a loop the chance for
lock conflict is much smaller so it's not be such important. Anyhow I plan
to make it so it can be enabled at least optionally at Harbour build time
for some machines which have really big number of CPUs and programs which
use many threads extensively using existing CPUs.

BTW I've just made test on my 3 CPU machine to compare scalability for
2 threads. I intentionally used 2 threads in test instead of 3 to reduce
the factor reduction by other processes running in this system. I also
disable power saving mode with automatic CPU frequency updating - it
can hardly reduce scalability in some cases. Below are detail results.

Then I repeated it with disabled tests allocating complex items in a loop:

   ./speedtst --thread=2 --scale --exclude=023,025,027,031,041,042,044

Results are also below. DLMT was used as memory manager in this Harbour
build. As you can see we have nearly perfect scalability and only factor in:
   [ T004: x := S_C ]______________________________  0.14   0.24 ->  0.59
is not close to 2.0 and it's expected behavior because in this test two
threads operate on exactly the same string item increasing and decreasing
its reference counter in hardware atomic inc/dec operations what of course
needs low level hardware synchronization between CPUs. T004 is also quite
good test to check the hardware cost of lock failing because it's comparable
to conflict in LOCK INC/ LOCK DEC operations.

best regards,
Przemek



2009.11.26 21:44:59 Linux 2.6.31.5-0.1-desktop x86_64
Harbour 2.0.0beta3 (Rev. 13026) (MT)+ GNU C 4.4 (64-bit) x86-64
THREADS: 2
N_LOOPS: 1000000
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.12   0.06 ->  2.00
[ T002: x := L_N ]____________________________________  0.10   0.05 ->  1.96
[ T003: x := L_D ]____________________________________  0.10   0.05 ->  2.00
[ T004: x := S_C ]____________________________________  0.15   0.24 ->  0.62
[ T005: x := S_N ]____________________________________  0.12   0.07 ->  1.78
[ T006: x := S_D ]____________________________________  0.12   0.06 ->  1.91
[ T007: x := M->M_C ]_________________________________  0.16   0.08 ->  1.99
[ T008: x := M->M_N ]_________________________________  0.14   0.07 ->  1.99
[ T009: x := M->M_D ]_________________________________  0.14   0.07 ->  2.01
[ T010: x := M->P_C ]_________________________________  0.16   0.08 ->  1.99
[ T011: x := M->P_N ]_________________________________  0.14   0.07 ->  1.99
[ T012: x := M->P_D ]_________________________________  0.14   0.07 ->  2.00
[ T013: x := F_C ]____________________________________  0.38   0.19 ->  1.97
[ T014: x := F_N ]____________________________________  0.42   0.21 ->  2.00
[ T015: x := F_D ]____________________________________  0.24   0.12 ->  1.99
[ T016: x := o:Args ]_________________________________  0.31   0.15 ->  2.00
[ T017: x := o[2] ]___________________________________  0.21   0.10 ->  1.97
[ T018: round( i / 1000, 2 ) ]________________________  0.47   0.24 ->  1.91
[ T019: str( i / 1000 ) ]_____________________________  0.82   0.41 ->  2.01
[ T020: val( s ) ]____________________________________  0.45   0.23 ->  2.01
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  0.71   0.36 ->  1.99
[ T022: dtos( d - i % 10000 ) ]_______________________  0.69   0.34 ->  2.01
[ T023: eval( { || i % 16 } ) ]_______________________  0.85   0.96 ->  0.89
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.50   0.25 ->  1.98
[ T025: eval( { |x| x % 16 }, i ) ]___________________  0.64   0.98 ->  0.66
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.49   0.24 ->  2.00
[ T027: eval( { |x| f1( x ) }, i ) ]__________________  0.74   1.17 ->  0.64
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.57   0.28 ->  2.00
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  0.59   0.29 ->  2.02
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________  4.88   2.58 ->  1.89
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]______  5.91   3.40 ->  1.74
[ T032: x := valtype( x ) +  valtype( i ) ]___________  0.71   0.36 ->  1.98
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  1.19   0.60 ->  1.99
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.49   0.25 ->  2.00
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  0.51   0.26 ->  2.01
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  0.51   0.26 ->  2.00
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  0.51   0.26 ->  2.00
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  0.51   0.26 ->  1.99
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  0.52   0.26 ->  1.98
[ T040: ascan( a, i % 16 ) ]__________________________  0.54   0.27 ->  2.04
[ T041: ascan( a, { |x| x == i % 16 } ) ]_____________  5.05   3.08 ->  1.64
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s ]  1.56   1.15 ->  1.36
[ T043: x := a ]______________________________________  0.13   0.06 ->  1.98
[ T044: x := {} ]_____________________________________  0.30   0.64 ->  0.47
[ T045: f0() ]________________________________________  0.18   0.09 ->  2.06
[ T046: f1( i ) ]_____________________________________  0.24   0.12 ->  2.03
[ T047: f2( c[1...8] ) ]______________________________  0.24   0.12 ->  1.98
[ T048: f2( c[1...40000] ) ]__________________________  0.24   0.12 ->  2.05
[ T049: f2( @c[1...40000] ) ]_________________________  0.24   0.12 ->  2.04
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.29   0.14 ->  2.05
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  0.59   0.30 ->  1.95
[ T052: f2( a ) ]_____________________________________  0.24   0.12 ->  2.04
[ T053: x := f4() ]___________________________________  0.83   0.44 ->  1.91
[ T054: x := f5() ]___________________________________  0.48   0.24 ->  1.99
[ T055: x := space(16) ]______________________________  0.37   0.19 ->  1.97
[ T056: f_prv( c ) ]__________________________________  0.67   0.33 ->  2.01
============================================================================
[   TOTAL   ]_________________________________________ 38.62  23.50 ->  1.64
============================================================================
[ total application time: ]....................................85.03
[ total real time: ]...........................................62.12


2009.11.26 21:46:55 Linux 2.6.31.5-0.1-desktop x86_64
Harbour 2.0.0beta3 (Rev. 13026) (MT)+ GNU C 4.4 (64-bit) x86-64
THREADS: 2
N_LOOPS: 1000000
excluded tests: 023,025,027,031,041,042,044 
                                                        1 th.  2 th.  factor
============================================================================
[ T001: x := L_C ]____________________________________  0.12   0.06 ->  1.98
[ T002: x := L_N ]____________________________________  0.10   0.05 ->  2.02
[ T003: x := L_D ]____________________________________  0.10   0.05 ->  2.00
[ T004: x := S_C ]____________________________________  0.14   0.24 ->  0.59
[ T005: x := S_N ]____________________________________  0.12   0.06 ->  1.98
[ T006: x := S_D ]____________________________________  0.12   0.06 ->  1.98
[ T007: x := M->M_C ]_________________________________  0.15   0.08 ->  1.96
[ T008: x := M->M_N ]_________________________________  0.14   0.07 ->  1.99
[ T009: x := M->M_D ]_________________________________  0.14   0.07 ->  2.00
[ T010: x := M->P_C ]_________________________________  0.16   0.08 ->  2.01
[ T011: x := M->P_N ]_________________________________  0.14   0.07 ->  1.97
[ T012: x := M->P_D ]_________________________________  0.14   0.07 ->  1.99
[ T013: x := F_C ]____________________________________  0.37   0.19 ->  1.94
[ T014: x := F_N ]____________________________________  0.41   0.21 ->  1.97
[ T015: x := F_D ]____________________________________  0.24   0.12 ->  2.02
[ T016: x := o:Args ]_________________________________  0.32   0.16 ->  1.99
[ T017: x := o[2] ]___________________________________  0.21   0.11 ->  2.00
[ T018: round( i / 1000, 2 ) ]________________________  0.45   0.24 ->  1.86
[ T019: str( i / 1000 ) ]_____________________________  0.75   0.38 ->  1.99
[ T020: val( s ) ]____________________________________  0.45   0.22 ->  2.02
[ T021: val( a [ i % 16 + 1 ] ) ]_____________________  0.68   0.34 ->  2.02
[ T022: dtos( d - i % 10000 ) ]_______________________  0.66   0.33 ->  2.02
[ T024: eval( bc := { || i % 16 } ) ]_________________  0.49   0.25 ->  1.96
[ T026: eval( bc := { |x| x % 16 }, i ) ]_____________  0.49   0.24 ->  2.00
[ T028: eval( bc := { |x| f1( x ) }, i ) ]____________  0.57   0.29 ->  1.98
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ]_______  0.58   0.29 ->  2.02
[ T030: x := &( "f1(" + str(i) + ")" ) ]______________  4.97   2.63 ->  1.89
[ T032: x := valtype( x ) +  valtype( i ) ]___________  0.73   0.36 ->  2.03
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]  1.17   0.59 ->  1.98
[ T034: x := a[ i % 16 + 1 ] == s ]___________________  0.49   0.24 ->  1.99
[ T035: x := a[ i % 16 + 1 ] = s ]____________________  0.52   0.26 ->  2.03
[ T036: x := a[ i % 16 + 1 ] >= s ]___________________  0.52   0.26 ->  2.01
[ T037: x := a[ i % 16 + 1 ] <= s ]___________________  0.51   0.25 ->  2.01
[ T038: x := a[ i % 16 + 1 ] < s ]____________________  0.52   0.26 ->  2.00
[ T039: x := a[ i % 16 + 1 ] > s ]____________________  0.52   0.26 ->  1.98
[ T040: ascan( a, i % 16 ) ]__________________________  0.54   0.26 ->  2.05
[ T043: x := a ]______________________________________  0.13   0.06 ->  2.00
[ T045: f0() ]________________________________________  0.19   0.09 ->  2.16
[ T046: f1( i ) ]_____________________________________  0.24   0.12 ->  2.09
[ T047: f2( c[1...8] ) ]______________________________  0.25   0.12 ->  2.10
[ T048: f2( c[1...40000] ) ]__________________________  0.25   0.12 ->  2.11
[ T049: f2( @c[1...40000] ) ]_________________________  0.24   0.12 ->  1.98
[ T050: f2( @c[1...40000] ), c2 := c ]________________  0.29   0.15 ->  1.95
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]__________  0.60   0.30 ->  1.99
[ T052: f2( a ) ]_____________________________________  0.25   0.12 ->  2.07
[ T053: x := f4() ]___________________________________  0.81   0.41 ->  1.98
[ T054: x := f5() ]___________________________________  0.49   0.25 ->  1.99
[ T055: x := space(16) ]______________________________  0.36   0.19 ->  1.93
[ T056: f_prv( c ) ]__________________________________  0.69   0.34 ->  2.02
============================================================================
[   TOTAL   ]_________________________________________ 23.49  12.07 ->  1.95
============================================================================
[ total application time: ]....................................47.37
[ total real time: ]...........................................35.56
From druzus at users.sourceforge.net  Thu Nov 26 16:26:14 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Nov 26 16:26:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13029] trunk/harbour
Message-ID: <E1NDlqw-0003TW-Sd@74yxhf1.ch3.sourceforge.com>

Revision: 13029
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13029&view=rev
Author:   druzus
Date:     2009-11-26 21:26:13 +0000 (Thu, 26 Nov 2009)

Log Message:
-----------
2009-11-26 22:26 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/garbage.c
    % small improvement in HB_GC_AUTO code

  * harbour/include/hbdefs.h
    ! reverted the hack which casted file handles to unsigned values
      I added two weeks ago - it was also converting FS_ERROR value
      from -1 to 4294967295. Please remember that on some platforms
      negative handles can exist and are valid. Only -1 indicates an
      error.

  * harbour/utils/hbtest/rt_file.prg
    + added regression test for FOPEN() FS_ERROR value

  * harbour/contrib/hbwin/legacycd.c
  * harbour/contrib/hbwin/legacyco.c
    * added missing EOL at EOF

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/legacycd.c
    trunk/harbour/contrib/hbwin/legacyco.c
    trunk/harbour/include/hbdefs.h
    trunk/harbour/src/vm/garbage.c
    trunk/harbour/utils/hbtest/rt_file.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Thu Nov 26 16:35:11 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Thu Nov 26 16:35:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13030] trunk/harbour
Message-ID: <E1NDlzb-0003be-3x@74yxhf1.ch3.sourceforge.com>

Revision: 13030
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13030&view=rev
Author:   druzus
Date:     2009-11-26 21:35:09 +0000 (Thu, 26 Nov 2009)

Log Message:
-----------
2009-11-26 22:35 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/hvm.c
    ! fixed typo in HB_TRACE message - thanks to Tamas for the info.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/hvm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Nov 26 16:35:37 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 16:35:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <alpine.DEB.2.00.0911262119410.8775@dawn.royalcomp.hu>
References: <E1NCAlm-00065y-PR@3kljzd1.ch3.sourceforge.com>
	<4B0B159E.2010405@dbtopas.lt>
	<20091124014345.GA9197@linux-4bod.home.aster.pl>
	<4B0BBBE3.8010102@dbtopas.lt>
	<20091125103634.GA8323@linux-4bod.home.aster.pl>
	<4B0D41CD.1000700@dbtopas.lt>
	<20091125152054.GA10621@linux-4bod.home.aster.pl>
	<20091126030611.GB13456@linux-4bod.home.aster.pl>
	<alpine.DEB.2.00.0911262119410.8775@dawn.royalcomp.hu>
Message-ID: <20091126213537.GA23649@linux-4bod.home.aster.pl>

On Thu, 26 Nov 2009, Tamas TEVESZ wrote:
>  > I've just committed it:
>  > 
>  > 2009-11-26 03:45 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> a typo seems to have snuck in.
> Index: src/vm/hvm.c
> ===================================================================
> --- src/vm/hvm.c	(revision 13028)
> +++ src/vm/hvm.c	(working copy)
> @@ -11401,7 +11401,7 @@
>  
>  void hb_vmUpdateAllocator( PHB_ALLOCUPDT_FUNC pFunc, int iCount )
>  {
> -   HB_TRACE(HB_TR_DEBUG, ("hb_vmUpdateAllocator(%p, %d)", pFunc, int iCount));
> +   HB_TRACE(HB_TR_DEBUG, ("hb_vmUpdateAllocator(%p, %d)", pFunc, iCount));
>  
>  #if defined( HB_MT_VM )
>     if( s_vmStackLst )

Yes, thank you for information.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Nov 26 16:37:32 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 16:37:40 2009
Subject: [Harbour] Re: Error in command: @...GET LISTBOX, The list
	box's    drop-down buttonn not appear
In-Reply-To: <hemplf$2op$1@ger.gmane.org>
References: <hem88n$c2f$1@ger.gmane.org>
	<609353e70911260826p59ac992dhcdcd5fac00e0ce38@mail.gmail.com>
	<hemplf$2op$1@ger.gmane.org>
Message-ID: <20091126213732.GB23649@linux-4bod.home.aster.pl>

On Thu, 26 Nov 2009, http://news.gmane.org/gmane.comp.db.sqlite.general wrote:

Hi,

> Something strange is happening, when I put full screen (with ALT +
> Enter), alli if it appears.
> In Clipper appears in both modes.
> Any TIP?

Yes, change the font in your console window setting and chose
the one which have the character you want to see. It's not
Harbour problem.

best regards,
Przemek
From gvarona at ec-red.com  Thu Nov 26 17:13:07 2009
From: gvarona at ec-red.com (http://news.gmane.org/gmane.comp.db.sqlite.general)
Date: Thu Nov 26 17:10:10 2009
Subject: [Harbour] Re: Error in command: @...GET LISTBOX,
 The list   box's    drop-down buttonn not appear
In-Reply-To: <20091126213732.GB23649@linux-4bod.home.aster.pl>
References: <hem88n$c2f$1@ger.gmane.org>	<609353e70911260826p59ac992dhcdcd5fac00e0ce38@mail.gmail.com>	<hemplf$2op$1@ger.gmane.org>
	<20091126213732.GB23649@linux-4bod.home.aster.pl>
Message-ID: <hemub1$ftg$1@ger.gmane.org>

Przemys?aw Czerpak escribi?:
> On Thu, 26 Nov 2009, http://news.gmane.org/gmane.comp.db.sqlite.general wrote:
> 
> Hi,
> 
>> Something strange is happening, when I put full screen (with ALT +
>> Enter), alli if it appears.
>> In Clipper appears in both modes.
>> Any TIP?
> 
> Yes, change the font in your console window setting and chose
> the one which have the character you want to see. It's not
> Harbour problem.

[SPA]
Bien Pzremek, Gracias por responder.
La ventana de la consola, solamente tiene 2 fuentes:
1.- Fuentes de Mapa de Bits, y
2.- Lucida Console
El problema es con Lucida Console.
Con los fuentes de mapa de bits funciona bien, sin embargo se ve la 
pantalla muy chica, aun cuando use el tama?o m?ximo (10x18).

Como dije antes, en clipper se muestra correctamente usando cualquiera 
de los 2 modos.

?Habr? alguna otra forma de solucionar este problema?

[ENG] By Google
Pzremek Well, Thanks for responding.
The console window, only has 2 sources:
1 .- Bitmap fonts, and
2 .- Lucida Console
The problem is with Lucida Console.
With the bitmap fonts work well, however the screen is too small, even 
when using the maximum size (10x18).

As I said before, in clipper is displayed correctly using any of the 2 
modes.

Will there be any other way to solve this problem?

TIA

BestRegards
GVS


From vouchcac at users.sourceforge.net  Thu Nov 26 17:12:46 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Thu Nov 26 17:12:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13031] trunk/harbour
Message-ID: <E1NDmZy-0007yG-6d@d5vjzd1.ch3.sourceforge.com>

Revision: 13031
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13031&view=rev
Author:   vouchcac
Date:     2009-11-26 22:12:44 +0000 (Thu, 26 Nov 2009)

Log Message:
-----------
2009-11-26 14:09 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/gtwvg/tests/demowvg.prg
    ! Removed all hb_ToOutDebug() calls.

  * contrib/gtwvg/tests/demoxbp.prg
    ! Removed all hb_ToOutDebug() calls.

  * contrib/hbide/hbide.prg
    ! Few more artifacts fixed.

  * contrib/xhb/Makefile
    ! Reverted back to original before my last commit.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/tests/demowvg.prg
    trunk/harbour/contrib/gtwvg/tests/demoxbp.prg
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/xhb/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Thu Nov 26 19:29:21 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Thu Nov 26 19:29:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13031] trunk/harbour
In-Reply-To: <E1NDmZy-0007yG-6d@d5vjzd1.ch3.sourceforge.com>
References: <E1NDmZy-0007yG-6d@d5vjzd1.ch3.sourceforge.com>
Message-ID: <D6768E42-030F-4436-AE12-D3B58B0A6BC3@syenar.hu>

Thank you very much.

Brgds,
Viktor

On 2009 Nov 26, at 23:12, vouchcac@users.sourceforge.net wrote:

> Revision: 13031
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13031&view=rev
> Author:   vouchcac
> Date:     2009-11-26 22:12:44 +0000 (Thu, 26 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-26 14:09 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
>  * contrib/gtwvg/tests/demowvg.prg
>    ! Removed all hb_ToOutDebug() calls.
> 
>  * contrib/gtwvg/tests/demoxbp.prg
>    ! Removed all hb_ToOutDebug() calls.
> 
>  * contrib/hbide/hbide.prg
>    ! Few more artifacts fixed.
> 
>  * contrib/xhb/Makefile
>    ! Reverted back to original before my last commit.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/gtwvg/tests/demowvg.prg
>    trunk/harbour/contrib/gtwvg/tests/demoxbp.prg
>    trunk/harbour/contrib/hbide/hbide.prg
>    trunk/harbour/contrib/xhb/Makefile
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Thu Nov 26 20:01:19 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 20:01:27 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <20091126145652.GA8172@linux-4bod.home.aster.pl>
References: <4B0E76E8.6070800@mail.udg.mx>
	<20091126145652.GA8172@linux-4bod.home.aster.pl>
Message-ID: <20091127010119.GA31820@linux-4bod.home.aster.pl>

On Thu, 26 Nov 2009, Przemys?aw Czerpak wrote:

Hi David,

> Sorry but now I'm really confused. All what I know about results
> of real life OS/2 test comes from you and Maurilio messages.
> Now I'm OpenWatcom builds reading that it was never working
> correctly in MT mode in whole Harbour history and always fail
> in MT mode when second thread accessed GTOS2 function (I guess
> that speedtst works correctly with current SVN code when is linked
> with GTCGI).
> Can you and Maurilio confirm it?

I've reread again old messages and you wrote that the problem can
be resolved by removing -s compile time switch. Can you confirm that
it is still true and if you remove -s from config/os2/watcom.mk[42]
and utils/hbmk2/hbmk2.prg[2706] then MT version of
   speedtst --thread
works?

best regards,
Przemek
From tech at 2dinfo.com.br  Thu Nov 26 21:09:31 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Thu Nov 26 20:10:09 2009
Subject: [Harbour] Qt libs static link
In-Reply-To: <400B79783F074210B95BF67F757ECFCE@noteleo>
References: <DA75E035EF364233B4C3DD9F19A0FEDB@noteleo><97452E23027542DA83E74E934DD39448@noteleo><29C647AA-CCFC-458A-BE64-C5900C86DFA8@syenar.hu>
	<400B79783F074210B95BF67F757ECFCE@noteleo>
Message-ID: <23A04DDA31BB4E6E86824EC2DB2158B6@noteleo>

Hi !
After setting HB_QT_STATIC = yes, I could generate HBQT static version libs, 
but when I try to build hbide.hbp (or any other hbxbp + hbqt based sample) 
using hbqts.hbc instead of hbqt.hbc (at hbxbp.hbc) hbmk2 mounts the 
executable, but the executable doesn't work.

Hbmk2 shows the following message:

=================================
C:\harbour\contrib\hbide>hbmk2 hbide.hbp
hbmk2: Processing environment options: -platform=win -compiler=mingw
hbmk2: Linkando... hbide.exe
Info: resolving QObject::staticMetaObject       by linking to 
__imp___ZN7QObject16staticMetaObjectE (auto-import)
Info: resolving QString::codecForCStrings       by linking to 
__imp___ZN7QString16codecForCStringsE (auto-import)
Info: resolving QListData::shared_null       by linking to 
__imp___ZN9QListData11shared_nullE (auto-import)
Info: resolving QAction::staticMetaObject       by linking to 
__imp___ZN7QAction16staticMetaObjectE (auto-import)
Info: resolving QVectorData::shared_null        by linking to 
__imp___ZN11QVectorData11shared_nullE (auto-import)
Info: resolving QSyntaxHighlighter::staticMetaObject        by linking to 
__imp___ZN18QSyntaxHighlighter16staticMetaObjectE (auto-import)
Info: resolving QTableView::staticMetaObject        by linking to 
__imp___ZN10QTableView16staticMetaObjectE (auto-import)
Info: resolving QAbstractItemModel::staticMetaObject        by linking to 
__imp___ZN18QAbstractItemModel16staticMetaObjectE (auto-import)
Info: resolving QWidget::staticMetaObject       by linking to 
__imp___ZN7QWidget16staticMetaObjectE (auto-import)
Info: resolving QMainWindow::staticMetaObject        by linking to 
__imp___ZN11QMainWindow16staticMetaObjectE (auto-import)
Info: resolving QString::shared_null       by linking to 
__imp___ZN7QString11shared_nullE (auto-import)
Info: resolving QByteArray::shared_null        by linking to 
__imp___ZN10QByteArray11shared_nullE (auto-import)
Info: resolving vtable for QEventby linking to __imp___ZTV6QEvent 
(auto-import)
Info: resolving vtable for QMouseEventby linking to __imp___ZTV11QMouseEvent 
(auto-import)
Info: resolving QVariant::handler      by linking to 
__imp___ZN8QVariant7handlerE (auto-import)
Info: resolving vtable for QBitmapby linking to __imp___ZTV7QBitmap 
(auto-import)
Info: resolving QCoreApplication::self       by linking to 
__imp___ZN16QCoreApplication4selfE (auto-import)
C:\MINGW\BIN\..\lib\gcc\mingw32\3.4.5\..\..\..\..\mingw32\bin\ld.exe: 
warning: auto-importing has been activated without --enable-auto-import 
specified on the command line.
This should work unless it involves constant data structures referencing 
symbols from auto-imported DLLs.

=========================================

Even linked to static version of hbqt libs, the executable looks/asks  for 
QtCore4.dll and if the DLL is reachable it crashes with message "Aplication 
Error - Application not initialized correctly"

Am I doing something wrong?
Thanks
Leandro Damasio
 

From bruno.luciani at gmail.com  Thu Nov 26 20:25:22 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Thu Nov 26 20:25:30 2009
Subject: [Harbour] Problems updating from SVN
Message-ID: <133778360911261725j18e7120bk778d0bb2b52e8f88@mail.gmail.com>

Something Strange happens  when i try to update via SVN

 Bruno

//////////////////////////

bruno@notebook:~$ svn co
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunkharbour_svn
svn: Error al convertir la entrada en el directorio
?harbour_svn/harbour/contrib/hbide? a UTF-8
svn: Datos UTF-8 v?lidos
(hex:)
seguidos de una secuencia UTF-8 inv?lida
(hex: d0 d3 43)
bruno@notebook:~$
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091126/796cca2a/attachment-0001.html
From dbtopas at dbtopas.lt  Thu Nov 26 20:40:53 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Nov 26 20:42:51 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>
Message-ID: <4B0F2E25.5090003@dbtopas.lt>

Enrico Maria Giordano wrote:
> In the following sample, GetRows() method returns NIL (correctly returns 
> an array using xHarbour):

Hi,

Current Harbour OLE implementation supports only one dimensional array. 
I'll try to add support for multidimensional array in spare time.


Regards,
Mindaugas
From snaiperis at users.sourceforge.net  Thu Nov 26 21:29:38 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Thu Nov 26 21:29:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13032] trunk/harbour
Message-ID: <E1NDqaY-0000jB-B3@3kljzd1.ch3.sourceforge.com>

Revision: 13032
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13032&view=rev
Author:   snaiperis
Date:     2009-11-27 02:29:37 +0000 (Fri, 27 Nov 2009)

Log Message:
-----------
2009-11-27 04:29 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/hbwin/olecore.c
    + added support (VARIANT to ITEM) for multidimensional arrays

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/olecore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Thu Nov 26 21:29:28 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Nov 26 21:31:26 2009
Subject: [Harbour] RDD: ADT -> ADSADT
Message-ID: <4B0F3988.7080404@dbtopas.lt>

Hi,


current ADS RDD is registered using names: ADS, ADT, ADSCDX, ADSNTX,
ADSVFP. RDD SYSNAME method (i.e., RDDNAME()) can return one of the
following values: ADSADT, ADSCDX, ADSNTX, ADSVFP. Original C level ADS
defines for different database types are: ADS_CDX, ADS_NTX, ADS_VFP,
ADT_ADT.

I propose to rename RDD from ADT to ADSADT, thus making both correct
RDDNAME() return value and to be compatible with naming scheme of
another ADS RDDs. Any objections?


Regards,
Mindaugas
From druzus at acn.waw.pl  Thu Nov 26 21:57:37 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 21:57:44 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <4B0F2E25.5090003@dbtopas.lt>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>
	<4B0F2E25.5090003@dbtopas.lt>
Message-ID: <20091127025737.GA511@linux-4bod.home.aster.pl>

On Fri, 27 Nov 2009, Mindaugas Kavaliauskas wrote:
> Enrico Maria Giordano wrote:
> >In the following sample, GetRows() method returns NIL (correctly
> >returns an array using xHarbour):
> Current Harbour OLE implementation supports only one dimensional
> array. I'll try to add support for multidimensional array in spare
> time.

Hi,

I've just check that there is also bad typo which causes that it does
not convert even one dimensional VT_ARRAYS to Harbour items.
I'll commit fix in a while so if this code needs only one dimensional
arrays the it may be enough.
Please test.

best regards,
Przemek
From dbtopas at dbtopas.lt  Thu Nov 26 22:02:26 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Nov 26 22:04:22 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <20091127025737.GA511@linux-4bod.home.aster.pl>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>	<4B0F2E25.5090003@dbtopas.lt>
	<20091127025737.GA511@linux-4bod.home.aster.pl>
Message-ID: <4B0F4142.3040808@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
> I've just check that there is also bad typo which causes that it does
> not convert even one dimensional VT_ARRAYS to Harbour items.
> I'll commit fix in a while so if this code needs only one dimensional
> arrays the it may be enough.
> Please test.

I found two:
   if( lFrom >= lTo )   // cause hb_itemClear() fall through
and
   hb_arrayGetItemPtr( pItem, ul++ ) (or ul = 0;) // GPF

I've not replicated it.


Regards,
Mindaugas
From druzus at acn.waw.pl  Thu Nov 26 22:05:14 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 22:05:21 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <20091127025737.GA511@linux-4bod.home.aster.pl>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>
	<4B0F2E25.5090003@dbtopas.lt>
	<20091127025737.GA511@linux-4bod.home.aster.pl>
Message-ID: <20091127030514.GA1172@linux-4bod.home.aster.pl>

On Fri, 27 Nov 2009, Przemys?aw Czerpak wrote:
> I've just check that there is also bad typo which causes that it does
> not convert even one dimensional VT_ARRAYS to Harbour items.
> I'll commit fix in a while so if this code needs only one dimensional
> arrays the it may be enough.
> Please test.

Ups, you were faster :-)
Thank you.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Nov 26 22:10:25 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 22:10:32 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <4B0F4142.3040808@dbtopas.lt>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>
	<4B0F2E25.5090003@dbtopas.lt>
	<20091127025737.GA511@linux-4bod.home.aster.pl>
	<4B0F4142.3040808@dbtopas.lt>
Message-ID: <20091127031024.GA1265@linux-4bod.home.aster.pl>

On Fri, 27 Nov 2009, Mindaugas Kavaliauskas wrote:

Hi,

> >I've just check that there is also bad typo which causes that it does
> >not convert even one dimensional VT_ARRAYS to Harbour items.
> >I'll commit fix in a while so if this code needs only one dimensional
> >arrays the it may be enough.
> >Please test.
> I found two:
>   if( lFrom >= lTo )   // cause hb_itemClear() fall through
> and
>   hb_arrayGetItemPtr( pItem, ul++ ) (or ul = 0;) // GPF

I haven't seen the second one.

> I've not replicated it.

yes, good job. Again thank you very much.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Nov 26 22:17:51 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 22:17:58 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <20091127031024.GA1265@linux-4bod.home.aster.pl>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>
	<4B0F2E25.5090003@dbtopas.lt>
	<20091127025737.GA511@linux-4bod.home.aster.pl>
	<4B0F4142.3040808@dbtopas.lt>
	<20091127031024.GA1265@linux-4bod.home.aster.pl>
Message-ID: <20091127031751.GA1504@linux-4bod.home.aster.pl>

On Fri, 27 Nov 2009, Przemys?aw Czerpak wrote:

Hi

> > I found two:
> >   if( lFrom >= lTo )   // cause hb_itemClear() fall through
> > and
> >   hb_arrayGetItemPtr( pItem, ul++ ) (or ul = 0;) // GPF
> I haven't seen the second one.
> > I've not replicated it.
> yes, good job. Again thank you very much.

But we have new one. Looks that
   VariantInit( &vItem );
at line 517 is missing.

best regards,
Przemek
From dbtopas at dbtopas.lt  Thu Nov 26 22:17:17 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Nov 26 22:19:14 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <20091127031024.GA1265@linux-4bod.home.aster.pl>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>	<4B0F2E25.5090003@dbtopas.lt>	<20091127025737.GA511@linux-4bod.home.aster.pl>	<4B0F4142.3040808@dbtopas.lt>
	<20091127031024.GA1265@linux-4bod.home.aster.pl>
Message-ID: <4B0F44BD.30302@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
> yes, good job. Again thank you very much.

I've also looked at SafeArrayToArray() function from xHarbour 
win32ole.prg, but after 10 seconds I've understood it's better not to 
look at this, because I can start to replicate it. So, that's the reason 
why hb_oleSafeArrayToItem() is so short and simple :)


Regards,
Mindaugas

From snaiperis at users.sourceforge.net  Thu Nov 26 22:21:54 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Thu Nov 26 22:22:01 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13033] trunk/harbour
Message-ID: <E1NDrP8-00068m-LA@dn4whf1.ch3.sourceforge.com>

Revision: 13033
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13033&view=rev
Author:   snaiperis
Date:     2009-11-27 03:21:53 +0000 (Fri, 27 Nov 2009)

Log Message:
-----------
2009-11-27 05:21 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/hbwin/olecore.c
    ! added missing VARIANT initialization

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/olecore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Thu Nov 26 22:20:43 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Nov 26 22:22:39 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <20091127031751.GA1504@linux-4bod.home.aster.pl>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>	<4B0F2E25.5090003@dbtopas.lt>	<20091127025737.GA511@linux-4bod.home.aster.pl>	<4B0F4142.3040808@dbtopas.lt>	<20091127031024.GA1265@linux-4bod.home.aster.pl>
	<20091127031751.GA1504@linux-4bod.home.aster.pl>
Message-ID: <4B0F458B.50201@dbtopas.lt>

Hi,

> But we have new one. Looks that
>    VariantInit( &vItem );
> at line 517 is missing.

I know, but you are faster this time :)


Regards,
Mindaugas
From snaiperis at users.sourceforge.net  Thu Nov 26 22:31:22 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Thu Nov 26 22:31:27 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13034] trunk/harbour
Message-ID: <E1NDrYI-0006M9-1E@dn4whf1.ch3.sourceforge.com>

Revision: 13034
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13034&view=rev
Author:   snaiperis
Date:     2009-11-27 03:31:20 +0000 (Fri, 27 Nov 2009)

Log Message:
-----------
2009-11-27 05:31 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/hbwin/olecore.c
    * more beautiful and speed optimized version of last commit

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/olecore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Thu Nov 26 22:41:52 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 22:41:59 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <4B0F44BD.30302@dbtopas.lt>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>
	<4B0F2E25.5090003@dbtopas.lt>
	<20091127025737.GA511@linux-4bod.home.aster.pl>
	<4B0F4142.3040808@dbtopas.lt>
	<20091127031024.GA1265@linux-4bod.home.aster.pl>
	<4B0F44BD.30302@dbtopas.lt>
Message-ID: <20091127034152.GA1842@linux-4bod.home.aster.pl>

On Fri, 27 Nov 2009, Mindaugas Kavaliauskas wrote:

Hi,

> I've also looked at SafeArrayToArray() function from xHarbour
> win32ole.prg, but after 10 seconds I've understood it's better not
> to look at this, because I can start to replicate it. So, that's the
> reason why hb_oleSafeArrayToItem() is so short and simple :)

Yes it's really nice though it probably can be even simpler without
recursion.
This code allocates memory for index array using hb_xgrab() and needs
recursion only for allocating dynamically lFrom and lTo on C stack.
It means that it should be enough to allocate memory 3 times bigger
for lIndex[es], lFrom[s] and lTo[s] and convert array in two nested
loops.
Hmm, it will be shorter and probably a little bit faster but I cannot
say if such version is more readable. It's necessary to compare final
code to answer. Maybe in some spare time ;-)

BTW in MS documentation dimensions are stored in 'unsigned int' instead
of 'int'. Maybe we should follow it?

best regards,
Przemek
From druzus at acn.waw.pl  Thu Nov 26 22:45:53 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 22:46:01 2009
Subject: [Harbour] RDD: ADT -> ADSADT
In-Reply-To: <4B0F3988.7080404@dbtopas.lt>
References: <4B0F3988.7080404@dbtopas.lt>
Message-ID: <20091127034553.GB1842@linux-4bod.home.aster.pl>

On Fri, 27 Nov 2009, Mindaugas Kavaliauskas wrote:

Hi,

> current ADS RDD is registered using names: ADS, ADT, ADSCDX, ADSNTX,
> ADSVFP. RDD SYSNAME method (i.e., RDDNAME()) can return one of the
> following values: ADSADT, ADSCDX, ADSNTX, ADSVFP. Original C level ADS
> defines for different database types are: ADS_CDX, ADS_NTX, ADS_VFP,
> ADT_ADT.
> I propose to rename RDD from ADT to ADSADT, thus making both correct
> RDDNAME() return value and to be compatible with naming scheme of
> another ADS RDDs. Any objections?

It's OK for me. In fact "ADT" as RDD name was my bad choice in the past.

best regards,
Przemek
From dbtopas at dbtopas.lt  Thu Nov 26 22:58:03 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Nov 26 22:59:59 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <20091127034152.GA1842@linux-4bod.home.aster.pl>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>	<4B0F2E25.5090003@dbtopas.lt>	<20091127025737.GA511@linux-4bod.home.aster.pl>	<4B0F4142.3040808@dbtopas.lt>	<20091127031024.GA1265@linux-4bod.home.aster.pl>	<4B0F44BD.30302@dbtopas.lt>
	<20091127034152.GA1842@linux-4bod.home.aster.pl>
Message-ID: <4B0F4E4B.4030103@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
> Yes it's really nice though it probably can be even simpler without
> recursion.
> This code allocates memory for index array using hb_xgrab() and needs
> recursion only for allocating dynamically lFrom and lTo on C stack.
> It means that it should be enough to allocate memory 3 times bigger
> for lIndex[es], lFrom[s] and lTo[s] and convert array in two nested
> loops.

I had this idea, but it's a kind of implementing carry flag for each 
number (dimension in this case) position manualy. Recursion was an 
easier for me  :)


> Hmm, it will be shorter and probably a little bit faster but I cannot
> say if such version is more readable. It's necessary to compare final
> code to answer. Maybe in some spare time ;-)

I guess it will be only faster, but not shorter :)


> BTW in MS documentation dimensions are stored in 'unsigned int' instead
> of 'int'. Maybe we should follow it?

MSDN writes:
    HRESULT SafeArrayGetDim( SAFEARRAY FAR* psa );

BCC wtypes.h has:
#ifndef _HRESULT_DEFINED
#define _HRESULT_DEFINED
typedef LONG HRESULT;
#endif // !_HRESULT_DEFINED


So, it's long, not unsigned int. But the most strange thing is that 
SafeArrayGetDim return HRESULT. Sounds like a handler, and this stopped 
me from beeper analysis. I just used int. Actually it was a bad idea, to 
not check real type.

Please, fix it.


Regards,
Mindaugas
From druzus at acn.waw.pl  Thu Nov 26 23:16:08 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Thu Nov 26 23:16:15 2009
Subject: [Harbour] Re: [xHarbour-developers] RDD: ADT -> ADSADT
In-Reply-To: <072601ca6f0a$379331f0$a6b995d0$@com>
References: <4B0F2378.9080909@dbtopas.lt> <072601ca6f0a$379331f0$a6b995d0$@com>
Message-ID: <20091127041608.GB2372@linux-4bod.home.aster.pl>

On Thu, 26 Nov 2009, Brian Hays wrote:

Hi Brian,

> The addition of specific "sub-rdds" of ADSCDX etc. came years later.
> I, and I imagine a lot of other people who started using rddads
> early on, never had a need to explicitly use those other rdds by name.

Any one who has code like:

   proc copy_table( cSrc, cSrcRDD, cDst, cDstRDD )
      use (cSrc) via (cSrcRDD)
      copy to (cDst) via (cDstRDD)
   return

designed to work with different RDDs in Clipper, needs ADS* RDDs to port
his code without introducing unnecessary and incompatible with other RDDs
modifications which are necessary to make working code like:
   copy_table( "sales", "ADSCDX", "sales2", "ADSADT" )

In fact "ADS" RDD can be safely removed because the only one reason
to keep it are user habbits but ADS* RDDs cannot be removed without
reducing important functionality - working VIA clause in different
command/functions which allows to easy switch between RDDs.

> Are you suggesting that we should now have to re-write our apps by
> converting ADS to ADSADT?  But wait: IIRC (I'm not sure), 
> ADSCDX is the DEFAULT for ADS, so converting it to ADT doesn't 
> really make sense, does it?
> If you're suggesting a change that would require people to change
> code that's been growing for 9 years, there needs to be a stronger
> reason to force the change than just compatibility with other rdds,
> IMHO.
> Or am I missing something?

Mindaugas wants to change only "ADT" RDD to "ADSADT" and you are not
using it so it's not a problem for you.
Anyhow you wrote that it's 9 years code.
In the past I left "ADS" RDD only for backward compatibility:

   2005-09-02 20:10 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
       + register ADS as three separate RDDs: ADSNTX, ADSCDX, ADT
         (ADS RDD left for backward compatibility) -  they do not
         need to set table type.

so in fact you had over four years to update your code.
This suggests that forcing some modification immediately is better
because four years ago it was only 5 years code ;-)
Was it my mistake that I left "ADS" RDD?

best regards,
Przemek
From siki at msoft.cz  Thu Nov 26 23:19:34 2009
From: siki at msoft.cz (Davor Siklic)
Date: Thu Nov 26 23:19:43 2009
Subject: [Harbour] Problems updating from SVN
In-Reply-To: <133778360911261725j18e7120bk778d0bb2b52e8f88@mail.gmail.com>
References: <133778360911261725j18e7120bk778d0bb2b52e8f88@mail.gmail.com>
Message-ID: <4B0F5356.2020900@msoft.cz>

Bruno Luciani napsal(a):
> Something Strange happens  when i try to update via SVN
>
>  Bruno
>
> //////////////////////////
>
> bruno@notebook:~$ svn co 
> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk 
> harbour_svn
> svn: Error al convertir la entrada en el directorio 
> ?harbour_svn/harbour/contrib/hbide? a UTF-8
> svn: Datos UTF-8 v?lidos
> (hex:)
> seguidos de una secuencia UTF-8 inv?lida
> (hex: d0 d3 43)
> bruno@notebook:~$
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>   
export LC_ALL=C
svn co 
https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour



From harbour.01 at syenar.hu  Fri Nov 27 02:32:28 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Nov 27 02:32:38 2009
Subject: [Harbour] RDD: ADT -> ADSADT
In-Reply-To: <4B0F3988.7080404@dbtopas.lt>
References: <4B0F3988.7080404@dbtopas.lt>
Message-ID: <22BC63F4-BEE0-4173-ADD3-B09E7C9C1802@syenar.hu>

Nope from here.

Brgds,
Viktor

On 2009 Nov 27, at 03:29, Mindaugas Kavaliauskas wrote:

> Hi,
> 
> 
> current ADS RDD is registered using names: ADS, ADT, ADSCDX, ADSNTX,
> ADSVFP. RDD SYSNAME method (i.e., RDDNAME()) can return one of the
> following values: ADSADT, ADSCDX, ADSNTX, ADSVFP. Original C level ADS
> defines for different database types are: ADS_CDX, ADS_NTX, ADS_VFP,
> ADT_ADT.
> 
> I propose to rename RDD from ADT to ADSADT, thus making both correct
> RDDNAME() return value and to be compatible with naming scheme of
> another ADS RDDs. Any objections?
> 
> 
> Regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vszakats at users.sourceforge.net  Fri Nov 27 03:27:23 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Nov 27 03:27:30 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13035] trunk/harbour
Message-ID: <E1NDwAl-0005x5-QB@3kljzd1.ch3.sourceforge.com>

Revision: 13035
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13035&view=rev
Author:   vszakats
Date:     2009-11-27 08:27:22 +0000 (Fri, 27 Nov 2009)

Log Message:
-----------
2009-11-27 09:25 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbqt/detect.mk
  - contrib/hbqt/qtwebkit
    * Deleted qtwebkit references.

  * contrib/hbwin/hbwin.ch
  * contrib/hbwin/win_prn2.c
    * Comments.
    * TRUE -> HB_TRUE, FALSE -> HB_FALSE

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbqt/detect.mk
    trunk/harbour/contrib/hbwin/hbwin.ch
    trunk/harbour/contrib/hbwin/win_prn2.c

Removed Paths:
-------------
    trunk/harbour/contrib/hbqt/qtwebkit/


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From e.m.giordano at emagsoftware.it  Fri Nov 27 03:31:37 2009
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Fri Nov 27 03:31:45 2009
Subject: [Harbour] Problem in OLE implementation
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag><4B0F2E25.5090003@dbtopas.lt>
	<20091127025737.GA511@linux-4bod.home.aster.pl>
Message-ID: <40237D3153C2478A956F9E83515C3451@emag>


-----Messaggio Originale----- 
Da: "Przemys?aw Czerpak" <druzus@acn.waw.pl>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: venerd? 27 novembre 2009 3.57
Oggetto: Re: [Harbour] Problem in OLE implementation


> Hi,
>
> I've just check that there is also bad typo which causes that it does
> not convert even one dimensional VT_ARRAYS to Harbour items.
> I'll commit fix in a while so if this code needs only one dimensional
> arrays the it may be enough.
> Please test.

Works fine now, thank you all.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From sscc at mweb.co.za  Fri Nov 27 03:54:15 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Nov 27 03:54:27 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <4B0F458B.50201@dbtopas.lt>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>	<4B0F2E25.5090003@dbtopas.lt>	<20091127025737.GA511@linux-4bod.home.aster.pl>	<4B0F4142.3040808@dbtopas.lt>	<20091127031024.GA1265@linux-4bod.home.aster.pl>	<20091127031751.GA1504@linux-4bod.home.aster.pl>
	<4B0F458B.50201@dbtopas.lt>
Message-ID: <4B0F93B7.7000208@mweb.co.za>

Hi Mindaugas, Przemyslaw

I have an OLE dll that I am trying to use. I think it returns a safearray of 
IUnknown.

To understand a bit better I put the following 3 debug lines in olecore.c:


void hb_oleVariantToItem( PHB_ITEM pItem, VARIANT* pVariant )
{
char debug[ 100 ];
    if( pVariant->n1.n2.vt == ( VT_VARIANT | VT_BYREF ) )
       pVariant = pVariant->n1.n2.n3.pvarVal;

sprintf( debug, "hb_oleVariantToItem - pVariant->n1.n2.vt = %x, VT_UNKNOWN | 
VT_ARRAY = %x", pVariant->n1.n2.vt, VT_UNKNOWN | VT_ARRAY );
OutputDebugString( debug );
    switch( pVariant->n1.n2.vt )
...


and I get:


hb_oleVariantToItem - pVariant->n1.n2.vt = 200d, VT_UNKNOWN | VT_ARRAY = 200d


In the accompanying IDL file it is the return from:

     interface _CardCOM : IDispatch {
         [id(0x00000001)]
         HRESULT Validate(
                         [in] BSTR number,
                         [in] BSTR code,
                         [out, retval] SAFEARRAY(_CardComRetValidate*)* pRetVal);


Is it possible to add support for this?

Regards
Alex

-------------- next part --------------
// Generated .IDL file (by the OLE/COM Object Viewer)
// 
// typelib filename: RetainComObj.tlb

[
  uuid(B45867AA-2DFE-4383-A846-4F5E9380B55D),
  version(1.16)
]
library RetainComObj
{
    // TLib :     // TLib : mscorlib.dll : {BED7F4EA-1A96-11D2-8F08-00A0C9A6186D}
    importlib("mscorlib.tlb");
    // TLib : OLE Automation : {00020430-0000-0000-C000-000000000046}
    importlib("stdole2.tlb");

    // Forward declare all types defined in this typelib
    interface _CardCOM;
    interface _CardComInit;
    interface _CardComRetAddValue;
    interface _CardComRetCancel;
    interface _CardComRetHistory;
    interface _CardComRetHistoryExpire;
    interface _CardComRetHistoryTime;
    interface _CardComRetRedeem;
    interface _CardComRetRefund;
    interface _CardComRetSale;
    interface _CardComRetSalesTemplate;
    interface _CardComRetStatus;
    interface _CardComRetTransactionReport;
    interface _CardComRetTransactionReportItem;
    interface _CardComRetTransactionReportSum;
    interface _CardComRetValidate;
    interface _CardComXML;
    interface _common;
    interface _Utils;

    [
      uuid(7F0D071E-D45C-44A2-9994-E410A5465EB4),
      version(1.0),
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardCOM")
    ]
    coclass CardCOM {
        interface _Object;
        [default] interface _CardCOM;
    };

    [
      odl,
      uuid(ECC7E3CD-E3A3-4349-A122-4858507C83A1),
      version(1.0),
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardCOM+_CardCOM")    

    ]
    interface _CardCOM : IDispatch {
        [id(0x00000001)]
        HRESULT Validate(
                        [in] BSTR number, 
                        [in] BSTR code, 
                        [out, retval] SAFEARRAY(_CardComRetValidate*)* pRetVal);
        [id(0x00000002)]
        HRESULT AddValue(
                        [in] BSTR number, 
                        [in] double amount, 
                        [in, optional, defaultvalue("")] BSTR code, 
                        [out, retval] _CardComRetAddValue** pRetVal);
        [id(0x00000003)]
        HRESULT Redeem(
                        [in] BSTR number, 
                        [in] BSTR code, 
                        [in] double amount, 
                        [in, optional, defaultvalue("")] BSTR redeem_reference, 
                        [out, retval] SAFEARRAY(_CardComRetRedeem*)* pRetVal);
        [id(0x00000004)]
        HRESULT Refund(
                        [in] BSTR number, 
                        [in] BSTR code, 
                        [in] double amount, 
                        [in, optional, defaultvalue("")] BSTR redeem_reference, 
                        [out, retval] SAFEARRAY(_CardComRetRefund*)* pRetVal);
        [id(0x00000005)]
        HRESULT History(
                        [in] BSTR number, 
                        [in] BSTR code, 
                        [out, retval] SAFEARRAY(_CardComRetHistory*)* pRetVal);
        [id(0x00000006)]
        HRESULT CheckStatus(
                        [in] BSTR number, 
                        [in, optional, defaultvalue("")] BSTR code, 
                        [out, retval] SAFEARRAY(_CardComRetStatus*)* pRetVal);
        [id(0x00000007)]
        HRESULT SalesTemplates([out, retval] SAFEARRAY(_CardComRetSalesTemplate*)* pRetVal);
        [id(0x00000008)]
        HRESULT Cancel(
                        [in] SAFEARRAY(_CardComRetValidate*) valueDocuments, 
                        [out, retval] SAFEARRAY(_CardComRetCancel*)* pRetVal);
        [id(0x00000009)]
        HRESULT Sale(
                        [in] _CardComRetSalesTemplate* salesTemplate, 
                        [in] double amount, 
                        [in, optional, defaultvalue("")] BSTR SMS_msisdn, 
                        [in, optional, defaultvalue("")] BSTR EMAIL_address, 
                        [in, optional, defaultvalue("")] BSTR POSTAL_firstname, 
                        [in, optional, defaultvalue("")] BSTR POSTAL_lastname, 
                        [in, optional, defaultvalue("")] BSTR POSTAL_address, 
                        [in, optional, defaultvalue("")] BSTR POSTAL_address2, 
                        [in, optional, defaultvalue("")] BSTR POSTAL_zipcode, 
                        [in, optional, defaultvalue("")] BSTR POSTAL_city, 
                        [in, optional, defaultvalue("")] BSTR POSTAL_country, 
                        [in, optional, defaultvalue("")] BSTR text, 
                        [in, optional, defaultvalue(12:00:00 AM)] DATE send_date, 
                        [out, retval] _CardComRetSale** pRetVal);
        [id(0x0000000a)]
        HRESULT TransactionReport(
                        [in] DATE startDate, 
                        [in] DATE endDate, 
                        [in] long voucherType, 
                        [out, retval] _CardComRetTransactionReport** pRetVal);
        [id(0x0000000b)]
        HRESULT GetInstalledCertsName([out, retval] SAFEARRAY(BSTR)* pRetVal);
        [id(0x0000000c)]
        HRESULT rAW(
                        [in] BSTR UrlExcludedServer, 
                        [out, retval] BSTR* pRetVal);
        [id(0x0000000d)]
        HRESULT RawXmlDoc(
                        [in] BSTR UrlExcludedServer, 
                        [out, retval] IUnknown** pRetVal);
        [id(0x0000000e)]
        HRESULT installClientCert(
                        [in] BSTR clientCertFile, 
                        [in] BSTR clientCertPassword, 
                        [out, retval] VARIANT_BOOL* pRetVal);
        [id(0x0000000f)]
        HRESULT AddAccessToCertificate(
                        [in] BSTR machineName, 
                        [in] BSTR userName, 
                        [out, retval] VARIANT_BOOL* pRetVal);
        [id(0x00000010)]
        HRESULT Init(
                        [in] _CardComInit* inpinit, 
                        [out, retval] enuResult* pRetVal);
        [id(0x00000011)]
        HRESULT Close();
    };

    [
      uuid(82B4004F-351C-46A5-A8BD-F585A3C74D40),
      version(1.0),
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComInit")
    ]
    coclass CardComInit {
        interface _Object;
        [default] interface _CardComInit;
    };

    [
      odl,
      uuid(24BA6A74-7083-4B64-B8E5-65ED7D3D2A4B),
      version(1.0),
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComInit+_CardComInit")    

    ]
    interface _CardComInit : IDispatch {
        [id(0x00000001), propget]
        HRESULT server([out, retval] BSTR* pRetVal);
        [id(0x00000001), propput]
        HRESULT server([in] BSTR pRetVal);
        [id(0x00000002), propget]
        HRESULT store([out, retval] BSTR* pRetVal);
        [id(0x00000002), propput]
        HRESULT store([in] BSTR pRetVal);
        [id(0x00000003), propget]
        HRESULT IngoreInvalidCertificates([out, retval] VARIANT_BOOL* pRetVal);
        [id(0x00000003), propput]
        HRESULT IngoreInvalidCertificates([in] VARIANT_BOOL pRetVal);
        [id(0x00000004), propget]
        HRESULT serverCertFile([out, retval] BSTR* pRetVal);
        [id(0x00000004), propput]
        HRESULT serverCertFile([in] BSTR pRetVal);
        [id(0x00000005), propget]
        HRESULT useGlobalStore([out, retval] VARIANT_BOOL* pRetVal);
        [id(0x00000005), propput]
        HRESULT useGlobalStore([in] VARIANT_BOOL pRetVal);
        [id(0x00000006), propget]
        HRESULT AppID([out, retval] long* pRetVal);
        [id(0x00000006), propput]
        HRESULT AppID([in] long pRetVal);
        [id(0x00000007), propget]
        HRESULT AppVersion([out, retval] BSTR* pRetVal);
        [id(0x00000007), propput]
        HRESULT AppVersion([in] BSTR pRetVal);
    };

    [
      uuid(729CDC6F-84B3-46F7-8198-762B9F4B858F),
      version(1.0),
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetAddValue")
    ]
    coclass CardComRetAddValue {
        interface _Object;
        [default] interface _CardComRetAddValue;
    };

    [
      odl,
      uuid(AC418A01-98D2-4000-A1DB-53AEC7567EB7),
      version(1.0),
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetAddValue+_CardComRetAddValue")    

    ]
    interface _CardComRetAddValue : IDispatch {
        [id(0x00000001), propget]
        HRESULT ID([out, retval] BSTR* pRetVal);
        [id(0x00000002), propget]
        HRESULT Result([out, retval] enuResult* pRetVal);
        [id(0x00000003), propget]
        HRESULT ResultDesc([out, retval] BSTR* pRetVal);
    };

    [
      uuid(58B82461-5146-4BE9-81F8-74AEBF98AB1B),
      version(1.0),
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetCancel")
    ]
    coclass CardComRetCancel {
        interface _Object;
        [default] interface _CardComRetCancel;
    };

    [
      odl,
      uuid(B6DD4613-E829-4DC4-8300-C79BC879C26C),
      version(1.0),
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetCancel+_CardComRetCancel")    

    ]
    interface _CardComRetCancel : IDispatch {
        [id(0x00000001), propget]
        HRESULT ID([out, retval] BSTR* pRetVal);
        [id(0x00000002), propget]
        HRESULT Status([out, retval] BSTR* pRetVal);
        [id(0x00000003), propget]
        HRESULT ErrorCode([out, retval] enuResult* pRetVal);
        [id(0x00000004), propget]
        HRESULT Message([out, retval] BSTR* pRetVal);
        [id(0x00000005), propget,
            custom({54FC8F55-38DE-4703-9C4E-250351302B1C}, "1")]
        HRESULT ToString([out, retval] BSTR* pRetVal);
    };

    [
      uuid(58750570-1100-438B-A8A1-DAE99998BC9A),
      version(1.0),
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetHistory")
    ]
    coclass CardComRetHistory {
        interface _Object;
        [default] interface _CardComRetHistory;
    };

    [
      odl,
      uuid(6C2A46C1-A9C2-486E-AA45-D318011A245E),
      version(1.0),
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetHistory+_CardComRetHistory")    

    ]
    interface _CardComRetHistory : IDispatch {
        [id(0x00000001), propget]
        HRESULT Result([out, retval] enuResult* pRetVal);
        [id(0x00000002), propget]
        HRESULT ResultDesc([out, retval] BSTR* pRetVal);
        [id(0x00000003), propget]
        HRESULT ValidateInfo([out, retval] BSTR* pRetVal);
        [id(0x00000004), propget]
        HRESULT amount([out, retval] double* pRetVal);
        [id(0x00000005), propget]
        HRESULT Currency([out, retval] BSTR* pRetVal);
        [id(0x00000006), propget]
        HRESULT ExpireList([out, retval] SAFEARRAY(_CardComRetHistoryExpire*)* pRetVal);
        [id(0x00000007), propget]
        HRESULT History([out, retval] SAFEARRAY(_CardComRetHistoryTime*)* pRetVal);
        [id(0x00000008), propget,
            custom({54FC8F55-38DE-4703-9C4E-250351302B1C}, "1")]
        HRESULT ToString([out, retval] BSTR* pRetVal);
    };

    [
      uuid(C5F4E3B5-0850-482A-8DC5-4F0158D79D83),
      version(1.0),
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetHistoryExpire")
    ]
    coclass CardComRetHistoryExpire {
        interface _Object;
        [default] interface _CardComRetHistoryExpire;
    };

    [
      odl,
      uuid(767B84C2-7FEF-45AC-BC61-82D018621811),
      version(1.0),
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetHistoryExpire+_CardComRetHistoryExpire")    

    ]
    interface _CardComRetHistoryExpire : IDispatch {
        [id(0x00000001), propget]
        HRESULT Result([out, retval] enuResult* pRetVal);
        [id(0x00000002), propget]
        HRESULT ResultDesc([out, retval] BSTR* pRetVal);
        [id(0x00000003), propget]
        HRESULT Currency([out, retval] BSTR* pRetVal);
        [id(0x00000004), propget]
        HRESULT ExpireDate([out, retval] DATE* pRetVal);
        [id(0x00000005), propget]
        HRESULT amount([out, retval] double* pRetVal);
    };

    [
      uuid(9ECFCC19-5AD5-481D-880A-41E850DC69AC),
      version(1.0),
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetHistoryTime")
    ]
    coclass CardComRetHistoryTime {
        interface _Object;
        [default] interface _CardComRetHistoryTime;
    };

    [
      odl,
      uuid(1938C262-92EC-4762-A178-836FFF989C14),
      version(1.0),
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetHistoryTime+_CardComRetHistoryTime")    

    ]
    interface _CardComRetHistoryTime : IDispatch {
        [id(0x00000001), propget]
        HRESULT Result([out, retval] enuResult* pRetVal);
        [id(0x00000002), propget]
        HRESULT ResultDesc([out, retval] BSTR* pRetVal);
        [id(0x00000003), propget]
        HRESULT amount([out, retval] double* pRetVal);
        [id(0x00000004), propget]
        HRESULT TransType([out, retval] long* pRetVal);
        [id(0x00000005), propget]
        HRESULT TransTypeDesc([out, retval] BSTR* pRetVal);
        [id(0x00000006), propget]
        HRESULT Currency([out, retval] BSTR* pRetVal);
        [id(0x00000007), propget]
        HRESULT dateOfTransaction([out, retval] DATE* pRetVal);
        [id(0x00000008), propget]
        HRESULT User([out, retval] BSTR* pRetVal);
    };

    [
      uuid(6B41263B-BCFB-4427-BF73-FF0190396CF7),
      version(1.0),
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetRedeem")
    ]
    coclass CardComRetRedeem {
        interface _Object;
        [default] interface _CardComRetRedeem;
    };

    [
      odl,
      uuid(BF72FC01-4802-49AB-9DFE-3B726EBDB0BB),
      version(1.0),
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetRedeem+_CardComRetRedeem")    

    ]
    interface _CardComRetRedeem : IDispatch {
        [id(0x00000001), propget]
        HRESULT ID([out, retval] BSTR* pRetVal);
        [id(0x00000002), propget]
        HRESULT Result([out, retval] enuResult* pRetVal);
        [id(0x00000003), propget]
        HRESULT Result_Desc([out, retval] BSTR* pRetVal);
        [id(0x00000004), propget]
        HRESULT amount([out, retval] double* pRetVal);
        [id(0x00000005), propget,
            custom({54FC8F55-38DE-4703-9C4E-250351302B1C}, "1")]
        HRESULT ToString([out, retval] BSTR* pRetVal);
    };

    [
      uuid(DCE82CA8-668E-476A-A7BF-7A3903BDECAB),
      version(1.0),
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetRefund")
    ]
    coclass CardComRetRefund {
        interface _Object;
        [default] interface _CardComRetRefund;
    };

    [
      odl,
      uuid(EF01CF06-06AB-4F7E-8AEB-3712644C75AC),
      version(1.0),
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetRefund+_CardComRetRefund")    

    ]
    interface _CardComRetRefund : IDispatch {
        [id(0x00000001), propget]
        HRESULT ID([out, retval] BSTR* pRetVal);
        [id(0x00000002), propget]
        HRESULT Result([out, retval] enuResult* pRetVal);
        [id(0x00000003), propget]
        HRESULT Result_Desc([out, retval] BSTR* pRetVal);
        [id(0x00000004), propget]
        HRESULT amount([out, retval] double* pRetVal);
        [id(0x00000005), propget,
            custom({54FC8F55-38DE-4703-9C4E-250351302B1C}, "1")]
        HRESULT ToString([out, retval] BSTR* pRetVal);
    };

    [
      uuid(86C1EA21-44DE-4738-85F6-02617C4E8ACC),
      version(1.0),
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetSale")
    ]
    coclass CardComRetSale {
        interface _Object;
        [default] interface _CardComRetSale;
    };

    [
      odl,
      uuid(BB3CA1D4-CDDF-4822-BE88-B1985729C04C),
      version(1.0),
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetSale+_CardComRetSale")    

    ]
    interface _CardComRetSale : IDispatch {
        [id(0x00000001), propget]
        HRESULT Status([out, retval] BSTR* pRetVal);
        [id(0x00000002), propget]
        HRESULT ID([out, retval] BSTR* pRetVal);
        [id(0x00000003), propget]
        HRESULT multicode([out, retval] BSTR* pRetVal);
        [id(0x00000004), propget]
        HRESULT pin([out, retval] BSTR* pRetVal);
        [id(0x00000005), propget]
        HRESULT msisdn([out, retval] BSTR* pRetVal);
        [id(0x00000006), propget]
        HRESULT EMAIL_address([out, retval] BSTR* pRetVal);
        [id(0x00000007), propget]
        HRESULT distribData([out, retval] BSTR* pRetVal);
        [id(0x00000007), propput]
        HRESULT distribData([in] BSTR pRetVal);
        [id(0x00000008), propget]
        HRESULT distributionIsHandled([out, retval] VARIANT_BOOL* pRetVal);
        [id(0x00000008), propput]
        HRESULT distributionIsHandled([in] VARIANT_BOOL pRetVal);
        [id(0x00000009), propget]
        HRESULT ErrorCode([out, retval] enuResult* pRetVal);
        [id(0x0000000a), propget]
        HRESULT Message([out, retval] BSTR* pRetVal);
        [id(0x0000000b), propget,
            custom({54FC8F55-38DE-4703-9C4E-250351302B1C}, "1")]
        HRESULT ToString([out, retval] BSTR* pRetVal);
    };

    [
      uuid(E5755BC6-42B9-4E23-9D4F-20900E22CCEE),
      version(1.0),
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetSalesTemplate")
    ]
    coclass CardComRetSalesTemplate {
        interface _Object;
        [default] interface _CardComRetSalesTemplate;
    };

    [
      odl,
      uuid(0A906071-3FF6-4C7C-8C66-F889289A8453),
      version(1.0),
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetSalesTemplate+_CardComRetSalesTemplate")    

    ]
    interface _CardComRetSalesTemplate : IDispatch {
        [id(0x00000001), propget]
        HRESULT ID([out, retval] BSTR* pRetVal);
        [id(0x00000002), propget]
        HRESULT Name([out, retval] BSTR* pRetVal);
        [id(0x00000003), propget]
        HRESULT Type([out, retval] BSTR* pRetVal);
        [id(0x00000004), propget]
        HRESULT TypeDesc([out, retval] BSTR* pRetVal);
        [id(0x00000005), propget]
        HRESULT ChannelCode([out, retval] BSTR* pRetVal);
        [id(0x00000006), propget]
        HRESULT ChannelText([out, retval] BSTR* pRetVal);
        [id(0x00000007), propget]
        HRESULT Owner([out, retval] BSTR* pRetVal);
        [id(0x00000008), propget]
        HRESULT SMSText([out, retval] BSTR* pRetVal);
        [id(0x00000009), propget]
        HRESULT EmailText([out, retval] BSTR* pRetVal);
        [id(0x0000000a), propget]
        HRESULT showPreview([out, retval] BSTR* pRetVal);
        [id(0x0000000b), propget]
        HRESULT SMSFreeSpace([out, retval] long* pRetVal);
        [id(0x0000000c), propget]
        HRESULT UsageStart([out, retval] DATE* pRetVal);
        [id(0x0000000d), propget]
        HRESULT UsageEnd([out, retval] DATE* pRetVal);
        [id(0x0000000e), propget]
        HRESULT AddCustomValue([out, retval] VARIANT_BOOL* pRetVal);
        [id(0x0000000f), propget]
        HRESULT Qty_value([out, retval] double* pRetVal);
        [id(0x00000010), propget]
        HRESULT MaxSalesPrice([out, retval] double* pRetVal);
        [id(0x00000011), propget]
        HRESULT MinAddValue([out, retval] double* pRetVal);
        [id(0x00000012), propget]
        HRESULT MaxAddValue([out, retval] double* pRetVal);
        [id(0x00000013), propget]
        HRESULT Discount([out, retval] double* pRetVal);
        [id(0x00000014), propget]
        HRESULT Currency([out, retval] BSTR* pRetVal);
        [id(0x00000015), propget,
            custom({54FC8F55-38DE-4703-9C4E-250351302B1C}, "1")]
        HRESULT ToString([out, retval] BSTR* pRetVal);
    };

    [
      uuid(000F9616-A0D9-49CC-A9F7-CE0C69F2E629),
      version(1.0),
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetStatus")
    ]
    coclass CardComRetStatus {
        interface _Object;
        [default] interface _CardComRetStatus;
    };

    [
      odl,
      uuid(7FB8E72B-BB30-40A3-923A-0565C0FD716F),
      version(1.0),
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetStatus+_CardComRetStatus")    

    ]
    interface _CardComRetStatus : IDispatch {
        [id(0x00000001), propget]
        HRESULT ID([out, retval] BSTR* pRetVal);
        [id(0x00000002), propget]
        HRESULT Result([out, retval] enuResult* pRetVal);
        [id(0x00000003), propget]
        HRESULT ResultDesc([out, retval] BSTR* pRetVal);
        [id(0x00000004), propget]
        HRESULT voucherType([out, retval] long* pRetVal);
        [id(0x00000005), propget]
        HRESULT VoucherStatus([out, retval] BSTR* pRetVal);
        [id(0x00000006), propget]
        HRESULT PossibleToLoad([out, retval] VARIANT_BOOL* pRetVal);
        [id(0x00000007), propget]
        HRESULT Currency([out, retval] BSTR* pRetVal);
        [id(0x00000008), propget]
        HRESULT MaxAmount([out, retval] double* pRetVal);
        [id(0x00000009), propget]
        HRESULT MinAmount([out, retval] double* pRetVal);
        [id(0x0000000a), propget]
        HRESULT Balance([out, retval] double* pRetVal);
        [id(0x0000000b), propget]
        HRESULT UsageStart([out, retval] DATE* pRetVal);
        [id(0x0000000c), propget]
        HRESULT UsageEnd([out, retval] DATE* pRetVal);
        [id(0x0000000d), propget,
            custom({54FC8F55-38DE-4703-9C4E-250351302B1C}, "1")]
        HRESULT ToString([out, retval] BSTR* pRetVal);
    };

    [
      uuid(6B3C268B-A144-4D1B-9D72-37DEB3D4D980),
      version(1.0),
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetTransactionReport")
    ]
    coclass CardComRetTransactionReport {
        interface _Object;
        [default] interface _CardComRetTransactionReport;
    };

    [
      odl,
      uuid(9A5B3E98-1A65-45A2-BA9B-9089A73D613F),
      version(1.0),
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetTransactionReport+_CardComRetTransactionReport")    

    ]
    interface _CardComRetTransactionReport : IDispatch {
        [id(0x00000001), propget]
        HRESULT Result([out, retval] enuResult* pRetVal);
        [id(0x00000002), propget]
        HRESULT ResultDesc([out, retval] BSTR* pRetVal);
        [id(0x00000003), propget]
        HRESULT UserID([out, retval] long* pRetVal);
        [id(0x00000004), propget]
        HRESULT userName([out, retval] BSTR* pRetVal);
        [id(0x00000005), propget]
        HRESULT Items([out, retval] SAFEARRAY(_CardComRetTransactionReportItem*)* pRetVal);
        [id(0x00000006), propget]
        HRESULT Sums([out, retval] SAFEARRAY(_CardComRetTransactionReportSum*)* pRetVal);
        [id(0x00000007), propget,
            custom({54FC8F55-38DE-4703-9C4E-250351302B1C}, "1")]
        HRESULT ToString([out, retval] BSTR* pRetVal);
    };

    [
      uuid(53E5D9A6-C960-4200-8A0F-98D49C425984),
      version(1.0),
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetTransactionReportItem")
    ]
    coclass CardComRetTransactionReportItem {
        interface _Object;
        [default] interface _CardComRetTransactionReportItem;
    };

    [
      odl,
      uuid(8CC9D578-B353-48DF-8A5D-BFF33F3A93FB),
      version(1.0),
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetTransactionReportItem+_CardComRetTransactionReportItem")    

    ]
    interface _CardComRetTransactionReportItem : IDispatch {
        [id(0x00000001), propget]
        HRESULT TransDate([out, retval] DATE* pRetVal);
        [id(0x00000002), propget]
        HRESULT TransIdentity([out, retval] BSTR* pRetVal);
        [id(0x00000003), propget]
        HRESULT TransType([out, retval] long* pRetVal);
        [id(0x00000004), propget]
        HRESULT TransTypeDesc([out, retval] BSTR* pRetVal);
        [id(0x00000005), propget]
        HRESULT TransUserID([out, retval] long* pRetVal);
        [id(0x00000006), propget]
        HRESULT TransUserName([out, retval] BSTR* pRetVal);
        [id(0x00000007), propget]
        HRESULT TransValue([out, retval] double* pRetVal);
        [id(0x00000008), propget]
        HRESULT TransCurrency([out, retval] BSTR* pRetVal);
        [id(0x00000009), propget,
            custom({54FC8F55-38DE-4703-9C4E-250351302B1C}, "1")]
        HRESULT ToString([out, retval] BSTR* pRetVal);
    };

    [
      uuid(93FE6B63-D58B-4DF1-941A-00E0CF0F7AED),
      version(1.0),
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetTransactionReportSum")
    ]
    coclass CardComRetTransactionReportSum {
        interface _Object;
        [default] interface _CardComRetTransactionReportSum;
    };

    [
      odl,
      uuid(F9833025-449E-4F7C-82B6-32706DAFA463),
      version(1.0),
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetTransactionReportSum+_CardComRetTransactionReportSum")    

    ]
    interface _CardComRetTransactionReportSum : IDispatch {
        [id(0x00000001), propget]
        HRESULT SumSale([out, retval] double* pRetVal);
        [id(0x00000002), propget]
        HRESULT SumDiscount([out, retval] double* pRetVal);
        [id(0x00000003), propget]
        HRESULT SumRedeem([out, retval] double* pRetVal);
        [id(0x00000004), propget]
        HRESULT SumRefund([out, retval] double* pRetVal);
        [id(0x00000005), propget]
        HRESULT SumUnvalid([out, retval] double* pRetVal);
        [id(0x00000006), propget]
        HRESULT SumCanceled([out, retval] double* pRetVal);
        [id(0x00000007), propget]
        HRESULT SumTotal([out, retval] double* pRetVal);
        [id(0x00000008), propget]
        HRESULT SumCurrency([out, retval] BSTR* pRetVal);
        [id(0x00000009), propget,
            custom({54FC8F55-38DE-4703-9C4E-250351302B1C}, "1")]
        HRESULT ToString([out, retval] BSTR* pRetVal);
    };

    [
      uuid(E8AB96E2-4182-41E4-B5C4-E52CE698688C),
      version(1.0),
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetValidate")
    ]
    coclass CardComRetValidate {
        interface _Object;
        [default] interface _CardComRetValidate;
    };

    [
      odl,
      uuid(D58B30BF-696C-45C5-8334-3C68B4AB65DB),
      version(1.0),
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComRetValidate+_CardComRetValidate")    

    ]
    interface _CardComRetValidate : IDispatch {
        [id(0x00000001), propget]
        HRESULT AddValue([out, retval] VARIANT_BOOL* pRetVal);
        [id(0x00000002), propget]
        HRESULT MaxQty([out, retval] long* pRetVal);
        [id(0x00000003), propget]
        HRESULT MaxAmount([out, retval] double* pRetVal);
        [id(0x00000004), propget]
        HRESULT MinAddAmount([out, retval] double* pRetVal);
        [id(0x00000005), propget]
        HRESULT Status([out, retval] long* pRetVal);
        [id(0x00000006), propget]
        HRESULT ValidateInfo([out, retval] BSTR* pRetVal);
        [id(0x00000007), propget]
        HRESULT voucherType([out, retval] long* pRetVal);
        [id(0x00000008), propget]
        HRESULT Result([out, retval] enuResult* pRetVal);
        [id(0x00000009), propget]
        HRESULT Result_Desc([out, retval] BSTR* pRetVal);
        [id(0x0000000a), propget]
        HRESULT Balance([out, retval] double* pRetVal);
        [id(0x0000000b), propget]
        HRESULT Qty([out, retval] long* pRetVal);
        [id(0x0000000c), propget]
        HRESULT Qty_value([out, retval] double* pRetVal);
        [id(0x0000000d), propget]
        HRESULT Currency([out, retval] BSTR* pRetVal);
        [id(0x0000000e), propget,
            custom({54FC8F55-38DE-4703-9C4E-250351302B1C}, "1")]
        HRESULT ToString([out, retval] BSTR* pRetVal);
    };

    [
      uuid(531DAF6C-3F37-4047-9A17-D3DF8ACE3D87),
      version(1.0),
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComXML")
    ]
    coclass CardComXML {
        interface _Object;
        [default] interface _CardComXML;
    };

    [
      odl,
      uuid(79605D01-3A68-4ECD-B760-8E4E7A2D6406),
      version(1.0),
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.CardComXML+_CardComXML")    

    ]
    interface _CardComXML : IDispatch {
        [id(0x00000001), propget]
        HRESULT Xml([out, retval] VARIANT* pRetVal);
        [id(0x00000002)]
        HRESULT NewRequest(
                        [in] BSTR number, 
                        [in] BSTR Qty, 
                        [in] BSTR REFERENCE_nbr, 
                        [in] BSTR pincode, 
                        [out, retval] BSTR* pRetVal);
        [id(0x00000003)]
        HRESULT NewValidate(
                        [in] BSTR msisdn, 
                        [in] BSTR pin, 
                        [in] BSTR multicode, 
                        [out, retval] BSTR* pRetVal);
        [id(0x00000004)]
        HRESULT NewReedem(
                        [in] _ArrayList* valueArray, 
                        [in] BSTR pincode, 
                        [in, optional, defaultvalue("")] BSTR redeem_reference, 
                        [out, retval] BSTR* pRetVal);
        [id(0x00000005)]
        HRESULT NewRefound(
                        [in] _ArrayList* CPNSELECTION, 
                        [in] double amount, 
                        [in, optional, defaultvalue("")] BSTR redeem_reference, 
                        [out, retval] BSTR* pRetVal);
        [id(0x00000006)]
        HRESULT NewResend(
                        [in] BSTR CPNSELECTION, 
                        [out, retval] BSTR* pRetVal);
        [id(0x00000007)]
        HRESULT NewCancel(
                        [in] SAFEARRAY(_CardComRetValidate*) list, 
                        [out, retval] BSTR* pRetVal);
        [id(0x00000008)]
        HRESULT NewStatus(
                        [in] BSTR CPNSELECTION, 
                        [out, retval] BSTR* pRetVal);
        [id(0x00000009)]
        HRESULT NewTransactionReport(
                        [in] BSTR startDate, 
                        [in] BSTR endDate, 
                        [in] BSTR cpntype, 
                        [out, retval] BSTR* pRetVal);
        [id(0x0000000a)]
        HRESULT NewValidationReport(
                        [in] BSTR startDate, 
                        [in] BSTR endDate, 
                        [out, retval] BSTR* pRetVal);
        [id(0x0000000b)]
        HRESULT NewDelivery(
                        [in] BSTR startDate, 
                        [in] BSTR endDate, 
                        [out, retval] BSTR* pRetVal);
        [id(0x0000000c)]
        HRESULT NewDeliveryReport(
                        [in] BSTR CPNSELECTION, 
                        [in] BSTR Status, 
                        [out, retval] BSTR* pRetVal);
        [id(0x0000000d),
            custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "NewRequest")]
        HRESULT NewRequest_2([out, retval] BSTR* pRetVal);
        [id(0x0000000e)]
        HRESULT NewTemplate(
                        [in] BSTR ID, 
                        [out, retval] BSTR* pRetVal);
        [id(0x0000000f)]
        HRESULT NewIssueAndSend(
                        [in] BSTR template, 
                        [in] BSTR Qty, 
                        [in] BSTR msisdn, 
                        [in] BSTR EMAIL_address, 
                        [in] BSTR sms_text, 
                        [in] BSTR validation_text, 
                        [in] BSTR email_text, 
                        [in] BSTR REFERENCE_nbr, 
                        [in] BSTR REPLACE_SUBJECT, 
                        [in] BSTR send_date, 
                        [in] BSTR receive_date, 
                        [in] BSTR FIRSTNAME, 
                        [in] BSTR lastname, 
                        [in] BSTR ADDRESS, 
                        [in] BSTR address2, 
                        [in] BSTR zipcode, 
                        [in] BSTR city, 
                        [in] BSTR country, 
                        [out, retval] BSTR* pRetVal);
        [id(0x00000010)]
        HRESULT NewIssue(
                        [in] BSTR template, 
                        [in] BSTR Qty, 
                        [in] BSTR msisdn, 
                        [in] BSTR EMAIL_address, 
                        [in] BSTR sms_text, 
                        [in] BSTR validation_text, 
                        [in] BSTR email_text, 
                        [in] BSTR REFERENCE_nbr, 
                        [in] BSTR REPLACE_SUBJECT, 
                        [out, retval] BSTR* pRetVal);
        [id(0x00000011)]
        HRESULT NewFindSendCoupon(
                        [in] BSTR startDate, 
                        [in] BSTR endDate, 
                        [in] BSTR msisdn, 
                        [in] BSTR EMAIL, 
                        [in] BSTR FIRSTNAME, 
                        [in] BSTR lastname, 
                        [in] BSTR ADDRESS, 
                        [in] BSTR address2, 
                        [in] BSTR zipcode, 
                        [in] BSTR city, 
                        [in] BSTR country, 
                        [out, retval] BSTR* pRetVal);
        [id(0x00000012)]
        HRESULT NewAppLog(
                        [in] long i_appID, 
                        [in] BSTR i_appVersion, 
                        [in] BSTR i_identStr, 
                        [in] BSTR i_ip, 
                        [in] BSTR i_comp_username, 
                        [in, optional, defaultvalue("")] BSTR i_log_data, 
                        [out, retval] BSTR* pRetVal);
    };

    [
      uuid(286BFC5B-4D33-3B52-B4B1-86B957BB3F89),
      version(1.0),
      noncreatable,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.common")
    ]
    coclass common {
        [default] interface _common;
        interface _Object;
    };

    typedef [uuid(E6C93F6F-83FA-3E3E-B621-B1A336FA8C6B), version(1.0)    ,
    custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.common+enuResult")    
]
    enum {
        enuResult_Ok = 0,
        enuResult_UndefinedError = 1,
        enuResult_InternalErrorTryLater = 10001,
        enuResult_IncorrectPhone = 10002,
        enuResult_SMSTextToLong = 10003,
        enuResult_ValidationTextToLong = 10004,
        enuResult_SMSTextError = 10008,
        enuResult_IllegalStartDate = 15002,
        enuResult_IllegalEndDate = 15003,
        enuResult_InternalErrorClass = 24010,
        enuResult_NotEnoughDataForPost = 24019,
        enuResult_NoRetailValuable = 24012,
        enuResult_IncorrectAmount = 24020,
        enuResult_CouldNotBeUpdated = 24211,
        enuResult_InvalidRetailValuableType = 24212,
        enuResult_NotCorrectPin = 25008,
        enuResult_CreditLimitPassed = 25009,
        enuResult_UnknownError = 25000,
        enuResult_RetailValuableIsClosedForUse = 25001,
        enuResult_RetailValuableIsClosedOrCancelled = 25002,
        enuResult_NoUsageLeft = 25003,
        enuResult_CannotBeUsedYet = 25004,
        enuResult_Expired = 25005,
        enuResult_InvalidRedeemReferenceLength = 25010,
        enuResult_InvalidRetailValuableTID = 25050,
        enuResult_InvalidRetailValuableCID = 25051,
        enuResult_IllegalAmount = 25052,
        enuResult_AmountExceeded = 25053,
        enuResult_InvalidStatus = 25054,
        enuResult_NotActivatedYet = 25070,
        enuResult_UndefinedErrorClass = 30000,
        enuResult_InternalError = 30001,
        enuResult_InvalidInitParam = -1
    } enuResult;

    [
      uuid(B0389CAB-233E-3F26-B14C-0A6DC9C4F8D3),
      version(1.0),
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.Utils")
    ]
    coclass Utils {
        [default] interface _Utils;
        interface _Object;
    };

    [
      odl,
      uuid(B99FCD23-50B8-334C-B7A3-9C6E1DED3B85),
      hidden,
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.common")    

    ]
    interface _common : IDispatch {
    };

    [
      odl,
      uuid(59D7ABC1-B59B-3522-B0FB-E7746676DC23),
      hidden,
      dual,
      oleautomation,
        custom({0F21F359-AB84-41E8-9A78-36D110E6D2F9}, "RetainComObj.Utils")    

    ]
    interface _Utils : IDispatch {
    };
};
From sscc at mweb.co.za  Fri Nov 27 03:55:10 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Nov 27 03:55:17 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <40237D3153C2478A956F9E83515C3451@emag>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag><4B0F2E25.5090003@dbtopas.lt>	<20091127025737.GA511@linux-4bod.home.aster.pl>
	<40237D3153C2478A956F9E83515C3451@emag>
Message-ID: <4B0F93EE.6080201@mweb.co.za>

Enrico Maria Giordano wrote:

> Works fine now, thank you all.

I tested it as well, and it works great.

Regards
Alex

From sscc at mweb.co.za  Fri Nov 27 04:04:07 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Nov 27 04:04:14 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <4B0F93B7.7000208@mweb.co.za>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>	<4B0F2E25.5090003@dbtopas.lt>	<20091127025737.GA511@linux-4bod.home.aster.pl>	<4B0F4142.3040808@dbtopas.lt>	<20091127031024.GA1265@linux-4bod.home.aster.pl>	<20091127031751.GA1504@linux-4bod.home.aster.pl>	<4B0F458B.50201@dbtopas.lt>
	<4B0F93B7.7000208@mweb.co.za>
Message-ID: <4B0F9607.2030804@mweb.co.za>

Alex Strickland wrote:

> Is it possible to add support for this?

It may be better to replace the lines at the end of hb_oleVariantToItem

       default:
          hb_itemClear( pItem );

with a run time error?

Regards
Alex

From bhays at abacuslaw.com  Fri Nov 27 04:14:24 2009
From: bhays at abacuslaw.com (bhays)
Date: Fri Nov 27 04:15:06 2009
Subject: [Harbour] RE: [xHarbour-developers] RDD: ADT -> ADSADT
In-Reply-To: <20091127041608.GB2372@linux-4bod.home.aster.pl>
References: <4B0F2378.9080909@dbtopas.lt> <072601ca6f0a$379331f0$a6b995d0$@com>
	<20091127041608.GB2372@linux-4bod.home.aster.pl>
Message-ID: <073901ca6f42$03217750$096465f0$@com>

Przemek and Mindaugas:

Thanks for the clarification.  I missed the finer point when Mindaugas
first discussed "ADS", but then the second paragraph said
"I propose to rename RDD from ADT ..."
as you noticed, I thought we were still talking about just "ADS".

So, yes, I would agree ADSADT is better than also supporting "ADT".
It might be good to find out how many people might be impacted,
but if it's just a question of changing the rddSetDefault line,
and if an obvious error is generated after the change that makes
it clear what the programmer should fix if he missed the change, 
then it sounds like a good fix.

As for the additional idea of removing "ADS" and:
> so in fact you had over four years to update your code....
> Was it my mistake that I left "ADS" RDD?

I never really thought that being "left for backward compatibility"
implied a suggestion for changing code.
For me personally, just changing the rddSetDefault line is no problem.
BUT I wouldn't recommend breaking users' apps if the only reason is
to remove the backwards compatibility for cleanliness sake.
Though I go back that many years, thousands of new users may very
well have used that syntax up to present day, especially in light 
of the lack of significant documentation for rddads.
Have new users been directed to examples or guidelines that suggest
the newer syntax and *not* using "ADS"?

One more point: to "reduce" the ADS RDDs to *just* the specific rdds
MAY imply the temptation to remove the ability to just set the FileType
from one to the other (e.g. from ADT to DBF and back again) in the same
workarea.  If this is where we're headed, it would break a LOT of 
people's code and probably create a lot of grief for people who just 
get a Harbour update, then suddenly find themselves having to debug and 
fixup potentially large amounts of code.
I'm not arguing for clinging to bad design, but concern for our users'
sanity is a virtue.

Thanks for all your work,

--
Brian Hays


> -----Original Message-----
> From: Przemys?aw Czerpak [mailto:druzus@acn.waw.pl]
> Sent: Thursday, November 26, 2009 8:16 PM
> To: Xharbour-Developers List; Harbour Project Main Developer List.
> Subject: Re: [xHarbour-developers] RDD: ADT -> ADSADT
> 
> On Thu, 26 Nov 2009, Brian Hays wrote:
> 
> Hi Brian,
> 
> > The addition of specific "sub-rdds" of ADSCDX etc. came years later.
> > I, and I imagine a lot of other people who started using rddads
> > early on, never had a need to explicitly use those other rdds by
> name.
> 
> Any one who has code like:
> 
>    proc copy_table( cSrc, cSrcRDD, cDst, cDstRDD )
>       use (cSrc) via (cSrcRDD)
>       copy to (cDst) via (cDstRDD)
>    return
> 
> designed to work with different RDDs in Clipper, needs ADS* RDDs to
> port
> his code without introducing unnecessary and incompatible with other
> RDDs
> modifications which are necessary to make working code like:
>    copy_table( "sales", "ADSCDX", "sales2", "ADSADT" )
> 
> In fact "ADS" RDD can be safely removed because the only one reason
> to keep it are user habbits but ADS* RDDs cannot be removed without
> reducing important functionality - working VIA clause in different
> command/functions which allows to easy switch between RDDs.
> 
> > Are you suggesting that we should now have to re-write our apps by
> > converting ADS to ADSADT?  But wait: IIRC (I'm not sure),
> > ADSCDX is the DEFAULT for ADS, so converting it to ADT doesn't
> > really make sense, does it?
> > If you're suggesting a change that would require people to change
> > code that's been growing for 9 years, there needs to be a stronger
> > reason to force the change than just compatibility with other rdds,
> > IMHO.
> > Or am I missing something?
> 
> Mindaugas wants to change only "ADT" RDD to "ADSADT" and you are not
> using it so it's not a problem for you.
> Anyhow you wrote that it's 9 years code.
> In the past I left "ADS" RDD only for backward compatibility:
> 
>    2005-09-02 20:10 UTC+0200 Przemyslaw Czerpak
> (druzus/at/priv.onet.pl)
>        + register ADS as three separate RDDs: ADSNTX, ADSCDX, ADT
>          (ADS RDD left for backward compatibility) -  they do not
>          need to set table type.
> 
> so in fact you had over four years to update your code.
> This suggests that forcing some modification immediately is better
> because four years ago it was only 5 years code ;-)
> Was it my mistake that I left "ADS" RDD?
> 
> best regards,
> Przemek
> 
> -----------------------------------------------------------------------
> -------
> Let Crystal Reports handle the reporting - Free Crystal Reports 2008
> 30-Day
> trial. Simplify your report design, integration and deployment - and
> focus on
> what you do best, core application coding. Discover what's new with
> Crystal Reports now.  http://p.sf.net/sfu/bobj-july
> _______________________________________________
> xHarbour-developers mailing list
> xHarbour-developers@lists.sourceforge.net
> https://lists.sourceforge.net/lists/listinfo/xharbour-developers
> No virus found in this incoming message.
> Checked by AVG - www.avg.com
> Version: 8.5.426 / Virus Database: 270.14.67/2506 - Release Date:
> 11/26/09 09:10:00

From harbour.01 at syenar.hu  Fri Nov 27 04:38:45 2009
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Viktor_Szak=E1ts?=)
Date: Fri Nov 27 04:38:55 2009
Subject: [Harbour] RE: [xHarbour-developers] RDD: ADT -> ADSADT
In-Reply-To: <073901ca6f42$03217750$096465f0$@com>
References: <4B0F2378.9080909@dbtopas.lt> <072601ca6f0a$379331f0$a6b995d0$@com>
	<20091127041608.GB2372@linux-4bod.home.aster.pl>
	<073901ca6f42$03217750$096465f0$@com>
Message-ID: <FA595877-7E23-4105-BD4D-FD5D7169B657@syenar.hu>

We can deprecate it just like we do with some other 
features (HB_LEGACY_LEVEL2 f.e., or LEVEL3), which means 
it will be dropped in a future version.

Brgds,
Viktor

On 2009 Nov 27, at 10:14, bhays wrote:

> Przemek and Mindaugas:
> 
> Thanks for the clarification.  I missed the finer point when Mindaugas
> first discussed "ADS", but then the second paragraph said
> "I propose to rename RDD from ADT ..."
> as you noticed, I thought we were still talking about just "ADS".
> 
> So, yes, I would agree ADSADT is better than also supporting "ADT".
> It might be good to find out how many people might be impacted,
> but if it's just a question of changing the rddSetDefault line,
> and if an obvious error is generated after the change that makes
> it clear what the programmer should fix if he missed the change, 
> then it sounds like a good fix.
> 
> As for the additional idea of removing "ADS" and:
>> so in fact you had over four years to update your code....
>> Was it my mistake that I left "ADS" RDD?
> 
> I never really thought that being "left for backward compatibility"
> implied a suggestion for changing code.
> For me personally, just changing the rddSetDefault line is no problem.
> BUT I wouldn't recommend breaking users' apps if the only reason is
> to remove the backwards compatibility for cleanliness sake.
> Though I go back that many years, thousands of new users may very
> well have used that syntax up to present day, especially in light 
> of the lack of significant documentation for rddads.
> Have new users been directed to examples or guidelines that suggest
> the newer syntax and *not* using "ADS"?
> 
> One more point: to "reduce" the ADS RDDs to *just* the specific rdds
> MAY imply the temptation to remove the ability to just set the FileType
> from one to the other (e.g. from ADT to DBF and back again) in the same
> workarea.  If this is where we're headed, it would break a LOT of 
> people's code and probably create a lot of grief for people who just 
> get a Harbour update, then suddenly find themselves having to debug and 
> fixup potentially large amounts of code.
> I'm not arguing for clinging to bad design, but concern for our users'
> sanity is a virtue.
> 
> Thanks for all your work,
> 
> --
> Brian Hays
> 
> 
>> -----Original Message-----
>> From: Przemys?aw Czerpak [mailto:druzus@acn.waw.pl]
>> Sent: Thursday, November 26, 2009 8:16 PM
>> To: Xharbour-Developers List; Harbour Project Main Developer List.
>> Subject: Re: [xHarbour-developers] RDD: ADT -> ADSADT
>> 
>> On Thu, 26 Nov 2009, Brian Hays wrote:
>> 
>> Hi Brian,
>> 
>>> The addition of specific "sub-rdds" of ADSCDX etc. came years later.
>>> I, and I imagine a lot of other people who started using rddads
>>> early on, never had a need to explicitly use those other rdds by
>> name.
>> 
>> Any one who has code like:
>> 
>>   proc copy_table( cSrc, cSrcRDD, cDst, cDstRDD )
>>      use (cSrc) via (cSrcRDD)
>>      copy to (cDst) via (cDstRDD)
>>   return
>> 
>> designed to work with different RDDs in Clipper, needs ADS* RDDs to
>> port
>> his code without introducing unnecessary and incompatible with other
>> RDDs
>> modifications which are necessary to make working code like:
>>   copy_table( "sales", "ADSCDX", "sales2", "ADSADT" )
>> 
>> In fact "ADS" RDD can be safely removed because the only one reason
>> to keep it are user habbits but ADS* RDDs cannot be removed without
>> reducing important functionality - working VIA clause in different
>> command/functions which allows to easy switch between RDDs.
>> 
>>> Are you suggesting that we should now have to re-write our apps by
>>> converting ADS to ADSADT?  But wait: IIRC (I'm not sure),
>>> ADSCDX is the DEFAULT for ADS, so converting it to ADT doesn't
>>> really make sense, does it?
>>> If you're suggesting a change that would require people to change
>>> code that's been growing for 9 years, there needs to be a stronger
>>> reason to force the change than just compatibility with other rdds,
>>> IMHO.
>>> Or am I missing something?
>> 
>> Mindaugas wants to change only "ADT" RDD to "ADSADT" and you are not
>> using it so it's not a problem for you.
>> Anyhow you wrote that it's 9 years code.
>> In the past I left "ADS" RDD only for backward compatibility:
>> 
>>   2005-09-02 20:10 UTC+0200 Przemyslaw Czerpak
>> (druzus/at/priv.onet.pl)
>>       + register ADS as three separate RDDs: ADSNTX, ADSCDX, ADT
>>         (ADS RDD left for backward compatibility) -  they do not
>>         need to set table type.
>> 
>> so in fact you had over four years to update your code.
>> This suggests that forcing some modification immediately is better
>> because four years ago it was only 5 years code ;-)
>> Was it my mistake that I left "ADS" RDD?
>> 
>> best regards,
>> Przemek
>> 
>> -----------------------------------------------------------------------
>> -------
>> Let Crystal Reports handle the reporting - Free Crystal Reports 2008
>> 30-Day
>> trial. Simplify your report design, integration and deployment - and
>> focus on
>> what you do best, core application coding. Discover what's new with
>> Crystal Reports now.  http://p.sf.net/sfu/bobj-july
>> _______________________________________________
>> xHarbour-developers mailing list
>> xHarbour-developers@lists.sourceforge.net
>> https://lists.sourceforge.net/lists/listinfo/xharbour-developers
>> No virus found in this incoming message.
>> Checked by AVG - www.avg.com
>> Version: 8.5.426 / Virus Database: 270.14.67/2506 - Release Date:
>> 11/26/09 09:10:00
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From vouchcac at users.sourceforge.net  Fri Nov 27 06:38:26 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Nov 27 06:38:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13036] trunk/harbour
Message-ID: <E1NDz9e-0007uw-W4@74yxhf1.ch3.sourceforge.com>

Revision: 13036
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13036&view=rev
Author:   vouchcac
Date:     2009-11-27 11:38:25 +0000 (Fri, 27 Nov 2009)

Log Message:
-----------
2009-11-27 02:58 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  + contrib/hbide/hbide.ch
    + Added new header to manage hbide constants, expected to grow fast.

  * contrib/hbide/ideactions.prg
    + "New Properties" icons action changed to "Toggle Project Tree".
      "Properties" dialog can be accessed via right-clicking on "Projects"
       tree-node of "Projects Tree" left-pane window and selecting "Properties"
       option.

  * contrib/hbide/hbide.prg
    + Started managing HBIDE properties via "hbide.ini". 
      The order of loading hbide.ini file is :
         1. Supplied as first parameter to hbide.exe ( with fully qualified path ), then 
         2. The start-in folder from where hbide.exe is executed, last
         3. The folder where hbide.exe is resident as returned by hb_DirBase().
      If hbide.ini is not located as above, new file is created on exit.
      Hbide.ini holds the various elements belonging to IDE operations and 
      is expedted to grow in contents with further development. Right now it may
      look-like as:
      
      hbide.ini
      =========
  
      [HBIDE]

      MainWindowGeometry     = 135,36,1099,682,
      ProjectTreeVisible     = YES
      ProjectTreeGeometry    = 0,0,88,616,
      FunctionListVisible    = YES
      FunctionListGeometry   = 0,20,150,596,
      RecentTabIndex         = 0
      CurrentProject         =


      [PROJECTS]

      [FILES]

      C:/harbour/contrib/hbxbp/xbpradiobutton.prg
      C:/harbour/contrib/hbxbp/xbprtf.prg
      C:/harbour/contrib/hbxbp/xbpstatusbar.prg

      .........

      Next invocation of ide will retain the location and size of the windows,
      files opened, last tab in focus, state of <Project Tree> and <Functions List>
      per visibility. There are a lot of notes on my drawing-board to implement.
      Just for now please report back your opinions. 
  

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbide/ideactions.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbide/hbide.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From tech at 2dinfo.com.br  Fri Nov 27 07:44:19 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Fri Nov 27 06:45:03 2009
Subject: [Harbour] How to build hbide with hbqt static libs?
Message-ID: <FE7358AD4A8045778F6E3F1EDC6BFE0F@noteleo>

Hi !
After setting HB_QT_STATIC = yes, I could generate HBQT static version libs, but when I try to build hbide.hbp (or any other hbxbp + hbqt based sample) using hbqts.hbc instead of hbqt.hbc (at hbxbp.hbc) hbmk2 mounts the executable, but the executable doesn't work.

Hbmk2 shows the following message:

=================================
C:\harbour\contrib\hbide>hbmk2 hbide.hbp
hbmk2: Processing environment options: -platform=win -compiler=mingw
hbmk2: Linkando... hbide.exe
Info: resolving QObject::staticMetaObject by linking to __imp___ZN7QObject16staticMetaObjectE (auto-import)
Info: resolving QString::codecForCStrings by linking to __imp___ZN7QString16codecForCStringsE (auto-import)
Info: resolving QListData::shared_null by linking to __imp___ZN9QListData11shared_nullE (auto-import)
Info: resolving QAction::staticMetaObject by linking to __imp___ZN7QAction16staticMetaObjectE (auto-import)
Info: resolving QVectorData::shared_null by linking to __imp___ZN11QVectorData11shared_nullE (auto-import)
Info: resolving QSyntaxHighlighter::staticMetaObject by linking to __imp___ZN18QSyntaxHighlighter16staticMetaObjectE (auto-import)
Info: resolving QTableView::staticMetaObject by linking to __imp___ZN10QTableView16staticMetaObjectE (auto-import)
Info: resolving QAbstractItemModel::staticMetaObject by linking to __imp___ZN18QAbstractItemModel16staticMetaObjectE (auto-import)
Info: resolving QWidget::staticMetaObject by linking to __imp___ZN7QWidget16staticMetaObjectE (auto-import)
Info: resolving QMainWindow::staticMetaObject by linking to __imp___ZN11QMainWindow16staticMetaObjectE (auto-import)
Info: resolving QString::shared_null by linking to __imp___ZN7QString11shared_nullE (auto-import)
Info: resolving QByteArray::sharednull  by linking to __imp___ZN10QByteArray11shared_nullE (auto-import)
Info: resolving vtable for QEventby linking to __imp___ZTV6QEvent (auto-import)
Info: resolving vtable for QMouseEventby linking to __imp___ZTV11QMouseEvent (auto-import)
Info: resolving QVariant::handler by linking to __imp___ZN8QVariant7handlerE (auto-import)
Info: resolving vtable for QBitmapby linking to __imp___ZTV7QBitmap (auto-import)
Info: resolving QCoreApplication::self by linking to __imp___ZN16QCoreApplication4selfE (auto-import)
C:\MINGW\BIN\..\lib\gcc\mingw32\3.4.5\..\..\..\..\mingw32\bin\ld.exe: 
warning: auto-importing has been activated without --enable-auto-import specified on the command line.
This should work unless it involves constant data structures referencing symbols from auto-imported DLLs.

=========================================

Even linked to static version of hbqt libs, the executable looks/asks  for QtCore4.dll and if the DLL is reachable it crashes with message "Aplication Error - Application not initialized correctly"

Am I doing something wrong?
Thanks
Leandro Damasio
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091127/c7e91679/attachment-0001.html
From dbtopas at dbtopas.lt  Fri Nov 27 07:57:56 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Nov 27 07:59:52 2009
Subject: [Harbour] Re: [xHarbour-developers] RDD: ADT -> ADSADT
In-Reply-To: <20091127041608.GB2372@linux-4bod.home.aster.pl>
References: <4B0F2378.9080909@dbtopas.lt> <072601ca6f0a$379331f0$a6b995d0$@com>
	<20091127041608.GB2372@linux-4bod.home.aster.pl>
Message-ID: <4B0FCCD4.6030605@dbtopas.lt>

Pre.S. ADSX is not xHarbour related, but this message shows the value of 
ADS* in comparison to pure ADS. So, I putt CC xHarbour also.

Hi,


Przemys?aw Czerpak wrote:
>> The addition of specific "sub-rdds" of ADSCDX etc. came years later.
>> I, and I imagine a lot of other people who started using rddads
>> early on, never had a need to explicitly use those other rdds by name.
> 
> Any one who has code like:
> 
>    proc copy_table( cSrc, cSrcRDD, cDst, cDstRDD )
>       use (cSrc) via (cSrcRDD)
>       copy to (cDst) via (cDstRDD)
>    return
> 
> designed to work with different RDDs in Clipper, needs ADS* RDDs to port
> his code without introducing unnecessary and incompatible with other RDDs
> modifications which are necessary to make working code like:
>    copy_table( "sales", "ADSCDX", "sales2", "ADSADT" )
> ...

2 minutes ago my co-worker asked a related RDD name question. Until know 
we've used ADSX RDD whitch is inherited from ADS. We are moving from 
ADSCDX to ADSADT, but of some transition time we need both ADSADT and 
ADSCDX with ADSX functionality. Since ADSX is the only RDD with local 
indexing capability AdsSetFileType() does not help any more to specify 
database/index type, because we need both.

The only solution I see is to make 4 RDDs instead of one ADSX. That 
names do you prefer:
1) ADSXCDX, ADSXADT, ADSXNTX, ADSXVFP
2) ADSCDXX, ADSADTX, ADSNTXX, ADSVFPX


Regards,
Mindaugas
From harbour.01 at syenar.hu  Fri Nov 27 08:08:51 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Nov 27 08:09:01 2009
Subject: [Harbour] Re: [xHarbour-developers] RDD: ADT -> ADSADT
In-Reply-To: <4B0FCCD4.6030605@dbtopas.lt>
References: <4B0F2378.9080909@dbtopas.lt> <072601ca6f0a$379331f0$a6b995d0$@com>
	<20091127041608.GB2372@linux-4bod.home.aster.pl>
	<4B0FCCD4.6030605@dbtopas.lt>
Message-ID: <51C468E5-604C-4E70-B426-2091372190C6@syenar.hu>

>> Any one who has code like:
>>   proc copy_table( cSrc, cSrcRDD, cDst, cDstRDD )
>>      use (cSrc) via (cSrcRDD)
>>      copy to (cDst) via (cDstRDD)
>>   return
>> designed to work with different RDDs in Clipper, needs ADS* RDDs to port
>> his code without introducing unnecessary and incompatible with other RDDs
>> modifications which are necessary to make working code like:
>>   copy_table( "sales", "ADSCDX", "sales2", "ADSADT" )
>> ...
> 
> 2 minutes ago my co-worker asked a related RDD name question. Until know we've used ADSX RDD whitch is inherited from ADS. We are moving from ADSCDX to ADSADT, but of some transition time we need both ADSADT and ADSCDX with ADSX functionality. Since ADSX is the only RDD with local indexing capability AdsSetFileType() does not help any more to specify database/index type, because we need both.
> 
> The only solution I see is to make 4 RDDs instead of one ADSX. That names do you prefer:
> 1) ADSXCDX, ADSXADT, ADSXNTX, ADSXVFP
> 2) ADSCDXX, ADSADTX, ADSNTXX, ADSVFPX

I'd prefer 2) from these.

Or even:

ADXCDX, ADXADT, ADXNTX, ADXVFP

Brgds,
Viktor

From bruno.luciani at gmail.com  Fri Nov 27 08:30:51 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Fri Nov 27 08:31:00 2009
Subject: [Harbour] Problems updating from SVN
In-Reply-To: <4B0F5356.2020900@msoft.cz>
References: <133778360911261725j18e7120bk778d0bb2b52e8f88@mail.gmail.com>
	<4B0F5356.2020900@msoft.cz>
Message-ID: <133778360911270530n10b54ebn279dda4dfaa1cdeb@mail.gmail.com>

But I never need to do that
until yesterday all works ok

Bruno


2009/11/27 Davor Siklic <siki@msoft.cz>

> Bruno Luciani napsal(a):
>
>> Something Strange happens  when i try to update via SVN
>>
>>  Bruno
>>
>> //////////////////////////
>>
>> bruno@notebook:~$ svn co
>> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunkharbour_svn
>> svn: Error al convertir la entrada en el directorio
>> ?harbour_svn/harbour/contrib/hbide? a UTF-8
>> svn: Datos UTF-8 v?lidos
>> (hex:)
>> seguidos de una secuencia UTF-8 inv?lida
>> (hex: d0 d3 43)
>> bruno@notebook:~$
>>
>> ------------------------------------------------------------------------
>>
>>
>> _______________________________________________
>> Harbour mailing list (attachment size limit: 40KB)
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>>
>>
> export LC_ALL=C
>
> svn co
> https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
>
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091127/765d03f5/attachment.html
From harbour.01 at syenar.hu  Fri Nov 27 08:36:38 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Nov 27 08:36:49 2009
Subject: [Harbour] How to build hbide with hbqt static libs?
In-Reply-To: <FE7358AD4A8045778F6E3F1EDC6BFE0F@noteleo>
References: <FE7358AD4A8045778F6E3F1EDC6BFE0F@noteleo>
Message-ID: <E8D15C0B-F956-42A6-A893-83E04A8EB834@syenar.hu>

Have you built static QT libs also?

Brgds,
Viktor

On 2009 Nov 27, at 13:44, Leandro Damasio wrote:

> Hi !
> After setting HB_QT_STATIC = yes, I could generate HBQT static version libs, but when I try to build hbide.hbp (or any other hbxbp + hbqt based sample) using hbqts.hbc instead of hbqt.hbc (at hbxbp.hbc) hbmk2 mounts the executable, but the executable doesn't work.
> 
> Hbmk2 shows the following message:
> 
> =================================
> C:\harbour\contrib\hbide>hbmk2 hbide.hbp
> hbmk2: Processing environment options: -platform=win -compiler=mingw
> hbmk2: Linkando... hbide.exe
> Info: resolving QObject::staticMetaObject by linking to __imp___ZN7QObject16staticMetaObjectE (auto-import)
> Info: resolving QString::codecForCStrings by linking to __imp___ZN7QString16codecForCStringsE (auto-import)
> Info: resolving QListData::shared_null by linking to __imp___ZN9QListData11shared_nullE (auto-import)
> Info: resolving QAction::staticMetaObject by linking to __imp___ZN7QAction16staticMetaObjectE (auto-import)
> Info: resolving QVectorData::shared_null by linking to __imp___ZN11QVectorData11shared_nullE (auto-import)
> Info: resolving QSyntaxHighlighter::staticMetaObject by linking to __imp___ZN18QSyntaxHighlighter16staticMetaObjectE (auto-import)
> Info: resolving QTableView::staticMetaObject by linking to __imp___ZN10QTableView16staticMetaObjectE (auto-import)
> Info: resolving QAbstractItemModel::staticMetaObject by linking to __imp___ZN18QAbstractItemModel16staticMetaObjectE (auto-import)
> Info: resolving QWidget::staticMetaObject by linking to __imp___ZN7QWidget16staticMetaObjectE (auto-import)
> Info: resolving QMainWindow::staticMetaObject by linking to __imp___ZN11QMainWindow16staticMetaObjectE (auto-import)
> Info: resolving QString::shared_null by linking to __imp___ZN7QString11shared_nullE (auto-import)
> Info: resolving QByteArray::sharednull  by linking to __imp___ZN10QByteArray11shared_nullE (auto-import)
> Info: resolving vtable for QEventby linking to __imp___ZTV6QEvent (auto-import)
> Info: resolving vtable for QMouseEventby linking to __imp___ZTV11QMouseEvent (auto-import)
> Info: resolving QVariant::handler by linking to __imp___ZN8QVariant7handlerE (auto-import)
> Info: resolving vtable for QBitmapby linking to __imp___ZTV7QBitmap (auto-import)
> Info: resolving QCoreApplication::self by linking to __imp___ZN16QCoreApplication4selfE (auto-import)
> C:\MINGW\BIN\..\lib\gcc\mingw32\3.4.5\..\..\..\..\mingw32\bin\ld.exe: 
> warning: auto-importing has been activated without --enable-auto-import specified on the command line.
> This should work unless it involves constant data structures referencing symbols from auto-imported DLLs.
> 
> =========================================
> 
> Even linked to static version of hbqt libs, the executable looks/asks  for QtCore4.dll and if the DLL is reachable it crashes with message "Aplication Error - Application not initialized correctly"
> 
> Am I doing something wrong?
> Thanks
> Leandro Damasio
>  
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From dmacias at mail.udg.mx  Fri Nov 27 08:45:18 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Nov 27 08:45:37 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
Message-ID: <4B0FD7EE.40004@mail.udg.mx>

Przemek:

>> Before we tried with any switch combinations and never resolved. I
>> have track of it
>> So we are as we left in December 2008

>Sorry but now I'm really confused. All what I know about results
>of real life OS/2 test comes from you and Maurilio messages.
>Now I'm OpenWatcom builds reading that it was never working
>correctly in MT mode in whole Harbour history and always fail
>in MT mode when second thread accessed GTOS2 function (I guess
>that speedtst works correctly with current SVN code when is linked
>with GTCGI).
>Can you and Maurilio confirm it?

>Did it work in the past after modifications in build time switches or
>not?
>If not then there is no reason to look for old messages.

>To be clear. It _was_ hard to locate to exact problem but after your
>test I know the exact problem so this part is resolved and it's not
>related to Harbour source code at all. The problem is caused by code
>generated by OpenWatom for functions which have in their body calls to
>some of APIENTRY16 functions like KbdCharIn(). When non main thread
>tries to execute such function then it GPFs. It's unimportant how
>APIENTRY16 function is used. Important is only the fact that it's
>used. I.e. if we have function like:

[...]

>Then it will GPF though pGT is always not NULL so KbdCharIn() is never
>executed.
>Above conclusion is the result of your test done in last year.

>So there is only question about finding workaround in OpenWatcom build
>configuration to resolve it. Of course if such workaround exists.
>I thought that more or less intentionally Maurilio found it and it
>was committed to Harbour repository.
>These should be switches related to C stack usage i.e. switches to
>control calling convention.

>It's also possible that we may find some programing workaround,
>i.e. using functions to encapsulate calls to APIENTRY16, i.e.

[...]

>and then use hb_os2_KbdCharIn() in hb_gt_os2_ReadKey() instead of
>KbdCharIn(). It may help because hb_gt_os2_ReadKey() is used indirectly
>by pointer to function and maybe only in such situation the OpenWatcom
>bug is exploited. But such method is only hack which may not work or
>suddenly stop to work in the future due to compile and link time
>optimizations, i.e. compiler may automatically inline above function
>creating the same code as for initial version.

>> but if you want ( and I want ) to resolve immediatly, give me
>> guidelines  :-)

>If you have some time to make tests then we can try to look for
>workarounds for the problem but 1-st I would like to be sure if it
>was working in the past and if yes then restore exact build time
>switches used for working version to locate the ones which helped
>to resolve the problem.

///////

>I've reread again old messages and you wrote that the problem can
>be resolved by removing -s compile time switch. Can you confirm that
>it is still true and if you remove -s from config/os2/watcom.mk[42]
>and utils/hbmk2/hbmk2.prg[2706] then MT version of
>   speedtst --thread
>works?

First of all, thanks for your interest

My last message about was Nov 16, 2008, WITHOUT response, so this case
is open since then

Yesterday I read briefly some messages and today deeply all them

As a summary:
- OS/2-Watcom was failing with GPF in MT mode
- Tests lead us to devices input problem (keyboard, mouse, ...) on
threads except 1
- Maurilio made tests changing switchs and it work for him, removing -s
switch
- I made tests with switchs and removing -s switch does not GPF
- But, some tests run slow, freeze, hangs, ...
- ... and here we are

So we faced two problems:
- GPF in MT related to devices input, solved? removing -s
- Slow, freeze, hangs, ..., un-solved yet

A big note:
- Maurilio was using OS/2 SMP kernel
- I was using eComStation 1.2MR, OS/2 4.5, both tested in two machines


This is part of my message after removing -s, as you maybe saw in your
recent review:

--------------------------------------------------
[Harbour] Re: Harbour under OS/2 - OpenWatcom
David Arturo Macias Corona dmacias at mail.udg.mx
Thu Nov 13 09:13:40 EST 2008


  >All mttest?? do work (apart from nr. 10) and speedtst works as well.

I rebuilt Harbour with original win32 flags but changed:
-bt=OS2   Platform target
-bm       For MT
-s        Removed

Except -s remove, rest is equal to all my previous tests

Using hbrun_mt.exe runs
- mttest??.prg, except 9 and 10 due missing functions HB_DBDETACH (9),
HB_GT_STD_DEFAULT (10)
-
[E:\harbour811\harbour\tests]e:\harbour811\ow\bin\hbrun_mt.exe
speedtst.prg --exclude=mem --scale --thread=2

====>  Now run without GPF, BUT extremaly slow
Sometimes it seem freezed for very long time


As we can see:
- Remove -s fixed problem with threads except 1
- "-sg" flag for stack grow is unnecessary

I rebuilt Harbour clean with -sg added
Results are the same

[E:\harbour811\harbour\tests]e:\harbour811\ow\bin\hbrun_mtsg.exe
speedtst.prg --exclude=mem --scale --thread=2

run extremaly slow too


Congratulatios for both ( and me ), GPF is solved

Now we have to find why speedtst.prg is so slow, but seem due to
compilers / linker flags too
--------------------------------


and here info about -s for easy remind:

--------------------------
-s flag
=======
Stack overflow checking is omitted from the generated code.  By default,
the compiler will emit code at the beginning of every function that
checks for the "stack overflow" condition.  This option can be used to
disable this feature.  The macro __SW_S will be predefined if "s" is
selected.
--------------------------


and this is part of my last message, without response, which mantain
case open:

--------------------------
[Harbour] Re: Harbour under OS/2 - OpenWatcom
David Arturo Macias Corona dmacias at mail.udg.mx
Sun Nov 16 11:32:22 EST 2008


Definitely speedtst.prg hangs somewhere

I checked OW linker doc,
If not STACK option is used, as OW doc say:
-------------------
"default stack size varies for both 16-bit and protected-mode 32-bit
applications depending on the executable format ..."
-------------------

Entire page for STACK OPTION is below

Removing OP stack=65536 and Using OPTION MAP "default stack size" can be
checked
For hbrun_mt.exe hbrun.map show:
-----------------------------
                          +-----------------------+
                          |   Linker Statistics   |
                          +-----------------------+

Stack size:  00012000 (73728.)
Memory size:  001db03d (1945661.)
Entry point address: 0002:000bb30e
-----------------------------

So default stack size is greater than previous used ( 73728 > 65536 )
and should be enough
This stack value is used in thread 1, and as limit in thread except 1 if
"-sg" flag is used
As I am not using "-sg" flag, then thread except 1 use fixed value
stated in code using _beginthread()

Testing:
tests\mt\mttest*.prg
********************
    Everyone run except 09, 10 due to known missings

speedtst.prg
************
Just MT
Depend of parameters
As exposed before, run extremaly slow and sometimes remain freezed

Entire results are below

hbrun_mt.exe speedtst.prg
=========================
[ total application time: ]...................................258.61
[ total real time: ]..........................................263.15

hbrun_mt.exe speedtst.prg --exclude=mem
=========================
[ total application time: ]...................................103.55
[ total real time: ]..........................................107.36

hbrun_mt.exe speedtst.prg --exclude=mem --scale
=========================
26.3 minutos
[ total application time: ]...................................251.74
[ total real time: ].........................................1578.49

hbrun_mt.exe speedtst.prg --exclude=mem --scale --thread=2
=========================
Remain doing something elsewhere
After 1 hour 40 minutes, I cancelled it
------------------------
[E:\harbour811\harbour\tests]e:\harbour811\ow\bin\hbrun_mt.exe
speedtst.prg --exclude=mem --scale --thread=2

11/16/08 10:18:29 OS/2 4.50
Harbour 1.1.0dev (Rev. 9903) (MT)+ Open Watcom C++ 12.70.8 (32-bit)
THREADS: 2
N_LOOPS: 1000000
excluded tests: 029 030 023 025 027 040 041 043 052 053 019 022 031 032 054
                                                          1 th.  2 th.
factor
============================================================================
The external process was cancelled by a Ctrl+Break or another process.
^C
------------------------

I used these linker flags:

LDFLAGS = debug all OP MAP OP CASEEXACT

Obviously some flags for compiler / linker are missing
I checked all "linker directives and options" of OW doc, but many of
them I don not understand
Some one like this can be related
...............................
Formats:  OS/2

The "INTERNALRELOCS" option is used with LX format executables under
32-bit OS/2.  By default, OS/2 executables do not contain internal
relocation information and OS/2 Dynamic Link Libraries do contain
internal relocation information.  This option causes the Open Watcom
Linker to include internal relocation information in OS/2 LX format
executables.

The format of the "INTERNALRELOCS" option (short form "INT") is as follows.

           OPTION INTERNALRELOCS
...............................

Przemek, Maurilio:
Review "linker directives and options" of OW doc, perhaps you can find
something related

Przemek: do you have any idea why with "--thread=2" never end ?

Any other suggestions ?

--------------------------


As I said before, I expected this case solved due recent OpenWatcom 1.8
and lots of changes in Harbour
We saw first problem (GPF) remain

So new tests with recent code are necessary
I am doing them and wait for results report

David Macias



From siki at msoft.cz  Fri Nov 27 09:04:11 2009
From: siki at msoft.cz (Davor Siklic)
Date: Fri Nov 27 09:04:19 2009
Subject: [Harbour] Problems updating from SVN
In-Reply-To: <133778360911270530n10b54ebn279dda4dfaa1cdeb@mail.gmail.com>
References: <133778360911261725j18e7120bk778d0bb2b52e8f88@mail.gmail.com>	<4B0F5356.2020900@msoft.cz>
	<133778360911270530n10b54ebn279dda4dfaa1cdeb@mail.gmail.com>
Message-ID: <4B0FDC5B.2070907@msoft.cz>

Bruno Luciani napsal(a):
>
> But I never need to do that
> until yesterday all works ok
>
> Bruno
>
"export LC_ALL=C" make error message in English

>
> 2009/11/27 Davor Siklic <siki@msoft.cz <mailto:siki@msoft.cz>>
>
>     Bruno Luciani napsal(a):
>
>         Something Strange happens  when i try to update via SVN
>
>          Bruno
>
>         //////////////////////////
>
>         bruno@notebook:~$ svn co
>         https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk
>         harbour_svn
>         svn: Error al convertir la entrada en el directorio
>         ?harbour_svn/harbour/contrib/hbide? a UTF-8
>         svn: Datos UTF-8 v?lidos
>         (hex:)
>         seguidos de una secuencia UTF-8 inv?lida
>         (hex: d0 d3 43)
>         bruno@notebook:~$
>
>         ------------------------------------------------------------------------
>
>
>
>         _______________________________________________
>         Harbour mailing list (attachment size limit: 40KB)
>         Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>         http://lists.harbour-project.org/mailman/listinfo/harbour
>          
>
>     export LC_ALL=C
>
>     svn co
>     https://harbour-project.svn.sourceforge.net/svnroot/harbour-project/trunk/harbour
>
>
>
>     _______________________________________________
>     Harbour mailing list (attachment size limit: 40KB)
>     Harbour@harbour-project.org <mailto:Harbour@harbour-project.org>
>     http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>   

From guy.roussin at teledetection.fr  Fri Nov 27 09:06:42 2009
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Fri Nov 27 09:06:51 2009
Subject: [Harbour] Problems updating from SVN
In-Reply-To: <133778360911270530n10b54ebn279dda4dfaa1cdeb@mail.gmail.com>
References: <133778360911261725j18e7120bk778d0bb2b52e8f88@mail.gmail.com>	<4B0F5356.2020900@msoft.cz>
	<133778360911270530n10b54ebn279dda4dfaa1cdeb@mail.gmail.com>
Message-ID: <4B0FDCF2.9020902@teledetection.fr>

Hi,

>
> But I never need to do that
> until yesterday all works ok
>
Same problem here (linux)

There is a strange filename in the repository :
$ svn update
svn: Erreur en convertissant une entr?e du r?pertoire 'contrib/hbide' 
vers UTF8
svn: Donn?es UTF-8 valides
(hex:)
suivies par une s?quence UTF-8 invalide
(hex: f0 e3 67 f6)

$ file contrib/hbide/*
contrib/hbide/freadlin.c: ASCII C program text
contrib/hbide/??g?ut.log: ASCII text
contrib/hbide/hbide: ELF 32-bit LSB executable, Intel 80386, version 1 
(SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.18, not 
stripped
contrib/hbide/hbide.hbp: ASCII text
contrib/hbide/hbide.prg: ASCII C program text
contrib/hbide/hb_out.log: ASCII text
contrib/hbide/ideactions.prg: ASCII C program text
contrib/hbide/idemisc.prg: ASCII C program text
contrib/hbide/ideparseexpr.c: ASCII C program text
contrib/hbide/idestylesheets.prg: ASCII C program text
contrib/hbide/idetags.prg: ASCII C program text
contrib/hbide/resources: setgid directory

Notice the second filename in the list ...
i think this is a log file (not from svn) you can
remove it, if you can ;-) !

--
Guy

From tech at 2dinfo.com.br  Fri Nov 27 10:08:58 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Fri Nov 27 09:09:37 2009
Subject: [Harbour] How to build hbide with hbqt static libs?
In-Reply-To: <E8D15C0B-F956-42A6-A893-83E04A8EB834@syenar.hu>
References: <FE7358AD4A8045778F6E3F1EDC6BFE0F@noteleo>
	<E8D15C0B-F956-42A6-A893-83E04A8EB834@syenar.hu>
Message-ID: <F2F551868BF74D95906D45C29F2B953A@noteleo>

Hello Victor

> Have you built static QT libs also?

When I installed Qt 4.5.3, the DLL files (QtCore4.dll, QtGUI4.dll, etc) were 
copied to BIN folder and a LIB folder was also created with pairs of lib 
files it it, like libQtCore4.a and libQtCored4.a, libQtGUI4.a and 
libQtGUId4.a and the same for all the other libs. So I assumed that the lib 
versions not ended with "d" were for static linking and that Qt was ready to 
use and didn't run configure utility to [re]compile everything.

I will [re]build QT and hbide and report the results soon.

Thank you,
Leandro Damasio

 

From dmacias at mail.udg.mx  Fri Nov 27 09:44:19 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Nov 27 09:44:52 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
Message-ID: <4B0FE5C3.1070506@mail.udg.mx>

Przemek:

 >So new tests with recent code are necessary
 >I am doing them and wait for results report

and remember:
-----------------------------
 >So we faced two problems:
 >- GPF in MT related to devices input, solved? removing -s
 >- Slow, freeze, hangs, ..., un-solved yet

 >A big note:
 >- Maurilio was using OS/2 SMP kernel
 >- I was using eComStation 1.2MR, OS/2 4.5, both tested in two machines
-----------------------------

Here is the summary
If you want detailed results for each case let me know


Harbour 13035
OpenWatcom 1.8

Below are results using:
------------------------
    hbmk2 -m -n -w -es2 -l -kmo -gc3 speedtst.prg
       speedtst.exe
    hbmk2 -m -n -w -es2 -l -kmo -gc3 -mt speedtst.prg
       speedtst.exe
       speedtst.exe --thread
       speedtst.exe --thread=2 --scale
------------------------

and in same order

Changes of switchs in os2\watcom.mk and hbmk2.prg

We can see immediatly:
- speedtst complete all test
- Are slow

A big note:

Tests in Oct-Nov-Dec were made with
Athlon XP 2400+, 2000 MHz, 256 KB, 266 MT/s, ...
1 Gb RAM

Current tests are in:
Intel Core 2 Duo E8400 3.00GHZ FSB1333 6MB 775 ...
2 Gb RAM

A big difference in computing power

But a quick comparison, if it is valid:

 From old message:
( Athlon, -DHB_FM_DL_ALLOC excluded in that time, -s removed )
hbrun_mt.exe speedtst.prg
=========================
[ total application time: ]...................................258.61
[ total real time: ]..........................................263.15

 From current test:
( Core2Duo )
with -DHB_FM_STD_ALLOC, -s removed
[ total application time: ]...................................106.97
[ total real time: ]..........................................107.81


and another comparison:

 From old message:
( Athlon, -DHB_FM_DL_ALLOC excluded in that time, -s removed )
hbrun_mt.exe speedtst.prg --exclude=mem --scale --thread=2
=========================
Remain doing something elsewhere
After 1 hour 40 minutes, I cancelled it

 From current test:
( Core2Duo )
with -DHB_FM_STD_ALLOC, -s removed
[ total application time: ].....................................0.10
[ total real time: ]..........................................467.99


As conclusion things are changed

Przemek, what should we do ?

David Macias


Original SVN, with -DHB_FM_STD_ALLOC

[ total application time: ]....................................58.26
[ total real time: ]...........................................59.71

[ total application time: ]....................................63.26
[ total real time: ]...........................................63.95

GPF
GPF

Original SVN, with (-DHB_FM_DL_ALLOC)

[ total application time: ]....................................15.55
[ total real time: ]...........................................15.54

[ total application time: ]....................................23.42
[ total real time: ]...........................................23.87

GPF
GPF


with -DHB_FM_STD_ALLOC, 5r -> 5s

[ total application time: ]....................................60.71
[ total real time: ]...........................................60.69

[ total application time: ]....................................64.71
[ total real time: ]...........................................64.66

GPF
GPF

With (-DHB_FM_DL_ALLOC), 5r -> 5s

[ total application time: ]....................................16.65
[ total real time: ]...........................................16.58

[ total application time: ]....................................24.68
[ total real time: ]...........................................24.59

GPF
GPF


with -DHB_FM_STD_ALLOC, -s removed

[ total application time: ]....................................98.13
[ total real time: ]...........................................99.67

[ total application time: ]...................................106.97
[ total real time: ]..........................................107.81

[ total application time: ].....................................0.03
[ total real time: ]..........................................281.51

[ total application time: ].....................................0.10
[ total real time: ]..........................................467.99


with -DHB_FM_DL_ALLOC, -s removed

[ total application time: ]....................................56.55
[ total real time: ]...........................................56.33

[ total application time: ]....................................70.03
[ total real time: ]...........................................69.96

[ total application time: ].....................................0.06
[ total real time: ]...........................................69.75

[ total application time: ].....................................0.06
[ total real time: ]..........................................277.91


with -DHB_FM_STD_ALLOC, 5r -> 5s, -s removed

[ total application time: ]....................................99.19
[ total real time: ]...........................................99.25

[ total application time: ]...................................107.16
[ total real time: ]..........................................106.98

[ total application time: ].....................................0.06
[ total real time: ]..........................................275.80

[ total application time: ].....................................0.03
[ total real time: ]..........................................473.34


with -DHB_FM_DL_ALLOC, 5r -> 5s, -s removed

[ total application time: ]....................................57.26
[ total real time: ]...........................................57.75

[ total application time: ]....................................71.48
[ total real time: ]...........................................71.26

[ total application time: ].....................................0.03
[ total real time: ]...........................................69.19

[ total application time: ].....................................0.00
[ total real time: ]..........................................278.17


as comparison:

gcc335, OMF type, with -DHB_FM_DL_ALLOC

[ total application time: ]....................................16.48
[ total real time: ]...........................................16.46

[ total application time: ]....................................23.19
[ total real time: ]...........................................23.23

[ total application time: ].....................................0.10
[ total real time: ]...........................................22.15

[ total application time: ].....................................0.06
[ total real time: ]...........................................87.19


gcc335, OMF type, without -DHB_FM_DL_ALLOC

[ total application time: ]....................................22.06
[ total real time: ]...........................................22.07

[ total application time: ]....................................26.13
[ total real time: ]...........................................26.06

[ total application time: ].....................................0.26
[ total real time: ]...........................................26.25

[ total application time: ]....................................52.06
[ total real time: ]..........................................103.38


From M.Horodyski at pzuzycie.com.pl  Fri Nov 27 10:03:08 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Nov 27 10:03:17 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13028] trunk/harbour
In-Reply-To: <DFDD1832-AC33-4C0E-B3A9-49A157E40C04@syenar.hu>
References: <E1NDiHm-0008Mg-I5@74yxhf1.ch3.sourceforge.com><2E4EF95F-9A74-4488-9340-1F9696884678@syenar.hu><26534421.post@talk.nabble.com>
	<DFDD1832-AC33-4C0E-B3A9-49A157E40C04@syenar.hu>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC2965@PINK.zycie.pzu>

>-----Original Message-----
>From: Viktor Szak?ts [mailto:harbour.01@syenar.hu] 
>Sent: Thursday, November 26, 2009 9:46 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] SF.net SVN: harbour-project:[13028] 
>trunk/harbour
>
>Hi Pritpal,
>
>> Viktor Szak?ts wrote:

[...]

>BTW, as we're closing a release, I think you can also safely 
>disable these debug calls from the GTWVG demo code.

In GTWVG i must from time to time hit right alt key, because cursor keys don't work.
After push right alt key, all returns to normal.

Regards,
Marek Horodyski
From mauriliolongo at users.sourceforge.net  Fri Nov 27 10:07:22 2009
From: mauriliolongo at users.sourceforge.net (mauriliolongo@users.sourceforge.net)
Date: Fri Nov 27 10:07:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13037] trunk/harbour
Message-ID: <E1NE2Pq-0004zb-TI@c3vjzd1.ch3.sourceforge.com>

Revision: 13037
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13037&view=rev
Author:   mauriliolongo
Date:     2009-11-27 15:07:19 +0000 (Fri, 27 Nov 2009)

Log Message:
-----------
2009-11-27 16:05 UTC+0100 Maurilio Longo (maurilio.longo@libero.it)
   src/vm/fm.c
      - commented out section for OS/2 critical section usage
   src/vm/dlmalloc.c
      * always use dlmalloc.c under OS/2.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/vm/dlmalloc.c
    trunk/harbour/src/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Nov 27 10:10:44 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Nov 27 10:10:51 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
In-Reply-To: <4B0FD7EE.40004@mail.udg.mx>
References: <4B0FD7EE.40004@mail.udg.mx>
Message-ID: <20091127151044.GA7826@linux-4bod.home.aster.pl>

On Fri, 27 Nov 2009, David Arturo Macias Corona wrote:

Hi,

> As a summary:
> - OS/2-Watcom was failing with GPF in MT mode
> - Tests lead us to devices input problem (keyboard, mouse, ...) on
> threads except 1

Exactly.

> - Maurilio made tests changing switchs and it work for him, removing -s
> switch
> - I made tests with switchs and removing -s switch does not GPF

Can you repeat your test for current SVN code and check if removing
still -s resolves the problem?

> - But, some tests run slow, freeze, hangs, ...
> - ... and here we are

The main reason of slowness was -bm switch. It existed from beginning
in all OpenWatcom MT builds and was caused by very slow OpenWatcom MT
safe memory manager linked automatically with final application if code
was compiled with -bm. As workaround we were using DLMALLOC in Windows.
Unfortunately DLMALLOC was not working in OS2. I made some basic
modifications to compiled it cleanly in OS2 but the OS2 port of DLMALLOC
was never finished and if you tried to use it then GPF was generated.
Recently with Maurilio help I finished this modifications and now DLMALLOC
can be used in OS2 what should resolve the main reason of the slowness
though removing -s causes some additional overhead which also reducse
the speed, i.e. in Linux builds it change the speedtst result from:
   [ total application time: ]....................................23.94
to:
   [ total application time: ]....................................29.63

but it's only ~24% slower not ~300% and we can try to find some workarounds
later. Now it's important to check if current SVN code works correctly in MT
mdoe when -s is removed from build switches. Please make tests with
MT version of speedtst with such build for:
   speetst.exe --threads
and:
   speetst.exe --threads=2 --scale

> So we faced two problems:
> - GPF in MT related to devices input, solved? removing -s
> - Slow, freeze, hangs, ..., un-solved yet

See above. I need current code results.

> A big note:
> - Maurilio was using OS/2 SMP kernel
> - I was using eComStation 1.2MR, OS/2 4.5, both tested in two machines

I know but the problem seems to be inside OpenWatcom code and for me it
looks like OpenWatcom bug which probably can be quite easy fixed but
I need more information to be sure.
Sorry that I'm asking you about it but I do not have OS/2 to make such
tests myself.

best regards,
Przemek
From dbtopas at dbtopas.lt  Fri Nov 27 10:40:42 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Nov 27 10:42:38 2009
Subject: [Harbour] Proposal for new string API
Message-ID: <4B0FF2FA.1030507@dbtopas.lt>

Hi,


I have a proposal.

Let's say I have function print_utf8() which accepts const char * 
parameter in utf8 encoding, and I want to do Harbour wrapper function 
for this C function.

1) current code
   HB_FUNC( PRINT )
   {
      const char * str;
      void * h;
      h = hb_parstr_utf8( 1, &str, NULL );
      hb_retnl( printf_utf8( str ) );
      hb_strfree( h );
   }

2) if we change hb_parstr_ut8() to return string, and handler to be 
returned via parameter reference.

   HB_FUNC( PRINT )
   {
      void * h;
      hb_retnl( printf_utf8( hb_parstr_utf8( 1, &h, NULL ) ) );
      hb_strfree( h );
   }

The same proposal for hb_itemGetStr*().


Regards,
Mindaugas
From dbtopas at dbtopas.lt  Fri Nov 27 11:29:49 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Nov 27 11:31:46 2009
Subject: [Harbour] UTF8
Message-ID: <4B0FFE7D.4040403@dbtopas.lt>

Hi,


I'm trying to use UTF8 functions from string API. I found a problem 
using Cairo library (it accepts all string parameters in UTF8). If I 
want to print a "s caron" (\xF0 from 1257 code page), I must pass 
\xC5\xA1 to cairo functions. \xC2\xAD does not work. I guess it's the 
problem of little vs big endianness in UTF8.
Do we need two UTF8 functions (or additional parameter) to manage the 
problem? :-(


Regards,
Mindaugas
From M.Horodyski at pzuzycie.com.pl  Fri Nov 27 11:36:20 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Fri Nov 27 11:36:30 2009
Subject: [Harbour] Proposal for new string API
In-Reply-To: <4B0FF2FA.1030507@dbtopas.lt>
References: <4B0FF2FA.1030507@dbtopas.lt>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297A@PINK.zycie.pzu>

>-----Original Message-----
>From: Mindaugas Kavaliauskas [mailto:dbtopas@dbtopas.lt] 
>Sent: Friday, November 27, 2009 4:41 PM
>To: Harbour Project Main Developer List.
>Subject: [Harbour] Proposal for new string API
>
>Hi,
>
>
>I have a proposal.
>
>Let's say I have function print_utf8() which accepts const 
>char * parameter in utf8 encoding, and I want to do Harbour 
>wrapper function for this C function.
>
>1) current code
>   HB_FUNC( PRINT )

Can there be any other name?
PRINT is probably already used by many developers (such as me:)

Regards,
Marek Horodyski
From dbtopas at dbtopas.lt  Fri Nov 27 11:46:06 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Nov 27 11:48:07 2009
Subject: [Harbour] Proposal for new string API
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297A@PINK.zycie.pzu>
References: <4B0FF2FA.1030507@dbtopas.lt>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297A@PINK.zycie.pzu>
Message-ID: <4B10024E.3020404@dbtopas.lt>

Hi,


Horodyski Marek (PZUZ) wrote:
>> Let's say I have function print_utf8() which accepts const 
>> char * parameter in utf8 encoding, and I want to do Harbour 
>> wrapper function for this C function.
>>
>> 1) current code
>>   HB_FUNC( PRINT )
> 
> Can there be any other name?
> PRINT is probably already used by many developers (such as me:)

See above: "Let's say"


Regards,
Mindaugas
From bedipritpal at hotmail.com  Fri Nov 27 11:48:44 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Nov 27 11:48:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13028] trunk/harbour
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC2965@PINK.zycie.pzu>
References: <E1NDiHm-0008Mg-I5@74yxhf1.ch3.sourceforge.com>
	<2E4EF95F-9A74-4488-9340-1F9696884678@syenar.hu>
	<26534421.post@talk.nabble.com>
	<DFDD1832-AC33-4C0E-B3A9-49A157E40C04@syenar.hu>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC2965@PINK.zycie.pzu>
Message-ID: <26544934.post@talk.nabble.com>


Hi


Horodyski Marek (PZUZ) wrote:
> 
> In GTWVG i must from time to time hit right alt key, because cursor keys
> don't work.
> After push right alt key, all returns to normal.
> 

I never experienced such activity so far.
If you can reduce it to some compilable code I can check.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13028--trunk-harbour-tp26532755p26544934.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Fri Nov 27 12:18:30 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Nov 27 12:18:37 2009
Subject: [Harbour] UTF8
In-Reply-To: <4B0FFE7D.4040403@dbtopas.lt>
References: <4B0FFE7D.4040403@dbtopas.lt>
Message-ID: <20091127171830.GA18865@linux-4bod.home.aster.pl>

On Fri, 27 Nov 2009, Mindaugas Kavaliauskas wrote:

Hi,

> I'm trying to use UTF8 functions from string API. I found a problem
> using Cairo library (it accepts all string parameters in UTF8). If I
> want to print a "s caron" (\xF0 from 1257 code page), I must pass
> \xC5\xA1 to cairo functions. \xC2\xAD does not work. I guess it's
> the problem of little vs big endianness in UTF8.
> Do we need two UTF8 functions (or additional parameter) to manage
> the problem? :-(

UTF8 is endian independent. There is no little and big endian version
of UTF-8.
In CP-1257 character at position 0xF0 has Unicode value 0x0161 which
in UTF-8 encoding has value "\xC5\xA1". "\xC2\xAD" is 0x00AD. It simply
means that in your program you are not set LTWIN codepage but some
other CP which uses Unicode table which has value 0x00AD at position
0xF0, i.e. CP-852.
The code below illustrates it.

best regards,
Przemek


request HB_CODEPAGE_LTWIN
request HB_CODEPAGE_PL852
proc main()
   ? hb_strToHex( hb_utf8chr( 0x0161 ) )
   ?
   set( _SET_CODEPAGE, "LTWIN" )
   ? hb_strToHex( hb_strToUtf8( chr( 0xF0 ) ) )
   ? hb_strToHex( str2utf8( chr( 0xF0 ) ) )
   ?
   set( _SET_CODEPAGE, "PL852" )
   ? hb_strToHex( hb_strToUtf8( chr( 0xF0 ) ) )
   ? hb_strToHex( str2utf8( chr( 0xF0 ) ) )
return

#pragma begindump
#include "hbapi.h"
#include "hbapistr.h"
HB_FUNC( STR2UTF8 )
{
   const char * psz;
   void * hStr = hb_parstr_utf8( 1, &psz, NULL );
   hb_retc( psz );
   hb_strfree( hStr );
}
#pragma enddump
From druzus at acn.waw.pl  Fri Nov 27 12:34:53 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Nov 27 12:35:01 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
In-Reply-To: <4B0FE5C3.1070506@mail.udg.mx>
References: <4B0FE5C3.1070506@mail.udg.mx>
Message-ID: <20091127173453.GA21296@linux-4bod.home.aster.pl>

On Fri, 27 Nov 2009, David Arturo Macias Corona wrote:

Hi,

> Here is the summary
> If you want detailed results for each case let me know
> Harbour 13035
> OpenWatcom 1.8
> Below are results using:
> ------------------------
>    hbmk2 -m -n -w -es2 -l -kmo -gc3 speedtst.prg
>       speedtst.exe
>    hbmk2 -m -n -w -es2 -l -kmo -gc3 -mt speedtst.prg
>       speedtst.exe
>       speedtst.exe --thread
>       speedtst.exe --thread=2 --scale
> ------------------------
> and in same order
> Changes of switchs in os2\watcom.mk and hbmk2.prg
> We can see immediatly:
> - speedtst complete all test
> - Are slow
> As conclusion things are changed
> Przemek, what should we do ?
[...]
> with -DHB_FM_DL_ALLOC, -s removed
> 
> [ total application time: ]....................................56.55
> [ total real time: ]...........................................56.33
> 
> [ total application time: ]....................................70.03
> [ total real time: ]...........................................69.96
> 
> [ total application time: ].....................................0.06
> [ total real time: ]...........................................69.75
> 
> [ total application time: ].....................................0.06
> [ total real time: ]..........................................277.91

Thank you very much. So now we know that we can remove -s as workaround.
Unfortunately it causes very big speed overhead. Much bigger then in
Linux where removing -s reduce the speed only ~24 percent. It's 363%
what is even bigger then in Windows (295% in my test).

Now I would like to check if -s is necessary as global switch or it
can be used locally only for GT2OS2 code.
Please restore -s switch (just like in clean SVN code) and then
add to src/rtl/gtos2/Makefile[5] this line:

   HB_BUILD_OPTIM := no

It should disable optimization switches.
Then check if speedtst works in MT mode.

best regards,
Przemek
From druzus at users.sourceforge.net  Fri Nov 27 12:40:50 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Nov 27 12:40:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13038] trunk/harbour
Message-ID: <E1NE4oM-0006Hv-FE@74yxhf1.ch3.sourceforge.com>

Revision: 13038
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13038&view=rev
Author:   druzus
Date:     2009-11-27 17:40:49 +0000 (Fri, 27 Nov 2009)

Log Message:
-----------
2009-11-27 18:40 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/rtl/cdpapi.c
  * harbour/include/hbextern.ch
    + added new .prg function:
         HB_UTF8ASC( <cUtf8> ) -> <nUnicode>

  * harbour/contrib/hbwin/olecore.c
    % removed redundant call to SafeArrayGetDim()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/include/hbextern.ch
    trunk/harbour/src/rtl/cdpapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Nov 27 12:53:38 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Nov 27 12:53:45 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <4B0F9607.2030804@mweb.co.za>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>
	<4B0F2E25.5090003@dbtopas.lt>
	<20091127025737.GA511@linux-4bod.home.aster.pl>
	<4B0F4142.3040808@dbtopas.lt>
	<20091127031024.GA1265@linux-4bod.home.aster.pl>
	<20091127031751.GA1504@linux-4bod.home.aster.pl>
	<4B0F458B.50201@dbtopas.lt> <4B0F93B7.7000208@mweb.co.za>
	<4B0F9607.2030804@mweb.co.za>
Message-ID: <20091127175338.GA22154@linux-4bod.home.aster.pl>

On Fri, 27 Nov 2009, Alex Strickland wrote:

Hi,

> It may be better to replace the lines at the end of hb_oleVariantToItem
>       default:
>          hb_itemClear( pItem );
> with a run time error?

It should be real OLE users decision. Do you prefer RT error when unknown
OLE item is received or ignoring it and translation to NIL. I can only
guess that it may depend on context and sometime user will prefer RTE
and sometimes NIL.
Seems that the most universal solution is adding well documented RTE
which can substitute result so it can be easy caught by user and if
necessary he can set his own preferable value for such unknown OLE variant.
What it group opinion here?

best regards,
Przemek
From druzus at acn.waw.pl  Fri Nov 27 12:55:47 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Nov 27 12:55:53 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <4B0F93EE.6080201@mweb.co.za>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>
	<4B0F2E25.5090003@dbtopas.lt>
	<20091127025737.GA511@linux-4bod.home.aster.pl>
	<40237D3153C2478A956F9E83515C3451@emag>
	<4B0F93EE.6080201@mweb.co.za>
Message-ID: <20091127175546.GB22154@linux-4bod.home.aster.pl>

On Fri, 27 Nov 2009, Alex Strickland wrote:

Hi,

> Enrico Maria Giordano wrote:
> >Works fine now, thank you all.
> I tested it as well, and it works great.

It's also possible that this modification resolved some of ADO RDD
problems. Users interested in this RDD should repeat their tests.

best regards,
Przemek
From maurilio.longo at libero.it  Fri Nov 27 12:55:54 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Nov 27 12:56:06 2009
Subject: [Harbour] hbmk2 on OS/2
Message-ID: <4B1012AA.1050104@libero.it>

Viktor,

using hbmk2 on OS/2 I see that is does not use newlines while outputting its
activity. It seems to me this issue was addressed in the past and maybe
resolved, but I'm not sure. See example:

(E:\REPOSITORY\HARBOUR\tests)hbmk2 -mt speedtst.prg
hbmk2: Processing environment options: -mt -compiler=gcc
hbmk2: Processing configuration: E:\harbour\bin\hbmk.cfg
Harbour 2.0.0beta3 (Rev. 13037)
                               Copyright (c) 1999-2009, http://www.harbour-proje
ct.org/
       Compiling 'speedtst.prg'...
Lines 1204, Functions/Procedures 79
                                   Generating C source output to 'speedtst.c'...
 Done.


This is the exact scree output.

It's just a cosmetic issue, anyway if it can be resolved it would be a good thing.

Best regards.

Maurilio.


-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From harbour.01 at syenar.hu  Fri Nov 27 13:04:24 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Fri Nov 27 13:04:33 2009
Subject: [Harbour] hbmk2 on OS/2
In-Reply-To: <4B1012AA.1050104@libero.it>
References: <4B1012AA.1050104@libero.it>
Message-ID: <E6334462-0B25-485C-B381-815109ED1FFF@syenar.hu>

Hi Maurilio,

> using hbmk2 on OS/2 I see that is does not use newlines while outputting its
> activity. It seems to me this issue was addressed in the past and maybe
> resolved, but I'm not sure. See example:
> 
> (E:\REPOSITORY\HARBOUR\tests)hbmk2 -mt speedtst.prg
> hbmk2: Processing environment options: -mt -compiler=gcc
> hbmk2: Processing configuration: E:\harbour\bin\hbmk.cfg
> Harbour 2.0.0beta3 (Rev. 13037)
>                               Copyright (c) 1999-2009, http://www.harbour-proje
> ct.org/
>       Compiling 'speedtst.prg'...
> Lines 1204, Functions/Procedures 79
>                                   Generating C source output to 'speedtst.c'...
> Done.
> 
> 
> This is the exact scree output.
> 
> It's just a cosmetic issue, anyway if it can be resolved it would be a good thing.

I've reported this issue a few times, and it's not hbmk2 
problem, but compiler one (this output directly comes from 
embedded Harbour compiler). AFAIR it also happens when 
using MS-DOS version.

I'd glad to see a fix for this, but I don't know how to fix 
it myself.

Brgds,
Viktor

From druzus at acn.waw.pl  Fri Nov 27 13:11:18 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Nov 27 13:11:25 2009
Subject: [Harbour] Proposal for new string API
In-Reply-To: <4B0FF2FA.1030507@dbtopas.lt>
References: <4B0FF2FA.1030507@dbtopas.lt>
Message-ID: <20091127181118.GA22371@linux-4bod.home.aster.pl>

On Fri, 27 Nov 2009, Mindaugas Kavaliauskas wrote:

Hi,

> I have a proposal.
> Let's say I have function print_utf8() which accepts const char *
> parameter in utf8 encoding, and I want to do Harbour wrapper
> function for this C function.
> 1) current code
>   HB_FUNC( PRINT )
>   {
>      const char * str;
>      void * h;
>      h = hb_parstr_utf8( 1, &str, NULL );
>      hb_retnl( printf_utf8( str ) );
>      hb_strfree( h );
>   }
> 2) if we change hb_parstr_ut8() to return string, and handler to be
> returned via parameter reference.
>   HB_FUNC( PRINT )
>   {
>      void * h;
>      hb_retnl( printf_utf8( hb_parstr_utf8( 1, &h, NULL ) ) );
>      hb_strfree( h );
>   }
> The same proposal for hb_itemGetStr*().

These are new functions and we should choose optimal interface for them
so if such form is more flexible for users then why not. We should only
keep similar syntax in all corresponding functions to not confuse users.
Other opinions?

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Nov 27 13:19:21 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Nov 27 13:19:31 2009
Subject: [Harbour] Proposal for new string API
In-Reply-To: <20091127181118.GA22371@linux-4bod.home.aster.pl>
References: <4B0FF2FA.1030507@dbtopas.lt>
	<20091127181118.GA22371@linux-4bod.home.aster.pl>
Message-ID: <67545C37-56C2-49D9-A4DA-26B4543E69DE@syenar.hu>

>> I have a proposal.
>> Let's say I have function print_utf8() which accepts const char *
>> parameter in utf8 encoding, and I want to do Harbour wrapper
>> function for this C function.
>> 1) current code
>>  HB_FUNC( PRINT )
>>  {
>>     const char * str;
>>     void * h;
>>     h = hb_parstr_utf8( 1, &str, NULL );
>>     hb_retnl( printf_utf8( str ) );
>>     hb_strfree( h );
>>  }
>> 2) if we change hb_parstr_ut8() to return string, and handler to be
>> returned via parameter reference.
>>  HB_FUNC( PRINT )
>>  {
>>     void * h;
>>     hb_retnl( printf_utf8( hb_parstr_utf8( 1, &h, NULL ) ) );
>>     hb_strfree( h );
>>  }
>> The same proposal for hb_itemGetStr*().
> 
> These are new functions and we should choose optimal interface for them
> so if such form is more flexible for users then why not. We should only
> keep similar syntax in all corresponding functions to not confuse users.
> Other opinions?

I like this new calling convention. Allows for 
more compact/smooth caller code.

Brgds,
Viktor

From dbtopas at dbtopas.lt  Fri Nov 27 14:15:43 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Nov 27 14:17:39 2009
Subject: [Harbour] UTF8
In-Reply-To: <20091127171830.GA18865@linux-4bod.home.aster.pl>
References: <4B0FFE7D.4040403@dbtopas.lt>
	<20091127171830.GA18865@linux-4bod.home.aster.pl>
Message-ID: <4B10255F.90605@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
> UTF8 is endian independent. There is no little and big endian version
> of UTF-8.
> In CP-1257 character at position 0xF0 has Unicode value 0x0161 which
> in UTF-8 encoding has value "\xC5\xA1". "\xC2\xAD" is 0x00AD. It simply

Thanks, you. The result was because of missing REQUEST and few other 
bugs... BTW, that is difference of HB_SETCODEPAGE(), HB_CDPSELECT(), and 
SET(_SET_CODEPAGE).


Regards,
Mindaugas
From alex_degarate at hotmail.com  Fri Nov 27 14:53:18 2009
From: alex_degarate at hotmail.com (Alejandro de Garate)
Date: Fri Nov 27 14:53:25 2009
Subject: [Harbour] The Harbour spanish web site was moved....
Message-ID: <BAY113-W443913CFA6AA7F6A5AB40C859A0@phx.gbl>


The harbour spanish web site 
  http://www.geocities.com/SiliconValley/Board/5300/ 

was hosted in geocities.

 

Because Geocities had closed, the site was moved temporaly to:
  http://alex-degarate.110mb.com/harbour/

 

Vailton can you update the link ?

TIA
Alejandro


 
 		 	   		  
_________________________________________________________________
Windows Live: Friends get your Flickr, Yelp, and Digg updates when they e-mail you.
http://www.microsoft.com/middleeast/windows/windowslive/see-it-in-action/social-network-basics.aspx?ocid=PID23461::T:WLMTAGL:ON:WL:en-xm:SI_SB_3:092010
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091127/6322a248/attachment-0001.html
From druzus at acn.waw.pl  Fri Nov 27 15:48:03 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Nov 27 15:48:11 2009
Subject: [Harbour] UTF8
In-Reply-To: <4B10255F.90605@dbtopas.lt>
References: <4B0FFE7D.4040403@dbtopas.lt>
	<20091127171830.GA18865@linux-4bod.home.aster.pl>
	<4B10255F.90605@dbtopas.lt>
Message-ID: <20091127204803.GA24476@linux-4bod.home.aster.pl>

On Fri, 27 Nov 2009, Mindaugas Kavaliauskas wrote:

Hi,

> BTW, that is difference of HB_SETCODEPAGE(), HB_CDPSELECT(),
> and SET(_SET_CODEPAGE).

Official method for HVM codepage setting is:
   SET( _SET_CODEPAGE [, <cNewCP> ] ) -> <cPrevCP>

I added it at:

   2008-09-13 18:49 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
     * harbour/include/set.ch
     * harbour/include/hbset.h
       + added _SET_CODEPAGE which works like _SET_LANGUAGE giving common
         interface


HB_SETCODEPAGE() and HB_CDPSELECT() make exactly the same job.
HB_SETCODEPAGE() was originally added by Alex with initial CDP API version:

   2002-10-24 16:05 UTC+0300 Alexander Kresin <alex@belacy.belgorod.su>
     + source/rtl/cdpapi.c
       + added codepages api source
         Functions HB_SETCODEPAGE() and HB_TRANSLATE() are implemented

At the beginning of this year Viktor added HB_CDPSELECT() as synonym of
HB_SETCODEPAGE():

   2009-01-14 16:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
     * source/rtl/cdpapi.c
       + HB_CDPSELECT() which does the same as HB_SETCODEPAGE(), but
         aligns well with function naming rules and namespace.
         HB_SETCODEPAGE() still works, but usage is not recommended.

Maybe we should cover HB_SETCODEPAGE() and HB_CDPSELECT() by some legacy
macro.
We have similar situation with SET( _SET_LANGUAGE ) and HB_LANGSELECT()

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Nov 27 16:04:54 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Fri Nov 27 16:05:04 2009
Subject: [Harbour] UTF8
In-Reply-To: <20091127204803.GA24476@linux-4bod.home.aster.pl>
References: <4B0FFE7D.4040403@dbtopas.lt>
	<20091127171830.GA18865@linux-4bod.home.aster.pl>
	<4B10255F.90605@dbtopas.lt>
	<20091127204803.GA24476@linux-4bod.home.aster.pl>
Message-ID: <5E5D954E-8A7B-4524-B9E5-647A6BA7CBAE@syenar.hu>

>> BTW, that is difference of HB_SETCODEPAGE(), HB_CDPSELECT(),
>> and SET(_SET_CODEPAGE).
> 
> Official method for HVM codepage setting is:
>   SET( _SET_CODEPAGE [, <cNewCP> ] ) -> <cPrevCP>
> 
> I added it at:
> 
>   2008-09-13 18:49 UTC+0200 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>     * harbour/include/set.ch
>     * harbour/include/hbset.h
>       + added _SET_CODEPAGE which works like _SET_LANGUAGE giving common
>         interface
> 
> 
> HB_SETCODEPAGE() and HB_CDPSELECT() make exactly the same job.
> HB_SETCODEPAGE() was originally added by Alex with initial CDP API version:
> 
>   2002-10-24 16:05 UTC+0300 Alexander Kresin <alex@belacy.belgorod.su>
>     + source/rtl/cdpapi.c
>       + added codepages api source
>         Functions HB_SETCODEPAGE() and HB_TRANSLATE() are implemented
> 
> At the beginning of this year Viktor added HB_CDPSELECT() as synonym of
> HB_SETCODEPAGE():
> 
>   2009-01-14 16:15 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>     * source/rtl/cdpapi.c
>       + HB_CDPSELECT() which does the same as HB_SETCODEPAGE(), but
>         aligns well with function naming rules and namespace.
>         HB_SETCODEPAGE() still works, but usage is not recommended.
> 
> Maybe we should cover HB_SETCODEPAGE() and HB_CDPSELECT() by some legacy
> macro.
> We have similar situation with SET( _SET_LANGUAGE ) and HB_LANGSELECT()

Yes, hb_setCodePage() should be for sure guarded with 
a legacy macro.

Although, I'd keep hb_langSelect() and hb_cdpSelect(), because 
it's the 'clean' way of extending Clipper in these cases. F.e. 
these functions can be implemented to emulate Harbour in other 
Clipper implementations, even as addons.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Fri Nov 27 17:07:10 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Fri Nov 27 17:07:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13039] trunk/harbour
Message-ID: <E1NE8y6-0001Pi-3g@dn4whf1.ch3.sourceforge.com>

Revision: 13039
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13039&view=rev
Author:   vszakats
Date:     2009-11-27 22:07:08 +0000 (Fri, 27 Nov 2009)

Log Message:
-----------
2009-11-27 23:06 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/win_prn1.c
    * Using HB_ types.
    * Minor formatting.
    * Minor variable scope/usage cleanups.
    % Optimized out checking of hb_xgrab() return value. It's never NULL.
    * WIN_LOADBITMAPFILE() simplified.
    * WIN_LOADBITMAPFILE() changed to use Harbour file I/O instead of
      Windows one.
    ! WIN_LOADBITMAPFILE() fixed to require at least two bytes long file.
    * WIN_LOADBITMAPFILE() added file size limit of 32MB. (please feel
      free to modify)

  * ChangeLog
    * TOFIX marked as DONE.

  * contrib/hbwin/win_regc.c
    * Variable name prefix fixes.

  * contrib/hbwin/tests/testprn.prg
    ! Fixed to not force uppercase on .bmp filename.

  * contrib/hbtip/log.prg
  * contrib/hbwin/win_osc.c
    * Minor formatting.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/log.prg
    trunk/harbour/contrib/hbwin/tests/testprn.prg
    trunk/harbour/contrib/hbwin/win_osc.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/contrib/hbwin/win_regc.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Fri Nov 27 18:23:13 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Fri Nov 27 18:23:20 2009
Subject: [Harbour] Proposal for new string API
In-Reply-To: <67545C37-56C2-49D9-A4DA-26B4543E69DE@syenar.hu>
References: <4B0FF2FA.1030507@dbtopas.lt>
	<20091127181118.GA22371@linux-4bod.home.aster.pl>
	<67545C37-56C2-49D9-A4DA-26B4543E69DE@syenar.hu>
Message-ID: <20091127232313.GA26486@linux-4bod.home.aster.pl>

On Fri, 27 Nov 2009, Szak?ts Viktor wrote:

Hi,

> >> 2) if we change hb_parstr_ut8() to return string, and handler to be
> >> returned via parameter reference.
> >>  HB_FUNC( PRINT )
> >>  {
> >>     void * h;
> >>     hb_retnl( printf_utf8( hb_parstr_utf8( 1, &h, NULL ) ) );
> >>     hb_strfree( h );
> >>  }
> >> The same proposal for hb_itemGetStr*().
> > These are new functions and we should choose optimal interface for them
> > so if such form is more flexible for users then why not. We should only
> > keep similar syntax in all corresponding functions to not confuse users.
> > Other opinions?
> I like this new calling convention. Allows for 
> more compact/smooth caller code.

Fine, I'll commit modifications in a while.
Please only remember that it can be used in such context only when ulLen
parameter is NULL and code like:
   hb_retnl( printf_utf8( hb_parstr_utf8( 1, &h, &ulLen ), ulLen ) );
is wrong because depending on calling convention ulLen can be passed
as parameter of printf_utf8() function before it's set by hb_parstr_utf8().

best regards,
Przemek
From druzus at users.sourceforge.net  Fri Nov 27 18:26:57 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Nov 27 18:27:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13040] trunk/harbour
Message-ID: <E1NEADJ-0006vr-A0@bj8yhf1.ch3.sourceforge.com>

Revision: 13040
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13040&view=rev
Author:   druzus
Date:     2009-11-27 23:26:56 +0000 (Fri, 27 Nov 2009)

Log Message:
-----------
2009-11-28 00:26 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/strapi.c
  * harbour/include/hbapistr.h
    * modified syntax for hb_itemGetStr*() and hb_parstr*() functions as
      suggested by Mindaugas. Now we have:
         const char * hb_itemGetStr( PHB_ITEM pItem, void * cdp,
                                     void ** phString, ULONG * pulLen );
         const char * hb_itemGetStrUTF8( PHB_ITEM pItem,
                                         void ** phString, ULONG * pulLen );
         const HB_WCHAR * hb_itemGetStrU16( PHB_ITEM pItem, int iEndian,
                                            void ** phString, ULONG * pulLen );
      and:
         const char * hb_parstr( int iParam, void * cdp,
                                 void ** phString, ULONG * pulLen );
         const char * hb_parstr_utf8( int iParam,
                                      void ** phString, ULONG * pulLen );
         const HB_WCHAR * hb_parstr_u16( int iParam, int iEndian,
                                         void ** phString, ULONG * pulLen );

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/include/hbapistr.h
    trunk/harbour/src/vm/strapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vouchcac at users.sourceforge.net  Fri Nov 27 19:57:52 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Fri Nov 27 19:57:59 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13041] trunk/harbour
Message-ID: <E1NEBdI-0005XO-Q0@74yxhf1.ch3.sourceforge.com>

Revision: 13041
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13041&view=rev
Author:   vouchcac
Date:     2009-11-28 00:57:51 +0000 (Sat, 28 Nov 2009)

Log Message:
-----------
2009-11-27 16:58 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg
    ! Fixed a bad behaviour. HBIDE was unable to start-up.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Fri Nov 27 22:03:00 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Fri Nov 27 22:03:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13042] trunk/harbour
Message-ID: <E1NEDaO-0006LQ-AZ@3kljzd1.ch3.sourceforge.com>

Revision: 13042
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13042&view=rev
Author:   druzus
Date:     2009-11-28 03:02:59 +0000 (Sat, 28 Nov 2009)

Log Message:
-----------
2009-11-28 04:02 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/fm.c
    * minor formatting

  * harbour/contrib/hbwin/olecore.c
    + added support for VT_ERROR variants

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/src/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From arcadia2 at sbcglobal.net  Fri Nov 27 23:42:09 2009
From: arcadia2 at sbcglobal.net (bill robertson)
Date: Fri Nov 27 23:42:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13042] trunk/harbour
References: <E1NEDaO-0006LQ-AZ@3kljzd1.ch3.sourceforge.com>
Message-ID: <9FAE42AB84724BC9816885408D2DF712@billrob>

----- Original Message ----- 
From: <druzus@users.sourceforge.net>
To: <harbour@harbour-project.org>
Sent: Friday, November 27, 2009 10:03 PM
Subject: [Harbour] SF.net SVN: harbour-project:[13042] trunk/harbour


> Revision: 13042
> 
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13042&view=rev
> Author:   druzus
> Date:     2009-11-28 03:02:59 +0000 (Sat, 28 Nov 2009)
>
> Log Message:
> -----------
> 2009-11-28 04:02 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/src/vm/fm.c
>    * minor formatting

There's a typo in line 230 of fm.c: Extra escape char (\) in middle of line 
230

#if defined( HB_MT_VM ) && \
    ( defined( HB_FM_STATISTICS ) || \ defined( HB_FM_DLMT_ALLOC ) || \
      !defined( HB_ATOM_INC ) || !defined( HB_ATOM_DEC ) )

From vszakats at users.sourceforge.net  Sat Nov 28 04:38:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 28 04:38:19 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13043] trunk/harbour
Message-ID: <E1NEJkr-0007TK-0J@bj8yhf1.ch3.sourceforge.com>

Revision: 13043
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13043&view=rev
Author:   vszakats
Date:     2009-11-28 09:38:11 +0000 (Sat, 28 Nov 2009)

Log Message:
-----------

2009-11-28 10:37 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/filesys.c
  * src/rtl/fssize.c
  * src/rdd/dbfcdx/dbfcdx1.c
  * contrib/hbtip/utils.c
  * contrib/hbwin/win_prn1.c
  * contrib/hbbmcdx/bmdbfcdx.c
  * contrib/hbbtree/hb_btree.c
    ! Fixed to use Harbour FS_* constants in hb_fsSeek*() calls
      (instead of SEEK_* ones).

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbbmcdx/bmdbfcdx.c
    trunk/harbour/contrib/hbbtree/hb_btree.c
    trunk/harbour/contrib/hbtip/utils.c
    trunk/harbour/contrib/hbwin/win_prn1.c
    trunk/harbour/src/rdd/dbfcdx/dbfcdx1.c
    trunk/harbour/src/rtl/filesys.c
    trunk/harbour/src/rtl/fssize.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sat Nov 28 06:36:54 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Nov 28 06:37:02 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <4B0F93B7.7000208@mweb.co.za>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>
	<4B0F2E25.5090003@dbtopas.lt>
	<20091127025737.GA511@linux-4bod.home.aster.pl>
	<4B0F4142.3040808@dbtopas.lt>
	<20091127031024.GA1265@linux-4bod.home.aster.pl>
	<20091127031751.GA1504@linux-4bod.home.aster.pl>
	<4B0F458B.50201@dbtopas.lt> <4B0F93B7.7000208@mweb.co.za>
Message-ID: <20091128113654.GA21212@linux-4bod.home.aster.pl>

On Fri, 27 Nov 2009, Alex Strickland wrote:

Hi,

> I have an OLE dll that I am trying to use. I think it returns a
> safearray of IUnknown.
> To understand a bit better I put the following 3 debug lines in olecore.c:
> void hb_oleVariantToItem( PHB_ITEM pItem, VARIANT* pVariant )
> {
> char debug[ 100 ];
>    if( pVariant->n1.n2.vt == ( VT_VARIANT | VT_BYREF ) )
>       pVariant = pVariant->n1.n2.n3.pvarVal;
> sprintf( debug, "hb_oleVariantToItem - pVariant->n1.n2.vt = %x,
> VT_UNKNOWN | VT_ARRAY = %x", pVariant->n1.n2.vt, VT_UNKNOWN |
> VT_ARRAY );
> OutputDebugString( debug );
>    switch( pVariant->n1.n2.vt )
> ...
> and I get:
> hb_oleVariantToItem - pVariant->n1.n2.vt = 200d, VT_UNKNOWN | VT_ARRAY = 200d

Yes, it's safearray of IUnknown values.

> In the accompanying IDL file it is the return from:
>     interface _CardCOM : IDispatch {
>         [id(0x00000001)]
>         HRESULT Validate(
>                         [in] BSTR number,
>                         [in] BSTR code,
>                         [out, retval] SAFEARRAY(_CardComRetValidate*)* pRetVal);
> Is it possible to add support for this?

Now such parameters are ignored and you receive them as NIL.
We support only safearrays of variants. We can extend it and
add support for other types in safearrays.
You asked about support for safearrays of IUnknown values but so far we
do not even support of VT_UNKNOWN variants and this has to be done first.
We can try to translate VT_UNKNOWN to some Harbour item, i.e. xHarbour
for IUnknown variants try to execute QueryInterface to extract IDispatch
value to return it as OLE object.
I can commit code which also makes such translation for tests.
Please confirm if it's expected behavior and it works.
Then we can talk about adding support for translating safearrays of other
then variant values.

best regards,
Przemek
From M.Horodyski at pzuzycie.com.pl  Sat Nov 28 07:01:02 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Sat Nov 28 07:01:13 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <20091127175338.GA22154@linux-4bod.home.aster.pl>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag><4B0F2E25.5090003@dbtopas.lt><20091127025737.GA511@linux-4bod.home.aster.pl><4B0F4142.3040808@dbtopas.lt><20091127031024.GA1265@linux-4bod.home.aster.pl><20091127031751.GA1504@linux-4bod.home.aster.pl><4B0F458B.50201@dbtopas.lt>
	<4B0F93B7.7000208@mweb.co.za><4B0F9607.2030804@mweb.co.za>
	<20091127175338.GA22154@linux-4bod.home.aster.pl>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>

>-----Original Message-----
>From: Przemys?aw Czerpak [mailto:druzus@acn.waw.pl] 
>Sent: Friday, November 27, 2009 6:54 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] Problem in OLE implementation
>
>On Fri, 27 Nov 2009, Alex Strickland wrote:
>
>Hi,
[...]
>documented RTE which can substitute result so it can be easy 
>caught by user and if necessary he can set his own preferable 
>value for such unknown OLE variant.
>What it group opinion here?

+1 to Nil (if I have a voice)

Regards,
Marek Horodyski
From druzus at users.sourceforge.net  Sat Nov 28 07:03:22 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Nov 28 07:03:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13044] trunk/harbour
Message-ID: <E1NEM1K-0000eH-41@d5vjzd1.ch3.sourceforge.com>

Revision: 13044
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13044&view=rev
Author:   druzus
Date:     2009-11-28 12:03:21 +0000 (Sat, 28 Nov 2009)

Log Message:
-----------
2009-11-28 13:02 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/src/vm/fm.c
    ! fixed typo - thanks to Bill for info

  * harbour/contrib/hbwin/axcore.c
    * minor cleanup

  * harbour/contrib/hbwin/olecore.c
    + added support for VT_UNKNOWN variants translated to Harbour
      OLE objects (WIN_OLEAUTO) - please test

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/axcore.c
    trunk/harbour/contrib/hbwin/olecore.c
    trunk/harbour/src/vm/fm.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Nov 28 07:11:44 2009
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Viktor_Szak=E1ts?=)
Date: Sat Nov 28 07:11:54 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag><4B0F2E25.5090003@dbtopas.lt><20091127025737.GA511@linux-4bod.home.aster.pl><4B0F4142.3040808@dbtopas.lt><20091127031024.GA1265@linux-4bod.home.aster.pl><20091127031751.GA1504@linux-4bod.home.aster.pl><4B0F458B.50201@dbtopas.lt>
	<4B0F93B7.7000208@mweb.co.za><4B0F9607.2030804@mweb.co.za>
	<20091127175338.GA22154@linux-4bod.home.aster.pl>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>
Message-ID: <CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu>

>> Hi,
> [...]
>> documented RTE which can substitute result so it can be easy 
>> caught by user and if necessary he can set his own preferable 
>> value for such unknown OLE variant.
>> What it group opinion here?
> 
> +1 to Nil (if I have a voice)

I also prefer NIL (or some other distinctive error 
value) than RTE.

Brgds,
Viktor

From druzus at users.sourceforge.net  Sat Nov 28 07:27:58 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Nov 28 07:28:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13045] trunk/harbour
Message-ID: <E1NEMP8-0002dT-0M@dn4whf1.ch3.sourceforge.com>

Revision: 13045
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13045&view=rev
Author:   druzus
Date:     2009-11-28 12:27:56 +0000 (Sat, 28 Nov 2009)

Log Message:
-----------
2009-11-28 13:27 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/olecore.c
    ! fixed typo in last commit

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/olecore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Sat Nov 28 07:29:18 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Nov 28 07:29:25 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <4B0F4E4B.4030103@dbtopas.lt>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>
	<4B0F2E25.5090003@dbtopas.lt>
	<20091127025737.GA511@linux-4bod.home.aster.pl>
	<4B0F4142.3040808@dbtopas.lt>
	<20091127031024.GA1265@linux-4bod.home.aster.pl>
	<4B0F44BD.30302@dbtopas.lt>
	<20091127034152.GA1842@linux-4bod.home.aster.pl>
	<4B0F4E4B.4030103@dbtopas.lt>
Message-ID: <20091128122918.GA21813@linux-4bod.home.aster.pl>

On Fri, 27 Nov 2009, Mindaugas Kavaliauskas wrote:

Hi,

> >BTW in MS documentation dimensions are stored in 'unsigned int' instead
> >of 'int'. Maybe we should follow it?
> MSDN writes:
>    HRESULT SafeArrayGetDim( SAFEARRAY FAR* psa );
> BCC wtypes.h has:
> #ifndef _HRESULT_DEFINED
> #define _HRESULT_DEFINED
> typedef LONG HRESULT;
> #endif // !_HRESULT_DEFINED
> 
> So, it's long, not unsigned int. But the most strange thing is that
> SafeArrayGetDim return HRESULT. Sounds like a handler, and this
> stopped me from beeper analysis. I just used int. Actually it was a
> bad idea, to not check real type.

It's not the first or last place where MS mixed different types.
BTW I replaced SUCCEDD() used to check SafeArrayGetElement() results
with comparison to S_OK - SUCCEDD(n) is defined as (n>=0)

> Please, fix it.

SafeArrayGetDim() returns LONG but SafeArrayCreate() accepts as dim
parameter UINT value so I'm really confused what should I chose.
On 32bit platforms it's not possible to exploit this problem due to
limited address space and I rather do not expect that on 64bit ones
someone will create such big array (it will be necessary to start
from negative indexes) so maybe we can leave it as is.

BTW I have question about code in axcore.c.
In function __AXDOVERB() we have call to QueryInterface() but without
call to Release(). Shouldn't we add at axcore.c[213]:

      HB_VTBL( lpOleObject )->Release( HB_THIS( lpOleObject ) );

???

best regards,
Przemek
From druzus at acn.waw.pl  Sat Nov 28 07:39:17 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Nov 28 07:39:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <23A1700E-8314-48CF-BA10-2DEAF9A79A77@syenar.hu>
References: <E1NCAlm-00065y-PR@3kljzd1.ch3.sourceforge.com>
	<4B0B159E.2010405@dbtopas.lt>
	<20091124014345.GA9197@linux-4bod.home.aster.pl>
	<4B0BBBE3.8010102@dbtopas.lt>
	<20091125103634.GA8323@linux-4bod.home.aster.pl>
	<4B0D41CD.1000700@dbtopas.lt>
	<20091125152054.GA10621@linux-4bod.home.aster.pl>
	<23A1700E-8314-48CF-BA10-2DEAF9A79A77@syenar.hu>
Message-ID: <20091128123917.GA22182@linux-4bod.home.aster.pl>

On Thu, 26 Nov 2009, Szak?ts Viktor wrote:

Hi,

> > I also think that it's time to enable by default HB_GC_AUTO. With new
> +1

I will want to make it optional so users can enable or disable it
when necessary.
I can add new _SET_* but like _SET_HBOUTLOG and _SET_HBOUTLOGINFO
it will be global setting not thread local so I'd prefer function i.e.
hb_gcAuto( <lOnOff> ) instead of new SET to not confuse users.
BTW maybe we should also replace _SET_HBOUTLOG and _SET_HBOUTLOGINFO
with functions?

best regards,
Przemek
From dmacias at mail.udg.mx  Sat Nov 28 08:35:41 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sat Nov 28 08:36:01 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
Message-ID: <4B11272D.3010103@mail.udg.mx>

Przemek:

I brought back to life my computer Athlon XP 2400+ used in tests in 
Oct-Dec 2008, mainly for:
- Confirm if failures are due to brand/processor architecture
- How it compare with current status/tests

and remember:
-----------------------------
>So we faced two problems:
>- GPF in MT related to devices input, solved? removing -s
>- Slow, freeze, hangs, ..., un-solved yet

>A big note:
>- Maurilio was using OS/2 SMP kernel
>- I was using eComStation 1.2MR, OS/2 4.5, both tested in two machines
-----------------------------

Here is the summary

You can download:
http://suphost.no-ip.biz/watcom_athlon.zip
http://suphost.no-ip.biz/watcom_core2duo.zip

They contain output for each test
Nomenclature are:
t_type_std.txt
t_type_dl.txt
where type:
  o: original SVN
  5s: 5r->5s
  s: -s removed
  5ss: 5r->5s, -s removed

( t_w* are old tests and can be ignored )

You can review individual items in tests, specially those with larger 
times ( 200 or more seconds )
There are an strange result for t_5ss_std.txt in third test so maybe 
speedtst.prg need some fix

Harbour 13035
OpenWatcom 1.8

Below are results using:
------------------------
    hbmk2 -m -n -w -es2 -l -kmo -gc3 speedtst.prg
       speedtst.exe
    hbmk2 -m -n -w -es2 -l -kmo -gc3 -mt speedtst.prg
       speedtst.exe
       speedtst.exe --thread
       speedtst.exe --thread=2 --scale
------------------------

and in same order

Changes of switchs in os2\watcom.mk and hbmk2.prg

I added results for Core2Duo for easy comparison between:

Athlon XP 2400+, 2000 MHz, 256 KB, 266 MT/s, ...
1 Gb RAM
( Same environment as Dec 2008, new OpenWatcom, new Harbour )

Intel Core 2 Duo E8400 3.00GHZ FSB1333 6MB 775 ...
2 Gb RAM


We can see immediatly:
- My Athlon computer are alive  :-)
- speedtst complete all tests with Athlon, so state changed

Some changes in OpenWatcom - Harbour - speedtst.prg in these months 
fixed our second problem and does not happen:
   "Slow, freeze, hangs, ..."


But a quick comparison, if it is valid:

 From old message:
( Athlon, -DHB_FM_DL_ALLOC excluded in that time, -s removed )
hbrun_mt.exe speedtst.prg
=========================
[ total application time: ]...................................258.61
[ total real time: ]..........................................263.15

 From current test:
with -DHB_FM_STD_ALLOC, -s removed
  Athlon
[ total application time: ]...................................160.10
[ total real time: ]..........................................159.50
  Core2Duo
[ total application time: ]...................................106.97
[ total real time: ]..........................................107.81


and another comparison:

 From old message:
( Athlon, -DHB_FM_DL_ALLOC excluded in that time, -s removed )
hbrun_mt.exe speedtst.prg --exclude=mem --scale --thread=2
=========================
Remain doing something elsewhere
After 1 hour 40 minutes, I cancelled it

 From current test:
with -DHB_FM_STD_ALLOC, -s removed
  Athlon
[ total application time: ].....................................0.13
[ total real time: ]..........................................623.09
  Core2Duo
[ total application time: ].....................................0.10
[ total real time: ]..........................................467.99


As conclusion things are changed

Perhaps more tests changing switches can give us more information


Aditional info:
- Overall time ( builds, tests )
  Core2Duo: 2 hours
  Athlon: 3 hours, 45 minutes
- Harbour build time using OpenWatcom in Athlon:
   Oct-Dec 2008: 8 minutes
   Today: 22 minutes
   Note:
   Harbour build time has been growing
   In last months using gcc335 it goes from 15 to 32 minutes and gcc4xx 
from 25 to 52 minutes
   I made individual tests building new libraries (recently added) and 
.dll files, and they do not justify all increase in time
   My conclusion is that Harbour build time growing is due to changes in 
Harbour internals in recent months

- In many tests there are not too much difference between Athlon and 
Core2Duo and it is easily explained by clock speed ratio (3/2 Ghz), so 
Athlon performance is better in those cases

David Macias


Original SVN, with -DHB_FM_STD_ALLOC

[ total application time: ]....................................76.03
[ total real time: ]...........................................81.69

[ total application time: ]....................................84.23
[ total real time: ]...........................................83.81

GPF
GPF

Core2Duo:
[ total application time: ]....................................58.26
[ total real time: ]...........................................59.71

[ total application time: ]....................................63.26
[ total real time: ]...........................................63.95

GPF
GPF

Original SVN, with (-DHB_FM_DL_ALLOC)

[ total application time: ]....................................36.65
[ total real time: ]...........................................36.59

[ total application time: ]....................................48.52
[ total real time: ]...........................................48.37

GPF
GPF

Core2Duo:
[ total application time: ]....................................15.55
[ total real time: ]...........................................15.54

[ total application time: ]....................................23.42
[ total real time: ]...........................................23.87

GPF
GPF


with -DHB_FM_STD_ALLOC, 5r -> 5s

[ total application time: ]....................................74.77
[ total real time: ]...........................................74.38

[ total application time: ]....................................84.77
[ total real time: ]...........................................84.32

GPF
GPF

Core2Duo:
[ total application time: ]....................................60.71
[ total real time: ]...........................................60.69

[ total application time: ]....................................64.71
[ total real time: ]...........................................64.66

GPF
GPF

With (-DHB_FM_DL_ALLOC), 5r -> 5s

[ total application time: ]....................................37.61
[ total real time: ]...........................................37.52

[ total application time: ]....................................48.19
[ total real time: ]...........................................48.10

GPF
GPF

Core2Duo:
[ total application time: ]....................................16.65
[ total real time: ]...........................................16.58

[ total application time: ]....................................24.68
[ total real time: ]...........................................24.59

GPF
GPF


with -DHB_FM_STD_ALLOC, -s removed

[ total application time: ]...................................124.39
[ total real time: ]..........................................123.87

[ total application time: ]...................................160.10
[ total real time: ]..........................................159.50

[ total application time: ].....................................0.26
[ total real time: ]..........................................574.75

[ total application time: ].....................................0.13
[ total real time: ]..........................................623.09

Core2Duo:
[ total application time: ]....................................98.13
[ total real time: ]...........................................99.67

[ total application time: ]...................................106.97
[ total real time: ]..........................................107.81

[ total application time: ].....................................0.03
[ total real time: ]..........................................281.51

[ total application time: ].....................................0.10
[ total real time: ]..........................................467.99


with -DHB_FM_DL_ALLOC, -s removed

[ total application time: ]....................................89.94
[ total real time: ]...........................................89.73

[ total application time: ]...................................111.23
[ total real time: ]..........................................110.86

[ total application time: ].....................................0.16
[ total real time: ]..........................................109.20

[ total application time: ].....................................0.19
[ total real time: ]..........................................437.33

Core2Duo:
[ total application time: ]....................................56.55
[ total real time: ]...........................................56.33

[ total application time: ]....................................70.03
[ total real time: ]...........................................69.96

[ total application time: ].....................................0.06
[ total real time: ]...........................................69.75

[ total application time: ].....................................0.06
[ total real time: ]..........................................277.91


with -DHB_FM_STD_ALLOC, 5r -> 5s, -s removed

[ total application time: ]...................................126.74
[ total real time: ]..........................................126.24

[ total application time: ]...................................159.42
[ total real time: ]..........................................158.79

[ total application time: ].....................................0.26
[ total real time: ]............................................0.00

[ total application time: ].....................................0.32
[ total real time: ]..........................................614.77

Core2Duo:
[ total application time: ]....................................99.19
[ total real time: ]...........................................99.25

[ total application time: ]...................................107.16
[ total real time: ]..........................................106.98

[ total application time: ].....................................0.06
[ total real time: ]..........................................275.80

[ total application time: ].....................................0.03
[ total real time: ]..........................................473.34


with -DHB_FM_DL_ALLOC, 5r -> 5s, -s removed

[ total application time: ]....................................91.29
[ total real time: ]...........................................91.01

[ total application time: ]...................................110.74
[ total real time: ]..........................................110.32

[ total application time: ].....................................0.29
[ total real time: ]..........................................108.59

[ total application time: ].....................................0.35
[ total real time: ]..........................................435.16

Core2Duo:
[ total application time: ]....................................57.26
[ total real time: ]...........................................57.75

[ total application time: ]....................................71.48
[ total real time: ]...........................................71.26

[ total application time: ].....................................0.03
[ total real time: ]...........................................69.19

[ total application time: ].....................................0.00
[ total real time: ]..........................................278.17


as comparison:

gcc335, OMF type, with -DHB_FM_DL_ALLOC

[ total application time: ]....................................16.48
[ total real time: ]...........................................16.46

[ total application time: ]....................................23.19
[ total real time: ]...........................................23.23

[ total application time: ].....................................0.10
[ total real time: ]...........................................22.15

[ total application time: ].....................................0.06
[ total real time: ]...........................................87.19


gcc335, OMF type, without -DHB_FM_DL_ALLOC

[ total application time: ]....................................22.06
[ total real time: ]...........................................22.07

[ total application time: ]....................................26.13
[ total real time: ]...........................................26.06

[ total application time: ].....................................0.26
[ total real time: ]...........................................26.25

[ total application time: ]....................................52.06
[ total real time: ]..........................................103.38

From harbour.01 at syenar.hu  Sat Nov 28 08:57:42 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Nov 28 08:57:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[12970] trunk/harbour
In-Reply-To: <20091128123917.GA22182@linux-4bod.home.aster.pl>
References: <E1NCAlm-00065y-PR@3kljzd1.ch3.sourceforge.com>
	<4B0B159E.2010405@dbtopas.lt>
	<20091124014345.GA9197@linux-4bod.home.aster.pl>
	<4B0BBBE3.8010102@dbtopas.lt>
	<20091125103634.GA8323@linux-4bod.home.aster.pl>
	<4B0D41CD.1000700@dbtopas.lt>
	<20091125152054.GA10621@linux-4bod.home.aster.pl>
	<23A1700E-8314-48CF-BA10-2DEAF9A79A77@syenar.hu>
	<20091128123917.GA22182@linux-4bod.home.aster.pl>
Message-ID: <8541C24C-85D2-4CB0-93F6-5AFE14E573E9@syenar.hu>

Hi Przemek,

>>> I also think that it's time to enable by default HB_GC_AUTO. With new
>> +1
> 
> I will want to make it optional so users can enable or disable it
> when necessary.
> I can add new _SET_* but like _SET_HBOUTLOG and _SET_HBOUTLOGINFO
> it will be global setting not thread local so I'd prefer function i.e.
> hb_gcAuto( <lOnOff> ) instead of new SET to not confuse users.
> BTW maybe we should also replace _SET_HBOUTLOG and _SET_HBOUTLOGINFO
> with functions?

I'm neutral specifically for these two settings, depends on 
why you want to convert just these two.

Generally I also prefer functions, so my vote for HB_GCAUTO().
With the default as ON, probably.

Brgds,
Viktor

From dmacias at mail.udg.mx  Sat Nov 28 10:39:54 2009
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sat Nov 28 10:40:26 2009
Subject: [Harbour] Re: Harbour under OS/2 - OpenWatcom
Message-ID: <4B11444A.5050200@mail.udg.mx>

Przemek:

>I know but the problem seems to be inside OpenWatcom code and for me it
>looks like OpenWatcom bug which probably can be quite easy fixed but
>I need more information to be sure.

///

>Thank you very much. So now we know that we can remove -s as
>workaround. Unfortunately it causes very big speed overhead. Much
>bigger then in Linux where removing -s reduce the speed only ~24
>percent. It's 363% what is even bigger then in Windows (295% in my
>test).

That increase in Windows is surprise for me, so problem are not in OS/2 only

>Now I would like to check if -s is necessary as global switch or it
>can be used locally only for GT2OS2 code.
>Please restore -s switch (just like in clean SVN code) and then
>add to src/rtl/gtos2/Makefile[5] this line:

>   HB_BUILD_OPTIM := no

>It should disable optimization switches.
>Then check if speedtst works in MT mode.

  src\rtl\gtos2\Makefile does not have HB_BUILD_OPTIM

I used:
  set HB_BUILD_OPTIM=no

Tests with
   speedtst.exe --thread ...
fails as before with GPF:
-----------------
SYS1808:
The process has stopped.  The software diagnostic
code (exception code) is  0001.
-----------------

Below are results using:
------------------------
    hbmk2 -m -n -w -es2 -l -kmo -gc3 speedtst.prg
       speedtst.exe
    hbmk2 -m -n -w -es2 -l -kmo -gc3 -mt speedtst.prg
       speedtst.exe
       speedtst.exe --thread
       speedtst.exe --thread=2 --scale
------------------------

David Macias


2009.11.28 08:22:22 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13035) Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.00
====================================================================
[ T001: x := L_C ]..............................................0.03
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.06
[ T004: x := S_C ]..............................................0.06
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.06
[ T007: x := M->M_C ]...........................................0.06
[ T008: x := M->M_N ]...........................................0.06
[ T009: x := M->M_D ]...........................................0.06
[ T010: x := M->P_C ]...........................................0.06
[ T011: x := M->P_N ]...........................................0.06
[ T012: x := M->P_D ]...........................................0.06
[ T013: x := F_C ]..............................................0.13
[ T014: x := F_N ]..............................................0.16
[ T015: x := F_D ]..............................................0.10
[ T016: x := o:Args ]...........................................0.13
[ T017: x := o[2] ].............................................0.10
[ T018: round( i / 1000, 2 ) ]..................................0.19
[ T019: str( i / 1000 ) ].......................................0.39
[ T020: val( s ) ]..............................................0.19
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.29
[ T022: dtos( d - i % 10000 ) ].................................0.32
[ T023: eval( { || i % 16 } ) ].................................0.26
[ T024: eval( bc := { || i % 16 } ) ]...........................0.16
[ T025: eval( { |x| x % 16 }, i ) ].............................0.23
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.19
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.26
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.23
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.23
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................1.87
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................2.00
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.32
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.52
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.19
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.23
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.23
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.23
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.23
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.23
[ T040: ascan( a, i % 16 ) ]....................................0.26
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................1.87
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.52
[ T043: x := a ]................................................0.06
[ T044: x := {} ]...............................................0.10
[ T045: f0() ]..................................................0.06
[ T046: f1( i ) ]...............................................0.13
[ T047: f2( c[1...8] ) ]........................................0.10
[ T048: f2( c[1...40000] ) ]....................................0.10
[ T049: f2( @c[1...40000] ) ]...................................0.10
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.10
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.29
[ T052: f2( a ) ]...............................................0.06
[ T053: x := f4() ].............................................0.61
[ T054: x := f5() ].............................................0.16
[ T055: x := space(16) ]........................................0.13
[ T056: f_prv( c ) ]............................................0.23
====================================================================
[ total application time: ]....................................15.35
[ total real time: ]...........................................15.35

2009.11.28 08:22:41 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13035) (MT) Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 0
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
[ T001: x := L_C ]..............................................0.06
[ T002: x := L_N ]..............................................0.03
[ T003: x := L_D ]..............................................0.03
[ T004: x := S_C ]..............................................0.06
[ T005: x := S_N ]..............................................0.03
[ T006: x := S_D ]..............................................0.03
[ T007: x := M->M_C ]...........................................0.06
[ T008: x := M->M_N ]...........................................0.03
[ T009: x := M->M_D ]...........................................0.03
[ T010: x := M->P_C ]...........................................0.10
[ T011: x := M->P_N ]...........................................0.03
[ T012: x := M->P_D ]...........................................0.03
[ T013: x := F_C ]..............................................0.19
[ T014: x := F_N ]..............................................0.13
[ T015: x := F_D ]..............................................0.10
[ T016: x := o:Args ]...........................................0.16
[ T017: x := o[2] ].............................................0.10
[ T018: round( i / 1000, 2 ) ]..................................0.19
[ T019: str( i / 1000 ) ].......................................0.45
[ T020: val( s ) ]..............................................0.23
[ T021: val( a [ i % 16 + 1 ] ) ]...............................0.35
[ T022: dtos( d - i % 10000 ) ].................................0.35
[ T023: eval( { || i % 16 } ) ].................................0.48
[ T024: eval( bc := { || i % 16 } ) ]...........................0.19
[ T025: eval( { |x| x % 16 }, i ) ].............................0.32
[ T026: eval( bc := { |x| x % 16 }, i ) ].......................0.23
[ T027: eval( { |x| f1( x ) }, i ) ]............................0.39
[ T028: eval( bc := { |x| f1( x ) }, i ) ]......................0.29
[ T029: eval( bc := &("{ |x| f1( x ) }"), i ) ].................0.29
[ T030: x := &( "f1(" + str(i) + ")" ) ]........................3.06
[ T031: bc := &( "{|x|f1(x)}" ), eval( bc, i ) ]................3.26
[ T032: x := valtype( x ) +  valtype( i ) ].....................0.39
[ T033: x := strzero( i % 100, 2 ) $ a[ i % 16 + 1 ] ]..........0.61
[ T034: x := a[ i % 16 + 1 ] == s ].............................0.32
[ T035: x := a[ i % 16 + 1 ] = s ]..............................0.35
[ T036: x := a[ i % 16 + 1 ] >= s ].............................0.32
[ T037: x := a[ i % 16 + 1 ] <= s ].............................0.32
[ T038: x := a[ i % 16 + 1 ] < s ]..............................0.35
[ T039: x := a[ i % 16 + 1 ] > s ]..............................0.32
[ T040: ascan( a, i % 16 ) ]....................................0.29
[ T041: ascan( a, { |x| x == i % 16 } ) ].......................2.87
[ T042: iif( i%1000==0, a:={}, ) , aadd(a,{i,1,.T.,s,s2,a2 ]....0.94
[ T043: x := a ]................................................0.06
[ T044: x := {} ]...............................................0.16
[ T045: f0() ]..................................................0.06
[ T046: f1( i ) ]...............................................0.10
[ T047: f2( c[1...8] ) ]........................................0.13
[ T048: f2( c[1...40000] ) ]....................................0.13
[ T049: f2( @c[1...40000] ) ]...................................0.06
[ T050: f2( @c[1...40000] ), c2 := c ]..........................0.16
[ T051: f3( a, a2, s, i, s2, bc, i, n, x ) ]....................0.42
[ T052: f2( a ) ]...............................................0.13
[ T053: x := f4() ].............................................0.68
[ T054: x := f5() ].............................................0.23
[ T055: x := space(16) ]........................................0.19
[ T056: f_prv( c ) ]............................................0.48
====================================================================
[ total application time: ]....................................23.35
[ total real time: ]...........................................23.43

2009.11.28 08:23:05 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13035) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: all->56
N_LOOPS: 1000000
[ T000: empty loop overhead ]...................................0.03
====================================================================
2009.11.28 08:23:05 OS/2 4.50
Harbour 2.0.0beta3 (Rev. 13035) (MT)+ Open Watcom C++ 12.80.8 (32-bit) x86
THREADS: 2
N_LOOPS: 1000000
                                                         1 th.  2 th.
factor
============================================================================


From bedipritpal at hotmail.com  Sat Nov 28 11:49:20 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sat Nov 28 11:49:27 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <20091128122918.GA21813@linux-4bod.home.aster.pl>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>
	<4B0F2E25.5090003@dbtopas.lt>
	<20091127025737.GA511@linux-4bod.home.aster.pl>
	<4B0F4142.3040808@dbtopas.lt>
	<20091127031024.GA1265@linux-4bod.home.aster.pl>
	<4B0F44BD.30302@dbtopas.lt>
	<20091127034152.GA1842@linux-4bod.home.aster.pl>
	<4B0F4E4B.4030103@dbtopas.lt>
	<20091128122918.GA21813@linux-4bod.home.aster.pl>
Message-ID: <26554766.post@talk.nabble.com>


Hi


Przemys?aw Czerpak wrote:
> 
> BTW I have question about code in axcore.c.
> In function __AXDOVERB() we have call to QueryInterface() but without
> call to Release(). Shouldn't we add at axcore.c[213]:
> 
>       HB_VTBL( lpOleObject )->Release( HB_THIS( lpOleObject ) );
> 
> ???
> 

Yes, good catch. Please commit.
Probably it will be 211th line.

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/Problem-in-OLE-implementation-tp26465023p26554766.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Sat Nov 28 12:51:07 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sat Nov 28 12:51:15 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <26554766.post@talk.nabble.com>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>
	<4B0F2E25.5090003@dbtopas.lt>
	<20091127025737.GA511@linux-4bod.home.aster.pl>
	<4B0F4142.3040808@dbtopas.lt>
	<20091127031024.GA1265@linux-4bod.home.aster.pl>
	<4B0F44BD.30302@dbtopas.lt>
	<20091127034152.GA1842@linux-4bod.home.aster.pl>
	<4B0F4E4B.4030103@dbtopas.lt>
	<20091128122918.GA21813@linux-4bod.home.aster.pl>
	<26554766.post@talk.nabble.com>
Message-ID: <20091128175107.GA667@linux-4bod.home.aster.pl>

On Sat, 28 Nov 2009, Pritpal Bedi wrote:

Hi,

> > BTW I have question about code in axcore.c.
> > In function __AXDOVERB() we have call to QueryInterface() but without
> > call to Release(). Shouldn't we add at axcore.c[213]:
> >       HB_VTBL( lpOleObject )->Release( HB_THIS( lpOleObject ) );
> > ???
> Yes, good catch. Please commit.

Thank you. I'll do taht in a while.

> Probably it will be 211th line.

In the current SVN code it's 213.
It should be executed after successful call to QueryInterface() method
when lpOleObject is not longer necessary.

best regards,
Przemek
From druzus at users.sourceforge.net  Sat Nov 28 12:54:09 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sat Nov 28 12:54:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13046] trunk/harbour
Message-ID: <E1NERUn-0006Th-40@bj8yhf1.ch3.sourceforge.com>

Revision: 13046
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13046&view=rev
Author:   druzus
Date:     2009-11-28 17:54:07 +0000 (Sat, 28 Nov 2009)

Log Message:
-----------
2009-11-28 18:53 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/axcore.c
    ! added missing Release() call for OLE object

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/axcore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sat Nov 28 14:03:02 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 28 14:03:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13047] trunk/harbour
Message-ID: <E1NESZS-0005ea-II@74yxhf1.ch3.sourceforge.com>

Revision: 13047
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13047&view=rev
Author:   vszakats
Date:     2009-11-28 19:03:00 +0000 (Sat, 28 Nov 2009)

Log Message:
-----------
2009-11-28 20:02 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbmisc/spd.c
    * __XHARBOUR__ protected DATETIME part converted to commented code.
    ; TODO: Xavi, pls update this code to build with Harbour, now
            we have DATETIME support as well.

  * utils/hbformat/hbformat.prg
  * src/rdd/usrrdd/rdds/logrdd.prg
  * tests/usrrdd/exlog.prg
  * contrib/gtwvg/wvgutils.c
  * examples/httpsrv/cgifunc.prg
  * examples/httpsrv/session.prg
    - Deleted __XHARBOUR__ protected parts.

  * examples/rddado/adordd.prg
  * examples/httpsrv/uhttpd.prg
    * TRY/CATCH converted to BEGIN SEQUENCE, dropping all __XHARBOUR__
      portected parts.

  * include/hbapi.h
    * TRUE/FALSE -> HB_TRUE/HB_FALSE.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/gtwvg/wvgutils.c
    trunk/harbour/contrib/hbmisc/spd.c
    trunk/harbour/examples/httpsrv/cgifunc.prg
    trunk/harbour/examples/httpsrv/session.prg
    trunk/harbour/examples/httpsrv/uhttpd.prg
    trunk/harbour/examples/rddado/adordd.prg
    trunk/harbour/include/hbapi.h
    trunk/harbour/src/rdd/usrrdd/rdds/logrdd.prg
    trunk/harbour/tests/usrrdd/exlog.prg
    trunk/harbour/utils/hbformat/hbformat.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sat Nov 28 14:06:58 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sat Nov 28 14:07:08 2009
Subject: [Harbour] bug?: unclosed #ifdef not reported
Message-ID: <5177A086-AA2B-4726-B384-AD76BCF066AE@syenar.hu>

Hi All,

Please note I haven't tested this on C5.2e, so it may 
be Clipper compatible behavior, but anyway I just noticed 
it today in repository, and felt better to report it:

---
#ifdef MACRO
  ? 1
#else
  ? 0
---

Will not report any warning in Harbour. Probably it'd be 
nicer if unclosed #if levels would be reported by compiler/PP.

Brgds,
Viktor

From bruno.luciani at gmail.com  Sat Nov 28 15:17:37 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sat Nov 28 15:17:44 2009
Subject: [Harbour] HBNetio start - stop Linux
Message-ID: <133778360911281217ma2f9b8atd8b9da0a6c9ab53@mail.gmail.com>

I like to try HBnetio and I try to use the server in /contrib/HBNETIO/utils

But in which way can I stop server in an elegant way and not by killing the
process ?


In server sample :

      OutStd( "Press any key to stop NETIO server." + hb_osNewLine() )
      Inkey( 0 )

      netio_serverstop( pListenSocket )
      pListenSocket := NIL


But this is not a good way to use in a server  that  start server in
background

any Idea ?

Thanks

Bruno
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091128/07238d67/attachment.html
From petr_ch at users.sourceforge.net  Sat Nov 28 15:18:27 2009
From: petr_ch at users.sourceforge.net (petr_ch@users.sourceforge.net)
Date: Sat Nov 28 15:18:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13048] trunk/harbour
Message-ID: <E1NETkR-0006pm-Iw@74yxhf1.ch3.sourceforge.com>

Revision: 13048
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13048&view=rev
Author:   petr_ch
Date:     2009-11-28 20:18:26 +0000 (Sat, 28 Nov 2009)

Log Message:
-----------
2009-11-28 22:15 UTC+0200 Petr Chornyj (myorg63 at mail.ru)
  * harbour/contrib/hbtip/popcli.prg
    + added method OpenDigest( cUrl ) based on APOP command
    + added support for RSET command ( method Rset() )
    * changed method Close - new lAutoQuit parameter added
      By default lAutoQuit == .T. for compatibility
    ! rewritten method countMail()
      I think old version never work correctly and new one
      based on STAT command will be faster also
    * cosmetic changes

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/popcli.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From myorg63 at mail.ru  Sat Nov 28 15:24:04 2009
From: myorg63 at mail.ru (Petr Chornyj)
Date: Sat Nov 28 15:24:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13048] trunk/harbour
In-Reply-To: <E1NETkR-0006pm-Iw@74yxhf1.ch3.sourceforge.com>
References: <E1NETkR-0006pm-Iw@74yxhf1.ch3.sourceforge.com>
Message-ID: <26556666.post@talk.nabble.com>




petr_ch wrote:
> 
> Revision: 13048
>          
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13048&view=rev
> Author:   petr_ch
> Date:     2009-11-28 20:18:26 +0000 (Sat, 28 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-28 22:15 UTC+0200 Petr Chornyj (myorg63 at mail.ru)
>   * harbour/contrib/hbtip/popcli.prg
>      ..
> 

Little sample for using ::OpenDigest() and ::Rset()

PROCEDURE main()
   LOCAL oPop, nCount, lAutoQuit := .t.
   LOCAL cLogin := "Using APOP"
   
   oPopCli := TipClientPOP():New( "pop://user:pass@127.0.0.1", .f. ) 
   oPopCli:nConnTimeout := 12500

   IF ! oPopCli:OpenDigest() 
      oPopCli:Quit()
      IF ! oPopCli:Open() 
         cLogin := "Using USER/PASS"
         RETURN
      ENDIF
   ENDIF

   QOut( cLogin )

   nCount := oPopCli:countMail()
   IF nCount > 1
      QOut( "Before DELE ", nCount )
      oPopCli:Delete( 1 )
      QOut( "After DELE  ", oPopCli:countMail() )
      oPopCli:Rset()
      QOut( "After RSET  ", oPopCli:countMail() )
   ENDIF

   oPopCli:Close( lAutoQuit ) 

Regards,
Petr
-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13048--trunk-harbour-tp26556610p26556666.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sat Nov 28 16:24:30 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Nov 28 16:24:57 2009
Subject: [Harbour] HBNetio start - stop Linux
In-Reply-To: <133778360911281217ma2f9b8atd8b9da0a6c9ab53@mail.gmail.com>
References: <133778360911281217ma2f9b8atd8b9da0a6c9ab53@mail.gmail.com>
Message-ID: <609353e70911281324s5fa0ddaatd3051e5b500fee11@mail.gmail.com>

Why not?



2009/11/28 Bruno Luciani <bruno.luciani@gmail.com>:
> But this is not a good way to use in a server? that? start server in
> background
>


-- 
Massimo Belgrano
From bruno.luciani at gmail.com  Sat Nov 28 16:31:04 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sat Nov 28 16:31:12 2009
Subject: [Harbour] HBNetio start - stop Linux
In-Reply-To: <609353e70911281324s5fa0ddaatd3051e5b500fee11@mail.gmail.com>
References: <133778360911281217ma2f9b8atd8b9da0a6c9ab53@mail.gmail.com>
	<609353e70911281324s5fa0ddaatd3051e5b500fee11@mail.gmail.com>
Message-ID: <133778360911281331u4525f7b0kac91a26a6482de32@mail.gmail.com>

Well , I can start it using :

netiosrv &

but kill it when shutdown server , could produce some problem with DBF
tables  ?

If a client is conected  ?

Bruno

2009/11/28 Massimo Belgrano <mbelgrano@deltain.it>

> Why not?
>
>
>
> 2009/11/28 Bruno Luciani <bruno.luciani@gmail.com>:
> > But this is not a good way to use in a server  that  start server in
> > background
> >
>
>
> --
> Massimo Belgrano
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091128/bb188fe2/attachment.html
From mbelgrano at deltain.it  Sat Nov 28 16:41:57 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sat Nov 28 16:42:24 2009
Subject: [Harbour] HBNetio start - stop Linux
In-Reply-To: <133778360911281331u4525f7b0kac91a26a6482de32@mail.gmail.com>
References: <133778360911281217ma2f9b8atd8b9da0a6c9ab53@mail.gmail.com> 
	<609353e70911281324s5fa0ddaatd3051e5b500fee11@mail.gmail.com> 
	<133778360911281331u4525f7b0kac91a26a6482de32@mail.gmail.com>
Message-ID: <609353e70911281341p36333ffds79844cda867102d2@mail.gmail.com>

You can write an alternative exit using a semaphore with   dbf or ascifile

2009/11/28 Bruno Luciani <bruno.luciani@gmail.com>:
> Well , I can start it using :
>
> netiosrv &
>
> but kill it when shutdown server , could produce some problem with DBF
> tables? ?
>
> If a client is conected? ?
>
> Bruno
>



-- 
Massimo Belgrano
From vszakats at users.sourceforge.net  Sat Nov 28 18:05:29 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 28 18:05:37 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13049] trunk/harbour
Message-ID: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>

Revision: 13049
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13049&view=rev
Author:   vszakats
Date:     2009-11-28 23:05:28 +0000 (Sat, 28 Nov 2009)

Log Message:
-----------
2009-11-29 00:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbtip/popcli.prg
    * Formatting synced with file + minor adjustments.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbtip/popcli.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From elart at elart.it  Sat Nov 28 19:08:55 2009
From: elart at elart.it (elart)
Date: Sat Nov 28 19:09:03 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13049] trunk/harbour
In-Reply-To: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
References: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
Message-ID: <4B11BB97.709@elart.it>

Hi all,
today compiling alter a make clean on Ubuntu 9.10 from rev. 13049 and 
some previous svn revision i get this error, thank you and best regards, 
Marco:

gcc  -I. -I../../../../../include -Wall -W -O3   -ospd.o -c ../../../spd.c
../../../spd.c:387:61: warning: "/*" within comment
../../../spd.c: In function ?HB_FUN_SQL_SPRINTF?:
../../../spd.c:373: warning: unused variable ?cDTFrm?
../../../spd.c:373: warning: unused variable ?cDTBuf?
../../../spd.c:388: error: ?cDTFrm? undeclared (first use in this function)
../../../spd.c:388: error: (Each undeclared identifier is reported only once
../../../spd.c:388: error: for each function it appears in.)
../../../spd.c:392: error: ?else? without a previous ?if?
../../../spd.c:393: error: expected expression before ?/? token
../../../spd.c:407: error: ?else? without a previous ?if?
../../../spd.c:407: error: ?pItmPar? undeclared (first use in this function)
../../../spd.c:409: error: ?s? undeclared (first use in this function)
../../../spd.c:410: error: ?f? undeclared (first use in this function)
../../../spd.c:410: error: ?cIntMod? undeclared (first use in this function)
../../../spd.c:413: error: ?iCOut? undeclared (first use in this function)
../../../spd.c:414: error: ?pItmCpy? undeclared (first use in this function)
../../../spd.c:417: error: ?i? undeclared (first use in this function)
../../../spd.c:417: error: ?ulWidth? undeclared (first use in this function)
../../../spd.c:417: error: ?ulMaxBuf? undeclared (first use in this 
function)
../../../spd.c:419: error: ?cBuffer? undeclared (first use in this function)
../../../spd.c:421: error: ?cParFrm? undeclared (first use in this function)
../../../spd.c:421: error: ?IsIndW? undeclared (first use in this function)
../../../spd.c:421: error: ?iIndWidth? undeclared (first use in this 
function)
../../../spd.c:421: error: ?IsIndP? undeclared (first use in this function)
../../../spd.c:421: error: ?iIndPrec? undeclared (first use in this 
function)
../../../spd.c:439: error: ?iErrorPar? undeclared (first use in this 
function)
../../../spd.c:439: error: ?p? undeclared (first use in this function)
../../../spd.c:439: error: break statement not within loop or switch
../../../spd.c:450: error: break statement not within loop or switch
../../../spd.c: At top level:
../../../spd.c:454: error: expected identifier or ?(? before ?if?
../../../spd.c:458: error: expected ?)? before ?+? token
../../../spd.c:458: error: expected ?=?, ?,?, ?;?, ?asm? or 
?__attribute__? before ?+=? token
../../../spd.c:460: error: expected identifier or ?(? before ?if?
../../../spd.c:463: error: expected identifier or ?(? before ?}? token
../../../spd.c:464: error: expected identifier or ?(? before ?if?
../../../spd.c:465: warning: data definition has no type or storage class
../../../spd.c:465: warning: type defaults to ?int? in declaration of 
?hb_xfree?
../../../spd.c:465: warning: parameter names (without types) in function 
declaration
../../../spd.c:465: error: conflicting types for ?hb_xfree?
../../../../../include/hbapi.h:491: note: previous declaration of 
?hb_xfree? was here
../../../spd.c:465: warning: data definition has no type or storage class
../../../spd.c:465: warning: type defaults to ?int? in declaration of 
?hb_xfree?
../../../spd.c:465: warning: parameter names (without types) in function 
declaration
../../../spd.c:465: error: conflicting types for ?hb_xfree?
../../../../../include/hbapi.h:491: note: previous declaration of 
?hb_xfree? was here
../../../spd.c:466: error: expected identifier or ?(? before ?if?
../../../spd.c:473: error: expected identifier or ?(? before ?else?
../../../spd.c:476: error: expected identifier or ?(? before ?}? token
../../../spd.c:477: error: expected identifier or ?(? before ?}? token
make[3]: *** [spd.o] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [hbmisc] Error 2
make: *** [contrib] Error 2

From fernando_athayde at yahoo.com.br  Sat Nov 28 19:24:55 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Sat Nov 28 19:25:02 2009
Subject: [Harbour] hbvpdf
In-Reply-To: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
References: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
Message-ID: <612327.65396.qm@web52207.mail.re2.yahoo.com>

how can i use hbvpdf now?
it no more in contribs
i try removing hbvpdf in libs, but happens this error
Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
Error: Unresolved external '_HB_FUN_TPDF' referenced from E:\FJFRIGOHB\.HBMK\WIN
\BCC\FJ_PRINTSETUP.OBJ
hbmk2: Erro: Executando linkeditor. 2
ilink32.exe @C:\Users\athayde\AppData\Local\Temp\o92jg6.lnk

in example happens this:
Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
Fatal: Unable to open file 'HBVPDF.LIB'
hbmk2: Erro: Executando linkeditor. 2
ilink32.exe @C:\Users\athayde\AppData\Local\Temp\5eillv.lnk

Best regards,
Fernando



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091128/130f22d4/attachment.html
From jarabal at gmail.com  Sat Nov 28 21:14:59 2009
From: jarabal at gmail.com (Xavi)
Date: Sat Nov 28 21:16:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13047] trunk/harbour
In-Reply-To: <E1NESZS-0005ea-II@74yxhf1.ch3.sourceforge.com>
References: <E1NESZS-0005ea-II@74yxhf1.ch3.sourceforge.com>
Message-ID: <4B11D923.4030000@gmail.com>

> 2009-11-28 20:02 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * contrib/hbmisc/spd.c
>     * __XHARBOUR__ protected DATETIME part converted to commented code.
>     ; TODO: Xavi, pls update this code to build with Harbour, now
>             we have DATETIME support as well.
>

Please Viktor, could you commented with #if 0 /* ??? */ / #endif.
Sorry, I check in a short time. Thanks.

-- 
Xavi

From vszakats at users.sourceforge.net  Sat Nov 28 23:50:59 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sat Nov 28 23:51:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13050] trunk/harbour
Message-ID: <E1NEbkR-00007h-Gs@3kljzd1.ch3.sourceforge.com>

Revision: 13050
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13050&view=rev
Author:   vszakats
Date:     2009-11-29 04:50:58 +0000 (Sun, 29 Nov 2009)

Log Message:
-----------
2009-11-29 05:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbmisc/spd.c
    ! Fixed commenting in prev commit.

  * contrib/hbwin/win_dll.c
    + Added TODO to add support for UNICODE version of dll 
      functions.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmisc/spd.c
    trunk/harbour/contrib/hbwin/win_dll.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Nov 29 01:28:58 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 29 01:29:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13051] trunk/harbour
Message-ID: <E1NEdHG-0006EF-Ky@bj8yhf1.ch3.sourceforge.com>

Revision: 13051
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13051&view=rev
Author:   vszakats
Date:     2009-11-29 06:28:57 +0000 (Sun, 29 Nov 2009)

Log Message:
-----------
2009-11-29 07:23 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/rtl/cdpapi.c
    * HB_SETCODEPAGE() guarded as HB_LEGACY_LEVEL2 which means
      it will be removed in next major version.
      NOTE to users: Use HB_CDPSELECT() or SET( _SET_CODEPAGE ) instead.

  * src/debug/debugger.prg
    - Deleted __XHARBOUR__ protected parts.

  * contrib/xhb/xhberr.prg
    - Deleted some __XHARBOUR__ protected parts.
      Some other remain, most of them dealing with SET()s which
      are xhb extension.
      It again shows that emulating extended SETs is quite a PITA,
      so we should avoid it.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/xhberr.prg
    trunk/harbour/src/debug/debugger.prg
    trunk/harbour/src/rtl/cdpapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Nov 29 01:31:07 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 29 01:31:18 2009
Subject: [Harbour] HB_CDP_SUPPORT_OFF question
Message-ID: <7F81F082-5D23-4302-AF9D-2140ECC2106A@syenar.hu>

Hi Przemek,

Now that you've reworked CDP support in whole Harbour, 
do you think we can delete HB_CDP_SUPPORT_OFF guards 
(and non-CDP supported code branches) from code?

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Nov 29 02:00:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 29 02:00:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13052] trunk/harbour
Message-ID: <E1NEdlJ-0006gl-40@bj8yhf1.ch3.sourceforge.com>

Revision: 13052
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13052&view=rev
Author:   vszakats
Date:     2009-11-29 06:59:59 +0000 (Sun, 29 Nov 2009)

Log Message:
-----------
2009-11-29 07:57 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * include/hbextern.ch
    ! HB_SETCODEPAGE() reference also guarded with HB_LEGACY_LEVEL2.

  * tests/wcecon.prg
  * tests/gtkeys.prg
  * examples/terminal/trm_cli.prg
    * HB_SETCODEPAGE() -> HB_CDPSELECT().

  * contrib/hbwin/win_prn2.c
    + Added comment.

  * contrib/hbwin/legacy.prg
    + Guarded with HB_WIN_LEGACY_LEVEL_OFF.

  * contrib/hbmysql/mysqlold.c
  * contrib/hbodbc/odbcold.c
  * contrib/hbwin/legacycd.c
  * contrib/hbwin/legacyco.c
  * contrib/hbwin/legacycp.c
  * contrib/hbwin/legacycv.c
  * contrib/hbwin/legacy.prg
    + Guarded with HB_LEGACY_LEVEL3.
      This means these will be removed after major release.
      Please upgrade your code to use new function names.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmysql/mysqlold.c
    trunk/harbour/contrib/hbodbc/odbcold.c
    trunk/harbour/contrib/hbwin/legacy.prg
    trunk/harbour/contrib/hbwin/legacycd.c
    trunk/harbour/contrib/hbwin/legacyco.c
    trunk/harbour/contrib/hbwin/legacycp.c
    trunk/harbour/contrib/hbwin/legacycv.c
    trunk/harbour/contrib/hbwin/win_prn2.c
    trunk/harbour/examples/terminal/trm_cli.prg
    trunk/harbour/include/hbextern.ch
    trunk/harbour/tests/gtkeys.prg
    trunk/harbour/tests/wcecon.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From niki at synel.co.il  Sun Nov 29 03:04:54 2009
From: niki at synel.co.il (Chen Kedem)
Date: Sun Nov 29 03:05:04 2009
Subject: [Harbour] bug?: unclosed #ifdef not reported
Message-ID: <1A07FEDC778C3E4AA417F089511F859C1D7F0D6F4D@Mail-yoq.SYNEL-COMPANY.LTD>

Viktor,

> Please note I haven't tested this on C5.2e, so it may
> be Clipper compatible behavior

Clipper 5.2e behave the same (no warning or error is given).
I think it will be a good practice to report it as an error
(Maybe guard current behavior with HB_CLP_STRICT).

  Chen.
From tomaz.zupan at orpo.si  Sun Nov 29 03:37:55 2009
From: tomaz.zupan at orpo.si (=?utf-8?q?Toma=C5=BE_Zupan?=)
Date: Sun Nov 29 03:35:55 2009
Subject: [Harbour] HBQT rpm package
Message-ID: <200911290937.55588.tomaz.zupan@orpo.si>

Hi,

I added hbqt and hbxbp libraries to a new rpm package harbour-qt. Diff to .spec 
and build script is attached. 

LP, Toma? Zupan 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: harbour.spec.diff
Type: text/x-patch
Size: 3155 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091129/fb877d3b/harbour.spec-0001.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mpkg_rpm.sh.diff
Type: text/x-patch
Size: 1153 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091129/fb877d3b/mpkg_rpm.sh-0001.bin
From myorg63 at mail.ru  Sun Nov 29 04:15:00 2009
From: myorg63 at mail.ru (Petr Chornyj)
Date: Sun Nov 29 04:15:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13048] trunk/harbour
In-Reply-To: <26556666.post@talk.nabble.com>
References: <E1NETkR-0006pm-Iw@74yxhf1.ch3.sourceforge.com>
	<26556666.post@talk.nabble.com>
Message-ID: <26560324.post@talk.nabble.com>


Hi

Petr Chornyj wrote:
> 
>    IF ! oPopCli:OpenDigest() 
>       oPopCli:Quit()
>       IF ! oPopCli:Open() 
>          cLogin := "Using USER/PASS"
>          RETURN
>       ENDIF
>    ENDIF
> 
Should be
   IF ! oPopCli:OpenDigest() 
      oPopCli:Quit()
      cLogin := "Using USER/PASS"
      IF ! oPopCli:Open() 
         RETURN
      ENDIF
   ENDIF

Another question about Read()
This code is cryptic and not documented (at least in xHarbour Guide
Reference ).
Very hard to understand from tiptest.prg how it works.
We can easy replace 
oPop:Read() 
to
oPop:List()

oPop:oUrl:cFile := "-1" 
oPop:Read()
=>
oPop:Delete(1)
oPop:Quit()

oPop:oUrl:cFile := "2" 
oPop:Read(200)
=>
oPop:Retrieve(2, 200)

How about delete Read()?

Regards, Petr

P.S. Anybody can extend TIPClientPop() with method Read()

CREATE CLASS TIPClientPopWithReadMethod FROM TIPClientPop
METHOD Read( nLen )
ENDCLASS

METHOD Read( nLen ) CLASS TIPClientPopWithReadMethod
RETURN "It's easy"

-- 
View this message in context: http://old.nabble.com/SF.net-SVN%3A-harbour-project%3A-13048--trunk-harbour-tp26556610p26560324.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From vszakats at users.sourceforge.net  Sun Nov 29 04:19:05 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 29 04:19:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13053] trunk/harbour
Message-ID: <E1NEfvt-00082V-O6@d5vjzd1.ch3.sourceforge.com>

Revision: 13053
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13053&view=rev
Author:   vszakats
Date:     2009-11-29 09:19:03 +0000 (Sun, 29 Nov 2009)

Log Message:
-----------
2009-11-29 10:18 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * mpkg_rpm.sh
  * harbour.spec
    + Added hbqt and hbxbp libraries to a new rpm package harbour-qt.
      Path submitted by Tomaz Zupan. Thanks.
    ! Converted tab to space.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/harbour.spec
    trunk/harbour/mpkg_rpm.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Nov 29 04:56:04 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 29 04:56:10 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13054] trunk/harbour
Message-ID: <E1NEgVg-00008U-98@d5vjzd1.ch3.sourceforge.com>

Revision: 13054
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13054&view=rev
Author:   vszakats
Date:     2009-11-29 09:55:58 +0000 (Sun, 29 Nov 2009)

Log Message:
-----------
2009-11-29 10:52 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * harbour.spec
  * harbour-win-spec
  * harbour-wce-spec
  * mpkg_rpm.sh
  * mpkg_rpm_win.sh
  * mpkg_rpm_wce.sh
    * Cleanup/sync of 'with' and 'without' parameters:
      --with fbsql    -> --with firebird
      --without nf    -> --without hbnf
      --without gtcrs -> --without curses
      --without gtsln -> --without slang
    ! Deleted fmstat/nofmstat options from help texts.
    * Internal 'fbird' references changed to 'firebird'.
    ; Pls test.

    ; TODO: I'd like to delete '--without hbnf'. If someone knows
            why this lib is different than all the others so that
            it needs special --without switch, pls speak up.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/harbour.spec
    trunk/harbour/mpkg_rpm.sh
    trunk/harbour/mpkg_rpm_wce.sh
    trunk/harbour/mpkg_rpm_win.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fperillo at gmail.com  Sun Nov 29 06:36:39 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sun Nov 29 06:36:47 2009
Subject: [Harbour] hbvpdf
In-Reply-To: <612327.65396.qm@web52207.mail.re2.yahoo.com>
References: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
	<612327.65396.qm@web52207.mail.re2.yahoo.com>
Message-ID: <6943770e0911290336x7667cad1meb6ba7a20267a2cb@mail.gmail.com>

You can find it under examples directory.

I want to tell you that hbvpdf works but has some "little problems"...
for example only A3 form size is supported, pdf is not compressed and
in clear-text and some other code strangeness...

Look for a message from me dated 12 november...

Francesco
From bruno.luciani at gmail.com  Sun Nov 29 06:41:32 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Nov 29 06:41:40 2009
Subject: [Harbour] hbvpdf
In-Reply-To: <612327.65396.qm@web52207.mail.re2.yahoo.com>
References: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
	<612327.65396.qm@web52207.mail.re2.yahoo.com>
Message-ID: <133778360911290341l700d4468td8806f3535e896be@mail.gmail.com>

Fernando , try to use HBHpdf , that is in contrib

is a better PDF library

Bruno


2009/11/28 Fernando Athayde <fernando_athayde@yahoo.com.br>

> how can i use hbvpdf now?
> it no more in contribs
> i try removing hbvpdf in libs, but happens this error
> Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
> Error: Unresolved external '_HB_FUN_TPDF' referenced from
> E:\FJFRIGOHB\.HBMK\WIN
> \BCC\FJ_PRINTSETUP.OBJ
> hbmk2: Erro: Executando linkeditor. 2
> ilink32.exe @C:\Users\athayde\AppData\Local\Temp\o92jg6.lnk
>
> in example happens this:
> Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
> Fatal: Unable to open file 'HBVPDF.LIB'
> hbmk2: Erro: Executando linkeditor. 2
> ilink32.exe @C:\Users\athayde\AppData\Local\Temp\5eillv.lnk
>
> Best regards,
> Fernando
>
> ------------------------------
> Veja quais s?o os assuntos do momento no Yahoo! + Buscados: Top 10<http://br.rd.yahoo.com/mail/taglines/mail/*http://br.maisbuscados.yahoo.com/>-
> Celebridades<http://br.rd.yahoo.com/mail/taglines/mail/*http://br.maisbuscados.yahoo.com/celebridades/>-
> M?sica<http://br.rd.yahoo.com/mail/taglines/mail/*http://br.maisbuscados.yahoo.com/m%C3%BAsica/>-
> Esportes<http://br.rd.yahoo.com/mail/taglines/mail/*http://br.maisbuscados.yahoo.com/esportes/>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091129/b19e57e7/attachment.html
From druzus at acn.waw.pl  Sun Nov 29 07:02:35 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Nov 29 07:02:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13054] trunk/harbour
In-Reply-To: <E1NEgVg-00008U-98@d5vjzd1.ch3.sourceforge.com>
References: <E1NEgVg-00008U-98@d5vjzd1.ch3.sourceforge.com>
Message-ID: <20091129120235.GA5193@linux-4bod.home.aster.pl>

On Sun, 29 Nov 2009, vszakats@users.sourceforge.net wrote:

Hi,

>     ; TODO: I'd like to delete '--without hbnf'. If someone knows
>             why this lib is different than all the others so that
>             it needs special --without switch, pls speak up.

AFAIR it's for historical reasons.
For quite long time NF library could not be cleanly compiled.
It should be removed now.
BTW now we cannot create RPMs on systems which have QT in version
>= 4.0 and < 4.5. The auto detection condition has to be changed
or removed.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Sun Nov 29 07:10:16 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Nov 29 07:10:26 2009
Subject: [Harbour] hbvpdf
In-Reply-To: <6943770e0911290336x7667cad1meb6ba7a20267a2cb@mail.gmail.com>
References: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
	<612327.65396.qm@web52207.mail.re2.yahoo.com>
	<6943770e0911290336x7667cad1meb6ba7a20267a2cb@mail.gmail.com>
Message-ID: <9257026e0911290410x70a6e1e9q50fde778bbf98a7b@mail.gmail.com>

On Sun, Nov 29, 2009 at 12:36 PM, francesco perillo <fperillo@gmail.com> wrote:

> I want to tell you that hbvpdf works but has some "little problems"...
> for example only A3 form size is supported, pdf is not compressed and
> in clear-text and some other code strangeness...

I use hbvpdf since years to create A4 reports and forms.
I've also just build the pdf_demo test and I got a "LETTER" size pdf.
What do you mean with "only A3 form size"?

best regards,
Lorenzo
From druzus at acn.waw.pl  Sun Nov 29 07:11:19 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Sun Nov 29 07:11:26 2009
Subject: [Harbour] bug?: unclosed #ifdef not reported
In-Reply-To: <5177A086-AA2B-4726-B384-AD76BCF066AE@syenar.hu>
References: <5177A086-AA2B-4726-B384-AD76BCF066AE@syenar.hu>
Message-ID: <20091129121119.GB5193@linux-4bod.home.aster.pl>

On Sat, 28 Nov 2009, Szak?ts Viktor wrote:

Hi,

> Please note I haven't tested this on C5.2e, so it may 
> be Clipper compatible behavior, but anyway I just noticed 
> it today in repository, and felt better to report it:
> ---
> #ifdef MACRO
>   ? 1
> #else
>   ? 0
> ---
> Will not report any warning in Harbour. Probably it'd be 
> nicer if unclosed #if levels would be reported by compiler/PP.

It's Clipper compatible behavior and I intentionally replicated it.
In general it does not reports any warnings on unclosed conditional
structures.
There are also some other funny Clipper behavior I also replicated,
i.e. try this code:

   #ifdef MACRO
      ? "1"
   #else
      ? "2"
   #else
      ? "3"
   #else
      ? "4"
   #endif

If you want I can add warning messages for some of them if they can
be easy separated from the whole conditional compilation logic.

best regards,
Przemek
From druzus at users.sourceforge.net  Sun Nov 29 07:46:21 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Nov 29 07:46:28 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13055] trunk/harbour
Message-ID: <E1NEjAT-0001c6-GB@c3vjzd1.ch3.sourceforge.com>

Revision: 13055
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13055&view=rev
Author:   druzus
Date:     2009-11-29 12:46:20 +0000 (Sun, 29 Nov 2009)

Log Message:
-----------
2009-11-29 13:46 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/mpkg_rpm.sh
    ! check if QT4 is in version 4.5 or newer

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/mpkg_rpm.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Nov 29 07:46:42 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 29 07:46:53 2009
Subject: [Harbour] bug?: unclosed #ifdef not reported
In-Reply-To: <20091129121119.GB5193@linux-4bod.home.aster.pl>
References: <5177A086-AA2B-4726-B384-AD76BCF066AE@syenar.hu>
	<20091129121119.GB5193@linux-4bod.home.aster.pl>
Message-ID: <4F6A9530-635D-477B-8A93-AB73C3EA6B9A@syenar.hu>

Hi Przemek,

>> Please note I haven't tested this on C5.2e, so it may 
>> be Clipper compatible behavior, but anyway I just noticed 
>> it today in repository, and felt better to report it:
>> ---
>> #ifdef MACRO
>>  ? 1
>> #else
>>  ? 0
>> ---
>> Will not report any warning in Harbour. Probably it'd be 
>> nicer if unclosed #if levels would be reported by compiler/PP.
> 
> It's Clipper compatible behavior and I intentionally replicated it.
> In general it does not reports any warnings on unclosed conditional
> structures.
> There are also some other funny Clipper behavior I also replicated,
> i.e. try this code:
> 
>   #ifdef MACRO
>      ? "1"
>   #else
>      ? "2"
>   #else
>      ? "3"
>   #else
>      ? "4"
>   #endif

Strange one indeed. Cannot imagine what would this do.

> If you want I can add warning messages for some of them if they can
> be easy separated from the whole conditional compilation logic.

I think it would be nice since it could help finding some 
unnoticed uncleanness in code, if it's not a huge task to 
do. As Chen suggested, you can protect these parts with 
HB_CLP_STRICT to document the incompatibility. Or only turn 
these warnings on in -w3 mode to not disturb wrong Clipper 
code ported to Harbour.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Sun Nov 29 07:50:32 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 29 07:50:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13056] trunk/harbour
Message-ID: <E1NEjEW-0001YX-9i@74yxhf1.ch3.sourceforge.com>

Revision: 13056
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13056&view=rev
Author:   vszakats
Date:     2009-11-29 12:50:31 +0000 (Sun, 29 Nov 2009)

Log Message:
-----------
2009-11-29 13:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * harbour.spec
  * harbour-win-spec
  * harbour-wce-spec
  * mpkg_rpm.sh
  * mpkg_rpm_win.sh
  * mpkg_rpm_wce.sh
    % Deleted special logic to disable hbnf lib.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/harbour.spec
    trunk/harbour/mpkg_rpm.sh
    trunk/harbour/mpkg_rpm_wce.sh
    trunk/harbour/mpkg_rpm_win.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at users.sourceforge.net  Sun Nov 29 08:06:50 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Nov 29 08:06:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13057] trunk/harbour
Message-ID: <E1NEjUI-0001w6-Tn@c3vjzd1.ch3.sourceforge.com>

Revision: 13057
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13057&view=rev
Author:   druzus
Date:     2009-11-29 13:06:48 +0000 (Sun, 29 Nov 2009)

Log Message:
-----------
2009-11-29 14:06 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/harbour-win-spec
  * harbour/harbour-wce-spec
  * harbour/mpkg_rpm_win.sh
  * harbour/mpkg_rpm_wce.sh
    * removed all conditional build settings - they are not necessary
      for current make system

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/harbour-wce-spec
    trunk/harbour/harbour-win-spec
    trunk/harbour/mpkg_rpm_wce.sh
    trunk/harbour/mpkg_rpm_win.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Nov 29 08:24:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 29 08:24:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13058] trunk/harbour
Message-ID: <E1NEjlK-00022z-DJ@74yxhf1.ch3.sourceforge.com>

Revision: 13058
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13058&view=rev
Author:   vszakats
Date:     2009-11-29 13:24:25 +0000 (Sun, 29 Nov 2009)

Log Message:
-----------
2009-11-29 14:21 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
  * harbour.spec
  * mpkg_rpm.sh
    * Moved mpkg_rpm*.sh cmdline options description to INSTALL.
      At the same time some inconsistencies were fixed and from
      now on it should be updated in less copies. Still, there
      different option list for win/wce cross-builds and regular
      builds. (some of these may not be relevant anymore as Przemek
      just deleted some of these option, which is an even better
      solution.)
      Maybe the same could be done for the rest of them?

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/harbour.spec
    trunk/harbour/mpkg_rpm.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Sun Nov 29 08:36:27 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 29 08:36:37 2009
Subject: [Harbour] harbour.cfg support removal
Message-ID: <798DD396-41D1-4904-AC82-512861F739AC@syenar.hu>

Hi All,

I'd like to propose removal of harbour.cfg. A lot of 
time went by since visiting this topic last time, and 
by now I see no point at all maintaining this feature. 
It's only required by hbmake. But hbmake doesn't work 
too well, or at all with current Harbour, plus we have 
hbmk2 which seems to work quite well without this hack.

So, any objections to remove the pieces of this feature 
from SVN?

Brgds,
Viktor

From fperillo at gmail.com  Sun Nov 29 08:57:53 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sun Nov 29 08:58:01 2009
Subject: [Harbour] hbvpdf
In-Reply-To: <9257026e0911290410x70a6e1e9q50fde778bbf98a7b@mail.gmail.com>
References: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
	<612327.65396.qm@web52207.mail.re2.yahoo.com>
	<6943770e0911290336x7667cad1meb6ba7a20267a2cb@mail.gmail.com>
	<9257026e0911290410x70a6e1e9q50fde778bbf98a7b@mail.gmail.com>
Message-ID: <6943770e0911290557y2b05d40cu97d88e200cd9bc1c@mail.gmail.com>

Sorry, I wanted to say "LETTER" instead of A3.

If you go in the source code you will see that if you specify a paper
size differe from LEGAL or LETTER you will get LETTER.....

local nSize, aSize := { { "LETTER",    8.50, 11.00 }, ;
                       { "LEGAL" ,    8.50, 14.00 }, ;
                       { "LEDGER",   11.00, 17.00 }, ;
                       { "EXECUTIVE", 7.25, 10.50 }, ;
                       { "A4",        8.27, 11.69 }, ;
                       { "A3",       11.69, 16.54 }, ;
                       { "JIS B4",   10.12, 14.33 }, ;
                       { "JIS B5",    7.16, 10.12 }, ;
                       { "JPOST",     3.94,  5.83 }, ;
                       { "JPOSTD",    5.83,  7.87 }, ;
                       { "COM10",     4.12,  9.50 }, ;
                       { "MONARCH",   3.87,  7.50 }, ;
                       { "C5",        6.38,  9.01 }, ;
                       { "DL",        4.33,  8.66 }, ;
                       { "B5",        6.93,  9.84 } }

DEFAULT _cPageSize TO "LETTER"

  nSize := ascan( aSize, { |arr| arr[ 1 ] = _cPageSize } )

  IF nSize == 0 .or. nSize > 2         // HERE IS THE PROBLEM.....
     nSize := 1
  ENDIF



If I am wrong please tell me - I tried to use this code and my
invoices looked "different" in Acrobat reader... it was the paper
size...
From itamarlins at bol.com.br  Sun Nov 29 08:59:08 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Sun Nov 29 09:01:56 2009
Subject: [Harbour] Re: harbour.cfg support removal
References: <798DD396-41D1-4904-AC82-512861F739AC@syenar.hu>
Message-ID: <heturl$fm$1@ger.gmane.org>

If this file is to remove, the hbmake can also be removed since it does not 
make sense to use it.

Best regards,
Itamar M. Lins Jr.

"Viktor Szakts" <harbour.01@syenar.hu> 
escreveu na mensagem news:798DD396-41D1-4904-AC82-512861F739AC@syenar.hu...
> Hi All,
>
> I'd like to propose removal of harbour.cfg. A lot of
> time went by since visiting this topic last time, and
> by now I see no point at all maintaining this feature.
> It's only required by hbmake. But hbmake doesn't work
> too well, or at all with current Harbour, plus we have
> hbmk2 which seems to work quite well without this hack.
>
> So, any objections to remove the pieces of this feature
> from SVN?
>
> Brgds,
> Viktor
> 



From mbelgrano at deltain.it  Sun Nov 29 09:43:27 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Nov 29 09:43:55 2009
Subject: [Harbour] Compile error hbide in vc9
Message-ID: <609353e70911290643s4b1e490fu7b2acf2d3c1c3d80@mail.gmail.com>

I receive Error compiling hbide in vc9
What i have miss?

hbmk2 hbide.hbp
hbmk2: Processing environment options: -compiler=msvc
hbmk2: Processing configuration: c:\harbour\msvc\bin\hbmk.cfg
hbmk2: Compiling Harbour sources...
......
MSVCRT.lib(ti_inst.obj) : error LNK2005: "private: __thiscall type_info::type_in
fo(class type_info const &)" (??0type_info@@AAE@ABV0@@Z) gi? definito in LIBCMT.
lib(typinfo.obj)
MSVCRT.lib(ti_inst.obj) : error LNK2005: "private: class type_info & __thiscall
type_info::operator=(class type_info const &)" (??4type_info@@AAEAAV0@ABV0@@Z) g
i? definito in LIBCMT.lib(typinfo.obj)
LINK : warning LNK4098: la libreria predefinita 'MSVCRT' ? in conflitto con l'ut
ilizzo di altre librerie; utilizzare /NODEFAULTLIB:libreria
hbide.exe : fatal error LNK1169: rilevato uno o pi? simboli definiti pi? volte
hbmk2: Error: Running linker. 1169

This is How i have build a qt for microsoft visual studio 2008
I have Removee from qt the following files
/3rdparty/webkit/WebCore/tmp/moc/{debug,release}_shared/mocinclude.tmp
download qt from http://qt.nokia.com/downloads/windows-cpp and
installed in c:\devl\qtvc

start from prompt of command of visual studio 2008
cd \devl\Qtvc\2009.04\qt
\devl\Qtvc\2009.04\qt\configure -platform win32-msvc2008
nmake

then compiled harbour from svn with
SET HB_WITH_QT=c:\devl\qtvc\2009.04\qt\include
set HB_DIR_QT=c:\devl\qtvc\2009.04\qt
SET HB_BUILD_IMPLIB=yes
SET HB_ARCHITECTURE=win
SET HB_COMPILER=msvc
SET HB_INSTALL_PREFIX=C:\harbour\%HB_COMPILER%\
call "%ProgramFiles%\Microsoft Visual Studio 9.0\VC\vcvarsall.bat" x86
SET path=c:\devl\mingw32make;c:\harbour\%HB_COMPILER%\bin;c:\devl\qtvc\2009.04\qt\bin;%PATH%
mingw32-make clean instal
The compilation is long 4 hour
Anyone know a distribution of qt ready to use for microsoft


-- 
Massimo Belgrano
From marcosgambeta at uol.com.br  Sun Nov 29 10:00:31 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Sun Nov 29 10:00:35 2009
Subject: [Harbour] Compile error hbide in vc9
In-Reply-To: <609353e70911290643s4b1e490fu7b2acf2d3c1c3d80@mail.gmail.com>
References: <609353e70911290643s4b1e490fu7b2acf2d3c1c3d80@mail.gmail.com>
Message-ID: <4B128C8F.7010909@uol.com.br>

Massimo Belgrano escreveu:
> Anyone know a distribution of qt ready to use for microsoft

I am testing this:

http://qt.nokia.com/developer/qt-4.6-preview#download-the-qt-4-1
http://get.qt.nokia.com/qt/source/qt-win-opensource-4.6.0-rc1-vs2008.exe

And i have problems with hbide+msvc too.


Regards,
Marcos Gambeta

From mbelgrano at deltain.it  Sun Nov 29 10:24:10 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Nov 29 10:24:38 2009
Subject: [Harbour] Compile error hbide in vc9
In-Reply-To: <4B128C8F.7010909@uol.com.br>
References: <609353e70911290643s4b1e490fu7b2acf2d3c1c3d80@mail.gmail.com> 
	<4B128C8F.7010909@uol.com.br>
Message-ID: <609353e70911290724q6f02c413u4683b0d2b57a15d9@mail.gmail.com>

Very good thanks!
In next week 4.6 will be officially released
so i suggest add this info to install
you use binary packages for visual studio?

2009/11/29 Marcos Gambeta <marcosgambeta@uol.com.br>:
> Massimo Belgrano escreveu:
>>
>> Anyone know a distribution of qt ready to use for microsoft
>
> I am testing this:
>
> http://qt.nokia.com/developer/qt-4.6-preview#download-the-qt-4-1
> http://get.qt.nokia.com/qt/source/qt-win-opensource-4.6.0-rc1-vs2008.exe
>
> And i have problems with hbide+msvc too.
>
>
> Regards,
> Marcos Gambeta
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From bedipritpal at hotmail.com  Sun Nov 29 10:25:45 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Sun Nov 29 10:25:53 2009
Subject: [Harbour] Compile error hbide in vc9
In-Reply-To: <4B128C8F.7010909@uol.com.br>
References: <609353e70911290643s4b1e490fu7b2acf2d3c1c3d80@mail.gmail.com>
	<4B128C8F.7010909@uol.com.br>
Message-ID: <26562937.post@talk.nabble.com>


Hi Marcos


Marcos Gambeta wrote:
> 
> I am testing this:
> 
> http://qt.nokia.com/developer/qt-4.6-preview#download-the-qt-4-1
> http://get.qt.nokia.com/qt/source/qt-win-opensource-4.6.0-rc1-vs2008.exe
> 
> And i have problems with hbide+msvc too.
> 

I had added this function in hbqt_destruct.c

HB_FUNC( QT_FINDCHILD )
{
   hb_retptr( ( QObject * ) hbqt_par_QObject( 1 )->findChild< QObject * >(
hbqt_par_QString( 2 ) ) );
}

and Qt documentation explains that 

T QObject::findChild ( const QString & name = QString() ) const

 QListWidget *list = parentWidget->findChild<QListWidget *>();
Warning: This function is not available with MSVC 6. Use qFindChild()
instead if you need to support that version of the compiler.

and, I tried function qFindChild() but could not succeed.
Can you write wrapper to use qFindChild() as such:

T qFindChild ( const QObject * obj, const QString & name )

This function is equivalent to obj->findChild<T>(name). It is provided as a
work-around for MSVC 6, which doesn't support member template functions.

Regards
Pritpal Bedi
-- 
View this message in context: http://old.nabble.com/Compile-error-hbide-in-vc9-tp26562623p26562937.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sun Nov 29 11:30:43 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Nov 29 11:31:10 2009
Subject: [Harbour] Compile error hbide in vc9
In-Reply-To: <4B128C8F.7010909@uol.com.br>
References: <609353e70911290643s4b1e490fu7b2acf2d3c1c3d80@mail.gmail.com> 
	<4B128C8F.7010909@uol.com.br>
Message-ID: <609353e70911290830qd968509g327960b29938666b@mail.gmail.com>

Using qt 4.6 binary visual studio 2008

hbmk2: Processing environment options: -compiler=msvc
hbmk2: Processing configuration: c:\harbour\msvc\bin\hbmk.cfg
hbmk2: Linking... hbide.exe
MSVCRT.lib(ti_inst.obj) : error LNK2005: "private: __thiscall type_info::type_in
fo(class type_info const &)" (??0type_info@@AAE@ABV0@@Z) gi? definito in LIBCMT.
lib(typinfo.obj)
MSVCRT.lib(ti_inst.obj) : error LNK2005: "private: class type_info & __thiscall
type_info::operator=(class type_info const &)" (??4type_info@@AAEAAV0@ABV0@@Z) g
i? definito in LIBCMT.lib(typinfo.obj)
LINK : warning LNK4098: la libreria predefinita 'MSVCRT' ? in conflitto con l'ut
ilizzo di altre librerie; utilizzare /NODEFAULTLIB:libreria
hbide.exe : fatal error LNK1169: rilevato uno o pi? simboli definiti pi? volte
hbmk2: Error: Running linker. 1169


2009/11/29 Marcos Gambeta <marcosgambeta@uol.com.br>:
> Massimo Belgrano escreveu:
>>
>> Anyone know a distribution of qt ready to use for microsoft
>
> I am testing this:
>
> http://qt.nokia.com/developer/qt-4.6-preview#download-the-qt-4-1
> http://get.qt.nokia.com/qt/source/qt-win-opensource-4.6.0-rc1-vs2008.exe
>
> And i have problems with hbide+msvc too.
>
>
> Regards,
> Marcos Gambeta
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From lorenzo.fiorini at gmail.com  Sun Nov 29 11:54:59 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Nov 29 11:55:05 2009
Subject: [Harbour] hbvpdf
In-Reply-To: <6943770e0911290557y2b05d40cu97d88e200cd9bc1c@mail.gmail.com>
References: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
	<612327.65396.qm@web52207.mail.re2.yahoo.com>
	<6943770e0911290336x7667cad1meb6ba7a20267a2cb@mail.gmail.com>
	<9257026e0911290410x70a6e1e9q50fde778bbf98a7b@mail.gmail.com>
	<6943770e0911290557y2b05d40cu97d88e200cd9bc1c@mail.gmail.com>
Message-ID: <9257026e0911290854o82c36dfn8fa8e5aab375224b@mail.gmail.com>

On Sun, Nov 29, 2009 at 2:57 PM, francesco perillo <fperillo@gmail.com> wrote:

> Sorry, I wanted to say "LETTER" instead of A3.
>
> If you go in the source code you will see that if you specify a paper
> size differe from LEGAL or LETTER you will get LETTER.....

Have you tried the pdf_demo.prg in the tests dir?
It works as expected with every paper size I set.

But I probably know where is the problem: you're trying to use the
"class way" ( hbvpdft.prg ).
That file has been added time after the "original" code ( hbvpdf.prg )
and I guess it has never been updated.

So if you still want to use hbvpdf I suggest to look at pdf_demo.prg
an forget the class code.

best regards,
Lorenzo
From marcosgambeta at uol.com.br  Sun Nov 29 12:00:59 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Sun Nov 29 12:01:00 2009
Subject: [Harbour] Compile error hbide in vc9
In-Reply-To: <609353e70911290724q6f02c413u4683b0d2b57a15d9@mail.gmail.com>
References: <609353e70911290643s4b1e490fu7b2acf2d3c1c3d80@mail.gmail.com>
	<4B128C8F.7010909@uol.com.br>
	<609353e70911290724q6f02c413u4683b0d2b57a15d9@mail.gmail.com>
Message-ID: <4B12A8CB.5060309@uol.com.br>

Massimo Belgrano escreveu:
> Very good thanks!
> In next week 4.6 will be officially released
> so i suggest add this info to install
> you use binary packages for visual studio?
> 

In my tests, i am using:

Visual C++ 9.0/Visual C++ 2008 Express

Visual C++ 10.0/Visual C++ 2010 Express (beta version)

See more about Visual C++ 2010 here:
http://en.wikipedia.org/wiki/Visual_C%

Yes, i am using the binary package for vs2008:

Qt 4.6.0 RC for Windows: Visual Studio 2008
http://get.qt.nokia.com/qt/source/qt-win-opensource-4.6.0-rc1-vs2008.exe

To compile:

rem Visual C++ 9.0
set PATH=c:\harbour\bin;c:\Qt\4.6.0-rc1\bin;c:\windows;c:\windows\system32
call "C:\Program Files\Microsoft Visual Studio 9.0\VC\bin\vcvars32.bat"
set HB_COMPILER=msvc
set HB_INC_QT=c:\Qt\4.6.0-rc1\include
cd harbour
win-make install

rem Visual C++ 10.0
set PATH=c:\harbour\bin;c:\Qt\4.6.0-rc1\bin;c:\windows;c:\windows\system32
call "C:\Program Files\Microsoft Visual Studio 10.0\VC\bin\vcvars32.bat"
set HB_COMPILER=msvc
set HB_INC_QT=c:\Qt\4.6.0-rc1\include
cd harbour
win-make install

Paths above are only for reference. I am using a exclusive folder for 
each compiler.


Regards,
Marcos Gambeta

From marcosgambeta at uol.com.br  Sun Nov 29 12:13:49 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Sun Nov 29 12:13:51 2009
Subject: [Harbour] Compile error hbide in vc9
In-Reply-To: <26562937.post@talk.nabble.com>
References: <609353e70911290643s4b1e490fu7b2acf2d3c1c3d80@mail.gmail.com>	<4B128C8F.7010909@uol.com.br>
	<26562937.post@talk.nabble.com>
Message-ID: <4B12ABCD.40909@uol.com.br>

Pritpal Bedi escreveu:
> Hi Marcos
> 
> Marcos Gambeta wrote:
>> I am testing this:
>>
>> http://qt.nokia.com/developer/qt-4.6-preview#download-the-qt-4-1
>> http://get.qt.nokia.com/qt/source/qt-win-opensource-4.6.0-rc1-vs2008.exe
>>
>> And i have problems with hbide+msvc too.
>>
> 
> I had added this function in hbqt_destruct.c
> 
> HB_FUNC( QT_FINDCHILD )
> {
>    hb_retptr( ( QObject * ) hbqt_par_QObject( 1 )->findChild< QObject * >(
> hbqt_par_QString( 2 ) ) );
> }
> 
> and Qt documentation explains that 
> 
> T QObject::findChild ( const QString & name = QString() ) const
> 
>  QListWidget *list = parentWidget->findChild<QListWidget *>();
> Warning: This function is not available with MSVC 6. Use qFindChild()
> instead if you need to support that version of the compiler.
> 
> and, I tried function qFindChild() but could not succeed.
> Can you write wrapper to use qFindChild() as such:
> 
> T qFindChild ( const QObject * obj, const QString & name )
> 
> This function is equivalent to obj->findChild<T>(name). It is provided as a
> work-around for MSVC 6, which doesn't support member template functions.

Hi Pritpal,

I can do more tests tomorrow or more later (i have a reunion in few hours).

My tests are with Visual C++ 9.0 and 10.0. See my message for Massimo.

My next step is a clean compilation of the Harbour sources with both 
compilers (9.0 and 10.0) and Qt 4.6.0-rc1. After, i will try the change 
related with the function qFindChild.


Regards,
Marcos Gambeta

From fperillo at gmail.com  Sun Nov 29 12:46:33 2009
From: fperillo at gmail.com (francesco perillo)
Date: Sun Nov 29 12:46:41 2009
Subject: [Harbour] hbvpdf
In-Reply-To: <9257026e0911290854o82c36dfn8fa8e5aab375224b@mail.gmail.com>
References: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
	<612327.65396.qm@web52207.mail.re2.yahoo.com>
	<6943770e0911290336x7667cad1meb6ba7a20267a2cb@mail.gmail.com>
	<9257026e0911290410x70a6e1e9q50fde778bbf98a7b@mail.gmail.com>
	<6943770e0911290557y2b05d40cu97d88e200cd9bc1c@mail.gmail.com>
	<9257026e0911290854o82c36dfn8fa8e5aab375224b@mail.gmail.com>
Message-ID: <6943770e0911290946r6c985a5am4d301e0a0fe787fd@mail.gmail.com>

>
> But I probably know where is the problem: you're trying to use the
> "class way" ( hbvpdft.prg ).

Yes, I am using the class... When I found the first "problem" in the
class code I went to the procedural and found the same "problem"... I
didn't check every specific issue I had...

> That file has been added time after the "original" code ( hbvpdf.prg )
> and I guess it has never been updated.

It's strange to have one library with procedural and OO code with a
lot of replicated code... it's easy to have them disaligned !

When I have such situations where I want to go OO using a procedural
code base I usually create a thin OO layer as an interface, so that
the "real" code is still one...

> So if you still want to use hbvpdf I suggest to look at pdf_demo.prg
> an forget the class code.

Well, as I said in another thread I completed a small OLE interface to
PdfCreator and it's ok at the moment. If I will need a pure Harbour
pdf generator (to run on linux for example) I will look at the library
based on Haru... it seems more complete and AFAIK it generates
compressed pdf files...


Francesco
From mbelgrano at deltain.it  Sun Nov 29 12:57:49 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Nov 29 12:58:18 2009
Subject: [Harbour] Compile error hbide in vc9
In-Reply-To: <4B12A8CB.5060309@uol.com.br>
References: <609353e70911290643s4b1e490fu7b2acf2d3c1c3d80@mail.gmail.com> 
	<4B128C8F.7010909@uol.com.br>
	<609353e70911290724q6f02c413u4683b0d2b57a15d9@mail.gmail.com> 
	<4B12A8CB.5060309@uol.com.br>
Message-ID: <609353e70911290957u326d4e53v6391ff98b896d7ee@mail.gmail.com>

same question
where find win-make?
is right HB_INC_QT  instead HB_WITH_QT/HB_DIR_QT?
Is right vcvars32.bat   instead vcvarsall.bat?
----------------------
hbmk2: Processing environment options: -compiler=msvc
hbmk2: Processing configuration: c:\harbour\msvc\bin\hbmk.cfg
hbmk2: Linking... hbide.exe
LINK : fatal error LNK1181: impossibile aprire il file di input 'QtCore4.lib'
hbmk2: Error: Running linker. 1181

so i have copied from 4.6.0-rc1\lib
and now receive this error

MSVCRT.lib(ti_inst.obj) : error LNK2005: "private: __thiscall type_info::type_in
fo(class type_info const &)" (??0type_info@@AAE@ABV0@@Z) gi? definito in LIBCMT.
lib(typinfo.obj)
MSVCRT.lib(ti_inst.obj) : error LNK2005: "private: class type_info & __thiscall
type_info::operator=(class type_info const &)" (??4type_info@@AAEAAV0@ABV0@@Z) g
i? definito in LIBCMT.lib(typinfo.obj)
LINK : warning LNK4098: la libreria predefinita 'MSVCRT' ? in conflitto con l'ut
ilizzo di altre librerie; utilizzare /NODEFAULTLIB:libreria
hbide.exe : fatal error LNK1169: rilevato uno o pi? simboli definiti pi? volte
hbmk2: Error: Running linker. 1169


2009/11/29 Marcos Gambeta <marcosgambeta@uol.com.br>:
>
> In my tests, i am using:
>
> Visual C++ 9.0/Visual C++ 2008 Express
> Visual C++ 10.0/Visual C++ 2010 Express (beta version)
>
> See more about Visual C++ 2010 here:
> http://en.wikipedia.org/wiki/Visual_C%
>
> Yes, i am using the binary package for vs2008:
>
> Qt 4.6.0 RC for Windows: Visual Studio 2008
> http://get.qt.nokia.com/qt/source/qt-win-opensource-4.6.0-rc1-vs2008.exe
>
> To compile:
>
> rem Visual C++ 9.0
> set PATH=c:\harbour\bin;c:\Qt\4.6.0-rc1\bin;c:\windows;c:\windows\system32
> call "C:\Program Files\Microsoft Visual Studio 9.0\VC\bin\vcvars32.bat"
> set HB_COMPILER=msvc
> set HB_INC_QT=c:\Qt\4.6.0-rc1\include
> cd harbour
> win-make install
>
> rem Visual C++ 10.0
> set PATH=c:\harbour\bin;c:\Qt\4.6.0-rc1\bin;c:\windows;c:\windows\system32
> call "C:\Program Files\Microsoft Visual Studio 10.0\VC\bin\vcvars32.bat"
> set HB_COMPILER=msvc
> set HB_INC_QT=c:\Qt\4.6.0-rc1\include
> cd harbour
> win-make install
>
> Paths above are only for reference. I am using a exclusive folder for each
> compiler.
>
>
> Regards,
> Marcos Gambeta
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Sun Nov 29 13:00:16 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Nov 29 13:00:29 2009
Subject: [Harbour] hbvpdf
In-Reply-To: <6943770e0911290946r6c985a5am4d301e0a0fe787fd@mail.gmail.com>
References: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
	<612327.65396.qm@web52207.mail.re2.yahoo.com>
	<6943770e0911290336x7667cad1meb6ba7a20267a2cb@mail.gmail.com>
	<9257026e0911290410x70a6e1e9q50fde778bbf98a7b@mail.gmail.com>
	<6943770e0911290557y2b05d40cu97d88e200cd9bc1c@mail.gmail.com>
	<9257026e0911290854o82c36dfn8fa8e5aab375224b@mail.gmail.com>
	<6943770e0911290946r6c985a5am4d301e0a0fe787fd@mail.gmail.com>
Message-ID: <1E1A392C-F8B1-423B-9F63-B098C6968033@syenar.hu>

> Well, as I said in another thread I completed a small OLE interface to
> PdfCreator and it's ok at the moment. If I will need a pure Harbour
> pdf generator (to run on linux for example) I will look at the library
> based on Haru... it seems more complete and AFAIK it generates
> compressed pdf files...

You can very easily check the capabilities of hbhpdf for 
yourself by building and running its little test program 
(included in SVN).

Brgds,
Viktor

From mbelgrano at deltain.it  Sun Nov 29 13:13:41 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Nov 29 13:14:08 2009
Subject: [Harbour] hbvpdf
In-Reply-To: <1E1A392C-F8B1-423B-9F63-B098C6968033@syenar.hu>
References: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com> 
	<612327.65396.qm@web52207.mail.re2.yahoo.com>
	<6943770e0911290336x7667cad1meb6ba7a20267a2cb@mail.gmail.com> 
	<9257026e0911290410x70a6e1e9q50fde778bbf98a7b@mail.gmail.com> 
	<6943770e0911290557y2b05d40cu97d88e200cd9bc1c@mail.gmail.com> 
	<9257026e0911290854o82c36dfn8fa8e5aab375224b@mail.gmail.com> 
	<6943770e0911290946r6c985a5am4d301e0a0fe787fd@mail.gmail.com> 
	<1E1A392C-F8B1-423B-9F63-B098C6968033@syenar.hu>
Message-ID: <609353e70911291013g15b7c850j8a8106855bfdf559@mail.gmail.com>

I have made this routine that is able to convert one or more file asci in txt
txt2pdf
I hope that maj be usefull for learn http://libharu.sourceforge.net/

compile using hbhpdf.hbc
/*
read info abour hbharu at http://libharu.org/wiki/Documentation/API/Graphics
 */



-------------txt2pdf.prg
#include "harupdf.ch"

//----------------------------------------------------------------------//

Function Main( cFileToRead, cFileToSave )
  if empty( cFiletoRead )
     cFiletoRead:= "txt2pdf.prg"
  endif

  if empty( cFileToSave )
     cFileToSave := "txt2pdf.pdf"
  endif
  HANDLE := fcreate("read.max")
            fwrite(HANDLE,"harbour test")
           fclose(HANDLE)
  delete file (cfiletosave)
  if CovertAsciiPDF(  {cFileToRead,"read.max"},cFileToSave )
     ? "PDF File <"+cFileToSave+"> is Created!"
     // run cFileToSave
  else
     Alert( "Some problems in creating the PDF!" )
  endif
  a=inkey(0)

  Return nil

//----------------------------------------------------------------------//

Function CovertAsciiPDF( acFileToRead,cFileToSave )
  local txt  ,x_ret
  local page,height,width
  Local pdf := HPDF_New()
  local tw
  local l,a
  if pdf == NIL
     alert( " Pdf could not been created!" )
     return nil
  endif
  // set compression mode
  hpdf_setpagemode(pdf,HPDF_PAGE_MODE_USE_OUTLINE)
  HPDF_SetCompressionMode( pdf, HPDF_COMP_ALL )
  page := HPDF_AddPage(pdf)
  height := HPDF_Page_GetHeight(page)
  width  := HPDF_Page_GetWidth(page)
  font := HPDF_GetFont( pdf, "Helvetica", NIL )
  ? page
  ? height
  ? width
  ? acFileToRead[1]
  ? cFileToSave
  fontsize=int(height/66)
  offset=(height-(fontsize*66))/2
  root = HPDF_CreateOutline(pdf, NIL, "File", NIL)
  HPDF_Outline_SetOpened(root, HPDF_TRUE)
  for a=1 to len(acFileToRead)
     if a>1
        page := HPDF_AddPage(pdf)
     endif
   ? acFileToRead[1]
   cFileToRead=   acFileToRead[a]
   outline = HPDF_CreateOutline (pdf, root,cFileToRead ,
HPDF_GetCurrentEncoder() )
   dst = HPDF_Page_CreateDestination (page)
   HPDF_Destination_SetXYZ(dst, 0, HPDF_Page_GetHeight(page), 1)
   // HPDF_Destination_SetFitB(dst)
   HPDF_Outline_SetDestination(outline, dst)
   //   HPDF_Page_Stroke( page )
   txtfile=memoread(cFileToRead)
   for l=1 to mlcount(txtfile,255)
     if l/66=int(l/66) .and. l<>1
       page := HPDF_AddPage(pdf)
     endif
     txt=memoline(txtfile,255,l,1,.f.)
     HPDF_Page_SetFontAndSize(page, font, fontsize)
     tw := HPDF_Page_TextWidth(page, txt)
     HPDF_Page_BeginText(page)
     HPDF_Page_MoveTextPos(page,2, HPDF_Page_GetHeight(page)-offset -
mod(l,66)*fontsize)
     HPDF_Page_ShowText(page, txt)
     HPDF_Page_EndText(page)
    next l
  next a
  x_ret= HPDF_SaveToFile( pdf, cFileToSave )
  ? x_ret
  HPDF_Free( pdf )
  Return file( cFileToSave )



2009/11/29 Viktor Szak?ts <harbour.01@syenar.hu>:
>> Well, as I said in another thread I completed a small OLE interface to
>> PdfCreator and it's ok at the moment. If I will need a pure Harbour
>> pdf generator (to run on linux for example) I will look at the library
>> based on Haru... it seems more complete and AFAIK it generates
>> compressed pdf files...
>
> You can very easily check the capabilities of hbhpdf for
> yourself by building and running its little test program
> (included in SVN).
>
> Brgds,
> Viktor
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Iscritto all'albo dei CTU presso il Tribunale di Novara per materia Informatica
Delta Informatica S.r.l. (http://www.deltain.it/) (+39 0321 455962)
Analisi e sviluppo software per Lan e Web -  Consulenza informatica - Formazione
From mbelgrano at deltain.it  Sun Nov 29 13:32:00 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Nov 29 13:32:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13036] trunk/harbour
In-Reply-To: <E1NDz9e-0007uw-W4@74yxhf1.ch3.sourceforge.com>
References: <E1NDz9e-0007uw-W4@74yxhf1.ch3.sourceforge.com>
Message-ID: <609353e70911291032j5db63284s616023c7de611557@mail.gmail.com>

Function list seem not see reduced form of Function like

FUNC buildToolBar
funct buildToolBar
FUNCtio  buildToolBar


2009/11/27  <vouchcac@users.sourceforge.net>:
> Revision: 13036
> ? ? ? ? ?http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13036&view=rev
> Author: ? vouchcac
> Date: ? ? 2009-11-27 11:38:25 +0000 (Fri, 27 Nov 2009)
>
> Log Message:
> -----------
> 2009-11-27 02:58 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
> ?+ contrib/hbide/hbide.ch
> ? ?+ Added new header to manage hbide constants, expected to grow fast.
>
> ?* contrib/hbide/ideactions.prg
> ? ?+ "New Properties" icons action changed to "Toggle Project Tree".
> ? ? ?"Properties" dialog can be accessed via right-clicking on "Projects"
> ? ? ? tree-node of "Projects Tree" left-pane window and selecting "Properties"
> ? ? ? option.
>
> ?* contrib/hbide/hbide.prg
> ? ?+ Started managing HBIDE properties via "hbide.ini".
> ? ? ?The order of loading hbide.ini file is :
> ? ? ? ? 1. Supplied as first parameter to hbide.exe ( with fully qualified path ), then
> ? ? ? ? 2. The start-in folder from where hbide.exe is executed, last
> ? ? ? ? 3. The folder where hbide.exe is resident as returned by hb_DirBase().
> ? ? ?If hbide.ini is not located as above, new file is created on exit.
> ? ? ?Hbide.ini holds the various elements belonging to IDE operations and
> ? ? ?is expedted to grow in contents with further development. Right now it may
> ? ? ?look-like as:
>
> ? ? ?hbide.ini
> ? ? ?=========
>
> ? ? ?[HBIDE]
>
> ? ? ?MainWindowGeometry ? ? = 135,36,1099,682,
> ? ? ?ProjectTreeVisible ? ? = YES
> ? ? ?ProjectTreeGeometry ? ?= 0,0,88,616,
> ? ? ?FunctionListVisible ? ?= YES
> ? ? ?FunctionListGeometry ? = 0,20,150,596,
> ? ? ?RecentTabIndex ? ? ? ? = 0
> ? ? ?CurrentProject ? ? ? ? =
>
>
> ? ? ?[PROJECTS]
>
> ? ? ?[FILES]
>
> ? ? ?C:/harbour/contrib/hbxbp/xbpradiobutton.prg
> ? ? ?C:/harbour/contrib/hbxbp/xbprtf.prg
> ? ? ?C:/harbour/contrib/hbxbp/xbpstatusbar.prg
>
> ? ? ?.........
>
> ? ? ?Next invocation of ide will retain the location and size of the windows,
> ? ? ?files opened, last tab in focus, state of <Project Tree> and <Functions List>
> ? ? ?per visibility. There are a lot of notes on my drawing-board to implement.
> ? ? ?Just for now please report back your opinions.
>
>
> Modified Paths:
> --------------
> ? ?trunk/harbour/ChangeLog
> ? ?trunk/harbour/contrib/hbide/hbide.prg
> ? ?trunk/harbour/contrib/hbide/ideactions.prg
>
> Added Paths:
> -----------
> ? ?trunk/harbour/contrib/hbide/hbide.ch
>
>
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano

Iscritto all'albo dei CTU presso il Tribunale di Novara per materia Informatica
Delta Informatica S.r.l. (http://www.deltain.it/) (+39 0321 455962)
Analisi e sviluppo software per Lan e Web -  Consulenza informatica - Formazione
From marcosgambeta at uol.com.br  Sun Nov 29 13:55:54 2009
From: marcosgambeta at uol.com.br (Marcos Gambeta)
Date: Sun Nov 29 13:55:55 2009
Subject: [Harbour] Compile error hbide in vc9
In-Reply-To: <609353e70911290957u326d4e53v6391ff98b896d7ee@mail.gmail.com>
References: <609353e70911290643s4b1e490fu7b2acf2d3c1c3d80@mail.gmail.com>
	<4B128C8F.7010909@uol.com.br>	<609353e70911290724q6f02c413u4683b0d2b57a15d9@mail.gmail.com>
	<4B12A8CB.5060309@uol.com.br>
	<609353e70911290957u326d4e53v6391ff98b896d7ee@mail.gmail.com>
Message-ID: <4B12C3BA.6050805@uol.com.br>

Massimo Belgrano escreveu:
> same question
> where find win-make?

I have win-make.exe in harbour folder:

\harbour\win-make.exe

> is right HB_INC_QT  instead HB_WITH_QT/HB_DIR_QT?
> Is right vcvars32.bat   instead vcvarsall.bat?

Work for me, but i have many messages and changelog entries to read. If 
something is wrong, please fix me.

> ----------------------
> hbmk2: Processing environment options: -compiler=msvc
> hbmk2: Processing configuration: c:\harbour\msvc\bin\hbmk.cfg
> hbmk2: Linking... hbide.exe
> LINK : fatal error LNK1181: impossibile aprire il file di input 'QtCore4.lib'
> hbmk2: Error: Running linker. 1181

To compile, i add "-Lc:\qt\4.6.0-rc1\lib".


Regards,
Marcos Gambeta
From vszakats at users.sourceforge.net  Sun Nov 29 14:04:13 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 29 14:04:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13059] trunk/harbour
Message-ID: <E1NEp49-0007Os-Rk@74yxhf1.ch3.sourceforge.com>

Revision: 13059
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13059&view=rev
Author:   vszakats
Date:     2009-11-29 19:04:12 +0000 (Sun, 29 Nov 2009)

Log Message:
-----------
2009-11-29 20:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added -hbmake=<hbmake file> option which will attempt to 
      read hbmake project file and save it as .hbp file.
      This is experimental and I'd like to ask hbmake users to 
      update/extend this converter code as I'm not hbmake user.
      This feature is to aid users to migrate from hbmake to hbmk2.
      Notice that along the same line converter could be written 
      for .xbp and xMate project files too.

  * src/compiler/Makefile
  - src/compiler/gencobj.c
  * src/compiler/hbmain.c
  * src/compiler/cmdcheck.c
  * src/compiler/hbusage.c
  * include/hbcompdf.h
  * debian/rules
  * mpkg_src.sh
  * mpkg_tgz.sh
  * harbour.spec
    - Deleted support for harbour.cfg / compiler -go mode.
      This was scheduled to be done after release, but since
      hbmk2 seems to be a very solid tool now with visible
      acceptance from users, it seems safe to make the move
      now. This will mean that one less Harbour file will
      "pollute" system locations, which is always a good
      thing. Plus this part had a few bugs, which are now
      also a thing of the past.

  - examples/hbmake
    - Deleted hbmake tool. This wasn't really working anyway,
      and require -go mode, which was deleted.
      Use hbmk2 instead.

  * mpkg_src.sh
  * mpkg_tgz.sh
    ! Fixed indentation to be consistent 4 chars.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/debian/rules
    trunk/harbour/harbour.spec
    trunk/harbour/include/hbcompdf.h
    trunk/harbour/mpkg_src.sh
    trunk/harbour/mpkg_tgz.sh
    trunk/harbour/src/compiler/Makefile
    trunk/harbour/src/compiler/cmdcheck.c
    trunk/harbour/src/compiler/hbmain.c
    trunk/harbour/src/compiler/hbusage.c
    trunk/harbour/utils/hbmk2/hbmk2.prg

Removed Paths:
-------------
    trunk/harbour/examples/hbmake/
    trunk/harbour/src/compiler/gencobj.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From jarabal at gmail.com  Sun Nov 29 14:06:12 2009
From: jarabal at gmail.com (Xavi)
Date: Sun Nov 29 14:07:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13050] trunk/harbour
In-Reply-To: <E1NEbkR-00007h-Gs@3kljzd1.ch3.sourceforge.com>
References: <E1NEbkR-00007h-Gs@3kljzd1.ch3.sourceforge.com>
Message-ID: <4B12C624.3080708@gmail.com>

Thanks Viktor,
I attache update spd.c

-- 
Xavi


-------------- next part --------------
/*
 * $Id$
 */

/*
 * Harbour Project source code:
 * SQL_SPRINTF() function
 *
 * Copyright 2008 Xavi <jarabal/at/gmail.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software; see the file COPYING.  If not, write to
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
 * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
 *
 * As a special exception, the Harbour Project gives permission for
 * additional uses of the text contained in its release of Harbour.
 *
 * The exception is that, if you link the Harbour libraries with other
 * files to produce an executable, this does not by itself cause the
 * resulting executable to be covered by the GNU General Public License.
 * Your use of that executable is in no way restricted on account of
 * linking the Harbour library code into it.
 *
 * This exception does not however invalidate any other reasons why
 * the executable file might be covered by the GNU General Public License.
 *
 * This exception applies only to the code released by the Harbour
 * Project under the name Harbour.  If you copy code from other
 * Harbour Project or Free Software Foundation releases into a copy of
 * Harbour, as the General Public License permits, the exception does
 * not apply to the code that you add in this way.  To avoid misleading
 * anyone as to the status of such modified files, you must delete
 * this exception notice from them.
 *
 * If you write modifications of your own for Harbour, it is your choice
 * whether to permit this exception to apply to your modifications.
 * If you do not wish that, delete this exception notice.
 *
 */

#include "hbapi.h"
#include "hbapiitm.h"
#include "hbapierr.h"
#include "hbdate.h"
#include "hbset.h"

static void STAItm( PHB_ITEM pItmPar )
{
   ULONG i, ulItmPar = hb_itemGetCLen( pItmPar );
   const char *cItmPar = hb_itemGetCPtr( pItmPar ), *c;
   char *cRes;

   for( i = 3, c = cItmPar; *c; c++ ){
      if( *c == '\'' ) i++;   /* Count ' Tokens */
   }
   cRes = (char *)hb_xgrab( ulItmPar + i * sizeof(char) );
   i = 0; c = cItmPar; cRes[i++] = '\'';
   while( *c ){
      if( *c == '\'' ) cRes[i++] = '\'';
      cRes[i++] = *c++;
   }
   cRes[i++] = '\''; /* cRes[i] = '\0'; */
   hb_itemPutCLPtr( pItmPar, cRes, i );
}

static ULONG SCItm( char *cBuffer, ULONG ulMaxBuf, char *cParFrm, int iCOut, int IsIndW, int iIndWidth, int IsIndP, int iIndPrec, PHB_ITEM pItmPar )
{
   ULONG s;

   if( IsIndW && IsIndP ){
      switch( iCOut ){
      case 'p':
         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetPtr( pItmPar ) );
         break;
      case 's': case 'S':
         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetCPtr( pItmPar ) );
         break;
      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetND( pItmPar ) );
         break;
      /* case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X': */
      default:
         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
      }
   }else if( IsIndW || IsIndP ){
      int iInd = (IsIndW ? iIndWidth : iIndPrec);

      switch( iCOut ){
      case 'p':
         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetPtr( pItmPar ) );
         break;
      case 's': case 'S':
         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetCPtr( pItmPar ) );
         break;
      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetND( pItmPar ) );
         break;
      /* case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X': */
      default:
         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
      }
   }else{
      switch( iCOut ){
      case 'p':
         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetPtr( pItmPar ) );
         break;
      case 's': case 'S':
         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetCPtr( pItmPar ) );
         break;
      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetND( pItmPar ) );
         break;
      /* case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X': */
      default:
         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
      }
   }
   return s;
}

/*******************************************************************************
* ANSI C sprintf() for ANSI SQL with DATE, DATETIME, LOGICAL, NIL, NUMERIC
* ------------------------------------------------------------------------
*                      cRes := Sql_sprintf( cFrm, ... )
*
* Full compatible ANSI C99 formats with C,S converters wchar_t (UNICODE)
* Integer & Floating point converters with Width and Precision for NUMERIC & STRING
* a,A converters Hexadecimal floating point format. Thanks Rafa.
*  ? Sql_sprintf( "Phi = %A", (1 + 5**0.5) / 2 ) // Phi = 0X1,9E3779B97F4A8P+0
* %m$,*m$ Index & Indirect arguments C99. Thanks Viktor.
*  ? Sql_sprintf( "Phi = %2$0*3$.*1$f", 4, (1 + 5**0.5) / 2, 7 ) // Phi = 01.6180
*
* s converter for format Harbour data types.
*    NUMERIC with FIXED DECIMALS = n | n.d   STRING = String's ANSI\C
*    DATE = HB_SET_DATEFORMAT      DATETIME = HB_SET_DATEFORMAT hh:mm:ss
*     New Internal Modifier {}. Thanks Mindaugas.
*     Date and Time Format separate by first space {DD/MM/YYYY hh:mm:ss.fff pp}
*     {DD/MM/YYYY} = Only Date | { hh:mm:ss.fff pp} = Only Time
*        ? Sql_sprintf( "%s", Date() )                   // 16/06/08
*        ? Sql_sprintf( "%s", HB_DateTime() )            // 16/06/08 04:11:21
*        ? Sql_sprintf( "%{YYYYMMDD}s", HB_DateTime() )  // 20080616
*        ? Sql_sprintf( "%{ hh:mm pp}s", HB_DateTime() ) // 04:11 AM
*    LOGICAL = TRUE | FALSE        %d converter for LOGICAL = 1 | 0
*     Accepts Internal Modifier TRUE and FALSE Format separate by first comma
*     {T .T.,F .F.} = TRUE & FALSE | {ON} = Only TRUE | {,OFF} = Only FALSE
*        ? Sql_sprintf( "%{VERDADERO,FALSO}s", .F. ) // FALSO
*        ? Sql_sprintf( "%{ONLY IF TRUE}s", .T. ) // ONLY IF TRUE
*
* New t,T converter for format ANSI SQL types.
*    NUMERIC with FIXED DECIMALS = n | n.d   STRING = 'String''s ANSI\\SQL'
*     Print DEFAULT if 0 length STRING for T converter
*    DATE = 'YYYY-MM-DD' DATETIME = 'YYYY-MM-DD HH:MM:SS'
*     Accepts Internal Modifier like s converter {DD/MM/YYYY hh:mm:ss.fff pp}
*     Print DEFAULT if the DATE, DATETIME is EMPTY for T converter or print
*           DK_EMPTYDATE, DK_EMPTYDATETIME for t converter
*    LOGICAL = TRUE | FALSE        Accepts Internal Modifier like s {ON,OFF}
*
* Print DEFAULT if the parameter is NIL for T converter.
* Print NULL if the parameter is HB_IT_NULL or NIL for the rest of converters.
* Processing %% and n converter Position.
*******************************************************************************/

#define DK_INCRES 1024
#define DK_INCBUF 512
#define DK_BLKBUF HB_MAX_DOUBLE_LENGTH   /* Expense of DK_INCBUF */
#define DK_EMPTYDATE "'0001-01-01 BC'"
#define DK_EMPTYDATETIME "'0001-01-01 00:00:00 BC'"

HB_FUNC( SQL_SPRINTF )
{
   ULONG ulItmFrm;
   const char *cItmFrm;
   char *cRes;
   int argc = hb_pcount() - 1;
   PHB_ITEM pItmFrm = hb_param( 1, HB_IT_STRING );

   if( !pItmFrm || (cItmFrm = hb_itemGetCPtr( pItmFrm )) == NULL ){
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 1, hb_paramError( 1 ) );
   }else if( (ulItmFrm = hb_itemGetCLen( pItmFrm )) == 0 ){
      hb_retc_null();
   }else if( !argc ){
      cRes = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
      memcpy( cRes, cItmFrm, ulItmFrm + sizeof(char) );
      hb_retclen_buffer( cRes, ulItmFrm );
   }else{
      PHB_ITEM pItmPar, pItmCpy;
      char *cIntMod, *cBuffer, *cParFrm;
      const char *c;
      int p, arg, iCOut, IsType, IsIndW, IsIndP, iIndWidth, iIndPrec, iErrorPar = 0;
      ULONG s, f, i, ulWidth, ulParPos = 0, ulResPos = 0, ulMaxBuf = DK_INCBUF, ulMaxRes = DK_INCRES;
      static char cToken[] = "stTcdiouxXaAeEfgGpnSC";

      cIntMod = NULL;
      cRes = (char *)hb_xgrab( ulMaxRes );
      cBuffer = (char *)hb_xgrab( ulMaxBuf );
      cParFrm = (char *)hb_xgrab( ulItmFrm + sizeof(char) );

      for( p = 0; p < argc; /* Not p++ by support index & indirect arguments */ ){

         c = cItmFrm + ulParPos;
         s = f = i = ulWidth = arg = iCOut = IsType = IsIndW = iIndWidth = IsIndP = iIndPrec = 0;
         do{   /* Get Par Format */
            cParFrm[i++] = *c;
            if( f && *c == '%' ){
               f = ulWidth = IsIndW = IsIndP = 0;
            }else if( f && !ulWidth && *c >= '0' && *c <= '9' ){
               ulWidth = atol( c );
            }else if( f && *c == '.' ){
               if( f++ == 2 ) iErrorPar = 1;
            }else if( f && *c == '*' ){
               if( f == 2 ){
                  if( IsIndP ){
                     f = 3; iErrorPar = 1;
                  }else{
                     IsIndP = 1;
                  }
               }else if( !IsIndW ){
                  IsIndW = 1;
               }else{
                  f = 3; iErrorPar = 1;
               }
            }else if( f && *c == '$' ){
               if( ulWidth && IsIndP && !iIndPrec ){
                  iIndPrec = ulWidth;
                  iCOut = '*';
               }else if( ulWidth && IsIndW && !iIndWidth ){
                  iIndWidth = ulWidth;
                  ulWidth = 0; iCOut = '*';
               }else if( ulWidth && !arg ){
                  arg = ulWidth;
                  ulWidth = 0; iCOut = '%';
               }else{
                  f = 3; iErrorPar = 1;
               }
               while( i && cParFrm[--i] != iCOut ) {};
               ++i; iCOut = 0;
            }else if( f && *c == '{' ){
               if( s ){
                  f = 3; iErrorPar = 1;
               }else{   /* Remove Internal Modifier */
                  if( cIntMod == NULL ){
                     cIntMod = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
                  }
                  while( *c++ && *c != '}' ) cIntMod[s++] = *c;
                  --i; cIntMod[s] = '\0';
                  if( *(c - 1) == '\0' ){
                     f = 3; iErrorPar = 1;
                  }
               }
            }else if( f && strchr(cToken, *c) ){
               f = 3; iCOut = *c;
            }else if( *c == '%' ){
               f = 1;
            }
            c++;
         }while( f < 3 && *c ); cParFrm[f = i] = '\0';
         if( iErrorPar ) break;

         if( iCOut == 't' || iCOut == 'T' ){
            if( cParFrm[f - 2] == '%' ){
               IsType = (iCOut == 'T' ? 2 : 1); iCOut = cParFrm[f - 1] = 's';
            }else{
               iErrorPar = 1; break;
            }
         }

         if( IsIndW  ){ /* Get Par Indirectly Width Item */
            pItmPar = hb_param( (iIndWidth ? iIndWidth + 1 :  p++ + 2), HB_IT_INTEGER );
            if( pItmPar ){
               if( (iIndWidth = hb_itemGetNI( pItmPar )) < 0 ){
                  ulWidth = -iIndWidth;
               }else{
                  ulWidth = iIndWidth;
               }
            }else{
               iErrorPar = 1; break;
            }
         }

         if( IsIndP ){  /* Get Par Indirectly Precision Item */
            pItmPar = hb_param( (iIndPrec ? iIndPrec + 1 :  p++ + 2), HB_IT_INTEGER );
            if( pItmPar ){
               iIndPrec = hb_itemGetNI( pItmPar );
            }else{
               iErrorPar = 1; break;
            }
         }

         if( !arg && *c && p == argc - 1 ){ /* No more Par Items */
            do{ cParFrm[i++] = *c; }while( *c++ ); i--;
         }  /* i == strlen(cParFrm) */

         pItmPar = hb_param( (arg ? arg + 1 :  p++ + 2), HB_IT_ANY );   /* Get Par Item */
         if( !pItmPar ){
            iErrorPar = 1; break;
         }

         if( !iCOut || iCOut == 'n' ){ /* Par Text Out */

            for( f = i, i = 0; i < f; i++ ){ /* Change %% with % */
               if( cParFrm[i] == '%' && cParFrm[i + 1] == '%' ){
                  memcpy( cParFrm + i, cParFrm + i + 1, f - i );
                  f--;
               }
            }  /* i == strlen(cParFrm) */
            if( iCOut ){
               for( f = 0; f < i; f++ ){  /* Erase %n */
                  if( cParFrm[f] == '%' && cParFrm[f + 1] == 'n' ){
                     memcpy( cParFrm + f, cParFrm + f + 2, i - f - 1 );
                     break;
                  }
               }  /* f == Index % of n */
               if( f < i ){
                  i -= 2;  /* i == strlen(cParFrm) */
                  hb_itemPutNL( pItmPar, ulResPos + f );
               }else{
                  iErrorPar = 1; break;
               }
            }
            if( (f = i + sizeof(char)) > ulMaxBuf ){
               ulMaxBuf += f + DK_INCBUF;
               cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
            }
            hb_strncpy( cBuffer, cParFrm, i ); s = i;

         }else{   /* Par Item sprintf() Out */

#        ifdef HB_IT_NULL
            if( (HB_IS_NIL( pItmPar ) || HB_IS_NULL( pItmPar )) ){
#        else
            if( HB_IS_NIL( pItmPar ) ){
#        endif
               ulWidth = f; IsIndW = IsIndP = 0;
               while( cParFrm[--f] != '%' ) {};
               iCOut = cParFrm[f + 1] = 's'; /* Change format with %s */
               memcpy( cParFrm + f + 2, cParFrm + ulWidth, i - ulWidth + 1 );
               i -= ulWidth - f - 2;   /* i == strlen(cParFrm) */
               if( (f = i + 8) > ulMaxBuf ){ /* size of "DEFAULT" == 8 */
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar );
#           ifdef HB_IT_NULL
               if( IsType == 2 && !HB_IS_NULL( pItmPar ) ) hb_itemPutCL( pItmCpy, "DEFAULT", 7 );
#           else  /* Print DEFAULT if NIL for T converter if not NULL, print NULL for the rest of converters */
               if( IsType == 2 ) hb_itemPutCL( pItmCpy, "DEFAULT", 7 );
#           endif
               else hb_itemPutCL( pItmCpy, "NULL", 4 );
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmCpy );
               hb_itemRelease( pItmCpy );

            }else if( HB_IS_STRING( pItmPar ) && (iCOut == 's' || iCOut == 'S') ){
               if( IsType ){
                  hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar ); pItmPar = pItmCpy;
                  if( IsType == 2 && hb_itemGetCLen( pItmPar ) == 0 )   /* 0 length string print DEFAULT for T converter */
                     hb_itemPutCL( pItmPar, "DEFAULT", 7 );
                  else
                     STAItm( pItmPar );
               }
               f = hb_itemGetCLen( pItmPar );
               if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );
               if( IsType ) hb_itemRelease( pItmPar );

            }else if( HB_IS_DATETIME( pItmPar ) && iCOut == 's' ){
               long lDate, lTime;
               char cDTBuf[ 9 ], cDTFrm[ 27 ];

               if( s ){ /* Internal Modifier */
                  for( f = 0; cIntMod[f] && cIntMod[f] != ' '; f++ ) {};
                  if( f != s ) cIntMod[f++] = '\0';   /* Date & Time */
               }

               if( HB_IS_TIMESTAMP( pItmPar ) ){
                  hb_itemGetTDT( pItmPar, &lDate, &lTime );
                  hb_timeStampFormat(  cDTFrm,
                                       (s ? cIntMod : (IsType ? "YYYY-MM-DD" : hb_setGetDateFormat())),
                                       (s ? cIntMod + f : (IsType ? "HH:MM:SS" : hb_setGetTimeFormat())),
                                       lDate, lTime );
                  if( s ){
                     if( !cIntMod[0] ){
                        memcpy( cDTFrm, cDTFrm + 1, 26 );   /* LTrim 1 space if only Time */
                     }else if( cDTFrm[s] == ' ' ){
                        cDTFrm[s] = '\0'; /* RTrim 1 space if only Date */
                     }
                  }
               }else
                  hb_dateFormat( hb_itemGetDS( pItmPar, cDTBuf ), cDTFrm,
                                    (s ? cIntMod : (IsType ? "YYYY-MM-DD" : hb_setGetDateFormat())) );

               if( (f = i + HB_MAX(ulWidth, 27)) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar );
               hb_itemPutC( pItmCpy, cDTFrm );
               if( IsType ){
                  /* Empty DATE, DATETIME print DEFAULT for T converter or DK_EMPTYDATE, DK_EMPTYDATETIME for t converter */
                  if( *cDTFrm == ' ' ) hb_itemPutC( pItmCpy, (HB_IS_TIMESTAMP( pItmPar ) ?
                                                               (IsType == 2 ? "DEFAULT" : DK_EMPTYDATETIME) :
                                                               (IsType == 2 ? "DEFAULT" : DK_EMPTYDATE)) );
                  else STAItm( pItmCpy );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmCpy );
               hb_itemRelease( pItmCpy );

            }else if( HB_IS_LOGICAL( pItmPar ) ){

               if( s ){ /* Internal Modifier */
                  for( f = 0; cIntMod[f] && cIntMod[f] != ','; f++ ) {};
                  if( f != s ) cIntMod[f++] = '\0';   /* TRUE & FALSE */
               }
               if( iCOut == 's' ){
                  hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar ); pItmPar = pItmCpy;
                  hb_itemPutC( pItmPar, (hb_itemGetL( pItmPar ) ? (s ? cIntMod : "TRUE") : (s ? cIntMod + f : "FALSE")) );
               }
               if( (f = i + (iCOut == 's' ? HB_MAX(ulWidth, (s ? s : 6)) : HB_MAX(ulWidth, DK_BLKBUF))) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;   /* size of "FALSE" == 6 */
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );
               if( iCOut == 's' ) hb_itemRelease( pItmPar );

            }else if( iCOut == 's' ){
               char *cStr = hb_itemStr( pItmPar, NULL, NULL );
               const char *cTrimStr;

               if( cStr ){
                  f = strlen( cStr ); cTrimStr = hb_strLTrim( cStr, &f );
                  if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
                     ulMaxBuf += f + DK_INCBUF;
                     cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
                  }
                  hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar );
                  hb_itemPutCL( pItmCpy, cTrimStr, f );
                  s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmCpy );
                  hb_itemRelease( pItmCpy ); hb_xfree( cStr );
               }else{
                  iErrorPar = p + 2; break;
               }

            }else if( HB_IS_NUMERIC( pItmPar ) || HB_IS_POINTER( pItmPar ) ){
               if( (f = i + HB_MAX(ulWidth, DK_BLKBUF)) > ulMaxBuf ){
                  ulMaxBuf += f + DK_INCBUF;
                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
               }
               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );

            }else{
               iErrorPar = p + 2; break;
            }
         }

         if( (f = s + ulResPos + sizeof(char)) > ulMaxRes ){
            ulMaxRes += f + DK_INCRES;
            cRes = (char *)hb_xrealloc( cRes, ulMaxRes );
         }
         hb_strncpy( cRes + ulResPos, cBuffer, s ); ulResPos += s;

         if( (ulParPos = c - cItmFrm) >= ulItmFrm ){
            break;   /* No more Par Format */
         }
      }
      if( cIntMod ) hb_xfree( cIntMod );
      hb_xfree( cParFrm ); hb_xfree( cBuffer );
      if( iErrorPar ){
         hb_xfree( cRes );
         if( iErrorPar > 1 ){
            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 2, hb_paramError( 1 ), hb_paramError( iErrorPar ) );
         }else{
            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 1, hb_paramError( 1 ) );
         }
      }else{
         hb_retclen_buffer( cRes, ulResPos );
      }
   }
}
From mbelgrano at deltain.it  Sun Nov 29 14:09:35 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Nov 29 14:10:04 2009
Subject: [Harbour] Compile error hbide in vc9
In-Reply-To: <4B12C3BA.6050805@uol.com.br>
References: <609353e70911290643s4b1e490fu7b2acf2d3c1c3d80@mail.gmail.com> 
	<4B128C8F.7010909@uol.com.br>
	<609353e70911290724q6f02c413u4683b0d2b57a15d9@mail.gmail.com> 
	<4B12A8CB.5060309@uol.com.br>
	<609353e70911290957u326d4e53v6391ff98b896d7ee@mail.gmail.com> 
	<4B12C3BA.6050805@uol.com.br>
Message-ID: <609353e70911291109t624c2dc6id42ca6755f26adcb@mail.gmail.com>

tried but

c:\harbour\contrib\hbide>hbmk2 hbide.hbp -Lc:\qt\4.6.0-rc1\lib
hbmk2: Processing environment options: -compiler=msvc
hbmk2: Processing configuration: c:\harbour\msvc\bin\hbmk.cfg
hbmk2: Linking... hbide.exe
MSVCRT.lib(ti_inst.obj) : error LNK2005: "private: __thiscall type_info::type_in
fo(class type_info const &)" (??0type_info@@AAE@ABV0@@Z) gi? definito in LIBCMT.
lib(typinfo.obj)
MSVCRT.lib(ti_inst.obj) : error LNK2005: "private: class type_info & __thiscall
type_info::operator=(class type_info const &)" (??4type_info@@AAEAAV0@ABV0@@Z) g
i? definito in LIBCMT.lib(typinfo.obj)
LINK : warning LNK4098: la libreria predefinita 'MSVCRT' ? in conflitto con l'ut
ilizzo di altre librerie; utilizzare /NODEFAULTLIB:libreria
hbide.exe : fatal error LNK1169: rilevato uno o pi? simboli definiti pi? volte
hbmk2: Error: Running linker. 1169


2009/11/29 Marcos Gambeta <marcosgambeta@uol.com.br>:
>> ----------------------
>
> To compile, i add "-Lc:\qt\4.6.0-rc1\lib".
>
>



-- 
Massimo Belgrano
From harbour.01 at syenar.hu  Sun Nov 29 14:14:29 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Sun Nov 29 14:14:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13050] trunk/harbour
In-Reply-To: <4B12C624.3080708@gmail.com>
References: <E1NEbkR-00007h-Gs@3kljzd1.ch3.sourceforge.com>
	<4B12C624.3080708@gmail.com>
Message-ID: <1572A541-84BB-4212-8FE8-494FB7066D9A@syenar.hu>

Thanks Xavi. Can you resend in .zip form?

Brgdm,
Viktor

On 2009 Nov 29, at 20:06, Xavi wrote:

> Thanks Viktor,
> I attache update spd.c
> 
> -- 
> Xavi
> 
> 
> /*
> * $Id$
> */
> 
> /*
> * Harbour Project source code:
> * SQL_SPRINTF() function
> *
> * Copyright 2008 Xavi <jarabal/at/gmail.com>
> *
> * This program is free software; you can redistribute it and/or modify
> * it under the terms of the GNU General Public License as published by
> * the Free Software Foundation; either version 2, or (at your option)
> * any later version.
> *
> * This program is distributed in the hope that it will be useful,
> * but WITHOUT ANY WARRANTY; without even the implied warranty of
> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
> * GNU General Public License for more details.
> *
> * You should have received a copy of the GNU General Public License
> * along with this software; see the file COPYING.  If not, write to
> * the Free Software Foundation, Inc., 59 Temple Place, Suite 330,
> * Boston, MA 02111-1307 USA (or visit the web site http://www.gnu.org/).
> *
> * As a special exception, the Harbour Project gives permission for
> * additional uses of the text contained in its release of Harbour.
> *
> * The exception is that, if you link the Harbour libraries with other
> * files to produce an executable, this does not by itself cause the
> * resulting executable to be covered by the GNU General Public License.
> * Your use of that executable is in no way restricted on account of
> * linking the Harbour library code into it.
> *
> * This exception does not however invalidate any other reasons why
> * the executable file might be covered by the GNU General Public License.
> *
> * This exception applies only to the code released by the Harbour
> * Project under the name Harbour.  If you copy code from other
> * Harbour Project or Free Software Foundation releases into a copy of
> * Harbour, as the General Public License permits, the exception does
> * not apply to the code that you add in this way.  To avoid misleading
> * anyone as to the status of such modified files, you must delete
> * this exception notice from them.
> *
> * If you write modifications of your own for Harbour, it is your choice
> * whether to permit this exception to apply to your modifications.
> * If you do not wish that, delete this exception notice.
> *
> */
> 
> #include "hbapi.h"
> #include "hbapiitm.h"
> #include "hbapierr.h"
> #include "hbdate.h"
> #include "hbset.h"
> 
> static void STAItm( PHB_ITEM pItmPar )
> {
>   ULONG i, ulItmPar = hb_itemGetCLen( pItmPar );
>   const char *cItmPar = hb_itemGetCPtr( pItmPar ), *c;
>   char *cRes;
> 
>   for( i = 3, c = cItmPar; *c; c++ ){
>      if( *c == '\'' ) i++;   /* Count ' Tokens */
>   }
>   cRes = (char *)hb_xgrab( ulItmPar + i * sizeof(char) );
>   i = 0; c = cItmPar; cRes[i++] = '\'';
>   while( *c ){
>      if( *c == '\'' ) cRes[i++] = '\'';
>      cRes[i++] = *c++;
>   }
>   cRes[i++] = '\''; /* cRes[i] = '\0'; */
>   hb_itemPutCLPtr( pItmPar, cRes, i );
> }
> 
> static ULONG SCItm( char *cBuffer, ULONG ulMaxBuf, char *cParFrm, int iCOut, int IsIndW, int iIndWidth, int IsIndP, int iIndPrec, PHB_ITEM pItmPar )
> {
>   ULONG s;
> 
>   if( IsIndW && IsIndP ){
>      switch( iCOut ){
>      case 'p':
>         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetPtr( pItmPar ) );
>         break;
>      case 's': case 'S':
>         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetCPtr( pItmPar ) );
>         break;
>      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
>         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, hb_itemGetND( pItmPar ) );
>         break;
>      /* case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X': */
>      default:
>         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, iIndWidth, iIndPrec, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
>      }
>   }else if( IsIndW || IsIndP ){
>      int iInd = (IsIndW ? iIndWidth : iIndPrec);
> 
>      switch( iCOut ){
>      case 'p':
>         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetPtr( pItmPar ) );
>         break;
>      case 's': case 'S':
>         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetCPtr( pItmPar ) );
>         break;
>      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
>         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, hb_itemGetND( pItmPar ) );
>         break;
>      /* case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X': */
>      default:
>         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, iInd, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
>      }
>   }else{
>      switch( iCOut ){
>      case 'p':
>         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetPtr( pItmPar ) );
>         break;
>      case 's': case 'S':
>         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetCPtr( pItmPar ) );
>         break;
>      case 'e': case 'E': case 'f': case 'g': case 'G': case 'a': case 'A':
>         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, hb_itemGetND( pItmPar ) );
>         break;
>      /* case 'c': case 'C': case 'd': case 'i': case 'o': case 'u': case 'x': case 'X': */
>      default:
>         s = hb_snprintf( cBuffer, ulMaxBuf, cParFrm, (HB_IS_LONG( pItmPar ) ? hb_itemGetNL( pItmPar ) : hb_itemGetNI( pItmPar )) );
>      }
>   }
>   return s;
> }
> 
> /*******************************************************************************
> * ANSI C sprintf() for ANSI SQL with DATE, DATETIME, LOGICAL, NIL, NUMERIC
> * ------------------------------------------------------------------------
> *                      cRes := Sql_sprintf( cFrm, ... )
> *
> * Full compatible ANSI C99 formats with C,S converters wchar_t (UNICODE)
> * Integer & Floating point converters with Width and Precision for NUMERIC & STRING
> * a,A converters Hexadecimal floating point format. Thanks Rafa.
> *  ? Sql_sprintf( "Phi = %A", (1 + 5**0.5) / 2 ) // Phi = 0X1,9E3779B97F4A8P+0
> * %m$,*m$ Index & Indirect arguments C99. Thanks Viktor.
> *  ? Sql_sprintf( "Phi = %2$0*3$.*1$f", 4, (1 + 5**0.5) / 2, 7 ) // Phi = 01.6180
> *
> * s converter for format Harbour data types.
> *    NUMERIC with FIXED DECIMALS = n | n.d   STRING = String's ANSI\C
> *    DATE = HB_SET_DATEFORMAT      DATETIME = HB_SET_DATEFORMAT hh:mm:ss
> *     New Internal Modifier {}. Thanks Mindaugas.
> *     Date and Time Format separate by first space {DD/MM/YYYY hh:mm:ss.fff pp}
> *     {DD/MM/YYYY} = Only Date | { hh:mm:ss.fff pp} = Only Time
> *        ? Sql_sprintf( "%s", Date() )                   // 16/06/08
> *        ? Sql_sprintf( "%s", HB_DateTime() )            // 16/06/08 04:11:21
> *        ? Sql_sprintf( "%{YYYYMMDD}s", HB_DateTime() )  // 20080616
> *        ? Sql_sprintf( "%{ hh:mm pp}s", HB_DateTime() ) // 04:11 AM
> *    LOGICAL = TRUE | FALSE        %d converter for LOGICAL = 1 | 0
> *     Accepts Internal Modifier TRUE and FALSE Format separate by first comma
> *     {T .T.,F .F.} = TRUE & FALSE | {ON} = Only TRUE | {,OFF} = Only FALSE
> *        ? Sql_sprintf( "%{VERDADERO,FALSO}s", .F. ) // FALSO
> *        ? Sql_sprintf( "%{ONLY IF TRUE}s", .T. ) // ONLY IF TRUE
> *
> * New t,T converter for format ANSI SQL types.
> *    NUMERIC with FIXED DECIMALS = n | n.d   STRING = 'String''s ANSI\\SQL'
> *     Print DEFAULT if 0 length STRING for T converter
> *    DATE = 'YYYY-MM-DD' DATETIME = 'YYYY-MM-DD HH:MM:SS'
> *     Accepts Internal Modifier like s converter {DD/MM/YYYY hh:mm:ss.fff pp}
> *     Print DEFAULT if the DATE, DATETIME is EMPTY for T converter or print
> *           DK_EMPTYDATE, DK_EMPTYDATETIME for t converter
> *    LOGICAL = TRUE | FALSE        Accepts Internal Modifier like s {ON,OFF}
> *
> * Print DEFAULT if the parameter is NIL for T converter.
> * Print NULL if the parameter is HB_IT_NULL or NIL for the rest of converters.
> * Processing %% and n converter Position.
> *******************************************************************************/
> 
> #define DK_INCRES 1024
> #define DK_INCBUF 512
> #define DK_BLKBUF HB_MAX_DOUBLE_LENGTH   /* Expense of DK_INCBUF */
> #define DK_EMPTYDATE "'0001-01-01 BC'"
> #define DK_EMPTYDATETIME "'0001-01-01 00:00:00 BC'"
> 
> HB_FUNC( SQL_SPRINTF )
> {
>   ULONG ulItmFrm;
>   const char *cItmFrm;
>   char *cRes;
>   int argc = hb_pcount() - 1;
>   PHB_ITEM pItmFrm = hb_param( 1, HB_IT_STRING );
> 
>   if( !pItmFrm || (cItmFrm = hb_itemGetCPtr( pItmFrm )) == NULL ){
>      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 1, hb_paramError( 1 ) );
>   }else if( (ulItmFrm = hb_itemGetCLen( pItmFrm )) == 0 ){
>      hb_retc_null();
>   }else if( !argc ){
>      cRes = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
>      memcpy( cRes, cItmFrm, ulItmFrm + sizeof(char) );
>      hb_retclen_buffer( cRes, ulItmFrm );
>   }else{
>      PHB_ITEM pItmPar, pItmCpy;
>      char *cIntMod, *cBuffer, *cParFrm;
>      const char *c;
>      int p, arg, iCOut, IsType, IsIndW, IsIndP, iIndWidth, iIndPrec, iErrorPar = 0;
>      ULONG s, f, i, ulWidth, ulParPos = 0, ulResPos = 0, ulMaxBuf = DK_INCBUF, ulMaxRes = DK_INCRES;
>      static char cToken[] = "stTcdiouxXaAeEfgGpnSC";
> 
>      cIntMod = NULL;
>      cRes = (char *)hb_xgrab( ulMaxRes );
>      cBuffer = (char *)hb_xgrab( ulMaxBuf );
>      cParFrm = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
> 
>      for( p = 0; p < argc; /* Not p++ by support index & indirect arguments */ ){
> 
>         c = cItmFrm + ulParPos;
>         s = f = i = ulWidth = arg = iCOut = IsType = IsIndW = iIndWidth = IsIndP = iIndPrec = 0;
>         do{   /* Get Par Format */
>            cParFrm[i++] = *c;
>            if( f && *c == '%' ){
>               f = ulWidth = IsIndW = IsIndP = 0;
>            }else if( f && !ulWidth && *c >= '0' && *c <= '9' ){
>               ulWidth = atol( c );
>            }else if( f && *c == '.' ){
>               if( f++ == 2 ) iErrorPar = 1;
>            }else if( f && *c == '*' ){
>               if( f == 2 ){
>                  if( IsIndP ){
>                     f = 3; iErrorPar = 1;
>                  }else{
>                     IsIndP = 1;
>                  }
>               }else if( !IsIndW ){
>                  IsIndW = 1;
>               }else{
>                  f = 3; iErrorPar = 1;
>               }
>            }else if( f && *c == '$' ){
>               if( ulWidth && IsIndP && !iIndPrec ){
>                  iIndPrec = ulWidth;
>                  iCOut = '*';
>               }else if( ulWidth && IsIndW && !iIndWidth ){
>                  iIndWidth = ulWidth;
>                  ulWidth = 0; iCOut = '*';
>               }else if( ulWidth && !arg ){
>                  arg = ulWidth;
>                  ulWidth = 0; iCOut = '%';
>               }else{
>                  f = 3; iErrorPar = 1;
>               }
>               while( i && cParFrm[--i] != iCOut ) {};
>               ++i; iCOut = 0;
>            }else if( f && *c == '{' ){
>               if( s ){
>                  f = 3; iErrorPar = 1;
>               }else{   /* Remove Internal Modifier */
>                  if( cIntMod == NULL ){
>                     cIntMod = (char *)hb_xgrab( ulItmFrm + sizeof(char) );
>                  }
>                  while( *c++ && *c != '}' ) cIntMod[s++] = *c;
>                  --i; cIntMod[s] = '\0';
>                  if( *(c - 1) == '\0' ){
>                     f = 3; iErrorPar = 1;
>                  }
>               }
>            }else if( f && strchr(cToken, *c) ){
>               f = 3; iCOut = *c;
>            }else if( *c == '%' ){
>               f = 1;
>            }
>            c++;
>         }while( f < 3 && *c ); cParFrm[f = i] = '\0';
>         if( iErrorPar ) break;
> 
>         if( iCOut == 't' || iCOut == 'T' ){
>            if( cParFrm[f - 2] == '%' ){
>               IsType = (iCOut == 'T' ? 2 : 1); iCOut = cParFrm[f - 1] = 's';
>            }else{
>               iErrorPar = 1; break;
>            }
>         }
> 
>         if( IsIndW  ){ /* Get Par Indirectly Width Item */
>            pItmPar = hb_param( (iIndWidth ? iIndWidth + 1 :  p++ + 2), HB_IT_INTEGER );
>            if( pItmPar ){
>               if( (iIndWidth = hb_itemGetNI( pItmPar )) < 0 ){
>                  ulWidth = -iIndWidth;
>               }else{
>                  ulWidth = iIndWidth;
>               }
>            }else{
>               iErrorPar = 1; break;
>            }
>         }
> 
>         if( IsIndP ){  /* Get Par Indirectly Precision Item */
>            pItmPar = hb_param( (iIndPrec ? iIndPrec + 1 :  p++ + 2), HB_IT_INTEGER );
>            if( pItmPar ){
>               iIndPrec = hb_itemGetNI( pItmPar );
>            }else{
>               iErrorPar = 1; break;
>            }
>         }
> 
>         if( !arg && *c && p == argc - 1 ){ /* No more Par Items */
>            do{ cParFrm[i++] = *c; }while( *c++ ); i--;
>         }  /* i == strlen(cParFrm) */
> 
>         pItmPar = hb_param( (arg ? arg + 1 :  p++ + 2), HB_IT_ANY );   /* Get Par Item */
>         if( !pItmPar ){
>            iErrorPar = 1; break;
>         }
> 
>         if( !iCOut || iCOut == 'n' ){ /* Par Text Out */
> 
>            for( f = i, i = 0; i < f; i++ ){ /* Change %% with % */
>               if( cParFrm[i] == '%' && cParFrm[i + 1] == '%' ){
>                  memcpy( cParFrm + i, cParFrm + i + 1, f - i );
>                  f--;
>               }
>            }  /* i == strlen(cParFrm) */
>            if( iCOut ){
>               for( f = 0; f < i; f++ ){  /* Erase %n */
>                  if( cParFrm[f] == '%' && cParFrm[f + 1] == 'n' ){
>                     memcpy( cParFrm + f, cParFrm + f + 2, i - f - 1 );
>                     break;
>                  }
>               }  /* f == Index % of n */
>               if( f < i ){
>                  i -= 2;  /* i == strlen(cParFrm) */
>                  hb_itemPutNL( pItmPar, ulResPos + f );
>               }else{
>                  iErrorPar = 1; break;
>               }
>            }
>            if( (f = i + sizeof(char)) > ulMaxBuf ){
>               ulMaxBuf += f + DK_INCBUF;
>               cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>            }
>            hb_strncpy( cBuffer, cParFrm, i ); s = i;
> 
>         }else{   /* Par Item sprintf() Out */
> 
> #        ifdef HB_IT_NULL
>            if( (HB_IS_NIL( pItmPar ) || HB_IS_NULL( pItmPar )) ){
> #        else
>            if( HB_IS_NIL( pItmPar ) ){
> #        endif
>               ulWidth = f; IsIndW = IsIndP = 0;
>               while( cParFrm[--f] != '%' ) {};
>               iCOut = cParFrm[f + 1] = 's'; /* Change format with %s */
>               memcpy( cParFrm + f + 2, cParFrm + ulWidth, i - ulWidth + 1 );
>               i -= ulWidth - f - 2;   /* i == strlen(cParFrm) */
>               if( (f = i + 8) > ulMaxBuf ){ /* size of "DEFAULT" == 8 */
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar );
> #           ifdef HB_IT_NULL
>               if( IsType == 2 && !HB_IS_NULL( pItmPar ) ) hb_itemPutCL( pItmCpy, "DEFAULT", 7 );
> #           else  /* Print DEFAULT if NIL for T converter if not NULL, print NULL for the rest of converters */
>               if( IsType == 2 ) hb_itemPutCL( pItmCpy, "DEFAULT", 7 );
> #           endif
>               else hb_itemPutCL( pItmCpy, "NULL", 4 );
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmCpy );
>               hb_itemRelease( pItmCpy );
> 
>            }else if( HB_IS_STRING( pItmPar ) && (iCOut == 's' || iCOut == 'S') ){
>               if( IsType ){
>                  hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar ); pItmPar = pItmCpy;
>                  if( IsType == 2 && hb_itemGetCLen( pItmPar ) == 0 )   /* 0 length string print DEFAULT for T converter */
>                     hb_itemPutCL( pItmPar, "DEFAULT", 7 );
>                  else
>                     STAItm( pItmPar );
>               }
>               f = hb_itemGetCLen( pItmPar );
>               if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );
>               if( IsType ) hb_itemRelease( pItmPar );
> 
>            }else if( HB_IS_DATETIME( pItmPar ) && iCOut == 's' ){
>               long lDate, lTime;
>               char cDTBuf[ 9 ], cDTFrm[ 27 ];
> 
>               if( s ){ /* Internal Modifier */
>                  for( f = 0; cIntMod[f] && cIntMod[f] != ' '; f++ ) {};
>                  if( f != s ) cIntMod[f++] = '\0';   /* Date & Time */
>               }
> 
>               if( HB_IS_TIMESTAMP( pItmPar ) ){
>                  hb_itemGetTDT( pItmPar, &lDate, &lTime );
>                  hb_timeStampFormat(  cDTFrm,
>                                       (s ? cIntMod : (IsType ? "YYYY-MM-DD" : hb_setGetDateFormat())),
>                                       (s ? cIntMod + f : (IsType ? "HH:MM:SS" : hb_setGetTimeFormat())),
>                                       lDate, lTime );
>                  if( s ){
>                     if( !cIntMod[0] ){
>                        memcpy( cDTFrm, cDTFrm + 1, 26 );   /* LTrim 1 space if only Time */
>                     }else if( cDTFrm[s] == ' ' ){
>                        cDTFrm[s] = '\0'; /* RTrim 1 space if only Date */
>                     }
>                  }
>               }else
>                  hb_dateFormat( hb_itemGetDS( pItmPar, cDTBuf ), cDTFrm,
>                                    (s ? cIntMod : (IsType ? "YYYY-MM-DD" : hb_setGetDateFormat())) );
> 
>               if( (f = i + HB_MAX(ulWidth, 27)) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar );
>               hb_itemPutC( pItmCpy, cDTFrm );
>               if( IsType ){
>                  /* Empty DATE, DATETIME print DEFAULT for T converter or DK_EMPTYDATE, DK_EMPTYDATETIME for t converter */
>                  if( *cDTFrm == ' ' ) hb_itemPutC( pItmCpy, (HB_IS_TIMESTAMP( pItmPar ) ?
>                                                               (IsType == 2 ? "DEFAULT" : DK_EMPTYDATETIME) :
>                                                               (IsType == 2 ? "DEFAULT" : DK_EMPTYDATE)) );
>                  else STAItm( pItmCpy );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmCpy );
>               hb_itemRelease( pItmCpy );
> 
>            }else if( HB_IS_LOGICAL( pItmPar ) ){
> 
>               if( s ){ /* Internal Modifier */
>                  for( f = 0; cIntMod[f] && cIntMod[f] != ','; f++ ) {};
>                  if( f != s ) cIntMod[f++] = '\0';   /* TRUE & FALSE */
>               }
>               if( iCOut == 's' ){
>                  hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar ); pItmPar = pItmCpy;
>                  hb_itemPutC( pItmPar, (hb_itemGetL( pItmPar ) ? (s ? cIntMod : "TRUE") : (s ? cIntMod + f : "FALSE")) );
>               }
>               if( (f = i + (iCOut == 's' ? HB_MAX(ulWidth, (s ? s : 6)) : HB_MAX(ulWidth, DK_BLKBUF))) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;   /* size of "FALSE" == 6 */
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );
>               if( iCOut == 's' ) hb_itemRelease( pItmPar );
> 
>            }else if( iCOut == 's' ){
>               char *cStr = hb_itemStr( pItmPar, NULL, NULL );
>               const char *cTrimStr;
> 
>               if( cStr ){
>                  f = strlen( cStr ); cTrimStr = hb_strLTrim( cStr, &f );
>                  if( (f = i + HB_MAX(ulWidth, f)) > ulMaxBuf ){
>                     ulMaxBuf += f + DK_INCBUF;
>                     cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>                  }
>                  hb_itemCopy( pItmCpy = hb_itemNew( NULL ), pItmPar );
>                  hb_itemPutCL( pItmCpy, cTrimStr, f );
>                  s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmCpy );
>                  hb_itemRelease( pItmCpy ); hb_xfree( cStr );
>               }else{
>                  iErrorPar = p + 2; break;
>               }
> 
>            }else if( HB_IS_NUMERIC( pItmPar ) || HB_IS_POINTER( pItmPar ) ){
>               if( (f = i + HB_MAX(ulWidth, DK_BLKBUF)) > ulMaxBuf ){
>                  ulMaxBuf += f + DK_INCBUF;
>                  cBuffer = (char *)hb_xrealloc( cBuffer, ulMaxBuf );
>               }
>               s = SCItm( cBuffer, ulMaxBuf, cParFrm, iCOut, IsIndW, iIndWidth, IsIndP, iIndPrec, pItmPar );
> 
>            }else{
>               iErrorPar = p + 2; break;
>            }
>         }
> 
>         if( (f = s + ulResPos + sizeof(char)) > ulMaxRes ){
>            ulMaxRes += f + DK_INCRES;
>            cRes = (char *)hb_xrealloc( cRes, ulMaxRes );
>         }
>         hb_strncpy( cRes + ulResPos, cBuffer, s ); ulResPos += s;
> 
>         if( (ulParPos = c - cItmFrm) >= ulItmFrm ){
>            break;   /* No more Par Format */
>         }
>      }
>      if( cIntMod ) hb_xfree( cIntMod );
>      hb_xfree( cParFrm ); hb_xfree( cBuffer );
>      if( iErrorPar ){
>         hb_xfree( cRes );
>         if( iErrorPar > 1 ){
>            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 2, hb_paramError( 1 ), hb_paramError( iErrorPar ) );
>         }else{
>            hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, HB_ERR_FUNCNAME, 1, hb_paramError( 1 ) );
>         }
>      }else{
>         hb_retclen_buffer( cRes, ulResPos );
>      }
>   }
> }

From vszakats at users.sourceforge.net  Sun Nov 29 14:36:12 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 29 14:36:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13060] trunk/harbour
Message-ID: <E1NEpZ6-0007un-6z@74yxhf1.ch3.sourceforge.com>

Revision: 13060
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13060&view=rev
Author:   vszakats
Date:     2009-11-29 19:36:11 +0000 (Sun, 29 Nov 2009)

Log Message:
-----------
2009-11-29 20:35 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbmisc/spd.c
    + Applied patch to add timestamp support.
      Supplied by Xaxi. Thank you.
    ! Readded DJGPP warning avoiding hack which was
      missing from sent file.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbmisc/spd.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From bruno.luciani at gmail.com  Sun Nov 29 14:38:44 2009
From: bruno.luciani at gmail.com (Bruno Luciani)
Date: Sun Nov 29 14:38:52 2009
Subject: [Harbour] Error compilink Harbour(Linux )
Message-ID: <133778360911291138j688c229ahe4b527f8eaa61ed4@mail.gmail.com>

! MAKE: make 3.81 /bin/sh all
! HB_HOST_PLAT: linux (x86)  HB_SHELL: sh
! HB_PLATFORM: linux (x86) (autodetected)
! HB_COMPILER: gcc (autodetected: /usr/bin/)
! Component: 'zlib' found in /usr/include
! Component: 'pcre' found in /home/bruno/harbour_svn/harbour/external/pcre
(local)
! Component: 'openssl' found in /usr/include
! Component: 'gpm' not found
! Component: 'slang' not found
! Component: 'curses' found in /usr/include
! Component: 'x11' found in /usr/include
! Component: 'wattcp/watt-32' not supported on linux platform
! HB_INSTALL_PREFIX automatically set to: /usr/local
! REVISION: 13059M
make[2]: No se hace nada para `all'.
make[1]: No se hace nada para `all'.
make[3]: `../../../../../lib/linux/gcc/liblibhpdf.a' est? actualizado.
! 'libpng' library skipped (unused)
make[3]: `../../../../../lib/linux/gcc/libhbpcre.a' est? actualizado.
make[3]: `../../../../../lib/linux/gcc/libsqlite3.a' est? actualizado.
! 'hbzlib' library skipped (unused)
make[3]: `../../../../../lib/linux/gcc/libhbcommon.a' est? actualizado.
make[3]: `../../../../../lib/linux/gcc/libhbnortl.a' est? actualizado.
make[3]: `../../../../../lib/linux/gcc/libhbpp.a' est? actualizado.
gcc  -I. -I../../../../../include -Wall -W -O3   -oppcomp.o -c
../../../ppcomp.c
../../../ppcomp.c: In function ?hb_pp_hb_inLine?:
../../../ppcomp.c:99: error: ?HB_LANG_OBJ_MODULE? undeclared (first use in
this function)
../../../ppcomp.c:99: error: (Each undeclared identifier is reported only
once
../../../ppcomp.c:99: error: for each function it appears in.)
make[3]: *** [ppcomp.o] Error 1
make[2]: *** [descend] Error 2
make[1]: *** [compiler] Error 2
make: *** [src] Error 2
bruno@notebook:~/harbour_svn/harbour$
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091129/c7aae232/attachment.html
From vszakats at users.sourceforge.net  Sun Nov 29 14:45:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 29 14:45:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13061] trunk/harbour
Message-ID: <E1NEphd-00084C-6u@74yxhf1.ch3.sourceforge.com>

Revision: 13061
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13061&view=rev
Author:   vszakats
Date:     2009-11-29 19:45:00 +0000 (Sun, 29 Nov 2009)

Log Message:
-----------
2009-11-29 20:44 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * src/compiler/hbmain.c
  * src/compiler/ppcomp.c
  * src/compiler/harbour.l
    ! Deleted some more remains of -go support.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/src/compiler/harbour.l
    trunk/harbour/src/compiler/hbmain.c
    trunk/harbour/src/compiler/ppcomp.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Nov 29 16:08:41 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 29 16:08:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13062] trunk/harbour
Message-ID: <E1NEr0b-0002Hu-BX@dn4whf1.ch3.sourceforge.com>

Revision: 13062
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13062&view=rev
Author:   vszakats
Date:     2009-11-29 21:08:39 +0000 (Sun, 29 Nov 2009)

Log Message:
-----------
2009-11-29 22:07 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added -xbp=<xbuild .xbp file> option which will attempt to
      read xbuild project file and save it as .hbp file.
      This is experimental and I'd like to ask xbuild users to
      update/extend this converter code as I'm not xbuild user.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Sun Nov 29 16:53:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Sun Nov 29 16:53:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13063] trunk/harbour
Message-ID: <E1NErhb-0001gc-MA@74yxhf1.ch3.sourceforge.com>

Revision: 13063
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13063&view=rev
Author:   vszakats
Date:     2009-11-29 21:53:06 +0000 (Sun, 29 Nov 2009)

Log Message:
-----------
2009-11-29 22:51 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Added -xhp=<xMate .xhp file> option which will attempt to
      read xMate project file and save it as .hbp file.
      This is experimental and I'd like to ask xMate users to
      update/extend this converter code as I'm not xMate user.
      Moreover the only .xhp file sample I have is pretty slim,
      limited, so it may easily be possible that some features
      are not imported or imported wrongly. 

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From lorenzo.fiorini at gmail.com  Sun Nov 29 16:58:48 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Nov 29 16:58:54 2009
Subject: [Harbour] harbour.cfg support removal
In-Reply-To: <798DD396-41D1-4904-AC82-512861F739AC@syenar.hu>
References: <798DD396-41D1-4904-AC82-512861F739AC@syenar.hu>
Message-ID: <9257026e0911291358h7211e739rd7dd15435abe92da@mail.gmail.com>

On Sun, Nov 29, 2009 at 2:36 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> I'd like to propose removal of harbour.cfg. A lot of
> time went by since visiting this topic last time, and
> by now I see no point at all maintaining this feature.

I still use it and it works without any problem.
I think we should mark it "obsolete" and remove it after 2.0.
This will give the time to users to rework their make system.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Sun Nov 29 17:08:21 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Nov 29 17:08:27 2009
Subject: [Harbour] harbour.cfg support removal
In-Reply-To: <9257026e0911291358h7211e739rd7dd15435abe92da@mail.gmail.com>
References: <798DD396-41D1-4904-AC82-512861F739AC@syenar.hu>
	<9257026e0911291358h7211e739rd7dd15435abe92da@mail.gmail.com>
Message-ID: <9257026e0911291408w39911681y85defffd687e42df@mail.gmail.com>

On Sun, Nov 29, 2009 at 10:58 PM, Lorenzo Fiorini
<lorenzo.fiorini@gmail.com> wrote:

> I think we should mark it "obsolete" and remove it after 2.0.

Oops, too late.

It was marked as HB_LEGACY_LEVEL2 and I read:

>>>
We have rules for HB_LEGACY_LEVEL2, where we say
they gonna be fully removed in next major version,
which means whatever version that follows 2.0.
>>>

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sun Nov 29 17:08:38 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Nov 29 17:08:48 2009
Subject: [Harbour] harbour.cfg support removal
In-Reply-To: <9257026e0911291358h7211e739rd7dd15435abe92da@mail.gmail.com>
References: <798DD396-41D1-4904-AC82-512861F739AC@syenar.hu>
	<9257026e0911291358h7211e739rd7dd15435abe92da@mail.gmail.com>
Message-ID: <FC45AF77-7153-4F42-88AE-ADEEDBD19C91@syenar.hu>

It has been obsoleted almost a year ago.

If someone wants to restore it fine, but I won't 
spend time on it now.

We're keeping hbmk just for you BTW (AFAIK). 
Maybe you should consider hbmk2, it's working now 
pretty well, but if not, your input would be 
certainly welcome.

Brgds,
Viktor

On 2009 Nov 29, at 22:58, Lorenzo Fiorini wrote:

> On Sun, Nov 29, 2009 at 2:36 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:
> 
>> I'd like to propose removal of harbour.cfg. A lot of
>> time went by since visiting this topic last time, and
>> by now I see no point at all maintaining this feature.
> 
> I still use it and it works without any problem.
> I think we should mark it "obsolete" and remove it after 2.0.
> This will give the time to users to rework their make system.
> 
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Nov 29 17:13:10 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Nov 29 17:13:18 2009
Subject: [Harbour] harbour.cfg support removal
In-Reply-To: <9257026e0911291408w39911681y85defffd687e42df@mail.gmail.com>
References: <798DD396-41D1-4904-AC82-512861F739AC@syenar.hu>
	<9257026e0911291358h7211e739rd7dd15435abe92da@mail.gmail.com>
	<9257026e0911291408w39911681y85defffd687e42df@mail.gmail.com>
Message-ID: <BAA12D44-FDCA-41E8-829C-9970D2E2091F@syenar.hu>

> On Sun, Nov 29, 2009 at 10:58 PM, Lorenzo Fiorini
> <lorenzo.fiorini@gmail.com> wrote:
> 
>> I think we should mark it "obsolete" and remove it after 2.0.
> 
> Oops, too late.
> 
> It was marked as HB_LEGACY_LEVEL2 and I read:
> 
>>>> 
> We have rules for HB_LEGACY_LEVEL2, where we say
> they gonna be fully removed in next major version,
> which means whatever version that follows 2.0.

Yep, sorry. I've seen you sent e-mail to the list 
after my question, and since you didn't reflect, 
I though it's fine.

Pls note however that by now most probably you're 
the only known user of .cfg and hbmk script. Both 
which are on my removal list since quite some time 
and instead of doing it, I'm also spending lot of 
time carrying these features along. These are now 
duplicate tool clearly off the main development 
path since long.

Pls try to evaluate newer methods.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Sun Nov 29 17:17:33 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Nov 29 17:17:40 2009
Subject: [Harbour] harbour.cfg support removal
In-Reply-To: <BAA12D44-FDCA-41E8-829C-9970D2E2091F@syenar.hu>
References: <798DD396-41D1-4904-AC82-512861F739AC@syenar.hu>
	<9257026e0911291358h7211e739rd7dd15435abe92da@mail.gmail.com>
	<9257026e0911291408w39911681y85defffd687e42df@mail.gmail.com>
	<BAA12D44-FDCA-41E8-829C-9970D2E2091F@syenar.hu>
Message-ID: <9257026e0911291417x14947fbfsc96ddaee863f4446@mail.gmail.com>

On Sun, Nov 29, 2009 at 11:13 PM, Viktor Szak?ts <harbour.01@syenar.hu> wrote:

> Pls note however that by now most probably you're
> the only known user of .cfg and hbmk script. Both
> which are on my removal list since quite some time
> and instead of doing it, I'm also spending lot of
> time carrying these features along. These are now
> duplicate tool clearly off the main development
> path since long.

No problem, I'll keep them locally.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sun Nov 29 17:20:49 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Sun Nov 29 17:20:58 2009
Subject: [Harbour] harbour.cfg support removal
In-Reply-To: <9257026e0911291417x14947fbfsc96ddaee863f4446@mail.gmail.com>
References: <798DD396-41D1-4904-AC82-512861F739AC@syenar.hu>
	<9257026e0911291358h7211e739rd7dd15435abe92da@mail.gmail.com>
	<9257026e0911291408w39911681y85defffd687e42df@mail.gmail.com>
	<BAA12D44-FDCA-41E8-829C-9970D2E2091F@syenar.hu>
	<9257026e0911291417x14947fbfsc96ddaee863f4446@mail.gmail.com>
Message-ID: <13ECCE50-08A8-460D-A84A-8AD95BE4DFEF@syenar.hu>

>> Pls note however that by now most probably you're
>> the only known user of .cfg and hbmk script. Both
>> which are on my removal list since quite some time
>> and instead of doing it, I'm also spending lot of
>> time carrying these features along. These are now
>> duplicate tool clearly off the main development
>> path since long.
> 
> No problem, I'll keep them locally.

Thank you.

Anyhow if I can help you with hbmk2, just tell.

Brgds,
Viktor

From jarabal at gmail.com  Sun Nov 29 20:00:47 2009
From: jarabal at gmail.com (Xavi)
Date: Sun Nov 29 20:02:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13050] trunk/harbour
In-Reply-To: <1572A541-84BB-4212-8FE8-494FB7066D9A@syenar.hu>
References: <E1NEbkR-00007h-Gs@3kljzd1.ch3.sourceforge.com>
	<4B12C624.3080708@gmail.com>
	<1572A541-84BB-4212-8FE8-494FB7066D9A@syenar.hu>
Message-ID: <4B13193F.7090006@gmail.com>

Please Viktor, could you update spd.c
Fixed typo and minor improvement.

Thanks
-- 
Xavi


-------------- next part --------------
A non-text attachment was scrubbed...
Name: spd.zip
Type: application/x-zip-compressed
Size: 5499 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091130/4e63cf62/spd.bin
From itamarlins at bol.com.br  Sun Nov 29 20:50:48 2009
From: itamarlins at bol.com.br (Itamar Lins)
Date: Sun Nov 29 20:53:39 2009
Subject: [Harbour] Re: SF.net SVN: harbour-project:[13051] trunk/harbour
References: <E1NEdHG-0006EF-Ky@bj8yhf1.ch3.sourceforge.com>
Message-ID: <hev8i3$enl$1@ger.gmane.org>

Hi!
I use REQUEST HB_LANG_PT and REQUEST HB_CODEPAGE_PTISO.
Are these same commands ?

Best regards,
Itamar M. Lins Jr.

<vszakats@users.sourceforge.net> escreveu na 
mensagem news:E1NEdHG-0006EF-Ky@bj8yhf1.ch3.sourceforge.com...
> Revision: 13051
> 
> http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13051&view=rev
> Author:   vszakats
> Date:     2009-11-29 06:28:57 +0000 (Sun, 29 Nov 2009)
>
> Log Message:
> -----------
> 2009-11-29 07:23 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * src/rtl/cdpapi.c
>    * HB_SETCODEPAGE() guarded as HB_LEGACY_LEVEL2 which means
>      it will be removed in next major version.
>      NOTE to users: Use HB_CDPSELECT() or SET( _SET_CODEPAGE ) instead.
>
>  * src/debug/debugger.prg
>    - Deleted __XHARBOUR__ protected parts.
>
>  * contrib/xhb/xhberr.prg
>    - Deleted some __XHARBOUR__ protected parts.
>      Some other remain, most of them dealing with SET()s which
>      are xhb extension.
>      It again shows that emulating extended SETs is quite a PITA,
>      so we should avoid it.
>
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/contrib/xhb/xhberr.prg
>    trunk/harbour/src/debug/debugger.prg
>    trunk/harbour/src/rtl/cdpapi.c
>
>
> This was sent by the SourceForge.net collaborative development platform, 
> the world's largest Open Source development site. 



From druzus at users.sourceforge.net  Sun Nov 29 22:45:22 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Sun Nov 29 22:45:29 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13064] trunk/harbour
Message-ID: <E1NExCU-0004ku-FJ@3kljzd1.ch3.sourceforge.com>

Revision: 13064
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13064&view=rev
Author:   druzus
Date:     2009-11-30 03:45:21 +0000 (Mon, 30 Nov 2009)

Log Message:
-----------
2009-11-30 04:45 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbwin/olecore.c
    + added support for passing OLE pointer item as VT_DISPATCH variants
    + added support for updating VT_DISPATCH and VT_UNKNOWN parameters
      passed by reference
      Please test.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/olecore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From siki at msoft.cz  Sun Nov 29 22:47:24 2009
From: siki at msoft.cz (Davor Siklic)
Date: Sun Nov 29 22:47:40 2009
Subject: [Harbour] hbide
Message-ID: <4B13404C.4070702@msoft.cz>

hbide fail to compile on ubuntu
regards
Davor

siki@siki:~/clipp/harbour/contrib/hbide$ hbmk2 hbide
hbmk2: Processing environment options: 
-compiler=gcc                           
hbmk2: Processing configuration: 
/usr/bin/hbmk.cfg                             
Harbour 2.0.0beta3 (Rev. 
13063)                                                
Copyright (c) 1999-2009, 
http://www.harbour-project.org/                       
Compiling 
'hbide.prg'...                                                       
Lines 5819, Functions/Procedures 
42                                            
Generating C source output to 'hbide.c'... 
Done.                               
hbide.o:(.data+0x448): undefined reference to 
`HB_FUN_SETAPPWINDOW'            
hbide.o:(.data+0x488): undefined reference to 
`HB_FUN_XBPTABWIDGET'            
hbide.o:(.data+0x518): undefined reference to 
`HB_FUN_QGRIDLAYOUT'             
hbide.o:(.data+0x598): undefined reference to 
`HB_FUN_QSPLITTER'               
hbide.o:(.data+0x5f8): undefined reference to 
`HB_FUN_XBPFONT'                 
hbide.o:(.data+0x628): undefined reference to 
`HB_FUN_BUILDMAINMENU'           
hbide.o:(.data+0x638): undefined reference to 
`HB_FUN_BUILDTOOLBAR'            
hbide.o:(.data+0x688): undefined reference to 
`HB_FUN_APPEVENT'                
hbide.o:(.data+0x878): undefined reference to 
`HB_FUN_HBQT_QTPTR_FROM_GCPOINTER'
hbide.o:(.data+0x948): undefined reference to 
`HB_FUN_READSOURCE'               
hbide.o:(.data+0x998): undefined reference to 
`HB_FUN_POSTAPPEVENT'             
hbide.o:(.data+0xb48): undefined reference to 
`HB_FUN_QTEXTCURSOR'              
hbide.o:(.data+0xc68): undefined reference to 
`HB_FUN_XBPTABPAGE'               
hbide.o:(.data+0xd08): undefined reference to 
`HB_FUN_QTEXTEDIT'                
hbide.o:(.data+0xd68): undefined reference to 
`HB_FUN_QCOLOR'                   
hbide.o:(.data+0xd78): undefined reference to 
`HB_FUN_QTEXTDOCUMENT'            
hbide.o:(.data+0xd98): undefined reference to 
`HB_FUN_QBOXLAYOUT'               
hbide.o:(.data+0xdb8): undefined reference to 
`HB_FUN_QSYNTAXHIGHLIGHTER'       
hbide.o:(.data+0xe08): undefined reference to 
`HB_FUN_QT_CONNECT_SIGNAL'        
hbide.o:(.data+0xe88): undefined reference to 
`HB_FUN_QMESSAGEBOX'              
hbide.o:(.data+0xf68): undefined reference to 
`HB_FUN_XBPFILEDIALOG'            
hbide.o:(.data+0xfc8): undefined reference to 
`HB_FUN_MSGBOX'                   
hbide.o:(.data+0xff8): undefined reference to 
`HB_FUN_XBPTREEVIEW'              
hbide.o:(.data+0x1038): undefined reference to 
`HB_FUN_GRAMAKERGBCOLOR'         
hbide.o:(.data+0x10d8): undefined reference to 
`HB_FUN_XBPSTATUSBAR'            
hbide.o:(.data+0x1138): undefined reference to 
`HB_FUN_XBPDIALOG'               
hbide.o:(.data+0x11d8): undefined reference to 
`HB_FUN_EXECPOPUP'               
hbide.o:(.data+0x1208): undefined reference to 
`HB_FUN_XBPWINDOW'               
hbide.o:(.data+0x1228): undefined reference to 
`HB_FUN_QDOCKWIDGET'             
hbide.o:(.data+0x1298): undefined reference to 
`HB_FUN_XBPLISTBOX'              
hbide.o:(.data+0x12b8): undefined reference to 
`HB_FUN_GETSTYLESHEET'           
hbide.o:(.data+0x13d8): undefined reference to 
`HB_FUN_XBPMLE'                  
hbide.o:(.data+0x1488): undefined reference to 
`HB_FUN_CHECKCOMMENTS'           
hbide.o:(.data+0x1498): undefined reference to 
`HB_FUN_SUMMARIZE'               
hbide.o:(.data+0x14a8): undefined reference to 
`HB_FUN_UPDATETAGS'              
hbide.o:(.data+0x14d8): undefined reference to 
`HB_FUN_QPRINTPREVIEWDIALOG'     
hbide.o:(.data+0x14f8): undefined reference to 
`HB_FUN_QT_DISCONNECT_SIGNAL'    
hbide.o:(.data+0x1508): undefined reference to 
`HB_FUN_QPRINTER'                
hbide.o:(.data+0x1528): undefined reference to 
`HB_FUN_QDIALOG'                 
hbide.o:(.data+0x1538): undefined reference to 
`HB_FUN_QLABEL'                  
hbide.o:(.data+0x1548): undefined reference to 
`HB_FUN_QCOMBOBOX'               
hbide.o:(.data+0x1558): undefined reference to `HB_FUN_XBPSLE'
hbide.o:(.data+0x1568): undefined reference to `HB_FUN_QHBOXLAYOUT'
hbide.o:(.data+0x1588): undefined reference to `HB_FUN_XBPPUSHBUTTON'
hbide.o:(.data+0x15e8): undefined reference to `HB_FUN_QWIDGET'
hbide.o:(.data+0x1608): undefined reference to `HB_FUN_JUSTACALL'
hbide.o:(.data+0x1628): undefined reference to `HB_FUN_QFILE'
hbide.o:(.data+0x1638): undefined reference to `HB_FUN_QUILOADER'
hbide.o:(.data+0x1698): undefined reference to `HB_FUN_XBPCOMBOBOX'
hbide.o:(.data+0x16a8): undefined reference to `HB_FUN_QT_FINDCHILD'
hbide.o:(.data+0x16f8): undefined reference to `HB_FUN_QLINEEDIT'
collect2: ld returned 1 exit status
hbmk2: Error: Running linker. 1
gcc hbide.o hbmk_n1rd9q.o   -Wl,--start-group -lhbcplr -lhbdebug -lgpm 
-lharbour  -Wl,--end-group -ohbide -L/usr/lib/harbour
From ice at extreme.hu  Mon Nov 30 00:00:45 2009
From: ice at extreme.hu (Tamas TEVESZ)
Date: Mon Nov 30 00:00:55 2009
Subject: [Harbour] hbide
In-Reply-To: <4B13404C.4070702@msoft.cz>
References: <4B13404C.4070702@msoft.cz>
Message-ID: <alpine.DEB.2.00.0911300556580.8775@dawn.royalcomp.hu>

On Mon, 30 Nov 2009, Davor Siklic wrote:

 > siki@siki:~/clipp/harbour/contrib/hbide$ hbmk2 hbide

hbmk2 hbide.hbp


-- 
[-]

mkdir /nonexistent
From siki at msoft.cz  Mon Nov 30 00:22:33 2009
From: siki at msoft.cz (Davor Siklic)
Date: Mon Nov 30 00:22:50 2009
Subject: [Harbour] hbide
In-Reply-To: <alpine.DEB.2.00.0911300556580.8775@dawn.royalcomp.hu>
References: <4B13404C.4070702@msoft.cz>
	<alpine.DEB.2.00.0911300556580.8775@dawn.royalcomp.hu>
Message-ID: <4B135699.9050004@msoft.cz>

Tamas TEVESZ napsal(a):
> On Mon, 30 Nov 2009, Davor Siklic wrote:
>
>  > siki@siki:~/clipp/harbour/contrib/hbide$ hbmk2 hbide
>
> hbmk2 hbide.hbp
>
>
>   
jeah
so tired after all night work
thank you and sorry to bother

best regards
Davor

From sscc at mweb.co.za  Mon Nov 30 02:34:04 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Nov 30 02:34:18 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13064] trunk/harbour
In-Reply-To: <E1NExCU-0004ku-FJ@3kljzd1.ch3.sourceforge.com>
References: <E1NExCU-0004ku-FJ@3kljzd1.ch3.sourceforge.com>
Message-ID: <4B13756C.1060201@mweb.co.za>

druzus@users.sourceforge.net wrote:

> 2009-11-30 04:45 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>    * harbour/contrib/hbwin/olecore.c
>      + added support for passing OLE pointer item as VT_DISPATCH variants
>      + added support for updating VT_DISPATCH and VT_UNKNOWN parameters
>        passed by reference
>        Please test.

Thank you. I must try and discover how to write something that will do this, I 
will revert to you when I have done so.

Thanks again
Regards
Alex

From M.Horodyski at pzuzycie.com.pl  Mon Nov 30 02:38:02 2009
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Mon Nov 30 02:38:11 2009
Subject: [Harbour] hbvpdf
In-Reply-To: <609353e70911291013g15b7c850j8a8106855bfdf559@mail.gmail.com>
References: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
	<612327.65396.qm@web52207.mail.re2.yahoo.com><6943770e0911290336x7667cad1meb6ba7a20267a2cb@mail.gmail.com>
	<9257026e0911290410x70a6e1e9q50fde778bbf98a7b@mail.gmail.com>
	<6943770e0911290557y2b05d40cu97d88e200cd9bc1c@mail.gmail.com>
	<9257026e0911290854o82c36dfn8fa8e5aab375224b@mail.gmail.com>
	<6943770e0911290946r6c985a5am4d301e0a0fe787fd@mail.gmail.com>
	<1E1A392C-F8B1-423B-9F63-B098C6968033@syenar.hu>
	<609353e70911291013g15b7c850j8a8106855bfdf559@mail.gmail.com>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC29A8@PINK.zycie.pzu>

>-----Original Message-----
>From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
>Sent: Sunday, November 29, 2009 7:14 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] hbvpdf
>
>I have made this routine that is able to convert one or more 
>file asci in txt txt2pdf I hope that maj be usefull for learn 
>http://libharu.sourceforge.net/
>
>compile using hbhpdf.hbc
>/*
>read info abour hbharu at 
>http://libharu.org/wiki/Documentation/API/Graphics
> */
>
>
>
>-------------txt2pdf.prg
>#include "harupdf.ch"
>
>//---------------------------------------------------------------------
-//
>
>Function Main( cFileToRead, cFileToSave )
>  if empty( cFiletoRead )
>     cFiletoRead:= "txt2pdf.prg"
>  endif
>
>  if empty( cFileToSave )
>     cFileToSave := "txt2pdf.pdf"
>  endif
>  HANDLE := fcreate("read.max")

Where is HANDLE defined ?

Regards,
Marek Horodyski
From vszakats at users.sourceforge.net  Mon Nov 30 02:47:55 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 30 02:48:00 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13065] trunk/harbour
Message-ID: <E1NF0zD-0002CL-36@74yxhf1.ch3.sourceforge.com>

Revision: 13065
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13065&view=rev
Author:   vszakats
Date:     2009-11-30 07:47:53 +0000 (Mon, 30 Nov 2009)

Log Message:
-----------
2009-11-30 08:47 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    ! Typos in latest modification.

  * contrib/hbmisc/spd.c
    + Patch by Xavi.

  * utils/hbmk2/hbmk2.prg
    + Added one TODO.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbmisc/spd.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Nov 30 03:18:43 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 30 03:18:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13066]
	trunk/harbour/ChangeLog
Message-ID: <E1NF1T1-0002hJ-Ur@74yxhf1.ch3.sourceforge.com>

Revision: 13066
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13066&view=rev
Author:   vszakats
Date:     2009-11-30 08:18:42 +0000 (Mon, 30 Nov 2009)

Log Message:
-----------
typo in entry. (Sorry)

Modified Paths:
--------------
    trunk/harbour/ChangeLog


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Mon Nov 30 03:30:38 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Nov 30 03:30:47 2009
Subject: [Harbour] hbmk2 on OS/2
In-Reply-To: <E6334462-0B25-485C-B381-815109ED1FFF@syenar.hu>
References: <4B1012AA.1050104@libero.it>
	<E6334462-0B25-485C-B381-815109ED1FFF@syenar.hu>
Message-ID: <4B1382AE.30906@libero.it>

Viktor,

let's see if Przemyslaw has any idea, maybe it is just that the embedded
compiler does not end lines with CR/LF.

Best regards.

Maurilio.

Viktor Szak?ts wrote:
> Hi Maurilio,
> 
>> using hbmk2 on OS/2 I see that is does not use newlines while outputting its
>> activity. It seems to me this issue was addressed in the past and maybe
>> resolved, but I'm not sure. See example:
>>
>> (E:\REPOSITORY\HARBOUR\tests)hbmk2 -mt speedtst.prg
>> hbmk2: Processing environment options: -mt -compiler=gcc
>> hbmk2: Processing configuration: E:\harbour\bin\hbmk.cfg
>> Harbour 2.0.0beta3 (Rev. 13037)
>>                               Copyright (c) 1999-2009, http://www.harbour-proje
>> ct.org/
>>       Compiling 'speedtst.prg'...
>> Lines 1204, Functions/Procedures 79
>>                                   Generating C source output to 'speedtst.c'...
>> Done.
>>
>>
>> This is the exact scree output.
>>
>> It's just a cosmetic issue, anyway if it can be resolved it would be a good thing.
> 
> I've reported this issue a few times, and it's not hbmk2 
> problem, but compiler one (this output directly comes from 
> embedded Harbour compiler). AFAIR it also happens when 
> using MS-DOS version.
> 
> I'd glad to see a fix for this, but I don't know how to fix 
> it myself.
> 
> Brgds,
> Viktor
> 
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From fernando_athayde at yahoo.com.br  Mon Nov 30 04:56:30 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Mon Nov 30 04:56:38 2009
Subject: Res: [Harbour] hbvpdf
In-Reply-To: <FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC29A8@PINK.zycie.pzu>
References: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
	<612327.65396.qm@web52207.mail.re2.yahoo.com><6943770e0911290336x7667cad1meb6ba7a20267a2cb@mail.gmail.com>
	<9257026e0911290410x70a6e1e9q50fde778bbf98a7b@mail.gmail.com>
	<6943770e0911290557y2b05d40cu97d88e200cd9bc1c@mail.gmail.com>
	<9257026e0911290854o82c36dfn8fa8e5aab375224b@mail.gmail.com>
	<6943770e0911290946r6c985a5am4d301e0a0fe787fd@mail.gmail.com>
	<1E1A392C-F8B1-423B-9F63-B098C6968033@syenar.hu>
	<609353e70911291013g15b7c850j8a8106855bfdf559@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC29A8@PINK.zycie.pzu>
Message-ID: <44354.4411.qm@web52207.mail.re2.yahoo.com>

my problem is, i?ve create a function for convertion my txt 2 pdf
but not a simple convert, it analizes all esc/p commands, and change fonts, sizes
spacing, ...
i solve in a moment, i copied hbvpdf fonts into my project, but i don?t see why remove for contrib

Best regards,
Fernando




________________________________
De: Horodyski Marek (PZUZ) <M.Horodyski@pzuzycie.com.pl>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Segunda-feira, 30 de Novembro de 2009 4:38:02
Assunto: RE: [Harbour] hbvpdf

>-----Original Message-----
>From: Massimo Belgrano [mailto:mbelgrano@deltain.it] 
>Sent: Sunday, November 29, 2009 7:14 PM
>To: Harbour Project Main Developer List.
>Subject: Re: [Harbour] hbvpdf
>
>I have made this routine that is able to convert one or more 
>file asci in txt txt2pdf I hope that maj be usefull for learn 
>http://libharu.sourceforge.net/
>
>compile using hbhpdf.hbc
>/*
>read info abour hbharu at 
>http://libharu.org/wiki/Documentation/API/Graphics
> */
>
>
>
>-------------txt2pdf.prg
>#include "harupdf.ch"
>
>//---------------------------------------------------------------------
-//
>
>Function Main( cFileToRead, cFileToSave )
>  if empty( cFiletoRead )
>     cFiletoRead:= "txt2pdf.prg"
>  endif
>
>  if empty( cFileToSave )
>     cFileToSave := "txt2pdf.pdf"
>  endif
>  HANDLE := fcreate("read.max")

Where is HANDLE defined ?

Regards,
Marek Horodyski
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091130/917da551/attachment.html
From fperillo at gmail.com  Mon Nov 30 05:05:09 2009
From: fperillo at gmail.com (francesco perillo)
Date: Mon Nov 30 05:05:17 2009
Subject: [Harbour] hbvpdf
In-Reply-To: <44354.4411.qm@web52207.mail.re2.yahoo.com>
References: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
	<6943770e0911290336x7667cad1meb6ba7a20267a2cb@mail.gmail.com>
	<9257026e0911290410x70a6e1e9q50fde778bbf98a7b@mail.gmail.com>
	<6943770e0911290557y2b05d40cu97d88e200cd9bc1c@mail.gmail.com>
	<9257026e0911290854o82c36dfn8fa8e5aab375224b@mail.gmail.com>
	<6943770e0911290946r6c985a5am4d301e0a0fe787fd@mail.gmail.com>
	<1E1A392C-F8B1-423B-9F63-B098C6968033@syenar.hu>
	<609353e70911291013g15b7c850j8a8106855bfdf559@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC29A8@PINK.zycie.pzu>
	<44354.4411.qm@web52207.mail.re2.yahoo.com>
Message-ID: <6943770e0911300205i136cafa2id5a92934b4c9cf87@mail.gmail.com>

On Mon, Nov 30, 2009 at 10:56 AM, Fernando Athayde
<fernando_athayde@yahoo.com.br> wrote:
>  and change fonts,
> sizes
> spacing, ...
> i solve in a moment, i copied hbvpdf fonts into my project, but i don?t see
> why remove for contrib

What do you mean "copied hbvpdf fonts" ???
... sounds interesting...

Francesco
From fernando_athayde at yahoo.com.br  Mon Nov 30 05:06:08 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Mon Nov 30 05:06:15 2009
Subject: [Harbour] =?iso-8859-1?q?hbmk2_mingw_don=B4t_find_libs?=
In-Reply-To: <44354.4411.qm@web52207.mail.re2.yahoo.com>
References: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
	<612327.65396.qm@web52207.mail.re2.yahoo.com><6943770e0911290336x7667cad1meb6ba7a20267a2cb@mail.gmail.com>
	<9257026e0911290410x70a6e1e9q50fde778bbf98a7b@mail.gmail.com>
	<6943770e0911290557y2b05d40cu97d88e200cd9bc1c@mail.gmail.com>
	<9257026e0911290854o82c36dfn8fa8e5aab375224b@mail.gmail.com>
	<6943770e0911290946r6c985a5am4d301e0a0fe787fd@mail.gmail.com>
	<1E1A392C-F8B1-423B-9F63-B098C6968033@syenar.hu>
	<609353e70911291013g15b7c850j8a8106855bfdf559@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC29A8@PINK.zycie.pzu>
	<44354.4411.qm@web52207.mail.re2.yahoo.com>
Message-ID: <649095.92919.qm@web52204.mail.re2.yahoo.com>

exists liblibmysql.a in my harbour i don?t know how resolve this

E:\HARBOUR_SVN\contrib\hbmysql\tests>hbmk2 test.prg
hbmk2: Processando script local: hbmk.hbm
Harbour 2.0.0beta3 (Rev. 12925)
Copyright (c) 1999-2009, http://www.harbour-project.org/
Compiling 'test.prg'...
Lines 205, Functions/Procedures 1
Generating C source output to 'test.c'... Done.
E:\mingw\BIN\..\lib\gcc\mingw32\3.4.5\..\..\..\..\mingw32\bin\ld.exe: cannot find -lliblibmysql
collect2: ld returned 1 exit status
hbmk2: Erro: Executando linkeditor. 1
gcc.exe test.o hbmk_rcsz6m.o    -mconsole -Wl,--start-group -lhbmysql -lliblibmysql -lhbextern -lhbdebug -lhbvm -lhbrtl -lhblang -lhbcpage -lgtcgi -lgtpca -lgtstd -lgtwin -lgtwvt -lgtgui -lhbrdd -lhbuddall -lhbusrrdd -lrddntx -lrddcdx -lrddnsx -lrddfpt -lhbrdd -lhbhsx -lhbsix -lhbmacro -lhbcplr -lhbpp -lhbcommon -lkernel32 -luser32 -lgdi32 -ladvapi32 -lws2_32 -lwinspool -lcomctl32 -lcomdlg32 -lshell32 -luuid -lole32 -loleaut32 -lmpr -lwinmm -lmapi32 -limm32 -lmsimg32 -lwininet -lhbpcre -lhbzlib  -Wl,--end-group -otest.exe -Le:/harbour_gcc/lib/win/mingw -L../lib

Best Regards,
Fernando



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091130/7cadabe3/attachment-0001.html
From harbour.01 at syenar.hu  Mon Nov 30 05:06:33 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 30 05:06:43 2009
Subject: Res: [Harbour] hbvpdf
In-Reply-To: <44354.4411.qm@web52207.mail.re2.yahoo.com>
References: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
	<612327.65396.qm@web52207.mail.re2.yahoo.com><6943770e0911290336x7667cad1meb6ba7a20267a2cb@mail.gmail.com>
	<9257026e0911290410x70a6e1e9q50fde778bbf98a7b@mail.gmail.com>
	<6943770e0911290557y2b05d40cu97d88e200cd9bc1c@mail.gmail.com>
	<9257026e0911290854o82c36dfn8fa8e5aab375224b@mail.gmail.com>
	<6943770e0911290946r6c985a5am4d301e0a0fe787fd@mail.gmail.com>
	<1E1A392C-F8B1-423B-9F63-B098C6968033@syenar.hu>
	<609353e70911291013g15b7c850j8a8106855bfdf559@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC29A8@PINK.zycie.pzu>
	<44354.4411.qm@web52207.mail.re2.yahoo.com>
Message-ID: <F428FD37-A517-4CB6-AE95-4104131AD97C@syenar.hu>

Fernando,

> my problem is, i?ve create a function for convertion my txt 2 pdf
> but not a simple convert, it analizes all esc/p commands, and change fonts, sizes
> spacing, ...
> i solve in a moment, i copied hbvpdf fonts into my project, but i don?t see why remove for contrib

Because it's an inferior solution (to hbhpdf) 
and which isn't maintained by anyone since long 
years. (except me patching it so that it builds 
under Harbour standards, but it's an ugly piece 
of code with shortages, so I don't use it)

Why are you so bothered? You can keep it 
local if it will be deleted even from examples, 
or you can submit patches to it if this code is 
important for you.

Such complaint letters are a mystery to me.
The whole thing comes for free, out of volunteer 
work of other ppl, so usually a "thank you" (and/or 
god forbid: real contribution) will boost more 
positive feedback than permanent complaining.

Brgds,
Viktor

From fernando_athayde at yahoo.com.br  Mon Nov 30 05:22:48 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Mon Nov 30 05:22:57 2009
Subject: Res: Res: [Harbour] hbvpdf
In-Reply-To: <F428FD37-A517-4CB6-AE95-4104131AD97C@syenar.hu>
References: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
	<612327.65396.qm@web52207.mail.re2.yahoo.com><6943770e0911290336x7667cad1meb6ba7a20267a2cb@mail.gmail.com>
	<9257026e0911290410x70a6e1e9q50fde778bbf98a7b@mail.gmail.com>
	<6943770e0911290557y2b05d40cu97d88e200cd9bc1c@mail.gmail.com>
	<9257026e0911290854o82c36dfn8fa8e5aab375224b@mail.gmail.com>
	<6943770e0911290946r6c985a5am4d301e0a0fe787fd@mail.gmail.com>
	<1E1A392C-F8B1-423B-9F63-B098C6968033@syenar.hu>
	<609353e70911291013g15b7c850j8a8106855bfdf559@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC29A8@PINK.zycie.pzu>
	<44354.4411.qm@web52207.mail.re2.yahoo.com>
	<F428FD37-A517-4CB6-AE95-4104131AD97C@syenar.hu>
Message-ID: <816728.82271.qm@web52208.mail.re2.yahoo.com>

viktor, you not understanding me
i only wanted know why this contrib was cut out, only this
i don?t be bothered, sorry if i tell anything bothered, i?m so sorry
i like about harbour project
I'm not complaining
you guys make a good job, i can?t complaning about anything, because this project mantaining my family
a great hug

Best regards,
Fernando




________________________________
De: Viktor Szak?ts <harbour.01@syenar.hu>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Segunda-feira, 30 de Novembro de 2009 7:06:33
Assunto: Re: Res: [Harbour] hbvpdf

Fernando,

> my problem is, i?ve create a function for convertion my txt 2 pdf
> but not a simple convert, it analizes all esc/p commands, and change fonts, sizes
> spacing, ...
> i solve in a moment, i copied hbvpdf fonts into my project, but i don?t see why remove for contrib

Because it's an inferior solution (to hbhpdf) 
and which isn't maintained by anyone since long 
years. (except me patching it so that it builds 
under Harbour standards, but it's an ugly piece 
of code with shortages, so I don't use it)

Why are you so bothered? You can keep it 
local if it will be deleted even from examples, 
or you can submit patches to it if this code is 
important for you.

Such complaint letters are a mystery to me.
The whole thing comes for free, out of volunteer 
work of other ppl, so usually a "thank you" (and/or 
god forbid: real contribution) will boost more 
positive feedback than permanent complaining.

Brgds,
Viktor

_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091130/503b65ea/attachment.html
From fernando_athayde at yahoo.com.br  Mon Nov 30 05:25:02 2009
From: fernando_athayde at yahoo.com.br (Fernando Athayde)
Date: Mon Nov 30 05:25:08 2009
Subject: Res: [Harbour] hbvpdf
In-Reply-To: <6943770e0911300205i136cafa2id5a92934b4c9cf87@mail.gmail.com>
References: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
	<6943770e0911290336x7667cad1meb6ba7a20267a2cb@mail.gmail.com>
	<9257026e0911290410x70a6e1e9q50fde778bbf98a7b@mail.gmail.com>
	<6943770e0911290557y2b05d40cu97d88e200cd9bc1c@mail.gmail.com>
	<9257026e0911290854o82c36dfn8fa8e5aab375224b@mail.gmail.com>
	<6943770e0911290946r6c985a5am4d301e0a0fe787fd@mail.gmail.com>
	<1E1A392C-F8B1-423B-9F63-B098C6968033@syenar.hu>
	<609353e70911291013g15b7c850j8a8106855bfdf559@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC29A8@PINK.zycie.pzu>
	<44354.4411.qm@web52207.mail.re2.yahoo.com>
	<6943770e0911300205i136cafa2id5a92934b4c9cf87@mail.gmail.com>
Message-ID: <514218.33956.qm@web52201.mail.re2.yahoo.com>

i copied hvpdf*.pdf and .ch into myproject
and functions perfectly
for now i use in this way, but i have to change to hbhpdf

Best regards
Fernando





________________________________
De: francesco perillo <fperillo@gmail.com>
Para: Harbour Project Main Developer List. <harbour@harbour-project.org>
Enviadas: Segunda-feira, 30 de Novembro de 2009 7:05:09
Assunto: Re: [Harbour] hbvpdf

On Mon, Nov 30, 2009 at 10:56 AM, Fernando Athayde
<fernando_athayde@yahoo.com.br> wrote:
>  and change fonts,
> sizes
> spacing, ...
> i solve in a moment, i copied hbvpdf fonts into my project, but i don?t see
> why remove for contrib

What do you mean "copied hbvpdf fonts" ???
... sounds interesting...

Francesco
_______________________________________________
Harbour mailing list (attachment size limit: 40KB)
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour



      ____________________________________________________________________________________
Veja quais s?o os assuntos do momento no Yahoo! +Buscados
http://br.maisbuscados.yahoo.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091130/3582f94e/attachment.html
From fperillo at gmail.com  Mon Nov 30 05:42:18 2009
From: fperillo at gmail.com (francesco perillo)
Date: Mon Nov 30 05:42:25 2009
Subject: [Harbour] hbvpdf
In-Reply-To: <514218.33956.qm@web52201.mail.re2.yahoo.com>
References: <E1NEWM5-0002mg-2N@bj8yhf1.ch3.sourceforge.com>
	<6943770e0911290557y2b05d40cu97d88e200cd9bc1c@mail.gmail.com>
	<9257026e0911290854o82c36dfn8fa8e5aab375224b@mail.gmail.com>
	<6943770e0911290946r6c985a5am4d301e0a0fe787fd@mail.gmail.com>
	<1E1A392C-F8B1-423B-9F63-B098C6968033@syenar.hu>
	<609353e70911291013g15b7c850j8a8106855bfdf559@mail.gmail.com>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC29A8@PINK.zycie.pzu>
	<44354.4411.qm@web52207.mail.re2.yahoo.com>
	<6943770e0911300205i136cafa2id5a92934b4c9cf87@mail.gmail.com>
	<514218.33956.qm@web52201.mail.re2.yahoo.com>
Message-ID: <6943770e0911300242x75904fa2x366c7fd3c56b411b@mail.gmail.com>

> i copied hvpdf*.pdf and .ch into myproject
> and functions perfectly

now I understand... you copied the source files... not the fonts...

>> i solve in a moment, i copied hbvpdf fonts into my project, but i don?t

Francesco
From vszakats at users.sourceforge.net  Mon Nov 30 05:54:01 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 30 05:54:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13067] trunk/harbour
Message-ID: <E1NF3tJ-0005qI-8l@c3vjzd1.ch3.sourceforge.com>

Revision: 13067
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13067&view=rev
Author:   vszakats
Date:     2009-11-30 10:53:51 +0000 (Mon, 30 Nov 2009)

Log Message:
-----------
2009-11-30 11:51 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
  * bin/hb-mkimp.bat
  * contrib/hbqt/hbqt.hbc
  * contrib/hbqt/hbqts.hbc
  * contrib/gtqtc/gtqtcs.hbc
  * contrib/gtqtc/gtqtc.hbc
  * utils/hbmk2/examples/xhgtk.hbc
  * config/global.mk
    + Eliminated HB_DIR_* envvar requirement to find required 3rd
      party component libs.
      This means that it's now enough to only set HB_WITH_* envvars
      to enable HB_BUILD_IMPLIB.
      This should make configuration a lot simpler, and this clears
      the last pending TODO in this area.
      HB_INC_* won't work this way, so please start to migrate to
      HB_WITH_* envvars, the values should stay the same.

  * external/pcre/cnv_o2hb.bat
  * external/pcre/cnv_hb2o.bat
    * Updated comment.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-mkimp.bat
    trunk/harbour/config/global.mk
    trunk/harbour/contrib/gtqtc/gtqtc.hbc
    trunk/harbour/contrib/gtqtc/gtqtcs.hbc
    trunk/harbour/contrib/hbqt/hbqt.hbc
    trunk/harbour/contrib/hbqt/hbqts.hbc
    trunk/harbour/external/pcre/cnv_hb2o.bat
    trunk/harbour/external/pcre/cnv_o2hb.bat
    trunk/harbour/utils/hbmk2/examples/xhgtk.hbc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fperillo at gmail.com  Mon Nov 30 06:00:30 2009
From: fperillo at gmail.com (francesco perillo)
Date: Mon Nov 30 06:00:37 2009
Subject: [Harbour] Error in mpkg_rpm.sh on opensuse 11.1 64bit
Message-ID: <6943770e0911300300h6dfb2d3at2defdf298a2c18c3@mail.gmail.com>

as root user on
openSUSE 11.1 (x86_64)
VERSION = 11.1

command:
   sh  ./mpkg_rpm.sh

./bin/linux/gcc/hbrun --hb:gtcgi ./bin/postinst.prg
! Making /usr/bin/hbmk.cfg...
./bin/postinst.sh
make: execvp: ./bin/postinst.sh: Permission denied
make: *** [install] Error 127
error: Bad exit status from /var/tmp/rpm-tmp.17595 (%install)


RPM build errors:
    Bad exit status from /var/tmp/rpm-tmp.17595 (%install)
From vszakats at users.sourceforge.net  Mon Nov 30 06:04:07 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 30 06:04:13 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13068] trunk/harbour
Message-ID: <E1NF435-00060h-Nb@c3vjzd1.ch3.sourceforge.com>

Revision: 13068
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13068&view=rev
Author:   vszakats
Date:     2009-11-30 11:04:06 +0000 (Mon, 30 Nov 2009)

Log Message:
-----------
2009-11-30 12:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/examples/xhgtk.hbc
    ! Minor correction to prev.
      (still without testing though)

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/examples/xhgtk.hbc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From fperillo at gmail.com  Mon Nov 30 06:42:45 2009
From: fperillo at gmail.com (francesco perillo)
Date: Mon Nov 30 06:42:53 2009
Subject: [Harbour] Re: Error in mpkg_rpm.sh on opensuse 11.1 64bit
In-Reply-To: <6943770e0911300300h6dfb2d3at2defdf298a2c18c3@mail.gmail.com>
References: <6943770e0911300300h6dfb2d3at2defdf298a2c18c3@mail.gmail.com>
Message-ID: <6943770e0911300342m76f4fc85v3288cb6af04e3333@mail.gmail.com>

sorry, solved....
/bin/postinst.sh had no x mode bit...

chmod a+x bin/*.sh solved...

is it normal that I have .sh files without x bit ? I'm getting files
from svn....

Francesco
From vszakats at users.sourceforge.net  Mon Nov 30 07:52:26 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 30 07:52:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13069] trunk/harbour
Message-ID: <E1NF5ju-0000wf-BB@d5vjzd1.ch3.sourceforge.com>

Revision: 13069
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13069&view=rev
Author:   vszakats
Date:     2009-11-30 12:52:25 +0000 (Mon, 30 Nov 2009)

Log Message:
-----------
2009-11-30 13:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * config/global.mk
  * config/bin.mk
  * src/rdd/Makefile
    * Moved central RDD related information to local makefiles.
    - Deleted support for $(HB_DB_DRVEXT) envvar.
      To extend Harbour with RDDs these should be added as
      regular addons, and optionally hbrun rebuilt using hbrun.hbp.
      [ $(HB_DB_DRVEXT) is still used from hbmk script, I didn't 
      touch that part. ]

  * INSTALL
    * Minor.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/bin.mk
    trunk/harbour/config/global.mk
    trunk/harbour/src/rdd/Makefile


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Nov 30 07:57:04 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 30 07:57:11 2009
Subject: [Harbour] Re: Error in mpkg_rpm.sh on opensuse 11.1 64bit
In-Reply-To: <6943770e0911300342m76f4fc85v3288cb6af04e3333@mail.gmail.com>
References: <6943770e0911300300h6dfb2d3at2defdf298a2c18c3@mail.gmail.com>
	<6943770e0911300342m76f4fc85v3288cb6af04e3333@mail.gmail.com>
Message-ID: <20091130125704.GA5721@linux-4bod.home.aster.pl>

On Mon, 30 Nov 2009, francesco perillo wrote:

Hi,

> sorry, solved....
> /bin/postinst.sh had no x mode bit...
> chmod a+x bin/*.sh solved...
> is it normal that I have .sh files without x bit ? I'm getting files
> from svn....

No,

druzus:~/CVS/harbour/harbour# svn pl bin/postinst.sh
Properties on 'bin/postinst.sh':
  svn:executable
  svn:keywords
  svn:eol-style

so bin/postinst.sh has executable attribute but it was removed for
some reasons in your local SVN copy. It's not Harbour releated problem.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Nov 30 07:59:14 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 30 07:59:21 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13069] trunk/harbour
In-Reply-To: <E1NF5ju-0000wf-BB@d5vjzd1.ch3.sourceforge.com>
References: <E1NF5ju-0000wf-BB@d5vjzd1.ch3.sourceforge.com>
Message-ID: <20091130125914.GA5801@linux-4bod.home.aster.pl>

On Mon, 30 Nov 2009, vszakats@users.sourceforge.net wrote:
> Log Message:
> -----------
> 2009-11-30 13:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>   * config/global.mk
>   * config/bin.mk
>   * src/rdd/Makefile
>     * Moved central RDD related information to local makefiles.
>     - Deleted support for $(HB_DB_DRVEXT) envvar.
>       To extend Harbour with RDDs these should be added as
>       regular addons, and optionally hbrun rebuilt using hbrun.hbp.
>       [ $(HB_DB_DRVEXT) is still used from hbmk script, I didn't 
>       touch that part. ]

How I can make it part of harbour.so library?

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Nov 30 08:03:37 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 30 08:03:43 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13070] trunk/harbour
Message-ID: <E1NF5uj-0001Bl-P4@d5vjzd1.ch3.sourceforge.com>

Revision: 13070
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13070&view=rev
Author:   vszakats
Date:     2009-11-30 13:03:30 +0000 (Mon, 30 Nov 2009)

Log Message:
-----------
2009-11-30 14:01 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * mpkg_rpm.sh
  * INSTALL
  * harbour.spec
  * config/global.mk
  * config/detect.mk
    * HB_COMMERCE renamed to HB_BUILD_NOGPLLIB (in sync with existing
      --without option)
    + HB_BUILD_NOGPLLIB now documented in INSTALL.
    ; Please update your enviroment.
    ; BTW, I'm open to other names which are more generic and clearly
      states what we're talking about exactly. Current terminology
      is limited to GPL license.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/config/detect.mk
    trunk/harbour/config/global.mk
    trunk/harbour/harbour.spec
    trunk/harbour/mpkg_rpm.sh


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From sscc at mweb.co.za  Mon Nov 30 08:07:31 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Nov 30 08:07:35 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13064] trunk/harbour
In-Reply-To: <4B13756C.1060201@mweb.co.za>
References: <E1NExCU-0004ku-FJ@3kljzd1.ch3.sourceforge.com>
	<4B13756C.1060201@mweb.co.za>
Message-ID: <4B13C393.1040803@mweb.co.za>

Alex Strickland wrote:
> druzus@users.sourceforge.net wrote:
>
>> 2009-11-30 04:45 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>> * harbour/contrib/hbwin/olecore.c
>> + added support for passing OLE pointer item as VT_DISPATCH variants
>> + added support for updating VT_DISPATCH and VT_UNKNOWN parameters
>> passed by reference
>> Please test.
>
> Thank you. I must try and discover how to write something that will do
> this, I will revert to you when I have done so.

I have been messing about in VS2008 and I can now build a COM dll ok. I can 
consume this simply in VB6 or VS2008. This is good for testing, but I do not 
know how to write some code that would have a return type of IUnknown or 
IDispatch for testing. Can you suggest anything? Sorry, I know this is not 
really your cup of tea.

Regards
Alex
From harbour.01 at syenar.hu  Mon Nov 30 08:11:42 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 30 08:11:53 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13069] trunk/harbour
In-Reply-To: <20091130125914.GA5801@linux-4bod.home.aster.pl>
References: <E1NF5ju-0000wf-BB@d5vjzd1.ch3.sourceforge.com>
	<20091130125914.GA5801@linux-4bod.home.aster.pl>
Message-ID: <EE95684A-C7EB-42DF-8E84-6504C7681F44@syenar.hu>

> On Mon, 30 Nov 2009, vszakats@users.sourceforge.net wrote:
>> Log Message:
>> -----------
>> 2009-11-30 13:49 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>  * config/global.mk
>>  * config/bin.mk
>>  * src/rdd/Makefile
>>    * Moved central RDD related information to local makefiles.
>>    - Deleted support for $(HB_DB_DRVEXT) envvar.
>>      To extend Harbour with RDDs these should be added as
>>      regular addons, and optionally hbrun rebuilt using hbrun.hbp.
>>      [ $(HB_DB_DRVEXT) is still used from hbmk script, I didn't 
>>      touch that part. ]
> 
> How I can make it part of harbour.so library?

I guess the same applies as for all other non-core 
stuff which users want to place into Harbour dynlib.

At this time I don't know what is the generic solution 
for this, but to me it's still an alien idea to create 
customized Harbour dynlibs from core build system.

I mean, if we place other stuff into Harbour dynlib, 
it's not Harbour dynlib anymore (the standard content, 
and interface is changed), but myharbour dynlib at best.

AFAIK Lorenzo solves this by using hb-mkdyn.sh.

The generic solution is pbly something to create dynlibs 
from each contribs/addons, or from a set of contribs/addons, 
named hbcontrib.so / hbaddon.so, where these dynlibs are 
not guaranteed to have any std interface.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Nov 30 08:28:54 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 30 08:29:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13069] trunk/harbour
In-Reply-To: <EE95684A-C7EB-42DF-8E84-6504C7681F44@syenar.hu>
References: <E1NF5ju-0000wf-BB@d5vjzd1.ch3.sourceforge.com>
	<20091130125914.GA5801@linux-4bod.home.aster.pl>
	<EE95684A-C7EB-42DF-8E84-6504C7681F44@syenar.hu>
Message-ID: <46ADF376-F083-46AF-9CC8-53ADD3DE992D@syenar.hu>

>> How I can make it part of harbour.so library?
> 
> I guess the same applies as for all other non-core 
> stuff which users want to place into Harbour dynlib.
> 
> At this time I don't know what is the generic solution 
> for this, but to me it's still an alien idea to create 
> customized Harbour dynlibs from core build system.
> 
> I mean, if we place other stuff into Harbour dynlib, 
> it's not Harbour dynlib anymore (the standard content, 
> and interface is changed), but myharbour dynlib at best.
> 
> AFAIK Lorenzo solves this by using hb-mkdyn.sh.
> 
> The generic solution is pbly something to create dynlibs 
> from each contribs/addons, or from a set of contribs/addons, 
> named hbcontrib.so / hbaddon.so, where these dynlibs are 
> not guaranteed to have any std interface.

Maybe HB_CORE_ADDON_DIRS, HB_CORE_ADDON_LIBS could 
allow for such extensions but it still hits me as wrong 
to extend core like that as it pulls away from the idea 
of having standardized distributions which work the same 
way on all systems. [ Adding support in such way seems 
technically possible by modifying only 3-4 places in make 
system (src/Makefile, config/bin|dyn|lib.mk, but I 
didn't make tests. ]

BTW quick scan tells me that injection of local RDDs to 
harbour.so wasn't possible even before today's removal 
of HB_DB_EXT* vars, at least support was far from complete.
I didn't try it though, so it may have worked by accident.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Nov 30 08:31:27 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 30 08:31:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13069] trunk/harbour
In-Reply-To: <EE95684A-C7EB-42DF-8E84-6504C7681F44@syenar.hu>
References: <E1NF5ju-0000wf-BB@d5vjzd1.ch3.sourceforge.com>
	<20091130125914.GA5801@linux-4bod.home.aster.pl>
	<EE95684A-C7EB-42DF-8E84-6504C7681F44@syenar.hu>
Message-ID: <20091130133127.GA6344@linux-4bod.home.aster.pl>

On Mon, 30 Nov 2009, Szak?ts Viktor wrote:

Hi,

> I guess the same applies as for all other non-core 
> stuff which users want to place into Harbour dynlib.
> 
> At this time I don't know what is the generic solution 
> for this, but to me it's still an alien idea to create 
> customized Harbour dynlibs from core build system.

OK so as workaround I'll reactivate building .so library
in old way activated optionally by some envvar so I can
eays create my own custom build.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Nov 30 08:35:40 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 30 08:36:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13069] trunk/harbour
In-Reply-To: <20091130133127.GA6344@linux-4bod.home.aster.pl>
References: <E1NF5ju-0000wf-BB@d5vjzd1.ch3.sourceforge.com>
	<20091130125914.GA5801@linux-4bod.home.aster.pl>
	<EE95684A-C7EB-42DF-8E84-6504C7681F44@syenar.hu>
	<20091130133127.GA6344@linux-4bod.home.aster.pl>
Message-ID: <54D15566-90A7-4D76-B3E6-BE912F92EFD5@syenar.hu>

>> I guess the same applies as for all other non-core 
>> stuff which users want to place into Harbour dynlib.
>> 
>> At this time I don't know what is the generic solution 
>> for this, but to me it's still an alien idea to create 
>> customized Harbour dynlibs from core build system.
> 
> OK so as workaround I'll reactivate building .so library
> in old way activated optionally by some envvar so I can
> eays create my own custom build.

Pls try to make it generic like extra custom postinst 
action. I'm not sure readding an option specifically 
for this purpose is the best way, since we're back at 
maintaining double logic on SVN. We kept postinst  
exactly for the purpose to allow such local extensions, 
f.e. like this case.

Brgds,
Viktor

From vatzct at polly.com.ua  Mon Nov 30 09:46:52 2009
From: vatzct at polly.com.ua (vatzct)
Date: Mon Nov 30 09:46:36 2009
Subject: [Harbour] Can't start the netio server on windows server 2003
Message-ID: <4B13DADC.2080000@polly.com.ua>

I'm trying to run C:\dev\harbour_svn\contrib\hbnetio\utils\netiosrv.exe 
on windows server 2003 R2 and get: Can't start the netio server.
On win xp and win98 all ok.
What should i do to run hbnetio server?


C:\dev\harbour_svn\contrib\hbnetio\utils\>harbour -build
Harbour 2.0.0beta3 (Rev. 13064)
Copyright (c) 1999-2009, http://www.harbour-project.org/

Harbour Build Info
---------------------------
Version: Harbour 2.0.0beta3 (Rev. 13064)
Compiler: MinGW GNU C 3.4.5 (32-bit)
Platform: Windows XP 5.1.2600 Service Pack 1
PCode version: 0.2
ChangeLog last entry: 2009-11-30 04:45 UTC+0100 Przemyslaw Czerpak 
(druzus/at/pr
iv.onet.pl)
ChangeLog ID: ChangeLog 13064 2009-11-30 03:45:21Z druzus

Built on: Nov 30 2009 08:35:16
Build options:
Language options: (Clipper 5.3) (Clipper 5.x undoc) (Xbase++) (Flagship)
---------------------------


Regards,
Alexey Myronenko
From lorenzo.fiorini at gmail.com  Mon Nov 30 09:50:57 2009
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Nov 30 09:51:04 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13069] trunk/harbour
In-Reply-To: <20091130133127.GA6344@linux-4bod.home.aster.pl>
References: <E1NF5ju-0000wf-BB@d5vjzd1.ch3.sourceforge.com>
	<20091130125914.GA5801@linux-4bod.home.aster.pl>
	<EE95684A-C7EB-42DF-8E84-6504C7681F44@syenar.hu>
	<20091130133127.GA6344@linux-4bod.home.aster.pl>
Message-ID: <9257026e0911300650y5843cf8fqc241ec4b4a21faf@mail.gmail.com>

2009/11/30 Przemys?aw Czerpak <druzus@acn.waw.pl>:

> OK so as workaround I'll reactivate building .so library
> in old way activated optionally by some envvar so I can
> eays create my own custom build.

I do it.
I build with HB_BUILD_DLL=no and I've uncommented the lines in hb-func.sh.

best regards,
Lorenzo
From druzus at users.sourceforge.net  Mon Nov 30 10:52:01 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Nov 30 10:52:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13071] trunk/harbour
Message-ID: <E1NF8Xh-0005i9-6l@bj8yhf1.ch3.sourceforge.com>

Revision: 13071
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13071&view=rev
Author:   druzus
Date:     2009-11-30 15:52:00 +0000 (Mon, 30 Nov 2009)

Log Message:
-----------
2009-11-30 16:51 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/bin/hb-func.sh
    - removed not longer working HB_DB_DRVEXT
    + added HB_USER_DLL_ADDONS which can be used to activate rebuilding
      Harbour shared library in postinst phase with additional libraries
      specified by user in above envvar - it's not officially supported
      functionality but temporary workaround until we will not add some
      more generic support for above feature so I do not document it in
      INSTALL

  * harbour/contrib/hbwin/olecore.c
    + added support for conversion safe arrays with any type variants
      to Harbour - please test

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/bin/hb-func.sh
    trunk/harbour/contrib/hbwin/olecore.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From maurilio.longo at libero.it  Mon Nov 30 11:27:11 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Nov 30 11:27:19 2009
Subject: [Harbour] src/compiler
Message-ID: <4B13F25F.2080200@libero.it>

Przemyslaw,

hb_compile() emits '\n' instead of '\n\r' when it needs to go to the next line.

I think that on OS/2 and on DOS this is not enough to go to the next line
.AND. to column 0.

Shouldn't it use hb_OSNewLine() to fetch the correct EOL to use?

I see such problem on hbmk2 which has this kinf of output:

<pre>
(E:\REPOSITORY\HARBOUR\tests)hbmk2 -mt speedtst.prg
hbmk2: Processing environment options: -mt -compiler=gcc
hbmk2: Processing configuration: E:\harbour\bin\hbmk.cfg
Harbour 2.0.0beta3 (Rev. 13066)
                               Copyright (c) 1999-2009, http://www.harbour-proje
ct.org/
       Compiling 'speedtst.prg'...
Lines 1204, Functions/Procedures 79
                                   Generating C source output to 'speedtst.c'...
 Done.
</pre>

Best regards.

Maurilio.

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From sscc at mweb.co.za  Mon Nov 30 11:33:37 2009
From: sscc at mweb.co.za (Alex Strickland)
Date: Mon Nov 30 11:33:41 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13071] trunk/harbour
In-Reply-To: <E1NF8Xh-0005i9-6l@bj8yhf1.ch3.sourceforge.com>
References: <E1NF8Xh-0005i9-6l@bj8yhf1.ch3.sourceforge.com>
Message-ID: <4B13F3E1.3040001@mweb.co.za>

druzus@users.sourceforge.net wrote:

>    * harbour/contrib/hbwin/olecore.c
>      + added support for conversion safe arrays with any type variants
>        to Harbour - please test

It works! I am simply amazed. This will save me absolute weeks of work on an 
alternative (and not very good) solution.

Thank you.

Regards
Alex

From mbelgrano at deltain.it  Mon Nov 30 11:59:39 2009
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Nov 30 12:00:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13071] trunk/harbour
In-Reply-To: <4B13F3E1.3040001@mweb.co.za>
References: <E1NF8Xh-0005i9-6l@bj8yhf1.ch3.sourceforge.com> 
	<4B13F3E1.3040001@mweb.co.za>
Message-ID: <609353e70911300859nbdf12cv3027232f6ad22640@mail.gmail.com>

hI alex
 can you share your test to better understand?


2009/11/30 Alex Strickland <sscc@mweb.co.za>

> druzus@users.sourceforge.net wrote:
>
>    * harbour/contrib/hbwin/olecore.c
>>     + added support for conversion safe arrays with any type variants
>>       to Harbour - please test
>>
>
> It works! I am simply amazed. This will save me absolute weeks of work on
> an alternative (and not very good) solution.
>
> Thank you.
>
> Regards
> Alex
>
>
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>



-- 
Massimo Belgrano
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20091130/b3739175/attachment.html
From vouchcac at users.sourceforge.net  Mon Nov 30 12:28:13 2009
From: vouchcac at users.sourceforge.net (vouchcac@users.sourceforge.net)
Date: Mon Nov 30 12:28:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13072] trunk/harbour
Message-ID: <E1NFA2n-0007RC-Ov@bj8yhf1.ch3.sourceforge.com>

Revision: 13072
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13072&view=rev
Author:   vouchcac
Date:     2009-11-30 17:28:12 +0000 (Mon, 30 Nov 2009)

Log Message:
-----------
2009-11-30 09:11 UTC-0800 Pritpal Bedi (pritpal@vouchcac.com)
  * contrib/hbide/hbide.prg

  * contrib/hbqt/generator/qt45.qtp

  * contrib/hbqt/hbqt.h
  * contrib/hbqt/hbqt_garbage.h

  * contrib/hbqt/qtgui/filelist.mk
  + contrib/hbqt/qtgui/QPlainTextEdit.cpp
  + contrib/hbqt/qtgui/TQPlainTextEdit.prg

  + contrib/hbqt/qth/QPlainTextEdit.qth

  * contrib/hbxbp/xbplistbox.prg
  * contrib/hbxbp/xbptabpage.prg

    + Added QPlainTextEdit class.
      This class is now used in HBIDE instead of QTextEdit as it is 
      highly optimized for large text documents and is considerably faster.

    + Implemented tooltips for XbpListBox() class while mouse is hovered 
      upon an item. The expression is manifest i HBIDE's <Function List> exactly
      as is with xMate.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbide/hbide.prg
    trunk/harbour/contrib/hbqt/generator/qt45.qtp
    trunk/harbour/contrib/hbqt/hbqt.h
    trunk/harbour/contrib/hbqt/hbqt_garbage.h
    trunk/harbour/contrib/hbqt/qtgui/filelist.mk
    trunk/harbour/contrib/hbxbp/xbplistbox.prg
    trunk/harbour/contrib/hbxbp/xbptabpage.prg

Added Paths:
-----------
    trunk/harbour/contrib/hbqt/qtgui/QPlainTextEdit.cpp
    trunk/harbour/contrib/hbqt/qtgui/TQPlainTextEdit.prg
    trunk/harbour/contrib/hbqt/qth/QPlainTextEdit.qth


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From druzus at acn.waw.pl  Mon Nov 30 13:16:59 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 30 13:17:06 2009
Subject: [Harbour] src/compiler
In-Reply-To: <4B13F25F.2080200@libero.it>
References: <4B13F25F.2080200@libero.it>
Message-ID: <20091130181659.GA19530@linux-4bod.home.aster.pl>

On Mon, 30 Nov 2009, Maurilio Longo wrote:

Hi,

> hb_compile() emits '\n' instead of '\n\r' when it needs to go to the next line.
> I think that on OS/2 and on DOS this is not enough to go to the next line
> .AND. to column 0.
> Shouldn't it use hb_OSNewLine() to fetch the correct EOL to use?

"\n" is correct. Please note that using standalone compiler with
exactly the same code you do not have stairs effect problem.
Just simply by default "\n" in stdout and stderr streams are
automatically translated to "\r\n" if it's necessary.

> I see such problem on hbmk2 which has this kinf of output:
> <pre>
> (E:\REPOSITORY\HARBOUR\tests)hbmk2 -mt speedtst.prg
> hbmk2: Processing environment options: -mt -compiler=gcc
> hbmk2: Processing configuration: E:\harbour\bin\hbmk.cfg
> Harbour 2.0.0beta3 (Rev. 13066)
>                                Copyright (c) 1999-2009, http://www.harbour-proje
> ct.org/
>        Compiling 'speedtst.prg'...
> Lines 1204, Functions/Procedures 79
>                                    Generating C source output to 'speedtst.c'...
>  Done.
> </pre>

The problem is caused by:
   hb_fsSetDevMode( s_hFilenoStdout, FD_BINARY );
   hb_fsSetDevMode( s_hFilenoStderr, FD_BINARY );
inside src/rtl/console.c
We can remove it or add function to revert this setting on user request,
i.e. add this functions to src/rtl/console.c:

   HB_FUNC( HB_STDTEXTMODE )
   {
      USHORT uiDevMode = hb_parldef( 1, TRUE ) ? FD_TEXT : FD_BINARY;

      hb_fsSetDevMode( s_hFilenoStdout, uiDevMode );
      hb_fsSetDevMode( s_hFilenoStderr, uiDevMode );
   }

and then to hbmk2.prg:
   hb_stdTextMode( .T. )
Just before calling hb_compile() and then revert it.
You can also make it globally but in such case you will have to replace
hb_osNewLine() in HBMK2 output with simple e"\n" ( chr( 10 ) )

BTW for me more important is removing space padding in hbmk2 output,
i.e. try to redirect any hbmk2 output to file to see it.
It badly interacts with tools which allows to catch some data from
application output, i.e. even simple mouse mark and past in terminal
window is confused by this spaces and cannot select text only.
Additionally when terminal window has less then 80 columns the text
is wrongly formatted.

best regards,
Przemek
From maurilio.longo at libero.it  Mon Nov 30 13:21:32 2009
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Nov 30 13:21:40 2009
Subject: [Harbour] src/compiler
In-Reply-To: <20091130181659.GA19530@linux-4bod.home.aster.pl>
References: <4B13F25F.2080200@libero.it>
	<20091130181659.GA19530@linux-4bod.home.aster.pl>
Message-ID: <4B140D2C.1060101@libero.it>

Przemyslaw,

could it be that OS/2 and DOS always require stdout/stderr to be in text mode?

Maurilio.

Przemys?aw Czerpak wrote:
> On Mon, 30 Nov 2009, Maurilio Longo wrote:
> 
> Hi,
> 
>> hb_compile() emits '\n' instead of '\n\r' when it needs to go to the next line.
>> I think that on OS/2 and on DOS this is not enough to go to the next line
>> .AND. to column 0.
>> Shouldn't it use hb_OSNewLine() to fetch the correct EOL to use?
> 
> "\n" is correct. Please note that using standalone compiler with
> exactly the same code you do not have stairs effect problem.
> Just simply by default "\n" in stdout and stderr streams are
> automatically translated to "\r\n" if it's necessary.
> 
>> I see such problem on hbmk2 which has this kinf of output:
>> <pre>
>> (E:\REPOSITORY\HARBOUR\tests)hbmk2 -mt speedtst.prg
>> hbmk2: Processing environment options: -mt -compiler=gcc
>> hbmk2: Processing configuration: E:\harbour\bin\hbmk.cfg
>> Harbour 2.0.0beta3 (Rev. 13066)
>>                                Copyright (c) 1999-2009, http://www.harbour-proje
>> ct.org/
>>        Compiling 'speedtst.prg'...
>> Lines 1204, Functions/Procedures 79
>>                                    Generating C source output to 'speedtst.c'...
>>  Done.
>> </pre>
> 
> The problem is caused by:
>    hb_fsSetDevMode( s_hFilenoStdout, FD_BINARY );
>    hb_fsSetDevMode( s_hFilenoStderr, FD_BINARY );
> inside src/rtl/console.c
> We can remove it or add function to revert this setting on user request,
> i.e. add this functions to src/rtl/console.c:
> 
>    HB_FUNC( HB_STDTEXTMODE )
>    {
>       USHORT uiDevMode = hb_parldef( 1, TRUE ) ? FD_TEXT : FD_BINARY;
> 
>       hb_fsSetDevMode( s_hFilenoStdout, uiDevMode );
>       hb_fsSetDevMode( s_hFilenoStderr, uiDevMode );
>    }
> 
> and then to hbmk2.prg:
>    hb_stdTextMode( .T. )
> Just before calling hb_compile() and then revert it.
> You can also make it globally but in such case you will have to replace
> hb_osNewLine() in HBMK2 output with simple e"\n" ( chr( 10 ) )
> 
> BTW for me more important is removing space padding in hbmk2 output,
> i.e. try to redirect any hbmk2 output to file to see it.
> It badly interacts with tools which allows to catch some data from
> application output, i.e. even simple mouse mark and past in terminal
> window is confused by this spaces and cannot select text only.
> Additionally when terminal window has less then 80 columns the text
> is wrongly formatted.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

-- 
 __________
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.


From qiinfo at ig.com.br  Mon Nov 30 13:28:17 2009
From: qiinfo at ig.com.br (Rossine)
Date: Mon Nov 30 13:28:24 2009
Subject: [Harbour] Error with last version
Message-ID: <26579544.post@talk.nabble.com>


Hello,

I see this error in last version:

[ERRORS]
...
Error E2303 ../../../../../include\hbapi.h 937: Type name expected
Error E2303 ../../../../../include\hbapi.h 938: Type name expected
*** 20 errors in Compile ***
mingw32-make[3]: *** [_hbhbpdf.obj] Error 1
mingw32-make[2]: *** [descend] Error 2
mingw32-make[1]: *** [libhpdf.inst] Error 2
mingw32-make: *** [external.inst] Error 2
[ENDERRORS]

I use BCC.

Regards,

Rossine.

-- 
View this message in context: http://old.nabble.com/Error-with-last-version-tp26579544p26579544.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Mon Nov 30 13:44:35 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 30 13:44:44 2009
Subject: [Harbour] src/compiler
In-Reply-To: <4B140D2C.1060101@libero.it>
References: <4B13F25F.2080200@libero.it>
	<20091130181659.GA19530@linux-4bod.home.aster.pl>
	<4B140D2C.1060101@libero.it>
Message-ID: <20091130184435.GA20742@linux-4bod.home.aster.pl>

On Mon, 30 Nov 2009, Maurilio Longo wrote:

Hi,

> could it be that OS/2 and DOS always require stdout/stderr to be in text mode?

This function has effect only on non POSIX compliant systems which
does not use "\n" as EOL and allows to enable automatic translation
for "\n" into "\r\n" so it works only in DOS, MS-WINDOWS and OS/2.
Clipper by default set 0, 1 and 2 descriptors into binary mode
disabling such translations so we are Clipper compatible now.
It means that if you will try to execute any code which expects
that "\n" will be translated to "\r\n" then just like in Clipper
it will not work correctly. But it does not mean that we should
change default BINARY mode to TEXT mode in DOS/WIN/OS2 builds.
We cannot make it because it breaks output in exiting Clipper
compatible code changing "\r\n" into "\r\r\n".

best regards,
Przemek
From druzus at acn.waw.pl  Mon Nov 30 14:23:08 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 30 14:23:16 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu>
References: <20091127025737.GA511@linux-4bod.home.aster.pl>
	<4B0F4142.3040808@dbtopas.lt>
	<20091127031024.GA1265@linux-4bod.home.aster.pl>
	<20091127031751.GA1504@linux-4bod.home.aster.pl>
	<4B0F458B.50201@dbtopas.lt> <4B0F93B7.7000208@mweb.co.za>
	<4B0F9607.2030804@mweb.co.za>
	<20091127175338.GA22154@linux-4bod.home.aster.pl>
	<FFAFD6EA63A3FC4784FBDA52BE7A7C9502AC297D@PINK.zycie.pzu>
	<CC630377-92FA-40E2-9542-5A32C23F68B6@syenar.hu>
Message-ID: <20091130192308.GA22293@linux-4bod.home.aster.pl>

On Sat, 28 Nov 2009, Szak?ts Viktor wrote:

Hi,

> >> documented RTE which can substitute result so it can be easy 
> >> caught by user and if necessary he can set his own preferable 
> >> value for such unknown OLE variant.
> >> What it group opinion here?
> > +1 to Nil (if I have a voice)
> I also prefer NIL (or some other distinctive error 
> value) than RTE.

This is current behavior.
Anyhow now we are supporting nearly all VARIANT types so such RTE can
appear rather seldom and can greatly help to locate possible problems.
Please note that it's possible that we moved RDDADO code from contrib
to example due to problems in HBWIN OLE code unnoticed because such
RTE was not generated.
BTW I'm still waiting for verification of reported RDDADO problems
with current HBWIN OLE code. Can some MS-Windows users check it?

best regards,
Przemek
From druzus at users.sourceforge.net  Mon Nov 30 14:29:39 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Nov 30 14:29:45 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13073] trunk/harbour
Message-ID: <E1NFBwJ-00068h-6v@c3vjzd1.ch3.sourceforge.com>

Revision: 13073
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13073&view=rev
Author:   druzus
Date:     2009-11-30 19:29:38 +0000 (Mon, 30 Nov 2009)

Log Message:
-----------
2009-11-30 20:29 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/xhb/hbcompat.ch
    + added translations for hb_cdpSelect()<->hb_SetCodepage()

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/xhb/hbcompat.ch


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From snaiperis at users.sourceforge.net  Mon Nov 30 14:33:58 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Mon Nov 30 14:34:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13074] trunk/harbour
Message-ID: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>

Revision: 13074
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13074&view=rev
Author:   snaiperis
Date:     2009-11-30 19:33:57 +0000 (Mon, 30 Nov 2009)

Log Message:
-----------
2009-11-30 21:31 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  + harbour/contrib/hbcairo
  + harbour/contrib/hbcairo/Makefile
  + harbour/contrib/hbcairo/context.c
  + harbour/contrib/hbcairo/core.c
  + harbour/contrib/hbcairo/imgae.c
  + harbour/contrib/hbcairo/paths.c
  + harbour/contrib/hbcairo/pdf.c
  + harbour/contrib/hbcairo/png.c
  + harbour/contrib/hbcairo/text.c
  + harbour/contrib/hbcairo/hbcairo.ch
  + harbour/contrib/hbcairo/hbcairo.h
    + Added Cairo graphics library
    ; It's a 2D graphic library that makes drawing commands platform 
      independent. Supported backends are: memory image, PDF, PNG, PS, 
      Win32 DC, SVG, Quartz, Xlib, started Qt development. I.e., you 
      can forget if you are drawing on screen, printer, PDF, or image
      file from know. GTK and FireFox are only a sample of well-known 
      library/application that uses Cairo as rendering engine.
    ; Webpage: http://cairoprahics.org
    ; Binaries, development files and related packages (ex., libpng) for 
      Windows can be found at http://www.gtk.org/download-windows.html
    ; I've used multiple .c files so store Harbour level functions. 
      Functions are split into source files using help sections of
      original Cairo docs (http://cairographics.org/manual/)
    ; You'll find the full documentation on Cairo webpage. Only a few 
      functions are spesific to Harbour and could not be found in 
      original documentaion. It accesses C language structures of Cairo 
      library. These functions are:
         cairo_path_iterator_create( hPath ) --> hIterator
         cairo_path_iterator_next( hIterator ) --> nType | NIL
         cairo_path_iterator_get_points( hIterator ) --> aPoints
         cairo_path_iterator_set_points( hIterator, aPoints ) --> lOk
    ; Internal Cairo pointers/handlers are implemented using collectible 
      pointers. It is destroyed after is not visible to probram any more.
      Though original functions cairo_*_destroy() are also implemeted for 
      those, who wants to make it code clean.
    ; TOCHECK: GC pointers implementation, HB_USE_ITEM define.
    ; TODO: I've implemted not all functions of Cairo. Actually, the 
      minority, but it's enough to do some fancy things.
    ; TODO: Makefile support. I've completely failed to make a working 
      make system. I can compile library by copying Cairo *.h files into 
      source folder and making .dll import library manualy. I guess 
      Viktor can solve the issues in 3 minutes.

  + harbour/contrib/hbcairo/tests
  + harbour/contrib/hbcairo/tests/hbmk.hbm
  + harbour/contrib/hbcairo/tests/fancytxt.prg
  + harbour/contrib/hbcairo/tests/glyphdbg.prg
  + harbour/contrib/hbcairo/tests/hellow.prg
  + harbour/contrib/hbcairo/tests/table.prg
    + added a few samples to generate .pdf/.png images
    ; NOTE: one of the things that make me to spend 3 days for doing this 
      commit is never ending emails about .pdf library problems on 
      developers mailing list. I'm using Cairo for a few years, I've 
      mentioned it a few time on mailing list, but people does not look
      at it before you do not show the final result. I hope this library 
      will be helpful for many, and test code will show both basic 
      (every day required) and fancy things you can do with Cairo.

Modified Paths:
--------------
    trunk/harbour/ChangeLog

Added Paths:
-----------
    trunk/harbour/contrib/hbcairo/
    trunk/harbour/contrib/hbcairo/Makefile
    trunk/harbour/contrib/hbcairo/context.c
    trunk/harbour/contrib/hbcairo/core.c
    trunk/harbour/contrib/hbcairo/hbcairo.ch
    trunk/harbour/contrib/hbcairo/hbcairo.h
    trunk/harbour/contrib/hbcairo/hbcairo.hbc
    trunk/harbour/contrib/hbcairo/image.c
    trunk/harbour/contrib/hbcairo/paths.c
    trunk/harbour/contrib/hbcairo/pdf.c
    trunk/harbour/contrib/hbcairo/png.c
    trunk/harbour/contrib/hbcairo/tests/
    trunk/harbour/contrib/hbcairo/tests/fancytxt.prg
    trunk/harbour/contrib/hbcairo/tests/glyphdbg.prg
    trunk/harbour/contrib/hbcairo/tests/hbmk.hbm
    trunk/harbour/contrib/hbcairo/tests/hellow.prg
    trunk/harbour/contrib/hbcairo/tests/table.prg
    trunk/harbour/contrib/hbcairo/text.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Mon Nov 30 14:36:36 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 14:38:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13074] trunk/harbour
In-Reply-To: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>
References: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>
Message-ID: <4B141EC4.1040901@dbtopas.lt>

Hi,

> 2009-11-30 21:31 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
>   + harbour/contrib/hbcairo

Since make system is not yet read and some people can experience 
problems building this library and tests, I'll send a few samples test 
code results to the mailing list.


Regards,
Mindaugas
-------------- next part --------------
A non-text attachment was scrubbed...
Name: table.pdf
Type: application/pdf
Size: 28778 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091130/3b5bd8b2/table-0001.pdf
-------------- next part --------------
A non-text attachment was scrubbed...
Name: glyphdbg.pdf
Type: application/pdf
Size: 4797 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091130/3b5bd8b2/glyphdbg-0001.pdf
From dbtopas at dbtopas.lt  Mon Nov 30 14:37:24 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 14:39:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13074] trunk/harbour
In-Reply-To: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>
References: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>
Message-ID: <4B141EF4.4090007@dbtopas.lt>

Sample test code results. Part 2
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hellow.pdf
Type: application/pdf
Size: 19833 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091130/d26dce9f/hellow-0001.pdf
-------------- next part --------------
A non-text attachment was scrubbed...
Name: fancytxt.pdf
Type: application/pdf
Size: 16200 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20091130/d26dce9f/fancytxt-0001.pdf
From dbtopas at dbtopas.lt  Mon Nov 30 14:45:36 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 14:47:26 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13074] trunk/harbour
In-Reply-To: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>
References: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>
Message-ID: <4B1420E0.2060003@dbtopas.lt>

Hi,


> 2009-11-30 21:31 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
>   + harbour/contrib/hbcairo

I'll write down a few issues I found in hbcairo development.

1) #include "std.ch" generates compile time errors.

2) I'm a little confused how to implement GC pointers. So, I've 
implemented two version in hbcairo/core.c. It can be selected [not]using 
HB_USE_ITEM define. In current code the switch is not defined and more 
"low level" version is used (actually, I even forgot to test using 
HB_USE_ITEM). Are these GC pointer implementations correct? A few 
subquestions are:

2a) hb_gcRefInc()/hb_gcRefDec() is required without HB_USE_ITEM. This 
requires define _HB_API_INTERNAL_. Is this OK?

2b) In function CAIRO_PATH_ITERATOR_CREATE() new item is created using: 
pIterator->pPath = hb_itemNew( hb_param( 1, HB_IT_POINTER ) );

2c) Does pIterator->pPath need to be unlocked in case 2b? I will mark it!

2d) If it remains locked, then hb_gcGripMark( pIterator->pPath ) in mark 
function is not necessary?

2e) Can I be sure that inside CAIRO_PATH_ITERATOR_NEXT() pPath is a 
valid (not destroyed path)? (both with and without HB_USE_ITEM)

3)What is correct way to code:
    pCairo = hb_cairo_par( 1 ); // generate RTE if parameter is wrong
    if( pData )
       cairo_something( pCairo );
or this is also ok?:
     cairo_something( hb_cairo_par( 1 ) );

4) Should implementation of procedures end with hb_ret(); ?


Regards,
Mindaugas
From snaiperis at users.sourceforge.net  Mon Nov 30 14:55:49 2009
From: snaiperis at users.sourceforge.net (snaiperis@users.sourceforge.net)
Date: Mon Nov 30 14:55:56 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13075] trunk/harbour
Message-ID: <E1NFCLd-0007Tk-KK@dn4whf1.ch3.sourceforge.com>

Revision: 13075
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13075&view=rev
Author:   snaiperis
Date:     2009-11-30 19:55:34 +0000 (Mon, 30 Nov 2009)

Log Message:
-----------
2009-11-30 21:51 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
  * harbour/contrib/hbcairo/core.c
  * harbour/contrib/hbcairo/test/fancytxt.prg
    * formatting, deleted development comments

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbcairo/core.c
    trunk/harbour/contrib/hbcairo/tests/fancytxt.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Mon Nov 30 15:07:49 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 15:09:38 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <20091128122918.GA21813@linux-4bod.home.aster.pl>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>	<4B0F2E25.5090003@dbtopas.lt>	<20091127025737.GA511@linux-4bod.home.aster.pl>	<4B0F4142.3040808@dbtopas.lt>	<20091127031024.GA1265@linux-4bod.home.aster.pl>	<4B0F44BD.30302@dbtopas.lt>	<20091127034152.GA1842@linux-4bod.home.aster.pl>	<4B0F4E4B.4030103@dbtopas.lt>
	<20091128122918.GA21813@linux-4bod.home.aster.pl>
Message-ID: <4B142615.2060409@dbtopas.lt>

Hi,

Hi,


Przemys?aw Czerpak wrote:
>>> BTW in MS documentation dimensions are stored in 'unsigned int' instead
>>> of 'int'. Maybe we should follow it?
>> So, it's long, not unsigned int. But the most strange thing is that
>> SafeArrayGetDim return HRESULT. Sounds like a handler, and this
>> stopped me from beeper analysis. I just used int. Actually it was a
>> bad idea, to not check real type.
> 
> It's not the first or last place where MS mixed different types.

Yes, perhaps type should be unsigned int. HRESULT is a "general" return 
value, since MS uses type casting anythere. I my code I even have functions:
void* hb_parnptr( int iParam )
{
    if( ISPOINTER( iParam ) )
       return hb_parptr( iParam );

    if( ISCHAR( iParam ) )
       return ( void* ) hb_parc( iParam );

    if( ISNUM( iParam ) )
       return ( void* ) hb_parnl( iParam );

    return NULL;
}

const char* hb_parcword( int iParam )
{
    if( ISCHAR( iParam ) )
       return hb_parc( iParam );

    if( ISNUM( iParam ) )
       return ( const char* ) ( short ) hb_parni( iParam );

    return NULL;
}

because it is common to use numeric casting to pointers and so on...


> BTW I have question about code in axcore.c.
> In function __AXDOVERB() we have call to QueryInterface() but without
> call to Release(). Shouldn't we add at axcore.c[213]:
>       HB_VTBL( lpOleObject )->Release( HB_THIS( lpOleObject ) );

Yes, of cause.


> 2009-11-28 13:27 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/contrib/hbwin/olecore.c 
>     ! fixed typo in last commit 

I guess it is only cosmetic change, because both punkVal and pdispVal 
are the two interfaces of the same object. I do not see the difference, 
though, this could be more nice form, because punkVal is contained 
inside VARIANT and will be freed on VariantClear() later.


Regards,
Mindaugas

From harbour.01 at syenar.hu  Mon Nov 30 15:36:19 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 30 15:36:30 2009
Subject: [Harbour] src/compiler
In-Reply-To: <20091130181659.GA19530@linux-4bod.home.aster.pl>
References: <4B13F25F.2080200@libero.it>
	<20091130181659.GA19530@linux-4bod.home.aster.pl>
Message-ID: <617D0310-FE72-4C98-B002-C1C8F8BCB7A0@syenar.hu>

> "\n" is correct. Please note that using standalone compiler with
> exactly the same code you do not have stairs effect problem.
> Just simply by default "\n" in stdout and stderr streams are
> automatically translated to "\r\n" if it's necessary.
> 
>> I see such problem on hbmk2 which has this kinf of output:
>> <pre>
>> (E:\REPOSITORY\HARBOUR\tests)hbmk2 -mt speedtst.prg
>> hbmk2: Processing environment options: -mt -compiler=gcc
>> hbmk2: Processing configuration: E:\harbour\bin\hbmk.cfg
>> Harbour 2.0.0beta3 (Rev. 13066)
>>                               Copyright (c) 1999-2009, http://www.harbour-proje
>> ct.org/
>>       Compiling 'speedtst.prg'...
>> Lines 1204, Functions/Procedures 79
>>                                   Generating C source output to 'speedtst.c'...
>> Done.
>> </pre>
> 
> The problem is caused by:
>   hb_fsSetDevMode( s_hFilenoStdout, FD_BINARY );
>   hb_fsSetDevMode( s_hFilenoStderr, FD_BINARY );
> inside src/rtl/console.c
> We can remove it or add function to revert this setting on user request,
> i.e. add this functions to src/rtl/console.c:
> 
>   HB_FUNC( HB_STDTEXTMODE )
>   {
>      USHORT uiDevMode = hb_parldef( 1, TRUE ) ? FD_TEXT : FD_BINARY;
> 
>      hb_fsSetDevMode( s_hFilenoStdout, uiDevMode );
>      hb_fsSetDevMode( s_hFilenoStderr, uiDevMode );
>   }
> 
> and then to hbmk2.prg:
>   hb_stdTextMode( .T. )
> Just before calling hb_compile() and then revert it.
> You can also make it globally but in such case you will have to replace
> hb_osNewLine() in HBMK2 output with simple e"\n" ( chr( 10 ) )

I can't decide which is better. Both look terribly hacky 
and ugly to me. (sry)

> BTW for me more important is removing space padding in hbmk2 output,
> i.e. try to redirect any hbmk2 output to file to see it.

If you mean left padding, it's there to spit out 
readable output. If you just dump all long lines to 
terminal, it would look like an ugly mess. (that's 
where I started from)

> It badly interacts with tools which allows to catch some data from
> application output, i.e. even simple mouse mark and past in terminal
> window is confused by this spaces and cannot select text only.
> Additionally when terminal window has less then 80 columns the text
> is wrongly formatted.

I use MaxCol() to determine screen width. There is no 
any sort of 80 columns limit I'm aware of.

Help can look ugly below ~30 columns, that's true.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Nov 30 15:51:38 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 30 15:51:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13074] trunk/harbour
In-Reply-To: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>
References: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>
Message-ID: <5428A8E1-D6A2-4B81-A9F3-0E9455E5968A@syenar.hu>

Hi Mindaugas,

That's great.

Is it possible to link cairo lib statically to final commercial apps?

Brgds,
Viktor 

On 2009 Nov 30, at 20:33, snaiperis@users.sourceforge.net wrote:

> Revision: 13074
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13074&view=rev
> Author:   snaiperis
> Date:     2009-11-30 19:33:57 +0000 (Mon, 30 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-30 21:31 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
>  + harbour/contrib/hbcairo
>  + harbour/contrib/hbcairo/Makefile
>  + harbour/contrib/hbcairo/context.c
>  + harbour/contrib/hbcairo/core.c
>  + harbour/contrib/hbcairo/imgae.c
>  + harbour/contrib/hbcairo/paths.c
>  + harbour/contrib/hbcairo/pdf.c
>  + harbour/contrib/hbcairo/png.c
>  + harbour/contrib/hbcairo/text.c
>  + harbour/contrib/hbcairo/hbcairo.ch
>  + harbour/contrib/hbcairo/hbcairo.h
>    + Added Cairo graphics library
>    ; It's a 2D graphic library that makes drawing commands platform 
>      independent. Supported backends are: memory image, PDF, PNG, PS, 
>      Win32 DC, SVG, Quartz, Xlib, started Qt development. I.e., you 
>      can forget if you are drawing on screen, printer, PDF, or image
>      file from know. GTK and FireFox are only a sample of well-known 
>      library/application that uses Cairo as rendering engine.
>    ; Webpage: http://cairoprahics.org
>    ; Binaries, development files and related packages (ex., libpng) for 
>      Windows can be found at http://www.gtk.org/download-windows.html
>    ; I've used multiple .c files so store Harbour level functions. 
>      Functions are split into source files using help sections of
>      original Cairo docs (http://cairographics.org/manual/)
>    ; You'll find the full documentation on Cairo webpage. Only a few 
>      functions are spesific to Harbour and could not be found in 
>      original documentaion. It accesses C language structures of Cairo 
>      library. These functions are:
>         cairo_path_iterator_create( hPath ) --> hIterator
>         cairo_path_iterator_next( hIterator ) --> nType | NIL
>         cairo_path_iterator_get_points( hIterator ) --> aPoints
>         cairo_path_iterator_set_points( hIterator, aPoints ) --> lOk
>    ; Internal Cairo pointers/handlers are implemented using collectible 
>      pointers. It is destroyed after is not visible to probram any more.
>      Though original functions cairo_*_destroy() are also implemeted for 
>      those, who wants to make it code clean.
>    ; TOCHECK: GC pointers implementation, HB_USE_ITEM define.
>    ; TODO: I've implemted not all functions of Cairo. Actually, the 
>      minority, but it's enough to do some fancy things.
>    ; TODO: Makefile support. I've completely failed to make a working 
>      make system. I can compile library by copying Cairo *.h files into 
>      source folder and making .dll import library manualy. I guess 
>      Viktor can solve the issues in 3 minutes.
> 
>  + harbour/contrib/hbcairo/tests
>  + harbour/contrib/hbcairo/tests/hbmk.hbm
>  + harbour/contrib/hbcairo/tests/fancytxt.prg
>  + harbour/contrib/hbcairo/tests/glyphdbg.prg
>  + harbour/contrib/hbcairo/tests/hellow.prg
>  + harbour/contrib/hbcairo/tests/table.prg
>    + added a few samples to generate .pdf/.png images
>    ; NOTE: one of the things that make me to spend 3 days for doing this 
>      commit is never ending emails about .pdf library problems on 
>      developers mailing list. I'm using Cairo for a few years, I've 
>      mentioned it a few time on mailing list, but people does not look
>      at it before you do not show the final result. I hope this library 
>      will be helpful for many, and test code will show both basic 
>      (every day required) and fancy things you can do with Cairo.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
> 
> Added Paths:
> -----------
>    trunk/harbour/contrib/hbcairo/
>    trunk/harbour/contrib/hbcairo/Makefile
>    trunk/harbour/contrib/hbcairo/context.c
>    trunk/harbour/contrib/hbcairo/core.c
>    trunk/harbour/contrib/hbcairo/hbcairo.ch
>    trunk/harbour/contrib/hbcairo/hbcairo.h
>    trunk/harbour/contrib/hbcairo/hbcairo.hbc
>    trunk/harbour/contrib/hbcairo/image.c
>    trunk/harbour/contrib/hbcairo/paths.c
>    trunk/harbour/contrib/hbcairo/pdf.c
>    trunk/harbour/contrib/hbcairo/png.c
>    trunk/harbour/contrib/hbcairo/tests/
>    trunk/harbour/contrib/hbcairo/tests/fancytxt.prg
>    trunk/harbour/contrib/hbcairo/tests/glyphdbg.prg
>    trunk/harbour/contrib/hbcairo/tests/hbmk.hbm
>    trunk/harbour/contrib/hbcairo/tests/hellow.prg
>    trunk/harbour/contrib/hbcairo/tests/table.prg
>    trunk/harbour/contrib/hbcairo/text.c
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Nov 30 15:55:18 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 30 15:55:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13074] trunk/harbour
In-Reply-To: <4B1420E0.2060003@dbtopas.lt>
References: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>
	<4B1420E0.2060003@dbtopas.lt>
Message-ID: <D7D2E377-5553-4BA1-926F-3DC45B8B86ED@syenar.hu>

> 4) Should implementation of procedures end with hb_ret(); ?

No. It's a dummy call. Only use it if you want to 
make clear in a function that there is no value 
to return. The only places where this is meaningful, 
is when a function can return both value and non-value 
(which is NIL). In this case it's good to use it, 
otherwise some reviewers might think a hb_ret*() 
function is missing.

It should not be added to functions which never 
return anything (PROCs). It just clutters code.

Brgds,
Viktor

From dbtopas at dbtopas.lt  Mon Nov 30 16:15:46 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 16:17:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13074] trunk/harbour
In-Reply-To: <5428A8E1-D6A2-4B81-A9F3-0E9455E5968A@syenar.hu>
References: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>
	<5428A8E1-D6A2-4B81-A9F3-0E9455E5968A@syenar.hu>
Message-ID: <4B143602.7050508@dbtopas.lt>

Hi,


Viktor Szak?ts wrote:
> Is it possible to link cairo lib statically to final commercial apps?

It's GNU Lesser General Public License (LGPL) version 2.1 or the Mozilla 
Public License (MPL) version 1.1. So, for sure it can be used as a 
separate .dll 860KB (your exe will find it if have for example GIMP in 
your path). I use this way, but I do not know MPL licence. Maybe it is 
more permissive.


Regards,
Mindaugas
From druzus at acn.waw.pl  Mon Nov 30 16:21:18 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 30 16:21:25 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <4B142615.2060409@dbtopas.lt>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>
	<4B0F2E25.5090003@dbtopas.lt>
	<20091127025737.GA511@linux-4bod.home.aster.pl>
	<4B0F4142.3040808@dbtopas.lt>
	<20091127031024.GA1265@linux-4bod.home.aster.pl>
	<4B0F44BD.30302@dbtopas.lt>
	<20091127034152.GA1842@linux-4bod.home.aster.pl>
	<4B0F4E4B.4030103@dbtopas.lt>
	<20091128122918.GA21813@linux-4bod.home.aster.pl>
	<4B142615.2060409@dbtopas.lt>
Message-ID: <20091130212118.GA23446@linux-4bod.home.aster.pl>

On Mon, 30 Nov 2009, Mindaugas Kavaliauskas wrote:

Hi,

> Yes, perhaps type should be unsigned int. HRESULT is a "general"
> return value, since MS uses type casting anythere.

OK, I'll update it.

> >2009-11-28 13:27 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
> >  * harbour/contrib/hbwin/olecore.c     ! fixed typo in last
> >commit
> I guess it is only cosmetic change, because both punkVal and
> pdispVal are the two interfaces of the same object. I do not see the
> difference, though, this could be more nice form, because punkVal is
> contained inside VARIANT and will be freed on VariantClear() later.

I'm not very familiar with OLE code so maybe I'm wrong but I do not see
any reason why it has to be the same pointer. I can imagine implementation
which will use different pointers so I would like to keep the code clean
and if I called punkVal->QueryInterface() extracting pdispVal then I'd
prefer release it using:
   pdispVal->Release();
instead of:
   punkVal->Release();

BTW thank you very much for CAIRO wrapper.

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Nov 30 16:23:02 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 30 16:23:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
Message-ID: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>

Revision: 13076
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13076&view=rev
Author:   vszakats
Date:     2009-11-30 21:23:01 +0000 (Mon, 30 Nov 2009)

Log Message:
-----------
2009-11-30 22:19 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Documented HB_WITH_CAIRO setting.

  * bin/hb-mkimp.bat
    + Added HB_BUILD_IMPLIB support for cairo lib.
      I didn't test them.

  * contrib/hbcairo/hbcairo.hbc
    * Changed cairo lib name from 'libcairo-2.0' to 'cairo'
      This is what HB_BUILD_IMPLIB will generate.
    ; TODO: It's the "fun" part of any component adaptation, that
            each build and platform use a different lib naming scheme.
            We should fix this one by one for all platforms.
    ; TODO: Make build tests on each platform/compiler.

  * contrib/hbcairo/Makefile
    + Added cairo component detection.
    - Deleted installation of .h header. It doesn't seem to be 
      one for the public.

  * config/global.mk
    % "De-xmastree"-d one if/else structure.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/bin/hb-mkimp.bat
    trunk/harbour/config/global.mk
    trunk/harbour/contrib/hbcairo/Makefile
    trunk/harbour/contrib/hbcairo/hbcairo.hbc


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Mon Nov 30 16:27:49 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 16:29:38 2009
Subject: [Harbour] Problem in OLE implementation
In-Reply-To: <20091130212118.GA23446@linux-4bod.home.aster.pl>
References: <1B43B6EE6BFC46489CCA96C8796FB19D@emag>	<4B0F2E25.5090003@dbtopas.lt>	<20091127025737.GA511@linux-4bod.home.aster.pl>	<4B0F4142.3040808@dbtopas.lt>	<20091127031024.GA1265@linux-4bod.home.aster.pl>	<4B0F44BD.30302@dbtopas.lt>	<20091127034152.GA1842@linux-4bod.home.aster.pl>	<4B0F4E4B.4030103@dbtopas.lt>	<20091128122918.GA21813@linux-4bod.home.aster.pl>	<4B142615.2060409@dbtopas.lt>
	<20091130212118.GA23446@linux-4bod.home.aster.pl>
Message-ID: <4B1438D5.8050104@dbtopas.lt>

Hi,


Przemys?aw Czerpak wrote:
> I'm not very familiar with OLE code so maybe I'm wrong but I do not see
> any reason why it has to be the same pointer. I can imagine implementation
> which will use different pointers so I would like to keep the code clean
> and if I called punkVal->QueryInterface() extracting pdispVal then I'd
> prefer release it using:
>    pdispVal->Release();
> instead of:
>    punkVal->Release();

Yes, yes. It's ok! pdispVal and punkVal are different pointers, but they 
belongs to same object, so both of them decrements exactly the same 
counter, but pdispVal->Release() is more correct here.


Regards,
Mindaugas
From druzus at acn.waw.pl  Mon Nov 30 16:36:35 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 30 16:36:42 2009
Subject: [Harbour] src/compiler
In-Reply-To: <617D0310-FE72-4C98-B002-C1C8F8BCB7A0@syenar.hu>
References: <4B13F25F.2080200@libero.it>
	<20091130181659.GA19530@linux-4bod.home.aster.pl>
	<617D0310-FE72-4C98-B002-C1C8F8BCB7A0@syenar.hu>
Message-ID: <20091130213635.GB23446@linux-4bod.home.aster.pl>

On Mon, 30 Nov 2009, Szak?ts Viktor wrote:

Hi,

> I can't decide which is better. Both look terribly hacky 
> and ugly to me. (sry)

Write about it to MS ;-)
TEXT/BINARY modes are MS-DOS "features" inherited by MS-Win and OS/2

> > BTW for me more important is removing space padding in hbmk2 output,
> > i.e. try to redirect any hbmk2 output to file to see it.
> If you mean left padding, it's there to spit out 
> readable output. If you just dump all long lines to 
> terminal, it would look like an ugly mess. (that's 
> where I started from)

So you reach exactly different effect.
Please remove it.

> > It badly interacts with tools which allows to catch some data from
> > application output, i.e. even simple mouse mark and past in terminal
> > window is confused by this spaces and cannot select text only.
> > Additionally when terminal window has less then 80 columns the text
> > is wrongly formatted.
> I use MaxCol() to determine screen width. There is no 
> any sort of 80 columns limit I'm aware of.
> Help can look ugly below ~30 columns, that's true.

NAXCOL() and MAXROW() in GTCGI always returns fixed values so it was never
working correctly as you expected :-(.
GTCGI does not make any formatting and does not wrap any lines. It simply
redirect output to stdout. All what you should do is removing this trailing
spaces. If terminal is wider then padding factor you are using it will not
cause visible difference and hbmk2 will work just like all other console
tools, i.e. harbour compiler or all C compilers we are using. If it's smaller
then lines will be automatically wrapped without empty lines forced by
padding. In all cases terminal output can be easy marked and past keeping
original formatting with any trailing spaces.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Nov 30 16:44:58 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 30 16:45:09 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>
Message-ID: <78692719-27AE-4092-8784-425BA8F94042@syenar.hu>

Anyway, it doesn't work here. First I have to 
copy in lots of .dlls, then I get this:

---
Application Internal Error - F:\work\harbour\harbour\contrib\hbcairo\tests\fancytxt.exe
Terminated at: 2009.11.30 22:44:06
Unrecoverable error 6005: Exception error: 

    Exception Code:C0000005
    Exception Address:0041131B
    EAX:004D89B4  EBX:004DA2C4  ECX:004D89B0  EDX:0B6A025E
    ESI:00000000  EDI:00000000  EBP:0028FBAC
    CS:EIP:0023:0041131B  SS:ESP:002B:0028FB40
    DS:002B  ES:002B  FS:0053  GS:002B
    Flags:00010202
    CS:EIP: 89 50 FC 74 04 83 C4 0C C3 89 4C 24 10 83 C4 0C
    SS:ESP: 004DA2C4 00000000 0028FBAC 00402813 004D89B4 004DA2C4 00000000 00000000 00943F10 3FE33333 00000010 004D89B4 003513AC 003516A8 00000004 0044B42B

    C stack:
    EIP:     EBP:       Frame: OldEBP, RetAddr, Params...


Modules:
0x00400000 0x000F3000 F:\work\harbour\harbour\contrib\hbcairo\tests\fancytxt.exe
0x77970000 0x00180000 C:\Windows\SysWOW64\ntdll.dll
0x75CD0000 0x00100000 C:\Windows\syswow64\kernel32.dll
0x75F30000 0x00046000 C:\Windows\syswow64\KERNELBASE.dll
0x68DC0000 0x00096000 F:\work\harbour\harbour\contrib\hbcairo\tests\libcairo-2.dll
0x64F80000 0x00035000 F:\work\harbour\harbour\contrib\hbcairo\tests\libfontconfig-1.dll
0x64000000 0x00080000 F:\work\harbour\harbour\contrib\hbcairo\tests\libfreetype-6.dll
0x10000000 0x00013000 F:\work\harbour\harbour\contrib\hbcairo\tests\zlib1.dll
0x77090000 0x000AC000 C:\Windows\syswow64\MSVCRT.dll
0x63500000 0x00144000 F:\work\harbour\harbour\contrib\hbcairo\tests\libxml2.dll
0x006C0000 0x000DA000 F:\work\harbour\harbour\contrib\hbcairo\tests\iconv.dll
0x75A40000 0x00035000 C:\Windows\syswow64\WS2_32.DLL
0x77280000 0x000F0000 C:\Windows\syswow64\RPCRT4.dll
0x754E0000 0x00060000 C:\Windows\syswow64\SspiCli.dll
0x754D0000 0x0000C000 C:\Windows\syswow64\CRYPTBASE.dll
0x77010000 0x00019000 C:\Windows\SysWOW64\sechost.dll
0x76F00000 0x00006000 C:\Windows\syswow64\NSI.dll
0x6CC40000 0x0002A000 F:\work\harbour\harbour\contrib\hbcairo\tests\libpng12.dll
0x75820000 0x00090000 C:\Windows\syswow64\GDI32.dll
0x75F80000 0x00100000 C:\Windows\syswow64\USER32.dll
0x75540000 0x000A0000 C:\Windows\syswow64\ADVAPI32.dll
0x76D90000 0x0000A000 C:\Windows\syswow64\LPK.dll
0x76E30000 0x0009D000 C:\Windows\syswow64\USP10.dll
0x74170000 0x00005000 C:\Windows\system32\MSIMG32.DLL
0x75A90000 0x00060000 C:\Windows\system32\IMM32.DLL
0x76F10000 0x000CC000 C:\Windows\syswow64\MSCTF.dll

Called from CAIRO_SELECT_FONT_FACE(0)
Called from DRAW(41) in fancytxt.prg
Called from MAIN(12) in fancytxt.prg
------------------------------------------------------------------------

Brgds,
Viktor


On 2009 Nov 30, at 22:23, vszakats@users.sourceforge.net wrote:

> Revision: 13076
>          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13076&view=rev
> Author:   vszakats
> Date:     2009-11-30 21:23:01 +0000 (Mon, 30 Nov 2009)
> 
> Log Message:
> -----------
> 2009-11-30 22:19 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>  * INSTALL
>    + Documented HB_WITH_CAIRO setting.
> 
>  * bin/hb-mkimp.bat
>    + Added HB_BUILD_IMPLIB support for cairo lib.
>      I didn't test them.
> 
>  * contrib/hbcairo/hbcairo.hbc
>    * Changed cairo lib name from 'libcairo-2.0' to 'cairo'
>      This is what HB_BUILD_IMPLIB will generate.
>    ; TODO: It's the "fun" part of any component adaptation, that
>            each build and platform use a different lib naming scheme.
>            We should fix this one by one for all platforms.
>    ; TODO: Make build tests on each platform/compiler.
> 
>  * contrib/hbcairo/Makefile
>    + Added cairo component detection.
>    - Deleted installation of .h header. It doesn't seem to be 
>      one for the public.
> 
>  * config/global.mk
>    % "De-xmastree"-d one if/else structure.
> 
> Modified Paths:
> --------------
>    trunk/harbour/ChangeLog
>    trunk/harbour/INSTALL
>    trunk/harbour/bin/hb-mkimp.bat
>    trunk/harbour/config/global.mk
>    trunk/harbour/contrib/hbcairo/Makefile
>    trunk/harbour/contrib/hbcairo/hbcairo.hbc
> 
> 
> This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
> _______________________________________________
> Harbour mailing list (attachment size limit: 40KB)
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Nov 30 16:51:24 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 30 16:51:34 2009
Subject: [Harbour] src/compiler
In-Reply-To: <20091130213635.GB23446@linux-4bod.home.aster.pl>
References: <4B13F25F.2080200@libero.it>
	<20091130181659.GA19530@linux-4bod.home.aster.pl>
	<617D0310-FE72-4C98-B002-C1C8F8BCB7A0@syenar.hu>
	<20091130213635.GB23446@linux-4bod.home.aster.pl>
Message-ID: <30FFD1CF-570C-46C0-B62D-FBCC0B896EE0@syenar.hu>

>>> BTW for me more important is removing space padding in hbmk2 output,
>>> i.e. try to redirect any hbmk2 output to file to see it.
>> If you mean left padding, it's there to spit out 
>> readable output. If you just dump all long lines to 
>> terminal, it would look like an ugly mess. (that's 
>> where I started from)
> 
> So you reach exactly different effect.
> Please remove it.

Sorry, I won't. Unless the ugly output is resolved by 
some other means.

>>> It badly interacts with tools which allows to catch some data from
>>> application output, i.e. even simple mouse mark and past in terminal
>>> window is confused by this spaces and cannot select text only.
>>> Additionally when terminal window has less then 80 columns the text
>>> is wrongly formatted.
>> I use MaxCol() to determine screen width. There is no 
>> any sort of 80 columns limit I'm aware of.
>> Help can look ugly below ~30 columns, that's true.
> 
> NAXCOL() and MAXROW() in GTCGI always returns fixed values so it was never
> working correctly as you expected :-(.
> GTCGI does not make any formatting and does not wrap any lines. It simply
> redirect output to stdout. All what you should do is removing this trailing
> spaces. If terminal is wider then padding factor you are using it will not
> cause visible difference and hbmk2 will work just like all other console
> tools, i.e. harbour compiler or all C compilers we are using. If it's smaller
> then lines will be automatically wrapped without empty lines forced by
> padding. In all cases terminal output can be easy marked and past keeping
> original formatting with any trailing spaces.

Then someone will have to teach me how to 
produce adequate output for console apps in a 
multiplatform way.

Or someone solves it instead of me.

Again: Plain output looked almost unbearable. Maybe 
this is normal for portable apps, but I better like 
a help which is possible to read.

Or: someone will have to rephrase all the texts, plus 
the help to be shorter, then retranslate it to HU and 
PT, to use shorter text as well.

To be honest, at this moment I can't care too much 
if it doesn't look good on a 12x40 screen. Had 
a too long day today.

Brgds,
Viktor

From dbtopas at dbtopas.lt  Mon Nov 30 16:50:04 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 16:51:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>
Message-ID: <4B143E0C.8040206@dbtopas.lt>

>   * contrib/hbcairo/hbcairo.hbc
>     * Changed cairo lib name from 'libcairo-2.0' to 'cairo'
>       This is what HB_BUILD_IMPLIB will generate.
>     ; TODO: It's the "fun" part of any component adaptation, that
>             each build and platform use a different lib naming scheme.
>             We should fix this one by one for all platforms.
>     ; TODO: Make build tests on each platform/compiler.

I do not understand, why cairo.lib instead of original name. We have not 
renamed libcurl, libmysql, but renamed libcairo?


Regards,
Mindaugas
From dbtopas at dbtopas.lt  Mon Nov 30 16:59:15 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 17:01:07 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <78692719-27AE-4092-8784-425BA8F94042@syenar.hu>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>
	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>
Message-ID: <4B144033.50604@dbtopas.lt>

Hi,


Viktor Szak?ts wrote:
> Anyway, it doesn't work here. First I have to 
> copy in lots of .dlls, then I get this:

Lots? I last release only two of them: libcairo-2.dll and 
libpng12-0.dll, if you do not need png support (by default png is 
enabled), libcairo-2.dll can be recompiled without png support.


> ---
> Application Internal Error - F:\work\harbour\harbour\contrib\hbcairo\tests\fancytxt.exe
> Terminated at: 2009.11.30 22:44:06
> Unrecoverable error 6005: Exception error: 
> 
> 
> Called from CAIRO_SELECT_FONT_FACE(0)
> Called from DRAW(41) in fancytxt.prg
> Called from MAIN(12) in fancytxt.prg

Yes, it's sensitive place. For example, I get a GPF if I leave an open 
.pdf file in Acrobat Reader and I try to render to this .pdf file. 
Perhaps we must add check if cairo created a valid surface using 
cairo_surface_status() and add a similar protection and check for return 
value in other places.
I'll try to do it in the future. This is also related to a question:

> 3)What is correct way to code:
>    pCairo = hb_cairo_par( 1 ); // generate RTE if parameter is wrong
>    if( pData )
>       cairo_something( pCairo );
> or this is also ok?:
>     cairo_something( hb_cairo_par( 1 ) ); 

So I was not trying to solve the problem in my first commit.


Regards,
Mindaugas

From dbtopas at dbtopas.lt  Mon Nov 30 17:10:51 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 17:12:39 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <78692719-27AE-4092-8784-425BA8F94042@syenar.hu>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>
	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>
Message-ID: <4B1442EB.8070806@dbtopas.lt>

Viktor Szak?ts wrote:
> Anyway, it doesn't work here. First I have to 
> copy in lots of .dlls, then I get this:

Well, I see the your dll list now:

> 0x68DC0000 0x00096000 F:\work\harbour\harbour\contrib\hbcairo\tests\libcairo-2.dll
> 0x64F80000 0x00035000 F:\work\harbour\harbour\contrib\hbcairo\tests\libfontconfig-1.dll
> 0x64000000 0x00080000 F:\work\harbour\harbour\contrib\hbcairo\tests\libfreetype-6.dll
> 0x10000000 0x00013000 F:\work\harbour\harbour\contrib\hbcairo\tests\zlib1.dll
> 0x63500000 0x00144000 F:\work\harbour\harbour\contrib\hbcairo\tests\libxml2.dll
> 0x006C0000 0x000DA000 F:\work\harbour\harbour\contrib\hbcairo\tests\iconv.dll
> 0x6CC40000 0x0002A000 F:\work\harbour\harbour\contrib\hbcairo\tests\libpng12.dll


I do not know that there have you got cairo library from. The original 
website provides source and links to other distributions/binary 
providers. I've mentioned a place where you can obtain Cairo binaries 
for Windows (http://www.gtk.org/download-windows.html). The link to the 
same site is provided by cairo (http://cairographics.org/download/).

You need to download and unzip only tree files:
http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/cairo_1.8.8-2_win32.zip
http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/cairo-dev_1.8.8-2_win32.zip
http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/libpng_1.2.39-1_win32.zip

The first contains the required /include subfolder, and the last two 
will give you two required dll files in /bin subfolder. That's all you 
need. Please try and report if this does not help.


Regards,
Mindaugas
From dbtopas at dbtopas.lt  Mon Nov 30 17:14:18 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 17:16:06 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <4B1442EB.8070806@dbtopas.lt>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>
	<4B1442EB.8070806@dbtopas.lt>
Message-ID: <4B1443BA.3070103@dbtopas.lt>

Hi,


Sorry, wrong order.

> You need to download and unzip only tree files:
> http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/cairo_1.8.8-2_win32.zip 
> 
> http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/cairo-dev_1.8.8-2_win32.zip 
> 
> http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/libpng_1.2.39-1_win32.zip 
> 
> 
> The first 

The SECOND

> contains the required /include subfolder, and the 
> last two 

FIRST and THIRD

> will give you two required dll files in /bin subfolder. 


Regards,
Mindaugas
From harbour.01 at syenar.hu  Mon Nov 30 17:16:14 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 30 17:16:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <4B143E0C.8040206@dbtopas.lt>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>
	<4B143E0C.8040206@dbtopas.lt>
Message-ID: <8990C9A4-AD9D-4800-AA71-F304082F09B8@syenar.hu>

>>  * contrib/hbcairo/hbcairo.hbc
>>    * Changed cairo lib name from 'libcairo-2.0' to 'cairo'
>>      This is what HB_BUILD_IMPLIB will generate.
>>    ; TODO: It's the "fun" part of any component adaptation, that
>>            each build and platform use a different lib naming scheme.
>>            We should fix this one by one for all platforms.
>>    ; TODO: Make build tests on each platform/compiler.
> 
> I do not understand, why cairo.lib instead of original name. We have not renamed libcurl, libmysql, but renamed libcairo?

There are multiple distros on win with different 
lib names. There is a HUGE chaos around these GTK 
libs and sublibs. [ That's why I dropped the idea 
of using GTK. ]

I have two differently named distros f.e., and none 
used the name you have, so I opted to use the implib 
name we generate on hb-mkimp.bat. We can extend hb-mkimp 
to detect other distros, but for sure NOBODY will 
be fully happy however we choose.

That's how it works on win, and I can't do anything 
about it, only cairo maintainers/builders/whoever.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Nov 30 17:17:08 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 30 17:17:16 2009
Subject: [Harbour] src/compiler
In-Reply-To: <30FFD1CF-570C-46C0-B62D-FBCC0B896EE0@syenar.hu>
References: <4B13F25F.2080200@libero.it>
	<20091130181659.GA19530@linux-4bod.home.aster.pl>
	<617D0310-FE72-4C98-B002-C1C8F8BCB7A0@syenar.hu>
	<20091130213635.GB23446@linux-4bod.home.aster.pl>
	<30FFD1CF-570C-46C0-B62D-FBCC0B896EE0@syenar.hu>
Message-ID: <20091130221708.GA23876@linux-4bod.home.aster.pl>

On Mon, 30 Nov 2009, Szak?ts Viktor wrote:

Hi,

> Then someone will have to teach me how to 
> produce adequate output for console apps in a 
> multiplatform way.

Please start looking for output for any C compiler we are
using or any other console tool.
harbour.exe output is also good example. It does not use any
space padding.

> Or someone solves it instead of me.
> Again: Plain output looked almost unbearable. Maybe 
> this is normal for portable apps, but I better like 
> a help which is possible to read.

Fortunately authors of console tools had different opinion
and we do not have any other console programs padding output
with spaces to some arbitrary size (79 in case of hbmk2).
But if you think that you know better then there is nothing
what I can say more :-(

best regards,
Przemek
From dbtopas at dbtopas.lt  Mon Nov 30 17:18:22 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 17:20:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <8990C9A4-AD9D-4800-AA71-F304082F09B8@syenar.hu>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>	<4B143E0C.8040206@dbtopas.lt>
	<8990C9A4-AD9D-4800-AA71-F304082F09B8@syenar.hu>
Message-ID: <4B1444AE.3040907@dbtopas.lt>

> There are multiple distros on win with different 
> lib names. There is a HUGE chaos around these GTK 
> libs and sublibs. [ That's why I dropped the idea 
> of using GTK. ]
> 
> I have two differently named distros f.e., and none 
> used the name you have, so I opted to use the implib 
> name we generate on hb-mkimp.bat. We can extend hb-mkimp 
> to detect other distros, but for sure NOBODY will 
> be fully happy however we choose.
> 
> That's how it works on win, and I can't do anything 
> about it, only cairo maintainers/builders/whoever.

Ok, I'm not a distro or makefile man. I just had to rename my 
libcairo-2.lib to cairo.lib and sample files links again.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Mon Nov 30 17:26:10 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 30 17:26:20 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <4B144033.50604@dbtopas.lt>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>
	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>
	<4B144033.50604@dbtopas.lt>
Message-ID: <B74D0066-8047-4A68-BE50-BB3AA3535909@syenar.hu>

> Viktor Szak?ts wrote:
>> Anyway, it doesn't work here. First I have to copy in lots of .dlls, then I get this:
> 
> Lots? I last release only two of them: libcairo-2.dll and libpng12-0.dll, if you do not need png support (by default png is enabled), libcairo-2.dll can be recompiled without png support.

Depends on the distro. One of my distros 
use above two .dlls. The first problem is 
that they forgot to supply libpng12-0.dll.

When I copy it in from another distro and 
change the name (coz it's naturally different 
in each distro), I got a GPF.

So I tried the other distro (full GTK bin 
pkg) which needed all the .dlls listed in 
the GPF dump, but it crashed also.

BTW, I fear that it's practically impossible 
(means: takes a too huge amount of work) to 
build a static lib of cairo due to its 
numerous dependencies.

>> ---
>> Application Internal Error - F:\work\harbour\harbour\contrib\hbcairo\tests\fancytxt.exe
>> Terminated at: 2009.11.30 22:44:06
>> Unrecoverable error 6005: Exception error: Called from CAIRO_SELECT_FONT_FACE(0)
>> Called from DRAW(41) in fancytxt.prg
>> Called from MAIN(12) in fancytxt.prg
> 
> Yes, it's sensitive place. For example, I get a GPF if I leave an open .pdf file in Acrobat Reader and I try to render to this .pdf file. Perhaps we must add check if cairo created a valid surface using cairo_surface_status() and add a similar protection and check for return value in other places.

I've seen a few places where hb_parc() is passed 
to cairo directly. This is only good if cairo accepts 
NULL. If not, use hb_parcx(), or go to error branch 
if ! HB_ISCHAR().

> I'll try to do it in the future. This is also related to a question:
> 
>> 3)What is correct way to code:
>>   pCairo = hb_cairo_par( 1 ); // generate RTE if parameter is wrong
>>   if( pData )
>>      cairo_something( pCairo );
>> or this is also ok?:
>>    cairo_something( hb_cairo_par( 1 ) ); 

The first one is right. You should always 
check for at least NULL, as users may just 
pass other types, or non-cairo handles to 
the functions.

I use this in hbcurl:

---
HB_FUNC( CURL_WHATEVER )
{
   if( PHB_CURL_is( 1 ) )
   {
      PHB_CURL hb_curl = PHB_CURL_par( 1 );

      if( hb_curl )
         (code)
      else
         hb_retc_null();
   }
   else
      hb_errRT_BASE( EG_ARG, 2010, NULL, HB_ERR_FUNCNAME, HB_ERR_ARGS_BASEPARAMS );
}
---

First I check if it's a CURL handle. If not 
an RTE is passed because it's most probably 
programming error. If it's CURL handle, I 
retrieve it, and if it's NULL I just return 
error value silently because in this case 
CURL initialization failed.

CURL example is a little different because 
it uses container object, not direct libcurl 
handle.

In your case you can decide if RTE or error 
return value is more convenient.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Nov 30 17:26:39 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 30 17:26:47 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <4B1444AE.3040907@dbtopas.lt>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>
	<4B143E0C.8040206@dbtopas.lt>
	<8990C9A4-AD9D-4800-AA71-F304082F09B8@syenar.hu>
	<4B1444AE.3040907@dbtopas.lt>
Message-ID: <20091130222639.GA24110@linux-4bod.home.aster.pl>

On Tue, 01 Dec 2009, Mindaugas Kavaliauskas wrote:

Hi,

> Ok, I'm not a distro or makefile man. I just had to rename my
> libcairo-2.lib to cairo.lib and sample files links again.

   druzus:~# pkg-config cairo --cflags
   -I/usr/include/cairo -I/usr/include/pixman-1 -I/usr/include/freetype2 -I/usr/include/libpng12

   druzus:~# pkg-config cairo --libs
   -lcairo

If you have pkg-config then it's the best method for checking
library name and C compiler settings in given system.
We do not use autoconf so we have to use pkg-config manually.

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Nov 30 17:29:25 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 30 17:29:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <4B1442EB.8070806@dbtopas.lt>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>
	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>
	<4B1442EB.8070806@dbtopas.lt>
Message-ID: <B3EA1BAB-B264-49E0-A76A-C435D8451A46@syenar.hu>

> I do not know that there have you got cairo library from. The original website provides source and links to other distributions/binary providers. I've mentioned a place where you can obtain Cairo binaries for Windows (http://www.gtk.org/download-windows.html). The link to the same site is provided by cairo (http://cairographics.org/download/).
> 
> You need to download and unzip only tree files:
> http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/cairo_1.8.8-2_win32.zip
> http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/cairo-dev_1.8.8-2_win32.zip
> http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/libpng_1.2.39-1_win32.zip
> 
> The first contains the required /include subfolder, and the last two will give you two required dll files in /bin subfolder. That's all you need. Please try and report if this does not help.

Thanks I'll try with this, I think I tried with this the 
first time, except libpng was missing from the mix.
(and AFAIR it wasn't made available when I downloaded 
the whole bunch. This was xhgtk testing time a while 
ago.)

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Nov 30 17:38:23 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 30 17:38:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <4B1443BA.3070103@dbtopas.lt>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>
	<4B1442EB.8070806@dbtopas.lt> <4B1443BA.3070103@dbtopas.lt>
Message-ID: <2366D140-B520-4326-B01C-79EBAC8F325F@syenar.hu>

> Sorry, wrong order.
> 
>> You need to download and unzip only tree files:
>> http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/cairo_1.8.8-2_win32.zip http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/cairo-dev_1.8.8-2_win32.zip http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/libpng_1.2.39-1_win32.zip The first 
> 
> The SECOND
> 
>> contains the required /include subfolder, and the last two 
> 
> FIRST and THIRD
> 
>> will give you two required dll files in /bin subfolder. 

Does it really matter? There is no filename collision between 
these packages.

After dl-ing, unzipping, rebuilding, I'm getting libfontconfig-1.dll 
missing msg. (I tried to copy in this and other 5 from another distro, 
and ended up with the same GPF)

Brgds,
Viktor

From dbtopas at dbtopas.lt  Mon Nov 30 17:48:55 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 17:50:44 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <B74D0066-8047-4A68-BE50-BB3AA3535909@syenar.hu>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>	<4B144033.50604@dbtopas.lt>
	<B74D0066-8047-4A68-BE50-BB3AA3535909@syenar.hu>
Message-ID: <4B144BD7.4020701@dbtopas.lt>

>>> 3)What is correct way to code:
>>>   pCairo = hb_cairo_par( 1 ); // generate RTE if parameter is wrong
>>>   if( pData )
>>>      cairo_something( pCairo );
>>> or this is also ok?:
>>>    cairo_something( hb_cairo_par( 1 ) ); 
> 
> The first one is right. You should always 
> check for at least NULL, as users may just 
> pass other types, or non-cairo handles to 
> the functions.


Yes, user may pass any parameter, but hb_cairo_par() checks if it is 
valid parameter and generates runtime error. Does hb_errRT_BASE() 
returns? Or it uses some C stack functions (like setjump) to exit to the 
nearest BEGIN SEQ/END SEQ.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Mon Nov 30 17:50:52 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 30 17:51:03 2009
Subject: [Harbour] src/compiler
In-Reply-To: <20091130221708.GA23876@linux-4bod.home.aster.pl>
References: <4B13F25F.2080200@libero.it>
	<20091130181659.GA19530@linux-4bod.home.aster.pl>
	<617D0310-FE72-4C98-B002-C1C8F8BCB7A0@syenar.hu>
	<20091130213635.GB23446@linux-4bod.home.aster.pl>
	<30FFD1CF-570C-46C0-B62D-FBCC0B896EE0@syenar.hu>
	<20091130221708.GA23876@linux-4bod.home.aster.pl>
Message-ID: <2D5A866D-6EF6-4A56-B714-7325E91ECC88@syenar.hu>

> Please start looking for output for any C compiler we are
> using or any other console tool.
> harbour.exe output is also good example. It does not use any
> space padding.
> 
>> Or someone solves it instead of me.
>> Again: Plain output looked almost unbearable. Maybe 
>> this is normal for portable apps, but I better like 
>> a help which is possible to read.
> 
> Fortunately authors of console tools had different opinion
> and we do not have any other console programs padding output
> with spaces to some arbitrary size (79 in case of hbmk2).

I'm using MAXCOL(), not an arbitrary size. This is all 
I can do to attempt to get screen size.

> But if you think that you know better then there is nothing
> what I can say more :-(

If you can give me any sort of advice how to format 
output so that it stays readable even on regular screens 
like y*80, please do. I can't expect users to have screens 
400 chars wide to fit some stuff.

You can give it a shot and revert code to just spill 
everything on screen as is and try to decipher what you 
see. It's impossible. Do you think I'd have spent lots 
of time to create all the code to format output as it 
is now? (No, I wouldn't)

Another principal: To make translation possible, I had 
to store all (even long) texts as one string, so it's 
not possible to hand-wrap help text for example.

Where does exactly padding cause problems in real life?
All outputs which may be grabbed using mouse for cut&paste 
purposes is just dumped to screen as-is (echoed commands 
f.e.). Only hbmk2's own messages are formatted, but it 
seems rare someone would like to cut&paste these. (In 
any case it can redirected and cut from text file.)

Anyhow I don't care what solution is developed here as 
long as text storage is kept intact and resulting output 
is human readable on screen.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Nov 30 17:53:54 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 30 17:54:05 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <4B1444AE.3040907@dbtopas.lt>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>	<4B143E0C.8040206@dbtopas.lt>
	<8990C9A4-AD9D-4800-AA71-F304082F09B8@syenar.hu>
	<4B1444AE.3040907@dbtopas.lt>
Message-ID: <A0D16E1E-3929-4927-BB88-175566DFE2BC@syenar.hu>

>> That's how it works on win, and I can't do anything about it, only cairo maintainers/builders/whoever.
> 
> Ok, I'm not a distro or makefile man. I just had to rename my libcairo-2.lib to cairo.lib and sample files links again.

Notice that there is no libcairo-2.lib in the distro 
pack you linked. You had to create that lib manually 
using implib (I guess you use BCC).

Supplied COFF lib is named cairo.lib. I used it as a reference.

There is no rules that .lib name should be equal to .dll 
name, so cairo.lib seems like a good choice also for us.

BTW, does implib requires -a option or not to create 
usable .lib for BCC?

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Nov 30 18:01:29 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 30 18:01:42 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <4B144BD7.4020701@dbtopas.lt>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>	<4B144033.50604@dbtopas.lt>
	<B74D0066-8047-4A68-BE50-BB3AA3535909@syenar.hu>
	<4B144BD7.4020701@dbtopas.lt>
Message-ID: <8795D22F-AC37-4891-B0D4-9806EB22192E@syenar.hu>

>>>> 3)What is correct way to code:
>>>>  pCairo = hb_cairo_par( 1 ); // generate RTE if parameter is wrong
>>>>  if( pData )
>>>>     cairo_something( pCairo );
>>>> or this is also ok?:
>>>>   cairo_something( hb_cairo_par( 1 ) ); 
>> The first one is right. You should always check for at least NULL, as users may just pass other types, or non-cairo handles to the functions.
> 
> 
> Yes, user may pass any parameter, but hb_cairo_par() checks if it is valid parameter and generates runtime error. Does hb_errRT_BASE() returns? Or it uses some C stack functions (like setjump) to exit to the nearest BEGIN SEQ/END SEQ.

It returns, so you should not have code after hb_errRT_BASE() call. 
(except for retry-able RTEs obviously)

I used to put hb_errRT_BASE() in outmost if()'s else branch.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Nov 30 18:02:26 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 30 18:02:33 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <4B144BD7.4020701@dbtopas.lt>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>
	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>
	<4B144033.50604@dbtopas.lt>
	<B74D0066-8047-4A68-BE50-BB3AA3535909@syenar.hu>
	<4B144BD7.4020701@dbtopas.lt>
Message-ID: <20091130230226.GA24394@linux-4bod.home.aster.pl>

On Tue, 01 Dec 2009, Mindaugas Kavaliauskas wrote:

Hi,

> Yes, user may pass any parameter, but hb_cairo_par() checks if it is
> valid parameter and generates runtime error. Does hb_errRT_BASE()
> returns?

Yes.

> Or it uses some C stack functions (like setjump) to exit to
> the nearest BEGIN SEQ/END SEQ.

We do not use anything like that. Such jumps needs additional support,
i.e. to free temporary allocated resources like memory so they are
hard to keep alive without any resource leaks.

best regards,
Przemek
From vszakats at users.sourceforge.net  Mon Nov 30 18:05:48 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 30 18:05:54 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13077] trunk/harbour
Message-ID: <E1NFFJU-0003Ss-9F@d5vjzd1.ch3.sourceforge.com>

Revision: 13077
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13077&view=rev
Author:   vszakats
Date:     2009-11-30 23:05:44 +0000 (Mon, 30 Nov 2009)

Log Message:
-----------
2009-12-01 00:01 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * INSTALL
    + Added cairo links.

  * contrib/hbwin/wapi_shellapi.c
    + WAPI_USERISANADMIN() function. Based on xhb's recently added
      OS_ISUSERANADMIN() function by Peter Rees.
      Reformatted, renamed and applied fixes/UNICODE/cleanups, usual stuff.

  * contrib/hbcairo/hbcairo.hbc
    + Changed libs= for *nix system. Not tested for this cairo,
      it comes from my local xhgtk hbmk2 files.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/INSTALL
    trunk/harbour/contrib/hbcairo/hbcairo.hbc
    trunk/harbour/contrib/hbwin/wapi_shellapi.c


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Mon Nov 30 18:16:34 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 18:18:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <B74D0066-8047-4A68-BE50-BB3AA3535909@syenar.hu>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>	<4B144033.50604@dbtopas.lt>
	<B74D0066-8047-4A68-BE50-BB3AA3535909@syenar.hu>
Message-ID: <4B145252.2030205@dbtopas.lt>

Hi,


> BTW, I fear that it's practically impossible 
> (means: takes a too huge amount of work) to 
> build a static lib of cairo due to its 
> numerous dependencies.

Actually, I did it last week :) I wanted to try cairo meta surface which 
is implemented in new 1.9.4 snapshot (not release). Cairo has 
Makefile.Win32, but it is for MSVC only. I've tried to use mingw. It 
requires msys. It was the first time I've installed msys and (to my 
surprise) I've got shell similar to cygwin. Later I've tried to run 
"configure" and "make", use switches like --without-svg, install some 
packages, etc.

The final step by step cook receipt is:

1) Install mingw using TDM's GCC into c:/mingw
2) gunzip http://cairographics.org/snapshots/cairo-1.9.4.tar.gz into c:/
3) Install msys-1.0.11.exe (from MinGW) into c:/msys
4) gunzip 
http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/pkg-config_0.23-3_win32.zip 
into c:/mingw (not into c:/msys !!!)
5) gunzip 
http://ftp.gnome.org/pub/gnome/binaries/win32/glib/2.22/glib_2.22.2-1_win32.zip 
into c:/mingw
6) gunzip 
http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/libpng-dev_1.2.39-1_win32.zip 
into c:/mingw
7) gunzip libz-1.2.3-1-mingw32-dev.tar.gz (from Mingw zlib) into 
c:/mingw (http://www.zlib.net/zlib123-dll.zip is not good for this, it 
is for MSVC)
8) gunzip http://cairographics.org/releases/pixman-0.17.2.tar.gz into c:/
9) msys> cd /c/pixman-0.17.2
10) msys> ./configure
11) msys> make install
12) Copy c:/msys/pixman-1/* to c:/mingw (it should be installed into 
c:/mingw)
13) msys> cd /c/cairo-1.9.4
14) msys> ./configure
15) msys> make
16) Bingo! c:/cairo-1.9.4/src/.libs/libcairo-2.dll exists! Can be 
stripped to make 2495KB -> 473 KB.


The most magic part was running ./configure. Looks more sophisticated 
than linux boot messages on the screen :)



Regards,
Mindaugas
From tech at 2dinfo.com.br  Mon Nov 30 19:18:47 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Mon Nov 30 18:19:27 2009
Subject: [Harbour] How to build hbide with hbqt static libs?
In-Reply-To: <F2F551868BF74D95906D45C29F2B953A@noteleo>
References: <FE7358AD4A8045778F6E3F1EDC6BFE0F@noteleo><E8D15C0B-F956-42A6-A893-83E04A8EB834@syenar.hu>
	<F2F551868BF74D95906D45C29F2B953A@noteleo>
Message-ID: <1A2D6E300D9F4F41986EC6D5387A05DA@noteleo>

>> Have you built static QT libs also?
...
> I will [re]build QT and hbide and report the results soon.

Thanks Viktor
After building QT static libs it was possible to build hbide linked 
statically to qt.

The hbide main window opens ok and most the controls function well, but the 
source button which results in Visual C++ Runtime Library error message 
"This application has requested the Runtime to terminate it an unusual way. 
Please contact the application's support team for more information".

Seems to be a xbpFileDialog problem in hbide:selectSource method.

Brgds
Leandro Damasio 

From dbtopas at dbtopas.lt  Mon Nov 30 18:19:27 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 18:21:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <2366D140-B520-4326-B01C-79EBAC8F325F@syenar.hu>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>	<4B1442EB.8070806@dbtopas.lt>
	<4B1443BA.3070103@dbtopas.lt>
	<2366D140-B520-4326-B01C-79EBAC8F325F@syenar.hu>
Message-ID: <4B1452FF.9090303@dbtopas.lt>

Hi,


Viktor Szak?ts wrote:
>>> http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/cairo_1.8.8-2_win32.zip http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/cairo-dev_1.8.8-2_win32.zip http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/libpng_1.2.39-1_win32.zip The first 
>> The SECOND
>>
>>> contains the required /include subfolder, and the last two 
>> FIRST and THIRD
>>
>>> will give you two required dll files in /bin subfolder. 
> 
> Does it really matter? There is no filename collision between 
> these packages.

No, I just wanted to correct error, and make exectly true instructions 
if something goes wrong.


Hmmm, unfortunately you are right. :( I was sure these two dll's are 
enough. I my case these two find found friends in c:\Program 
files\Common files\GTK\2.0\bin. I GUESS they are installed with GIMP 
2.6.0. But in my case they are compatible with the latest cairo and get 
no GPF. Here is full farm of required .dlls:

C:\harbour\contrib\hbcairo\tests>dir *.dll
  Directory of C:\harbour\contrib\hbcairo\tests

2009-08-27  00:19           859.585 libcairo-2.dll
2006-10-16  03:25            53.248 xmlparse.dll
2006-10-16  03:25            81.920 xmltok.dll
2009-09-02  23:26           223.915 libpng12-0.dll
2006-10-16  03:25            59.904 zlib1.dll
2006-10-16  03:25           181.333 libfontconfig-1.dll
2006-10-16  03:25           455.680 freetype6.dll
                7 File(s)      1.915.585 bytes


I've also tried my own cairo dll. Here is full set of files:

C:\harbour\contrib\hbcairo\tests\tmp>dir
  Directory of C:\harbour\contrib\hbcairo\tests\tmp

2009-12-01  00:15           625.664 fancytxt.exe
2009-11-25  02:13           473.600 libcairo-2.dll
2009-09-02  23:26           223.915 libpng12-0.dll
2006-10-16  03:25            59.904 zlib1.dll
2006-10-16  03:25            59.904 libz-1.dll
2009-12-01  01:00            16.201 fancytxt.pdf
2009-12-01  01:00            62.920 fancytxt.png
2009-12-01  00:59           349.696 libpixman-1-0.dll
                8 File(s)      1.871.804 bytes

libz-1 is just a copy of zlib1.dll, libpixman-1-0 actually should by a 
part of libcairo-2.dll, but it is not statically linked. I guess its 
possible to force to statically link pixman and zlib into libcairo.dll.

I general it's not a nice picture...


Regards,
Mindaugas
From phil at newstar.rinet.ru  Mon Nov 30 18:21:10 2009
From: phil at newstar.rinet.ru (Phil Krylov)
Date: Mon Nov 30 18:21:36 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13074] trunk/harbour
In-Reply-To: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>
References: <E1NFC0U-0008Rg-E7@d5vjzd1.ch3.sourceforge.com>
Message-ID: <c10dbf450911301521r6240d0fdq603cff9632f88d2f@mail.gmail.com>

Hi,

On Mon, Nov 30, 2009 at 10:33 PM,  <snaiperis@users.sourceforge.net> wrote:
> ? ?; TODO: I've implemted not all functions of Cairo. Actually, the
> ? ? ?minority, but it's enough to do some fancy things.

You may use this code, although also not complete:

http://xbgtk.cvs.sf.net/viewvc/xbgtk/xbgtk/source/xbcairo.prg?view=markup

Although as I see you used pure function-based API, while xbcairo
implements OOP API, I suppose everything can be solved using
search&replace.

-- Ph.
From harbour.01 at syenar.hu  Mon Nov 30 18:27:39 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 30 18:27:48 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <4B145252.2030205@dbtopas.lt>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>	<4B144033.50604@dbtopas.lt>
	<B74D0066-8047-4A68-BE50-BB3AA3535909@syenar.hu>
	<4B145252.2030205@dbtopas.lt>
Message-ID: <6897AAAF-BF8D-41AF-ABC5-346163386983@syenar.hu>

>> BTW, I fear that it's practically impossible (means: takes a too huge amount of work) to build a static lib of cairo due to its numerous dependencies.
> 
> Actually, I did it last week :) I wanted to try cairo meta surface which is implemented in new 1.9.4 snapshot (not release). Cairo has Makefile.Win32, but it is for MSVC only. I've tried to use mingw. It requires msys. It was the first time I've installed msys and (to my surprise) I've got shell similar to cygwin. Later I've tried to run "configure" and "make", use switches like --without-svg, install some packages, etc.
> 
> The final step by step cook receipt is:

Wow, thanks for these instructions.

As next step the same can be tried to create static libs.

And as a final exercise it should also work with MSVC and 
MSVC x64. This is the part where real "fun" begins :/

> 1) Install mingw using TDM's GCC into c:/mingw
> 2) gunzip http://cairographics.org/snapshots/cairo-1.9.4.tar.gz into c:/
> 3) Install msys-1.0.11.exe (from MinGW) into c:/msys
> 4) gunzip http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/pkg-config_0.23-3_win32.zip into c:/mingw (not into c:/msys !!!)
> 5) gunzip http://ftp.gnome.org/pub/gnome/binaries/win32/glib/2.22/glib_2.22.2-1_win32.zip into c:/mingw
> 6) gunzip http://ftp.gnome.org/pub/gnome/binaries/win32/dependencies/libpng-dev_1.2.39-1_win32.zip into c:/mingw
> 7) gunzip libz-1.2.3-1-mingw32-dev.tar.gz (from Mingw zlib) into c:/mingw (http://www.zlib.net/zlib123-dll.zip is not good for this, it is for MSVC)
> 8) gunzip http://cairographics.org/releases/pixman-0.17.2.tar.gz into c:/
> 9) msys> cd /c/pixman-0.17.2
> 10) msys> ./configure
> 11) msys> make install
> 12) Copy c:/msys/pixman-1/* to c:/mingw (it should be installed into c:/mingw)
> 13) msys> cd /c/cairo-1.9.4
> 14) msys> ./configure
> 15) msys> make
> 16) Bingo! c:/cairo-1.9.4/src/.libs/libcairo-2.dll exists! Can be stripped to make 2495KB -> 473 KB.
> 
> 
> The most magic part was running ./configure. Looks more sophisticated than linux boot messages on the screen :)

I didn't have much luck with msys yet, but this seems sleek.

Unfortunately the process varies a lot from project to project, 
so it needs to be reinvented for each lib and each compiler.
(with OpenSSL, it's 'perl.exe Configure')

Brgds,
Viktor

From tech at 2dinfo.com.br  Mon Nov 30 19:27:46 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Mon Nov 30 18:28:14 2009
Subject: Fw: [Harbour] How to build hbide with hbqt static libs?
Message-ID: <3723D83B33E04DE6A5432C8733E3C629@noteleo>

> The hbide main window opens ok and most the controls function well, but 
> the source button which results in Visual C++ Runtime Library error 
> message
Correction: clicking the "Open" button results in error message
tks
Leandro Damasio 

From dbtopas at dbtopas.lt  Mon Nov 30 18:32:49 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 18:34:38 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13077] trunk/harbour
In-Reply-To: <E1NFFJU-0003Ss-9F@d5vjzd1.ch3.sourceforge.com>
References: <E1NFFJU-0003Ss-9F@d5vjzd1.ch3.sourceforge.com>
Message-ID: <4B145621.3090705@dbtopas.lt>

vszakats@users.sourceforge.net wrote:
>   * contrib/hbwin/wapi_shellapi.c
>     + WAPI_USERISANADMIN() function. Based on xhb's recently added
>       OS_ISUSERANADMIN() function by Peter Rees.
>       Reformatted, renamed and applied fixes/UNICODE/cleanups, usual stuff.

Hmm. Strange name. Sound like HB_ISTHEARRAY(), HB_ISABLOCK(), 
HB_ISANOBJECT(). I would delete "AN", but I'm not a good english speaker 
at all. So, it's just an opinion. You can ignore it.


Regards,
Mindaugas


From harbour.01 at syenar.hu  Mon Nov 30 18:38:41 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 30 18:38:50 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13077] trunk/harbour
In-Reply-To: <4B145621.3090705@dbtopas.lt>
References: <E1NFFJU-0003Ss-9F@d5vjzd1.ch3.sourceforge.com>
	<4B145621.3090705@dbtopas.lt>
Message-ID: <863F7871-DC81-4D67-ADC4-96BF86DCCB10@syenar.hu>

> vszakats@users.sourceforge.net wrote:
>>  * contrib/hbwin/wapi_shellapi.c
>>    + WAPI_USERISANADMIN() function. Based on xhb's recently added
>>      OS_ISUSERANADMIN() function by Peter Rees.
>>      Reformatted, renamed and applied fixes/UNICODE/cleanups, usual stuff.
> 
> Hmm. Strange name. Sound like HB_ISTHEARRAY(), HB_ISABLOCK(), HB_ISANOBJECT(). I would delete "AN", but I'm not a good english speaker at all. So, it's just an opinion. You can ignore it.

Strange indeed, but this is what MS managed to innovate:
---
    GetProcAddress( hLib, "IsUserAnAdmin" );
---

With WAPI_* function we just use what Windows uses.

(I almost corrected it, but noticed the above)

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Nov 30 18:46:36 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 30 18:46:43 2009
Subject: [Harbour] src/compiler
In-Reply-To: <2D5A866D-6EF6-4A56-B714-7325E91ECC88@syenar.hu>
References: <4B13F25F.2080200@libero.it>
	<20091130181659.GA19530@linux-4bod.home.aster.pl>
	<617D0310-FE72-4C98-B002-C1C8F8BCB7A0@syenar.hu>
	<20091130213635.GB23446@linux-4bod.home.aster.pl>
	<30FFD1CF-570C-46C0-B62D-FBCC0B896EE0@syenar.hu>
	<20091130221708.GA23876@linux-4bod.home.aster.pl>
	<2D5A866D-6EF6-4A56-B714-7325E91ECC88@syenar.hu>
Message-ID: <20091130234636.GB24394@linux-4bod.home.aster.pl>

On Mon, 30 Nov 2009, Szak?ts Viktor wrote:

Hi,

> If you can give me any sort of advice how to format 
> output so that it stays readable even on regular screens 
> like y*80, please do. I can't expect users to have screens 
> 400 chars wide to fit some stuff.

The only one thing I'm asking you is removing unnecessary _trailing_ spaces.
I.e. instead of displaying:
"-o<outname>        output file name                                          "
please simply display:
"-o<outname>        output file name"
it will not change the visual form in 80 columns terminal helping all
tools which see hidden difference between space and untouched character
cell in application output and greatly increase readability in terminals
with smaller number of columns.
It happens because MemoLine() returns space padded text, i.e.:

   nLines := MLCount( cText, MaxCol() - 7 )
   FOR nLine := 1 TO nLines
      IF ! Empty( tmp := MemoLine( cText, MaxCol() - 7, nLine ) )
                         ^^^^^^^^
         IF nLine == 1
            OutStd( PadR( "hbmk2:", 7 ) )
         ELSE
            OutStd( Space( 7 ) )
         ENDIF
         OutStd( tmp + hb_osNewLine() )
      ENDIF
   NEXT

so please simply change:
   IF ! Empty( tmp := MemoLine( cText, MaxCol() - 7, nLine ) )
to:
   IF ! Empty( tmp := RTrim( MemoLine( cText, MaxCol() - 7, nLine ) ) )

I'm also not a fun of breaking the line to 79 columns especially when
output is redirected because it makes output parsing much harder but I can
leave with it. It would be nice to make:
   hbmk2 -info ... | grep "^hbmk2:"
and catch only and _full_ hbmk2 messages but in this it's not important
enough for me to discuss about it.

If you can also replace all hb_osNewLine() used in output with some macro
like:
   #define OUT_EOL      hb_osNewLine()
then later we can easy switch to OS level EOL translation by adding:
   hb_osTextOutputMode( .T. ) // or any other name you may suggest
and changing this macro to:
   #define OUT_EOL      Chr( 10 )
what will resolve the stairs effect problem in output from embedded
Harbour compiler.

HTH,

best regards,
Przemek
From dbtopas at dbtopas.lt  Mon Nov 30 19:03:33 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 19:05:23 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13077] trunk/harbour
In-Reply-To: <863F7871-DC81-4D67-ADC4-96BF86DCCB10@syenar.hu>
References: <E1NFFJU-0003Ss-9F@d5vjzd1.ch3.sourceforge.com>	<4B145621.3090705@dbtopas.lt>
	<863F7871-DC81-4D67-ADC4-96BF86DCCB10@syenar.hu>
Message-ID: <4B145D55.40408@dbtopas.lt>

Viktor Szak?ts wrote:
>>>    + WAPI_USERISANADMIN() function. Based on xhb's recently added
>>>      OS_ISUSERANADMIN() function by Peter Rees.
>>>      Reformatted, renamed and applied fixes/UNICODE/cleanups, usual stuff.
>> Hmm. Strange name. Sound like HB_ISTHEARRAY(), HB_ISABLOCK(), HB_ISANOBJECT(). I would delete "AN", but I'm not a good english speaker at all. So, it's just an opinion. You can ignore it.
> 
> Strange indeed, but this is what MS managed to innovate:
> ---
>     GetProcAddress( hLib, "IsUserAnAdmin" );
> ---
> 
> With WAPI_* function we just use what Windows uses.
> (I almost corrected it, but noticed the above)


In this case I would suggest to change WAPI_* name to be MS compatible 
and have name WAPI_ISUSERANADMIN(). Well, I hope I'll never need to use 
it, I do not care a lot :)


Regards,
Mindaugas
From harbour.01 at syenar.hu  Mon Nov 30 19:08:07 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 30 19:08:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13077] trunk/harbour
In-Reply-To: <4B145D55.40408@dbtopas.lt>
References: <E1NFFJU-0003Ss-9F@d5vjzd1.ch3.sourceforge.com>	<4B145621.3090705@dbtopas.lt>
	<863F7871-DC81-4D67-ADC4-96BF86DCCB10@syenar.hu>
	<4B145D55.40408@dbtopas.lt>
Message-ID: <7FAB79A4-B836-4D68-A075-A790B3108372@syenar.hu>

>>>>   + WAPI_USERISANADMIN() function. Based on xhb's recently added
>>>>     OS_ISUSERANADMIN() function by Peter Rees.
>>>>     Reformatted, renamed and applied fixes/UNICODE/cleanups, usual stuff.
>>> Hmm. Strange name. Sound like HB_ISTHEARRAY(), HB_ISABLOCK(), HB_ISANOBJECT(). I would delete "AN", but I'm not a good english speaker at all. So, it's just an opinion. You can ignore it.
>> Strange indeed, but this is what MS managed to innovate:
>> ---
>>    GetProcAddress( hLib, "IsUserAnAdmin" );
>> ---
>> With WAPI_* function we just use what Windows uses.
>> (I almost corrected it, but noticed the above)
> 
> 
> In this case I would suggest to change WAPI_* name to be MS compatible and have name WAPI_ISUSERANADMIN(). Well, I hope I'll never need to use it, I do not care a lot :)

Ops, thanks, I will correct it. First it began 
as WIN_USERISANADMIN(), then became WAPI_ but 
forgot to reevaluate the next name part. Damn.

Brgds,
Viktor

From dbtopas at dbtopas.lt  Mon Nov 30 19:11:42 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 19:13:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <6897AAAF-BF8D-41AF-ABC5-346163386983@syenar.hu>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>	<4B144033.50604@dbtopas.lt>	<B74D0066-8047-4A68-BE50-BB3AA3535909@syenar.hu>	<4B145252.2030205@dbtopas.lt>
	<6897AAAF-BF8D-41AF-ABC5-346163386983@syenar.hu>
Message-ID: <4B145F3E.8050501@dbtopas.lt>

Hi,


> As next step the same can be tried to create static libs.

It was successful. By hacky copying
   c:\mingw\lib\libpixman-1-0.a to libpixman-1-0.a
   c:\mingw\lib\libz.a to libz.dll.a
and recompiling libcairo I have a dll that uses libpng only (and system 
dlls). Though libpng requires one more copy of zlib....

C:\harbour\contrib\hbcairo\tests\tmp2>dir
2009-12-01  00:15           625.664 fancytxt.exe
2009-12-01  02:04           843.776 libcairo-2.dll
2009-09-02  23:26           223.915 libpng12-0.dll
2006-10-16  03:25            59.904 zlib1.dll
2009-12-01  02:05            16.201 fancytxt.pdf
2009-12-01  02:05            62.920 fancytxt.png
                6 File(s)      1.832.380 bytes


Regards,
Mindaugas

From harbour.01 at syenar.hu  Mon Nov 30 19:17:07 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 30 19:17:16 2009
Subject: [Harbour] src/compiler
In-Reply-To: <20091130234636.GB24394@linux-4bod.home.aster.pl>
References: <4B13F25F.2080200@libero.it>
	<20091130181659.GA19530@linux-4bod.home.aster.pl>
	<617D0310-FE72-4C98-B002-C1C8F8BCB7A0@syenar.hu>
	<20091130213635.GB23446@linux-4bod.home.aster.pl>
	<30FFD1CF-570C-46C0-B62D-FBCC0B896EE0@syenar.hu>
	<20091130221708.GA23876@linux-4bod.home.aster.pl>
	<2D5A866D-6EF6-4A56-B714-7325E91ECC88@syenar.hu>
	<20091130234636.GB24394@linux-4bod.home.aster.pl>
Message-ID: <97BE9542-5986-42B5-857C-AC0B589268FF@syenar.hu>

>> If you can give me any sort of advice how to format 
>> output so that it stays readable even on regular screens 
>> like y*80, please do. I can't expect users to have screens 
>> 400 chars wide to fit some stuff.
> 
> The only one thing I'm asking you is removing unnecessary _trailing_ spaces.

This clears up the issue as I was talking about 
leading spaces (left padding).

> I.e. instead of displaying:
> "-o<outname>        output file name                                          "
> please simply display:
> "-o<outname>        output file name"
> it will not change the visual form in 80 columns terminal helping all
> tools which see hidden difference between space and untouched character
> cell in application output and greatly increase readability in terminals
> with smaller number of columns.
> It happens because MemoLine() returns space padded text, i.e.:

Trimming right padding is not a problem and should be fixed, 
I didn't know MemoLine() would pad lines.

>   nLines := MLCount( cText, MaxCol() - 7 )
>   FOR nLine := 1 TO nLines
>      IF ! Empty( tmp := MemoLine( cText, MaxCol() - 7, nLine ) )
>                         ^^^^^^^^
>         IF nLine == 1
>            OutStd( PadR( "hbmk2:", 7 ) )
>         ELSE
>            OutStd( Space( 7 ) )
>         ENDIF
>         OutStd( tmp + hb_osNewLine() )
>      ENDIF
>   NEXT
> 
> so please simply change:
>   IF ! Empty( tmp := MemoLine( cText, MaxCol() - 7, nLine ) )
> to:
>   IF ! Empty( tmp := RTrim( MemoLine( cText, MaxCol() - 7, nLine ) ) )

Okay.

> I'm also not a fun of breaking the line to 79 columns especially when
> output is redirected because it makes output parsing much harder but I can
> leave with it. It would be nice to make:
>   hbmk2 -info ... | grep "^hbmk2:"
> and catch only and _full_ hbmk2 messages but in this it's not important
> enough for me to discuss about it.

If you have any suggestion how to solve that, pls tell, 
maybe it's possible to detect redirection and adjust col 
limit accordingly?

> If you can also replace all hb_osNewLine() used in output with some macro
> like:
>   #define OUT_EOL      hb_osNewLine()
> then later we can easy switch to OS level EOL translation by adding:
>   hb_osTextOutputMode( .T. ) // or any other name you may suggest

How about this:
   hb_osOutputMode( FD_TEXT )
Or:
   hb_osOutputTextMode( .T. )

> and changing this macro to:
>   #define OUT_EOL      Chr( 10 )
> what will resolve the stairs effect problem in output from embedded
> Harbour compiler.

That's okay, I'll change it when the core function 
is in place.

Brgds,
Viktor

From druzus at users.sourceforge.net  Mon Nov 30 19:19:28 2009
From: druzus at users.sourceforge.net (druzus@users.sourceforge.net)
Date: Mon Nov 30 19:19:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13078] trunk/harbour
Message-ID: <E1NFGSm-00019p-Hg@74yxhf1.ch3.sourceforge.com>

Revision: 13078
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13078&view=rev
Author:   druzus
Date:     2009-12-01 00:19:27 +0000 (Tue, 01 Dec 2009)

Log Message:
-----------
2009-12-01 01:19 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbwince.h
  * harbour/contrib/hbwin/axcore.c
    * moved HBTEXT macro definition from axcore.c to hbwince.h

  * harbour/contrib/hbwin/wapi_shellapi.c
    ! use HBTEXT() macro for literal constants used as second parameter
      of GetProcAddress(). It fixes WINCE builds where whole API uses
      only UNICODE strings.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/axcore.c
    trunk/harbour/contrib/hbwin/wapi_shellapi.c
    trunk/harbour/include/hbwince.h


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From harbour.01 at syenar.hu  Mon Nov 30 19:19:57 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 30 19:20:08 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <4B145F3E.8050501@dbtopas.lt>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>	<4B144033.50604@dbtopas.lt>	<B74D0066-8047-4A68-BE50-BB3AA3535909@syenar.hu>	<4B145252.2030205@dbtopas.lt>
	<6897AAAF-BF8D-41AF-ABC5-346163386983@syenar.hu>
	<4B145F3E.8050501@dbtopas.lt>
Message-ID: <2F4F3B1A-E3CB-48D0-AEAB-9B9BB9CB68B0@syenar.hu>

> It was successful. By hacky copying
>  c:\mingw\lib\libpixman-1-0.a to libpixman-1-0.a
>  c:\mingw\lib\libz.a to libz.dll.a
> and recompiling libcairo I have a dll that uses libpng only (and system dlls). Though libpng requires one more copy of zlib....
> 
> C:\harbour\contrib\hbcairo\tests\tmp2>dir
> 2009-12-01  00:15           625.664 fancytxt.exe
> 2009-12-01  02:04           843.776 libcairo-2.dll
> 2009-09-02  23:26           223.915 libpng12-0.dll
> 2006-10-16  03:25            59.904 zlib1.dll
> 2009-12-01  02:05            16.201 fancytxt.pdf
> 2009-12-01  02:05            62.920 fancytxt.png

But, could you also eliminate libcairo-2.dll ?

And we have both libpng and zlib hosted in our tree 
with static builds. It'd be nice to make cairo use 
them.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Nov 30 19:24:06 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 30 19:24:16 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13079] trunk/harbour
Message-ID: <E1NFGXG-0002qc-FH@c3vjzd1.ch3.sourceforge.com>

Revision: 13079
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13079&view=rev
Author:   vszakats
Date:     2009-12-01 00:24:05 +0000 (Tue, 01 Dec 2009)

Log Message:
-----------
2009-12-01 01:23 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * contrib/hbwin/wapi_shellapi.c
    ! WAPI_USERISANADMIN() -> WAPI_ISUSERANADMIN()

  * utils/hbmk2/hbmk2.prg
    ! Added RTRIM() to MEMOLINE() calls to strip right space paddings.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/contrib/hbwin/wapi_shellapi.c
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Mon Nov 30 19:29:22 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 19:31:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <2F4F3B1A-E3CB-48D0-AEAB-9B9BB9CB68B0@syenar.hu>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>	<4B144033.50604@dbtopas.lt>	<B74D0066-8047-4A68-BE50-BB3AA3535909@syenar.hu>	<4B145252.2030205@dbtopas.lt>	<6897AAAF-BF8D-41AF-ABC5-346163386983@syenar.hu>	<4B145F3E.8050501@dbtopas.lt>
	<2F4F3B1A-E3CB-48D0-AEAB-9B9BB9CB68B0@syenar.hu>
Message-ID: <4B146362.9020409@dbtopas.lt>

Hi,


Viktor Szak?ts wrote:
> But, could you also eliminate libcairo-2.dll ?
> 
> And we have both libpng and zlib hosted in our tree 
> with static builds. It'd be nice to make cairo use 
> them.

After things I saw running ./configure, I do not thing I will try to 
make static libcairo library :) It would be enough if I can have a 
single .dll file not dependent on mixture of different versions other 
gtk libraries. Statical linkage of LGPL code is also not useful for 
commercial app.


Regards,
Mindaugas
From harbour.01 at syenar.hu  Mon Nov 30 19:38:21 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 30 19:38:31 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <4B146362.9020409@dbtopas.lt>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>	<4B144033.50604@dbtopas.lt>	<B74D0066-8047-4A68-BE50-BB3AA3535909@syenar.hu>	<4B145252.2030205@dbtopas.lt>	<6897AAAF-BF8D-41AF-ABC5-346163386983@syenar.hu>	<4B145F3E.8050501@dbtopas.lt>
	<2F4F3B1A-E3CB-48D0-AEAB-9B9BB9CB68B0@syenar.hu>
	<4B146362.9020409@dbtopas.lt>
Message-ID: <994F807E-D192-478B-8560-69F71A0D113A@syenar.hu>

> Viktor Szak?ts wrote:
>> But, could you also eliminate libcairo-2.dll ?
>> And we have both libpng and zlib hosted in our tree with static builds. It'd be nice to make cairo use them.
> 
> After things I saw running ./configure, I do not thing I will try to make static libcairo library :) It would be enough if I can have a single .dll file not dependent on mixture of different versions other gtk libraries. Statical linkage of LGPL code is also not useful for commercial app.

That truly makes it futile to go the static way.

BTW, I managed to build fancytxt using bcc 5.5 and 
it works with the same .dlls which failed so badly 
with mingw.

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Nov 30 19:49:31 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 30 19:49:37 2009
Subject: [Harbour] src/compiler
In-Reply-To: <97BE9542-5986-42B5-857C-AC0B589268FF@syenar.hu>
References: <4B13F25F.2080200@libero.it>
	<20091130181659.GA19530@linux-4bod.home.aster.pl>
	<617D0310-FE72-4C98-B002-C1C8F8BCB7A0@syenar.hu>
	<20091130213635.GB23446@linux-4bod.home.aster.pl>
	<30FFD1CF-570C-46C0-B62D-FBCC0B896EE0@syenar.hu>
	<20091130221708.GA23876@linux-4bod.home.aster.pl>
	<2D5A866D-6EF6-4A56-B714-7325E91ECC88@syenar.hu>
	<20091130234636.GB24394@linux-4bod.home.aster.pl>
	<97BE9542-5986-42B5-857C-AC0B589268FF@syenar.hu>
Message-ID: <20091201004930.GA25734@linux-4bod.home.aster.pl>

On Tue, 01 Dec 2009, Szak?ts Viktor wrote:
> > I'm also not a fun of breaking the line to 79 columns especially when
> > output is redirected because it makes output parsing much harder but I can
> > leave with it. It would be nice to make:
> >   hbmk2 -info ... | grep "^hbmk2:"
> > and catch only and _full_ hbmk2 messages but in this it's not important
> > enough for me to discuss about it.
> If you have any suggestion how to solve that, pls tell, 
> maybe it's possible to detect redirection and adjust col 
> limit accordingly?

In *nixes we can check if output is TTY device.
If not then we it's redirected to sth else, i.e. pipe, file, socket.
In filesys.c hb_fsIsDevice() function can be used for it and in *nixes
it will work as we want but I do not know how it will work in MS-Windows
with different shells (i.e. CMD.EXE and MSys) for different redirecting
types (pipe (|) or file (>)).
We should make some tests. Also in OS/2 for GCC and OpenWatcom builds.
This code can be used for tests:

   proc main()
   ? "0:", HB_FISDEVICE( 0 )
   ? "1:", HB_FISDEVICE( 1 )
   ? "2:", HB_FISDEVICE( 2 )
   return
   #pragma begindump
   #include "hbapifs.h"
   HB_FUNC( HB_FISDEVICE )
   {
      hb_retl( hb_fsIsDevice( hb_numToHandle( hb_parnint( 1 ) ) ) );
   }
   #pragma enddump

> > If you can also replace all hb_osNewLine() used in output with some macro
> > like:
> >   #define OUT_EOL      hb_osNewLine()
> > then later we can easy switch to OS level EOL translation by adding:
> >   hb_osTextOutputMode( .T. ) // or any other name you may suggest
> How about this:
>    hb_osOutputMode( FD_TEXT )
> Or:
>    hb_osOutputTextMode( .T. )

Oops. I've forgot that FD_* constants are in .ch file for CL53 FSETDEVMOD()
functions so we already have everything in core code so please simply add:
   FSETDEVMOD( 1, FD_TEXT )
   FSETDEVMOD( 2, FD_TEXT )
or if you want to make it in more generic way which will work also for
multi GT output (i.e. with some code which allocates many different GTCGI
drivers with different redirection) then make:
   FSETDEVMOD( hb_gtInfo( HB_GTI_OUTPUTFD ), FD_TEXT )
   FSETDEVMOD( hb_gtInfo( HB_GTI_ERRORFD ), FD_TEXT )

> > and changing this macro to:
> >   #define OUT_EOL      Chr( 10 )
> > what will resolve the stairs effect problem in output from embedded
> > Harbour compiler.
> That's okay, I'll change it when the core function 
> is in place.

Thank you very much.

best regards,
Przemek
From dbtopas at dbtopas.lt  Mon Nov 30 19:49:23 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 19:51:12 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <2F4F3B1A-E3CB-48D0-AEAB-9B9BB9CB68B0@syenar.hu>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>	<4B144033.50604@dbtopas.lt>	<B74D0066-8047-4A68-BE50-BB3AA3535909@syenar.hu>	<4B145252.2030205@dbtopas.lt>	<6897AAAF-BF8D-41AF-ABC5-346163386983@syenar.hu>	<4B145F3E.8050501@dbtopas.lt>
	<2F4F3B1A-E3CB-48D0-AEAB-9B9BB9CB68B0@syenar.hu>
Message-ID: <4B146813.2010007@dbtopas.lt>

Hi,


Viktor Szak?ts wrote:
> And we have both libpng and zlib hosted in our tree 
> with static builds. It'd be nice to make cairo use 
> them.

I haven't noticed we have libpng in /external. So, by copying:
     c:\harbour\lib\win\mingw\liblibpng.a to c:\mingw\lib\libpng12.dll.a
(this time names are double checked and correct, we have double lib 
before png) and rebuilding cairo, I have libcairo-2.dll dependent only 
on system dlls.

It is compiled using mingw, but plays well with all 4 samples compiled 
with BCC. (I know I should not mix .dlls from different compilers, but I 
always do it with success :) ). If you are interested, you can take it 
from: dbtopas.lt/hrb/libcairo-2.dll


Regards,
Mindaugas
From bedipritpal at hotmail.com  Mon Nov 30 20:26:58 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Nov 30 20:27:06 2009
Subject: [Harbour] How to build hbide with hbqt static libs?
In-Reply-To: <1A2D6E300D9F4F41986EC6D5387A05DA@noteleo>
References: <FE7358AD4A8045778F6E3F1EDC6BFE0F@noteleo>
	<E8D15C0B-F956-42A6-A893-83E04A8EB834@syenar.hu>
	<F2F551868BF74D95906D45C29F2B953A@noteleo>
	<1A2D6E300D9F4F41986EC6D5387A05DA@noteleo>
Message-ID: <26585119.post@talk.nabble.com>


Hi


Tecnologia-2 wrote:
> 
> After building QT static libs it was possible to build hbide linked 
> statically to qt.
> 
> The hbide main window opens ok and most the controls function well, but
> the 
> source button which results in Visual C++ Runtime Library error message 
> "This application has requested the Runtime to terminate it an unusual
> way. 
> Please contact the application's support team for more information".
> 
> Seems to be a xbpFileDialog problem in hbide:selectSource method.
> 

Can you post thus statically linked hbide.exe ( in a zip format as it will
be huge )
somewhere on the web so that I can download to visualize what exactly is
happening.

Regards
Pritpal Bedi


-- 
View this message in context: http://old.nabble.com/How-to-build-hbide-with-hbqt-static-libs--tp26541396p26585119.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Mon Nov 30 20:52:22 2009
From: harbour.01 at syenar.hu (=?iso-8859-1?Q?Viktor_Szak=E1ts?=)
Date: Mon Nov 30 20:52:34 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <4B146813.2010007@dbtopas.lt>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>	<4B144033.50604@dbtopas.lt>	<B74D0066-8047-4A68-BE50-BB3AA3535909@syenar.hu>	<4B145252.2030205@dbtopas.lt>	<6897AAAF-BF8D-41AF-ABC5-346163386983@syenar.hu>	<4B145F3E.8050501@dbtopas.lt>
	<2F4F3B1A-E3CB-48D0-AEAB-9B9BB9CB68B0@syenar.hu>
	<4B146813.2010007@dbtopas.lt>
Message-ID: <67387030-B091-46BB-A35A-D3560C8FB354@syenar.hu>

>> And we have both libpng and zlib hosted in our tree with static builds. It'd be nice to make cairo use them.
> 
> I haven't noticed we have libpng in /external. So, by copying:
>    c:\harbour\lib\win\mingw\liblibpng.a to c:\mingw\lib\libpng12.dll.a
> (this time names are double checked and correct, we have double lib before png) and rebuilding cairo, I have libcairo-2.dll dependent only on system dlls.

That's good.

> It is compiled using mingw, but plays well with all 4 samples compiled with BCC. (I know I should not mix .dlls from different compilers, but I always do it with success :) ). If you are interested, you can take it from: dbtopas.lt/hrb/libcairo-2.dll

Thank you. IMO one of the main points of .dlls is that you can 
mix compilers. BCC is a strange beast in this regard due to proprietary 
name mangling. Plus C++ in general is also a b*tch, but anyway. Too bad 
it's difficult to create .dlls which work equally well with all compilers.
But, Windows .dlls has done it, so it's possible (with some limitations 
and effort).

I've retested fancytxt.prg with BCC and MinGW, and I'm getting usual 
results: BCC works, MinGW GPFs. Dunno what could be the reason, it's 
possible my MinGW build is hosed.

Brgds,
Viktor

From harbour.01 at syenar.hu  Mon Nov 30 20:53:57 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 30 20:54:05 2009
Subject: [Harbour] src/compiler
In-Reply-To: <20091201004930.GA25734@linux-4bod.home.aster.pl>
References: <4B13F25F.2080200@libero.it>
	<20091130181659.GA19530@linux-4bod.home.aster.pl>
	<617D0310-FE72-4C98-B002-C1C8F8BCB7A0@syenar.hu>
	<20091130213635.GB23446@linux-4bod.home.aster.pl>
	<30FFD1CF-570C-46C0-B62D-FBCC0B896EE0@syenar.hu>
	<20091130221708.GA23876@linux-4bod.home.aster.pl>
	<2D5A866D-6EF6-4A56-B714-7325E91ECC88@syenar.hu>
	<20091130234636.GB24394@linux-4bod.home.aster.pl>
	<97BE9542-5986-42B5-857C-AC0B589268FF@syenar.hu>
	<20091201004930.GA25734@linux-4bod.home.aster.pl>
Message-ID: <BC9D9D92-DDCA-490C-96D3-20B7C8AF93A3@syenar.hu>

> In *nixes we can check if output is TTY device.
> If not then we it's redirected to sth else, i.e. pipe, file, socket.
> In filesys.c hb_fsIsDevice() function can be used for it and in *nixes
> it will work as we want but I do not know how it will work in MS-Windows
> with different shells (i.e. CMD.EXE and MSys) for different redirecting
> types (pipe (|) or file (>)).
> We should make some tests. Also in OS/2 for GCC and OpenWatcom builds.
> This code can be used for tests:
> 
>   proc main()
>   ? "0:", HB_FISDEVICE( 0 )
>   ? "1:", HB_FISDEVICE( 1 )
>   ? "2:", HB_FISDEVICE( 2 )
>   return
>   #pragma begindump
>   #include "hbapifs.h"
>   HB_FUNC( HB_FISDEVICE )
>   {
>      hb_retl( hb_fsIsDevice( hb_numToHandle( hb_parnint( 1 ) ) ) );
>   }
>   #pragma enddump

Looks good on win, I'm getting .F. on 1 and 2 if I 
redirect output to a file.

>>> If you can also replace all hb_osNewLine() used in output with some macro
>>> like:
>>>  #define OUT_EOL      hb_osNewLine()
>>> then later we can easy switch to OS level EOL translation by adding:
>>>  hb_osTextOutputMode( .T. ) // or any other name you may suggest
>> How about this:
>>   hb_osOutputMode( FD_TEXT )
>> Or:
>>   hb_osOutputTextMode( .T. )
> 
> Oops. I've forgot that FD_* constants are in .ch file for CL53 FSETDEVMOD()
> functions so we already have everything in core code so please simply add:
>   FSETDEVMOD( 1, FD_TEXT )
>   FSETDEVMOD( 2, FD_TEXT )
> or if you want to make it in more generic way which will work also for
> multi GT output (i.e. with some code which allocates many different GTCGI
> drivers with different redirection) then make:
>   FSETDEVMOD( hb_gtInfo( HB_GTI_OUTPUTFD ), FD_TEXT )
>   FSETDEVMOD( hb_gtInfo( HB_GTI_ERRORFD ), FD_TEXT )

Will commit it ASAP, I hope Maurilio can test it then.

>>> and changing this macro to:
>>>  #define OUT_EOL      Chr( 10 )
>>> what will resolve the stairs effect problem in output from embedded
>>> Harbour compiler.
>> That's okay, I'll change it when the core function 
>> is in place.
> 
> Thank you very much.

You're welcome.

Brgds,
Viktor

From vszakats at users.sourceforge.net  Mon Nov 30 20:58:45 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 30 20:58:52 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13080] trunk/harbour
Message-ID: <E1NFI0r-0004Gv-Mj@c3vjzd1.ch3.sourceforge.com>

Revision: 13080
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13080&view=rev
Author:   vszakats
Date:     2009-12-01 01:58:44 +0000 (Tue, 01 Dec 2009)

Log Message:
-----------
2009-12-01 02:35 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    + Setting std and err output handles to text mode as an attempt
      to fix OS/2 (and MS-DOS) jagged output.
    * At the same time changed to use Chr( 10 ) instead of hb_osNewLine() 
      to send EOL to std and err outputs.
    ; Thanks Przemek for the help.

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From vszakats at users.sourceforge.net  Mon Nov 30 21:00:50 2009
From: vszakats at users.sourceforge.net (vszakats@users.sourceforge.net)
Date: Mon Nov 30 21:00:57 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13081] trunk/harbour
Message-ID: <E1NFI2s-0004K6-Vx@c3vjzd1.ch3.sourceforge.com>

Revision: 13081
          http://harbour-project.svn.sourceforge.net/harbour-project/?rev=13081&view=rev
Author:   vszakats
Date:     2009-12-01 02:00:44 +0000 (Tue, 01 Dec 2009)

Log Message:
-----------
2009-12-01 02:35 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
  * utils/hbmk2/hbmk2.prg
    ! Ops forgot to switch macro to Chr( 10 ) from hb_osNewLine().

Modified Paths:
--------------
    trunk/harbour/ChangeLog
    trunk/harbour/utils/hbmk2/hbmk2.prg


This was sent by the SourceForge.net collaborative development platform, the world's largest Open Source development site.
From dbtopas at dbtopas.lt  Mon Nov 30 21:15:43 2009
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Nov 30 21:17:32 2009
Subject: [Harbour] SF.net SVN: harbour-project:[13076] trunk/harbour
In-Reply-To: <994F807E-D192-478B-8560-69F71A0D113A@syenar.hu>
References: <E1NFDi2-0006CG-Q0@3kljzd1.ch3.sourceforge.com>	<78692719-27AE-4092-8784-425BA8F94042@syenar.hu>	<4B144033.50604@dbtopas.lt>	<B74D0066-8047-4A68-BE50-BB3AA3535909@syenar.hu>	<4B145252.2030205@dbtopas.lt>	<6897AAAF-BF8D-41AF-ABC5-346163386983@syenar.hu>	<4B145F3E.8050501@dbtopas.lt>	<2F4F3B1A-E3CB-48D0-AEAB-9B9BB9CB68B0@syenar.hu>	<4B146362.9020409@dbtopas.lt>
	<994F807E-D192-478B-8560-69F71A0D113A@syenar.hu>
Message-ID: <4B147C4F.4040903@dbtopas.lt>

Hi,


Viktor Szak?ts wrote:
> BTW, I managed to build fancytxt using bcc 5.5 and 
> it works with the same .dlls which failed so badly 
> with mingw.

> Application Internal Error - F:\work\harbour\harbour\contrib\hbcairo\tests\fancytxt.exe
> Terminated at: 2009.11.30 22:44:06
> Unrecoverable error 6005: Exception error: 

I'll try to make a guess :) Force rebuilding of hbvm library and mingw 
will work. You get GPF in hb_strfree(). VM library was not rebuild 
because hbvmall.c is not touched.


I've also to make more test with mingw.

Try 1 (fully statical link):
I've tried to build sample using statically linked cairo. I've took 
static libraries from my mingw/msys cairo build: 
cairo-1.9.4/src/.libs/libcairo.a and 
pixman-0.17.2/pixman/.libs/libpixman-1.a and copied it to 
harbour/lib/win/mingw
   hbmk2 hellow.prg -lpixman-1
linked .exe successfully, but it produces strange output:
This application has requested the Runtime to terminate it in an unusual 
way. Please contact the application's support team for more information.


Try 2 (dynamic single dll cairo library with mingw compiled .exe ):
I've took cairo-1.9.4/src/.libs/libcairo.dll.def and executed
   dlltool -d libcairo.dll.def -l libcairo.a
Copied this .a to harbour/lib/win/mingw and compiled executable:
   hbmk2 hellow.prg

It works!




Regards,
Mindaugas
From tech at 2dinfo.com.br  Mon Nov 30 22:18:25 2009
From: tech at 2dinfo.com.br (Leandro Damasio)
Date: Mon Nov 30 21:19:01 2009
Subject: [Harbour] How to build hbide with hbqt static libs?
In-Reply-To: <26585119.post@talk.nabble.com>
References: <FE7358AD4A8045778F6E3F1EDC6BFE0F@noteleo><E8D15C0B-F956-42A6-A893-83E04A8EB834@syenar.hu><F2F551868BF74D95906D45C29F2B953A@noteleo><1A2D6E300D9F4F41986EC6D5387A05DA@noteleo>
	<26585119.post@talk.nabble.com>
Message-ID: <D8B59372CE0743CCA12F20A9823F3EDC@noteleo>

Hi

>
> Can you post thus statically linked hbide.exe ( in a zip format as it will
> be huge )
> somewhere on the web so that I can download to visualize what exactly is
> happening.
>
> Regards
> Pritpal Bedi
>

Yes, you can download it at http://www.2dinfo.com.br/2dinfo/hbide.zip

Brgds
Leandro Damasio 

From druzus at acn.waw.pl  Mon Nov 30 21:45:59 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 30 21:46:07 2009
Subject: [Harbour] src/compiler
In-Reply-To: <BC9D9D92-DDCA-490C-96D3-20B7C8AF93A3@syenar.hu>
References: <20091130181659.GA19530@linux-4bod.home.aster.pl>
	<617D0310-FE72-4C98-B002-C1C8F8BCB7A0@syenar.hu>
	<20091130213635.GB23446@linux-4bod.home.aster.pl>
	<30FFD1CF-570C-46C0-B62D-FBCC0B896EE0@syenar.hu>
	<20091130221708.GA23876@linux-4bod.home.aster.pl>
	<2D5A866D-6EF6-4A56-B714-7325E91ECC88@syenar.hu>
	<20091130234636.GB24394@linux-4bod.home.aster.pl>
	<97BE9542-5986-42B5-857C-AC0B589268FF@syenar.hu>
	<20091201004930.GA25734@linux-4bod.home.aster.pl>
	<BC9D9D92-DDCA-490C-96D3-20B7C8AF93A3@syenar.hu>
Message-ID: <20091201024559.GA27188@linux-4bod.home.aster.pl>

On Tue, 01 Dec 2009, Szak?ts Viktor wrote:
> > If not then we it's redirected to sth else, i.e. pipe, file, socket.
> > In filesys.c hb_fsIsDevice() function can be used for it and in *nixes
> > it will work as we want but I do not know how it will work in MS-Windows
> > with different shells (i.e. CMD.EXE and MSys) for different redirecting
> > types (pipe (|) or file (>)).
> > We should make some tests. Also in OS/2 for GCC and OpenWatcom builds.
> > This code can be used for tests:
> >   proc main()
> >   ? "0:", HB_FISDEVICE( 0 )
> >   ? "1:", HB_FISDEVICE( 1 )
> >   ? "2:", HB_FISDEVICE( 2 )
> >   return
> >   #pragma begindump
> >   #include "hbapifs.h"
> >   HB_FUNC( HB_FISDEVICE )
> >   {
> >      hb_retl( hb_fsIsDevice( hb_numToHandle( hb_parnint( 1 ) ) ) );
> >   }
> >   #pragma enddump
> Looks good on win, I'm getting .F. on 1 and 2 if I 
> redirect output to a file.

Fine. Please also check
   tst.exe | grep .
to check the results for pipes.
I've just check that in DOS OpenWatcom builds it works as we want.

> > Oops. I've forgot that FD_* constants are in .ch file for CL53 FSETDEVMOD()
> > functions so we already have everything in core code so please simply add:
> >   FSETDEVMOD( 1, FD_TEXT )
> >   FSETDEVMOD( 2, FD_TEXT )
> > or if you want to make it in more generic way which will work also for
> > multi GT output (i.e. with some code which allocates many different GTCGI
> > drivers with different redirection) then make:
> >   FSETDEVMOD( hb_gtInfo( HB_GTI_OUTPUTFD ), FD_TEXT )
> >   FSETDEVMOD( hb_gtInfo( HB_GTI_ERRORFD ), FD_TEXT )
> Will commit it ASAP, I hope Maurilio can test it then.

I tested DOS OpenWatcom builds and it resolved the problem.

BTW in most of cases we expanded names of Clipper functions cut to 10
characters, i.e. dbSelectArea(). Maybe we should also change FSetDevMod()
to FSetDevMode()?

best regards,
Przemek
From harbour.01 at syenar.hu  Mon Nov 30 22:17:59 2009
From: harbour.01 at syenar.hu (=?utf-8?Q?Viktor_Szak=C3=A1ts?=)
Date: Mon Nov 30 22:18:08 2009
Subject: [Harbour] src/compiler
In-Reply-To: <20091201024559.GA27188@linux-4bod.home.aster.pl>
References: <20091130181659.GA19530@linux-4bod.home.aster.pl>
	<617D0310-FE72-4C98-B002-C1C8F8BCB7A0@syenar.hu>
	<20091130213635.GB23446@linux-4bod.home.aster.pl>
	<30FFD1CF-570C-46C0-B62D-FBCC0B896EE0@syenar.hu>
	<20091130221708.GA23876@linux-4bod.home.aster.pl>
	<2D5A866D-6EF6-4A56-B714-7325E91ECC88@syenar.hu>
	<20091130234636.GB24394@linux-4bod.home.aster.pl>
	<97BE9542-5986-42B5-857C-AC0B589268FF@syenar.hu>
	<20091201004930.GA25734@linux-4bod.home.aster.pl>
	<BC9D9D92-DDCA-490C-96D3-20B7C8AF93A3@syenar.hu>
	<20091201024559.GA27188@linux-4bod.home.aster.pl>
Message-ID: <9FF42A40-A4B6-403A-903E-FD2365E17975@syenar.hu>

>>>  #pragma begindump
>>>  #include "hbapifs.h"
>>>  HB_FUNC( HB_FISDEVICE )
>>>  {
>>>     hb_retl( hb_fsIsDevice( hb_numToHandle( hb_parnint( 1 ) ) ) );
>>>  }
>>>  #pragma enddump
>> Looks good on win, I'm getting .F. on 1 and 2 if I 
>> redirect output to a file.
> 
> Fine. Please also check
>   tst.exe | grep .
> to check the results for pipes.
> I've just check that in DOS OpenWatcom builds it works as we want.

Works fine with mingw + cmd.exe.
Also works fine with mingw + msys.

>>> Oops. I've forgot that FD_* constants are in .ch file for CL53 FSETDEVMOD()
>>> functions so we already have everything in core code so please simply add:
>>>  FSETDEVMOD( 1, FD_TEXT )
>>>  FSETDEVMOD( 2, FD_TEXT )
>>> or if you want to make it in more generic way which will work also for
>>> multi GT output (i.e. with some code which allocates many different GTCGI
>>> drivers with different redirection) then make:
>>>  FSETDEVMOD( hb_gtInfo( HB_GTI_OUTPUTFD ), FD_TEXT )
>>>  FSETDEVMOD( hb_gtInfo( HB_GTI_ERRORFD ), FD_TEXT )
>> Will commit it ASAP, I hope Maurilio can test it then.
> 
> I tested DOS OpenWatcom builds and it resolved the problem.
> 
> BTW in most of cases we expanded names of Clipper functions cut to 10
> characters, i.e. dbSelectArea(). Maybe we should also change FSetDevMod()
> to FSetDevMode()?

That's a good question. Maybe the best solution would be to 
add it as HB_FSETDEVMODE() and leave FSETDEVMOD() as 
a compatibility wrapper.

This also helps hbmk2 to build when HB_COMPAT_C53 is disabled.

[ BTW it's not fully compatible, as C5.3 returned the old 
dev mode value. ]

Brgds,
Viktor

From druzus at acn.waw.pl  Mon Nov 30 22:48:51 2009
From: druzus at acn.waw.pl (=?utf-8?Q?Przemys=C5=82aw?= Czerpak)
Date: Mon Nov 30 22:48:58 2009
Subject: [Harbour] src/compiler
In-Reply-To: <9FF42A40-A4B6-403A-903E-FD2365E17975@syenar.hu>
References: <20091130213635.GB23446@linux-4bod.home.aster.pl>
	<30FFD1CF-570C-46C0-B62D-FBCC0B896EE0@syenar.hu>
	<20091130221708.GA23876@linux-4bod.home.aster.pl>
	<2D5A866D-6EF6-4A56-B714-7325E91ECC88@syenar.hu>
	<20091130234636.GB24394@linux-4bod.home.aster.pl>
	<97BE9542-5986-42B5-857C-AC0B589268FF@syenar.hu>
	<20091201004930.GA25734@linux-4bod.home.aster.pl>
	<BC9D9D92-DDCA-490C-96D3-20B7C8AF93A3@syenar.hu>
	<20091201024559.GA27188@linux-4bod.home.aster.pl>
	<9FF42A40-A4B6-403A-903E-FD2365E17975@syenar.hu>
Message-ID: <20091201034851.GA27888@linux-4bod.home.aster.pl>

On Tue, 01 Dec 2009, Szak?ts Viktor wrote:
> > Fine. Please also check
> >   tst.exe | grep .
> > to check the results for pipes.
> > I've just check that in DOS OpenWatcom builds it works as we want.
> Works fine with mingw + cmd.exe.
> Also works fine with mingw + msys.

In DJGPP builds with COMMAND.COM and BASH also works as expected
so only OS/2 builds should be verified yet.

> >>> Oops. I've forgot that FD_* constants are in .ch file for CL53 FSETDEVMOD()
> >>> functions so we already have everything in core code so please simply add:
> >>>  FSETDEVMOD( 1, FD_TEXT )
> >>>  FSETDEVMOD( 2, FD_TEXT )
> >>> or if you want to make it in more generic way which will work also for
> >>> multi GT output (i.e. with some code which allocates many different GTCGI
> >>> drivers with different redirection) then make:
> >>>  FSETDEVMOD( hb_gtInfo( HB_GTI_OUTPUTFD ), FD_TEXT )
> >>>  FSETDEVMOD( hb_gtInfo( HB_GTI_ERRORFD ), FD_TEXT )
> >> Will commit it ASAP, I hope Maurilio can test it then.
> > I tested DOS OpenWatcom builds and it resolved the problem.

Also in DJGPP builds.

> > BTW in most of cases we expanded names of Clipper functions cut to 10
> > characters, i.e. dbSelectArea(). Maybe we should also change FSetDevMod()
> > to FSetDevMode()?
> That's a good question. Maybe the best solution would be to 
> add it as HB_FSETDEVMODE() and leave FSETDEVMOD() as 
> a compatibility wrapper.
> This also helps hbmk2 to build when HB_COMPAT_C53 is disabled.

So let's add HB_FSETDEVMODE()

> [ BTW it's not fully compatible, as C5.3 returned the old 
> dev mode value. ]

Yes, I know. I think we should change:
   BOOL hb_fsSetDevMode( HB_FHANDLE hFileHandle, USHORT uiDevMode )
to:
   int hb_fsSetDevMode( HB_FHANDLE hFileHandle, int iDevMode )

and also return previous value or -1 on error and then update FSETDEVMOD()
to work like in Clipper. I can make such modification.

best regards,
Przemek
From bedipritpal at hotmail.com  Mon Nov 30 22:26:35 2009
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Nov 30 23:23:32 2009
Subject: [Harbour] How to build hbide with hbqt static libs?
In-Reply-To: <D8B59372CE0743CCA12F20A9823F3EDC@noteleo>
References: <FE7358AD4A8045778F6E3F1EDC6BFE0F@noteleo>
	<E8D15C0B-F956-42A6-A893-83E04A8EB834@syenar.hu>
	<F2F551868BF74D95906D45C29F2B953A@noteleo>
	<1A2D6E300D9F4F41986EC6D5387A05DA@noteleo>
	<26585119.post@talk.nabble.com>
	<D8B59372CE0743CCA12F20A9823F3EDC@noteleo>
Message-ID: <26585951.post@talk.nabble.com>


Hi


Tecnologia-2 wrote:
> 
> Yes, you can download it at http://www.2dinfo.com.br/2dinfo/hbide.zip
> 

Thank you.

I confirm that "Open" icon generates GPF in static build and 
for sure it is linked with QFileDialog(). 

Regards
Pritpal Bedi

-- 
View this message in context: http://old.nabble.com/How-to-build-hbide-with-hbqt-static-libs--tp26541396p26585951.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

